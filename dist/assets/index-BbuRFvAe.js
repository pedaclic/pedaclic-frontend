function uV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function es(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ex={exports:{}},zf={};var RC;function dV(){if(RC)return zf;RC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var c=null;if(s!==void 0&&(c=""+s),i.key!==void 0&&(c=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:c,ref:i!==void 0?i:null,props:s}}return zf.Fragment=e,zf.jsx=n,zf.jsxs=n,zf}var kC;function fV(){return kC||(kC=1,Ex.exports=dV()),Ex.exports}var o=fV(),Nx={exports:{}},Xe={};var DC;function hV(){if(DC)return Xe;DC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function x(F){return F===null||typeof F!="object"?null:(F=y&&F[y]||F["@@iterator"],typeof F=="function"?F:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,N={};function A(F,ne,ge){this.props=F,this.context=ne,this.refs=N,this.updater=ge||E}A.prototype.isReactComponent={},A.prototype.setState=function(F,ne){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ne,"setState")},A.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function R(){}R.prototype=A.prototype;function O(F,ne,ge){this.props=F,this.context=ne,this.refs=N,this.updater=ge||E}var C=O.prototype=new R;C.constructor=O,w(C,A.prototype),C.isPureReactComponent=!0;var V=Array.isArray;function $(){}var D={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function k(F,ne,ge){var je=ge.ref;return{$$typeof:t,type:F,key:ne,ref:je!==void 0?je:null,props:ge}}function q(F,ne){return k(F.type,ne,F.props)}function L(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function M(F){var ne={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ge){return ne[ge]})}var U=/\/+/g;function X(F,ne){return typeof F=="object"&&F!==null&&F.key!=null?M(""+F.key):ne.toString(36)}function Q(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then($,$):(F.status="pending",F.then(function(ne){F.status==="pending"&&(F.status="fulfilled",F.value=ne)},function(ne){F.status==="pending"&&(F.status="rejected",F.reason=ne)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function H(F,ne,ge,je,Z){var re=typeof F;(re==="undefined"||re==="boolean")&&(F=null);var pe=!1;if(F===null)pe=!0;else switch(re){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(F.$$typeof){case t:case e:pe=!0;break;case p:return pe=F._init,H(pe(F._payload),ne,ge,je,Z)}}if(pe)return Z=Z(F),pe=je===""?"."+X(F,0):je,V(Z)?(ge="",pe!=null&&(ge=pe.replace(U,"$&/")+"/"),H(Z,ne,ge,"",function(Se){return Se})):Z!=null&&(L(Z)&&(Z=q(Z,ge+(Z.key==null||F&&F.key===Z.key?"":(""+Z.key).replace(U,"$&/")+"/")+pe)),ne.push(Z)),1;pe=0;var Me=je===""?".":je+":";if(V(F))for(var oe=0;oe<F.length;oe++)je=F[oe],re=Me+X(je,oe),pe+=H(je,ne,ge,re,Z);else if(oe=x(F),typeof oe=="function")for(F=oe.call(F),oe=0;!(je=F.next()).done;)je=je.value,re=Me+X(je,oe++),pe+=H(je,ne,ge,re,Z);else if(re==="object"){if(typeof F.then=="function")return H(Q(F),ne,ge,je,Z);throw ne=String(F),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return pe}function ce(F,ne,ge){if(F==null)return F;var je=[],Z=0;return H(F,je,"","",function(re){return ne.call(ge,re,Z++)}),je}function Y(F){if(F._status===-1){var ne=F._result;ne=ne(),ne.then(function(ge){(F._status===0||F._status===-1)&&(F._status=1,F._result=ge)},function(ge){(F._status===0||F._status===-1)&&(F._status=2,F._result=ge)}),F._status===-1&&(F._status=0,F._result=ne)}if(F._status===1)return F._result.default;throw F._result}var _e=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},W={map:ce,forEach:function(F,ne,ge){ce(F,function(){ne.apply(this,arguments)},ge)},count:function(F){var ne=0;return ce(F,function(){ne++}),ne},toArray:function(F){return ce(F,function(ne){return ne})||[]},only:function(F){if(!L(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Xe.Activity=g,Xe.Children=W,Xe.Component=A,Xe.Fragment=n,Xe.Profiler=i,Xe.PureComponent=O,Xe.StrictMode=r,Xe.Suspense=f,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(F){return D.H.useMemoCache(F)}},Xe.cache=function(F){return function(){return F.apply(null,arguments)}},Xe.cacheSignal=function(){return null},Xe.cloneElement=function(F,ne,ge){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var je=w({},F.props),Z=F.key;if(ne!=null)for(re in ne.key!==void 0&&(Z=""+ne.key),ne)!I.call(ne,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&ne.ref===void 0||(je[re]=ne[re]);var re=arguments.length-2;if(re===1)je.children=ge;else if(1<re){for(var pe=Array(re),Me=0;Me<re;Me++)pe[Me]=arguments[Me+2];je.children=pe}return k(F.type,Z,je)},Xe.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},Xe.createElement=function(F,ne,ge){var je,Z={},re=null;if(ne!=null)for(je in ne.key!==void 0&&(re=""+ne.key),ne)I.call(ne,je)&&je!=="key"&&je!=="__self"&&je!=="__source"&&(Z[je]=ne[je]);var pe=arguments.length-2;if(pe===1)Z.children=ge;else if(1<pe){for(var Me=Array(pe),oe=0;oe<pe;oe++)Me[oe]=arguments[oe+2];Z.children=Me}if(F&&F.defaultProps)for(je in pe=F.defaultProps,pe)Z[je]===void 0&&(Z[je]=pe[je]);return k(F,re,Z)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(F){return{$$typeof:u,render:F}},Xe.isValidElement=L,Xe.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:Y}},Xe.memo=function(F,ne){return{$$typeof:h,type:F,compare:ne===void 0?null:ne}},Xe.startTransition=function(F){var ne=D.T,ge={};D.T=ge;try{var je=F(),Z=D.S;Z!==null&&Z(ge,je),typeof je=="object"&&je!==null&&typeof je.then=="function"&&je.then($,_e)}catch(re){_e(re)}finally{ne!==null&&ge.types!==null&&(ne.types=ge.types),D.T=ne}},Xe.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Xe.use=function(F){return D.H.use(F)},Xe.useActionState=function(F,ne,ge){return D.H.useActionState(F,ne,ge)},Xe.useCallback=function(F,ne){return D.H.useCallback(F,ne)},Xe.useContext=function(F){return D.H.useContext(F)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(F,ne){return D.H.useDeferredValue(F,ne)},Xe.useEffect=function(F,ne){return D.H.useEffect(F,ne)},Xe.useEffectEvent=function(F){return D.H.useEffectEvent(F)},Xe.useId=function(){return D.H.useId()},Xe.useImperativeHandle=function(F,ne,ge){return D.H.useImperativeHandle(F,ne,ge)},Xe.useInsertionEffect=function(F,ne){return D.H.useInsertionEffect(F,ne)},Xe.useLayoutEffect=function(F,ne){return D.H.useLayoutEffect(F,ne)},Xe.useMemo=function(F,ne){return D.H.useMemo(F,ne)},Xe.useOptimistic=function(F,ne){return D.H.useOptimistic(F,ne)},Xe.useReducer=function(F,ne,ge){return D.H.useReducer(F,ne,ge)},Xe.useRef=function(F){return D.H.useRef(F)},Xe.useState=function(F){return D.H.useState(F)},Xe.useSyncExternalStore=function(F,ne,ge){return D.H.useSyncExternalStore(F,ne,ge)},Xe.useTransition=function(){return D.H.useTransition()},Xe.version="19.2.4",Xe}var MC;function yd(){return MC||(MC=1,Nx.exports=hV()),Nx.exports}var j=yd();const WD=es(j),YD=uV({__proto__:null,default:WD},[j]);var Sx={exports:{}},Lf={},Ax={exports:{}},Tx={};var zC;function mV(){return zC||(zC=1,(function(t){function e(H,ce){var Y=H.length;H.push(ce);e:for(;0<Y;){var _e=Y-1>>>1,W=H[_e];if(0<i(W,ce))H[_e]=ce,H[Y]=W,Y=_e;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ce=H[0],Y=H.pop();if(Y!==ce){H[0]=Y;e:for(var _e=0,W=H.length,F=W>>>1;_e<F;){var ne=2*(_e+1)-1,ge=H[ne],je=ne+1,Z=H[je];if(0>i(ge,Y))je<W&&0>i(Z,ge)?(H[_e]=Z,H[je]=Y,_e=je):(H[_e]=ge,H[ne]=Y,_e=ne);else if(je<W&&0>i(Z,Y))H[_e]=Z,H[je]=Y,_e=je;else break e}}return ce}function i(H,ce){var Y=H.sortIndex-ce.sortIndex;return Y!==0?Y:H.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],h=[],p=1,g=null,y=3,x=!1,E=!1,w=!1,N=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function C(H){for(var ce=n(h);ce!==null;){if(ce.callback===null)r(h);else if(ce.startTime<=H)r(h),ce.sortIndex=ce.expirationTime,e(f,ce);else break;ce=n(h)}}function V(H){if(w=!1,C(H),!E)if(n(f)!==null)E=!0,$||($=!0,M());else{var ce=n(h);ce!==null&&Q(V,ce.startTime-H)}}var $=!1,D=-1,I=5,k=-1;function q(){return N?!0:!(t.unstable_now()-k<I)}function L(){if(N=!1,$){var H=t.unstable_now();k=H;var ce=!0;try{e:{E=!1,w&&(w=!1,R(D),D=-1),x=!0;var Y=y;try{t:{for(C(H),g=n(f);g!==null&&!(g.expirationTime>H&&q());){var _e=g.callback;if(typeof _e=="function"){g.callback=null,y=g.priorityLevel;var W=_e(g.expirationTime<=H);if(H=t.unstable_now(),typeof W=="function"){g.callback=W,C(H),ce=!0;break t}g===n(f)&&r(f),C(H)}else r(f);g=n(f)}if(g!==null)ce=!0;else{var F=n(h);F!==null&&Q(V,F.startTime-H),ce=!1}}break e}finally{g=null,y=Y,x=!1}ce=void 0}}finally{ce?M():$=!1}}}var M;if(typeof O=="function")M=function(){O(L)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,X=U.port2;U.port1.onmessage=L,M=function(){X.postMessage(null)}}else M=function(){A(L,0)};function Q(H,ce){D=A(function(){H(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(H){switch(y){case 1:case 2:case 3:var ce=3;break;default:ce=y}var Y=y;y=ce;try{return H()}finally{y=Y}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(H,ce){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=y;y=H;try{return ce()}finally{y=Y}},t.unstable_scheduleCallback=function(H,ce,Y){var _e=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?_e+Y:_e):Y=_e,H){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=Y+W,H={id:p++,callback:ce,priorityLevel:H,startTime:Y,expirationTime:W,sortIndex:-1},Y>_e?(H.sortIndex=Y,e(h,H),n(f)===null&&H===n(h)&&(w?(R(D),D=-1):w=!0,Q(V,Y-_e))):(H.sortIndex=W,e(f,H),E||x||(E=!0,$||($=!0,M()))),H},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(H){var ce=y;return function(){var Y=y;y=ce;try{return H.apply(this,arguments)}finally{y=Y}}}})(Tx)),Tx}var LC;function pV(){return LC||(LC=1,Ax.exports=mV()),Ax.exports}var Cx={exports:{}},gr={};var qC;function gV(){if(qC)return gr;qC=1;var t=yd();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return gr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},gr.flushSync=function(f){var h=c.T,p=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=h,r.p=p,r.d.f()}},gr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},gr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},gr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:x}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},gr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},gr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},gr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},gr.requestFormReset=function(f){r.d.r(f)},gr.unstable_batchedUpdates=function(f,h){return f(h)},gr.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},gr.useFormStatus=function(){return c.H.useHostTransitionStatus()},gr.version="19.2.4",gr}var UC;function XD(){if(UC)return Cx.exports;UC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cx.exports=gV(),Cx.exports}var VC;function vV(){if(VC)return Lf;VC=1;var t=pV(),e=yd(),n=XD();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function c(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function h(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(r(188));return l!==a?null:a}for(var d=a,m=l;;){var b=d.return;if(b===null)break;var _=b.alternate;if(_===null){if(m=b.return,m!==null){d=m;continue}break}if(b.child===_.child){for(_=b.child;_;){if(_===d)return f(b),a;if(_===m)return f(b),l;_=_.sibling}throw Error(r(188))}if(d.return!==m.return)d=b,m=_;else{for(var T=!1,z=b.child;z;){if(z===d){T=!0,d=b,m=_;break}if(z===m){T=!0,m=b,d=_;break}z=z.sibling}if(!T){for(z=_.child;z;){if(z===d){T=!0,d=_,m=b;break}if(z===m){T=!0,m=_,d=b;break}z=z.sibling}if(!T)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:l}function p(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=p(a),l!==null)return l;a=a.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),O=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function M(a){return a===null||typeof a!="object"?null:(a=L&&a[L]||a["@@iterator"],typeof a=="function"?a:null)}var U=Symbol.for("react.client.reference");function X(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===U?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case A:return"Profiler";case N:return"StrictMode";case V:return"Suspense";case $:return"SuspenseList";case k:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case E:return"Portal";case O:return a.displayName||"Context";case R:return(a._context.displayName||"Context")+".Consumer";case C:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case D:return l=a.displayName||null,l!==null?l:X(a.type)||"Memo";case I:l=a._payload,a=a._init;try{return X(a(l))}catch{}}return null}var Q=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},_e=[],W=-1;function F(a){return{current:a}}function ne(a){0>W||(a.current=_e[W],_e[W]=null,W--)}function ge(a,l){W++,_e[W]=a.current,a.current=l}var je=F(null),Z=F(null),re=F(null),pe=F(null);function Me(a,l){switch(ge(re,l),ge(Z,a),ge(je,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?nC(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=nC(l),a=rC(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ne(je),ge(je,a)}function oe(){ne(je),ne(Z),ne(re)}function Se(a){a.memoizedState!==null&&ge(pe,a);var l=je.current,d=rC(l,a.type);l!==d&&(ge(Z,a),ge(je,d))}function J(a){Z.current===a&&(ne(je),ne(Z)),pe.current===a&&(ne(pe),Rf._currentValue=Y)}var ve,ke;function Fe(a){if(ve===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);ve=l&&l[1]||"",ke=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+a+ke}var ot=!1;function ht(a,l){if(!a||ot)return"";ot=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(fe){var le=fe}Reflect.construct(a,[],xe)}else{try{xe.call()}catch(fe){le=fe}a.call(xe.prototype)}}else{try{throw Error()}catch(fe){le=fe}(xe=a())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(fe){if(fe&&le&&typeof fe.stack=="string")return[fe.stack,le.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=m.DetermineComponentFrameRoot(),T=_[0],z=_[1];if(T&&z){var G=T.split(`
`),se=z.split(`
`);for(b=m=0;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;for(;b<se.length&&!se[b].includes("DetermineComponentFrameRoot");)b++;if(m===G.length||b===se.length)for(m=G.length-1,b=se.length-1;1<=m&&0<=b&&G[m]!==se[b];)b--;for(;1<=m&&0<=b;m--,b--)if(G[m]!==se[b]){if(m!==1||b!==1)do if(m--,b--,0>b||G[m]!==se[b]){var me=`
`+G[m].replace(" at new "," at ");return a.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",a.displayName)),me}while(1<=m&&0<=b);break}}}finally{ot=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?Fe(d):""}function gt(a,l){switch(a.tag){case 26:case 27:case 5:return Fe(a.type);case 16:return Fe("Lazy");case 13:return a.child!==l&&l!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return ht(a.type,!1);case 11:return ht(a.type.render,!1);case 1:return ht(a.type,!0);case 31:return Fe("Activity");default:return""}}function mr(a){try{var l="",d=null;do l+=gt(a,d),d=a,a=a.return;while(a);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Rt=Object.prototype.hasOwnProperty,kt=t.unstable_scheduleCallback,zr=t.unstable_cancelCallback,he=t.unstable_shouldYield,Ie=t.unstable_requestPaint,Ve=t.unstable_now,Ke=t.unstable_getCurrentPriorityLevel,Vt=t.unstable_ImmediatePriority,zn=t.unstable_UserBlockingPriority,Lr=t.unstable_NormalPriority,ao=t.unstable_LowPriority,qr=t.unstable_IdlePriority,Hi=t.log,Gc=t.unstable_setDisableYieldValue,on=null,At=null;function Ur(a){if(typeof Hi=="function"&&Gc(a),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(on,a)}catch{}}var en=Math.clz32?Math.clz32:Kc,Nl=Math.log,so=Math.LN2;function Kc(a){return a>>>=0,a===0?32:31-(Nl(a)/so|0)|0}var bi=256,ns=262144,ln=4194304;function xi(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function pr(a,l,d){var m=a.pendingLanes;if(m===0)return 0;var b=0,_=a.suspendedLanes,T=a.pingedLanes;a=a.warmLanes;var z=m&134217727;return z!==0?(m=z&~_,m!==0?b=xi(m):(T&=z,T!==0?b=xi(T):d||(d=z&~a,d!==0&&(b=xi(d))))):(z=m&~_,z!==0?b=xi(z):T!==0?b=xi(T):d||(d=m&~a,d!==0&&(b=xi(d)))),b===0?0:l!==0&&l!==b&&(l&_)===0&&(_=b&-b,d=l&-l,_>=d||_===32&&(d&4194048)!==0)?l:b}function ti(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function te(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ue(){var a=ln;return ln<<=1,(ln&62914560)===0&&(ln=4194304),a}function vt(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function Fn(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Sl(a,l,d,m,b,_){var T=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var z=a.entanglements,G=a.expirationTimes,se=a.hiddenUpdates;for(d=T&~d;0<d;){var me=31-en(d),xe=1<<me;z[me]=0,G[me]=-1;var le=se[me];if(le!==null)for(se[me]=null,me=0;me<le.length;me++){var fe=le[me];fe!==null&&(fe.lane&=-536870913)}d&=~xe}m!==0&&_i(a,m,0),_!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=_&~(T&~l))}function _i(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var m=31-en(l);a.entangledLanes|=l,a.entanglements[m]=a.entanglements[m]|1073741824|d&261930}function zd(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var m=31-en(d),b=1<<m;b&l|a[m]&l&&(a[m]|=l),d&=~b}}function Ld(a,l){var d=l&-l;return d=(d&42)!==0?1:Al(d),(d&(a.suspendedLanes|l))!==0?0:d}function Al(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function rs(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Tm(){var a=ce.p;return a!==0?a:(a=window.event,a===void 0?32:SC(a.type))}function Gi(a,l){var d=ce.p;try{return ce.p=a,l()}finally{ce.p=d}}var Ki=Math.random().toString(36).slice(2),En="__reactFiber$"+Ki,Hn="__reactProps$"+Ki,pa="__reactContainer$"+Ki,Qc="__reactEvents$"+Ki,O0="__reactListeners$"+Ki,Cm="__reactHandles$"+Ki,Om="__reactResources$"+Ki,ga="__reactMarker$"+Ki;function Wc(a){delete a[En],delete a[Hn],delete a[Qc],delete a[O0],delete a[Cm]}function va(a){var l=a[En];if(l)return l;for(var d=a.parentNode;d;){if(l=d[pa]||d[En]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=uC(a);a!==null;){if(d=a[En])return d;a=uC(a)}return l}a=d,d=a.parentNode}return null}function wi(a){if(a=a[En]||a[pa]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function ni(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function ya(a){var l=a[Om];return l||(l=a[Om]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Nn(a){a[ga]=!0}var qd=new Set,Ud={};function ba(a,l){xa(a,l),xa(a+"Capture",l)}function xa(a,l){for(Ud[a]=l,a=0;a<l.length;a++)qd.add(l[a])}var Vd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bd={},$d={};function Pm(a){return Rt.call($d,a)?!0:Rt.call(Bd,a)?!1:Vd.test(a)?$d[a]=!0:(Bd[a]=!0,!1)}function Yc(a,l,d){if(Pm(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function ri(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function Sn(a,l,d,m){if(m===null)a.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+m)}}function Gn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function oo(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Fd(a,l,d){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var b=m.get,_=m.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return b.call(this)},set:function(T){d=""+T,_.call(this,T)}}),Object.defineProperty(a,l,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Tt(a){if(!a._valueTracker){var l=oo(a)?"checked":"value";a._valueTracker=Fd(a,l,""+a[l])}}function Tl(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return a&&(m=oo(a)?a.checked?"true":"false":a.value),a=m,a!==d?(l.setValue(a),!0):!1}function _a(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Cl=/[\n"\\]/g;function Vr(a){return a.replace(Cl,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Xc(a,l,d,m,b,_,T,z){a.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?a.type=T:a.removeAttribute("type"),l!=null?T==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Gn(l)):a.value!==""+Gn(l)&&(a.value=""+Gn(l)):T!=="submit"&&T!=="reset"||a.removeAttribute("value"),l!=null?Hd(a,T,Gn(l)):d!=null?Hd(a,T,Gn(d)):m!=null&&a.removeAttribute("value"),b==null&&_!=null&&(a.defaultChecked=!!_),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?a.name=""+Gn(z):a.removeAttribute("name")}function Im(a,l,d,m,b,_,T,z){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),l!=null||d!=null){if(!(_!=="submit"&&_!=="reset"||l!=null)){Tt(a);return}d=d!=null?""+Gn(d):"",l=l!=null?""+Gn(l):d,z||l===a.value||(a.value=l),a.defaultValue=l}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=z?a.checked:!!m,a.defaultChecked=!!m,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.name=T),Tt(a)}function Hd(a,l,d){l==="number"&&_a(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function lo(a,l,d,m){if(a=a.options,l){l={};for(var b=0;b<d.length;b++)l["$"+d[b]]=!0;for(d=0;d<a.length;d++)b=l.hasOwnProperty("$"+a[d].value),a[d].selected!==b&&(a[d].selected=b),b&&m&&(a[d].defaultSelected=!0)}else{for(d=""+Gn(d),l=null,b=0;b<a.length;b++){if(a[b].value===d){a[b].selected=!0,m&&(a[b].defaultSelected=!0);return}l!==null||a[b].disabled||(l=a[b])}l!==null&&(l.selected=!0)}}function Rm(a,l,d){if(l!=null&&(l=""+Gn(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+Gn(d):""}function co(a,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(r(92));if(Q(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=Gn(l),a.defaultValue=d,m=a.textContent,m===d&&m!==""&&m!==null&&(a.value=m),Tt(a)}function Br(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var km=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gd(a,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":m?a.setProperty(l,d):typeof d!="number"||d===0||km.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function Kd(a,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var b in l)m=l[b],l.hasOwnProperty(b)&&d[b]!==m&&Gd(a,b,m)}else for(var _ in l)l.hasOwnProperty(_)&&Gd(a,_,l[_])}function Jc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zc(a){return uo.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Qi(){}var Qd=null;function ji(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var fo=null,wa=null;function Ol(a){var l=wi(a);if(l&&(a=l.stateNode)){var d=a[Hn]||null;e:switch(a=l.stateNode,l.type){case"input":if(Xc(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Vr(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==a&&m.form===a.form){var b=m[Hn]||null;if(!b)throw Error(r(90));Xc(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===a.form&&Tl(m)}break e;case"textarea":Rm(a,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&lo(a,!!d.multiple,l,!1)}}}var eu=!1;function ho(a,l,d){if(eu)return a(l,d);eu=!0;try{var m=a(l);return m}finally{if(eu=!1,(fo!==null||wa!==null)&&(Tp(),fo&&(l=fo,a=wa,wa=fo=null,Ol(l),a)))for(l=0;l<a.length;l++)Ol(a[l])}}function Wi(a,l){var d=a.stateNode;if(d===null)return null;var m=d[Hn]||null;if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pl=!1;if(Ei)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Pl=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{Pl=!1}var ja=null,Wd=null,Il=null;function Yd(){if(Il)return Il;var a,l=Wd,d=l.length,m,b="value"in ja?ja.value:ja.textContent,_=b.length;for(a=0;a<d&&l[a]===b[a];a++);var T=d-a;for(m=1;m<=T&&l[d-m]===b[_-m];m++);return Il=b.slice(a,1<m?1-m:void 0)}function Rl(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function is(){return!0}function Yi(){return!1}function rr(a){function l(d,m,b,_,T){this._reactName=d,this._targetInst=b,this.type=m,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var z in a)a.hasOwnProperty(z)&&(d=a[z],this[z]=d?d(_):_[z]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?is:Yi,this.isPropagationStopped=Yi,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),l}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=rr(as),mo=g({},as,{view:0,detail:0}),Xd=rr(mo),po,tu,Na,nu=g({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:go,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Na&&(Na&&a.type==="mousemove"?(po=a.screenX-Na.screenX,tu=a.screenY-Na.screenY):tu=po=0,Na=a),po)},movementY:function(a){return"movementY"in a?a.movementY:tu}}),Jd=rr(nu),kl=g({},nu,{dataTransfer:0}),Mm=rr(kl),zm=g({},mo,{relatedTarget:0}),Dl=rr(zm),Zd=g({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),Lm=rr(Zd),ru=g({},as,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),qm=rr(ru),Um=g({},as,{data:0}),Sa=rr(Um),Vm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$m={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fm(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=$m[a])?!!l[a]:!1}function go(){return Fm}var Nr=g({},mo,{key:function(a){if(a.key){var l=Vm[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Rl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Bm[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:go,charCode:function(a){return a.type==="keypress"?Rl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Rl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Hm=rr(Nr),Gm=g({},nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ss=rr(Gm),v=g({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:go}),S=rr(v),P=g({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),B=rr(P),ie=g({},nu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),de=rr(ie),Ne=g({},as,{newState:0,oldState:0}),Ze=rr(Ne),yn=[9,13,27,32],wt=Ei&&"CompositionEvent"in window,Yt=null;Ei&&"documentMode"in document&&(Yt=document.documentMode);var Ni=Ei&&"TextEvent"in window&&!Yt,Aa=Ei&&(!wt||Yt&&8<Yt&&11>=Yt),Xi=" ",Ji=!1;function Ml(a,l){switch(a){case"keyup":return yn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iu(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var au=!1;function kU(a,l){switch(a){case"compositionend":return iu(l);case"keypress":return l.which!==32?null:(Ji=!0,Xi);case"textInput":return a=l.data,a===Xi&&Ji?null:a;default:return null}}function DU(a,l){if(au)return a==="compositionend"||!wt&&Ml(a,l)?(a=Yd(),Il=Wd=ja=null,au=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Aa&&l.locale!=="ko"?null:l.data;default:return null}}var MU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hS(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!MU[a.type]:l==="textarea"}function mS(a,l,d,m){fo?wa?wa.push(m):wa=[m]:fo=m,l=Dp(l,"onChange"),0<l.length&&(d=new Ea("onChange","change",null,d,m),a.push({event:d,listeners:l}))}var ef=null,tf=null;function zU(a){YT(a,0)}function Km(a){var l=ni(a);if(Tl(l))return a}function pS(a,l){if(a==="change")return l}var gS=!1;if(Ei){var P0;if(Ei){var I0="oninput"in document;if(!I0){var vS=document.createElement("div");vS.setAttribute("oninput","return;"),I0=typeof vS.oninput=="function"}P0=I0}else P0=!1;gS=P0&&(!document.documentMode||9<document.documentMode)}function yS(){ef&&(ef.detachEvent("onpropertychange",bS),tf=ef=null)}function bS(a){if(a.propertyName==="value"&&Km(tf)){var l=[];mS(l,tf,a,ji(a)),ho(zU,l)}}function LU(a,l,d){a==="focusin"?(yS(),ef=l,tf=d,ef.attachEvent("onpropertychange",bS)):a==="focusout"&&yS()}function qU(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Km(tf)}function UU(a,l){if(a==="click")return Km(l)}function VU(a,l){if(a==="input"||a==="change")return Km(l)}function BU(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var ii=typeof Object.is=="function"?Object.is:BU;function nf(a,l){if(ii(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var b=d[m];if(!Rt.call(l,b)||!ii(a[b],l[b]))return!1}return!0}function xS(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function _S(a,l){var d=xS(a);a=0;for(var m;d;){if(d.nodeType===3){if(m=a+d.textContent.length,a<=l&&m>=l)return{node:d,offset:l-a};a=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=xS(d)}}function wS(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?wS(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function jS(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=_a(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=_a(a.document)}return l}function R0(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var $U=Ei&&"documentMode"in document&&11>=document.documentMode,su=null,k0=null,rf=null,D0=!1;function ES(a,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;D0||su==null||su!==_a(m)||(m=su,"selectionStart"in m&&R0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),rf&&nf(rf,m)||(rf=m,m=Dp(k0,"onSelect"),0<m.length&&(l=new Ea("onSelect","select",null,l,d),a.push({event:l,listeners:m}),l.target=su)))}function zl(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var ou={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionrun:zl("Transition","TransitionRun"),transitionstart:zl("Transition","TransitionStart"),transitioncancel:zl("Transition","TransitionCancel"),transitionend:zl("Transition","TransitionEnd")},M0={},NS={};Ei&&(NS=document.createElement("div").style,"AnimationEvent"in window||(delete ou.animationend.animation,delete ou.animationiteration.animation,delete ou.animationstart.animation),"TransitionEvent"in window||delete ou.transitionend.transition);function Ll(a){if(M0[a])return M0[a];if(!ou[a])return a;var l=ou[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in NS)return M0[a]=l[d];return a}var SS=Ll("animationend"),AS=Ll("animationiteration"),TS=Ll("animationstart"),FU=Ll("transitionrun"),HU=Ll("transitionstart"),GU=Ll("transitioncancel"),CS=Ll("transitionend"),OS=new Map,z0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");z0.push("scrollEnd");function Zi(a,l){OS.set(a,l),ba(l,[a])}var Qm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Si=[],lu=0,L0=0;function Wm(){for(var a=lu,l=L0=lu=0;l<a;){var d=Si[l];Si[l++]=null;var m=Si[l];Si[l++]=null;var b=Si[l];Si[l++]=null;var _=Si[l];if(Si[l++]=null,m!==null&&b!==null){var T=m.pending;T===null?b.next=b:(b.next=T.next,T.next=b),m.pending=b}_!==0&&PS(d,b,_)}}function Ym(a,l,d,m){Si[lu++]=a,Si[lu++]=l,Si[lu++]=d,Si[lu++]=m,L0|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function q0(a,l,d,m){return Ym(a,l,d,m),Xm(a)}function ql(a,l){return Ym(a,null,null,l),Xm(a)}function PS(a,l,d){a.lanes|=d;var m=a.alternate;m!==null&&(m.lanes|=d);for(var b=!1,_=a.return;_!==null;)_.childLanes|=d,m=_.alternate,m!==null&&(m.childLanes|=d),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(b=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,b&&l!==null&&(b=31-en(d),a=_.hiddenUpdates,m=a[b],m===null?a[b]=[l]:m.push(l),l.lane=d|536870912),_):null}function Xm(a){if(50<Sf)throw Sf=0,Qb=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var cu={};function KU(a,l,d,m){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(a,l,d,m){return new KU(a,l,d,m)}function U0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function os(a,l){var d=a.alternate;return d===null?(d=ai(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function IS(a,l){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Jm(a,l,d,m,b,_){var T=0;if(m=a,typeof a=="function")U0(a)&&(T=1);else if(typeof a=="string")T=J9(a,d,je.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case k:return a=ai(31,d,l,b),a.elementType=k,a.lanes=_,a;case w:return Ul(d.children,b,_,l);case N:T=8,b|=24;break;case A:return a=ai(12,d,l,b|2),a.elementType=A,a.lanes=_,a;case V:return a=ai(13,d,l,b),a.elementType=V,a.lanes=_,a;case $:return a=ai(19,d,l,b),a.elementType=$,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:T=10;break e;case R:T=9;break e;case C:T=11;break e;case D:T=14;break e;case I:T=16,m=null;break e}T=29,d=Error(r(130,a===null?"null":typeof a,"")),m=null}return l=ai(T,d,l,b),l.elementType=a,l.type=m,l.lanes=_,l}function Ul(a,l,d,m){return a=ai(7,a,m,l),a.lanes=d,a}function V0(a,l,d){return a=ai(6,a,null,l),a.lanes=d,a}function RS(a){var l=ai(18,null,null,0);return l.stateNode=a,l}function B0(a,l,d){return l=ai(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var kS=new WeakMap;function Ai(a,l){if(typeof a=="object"&&a!==null){var d=kS.get(a);return d!==void 0?d:(l={value:a,source:l,stack:mr(l)},kS.set(a,l),l)}return{value:a,source:l,stack:mr(l)}}var uu=[],du=0,Zm=null,af=0,Ti=[],Ci=0,vo=null,Ta=1,Ca="";function ls(a,l){uu[du++]=af,uu[du++]=Zm,Zm=a,af=l}function DS(a,l,d){Ti[Ci++]=Ta,Ti[Ci++]=Ca,Ti[Ci++]=vo,vo=a;var m=Ta;a=Ca;var b=32-en(m)-1;m&=~(1<<b),d+=1;var _=32-en(l)+b;if(30<_){var T=b-b%5;_=(m&(1<<T)-1).toString(32),m>>=T,b-=T,Ta=1<<32-en(l)+b|d<<b|m,Ca=_+a}else Ta=1<<_|d<<b|m,Ca=a}function $0(a){a.return!==null&&(ls(a,1),DS(a,1,0))}function F0(a){for(;a===Zm;)Zm=uu[--du],uu[du]=null,af=uu[--du],uu[du]=null;for(;a===vo;)vo=Ti[--Ci],Ti[Ci]=null,Ca=Ti[--Ci],Ti[Ci]=null,Ta=Ti[--Ci],Ti[Ci]=null}function MS(a,l){Ti[Ci++]=Ta,Ti[Ci++]=Ca,Ti[Ci++]=vo,Ta=l.id,Ca=l.overflow,vo=a}var ir=null,Kt=null,mt=!1,yo=null,Oi=!1,H0=Error(r(519));function bo(a){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sf(Ai(l,a)),H0}function zS(a){var l=a.stateNode,d=a.type,m=a.memoizedProps;switch(l[En]=a,l[Hn]=m,d){case"dialog":st("cancel",l),st("close",l);break;case"iframe":case"object":case"embed":st("load",l);break;case"video":case"audio":for(d=0;d<Tf.length;d++)st(Tf[d],l);break;case"source":st("error",l);break;case"img":case"image":case"link":st("error",l),st("load",l);break;case"details":st("toggle",l);break;case"input":st("invalid",l),Im(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":st("invalid",l);break;case"textarea":st("invalid",l),co(l,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||eC(l.textContent,d)?(m.popover!=null&&(st("beforetoggle",l),st("toggle",l)),m.onScroll!=null&&st("scroll",l),m.onScrollEnd!=null&&st("scrollend",l),m.onClick!=null&&(l.onclick=Qi),l=!0):l=!1,l||bo(a,!0)}function LS(a){for(ir=a.return;ir;)switch(ir.tag){case 5:case 31:case 13:Oi=!1;return;case 27:case 3:Oi=!0;return;default:ir=ir.return}}function fu(a){if(a!==ir)return!1;if(!mt)return LS(a),mt=!0,!1;var l=a.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||cx(a.type,a.memoizedProps)),d=!d),d&&Kt&&bo(a),LS(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Kt=cC(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Kt=cC(a)}else l===27?(l=Kt,Ro(a.type)?(a=mx,mx=null,Kt=a):Kt=l):Kt=ir?Ii(a.stateNode.nextSibling):null;return!0}function Vl(){Kt=ir=null,mt=!1}function G0(){var a=yo;return a!==null&&(Gr===null?Gr=a:Gr.push.apply(Gr,a),yo=null),a}function sf(a){yo===null?yo=[a]:yo.push(a)}var K0=F(null),Bl=null,cs=null;function xo(a,l,d){ge(K0,l._currentValue),l._currentValue=d}function us(a){a._currentValue=K0.current,ne(K0)}function Q0(a,l,d){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===d)break;a=a.return}}function W0(a,l,d,m){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var _=b.dependencies;if(_!==null){var T=b.child;_=_.firstContext;e:for(;_!==null;){var z=_;_=b;for(var G=0;G<l.length;G++)if(z.context===l[G]){_.lanes|=d,z=_.alternate,z!==null&&(z.lanes|=d),Q0(_.return,d,a),m||(T=null);break e}_=z.next}}else if(b.tag===18){if(T=b.return,T===null)throw Error(r(341));T.lanes|=d,_=T.alternate,_!==null&&(_.lanes|=d),Q0(T,d,a),T=null}else T=b.child;if(T!==null)T.return=b;else for(T=b;T!==null;){if(T===a){T=null;break}if(b=T.sibling,b!==null){b.return=T.return,T=b;break}T=T.return}b=T}}function hu(a,l,d,m){a=null;for(var b=l,_=!1;b!==null;){if(!_){if((b.flags&524288)!==0)_=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var T=b.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var z=b.type;ii(b.pendingProps.value,T.value)||(a!==null?a.push(z):a=[z])}}else if(b===pe.current){if(T=b.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(Rf):a=[Rf])}b=b.return}a!==null&&W0(l,a,d,m),l.flags|=262144}function ep(a){for(a=a.firstContext;a!==null;){if(!ii(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function $l(a){Bl=a,cs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ar(a){return qS(Bl,a)}function tp(a,l){return Bl===null&&$l(a),qS(a,l)}function qS(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},cs===null){if(a===null)throw Error(r(308));cs=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else cs=cs.next=l;return d}var QU=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,m){a.push(m)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},WU=t.unstable_scheduleCallback,YU=t.unstable_NormalPriority,An={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Y0(){return{controller:new QU,data:new Map,refCount:0}}function of(a){a.refCount--,a.refCount===0&&WU(YU,function(){a.controller.abort()})}var lf=null,X0=0,mu=0,pu=null;function XU(a,l){if(lf===null){var d=lf=[];X0=0,mu=ex(),pu={status:"pending",value:void 0,then:function(m){d.push(m)}}}return X0++,l.then(US,US),l}function US(){if(--X0===0&&lf!==null){pu!==null&&(pu.status="fulfilled");var a=lf;lf=null,mu=0,pu=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function JU(a,l){var d=[],m={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return a.then(function(){m.status="fulfilled",m.value=l;for(var b=0;b<d.length;b++)(0,d[b])(l)},function(b){for(m.status="rejected",m.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),m}var VS=H.S;H.S=function(a,l){ET=Ve(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&XU(a,l),VS!==null&&VS(a,l)};var Fl=F(null);function J0(){var a=Fl.current;return a!==null?a:Bt.pooledCache}function np(a,l){l===null?ge(Fl,Fl.current):ge(Fl,l.pool)}function BS(){var a=J0();return a===null?null:{parent:An._currentValue,pool:a}}var gu=Error(r(460)),Z0=Error(r(474)),rp=Error(r(542)),ip={then:function(){}};function $S(a){return a=a.status,a==="fulfilled"||a==="rejected"}function FS(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then(Qi,Qi),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,GS(a),a;default:if(typeof l.status=="string")l.then(Qi,Qi);else{if(a=Bt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(m){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=m}},function(m){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,GS(a),a}throw Gl=l,gu}}function Hl(a){try{var l=a._init;return l(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Gl=d,gu):d}}var Gl=null;function HS(){if(Gl===null)throw Error(r(459));var a=Gl;return Gl=null,a}function GS(a){if(a===gu||a===rp)throw Error(r(483))}var vu=null,cf=0;function ap(a){var l=cf;return cf+=1,vu===null&&(vu=[]),FS(vu,a,l)}function uf(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function sp(a,l){throw l.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function KS(a){function l(ee,K){if(a){var ae=ee.deletions;ae===null?(ee.deletions=[K],ee.flags|=16):ae.push(K)}}function d(ee,K){if(!a)return null;for(;K!==null;)l(ee,K),K=K.sibling;return null}function m(ee){for(var K=new Map;ee!==null;)ee.key!==null?K.set(ee.key,ee):K.set(ee.index,ee),ee=ee.sibling;return K}function b(ee,K){return ee=os(ee,K),ee.index=0,ee.sibling=null,ee}function _(ee,K,ae){return ee.index=ae,a?(ae=ee.alternate,ae!==null?(ae=ae.index,ae<K?(ee.flags|=67108866,K):ae):(ee.flags|=67108866,K)):(ee.flags|=1048576,K)}function T(ee){return a&&ee.alternate===null&&(ee.flags|=67108866),ee}function z(ee,K,ae,be){return K===null||K.tag!==6?(K=V0(ae,ee.mode,be),K.return=ee,K):(K=b(K,ae),K.return=ee,K)}function G(ee,K,ae,be){var Le=ae.type;return Le===w?me(ee,K,ae.props.children,be,ae.key):K!==null&&(K.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===I&&Hl(Le)===K.type)?(K=b(K,ae.props),uf(K,ae),K.return=ee,K):(K=Jm(ae.type,ae.key,ae.props,null,ee.mode,be),uf(K,ae),K.return=ee,K)}function se(ee,K,ae,be){return K===null||K.tag!==4||K.stateNode.containerInfo!==ae.containerInfo||K.stateNode.implementation!==ae.implementation?(K=B0(ae,ee.mode,be),K.return=ee,K):(K=b(K,ae.children||[]),K.return=ee,K)}function me(ee,K,ae,be,Le){return K===null||K.tag!==7?(K=Ul(ae,ee.mode,be,Le),K.return=ee,K):(K=b(K,ae),K.return=ee,K)}function xe(ee,K,ae){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=V0(""+K,ee.mode,ae),K.return=ee,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return ae=Jm(K.type,K.key,K.props,null,ee.mode,ae),uf(ae,K),ae.return=ee,ae;case E:return K=B0(K,ee.mode,ae),K.return=ee,K;case I:return K=Hl(K),xe(ee,K,ae)}if(Q(K)||M(K))return K=Ul(K,ee.mode,ae,null),K.return=ee,K;if(typeof K.then=="function")return xe(ee,ap(K),ae);if(K.$$typeof===O)return xe(ee,tp(ee,K),ae);sp(ee,K)}return null}function le(ee,K,ae,be){var Le=K!==null?K.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Le!==null?null:z(ee,K,""+ae,be);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:return ae.key===Le?G(ee,K,ae,be):null;case E:return ae.key===Le?se(ee,K,ae,be):null;case I:return ae=Hl(ae),le(ee,K,ae,be)}if(Q(ae)||M(ae))return Le!==null?null:me(ee,K,ae,be,null);if(typeof ae.then=="function")return le(ee,K,ap(ae),be);if(ae.$$typeof===O)return le(ee,K,tp(ee,ae),be);sp(ee,ae)}return null}function fe(ee,K,ae,be,Le){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return ee=ee.get(ae)||null,z(K,ee,""+be,Le);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case x:return ee=ee.get(be.key===null?ae:be.key)||null,G(K,ee,be,Le);case E:return ee=ee.get(be.key===null?ae:be.key)||null,se(K,ee,be,Le);case I:return be=Hl(be),fe(ee,K,ae,be,Le)}if(Q(be)||M(be))return ee=ee.get(ae)||null,me(K,ee,be,Le,null);if(typeof be.then=="function")return fe(ee,K,ae,ap(be),Le);if(be.$$typeof===O)return fe(ee,K,ae,tp(K,be),Le);sp(K,be)}return null}function Oe(ee,K,ae,be){for(var Le=null,bt=null,Re=K,tt=K=0,ct=null;Re!==null&&tt<ae.length;tt++){Re.index>tt?(ct=Re,Re=null):ct=Re.sibling;var xt=le(ee,Re,ae[tt],be);if(xt===null){Re===null&&(Re=ct);break}a&&Re&&xt.alternate===null&&l(ee,Re),K=_(xt,K,tt),bt===null?Le=xt:bt.sibling=xt,bt=xt,Re=ct}if(tt===ae.length)return d(ee,Re),mt&&ls(ee,tt),Le;if(Re===null){for(;tt<ae.length;tt++)Re=xe(ee,ae[tt],be),Re!==null&&(K=_(Re,K,tt),bt===null?Le=Re:bt.sibling=Re,bt=Re);return mt&&ls(ee,tt),Le}for(Re=m(Re);tt<ae.length;tt++)ct=fe(Re,ee,tt,ae[tt],be),ct!==null&&(a&&ct.alternate!==null&&Re.delete(ct.key===null?tt:ct.key),K=_(ct,K,tt),bt===null?Le=ct:bt.sibling=ct,bt=ct);return a&&Re.forEach(function(Lo){return l(ee,Lo)}),mt&&ls(ee,tt),Le}function $e(ee,K,ae,be){if(ae==null)throw Error(r(151));for(var Le=null,bt=null,Re=K,tt=K=0,ct=null,xt=ae.next();Re!==null&&!xt.done;tt++,xt=ae.next()){Re.index>tt?(ct=Re,Re=null):ct=Re.sibling;var Lo=le(ee,Re,xt.value,be);if(Lo===null){Re===null&&(Re=ct);break}a&&Re&&Lo.alternate===null&&l(ee,Re),K=_(Lo,K,tt),bt===null?Le=Lo:bt.sibling=Lo,bt=Lo,Re=ct}if(xt.done)return d(ee,Re),mt&&ls(ee,tt),Le;if(Re===null){for(;!xt.done;tt++,xt=ae.next())xt=xe(ee,xt.value,be),xt!==null&&(K=_(xt,K,tt),bt===null?Le=xt:bt.sibling=xt,bt=xt);return mt&&ls(ee,tt),Le}for(Re=m(Re);!xt.done;tt++,xt=ae.next())xt=fe(Re,ee,tt,xt.value,be),xt!==null&&(a&&xt.alternate!==null&&Re.delete(xt.key===null?tt:xt.key),K=_(xt,K,tt),bt===null?Le=xt:bt.sibling=xt,bt=xt);return a&&Re.forEach(function(cV){return l(ee,cV)}),mt&&ls(ee,tt),Le}function Lt(ee,K,ae,be){if(typeof ae=="object"&&ae!==null&&ae.type===w&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:e:{for(var Le=ae.key;K!==null;){if(K.key===Le){if(Le=ae.type,Le===w){if(K.tag===7){d(ee,K.sibling),be=b(K,ae.props.children),be.return=ee,ee=be;break e}}else if(K.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===I&&Hl(Le)===K.type){d(ee,K.sibling),be=b(K,ae.props),uf(be,ae),be.return=ee,ee=be;break e}d(ee,K);break}else l(ee,K);K=K.sibling}ae.type===w?(be=Ul(ae.props.children,ee.mode,be,ae.key),be.return=ee,ee=be):(be=Jm(ae.type,ae.key,ae.props,null,ee.mode,be),uf(be,ae),be.return=ee,ee=be)}return T(ee);case E:e:{for(Le=ae.key;K!==null;){if(K.key===Le)if(K.tag===4&&K.stateNode.containerInfo===ae.containerInfo&&K.stateNode.implementation===ae.implementation){d(ee,K.sibling),be=b(K,ae.children||[]),be.return=ee,ee=be;break e}else{d(ee,K);break}else l(ee,K);K=K.sibling}be=B0(ae,ee.mode,be),be.return=ee,ee=be}return T(ee);case I:return ae=Hl(ae),Lt(ee,K,ae,be)}if(Q(ae))return Oe(ee,K,ae,be);if(M(ae)){if(Le=M(ae),typeof Le!="function")throw Error(r(150));return ae=Le.call(ae),$e(ee,K,ae,be)}if(typeof ae.then=="function")return Lt(ee,K,ap(ae),be);if(ae.$$typeof===O)return Lt(ee,K,tp(ee,ae),be);sp(ee,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,K!==null&&K.tag===6?(d(ee,K.sibling),be=b(K,ae),be.return=ee,ee=be):(d(ee,K),be=V0(ae,ee.mode,be),be.return=ee,ee=be),T(ee)):d(ee,K)}return function(ee,K,ae,be){try{cf=0;var Le=Lt(ee,K,ae,be);return vu=null,Le}catch(Re){if(Re===gu||Re===rp)throw Re;var bt=ai(29,Re,null,ee.mode);return bt.lanes=be,bt.return=ee,bt}}}var Kl=KS(!0),QS=KS(!1),_o=!1;function eb(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tb(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function wo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function jo(a,l,d){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(jt&2)!==0){var b=m.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),m.pending=l,l=Xm(a),PS(a,null,d),l}return Ym(a,m,l,d),Xm(a)}function df(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,zd(a,d)}}function nb(a,l){var d=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var b=null,_=null;if(d=d.firstBaseUpdate,d!==null){do{var T={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};_===null?b=_=T:_=_.next=T,d=d.next}while(d!==null);_===null?b=_=l:_=_.next=l}else b=_=l;d={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:_,shared:m.shared,callbacks:m.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var rb=!1;function ff(){if(rb){var a=pu;if(a!==null)throw a}}function hf(a,l,d,m){rb=!1;var b=a.updateQueue;_o=!1;var _=b.firstBaseUpdate,T=b.lastBaseUpdate,z=b.shared.pending;if(z!==null){b.shared.pending=null;var G=z,se=G.next;G.next=null,T===null?_=se:T.next=se,T=G;var me=a.alternate;me!==null&&(me=me.updateQueue,z=me.lastBaseUpdate,z!==T&&(z===null?me.firstBaseUpdate=se:z.next=se,me.lastBaseUpdate=G))}if(_!==null){var xe=b.baseState;T=0,me=se=G=null,z=_;do{var le=z.lane&-536870913,fe=le!==z.lane;if(fe?(lt&le)===le:(m&le)===le){le!==0&&le===mu&&(rb=!0),me!==null&&(me=me.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Oe=a,$e=z;le=l;var Lt=d;switch($e.tag){case 1:if(Oe=$e.payload,typeof Oe=="function"){xe=Oe.call(Lt,xe,le);break e}xe=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=$e.payload,le=typeof Oe=="function"?Oe.call(Lt,xe,le):Oe,le==null)break e;xe=g({},xe,le);break e;case 2:_o=!0}}le=z.callback,le!==null&&(a.flags|=64,fe&&(a.flags|=8192),fe=b.callbacks,fe===null?b.callbacks=[le]:fe.push(le))}else fe={lane:le,tag:z.tag,payload:z.payload,callback:z.callback,next:null},me===null?(se=me=fe,G=xe):me=me.next=fe,T|=le;if(z=z.next,z===null){if(z=b.shared.pending,z===null)break;fe=z,z=fe.next,fe.next=null,b.lastBaseUpdate=fe,b.shared.pending=null}}while(!0);me===null&&(G=xe),b.baseState=G,b.firstBaseUpdate=se,b.lastBaseUpdate=me,_===null&&(b.shared.lanes=0),To|=T,a.lanes=T,a.memoizedState=xe}}function WS(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function YS(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)WS(d[a],l)}var yu=F(null),op=F(0);function XS(a,l){a=bs,ge(op,a),ge(yu,l),bs=a|l.baseLanes}function ib(){ge(op,bs),ge(yu,yu.current)}function ab(){bs=op.current,ne(yu),ne(op)}var si=F(null),Pi=null;function Eo(a){var l=a.alternate;ge(bn,bn.current&1),ge(si,a),Pi===null&&(l===null||yu.current!==null||l.memoizedState!==null)&&(Pi=a)}function sb(a){ge(bn,bn.current),ge(si,a),Pi===null&&(Pi=a)}function JS(a){a.tag===22?(ge(bn,bn.current),ge(si,a),Pi===null&&(Pi=a)):No()}function No(){ge(bn,bn.current),ge(si,si.current)}function oi(a){ne(si),Pi===a&&(Pi=null),ne(bn)}var bn=F(0);function lp(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||fx(d)||hx(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ds=0,et=null,Mt=null,Tn=null,cp=!1,bu=!1,Ql=!1,up=0,mf=0,xu=null,ZU=0;function cn(){throw Error(r(321))}function ob(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!ii(a[d],l[d]))return!1;return!0}function lb(a,l,d,m,b,_){return ds=_,et=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,H.H=a===null||a.memoizedState===null?DA:jb,Ql=!1,_=d(m,b),Ql=!1,bu&&(_=eA(l,d,m,b)),ZS(a),_}function ZS(a){H.H=vf;var l=Mt!==null&&Mt.next!==null;if(ds=0,Tn=Mt=et=null,cp=!1,mf=0,xu=null,l)throw Error(r(300));a===null||Cn||(a=a.dependencies,a!==null&&ep(a)&&(Cn=!0))}function eA(a,l,d,m){et=a;var b=0;do{if(bu&&(xu=null),mf=0,bu=!1,25<=b)throw Error(r(301));if(b+=1,Tn=Mt=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}H.H=MA,_=l(d,m)}while(bu);return _}function e9(){var a=H.H,l=a.useState()[0];return l=typeof l.then=="function"?pf(l):l,a=a.useState()[0],(Mt!==null?Mt.memoizedState:null)!==a&&(et.flags|=1024),l}function cb(){var a=up!==0;return up=0,a}function ub(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function db(a){if(cp){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}cp=!1}ds=0,Tn=Mt=et=null,bu=!1,mf=up=0,xu=null}function Sr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?et.memoizedState=Tn=a:Tn=Tn.next=a,Tn}function xn(){if(Mt===null){var a=et.alternate;a=a!==null?a.memoizedState:null}else a=Mt.next;var l=Tn===null?et.memoizedState:Tn.next;if(l!==null)Tn=l,Mt=a;else{if(a===null)throw et.alternate===null?Error(r(467)):Error(r(310));Mt=a,a={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Tn===null?et.memoizedState=Tn=a:Tn=Tn.next=a}return Tn}function dp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pf(a){var l=mf;return mf+=1,xu===null&&(xu=[]),a=FS(xu,a,l),l=et,(Tn===null?l.memoizedState:Tn.next)===null&&(l=l.alternate,H.H=l===null||l.memoizedState===null?DA:jb),a}function fp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return pf(a);if(a.$$typeof===O)return ar(a)}throw Error(r(438,String(a)))}function fb(a){var l=null,d=et.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=et.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=dp(),et.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),m=0;m<a;m++)d[m]=q;return l.index++,d}function fs(a,l){return typeof l=="function"?l(a):l}function hp(a){var l=xn();return hb(l,Mt,a)}function hb(a,l,d){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var b=a.baseQueue,_=m.pending;if(_!==null){if(b!==null){var T=b.next;b.next=_.next,_.next=T}l.baseQueue=b=_,m.pending=null}if(_=a.baseState,b===null)a.memoizedState=_;else{l=b.next;var z=T=null,G=null,se=l,me=!1;do{var xe=se.lane&-536870913;if(xe!==se.lane?(lt&xe)===xe:(ds&xe)===xe){var le=se.revertLane;if(le===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),xe===mu&&(me=!0);else if((ds&le)===le){se=se.next,le===mu&&(me=!0);continue}else xe={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},G===null?(z=G=xe,T=_):G=G.next=xe,et.lanes|=le,To|=le;xe=se.action,Ql&&d(_,xe),_=se.hasEagerState?se.eagerState:d(_,xe)}else le={lane:xe,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},G===null?(z=G=le,T=_):G=G.next=le,et.lanes|=xe,To|=xe;se=se.next}while(se!==null&&se!==l);if(G===null?T=_:G.next=z,!ii(_,a.memoizedState)&&(Cn=!0,me&&(d=pu,d!==null)))throw d;a.memoizedState=_,a.baseState=T,a.baseQueue=G,m.lastRenderedState=_}return b===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function mb(a){var l=xn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var m=d.dispatch,b=d.pending,_=l.memoizedState;if(b!==null){d.pending=null;var T=b=b.next;do _=a(_,T.action),T=T.next;while(T!==b);ii(_,l.memoizedState)||(Cn=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),d.lastRenderedState=_}return[_,m]}function tA(a,l,d){var m=et,b=xn(),_=mt;if(_){if(d===void 0)throw Error(r(407));d=d()}else d=l();var T=!ii((Mt||b).memoizedState,d);if(T&&(b.memoizedState=d,Cn=!0),b=b.queue,vb(iA.bind(null,m,b,a),[a]),b.getSnapshot!==l||T||Tn!==null&&Tn.memoizedState.tag&1){if(m.flags|=2048,_u(9,{destroy:void 0},rA.bind(null,m,b,d,l),null),Bt===null)throw Error(r(349));_||(ds&127)!==0||nA(m,l,d)}return d}function nA(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=et.updateQueue,l===null?(l=dp(),et.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function rA(a,l,d,m){l.value=d,l.getSnapshot=m,aA(l)&&sA(a)}function iA(a,l,d){return d(function(){aA(l)&&sA(a)})}function aA(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!ii(a,d)}catch{return!0}}function sA(a){var l=ql(a,2);l!==null&&Kr(l,a,2)}function pb(a){var l=Sr();if(typeof a=="function"){var d=a;if(a=d(),Ql){Ur(!0);try{d()}finally{Ur(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:a},l}function oA(a,l,d,m){return a.baseState=d,hb(a,Mt,typeof m=="function"?m:fs)}function t9(a,l,d,m,b){if(gp(a))throw Error(r(485));if(a=l.action,a!==null){var _={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){_.listeners.push(T)}};H.T!==null?d(!0):_.isTransition=!1,m(_),d=l.pending,d===null?(_.next=l.pending=_,lA(l,_)):(_.next=d.next,l.pending=d.next=_)}}function lA(a,l){var d=l.action,m=l.payload,b=a.state;if(l.isTransition){var _=H.T,T={};H.T=T;try{var z=d(b,m),G=H.S;G!==null&&G(T,z),cA(a,l,z)}catch(se){gb(a,l,se)}finally{_!==null&&T.types!==null&&(_.types=T.types),H.T=_}}else try{_=d(b,m),cA(a,l,_)}catch(se){gb(a,l,se)}}function cA(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){uA(a,l,m)},function(m){return gb(a,l,m)}):uA(a,l,d)}function uA(a,l,d){l.status="fulfilled",l.value=d,dA(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,lA(a,d)))}function gb(a,l,d){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,dA(l),l=l.next;while(l!==m)}a.action=null}function dA(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function fA(a,l){return l}function hA(a,l){if(mt){var d=Bt.formState;if(d!==null){e:{var m=et;if(mt){if(Kt){t:{for(var b=Kt,_=Oi;b.nodeType!==8;){if(!_){b=null;break t}if(b=Ii(b.nextSibling),b===null){b=null;break t}}_=b.data,b=_==="F!"||_==="F"?b:null}if(b){Kt=Ii(b.nextSibling),m=b.data==="F!";break e}}bo(m)}m=!1}m&&(l=d[0])}}return d=Sr(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fA,lastRenderedState:l},d.queue=m,d=IA.bind(null,et,m),m.dispatch=d,m=pb(!1),_=wb.bind(null,et,!1,m.queue),m=Sr(),b={state:l,dispatch:null,action:a,pending:null},m.queue=b,d=t9.bind(null,et,b,_,d),b.dispatch=d,m.memoizedState=a,[l,d,!1]}function mA(a){var l=xn();return pA(l,Mt,a)}function pA(a,l,d){if(l=hb(a,l,fA)[0],a=hp(fs)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=pf(l)}catch(T){throw T===gu?rp:T}else m=l;l=xn();var b=l.queue,_=b.dispatch;return d!==l.memoizedState&&(et.flags|=2048,_u(9,{destroy:void 0},n9.bind(null,b,d),null)),[m,_,a]}function n9(a,l){a.action=l}function gA(a){var l=xn(),d=Mt;if(d!==null)return pA(l,d,a);xn(),l=l.memoizedState,d=xn();var m=d.queue.dispatch;return d.memoizedState=a,[l,m,!1]}function _u(a,l,d,m){return a={tag:a,create:d,deps:m,inst:l,next:null},l=et.updateQueue,l===null&&(l=dp(),et.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(m=d.next,d.next=a,a.next=m,l.lastEffect=a),a}function vA(){return xn().memoizedState}function mp(a,l,d,m){var b=Sr();et.flags|=a,b.memoizedState=_u(1|l,{destroy:void 0},d,m===void 0?null:m)}function pp(a,l,d,m){var b=xn();m=m===void 0?null:m;var _=b.memoizedState.inst;Mt!==null&&m!==null&&ob(m,Mt.memoizedState.deps)?b.memoizedState=_u(l,_,d,m):(et.flags|=a,b.memoizedState=_u(1|l,_,d,m))}function yA(a,l){mp(8390656,8,a,l)}function vb(a,l){pp(2048,8,a,l)}function r9(a){et.flags|=4;var l=et.updateQueue;if(l===null)l=dp(),et.updateQueue=l,l.events=[a];else{var d=l.events;d===null?l.events=[a]:d.push(a)}}function bA(a){var l=xn().memoizedState;return r9({ref:l,nextImpl:a}),function(){if((jt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function xA(a,l){return pp(4,2,a,l)}function _A(a,l){return pp(4,4,a,l)}function wA(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function jA(a,l,d){d=d!=null?d.concat([a]):null,pp(4,4,wA.bind(null,l,a),d)}function yb(){}function EA(a,l){var d=xn();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&ob(l,m[1])?m[0]:(d.memoizedState=[a,l],a)}function NA(a,l){var d=xn();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&ob(l,m[1]))return m[0];if(m=a(),Ql){Ur(!0);try{a()}finally{Ur(!1)}}return d.memoizedState=[m,l],m}function bb(a,l,d){return d===void 0||(ds&1073741824)!==0&&(lt&261930)===0?a.memoizedState=l:(a.memoizedState=d,a=ST(),et.lanes|=a,To|=a,d)}function SA(a,l,d,m){return ii(d,l)?d:yu.current!==null?(a=bb(a,d,m),ii(a,l)||(Cn=!0),a):(ds&42)===0||(ds&1073741824)!==0&&(lt&261930)===0?(Cn=!0,a.memoizedState=d):(a=ST(),et.lanes|=a,To|=a,l)}function AA(a,l,d,m,b){var _=ce.p;ce.p=_!==0&&8>_?_:8;var T=H.T,z={};H.T=z,wb(a,!1,l,d);try{var G=b(),se=H.S;if(se!==null&&se(z,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var me=JU(G,m);gf(a,l,me,ui(a))}else gf(a,l,m,ui(a))}catch(xe){gf(a,l,{then:function(){},status:"rejected",reason:xe},ui())}finally{ce.p=_,T!==null&&z.types!==null&&(T.types=z.types),H.T=T}}function i9(){}function xb(a,l,d,m){if(a.tag!==5)throw Error(r(476));var b=TA(a).queue;AA(a,b,l,Y,d===null?i9:function(){return CA(a),d(m)})}function TA(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:Y},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function CA(a){var l=TA(a);l.next===null&&(l=a.alternate.memoizedState),gf(a,l.next.queue,{},ui())}function _b(){return ar(Rf)}function OA(){return xn().memoizedState}function PA(){return xn().memoizedState}function a9(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=ui();a=wo(d);var m=jo(l,a,d);m!==null&&(Kr(m,l,d),df(m,l,d)),l={cache:Y0()},a.payload=l;return}l=l.return}}function s9(a,l,d){var m=ui();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},gp(a)?RA(l,d):(d=q0(a,l,d,m),d!==null&&(Kr(d,a,m),kA(d,l,m)))}function IA(a,l,d){var m=ui();gf(a,l,d,m)}function gf(a,l,d,m){var b={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(gp(a))RA(l,b);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var T=l.lastRenderedState,z=_(T,d);if(b.hasEagerState=!0,b.eagerState=z,ii(z,T))return Ym(a,l,b,0),Bt===null&&Wm(),!1}catch{}if(d=q0(a,l,b,m),d!==null)return Kr(d,a,m),kA(d,l,m),!0}return!1}function wb(a,l,d,m){if(m={lane:2,revertLane:ex(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},gp(a)){if(l)throw Error(r(479))}else l=q0(a,d,m,2),l!==null&&Kr(l,a,2)}function gp(a){var l=a.alternate;return a===et||l!==null&&l===et}function RA(a,l){bu=cp=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function kA(a,l,d){if((d&4194048)!==0){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,zd(a,d)}}var vf={readContext:ar,use:fp,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn};vf.useEffectEvent=cn;var DA={readContext:ar,use:fp,useCallback:function(a,l){return Sr().memoizedState=[a,l===void 0?null:l],a},useContext:ar,useEffect:yA,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,mp(4194308,4,wA.bind(null,l,a),d)},useLayoutEffect:function(a,l){return mp(4194308,4,a,l)},useInsertionEffect:function(a,l){mp(4,2,a,l)},useMemo:function(a,l){var d=Sr();l=l===void 0?null:l;var m=a();if(Ql){Ur(!0);try{a()}finally{Ur(!1)}}return d.memoizedState=[m,l],m},useReducer:function(a,l,d){var m=Sr();if(d!==void 0){var b=d(l);if(Ql){Ur(!0);try{d(l)}finally{Ur(!1)}}}else b=l;return m.memoizedState=m.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},m.queue=a,a=a.dispatch=s9.bind(null,et,a),[m.memoizedState,a]},useRef:function(a){var l=Sr();return a={current:a},l.memoizedState=a},useState:function(a){a=pb(a);var l=a.queue,d=IA.bind(null,et,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:yb,useDeferredValue:function(a,l){var d=Sr();return bb(d,a,l)},useTransition:function(){var a=pb(!1);return a=AA.bind(null,et,a.queue,!0,!1),Sr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var m=et,b=Sr();if(mt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Bt===null)throw Error(r(349));(lt&127)!==0||nA(m,l,d)}b.memoizedState=d;var _={value:d,getSnapshot:l};return b.queue=_,yA(iA.bind(null,m,_,a),[a]),m.flags|=2048,_u(9,{destroy:void 0},rA.bind(null,m,_,d,l),null),d},useId:function(){var a=Sr(),l=Bt.identifierPrefix;if(mt){var d=Ca,m=Ta;d=(m&~(1<<32-en(m)-1)).toString(32)+d,l="_"+l+"R_"+d,d=up++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=ZU++,l="_"+l+"r_"+d.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:_b,useFormState:hA,useActionState:hA,useOptimistic:function(a){var l=Sr();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=wb.bind(null,et,!0,d),d.dispatch=l,[a,l]},useMemoCache:fb,useCacheRefresh:function(){return Sr().memoizedState=a9.bind(null,et)},useEffectEvent:function(a){var l=Sr(),d={impl:a};return l.memoizedState=d,function(){if((jt&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},jb={readContext:ar,use:fp,useCallback:EA,useContext:ar,useEffect:vb,useImperativeHandle:jA,useInsertionEffect:xA,useLayoutEffect:_A,useMemo:NA,useReducer:hp,useRef:vA,useState:function(){return hp(fs)},useDebugValue:yb,useDeferredValue:function(a,l){var d=xn();return SA(d,Mt.memoizedState,a,l)},useTransition:function(){var a=hp(fs)[0],l=xn().memoizedState;return[typeof a=="boolean"?a:pf(a),l]},useSyncExternalStore:tA,useId:OA,useHostTransitionStatus:_b,useFormState:mA,useActionState:mA,useOptimistic:function(a,l){var d=xn();return oA(d,Mt,a,l)},useMemoCache:fb,useCacheRefresh:PA};jb.useEffectEvent=bA;var MA={readContext:ar,use:fp,useCallback:EA,useContext:ar,useEffect:vb,useImperativeHandle:jA,useInsertionEffect:xA,useLayoutEffect:_A,useMemo:NA,useReducer:mb,useRef:vA,useState:function(){return mb(fs)},useDebugValue:yb,useDeferredValue:function(a,l){var d=xn();return Mt===null?bb(d,a,l):SA(d,Mt.memoizedState,a,l)},useTransition:function(){var a=mb(fs)[0],l=xn().memoizedState;return[typeof a=="boolean"?a:pf(a),l]},useSyncExternalStore:tA,useId:OA,useHostTransitionStatus:_b,useFormState:gA,useActionState:gA,useOptimistic:function(a,l){var d=xn();return Mt!==null?oA(d,Mt,a,l):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:fb,useCacheRefresh:PA};MA.useEffectEvent=bA;function Eb(a,l,d,m){l=a.memoizedState,d=d(m,l),d=d==null?l:g({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Nb={enqueueSetState:function(a,l,d){a=a._reactInternals;var m=ui(),b=wo(m);b.payload=l,d!=null&&(b.callback=d),l=jo(a,b,m),l!==null&&(Kr(l,a,m),df(l,a,m))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var m=ui(),b=wo(m);b.tag=1,b.payload=l,d!=null&&(b.callback=d),l=jo(a,b,m),l!==null&&(Kr(l,a,m),df(l,a,m))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=ui(),m=wo(d);m.tag=2,l!=null&&(m.callback=l),l=jo(a,m,d),l!==null&&(Kr(l,a,d),df(l,a,d))}};function zA(a,l,d,m,b,_,T){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,_,T):l.prototype&&l.prototype.isPureReactComponent?!nf(d,m)||!nf(b,_):!0}function LA(a,l,d,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==a&&Nb.enqueueReplaceState(l,l.state,null)}function Wl(a,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(a=a.defaultProps){d===l&&(d=g({},d));for(var b in a)d[b]===void 0&&(d[b]=a[b])}return d}function qA(a){Qm(a)}function UA(a){console.error(a)}function VA(a){Qm(a)}function vp(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function BA(a,l,d){try{var m=a.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Sb(a,l,d){return d=wo(d),d.tag=3,d.payload={element:null},d.callback=function(){vp(a,l)},d}function $A(a){return a=wo(a),a.tag=3,a}function FA(a,l,d,m){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var _=m.value;a.payload=function(){return b(_)},a.callback=function(){BA(l,d,m)}}var T=d.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(a.callback=function(){BA(l,d,m),typeof b!="function"&&(Co===null?Co=new Set([this]):Co.add(this));var z=m.stack;this.componentDidCatch(m.value,{componentStack:z!==null?z:""})})}function o9(a,l,d,m,b){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&hu(l,d,b,!0),d=si.current,d!==null){switch(d.tag){case 31:case 13:return Pi===null?Cp():d.alternate===null&&un===0&&(un=3),d.flags&=-257,d.flags|=65536,d.lanes=b,m===ip?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),Xb(a,m,b)),!1;case 22:return d.flags|=65536,m===ip?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),Xb(a,m,b)),!1}throw Error(r(435,d.tag))}return Xb(a,m,b),Cp(),!1}if(mt)return l=si.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,m!==H0&&(a=Error(r(422),{cause:m}),sf(Ai(a,d)))):(m!==H0&&(l=Error(r(423),{cause:m}),sf(Ai(l,d))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,m=Ai(m,d),b=Sb(a.stateNode,m,b),nb(a,b),un!==4&&(un=2)),!1;var _=Error(r(520),{cause:m});if(_=Ai(_,d),Nf===null?Nf=[_]:Nf.push(_),un!==4&&(un=2),l===null)return!0;m=Ai(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=b&-b,d.lanes|=a,a=Sb(d.stateNode,m,a),nb(d,a),!1;case 1:if(l=d.type,_=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Co===null||!Co.has(_))))return d.flags|=65536,b&=-b,d.lanes|=b,b=$A(b),FA(b,a,d,m),nb(d,b),!1}d=d.return}while(d!==null);return!1}var Ab=Error(r(461)),Cn=!1;function sr(a,l,d,m){l.child=a===null?QS(l,null,d,m):Kl(l,a.child,d,m)}function HA(a,l,d,m,b){d=d.render;var _=l.ref;if("ref"in m){var T={};for(var z in m)z!=="ref"&&(T[z]=m[z])}else T=m;return $l(l),m=lb(a,l,d,T,_,b),z=cb(),a!==null&&!Cn?(ub(a,l,b),hs(a,l,b)):(mt&&z&&$0(l),l.flags|=1,sr(a,l,m,b),l.child)}function GA(a,l,d,m,b){if(a===null){var _=d.type;return typeof _=="function"&&!U0(_)&&_.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=_,KA(a,l,_,m,b)):(a=Jm(d.type,null,m,l,l.mode,b),a.ref=l.ref,a.return=l,l.child=a)}if(_=a.child,!Db(a,b)){var T=_.memoizedProps;if(d=d.compare,d=d!==null?d:nf,d(T,m)&&a.ref===l.ref)return hs(a,l,b)}return l.flags|=1,a=os(_,m),a.ref=l.ref,a.return=l,l.child=a}function KA(a,l,d,m,b){if(a!==null){var _=a.memoizedProps;if(nf(_,m)&&a.ref===l.ref)if(Cn=!1,l.pendingProps=m=_,Db(a,b))(a.flags&131072)!==0&&(Cn=!0);else return l.lanes=a.lanes,hs(a,l,b)}return Tb(a,l,d,m,b)}function QA(a,l,d,m){var b=m.children,_=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(_=_!==null?_.baseLanes|d:d,a!==null){for(m=l.child=a.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;m=b&~_}else m=0,l.child=null;return WA(a,l,_,d,m)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&np(l,_!==null?_.cachePool:null),_!==null?XS(l,_):ib(),JS(l);else return m=l.lanes=536870912,WA(a,l,_!==null?_.baseLanes|d:d,d,m)}else _!==null?(np(l,_.cachePool),XS(l,_),No(),l.memoizedState=null):(a!==null&&np(l,null),ib(),No());return sr(a,l,b,d),l.child}function yf(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function WA(a,l,d,m,b){var _=J0();return _=_===null?null:{parent:An._currentValue,pool:_},l.memoizedState={baseLanes:d,cachePool:_},a!==null&&np(l,null),ib(),JS(l),a!==null&&hu(a,l,m,!0),l.childLanes=b,null}function yp(a,l){return l=xp({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function YA(a,l,d){return Kl(l,a.child,null,d),a=yp(l,l.pendingProps),a.flags|=2,oi(l),l.memoizedState=null,a}function l9(a,l,d){var m=l.pendingProps,b=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(mt){if(m.mode==="hidden")return a=yp(l,m),l.lanes=536870912,yf(null,a);if(sb(l),(a=Kt)?(a=lC(a,Oi),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:vo!==null?{id:Ta,overflow:Ca}:null,retryLane:536870912,hydrationErrors:null},d=RS(a),d.return=l,l.child=d,ir=l,Kt=null)):a=null,a===null)throw bo(l);return l.lanes=536870912,null}return yp(l,m)}var _=a.memoizedState;if(_!==null){var T=_.dehydrated;if(sb(l),b)if(l.flags&256)l.flags&=-257,l=YA(a,l,d);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(r(558));else if(Cn||hu(a,l,d,!1),b=(d&a.childLanes)!==0,Cn||b){if(m=Bt,m!==null&&(T=Ld(m,d),T!==0&&T!==_.retryLane))throw _.retryLane=T,ql(a,T),Kr(m,a,T),Ab;Cp(),l=YA(a,l,d)}else a=_.treeContext,Kt=Ii(T.nextSibling),ir=l,mt=!0,yo=null,Oi=!1,a!==null&&MS(l,a),l=yp(l,m),l.flags|=4096;return l}return a=os(a.child,{mode:m.mode,children:m.children}),a.ref=l.ref,l.child=a,a.return=l,a}function bp(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(l.flags|=4194816)}}function Tb(a,l,d,m,b){return $l(l),d=lb(a,l,d,m,void 0,b),m=cb(),a!==null&&!Cn?(ub(a,l,b),hs(a,l,b)):(mt&&m&&$0(l),l.flags|=1,sr(a,l,d,b),l.child)}function XA(a,l,d,m,b,_){return $l(l),l.updateQueue=null,d=eA(l,m,d,b),ZS(a),m=cb(),a!==null&&!Cn?(ub(a,l,_),hs(a,l,_)):(mt&&m&&$0(l),l.flags|=1,sr(a,l,d,_),l.child)}function JA(a,l,d,m,b){if($l(l),l.stateNode===null){var _=cu,T=d.contextType;typeof T=="object"&&T!==null&&(_=ar(T)),_=new d(m,_),l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Nb,l.stateNode=_,_._reactInternals=l,_=l.stateNode,_.props=m,_.state=l.memoizedState,_.refs={},eb(l),T=d.contextType,_.context=typeof T=="object"&&T!==null?ar(T):cu,_.state=l.memoizedState,T=d.getDerivedStateFromProps,typeof T=="function"&&(Eb(l,d,T,m),_.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(T=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),T!==_.state&&Nb.enqueueReplaceState(_,_.state,null),hf(l,m,_,b),ff(),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(a===null){_=l.stateNode;var z=l.memoizedProps,G=Wl(d,z);_.props=G;var se=_.context,me=d.contextType;T=cu,typeof me=="object"&&me!==null&&(T=ar(me));var xe=d.getDerivedStateFromProps;me=typeof xe=="function"||typeof _.getSnapshotBeforeUpdate=="function",z=l.pendingProps!==z,me||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(z||se!==T)&&LA(l,_,m,T),_o=!1;var le=l.memoizedState;_.state=le,hf(l,m,_,b),ff(),se=l.memoizedState,z||le!==se||_o?(typeof xe=="function"&&(Eb(l,d,xe,m),se=l.memoizedState),(G=_o||zA(l,d,G,m,le,se,T))?(me||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=se),_.props=m,_.state=se,_.context=T,m=G):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{_=l.stateNode,tb(a,l),T=l.memoizedProps,me=Wl(d,T),_.props=me,xe=l.pendingProps,le=_.context,se=d.contextType,G=cu,typeof se=="object"&&se!==null&&(G=ar(se)),z=d.getDerivedStateFromProps,(se=typeof z=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==xe||le!==G)&&LA(l,_,m,G),_o=!1,le=l.memoizedState,_.state=le,hf(l,m,_,b),ff();var fe=l.memoizedState;T!==xe||le!==fe||_o||a!==null&&a.dependencies!==null&&ep(a.dependencies)?(typeof z=="function"&&(Eb(l,d,z,m),fe=l.memoizedState),(me=_o||zA(l,d,me,m,le,fe,G)||a!==null&&a.dependencies!==null&&ep(a.dependencies))?(se||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,fe,G),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,fe,G)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===a.memoizedProps&&le===a.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&le===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=fe),_.props=m,_.state=fe,_.context=G,m=me):(typeof _.componentDidUpdate!="function"||T===a.memoizedProps&&le===a.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&le===a.memoizedState||(l.flags|=1024),m=!1)}return _=m,bp(a,l),m=(l.flags&128)!==0,_||m?(_=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:_.render(),l.flags|=1,a!==null&&m?(l.child=Kl(l,a.child,null,b),l.child=Kl(l,null,d,b)):sr(a,l,d,b),l.memoizedState=_.state,a=l.child):a=hs(a,l,b),a}function ZA(a,l,d,m){return Vl(),l.flags|=256,sr(a,l,d,m),l.child}var Cb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ob(a){return{baseLanes:a,cachePool:BS()}}function Pb(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=ci),a}function eT(a,l,d){var m=l.pendingProps,b=!1,_=(l.flags&128)!==0,T;if((T=_)||(T=a!==null&&a.memoizedState===null?!1:(bn.current&2)!==0),T&&(b=!0,l.flags&=-129),T=(l.flags&32)!==0,l.flags&=-33,a===null){if(mt){if(b?Eo(l):No(),(a=Kt)?(a=lC(a,Oi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:vo!==null?{id:Ta,overflow:Ca}:null,retryLane:536870912,hydrationErrors:null},d=RS(a),d.return=l,l.child=d,ir=l,Kt=null)):a=null,a===null)throw bo(l);return hx(a)?l.lanes=32:l.lanes=536870912,null}var z=m.children;return m=m.fallback,b?(No(),b=l.mode,z=xp({mode:"hidden",children:z},b),m=Ul(m,b,d,null),z.return=l,m.return=l,z.sibling=m,l.child=z,m=l.child,m.memoizedState=Ob(d),m.childLanes=Pb(a,T,d),l.memoizedState=Cb,yf(null,m)):(Eo(l),Ib(l,z))}var G=a.memoizedState;if(G!==null&&(z=G.dehydrated,z!==null)){if(_)l.flags&256?(Eo(l),l.flags&=-257,l=Rb(a,l,d)):l.memoizedState!==null?(No(),l.child=a.child,l.flags|=128,l=null):(No(),z=m.fallback,b=l.mode,m=xp({mode:"visible",children:m.children},b),z=Ul(z,b,d,null),z.flags|=2,m.return=l,z.return=l,m.sibling=z,l.child=m,Kl(l,a.child,null,d),m=l.child,m.memoizedState=Ob(d),m.childLanes=Pb(a,T,d),l.memoizedState=Cb,l=yf(null,m));else if(Eo(l),hx(z)){if(T=z.nextSibling&&z.nextSibling.dataset,T)var se=T.dgst;T=se,m=Error(r(419)),m.stack="",m.digest=T,sf({value:m,source:null,stack:null}),l=Rb(a,l,d)}else if(Cn||hu(a,l,d,!1),T=(d&a.childLanes)!==0,Cn||T){if(T=Bt,T!==null&&(m=Ld(T,d),m!==0&&m!==G.retryLane))throw G.retryLane=m,ql(a,m),Kr(T,a,m),Ab;fx(z)||Cp(),l=Rb(a,l,d)}else fx(z)?(l.flags|=192,l.child=a.child,l=null):(a=G.treeContext,Kt=Ii(z.nextSibling),ir=l,mt=!0,yo=null,Oi=!1,a!==null&&MS(l,a),l=Ib(l,m.children),l.flags|=4096);return l}return b?(No(),z=m.fallback,b=l.mode,G=a.child,se=G.sibling,m=os(G,{mode:"hidden",children:m.children}),m.subtreeFlags=G.subtreeFlags&65011712,se!==null?z=os(se,z):(z=Ul(z,b,d,null),z.flags|=2),z.return=l,m.return=l,m.sibling=z,l.child=m,yf(null,m),m=l.child,z=a.child.memoizedState,z===null?z=Ob(d):(b=z.cachePool,b!==null?(G=An._currentValue,b=b.parent!==G?{parent:G,pool:G}:b):b=BS(),z={baseLanes:z.baseLanes|d,cachePool:b}),m.memoizedState=z,m.childLanes=Pb(a,T,d),l.memoizedState=Cb,yf(a.child,m)):(Eo(l),d=a.child,a=d.sibling,d=os(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,a!==null&&(T=l.deletions,T===null?(l.deletions=[a],l.flags|=16):T.push(a)),l.child=d,l.memoizedState=null,d)}function Ib(a,l){return l=xp({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function xp(a,l){return a=ai(22,a,null,l),a.lanes=0,a}function Rb(a,l,d){return Kl(l,a.child,null,d),a=Ib(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function tT(a,l,d){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),Q0(a.return,l,d)}function kb(a,l,d,m,b,_){var T=a.memoizedState;T===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:b,treeForkCount:_}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=m,T.tail=d,T.tailMode=b,T.treeForkCount=_)}function nT(a,l,d){var m=l.pendingProps,b=m.revealOrder,_=m.tail;m=m.children;var T=bn.current,z=(T&2)!==0;if(z?(T=T&1|2,l.flags|=128):T&=1,ge(bn,T),sr(a,l,m,d),m=mt?af:0,!z&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&tT(a,d,l);else if(a.tag===19)tT(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(b){case"forwards":for(d=l.child,b=null;d!==null;)a=d.alternate,a!==null&&lp(a)===null&&(b=d),d=d.sibling;d=b,d===null?(b=l.child,l.child=null):(b=d.sibling,d.sibling=null),kb(l,!1,b,d,_,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,b=l.child,l.child=null;b!==null;){if(a=b.alternate,a!==null&&lp(a)===null){l.child=b;break}a=b.sibling,b.sibling=d,d=b,b=a}kb(l,!0,d,null,_,m);break;case"together":kb(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function hs(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),To|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(hu(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,d=os(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=os(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function Db(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&ep(a)))}function c9(a,l,d){switch(l.tag){case 3:Me(l,l.stateNode.containerInfo),xo(l,An,a.memoizedState.cache),Vl();break;case 27:case 5:Se(l);break;case 4:Me(l,l.stateNode.containerInfo);break;case 10:xo(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,sb(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Eo(l),l.flags|=128,null):(d&l.child.childLanes)!==0?eT(a,l,d):(Eo(l),a=hs(a,l,d),a!==null?a.sibling:null);Eo(l);break;case 19:var b=(a.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(hu(a,l,d,!1),m=(d&l.childLanes)!==0),b){if(m)return nT(a,l,d);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ge(bn,bn.current),m)break;return null;case 22:return l.lanes=0,QA(a,l,d,l.pendingProps);case 24:xo(l,An,a.memoizedState.cache)}return hs(a,l,d)}function rT(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)Cn=!0;else{if(!Db(a,d)&&(l.flags&128)===0)return Cn=!1,c9(a,l,d);Cn=(a.flags&131072)!==0}else Cn=!1,mt&&(l.flags&1048576)!==0&&DS(l,af,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(a=Hl(l.elementType),l.type=a,typeof a=="function")U0(a)?(m=Wl(a,m),l.tag=1,l=JA(null,l,a,m,d)):(l.tag=0,l=Tb(null,l,a,m,d));else{if(a!=null){var b=a.$$typeof;if(b===C){l.tag=11,l=HA(null,l,a,m,d);break e}else if(b===D){l.tag=14,l=GA(null,l,a,m,d);break e}}throw l=X(a)||a,Error(r(306,l,""))}}return l;case 0:return Tb(a,l,l.type,l.pendingProps,d);case 1:return m=l.type,b=Wl(m,l.pendingProps),JA(a,l,m,b,d);case 3:e:{if(Me(l,l.stateNode.containerInfo),a===null)throw Error(r(387));m=l.pendingProps;var _=l.memoizedState;b=_.element,tb(a,l),hf(l,m,null,d);var T=l.memoizedState;if(m=T.cache,xo(l,An,m),m!==_.cache&&W0(l,[An],d,!0),ff(),m=T.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:T.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=ZA(a,l,m,d);break e}else if(m!==b){b=Ai(Error(r(424)),l),sf(b),l=ZA(a,l,m,d);break e}else for(a=l.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Kt=Ii(a.firstChild),ir=l,mt=!0,yo=null,Oi=!0,d=QS(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Vl(),m===b){l=hs(a,l,d);break e}sr(a,l,m,d)}l=l.child}return l;case 26:return bp(a,l),a===null?(d=mC(l.type,null,l.pendingProps,null))?l.memoizedState=d:mt||(d=l.type,a=l.pendingProps,m=Mp(re.current).createElement(d),m[En]=l,m[Hn]=a,or(m,d,a),Nn(m),l.stateNode=m):l.memoizedState=mC(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Se(l),a===null&&mt&&(m=l.stateNode=dC(l.type,l.pendingProps,re.current),ir=l,Oi=!0,b=Kt,Ro(l.type)?(mx=b,Kt=Ii(m.firstChild)):Kt=b),sr(a,l,l.pendingProps.children,d),bp(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&mt&&((b=m=Kt)&&(m=q9(m,l.type,l.pendingProps,Oi),m!==null?(l.stateNode=m,ir=l,Kt=Ii(m.firstChild),Oi=!1,b=!0):b=!1),b||bo(l)),Se(l),b=l.type,_=l.pendingProps,T=a!==null?a.memoizedProps:null,m=_.children,cx(b,_)?m=null:T!==null&&cx(b,T)&&(l.flags|=32),l.memoizedState!==null&&(b=lb(a,l,e9,null,null,d),Rf._currentValue=b),bp(a,l),sr(a,l,m,d),l.child;case 6:return a===null&&mt&&((a=d=Kt)&&(d=U9(d,l.pendingProps,Oi),d!==null?(l.stateNode=d,ir=l,Kt=null,a=!0):a=!1),a||bo(l)),null;case 13:return eT(a,l,d);case 4:return Me(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=Kl(l,null,m,d):sr(a,l,m,d),l.child;case 11:return HA(a,l,l.type,l.pendingProps,d);case 7:return sr(a,l,l.pendingProps,d),l.child;case 8:return sr(a,l,l.pendingProps.children,d),l.child;case 12:return sr(a,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,xo(l,l.type,m.value),sr(a,l,m.children,d),l.child;case 9:return b=l.type._context,m=l.pendingProps.children,$l(l),b=ar(b),m=m(b),l.flags|=1,sr(a,l,m,d),l.child;case 14:return GA(a,l,l.type,l.pendingProps,d);case 15:return KA(a,l,l.type,l.pendingProps,d);case 19:return nT(a,l,d);case 31:return l9(a,l,d);case 22:return QA(a,l,d,l.pendingProps);case 24:return $l(l),m=ar(An),a===null?(b=J0(),b===null&&(b=Bt,_=Y0(),b.pooledCache=_,_.refCount++,_!==null&&(b.pooledCacheLanes|=d),b=_),l.memoizedState={parent:m,cache:b},eb(l),xo(l,An,b)):((a.lanes&d)!==0&&(tb(a,l),hf(l,null,null,d),ff()),b=a.memoizedState,_=l.memoizedState,b.parent!==m?(b={parent:m,cache:m},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),xo(l,An,m)):(m=_.cache,xo(l,An,m),m!==b.cache&&W0(l,[An],d,!0))),sr(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ms(a){a.flags|=4}function Mb(a,l,d,m,b){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(b&335544128)===b)if(a.stateNode.complete)a.flags|=8192;else if(OT())a.flags|=8192;else throw Gl=ip,Z0}else a.flags&=-16777217}function iT(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!bC(l))if(OT())a.flags|=8192;else throw Gl=ip,Z0}function _p(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Ue():536870912,a.lanes|=l,Nu|=l)}function bf(a,l){if(!mt)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Qt(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,m=0;if(l)for(var b=a.child;b!==null;)d|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)d|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=m,a.childLanes=d,l}function u9(a,l,d){var m=l.pendingProps;switch(F0(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(l),null;case 1:return Qt(l),null;case 3:return d=l.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),us(An),oe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(fu(l)?ms(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,G0())),Qt(l),null;case 26:var b=l.type,_=l.memoizedState;return a===null?(ms(l),_!==null?(Qt(l),iT(l,_)):(Qt(l),Mb(l,b,null,m,d))):_?_!==a.memoizedState?(ms(l),Qt(l),iT(l,_)):(Qt(l),l.flags&=-16777217):(a=a.memoizedProps,a!==m&&ms(l),Qt(l),Mb(l,b,a,m,d)),null;case 27:if(J(l),d=re.current,b=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&ms(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Qt(l),null}a=je.current,fu(l)?zS(l):(a=dC(b,m,d),l.stateNode=a,ms(l))}return Qt(l),null;case 5:if(J(l),b=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&ms(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Qt(l),null}if(_=je.current,fu(l))zS(l);else{var T=Mp(re.current);switch(_){case 1:_=T.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:_=T.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":_=T.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":_=T.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":_=T.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof m.is=="string"?T.createElement("select",{is:m.is}):T.createElement("select"),m.multiple?_.multiple=!0:m.size&&(_.size=m.size);break;default:_=typeof m.is=="string"?T.createElement(b,{is:m.is}):T.createElement(b)}}_[En]=l,_[Hn]=m;e:for(T=l.child;T!==null;){if(T.tag===5||T.tag===6)_.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===l)break e;for(;T.sibling===null;){if(T.return===null||T.return===l)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}l.stateNode=_;e:switch(or(_,b,m),b){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ms(l)}}return Qt(l),Mb(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,d),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==m&&ms(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(a=re.current,fu(l)){if(a=l.stateNode,d=l.memoizedProps,m=null,b=ir,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}a[En]=l,a=!!(a.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||eC(a.nodeValue,d)),a||bo(l,!0)}else a=Mp(a).createTextNode(m),a[En]=l,l.stateNode=a}return Qt(l),null;case 31:if(d=l.memoizedState,a===null||a.memoizedState!==null){if(m=fu(l),d!==null){if(a===null){if(!m)throw Error(r(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[En]=l}else Vl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Qt(l),a=!1}else d=G0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return l.flags&256?(oi(l),l):(oi(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Qt(l),null;case 13:if(m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=fu(l),m!==null&&m.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[En]=l}else Vl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Qt(l),b=!1}else b=G0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(oi(l),l):(oi(l),null)}return oi(l),(l.flags&128)!==0?(l.lanes=d,l):(d=m!==null,a=a!==null&&a.memoizedState!==null,d&&(m=l.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool),_=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(_=m.memoizedState.cachePool.pool),_!==b&&(m.flags|=2048)),d!==a&&d&&(l.child.flags|=8192),_p(l,l.updateQueue),Qt(l),null);case 4:return oe(),a===null&&ix(l.stateNode.containerInfo),Qt(l),null;case 10:return us(l.type),Qt(l),null;case 19:if(ne(bn),m=l.memoizedState,m===null)return Qt(l),null;if(b=(l.flags&128)!==0,_=m.rendering,_===null)if(b)bf(m,!1);else{if(un!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(_=lp(a),_!==null){for(l.flags|=128,bf(m,!1),a=_.updateQueue,l.updateQueue=a,_p(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)IS(d,a),d=d.sibling;return ge(bn,bn.current&1|2),mt&&ls(l,m.treeForkCount),l.child}a=a.sibling}m.tail!==null&&Ve()>Sp&&(l.flags|=128,b=!0,bf(m,!1),l.lanes=4194304)}else{if(!b)if(a=lp(_),a!==null){if(l.flags|=128,b=!0,a=a.updateQueue,l.updateQueue=a,_p(l,a),bf(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!mt)return Qt(l),null}else 2*Ve()-m.renderingStartTime>Sp&&d!==536870912&&(l.flags|=128,b=!0,bf(m,!1),l.lanes=4194304);m.isBackwards?(_.sibling=l.child,l.child=_):(a=m.last,a!==null?a.sibling=_:l.child=_,m.last=_)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Ve(),a.sibling=null,d=bn.current,ge(bn,b?d&1|2:d&1),mt&&ls(l,m.treeForkCount),a):(Qt(l),null);case 22:case 23:return oi(l),ab(),m=l.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&(Qt(l),l.subtreeFlags&6&&(l.flags|=8192)):Qt(l),d=l.updateQueue,d!==null&&_p(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),a!==null&&ne(Fl),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),us(An),Qt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function d9(a,l){switch(F0(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return us(An),oe(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return J(l),null;case 31:if(l.memoizedState!==null){if(oi(l),l.alternate===null)throw Error(r(340));Vl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(oi(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Vl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return ne(bn),null;case 4:return oe(),null;case 10:return us(l.type),null;case 22:case 23:return oi(l),ab(),a!==null&&ne(Fl),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return us(An),null;case 25:return null;default:return null}}function aT(a,l){switch(F0(l),l.tag){case 3:us(An),oe();break;case 26:case 27:case 5:J(l);break;case 4:oe();break;case 31:l.memoizedState!==null&&oi(l);break;case 13:oi(l);break;case 19:ne(bn);break;case 10:us(l.type);break;case 22:case 23:oi(l),ab(),a!==null&&ne(Fl);break;case 24:us(An)}}function xf(a,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var b=m.next;d=b;do{if((d.tag&a)===a){m=void 0;var _=d.create,T=d.inst;m=_(),T.destroy=m}d=d.next}while(d!==b)}}catch(z){Ot(l,l.return,z)}}function So(a,l,d){try{var m=l.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var _=b.next;m=_;do{if((m.tag&a)===a){var T=m.inst,z=T.destroy;if(z!==void 0){T.destroy=void 0,b=l;var G=d,se=z;try{se()}catch(me){Ot(b,G,me)}}}m=m.next}while(m!==_)}}catch(me){Ot(l,l.return,me)}}function sT(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{YS(l,d)}catch(m){Ot(a,a.return,m)}}}function oT(a,l,d){d.props=Wl(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(m){Ot(a,l,m)}}function _f(a,l){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof d=="function"?a.refCleanup=d(m):d.current=m}}catch(b){Ot(a,l,b)}}function Oa(a,l){var d=a.ref,m=a.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(b){Ot(a,l,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){Ot(a,l,b)}else d.current=null}function lT(a){var l=a.type,d=a.memoizedProps,m=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(b){Ot(a,a.return,b)}}function zb(a,l,d){try{var m=a.stateNode;R9(m,a.type,d,l),m[Hn]=l}catch(b){Ot(a,a.return,b)}}function cT(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ro(a.type)||a.tag===4}function Lb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||cT(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ro(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function qb(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(a),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Qi));else if(m!==4&&(m===27&&Ro(a.type)&&(d=a.stateNode,l=null),a=a.child,a!==null))for(qb(a,l,d),a=a.sibling;a!==null;)qb(a,l,d),a=a.sibling}function wp(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(m!==4&&(m===27&&Ro(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(wp(a,l,d),a=a.sibling;a!==null;)wp(a,l,d),a=a.sibling}function uT(a){var l=a.stateNode,d=a.memoizedProps;try{for(var m=a.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);or(l,m,d),l[En]=a,l[Hn]=d}catch(_){Ot(a,a.return,_)}}var ps=!1,On=!1,Ub=!1,dT=typeof WeakSet=="function"?WeakSet:Set,Kn=null;function f9(a,l){if(a=a.containerInfo,ox=$p,a=jS(a),R0(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var b=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{d.nodeType,_.nodeType}catch{d=null;break e}var T=0,z=-1,G=-1,se=0,me=0,xe=a,le=null;t:for(;;){for(var fe;xe!==d||b!==0&&xe.nodeType!==3||(z=T+b),xe!==_||m!==0&&xe.nodeType!==3||(G=T+m),xe.nodeType===3&&(T+=xe.nodeValue.length),(fe=xe.firstChild)!==null;)le=xe,xe=fe;for(;;){if(xe===a)break t;if(le===d&&++se===b&&(z=T),le===_&&++me===m&&(G=T),(fe=xe.nextSibling)!==null)break;xe=le,le=xe.parentNode}xe=fe}d=z===-1||G===-1?null:{start:z,end:G}}else d=null}d=d||{start:0,end:0}}else d=null;for(lx={focusedElem:a,selectionRange:d},$p=!1,Kn=l;Kn!==null;)if(l=Kn,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Kn=a;else for(;Kn!==null;){switch(l=Kn,_=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)b=a[d],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,d=l,b=_.memoizedProps,_=_.memoizedState,m=d.stateNode;try{var Oe=Wl(d.type,b);a=m.getSnapshotBeforeUpdate(Oe,_),m.__reactInternalSnapshotBeforeUpdate=a}catch($e){Ot(d,d.return,$e)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)dx(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":dx(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,Kn=a;break}Kn=l.return}}function fT(a,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:vs(a,d),m&4&&xf(5,d);break;case 1:if(vs(a,d),m&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(T){Ot(d,d.return,T)}else{var b=Wl(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(b,l,a.__reactInternalSnapshotBeforeUpdate)}catch(T){Ot(d,d.return,T)}}m&64&&sT(d),m&512&&_f(d,d.return);break;case 3:if(vs(a,d),m&64&&(a=d.updateQueue,a!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{YS(a,l)}catch(T){Ot(d,d.return,T)}}break;case 27:l===null&&m&4&&uT(d);case 26:case 5:vs(a,d),l===null&&m&4&&lT(d),m&512&&_f(d,d.return);break;case 12:vs(a,d);break;case 31:vs(a,d),m&4&&pT(a,d);break;case 13:vs(a,d),m&4&&gT(a,d),m&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=_9.bind(null,d),V9(a,d))));break;case 22:if(m=d.memoizedState!==null||ps,!m){l=l!==null&&l.memoizedState!==null||On,b=ps;var _=On;ps=m,(On=l)&&!_?ys(a,d,(d.subtreeFlags&8772)!==0):vs(a,d),ps=b,On=_}break;case 30:break;default:vs(a,d)}}function hT(a){var l=a.alternate;l!==null&&(a.alternate=null,hT(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Wc(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Xt=null,$r=!1;function gs(a,l,d){for(d=d.child;d!==null;)mT(a,l,d),d=d.sibling}function mT(a,l,d){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(on,d)}catch{}switch(d.tag){case 26:On||Oa(d,l),gs(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:On||Oa(d,l);var m=Xt,b=$r;Ro(d.type)&&(Xt=d.stateNode,$r=!1),gs(a,l,d),Of(d.stateNode),Xt=m,$r=b;break;case 5:On||Oa(d,l);case 6:if(m=Xt,b=$r,Xt=null,gs(a,l,d),Xt=m,$r=b,Xt!==null)if($r)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(d.stateNode)}catch(_){Ot(d,l,_)}else try{Xt.removeChild(d.stateNode)}catch(_){Ot(d,l,_)}break;case 18:Xt!==null&&($r?(a=Xt,sC(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Ru(a)):sC(Xt,d.stateNode));break;case 4:m=Xt,b=$r,Xt=d.stateNode.containerInfo,$r=!0,gs(a,l,d),Xt=m,$r=b;break;case 0:case 11:case 14:case 15:So(2,d,l),On||So(4,d,l),gs(a,l,d);break;case 1:On||(Oa(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&oT(d,l,m)),gs(a,l,d);break;case 21:gs(a,l,d);break;case 22:On=(m=On)||d.memoizedState!==null,gs(a,l,d),On=m;break;default:gs(a,l,d)}}function pT(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Ru(a)}catch(d){Ot(l,l.return,d)}}}function gT(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Ru(a)}catch(d){Ot(l,l.return,d)}}function h9(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new dT),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new dT),l;default:throw Error(r(435,a.tag))}}function jp(a,l){var d=h9(a);l.forEach(function(m){if(!d.has(m)){d.add(m);var b=w9.bind(null,a,m);m.then(b,b)}})}function Fr(a,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var b=d[m],_=a,T=l,z=T;e:for(;z!==null;){switch(z.tag){case 27:if(Ro(z.type)){Xt=z.stateNode,$r=!1;break e}break;case 5:Xt=z.stateNode,$r=!1;break e;case 3:case 4:Xt=z.stateNode.containerInfo,$r=!0;break e}z=z.return}if(Xt===null)throw Error(r(160));mT(_,T,b),Xt=null,$r=!1,_=b.alternate,_!==null&&(_.return=null),b.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)vT(l,a),l=l.sibling}var ea=null;function vT(a,l){var d=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Fr(l,a),Hr(a),m&4&&(So(3,a,a.return),xf(3,a),So(5,a,a.return));break;case 1:Fr(l,a),Hr(a),m&512&&(On||d===null||Oa(d,d.return)),m&64&&ps&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var b=ea;if(Fr(l,a),Hr(a),m&512&&(On||d===null||Oa(d,d.return)),m&4){var _=d!==null?d.memoizedState:null;if(m=a.memoizedState,d===null)if(m===null)if(a.stateNode===null){e:{m=a.type,d=a.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":_=b.getElementsByTagName("title")[0],(!_||_[ga]||_[En]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=b.createElement(m),b.head.insertBefore(_,b.querySelector("head > title"))),or(_,m,d),_[En]=a,Nn(_),m=_;break e;case"link":var T=vC("link","href",b).get(m+(d.href||""));if(T){for(var z=0;z<T.length;z++)if(_=T[z],_.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&_.getAttribute("rel")===(d.rel==null?null:d.rel)&&_.getAttribute("title")===(d.title==null?null:d.title)&&_.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){T.splice(z,1);break t}}_=b.createElement(m),or(_,m,d),b.head.appendChild(_);break;case"meta":if(T=vC("meta","content",b).get(m+(d.content||""))){for(z=0;z<T.length;z++)if(_=T[z],_.getAttribute("content")===(d.content==null?null:""+d.content)&&_.getAttribute("name")===(d.name==null?null:d.name)&&_.getAttribute("property")===(d.property==null?null:d.property)&&_.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&_.getAttribute("charset")===(d.charSet==null?null:d.charSet)){T.splice(z,1);break t}}_=b.createElement(m),or(_,m,d),b.head.appendChild(_);break;default:throw Error(r(468,m))}_[En]=a,Nn(_),m=_}a.stateNode=m}else yC(b,a.type,a.stateNode);else a.stateNode=gC(b,m,a.memoizedProps);else _!==m?(_===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):_.count--,m===null?yC(b,a.type,a.stateNode):gC(b,m,a.memoizedProps)):m===null&&a.stateNode!==null&&zb(a,a.memoizedProps,d.memoizedProps)}break;case 27:Fr(l,a),Hr(a),m&512&&(On||d===null||Oa(d,d.return)),d!==null&&m&4&&zb(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Fr(l,a),Hr(a),m&512&&(On||d===null||Oa(d,d.return)),a.flags&32){b=a.stateNode;try{Br(b,"")}catch(Oe){Ot(a,a.return,Oe)}}m&4&&a.stateNode!=null&&(b=a.memoizedProps,zb(a,b,d!==null?d.memoizedProps:b)),m&1024&&(Ub=!0);break;case 6:if(Fr(l,a),Hr(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,d=a.stateNode;try{d.nodeValue=m}catch(Oe){Ot(a,a.return,Oe)}}break;case 3:if(qp=null,b=ea,ea=zp(l.containerInfo),Fr(l,a),ea=b,Hr(a),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Ru(l.containerInfo)}catch(Oe){Ot(a,a.return,Oe)}Ub&&(Ub=!1,yT(a));break;case 4:m=ea,ea=zp(a.stateNode.containerInfo),Fr(l,a),Hr(a),ea=m;break;case 12:Fr(l,a),Hr(a);break;case 31:Fr(l,a),Hr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,jp(a,m)));break;case 13:Fr(l,a),Hr(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Np=Ve()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,jp(a,m)));break;case 22:b=a.memoizedState!==null;var G=d!==null&&d.memoizedState!==null,se=ps,me=On;if(ps=se||b,On=me||G,Fr(l,a),On=me,ps=se,Hr(a),m&8192)e:for(l=a.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(d===null||G||ps||On||Yl(a)),d=null,l=a;;){if(l.tag===5||l.tag===26){if(d===null){G=d=l;try{if(_=G.stateNode,b)T=_.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{z=G.stateNode;var xe=G.memoizedProps.style,le=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;z.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Oe){Ot(G,G.return,Oe)}}}else if(l.tag===6){if(d===null){G=l;try{G.stateNode.nodeValue=b?"":G.memoizedProps}catch(Oe){Ot(G,G.return,Oe)}}}else if(l.tag===18){if(d===null){G=l;try{var fe=G.stateNode;b?oC(fe,!0):oC(G.stateNode,!1)}catch(Oe){Ot(G,G.return,Oe)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=a.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,jp(a,d))));break;case 19:Fr(l,a),Hr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,jp(a,m)));break;case 30:break;case 21:break;default:Fr(l,a),Hr(a)}}function Hr(a){var l=a.flags;if(l&2){try{for(var d,m=a.return;m!==null;){if(cT(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var b=d.stateNode,_=Lb(a);wp(a,_,b);break;case 5:var T=d.stateNode;d.flags&32&&(Br(T,""),d.flags&=-33);var z=Lb(a);wp(a,z,T);break;case 3:case 4:var G=d.stateNode.containerInfo,se=Lb(a);qb(a,se,G);break;default:throw Error(r(161))}}catch(me){Ot(a,a.return,me)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function yT(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;yT(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function vs(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)fT(a,l.alternate,l),l=l.sibling}function Yl(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:So(4,l,l.return),Yl(l);break;case 1:Oa(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&oT(l,l.return,d),Yl(l);break;case 27:Of(l.stateNode);case 26:case 5:Oa(l,l.return),Yl(l);break;case 22:l.memoizedState===null&&Yl(l);break;case 30:Yl(l);break;default:Yl(l)}a=a.sibling}}function ys(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,b=a,_=l,T=_.flags;switch(_.tag){case 0:case 11:case 15:ys(b,_,d),xf(4,_);break;case 1:if(ys(b,_,d),m=_,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(se){Ot(m,m.return,se)}if(m=_,b=m.updateQueue,b!==null){var z=m.stateNode;try{var G=b.shared.hiddenCallbacks;if(G!==null)for(b.shared.hiddenCallbacks=null,b=0;b<G.length;b++)WS(G[b],z)}catch(se){Ot(m,m.return,se)}}d&&T&64&&sT(_),_f(_,_.return);break;case 27:uT(_);case 26:case 5:ys(b,_,d),d&&m===null&&T&4&&lT(_),_f(_,_.return);break;case 12:ys(b,_,d);break;case 31:ys(b,_,d),d&&T&4&&pT(b,_);break;case 13:ys(b,_,d),d&&T&4&&gT(b,_);break;case 22:_.memoizedState===null&&ys(b,_,d),_f(_,_.return);break;case 30:break;default:ys(b,_,d)}l=l.sibling}}function Vb(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&of(d))}function Bb(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&of(a))}function ta(a,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)bT(a,l,d,m),l=l.sibling}function bT(a,l,d,m){var b=l.flags;switch(l.tag){case 0:case 11:case 15:ta(a,l,d,m),b&2048&&xf(9,l);break;case 1:ta(a,l,d,m);break;case 3:ta(a,l,d,m),b&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&of(a)));break;case 12:if(b&2048){ta(a,l,d,m),a=l.stateNode;try{var _=l.memoizedProps,T=_.id,z=_.onPostCommit;typeof z=="function"&&z(T,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(G){Ot(l,l.return,G)}}else ta(a,l,d,m);break;case 31:ta(a,l,d,m);break;case 13:ta(a,l,d,m);break;case 23:break;case 22:_=l.stateNode,T=l.alternate,l.memoizedState!==null?_._visibility&2?ta(a,l,d,m):wf(a,l):_._visibility&2?ta(a,l,d,m):(_._visibility|=2,wu(a,l,d,m,(l.subtreeFlags&10256)!==0||!1)),b&2048&&Vb(T,l);break;case 24:ta(a,l,d,m),b&2048&&Bb(l.alternate,l);break;default:ta(a,l,d,m)}}function wu(a,l,d,m,b){for(b=b&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var _=a,T=l,z=d,G=m,se=T.flags;switch(T.tag){case 0:case 11:case 15:wu(_,T,z,G,b),xf(8,T);break;case 23:break;case 22:var me=T.stateNode;T.memoizedState!==null?me._visibility&2?wu(_,T,z,G,b):wf(_,T):(me._visibility|=2,wu(_,T,z,G,b)),b&&se&2048&&Vb(T.alternate,T);break;case 24:wu(_,T,z,G,b),b&&se&2048&&Bb(T.alternate,T);break;default:wu(_,T,z,G,b)}l=l.sibling}}function wf(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,m=l,b=m.flags;switch(m.tag){case 22:wf(d,m),b&2048&&Vb(m.alternate,m);break;case 24:wf(d,m),b&2048&&Bb(m.alternate,m);break;default:wf(d,m)}l=l.sibling}}var jf=8192;function ju(a,l,d){if(a.subtreeFlags&jf)for(a=a.child;a!==null;)xT(a,l,d),a=a.sibling}function xT(a,l,d){switch(a.tag){case 26:ju(a,l,d),a.flags&jf&&a.memoizedState!==null&&Z9(d,ea,a.memoizedState,a.memoizedProps);break;case 5:ju(a,l,d);break;case 3:case 4:var m=ea;ea=zp(a.stateNode.containerInfo),ju(a,l,d),ea=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=jf,jf=16777216,ju(a,l,d),jf=m):ju(a,l,d));break;default:ju(a,l,d)}}function _T(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Ef(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];Kn=m,jT(m,a)}_T(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)wT(a),a=a.sibling}function wT(a){switch(a.tag){case 0:case 11:case 15:Ef(a),a.flags&2048&&So(9,a,a.return);break;case 3:Ef(a);break;case 12:Ef(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Ep(a)):Ef(a);break;default:Ef(a)}}function Ep(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];Kn=m,jT(m,a)}_T(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:So(8,l,l.return),Ep(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,Ep(l));break;default:Ep(l)}a=a.sibling}}function jT(a,l){for(;Kn!==null;){var d=Kn;switch(d.tag){case 0:case 11:case 15:So(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:of(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,Kn=m;else e:for(d=a;Kn!==null;){m=Kn;var b=m.sibling,_=m.return;if(hT(m),m===d){Kn=null;break e}if(b!==null){b.return=_,Kn=b;break e}Kn=_}}}var m9={getCacheForType:function(a){var l=ar(An),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d},cacheSignal:function(){return ar(An).controller.signal}},p9=typeof WeakMap=="function"?WeakMap:Map,jt=0,Bt=null,at=null,lt=0,Ct=0,li=null,Ao=!1,Eu=!1,$b=!1,bs=0,un=0,To=0,Xl=0,Fb=0,ci=0,Nu=0,Nf=null,Gr=null,Hb=!1,Np=0,ET=0,Sp=1/0,Ap=null,Co=null,Ln=0,Oo=null,Su=null,xs=0,Gb=0,Kb=null,NT=null,Sf=0,Qb=null;function ui(){return(jt&2)!==0&&lt!==0?lt&-lt:H.T!==null?ex():Tm()}function ST(){if(ci===0)if((lt&536870912)===0||mt){var a=ns;ns<<=1,(ns&3932160)===0&&(ns=262144),ci=a}else ci=536870912;return a=si.current,a!==null&&(a.flags|=32),ci}function Kr(a,l,d){(a===Bt&&(Ct===2||Ct===9)||a.cancelPendingCommit!==null)&&(Au(a,0),Po(a,lt,ci,!1)),Fn(a,d),((jt&2)===0||a!==Bt)&&(a===Bt&&((jt&2)===0&&(Xl|=d),un===4&&Po(a,lt,ci,!1)),Pa(a))}function AT(a,l,d){if((jt&6)!==0)throw Error(r(327));var m=!d&&(l&127)===0&&(l&a.expiredLanes)===0||ti(a,l),b=m?y9(a,l):Yb(a,l,!0),_=m;do{if(b===0){Eu&&!m&&Po(a,l,0,!1);break}else{if(d=a.current.alternate,_&&!g9(d)){b=Yb(a,l,!1),_=!1;continue}if(b===2){if(_=l,a.errorRecoveryDisabledLanes&_)var T=0;else T=a.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){l=T;e:{var z=a;b=Nf;var G=z.current.memoizedState.isDehydrated;if(G&&(Au(z,T).flags|=256),T=Yb(z,T,!1),T!==2){if($b&&!G){z.errorRecoveryDisabledLanes|=_,Xl|=_,b=4;break e}_=Gr,Gr=b,_!==null&&(Gr===null?Gr=_:Gr.push.apply(Gr,_))}b=T}if(_=!1,b!==2)continue}}if(b===1){Au(a,0),Po(a,l,0,!0);break}e:{switch(m=a,_=b,_){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Po(m,l,ci,!Ao);break e;case 2:Gr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(b=Np+300-Ve(),10<b)){if(Po(m,l,ci,!Ao),pr(m,0,!0)!==0)break e;xs=l,m.timeoutHandle=iC(TT.bind(null,m,d,Gr,Ap,Hb,l,ci,Xl,Nu,Ao,_,"Throttled",-0,0),b);break e}TT(m,d,Gr,Ap,Hb,l,ci,Xl,Nu,Ao,_,null,-0,0)}}break}while(!0);Pa(a)}function TT(a,l,d,m,b,_,T,z,G,se,me,xe,le,fe){if(a.timeoutHandle=-1,xe=l.subtreeFlags,xe&8192||(xe&16785408)===16785408){xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qi},xT(l,_,xe);var Oe=(_&62914560)===_?Np-Ve():(_&4194048)===_?ET-Ve():0;if(Oe=eV(xe,Oe),Oe!==null){xs=_,a.cancelPendingCommit=Oe(MT.bind(null,a,l,_,d,m,b,T,z,G,me,xe,null,le,fe)),Po(a,_,T,!se);return}}MT(a,l,_,d,m,b,T,z,G)}function g9(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var b=d[m],_=b.getSnapshot;b=b.value;try{if(!ii(_(),b))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Po(a,l,d,m){l&=~Fb,l&=~Xl,a.suspendedLanes|=l,a.pingedLanes&=~l,m&&(a.warmLanes|=l),m=a.expirationTimes;for(var b=l;0<b;){var _=31-en(b),T=1<<_;m[_]=-1,b&=~T}d!==0&&_i(a,d,l)}function Tp(){return(jt&6)===0?(Af(0),!1):!0}function Wb(){if(at!==null){if(Ct===0)var a=at.return;else a=at,cs=Bl=null,db(a),vu=null,cf=0,a=at;for(;a!==null;)aT(a.alternate,a),a=a.return;at=null}}function Au(a,l){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,M9(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),xs=0,Wb(),Bt=a,at=d=os(a.current,null),lt=l,Ct=0,li=null,Ao=!1,Eu=ti(a,l),$b=!1,Nu=ci=Fb=Xl=To=un=0,Gr=Nf=null,Hb=!1,(l&8)!==0&&(l|=l&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=l;0<m;){var b=31-en(m),_=1<<b;l|=a[b],m&=~_}return bs=l,Wm(),d}function CT(a,l){et=null,H.H=vf,l===gu||l===rp?(l=HS(),Ct=3):l===Z0?(l=HS(),Ct=4):Ct=l===Ab?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,li=l,at===null&&(un=1,vp(a,Ai(l,a.current)))}function OT(){var a=si.current;return a===null?!0:(lt&4194048)===lt?Pi===null:(lt&62914560)===lt||(lt&536870912)!==0?a===Pi:!1}function PT(){var a=H.H;return H.H=vf,a===null?vf:a}function IT(){var a=H.A;return H.A=m9,a}function Cp(){un=4,Ao||(lt&4194048)!==lt&&si.current!==null||(Eu=!0),(To&134217727)===0&&(Xl&134217727)===0||Bt===null||Po(Bt,lt,ci,!1)}function Yb(a,l,d){var m=jt;jt|=2;var b=PT(),_=IT();(Bt!==a||lt!==l)&&(Ap=null,Au(a,l)),l=!1;var T=un;e:do try{if(Ct!==0&&at!==null){var z=at,G=li;switch(Ct){case 8:Wb(),T=6;break e;case 3:case 2:case 9:case 6:si.current===null&&(l=!0);var se=Ct;if(Ct=0,li=null,Tu(a,z,G,se),d&&Eu){T=0;break e}break;default:se=Ct,Ct=0,li=null,Tu(a,z,G,se)}}v9(),T=un;break}catch(me){CT(a,me)}while(!0);return l&&a.shellSuspendCounter++,cs=Bl=null,jt=m,H.H=b,H.A=_,at===null&&(Bt=null,lt=0,Wm()),T}function v9(){for(;at!==null;)RT(at)}function y9(a,l){var d=jt;jt|=2;var m=PT(),b=IT();Bt!==a||lt!==l?(Ap=null,Sp=Ve()+500,Au(a,l)):Eu=ti(a,l);e:do try{if(Ct!==0&&at!==null){l=at;var _=li;t:switch(Ct){case 1:Ct=0,li=null,Tu(a,l,_,1);break;case 2:case 9:if($S(_)){Ct=0,li=null,kT(l);break}l=function(){Ct!==2&&Ct!==9||Bt!==a||(Ct=7),Pa(a)},_.then(l,l);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:$S(_)?(Ct=0,li=null,kT(l)):(Ct=0,li=null,Tu(a,l,_,7));break;case 5:var T=null;switch(at.tag){case 26:T=at.memoizedState;case 5:case 27:var z=at;if(T?bC(T):z.stateNode.complete){Ct=0,li=null;var G=z.sibling;if(G!==null)at=G;else{var se=z.return;se!==null?(at=se,Op(se)):at=null}break t}}Ct=0,li=null,Tu(a,l,_,5);break;case 6:Ct=0,li=null,Tu(a,l,_,6);break;case 8:Wb(),un=6;break e;default:throw Error(r(462))}}b9();break}catch(me){CT(a,me)}while(!0);return cs=Bl=null,H.H=m,H.A=b,jt=d,at!==null?0:(Bt=null,lt=0,Wm(),un)}function b9(){for(;at!==null&&!he();)RT(at)}function RT(a){var l=rT(a.alternate,a,bs);a.memoizedProps=a.pendingProps,l===null?Op(a):at=l}function kT(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=XA(d,l,l.pendingProps,l.type,void 0,lt);break;case 11:l=XA(d,l,l.pendingProps,l.type.render,l.ref,lt);break;case 5:db(l);default:aT(d,l),l=at=IS(l,bs),l=rT(d,l,bs)}a.memoizedProps=a.pendingProps,l===null?Op(a):at=l}function Tu(a,l,d,m){cs=Bl=null,db(l),vu=null,cf=0;var b=l.return;try{if(o9(a,b,l,d,lt)){un=1,vp(a,Ai(d,a.current)),at=null;return}}catch(_){if(b!==null)throw at=b,_;un=1,vp(a,Ai(d,a.current)),at=null;return}l.flags&32768?(mt||m===1?a=!0:Eu||(lt&536870912)!==0?a=!1:(Ao=a=!0,(m===2||m===9||m===3||m===6)&&(m=si.current,m!==null&&m.tag===13&&(m.flags|=16384))),DT(l,a)):Op(l)}function Op(a){var l=a;do{if((l.flags&32768)!==0){DT(l,Ao);return}a=l.return;var d=u9(l.alternate,l,bs);if(d!==null){at=d;return}if(l=l.sibling,l!==null){at=l;return}at=l=a}while(l!==null);un===0&&(un=5)}function DT(a,l){do{var d=d9(a.alternate,a);if(d!==null){d.flags&=32767,at=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){at=a;return}at=a=d}while(a!==null);un=6,at=null}function MT(a,l,d,m,b,_,T,z,G){a.cancelPendingCommit=null;do Pp();while(Ln!==0);if((jt&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(_=l.lanes|l.childLanes,_|=L0,Sl(a,d,_,T,z,G),a===Bt&&(at=Bt=null,lt=0),Su=l,Oo=a,xs=d,Gb=_,Kb=b,NT=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,j9(Lr,function(){return VT(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=H.T,H.T=null,b=ce.p,ce.p=2,T=jt,jt|=4;try{f9(a,l,d)}finally{jt=T,ce.p=b,H.T=m}}Ln=1,zT(),LT(),qT()}}function zT(){if(Ln===1){Ln=0;var a=Oo,l=Su,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=H.T,H.T=null;var m=ce.p;ce.p=2;var b=jt;jt|=4;try{vT(l,a);var _=lx,T=jS(a.containerInfo),z=_.focusedElem,G=_.selectionRange;if(T!==z&&z&&z.ownerDocument&&wS(z.ownerDocument.documentElement,z)){if(G!==null&&R0(z)){var se=G.start,me=G.end;if(me===void 0&&(me=se),"selectionStart"in z)z.selectionStart=se,z.selectionEnd=Math.min(me,z.value.length);else{var xe=z.ownerDocument||document,le=xe&&xe.defaultView||window;if(le.getSelection){var fe=le.getSelection(),Oe=z.textContent.length,$e=Math.min(G.start,Oe),Lt=G.end===void 0?$e:Math.min(G.end,Oe);!fe.extend&&$e>Lt&&(T=Lt,Lt=$e,$e=T);var ee=_S(z,$e),K=_S(z,Lt);if(ee&&K&&(fe.rangeCount!==1||fe.anchorNode!==ee.node||fe.anchorOffset!==ee.offset||fe.focusNode!==K.node||fe.focusOffset!==K.offset)){var ae=xe.createRange();ae.setStart(ee.node,ee.offset),fe.removeAllRanges(),$e>Lt?(fe.addRange(ae),fe.extend(K.node,K.offset)):(ae.setEnd(K.node,K.offset),fe.addRange(ae))}}}}for(xe=[],fe=z;fe=fe.parentNode;)fe.nodeType===1&&xe.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<xe.length;z++){var be=xe[z];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}$p=!!ox,lx=ox=null}finally{jt=b,ce.p=m,H.T=d}}a.current=l,Ln=2}}function LT(){if(Ln===2){Ln=0;var a=Oo,l=Su,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=H.T,H.T=null;var m=ce.p;ce.p=2;var b=jt;jt|=4;try{fT(a,l.alternate,l)}finally{jt=b,ce.p=m,H.T=d}}Ln=3}}function qT(){if(Ln===4||Ln===3){Ln=0,Ie();var a=Oo,l=Su,d=xs,m=NT;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Ln=5:(Ln=0,Su=Oo=null,UT(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(Co=null),rs(d),l=l.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(on,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=H.T,b=ce.p,ce.p=2,H.T=null;try{for(var _=a.onRecoverableError,T=0;T<m.length;T++){var z=m[T];_(z.value,{componentStack:z.stack})}}finally{H.T=l,ce.p=b}}(xs&3)!==0&&Pp(),Pa(a),b=a.pendingLanes,(d&261930)!==0&&(b&42)!==0?a===Qb?Sf++:(Sf=0,Qb=a):Sf=0,Af(0)}}function UT(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,of(l)))}function Pp(){return zT(),LT(),qT(),VT()}function VT(){if(Ln!==5)return!1;var a=Oo,l=Gb;Gb=0;var d=rs(xs),m=H.T,b=ce.p;try{ce.p=32>d?32:d,H.T=null,d=Kb,Kb=null;var _=Oo,T=xs;if(Ln=0,Su=Oo=null,xs=0,(jt&6)!==0)throw Error(r(331));var z=jt;if(jt|=4,wT(_.current),bT(_,_.current,T,d),jt=z,Af(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(on,_)}catch{}return!0}finally{ce.p=b,H.T=m,UT(a,l)}}function BT(a,l,d){l=Ai(d,l),l=Sb(a.stateNode,l,2),a=jo(a,l,2),a!==null&&(Fn(a,2),Pa(a))}function Ot(a,l,d){if(a.tag===3)BT(a,a,d);else for(;l!==null;){if(l.tag===3){BT(l,a,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Co===null||!Co.has(m))){a=Ai(d,a),d=$A(2),m=jo(l,d,2),m!==null&&(FA(d,m,l,a),Fn(m,2),Pa(m));break}}l=l.return}}function Xb(a,l,d){var m=a.pingCache;if(m===null){m=a.pingCache=new p9;var b=new Set;m.set(l,b)}else b=m.get(l),b===void 0&&(b=new Set,m.set(l,b));b.has(d)||($b=!0,b.add(d),a=x9.bind(null,a,l,d),l.then(a,a))}function x9(a,l,d){var m=a.pingCache;m!==null&&m.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,Bt===a&&(lt&d)===d&&(un===4||un===3&&(lt&62914560)===lt&&300>Ve()-Np?(jt&2)===0&&Au(a,0):Fb|=d,Nu===lt&&(Nu=0)),Pa(a)}function $T(a,l){l===0&&(l=Ue()),a=ql(a,l),a!==null&&(Fn(a,l),Pa(a))}function _9(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),$T(a,d)}function w9(a,l){var d=0;switch(a.tag){case 31:case 13:var m=a.stateNode,b=a.memoizedState;b!==null&&(d=b.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),$T(a,d)}function j9(a,l){return kt(a,l)}var Ip=null,Cu=null,Jb=!1,Rp=!1,Zb=!1,Io=0;function Pa(a){a!==Cu&&a.next===null&&(Cu===null?Ip=Cu=a:Cu=Cu.next=a),Rp=!0,Jb||(Jb=!0,N9())}function Af(a,l){if(!Zb&&Rp){Zb=!0;do for(var d=!1,m=Ip;m!==null;){if(a!==0){var b=m.pendingLanes;if(b===0)var _=0;else{var T=m.suspendedLanes,z=m.pingedLanes;_=(1<<31-en(42|a)+1)-1,_&=b&~(T&~z),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(d=!0,KT(m,_))}else _=lt,_=pr(m,m===Bt?_:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(_&3)===0||ti(m,_)||(d=!0,KT(m,_));m=m.next}while(d);Zb=!1}}function E9(){FT()}function FT(){Rp=Jb=!1;var a=0;Io!==0&&D9()&&(a=Io);for(var l=Ve(),d=null,m=Ip;m!==null;){var b=m.next,_=HT(m,l);_===0?(m.next=null,d===null?Ip=b:d.next=b,b===null&&(Cu=d)):(d=m,(a!==0||(_&3)!==0)&&(Rp=!0)),m=b}Ln!==0&&Ln!==5||Af(a),Io!==0&&(Io=0)}function HT(a,l){for(var d=a.suspendedLanes,m=a.pingedLanes,b=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var T=31-en(_),z=1<<T,G=b[T];G===-1?((z&d)===0||(z&m)!==0)&&(b[T]=te(z,l)):G<=l&&(a.expiredLanes|=z),_&=~z}if(l=Bt,d=lt,d=pr(a,a===l?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,d===0||a===l&&(Ct===2||Ct===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&zr(m),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||ti(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(m!==null&&zr(m),rs(d)){case 2:case 8:d=zn;break;case 32:d=Lr;break;case 268435456:d=qr;break;default:d=Lr}return m=GT.bind(null,a),d=kt(d,m),a.callbackPriority=l,a.callbackNode=d,l}return m!==null&&m!==null&&zr(m),a.callbackPriority=2,a.callbackNode=null,2}function GT(a,l){if(Ln!==0&&Ln!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(Pp()&&a.callbackNode!==d)return null;var m=lt;return m=pr(a,a===Bt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(AT(a,m,l),HT(a,Ve()),a.callbackNode!=null&&a.callbackNode===d?GT.bind(null,a):null)}function KT(a,l){if(Pp())return null;AT(a,l,!0)}function N9(){z9(function(){(jt&6)!==0?kt(Vt,E9):FT()})}function ex(){if(Io===0){var a=mu;a===0&&(a=bi,bi<<=1,(bi&261888)===0&&(bi=256)),Io=a}return Io}function QT(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Zc(""+a)}function WT(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function S9(a,l,d,m,b){if(l==="submit"&&d&&d.stateNode===b){var _=QT((b[Hn]||null).action),T=m.submitter;T&&(l=(l=T[Hn]||null)?QT(l.formAction):T.getAttribute("formAction"),l!==null&&(_=l,T=null));var z=new Ea("action","action",null,m,b);a.push({event:z,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Io!==0){var G=T?WT(b,T):new FormData(b);xb(d,{pending:!0,data:G,method:b.method,action:_},null,G)}}else typeof _=="function"&&(z.preventDefault(),G=T?WT(b,T):new FormData(b),xb(d,{pending:!0,data:G,method:b.method,action:_},_,G))},currentTarget:b}]})}}for(var tx=0;tx<z0.length;tx++){var nx=z0[tx],A9=nx.toLowerCase(),T9=nx[0].toUpperCase()+nx.slice(1);Zi(A9,"on"+T9)}Zi(SS,"onAnimationEnd"),Zi(AS,"onAnimationIteration"),Zi(TS,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(FU,"onTransitionRun"),Zi(HU,"onTransitionStart"),Zi(GU,"onTransitionCancel"),Zi(CS,"onTransitionEnd"),xa("onMouseEnter",["mouseout","mouseover"]),xa("onMouseLeave",["mouseout","mouseover"]),xa("onPointerEnter",["pointerout","pointerover"]),xa("onPointerLeave",["pointerout","pointerover"]),ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tf));function YT(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var m=a[d],b=m.event;m=m.listeners;e:{var _=void 0;if(l)for(var T=m.length-1;0<=T;T--){var z=m[T],G=z.instance,se=z.currentTarget;if(z=z.listener,G!==_&&b.isPropagationStopped())break e;_=z,b.currentTarget=se;try{_(b)}catch(me){Qm(me)}b.currentTarget=null,_=G}else for(T=0;T<m.length;T++){if(z=m[T],G=z.instance,se=z.currentTarget,z=z.listener,G!==_&&b.isPropagationStopped())break e;_=z,b.currentTarget=se;try{_(b)}catch(me){Qm(me)}b.currentTarget=null,_=G}}}}function st(a,l){var d=l[Qc];d===void 0&&(d=l[Qc]=new Set);var m=a+"__bubble";d.has(m)||(XT(l,a,2,!1),d.add(m))}function rx(a,l,d){var m=0;l&&(m|=4),XT(d,a,m,l)}var kp="_reactListening"+Math.random().toString(36).slice(2);function ix(a){if(!a[kp]){a[kp]=!0,qd.forEach(function(d){d!=="selectionchange"&&(C9.has(d)||rx(d,!1,a),rx(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[kp]||(l[kp]=!0,rx("selectionchange",!1,l))}}function XT(a,l,d,m){switch(SC(l)){case 2:var b=rV;break;case 8:b=iV;break;default:b=bx}d=b.bind(null,l,d,a),b=void 0,!Pl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),m?b!==void 0?a.addEventListener(l,d,{capture:!0,passive:b}):a.addEventListener(l,d,!0):b!==void 0?a.addEventListener(l,d,{passive:b}):a.addEventListener(l,d,!1)}function ax(a,l,d,m,b){var _=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var T=m.tag;if(T===3||T===4){var z=m.stateNode.containerInfo;if(z===b)break;if(T===4)for(T=m.return;T!==null;){var G=T.tag;if((G===3||G===4)&&T.stateNode.containerInfo===b)return;T=T.return}for(;z!==null;){if(T=va(z),T===null)return;if(G=T.tag,G===5||G===6||G===26||G===27){m=_=T;continue e}z=z.parentNode}}m=m.return}ho(function(){var se=_,me=ji(d),xe=[];e:{var le=OS.get(a);if(le!==void 0){var fe=Ea,Oe=a;switch(a){case"keypress":if(Rl(d)===0)break e;case"keydown":case"keyup":fe=Hm;break;case"focusin":Oe="focus",fe=Dl;break;case"focusout":Oe="blur",fe=Dl;break;case"beforeblur":case"afterblur":fe=Dl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Mm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=S;break;case SS:case AS:case TS:fe=Lm;break;case CS:fe=B;break;case"scroll":case"scrollend":fe=Xd;break;case"wheel":fe=de;break;case"copy":case"cut":case"paste":fe=qm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=ss;break;case"toggle":case"beforetoggle":fe=Ze}var $e=(l&4)!==0,Lt=!$e&&(a==="scroll"||a==="scrollend"),ee=$e?le!==null?le+"Capture":null:le;$e=[];for(var K=se,ae;K!==null;){var be=K;if(ae=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||ae===null||ee===null||(be=Wi(K,ee),be!=null&&$e.push(Cf(K,be,ae))),Lt)break;K=K.return}0<$e.length&&(le=new fe(le,Oe,null,d,me),xe.push({event:le,listeners:$e}))}}if((l&7)===0){e:{if(le=a==="mouseover"||a==="pointerover",fe=a==="mouseout"||a==="pointerout",le&&d!==Qd&&(Oe=d.relatedTarget||d.fromElement)&&(va(Oe)||Oe[pa]))break e;if((fe||le)&&(le=me.window===me?me:(le=me.ownerDocument)?le.defaultView||le.parentWindow:window,fe?(Oe=d.relatedTarget||d.toElement,fe=se,Oe=Oe?va(Oe):null,Oe!==null&&(Lt=s(Oe),$e=Oe.tag,Oe!==Lt||$e!==5&&$e!==27&&$e!==6)&&(Oe=null)):(fe=null,Oe=se),fe!==Oe)){if($e=Jd,be="onMouseLeave",ee="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&($e=ss,be="onPointerLeave",ee="onPointerEnter",K="pointer"),Lt=fe==null?le:ni(fe),ae=Oe==null?le:ni(Oe),le=new $e(be,K+"leave",fe,d,me),le.target=Lt,le.relatedTarget=ae,be=null,va(me)===se&&($e=new $e(ee,K+"enter",Oe,d,me),$e.target=ae,$e.relatedTarget=Lt,be=$e),Lt=be,fe&&Oe)t:{for($e=O9,ee=fe,K=Oe,ae=0,be=ee;be;be=$e(be))ae++;be=0;for(var Le=K;Le;Le=$e(Le))be++;for(;0<ae-be;)ee=$e(ee),ae--;for(;0<be-ae;)K=$e(K),be--;for(;ae--;){if(ee===K||K!==null&&ee===K.alternate){$e=ee;break t}ee=$e(ee),K=$e(K)}$e=null}else $e=null;fe!==null&&JT(xe,le,fe,$e,!1),Oe!==null&&Lt!==null&&JT(xe,Lt,Oe,$e,!0)}}e:{if(le=se?ni(se):window,fe=le.nodeName&&le.nodeName.toLowerCase(),fe==="select"||fe==="input"&&le.type==="file")var bt=pS;else if(hS(le))if(gS)bt=VU;else{bt=qU;var Re=LU}else fe=le.nodeName,!fe||fe.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?se&&Jc(se.elementType)&&(bt=pS):bt=UU;if(bt&&(bt=bt(a,se))){mS(xe,bt,d,me);break e}Re&&Re(a,le,se),a==="focusout"&&se&&le.type==="number"&&se.memoizedProps.value!=null&&Hd(le,"number",le.value)}switch(Re=se?ni(se):window,a){case"focusin":(hS(Re)||Re.contentEditable==="true")&&(su=Re,k0=se,rf=null);break;case"focusout":rf=k0=su=null;break;case"mousedown":D0=!0;break;case"contextmenu":case"mouseup":case"dragend":D0=!1,ES(xe,d,me);break;case"selectionchange":if($U)break;case"keydown":case"keyup":ES(xe,d,me)}var tt;if(wt)e:{switch(a){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else au?Ml(a,d)&&(ct="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(ct="onCompositionStart");ct&&(Aa&&d.locale!=="ko"&&(au||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&au&&(tt=Yd()):(ja=me,Wd="value"in ja?ja.value:ja.textContent,au=!0)),Re=Dp(se,ct),0<Re.length&&(ct=new Sa(ct,a,null,d,me),xe.push({event:ct,listeners:Re}),tt?ct.data=tt:(tt=iu(d),tt!==null&&(ct.data=tt)))),(tt=Ni?kU(a,d):DU(a,d))&&(ct=Dp(se,"onBeforeInput"),0<ct.length&&(Re=new Sa("onBeforeInput","beforeinput",null,d,me),xe.push({event:Re,listeners:ct}),Re.data=tt)),S9(xe,a,se,d,me)}YT(xe,l)})}function Cf(a,l,d){return{instance:a,listener:l,currentTarget:d}}function Dp(a,l){for(var d=l+"Capture",m=[];a!==null;){var b=a,_=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||_===null||(b=Wi(a,d),b!=null&&m.unshift(Cf(a,b,_)),b=Wi(a,l),b!=null&&m.push(Cf(a,b,_))),a.tag===3)return m;a=a.return}return[]}function O9(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function JT(a,l,d,m,b){for(var _=l._reactName,T=[];d!==null&&d!==m;){var z=d,G=z.alternate,se=z.stateNode;if(z=z.tag,G!==null&&G===m)break;z!==5&&z!==26&&z!==27||se===null||(G=se,b?(se=Wi(d,_),se!=null&&T.unshift(Cf(d,se,G))):b||(se=Wi(d,_),se!=null&&T.push(Cf(d,se,G)))),d=d.return}T.length!==0&&a.push({event:l,listeners:T})}var P9=/\r\n?/g,I9=/\u0000|\uFFFD/g;function ZT(a){return(typeof a=="string"?a:""+a).replace(P9,`
`).replace(I9,"")}function eC(a,l){return l=ZT(l),ZT(a)===l}function zt(a,l,d,m,b,_){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Br(a,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Br(a,""+m);break;case"className":ri(a,"class",m);break;case"tabIndex":ri(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ri(a,d,m);break;case"style":Kd(a,m,_);break;case"data":if(l!=="object"){ri(a,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=Zc(""+m),a.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(d==="formAction"?(l!=="input"&&zt(a,l,"name",b.name,b,null),zt(a,l,"formEncType",b.formEncType,b,null),zt(a,l,"formMethod",b.formMethod,b,null),zt(a,l,"formTarget",b.formTarget,b,null)):(zt(a,l,"encType",b.encType,b,null),zt(a,l,"method",b.method,b,null),zt(a,l,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=Zc(""+m),a.setAttribute(d,m);break;case"onClick":m!=null&&(a.onclick=Qi);break;case"onScroll":m!=null&&st("scroll",a);break;case"onScrollEnd":m!=null&&st("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}d=Zc(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""+m):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":m===!0?a.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,m):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(d,m):a.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(d):a.setAttribute(d,m);break;case"popover":st("beforetoggle",a),st("toggle",a),Yc(a,"popover",m);break;case"xlinkActuate":Sn(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Sn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Sn(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Sn(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Sn(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Sn(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Sn(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Sn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Sn(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Yc(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Dm.get(d)||d,Yc(a,d,m))}}function sx(a,l,d,m,b,_){switch(d){case"style":Kd(a,m,_);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof m=="string"?Br(a,m):(typeof m=="number"||typeof m=="bigint")&&Br(a,""+m);break;case"onScroll":m!=null&&st("scroll",a);break;case"onScrollEnd":m!=null&&st("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Qi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ud.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),l=d.slice(2,b?d.length-7:void 0),_=a[Hn]||null,_=_!=null?_[d]:null,typeof _=="function"&&a.removeEventListener(l,_,b),typeof m=="function")){typeof _!="function"&&_!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,m,b);break e}d in a?a[d]=m:m===!0?a.setAttribute(d,""):Yc(a,d,m)}}}function or(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",a),st("load",a);var m=!1,b=!1,_;for(_ in d)if(d.hasOwnProperty(_)){var T=d[_];if(T!=null)switch(_){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:zt(a,l,_,T,d,null)}}b&&zt(a,l,"srcSet",d.srcSet,d,null),m&&zt(a,l,"src",d.src,d,null);return;case"input":st("invalid",a);var z=_=T=b=null,G=null,se=null;for(m in d)if(d.hasOwnProperty(m)){var me=d[m];if(me!=null)switch(m){case"name":b=me;break;case"type":T=me;break;case"checked":G=me;break;case"defaultChecked":se=me;break;case"value":_=me;break;case"defaultValue":z=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,l));break;default:zt(a,l,m,me,d,null)}}Im(a,_,z,G,se,T,b,!1);return;case"select":st("invalid",a),m=T=_=null;for(b in d)if(d.hasOwnProperty(b)&&(z=d[b],z!=null))switch(b){case"value":_=z;break;case"defaultValue":T=z;break;case"multiple":m=z;default:zt(a,l,b,z,d,null)}l=_,d=T,a.multiple=!!m,l!=null?lo(a,!!m,l,!1):d!=null&&lo(a,!!m,d,!0);return;case"textarea":st("invalid",a),_=b=m=null;for(T in d)if(d.hasOwnProperty(T)&&(z=d[T],z!=null))switch(T){case"value":m=z;break;case"defaultValue":b=z;break;case"children":_=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:zt(a,l,T,z,d,null)}co(a,m,b,_);return;case"option":for(G in d)d.hasOwnProperty(G)&&(m=d[G],m!=null)&&(G==="selected"?a.selected=m&&typeof m!="function"&&typeof m!="symbol":zt(a,l,G,m,d,null));return;case"dialog":st("beforetoggle",a),st("toggle",a),st("cancel",a),st("close",a);break;case"iframe":case"object":st("load",a);break;case"video":case"audio":for(m=0;m<Tf.length;m++)st(Tf[m],a);break;case"image":st("error",a),st("load",a);break;case"details":st("toggle",a);break;case"embed":case"source":case"link":st("error",a),st("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in d)if(d.hasOwnProperty(se)&&(m=d[se],m!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:zt(a,l,se,m,d,null)}return;default:if(Jc(l)){for(me in d)d.hasOwnProperty(me)&&(m=d[me],m!==void 0&&sx(a,l,me,m,d,void 0));return}}for(z in d)d.hasOwnProperty(z)&&(m=d[z],m!=null&&zt(a,l,z,m,d,null))}function R9(a,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,_=null,T=null,z=null,G=null,se=null,me=null;for(fe in d){var xe=d[fe];if(d.hasOwnProperty(fe)&&xe!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":G=xe;default:m.hasOwnProperty(fe)||zt(a,l,fe,null,m,xe)}}for(var le in m){var fe=m[le];if(xe=d[le],m.hasOwnProperty(le)&&(fe!=null||xe!=null))switch(le){case"type":_=fe;break;case"name":b=fe;break;case"checked":se=fe;break;case"defaultChecked":me=fe;break;case"value":T=fe;break;case"defaultValue":z=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,l));break;default:fe!==xe&&zt(a,l,le,fe,m,xe)}}Xc(a,T,z,G,se,me,_,b);return;case"select":fe=T=z=le=null;for(_ in d)if(G=d[_],d.hasOwnProperty(_)&&G!=null)switch(_){case"value":break;case"multiple":fe=G;default:m.hasOwnProperty(_)||zt(a,l,_,null,m,G)}for(b in m)if(_=m[b],G=d[b],m.hasOwnProperty(b)&&(_!=null||G!=null))switch(b){case"value":le=_;break;case"defaultValue":z=_;break;case"multiple":T=_;default:_!==G&&zt(a,l,b,_,m,G)}l=z,d=T,m=fe,le!=null?lo(a,!!d,le,!1):!!m!=!!d&&(l!=null?lo(a,!!d,l,!0):lo(a,!!d,d?[]:"",!1));return;case"textarea":fe=le=null;for(z in d)if(b=d[z],d.hasOwnProperty(z)&&b!=null&&!m.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:zt(a,l,z,null,m,b)}for(T in m)if(b=m[T],_=d[T],m.hasOwnProperty(T)&&(b!=null||_!=null))switch(T){case"value":le=b;break;case"defaultValue":fe=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==_&&zt(a,l,T,b,m,_)}Rm(a,le,fe);return;case"option":for(var Oe in d)le=d[Oe],d.hasOwnProperty(Oe)&&le!=null&&!m.hasOwnProperty(Oe)&&(Oe==="selected"?a.selected=!1:zt(a,l,Oe,null,m,le));for(G in m)le=m[G],fe=d[G],m.hasOwnProperty(G)&&le!==fe&&(le!=null||fe!=null)&&(G==="selected"?a.selected=le&&typeof le!="function"&&typeof le!="symbol":zt(a,l,G,le,m,fe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in d)le=d[$e],d.hasOwnProperty($e)&&le!=null&&!m.hasOwnProperty($e)&&zt(a,l,$e,null,m,le);for(se in m)if(le=m[se],fe=d[se],m.hasOwnProperty(se)&&le!==fe&&(le!=null||fe!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,l));break;default:zt(a,l,se,le,m,fe)}return;default:if(Jc(l)){for(var Lt in d)le=d[Lt],d.hasOwnProperty(Lt)&&le!==void 0&&!m.hasOwnProperty(Lt)&&sx(a,l,Lt,void 0,m,le);for(me in m)le=m[me],fe=d[me],!m.hasOwnProperty(me)||le===fe||le===void 0&&fe===void 0||sx(a,l,me,le,m,fe);return}}for(var ee in d)le=d[ee],d.hasOwnProperty(ee)&&le!=null&&!m.hasOwnProperty(ee)&&zt(a,l,ee,null,m,le);for(xe in m)le=m[xe],fe=d[xe],!m.hasOwnProperty(xe)||le===fe||le==null&&fe==null||zt(a,l,xe,le,m,fe)}function tC(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function k9(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var b=d[m],_=b.transferSize,T=b.initiatorType,z=b.duration;if(_&&z&&tC(T)){for(T=0,z=b.responseEnd,m+=1;m<d.length;m++){var G=d[m],se=G.startTime;if(se>z)break;var me=G.transferSize,xe=G.initiatorType;me&&tC(xe)&&(G=G.responseEnd,T+=me*(G<z?1:(z-se)/(G-se)))}if(--m,l+=8*(_+T)/(b.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var ox=null,lx=null;function Mp(a){return a.nodeType===9?a:a.ownerDocument}function nC(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rC(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function cx(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var ux=null;function D9(){var a=window.event;return a&&a.type==="popstate"?a===ux?!1:(ux=a,!0):(ux=null,!1)}var iC=typeof setTimeout=="function"?setTimeout:void 0,M9=typeof clearTimeout=="function"?clearTimeout:void 0,aC=typeof Promise=="function"?Promise:void 0,z9=typeof queueMicrotask=="function"?queueMicrotask:typeof aC<"u"?function(a){return aC.resolve(null).then(a).catch(L9)}:iC;function L9(a){setTimeout(function(){throw a})}function Ro(a){return a==="head"}function sC(a,l){var d=l,m=0;do{var b=d.nextSibling;if(a.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"||d==="/&"){if(m===0){a.removeChild(b),Ru(l);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")Of(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,Of(d);for(var _=d.firstChild;_;){var T=_.nextSibling,z=_.nodeName;_[ga]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&_.rel.toLowerCase()==="stylesheet"||d.removeChild(_),_=T}}else d==="body"&&Of(a.ownerDocument.body);d=b}while(d);Ru(l)}function oC(a,l){var d=a;a=0;do{var m=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=m}while(d)}function dx(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":dx(d),Wc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function q9(a,l,d,m){for(;a.nodeType===1;){var b=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[ga])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var _=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=Ii(a.nextSibling),a===null)break}return null}function U9(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Ii(a.nextSibling),a===null))return null;return a}function lC(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Ii(a.nextSibling),a===null))return null;return a}function fx(a){return a.data==="$?"||a.data==="$~"}function hx(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function V9(a,l){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||d.readyState!=="loading")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Ii(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var mx=null;function cC(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(l===0)return Ii(a.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}a=a.nextSibling}return null}function uC(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return a;l--}else d!=="/$"&&d!=="/&"||l++}a=a.previousSibling}return null}function dC(a,l,d){switch(l=Mp(d),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Of(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Wc(a)}var Ri=new Map,fC=new Set;function zp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var _s=ce.d;ce.d={f:B9,r:$9,D:F9,C:H9,L:G9,m:K9,X:W9,S:Q9,M:Y9};function B9(){var a=_s.f(),l=Tp();return a||l}function $9(a){var l=wi(a);l!==null&&l.tag===5&&l.type==="form"?CA(l):_s.r(a)}var Ou=typeof document>"u"?null:document;function hC(a,l,d){var m=Ou;if(m&&typeof l=="string"&&l){var b=Vr(l);b='link[rel="'+a+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),fC.has(b)||(fC.add(b),a={rel:a,crossOrigin:d,href:l},m.querySelector(b)===null&&(l=m.createElement("link"),or(l,"link",a),Nn(l),m.head.appendChild(l)))}}function F9(a){_s.D(a),hC("dns-prefetch",a,null)}function H9(a,l){_s.C(a,l),hC("preconnect",a,l)}function G9(a,l,d){_s.L(a,l,d);var m=Ou;if(m&&a&&l){var b='link[rel="preload"][as="'+Vr(l)+'"]';l==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+Vr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+Vr(d.imageSizes)+'"]')):b+='[href="'+Vr(a)+'"]';var _=b;switch(l){case"style":_=Pu(a);break;case"script":_=Iu(a)}Ri.has(_)||(a=g({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),Ri.set(_,a),m.querySelector(b)!==null||l==="style"&&m.querySelector(Pf(_))||l==="script"&&m.querySelector(If(_))||(l=m.createElement("link"),or(l,"link",a),Nn(l),m.head.appendChild(l)))}}function K9(a,l){_s.m(a,l);var d=Ou;if(d&&a){var m=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Vr(m)+'"][href="'+Vr(a)+'"]',_=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Iu(a)}if(!Ri.has(_)&&(a=g({rel:"modulepreload",href:a},l),Ri.set(_,a),d.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(If(_)))return}m=d.createElement("link"),or(m,"link",a),Nn(m),d.head.appendChild(m)}}}function Q9(a,l,d){_s.S(a,l,d);var m=Ou;if(m&&a){var b=ya(m).hoistableStyles,_=Pu(a);l=l||"default";var T=b.get(_);if(!T){var z={loading:0,preload:null};if(T=m.querySelector(Pf(_)))z.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":l},d),(d=Ri.get(_))&&px(a,d);var G=T=m.createElement("link");Nn(G),or(G,"link",a),G._p=new Promise(function(se,me){G.onload=se,G.onerror=me}),G.addEventListener("load",function(){z.loading|=1}),G.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Lp(T,l,m)}T={type:"stylesheet",instance:T,count:1,state:z},b.set(_,T)}}}function W9(a,l){_s.X(a,l);var d=Ou;if(d&&a){var m=ya(d).hoistableScripts,b=Iu(a),_=m.get(b);_||(_=d.querySelector(If(b)),_||(a=g({src:a,async:!0},l),(l=Ri.get(b))&&gx(a,l),_=d.createElement("script"),Nn(_),or(_,"link",a),d.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(b,_))}}function Y9(a,l){_s.M(a,l);var d=Ou;if(d&&a){var m=ya(d).hoistableScripts,b=Iu(a),_=m.get(b);_||(_=d.querySelector(If(b)),_||(a=g({src:a,async:!0,type:"module"},l),(l=Ri.get(b))&&gx(a,l),_=d.createElement("script"),Nn(_),or(_,"link",a),d.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(b,_))}}function mC(a,l,d,m){var b=(b=re.current)?zp(b):null;if(!b)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Pu(d.href),d=ya(b).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=Pu(d.href);var _=ya(b).hoistableStyles,T=_.get(a);if(T||(b=b.ownerDocument||b,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,T),(_=b.querySelector(Pf(a)))&&!_._p&&(T.instance=_,T.state.loading=5),Ri.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Ri.set(a,d),_||X9(b,a,d,T.state))),l&&m===null)throw Error(r(528,""));return T}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Iu(d),d=ya(b).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Pu(a){return'href="'+Vr(a)+'"'}function Pf(a){return'link[rel="stylesheet"]['+a+"]"}function pC(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function X9(a,l,d,m){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=a.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),or(l,"link",d),Nn(l),a.head.appendChild(l))}function Iu(a){return'[src="'+Vr(a)+'"]'}function If(a){return"script[async]"+a}function gC(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=a.querySelector('style[data-href~="'+Vr(d.href)+'"]');if(m)return l.instance=m,Nn(m),m;var b=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Nn(m),or(m,"style",b),Lp(m,d.precedence,a),l.instance=m;case"stylesheet":b=Pu(d.href);var _=a.querySelector(Pf(b));if(_)return l.state.loading|=4,l.instance=_,Nn(_),_;m=pC(d),(b=Ri.get(b))&&px(m,b),_=(a.ownerDocument||a).createElement("link"),Nn(_);var T=_;return T._p=new Promise(function(z,G){T.onload=z,T.onerror=G}),or(_,"link",m),l.state.loading|=4,Lp(_,d.precedence,a),l.instance=_;case"script":return _=Iu(d.src),(b=a.querySelector(If(_)))?(l.instance=b,Nn(b),b):(m=d,(b=Ri.get(_))&&(m=g({},d),gx(m,b)),a=a.ownerDocument||a,b=a.createElement("script"),Nn(b),or(b,"link",m),a.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Lp(m,d.precedence,a));return l.instance}function Lp(a,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,_=b,T=0;T<m.length;T++){var z=m[T];if(z.dataset.precedence===l)_=z;else if(_!==b)break}_?_.parentNode.insertBefore(a,_.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function px(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function gx(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var qp=null;function vC(a,l,d){if(qp===null){var m=new Map,b=qp=new Map;b.set(d,m)}else b=qp,m=b.get(d),m||(m=new Map,b.set(d,m));if(m.has(a))return m;for(m.set(a,null),d=d.getElementsByTagName(a),b=0;b<d.length;b++){var _=d[b];if(!(_[ga]||_[En]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var T=_.getAttribute(l)||"";T=a+T;var z=m.get(T);z?z.push(_):m.set(T,[_])}}return m}function yC(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function J9(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(a=l.disabled,typeof l.precedence=="string"&&a==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function bC(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function Z9(a,l,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var b=Pu(m.href),_=l.querySelector(Pf(b));if(_){l=_._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=Up.bind(a),l.then(a,a)),d.state.loading|=4,d.instance=_,Nn(_);return}_=l.ownerDocument||l,m=pC(m),(b=Ri.get(b))&&px(m,b),_=_.createElement("link"),Nn(_);var T=_;T._p=new Promise(function(z,G){T.onload=z,T.onerror=G}),or(_,"link",m),d.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=Up.bind(a),l.addEventListener("load",d),l.addEventListener("error",d))}}var vx=0;function eV(a,l){return a.stylesheets&&a.count===0&&Bp(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var m=setTimeout(function(){if(a.stylesheets&&Bp(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+l);0<a.imgBytes&&vx===0&&(vx=62500*k9());var b=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Bp(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>vx?50:800)+l);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(b)}}:null}function Up(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Vp=null;function Bp(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Vp=new Map,l.forEach(tV,a),Vp=null,Up.call(a))}function tV(a,l){if(!(l.state.loading&4)){var d=Vp.get(a);if(d)var m=d.get(null);else{d=new Map,Vp.set(a,d);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<b.length;_++){var T=b[_];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(d.set(T.dataset.precedence,T),m=T)}m&&d.set(null,m)}b=l.instance,T=b.getAttribute("data-precedence"),_=d.get(T)||m,_===m&&d.set(null,b),d.set(T,b),this.count++,m=Up.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),_?_.parentNode.insertBefore(b,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),l.state.loading|=4}}var Rf={$$typeof:O,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function nV(a,l,d,m,b,_,T,z,G){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.hiddenUpdates=vt(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=_,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function xC(a,l,d,m,b,_,T,z,G,se,me,xe){return a=new nV(a,l,d,T,G,se,me,xe,z),l=1,_===!0&&(l|=24),_=ai(3,null,null,l),a.current=_,_.stateNode=a,l=Y0(),l.refCount++,a.pooledCache=l,l.refCount++,_.memoizedState={element:m,isDehydrated:d,cache:l},eb(_),a}function _C(a){return a?(a=cu,a):cu}function wC(a,l,d,m,b,_){b=_C(b),m.context===null?m.context=b:m.pendingContext=b,m=wo(l),m.payload={element:d},_=_===void 0?null:_,_!==null&&(m.callback=_),d=jo(a,m,l),d!==null&&(Kr(d,a,l),df(d,a,l))}function jC(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function yx(a,l){jC(a,l),(a=a.alternate)&&jC(a,l)}function EC(a){if(a.tag===13||a.tag===31){var l=ql(a,67108864);l!==null&&Kr(l,a,67108864),yx(a,67108864)}}function NC(a){if(a.tag===13||a.tag===31){var l=ui();l=Al(l);var d=ql(a,l);d!==null&&Kr(d,a,l),yx(a,l)}}var $p=!0;function rV(a,l,d,m){var b=H.T;H.T=null;var _=ce.p;try{ce.p=2,bx(a,l,d,m)}finally{ce.p=_,H.T=b}}function iV(a,l,d,m){var b=H.T;H.T=null;var _=ce.p;try{ce.p=8,bx(a,l,d,m)}finally{ce.p=_,H.T=b}}function bx(a,l,d,m){if($p){var b=xx(m);if(b===null)ax(a,l,m,Fp,d),AC(a,m);else if(sV(b,a,l,d,m))m.stopPropagation();else if(AC(a,m),l&4&&-1<aV.indexOf(a)){for(;b!==null;){var _=wi(b);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var T=xi(_.pendingLanes);if(T!==0){var z=_;for(z.pendingLanes|=2,z.entangledLanes|=2;T;){var G=1<<31-en(T);z.entanglements[1]|=G,T&=~G}Pa(_),(jt&6)===0&&(Sp=Ve()+500,Af(0))}}break;case 31:case 13:z=ql(_,2),z!==null&&Kr(z,_,2),Tp(),yx(_,2)}if(_=xx(m),_===null&&ax(a,l,m,Fp,d),_===b)break;b=_}b!==null&&m.stopPropagation()}else ax(a,l,m,null,d)}}function xx(a){return a=ji(a),_x(a)}var Fp=null;function _x(a){if(Fp=null,a=va(a),a!==null){var l=s(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=c(l),a!==null)return a;a=null}else if(d===31){if(a=u(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Fp=a,null}function SC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ke()){case Vt:return 2;case zn:return 8;case Lr:case ao:return 32;case qr:return 268435456;default:return 32}default:return 32}}var wx=!1,ko=null,Do=null,Mo=null,kf=new Map,Df=new Map,zo=[],aV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function AC(a,l){switch(a){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":Do=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":kf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Df.delete(l.pointerId)}}function Mf(a,l,d,m,b,_){return a===null||a.nativeEvent!==_?(a={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:_,targetContainers:[b]},l!==null&&(l=wi(l),l!==null&&EC(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),a)}function sV(a,l,d,m,b){switch(l){case"focusin":return ko=Mf(ko,a,l,d,m,b),!0;case"dragenter":return Do=Mf(Do,a,l,d,m,b),!0;case"mouseover":return Mo=Mf(Mo,a,l,d,m,b),!0;case"pointerover":var _=b.pointerId;return kf.set(_,Mf(kf.get(_)||null,a,l,d,m,b)),!0;case"gotpointercapture":return _=b.pointerId,Df.set(_,Mf(Df.get(_)||null,a,l,d,m,b)),!0}return!1}function TC(a){var l=va(a.target);if(l!==null){var d=s(l);if(d!==null){if(l=d.tag,l===13){if(l=c(d),l!==null){a.blockedOn=l,Gi(a.priority,function(){NC(d)});return}}else if(l===31){if(l=u(d),l!==null){a.blockedOn=l,Gi(a.priority,function(){NC(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Hp(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=xx(a.nativeEvent);if(d===null){d=a.nativeEvent;var m=new d.constructor(d.type,d);Qd=m,d.target.dispatchEvent(m),Qd=null}else return l=wi(d),l!==null&&EC(l),a.blockedOn=d,!1;l.shift()}return!0}function CC(a,l,d){Hp(a)&&d.delete(l)}function oV(){wx=!1,ko!==null&&Hp(ko)&&(ko=null),Do!==null&&Hp(Do)&&(Do=null),Mo!==null&&Hp(Mo)&&(Mo=null),kf.forEach(CC),Df.forEach(CC)}function Gp(a,l){a.blockedOn===l&&(a.blockedOn=null,wx||(wx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,oV)))}var Kp=null;function OC(a){Kp!==a&&(Kp=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Kp===a&&(Kp=null);for(var l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],b=a[l+2];if(typeof m!="function"){if(_x(m||d)===null)continue;break}var _=wi(d);_!==null&&(a.splice(l,3),l-=3,xb(_,{pending:!0,data:b,method:d.method,action:m},m,b))}}))}function Ru(a){function l(G){return Gp(G,a)}ko!==null&&Gp(ko,a),Do!==null&&Gp(Do,a),Mo!==null&&Gp(Mo,a),kf.forEach(l),Df.forEach(l);for(var d=0;d<zo.length;d++){var m=zo[d];m.blockedOn===a&&(m.blockedOn=null)}for(;0<zo.length&&(d=zo[0],d.blockedOn===null);)TC(d),d.blockedOn===null&&zo.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var b=d[m],_=d[m+1],T=b[Hn]||null;if(typeof _=="function")T||OC(d);else if(T){var z=null;if(_&&_.hasAttribute("formAction")){if(b=_,T=_[Hn]||null)z=T.formAction;else if(_x(b)!==null)continue}else z=T.action;typeof z=="function"?d[m+1]=z:(d.splice(m,3),m-=3),OC(d)}}}function PC(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(T){return b=T})},focusReset:"manual",scroll:"manual"})}function l(){b!==null&&(b(),b=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,b=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),b!==null&&(b(),b=null)}}}function jx(a){this._internalRoot=a}Qp.prototype.render=jx.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,m=ui();wC(d,m,a,l,null,null)},Qp.prototype.unmount=jx.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;wC(a.current,2,null,a,null,null),Tp(),l[pa]=null}};function Qp(a){this._internalRoot=a}Qp.prototype.unstable_scheduleHydration=function(a){if(a){var l=Tm();a={blockedOn:null,target:a,priority:l};for(var d=0;d<zo.length&&l!==0&&l<zo[d].priority;d++);zo.splice(d,0,a),d===0&&TC(a)}};var IC=e.version;if(IC!=="19.2.4")throw Error(r(527,IC,"19.2.4"));ce.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(l),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var lV={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wp.isDisabled&&Wp.supportsFiber)try{on=Wp.inject(lV),At=Wp}catch{}}return Lf.createRoot=function(a,l){if(!i(a))throw Error(r(299));var d=!1,m="",b=qA,_=UA,T=VA;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),l=xC(a,1,!1,null,null,d,m,null,b,_,T,PC),a[pa]=l.current,ix(a),new jx(l)},Lf.hydrateRoot=function(a,l,d){if(!i(a))throw Error(r(299));var m=!1,b="",_=qA,T=UA,z=VA,G=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(_=d.onUncaughtError),d.onCaughtError!==void 0&&(T=d.onCaughtError),d.onRecoverableError!==void 0&&(z=d.onRecoverableError),d.formState!==void 0&&(G=d.formState)),l=xC(a,1,!0,l,d??null,m,b,G,_,T,z,PC),l.context=_C(null),d=l.current,m=ui(),m=Al(m),b=wo(m),b.callback=null,jo(d,b,m),d=m,l.current.lanes=d,Fn(l,d),Pa(l),a[pa]=l.current,ix(a),new Qp(l)},Lf.version="19.2.4",Lf}var BC;function yV(){if(BC)return Sx.exports;BC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sx.exports=vV(),Sx.exports}var bV=yV();const xV=es(bV);var JD=XD();function vh(){return vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vh.apply(this,arguments)}var Yo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yo||(Yo={}));const $C="popstate";function _V(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:c,hash:u}=r.location;return D1("",{pathname:s,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Fg(i)}return jV(e,n,null,t)}function wn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gj(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wV(){return Math.random().toString(36).substr(2,8)}function FC(t,e){return{usr:t.state,key:t.key,idx:e}}function D1(t,e,n,r){return n===void 0&&(n=null),vh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bd(e):e,{state:n,key:e&&e.key||r||wV()})}function Fg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function bd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function jV(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,c=i.history,u=Yo.Pop,f=null,h=p();h==null&&(h=0,c.replaceState(vh({},c.state,{idx:h}),""));function p(){return(c.state||{idx:null}).idx}function g(){u=Yo.Pop;let N=p(),A=N==null?null:N-h;h=N,f&&f({action:u,location:w.location,delta:A})}function y(N,A){u=Yo.Push;let R=D1(w.location,N,A);h=p()+1;let O=FC(R,h),C=w.createHref(R);try{c.pushState(O,"",C)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(C)}s&&f&&f({action:u,location:w.location,delta:1})}function x(N,A){u=Yo.Replace;let R=D1(w.location,N,A);h=p();let O=FC(R,h),C=w.createHref(R);c.replaceState(O,"",C),s&&f&&f({action:u,location:w.location,delta:0})}function E(N){let A=i.location.origin!=="null"?i.location.origin:i.location.href,R=typeof N=="string"?N:Fg(N);return R=R.replace(/ $/,"%20"),wn(A,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,A)}let w={get action(){return u},get location(){return t(i,c)},listen(N){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener($C,g),f=N,()=>{i.removeEventListener($C,g),f=null}},createHref(N){return e(i,N)},createURL:E,encodeLocation(N){let A=E(N);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:x,go(N){return c.go(N)}};return w}var HC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(HC||(HC={}));function EV(t,e,n){return n===void 0&&(n="/"),NV(t,e,n)}function NV(t,e,n,r){let i=typeof e=="string"?bd(e):e,s=vj(i.pathname||"/",n);if(s==null)return null;let c=ZD(t);SV(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=LV(s);u=DV(c[f],h)}return u}function ZD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,c,u)=>{let f={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};f.relativePath.startsWith("/")&&(wn(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let h=Zo([r,f.relativePath]),p=n.concat(f);s.children&&s.children.length>0&&(wn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),ZD(s.children,e,p,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:RV(h,s.index),routesMeta:p})};return t.forEach((s,c)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,c);else for(let f of eM(s.path))i(s,c,f)}),e}function eM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let c=eM(r.join("/")),u=[];return u.push(...c.map(f=>f===""?s:[s,f].join("/"))),i&&u.push(...c),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function SV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const AV=/^:[\w-]+$/,TV=3,CV=2,OV=1,PV=10,IV=-2,GC=t=>t==="*";function RV(t,e){let n=t.split("/"),r=n.length;return n.some(GC)&&(r+=IV),e&&(r+=CV),n.filter(i=>!GC(i)).reduce((i,s)=>i+(AV.test(s)?TV:s===""?OV:PV),r)}function kV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function DV(t,e,n){let{routesMeta:r}=t,i={},s="/",c=[];for(let u=0;u<r.length;++u){let f=r[u],h=u===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=MV({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),y=f.route;if(!g)return null;Object.assign(i,g.params),c.push({params:i,pathname:Zo([s,g.pathname]),pathnameBase:$V(Zo([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=Zo([s,g.pathnameBase]))}return c}function MV(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],c=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,p,g)=>{let{paramName:y,isOptional:x}=p;if(y==="*"){let w=u[g]||"";c=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const E=u[g];return x&&!E?h[y]=void 0:h[y]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:c,pattern:t}}function zV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),gj(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function LV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gj(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vj(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const qV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UV=t=>qV.test(t);function VV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?bd(t):t,s;if(n)if(UV(n))s=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),gj(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+n))}n.startsWith("/")?s=KC(n.substring(1),"/"):s=KC(n,e)}else s=e;return{pathname:s,search:FV(r),hash:HV(i)}}function KC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ox(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yj(t,e){let n=BV(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function bj(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=bd(t):(i=vh({},t),wn(!i.pathname||!i.pathname.includes("?"),Ox("?","pathname","search",i)),wn(!i.pathname||!i.pathname.includes("#"),Ox("#","pathname","hash",i)),wn(!i.search||!i.search.includes("#"),Ox("#","search","hash",i)));let s=t===""||i.pathname==="",c=s?"/":i.pathname,u;if(c==null)u=n;else{let g=e.length-1;if(!r&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}u=g>=0?e[g]:"/"}let f=VV(i,u),h=c&&c!=="/"&&c.endsWith("/"),p=(s||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}const Zo=t=>t.join("/").replace(/\/\/+/g,"/"),$V=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function GV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tM=["post","put","patch","delete"];new Set(tM);const KV=["get",...tM];new Set(KV);function yh(){return yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yh.apply(this,arguments)}const xj=j.createContext(null),QV=j.createContext(null),vl=j.createContext(null),cy=j.createContext(null),Qs=j.createContext({outlet:null,matches:[],isDataRoute:!1}),nM=j.createContext(null);function WV(t,e){let{relative:n}=e===void 0?{}:e;xd()||wn(!1);let{basename:r,navigator:i}=j.useContext(vl),{hash:s,pathname:c,search:u}=iM(t,{relative:n}),f=c;return r!=="/"&&(f=c==="/"?r:Zo([r,c])),i.createHref({pathname:f,search:u,hash:s})}function xd(){return j.useContext(cy)!=null}function yl(){return xd()||wn(!1),j.useContext(cy).location}function rM(t){j.useContext(vl).static||j.useLayoutEffect(t)}function kr(){let{isDataRoute:t}=j.useContext(Qs);return t?l8():YV()}function YV(){xd()||wn(!1);let t=j.useContext(xj),{basename:e,future:n,navigator:r}=j.useContext(vl),{matches:i}=j.useContext(Qs),{pathname:s}=yl(),c=JSON.stringify(yj(i,n.v7_relativeSplatPath)),u=j.useRef(!1);return rM(()=>{u.current=!0}),j.useCallback(function(h,p){if(p===void 0&&(p={}),!u.current)return;if(typeof h=="number"){r.go(h);return}let g=bj(h,JSON.parse(c),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Zo([e,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[e,r,c,s,t])}function uy(){let{matches:t}=j.useContext(Qs),e=t[t.length-1];return e?e.params:{}}function iM(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(vl),{matches:i}=j.useContext(Qs),{pathname:s}=yl(),c=JSON.stringify(yj(i,r.v7_relativeSplatPath));return j.useMemo(()=>bj(t,JSON.parse(c),s,n==="path"),[t,c,s,n])}function XV(t,e){return JV(t,e)}function JV(t,e,n,r){xd()||wn(!1);let{navigator:i}=j.useContext(vl),{matches:s}=j.useContext(Qs),c=s[s.length-1],u=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let h=yl(),p;if(e){var g;let N=typeof e=="string"?bd(e):e;f==="/"||(g=N.pathname)!=null&&g.startsWith(f)||wn(!1),p=N}else p=h;let y=p.pathname||"/",x=y;if(f!=="/"){let N=f.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(N.length).join("/")}let E=EV(t,{pathname:x}),w=r8(E&&E.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:Zo([f,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?f:Zo([f,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,n,r);return e&&w?j.createElement(cy.Provider,{value:{location:yh({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Yo.Pop}},w):w}function ZV(){let t=o8(),e=GV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,null)}const e8=j.createElement(ZV,null);class t8 extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(Qs.Provider,{value:this.props.routeContext},j.createElement(nM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function n8(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(xj);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Qs.Provider,{value:e},r)}function r8(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let p=c.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);p>=0||wn(!1),c=c.slice(0,Math.min(c.length,p+1))}let f=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<c.length;p++){let g=c[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:y,errors:x}=n,E=g.route.loader&&y[g.route.id]===void 0&&(!x||x[g.route.id]===void 0);if(g.route.lazy||E){f=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((p,g,y)=>{let x,E=!1,w=null,N=null;n&&(x=u&&g.route.id?u[g.route.id]:void 0,w=g.route.errorElement||e8,f&&(h<0&&y===0?(c8("route-fallback"),E=!0,N=null):h===y&&(E=!0,N=g.route.hydrateFallbackElement||null)));let A=e.concat(c.slice(0,y+1)),R=()=>{let O;return x?O=w:E?O=N:g.route.Component?O=j.createElement(g.route.Component,null):g.route.element?O=g.route.element:O=p,j.createElement(n8,{match:g,routeContext:{outlet:p,matches:A,isDataRoute:n!=null},children:O})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?j.createElement(t8,{location:n.location,revalidation:n.revalidation,component:w,error:x,children:R(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):R()},null)}var aM=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(aM||{}),sM=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(sM||{});function i8(t){let e=j.useContext(xj);return e||wn(!1),e}function a8(t){let e=j.useContext(QV);return e||wn(!1),e}function s8(t){let e=j.useContext(Qs);return e||wn(!1),e}function oM(t){let e=s8(),n=e.matches[e.matches.length-1];return n.route.id||wn(!1),n.route.id}function o8(){var t;let e=j.useContext(nM),n=a8(),r=oM();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function l8(){let{router:t}=i8(aM.UseNavigateStable),e=oM(sM.UseNavigateStable),n=j.useRef(!1);return rM(()=>{n.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,yh({fromRouteId:e},s)))},[t,e])}const QC={};function c8(t,e,n){QC[t]||(QC[t]=!0)}function u8(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function d8(t){let{to:e,replace:n,state:r,relative:i}=t;xd()||wn(!1);let{future:s,static:c}=j.useContext(vl),{matches:u}=j.useContext(Qs),{pathname:f}=yl(),h=kr(),p=bj(e,yj(u,s.v7_relativeSplatPath),f,i==="path"),g=JSON.stringify(p);return j.useEffect(()=>h(JSON.parse(g),{replace:n,state:r,relative:i}),[h,g,i,n,r]),null}function tn(t){wn(!1)}function f8(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Yo.Pop,navigator:s,static:c=!1,future:u}=t;xd()&&wn(!1);let f=e.replace(/^\/*/,"/"),h=j.useMemo(()=>({basename:f,navigator:s,static:c,future:yh({v7_relativeSplatPath:!1},u)}),[f,u,s,c]);typeof r=="string"&&(r=bd(r));let{pathname:p="/",search:g="",hash:y="",state:x=null,key:E="default"}=r,w=j.useMemo(()=>{let N=vj(p,f);return N==null?null:{location:{pathname:N,search:g,hash:y,state:x,key:E},navigationType:i}},[f,p,g,y,x,E,i]);return w==null?null:j.createElement(vl.Provider,{value:h},j.createElement(cy.Provider,{children:n,value:w}))}function h8(t){let{children:e,location:n}=t;return XV(M1(e),n)}new Promise(()=>{});function M1(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,i)=>{if(!j.isValidElement(r))return;let s=[...e,i];if(r.type===j.Fragment){n.push.apply(n,M1(r.props.children,s));return}r.type!==tn&&wn(!1),!r.props.index||!r.props.children||wn(!1);let c={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=M1(r.props.children,s)),n.push(c)}),n}function z1(){return z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z1.apply(this,arguments)}function m8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function p8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function g8(t,e){return t.button===0&&(!e||e==="_self")&&!p8(t)}const v8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],y8="6";try{window.__reactRouterVersion=y8}catch{}const b8="startTransition",WC=YD[b8];function x8(t){let{basename:e,children:n,future:r,window:i}=t,s=j.useRef();s.current==null&&(s.current=_V({window:i,v5Compat:!0}));let c=s.current,[u,f]=j.useState({action:c.action,location:c.location}),{v7_startTransition:h}=r||{},p=j.useCallback(g=>{h&&WC?WC(()=>f(g)):f(g)},[f,h]);return j.useLayoutEffect(()=>c.listen(p),[c,p]),j.useEffect(()=>u8(r),[r]),j.createElement(f8,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:c,future:r})}const _8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nt=j.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:c,state:u,target:f,to:h,preventScrollReset:p,viewTransition:g}=e,y=m8(e,v8),{basename:x}=j.useContext(vl),E,w=!1;if(typeof h=="string"&&w8.test(h)&&(E=h,_8))try{let O=new URL(window.location.href),C=h.startsWith("//")?new URL(O.protocol+h):new URL(h),V=vj(C.pathname,x);C.origin===O.origin&&V!=null?h=V+C.search+C.hash:w=!0}catch{}let N=WV(h,{relative:i}),A=j8(h,{replace:c,state:u,target:f,preventScrollReset:p,relative:i,viewTransition:g});function R(O){r&&r(O),O.defaultPrevented||A(O)}return j.createElement("a",z1({},y,{href:E||N,onClick:w||s?r:R,ref:n,target:f}))});var YC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(YC||(YC={}));var XC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(XC||(XC={}));function j8(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:c,viewTransition:u}=e===void 0?{}:e,f=kr(),h=yl(),p=iM(t,{relative:c});return j.useCallback(g=>{if(g8(g,n)){g.preventDefault();let y=r!==void 0?r:Fg(h)===Fg(p);f(t,{replace:y,state:i,preventScrollReset:s,relative:c,viewTransition:u})}},[h,f,p,r,i,n,t,s,c,u])}const E8=()=>{};var JC={};const lM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},N8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],c=t[n++],u=t[n++],f=((i&7)<<18|(s&63)<<12|(c&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|c&63)}}return e.join("")},cM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],c=i+1<t.length,u=c?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,p=s>>2,g=(s&3)<<4|u>>4;let y=(u&15)<<2|h>>6,x=h&63;f||(x=64,c||(y=64)),r.push(n[p],n[g],n[y],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):N8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||h==null||g==null)throw new S8;const y=s<<2|u>>4;if(r.push(y),h!==64){const x=u<<4&240|h>>2;if(r.push(x),g!==64){const E=h<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class S8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A8=function(t){const e=lM(t);return cM.encodeByteArray(e,!0)},Hg=function(t){return A8(t).replace(/\./g,"")},uM=function(t){try{return cM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function T8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const C8=()=>T8().__FIREBASE_DEFAULTS__,O8=()=>{if(typeof process>"u"||typeof JC>"u")return;const t=JC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},P8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uM(t[1]);return e&&JSON.parse(e)},dy=()=>{try{return E8()||C8()||O8()||P8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dM=t=>dy()?.emulatorHosts?.[t],fM=t=>{const e=dM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hM=()=>dy()?.config,mM=t=>dy()?.[`_${t}`];class I8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function bl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _j(t){return(await fetch(t,{credentials:"include"})).ok}function pM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Hg(JSON.stringify(n)),Hg(JSON.stringify(c)),""].join(".")}const lh={};function R8(){const t={prod:[],emulator:[]};for(const e of Object.keys(lh))lh[e]?t.emulator.push(e):t.prod.push(e);return t}function k8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ZC=!1;function wj(t,e){if(typeof window>"u"||typeof document>"u"||!bl(window.location.host)||lh[t]===e||lh[t]||ZC)return;lh[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=R8().prod.length>0;function c(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,x){y.setAttribute("width","24"),y.setAttribute("id",x),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{ZC=!0,c()},y}function p(y,x){y.setAttribute("id",x),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=k8(r),x=n("text"),E=document.getElementById(x)||document.createElement("span"),w=n("learnmore"),N=document.getElementById(w)||document.createElement("a"),A=n("preprendIcon"),R=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const O=y.element;u(O),p(N,w);const C=h();f(R,A),O.append(R,E,N,C),document.body.appendChild(O)}s?(E.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function wr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wr())}function M8(){const t=dy()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function L8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function q8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U8(){const t=wr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function V8(){return!M8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B8(){try{return typeof indexedDB=="object"}catch{return!1}}function $8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const F8="FirebaseError";class ts extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=F8,Object.setPrototypeOf(this,ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kh.prototype.create)}}class Kh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],c=s?H8(s,r):"Error",u=`${this.serviceName}: ${c} (${i}).`;return new ts(i,u,r)}}function H8(t,e){return t.replace(G8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const G8=/\{\$([^}]+)}/g;function K8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],c=e[i];if(e2(s)&&e2(c)){if(!yc(s,c))return!1}else if(s!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function e2(t){return t!==null&&typeof t=="object"}function Qh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Jf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Q8(t,e){const n=new W8(t,e);return n.subscribe.bind(n)}class W8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Y8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Px),i.error===void 0&&(i.error=Px),i.complete===void 0&&(i.complete=Px);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Px(){}function Ft(t){return t&&t._delegate?t._delegate:t}class sl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ec="[DEFAULT]";let X8=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new I8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z8(e))try{this.getOrInitializeService({instanceIdentifier:ec})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ec){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ec){return this.instances.has(e)}getOptions(e=ec){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&c.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:J8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ec){return this.component?this.component.multipleInstances?e:ec:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function J8(t){return t===ec?void 0:t}function Z8(t){return t.instantiationMode==="EAGER"}class eB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new X8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ut||(ut={}));const tB={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},nB=ut.INFO,rB={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},iB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=rB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jj{constructor(e){this.name=e,this._logLevel=nB,this._logHandler=iB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const aB=(t,e)=>e.some(n=>t instanceof n);let t2,n2;function sB(){return t2||(t2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oB(){return n2||(n2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gM=new WeakMap,L1=new WeakMap,vM=new WeakMap,Ix=new WeakMap,Ej=new WeakMap;function lB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",c)},s=()=>{n(el(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&gM.set(n,t)}).catch(()=>{}),Ej.set(e,t),e}function cB(t){if(L1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",c),t.removeEventListener("abort",c)},s=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",c),t.addEventListener("abort",c)});L1.set(t,e)}let q1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return L1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return el(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uB(t){q1=t(q1)}function dB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rx(this),e,...n);return vM.set(r,e.sort?e.sort():[e]),el(r)}:oB().includes(t)?function(...e){return t.apply(Rx(this),e),el(gM.get(this))}:function(...e){return el(t.apply(Rx(this),e))}}function fB(t){return typeof t=="function"?dB(t):(t instanceof IDBTransaction&&cB(t),aB(t,sB())?new Proxy(t,q1):t)}function el(t){if(t instanceof IDBRequest)return lB(t);if(Ix.has(t))return Ix.get(t);const e=fB(t);return e!==t&&(Ix.set(t,e),Ej.set(e,t)),e}const Rx=t=>Ej.get(t);function hB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const c=indexedDB.open(t,e),u=el(c);return r&&c.addEventListener("upgradeneeded",f=>{r(el(c.result),f.oldVersion,f.newVersion,el(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const mB=["get","getKey","getAll","getAllKeys","count"],pB=["put","add","delete","clear"],kx=new Map;function r2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kx.get(e))return kx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mB.includes(n)))return;const s=async function(c,...u){const f=this.transaction(c,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&f.done]))[0]};return kx.set(e,s),s}uB(t=>({...t,get:(e,n,r)=>r2(e,n)||t.get(e,n,r),has:(e,n)=>!!r2(e,n)||t.has(e,n)}));class gB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vB(t){return t.getComponent()?.type==="VERSION"}const U1="@firebase/app",i2="0.14.7";const Ms=new jj("@firebase/app"),yB="@firebase/app-compat",bB="@firebase/analytics-compat",xB="@firebase/analytics",_B="@firebase/app-check-compat",wB="@firebase/app-check",jB="@firebase/auth",EB="@firebase/auth-compat",NB="@firebase/database",SB="@firebase/data-connect",AB="@firebase/database-compat",TB="@firebase/functions",CB="@firebase/functions-compat",OB="@firebase/installations",PB="@firebase/installations-compat",IB="@firebase/messaging",RB="@firebase/messaging-compat",kB="@firebase/performance",DB="@firebase/performance-compat",MB="@firebase/remote-config",zB="@firebase/remote-config-compat",LB="@firebase/storage",qB="@firebase/storage-compat",UB="@firebase/firestore",VB="@firebase/ai",BB="@firebase/firestore-compat",$B="firebase",FB="12.8.0";const V1="[DEFAULT]",HB={[U1]:"fire-core",[yB]:"fire-core-compat",[xB]:"fire-analytics",[bB]:"fire-analytics-compat",[wB]:"fire-app-check",[_B]:"fire-app-check-compat",[jB]:"fire-auth",[EB]:"fire-auth-compat",[NB]:"fire-rtdb",[SB]:"fire-data-connect",[AB]:"fire-rtdb-compat",[TB]:"fire-fn",[CB]:"fire-fn-compat",[OB]:"fire-iid",[PB]:"fire-iid-compat",[IB]:"fire-fcm",[RB]:"fire-fcm-compat",[kB]:"fire-perf",[DB]:"fire-perf-compat",[MB]:"fire-rc",[zB]:"fire-rc-compat",[LB]:"fire-gcs",[qB]:"fire-gcs-compat",[UB]:"fire-fst",[BB]:"fire-fst-compat",[VB]:"fire-vertex","fire-js":"fire-js",[$B]:"fire-js-all"};const Gg=new Map,GB=new Map,B1=new Map;function a2(t,e){try{t.container.addComponent(e)}catch(n){Ms.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bc(t){const e=t.name;if(B1.has(e))return Ms.debug(`There were multiple attempts to register component ${e}.`),!1;B1.set(e,t);for(const n of Gg.values())a2(n,t);for(const n of GB.values())a2(n,t);return!0}function fy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function di(t){return t==null?!1:t.settings!==void 0}const KB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tl=new Kh("app","Firebase",KB);class QB{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tl.create("app-deleted",{appName:this._name})}}const Dc=FB;function yM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:V1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw tl.create("bad-app-name",{appName:String(i)});if(n||(n=hM()),!n)throw tl.create("no-options");const s=Gg.get(i);if(s){if(yc(n,s.options)&&yc(r,s.config))return s;throw tl.create("duplicate-app",{appName:i})}const c=new eB(i);for(const f of B1.values())c.addComponent(f);const u=new QB(n,r,c);return Gg.set(i,u),u}function Nj(t=V1){const e=Gg.get(t);if(!e&&t===V1&&hM())return yM();if(!e)throw tl.create("no-app",{appName:t});return e}function Va(t,e,n){let r=HB[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ms.warn(c.join(" "));return}bc(new sl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const WB="firebase-heartbeat-database",YB=1,bh="firebase-heartbeat-store";let Dx=null;function bM(){return Dx||(Dx=hB(WB,YB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bh)}catch(n){console.warn(n)}}}}).catch(t=>{throw tl.create("idb-open",{originalErrorMessage:t.message})})),Dx}async function XB(t){try{const n=(await bM()).transaction(bh),r=await n.objectStore(bh).get(xM(t));return await n.done,r}catch(e){if(e instanceof ts)Ms.warn(e.message);else{const n=tl.create("idb-get",{originalErrorMessage:e?.message});Ms.warn(n.message)}}}async function s2(t,e){try{const r=(await bM()).transaction(bh,"readwrite");await r.objectStore(bh).put(e,xM(t)),await r.done}catch(n){if(n instanceof ts)Ms.warn(n.message);else{const r=tl.create("idb-set",{originalErrorMessage:n?.message});Ms.warn(r.message)}}}function xM(t){return`${t.name}!${t.options.appId}`}const JB=1024,ZB=30;class e7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new n7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=o2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>ZB){const i=r7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=o2(),{heartbeatsToSend:n,unsentEntries:r}=t7(this._heartbeatsCache.heartbeats),i=Hg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ms.warn(e),""}}}function o2(){return new Date().toISOString().substring(0,10)}function t7(t,e=JB){const n=[];let r=t.slice();for(const i of t){const s=n.find(c=>c.agent===i.agent);if(s){if(s.dates.push(i.date),l2(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),l2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class n7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return B8()?$8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return s2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return s2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function l2(t){return Hg(JSON.stringify({version:2,heartbeats:t})).length}function r7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function i7(t){bc(new sl("platform-logger",e=>new gB(e),"PRIVATE")),bc(new sl("heartbeat",e=>new e7(e),"PRIVATE")),Va(U1,i2,t),Va(U1,i2,"esm2020"),Va("fire-js","")}i7("");function _M(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const a7=_M,wM=new Kh("auth","Firebase",_M());const Kg=new jj("@firebase/auth");function s7(t,...e){Kg.logLevel<=ut.WARN&&Kg.warn(`Auth (${Dc}): ${t}`,...e)}function Sg(t,...e){Kg.logLevel<=ut.ERROR&&Kg.error(`Auth (${Dc}): ${t}`,...e)}function ca(t,...e){throw Sj(t,...e)}function Ba(t,...e){return Sj(t,...e)}function jM(t,e,n){const r={...a7(),[e]:n};return new Kh("auth","Firebase",r).create(e,{appName:t.name})}function Is(t){return jM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sj(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wM.create(t,...e)}function He(t,e,...n){if(!t)throw Sj(e,...n)}function As(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sg(e),new Error(e)}function zs(t,e){t||As(e)}function $1(){return typeof self<"u"&&self.location?.href||""}function o7(){return c2()==="http:"||c2()==="https:"}function c2(){return typeof self<"u"&&self.location?.protocol||null}function l7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o7()||L8()||"connection"in navigator)?navigator.onLine:!0}function c7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Wh{constructor(e,n){this.shortDelay=e,this.longDelay=n,zs(n>e,"Short delay should be less than long delay!"),this.isMobile=D8()||q8()}get(){return l7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Aj(t,e){zs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class EM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const u7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const d7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],f7=new Wh(3e4,6e4);function xl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ws(t,e,n,r,i={}){return NM(t,i,async()=>{let s={},c={};r&&(e==="GET"?c=r:s={body:JSON.stringify(r)});const u=Qh({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return z8()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&bl(t.emulatorConfig.host)&&(h.credentials="include"),EM.fetch()(await SM(t,t.config.apiHost,n,u),h)})}async function NM(t,e,n){t._canInitEmulator=!1;const r={...u7,...e};try{const i=new m7(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const c=await s.json();if("needConfirmation"in c)throw Yp(t,"account-exists-with-different-credential",c);if(s.ok&&!("errorMessage"in c))return c;{const u=s.ok?c.errorMessage:c.error.message,[f,h]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yp(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Yp(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Yp(t,"user-disabled",c);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw jM(t,p,h);ca(t,p)}}catch(i){if(i instanceof ts)throw i;ca(t,"network-request-failed",{message:String(i)})}}async function Yh(t,e,n,r,i={}){const s=await Ws(t,e,n,r,i);return"mfaPendingCredential"in s&&ca(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function SM(t,e,n,r){const i=`${e}${n}?${r}`,s=t,c=s.config.emulator?Aj(t.config,i):`${t.config.apiScheme}://${i}`;return d7.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(c).toString():c}function h7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class m7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ba(this.auth,"network-request-failed")),f7.get())})}}function Yp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ba(t,e,r);return i.customData._tokenResponse=n,i}function u2(t){return t!==void 0&&t.enterprise!==void 0}class p7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return h7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function g7(t,e){return Ws(t,"GET","/v2/recaptchaConfig",xl(t,e))}async function v7(t,e){return Ws(t,"POST","/v1/accounts:delete",e)}async function Qg(t,e){return Ws(t,"POST","/v1/accounts:lookup",e)}function ch(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function y7(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),i=Tj(r);He(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,c=s?.sign_in_provider;return{claims:i,token:r,authTime:ch(Mx(i.auth_time)),issuedAtTime:ch(Mx(i.iat)),expirationTime:ch(Mx(i.exp)),signInProvider:c||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Mx(t){return Number(t)*1e3}function Tj(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sg("JWT malformed, contained fewer than 3 sections"),null;try{const i=uM(n);return i?JSON.parse(i):(Sg("Failed to decode base64 JWT payload"),null)}catch(i){return Sg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function d2(t){const e=Tj(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function td(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ts&&b7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function b7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class x7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class F1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ch(this.lastLoginAt),this.creationTime=ch(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wg(t){const e=t.auth,n=await t.getIdToken(),r=await td(t,Qg(e,{idToken:n}));He(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?AM(i.providerUserInfo):[],c=w7(t.providerData,s),u=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!c?.length,h=u?f:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new F1(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function _7(t){const e=Ft(t);await Wg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function w7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function AM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function j7(t,e){const n=await NM(t,{},async()=>{const r=Qh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,c=await SM(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return t.emulatorConfig&&bl(t.emulatorConfig.host)&&(f.credentials="include"),EM.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function E7(t,e){return Ws(t,"POST","/v2/accounts:revokeToken",xl(t,e))}class Ku{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=d2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await j7(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,c=new Ku;return r&&(He(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(He(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),s&&(He(typeof s=="number","internal-error",{appName:e}),c.expirationTime=s),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ku,this.toJSON())}_performRefresh(){return As("not implemented")}}function qo(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class aa{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new x7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new F1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await td(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return y7(this,e)}reload(){return _7(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new aa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(Is(this.auth));const e=await this.getIdToken();return await td(this,v7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,c=n.photoURL??void 0,u=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:y,isAnonymous:x,providerData:E,stsTokenManager:w}=n;He(g&&w,e,"internal-error");const N=Ku.fromJSON(this.name,w);He(typeof g=="string",e,"internal-error"),qo(r,e.name),qo(i,e.name),He(typeof y=="boolean",e,"internal-error"),He(typeof x=="boolean",e,"internal-error"),qo(s,e.name),qo(c,e.name),qo(u,e.name),qo(f,e.name),qo(h,e.name),qo(p,e.name);const A=new aa({uid:g,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:x,photoURL:c,phoneNumber:s,tenantId:u,stsTokenManager:N,createdAt:h,lastLoginAt:p});return E&&Array.isArray(E)&&(A.providerData=E.map(R=>({...R}))),f&&(A._redirectEventId=f),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ku;i.updateFromServerResponse(n);const s=new aa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Wg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];He(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?AM(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!s?.length,u=new Ku;u.updateFromIdToken(r);const f=new aa({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:c}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new F1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(f,h),f}}const f2=new Map;function Ts(t){zs(t instanceof Function,"Expected a class definition");let e=f2.get(t);return e?(zs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,f2.set(t,e),e)}class TM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TM.type="NONE";const h2=TM;function Ag(t,e,n){return`firebase:${t}:${e}:${n}`}class Qu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ag(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ag("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qg(this.auth,{idToken:e}).catch(()=>{});return n?aa._fromGetAccountInfoResponse(this.auth,n,e):null}return aa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qu(Ts(h2),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Ts(h2);const c=Ag(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const p=await h._get(c);if(p){let g;if(typeof p=="string"){const y=await Qg(e,{idToken:p}).catch(()=>{});if(!y)break;g=await aa._fromGetAccountInfoResponse(e,y,p)}else g=aa._fromJSON(e,p);h!==s&&(u=g),s=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new Qu(s,e,r):(s=f[0],u&&await s._set(c,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(c)}catch{}})),new Qu(s,e,r))}}function m2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kM(e))return"Blackberry";if(DM(e))return"Webos";if(OM(e))return"Safari";if((e.includes("chrome/")||PM(e))&&!e.includes("edge/"))return"Chrome";if(RM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function CM(t=wr()){return/firefox\//i.test(t)}function OM(t=wr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PM(t=wr()){return/crios\//i.test(t)}function IM(t=wr()){return/iemobile/i.test(t)}function RM(t=wr()){return/android/i.test(t)}function kM(t=wr()){return/blackberry/i.test(t)}function DM(t=wr()){return/webos/i.test(t)}function Cj(t=wr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function N7(t=wr()){return Cj(t)&&!!window.navigator?.standalone}function S7(){return U8()&&document.documentMode===10}function MM(t=wr()){return Cj(t)||RM(t)||DM(t)||kM(t)||/windows phone/i.test(t)||IM(t)}function zM(t,e=[]){let n;switch(t){case"Browser":n=m2(wr());break;case"Worker":n=`${m2(wr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dc}/${r}`}class A7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((c,u)=>{try{const f=e(s);c(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function T7(t,e={}){return Ws(t,"GET","/v2/passwordPolicy",xl(t,e))}const C7=6;class O7{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??C7,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class P7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p2(this),this.idTokenSubscription=new p2(this),this.beforeStateQueue=new A7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ts(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qg(this,{idToken:e}),r=await aa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(di(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,c=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=c7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(di(this.app))return Promise.reject(Is(this));const n=e?Ft(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(Is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return di(this.app)?Promise.reject(Is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await T7(this),n=new O7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await E7(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ts(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await Qu.create(this,[Ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(u,this,"internal-error"),u.then(()=>{c||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&s7(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Mc(t){return Ft(t)}class p2{constructor(e){this.auth=e,this.observer=null,this.addObserver=Q8(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function I7(t){hy=t}function LM(t){return hy.loadJS(t)}function R7(){return hy.recaptchaEnterpriseScript}function k7(){return hy.gapiScript}function D7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class M7{constructor(){this.enterprise=new z7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class z7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const L7="recaptcha-enterprise",qM="NO_RECAPTCHA";class q7{constructor(e){this.type=L7,this.auth=Mc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(c,u)=>{g7(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new p7(f);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,c(h.siteKey)}}).catch(f=>{u(f)})})}function i(s,c,u){const f=window.grecaptcha;u2(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(h=>{c(h)}).catch(()=>{c(qM)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new M7().execute("siteKey",{action:"verify"}):new Promise((s,c)=>{r(this.auth).then(u=>{if(!n&&u2(window.grecaptcha))i(u,s,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=R7();f.length!==0&&(f+=u),LM(f).then(()=>{i(u,s,c)}).catch(h=>{c(h)})}}).catch(u=>{c(u)})})}}async function g2(t,e,n,r=!1,i=!1){const s=new q7(t);let c;if(i)c=qM;else try{c=await s.verify(n)}catch{c=await s.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function H1(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await g2(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await g2(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(s)})}function U7(t,e){const n=fy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(yc(s,e??{}))return i;ca(i,"already-initialized")}return n.initialize({options:e})}function V7(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ts);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function B7(t,e,n){const r=Mc(t);He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=UM(e),{host:c,port:u}=$7(e),f=u===null?"":`:${u}`,h={url:`${s}//${c}${f}/`},p=Object.freeze({host:c,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){He(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),He(yc(h,r.config.emulator)&&yc(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,bl(c)?(_j(`${s}//${c}${f}`),wj("Auth",!0)):F7()}function UM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $7(t){const e=UM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:v2(r.substr(s.length+1))}}else{const[s,c]=r.split(":");return{host:s,port:v2(c)}}}function v2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function F7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Oj{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,n){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}}async function H7(t,e){return Ws(t,"POST","/v1/accounts:signUp",e)}async function G7(t,e){return Yh(t,"POST","/v1/accounts:signInWithPassword",xl(t,e))}async function K7(t,e){return Yh(t,"POST","/v1/accounts:signInWithEmailLink",xl(t,e))}async function Q7(t,e){return Yh(t,"POST","/v1/accounts:signInWithEmailLink",xl(t,e))}class xh extends Oj{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new xh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new xh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return H1(e,n,"signInWithPassword",G7);case"emailLink":return K7(e,{email:this._email,oobCode:this._password});default:ca(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return H1(e,r,"signUpPassword",H7);case"emailLink":return Q7(e,{idToken:n,email:this._email,oobCode:this._password});default:ca(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Wu(t,e){return Yh(t,"POST","/v1/accounts:signInWithIdp",xl(t,e))}const W7="http://localhost";class xc extends Oj{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ca("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const c=new xc(r,i);return c.idToken=s.idToken||void 0,c.accessToken=s.accessToken||void 0,c.secret=s.secret,c.nonce=s.nonce,c.pendingToken=s.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Wu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wu(e,n)}buildRequest(){const e={requestUri:W7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qh(n)}return e}}function Y7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function X7(t){const e=Xf(Jf(t)).link,n=e?Xf(Jf(e)).deep_link_id:null,r=Xf(Jf(t)).deep_link_id;return(r?Xf(Jf(r)).link:null)||r||n||e||t}class Pj{constructor(e){const n=Xf(Jf(e)),r=n.apiKey??null,i=n.oobCode??null,s=Y7(n.mode??null);He(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=X7(e);try{return new Pj(n)}catch{return null}}}class _d{constructor(){this.providerId=_d.PROVIDER_ID}static credential(e,n){return xh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Pj.parseLink(n);return He(r,"argument-error"),xh._fromEmailAndCode(e,r.code,r.tenantId)}}_d.PROVIDER_ID="password";_d.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_d.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class VM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xh extends VM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fo extends Xh{constructor(){super("facebook.com")}static credential(e){return xc._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fo.credential(e.oauthAccessToken)}catch{return null}}}Fo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fo.PROVIDER_ID="facebook.com";class Ho extends Xh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xc._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ho.credential(n,r)}catch{return null}}}Ho.GOOGLE_SIGN_IN_METHOD="google.com";Ho.PROVIDER_ID="google.com";class Go extends Xh{constructor(){super("github.com")}static credential(e){return xc._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Go.credential(e.oauthAccessToken)}catch{return null}}}Go.GITHUB_SIGN_IN_METHOD="github.com";Go.PROVIDER_ID="github.com";class Ko extends Xh{constructor(){super("twitter.com")}static credential(e,n){return xc._fromParams({providerId:Ko.PROVIDER_ID,signInMethod:Ko.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ko.credentialFromTaggedObject(e)}static credentialFromError(e){return Ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ko.credential(n,r)}catch{return null}}}Ko.TWITTER_SIGN_IN_METHOD="twitter.com";Ko.PROVIDER_ID="twitter.com";async function J7(t,e){return Yh(t,"POST","/v1/accounts:signUp",xl(t,e))}class _c{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await aa._fromIdTokenResponse(e,r,i),c=y2(r);return new _c({user:s,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=y2(r);return new _c({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function y2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Yg extends ts{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Yg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Yg(e,n,r,i)}}function BM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Yg._fromErrorAndOperation(t,s,e,r):s})}async function Z7(t,e,n=!1){const r=await td(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _c._forOperation(t,"link",r)}async function e$(t,e,n=!1){const{auth:r}=t;if(di(r.app))return Promise.reject(Is(r));const i="reauthenticate";try{const s=await td(t,BM(r,i,e,t),n);He(s.idToken,r,"internal-error");const c=Tj(s.idToken);He(c,r,"internal-error");const{sub:u}=c;return He(t.uid===u,r,"user-mismatch"),_c._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ca(r,"user-mismatch"),s}}async function $M(t,e,n=!1){if(di(t.app))return Promise.reject(Is(t));const r="signIn",i=await BM(t,r,e),s=await _c._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function t$(t,e){return $M(Mc(t),e)}async function FM(t){const e=Mc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function n$(t,e,n){if(di(t.app))return Promise.reject(Is(t));const r=Mc(t),c=await H1(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",J7).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&FM(t),f}),u=await _c._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(u.user),u}function r$(t,e,n){return di(t.app)?Promise.reject(Is(t)):t$(Ft(t),_d.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FM(t),r})}async function i$(t,e){return Ws(t,"POST","/v1/accounts:update",e)}async function a$(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ft(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await td(r,i$(r.auth,s));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const u=r.providerData.find(({providerId:f})=>f==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function s$(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function o$(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function l$(t,e,n,r){return Ft(t).onAuthStateChanged(e,n,r)}function c$(t){return Ft(t).signOut()}const Xg="__sak";class HM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xg,"1"),this.storage.removeItem(Xg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const u$=1e3,d$=10;class GM extends HM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,u,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);S7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,d$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},u$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}GM.type="LOCAL";const f$=GM;class KM extends HM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KM.type="SESSION";const QM=KM;function h$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class my{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new my(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,c=this.handlersMap[i];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(c).map(async h=>h(n.origin,s)),f=await h$(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}my.receivers=[];function Ij(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class m${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,c;return new Promise((u,f)=>{const h=Ij("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(y.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function $a(){return window}function p$(t){$a().location.href=t}function WM(){return typeof $a().WorkerGlobalScope<"u"&&typeof $a().importScripts=="function"}async function g$(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function v$(){return navigator?.serviceWorker?.controller||null}function y$(){return WM()?self:null}const YM="firebaseLocalStorageDb",b$=1,Jg="firebaseLocalStorage",XM="fbase_key";class Jh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function py(t,e){return t.transaction([Jg],e?"readwrite":"readonly").objectStore(Jg)}function x$(){const t=indexedDB.deleteDatabase(YM);return new Jh(t).toPromise()}function G1(){const t=indexedDB.open(YM,b$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jg,{keyPath:XM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Jg)?e(r):(r.close(),await x$(),e(await G1()))})})}async function b2(t,e,n){const r=py(t,!0).put({[XM]:e,value:n});return new Jh(r).toPromise()}async function _$(t,e){const n=py(t,!1).get(e),r=await new Jh(n).toPromise();return r===void 0?null:r.value}function x2(t,e){const n=py(t,!0).delete(e);return new Jh(n).toPromise()}const w$=800,j$=3;class JM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await G1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>j$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=my._getInstance(y$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await g$(),!this.activeServiceWorker)return;this.sender=new m$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||v$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await G1();return await b2(e,Xg,"1"),await x2(e,Xg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>b2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>x2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=py(i,!1).getAll();return new Jh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),w$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JM.type="LOCAL";const E$=JM;new Wh(3e4,6e4);function N$(t,e){return e?Ts(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Rj extends Oj{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function S$(t){return $M(t.auth,new Rj(t),t.bypassAuthState)}function A$(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),e$(n,new Rj(t),t.bypassAuthState)}async function T$(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),Z7(n,new Rj(t),t.bypassAuthState)}class ZM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:c,type:u}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return S$;case"linkViaPopup":case"linkViaRedirect":return T$;case"reauthViaPopup":case"reauthViaRedirect":return A$;default:ca(this.auth,"internal-error")}}resolve(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const C$=new Wh(2e3,1e4);class Fu extends ZM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Fu.currentPopupAction&&Fu.currentPopupAction.cancel(),Fu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){zs(this.filter.length===1,"Popup operations only handle one event");const e=Ij();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ba(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ba(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ba(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,C$.get())};e()}}Fu.currentPopupAction=null;const O$="pendingRedirect",Tg=new Map;class P$ extends ZM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tg.get(this.auth._key());if(!e){try{const r=await I$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tg.set(this.auth._key(),e)}return this.bypassAuthState||Tg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I$(t,e){const n=D$(e),r=k$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function R$(t,e){Tg.set(t._key(),e)}function k$(t){return Ts(t._redirectPersistence)}function D$(t){return Ag(O$,t.config.apiKey,t.name)}async function M$(t,e,n=!1){if(di(t.app))return Promise.reject(Is(t));const r=Mc(t),i=N$(r,e),c=await new P$(r,i,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const z$=600*1e3;class L${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!q$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ez(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ba(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=z$&&this.cachedEventUids.clear(),this.cachedEventUids.has(_2(e))}saveEventToCache(e){this.cachedEventUids.add(_2(e)),this.lastProcessedEventTime=Date.now()}}function _2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ez({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function q$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ez(t);default:return!1}}async function U$(t,e={}){return Ws(t,"GET","/v1/projects",e)}const V$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B$=/^https?/;async function $$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await U$(t);for(const n of e)try{if(F$(n))return}catch{}ca(t,"unauthorized-domain")}function F$(t){const e=$1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!B$.test(n))return!1;if(V$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const H$=new Wh(3e4,6e4);function w2(){const t=$a().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function G$(t){return new Promise((e,n)=>{function r(){w2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w2(),n(Ba(t,"network-request-failed"))},timeout:H$.get()})}if($a().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if($a().gapi?.load)r();else{const i=D7("iframefcb");return $a()[i]=()=>{gapi.load?r():n(Ba(t,"network-request-failed"))},LM(`${k7()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw Cg=null,e})}let Cg=null;function K$(t){return Cg=Cg||G$(t),Cg}const Q$=new Wh(5e3,15e3),W$="__/auth/iframe",Y$="emulator/auth/iframe",X$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z$(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Aj(e,Y$):`https://${t.config.authDomain}/${W$}`,r={apiKey:e.apiKey,appName:t.name,v:Dc},i=J$.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Qh(r).slice(1)}`}async function eF(t){const e=await K$(t),n=$a().gapi;return He(n,t,"internal-error"),e.open({where:document.body,url:Z$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const c=Ba(t,"network-request-failed"),u=$a().setTimeout(()=>{s(c)},Q$.get());function f(){$a().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{s(c)})}))}const tF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nF=500,rF=600,iF="_blank",aF="http://localhost";class j2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sF(t,e,n,r=nF,i=rF){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...tF,width:r.toString(),height:i.toString(),top:s,left:c},h=wr().toLowerCase();n&&(u=PM(h)?iF:n),CM(h)&&(e=e||aF,f.scrollbars="yes");const p=Object.entries(f).reduce((y,[x,E])=>`${y}${x}=${E},`,"");if(N7(h)&&u!=="_self")return oF(e||"",u),new j2(null);const g=window.open(e||"",u,p);He(g,t,"popup-blocked");try{g.focus()}catch{}return new j2(g)}function oF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const lF="__/auth/handler",cF="emulator/auth/handler",uF=encodeURIComponent("fac");async function E2(t,e,n,r,i,s){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Dc,eventId:i};if(e instanceof VM){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",K8(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))c[p]=g}if(e instanceof Xh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(c.scopes=p.join(","))}t.tenantId&&(c.tid=t.tenantId);const u=c;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const f=await t._getAppCheckToken(),h=f?`#${uF}=${encodeURIComponent(f)}`:"";return`${dF(t)}?${Qh(u).slice(1)}${h}`}function dF({config:t}){return t.emulator?Aj(t,cF):`https://${t.authDomain}/${lF}`}const zx="webStorageSupport";class fF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QM,this._completeRedirectFn=M$,this._overrideRedirectResult=R$}async _openPopup(e,n,r,i){zs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await E2(e,n,r,$1(),i);return sF(e,s,Ij())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await E2(e,n,r,$1(),i);return p$(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(zs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await eF(e),r=new L$(e);return n.register("authEvent",i=>(He(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zx,{type:zx},i=>{const s=i?.[0]?.[zx];s!==void 0&&n(!!s),ca(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MM()||OM()||Cj()}}const hF=fF;var N2="@firebase/auth",S2="1.12.0";class mF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gF(t){bc(new sl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=r.options;He(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zM(t)},h=new P7(r,i,s,f);return V7(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bc(new sl("auth-internal",e=>{const n=Mc(e.getProvider("auth").getImmediate());return(r=>new mF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Va(N2,S2,pF(t)),Va(N2,S2,"esm2020")}const vF=300,yF=mM("authIdTokenMaxAge")||vF;let A2=null;const bF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>yF)return;const i=n?.token;A2!==i&&(A2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xF(t=Nj()){const e=fy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=U7(t,{popupRedirectResolver:hF,persistence:[E$,f$,QM]}),r=mM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const c=bF(s.toString());o$(n,c,()=>c(n.currentUser)),s$(n,u=>c(u))}}const i=dM("auth");return i&&B7(n,`http://${i}`),n}function _F(){return document.getElementsByTagName("head")?.[0]??document}I7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ba("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",_F().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gF("Browser");var T2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nl,tz;(function(){var t;function e(D,I){function k(){}k.prototype=I.prototype,D.F=I.prototype,D.prototype=new k,D.prototype.constructor=D,D.D=function(q,L,M){for(var U=Array(arguments.length-2),X=2;X<arguments.length;X++)U[X-2]=arguments[X];return I.prototype[L].apply(q,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,I,k){k||(k=0);const q=Array(16);if(typeof I=="string")for(var L=0;L<16;++L)q[L]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(L=0;L<16;++L)q[L]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=D.g[0],k=D.g[1],L=D.g[2];let M=D.g[3],U;U=I+(M^k&(L^M))+q[0]+3614090360&4294967295,I=k+(U<<7&4294967295|U>>>25),U=M+(L^I&(k^L))+q[1]+3905402710&4294967295,M=I+(U<<12&4294967295|U>>>20),U=L+(k^M&(I^k))+q[2]+606105819&4294967295,L=M+(U<<17&4294967295|U>>>15),U=k+(I^L&(M^I))+q[3]+3250441966&4294967295,k=L+(U<<22&4294967295|U>>>10),U=I+(M^k&(L^M))+q[4]+4118548399&4294967295,I=k+(U<<7&4294967295|U>>>25),U=M+(L^I&(k^L))+q[5]+1200080426&4294967295,M=I+(U<<12&4294967295|U>>>20),U=L+(k^M&(I^k))+q[6]+2821735955&4294967295,L=M+(U<<17&4294967295|U>>>15),U=k+(I^L&(M^I))+q[7]+4249261313&4294967295,k=L+(U<<22&4294967295|U>>>10),U=I+(M^k&(L^M))+q[8]+1770035416&4294967295,I=k+(U<<7&4294967295|U>>>25),U=M+(L^I&(k^L))+q[9]+2336552879&4294967295,M=I+(U<<12&4294967295|U>>>20),U=L+(k^M&(I^k))+q[10]+4294925233&4294967295,L=M+(U<<17&4294967295|U>>>15),U=k+(I^L&(M^I))+q[11]+2304563134&4294967295,k=L+(U<<22&4294967295|U>>>10),U=I+(M^k&(L^M))+q[12]+1804603682&4294967295,I=k+(U<<7&4294967295|U>>>25),U=M+(L^I&(k^L))+q[13]+4254626195&4294967295,M=I+(U<<12&4294967295|U>>>20),U=L+(k^M&(I^k))+q[14]+2792965006&4294967295,L=M+(U<<17&4294967295|U>>>15),U=k+(I^L&(M^I))+q[15]+1236535329&4294967295,k=L+(U<<22&4294967295|U>>>10),U=I+(L^M&(k^L))+q[1]+4129170786&4294967295,I=k+(U<<5&4294967295|U>>>27),U=M+(k^L&(I^k))+q[6]+3225465664&4294967295,M=I+(U<<9&4294967295|U>>>23),U=L+(I^k&(M^I))+q[11]+643717713&4294967295,L=M+(U<<14&4294967295|U>>>18),U=k+(M^I&(L^M))+q[0]+3921069994&4294967295,k=L+(U<<20&4294967295|U>>>12),U=I+(L^M&(k^L))+q[5]+3593408605&4294967295,I=k+(U<<5&4294967295|U>>>27),U=M+(k^L&(I^k))+q[10]+38016083&4294967295,M=I+(U<<9&4294967295|U>>>23),U=L+(I^k&(M^I))+q[15]+3634488961&4294967295,L=M+(U<<14&4294967295|U>>>18),U=k+(M^I&(L^M))+q[4]+3889429448&4294967295,k=L+(U<<20&4294967295|U>>>12),U=I+(L^M&(k^L))+q[9]+568446438&4294967295,I=k+(U<<5&4294967295|U>>>27),U=M+(k^L&(I^k))+q[14]+3275163606&4294967295,M=I+(U<<9&4294967295|U>>>23),U=L+(I^k&(M^I))+q[3]+4107603335&4294967295,L=M+(U<<14&4294967295|U>>>18),U=k+(M^I&(L^M))+q[8]+1163531501&4294967295,k=L+(U<<20&4294967295|U>>>12),U=I+(L^M&(k^L))+q[13]+2850285829&4294967295,I=k+(U<<5&4294967295|U>>>27),U=M+(k^L&(I^k))+q[2]+4243563512&4294967295,M=I+(U<<9&4294967295|U>>>23),U=L+(I^k&(M^I))+q[7]+1735328473&4294967295,L=M+(U<<14&4294967295|U>>>18),U=k+(M^I&(L^M))+q[12]+2368359562&4294967295,k=L+(U<<20&4294967295|U>>>12),U=I+(k^L^M)+q[5]+4294588738&4294967295,I=k+(U<<4&4294967295|U>>>28),U=M+(I^k^L)+q[8]+2272392833&4294967295,M=I+(U<<11&4294967295|U>>>21),U=L+(M^I^k)+q[11]+1839030562&4294967295,L=M+(U<<16&4294967295|U>>>16),U=k+(L^M^I)+q[14]+4259657740&4294967295,k=L+(U<<23&4294967295|U>>>9),U=I+(k^L^M)+q[1]+2763975236&4294967295,I=k+(U<<4&4294967295|U>>>28),U=M+(I^k^L)+q[4]+1272893353&4294967295,M=I+(U<<11&4294967295|U>>>21),U=L+(M^I^k)+q[7]+4139469664&4294967295,L=M+(U<<16&4294967295|U>>>16),U=k+(L^M^I)+q[10]+3200236656&4294967295,k=L+(U<<23&4294967295|U>>>9),U=I+(k^L^M)+q[13]+681279174&4294967295,I=k+(U<<4&4294967295|U>>>28),U=M+(I^k^L)+q[0]+3936430074&4294967295,M=I+(U<<11&4294967295|U>>>21),U=L+(M^I^k)+q[3]+3572445317&4294967295,L=M+(U<<16&4294967295|U>>>16),U=k+(L^M^I)+q[6]+76029189&4294967295,k=L+(U<<23&4294967295|U>>>9),U=I+(k^L^M)+q[9]+3654602809&4294967295,I=k+(U<<4&4294967295|U>>>28),U=M+(I^k^L)+q[12]+3873151461&4294967295,M=I+(U<<11&4294967295|U>>>21),U=L+(M^I^k)+q[15]+530742520&4294967295,L=M+(U<<16&4294967295|U>>>16),U=k+(L^M^I)+q[2]+3299628645&4294967295,k=L+(U<<23&4294967295|U>>>9),U=I+(L^(k|~M))+q[0]+4096336452&4294967295,I=k+(U<<6&4294967295|U>>>26),U=M+(k^(I|~L))+q[7]+1126891415&4294967295,M=I+(U<<10&4294967295|U>>>22),U=L+(I^(M|~k))+q[14]+2878612391&4294967295,L=M+(U<<15&4294967295|U>>>17),U=k+(M^(L|~I))+q[5]+4237533241&4294967295,k=L+(U<<21&4294967295|U>>>11),U=I+(L^(k|~M))+q[12]+1700485571&4294967295,I=k+(U<<6&4294967295|U>>>26),U=M+(k^(I|~L))+q[3]+2399980690&4294967295,M=I+(U<<10&4294967295|U>>>22),U=L+(I^(M|~k))+q[10]+4293915773&4294967295,L=M+(U<<15&4294967295|U>>>17),U=k+(M^(L|~I))+q[1]+2240044497&4294967295,k=L+(U<<21&4294967295|U>>>11),U=I+(L^(k|~M))+q[8]+1873313359&4294967295,I=k+(U<<6&4294967295|U>>>26),U=M+(k^(I|~L))+q[15]+4264355552&4294967295,M=I+(U<<10&4294967295|U>>>22),U=L+(I^(M|~k))+q[6]+2734768916&4294967295,L=M+(U<<15&4294967295|U>>>17),U=k+(M^(L|~I))+q[13]+1309151649&4294967295,k=L+(U<<21&4294967295|U>>>11),U=I+(L^(k|~M))+q[4]+4149444226&4294967295,I=k+(U<<6&4294967295|U>>>26),U=M+(k^(I|~L))+q[11]+3174756917&4294967295,M=I+(U<<10&4294967295|U>>>22),U=L+(I^(M|~k))+q[2]+718787259&4294967295,L=M+(U<<15&4294967295|U>>>17),U=k+(M^(L|~I))+q[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(L+(U<<21&4294967295|U>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+M&4294967295}r.prototype.v=function(D,I){I===void 0&&(I=D.length);const k=I-this.blockSize,q=this.C;let L=this.h,M=0;for(;M<I;){if(L==0)for(;M<=k;)i(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<I;)if(q[L++]=D.charCodeAt(M++),L==this.blockSize){i(this,q),L=0;break}}else for(;M<I;)if(q[L++]=D[M++],L==this.blockSize){i(this,q),L=0;break}}this.h=L,this.o+=I},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;I=this.o*8;for(var k=D.length-8;k<D.length;++k)D[k]=I&255,I/=256;for(this.v(D),D=Array(16),I=0,k=0;k<4;++k)for(let q=0;q<32;q+=8)D[I++]=this.g[k]>>>q&255;return D};function s(D,I){var k=u;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=I(D)}function c(D,I){this.h=I;const k=[];let q=!0;for(let L=D.length-1;L>=0;L--){const M=D[L]|0;q&&M==I||(k[L]=M,q=!1)}this.g=k}var u={};function f(D){return-128<=D&&D<128?s(D,function(I){return new c([I|0],I<0?-1:0)}):new c([D|0],D<0?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return g;if(D<0)return N(h(-D));const I=[];let k=1;for(let q=0;D>=k;q++)I[q]=D/k|0,k*=4294967296;return new c(I,0)}function p(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return N(p(D.substring(1),I));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=h(Math.pow(I,8));let q=g;for(let M=0;M<D.length;M+=8){var L=Math.min(8,D.length-M);const U=parseInt(D.substring(M,M+L),I);L<8?(L=h(Math.pow(I,L)),q=q.j(L).add(h(U))):(q=q.j(k),q=q.add(h(U)))}return q}var g=f(0),y=f(1),x=f(16777216);t=c.prototype,t.m=function(){if(w(this))return-N(this).m();let D=0,I=1;for(let k=0;k<this.g.length;k++){const q=this.i(k);D+=(q>=0?q:4294967296+q)*I,I*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(E(this))return"0";if(w(this))return"-"+N(this).toString(D);const I=h(Math.pow(D,6));var k=this;let q="";for(;;){const L=C(k,I).g;k=A(k,L.j(I));let M=((k.g.length>0?k.g[0]:k.h)>>>0).toString(D);if(k=L,E(k))return M+q;for(;M.length<6;)M="0"+M;q=M+q}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function E(D){if(D.h!=0)return!1;for(let I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function w(D){return D.h==-1}t.l=function(D){return D=A(this,D),w(D)?-1:E(D)?0:1};function N(D){const I=D.g.length,k=[];for(let q=0;q<I;q++)k[q]=~D.g[q];return new c(k,~D.h).add(y)}t.abs=function(){return w(this)?N(this):this},t.add=function(D){const I=Math.max(this.g.length,D.g.length),k=[];let q=0;for(let L=0;L<=I;L++){let M=q+(this.i(L)&65535)+(D.i(L)&65535),U=(M>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);q=U>>>16,M&=65535,U&=65535,k[L]=U<<16|M}return new c(k,k[k.length-1]&-2147483648?-1:0)};function A(D,I){return D.add(N(I))}t.j=function(D){if(E(this)||E(D))return g;if(w(this))return w(D)?N(this).j(N(D)):N(N(this).j(D));if(w(D))return N(this.j(N(D)));if(this.l(x)<0&&D.l(x)<0)return h(this.m()*D.m());const I=this.g.length+D.g.length,k=[];for(var q=0;q<2*I;q++)k[q]=0;for(q=0;q<this.g.length;q++)for(let L=0;L<D.g.length;L++){const M=this.i(q)>>>16,U=this.i(q)&65535,X=D.i(L)>>>16,Q=D.i(L)&65535;k[2*q+2*L]+=U*Q,R(k,2*q+2*L),k[2*q+2*L+1]+=M*Q,R(k,2*q+2*L+1),k[2*q+2*L+1]+=U*X,R(k,2*q+2*L+1),k[2*q+2*L+2]+=M*X,R(k,2*q+2*L+2)}for(D=0;D<I;D++)k[D]=k[2*D+1]<<16|k[2*D];for(D=I;D<2*I;D++)k[D]=0;return new c(k,0)};function R(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function O(D,I){this.g=D,this.h=I}function C(D,I){if(E(I))throw Error("division by zero");if(E(D))return new O(g,g);if(w(D))return I=C(N(D),I),new O(N(I.g),N(I.h));if(w(I))return I=C(D,N(I)),new O(N(I.g),I.h);if(D.g.length>30){if(w(D)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var k=y,q=I;q.l(D)<=0;)k=V(k),q=V(q);var L=$(k,1),M=$(q,1);for(q=$(q,2),k=$(k,2);!E(q);){var U=M.add(q);U.l(D)<=0&&(L=L.add(k),M=U),q=$(q,1),k=$(k,1)}return I=A(D,L.j(I)),new O(L,I)}for(L=g;D.l(I)>=0;){for(k=Math.max(1,Math.floor(D.m()/I.m())),q=Math.ceil(Math.log(k)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),M=h(k),U=M.j(I);w(U)||U.l(D)>0;)k-=q,M=h(k),U=M.j(I);E(M)&&(M=y),L=L.add(M),D=A(D,U)}return new O(L,D)}t.B=function(D){return C(this,D).h},t.and=function(D){const I=Math.max(this.g.length,D.g.length),k=[];for(let q=0;q<I;q++)k[q]=this.i(q)&D.i(q);return new c(k,this.h&D.h)},t.or=function(D){const I=Math.max(this.g.length,D.g.length),k=[];for(let q=0;q<I;q++)k[q]=this.i(q)|D.i(q);return new c(k,this.h|D.h)},t.xor=function(D){const I=Math.max(this.g.length,D.g.length),k=[];for(let q=0;q<I;q++)k[q]=this.i(q)^D.i(q);return new c(k,this.h^D.h)};function V(D){const I=D.g.length+1,k=[];for(let q=0;q<I;q++)k[q]=D.i(q)<<1|D.i(q-1)>>>31;return new c(k,D.h)}function $(D,I){const k=I>>5;I%=32;const q=D.g.length-k,L=[];for(let M=0;M<q;M++)L[M]=I>0?D.i(M+k)>>>I|D.i(M+k+1)<<32-I:D.i(M+k);return new c(L,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,tz=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=h,c.fromString=p,nl=c}).apply(typeof T2<"u"?T2:typeof self<"u"?self:typeof window<"u"?window:{});var Xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nz,Zf,rz,Og,K1,iz,az,sz;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xp=="object"&&Xp];for(var S=0;S<v.length;++S){var P=v[S];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(v,S){if(S)e:{var P=r;v=v.split(".");for(var B=0;B<v.length-1;B++){var ie=v[B];if(!(ie in P))break e;P=P[ie]}v=v[v.length-1],B=P[v],S=S(B),S!=B&&S!=null&&e(P,v,{configurable:!0,writable:!0,value:S})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(S){var P=[],B;for(B in S)Object.prototype.hasOwnProperty.call(S,B)&&P.push([B,S[B]]);return P}});var s=s||{},c=this||self;function u(v){var S=typeof v;return S=="object"&&v!=null||S=="function"}function f(v,S,P){return v.call.apply(v.bind,arguments)}function h(v,S,P){return h=f,h.apply(null,arguments)}function p(v,S){var P=Array.prototype.slice.call(arguments,1);return function(){var B=P.slice();return B.push.apply(B,arguments),v.apply(this,B)}}function g(v,S){function P(){}P.prototype=S.prototype,v.Z=S.prototype,v.prototype=new P,v.prototype.constructor=v,v.Ob=function(B,ie,de){for(var Ne=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)Ne[Ze-2]=arguments[Ze];return S.prototype[ie].apply(B,Ne)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function x(v){const S=v.length;if(S>0){const P=Array(S);for(let B=0;B<S;B++)P[B]=v[B];return P}return[]}function E(v,S){for(let B=1;B<arguments.length;B++){const ie=arguments[B];var P=typeof ie;if(P=P!="object"?P:ie?Array.isArray(ie)?"array":P:"null",P=="array"||P=="object"&&typeof ie.length=="number"){P=v.length||0;const de=ie.length||0;v.length=P+de;for(let Ne=0;Ne<de;Ne++)v[P+Ne]=ie[Ne]}else v.push(ie)}}class w{constructor(S,P){this.i=S,this.j=P,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function N(v){c.setTimeout(()=>{throw v},0)}function A(){var v=D;let S=null;return v.g&&(S=v.g,v.g=v.g.next,v.g||(v.h=null),S.next=null),S}class R{constructor(){this.h=this.g=null}add(S,P){const B=O.get();B.set(S,P),this.h?this.h.next=B:this.g=B,this.h=B}}var O=new w(()=>new C,v=>v.reset());class C{constructor(){this.next=this.g=this.h=null}set(S,P){this.h=S,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let V,$=!1,D=new R,I=()=>{const v=Promise.resolve(void 0);V=()=>{v.then(k)}};function k(){for(var v;v=A();){try{v.h.call(v.g)}catch(P){N(P)}var S=O;S.j(v),S.h<100&&(S.h++,v.next=S.g,S.g=v)}$=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(v,S){this.type=v,this.g=this.target=S,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var v=!1,S=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const P=()=>{};c.addEventListener("test",P,S),c.removeEventListener("test",P,S)}catch{}return v})();function U(v){return/^[\s\xa0]*$/.test(v)}function X(v,S){L.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,S)}g(X,L),X.prototype.init=function(v,S){const P=this.type=v.type,B=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=S,S=v.relatedTarget,S||(P=="mouseover"?S=v.fromElement:P=="mouseout"&&(S=v.toElement)),this.relatedTarget=S,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&X.Z.h.call(this)},X.prototype.h=function(){X.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Q="closure_listenable_"+(Math.random()*1e6|0),H=0;function ce(v,S,P,B,ie){this.listener=v,this.proxy=null,this.src=S,this.type=P,this.capture=!!B,this.ha=ie,this.key=++H,this.da=this.fa=!1}function Y(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function _e(v,S,P){for(const B in v)S.call(P,v[B],B,v)}function W(v,S){for(const P in v)S.call(void 0,v[P],P,v)}function F(v){const S={};for(const P in v)S[P]=v[P];return S}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(v,S){let P,B;for(let ie=1;ie<arguments.length;ie++){B=arguments[ie];for(P in B)v[P]=B[P];for(let de=0;de<ne.length;de++)P=ne[de],Object.prototype.hasOwnProperty.call(B,P)&&(v[P]=B[P])}}function je(v){this.src=v,this.g={},this.h=0}je.prototype.add=function(v,S,P,B,ie){const de=v.toString();v=this.g[de],v||(v=this.g[de]=[],this.h++);const Ne=re(v,S,B,ie);return Ne>-1?(S=v[Ne],P||(S.fa=!1)):(S=new ce(S,this.src,de,!!B,ie),S.fa=P,v.push(S)),S};function Z(v,S){const P=S.type;if(P in v.g){var B=v.g[P],ie=Array.prototype.indexOf.call(B,S,void 0),de;(de=ie>=0)&&Array.prototype.splice.call(B,ie,1),de&&(Y(S),v.g[P].length==0&&(delete v.g[P],v.h--))}}function re(v,S,P,B){for(let ie=0;ie<v.length;++ie){const de=v[ie];if(!de.da&&de.listener==S&&de.capture==!!P&&de.ha==B)return ie}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),Me={};function oe(v,S,P,B,ie){if(Array.isArray(S)){for(let de=0;de<S.length;de++)oe(v,S[de],P,B,ie);return null}return P=mr(P),v&&v[Q]?v.J(S,P,u(B)?!!B.capture:!1,ie):Se(v,S,P,!1,B,ie)}function Se(v,S,P,B,ie,de){if(!S)throw Error("Invalid event type");const Ne=u(ie)?!!ie.capture:!!ie;let Ze=ht(v);if(Ze||(v[pe]=Ze=new je(v)),P=Ze.add(S,P,B,Ne,de),P.proxy)return P;if(B=J(),P.proxy=B,B.src=v,B.listener=P,v.addEventListener)M||(ie=Ne),ie===void 0&&(ie=!1),v.addEventListener(S.toString(),B,ie);else if(v.attachEvent)v.attachEvent(Fe(S.toString()),B);else if(v.addListener&&v.removeListener)v.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return P}function J(){function v(P){return S.call(v.src,v.listener,P)}const S=ot;return v}function ve(v,S,P,B,ie){if(Array.isArray(S))for(var de=0;de<S.length;de++)ve(v,S[de],P,B,ie);else B=u(B)?!!B.capture:!!B,P=mr(P),v&&v[Q]?(v=v.i,de=String(S).toString(),de in v.g&&(S=v.g[de],P=re(S,P,B,ie),P>-1&&(Y(S[P]),Array.prototype.splice.call(S,P,1),S.length==0&&(delete v.g[de],v.h--)))):v&&(v=ht(v))&&(S=v.g[S.toString()],v=-1,S&&(v=re(S,P,B,ie)),(P=v>-1?S[v]:null)&&ke(P))}function ke(v){if(typeof v!="number"&&v&&!v.da){var S=v.src;if(S&&S[Q])Z(S.i,v);else{var P=v.type,B=v.proxy;S.removeEventListener?S.removeEventListener(P,B,v.capture):S.detachEvent?S.detachEvent(Fe(P),B):S.addListener&&S.removeListener&&S.removeListener(B),(P=ht(S))?(Z(P,v),P.h==0&&(P.src=null,S[pe]=null)):Y(v)}}}function Fe(v){return v in Me?Me[v]:Me[v]="on"+v}function ot(v,S){if(v.da)v=!0;else{S=new X(S,this);const P=v.listener,B=v.ha||v.src;v.fa&&ke(v),v=P.call(B,S)}return v}function ht(v){return v=v[pe],v instanceof je?v:null}var gt="__closure_events_fn_"+(Math.random()*1e9>>>0);function mr(v){return typeof v=="function"?v:(v[gt]||(v[gt]=function(S){return v.handleEvent(S)}),v[gt])}function Rt(){q.call(this),this.i=new je(this),this.M=this,this.G=null}g(Rt,q),Rt.prototype[Q]=!0,Rt.prototype.removeEventListener=function(v,S,P,B){ve(this,v,S,P,B)};function kt(v,S){var P,B=v.G;if(B)for(P=[];B;B=B.G)P.push(B);if(v=v.M,B=S.type||S,typeof S=="string")S=new L(S,v);else if(S instanceof L)S.target=S.target||v;else{var ie=S;S=new L(B,v),ge(S,ie)}ie=!0;let de,Ne;if(P)for(Ne=P.length-1;Ne>=0;Ne--)de=S.g=P[Ne],ie=zr(de,B,!0,S)&&ie;if(de=S.g=v,ie=zr(de,B,!0,S)&&ie,ie=zr(de,B,!1,S)&&ie,P)for(Ne=0;Ne<P.length;Ne++)de=S.g=P[Ne],ie=zr(de,B,!1,S)&&ie}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var v=this.i;for(const S in v.g){const P=v.g[S];for(let B=0;B<P.length;B++)Y(P[B]);delete v.g[S],v.h--}}this.G=null},Rt.prototype.J=function(v,S,P,B){return this.i.add(String(v),S,!1,P,B)},Rt.prototype.K=function(v,S,P,B){return this.i.add(String(v),S,!0,P,B)};function zr(v,S,P,B){if(S=v.i.g[String(S)],!S)return!0;S=S.concat();let ie=!0;for(let de=0;de<S.length;++de){const Ne=S[de];if(Ne&&!Ne.da&&Ne.capture==P){const Ze=Ne.listener,yn=Ne.ha||Ne.src;Ne.fa&&Z(v.i,Ne),ie=Ze.call(yn,B)!==!1&&ie}}return ie&&!B.defaultPrevented}function he(v,S){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=h(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:c.setTimeout(v,S||0)}function Ie(v){v.g=he(()=>{v.g=null,v.i&&(v.i=!1,Ie(v))},v.l);const S=v.h;v.h=null,v.m.apply(null,S)}class Ve extends q{constructor(S,P){super(),this.m=S,this.l=P,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Ie(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ke(v){q.call(this),this.h=v,this.g={}}g(Ke,q);var Vt=[];function zn(v){_e(v.g,function(S,P){this.g.hasOwnProperty(P)&&ke(S)},v),v.g={}}Ke.prototype.N=function(){Ke.Z.N.call(this),zn(this)},Ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lr=c.JSON.stringify,ao=c.JSON.parse,qr=class{stringify(v){return c.JSON.stringify(v,void 0)}parse(v){return c.JSON.parse(v,void 0)}};function Hi(){}function Gc(){}var on={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function At(){L.call(this,"d")}g(At,L);function Ur(){L.call(this,"c")}g(Ur,L);var en={},Nl=null;function so(){return Nl=Nl||new Rt}en.Ia="serverreachability";function Kc(v){L.call(this,en.Ia,v)}g(Kc,L);function bi(v){const S=so();kt(S,new Kc(S))}en.STAT_EVENT="statevent";function ns(v,S){L.call(this,en.STAT_EVENT,v),this.stat=S}g(ns,L);function ln(v){const S=so();kt(S,new ns(S,v))}en.Ja="timingevent";function xi(v,S){L.call(this,en.Ja,v),this.size=S}g(xi,L);function pr(v,S){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){v()},S)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function te(v,S,P,B,ie,de){v.info(function(){if(v.g)if(de){var Ne="",Ze=de.split("&");for(let wt=0;wt<Ze.length;wt++){var yn=Ze[wt].split("=");if(yn.length>1){const Yt=yn[0];yn=yn[1];const Ni=Yt.split("_");Ne=Ni.length>=2&&Ni[1]=="type"?Ne+(Yt+"="+yn+"&"):Ne+(Yt+"=redacted&")}}}else Ne=null;else Ne=de;return"XMLHTTP REQ ("+B+") [attempt "+ie+"]: "+S+`
`+P+`
`+Ne})}function Ue(v,S,P,B,ie,de,Ne){v.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+ie+"]: "+S+`
`+P+`
`+de+" "+Ne})}function vt(v,S,P,B){v.info(function(){return"XMLHTTP TEXT ("+S+"): "+Sl(v,P)+(B?" "+B:"")})}function Fn(v,S){v.info(function(){return"TIMEOUT: "+S})}ti.prototype.info=function(){};function Sl(v,S){if(!v.g)return S;if(!S)return null;try{const de=JSON.parse(S);if(de){for(v=0;v<de.length;v++)if(Array.isArray(de[v])){var P=de[v];if(!(P.length<2)){var B=P[1];if(Array.isArray(B)&&!(B.length<1)){var ie=B[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(let Ne=1;Ne<B.length;Ne++)B[Ne]=""}}}}return Lr(de)}catch{return S}}var _i={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zd={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ld;function Al(){}g(Al,Hi),Al.prototype.g=function(){return new XMLHttpRequest},Ld=new Al;function rs(v){return encodeURIComponent(String(v))}function Tm(v){var S=1;v=v.split(":");const P=[];for(;S>0&&v.length;)P.push(v.shift()),S--;return v.length&&P.push(v.join(":")),P}function Gi(v,S,P,B){this.j=v,this.i=S,this.l=P,this.S=B||1,this.V=new Ke(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ki}function Ki(){this.i=null,this.g="",this.h=!1}var En={},Hn={};function pa(v,S,P){v.M=1,v.A=Tl(Sn(S)),v.u=P,v.R=!0,Qc(v,null)}function Qc(v,S){v.F=Date.now(),ga(v),v.B=Sn(v.A);var P=v.B,B=v.S;Array.isArray(B)||(B=[String(B)]),Jc(P.i,"t",B),v.C=0,P=v.j.L,v.h=new Ki,v.g=$m(v.j,P?S:null,!v.u),v.P>0&&(v.O=new Ve(h(v.Y,v,v.g),v.P)),S=v.V,P=v.g,B=v.ba;var ie="readystatechange";Array.isArray(ie)||(ie&&(Vt[0]=ie.toString()),ie=Vt);for(let de=0;de<ie.length;de++){const Ne=oe(P,ie[de],B||S.handleEvent,!1,S.h||S);if(!Ne)break;S.g[Ne.key]=Ne}S=v.J?F(v.J):{},v.u?(v.v||(v.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,S)):(v.v="GET",v.g.ea(v.B,v.v,null,S)),bi(),te(v.i,v.v,v.B,v.l,v.S,v.u)}Gi.prototype.ba=function(v){v=v.target;const S=this.O;S&&Yi(v)==3?S.j():this.Y(v)},Gi.prototype.Y=function(v){try{if(v==this.g)e:{const Ze=Yi(this.g),yn=this.g.ya(),wt=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||rr(this.g)))){this.K||Ze!=4||yn==7||(yn==8||wt<=0?bi(3):bi(2)),va(this);var S=this.g.ca();this.X=S;var P=O0(this);if(this.o=S==200,Ue(this.i,this.v,this.B,this.l,this.S,Ze,S),this.o){if(this.U&&!this.L){t:{if(this.g){var B,ie=this.g;if((B=ie.g?ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(B)){var de=B;break t}}de=null}if(v=de)vt(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ya(this,v);else{this.o=!1,this.m=3,ln(12),ni(this),wi(this);break e}}if(this.R){v=!0;let Yt;for(;!this.K&&this.C<P.length;)if(Yt=Om(this,P),Yt==Hn){Ze==4&&(this.m=4,ln(14),v=!1),vt(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==En){this.m=4,ln(15),vt(this.i,this.l,P,"[Invalid Chunk]"),v=!1;break}else vt(this.i,this.l,Yt,null),ya(this,Yt);if(Cm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||P.length!=0||this.h.h||(this.m=1,ln(16),v=!1),this.o=this.o&&v,!v)vt(this.i,this.l,P,"[Invalid Chunked Response]"),ni(this),wi(this);else if(P.length>0&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.aa&&!Ne.P&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Zd(Ne),Ne.P=!0,ln(11))}}else vt(this.i,this.l,P,null),ya(this,P);Ze==4&&ni(this),this.o&&!this.K&&(Ze==4?qm(this.j,this):(this.o=!1,ga(this)))}else as(this.g),S==400&&P.indexOf("Unknown SID")>0?(this.m=3,ln(12)):(this.m=0,ln(13)),ni(this),wi(this)}}}catch{}};function O0(v){if(!Cm(v))return v.g.la();const S=rr(v.g);if(S==="")return"";let P="";const B=S.length,ie=Yi(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return ni(v),wi(v),"";v.h.i=new c.TextDecoder}for(let de=0;de<B;de++)v.h.h=!0,P+=v.h.i.decode(S[de],{stream:!(ie&&de==B-1)});return S.length=0,v.h.g+=P,v.C=0,v.h.g}function Cm(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function Om(v,S){var P=v.C,B=S.indexOf(`
`,P);return B==-1?Hn:(P=Number(S.substring(P,B)),isNaN(P)?En:(B+=1,B+P>S.length?Hn:(S=S.slice(B,B+P),v.C=B+P,S)))}Gi.prototype.cancel=function(){this.K=!0,ni(this)};function ga(v){v.T=Date.now()+v.H,Wc(v,v.H)}function Wc(v,S){if(v.D!=null)throw Error("WatchDog timer not null");v.D=pr(h(v.aa,v),S)}function va(v){v.D&&(c.clearTimeout(v.D),v.D=null)}Gi.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(Fn(this.i,this.B),this.M!=2&&(bi(),ln(17)),ni(this),this.m=2,wi(this)):Wc(this,this.T-v)};function wi(v){v.j.I==0||v.K||qm(v.j,v)}function ni(v){va(v);var S=v.O;S&&typeof S.dispose=="function"&&S.dispose(),v.O=null,zn(v.V),v.g&&(S=v.g,v.g=null,S.abort(),S.dispose())}function ya(v,S){try{var P=v.j;if(P.I!=0&&(P.g==v||xa(P.h,v))){if(!v.L&&xa(P.h,v)&&P.I==3){try{var B=P.Ba.g.parse(S)}catch{B=null}if(Array.isArray(B)&&B.length==3){var ie=B;if(ie[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<v.F)ru(P),po(P);else break e;Dl(P),ln(18)}}else P.xa=ie[1],0<P.xa-P.K&&ie[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=pr(h(P.Va,P),6e3));ba(P.h)<=1&&P.ta&&(P.ta=void 0)}else Sa(P,11)}else if((v.L||P.g==v)&&ru(P),!U(S))for(ie=P.Ba.g.parse(S),S=0;S<ie.length;S++){let wt=ie[S];const Yt=wt[0];if(!(Yt<=P.K))if(P.K=Yt,wt=wt[1],P.I==2)if(wt[0]=="c"){P.M=wt[1],P.ba=wt[2];const Ni=wt[3];Ni!=null&&(P.ka=Ni,P.j.info("VER="+P.ka));const Aa=wt[4];Aa!=null&&(P.za=Aa,P.j.info("SVER="+P.za));const Xi=wt[5];Xi!=null&&typeof Xi=="number"&&Xi>0&&(B=1.5*Xi,P.O=B,P.j.info("backChannelRequestTimeoutMs_="+B)),B=P;const Ji=v.g;if(Ji){const Ml=Ji.g?Ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ml){var de=B.h;de.g||Ml.indexOf("spdy")==-1&&Ml.indexOf("quic")==-1&&Ml.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(Vd(de,de.h),de.h=null))}if(B.G){const iu=Ji.g?Ji.g.getResponseHeader("X-HTTP-Session-Id"):null;iu&&(B.wa=iu,Tt(B.J,B.G,iu))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-v.F,P.j.info("Handshake RTT: "+P.T+"ms")),B=P;var Ne=v;if(B.na=Bm(B,B.L?B.ba:null,B.W),Ne.L){Bd(B.h,Ne);var Ze=Ne,yn=B.O;yn&&(Ze.H=yn),Ze.D&&(va(Ze),ga(Ze)),B.g=Ne}else zm(B);P.i.length>0&&Na(P)}else wt[0]!="stop"&&wt[0]!="close"||Sa(P,7);else P.I==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?Sa(P,7):Xd(P):wt[0]!="noop"&&P.l&&P.l.qa(wt),P.A=0)}}bi(4)}catch{}}var Nn=class{constructor(v,S){this.g=v,this.map=S}};function qd(v){this.l=v||10,c.PerformanceNavigationTiming?(v=c.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ud(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function ba(v){return v.h?1:v.g?v.g.size:0}function xa(v,S){return v.h?v.h==S:v.g?v.g.has(S):!1}function Vd(v,S){v.g?v.g.add(S):v.h=S}function Bd(v,S){v.h&&v.h==S?v.h=null:v.g&&v.g.has(S)&&v.g.delete(S)}qd.prototype.cancel=function(){if(this.i=$d(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function $d(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let S=v.i;for(const P of v.g.values())S=S.concat(P.G);return S}return x(v.i)}var Pm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yc(v,S){if(v){v=v.split("&");for(let P=0;P<v.length;P++){const B=v[P].indexOf("=");let ie,de=null;B>=0?(ie=v[P].substring(0,B),de=v[P].substring(B+1)):ie=v[P],S(ie,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function ri(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;v instanceof ri?(this.l=v.l,Gn(this,v.j),this.o=v.o,this.g=v.g,oo(this,v.u),this.h=v.h,Fd(this,Dm(v.i)),this.m=v.m):v&&(S=String(v).match(Pm))?(this.l=!1,Gn(this,S[1]||"",!0),this.o=_a(S[2]||""),this.g=_a(S[3]||"",!0),oo(this,S[4]),this.h=_a(S[5]||"",!0),Fd(this,S[6]||"",!0),this.m=_a(S[7]||"")):(this.l=!1,this.i=new co(null,this.l))}ri.prototype.toString=function(){const v=[];var S=this.j;S&&v.push(Cl(S,Xc,!0),":");var P=this.g;return(P||S=="file")&&(v.push("//"),(S=this.o)&&v.push(Cl(S,Xc,!0),"@"),v.push(rs(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&v.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&v.push("/"),v.push(Cl(P,P.charAt(0)=="/"?Hd:Im,!0))),(P=this.i.toString())&&v.push("?",P),(P=this.m)&&v.push("#",Cl(P,Rm)),v.join("")},ri.prototype.resolve=function(v){const S=Sn(this);let P=!!v.j;P?Gn(S,v.j):P=!!v.o,P?S.o=v.o:P=!!v.g,P?S.g=v.g:P=v.u!=null;var B=v.h;if(P)oo(S,v.u);else if(P=!!v.h){if(B.charAt(0)!="/")if(this.g&&!this.h)B="/"+B;else{var ie=S.h.lastIndexOf("/");ie!=-1&&(B=S.h.slice(0,ie+1)+B)}if(ie=B,ie==".."||ie==".")B="";else if(ie.indexOf("./")!=-1||ie.indexOf("/.")!=-1){B=ie.lastIndexOf("/",0)==0,ie=ie.split("/");const de=[];for(let Ne=0;Ne<ie.length;){const Ze=ie[Ne++];Ze=="."?B&&Ne==ie.length&&de.push(""):Ze==".."?((de.length>1||de.length==1&&de[0]!="")&&de.pop(),B&&Ne==ie.length&&de.push("")):(de.push(Ze),B=!0)}B=de.join("/")}else B=ie}return P?S.h=B:P=v.i.toString()!=="",P?Fd(S,Dm(v.i)):P=!!v.m,P&&(S.m=v.m),S};function Sn(v){return new ri(v)}function Gn(v,S,P){v.j=P?_a(S,!0):S,v.j&&(v.j=v.j.replace(/:$/,""))}function oo(v,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);v.u=S}else v.u=null}function Fd(v,S,P){S instanceof co?(v.i=S,Zc(v.i,v.l)):(P||(S=Cl(S,lo)),v.i=new co(S,v.l))}function Tt(v,S,P){v.i.set(S,P)}function Tl(v){return Tt(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function _a(v,S){return v?S?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Cl(v,S,P){return typeof v=="string"?(v=encodeURI(v).replace(S,Vr),P&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Vr(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Xc=/[#\/\?@]/g,Im=/[#\?:]/g,Hd=/[#\?]/g,lo=/[#\?@]/g,Rm=/#/g;function co(v,S){this.h=this.g=null,this.i=v||null,this.j=!!S}function Br(v){v.g||(v.g=new Map,v.h=0,v.i&&Yc(v.i,function(S,P){v.add(decodeURIComponent(S.replace(/\+/g," ")),P)}))}t=co.prototype,t.add=function(v,S){Br(this),this.i=null,v=uo(this,v);let P=this.g.get(v);return P||this.g.set(v,P=[]),P.push(S),this.h+=1,this};function km(v,S){Br(v),S=uo(v,S),v.g.has(S)&&(v.i=null,v.h-=v.g.get(S).length,v.g.delete(S))}function Gd(v,S){return Br(v),S=uo(v,S),v.g.has(S)}t.forEach=function(v,S){Br(this),this.g.forEach(function(P,B){P.forEach(function(ie){v.call(S,ie,B,this)},this)},this)};function Kd(v,S){Br(v);let P=[];if(typeof S=="string")Gd(v,S)&&(P=P.concat(v.g.get(uo(v,S))));else for(v=Array.from(v.g.values()),S=0;S<v.length;S++)P=P.concat(v[S]);return P}t.set=function(v,S){return Br(this),this.i=null,v=uo(this,v),Gd(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[S]),this.h+=1,this},t.get=function(v,S){return v?(v=Kd(this,v),v.length>0?String(v[0]):S):S};function Jc(v,S,P){km(v,S),P.length>0&&(v.i=null,v.g.set(uo(v,S),x(P)),v.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],S=Array.from(this.g.keys());for(let B=0;B<S.length;B++){var P=S[B];const ie=rs(P);P=Kd(this,P);for(let de=0;de<P.length;de++){let Ne=ie;P[de]!==""&&(Ne+="="+rs(P[de])),v.push(Ne)}}return this.i=v.join("&")};function Dm(v){const S=new co;return S.i=v.i,v.g&&(S.g=new Map(v.g),S.h=v.h),S}function uo(v,S){return S=String(S),v.j&&(S=S.toLowerCase()),S}function Zc(v,S){S&&!v.j&&(Br(v),v.i=null,v.g.forEach(function(P,B){const ie=B.toLowerCase();B!=ie&&(km(this,B),Jc(this,ie,P))},v)),v.j=S}function Qi(v,S){const P=new ti;if(c.Image){const B=new Image;B.onload=p(ji,P,"TestLoadImage: loaded",!0,S,B),B.onerror=p(ji,P,"TestLoadImage: error",!1,S,B),B.onabort=p(ji,P,"TestLoadImage: abort",!1,S,B),B.ontimeout=p(ji,P,"TestLoadImage: timeout",!1,S,B),c.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=v}else S(!1)}function Qd(v,S){const P=new ti,B=new AbortController,ie=setTimeout(()=>{B.abort(),ji(P,"TestPingServer: timeout",!1,S)},1e4);fetch(v,{signal:B.signal}).then(de=>{clearTimeout(ie),de.ok?ji(P,"TestPingServer: ok",!0,S):ji(P,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(ie),ji(P,"TestPingServer: error",!1,S)})}function ji(v,S,P,B,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),B(P)}catch{}}function fo(){this.g=new qr}function wa(v){this.i=v.Sb||null,this.h=v.ab||!1}g(wa,Hi),wa.prototype.g=function(){return new Ol(this.i,this.h)};function Ol(v,S){Rt.call(this),this.H=v,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Ol,Rt),t=Ol.prototype,t.open=function(v,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=S,this.readyState=1,Wi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(S.body=v),(this.H||c).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ho(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Wi(this)),this.g&&(this.readyState=3,Wi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;eu(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function eu(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var S=v.value?v.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!v.done}))&&(this.response=this.responseText+=S)}v.done?ho(this):Wi(this),this.readyState==3&&eu(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,ho(this))},t.Na=function(v){this.g&&(this.response=v,ho(this))},t.ga=function(){this.g&&ho(this)};function ho(v){v.readyState=4,v.l=null,v.j=null,v.B=null,Wi(v)}t.setRequestHeader=function(v,S){this.A.append(v,S)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],S=this.h.entries();for(var P=S.next();!P.done;)P=P.value,v.push(P[0]+": "+P[1]),P=S.next();return v.join(`\r
`)};function Wi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Ol.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Ei(v){let S="";return _e(v,function(P,B){S+=B,S+=":",S+=P,S+=`\r
`}),S}function Pl(v,S,P){e:{for(B in P){var B=!1;break e}B=!0}B||(P=Ei(P),typeof v=="string"?P!=null&&rs(P):Tt(v,S,P))}function Dt(v){Rt.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Dt,Rt);var ja=/^https?$/i,Wd=["POST","PUT"];t=Dt.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,S,P,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);S=S?S.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ld.g(),this.g.onreadystatechange=y(h(this.Ca,this));try{this.B=!0,this.g.open(S,String(v),!0),this.B=!1}catch(de){Il(this,de);return}if(v=P||"",P=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var ie in B)P.set(ie,B[ie]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const de of B.keys())P.set(de,B.get(de));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(P.keys()).find(de=>de.toLowerCase()=="content-type"),ie=c.FormData&&v instanceof c.FormData,!(Array.prototype.indexOf.call(Wd,S,void 0)>=0)||B||ie||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Ne]of P)this.g.setRequestHeader(de,Ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(de){Il(this,de)}};function Il(v,S){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=S,v.o=5,Yd(v),is(v)}function Yd(v){v.A||(v.A=!0,kt(v,"complete"),kt(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,kt(this,"complete"),kt(this,"abort"),is(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),is(this,!0)),Dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Rl(this):this.Xa())},t.Xa=function(){Rl(this)};function Rl(v){if(v.h&&typeof s<"u"){if(v.v&&Yi(v)==4)setTimeout(v.Ca.bind(v),0);else if(kt(v,"readystatechange"),Yi(v)==4){v.h=!1;try{const de=v.ca();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var P;if(!(P=S)){var B;if(B=de===0){let Ne=String(v.D).match(Pm)[1]||null;!Ne&&c.self&&c.self.location&&(Ne=c.self.location.protocol.slice(0,-1)),B=!ja.test(Ne?Ne.toLowerCase():"")}P=B}if(P)kt(v,"complete"),kt(v,"success");else{v.o=6;try{var ie=Yi(v)>2?v.g.statusText:""}catch{ie=""}v.l=ie+" ["+v.ca()+"]",Yd(v)}}finally{is(v)}}}}function is(v,S){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const P=v.g;v.g=null,S||kt(v,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Yi(v){return v.g?v.g.readyState:0}t.ca=function(){try{return Yi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var S=this.g.responseText;return v&&S.indexOf(v)==0&&(S=S.substring(v.length)),ao(S)}};function rr(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function as(v){const S={};v=(v.g&&Yi(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<v.length;B++){if(U(v[B]))continue;var P=Tm(v[B]);const ie=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const de=S[ie]||[];S[ie]=de,de.push(P)}W(S,function(B){return B.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ea(v,S,P){return P&&P.internalChannelParams&&P.internalChannelParams[v]||S}function mo(v){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ea("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ea("baseRetryDelayMs",5e3,v),this.Za=Ea("retryDelaySeedMs",1e4,v),this.Ta=Ea("forwardChannelMaxRetries",2,v),this.va=Ea("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new qd(v&&v.concurrentRequestLimit),this.Ba=new fo,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=mo.prototype,t.ka=8,t.I=1,t.connect=function(v,S,P,B){ln(0),this.W=v,this.H=S||{},P&&B!==void 0&&(this.H.OSID=P,this.H.OAID=B),this.F=this.X,this.J=Bm(this,null,this.W),Na(this)};function Xd(v){if(tu(v),v.I==3){var S=v.V++,P=Sn(v.J);if(Tt(P,"SID",v.M),Tt(P,"RID",S),Tt(P,"TYPE","terminate"),kl(v,P),S=new Gi(v,v.j,S),S.M=2,S.A=Tl(Sn(P)),P=!1,c.navigator&&c.navigator.sendBeacon)try{P=c.navigator.sendBeacon(S.A.toString(),"")}catch{}!P&&c.Image&&(new Image().src=S.A,P=!0),P||(S.g=$m(S.j,null),S.g.ea(S.A)),S.F=Date.now(),ga(S)}Vm(v)}function po(v){v.g&&(Zd(v),v.g.cancel(),v.g=null)}function tu(v){po(v),v.v&&(c.clearTimeout(v.v),v.v=null),ru(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&c.clearTimeout(v.m),v.m=null)}function Na(v){if(!Ud(v.h)&&!v.m){v.m=!0;var S=v.Ea;V||I(),$||(V(),$=!0),D.add(S,v),v.D=0}}function nu(v,S){return ba(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=S.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=pr(h(v.Ea,v,S),Um(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const ie=new Gi(this,this.j,v);let de=this.o;if(this.U&&(de?(de=F(de),ge(de,this.U)):de=this.U),this.u!==null||this.R||(ie.J=de,de=null),this.S)e:{for(var S=0,P=0;P<this.i.length;P++){t:{var B=this.i[P];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(S+=B,S>4096){S=P;break e}if(S===4096||P===this.i.length-1){S=P+1;break e}}S=1e3}else S=1e3;S=Mm(this,ie,S),P=Sn(this.J),Tt(P,"RID",v),Tt(P,"CVER",22),this.G&&Tt(P,"X-HTTP-Session-Id",this.G),kl(this,P),de&&(this.R?S="headers="+rs(Ei(de))+"&"+S:this.u&&Pl(P,this.u,de)),Vd(this.h,ie),this.Ra&&Tt(P,"TYPE","init"),this.S?(Tt(P,"$req",S),Tt(P,"SID","null"),ie.U=!0,pa(ie,P,null)):pa(ie,P,S),this.I=2}}else this.I==3&&(v?Jd(this,v):this.i.length==0||Ud(this.h)||Jd(this))};function Jd(v,S){var P;S?P=S.l:P=v.V++;const B=Sn(v.J);Tt(B,"SID",v.M),Tt(B,"RID",P),Tt(B,"AID",v.K),kl(v,B),v.u&&v.o&&Pl(B,v.u,v.o),P=new Gi(v,v.j,P,v.D+1),v.u===null&&(P.J=v.o),S&&(v.i=S.G.concat(v.i)),S=Mm(v,P,1e3),P.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),Vd(v.h,P),pa(P,B,S)}function kl(v,S){v.H&&_e(v.H,function(P,B){Tt(S,B,P)}),v.l&&_e({},function(P,B){Tt(S,B,P)})}function Mm(v,S,P){P=Math.min(v.i.length,P);const B=v.l?h(v.l.Ka,v.l,v):null;e:{var ie=v.i;let Ze=-1;for(;;){const yn=["count="+P];Ze==-1?P>0?(Ze=ie[0].g,yn.push("ofs="+Ze)):Ze=0:yn.push("ofs="+Ze);let wt=!0;for(let Yt=0;Yt<P;Yt++){var de=ie[Yt].g;const Ni=ie[Yt].map;if(de-=Ze,de<0)Ze=Math.max(0,ie[Yt].g-100),wt=!1;else try{de="req"+de+"_"||"";try{var Ne=Ni instanceof Map?Ni:Object.entries(Ni);for(const[Aa,Xi]of Ne){let Ji=Xi;u(Xi)&&(Ji=Lr(Xi)),yn.push(de+Aa+"="+encodeURIComponent(Ji))}}catch(Aa){throw yn.push(de+"type="+encodeURIComponent("_badmap")),Aa}}catch{B&&B(Ni)}}if(wt){Ne=yn.join("&");break e}}Ne=void 0}return v=v.i.splice(0,P),S.G=v,Ne}function zm(v){if(!v.g&&!v.v){v.Y=1;var S=v.Da;V||I(),$||(V(),$=!0),D.add(S,v),v.A=0}}function Dl(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=pr(h(v.Da,v),Um(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,Lm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=pr(h(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ln(10),po(this),Lm(this))};function Zd(v){v.B!=null&&(c.clearTimeout(v.B),v.B=null)}function Lm(v){v.g=new Gi(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var S=Sn(v.na);Tt(S,"RID","rpc"),Tt(S,"SID",v.M),Tt(S,"AID",v.K),Tt(S,"CI",v.F?"0":"1"),!v.F&&v.ia&&Tt(S,"TO",v.ia),Tt(S,"TYPE","xmlhttp"),kl(v,S),v.u&&v.o&&Pl(S,v.u,v.o),v.O&&(v.g.H=v.O);var P=v.g;v=v.ba,P.M=1,P.A=Tl(Sn(S)),P.u=null,P.R=!0,Qc(P,v)}t.Va=function(){this.C!=null&&(this.C=null,po(this),Dl(this),ln(19))};function ru(v){v.C!=null&&(c.clearTimeout(v.C),v.C=null)}function qm(v,S){var P=null;if(v.g==S){ru(v),Zd(v),v.g=null;var B=2}else if(xa(v.h,S))P=S.G,Bd(v.h,S),B=1;else return;if(v.I!=0){if(S.o)if(B==1){P=S.u?S.u.length:0,S=Date.now()-S.F;var ie=v.D;B=so(),kt(B,new xi(B,P)),Na(v)}else zm(v);else if(ie=S.m,ie==3||ie==0&&S.X>0||!(B==1&&nu(v,S)||B==2&&Dl(v)))switch(P&&P.length>0&&(S=v.h,S.i=S.i.concat(P)),ie){case 1:Sa(v,5);break;case 4:Sa(v,10);break;case 3:Sa(v,6);break;default:Sa(v,2)}}}function Um(v,S){let P=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(P*=2),P*S}function Sa(v,S){if(v.j.info("Error code "+S),S==2){var P=h(v.bb,v),B=v.Ua;const ie=!B;B=new ri(B||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Gn(B,"https"),Tl(B),ie?Qi(B.toString(),P):Qd(B.toString(),P)}else ln(2);v.I=0,v.l&&v.l.pa(S),Vm(v),tu(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),ln(2)):(this.j.info("Failed to ping google.com"),ln(1))};function Vm(v){if(v.I=0,v.ja=[],v.l){const S=$d(v.h);(S.length!=0||v.i.length!=0)&&(E(v.ja,S),E(v.ja,v.i),v.h.i.length=0,x(v.i),v.i.length=0),v.l.oa()}}function Bm(v,S,P){var B=P instanceof ri?Sn(P):new ri(P);if(B.g!="")S&&(B.g=S+"."+B.g),oo(B,B.u);else{var ie=c.location;B=ie.protocol,S=S?S+"."+ie.hostname:ie.hostname,ie=+ie.port;const de=new ri(null);B&&Gn(de,B),S&&(de.g=S),ie&&oo(de,ie),P&&(de.h=P),B=de}return P=v.G,S=v.wa,P&&S&&Tt(B,P,S),Tt(B,"VER",v.ka),kl(v,B),B}function $m(v,S,P){if(S&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=v.Aa&&!v.ma?new Dt(new wa({ab:P})):new Dt(v.ma),S.Fa(v.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fm(){}t=Fm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function go(){}go.prototype.g=function(v,S){return new Nr(v,S)};function Nr(v,S){Rt.call(this),this.g=new mo(S),this.l=v,this.h=S&&S.messageUrlParams||null,v=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(v?v["X-WebChannel-Content-Type"]=S.messageContentType:v={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(v?v["X-WebChannel-Client-Profile"]=S.sa:v={"X-WebChannel-Client-Profile":S.sa}),this.g.U=v,(v=S&&S.Qb)&&!U(v)&&(this.g.u=v),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!U(S)&&(this.g.G=S,v=this.h,v!==null&&S in v&&(v=this.h,S in v&&delete v[S])),this.j=new ss(this)}g(Nr,Rt),Nr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nr.prototype.close=function(){Xd(this.g)},Nr.prototype.o=function(v){var S=this.g;if(typeof v=="string"){var P={};P.__data__=v,v=P}else this.v&&(P={},P.__data__=Lr(v),v=P);S.i.push(new Nn(S.Ya++,v)),S.I==3&&Na(S)},Nr.prototype.N=function(){this.g.l=null,delete this.j,Xd(this.g),delete this.g,Nr.Z.N.call(this)};function Hm(v){At.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var S=v.__sm__;if(S){e:{for(const P in S){v=P;break e}v=void 0}(this.i=v)&&(v=this.i,S=S!==null&&v in S?S[v]:void 0),this.data=S}else this.data=v}g(Hm,At);function Gm(){Ur.call(this),this.status=1}g(Gm,Ur);function ss(v){this.g=v}g(ss,Fm),ss.prototype.ra=function(){kt(this.g,"a")},ss.prototype.qa=function(v){kt(this.g,new Hm(v))},ss.prototype.pa=function(v){kt(this.g,new Gm)},ss.prototype.oa=function(){kt(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,Nr.prototype.send=Nr.prototype.o,Nr.prototype.open=Nr.prototype.m,Nr.prototype.close=Nr.prototype.close,sz=function(){return new go},az=function(){return so()},iz=en,K1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_i.NO_ERROR=0,_i.TIMEOUT=8,_i.HTTP_ERROR=6,Og=_i,zd.COMPLETE="complete",rz=zd,Gc.EventType=on,on.OPEN="a",on.CLOSE="b",on.ERROR="c",on.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,Zf=Gc,Dt.prototype.listenOnce=Dt.prototype.K,Dt.prototype.getLastError=Dt.prototype.Ha,Dt.prototype.getLastErrorCode=Dt.prototype.ya,Dt.prototype.getStatus=Dt.prototype.ca,Dt.prototype.getResponseJson=Dt.prototype.La,Dt.prototype.getResponseText=Dt.prototype.la,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Fa,nz=Dt}).apply(typeof Xp<"u"?Xp:typeof self<"u"?self:typeof window<"u"?window:{});let br=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};br.UNAUTHENTICATED=new br(null),br.GOOGLE_CREDENTIALS=new br("google-credentials-uid"),br.FIRST_PARTY=new br("first-party-uid"),br.MOCK_USER=new br("mock-user");let wd="12.8.0";function wF(t){wd=t}const wc=new jj("@firebase/firestore");function Lu(){return wc.logLevel}function Te(t,...e){if(wc.logLevel<=ut.DEBUG){const n=e.map(kj);wc.debug(`Firestore (${wd}): ${t}`,...n)}}function Ls(t,...e){if(wc.logLevel<=ut.ERROR){const n=e.map(kj);wc.error(`Firestore (${wd}): ${t}`,...n)}}function nd(t,...e){if(wc.logLevel<=ut.WARN){const n=e.map(kj);wc.warn(`Firestore (${wd}): ${t}`,...n)}}function kj(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,oz(t,r,n)}function oz(t,e,n){let r=`FIRESTORE (${wd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ls(r),new Error(r)}function Et(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||oz(e,i,r)}function Je(t,e){return t}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends ts{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class lz{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(br.UNAUTHENTICATED)))}shutdown(){}}class EF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class NF{constructor(e){this.t=e,this.currentUser=br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Et(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rs,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rs)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string",31837,{l:r}),new lz(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string",2055,{h:e}),new br(e)}}class SF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=br.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class AF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new SF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(br.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class C2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,di(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Et(this.o===void 0,3512);const r=s=>{s.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.m;return this.m=s.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new C2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new C2(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function CF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Dj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=CF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function dt(t,e){return t<e?-1:t>e?1:0}function Q1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Lx(i)===Lx(s)?dt(i,s):Lx(i)?1:-1}return dt(t.length,e.length)}const OF=55296,PF=57343;function Lx(t){const e=t.charCodeAt(0);return e>=OF&&e<=PF}function rd(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const O2="__name__";class Ma{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ma.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ma?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ma.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return dt(e.length,n.length)}static compareSegments(e,n){const r=Ma.isNumericId(e),i=Ma.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ma.extractNumericId(e).compare(Ma.extractNumericId(n)):Q1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return nl.fromString(e.substring(4,e.length-2))}}class Gt extends Ma{construct(e,n,r){return new Gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Gt(n)}static emptyPath(){return new Gt([])}}const IF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends Ma{construct(e,n,r){return new dr(e,n,r)}static isValidIdentifier(e){return IF.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O2}static keyField(){return new dr([O2])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ae(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ae(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ae(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(c=!c,i++):u!=="."||c?(r+=u,i++):(s(),i++)}if(s(),c)throw new Ae(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dr(n)}static emptyPath(){return new dr([])}}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Gt.fromString(e))}static fromName(e){return new qe(Gt.fromString(e).popFirst(5))}static empty(){return new qe(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Gt(e.slice()))}}function cz(t,e,n){if(!n)throw new Ae(ye.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RF(t,e,n,r){if(e===!0&&r===!0)throw new Ae(ye.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function P2(t){if(!qe.isDocumentKey(t))throw new Ae(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function I2(t){if(qe.isDocumentKey(t))throw new Ae(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uz(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ge(12329,{type:typeof t})}function Or(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gy(t);throw new Ae(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function kF(t,e){if(e<=0)throw new Ae(ye.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function kn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Zh(t,e){if(!uz(t))throw new Ae(ye.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(i&&typeof c!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&c!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ae(ye.INVALID_ARGUMENT,n);return!0}const R2=-62135596800,k2=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*k2);return new Ye(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<R2)throw new Ae(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k2}_compareTo(e){return this.seconds===e.seconds?dt(this.nanoseconds,e.nanoseconds):dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zh(e,Ye._jsonSchema))return new Ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-R2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:kn("string",Ye._jsonSchemaVersion),seconds:kn("number"),nanoseconds:kn("number")};class We{static fromTimestamp(e){return new We(e)}static min(){return new We(new Ye(0,0))}static max(){return new We(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _h=-1;function DF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=We.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new ol(i,qe.empty(),e)}function MF(t){return new ol(t.readTime,t.key,_h)}class ol{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ol(We.min(),qe.empty(),_h)}static max(){return new ol(We.max(),qe.empty(),_h)}}function zF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qe.comparator(t.documentKey,e.documentKey),n!==0?n:dt(t.largestBatchId,e.largestBatchId))}const LF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function jd(t){if(t.code!==ye.FAILED_PRECONDITION||t.message!==LF)throw t;Te("LocalStore","Unexpectedly lost primary lease")}class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new we(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof we?n:we.resolve(n)}catch(n){return we.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):we.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):we.reject(n)}static resolve(e){return new we(((n,r)=>{n(e)}))}static reject(e){return new we(((n,r)=>{r(e)}))}static waitFor(e){return new we(((n,r)=>{let i=0,s=0,c=!1;e.forEach((u=>{++i,u.next((()=>{++s,c&&s===i&&n()}),(f=>r(f)))})),c=!0,s===i&&n()}))}static or(e){let n=we.resolve(!1);for(const r of e)n=n.next((i=>i?we.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new we(((r,i)=>{const s=e.length,c=new Array(s);let u=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((p=>{c[h]=p,++u,u===s&&r(c)}),(p=>i(p)))}}))}static doWhile(e,n){return new we(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function UF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ed(t){return t.name==="IndexedDbTransactionError"}class vy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vy.ce=-1;const Mj=-1;function yy(t){return t==null}function Zg(t){return t===0&&1/t==-1/0}function VF(t){return typeof t=="number"&&Number.isInteger(t)&&!Zg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const dz="";function BF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=D2(e)),e=$F(t.get(n),e);return D2(e)}function $F(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case dz:n+="";break;default:n+=s}}return n}function D2(t){return t+dz+""}function M2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _l(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class rn{constructor(e,n){this.comparator=e,this.root=n||ur.EMPTY}insert(e,n){return new rn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ur.BLACK,null,null))}remove(e){return new rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ur.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jp(this.root,e,this.comparator,!0)}}class Jp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ur{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ur.RED,this.left=i??ur.EMPTY,this.right=s??ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ur(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ur.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}ur.EMPTY=null,ur.RED=!0,ur.BLACK=!1;ur.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ur(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Un{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new z2(this.data.getIterator())}getIteratorFrom(e){return new z2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Un(this.comparator);return n.data=e,n}}class z2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class hi{constructor(e){this.fields=e,e.sort(dr.comparator)}static empty(){return new hi([])}unionWith(e){let n=new Un(dr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rd(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class hz extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new hz("Invalid base64 string: "+s):s}})(e);return new hr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let c=0;c<i.length;++c)s+=String.fromCharCode(i[c]);return s})(e);return new hr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hr.EMPTY_BYTE_STRING=new hr("");const FF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ll(t){if(Et(!!t,39018),typeof t=="string"){let e=0;const n=FF.exec(t);if(Et(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_n(t.seconds),nanos:_n(t.nanos)}}function _n(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cl(t){return typeof t=="string"?hr.fromBase64String(t):hr.fromUint8Array(t)}const mz="server_timestamp",pz="__type__",gz="__previous_value__",vz="__local_write_time__";function zj(t){return(t?.mapValue?.fields||{})[pz]?.stringValue===mz}function by(t){const e=t.mapValue.fields[gz];return zj(e)?by(e):e}function wh(t){const e=ll(t.mapValue.fields[vz].timestampValue);return new Ye(e.seconds,e.nanos)}class HF{constructor(e,n,r,i,s,c,u,f,h,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p,this.apiKey=g}}const ev="(default)";class jh{constructor(e,n){this.projectId=e,this.database=n||ev}static empty(){return new jh("","")}get isDefaultDatabase(){return this.database===ev}isEqual(e){return e instanceof jh&&e.projectId===this.projectId&&e.database===this.database}}function GF(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ae(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jh(t.options.projectId,e)}const yz="__type__",KF="__max__",Zp={mapValue:{}},bz="__vector__",tv="value";function ul(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zj(t)?4:WF(t)?9007199254740991:QF(t)?10:11:Ge(28295,{value:t})}function Qa(t,e){if(t===e)return!0;const n=ul(t);if(n!==ul(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wh(t).isEqual(wh(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const c=ll(i.timestampValue),u=ll(s.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return cl(i.bytesValue).isEqual(cl(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return _n(i.geoPointValue.latitude)===_n(s.geoPointValue.latitude)&&_n(i.geoPointValue.longitude)===_n(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return _n(i.integerValue)===_n(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const c=_n(i.doubleValue),u=_n(s.doubleValue);return c===u?Zg(c)===Zg(u):isNaN(c)&&isNaN(u)}return!1})(t,e);case 9:return rd(t.arrayValue.values||[],e.arrayValue.values||[],Qa);case 10:case 11:return(function(i,s){const c=i.mapValue.fields||{},u=s.mapValue.fields||{};if(M2(c)!==M2(u))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(u[f]===void 0||!Qa(c[f],u[f])))return!1;return!0})(t,e);default:return Ge(52216,{left:t})}}function Eh(t,e){return(t.values||[]).find((n=>Qa(n,e)))!==void 0}function id(t,e){if(t===e)return 0;const n=ul(t),r=ul(e);if(n!==r)return dt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dt(t.booleanValue,e.booleanValue);case 2:return(function(s,c){const u=_n(s.integerValue||s.doubleValue),f=_n(c.integerValue||c.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return L2(t.timestampValue,e.timestampValue);case 4:return L2(wh(t),wh(e));case 5:return Q1(t.stringValue,e.stringValue);case 6:return(function(s,c){const u=cl(s),f=cl(c);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,c){const u=s.split("/"),f=c.split("/");for(let h=0;h<u.length&&h<f.length;h++){const p=dt(u[h],f[h]);if(p!==0)return p}return dt(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,c){const u=dt(_n(s.latitude),_n(c.latitude));return u!==0?u:dt(_n(s.longitude),_n(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return q2(t.arrayValue,e.arrayValue);case 10:return(function(s,c){const u=s.fields||{},f=c.fields||{},h=u[tv]?.arrayValue,p=f[tv]?.arrayValue,g=dt(h?.values?.length||0,p?.values?.length||0);return g!==0?g:q2(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,c){if(s===Zp.mapValue&&c===Zp.mapValue)return 0;if(s===Zp.mapValue)return 1;if(c===Zp.mapValue)return-1;const u=s.fields||{},f=Object.keys(u),h=c.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const y=Q1(f[g],p[g]);if(y!==0)return y;const x=id(u[f[g]],h[p[g]]);if(x!==0)return x}return dt(f.length,p.length)})(t.mapValue,e.mapValue);default:throw Ge(23264,{he:n})}}function L2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return dt(t,e);const n=ll(t),r=ll(e),i=dt(n.seconds,r.seconds);return i!==0?i:dt(n.nanos,r.nanos)}function q2(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=id(n[i],r[i]);if(s)return s}return dt(n.length,r.length)}function ad(t){return W1(t)}function W1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ll(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return cl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return qe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=W1(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const c of r)s?s=!1:i+=",",i+=`${c}:${W1(n.fields[c])}`;return i+"}"})(t.mapValue):Ge(61005,{value:t})}function Pg(t){switch(ul(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=by(t);return e?16+Pg(e):16;case 5:return 2*t.stringValue.length;case 6:return cl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Pg(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return _l(r.fields,((s,c)=>{i+=s.length+Pg(c)})),i})(t.mapValue);default:throw Ge(13486,{value:t})}}function U2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Y1(t){return!!t&&"integerValue"in t}function Lj(t){return!!t&&"arrayValue"in t}function V2(t){return!!t&&"nullValue"in t}function B2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ig(t){return!!t&&"mapValue"in t}function QF(t){return(t?.mapValue?.fields||{})[yz]?.stringValue===bz}function uh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return _l(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=uh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uh(t.arrayValue.values[n]);return e}return{...t}}function WF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===KF}class Wr{constructor(e){this.value=e}static empty(){return new Wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ig(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uh(n)}setAll(e){let n=dr.emptyPath(),r={},i=[];e.forEach(((c,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}c?r[u.lastSegment()]=uh(c):i.push(u.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ig(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ig(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_l(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Wr(uh(this.value))}}function xz(t){const e=[];return _l(t.fields,((n,r)=>{const i=new dr([n]);if(Ig(r)){const s=xz(r.mapValue).fields;if(s.length===0)e.push(i);else for(const c of s)e.push(i.child(c))}else e.push(i)})),new hi(e)}class xr{constructor(e,n,r,i,s,c,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=c,this.documentState=u}static newInvalidDocument(e){return new xr(e,0,We.min(),We.min(),We.min(),Wr.empty(),0)}static newFoundDocument(e,n,r,i){return new xr(e,1,n,We.min(),r,i,0)}static newNoDocument(e,n){return new xr(e,2,n,We.min(),We.min(),Wr.empty(),0)}static newUnknownDocument(e,n){return new xr(e,3,n,We.min(),We.min(),Wr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nv{constructor(e,n){this.position=e,this.inclusive=n}}function $2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],c=t.position[i];if(s.field.isKeyField()?r=qe.comparator(qe.fromName(c.referenceValue),n.key):r=id(c,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function F2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qa(t.position[n],e.position[n]))return!1;return!0}class Nh{constructor(e,n="asc"){this.field=e,this.dir=n}}function YF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class _z{}class Rn extends _z{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new JF(e,n,r):n==="array-contains"?new tH(e,r):n==="in"?new nH(e,r):n==="not-in"?new rH(e,r):n==="array-contains-any"?new iH(e,r):new Rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ZF(e,r):new eH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(id(n,this.value)):n!==null&&ul(this.value)===ul(n)&&this.matchesComparison(id(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ua extends _z{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ua(e,n)}matches(e){return wz(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wz(t){return t.op==="and"}function jz(t){return XF(t)&&wz(t)}function XF(t){for(const e of t.filters)if(e instanceof ua)return!1;return!0}function X1(t){if(t instanceof Rn)return t.field.canonicalString()+t.op.toString()+ad(t.value);if(jz(t))return t.filters.map((e=>X1(e))).join(",");{const e=t.filters.map((n=>X1(n))).join(",");return`${t.op}(${e})`}}function Ez(t,e){return t instanceof Rn?(function(r,i){return i instanceof Rn&&r.op===i.op&&r.field.isEqual(i.field)&&Qa(r.value,i.value)})(t,e):t instanceof ua?(function(r,i){return i instanceof ua&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,c,u)=>s&&Ez(c,i.filters[u])),!0):!1})(t,e):void Ge(19439)}function Nz(t){return t instanceof Rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${ad(n.value)}`})(t):t instanceof ua?(function(n){return n.op.toString()+" {"+n.getFilters().map(Nz).join(" ,")+"}"})(t):"Filter"}class JF extends Rn{constructor(e,n,r){super(e,n,r),this.key=qe.fromName(r.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZF extends Rn{constructor(e,n){super(e,"in",n),this.keys=Sz("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class eH extends Rn{constructor(e,n){super(e,"not-in",n),this.keys=Sz("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Sz(t,e){return(e.arrayValue?.values||[]).map((n=>qe.fromName(n.referenceValue)))}class tH extends Rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lj(n)&&Eh(n.arrayValue,this.value)}}class nH extends Rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Eh(this.value.arrayValue,n)}}class rH extends Rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Eh(this.value.arrayValue,n)}}class iH extends Rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lj(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Eh(this.value.arrayValue,r)))}}class aH{constructor(e,n=null,r=[],i=[],s=null,c=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=c,this.endAt=u,this.Te=null}}function H2(t,e=null,n=[],r=[],i=null,s=null,c=null){return new aH(t,e,n,r,i,s,c)}function qj(t){const e=Je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>X1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),yy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ad(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ad(r))).join(",")),e.Te=n}return e.Te}function Uj(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!YF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ez(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!F2(t.startAt,e.startAt)&&F2(t.endAt,e.endAt)}function J1(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Nd{constructor(e,n=null,r=[],i=[],s=null,c="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=c,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function sH(t,e,n,r,i,s,c,u){return new Nd(t,e,n,r,i,s,c,u)}function xy(t){return new Nd(t)}function G2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oH(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Az(t){return t.collectionGroup!==null}function dh(t){const e=Je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new Un(dr.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Nh(s,r))})),n.has(dr.keyField().canonicalString())||e.Ie.push(new Nh(dr.keyField(),r))}return e.Ie}function Fa(t){const e=Je(t);return e.Ee||(e.Ee=lH(e,dh(t))),e.Ee}function lH(t,e){if(t.limitType==="F")return H2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Nh(i.field,s)}));const n=t.endAt?new nv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nv(t.startAt.position,t.startAt.inclusive):null;return H2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Z1(t,e){const n=t.filters.concat([e]);return new Nd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cH(t,e){const n=t.explicitOrderBy.concat([e]);return new Nd(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function rv(t,e,n){return new Nd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _y(t,e){return Uj(Fa(t),Fa(e))&&t.limitType===e.limitType}function Tz(t){return`${qj(Fa(t))}|lt:${t.limitType}`}function qu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>Nz(i))).join(", ")}]`),yy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>ad(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>ad(i))).join(",")),`Target(${r})`})(Fa(t))}; limitType=${t.limitType})`}function wy(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):qe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of dh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(c,u,f){const h=$2(c,u,f);return c.inclusive?h<=0:h<0})(r.startAt,dh(r),i)||r.endAt&&!(function(c,u,f){const h=$2(c,u,f);return c.inclusive?h>=0:h>0})(r.endAt,dh(r),i))})(t,e)}function uH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Cz(t){return(e,n)=>{let r=!1;for(const i of dh(t)){const s=dH(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function dH(t,e,n){const r=t.field.isKeyField()?qe.comparator(e.key,n.key):(function(s,c,u){const f=c.data.field(s),h=u.data.field(s);return f!==null&&h!==null?id(f,h):Ge(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:t.dir})}}class zc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_l(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return fz(this.inner)}size(){return this.innerSize}}const fH=new rn(qe.comparator);function qs(){return fH}const Oz=new rn(qe.comparator);function eh(...t){let e=Oz;for(const n of t)e=e.insert(n.key,n);return e}function Pz(t){let e=Oz;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ac(){return fh()}function Iz(){return fh()}function fh(){return new zc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const hH=new rn(qe.comparator),mH=new Un(qe.comparator);function ft(...t){let e=mH;for(const n of t)e=e.add(n);return e}const pH=new Un(dt);function gH(){return pH}function Vj(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zg(e)?"-0":e}}function Rz(t){return{integerValue:""+t}}function kz(t,e){return VF(e)?Rz(e):Vj(t,e)}class jy{constructor(){this._=void 0}}function vH(t,e,n){return t instanceof Sh?(function(i,s){const c={fields:{[pz]:{stringValue:mz},[vz]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zj(s)&&(s=by(s)),s&&(c.fields[gz]=s),{mapValue:c}})(n,e):t instanceof Ah?Mz(t,e):t instanceof Th?zz(t,e):(function(i,s){const c=Dz(i,s),u=K2(c)+K2(i.Ae);return Y1(c)&&Y1(i.Ae)?Rz(u):Vj(i.serializer,u)})(t,e)}function yH(t,e,n){return t instanceof Ah?Mz(t,e):t instanceof Th?zz(t,e):n}function Dz(t,e){return t instanceof Ch?(function(r){return Y1(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Sh extends jy{}class Ah extends jy{constructor(e){super(),this.elements=e}}function Mz(t,e){const n=Lz(e);for(const r of t.elements)n.some((i=>Qa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Th extends jy{constructor(e){super(),this.elements=e}}function zz(t,e){let n=Lz(e);for(const r of t.elements)n=n.filter((i=>!Qa(i,r)));return{arrayValue:{values:n}}}class Ch extends jy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function K2(t){return _n(t.integerValue||t.doubleValue)}function Lz(t){return Lj(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class qz{constructor(e,n){this.field=e,this.transform=n}}function bH(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Ah&&i instanceof Ah||r instanceof Th&&i instanceof Th?rd(r.elements,i.elements,Qa):r instanceof Ch&&i instanceof Ch?Qa(r.Ae,i.Ae):r instanceof Sh&&i instanceof Sh})(t.transform,e.transform)}class xH{constructor(e,n){this.version=e,this.transformResults=n}}class Pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pr}static exists(e){return new Pr(void 0,e)}static updateTime(e){return new Pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ey{}function Uz(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ny(t.key,Pr.none()):new em(t.key,t.data,Pr.none());{const n=t.data,r=Wr.empty();let i=new Un(dr.comparator);for(let s of e.fields)if(!i.has(s)){let c=n.field(s);c===null&&s.length>1&&(s=s.popLast(),c=n.field(s)),c===null?r.delete(s):r.set(s,c),i=i.add(s)}return new wl(t.key,r,new hi(i.toArray()),Pr.none())}}function _H(t,e,n){t instanceof em?(function(i,s,c){const u=i.value.clone(),f=W2(i.fieldTransforms,s,c.transformResults);u.setAll(f),s.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(t,e,n):t instanceof wl?(function(i,s,c){if(!Rg(i.precondition,s))return void s.convertToUnknownDocument(c.version);const u=W2(i.fieldTransforms,s,c.transformResults),f=s.data;f.setAll(Vz(i)),f.setAll(u),s.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,c){s.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function hh(t,e,n,r){return t instanceof em?(function(s,c,u,f){if(!Rg(s.precondition,c))return u;const h=s.value.clone(),p=Y2(s.fieldTransforms,f,c);return h.setAll(p),c.convertToFoundDocument(c.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof wl?(function(s,c,u,f){if(!Rg(s.precondition,c))return u;const h=Y2(s.fieldTransforms,f,c),p=c.data;return p.setAll(Vz(s)),p.setAll(h),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,c,u){return Rg(s.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u})(t,e,n)}function wH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Dz(r.transform,i||null);s!=null&&(n===null&&(n=Wr.empty()),n.set(r.field,s))}return n||null}function Q2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&rd(r,i,((s,c)=>bH(s,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class em extends Ey{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wl extends Ey{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Vz(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function W2(t,e,n){const r=new Map;Et(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],c=s.transform,u=e.data.field(s.field);r.set(s.field,yH(c,u,n[i]))}return r}function Y2(t,e,n){const r=new Map;for(const i of t){const s=i.transform,c=n.data.field(i.field);r.set(i.field,vH(s,c,e))}return r}class Ny extends Ey{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jH extends Ey{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class EH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&_H(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Iz();return this.mutations.forEach((i=>{const s=e.get(i.key),c=s.overlayedDocument;let u=this.applyToLocalView(c,s.mutatedFields);u=n.has(i.key)?null:u;const f=Uz(c,u);f!==null&&r.set(i.key,f),c.isValidDocument()||c.convertToNoDocument(We.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ft())}isEqual(e){return this.batchId===e.batchId&&rd(this.mutations,e.mutations,((n,r)=>Q2(n,r)))&&rd(this.baseMutations,e.baseMutations,((n,r)=>Q2(n,r)))}}class Bj{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Et(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return hH})();const s=e.mutations;for(let c=0;c<s.length;c++)i=i.insert(s[c].key,r[c].version);return new Bj(e,n,r,i)}}class NH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class SH{constructor(e,n){this.count=e,this.unchangedNames=n}}var Pn,yt;function AH(t){switch(t){case ye.OK:return Ge(64938);case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return Ge(15467,{code:t})}}function Bz(t){if(t===void 0)return Ls("GRPC error has no .code"),ye.UNKNOWN;switch(t){case Pn.OK:return ye.OK;case Pn.CANCELLED:return ye.CANCELLED;case Pn.UNKNOWN:return ye.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return ye.INTERNAL;case Pn.UNAVAILABLE:return ye.UNAVAILABLE;case Pn.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case Pn.NOT_FOUND:return ye.NOT_FOUND;case Pn.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case Pn.ABORTED:return ye.ABORTED;case Pn.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case Pn.DATA_LOSS:return ye.DATA_LOSS;default:return Ge(39323,{code:t})}}(yt=Pn||(Pn={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";function TH(){return new TextEncoder}const CH=new nl([4294967295,4294967295],0);function X2(t){const e=TH().encode(t),n=new tz;return n.update(e),new Uint8Array(n.digest())}function J2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new nl([n,r],0),new nl([i,s],0)]}class $j{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new th(`Invalid padding: ${n}`);if(r<0)throw new th(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new th(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new th(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=nl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(nl.fromNumber(r)));return i.compare(CH)===1&&(i=new nl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=X2(e),[r,i]=J2(n);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,i,s);if(!this.we(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new $j(s,i,n);return r.forEach((u=>c.insert(u))),c}insert(e){if(this.ge===0)return;const n=X2(e),[r,i]=J2(n);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,i,s);this.be(c)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class th extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sy{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,tm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sy(We.min(),i,new rn(dt),qs(),ft())}}class tm{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new tm(r,n,ft(),ft(),ft())}}class kg{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class $z{constructor(e,n){this.targetId=e,this.Ce=n}}class Fz{constructor(e,n,r=hr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Z2{constructor(){this.ve=0,this.Fe=eO(),this.Me=hr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ft(),n=ft(),r=ft();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ge(38017,{changeType:s})}})),new tm(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=eO()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Et(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class OH{constructor(e){this.Ge=e,this.ze=new Map,this.je=qs(),this.He=eg(),this.Je=eg(),this.Ze=new rn(dt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(J1(s))if(r===0){const c=new qe(s.path);this.et(n,c,xr.newNoDocument(c,We.min()))}else Et(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const u=this.ut(e),f=u?this.ct(u,e,c):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let c,u;try{c=cl(r).toUint8Array()}catch(f){if(f instanceof hz)return nd("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new $j(c,i,s)}catch(f){return nd(f instanceof th?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const c=this.Ge.ht(),u=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,c)=>{const u=this.ot(c);if(u){if(s.current&&J1(u.target)){const f=new qe(u.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,xr.newNoDocument(f,e))}s.Be&&(n.set(c,s.ke()),s.Ke())}}));let r=ft();this.Je.forEach(((s,c)=>{let u=!0;c.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,c)=>c.setReadTime(e)));const i=new Sy(e,n,this.Ze,this.je,r);return this.je=qs(),this.He=eg(),this.Je=eg(),this.Ze=new rn(dt),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Z2,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Un(dt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Un(dt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Z2),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function eg(){return new rn(qe.comparator)}function eO(){return new rn(qe.comparator)}const PH={asc:"ASCENDING",desc:"DESCENDING"},IH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RH={and:"AND",or:"OR"};class kH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ew(t,e){return t.useProto3Json||yy(e)?e:{value:e}}function iv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hz(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DH(t,e){return iv(t,e.toTimestamp())}function Ha(t){return Et(!!t,49232),We.fromTimestamp((function(n){const r=ll(n);return new Ye(r.seconds,r.nanos)})(t))}function Fj(t,e){return tw(t,e).canonicalString()}function tw(t,e){const n=(function(i){return new Gt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Gz(t){const e=Gt.fromString(t);return Et(Xz(e),10190,{key:e.toString()}),e}function nw(t,e){return Fj(t.databaseId,e.path)}function qx(t,e){const n=Gz(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe(Qz(n))}function Kz(t,e){return Fj(t.databaseId,e)}function MH(t){const e=Gz(t);return e.length===4?Gt.emptyPath():Qz(e)}function rw(t){return new Gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Qz(t){return Et(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function tO(t,e,n){return{name:nw(t,e),fields:n.value.mapValue.fields}}function zH(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ge(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(Et(p===void 0||typeof p=="string",58123),hr.fromBase64String(p||"")):(Et(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),hr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,u=c&&(function(h){const p=h.code===void 0?ye.UNKNOWN:Bz(h.code);return new Ae(p,h.message||"")})(c);n=new Fz(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=qx(t,r.document.name),s=Ha(r.document.updateTime),c=r.document.createTime?Ha(r.document.createTime):We.min(),u=new Wr({mapValue:{fields:r.document.fields}}),f=xr.newFoundDocument(i,s,c,u),h=r.targetIds||[],p=r.removedTargetIds||[];n=new kg(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=qx(t,r.document),s=r.readTime?Ha(r.readTime):We.min(),c=xr.newNoDocument(i,s),u=r.removedTargetIds||[];n=new kg([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=qx(t,r.document),s=r.removedTargetIds||[];n=new kg([],s,i,null)}else{if(!("filter"in e))return Ge(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,c=new SH(i,s),u=r.targetId;n=new $z(u,c)}}return n}function LH(t,e){let n;if(e instanceof em)n={update:tO(t,e.key,e.value)};else if(e instanceof Ny)n={delete:nw(t,e.key)};else if(e instanceof wl)n={update:tO(t,e.key,e.data),updateMask:KH(e.fieldMask)};else{if(!(e instanceof jH))return Ge(16599,{dt:e.type});n={verify:nw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,c){const u=c.transform;if(u instanceof Sh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ah)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Th)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ch)return{fieldPath:c.field.canonicalString(),increment:u.Ae};throw Ge(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:DH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ge(27497)})(t,e.precondition)),n}function qH(t,e){return t&&t.length>0?(Et(e!==void 0,14353),t.map((n=>(function(i,s){let c=i.updateTime?Ha(i.updateTime):Ha(s);return c.isEqual(We.min())&&(c=Ha(s)),new xH(c,i.transformResults||[])})(n,e)))):[]}function UH(t,e){return{documents:[Kz(t,e.path)]}}function VH(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Kz(t,i);const s=(function(h){if(h.length!==0)return Yz(ua.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const c=(function(h){if(h.length!==0)return h.map((p=>(function(y){return{field:Uu(y.field),direction:FH(y.dir)}})(p)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const u=ew(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function BH(t){let e=MH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Et(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const y=Wz(g);return y instanceof ua&&jz(y)?y.getFilters():[y]})(n.where));let c=[];n.orderBy&&(c=(function(g){return g.map((y=>(function(E){return new Nh(Vu(E.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(y)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let y;return y=typeof g=="object"?g.value:g,yy(y)?null:y})(n.limit));let f=null;n.startAt&&(f=(function(g){const y=!!g.before,x=g.values||[];return new nv(x,y)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const y=!g.before,x=g.values||[];return new nv(x,y)})(n.endAt)),sH(e,i,c,s,u,"F",f,h)}function $H(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Wz(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vu(n.unaryFilter.field);return Rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Vu(n.unaryFilter.field);return Rn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Vu(n.unaryFilter.field);return Rn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vu(n.unaryFilter.field);return Rn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Rn.create(Vu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ua.create(n.compositeFilter.filters.map((r=>Wz(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(n.compositeFilter.op))})(t):Ge(30097,{filter:t})}function FH(t){return PH[t]}function HH(t){return IH[t]}function GH(t){return RH[t]}function Uu(t){return{fieldPath:t.canonicalString()}}function Vu(t){return dr.fromServerFormat(t.fieldPath)}function Yz(t){return t instanceof Rn?(function(n){if(n.op==="=="){if(B2(n.value))return{unaryFilter:{field:Uu(n.field),op:"IS_NAN"}};if(V2(n.value))return{unaryFilter:{field:Uu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(B2(n.value))return{unaryFilter:{field:Uu(n.field),op:"IS_NOT_NAN"}};if(V2(n.value))return{unaryFilter:{field:Uu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uu(n.field),op:HH(n.op),value:n.value}}})(t):t instanceof ua?(function(n){const r=n.getFilters().map((i=>Yz(i)));return r.length===1?r[0]:{compositeFilter:{op:GH(n.op),filters:r}}})(t):Ge(54877,{filter:t})}function KH(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Xz(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Jz(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Xo{constructor(e,n,r,i,s=We.min(),c=We.min(),u=hr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Xo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class QH{constructor(e){this.yt=e}}function WH(t){const e=BH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rv(e,e.limit,"L"):e}class YH{constructor(){this.Sn=new XH}addToCollectionParentIndex(e,n){return this.Sn.add(n),we.resolve()}getCollectionParents(e,n){return we.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return we.resolve()}deleteFieldIndex(e,n){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,n){return we.resolve()}getDocumentsMatchingTarget(e,n){return we.resolve(null)}getIndexType(e,n){return we.resolve(0)}getFieldIndexes(e,n){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,n){return we.resolve(ol.min())}getMinOffsetFromCollectionGroup(e,n){return we.resolve(ol.min())}updateCollectionGroup(e,n,r){return we.resolve()}updateIndexEntries(e,n){return we.resolve()}}class XH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Un(Gt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Un(Gt.comparator)).toArray()}}const nO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zz=41943040;class Qr{static withCacheSize(e){return new Qr(e,Qr.DEFAULT_COLLECTION_PERCENTILE,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Qr.DEFAULT_COLLECTION_PERCENTILE=10,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qr.DEFAULT=new Qr(Zz,Qr.DEFAULT_COLLECTION_PERCENTILE,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qr.DISABLED=new Qr(-1,0,0);class sd{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new sd(0)}static ar(){return new sd(-1)}}const rO="LruGarbageCollector",JH=1048576;function iO([t,e],[n,r]){const i=dt(t,n);return i===0?dt(e,r):i}class ZH{constructor(e){this.Pr=e,this.buffer=new Un(iO),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();iO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class eG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Te(rO,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ed(n)?Te(rO,"Ignoring IndexedDB error during garbage collection: ",n):await jd(n)}await this.Ar(3e5)}))}}class tG{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return we.resolve(vy.ce);const r=new ZH(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(nO)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nO):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,c,u,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,c=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),Lu()<=ut.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${i} in `+(u-c)+`ms
	Removed ${s} targets in `+(f-u)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function nG(t,e){return new tG(t,e)}class rG{constructor(){this.changes=new zc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?we.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class iG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class aG{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&hh(r.mutation,i,hi.empty(),Ye.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ft()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ft()){const i=ac();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let c=eh();return s.forEach(((u,f)=>{c=c.insert(u,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=ac();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ft())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((c,u)=>{n.set(c,u)}))}))}computeViews(e,n,r,i){let s=qs();const c=fh(),u=(function(){return fh()})();return n.forEach(((f,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof wl)?s=s.insert(h.key,h):p!==void 0?(c.set(h.key,p.mutation.getFieldMask()),hh(p.mutation,h,p.mutation.getFieldMask(),Ye.now())):c.set(h.key,hi.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,p)=>c.set(h,p))),n.forEach(((h,p)=>u.set(h,new iG(p,c.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=fh();let i=new rn(((c,u)=>c-u)),s=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const u of c)u.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||hi.empty();p=u.applyToLocalView(h,p),r.set(f,p);const g=(i.get(u.batchId)||ft()).add(f);i=i.insert(u.batchId,g)}))})).next((()=>{const c=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),h=f.key,p=f.value,g=Iz();p.forEach((y=>{if(!s.has(y)){const x=Uz(n.get(y),r.get(y));x!==null&&g.set(y,x),s=s.add(y)}})),c.push(this.documentOverlayCache.saveOverlays(e,h,g))}return we.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return oH(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Az(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const c=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):we.resolve(ac());let u=_h,f=s;return c.next((h=>we.forEach(h,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(p)?we.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{f=f.insert(p,y)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,ft()))).next((p=>({batchId:u,changes:Pz(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next((r=>{let i=eh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let c=eh();return this.indexManager.getCollectionParents(e,s).next((u=>we.forEach(u,(f=>{const h=(function(g,y){return new Nd(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((g,y)=>{c=c.insert(g,y)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(s=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((c=>{s.forEach(((f,h)=>{const p=h.getKey();c.get(p)===null&&(c=c.insert(p,xr.newInvalidDocument(p)))}));let u=eh();return c.forEach(((f,h)=>{const p=s.get(f);p!==void 0&&hh(p.mutation,h,hi.empty(),Ye.now()),wy(n,h)&&(u=u.insert(f,h))})),u}))}}class sG{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return we.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ha(i.createTime)}})(n)),we.resolve()}getNamedQuery(e,n){return we.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:WH(i.bundledQuery),readTime:Ha(i.readTime)}})(n)),we.resolve()}}class oG{constructor(){this.overlays=new rn(qe.comparator),this.Lr=new Map}getOverlay(e,n){return we.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ac();return we.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.bt(e,n,s)})),we.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Lr.delete(r)),we.resolve()}getOverlaysForCollection(e,n,r){const i=ac(),s=n.length+1,c=new qe(n.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const f=u.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return we.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new rn(((h,p)=>h-p));const c=this.overlays.getIterator();for(;c.hasNext();){const h=c.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=ac(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=ac(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=i)););return we.resolve(u)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new NH(n,r));let s=this.Lr.get(n);s===void 0&&(s=ft(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}class lG{constructor(){this.sessionToken=hr.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,we.resolve()}}class Hj{constructor(){this.kr=new Un(Yn.Kr),this.qr=new Un(Yn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Yn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Yn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new qe(new Gt([])),r=new Yn(n,e),i=new Yn(n,e+1),s=[];return this.qr.forEachInRange([r,i],(c=>{this.Wr(c),s.push(c.key)})),s}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new qe(new Gt([])),r=new Yn(n,e),i=new Yn(n,e+1);let s=ft();return this.qr.forEachInRange([r,i],(c=>{s=s.add(c.key)})),s}containsKey(e){const n=new Yn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Yn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return qe.comparator(e.key,n.key)||dt(e.Hr,n.Hr)}static Ur(e,n){return dt(e.Hr,n.Hr)||qe.comparator(e.key,n.key)}}class cG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Un(Yn.Kr)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new EH(s,n,r,i);this.mutationQueue.push(c);for(const u of i)this.Jr=this.Jr.add(new Yn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return we.resolve(c)}lookupMutationBatch(e,n){return we.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return we.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?Mj:this.Yn-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Yn(n,0),i=new Yn(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],(c=>{const u=this.Zr(c.Hr);s.push(u)})),we.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Un(dt);return n.forEach((i=>{const s=new Yn(i,0),c=new Yn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,c],(u=>{r=r.add(u.Hr)}))})),we.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;qe.isDocumentKey(s)||(s=s.child(""));const c=new Yn(new qe(s),0);let u=new Un(dt);return this.Jr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(f.Hr)),!0)}),c),we.resolve(this.Yr(u))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Et(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return we.forEach(n.mutations,(i=>{const s=new Yn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Yn(n,0),i=this.Jr.firstAfterOrEqual(r);return we.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class uG{constructor(e){this.ti=e,this.docs=(function(){return new rn(qe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,c=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return we.resolve(r?r.document.mutableCopy():xr.newInvalidDocument(n))}getEntries(e,n){let r=qs();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xr.newInvalidDocument(i))})),we.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=qs();const c=n.path,u=new qe(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!c.isPrefixOf(h.path))break;h.path.length>c.length+1||zF(MF(p),r)<=0||(i.has(p.key)||wy(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return we.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ge(9500)}ni(e,n){return we.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new dG(this)}getSize(e){return we.resolve(this.size)}}class dG extends rG{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),we.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class fG{constructor(e){this.persistence=e,this.ri=new zc((n=>qj(n)),Uj),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.ii=0,this.si=new Hj,this.targetCount=0,this.oi=sd._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),we.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new sd(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,we.resolve()}updateTargetData(e,n){return this.lr(n),we.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach(((c,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ri.delete(c),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),we.waitFor(s).next((()=>i))}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return we.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),we.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((c=>{s.push(i.markPotentiallyOrphaned(e,c))})),we.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),we.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return we.resolve(r)}containsKey(e,n){return we.resolve(this.si.containsKey(n))}}class e4{constructor(e,n){this._i={},this.overlays={},this.ai=new vy(0),this.ui=!1,this.ui=!0,this.ci=new lG,this.referenceDelegate=e(this),this.li=new fG(this),this.indexManager=new YH,this.remoteDocumentCache=(function(i){return new uG(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new QH(n),this.Pi=new sG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new cG(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new hG(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((s=>this.referenceDelegate.Ii(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ei(e,n){return we.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class hG extends qF{constructor(e){super(),this.currentSequenceNumber=e}}class Gj{constructor(e){this.persistence=e,this.Ri=new Hj,this.Ai=null}static Vi(e){return new Gj(e)}get di(){if(this.Ai)return this.Ai;throw Ge(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),we.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),we.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),we.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.di.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.di,(r=>{const i=qe.fromPath(r);return this.mi(e,i).next((s=>{s||n.removeEntry(i,We.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return we.or([()=>we.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class av{constructor(e,n){this.persistence=e,this.fi=new zc((r=>BF(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=nG(this,n)}static Vi(e,n){return new av(e,n)}Ti(){}Ii(e){return we.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return we.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((s=>s?we.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,(c=>this.wr(e,c,n).next((u=>{u||(r++,s.removeEntry(c,We.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),we.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),we.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),we.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),we.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pg(e.data.value)),n}wr(e,n,r){return we.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return we.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Kj{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=ft(),i=ft();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Kj(e,n.fromCache,r,i)}}class mG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class pG{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return V8()?8:UF(wr())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next((c=>{s.result=c})).next((()=>{if(!s.result)return this.ps(e,n,i,r).next((c=>{s.result=c}))})).next((()=>{if(s.result)return;const c=new mG;return this.ys(e,n,c).next((u=>{if(s.result=u,this.As)return this.ws(e,n,c,u.size)}))})).next((()=>s.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Lu()<=ut.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",qu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),we.resolve()):(Lu()<=ut.DEBUG&&Te("QueryEngine","Query:",qu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Lu()<=ut.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",qu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fa(n))):we.resolve())}gs(e,n){if(G2(n))return we.resolve(null);let r=Fa(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=rv(n,null,"F"),r=Fa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const c=ft(...s);return this.fs.getDocuments(e,c).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.bs(n,u);return this.Ss(n,h,c,f.readTime)?this.gs(e,rv(n,null,"F")):this.Ds(e,h,n,f)}))))})))))}ps(e,n,r,i){return G2(n)||i.isEqual(We.min())?we.resolve(null):this.fs.getDocuments(e,r).next((s=>{const c=this.bs(n,s);return this.Ss(n,c,r,i)?we.resolve(null):(Lu()<=ut.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qu(n)),this.Ds(e,c,n,DF(i,_h)).next((u=>u)))}))}bs(e,n){let r=new Un(Cz(e));return n.forEach(((i,s)=>{wy(e,s)&&(r=r.add(s))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return Lu()<=ut.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",qu(n)),this.fs.getDocumentsMatchingQuery(e,n,ol.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((c=>{s=s.insert(c.key,c)})),s)))}}const Qj="LocalStore",gG=3e8;class vG{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new rn(dt),this.Fs=new zc((s=>qj(s)),Uj),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aG(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function yG(t,e,n,r){return new vG(t,e,n,r)}async function t4(t,e){const n=Je(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const c=[],u=[];let f=ft();for(const h of i){c.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of s){u.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ns:h,removedBatchIds:c,addedBatchIds:u})))}))}))}function bG(t,e){const n=Je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return(function(u,f,h,p){const g=h.batch,y=g.keys();let x=we.resolve();return y.forEach((E=>{x=x.next((()=>p.getEntry(f,E))).next((w=>{const N=h.docVersions.get(E);Et(N!==null,48541),w.version.compareTo(N)<0&&(g.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),p.addEntry(w)))}))})),x.next((()=>u.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=ft();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(f=f.add(u.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function n4(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function xG(t,e){const n=Je(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const u=[];e.targetChanges.forEach(((p,g)=>{const y=i.get(g);if(!y)return;u.push(n.li.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.li.addMatchingKeys(s,p.addedDocuments,g))));let x=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?x=x.withResumeToken(hr.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,r)),i=i.insert(g,x),(function(w,N,A){return w.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=gG?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0})(y,x,p)&&u.push(n.li.updateTargetData(s,x))}));let f=qs(),h=ft();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),u.push(_G(s,c,e.documentUpdates).next((p=>{f=p.Bs,h=p.Ls}))),!r.isEqual(We.min())){const p=n.li.getLastRemoteSnapshotVersion(s).next((g=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(p)}return we.waitFor(u).next((()=>c.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.vs=i,s)))}function _G(t,e,n){let r=ft(),i=ft();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let c=qs();return n.forEach(((u,f)=>{const h=s.get(u);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(We.min())?(e.removeEntry(u,f.readTime),c=c.insert(u,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),c=c.insert(u,f)):Te(Qj,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",f.version)})),{Bs:c,Ls:i}}))}function wG(t,e){const n=Je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Mj),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function jG(t,e){const n=Je(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((s=>s?(i=s,we.resolve(i)):n.li.allocateTargetId(r).next((c=>(i=new Xo(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function iw(t,e,n){const r=Je(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Ed(c))throw c;Te(Qj,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function aO(t,e,n){const r=Je(t);let i=We.min(),s=ft();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,h,p){const g=Je(f),y=g.Fs.get(p);return y!==void 0?we.resolve(g.vs.get(y)):g.li.getTargetData(h,p)})(r,c,Fa(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,u.targetId).next((f=>{s=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,n?i:We.min(),n?s:ft()))).next((u=>(EG(r,uH(e),u),{documents:u,ks:s})))))}function EG(t,e,n){let r=t.Ms.get(e)||We.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Ms.set(e,r)}class sO{constructor(){this.activeTargetIds=gH()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NG{constructor(){this.vo=new sO,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new sO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class SG{Mo(e){}shutdown(){}}const oO="ConnectivityMonitor";class lO{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Te(oO,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Te(oO,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let tg=null;function aw(){return tg===null?tg=(function(){return 268435456+Math.round(2147483648*Math.random())})():tg++,"0x"+tg.toString(16)}const Ux="RestConnection",AG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class TG{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===ev?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const c=aw(),u=this.Qo(e,n.toUriEncodedString());Te(Ux,`Sending RPC '${e}' ${c}:`,u,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,i,s);const{host:h}=new URL(u),p=bl(h);return this.zo(e,u,f,r,p).then((g=>(Te(Ux,`Received RPC '${e}' ${c}: `,g),g)),(g=>{throw nd(Ux,`RPC '${e}' ${c} failed with error: `,g,"url: ",u,"request:",r),g}))}jo(e,n,r,i,s,c){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}Qo(e,n){const r=AG[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class CG{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const vr="WebChannelConnection",qf=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Yu extends TG{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Yu.c_){const e=az();qf(e,iz.STAT_EVENT,(n=>{n.stat===K1.PROXY?Te(vr,"STAT_EVENT: detected buffering proxy"):n.stat===K1.NOPROXY&&Te(vr,"STAT_EVENT: detected no buffering proxy")})),Yu.c_=!0}}zo(e,n,r,i,s){const c=aw();return new Promise(((u,f)=>{const h=new nz;h.setWithCredentials(!0),h.listenOnce(rz.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Og.NO_ERROR:const g=h.getResponseJson();Te(vr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(g)),u(g);break;case Og.TIMEOUT:Te(vr,`RPC '${e}' ${c} timed out`),f(new Ae(ye.DEADLINE_EXCEEDED,"Request time out"));break;case Og.HTTP_ERROR:const y=h.getStatus();if(Te(vr,`RPC '${e}' ${c} failed with status:`,y,"response text:",h.getResponseText()),y>0){let x=h.getResponseJson();Array.isArray(x)&&(x=x[0]);const E=x?.error;if(E&&E.status&&E.message){const w=(function(A){const R=A.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(R)>=0?R:ye.UNKNOWN})(E.status);f(new Ae(w,E.message))}else f(new Ae(ye.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Ae(ye.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:c,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Te(vr,`RPC '${e}' ${c} completed.`)}}));const p=JSON.stringify(i);Te(vr,`RPC '${e}' ${c} sending request:`,i),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=aw(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");Te(vr,`Creating RPC '${e}' stream ${i}: ${h}`,u);const p=c.createWebChannel(h,u);this.I_(p);let g=!1,y=!1;const x=new CG({Ho:E=>{y?Te(vr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(g||(Te(vr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),Te(vr,`RPC '${e}' stream ${i} sending:`,E),p.send(E))},Jo:()=>p.close()});return qf(p,Zf.EventType.OPEN,(()=>{y||(Te(vr,`RPC '${e}' stream ${i} transport opened.`),x.i_())})),qf(p,Zf.EventType.CLOSE,(()=>{y||(y=!0,Te(vr,`RPC '${e}' stream ${i} transport closed`),x.o_(),this.E_(p))})),qf(p,Zf.EventType.ERROR,(E=>{y||(y=!0,nd(vr,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),x.o_(new Ae(ye.UNAVAILABLE,"The operation could not be completed")))})),qf(p,Zf.EventType.MESSAGE,(E=>{if(!y){const w=E.data[0];Et(!!w,16349);const N=w,A=N?.error||N[0]?.error;if(A){Te(vr,`RPC '${e}' stream ${i} received error:`,A);const R=A.status;let O=(function($){const D=Pn[$];if(D!==void 0)return Bz(D)})(R),C=A.message;O===void 0&&(O=ye.INTERNAL,C="Unknown error status: "+R+" with message "+A.message),y=!0,x.o_(new Ae(O,C)),p.close()}else Te(vr,`RPC '${e}' stream ${i} received:`,w),x.__(w)}})),Yu.u_(),setTimeout((()=>{x.s_()}),0),x}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return sz()}}function OG(t){return new Yu(t)}function Vx(){return typeof document<"u"?document:null}function Ay(t){return new kH(t,!0)}Yu.c_=!1;class r4{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const cO="PersistentStream";class i4{constructor(e,n,r,i,s,c,u,f){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new r4(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ye.RESOURCE_EXHAUSTED?(Ls(n.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ae(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(cO,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Te(cO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PG extends i4{constructor(e,n,r,i,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=zH(this.serializer,e),r=(function(s){if(!("targetChange"in s))return We.min();const c=s.targetChange;return c.targetIds&&c.targetIds.length?We.min():c.readTime?Ha(c.readTime):We.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=rw(this.serializer),n.addTarget=(function(s,c){let u;const f=c.target;if(u=J1(f)?{documents:UH(s,f)}:{query:VH(s,f).ft},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=Hz(s,c.resumeToken);const h=ew(s,c.expectedCount);h!==null&&(u.expectedCount=h)}else if(c.snapshotVersion.compareTo(We.min())>0){u.readTime=iv(s,c.snapshotVersion.toTimestamp());const h=ew(s,c.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const r=$H(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=rw(this.serializer),n.removeTarget=e,this.K_(n)}}class IG extends i4{constructor(e,n,r,i,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=qH(e.writeResults,e.commitTime),r=Ha(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=rw(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>LH(this.serializer,r)))};this.K_(n)}}class RG{}class kG extends RG{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ae(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,c])=>this.connection.Wo(e,tw(n,r),i,s,c))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ae(ye.UNKNOWN,s.toString())}))}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.jo(e,tw(n,r),i,c,u,s))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ae(ye.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function DG(t,e,n,r){return new kG(t,e,n,r)}class MG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ls(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const jc="RemoteStore";class zG{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{Lc(this)&&(Te(jc,"Restarting streams for network reachability change."),await(async function(f){const h=Je(f);h.Ea.add(4),await nm(h),h.Va.set("Unknown"),h.Ea.delete(4),await Ty(h)})(this))}))})),this.Va=new MG(r,i)}}async function Ty(t){if(Lc(t))for(const e of t.Ra)await e(!0)}async function nm(t){for(const e of t.Ra)await e(!1)}function a4(t,e){const n=Je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Jj(n)?Xj(n):Sd(n).O_()&&Yj(n,e))}function Wj(t,e){const n=Je(t),r=Sd(n);n.Ia.delete(e),r.O_()&&s4(n,e),n.Ia.size===0&&(r.O_()?r.L_():Lc(n)&&n.Va.set("Unknown"))}function Yj(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sd(t).Z_(e)}function s4(t,e){t.da.$e(e),Sd(t).X_(e)}function Xj(t){t.da=new OH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Sd(t).start(),t.Va.ua()}function Jj(t){return Lc(t)&&!Sd(t).x_()&&t.Ia.size>0}function Lc(t){return Je(t).Ea.size===0}function o4(t){t.da=void 0}async function LG(t){t.Va.set("Online")}async function qG(t){t.Ia.forEach(((e,n)=>{Yj(t,e)}))}async function UG(t,e){o4(t),Jj(t)?(t.Va.ha(e),Xj(t)):t.Va.set("Unknown")}async function VG(t,e,n){if(t.Va.set("Online"),e instanceof Fz&&e.state===2&&e.cause)try{await(async function(i,s){const c=s.cause;for(const u of s.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,c),i.Ia.delete(u),i.da.removeTarget(u))})(t,e)}catch(r){Te(jc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sv(t,r)}else if(e instanceof kg?t.da.Xe(e):e instanceof $z?t.da.st(e):t.da.tt(e),!n.isEqual(We.min()))try{const r=await n4(t.localStore);n.compareTo(r)>=0&&await(function(s,c){const u=s.da.Tt(c);return u.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(f.resumeToken,c))}})),u.targetMismatches.forEach(((f,h)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(hr.EMPTY_BYTE_STRING,p.snapshotVersion)),s4(s,f);const g=new Xo(p.target,f,h,p.sequenceNumber);Yj(s,g)})),s.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Te(jc,"Failed to raise snapshot:",r),await sv(t,r)}}async function sv(t,e,n){if(!Ed(e))throw e;t.Ea.add(1),await nm(t),t.Va.set("Offline"),n||(n=()=>n4(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te(jc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ty(t)}))}function l4(t,e){return e().catch((n=>sv(t,n,e)))}async function Cy(t){const e=Je(t),n=dl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mj;for(;BG(e);)try{const i=await wG(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,$G(e,i)}catch(i){await sv(e,i)}c4(e)&&u4(e)}function BG(t){return Lc(t)&&t.Ta.length<10}function $G(t,e){t.Ta.push(e);const n=dl(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function c4(t){return Lc(t)&&!dl(t).x_()&&t.Ta.length>0}function u4(t){dl(t).start()}async function FG(t){dl(t).ra()}async function HG(t){const e=dl(t);for(const n of t.Ta)e.ea(n.mutations)}async function GG(t,e,n){const r=t.Ta.shift(),i=Bj.from(r,e,n);await l4(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Cy(t)}async function KG(t,e){e&&dl(t).Y_&&await(async function(r,i){if((function(c){return AH(c)&&c!==ye.ABORTED})(i.code)){const s=r.Ta.shift();dl(r).B_(),await l4(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Cy(r)}})(t,e),c4(t)&&u4(t)}async function uO(t,e){const n=Je(t);n.asyncQueue.verifyOperationInProgress(),Te(jc,"RemoteStore received new credentials");const r=Lc(n);n.Ea.add(3),await nm(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ty(n)}async function QG(t,e){const n=Je(t);e?(n.Ea.delete(2),await Ty(n)):e||(n.Ea.add(2),await nm(n),n.Va.set("Unknown"))}function Sd(t){return t.ma||(t.ma=(function(n,r,i){const s=Je(n);return s.sa(),new PG(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:LG.bind(null,t),Yo:qG.bind(null,t),t_:UG.bind(null,t),J_:VG.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Jj(t)?Xj(t):t.Va.set("Unknown")):(await t.ma.stop(),o4(t))}))),t.ma}function dl(t){return t.fa||(t.fa=(function(n,r,i){const s=Je(n);return s.sa(),new IG(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:FG.bind(null,t),t_:KG.bind(null,t),ta:HG.bind(null,t),na:GG.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Cy(t)):(await t.fa.stop(),t.Ta.length>0&&(Te(jc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Zj{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const c=Date.now()+r,u=new Zj(e,n,c,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eE(t,e){if(Ls("AsyncQueue",`${e}: ${t}`),Ed(t))return new Ae(ye.UNAVAILABLE,`${e}: ${t}`);throw t}class Xu{static emptySet(e){return new Xu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||qe.comparator(n.key,r.key):(n,r)=>qe.comparator(n.key,r.key),this.keyedMap=eh(),this.sortedSet=new rn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class dO{constructor(){this.ga=new rn(qe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ge(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class od{constructor(e,n,r,i,s,c,u,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const c=[];return n.forEach((u=>{c.push({type:0,doc:u})})),new od(e,n,Xu.emptySet(n),c,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_y(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class WG{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class YG{constructor(){this.queries=fO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Je(n),s=i.queries;i.queries=fO(),s.forEach(((c,u)=>{for(const f of u.ba)f.onError(r)}))})(this,new Ae(ye.ABORTED,"Firestore shutting down"))}}function fO(){return new zc((t=>Tz(t)),_y)}async function tE(t,e){const n=Je(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new WG,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const u=eE(c,`Initialization of query '${qu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&rE(n)}async function nE(t,e){const n=Je(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const c=s.ba.indexOf(e);c>=0&&(s.ba.splice(c,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function XG(t,e){const n=Je(t);let r=!1;for(const i of e){const s=i.query,c=n.queries.get(s);if(c){for(const u of c.ba)u.Fa(i)&&(r=!0);c.wa=i}}r&&rE(n)}function JG(t,e,n){const r=Je(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function rE(t){t.Ca.forEach((e=>{e.next()}))}var sw,hO;(hO=sw||(sw={})).Ma="default",hO.Cache="cache";class iE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new od(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=od.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sw.Cache}}class d4{constructor(e){this.key=e}}class f4{constructor(e){this.key=e}}class ZG{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ft(),this.mutatedKeys=ft(),this.eu=Cz(e),this.tu=new Xu(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new dO,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,c=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const y=i.get(p),x=wy(this.query,g)?g:null,E=!!y&&this.mutatedKeys.has(y.key),w=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let N=!1;y&&x?y.data.isEqual(x.data)?E!==w&&(r.track({type:3,doc:x}),N=!0):this.su(y,x)||(r.track({type:2,doc:x}),N=!0,(f&&this.eu(x,f)>0||h&&this.eu(x,h)<0)&&(u=!0)):!y&&x?(r.track({type:0,doc:x}),N=!0):y&&!x&&(r.track({type:1,doc:y}),N=!0,(f||h)&&(u=!0)),N&&(x?(c=c.add(x),s=w?s.add(p):s.delete(p)):(c=c.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:c,iu:r,Ss:u,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((p,g)=>(function(x,E){const w=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Vt:N})}};return w(x)-w(E)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Ya.size===0&&this.current&&!i?1:0,h=f!==this.Xa;return this.Xa=f,c.length!==0||h?{snapshot:new od(this.query,e.tu,s,c,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dO,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ft(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new f4(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new d4(r))})),n}cu(e){this.Za=e.ks,this.Ya=ft();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return od.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const aE="SyncEngine";class eK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tK{constructor(e){this.key=e,this.hu=!1}}class nK{constructor(e,n,r,i,s,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new zc((u=>Tz(u)),_y),this.Iu=new Map,this.Eu=new Set,this.Ru=new rn(qe.comparator),this.Au=new Map,this.Vu=new Hj,this.du={},this.mu=new Map,this.fu=sd.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rK(t,e,n=!0){const r=y4(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await h4(r,e,n,!0),i}async function iK(t,e){const n=y4(t);await h4(n,e,!0,!1)}async function h4(t,e,n,r){const i=await jG(t.localStore,Fa(e)),s=i.targetId,c=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await aK(t,e,s,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&a4(t.remoteStore,i),u}async function aK(t,e,n,r,i){t.pu=(g,y,x)=>(async function(w,N,A,R){let O=N.view.ru(A);O.Ss&&(O=await aO(w.localStore,N.query,!1).then((({documents:D})=>N.view.ru(D,O))));const C=R&&R.targetChanges.get(N.targetId),V=R&&R.targetMismatches.get(N.targetId)!=null,$=N.view.applyChanges(O,w.isPrimaryClient,C,V);return pO(w,N.targetId,$.au),$.snapshot})(t,g,y,x);const s=await aO(t.localStore,e,!0),c=new ZG(e,s.ks),u=c.ru(s.documents),f=tm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=c.applyChanges(u,t.isPrimaryClient,f);pO(t,n,h.au);const p=new eK(e,n,c);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function sK(t,e,n){const r=Je(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((c=>!_y(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await iw(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Wj(r.remoteStore,i.targetId),ow(r,i.targetId)})).catch(jd)):(ow(r,i.targetId),await iw(r.localStore,i.targetId,!0))}async function oK(t,e){const n=Je(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wj(n.remoteStore,r.targetId))}async function lK(t,e,n){const r=pK(t);try{const i=await(function(c,u){const f=Je(c),h=Ye.now(),p=u.reduce(((x,E)=>x.add(E.key)),ft());let g,y;return f.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let E=qs(),w=ft();return f.xs.getEntries(x,p).next((N=>{E=N,E.forEach(((A,R)=>{R.isValidDocument()||(w=w.add(A))}))})).next((()=>f.localDocuments.getOverlayedDocuments(x,E))).next((N=>{g=N;const A=[];for(const R of u){const O=wH(R,g.get(R.key).overlayedDocument);O!=null&&A.push(new wl(R.key,O,xz(O.value.mapValue),Pr.exists(!0)))}return f.mutationQueue.addMutationBatch(x,h,A,u)})).next((N=>{y=N;const A=N.applyToLocalDocumentSet(g,w);return f.documentOverlayCache.saveOverlays(x,N.batchId,A)}))})).then((()=>({batchId:y.batchId,changes:Pz(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,u,f){let h=c.du[c.currentUser.toKey()];h||(h=new rn(dt)),h=h.insert(u,f),c.du[c.currentUser.toKey()]=h})(r,i.batchId,n),await rm(r,i.changes),await Cy(r.remoteStore)}catch(i){const s=eE(i,"Failed to persist write");n.reject(s)}}async function m4(t,e){const n=Je(t);try{const r=await xG(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const c=n.Au.get(s);c&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.hu=!0:i.modifiedDocuments.size>0?Et(c.hu,14607):i.removedDocuments.size>0&&(Et(c.hu,42227),c.hu=!1))})),await rm(n,r,e)}catch(r){await jd(r)}}function mO(t,e,n){const r=Je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,c)=>{const u=c.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(c,u){const f=Je(c);f.onlineState=u;let h=!1;f.queries.forEach(((p,g)=>{for(const y of g.ba)y.va(u)&&(h=!0)})),h&&rE(f)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cK(t,e,n){const r=Je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let c=new rn(qe.comparator);c=c.insert(s,xr.newNoDocument(s,We.min()));const u=ft().add(s),f=new Sy(We.min(),new Map,new rn(dt),c,u);await m4(r,f),r.Ru=r.Ru.remove(s),r.Au.delete(e),sE(r)}else await iw(r.localStore,e,!1).then((()=>ow(r,e,n))).catch(jd)}async function uK(t,e){const n=Je(t),r=e.batch.batchId;try{const i=await bG(n.localStore,e);g4(n,r,null),p4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rm(n,i)}catch(i){await jd(i)}}async function dK(t,e,n){const r=Je(t);try{const i=await(function(c,u){const f=Je(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,u).next((g=>(Et(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(h,g)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);g4(r,e,n),p4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await rm(r,i)}catch(i){await jd(i)}}function p4(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function g4(t,e,n){const r=Je(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function ow(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||v4(t,r)}))}function v4(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Wj(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),sE(t))}function pO(t,e,n){for(const r of n)r instanceof d4?(t.Vu.addReference(r.key,e),fK(t,r)):r instanceof f4?(Te(aE,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||v4(t,r.key)):Ge(19791,{wu:r})}function fK(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Te(aE,"New document in limbo: "+n),t.Eu.add(r),sE(t))}function sE(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new qe(Gt.fromString(e)),r=t.fu.next();t.Au.set(r,new tK(n)),t.Ru=t.Ru.insert(n,r),a4(t.remoteStore,new Xo(Fa(xy(n.path)),r,"TargetPurposeLimboResolution",vy.ce))}}async function rm(t,e,n){const r=Je(t),i=[],s=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{c.push(r.pu(f,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(h){i.push(h);const p=Kj.Es(f.targetId,h);s.push(p)}})))})),await Promise.all(c),r.Pu.J_(i),await(async function(f,h){const p=Je(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>we.forEach(h,(y=>we.forEach(y.Ts,(x=>p.persistence.referenceDelegate.addReference(g,y.targetId,x))).next((()=>we.forEach(y.Is,(x=>p.persistence.referenceDelegate.removeReference(g,y.targetId,x)))))))))}catch(g){if(!Ed(g))throw g;Te(Qj,"Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const x=p.vs.get(y),E=x.snapshotVersion,w=x.withLastLimboFreeSnapshotVersion(E);p.vs=p.vs.insert(y,w)}}})(r.localStore,s))}async function hK(t,e){const n=Je(t);if(!n.currentUser.isEqual(e)){Te(aE,"User change. New user:",e.toKey());const r=await t4(n.localStore,e);n.currentUser=e,(function(s,c){s.mu.forEach((u=>{u.forEach((f=>{f.reject(new Ae(ye.CANCELLED,c))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rm(n,r.Ns)}}function mK(t,e){const n=Je(t),r=n.Au.get(e);if(r&&r.hu)return ft().add(r.key);{let i=ft();const s=n.Iu.get(e);if(!s)return i;for(const c of s){const u=n.Tu.get(c);i=i.unionWith(u.view.nu)}return i}}function y4(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=m4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cK.bind(null,e),e.Pu.J_=XG.bind(null,e.eventManager),e.Pu.yu=JG.bind(null,e.eventManager),e}function pK(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dK.bind(null,e),e}class ov{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ay(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return yG(this.persistence,new pG,e.initialUser,this.serializer)}Cu(e){return new e4(Gj.Vi,this.serializer)}Du(e){return new NG}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ov.provider={build:()=>new ov};class gK extends ov{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Et(this.persistence.referenceDelegate instanceof av,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new eG(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Qr.withCacheSize(this.cacheSizeBytes):Qr.DEFAULT;return new e4((r=>av.Vi(r,n)),this.serializer)}}class lw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hK.bind(null,this.syncEngine),await QG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new YG})()}createDatastore(e){const n=Ay(e.databaseInfo.databaseId),r=OG(e.databaseInfo);return DG(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,c,u){return new zG(r,i,s,c,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>mO(this.syncEngine,n,0)),(function(){return lO.v()?new lO:new SG})())}createSyncEngine(e,n){return(function(i,s,c,u,f,h,p){const g=new nK(i,s,c,u,f,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Je(n);Te(jc,"RemoteStore shutting down."),r.Ea.add(5),await nm(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lw.provider={build:()=>new lw};class oE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const fl="FirestoreClient";class vK{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=br.UNAUTHENTICATED,this.clientId=Dj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async c=>{Te(fl,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Te(fl,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=eE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Bx(t,e){t.asyncQueue.verifyOperationInProgress(),Te(fl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await t4(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function gO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yK(t);Te(fl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>uO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>uO(e.remoteStore,i))),t._onlineComponents=e}async function yK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(fl,"Using user provided OfflineComponentProvider");try{await Bx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ye.FAILED_PRECONDITION||i.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;nd("Error using user provided cache. Falling back to memory cache: "+n),await Bx(t,new ov)}}else Te(fl,"Using default OfflineComponentProvider"),await Bx(t,new gK(void 0));return t._offlineComponents}async function b4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(fl,"Using user provided OnlineComponentProvider"),await gO(t,t._uninitializedComponentsProvider._online)):(Te(fl,"Using default OnlineComponentProvider"),await gO(t,new lw))),t._onlineComponents}function bK(t){return b4(t).then((e=>e.syncEngine))}async function lv(t){const e=await b4(t),n=e.eventManager;return n.onListen=rK.bind(null,e.syncEngine),n.onUnlisten=sK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oK.bind(null,e.syncEngine),n}function xK(t,e,n,r){const i=new oE(r),s=new iE(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>tE(await lv(t),s))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>nE(await lv(t),s)))}}function _K(t,e,n={}){const r=new Rs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,c,u,f,h){const p=new oE({next:y=>{p.Nu(),c.enqueueAndForget((()=>nE(s,g)));const x=y.docs.has(u);!x&&y.fromCache?h.reject(new Ae(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&y.fromCache&&f&&f.source==="server"?h.reject(new Ae(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new iE(xy(u.path),p,{includeMetadataChanges:!0,Ka:!0});return tE(s,g)})(await lv(t),t.asyncQueue,e,n,r))),r.promise}function wK(t,e,n={}){const r=new Rs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,c,u,f,h){const p=new oE({next:y=>{p.Nu(),c.enqueueAndForget((()=>nE(s,g))),y.fromCache&&f.source==="server"?h.reject(new Ae(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new iE(u,p,{includeMetadataChanges:!0,Ka:!0});return tE(s,g)})(await lv(t),t.asyncQueue,e,n,r))),r.promise}function jK(t,e){const n=new Rs;return t.asyncQueue.enqueueAndForget((async()=>lK(await bK(t),e,n))),n.promise}function x4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const EK="ComponentProvider",vO=new Map;function NK(t,e,n,r,i){return new HF(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,x4(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const _4="firestore.googleapis.com",yO=!0;class bO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_4,this.ssl=yO}else this.host=e.host,this.ssl=e.ssl??yO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Zz;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JH)throw new Ae(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=x4(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ae(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ae(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ae(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new jF;switch(r.type){case"firstParty":return new AF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=vO.get(n);r&&(Te(EK,"Removing Datastore"),vO.delete(n),r.terminate())})(this),Promise.resolve()}}function SK(t,e,n,r={}){t=Or(t,Oy);const i=bl(e),s=t._getSettings(),c={...s,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(_j(`https://${u}`),wj("Firestore",!0)),s.host!==_4&&s.host!==u&&nd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:u,ssl:i,emulatorOptions:r};if(!yc(f,c)&&(t._setSettings(f),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=br.MOCK_USER;else{h=pM(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ae(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new br(g)}t._authCredentials=new EF(new lz(h,p))}}class Ys{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ys(this.firestore,e,this._query)}}class pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}toJSON(){return{type:pn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Zh(n,pn._jsonSchema))return new pn(e,r||null,new qe(Gt.fromString(n.referencePath)))}}pn._jsonSchemaVersion="firestore/documentReference/1.0",pn._jsonSchema={type:kn("string",pn._jsonSchemaVersion),referencePath:kn("string")};class rl extends Ys{constructor(e,n,r){super(e,n,xy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new qe(e))}withConverter(e){return new rl(this.firestore,e,this._path)}}function rt(t,e,...n){if(t=Ft(t),cz("collection","path",e),t instanceof Oy){const r=Gt.fromString(e,...n);return I2(r),new rl(t,null,r)}{if(!(t instanceof pn||t instanceof rl))throw new Ae(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return I2(r),new rl(t.firestore,null,r)}}function Qe(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=Dj.newId()),cz("doc","path",e),t instanceof Oy){const r=Gt.fromString(e,...n);return P2(r),new pn(t,null,new qe(r))}{if(!(t instanceof pn||t instanceof rl))throw new Ae(ye.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return P2(r),new pn(t.firestore,t instanceof rl?t.converter:null,new qe(r))}}const xO="AsyncQueue";class _O{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new r4(this,"async_queue_retry"),this._c=()=>{const r=Vx();r&&Te(xO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Vx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Rs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ed(e))throw e;Te(xO,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ls("INTERNAL UNHANDLED ERROR: ",wO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Zj.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Ge(47125,{Pc:wO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function wO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Wa extends Oy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _O,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _O(e),this._firestoreClient=void 0,await e}}}function AK(t,e){const n=typeof t=="object"?t:Nj(),r=typeof t=="string"?t:ev,i=fy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=fM("firestore");s&&SK(i,...s)}return i}function im(t){if(t._terminated)throw new Ae(ye.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||TK(t),t._firestoreClient}function TK(t){const e=t._freezeSettings(),n=NK(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new vK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class zi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zi(hr.fromBase64String(e))}catch(n){throw new Ae(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zi(hr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zh(e,zi._jsonSchema))return zi.fromBase64String(e.bytes)}}zi._jsonSchemaVersion="firestore/bytes/1.0",zi._jsonSchema={type:kn("string",zi._jsonSchemaVersion),bytes:kn("string")};class Py{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class am{constructor(e){this._methodName=e}}class Ga{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return dt(this._lat,e._lat)||dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ga._jsonSchemaVersion}}static fromJSON(e){if(Zh(e,Ga._jsonSchema))return new Ga(e.latitude,e.longitude)}}Ga._jsonSchemaVersion="firestore/geoPoint/1.0",Ga._jsonSchema={type:kn("string",Ga._jsonSchemaVersion),latitude:kn("number"),longitude:kn("number")};class sa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:sa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zh(e,sa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new sa(e.vectorValues);throw new Ae(ye.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sa._jsonSchemaVersion="firestore/vectorValue/1.0",sa._jsonSchema={type:kn("string",sa._jsonSchemaVersion),vectorValues:kn("object")};const CK=/^__.*__$/;class OK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wl(e,this.data,this.fieldMask,n,this.fieldTransforms):new em(e,this.data,n,this.fieldTransforms)}}class w4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function j4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{dataSource:t})}}class lE{constructor(e,n,r,i,s,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new lE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return cv(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(j4(this.dataSource)&&CK.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class PK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ay(e)}createContext(e,n,r,i=!1){return new lE({dataSource:e,methodName:n,targetDoc:r,path:dr.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sm(t){const e=t._freezeSettings(),n=Ay(t._databaseId);return new PK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cE(t,e,n,r,i,s={}){const c=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);fE("Data must be an object, but it was:",c,r);const u=S4(r,c);let f,h;if(s.merge)f=new hi(c.fieldMask),h=c.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const y=Ec(e,g,n);if(!c.contains(y))throw new Ae(ye.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);C4(p,y)||p.push(y)}f=new hi(p),h=c.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,h=c.fieldTransforms;return new OK(new Wr(u),f,h)}class Iy extends am{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Iy}}class uE extends am{_toFieldTransform(e){return new qz(e.path,new Sh)}isEqual(e){return e instanceof uE}}class dE extends am{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new Ch(e.serializer,kz(e.serializer,this.Vc));return new qz(e.path,n)}isEqual(e){return e instanceof dE&&this.Vc===e.Vc}}function E4(t,e,n,r){const i=t.createContext(1,e,n);fE("Data must be an object, but it was:",i,r);const s=[],c=Wr.empty();_l(r,((f,h)=>{const p=T4(e,f,n);h=Ft(h);const g=i.childContextForFieldPath(p);if(h instanceof Iy)s.push(p);else{const y=om(h,g);y!=null&&(s.push(p),c.set(p,y))}}));const u=new hi(s);return new w4(c,u,i.fieldTransforms)}function N4(t,e,n,r,i,s){const c=t.createContext(1,e,n),u=[Ec(e,r,n)],f=[i];if(s.length%2!=0)throw new Ae(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)u.push(Ec(e,s[y])),f.push(s[y+1]);const h=[],p=Wr.empty();for(let y=u.length-1;y>=0;--y)if(!C4(h,u[y])){const x=u[y];let E=f[y];E=Ft(E);const w=c.childContextForFieldPath(x);if(E instanceof Iy)h.push(x);else{const N=om(E,w);N!=null&&(h.push(x),p.set(x,N))}}const g=new hi(h);return new w4(p,g,c.fieldTransforms)}function IK(t,e,n,r=!1){return om(n,t.createContext(r?4:3,e))}function om(t,e){if(A4(t=Ft(t)))return fE("Unsupported field value:",e,t),S4(t,e);if(t instanceof am)return(function(r,i){if(!j4(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const s=[];let c=0;for(const u of r){let f=om(u,i.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),c++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ye.fromDate(r);return{timestampValue:iv(i.serializer,s)}}if(r instanceof Ye){const s=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:iv(i.serializer,s)}}if(r instanceof Ga)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zi)return{bytesValue:Hz(i.serializer,r._byteString)};if(r instanceof pn){const s=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(s))throw i.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Fj(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof sa)return(function(c,u){const f=c instanceof sa?c.toArray():c;return{mapValue:{fields:{[yz]:{stringValue:bz},[tv]:{arrayValue:{values:f.map((p=>{if(typeof p!="number")throw u.createError("VectorValues must only contain numeric values.");return Vj(u.serializer,p)}))}}}}}})(r,i);if(Jz(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${gy(r)}`)})(t,e)}function S4(t,e){const n={};return fz(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_l(t,((r,i)=>{const s=om(i,e.childContextForField(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function A4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof Ga||t instanceof zi||t instanceof pn||t instanceof am||t instanceof sa||Jz(t))}function fE(t,e,n){if(!A4(n)||!uz(n)){const r=gy(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Ec(t,e,n){if((e=Ft(e))instanceof Py)return e._internalPath;if(typeof e=="string")return T4(t,e);throw cv("Field path arguments must be of type string or ",t,!1,void 0,n)}const RK=new RegExp("[~\\*/\\[\\]]");function T4(t,e,n){if(e.search(RK)>=0)throw cv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Py(...e.split("."))._internalPath}catch{throw cv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cv(t,e,n,r,i){const s=r&&!r.isEmpty(),c=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(s||c)&&(f+=" (found",s&&(f+=` in field ${r}`),c&&(f+=` in document ${i}`),f+=")"),new Ae(ye.INVALID_ARGUMENT,u+t+f)}function C4(t,e){return t.some((n=>n.isEqual(e)))}class kK{convertValue(e,n="none"){switch(ul(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _l(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[tv].arrayValue?.values?.map((r=>_n(r.doubleValue)));return new sa(n)}convertGeoPoint(e){return new Ga(_n(e.latitude),_n(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=by(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wh(e));default:return null}}convertTimestamp(e){const n=ll(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Gt.fromString(e);Et(Xz(r),9688,{name:e});const i=new jh(r.get(1),r.get(3)),s=new qe(r.popFirst(5));return i.isEqual(n)||Ls(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class hE extends kK{constructor(e){super(),this.firestore=e}convertBytes(e){return new zi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function nn(){return new uE("serverTimestamp")}function O4(t){return new dE("increment",t)}const jO="@firebase/firestore",EO="4.10.0";function NO(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class P4{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Ec("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DK extends P4{data(){return super.data()}}function I4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mE{}class pE extends mE{}function Nt(t,e,...n){let r=[];e instanceof mE&&r.push(e),r=r.concat(n),(function(s){const c=s.filter((f=>f instanceof gE)).length,u=s.filter((f=>f instanceof Ry)).length;if(c>1||c>0&&u>0)throw new Ae(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Ry extends pE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ry(e,n,r)}_apply(e){const n=this._parse(e);return R4(e._query,n),new Ys(e.firestore,e.converter,Z1(e._query,n))}_parse(e){const n=sm(e.firestore);return(function(s,c,u,f,h,p,g){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ae(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){AO(g,p);const E=[];for(const w of g)E.push(SO(f,s,w));y={arrayValue:{values:E}}}else y=SO(f,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||AO(g,p),y=IK(u,c,g,p==="in"||p==="not-in");return Rn.create(h,p,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function it(t,e,n){const r=e,i=Ec("where",t);return Ry._create(i,r,n)}class gE extends mE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gE(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ua.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let c=i;const u=s.getFlattenedFilters();for(const f of u)R4(c,f),c=Z1(c,f)})(e._query,n),new Ys(e.firestore,e.converter,Z1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vE extends pE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new vE(e,n)}_apply(e){const n=(function(i,s,c){if(i.startAt!==null)throw new Ae(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ae(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nh(s,c)})(e._query,this._field,this._direction);return new Ys(e.firestore,e.converter,cH(e._query,n))}}function jr(t,e="asc"){const n=e,r=Ec("orderBy",t);return vE._create(r,n)}class yE extends pE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new yE(e,n,r)}_apply(e){return new Ys(e.firestore,e.converter,rv(e._query,this._limit,this._limitType))}}function hl(t){return kF("limit",t),yE._create("limit",t,"F")}function SO(t,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new Ae(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Az(e)&&n.indexOf("/")!==-1)throw new Ae(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Gt.fromString(n));if(!qe.isDocumentKey(r))throw new Ae(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return U2(t,new qe(r))}if(n instanceof pn)return U2(t,n._key);throw new Ae(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gy(n)}.`)}function AO(t,e){if(!Array.isArray(t)||t.length===0)throw new Ae(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function R4(t,e){const n=(function(i,s){for(const c of i)for(const u of c.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ae(ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function bE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class nh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uc extends P4{constructor(e,n,r,i,s,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ec("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(ye.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=uc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}uc._jsonSchemaVersion="firestore/documentSnapshot/1.0",uc._jsonSchema={type:kn("string",uc._jsonSchemaVersion),bundleSource:kn("string","DocumentSnapshot"),bundleName:kn("string"),bundle:kn("string")};class Dg extends uc{data(e={}){return super.data(e)}}class dc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new nh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Dg(this._firestore,this._userDataWriter,r.key,r,new nh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((u=>{const f=new Dg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new nh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const f=new Dg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new nh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return u.type!==0&&(h=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),p=c.indexOf(u.doc.key)),{type:MK(u.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(ye.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=dc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dj.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function MK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:t})}}dc._jsonSchemaVersion="firestore/querySnapshot/1.0",dc._jsonSchema={type:kn("string",dc._jsonSchemaVersion),bundleSource:kn("string","QuerySnapshot"),bundleName:kn("string"),bundle:kn("string")};class zK{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=sm(e)}set(e,n,r){this._verifyNotCommitted();const i=$x(e,this._firestore),s=bE(i.converter,n,r),c=cE(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(c.toMutation(i._key,Pr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=$x(e,this._firestore);let c;return c=typeof(n=Ft(n))=="string"||n instanceof Py?N4(this._dataReader,"WriteBatch.update",s._key,n,r,i):E4(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(c.toMutation(s._key,Pr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=$x(e,this._firestore);return this._mutations=this._mutations.concat(new Ny(n._key,Pr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $x(t,e){if((t=Ft(t)).firestore!==e)throw new Ae(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Zr(t){t=Or(t,pn);const e=Or(t.firestore,Wa),n=im(e);return _K(n,t._key).then((r=>D4(e,t,r)))}function St(t){t=Or(t,Ys);const e=Or(t.firestore,Wa),n=im(e),r=new hE(e);return I4(t._query),wK(n,t._query).then((i=>new dc(e,r,t,i)))}function xE(t,e,n){t=Or(t,pn);const r=Or(t.firestore,Wa),i=bE(t.converter,e,n),s=sm(r);return lm(r,[cE(s,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Pr.none())])}function an(t,e,n,...r){t=Or(t,pn);const i=Or(t.firestore,Wa),s=sm(i);let c;return c=typeof(e=Ft(e))=="string"||e instanceof Py?N4(s,"updateDoc",t._key,e,n,r):E4(s,"updateDoc",t._key,e),lm(i,[c.toMutation(t._key,Pr.exists(!0))])}function Ad(t){return lm(Or(t.firestore,Wa),[new Ny(t._key,Pr.none())])}function Bi(t,e){const n=Or(t.firestore,Wa),r=Qe(t),i=bE(t.converter,e),s=sm(t.firestore);return lm(n,[cE(s,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Pr.exists(!1))]).then((()=>r))}function k4(t,...e){t=Ft(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||NO(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(NO(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let s,c,u;if(t instanceof pn)c=Or(t.firestore,Wa),u=xy(t._key.path),s={next:h=>{e[r]&&e[r](D4(c,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Or(t,Ys);c=Or(h.firestore,Wa),u=h._query;const p=new hE(c);s={next:g=>{e[r]&&e[r](new dc(c,p,h,g))},error:e[r+1],complete:e[r+2]},I4(t._query)}const f=im(c);return xK(f,u,i,s)}function lm(t,e){const n=im(t);return jK(n,e)}function D4(t,e,n){const r=n.docs.get(e._key),i=new hE(t);return new uc(t,i,e._key,r,new nh(n.hasPendingWrites,n.fromCache),e.converter)}function Oh(t){return t=Or(t,Wa),im(t),new zK(t,(e=>lm(t,e)))}(function(e,n=!0){wF(Dc),bc(new sl("firestore",((r,{instanceIdentifier:i,options:s})=>{const c=r.getProvider("app").getImmediate(),u=new Wa(new NF(r.getProvider("auth-internal")),new TF(c,r.getProvider("app-check-internal")),GF(c,i),c);return s={useFetchStreams:n,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),Va(jO,EO,e),Va(jO,EO,"esm2020")})();var LK="firebase",qK="12.8.0";Va(LK,qK,"app");const M4="firebasestorage.googleapis.com",z4="storageBucket",UK=120*1e3,VK=600*1e3;class vn extends ts{constructor(e,n,r=0){super(Fx(e),`Firebase Storage: ${n} (${Fx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gn||(gn={}));function Fx(t){return"storage/"+t}function _E(){const t="An unknown error occurred, please check the error payload for server response.";return new vn(gn.UNKNOWN,t)}function BK(t){return new vn(gn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function $K(t){return new vn(gn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function FK(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new vn(gn.UNAUTHENTICATED,t)}function HK(){return new vn(gn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function GK(t){return new vn(gn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function KK(){return new vn(gn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function QK(){return new vn(gn.CANCELED,"User canceled the upload/download.")}function WK(t){return new vn(gn.INVALID_URL,"Invalid URL '"+t+"'.")}function YK(t){return new vn(gn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function XK(){return new vn(gn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+z4+"' property when initializing the app?")}function JK(){return new vn(gn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ZK(){return new vn(gn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function eQ(t){return new vn(gn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function cw(t){return new vn(gn.INVALID_ARGUMENT,t)}function L4(){return new vn(gn.APP_DELETED,"The Firebase app was deleted.")}function tQ(t){return new vn(gn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mh(t,e){return new vn(gn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Uf(t){throw new vn(gn.INTERNAL_ERROR,"Internal error: "+t)}class mi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=mi.makeFromUrl(e,n)}catch{return new mi(e,"")}if(r.path==="")return r;throw YK(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const c="(/(.*))?$",u=new RegExp("^gs://"+i+c,"i"),f={bucket:1,path:3};function h(C){C.path_=decodeURIComponent(C.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",x=new RegExp(`^https?://${g}/${p}/b/${i}/o${y}`,"i"),E={bucket:1,path:3},w=n===M4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",A=new RegExp(`^https?://${w}/${i}/${N}`,"i"),O=[{regex:u,indices:f,postModify:s},{regex:x,indices:E,postModify:h},{regex:A,indices:{bucket:1,path:2},postModify:h}];for(let C=0;C<O.length;C++){const V=O[C],$=V.regex.exec(e);if($){const D=$[V.indices.bucket];let I=$[V.indices.path];I||(I=""),r=new mi(D,I),V.postModify(r);break}}if(r==null)throw WK(e);return r}}class nQ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function rQ(t,e,n){let r=1,i=null,s=null,c=!1,u=0;function f(){return u===2}let h=!1;function p(...N){h||(h=!0,e.apply(null,N))}function g(N){i=setTimeout(()=>{i=null,t(x,f())},N)}function y(){s&&clearTimeout(s)}function x(N,...A){if(h){y();return}if(N){y(),p.call(null,N,...A);return}if(f()||c){y(),p.call(null,N,...A);return}r<64&&(r*=2);let O;u===1?(u=2,O=0):O=(r+Math.random())*1e3,g(O)}let E=!1;function w(N){E||(E=!0,y(),!h&&(i!==null?(N||(u=2),clearTimeout(i),g(0)):N||(u=1)))}return g(0),s=setTimeout(()=>{c=!0,w(!0)},n),w}function iQ(t){t(!1)}function aQ(t){return t!==void 0}function sQ(t){return typeof t=="object"&&!Array.isArray(t)}function wE(t){return typeof t=="string"||t instanceof String}function TO(t){return jE()&&t instanceof Blob}function jE(){return typeof Blob<"u"}function CO(t,e,n,r){if(r<e)throw cw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw cw(`Invalid value for '${t}'. Expected ${n} or less.`)}function ky(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function q4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var fc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(fc||(fc={}));function oQ(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}class lQ{constructor(e,n,r,i,s,c,u,f,h,p,g,y=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=u,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=y,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,w)=>{this.resolve_=E,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new ng(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const c=u=>{const f=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const u=s.getErrorCode()===fc.NO_ERROR,f=s.getStatus();if(!u||oQ(f,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===fc.ABORT;r(!1,new ng(!1,null,p));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new ng(h,s))})},n=(r,i)=>{const s=this.resolve_,c=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());aQ(f)?s(f):s()}catch(f){c(f)}else if(u!==null){const f=_E();f.serverResponse=u.getErrorText(),this.errorCallback_?c(this.errorCallback_(u,f)):c(f)}else if(i.canceled){const f=this.appDelete_?L4():QK();c(f)}else{const f=KK();c(f)}};this.canceled_?n(!1,new ng(!1,null,!0)):this.backoffId_=rQ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&iQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ng{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function cQ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function uQ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function dQ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function fQ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function hQ(t,e,n,r,i,s,c=!0,u=!1){const f=q4(t.urlParams),h=t.url+f,p=Object.assign({},t.headers);return dQ(p,e),cQ(p,n),uQ(p,s),fQ(p,r),new lQ(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,c,u)}function mQ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function pQ(...t){const e=mQ();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(jE())return new Blob(t);throw new vn(gn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function gQ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function vQ(t){if(typeof atob>"u")throw eQ("base-64");return atob(t)}const La={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hx{constructor(e,n){this.data=e,this.contentType=n||null}}function yQ(t,e){switch(t){case La.RAW:return new Hx(U4(e));case La.BASE64:case La.BASE64URL:return new Hx(V4(t,e));case La.DATA_URL:return new Hx(xQ(e),_Q(e))}throw _E()}function U4(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,c=t.charCodeAt(++n);r=65536|(s&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function bQ(t){let e;try{e=decodeURIComponent(t)}catch{throw mh(La.DATA_URL,"Malformed data URL.")}return U4(e)}function V4(t,e){switch(t){case La.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw mh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case La.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw mh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=vQ(e)}catch(i){throw i.message.includes("polyfill")?i:mh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class B4{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw mh(La.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=wQ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function xQ(t){const e=new B4(t);return e.base64?V4(La.BASE64,e.rest):bQ(e.rest)}function _Q(t){return new B4(t).contentType}function wQ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class Qo{constructor(e,n){let r=0,i="";TO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(TO(this.data_)){const r=this.data_,i=gQ(r,e,n);return i===null?null:new Qo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Qo(r,!0)}}static getBlob(...e){if(jE()){const n=e.map(r=>r instanceof Qo?r.data_:r);return new Qo(pQ.apply(null,n))}else{const n=e.map(c=>wE(c)?yQ(La.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(c=>{for(let u=0;u<c.length;u++)i[s++]=c[u]}),new Qo(i,!0)}}uploadData(){return this.data_}}function $4(t){let e;try{e=JSON.parse(t)}catch{return null}return sQ(e)?e:null}function jQ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function EQ(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function F4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function NQ(t,e){return e}class Ar{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||NQ}}let rg=null;function SQ(t){return!wE(t)||t.length<2?t:F4(t)}function H4(){if(rg)return rg;const t=[];t.push(new Ar("bucket")),t.push(new Ar("generation")),t.push(new Ar("metageneration")),t.push(new Ar("name","fullPath",!0));function e(s,c){return SQ(c)}const n=new Ar("name");n.xform=e,t.push(n);function r(s,c){return c!==void 0?Number(c):c}const i=new Ar("size");return i.xform=r,t.push(i),t.push(new Ar("timeCreated")),t.push(new Ar("updated")),t.push(new Ar("md5Hash",null,!0)),t.push(new Ar("cacheControl",null,!0)),t.push(new Ar("contentDisposition",null,!0)),t.push(new Ar("contentEncoding",null,!0)),t.push(new Ar("contentLanguage",null,!0)),t.push(new Ar("contentType",null,!0)),t.push(new Ar("metadata","customMetadata",!0)),rg=t,rg}function AQ(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new mi(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function TQ(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const c=n[s];r[c.local]=c.xform(r,e[c.server])}return AQ(r,t),r}function G4(t,e,n){const r=$4(e);return r===null?null:TQ(t,r,n)}function CQ(t,e,n,r){const i=$4(e);if(i===null||!wE(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const c=encodeURIComponent;return s.split(",").map(h=>{const p=t.bucket,g=t.fullPath,y="/b/"+c(p)+"/o/"+c(g),x=ky(y,n,r),E=q4({alt:"media",token:h});return x+E})[0]}function OQ(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class EE{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function K4(t){if(!t)throw _E()}function PQ(t,e){function n(r,i){const s=G4(t,i,e);return K4(s!==null),s}return n}function IQ(t,e){function n(r,i){const s=G4(t,i,e);return K4(s!==null),CQ(s,i,t.host,t._protocol)}return n}function Q4(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=HK():i=FK():n.getStatus()===402?i=$K(t.bucket):n.getStatus()===403?i=GK(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function W4(t){const e=Q4(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=BK(t.path)),s.serverResponse=i.serverResponse,s}return n}function RQ(t,e,n){const r=e.fullServerUrl(),i=ky(r,t.host,t._protocol),s="GET",c=t.maxOperationRetryTime,u=new EE(i,s,IQ(t,n),c);return u.errorHandler=W4(e),u}function kQ(t,e){const n=e.fullServerUrl(),r=ky(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function c(f,h){}const u=new EE(r,i,c,s);return u.successCodes=[200,204],u.errorHandler=W4(e),u}function DQ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function MQ(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=DQ(null,e)),r}function zQ(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function u(){let O="";for(let C=0;C<2;C++)O=O+Math.random().toString().slice(2);return O}const f=u();c["Content-Type"]="multipart/related; boundary="+f;const h=MQ(e,r,i),p=OQ(h,n),g="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+h.contentType+`\r
\r
`,y=`\r
--`+f+"--",x=Qo.getBlob(g,r,y);if(x===null)throw JK();const E={name:h.fullPath},w=ky(s,t.host,t._protocol),N="POST",A=t.maxUploadRetryTime,R=new EE(w,N,PQ(t,n),A);return R.urlParams=E,R.headers=c,R.body=x.uploadData(),R.errorHandler=Q4(e),R}class LQ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw Uf("cannot .send() more than once");if(bl(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const c in s)s.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,s[c].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Uf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Uf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Uf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Uf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class qQ extends LQ{initXhr(){this.xhr_.responseType="text"}}function NE(){return new qQ}class Nc{constructor(e,n){this._service=e,n instanceof mi?this._location=n:this._location=mi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Nc(e,n)}get root(){const e=new mi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return F4(this._location.path)}get storage(){return this._service}get parent(){const e=jQ(this._location.path);if(e===null)return null;const n=new mi(this._location.bucket,e);return new Nc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw tQ(e)}}function UQ(t,e,n){t._throwIfRoot("uploadBytes");const r=zQ(t.storage,t._location,H4(),new Qo(e,!0),n);return t.storage.makeRequestWithTokens(r,NE).then(i=>({metadata:i,ref:t}))}function VQ(t){t._throwIfRoot("getDownloadURL");const e=RQ(t.storage,t._location,H4());return t.storage.makeRequestWithTokens(e,NE).then(n=>{if(n===null)throw ZK();return n})}function BQ(t){t._throwIfRoot("deleteObject");const e=kQ(t.storage,t._location);return t.storage.makeRequestWithTokens(e,NE)}function $Q(t,e){const n=EQ(t._location.path,e),r=new mi(t._location.bucket,n);return new Nc(t.storage,r)}function FQ(t){return/^[A-Za-z]+:\/\//.test(t)}function HQ(t,e){return new Nc(t,e)}function Y4(t,e){if(t instanceof SE){const n=t;if(n._bucket==null)throw XK();const r=new Nc(n,n._bucket);return e!=null?Y4(r,e):r}else return e!==void 0?$Q(t,e):t}function GQ(t,e){if(e&&FQ(e)){if(t instanceof SE)return HQ(t,e);throw cw("To use ref(service, url), the first argument must be a Storage instance.")}else return Y4(t,e)}function OO(t,e){const n=e?.[z4];return n==null?null:mi.makeFromBucketSpec(n,t)}function KQ(t,e,n,r={}){t.host=`${e}:${n}`;const i=bl(e);i&&(_j(`https://${t.host}/b`),wj("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:pM(s,t.app.options.projectId))}class SE{constructor(e,n,r,i,s,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=c,this._bucket=null,this._host=M4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=UK,this._maxUploadRetryTime=VK,this._requests=new Set,i!=null?this._bucket=mi.makeFromBucketSpec(i,this._host):this._bucket=OO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=mi.makeFromBucketSpec(this._url,e):this._bucket=OO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){CO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){CO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Nc(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new nQ(L4());{const c=hQ(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const PO="@firebase/storage",IO="0.14.0";const X4="storage";function QQ(t,e,n){return t=Ft(t),UQ(t,e,n)}function WQ(t){return t=Ft(t),VQ(t)}function YQ(t){return t=Ft(t),BQ(t)}function RO(t,e){return t=Ft(t),GQ(t,e)}function XQ(t=Nj(),e){t=Ft(t);const r=fy(t,X4).getImmediate({identifier:e}),i=fM("storage");return i&&JQ(r,...i),r}function JQ(t,e,n,r={}){KQ(t,e,n,r)}function ZQ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new SE(n,r,i,e,Dc)}function eW(){bc(new sl(X4,ZQ,"PUBLIC").setMultipleInstances(!0)),Va(PO,IO,""),Va(PO,IO,"esm2020")}eW();const tW={apiKey:"AIzaSyDgk_1graNBFkIURTJnyLZTZ1nyxi7slUo",authDomain:"pedaclic.firebaseapp.com",projectId:"pedaclic",storageBucket:"pedaclic.firebasestorage.app",messagingSenderId:"863649621890",appId:"1:863649621890:web:6ab56a8c8db111e3a9119b"},AE=yM(tW),ig=xF(AE),Ee=AK(AE),kO=XQ(AE),DO={"auth/email-already-in-use":"Cette adresse email est dj utilise.","auth/invalid-email":"Adresse email invalide.","auth/operation-not-allowed":"Opration non autorise.","auth/weak-password":"Le mot de passe doit contenir au moins 6 caractres.","auth/user-disabled":"Ce compte a t dsactiv.","auth/user-not-found":"Aucun compte associ  cette adresse email.","auth/wrong-password":"Mot de passe incorrect.","auth/too-many-requests":"Trop de tentatives. Veuillez ressayer plus tard.","auth/network-request-failed":"Erreur de connexion. Vrifiez votre connexion internet.",default:"Une erreur est survenue. Veuillez ressayer."},MO=t=>DO[t]||DO.default,J4=j.createContext(null),nW=({children:t})=>{const[e,n]=j.useState(null),[r,i]=j.useState(!0),s=async y=>{try{const x=await Zr(Qe(Ee,"users",y));if(x.exists()){const E=x.data();return{uid:y,email:E.email,displayName:E.displayName,role:E.role,isPremium:E.isPremium||!1,subscriptionEnd:E.subscriptionEnd?.toDate()||null,photoURL:E.photoURL,createdAt:E.createdAt?.toDate()||new Date,lastLogin:E.lastLogin?.toDate()}}return null}catch(x){return console.error("Erreur lors de la rcupration des donnes utilisateur:",x),null}},c=async(y,x)=>{const E=Qe(Ee,"users",y.uid);(await Zr(E)).exists()?await an(E,{lastLogin:nn()}):await xE(E,{email:y.email,displayName:y.displayName||x?.displayName||"",role:x?.role||"eleve",isPremium:!1,photoURL:y.photoURL,createdAt:nn(),lastLogin:nn()})},u=async(y,x)=>{try{const E=await r$(ig,y,x);await c(E.user)}catch(E){throw new Error(MO(E.code))}},f=async y=>{try{if(y.password!==y.confirmPassword)throw new Error("Les mots de passe ne correspondent pas.");const x=await n$(ig,y.email,y.password);await a$(x.user,{displayName:y.displayName}),await c(x.user,{displayName:y.displayName,role:y.role})}catch(x){throw x.message?x:new Error(MO(x.code))}},h=async()=>{try{await c$(ig),n(null)}catch{throw new Error("Erreur lors de la dconnexion.")}},p=async y=>{if(!e)throw new Error("Aucun utilisateur connect.");try{const x=Qe(Ee,"users",e.uid);await an(x,{...y,updatedAt:nn()}),n(E=>E?{...E,...y}:null)}catch{throw new Error("Erreur lors de la mise  jour du profil.")}};j.useEffect(()=>{const y=l$(ig,async x=>{if(x){const E=await s(x.uid);n(E)}else n(null);i(!1)});return()=>y()},[]);const g={currentUser:e,loading:r,login:u,register:f,logout:h,updateProfile:p};return o.jsx(J4.Provider,{value:g,children:r?o.jsxs("div",{className:"loading-container",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Chargement..."})]}):t})},Vn=()=>{const t=j.useContext(J4);if(!t)throw new Error("useAuth doit tre utilis  l'intrieur d'un AuthProvider");return t},TE=({children:t,allowedRoles:e,requirePremium:n=!1})=>{const{currentUser:r,loading:i}=Vn();return i?o.jsxs("div",{className:"loading-container",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Vrification des autorisations..."})]}):r?e&&!e.includes(r.role)?o.jsxs("div",{className:"error-container",children:[o.jsx("h2",{children:"Accs non autoris"}),o.jsx("p",{children:"Vous n'avez pas les permissions ncessaires pour accder  cette page."}),o.jsx("a",{href:"/",className:"btn btn-primary",children:"Retour  l'accueil"})]}):n&&!r.isPremium?o.jsxs("div",{className:"error-container premium-required",children:[o.jsx("h2",{children:"Contenu Premium"}),o.jsx("p",{children:"Cette ressource est rserve aux abonns Premium."}),o.jsxs("div",{className:"premium-cta",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"2 000 FCFA/mois"})," ou ",o.jsx("strong",{children:"20 000 FCFA/an"})]}),o.jsx("a",{href:"/premium",className:"btn btn-premium",children:"Devenir Premium"})]})]}):o.jsx(o.Fragment,{children:t}):o.jsxs("div",{className:"error-container",children:[o.jsx("h2",{children:"Accs refus"}),o.jsx("p",{children:"Vous devez tre connect pour accder  cette page."}),o.jsx("a",{href:"/connexion",className:"btn btn-primary",children:"Se connecter"})]})},ws=({children:t})=>o.jsx(TE,{allowedRoles:["admin"],children:t}),rW=({children:t})=>o.jsx(TE,{allowedRoles:["admin","prof"],children:t});const iW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aW=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),zO=t=>{const e=aW(t);return e.charAt(0).toUpperCase()+e.slice(1)},Z4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),sW=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var oW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const lW=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:c,...u},f)=>j.createElement("svg",{ref:f,...oW,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Z4("lucide",i),...!s&&!sW(u)&&{"aria-hidden":"true"},...u},[...c.map(([h,p])=>j.createElement(h,p)),...Array.isArray(s)?s:[s]]));const De=(t,e)=>{const n=j.forwardRef(({className:r,...i},s)=>j.createElement(lW,{ref:s,iconNode:e,className:Z4(`lucide-${iW(zO(t))}`,`lucide-${t}`,r),...i}));return n.displayName=zO(t),n};const cW=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Gx=De("arrow-left",cW);const uW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],tc=De("arrow-right",uW);const dW=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ml=De("award",dW);const fW=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],oa=De("book-open",fW);const hW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Kx=De("calendar",hW);const mW=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],hc=De("chart-column",mW);const pW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],uv=De("chevron-down",pW);const gW=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],uw=De("chevron-up",gW);const vW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],dv=De("circle-alert",vW);const yW=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fn=De("circle-check-big",yW);const bW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mg=De("circle-question-mark",bW);const xW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],dw=De("circle-x",xW);const _W=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ld=De("clock",_W);const wW=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],jW=De("copy",wW);const EW=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],rh=De("crown",EW);const NW=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ju=De("eye",NW);const SW=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],AW=De("facebook",SW);const TW=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],CW=De("file-text",TW);const OW=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],CE=De("funnel",OW);const PW=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],cd=De("graduation-cap",PW);const IW=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],RW=De("grip-vertical",IW);const kW=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],DW=De("heart",kW);const MW=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],fw=De("house",MW);const zW=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],LW=De("instagram",zW);const qW=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],LO=De("layout-dashboard",qW);const UW=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],VW=De("linkedin",UW);const BW=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],hw=De("lock",BW);const $W=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],qO=De("log-out",$W);const FW=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],HW=De("mail",FW);const GW=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],KW=De("map-pin",GW);const QW=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],WW=De("menu",QW);const YW=[["path",{d:"M5 12h14",key:"1ays0h"}]],XW=De("minus",YW);const JW=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ZW=De("pen-line",JW);const eY=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],tY=De("phone",eY);const nY=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ph=De("play",nY);const rY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ag=De("plus",rY);const iY=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],aY=De("refresh-cw",iY);const sY=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],oY=De("rotate-ccw",sY);const lY=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cY=De("save",lY);const uY=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],eL=De("search",uY);const dY=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fY=De("settings",dY);const hY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],OE=De("shield",hY);const mY=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],pi=De("star",mY);const pY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Qx=De("target",pY);const gY=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],vY=De("timer",gY);const yY=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],UO=De("trash-2",yY);const bY=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],xY=De("trending-down",bY);const _Y=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ih=De("trending-up",_Y);const wY=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],tL=De("trophy",wY);const jY=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],EY=De("twitter",jY);const NY=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],SY=De("user-check",NY);const AY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],TY=De("user-x",AY);const CY=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],OY=De("user",CY);const PY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zg=De("users",PY);const IY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mc=De("x",IY);const RY=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],kY=De("youtube",RY);const DY=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],nL=De("zap",DY),MY=()=>{const{currentUser:t,logout:e,loading:n}=Vn(),r=kr(),i=yl(),[s,c]=j.useState(!1),[u,f]=j.useState(!1),[h,p]=j.useState(!1),g=j.useRef(null),y=[{path:"/",label:"Accueil",icon:o.jsx(fw,{size:18})},{path:"/disciplines",label:"Disciplines",icon:o.jsx(oa,{size:18})},{path:"/quiz",label:"Quiz",icon:o.jsx(cd,{size:18}),requireAuth:!0,requirePremium:!0},{path:t?.role==="eleve"?"/eleve/dashboard":t?.role==="prof"?"/prof/dashboard":"/admin",label:"Tableau de bord",icon:o.jsx(LO,{size:18}),requireAuth:!0},{path:"/parent/dashboard",label:"Espace Parent",icon:o.jsx(hc,{size:18}),requireAuth:!0,requireRole:["parent"]}];j.useEffect(()=>{const C=V=>{g.current&&!g.current.contains(V.target)&&f(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]),j.useEffect(()=>{c(!1),f(!1)},[i.pathname]),j.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]);const x=async()=>{try{p(!0),await e(),f(!1),r("/")}catch(C){console.error("Erreur lors de la dconnexion:",C)}finally{p(!1)}},E=()=>{c(!s)},w=()=>{f(!u)},N=C=>!(C.requireAuth&&!t||C.requirePremium&&t&&!t.isPremium||C.requireRole&&t&&!C.requireRole.includes(t.role)),A=C=>C==="/"?i.pathname==="/":i.pathname.startsWith(C),R=C=>({admin:"Administrateur",prof:"Professeur",eleve:"lve",parent:"Parent"})[C]||C,O=()=>t?t.displayName?t.displayName.split(" ").map(V=>V[0]).join("").toUpperCase().slice(0,2):t.email[0].toUpperCase():"?";return o.jsxs("header",{className:"header",children:[o.jsxs("div",{className:"header__container",children:[o.jsxs(nt,{to:"/",className:"header__logo",children:[o.jsx(cd,{className:"header__logo-icon",size:32}),o.jsxs("div",{className:"header__logo-text",children:[o.jsx("span",{className:"header__logo-name",children:"PedaClic"}),o.jsx("span",{className:"header__logo-tagline",children:"L'cole en un clic"})]})]}),o.jsx("nav",{className:"header__nav header__nav--desktop",children:o.jsx("ul",{className:"header__nav-list",children:y.map(C=>N(C)&&o.jsx("li",{className:"header__nav-item",children:o.jsxs(nt,{to:C.path,className:`header__nav-link ${A(C.path)?"header__nav-link--active":""}`,children:[C.icon,o.jsx("span",{children:C.label}),C.requirePremium&&o.jsx(rh,{size:14,className:"header__premium-badge"})]})},C.path))})}),o.jsxs("div",{className:"header__actions",children:[n?o.jsx("div",{className:"header__loading",children:o.jsx("div",{className:"header__spinner"})}):t?o.jsxs("div",{className:"header__user",ref:g,children:[t.isPremium&&o.jsxs("span",{className:"header__premium-tag",children:[o.jsx(rh,{size:14}),"Premium"]}),o.jsxs("button",{className:"header__user-button",onClick:w,"aria-expanded":u,"aria-haspopup":"true",children:[o.jsx("div",{className:"header__avatar",children:t.photoURL?o.jsx("img",{src:t.photoURL,alt:t.displayName||"Avatar",className:"header__avatar-img"}):o.jsx("span",{className:"header__avatar-initials",children:O()})}),o.jsx("span",{className:"header__user-name",children:t.displayName||t.email.split("@")[0]}),o.jsx(uv,{size:16,className:`header__chevron ${u?"header__chevron--open":""}`})]}),u&&o.jsxs("div",{className:"header__dropdown",children:[o.jsxs("div",{className:"header__dropdown-header",children:[o.jsx("p",{className:"header__dropdown-email",children:t.email}),o.jsx("span",{className:`header__dropdown-role header__dropdown-role--${t.role}`,children:R(t.role)})]}),o.jsx("div",{className:"header__dropdown-divider"}),o.jsxs("nav",{className:"header__dropdown-nav",children:[o.jsxs(nt,{to:t.role==="eleve"?"/eleve/dashboard":t.role==="prof"?"/prof/dashboard":"/admin",className:"header__dropdown-link",children:[o.jsx(LO,{size:18}),o.jsx("span",{children:"Tableau de bord"})]}),t.role==="eleve"&&o.jsxs(nt,{to:"/eleve/suivi",className:"header__dropdown-link",children:[o.jsx(hc,{size:18}),o.jsx("span",{children:"Mes points  amliorer"})]}),t.role==="parent"&&o.jsxs(nt,{to:"/parent/dashboard",className:"header__dropdown-link",children:[o.jsx(hc,{size:18}),o.jsx("span",{children:"Espace Parent"})]}),o.jsxs(nt,{to:"/profil",className:"header__dropdown-link",children:[o.jsx(OY,{size:18}),o.jsx("span",{children:"Mon profil"})]}),t.role==="admin"&&o.jsxs(nt,{to:"/admin",className:"header__dropdown-link",children:[o.jsx(fY,{size:18}),o.jsx("span",{children:"Administration"})]}),!t.isPremium&&o.jsxs(nt,{to:"/premium",className:"header__dropdown-link header__dropdown-link--premium",children:[o.jsx(rh,{size:18}),o.jsx("span",{children:"Passer Premium"})]})]}),o.jsx("div",{className:"header__dropdown-divider"}),o.jsxs("button",{className:"header__dropdown-logout",onClick:x,disabled:h,children:[o.jsx(qO,{size:18}),o.jsx("span",{children:h?"Dconnexion...":"Se dconnecter"})]})]})]}):o.jsxs("div",{className:"header__auth-buttons",children:[o.jsx(nt,{to:"/connexion",className:"header__btn header__btn--outline",children:"Connexion"}),o.jsx(nt,{to:"/inscription",className:"header__btn header__btn--primary",children:"S'inscrire"})]}),o.jsx("button",{className:"header__mobile-toggle",onClick:E,"aria-label":s?"Fermer le menu":"Ouvrir le menu","aria-expanded":s,children:s?o.jsx(mc,{size:24}):o.jsx(WW,{size:24})})]})]}),o.jsxs("div",{className:`header__mobile-menu ${s?"header__mobile-menu--open":""}`,children:[o.jsx("div",{className:"header__mobile-overlay",onClick:()=>c(!1)}),o.jsxs("div",{className:"header__mobile-content",children:[o.jsx("nav",{className:"header__mobile-nav",children:o.jsx("ul",{className:"header__mobile-list",children:y.map(C=>N(C)&&o.jsx("li",{className:"header__mobile-item",children:o.jsxs(nt,{to:C.path,className:`header__mobile-link ${A(C.path)?"header__mobile-link--active":""}`,children:[C.icon,o.jsx("span",{children:C.label}),C.requirePremium&&o.jsx(rh,{size:14,className:"header__premium-badge"})]})},C.path))})}),!t&&o.jsxs("div",{className:"header__mobile-auth",children:[o.jsx(nt,{to:"/connexion",className:"header__btn header__btn--outline header__btn--block",children:"Connexion"}),o.jsx(nt,{to:"/inscription",className:"header__btn header__btn--primary header__btn--block",children:"S'inscrire"})]}),t&&o.jsxs("div",{className:"header__mobile-user",children:[o.jsxs("div",{className:"header__mobile-user-info",children:[o.jsx("div",{className:"header__avatar header__avatar--large",children:t.photoURL?o.jsx("img",{src:t.photoURL,alt:t.displayName||"Avatar",className:"header__avatar-img"}):o.jsx("span",{className:"header__avatar-initials",children:O()})}),o.jsxs("div",{className:"header__mobile-user-details",children:[o.jsx("p",{className:"header__mobile-user-name",children:t.displayName||t.email.split("@")[0]}),o.jsx("p",{className:"header__mobile-user-email",children:t.email})]})]}),o.jsxs("button",{className:"header__mobile-logout",onClick:x,disabled:h,children:[o.jsx(qO,{size:18}),o.jsx("span",{children:h?"Dconnexion...":"Se dconnecter"})]})]})]})]})]})},zY=()=>{const t=new Date().getFullYear(),e=[{label:"Accueil",path:"/"},{label:"Disciplines",path:"/disciplines"},{label:"Quiz Premium",path:"/quiz"},{label:"Tarifs",path:"/premium"},{label:"Tableau de bord",path:"/dashboard"}],n=[{label:"Cours en ligne",path:"/disciplines"},{label:"Exercices corrigs",path:"/disciplines"},{label:"Annales examens",path:"/disciplines"},{label:"Fiches de rvision",path:"/disciplines"}],r=[{name:"Facebook",url:"https://facebook.com/pedaclic",icon:o.jsx(AW,{size:20})},{name:"Twitter",url:"https://twitter.com/pedaclic",icon:o.jsx(EY,{size:20})},{name:"Instagram",url:"https://instagram.com/pedaclic",icon:o.jsx(LW,{size:20})},{name:"LinkedIn",url:"https://linkedin.com/company/pedaclic",icon:o.jsx(VW,{size:20})},{name:"YouTube",url:"https://youtube.com/@pedaclic",icon:o.jsx(kY,{size:20})}];return o.jsxs("footer",{className:"footer",children:[o.jsx("div",{className:"footer__main",children:o.jsxs("div",{className:"footer__container",children:[o.jsxs("div",{className:"footer__column footer__column--about",children:[o.jsxs(nt,{to:"/",className:"footer__logo",children:[o.jsx(cd,{className:"footer__logo-icon",size:36}),o.jsxs("div",{className:"footer__logo-text",children:[o.jsx("span",{className:"footer__logo-name",children:"PedaClic"}),o.jsx("span",{className:"footer__logo-tagline",children:"L'cole en un clic"})]})]}),o.jsx("p",{className:"footer__description",children:"PedaClic est la plateforme ducative de rfrence au Sngal. Nous accompagnons les lves du collge au lyce avec des cours, exercices et quiz de qualit."}),o.jsxs("div",{className:"footer__stats",children:[o.jsxs("div",{className:"footer__stat",children:[o.jsx(oa,{size:18}),o.jsx("span",{children:"500+ cours"})]}),o.jsxs("div",{className:"footer__stat",children:[o.jsx(zg,{size:18}),o.jsx("span",{children:"10 000+ lves"})]})]})]}),o.jsxs("div",{className:"footer__column",children:[o.jsxs("h3",{className:"footer__title",children:[o.jsx("span",{className:"footer__title-icon",children:""}),"Plateforme"]}),o.jsx("nav",{className:"footer__nav",children:o.jsx("ul",{className:"footer__list",children:e.map((i,s)=>o.jsx("li",{className:"footer__item",children:o.jsx(nt,{to:i.path,className:"footer__link",children:i.label})},s))})})]}),o.jsxs("div",{className:"footer__column",children:[o.jsxs("h3",{className:"footer__title",children:[o.jsx("span",{className:"footer__title-icon",children:""}),"Ressources"]}),o.jsx("nav",{className:"footer__nav",children:o.jsx("ul",{className:"footer__list",children:n.map((i,s)=>o.jsx("li",{className:"footer__item",children:o.jsx(nt,{to:i.path,className:"footer__link",children:i.label})},s))})})]}),o.jsxs("div",{className:"footer__column",children:[o.jsxs("h3",{className:"footer__title",children:[o.jsx("span",{className:"footer__title-icon",children:""}),"Contact"]}),o.jsxs("div",{className:"footer__contact",children:[o.jsxs("a",{href:"mailto:contact@pedaclic.sn",className:"footer__contact-item",children:[o.jsx(HW,{size:16,className:"footer__contact-icon"}),o.jsx("span",{children:"contact@pedaclic.sn"})]}),o.jsxs("a",{href:"tel:+221770000000",className:"footer__contact-item",children:[o.jsx(tY,{size:16,className:"footer__contact-icon"}),o.jsx("span",{children:"+221 77 000 00 00"})]}),o.jsxs("div",{className:"footer__contact-item",children:[o.jsx(KW,{size:16,className:"footer__contact-icon"}),o.jsx("span",{children:"Dakar, Sngal"})]})]}),o.jsxs("div",{className:"footer__social",children:[o.jsx("h4",{className:"footer__social-title",children:"Suivez-nous"}),o.jsx("div",{className:"footer__social-links",children:r.map((i,s)=>o.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"footer__social-link",title:i.name,children:i.icon},s))})]})]})]})}),o.jsx("div",{className:"footer__bottom",children:o.jsxs("div",{className:"footer__container footer__bottom-content",children:[o.jsxs("p",{className:"footer__copyright",children:[" ",t," PedaClic. Tous droits rservs."]}),o.jsxs("p",{className:"footer__made-with",children:["Fait avec ",o.jsx(DW,{size:14,className:"footer__heart"})," au Sngal "]}),o.jsxs("nav",{className:"footer__legal",children:[o.jsxs(nt,{to:"/mentions-legales",className:"footer__legal-link",children:[o.jsx(CW,{size:14})," Mentions lgales"]}),o.jsxs(nt,{to:"/confidentialite",className:"footer__legal-link",children:[o.jsx(OE,{size:14})," Confidentialit"]}),o.jsxs(nt,{to:"/aide",className:"footer__legal-link",children:[o.jsx(Mg,{size:14})," Aide"]})]})]})})]})},Ia=({children:t,hideHeader:e=!1,hideFooter:n=!1,className:r=""})=>o.jsxs("div",{className:"layout",children:[!e&&o.jsx(MY,{}),o.jsx("main",{className:`layout__main ${e?"":"layout__main--with-header"} ${r}`,children:t}),!n&&o.jsx(zY,{})]}),LY=()=>{const{currentUser:t}=Vn();return o.jsxs("div",{className:"home-page",children:[o.jsxs("section",{className:"home-page__hero",children:[o.jsxs("div",{className:"home-page__hero-content",children:[o.jsxs("div",{className:"home-page__hero-badge",children:[o.jsx(pi,{size:14}),o.jsx("span",{children:"Plateforme N1 au Sngal"})]}),o.jsxs("h1",{className:"home-page__hero-title",children:["Russis tes examens avec",o.jsx("span",{className:"home-page__hero-highlight",children:" PedaClic"})]}),o.jsx("p",{className:"home-page__hero-subtitle",children:"La plateforme ducative qui accompagne les lves sngalais du collge au lyce avec des cours, exercices et quiz de qualit."}),o.jsx("div",{className:"home-page__hero-cta",children:t?o.jsxs(nt,{to:t.role==="eleve"?"/eleve/dashboard":t.role==="prof"?"/prof/dashboard":"/admin",className:"home-page__btn home-page__btn--primary",children:["  Accder  mon espace",o.jsx(tc,{size:20})]}):o.jsxs(o.Fragment,{children:[o.jsxs(nt,{to:"/register",className:"home-page__btn home-page__btn--primary",children:["Commencer gratuitement",o.jsx(tc,{size:20})]}),o.jsxs(nt,{to:"/disciplines",className:"home-page__btn home-page__btn--outline",children:[o.jsx(ph,{size:18}),"Dcouvrir les cours"]})]})}),o.jsxs("div",{className:"home-page__hero-stats",children:[o.jsxs("div",{className:"home-page__hero-stat",children:[o.jsx("strong",{children:"10 000+"}),o.jsx("span",{children:"lves inscrits"})]}),o.jsxs("div",{className:"home-page__hero-stat",children:[o.jsx("strong",{children:"500+"}),o.jsx("span",{children:"Cours disponibles"})]}),o.jsxs("div",{className:"home-page__hero-stat",children:[o.jsx("strong",{children:"95%"}),o.jsx("span",{children:"Taux de russite"})]})]})]}),o.jsx("div",{className:"home-page__hero-image",children:o.jsxs("div",{className:"home-page__hero-illustration",children:[o.jsx(cd,{size:120}),o.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--1",children:""}),o.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--2",children:""}),o.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--3",children:""})]})})]}),o.jsx("section",{className:"home-page__levels",children:o.jsxs("div",{className:"home-page__container",children:[o.jsx("h2",{className:"home-page__section-title",children:"Tous les niveaux, toutes les matires"}),o.jsx("p",{className:"home-page__section-subtitle",children:"Du collge au lyce, prpare tes examens avec confiance"}),o.jsxs("div",{className:"home-page__levels-grid",children:[o.jsxs(nt,{to:"/disciplines?niveau=college",className:"home-page__level-card",children:[o.jsx("div",{className:"home-page__level-icon home-page__level-icon--college",children:""}),o.jsx("h3",{children:"Collge"}),o.jsx("p",{children:"6me  3me"}),o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx(fn,{size:16})," Prparation au BFEM"]}),o.jsxs("li",{children:[o.jsx(fn,{size:16})," 9 matires disponibles"]}),o.jsxs("li",{children:[o.jsx(fn,{size:16})," Exercices corrigs"]})]}),o.jsxs("span",{className:"home-page__level-link",children:["Voir les cours ",o.jsx(tc,{size:16})]})]}),o.jsxs(nt,{to:"/disciplines?niveau=lycee",className:"home-page__level-card",children:[o.jsx("div",{className:"home-page__level-icon home-page__level-icon--lycee",children:""}),o.jsx("h3",{children:"Lyce"}),o.jsx("p",{children:"2nde  Terminale"}),o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx(fn,{size:16})," Prparation au BAC"]}),o.jsxs("li",{children:[o.jsx(fn,{size:16})," 12 matires disponibles"]}),o.jsxs("li",{children:[o.jsx(fn,{size:16})," Annales d'examens"]})]}),o.jsxs("span",{className:"home-page__level-link",children:["Voir les cours ",o.jsx(tc,{size:16})]})]})]})]})}),o.jsx("section",{className:"home-page__features",children:o.jsxs("div",{className:"home-page__container",children:[o.jsx("h2",{className:"home-page__section-title",children:"Pourquoi choisir PedaClic ?"}),o.jsx("p",{className:"home-page__section-subtitle",children:"Des outils modernes pour une ducation de qualit"}),o.jsxs("div",{className:"home-page__features-grid",children:[o.jsxs("div",{className:"home-page__feature-card",children:[o.jsx("div",{className:"home-page__feature-icon",children:o.jsx(oa,{size:28})}),o.jsx("h3",{children:"Cours complets"}),o.jsx("p",{children:"Des cours structurs et conformes au programme sngalais, rdigs par des enseignants expriments."})]}),o.jsxs("div",{className:"home-page__feature-card",children:[o.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--secondary",children:o.jsx(nL,{size:28})}),o.jsx("h3",{children:"Quiz interactifs"}),o.jsx("p",{children:"Testez vos connaissances avec des quiz adapts  chaque niveau et obtenez un feedback instantan."})]}),o.jsxs("div",{className:"home-page__feature-card",children:[o.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--warning",children:o.jsx(tL,{size:28})}),o.jsx("h3",{children:"Suivi de progression"}),o.jsx("p",{children:"Visualisez vos progrs et identifiez vos points faibles pour cibler vos rvisions."})]}),o.jsxs("div",{className:"home-page__feature-card",children:[o.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--success",children:o.jsx(OE,{size:28})}),o.jsx("h3",{children:"Contenu vrifi"}),o.jsx("p",{children:"Tous nos contenus sont valids par des professeurs certifis pour garantir leur qualit."})]}),o.jsxs("div",{className:"home-page__feature-card",children:[o.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--info",children:o.jsx(ld,{size:28})}),o.jsx("h3",{children:"Accessible 24/7"}),o.jsx("p",{children:"tudiez  votre rythme, o que vous soyez, sur ordinateur, tablette ou smartphone."})]}),o.jsxs("div",{className:"home-page__feature-card",children:[o.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--premium",children:o.jsx(ml,{size:28})}),o.jsx("h3",{children:"Certificats"}),o.jsx("p",{children:"Obtenez des certificats de russite pour valoriser vos comptences acquises."})]})]})]})}),o.jsx("section",{className:"home-page__premium",children:o.jsx("div",{className:"home-page__container",children:o.jsxs("div",{className:"home-page__premium-content",children:[o.jsxs("div",{className:"home-page__premium-text",children:[o.jsx("span",{className:"home-page__premium-badge",children:" Premium"}),o.jsx("h2",{children:"Passez  la vitesse suprieure"}),o.jsxs("p",{children:["Accdez  tous les quiz, exercices corrigs et ressources exclusives pour seulement ",o.jsx("strong",{children:"2 000 FCFA/mois"}),"."]}),o.jsxs("ul",{className:"home-page__premium-features",children:[o.jsxs("li",{children:[o.jsx(fn,{size:18})," Quiz illimits dans toutes les matires"]}),o.jsxs("li",{children:[o.jsx(fn,{size:18})," Corrections dtailles des exercices"]}),o.jsxs("li",{children:[o.jsx(fn,{size:18})," Annales des examens (BFEM, BAC)"]}),o.jsxs("li",{children:[o.jsx(fn,{size:18})," Support prioritaire"]})]}),o.jsxs(nt,{to:"/premium",className:"home-page__btn home-page__btn--premium",children:["Dcouvrir Premium",o.jsx(tc,{size:20})]})]}),o.jsx("div",{className:"home-page__premium-pricing",children:o.jsxs("div",{className:"home-page__pricing-card",children:[o.jsx("span",{className:"home-page__pricing-popular",children:"Plus populaire"}),o.jsx("h3",{children:"Abonnement Annuel"}),o.jsxs("div",{className:"home-page__pricing-price",children:[o.jsx("span",{className:"home-page__pricing-amount",children:"20 000"}),o.jsx("span",{className:"home-page__pricing-currency",children:"FCFA"}),o.jsx("span",{className:"home-page__pricing-period",children:"/an"})]}),o.jsx("p",{className:"home-page__pricing-save",children:"conomisez 4 000 FCFA vs mensuel"}),o.jsx(nt,{to:"/premium",className:"home-page__btn home-page__btn--primary home-page__btn--block",children:"Choisir ce plan"})]})})]})})}),o.jsx("section",{className:"home-page__testimonials",children:o.jsxs("div",{className:"home-page__container",children:[o.jsx("h2",{className:"home-page__section-title",children:"Ce qu'en disent nos lves"}),o.jsxs("div",{className:"home-page__testimonials-grid",children:[o.jsxs("div",{className:"home-page__testimonial-card",children:[o.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>o.jsx(pi,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),o.jsx("p",{className:"home-page__testimonial-text",children:`"Grce  PedaClic, j'ai obtenu mon BFEM avec mention. Les quiz m'ont vraiment aid  me prparer !"`}),o.jsxs("div",{className:"home-page__testimonial-author",children:[o.jsx("div",{className:"home-page__testimonial-avatar",children:"FA"}),o.jsxs("div",{children:[o.jsx("strong",{children:"Fatou Adara"}),o.jsx("span",{children:"lve en 3me - Dakar"})]})]})]}),o.jsxs("div",{className:"home-page__testimonial-card",children:[o.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>o.jsx(pi,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),o.jsx("p",{className:"home-page__testimonial-text",children:`"Les cours de maths sont trs bien expliqus. J'ai enfin compris les quations du second degr !"`}),o.jsxs("div",{className:"home-page__testimonial-author",children:[o.jsx("div",{className:"home-page__testimonial-avatar",children:"MD"}),o.jsxs("div",{children:[o.jsx("strong",{children:"Moussa Diallo"}),o.jsx("span",{children:"lve en Terminale S - This"})]})]})]}),o.jsxs("div",{className:"home-page__testimonial-card",children:[o.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>o.jsx(pi,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),o.jsx("p",{className:"home-page__testimonial-text",children:`"Je recommande PedaClic  tous les parents. Ma fille a beaucoup progress depuis qu'elle l'utilise."`}),o.jsxs("div",{className:"home-page__testimonial-author",children:[o.jsx("div",{className:"home-page__testimonial-avatar",children:"AN"}),o.jsxs("div",{children:[o.jsx("strong",{children:"Aminata Ndiaye"}),o.jsx("span",{children:"Parent d'lve - Saint-Louis"})]})]})]})]})]})}),o.jsx("section",{className:"home-page__final-cta",children:o.jsxs("div",{className:"home-page__container",children:[o.jsx("h2",{children:"Prt  russir ?"}),o.jsx("p",{children:"Rejoignez les milliers d'lves qui font confiance  PedaClic"}),!t&&o.jsxs(nt,{to:"/register",className:"home-page__btn home-page__btn--large",children:["Crer mon compte gratuit",o.jsx(tc,{size:24})]})]})})]})},qY=()=>{const{login:t}=Vn(),e=kr(),r=yl().state?.from||"/",[i,s]=j.useState({email:"",password:""}),[c,u]=j.useState(!1),[f,h]=j.useState(""),[p,g]=j.useState(!1),y=w=>{const{name:N,value:A}=w.target;s(R=>({...R,[N]:A})),f&&h("")},x=()=>i.email.trim()?i.password?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)?!0:(h("Veuillez entrer une adresse email valide."),!1):(h("Veuillez entrer votre mot de passe."),!1):(h("Veuillez entrer votre adresse email."),!1),E=async w=>{if(w.preventDefault(),!!x()){u(!0),h("");try{await t(i.email,i.password),e(r,{replace:!0})}catch(N){N instanceof Error?h(N.message):h("Une erreur est survenue lors de la connexion.")}finally{u(!1)}}};return o.jsx("div",{className:"auth-page",children:o.jsxs("div",{className:"auth-container",children:[o.jsxs("div",{className:"auth-card",children:[o.jsxs("div",{className:"auth-header",children:[o.jsxs(nt,{to:"/",className:"auth-logo",children:[o.jsx("div",{className:"auth-logo__icon",children:o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),o.jsx("span",{children:"PedaClic"})]}),o.jsx("h1",{className:"auth-title",children:"Connexion"}),o.jsx("p",{className:"auth-subtitle",children:"Accdez  votre espace d'apprentissage"})]}),f&&o.jsxs("div",{className:"auth-error",children:[o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("path",{d:"M12 8v4M12 16h.01"})]}),o.jsx("span",{children:f})]}),o.jsxs("form",{onSubmit:E,className:"auth-form",children:[o.jsxs("div",{className:"auth-field",children:[o.jsx("label",{htmlFor:"email",className:"auth-label",children:"Adresse email"}),o.jsxs("div",{className:"auth-input-wrapper",children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),o.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:y,placeholder:"exemple@email.com",className:"auth-input",autoComplete:"email",disabled:c})]})]}),o.jsxs("div",{className:"auth-field",children:[o.jsx("label",{htmlFor:"password",className:"auth-label",children:"Mot de passe"}),o.jsxs("div",{className:"auth-input-wrapper",children:[o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:[o.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",strokeWidth:"2"}),o.jsx("path",{strokeWidth:"2",d:"M7 11V7a5 5 0 0110 0v4"})]}),o.jsx("input",{type:p?"text":"password",id:"password",name:"password",value:i.password,onChange:y,placeholder:"Votre mot de passe",className:"auth-input",autoComplete:"current-password",disabled:c}),o.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>g(!p),"aria-label":p?"Masquer le mot de passe":"Afficher le mot de passe",children:p?o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),o.jsx("div",{className:"auth-forgot",children:o.jsx(nt,{to:"/mot-de-passe-oublie",className:"auth-forgot-link",children:"Mot de passe oubli ?"})}),o.jsx("button",{type:"submit",className:"auth-button",disabled:c,children:c?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"auth-button-spinner"}),"Connexion en cours..."]}):"Se connecter"})]}),o.jsx("div",{className:"auth-divider",children:o.jsx("span",{children:"ou"})}),o.jsxs("p",{className:"auth-switch",children:["Pas encore de compte ?"," ",o.jsx(nt,{to:"/inscription",className:"auth-switch-link",children:"Crer un compte"})]})]}),o.jsxs("div",{className:"auth-welcome",children:[o.jsx("h2",{children:"Bienvenue sur PedaClic !"}),o.jsx("p",{children:"L'cole en un clic - Accdez  des milliers de cours, exercices et quiz."}),o.jsxs("ul",{className:"auth-features",children:[o.jsxs("li",{children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Cours du programme sngalais"]}),o.jsxs("li",{children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Exercices interactifs"]}),o.jsxs("li",{children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quiz pour tester vos connaissances"]}),o.jsxs("li",{children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Suivi de progression"]})]})]})]})})},UY=()=>{const{register:t}=Vn(),e=kr(),[n,r]=j.useState({email:"",password:"",confirmPassword:"",displayName:"",role:"eleve"}),[i,s]=j.useState(!1),[c,u]=j.useState(""),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[y,x]=j.useState(!1),E=A=>{const{name:R,value:O}=A.target;r(C=>({...C,[R]:O})),c&&u("")},w=()=>n.displayName.trim()?n.displayName.trim().length<2?(u("Le nom doit contenir au moins 2 caractres."),!1):n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?n.password?n.password.length<6?(u("Le mot de passe doit contenir au moins 6 caractres."),!1):n.password!==n.confirmPassword?(u("Les mots de passe ne correspondent pas."),!1):y?!0:(u("Veuillez accepter les conditions d'utilisation."),!1):(u("Veuillez entrer un mot de passe."),!1):(u("Veuillez entrer une adresse email valide."),!1):(u("Veuillez entrer votre adresse email."),!1):(u("Veuillez entrer votre nom complet."),!1),N=async A=>{if(A.preventDefault(),!!w()){s(!0),u("");try{await t(n),e("/disciplines",{replace:!0})}catch(R){R instanceof Error?u(R.message):u("Une erreur est survenue lors de l'inscription.")}finally{s(!1)}}};return o.jsx("div",{className:"auth-page",children:o.jsxs("div",{className:"auth-container",children:[o.jsxs("div",{className:"auth-card auth-card--register",children:[o.jsxs("div",{className:"auth-header",children:[o.jsxs(nt,{to:"/",className:"auth-logo",children:[o.jsx("div",{className:"auth-logo__icon",children:o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),o.jsx("span",{children:"PedaClic"})]}),o.jsx("h1",{className:"auth-title",children:"Crer un compte"}),o.jsx("p",{className:"auth-subtitle",children:"Rejoignez PedaClic et commencez  apprendre"})]}),c&&o.jsxs("div",{className:"auth-error",children:[o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("path",{d:"M12 8v4M12 16h.01"})]}),o.jsx("span",{children:c})]}),o.jsxs("form",{onSubmit:N,className:"auth-form",children:[o.jsxs("div",{className:"auth-field",children:[o.jsx("label",{htmlFor:"displayName",className:"auth-label",children:"Nom complet"}),o.jsxs("div",{className:"auth-input-wrapper",children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),o.jsx("input",{type:"text",id:"displayName",name:"displayName",value:n.displayName,onChange:E,placeholder:"Amadou Diallo",className:"auth-input",autoComplete:"name",disabled:i})]})]}),o.jsxs("div",{className:"auth-field",children:[o.jsx("label",{htmlFor:"email",className:"auth-label",children:"Adresse email"}),o.jsxs("div",{className:"auth-input-wrapper",children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),o.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:E,placeholder:"exemple@email.com",className:"auth-input",autoComplete:"email",disabled:i})]})]}),o.jsxs("div",{className:"auth-field",children:[o.jsx("label",{className:"auth-label",children:"Je suis :"}),o.jsxs("div",{className:"auth-role-selector",children:[o.jsxs("label",{className:`auth-role-option ${n.role==="eleve"?"auth-role-option--selected":""}`,children:[o.jsx("input",{type:"radio",name:"role",value:"eleve",checked:n.role==="eleve",onChange:E,className:"auth-role-input",disabled:i}),o.jsxs("div",{className:"auth-role-content",children:[o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l9-5-9-5-9 5 9 5z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"})]}),o.jsx("span",{children:"lve"})]})]}),o.jsxs("label",{className:`auth-role-option ${n.role==="prof"?"auth-role-option--selected":""}`,children:[o.jsx("input",{type:"radio",name:"role",value:"prof",checked:n.role==="prof",onChange:E,className:"auth-role-input",disabled:i}),o.jsxs("div",{className:"auth-role-content",children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),o.jsx("span",{children:"Professeur"})]})]}),o.jsxs("label",{className:`auth-role-option ${n.role==="parent"?"auth-role-option--selected":""}`,children:[o.jsx("input",{type:"radio",name:"role",value:"parent",checked:n.role==="parent",onChange:E,className:"auth-role-input",disabled:i}),o.jsxs("div",{className:"auth-role-content",children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),o.jsx("span",{children:"Parent d'lve"})]})]})]})]}),o.jsxs("div",{className:"auth-field",children:[o.jsx("label",{htmlFor:"password",className:"auth-label",children:"Mot de passe"}),o.jsxs("div",{className:"auth-input-wrapper",children:[o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:[o.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",strokeWidth:"2"}),o.jsx("path",{strokeWidth:"2",d:"M7 11V7a5 5 0 0110 0v4"})]}),o.jsx("input",{type:f?"text":"password",id:"password",name:"password",value:n.password,onChange:E,placeholder:"Minimum 6 caractres",className:"auth-input",autoComplete:"new-password",disabled:i}),o.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>h(!f),"aria-label":f?"Masquer":"Afficher",children:f?o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),o.jsx("p",{className:"auth-hint",children:"Au moins 6 caractres avec des lettres et des chiffres"})]}),o.jsxs("div",{className:"auth-field",children:[o.jsx("label",{htmlFor:"confirmPassword",className:"auth-label",children:"Confirmer le mot de passe"}),o.jsxs("div",{className:"auth-input-wrapper",children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),o.jsx("input",{type:p?"text":"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:E,placeholder:"Retapez votre mot de passe",className:"auth-input",autoComplete:"new-password",disabled:i}),o.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>g(!p),"aria-label":p?"Masquer":"Afficher",children:p?o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),o.jsx("div",{className:"auth-checkbox-field",children:o.jsxs("label",{className:"auth-checkbox-label",children:[o.jsx("input",{type:"checkbox",checked:y,onChange:A=>x(A.target.checked),className:"auth-checkbox",disabled:i}),o.jsx("span",{className:"auth-checkbox-custom"}),o.jsxs("span",{children:["J'accepte les"," ",o.jsx(nt,{to:"/cgu",target:"_blank",className:"auth-link",children:"conditions d'utilisation"})," ","et la"," ",o.jsx(nt,{to:"/confidentialite",target:"_blank",className:"auth-link",children:"politique de confidentialit"})]})]})}),o.jsx("button",{type:"submit",className:"auth-button",disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"auth-button-spinner"}),"Cration du compte..."]}):"Crer mon compte"})]}),o.jsx("div",{className:"auth-divider",children:o.jsx("span",{children:"ou"})}),o.jsxs("p",{className:"auth-switch",children:["Dj un compte ?"," ",o.jsx(nt,{to:"/connexion",className:"auth-switch-link",children:"Se connecter"})]})]}),o.jsxs("div",{className:"auth-welcome auth-welcome--register",children:[o.jsx("h2",{children:"Rejoignez la communaut PedaClic"}),o.jsx("p",{children:"Des milliers d'lves et professeurs sngalais nous font dj confiance."}),o.jsxs("div",{className:"auth-stats",children:[o.jsxs("div",{className:"auth-stat",children:[o.jsx("span",{className:"auth-stat-number",children:"10 000+"}),o.jsx("span",{className:"auth-stat-label",children:"lves inscrits"})]}),o.jsxs("div",{className:"auth-stat",children:[o.jsx("span",{className:"auth-stat-number",children:"500+"}),o.jsx("span",{className:"auth-stat-label",children:"Cours disponibles"})]}),o.jsxs("div",{className:"auth-stat",children:[o.jsx("span",{className:"auth-stat-number",children:"95%"}),o.jsx("span",{className:"auth-stat-label",children:"Taux de satisfaction"})]})]}),o.jsxs("div",{className:"auth-testimonial",children:[o.jsx("p",{className:"auth-testimonial-text",children:`"Grce  PedaClic, j'ai amlior mes notes en mathmatiques de 4 points !"`}),o.jsx("p",{className:"auth-testimonial-author",children:" Fatou N., lve de 3me  Dakar"})]})]})]})})},rL=[{value:"6eme",label:"6me"},{value:"5eme",label:"5me"},{value:"4eme",label:"4me"},{value:"3eme",label:"3me"}],iL=[{value:"2nde",label:"2nde"},{value:"1ere",label:"1re"},{value:"Terminale",label:"Terminale"}],aL=[{value:"debutant",label:"Dbutant"},{value:"intermediaire",label:"Intermdiaire"},{value:"avance",label:"Avanc"}],sL={college:"Collge",lycee:"Lyce",formation_libre:"Formation libre"};function VO(t){switch(t){case"college":return rL;case"lycee":return iL;case"formation_libre":return aL;default:return[]}}function oL(t){return[...rL,...iL,...aL].find(n=>n.value===t)?.label||t}const BO=[{niveau:"college",icon:"",label:"Collge",color:"#2b6cb0",bgLight:"#ebf8ff"},{niveau:"lycee",icon:"",label:"Lyce",color:"#975a16",bgLight:"#fefcbf"},{niveau:"formation_libre",icon:"",label:"Formation libre",color:"#276749",bgLight:"#f0fff4"}],VY=()=>{const[t,e]=j.useState("college"),[n,r]=j.useState([]),[i,s]=j.useState(!0),c=kr();j.useEffect(()=>{const h=Nt(rt(Ee,"disciplines"),jr("ordre")),p=k4(h,g=>{const y=g.docs.map(x=>({id:x.id,...x.data(),createdAt:x.data().createdAt?.toDate()||new Date,updatedAt:x.data().updatedAt?.toDate()||new Date}));r(y),s(!1)});return()=>p()},[]);const u=n.filter(h=>h.niveau===t),f=BO.find(h=>h.niveau===t);return o.jsxs("div",{style:{maxWidth:"1100px",margin:"0 auto",padding:"24px"},children:[o.jsxs("div",{style:{marginBottom:"32px",textAlign:"center"},children:[o.jsx("h1",{style:{fontSize:"1.8rem",fontWeight:700,color:"#1a365d",marginBottom:"8px"},children:" Disciplines"}),o.jsx("p",{style:{color:"#718096",fontSize:"1rem"},children:"Explorez les disciplines disponibles sur PedaClic"})]}),o.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"12px",marginBottom:"32px",flexWrap:"wrap"},children:BO.map(h=>{const p=t===h.niveau;return o.jsxs("button",{onClick:()=>e(h.niveau),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 28px",borderRadius:"12px",border:`2px solid ${p?h.color:"#e2e8f0"}`,background:p?h.bgLight:"#fff",color:p?h.color:"#718096",fontSize:"1rem",fontWeight:p?700:500,cursor:"pointer",transition:"all 0.25s ease",boxShadow:p?`0 2px 8px ${h.color}20`:"none"},children:[o.jsx("span",{style:{fontSize:"1.2rem"},children:h.icon}),h.label]},h.niveau)})}),i&&o.jsx("div",{style:{textAlign:"center",padding:"48px",color:"#a0aec0"},children:"Chargement des disciplines..."}),!i&&u.length===0&&o.jsxs("div",{style:{textAlign:"center",padding:"48px",background:"#f7fafc",borderRadius:"12px",border:"1px dashed #e2e8f0"},children:[o.jsx("p",{style:{fontSize:"2rem",marginBottom:"8px"},children:""}),o.jsxs("p",{style:{color:"#a0aec0",fontSize:"1rem"},children:["Aucune discipline disponible en ",sL[t]," pour le moment."]})]}),!i&&u.length>0&&o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:u.map(h=>o.jsxs("div",{onClick:()=>c(`/disciplines/${h.id}`),style:{background:"#fff",borderRadius:"12px",padding:"24px",border:"1px solid #e2e8f0",boxShadow:"0 2px 6px rgba(0,0,0,0.05)",cursor:"pointer",transition:"all 0.2s ease",borderTop:`3px solid ${h.couleur||f.color}`},onMouseEnter:p=>{p.currentTarget.style.transform="translateY(-2px)",p.currentTarget.style.boxShadow="0 6px 16px rgba(0,0,0,0.1)"},onMouseLeave:p=>{p.currentTarget.style.transform="translateY(0)",p.currentTarget.style.boxShadow="0 2px 6px rgba(0,0,0,0.05)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[o.jsx("span",{style:{fontSize:"1.8rem"},children:h.icone||""}),o.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:600,color:"#2d3748",margin:0},children:h.nom})]}),h.description&&o.jsx("p",{style:{fontSize:"0.875rem",color:"#718096",marginBottom:"12px",lineHeight:1.5},children:h.description.length>100?`${h.description.slice(0,100)}...`:h.description}),o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginBottom:"8px"},children:o.jsx("span",{style:{display:"inline-block",padding:"2px 10px",borderRadius:"10px",fontSize:"0.75rem",fontWeight:500,background:f.bgLight,color:f.color},children:oL(h.classe)})}),h.coefficient!==void 0&&o.jsxs("p",{style:{fontSize:"0.8rem",color:"#a0aec0"},children:["Coefficient : ",h.coefficient]})]},h.id))})]})},Vf="disciplines",$O=t=>{const e=t.data();return{id:t.id,nom:e.nom,niveau:e.niveau,classe:e.classe,ordre:e.ordre,coefficient:e.coefficient,couleur:e.couleur,icone:e.icone,description:e.description,createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()}},qc={async getAll(t){try{const e=[jr("ordre","asc")];t?.niveau&&e.unshift(it("niveau","==",t.niveau)),t?.classe&&e.unshift(it("classe","==",t.classe));const n=Nt(rt(Ee,Vf),...e);return(await St(n)).docs.map($O)}catch(e){throw console.error("Erreur lors de la rcupration des disciplines:",e),new Error("Impossible de rcuprer les disciplines")}},async getById(t){try{const e=Qe(Ee,Vf,t),n=await Zr(e);return n.exists()?$O(n):null}catch(e){throw console.error("Erreur lors de la rcupration de la discipline:",e),new Error("Impossible de rcuprer la discipline")}},async getByNiveau(t){return this.getAll({niveau:t})},async getByClasse(t){return this.getAll({classe:t})},async create(t){try{return(await Bi(rt(Ee,Vf),{...t,createdAt:nn(),updatedAt:nn()})).id}catch(e){throw console.error("Erreur lors de la cration de la discipline:",e),new Error("Impossible de crer la discipline")}},async update(t,e){try{const n=Qe(Ee,Vf,t);await an(n,{...e,updatedAt:nn()})}catch(n){throw console.error("Erreur lors de la mise  jour de la discipline:",n),new Error("Impossible de mettre  jour la discipline")}},async delete(t){try{const e=Qe(Ee,Vf,t);await Ad(e)}catch(e){throw console.error("Erreur lors de la suppression de la discipline:",e),new Error("Impossible de supprimer la discipline")}},async exists(t){return await this.getById(t)!==null},async countByNiveau(t){return(await this.getByNiveau(t)).length}},Jl="ressources",BY="ressources",FO=t=>{const e=t.data();return{id:t.id,disciplineId:e.disciplineId,titre:e.titre,type:e.type,contenu:e.contenu,description:e.description,isPremium:e.isPremium||!1,ordre:e.ordre||0,chapitre:e.chapitre,fichierURL:e.fichierURL,dureeEstimee:e.dureeEstimee,tags:e.tags||[],auteurId:e.auteurId,createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()}},$Y=t=>{const e=Date.now(),n=t.split(".").pop();return`${t.replace(/\.[^/.]+$/,"").replace(/[^a-zA-Z0-9]/g,"_")}_${e}.${n}`},Es={async getAll(t,e){try{const n=[jr("ordre","asc")];t?.disciplineId&&n.unshift(it("disciplineId","==",t.disciplineId)),t?.chapitreId&&n.unshift(it("chapitre","==",t.chapitreId)),t?.type&&n.unshift(it("type","==",t.type)),t?.isPremium!==void 0&&n.unshift(it("isPremium","==",t.isPremium)),t?.auteurId&&n.unshift(it("auteurId","==",t.auteurId)),e&&n.push(hl(e));const r=Nt(rt(Ee,Jl),...n);return(await St(r)).docs.map(FO)}catch(n){throw console.error("Erreur lors de la rcupration des ressources:",n),new Error("Impossible de rcuprer les ressources")}},async getById(t){try{const e=Qe(Ee,Jl,t),n=await Zr(e);return n.exists()?FO(n):null}catch(e){throw console.error("Erreur lors de la rcupration de la ressource:",e),new Error("Impossible de rcuprer la ressource")}},async getByDiscipline(t){return this.getAll({disciplineId:t})},async getByChapitre(t){return this.getAll({chapitreId:t})},async getByType(t){return this.getAll({type:t})},async getPremium(){return this.getAll({isPremium:!0})},async getFree(){return this.getAll({isPremium:!1})},async create(t,e){try{return(await Bi(rt(Ee,Jl),{...t,auteurId:e,createdAt:nn(),updatedAt:nn()})).id}catch(n){throw console.error("Erreur lors de la cration de la ressource:",n),new Error("Impossible de crer la ressource")}},async update(t,e){try{const n=Qe(Ee,Jl,t);await an(n,{...e,updatedAt:nn()})}catch(n){throw console.error("Erreur lors de la mise  jour de la ressource:",n),new Error("Impossible de mettre  jour la ressource")}},async delete(t){try{const e=await this.getById(t);e?.fichierURL&&await this.deleteFile(e.fichierURL);const n=Qe(Ee,Jl,t);await Ad(n)}catch(e){throw console.error("Erreur lors de la suppression de la ressource:",e),new Error("Impossible de supprimer la ressource")}},async deleteByDiscipline(t){try{const e=await this.getByDiscipline(t),n=Oh(Ee);for(const r of e){r.fichierURL&&await this.deleteFile(r.fichierURL);const i=Qe(Ee,Jl,r.id);n.delete(i)}await n.commit()}catch(e){throw console.error("Erreur lors de la suppression des ressources:",e),new Error("Impossible de supprimer les ressources")}},async uploadFile(t,e){try{const n=$Y(t.name),r=`${BY}/${e}/${n}`,i=RO(kO,r);return await QQ(i,t),await WQ(i)}catch(n){throw console.error("Erreur lors de l'upload du fichier:",n),new Error("Impossible d'uploader le fichier")}},async deleteFile(t){try{const e=RO(kO,t);await YQ(e)}catch(e){console.warn("Fichier non trouv ou dj supprim:",e)}},async reorder(t,e){try{const n=Oh(Ee);e.forEach((r,i)=>{const s=Qe(Ee,Jl,r);n.update(s,{ordre:i+1,updatedAt:nn()})}),await n.commit()}catch(n){throw console.error("Erreur lors de la rorganisation des ressources:",n),new Error("Impossible de rorganiser les ressources")}},async togglePremium(t,e){await this.update(t,{isPremium:e})},async countByType(t){return(await this.getByType(t)).length},async getStats(){try{const t=await this.getAll(),e={total:t.length,premium:t.filter(n=>n.isPremium).length,gratuit:t.filter(n=>!n.isPremium).length,parType:{cours:0,exercice:0,video:0,document:0,quiz:0}};return t.forEach(n=>{e.parType[n.type]!==void 0&&e.parType[n.type]++}),e}catch(t){throw console.error("Erreur lors du calcul des statistiques:",t),new Error("Impossible de calculer les statistiques")}}},FY=()=>{const{id:t}=uy(),e=kr(),[n,r]=j.useState(null),[i,s]=j.useState([]),[c,u]=j.useState([]),[f,h]=j.useState(!0),[p,g]=j.useState(null),[y,x]=j.useState("tous"),[E,w]=j.useState(new Set),N=j.useCallback(async()=>{if(t)try{h(!0),g(null);const k=await qc.getById(t);if(!k){g("Discipline introuvable."),h(!1);return}r(k);const q=await Es.getAll({disciplineId:t}),L=new Map,M=[];for(const X of q){const Q=X.chapitre||X.chapitreId;Q?(L.has(Q)||L.set(Q,[]),L.get(Q).push(X)):M.push(X)}const U=Array.from(L.entries()).map(([X,Q])=>({chapitreNom:X,ressources:Q.sort((H,ce)=>H.ordre-ce.ordre)})).sort((X,Q)=>X.chapitreNom.localeCompare(Q.chapitreNom,"fr"));s(U),u(M),U.length>0&&w(new Set([U[0].chapitreNom]))}catch(k){console.error("Erreur chargement discipline:",k),g("Impossible de charger les donnes. Ressayez plus tard.")}finally{h(!1)}},[t]);j.useEffect(()=>{N()},[N]);const A=k=>{w(q=>{const L=new Set(q);return L.has(k)?L.delete(k):L.add(k),L})},R=k=>y==="tous"?k:k.filter(q=>q.type===y),O=k=>{switch(k){case"cours":return"";case"exercice":return"";case"video":return"";case"document":return"";case"quiz":return"";default:return""}},C=k=>{switch(k){case"cours":return"Cours";case"exercice":return"Exercice";case"video":return"Vido";case"document":return"Document";case"quiz":return"Quiz";default:return k}},V=k=>{switch(k){case"cours":return"#3b82f6";case"exercice":return"#10b981";case"video":return"#f59e0b";case"document":return"#8b5cf6";case"quiz":return"#ef4444";default:return"#6b7280"}},$=k=>k==="college"?"Collge":"Lyce";if(f)return o.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"4rem 1rem",minHeight:"50vh"},children:[o.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTopColor:"#2563eb",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),o.jsx("p",{style:{marginTop:"1rem",color:"#6b7280"},children:"Chargement de la discipline..."}),o.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]});if(p||!n)return o.jsxs("div",{style:{maxWidth:"600px",margin:"3rem auto",padding:"2rem",textAlign:"center",background:"#fef2f2",borderRadius:"12px",border:"1px solid #fecaca"},children:[o.jsx("span",{style:{fontSize:"3rem"},children:""}),o.jsx("h2",{style:{color:"#991b1b",margin:"1rem 0 0.5rem"},children:p||"Discipline introuvable"}),o.jsx("p",{style:{color:"#b91c1c",marginBottom:"1.5rem"},children:"Vrifiez le lien ou retournez  la liste des disciplines."}),o.jsx("button",{onClick:()=>e("/disciplines"),style:{padding:"0.75rem 1.5rem",background:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:600},children:" Retour aux disciplines"})]});const D=[...i.flatMap(k=>k.ressources),...c],I=[...new Set(D.map(k=>k.type))];return o.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"1.5rem 1rem"},children:[o.jsxs("nav",{style:{marginBottom:"1.5rem",fontSize:"0.875rem",color:"#6b7280"},children:[o.jsx(nt,{to:"/",style:{color:"#2563eb",textDecoration:"none"},children:"Accueil"}),o.jsx("span",{style:{margin:"0 0.5rem"},children:"/"}),o.jsx(nt,{to:"/disciplines",style:{color:"#2563eb",textDecoration:"none"},children:"Disciplines"}),o.jsx("span",{style:{margin:"0 0.5rem"},children:"/"}),o.jsx("span",{style:{color:"#374151"},children:n.nom})]}),o.jsxs("header",{style:{background:"linear-gradient(135deg, #1e40af 0%, #3b82f6 100%)",borderRadius:"16px",padding:"2rem",color:"#fff",marginBottom:"2rem"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.75rem"},children:[o.jsx("span",{style:{fontSize:"2.5rem"},children:n.icone||""}),o.jsxs("div",{children:[o.jsx("h1",{style:{fontSize:"1.75rem",fontWeight:700,margin:0},children:n.nom}),n.description&&o.jsx("p",{style:{margin:"0.25rem 0 0",opacity:.9,fontSize:"0.95rem"},children:n.description})]})]}),o.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap",marginTop:"1rem"},children:[o.jsxs("span",{style:{background:"rgba(255,255,255,0.2)",padding:"0.35rem 0.75rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:600},children:[" ",$(n.niveau),"  ",n.classe]}),o.jsxs("span",{style:{background:"rgba(255,255,255,0.2)",padding:"0.35rem 0.75rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:600},children:[" ",D.length," ressource",D.length!==1?"s":""]}),n.coefficient&&o.jsxs("span",{style:{background:"rgba(255,255,255,0.2)",padding:"0.35rem 0.75rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:600},children:[" Coeff. ",n.coefficient]})]})]}),I.length>1&&o.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",marginBottom:"1.5rem"},children:[o.jsxs("button",{onClick:()=>x("tous"),style:{padding:"0.5rem 1rem",borderRadius:"20px",border:y==="tous"?"2px solid #2563eb":"1px solid #d1d5db",background:y==="tous"?"#2563eb":"#fff",color:y==="tous"?"#fff":"#374151",cursor:"pointer",fontSize:"0.85rem",fontWeight:600,transition:"all 0.2s"},children:["Tous (",D.length,")"]}),I.map(k=>{const q=D.filter(M=>M.type===k).length,L=y===k;return o.jsxs("button",{onClick:()=>x(k),style:{padding:"0.5rem 1rem",borderRadius:"20px",border:L?`2px solid ${V(k)}`:"1px solid #d1d5db",background:L?V(k):"#fff",color:L?"#fff":"#374151",cursor:"pointer",fontSize:"0.85rem",fontWeight:600,transition:"all 0.2s"},children:[O(k)," ",C(k)," (",q,")"]},k)})]}),i.length===0&&c.length===0?o.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem",background:"#f9fafb",borderRadius:"12px",border:"1px solid #e5e7eb"},children:[o.jsx("span",{style:{fontSize:"3rem"},children:""}),o.jsx("h3",{style:{color:"#374151",margin:"1rem 0 0.5rem"},children:"Aucune ressource disponible"}),o.jsx("p",{style:{color:"#6b7280"},children:"Les cours et exercices pour cette discipline seront bientt ajouts."})]}):o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[i.map(k=>{const q=R(k.ressources);if(q.length===0&&y!=="tous")return null;const L=E.has(k.chapitreNom),M=y==="tous"?k.ressources:q;return o.jsxs("div",{style:{background:"#fff",borderRadius:"12px",border:"1px solid #e5e7eb",overflow:"hidden",transition:"box-shadow 0.2s",boxShadow:L?"0 4px 12px rgba(0,0,0,0.08)":"none"},children:[o.jsx("button",{onClick:()=>A(k.chapitreNom),style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1.25rem",background:L?"#f0f5ff":"#fff",border:"none",cursor:"pointer",textAlign:"left",transition:"background 0.2s"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[o.jsx("span",{style:{fontSize:"1.25rem",transform:L?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""}),o.jsxs("div",{children:[o.jsx("span",{style:{fontWeight:700,color:"#1f2937",fontSize:"1rem"},children:k.chapitreNom}),o.jsxs("span",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginTop:"2px"},children:[k.ressources.length," ressource",k.ressources.length!==1?"s":""]})]})]})}),L&&o.jsx("div",{style:{padding:"0 1.25rem 1rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:M.map(U=>o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem",background:"#f9fafb",borderRadius:"8px",border:"1px solid #f3f4f6",transition:"background 0.15s",cursor:"pointer"},onMouseEnter:X=>X.currentTarget.style.background="#eef2ff",onMouseLeave:X=>X.currentTarget.style.background="#f9fafb",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flex:1},children:[o.jsx("span",{style:{fontSize:"1.2rem"},children:O(U.type)}),o.jsxs("div",{children:[o.jsx("span",{style:{fontWeight:600,color:"#1f2937",fontSize:"0.9rem"},children:U.titre}),U.description&&o.jsx("span",{style:{display:"block",fontSize:"0.75rem",color:"#9ca3af",marginTop:"2px"},children:U.description})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexShrink:0},children:[o.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,color:"#fff",background:V(U.type)},children:C(U.type)}),U.isPremium&&o.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,color:"#92400e",background:"#fef3c7",border:"1px solid #fde68a"},children:" Premium"}),U.dureeEstimee&&o.jsxs("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:[" ",U.dureeEstimee," min"]})]})]},U.id))})]},k.chapitreNom)}),R(c).length>0&&o.jsxs("div",{style:{background:"#fff",borderRadius:"12px",border:"1px solid #e5e7eb",padding:"1rem 1.25rem"},children:[o.jsx("h3",{style:{fontSize:"1rem",fontWeight:700,color:"#374151",marginBottom:"0.75rem"},children:" Autres ressources"}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:R(c).map(k=>o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem",background:"#f9fafb",borderRadius:"8px",border:"1px solid #f3f4f6"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[o.jsx("span",{style:{fontSize:"1.2rem"},children:O(k.type)}),o.jsx("span",{style:{fontWeight:600,color:"#1f2937",fontSize:"0.9rem"},children:k.titre})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[o.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,color:"#fff",background:V(k.type)},children:C(k.type)}),k.isPremium&&o.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,color:"#92400e",background:"#fef3c7",border:"1px solid #fde68a"},children:" Premium"})]})]},k.id))})]})]}),o.jsx("div",{style:{marginTop:"2rem",textAlign:"center"},children:o.jsx(nt,{to:"/disciplines",style:{display:"inline-block",padding:"0.75rem 1.5rem",background:"#f3f4f6",color:"#374151",borderRadius:"8px",textDecoration:"none",fontWeight:600,transition:"background 0.2s"},children:" Retour aux disciplines"})})]})},Wx=[{id:"mensuel",nom:"Mensuel",prix:2e3,duree:"1 mois"},{id:"annuel",nom:"Annuel",prix:2e4,prixOriginal:24e3,duree:"12 mois",economie:"4 000 FCFA",popular:!0}],HY=[{icone:"",titre:"Accs illimit",description:"Tous les cours de la 6me  la Terminale, sans restriction."},{icone:"",titre:"Vidos explicatives",description:"Des cours en vido par des professeurs expriments."},{icone:"",titre:"Exercices corrigs",description:"Des milliers d'exercices avec corrections dtailles."},{icone:"",titre:"Suivi de progression",description:"Tableau de bord personnel pour suivre vos rsultats."},{icone:"",titre:"Quiz interactifs",description:"Testez vos connaissances avec des quiz par matire."},{icone:"",titre:"Support prioritaire",description:"Assistance rapide pour toutes vos questions."},{icone:"",titre:"Accs mobile",description:"Apprenez partout, sur tlphone ou tablette."},{icone:"",titre:"Mises  jour",description:"Nouveaux contenus ajouts rgulirement."}],GY=[{question:"Comment fonctionne l'abonnement Premium ?",reponse:"Une fois votre paiement effectu via Wave, Orange Money ou carte bancaire, votre compte est instantanment mis  niveau. Vous avez accs  tous les contenus Premium pendant la dure de votre abonnement."},{question:"Puis-je annuler mon abonnement ?",reponse:"Oui, vous pouvez annuler  tout moment depuis votre espace personnel. Vous conservez l'accs Premium jusqu' la fin de la priode paye."},{question:"L'abonnement se renouvelle-t-il automatiquement ?",reponse:"Non, chez PedaClic, il n'y a pas de renouvellement automatique. Vous dcidez quand renouveler votre abonnement."},{question:"Quels moyens de paiement acceptez-vous ?",reponse:"Nous acceptons Wave, Orange Money, Free Money et les cartes bancaires (Visa, Mastercard) via notre partenaire PayTech."},{question:"Puis-je partager mon compte Premium ?",reponse:"Chaque compte Premium est personnel et li  une adresse email. Le partage de compte est interdit pour garantir un suivi de progression personnalis."}],KY=()=>{const{currentUser:t}=Vn(),e=yl(),n=kr(),[r,i]=j.useState("annuel"),[s,c]=j.useState(!1),[u,f]=j.useState(null),[h,p]=j.useState(null);e.state?.from;const g=()=>!t||!t.isPremium?!1:t.subscriptionEnd?(t.subscriptionEnd instanceof Date?t.subscriptionEnd:new Date(t.subscriptionEnd))>new Date:!0,y=async()=>{if(!t){n("/connexion",{state:{from:"/premium"}});return}if(g()){f("Vous tes dj abonn Premium !");return}try{c(!0),f(null);const w=Wx.find(C=>C.id===r);if(!w)throw new Error("Plan invalide");const N=await Bi(rt(Ee,"transactions"),{userId:t.uid,userEmail:t.email,planType:r,montant:w.prix,devise:"XOF",statut:"pending",dateTransaction:nn(),createdAt:nn()}),A={apiKey:"your_paytech_key",apiSecret:"demo_api_secret",item_name:`PedaClic Premium ${w.nom}`,item_price:w.prix,currency:"XOF",ref_command:N.id,success_url:`${window.location.origin}/premium/success?ref=${N.id}`,cancel_url:`${window.location.origin}/premium/cancel?ref=${N.id}`,ipn_url:"/api/paytech/ipn",custom_field:JSON.stringify({userId:t.uid,planType:r,transactionId:N.id}),env:"test"},O=await(await fetch("https://paytech.sn/api/payment/request-payment",{method:"POST",headers:{"Content-Type":"application/json",API_KEY:A.apiKey,API_SECRET:A.apiSecret},body:JSON.stringify({item_name:A.item_name,item_price:A.item_price,currency:A.currency,ref_command:A.ref_command,command_name:`Abonnement Premium ${w.nom} - ${t.email}`,env:A.env,ipn_url:A.ipn_url,success_url:A.success_url,cancel_url:A.cancel_url,custom_field:A.custom_field})})).json();if(O.success===1&&O.redirect_url)window.location.href=O.redirect_url;else{console.log("Mode dmo PayTech - Simulation de paiement");const C=new Date,V=new Date(C);r==="mensuel"?V.setMonth(V.getMonth()+1):V.setFullYear(V.getFullYear()+1),await an(Qe(Ee,"users",t.uid),{isPremium:!0,subscriptionEnd:V,subscriptionPlan:r,updatedAt:nn()}),await an(Qe(Ee,"transactions",N.id),{statut:"success",paytechTransactionId:"DEMO_"+Date.now(),dateExpiration:V,updatedAt:nn()}),n("/premium/success",{state:{plan:w.nom,montant:w.prix,expiration:V.toLocaleDateString("fr-FR")}})}}catch(w){console.error("Erreur paiement:",w),f("Une erreur est survenue lors du paiement. Veuillez ressayer.")}finally{c(!1)}},x=w=>{p(h===w?null:w)},E=w=>w.toLocaleString("fr-FR")+" FCFA";if(g()){const w=t?.subscriptionEnd instanceof Date?t.subscriptionEnd:new Date(t?.subscriptionEnd||Date.now());return o.jsx("div",{className:"premium-page",children:o.jsx("div",{className:"container",children:o.jsxs("div",{className:"premium-already",children:[o.jsx("span",{className:"premium-already__icon",children:""}),o.jsx("h1",{children:"Vous tes dj Premium !"}),o.jsxs("p",{children:["Votre abonnement est actif jusqu'au"," ",o.jsx("strong",{children:w.toLocaleDateString("fr-FR")})]}),o.jsxs("div",{className:"premium-already__actions",children:[o.jsx(nt,{to:"/disciplines",className:"btn btn--primary",children:"Accder aux cours"}),o.jsx(nt,{to:"/dashboard",className:"btn btn--outline",children:"Mon tableau de bord"})]})]})})})}return o.jsxs("div",{className:"premium-page",children:[o.jsx("section",{className:"premium-hero",children:o.jsxs("div",{className:"container",children:[o.jsx("span",{className:"premium-hero__badge",children:" Premium"}),o.jsxs("h1",{className:"premium-hero__title",children:["Dbloquez tout le potentiel de ",o.jsx("span",{children:"PedaClic"})]}),o.jsx("p",{className:"premium-hero__subtitle",children:"Accdez  tous les cours, exercices corrigs, vidos et quiz de la 6me  la Terminale. Russissez vos examens !"})]})}),o.jsx("section",{className:"premium-pricing",children:o.jsxs("div",{className:"container",children:[o.jsx("h2",{className:"section-title",children:"Choisissez votre formule"}),o.jsx("div",{className:"pricing-cards",children:Wx.map(w=>o.jsxs("div",{className:`pricing-card ${r===w.id?"pricing-card--selected":""} ${w.popular?"pricing-card--popular":""}`,onClick:()=>i(w.id),children:[w.popular&&o.jsx("span",{className:"pricing-card__badge",children:"Le plus populaire"}),o.jsxs("div",{className:"pricing-card__header",children:[o.jsx("h3",{className:"pricing-card__name",children:w.nom}),o.jsx("p",{className:"pricing-card__duration",children:w.duree})]}),o.jsxs("div",{className:"pricing-card__price",children:[w.prixOriginal&&o.jsx("span",{className:"pricing-card__original",children:E(w.prixOriginal)}),o.jsx("span",{className:"pricing-card__amount",children:E(w.prix)}),w.id==="mensuel"&&o.jsx("span",{className:"pricing-card__period",children:"/mois"})]}),w.economie&&o.jsxs("p",{className:"pricing-card__savings",children:["conomisez ",w.economie]}),o.jsx("div",{className:"pricing-card__radio",children:o.jsx("span",{className:`radio-dot ${r===w.id?"radio-dot--active":""}`})})]},w.id))}),o.jsxs("div",{className:"pricing-cta",children:[u&&o.jsxs("div",{className:"pricing-error",children:[o.jsx("span",{children:""})," ",u]}),t?o.jsx("button",{className:"btn btn--premium btn--lg",onClick:y,disabled:s,children:s?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-sm"}),"Traitement en cours..."]}):o.jsxs(o.Fragment,{children:["Payer ",E(Wx.find(w=>w.id===r)?.prix||0)]})}):o.jsxs("div",{className:"pricing-login",children:[o.jsx("p",{children:"Connectez-vous pour souscrire  Premium"}),o.jsx(nt,{to:"/connexion",state:{from:"/premium"},className:"btn btn--primary btn--lg",children:"Se connecter"}),o.jsxs("p",{className:"pricing-login__register",children:["Pas encore inscrit ?"," ",o.jsx(nt,{to:"/inscription",state:{from:"/premium"},children:"Crer un compte"})]})]}),o.jsxs("div",{className:"payment-methods",children:[o.jsx("p",{children:"Paiement scuris par"}),o.jsxs("div",{className:"payment-methods__logos",children:[o.jsx("span",{className:"payment-logo",children:" Orange Money"}),o.jsx("span",{className:"payment-logo",children:" Wave"}),o.jsx("span",{className:"payment-logo",children:" Free Money"}),o.jsx("span",{className:"payment-logo",children:" Carte bancaire"})]})]})]})]})}),o.jsx("section",{className:"premium-features",children:o.jsxs("div",{className:"container",children:[o.jsx("h2",{className:"section-title",children:"Tout ce que vous obtenez"}),o.jsx("p",{className:"section-subtitle",children:"Un accs complet  toutes les ressources pdagogiques"}),o.jsx("div",{className:"features-grid",children:HY.map((w,N)=>o.jsxs("div",{className:"feature-card",children:[o.jsx("span",{className:"feature-card__icon",children:w.icone}),o.jsx("h3",{className:"feature-card__title",children:w.titre}),o.jsx("p",{className:"feature-card__description",children:w.description})]},N))})]})}),o.jsx("section",{className:"premium-comparison",children:o.jsxs("div",{className:"container",children:[o.jsx("h2",{className:"section-title",children:"Gratuit vs Premium"}),o.jsxs("div",{className:"comparison-table",children:[o.jsxs("div",{className:"comparison-header",children:[o.jsx("div",{className:"comparison-feature",children:"Fonctionnalits"}),o.jsx("div",{className:"comparison-free",children:"Gratuit"}),o.jsx("div",{className:"comparison-premium",children:"Premium"})]}),[{feature:"Cours de base",free:!0,premium:!0},{feature:"Exercices avec corrections",free:!1,premium:!0},{feature:"Vidos explicatives",free:!1,premium:!0},{feature:"Quiz interactifs",free:!1,premium:!0},{feature:"Suivi de progression",free:!1,premium:!0},{feature:"Tlchargement de documents",free:!1,premium:!0},{feature:"Support prioritaire",free:!1,premium:!0},{feature:"Accs mobile optimis",free:!0,premium:!0}].map((w,N)=>o.jsxs("div",{className:"comparison-row",children:[o.jsx("div",{className:"comparison-feature",children:w.feature}),o.jsx("div",{className:"comparison-free",children:w.free?o.jsx("span",{className:"check",children:""}):o.jsx("span",{className:"cross",children:""})}),o.jsx("div",{className:"comparison-premium",children:o.jsx("span",{className:"check check--premium",children:""})})]},N))]})]})}),o.jsx("section",{className:"premium-testimonials",children:o.jsxs("div",{className:"container",children:[o.jsx("h2",{className:"section-title",children:"Ils ont choisi Premium"}),o.jsxs("div",{className:"testimonials-grid",children:[o.jsxs("div",{className:"testimonial-card",children:[o.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),o.jsx("p",{className:"testimonial-card__text",children:`"Grce  PedaClic Premium, j'ai eu 16/20 au BFEM. Les exercices corrigs m'ont beaucoup aid !"`}),o.jsxs("div",{className:"testimonial-card__author",children:[o.jsx("div",{className:"testimonial-card__avatar",children:"AN"}),o.jsxs("div",{children:[o.jsx("p",{className:"testimonial-card__name",children:"Aminata Ndiaye"}),o.jsx("p",{className:"testimonial-card__info",children:"3me - Dakar"})]})]})]}),o.jsxs("div",{className:"testimonial-card",children:[o.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),o.jsx("p",{className:"testimonial-card__text",children:'"Les vidos sont trs bien expliques. Je comprends mieux les maths maintenant. Merci PedaClic !"'}),o.jsxs("div",{className:"testimonial-card__author",children:[o.jsx("div",{className:"testimonial-card__avatar",children:"IF"}),o.jsxs("div",{children:[o.jsx("p",{className:"testimonial-card__name",children:"Ibrahima Fall"}),o.jsx("p",{className:"testimonial-card__info",children:"Terminale S - This"})]})]})]}),o.jsxs("div",{className:"testimonial-card",children:[o.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),o.jsx("p",{className:"testimonial-card__text",children:`"20 000 FCFA pour l'anne, c'est vraiment abordable. Mon fils a accs  tout ce dont il a besoin."`}),o.jsxs("div",{className:"testimonial-card__author",children:[o.jsx("div",{className:"testimonial-card__avatar",children:"FD"}),o.jsxs("div",{children:[o.jsx("p",{className:"testimonial-card__name",children:"Fatou Diop"}),o.jsx("p",{className:"testimonial-card__info",children:"Parent d'lve - Saint-Louis"})]})]})]})]})]})}),o.jsx("section",{className:"premium-faq",children:o.jsxs("div",{className:"container",children:[o.jsx("h2",{className:"section-title",children:"Questions frquentes"}),o.jsx("div",{className:"faq-list",children:GY.map((w,N)=>o.jsxs("div",{className:`faq-item ${h===N?"faq-item--open":""}`,children:[o.jsxs("button",{className:"faq-item__question",onClick:()=>x(N),"aria-expanded":h===N,children:[o.jsx("span",{children:w.question}),o.jsx("span",{className:"faq-item__icon",children:h===N?"":"+"})]}),h===N&&o.jsx("div",{className:"faq-item__answer",children:o.jsx("p",{children:w.reponse})})]},N))})]})}),o.jsx("section",{className:"premium-cta-final",children:o.jsxs("div",{className:"container",children:[o.jsx("h2",{children:"Prt  russir vos examens ?"}),o.jsx("p",{children:"Rejoignez des milliers d'lves sngalais qui ont choisi PedaClic Premium"}),o.jsx("button",{className:"btn btn--white btn--lg",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"Commencer maintenant"})]})})]})},QY=[{title:"Principal",items:[{id:"dashboard",label:"Tableau de bord",icon:"",href:"/admin"},{id:"disciplines",label:"Disciplines",icon:"",href:"/admin/disciplines"},{id:"chapitres",label:"Chapitres",icon:"",href:"/admin/chapitres"},{id:"ressources",label:"Ressources",icon:"",href:"/admin/ressources"}]},{title:"valuation",items:[{id:"quiz",label:"Quiz",icon:"",href:"/admin/quiz"},{id:"quiz",label:"Quiz Avancs",icon:"",href:"/admin/quiz-avance"},{id:"resultats",label:"Rsultats",icon:"",href:"/admin/resultats"}]},{title:"Utilisateurs",items:[{id:"utilisateurs",label:"Tous les utilisateurs",icon:"",href:"/admin/utilisateurs"},{id:"premium",label:"Abonns Premium",icon:"",href:"/admin/premium"}]},{title:"Paramtres",items:[{id:"settings",label:"Configuration",icon:"",href:"/admin/settings"}]}],js=({children:t,currentPage:e="dashboard"})=>{const{currentUser:n,logout:r}=Vn(),[i,s]=j.useState(!0),[c,u]=j.useState(!1),f=async()=>{try{u(!0),await r(),window.location.href="/connexion"}catch(g){console.error("Erreur lors de la dconnexion:",g),u(!1)}},h=()=>n?.displayName?n.displayName.split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2):"AD",p=()=>{switch(n?.role){case"admin":return"Administrateur";case"prof":return"Professeur";case"eleve":return"lve";default:return"Utilisateur"}};return o.jsxs("div",{className:"admin-layout",children:[o.jsxs("aside",{className:`admin-sidebar ${i?"":"admin-sidebar--collapsed"}`,children:[o.jsx("header",{className:"admin-sidebar__header",children:o.jsxs("a",{href:"/",className:"admin-sidebar__logo",children:[o.jsx("div",{className:"admin-sidebar__logo-icon",children:""}),o.jsx("span",{children:"PedaClic"})]})}),o.jsx("nav",{className:"admin-sidebar__nav",children:QY.map((g,y)=>o.jsxs("div",{className:"admin-nav__section",children:[o.jsx("h3",{className:"admin-nav__title",children:g.title}),o.jsx("ul",{className:"admin-nav__list",children:g.items.map(x=>o.jsx("li",{className:"admin-nav__item",children:o.jsxs("a",{href:x.href,className:`admin-nav__link ${e===x.id?"admin-nav__link--active":""}`,children:[o.jsx("span",{className:"admin-nav__icon",children:x.icon}),o.jsx("span",{className:"admin-nav__label",children:x.label})]})},x.id))})]},y))}),o.jsx("footer",{className:"admin-sidebar__footer",children:o.jsxs("div",{className:"admin-user",children:[o.jsx("div",{className:"admin-user__avatar",children:h()}),o.jsxs("div",{className:"admin-user__info",children:[o.jsx("div",{className:"admin-user__name",children:n?.displayName||"Administrateur"}),o.jsx("div",{className:"admin-user__role",children:p()})]}),o.jsx("button",{onClick:f,disabled:c,className:"admin-logout-btn",title:"Se dconnecter",children:c?"...":""})]})})]}),o.jsxs("main",{className:"admin-content",children:[o.jsx("button",{className:"admin-sidebar-toggle",onClick:()=>s(!i),"aria-label":"Toggle sidebar",children:""}),t]}),o.jsx("style",{children:`
        /* Bouton de dconnexion */
        .admin-logout-btn {
          width: 36px;
          height: 36px;
          border: none;
          background: rgba(255, 255, 255, 0.1);
          color: white;
          border-radius: var(--radius-md);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all var(--transition-base);
          font-size: var(--text-lg);
        }

        .admin-logout-btn:hover {
          background: rgba(255, 255, 255, 0.2);
        }

        .admin-logout-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        /* Bouton toggle sidebar (mobile) */
        .admin-sidebar-toggle {
          display: none;
          position: fixed;
          top: var(--spacing-md);
          left: var(--spacing-md);
          z-index: var(--z-fixed);
          width: 44px;
          height: 44px;
          border: none;
          background: var(--color-primary);
          color: white;
          border-radius: var(--radius-md);
          cursor: pointer;
          font-size: var(--text-xl);
        }

        @media (max-width: 768px) {
          .admin-sidebar-toggle {
            display: flex;
            align-items: center;
            justify-content: center;
          }

          .admin-sidebar {
            transform: translateX(-100%);
            transition: transform var(--transition-base);
          }

          .admin-sidebar:not(.admin-sidebar--collapsed) {
            transform: translateX(0);
          }

          .admin-content {
            padding-top: calc(var(--spacing-xl) + 44px);
          }
        }

        /* Animation de la sidebar */
        .admin-sidebar--collapsed {
          width: 80px;
        }

        .admin-sidebar--collapsed .admin-nav__label,
        .admin-sidebar--collapsed .admin-nav__title,
        .admin-sidebar--collapsed .admin-sidebar__logo span,
        .admin-sidebar--collapsed .admin-user__info {
          display: none;
        }

        .admin-sidebar--collapsed .admin-sidebar__logo {
          justify-content: center;
        }
      `})]})},Uo="chapitres",Yx=t=>{const e=t.data();return{id:t.id,disciplineId:e.disciplineId,numero:e.numero,titre:e.titre,description:e.description,objectifs:e.objectifs||[],dureeEstimee:e.dureeEstimee,isPremium:e.isPremium||!1,actif:e.actif!==!1,createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()}},Vo={async getByDiscipline(t){try{const e=Nt(rt(Ee,Uo),it("disciplineId","==",t),jr("numero","asc"));return(await St(e)).docs.map(Yx)}catch(e){throw console.error("Erreur lors de la rcupration des chapitres:",e),new Error("Impossible de rcuprer les chapitres")}},async getAll(){try{const t=Nt(rt(Ee,Uo),jr("numero","asc"));return(await St(t)).docs.map(Yx)}catch(t){throw console.error("Erreur lors de la rcupration des chapitres:",t),new Error("Impossible de rcuprer les chapitres")}},async getById(t){try{const e=Qe(Ee,Uo,t),n=await Zr(e);return n.exists()?Yx(n):null}catch(e){throw console.error("Erreur lors de la rcupration du chapitre:",e),new Error("Impossible de rcuprer le chapitre")}},async create(t){try{return(await Bi(rt(Ee,Uo),{...t,actif:t.actif!==!1,createdAt:nn(),updatedAt:nn()})).id}catch(e){throw console.error("Erreur lors de la cration du chapitre:",e),new Error("Impossible de crer le chapitre")}},async update(t,e){try{const n=Qe(Ee,Uo,t);await an(n,{...e,updatedAt:nn()})}catch(n){throw console.error("Erreur lors de la mise  jour du chapitre:",n),new Error("Impossible de mettre  jour le chapitre")}},async delete(t){try{const e=Qe(Ee,Uo,t);await Ad(e)}catch(e){throw console.error("Erreur lors de la suppression du chapitre:",e),new Error("Impossible de supprimer le chapitre")}},async deleteByDiscipline(t){try{const e=await this.getByDiscipline(t),n=Oh(Ee);e.forEach(r=>{const i=Qe(Ee,Uo,r.id);n.delete(i)}),await n.commit()}catch(e){throw console.error("Erreur lors de la suppression des chapitres:",e),new Error("Impossible de supprimer les chapitres")}},async reorder(t,e){try{const n=Oh(Ee);e.forEach((r,i)=>{const s=Qe(Ee,Uo,r);n.update(s,{numero:i+1,updatedAt:nn()})}),await n.commit()}catch(n){throw console.error("Erreur lors de la rorganisation des chapitres:",n),new Error("Impossible de rorganiser les chapitres")}},async toggleActive(t,e){await this.update(t,{actif:e})},async countByDiscipline(t){return(await this.getByDiscipline(t)).length},async getNextNumero(t){return await this.countByDiscipline(t)+1}},WY=()=>{const{currentUser:t}=Vn(),e=kr(),[n,r]=j.useState({totalDisciplines:0,totalChapitres:0,totalRessources:0,ressourcesPremium:0,ressourcesGratuites:0,totalQuiz:0,totalQuizAvances:0,ressourcesParType:{cours:0,exercice:0,video:0,document:0,quiz:0}}),[i,s]=j.useState(!0),[c,u]=j.useState(null);return j.useEffect(()=>{(async()=>{try{s(!0),u(null);const[h,p,g,y,x]=await Promise.all([qc.getAll(),Vo.getAll(),Es.getStats(),St(rt(Ee,"quizzes")),St(rt(Ee,"quizzes_v2"))]);r({totalDisciplines:h.length,totalChapitres:p.length,totalRessources:g.total,ressourcesPremium:g.premium,ressourcesGratuites:g.gratuit,totalQuiz:y.size,totalQuizAvances:x.size,ressourcesParType:g.parType})}catch(h){console.error("Erreur lors du chargement des statistiques:",h),u("Impossible de charger les statistiques")}finally{s(!1)}})()},[]),o.jsxs("div",{className:"admin-dashboard",children:[o.jsx("header",{className:"admin-page-header",children:o.jsxs("div",{className:"admin-page-header__info",children:[o.jsx("h1",{className:"admin-page-header__title",children:"Tableau de bord"}),o.jsxs("p",{className:"admin-page-header__subtitle",children:["Bienvenue, ",t?.displayName||"Administrateur"," ! Grez votre contenu pdagogique depuis cette interface."]})]})}),c&&o.jsxs("div",{className:"alert alert--error",children:[o.jsx("span",{className:"alert__icon",children:""}),o.jsx("div",{className:"alert__content",children:o.jsx("p",{className:"alert__message",children:c})})]}),i?o.jsxs("div",{className:"loading-container",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Chargement des statistiques..."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"stats-grid",children:[o.jsxs("div",{className:"stat-card stat-card--clickable",onClick:()=>e("/admin/disciplines"),role:"button",tabIndex:0,onKeyDown:f=>f.key==="Enter"&&e("/admin/disciplines"),children:[o.jsx("div",{className:"stat-card__icon stat-card__icon--primary",children:""}),o.jsxs("div",{className:"stat-card__content",children:[o.jsx("div",{className:"stat-card__value",children:n.totalDisciplines}),o.jsx("div",{className:"stat-card__label",children:"Disciplines"})]})]}),o.jsxs("div",{className:"stat-card stat-card--clickable",onClick:()=>e("/admin/chapitres"),role:"button",tabIndex:0,onKeyDown:f=>f.key==="Enter"&&e("/admin/chapitres"),children:[o.jsx("div",{className:"stat-card__icon stat-card__icon--secondary",children:""}),o.jsxs("div",{className:"stat-card__content",children:[o.jsx("div",{className:"stat-card__value",children:n.totalChapitres}),o.jsx("div",{className:"stat-card__label",children:"Chapitres"})]})]}),o.jsxs("div",{className:"stat-card stat-card--clickable",onClick:()=>e("/admin/ressources"),role:"button",tabIndex:0,onKeyDown:f=>f.key==="Enter"&&e("/admin/ressources"),children:[o.jsx("div",{className:"stat-card__icon stat-card__icon--info",children:""}),o.jsxs("div",{className:"stat-card__content",children:[o.jsx("div",{className:"stat-card__value",children:n.totalRessources}),o.jsx("div",{className:"stat-card__label",children:"Ressources"})]})]}),o.jsxs("div",{className:"stat-card stat-card--clickable",onClick:()=>e("/admin/ressources"),role:"button",tabIndex:0,onKeyDown:f=>f.key==="Enter"&&e("/admin/ressources"),children:[o.jsx("div",{className:"stat-card__icon stat-card__icon--warning",children:""}),o.jsxs("div",{className:"stat-card__content",children:[o.jsx("div",{className:"stat-card__value",children:n.ressourcesPremium}),o.jsx("div",{className:"stat-card__label",children:"Ressources Premium"})]})]}),o.jsxs("div",{className:"stat-card stat-card--clickable",onClick:()=>e("/admin/quiz"),role:"button",tabIndex:0,onKeyDown:f=>f.key==="Enter"&&e("/admin/quiz"),children:[o.jsx("div",{className:"stat-card__icon stat-card__icon--quiz",children:""}),o.jsxs("div",{className:"stat-card__content",children:[o.jsx("div",{className:"stat-card__value",children:n.totalQuiz}),o.jsx("div",{className:"stat-card__label",children:"Quiz"})]})]}),o.jsxs("div",{className:"stat-card stat-card--clickable",onClick:()=>e("/admin/quiz-avance"),role:"button",tabIndex:0,onKeyDown:f=>f.key==="Enter"&&e("/admin/quiz-avance"),children:[o.jsx("div",{className:"stat-card__icon stat-card__icon--advanced",children:""}),o.jsxs("div",{className:"stat-card__content",children:[o.jsx("div",{className:"stat-card__value",children:n.totalQuizAvances}),o.jsx("div",{className:"stat-card__label",children:"Quiz Avancs"})]})]})]}),o.jsxs("section",{className:"content-card",children:[o.jsx("div",{className:"content-card__header",children:o.jsx("h2",{children:"Rpartition des ressources par type"})}),o.jsx("div",{className:"content-card__body",children:o.jsxs("div",{className:"resource-type-grid",children:[o.jsxs("div",{className:"resource-type-item resource-type-item--clickable",onClick:()=>e("/admin/ressources"),role:"button",tabIndex:0,children:[o.jsx("div",{className:"resource-item__icon resource-item__icon--cours",children:""}),o.jsxs("div",{className:"resource-type-info",children:[o.jsx("span",{className:"resource-type-value",children:n.ressourcesParType.cours}),o.jsx("span",{className:"resource-type-label",children:"Cours"})]})]}),o.jsxs("div",{className:"resource-type-item resource-type-item--clickable",onClick:()=>e("/admin/ressources"),role:"button",tabIndex:0,children:[o.jsx("div",{className:"resource-item__icon resource-item__icon--exercice",children:""}),o.jsxs("div",{className:"resource-type-info",children:[o.jsx("span",{className:"resource-type-value",children:n.ressourcesParType.exercice}),o.jsx("span",{className:"resource-type-label",children:"Exercices"})]})]}),o.jsxs("div",{className:"resource-type-item resource-type-item--clickable",onClick:()=>e("/admin/ressources"),role:"button",tabIndex:0,children:[o.jsx("div",{className:"resource-item__icon resource-item__icon--video",children:""}),o.jsxs("div",{className:"resource-type-info",children:[o.jsx("span",{className:"resource-type-value",children:n.ressourcesParType.video}),o.jsx("span",{className:"resource-type-label",children:"Vidos"})]})]}),o.jsxs("div",{className:"resource-type-item resource-type-item--clickable",onClick:()=>e("/admin/ressources"),role:"button",tabIndex:0,children:[o.jsx("div",{className:"resource-item__icon resource-item__icon--document",children:""}),o.jsxs("div",{className:"resource-type-info",children:[o.jsx("span",{className:"resource-type-value",children:n.ressourcesParType.document}),o.jsx("span",{className:"resource-type-label",children:"Documents"})]})]}),o.jsxs("div",{className:"resource-type-item resource-type-item--clickable",onClick:()=>e("/admin/quiz"),role:"button",tabIndex:0,children:[o.jsx("div",{className:"resource-item__icon resource-item__icon--quiz",children:""}),o.jsxs("div",{className:"resource-type-info",children:[o.jsx("span",{className:"resource-type-value",children:n.totalQuiz+n.totalQuizAvances}),o.jsx("span",{className:"resource-type-label",children:"Quiz (tous)"})]})]})]})})]}),o.jsxs("section",{className:"content-card",style:{marginTop:"var(--spacing-xl)"},children:[o.jsx("div",{className:"content-card__header",children:o.jsx("h2",{children:"Actions rapides"})}),o.jsx("div",{className:"content-card__body",children:o.jsxs("div",{className:"quick-actions-grid",children:[o.jsxs("a",{href:"/admin/disciplines",className:"quick-action-card",children:[o.jsx("div",{className:"quick-action-icon",children:""}),o.jsxs("div",{className:"quick-action-content",children:[o.jsx("h3",{children:"Grer les disciplines"}),o.jsx("p",{children:"Ajouter, modifier ou supprimer des matires"})]})]}),o.jsxs("a",{href:"/admin/chapitres",className:"quick-action-card",children:[o.jsx("div",{className:"quick-action-icon",children:""}),o.jsxs("div",{className:"quick-action-content",children:[o.jsx("h3",{children:"Grer les chapitres"}),o.jsx("p",{children:"Organiser le contenu par chapitres"})]})]}),o.jsxs("a",{href:"/admin/ressources",className:"quick-action-card",children:[o.jsx("div",{className:"quick-action-icon",children:""}),o.jsxs("div",{className:"quick-action-content",children:[o.jsx("h3",{children:"Grer les ressources"}),o.jsx("p",{children:"Cours, exercices, vidos et documents"})]})]}),o.jsxs("a",{href:"/admin/quiz",className:"quick-action-card",children:[o.jsx("div",{className:"quick-action-icon",children:""}),o.jsxs("div",{className:"quick-action-content",children:[o.jsx("h3",{children:"Grer les quiz"}),o.jsx("p",{children:"Crer et modifier des quiz pour les lves"})]})]}),o.jsxs("a",{href:"/admin/quiz-avance",className:"quick-action-card",children:[o.jsx("div",{className:"quick-action-icon",children:""}),o.jsxs("div",{className:"quick-action-content",children:[o.jsx("h3",{children:"Quiz avancs"}),o.jsx("p",{children:"Quiz interactifs avec niveaux de difficult"})]})]}),o.jsxs("a",{href:"/admin/utilisateurs",className:"quick-action-card",children:[o.jsx("div",{className:"quick-action-icon",children:""}),o.jsxs("div",{className:"quick-action-content",children:[o.jsx("h3",{children:"Grer les utilisateurs"}),o.jsx("p",{children:"lves, professeurs et administrateurs"})]})]})]})})]})]}),o.jsx("style",{children:`
        /* ====== Stat cards cliquables ====== */
        /* Curseur pointer + effet hover sur les cartes de statistiques */
        .stat-card--clickable {
          cursor: pointer;
          transition: all 0.2s ease;
        }
        .stat-card--clickable:hover {
          transform: translateY(-3px);
          box-shadow: var(--shadow-lg, 0 8px 24px rgba(0,0,0,0.12));
          border-color: var(--color-primary, #3182ce);
        }
        .stat-card--clickable:active {
          transform: translateY(-1px);
        }

        /* Icne quiz (violet) */
        .stat-card__icon--quiz {
          background: #f3e8ff;
          color: #7c3aed;
        }
        /* Icne quiz avanc (rose) */
        .stat-card__icon--advanced {
          background: #fce7f3;
          color: #db2777;
        }

        /* ====== Grille des types de ressources ====== */
        .resource-type-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
          gap: var(--spacing-lg);
        }

        .resource-type-item {
          display: flex;
          align-items: center;
          gap: var(--spacing-md);
          padding: var(--spacing-md);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-lg);
        }

        /* Cartes de rpartition cliquables */
        .resource-type-item--clickable {
          cursor: pointer;
          transition: all 0.2s ease;
          border: 1px solid transparent;
        }
        .resource-type-item--clickable:hover {
          border-color: var(--color-primary, #3182ce);
          box-shadow: 0 2px 8px rgba(0,0,0,0.08);
          transform: translateY(-2px);
        }

        .resource-type-info {
          display: flex;
          flex-direction: column;
        }

        .resource-type-value {
          font-size: var(--text-2xl);
          font-weight: var(--font-bold);
          color: var(--color-text);
        }

        .resource-type-label {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        /* ====== Actions rapides ====== */
        .quick-actions-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
          gap: var(--spacing-lg);
        }

        .quick-action-card {
          display: flex;
          align-items: flex-start;
          gap: var(--spacing-lg);
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          text-decoration: none;
          color: inherit;
          transition: all var(--transition-base);
        }

        .quick-action-card:hover {
          border-color: var(--color-primary);
          box-shadow: var(--shadow-md);
          transform: translateY(-2px);
        }

        .quick-action-icon {
          font-size: 2rem;
          line-height: 1;
        }

        .quick-action-content h3 {
          font-size: var(--text-base);
          font-weight: var(--font-semibold);
          margin-bottom: var(--spacing-xs);
          color: var(--color-text);
        }

        .quick-action-content p {
          font-size: var(--text-sm);
          color: var(--color-text-light);
          margin: 0;
        }

        @media (max-width: 768px) {
          .resource-type-grid,
          .quick-actions-grid {
            grid-template-columns: 1fr;
          }
        }
      `})]})},Be={container:{maxWidth:"900px",margin:"0 auto",padding:"24px"},title:{fontSize:"1.5rem",fontWeight:700,color:"#1a365d",marginBottom:"24px"},form:{background:"#ffffff",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",marginBottom:"32px",border:"1px solid #e2e8f0"},formTitle:{fontSize:"1.1rem",fontWeight:600,color:"#2d3748",marginBottom:"20px",paddingBottom:"12px",borderBottom:"2px solid #3182ce"},formGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px",marginBottom:"20px"},fieldGroup:{display:"flex",flexDirection:"column",gap:"6px"},label:{fontSize:"0.875rem",fontWeight:600,color:"#4a5568"},labelOptional:{fontSize:"0.75rem",fontWeight:400,color:"#a0aec0",marginLeft:"4px"},input:{padding:"10px 14px",borderRadius:"8px",border:"1px solid #e2e8f0",fontSize:"0.95rem",outline:"none",transition:"border-color 0.2s"},select:{padding:"10px 14px",borderRadius:"8px",border:"1px solid #e2e8f0",fontSize:"0.95rem",background:"#fff",cursor:"pointer"},textarea:{padding:"10px 14px",borderRadius:"8px",border:"1px solid #e2e8f0",fontSize:"0.95rem",minHeight:"80px",resize:"vertical",fontFamily:"inherit"},btnPrimary:{padding:"12px 28px",background:"#3182ce",color:"#fff",border:"none",borderRadius:"8px",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",transition:"background 0.2s"},btnSecondary:{padding:"12px 28px",background:"#e2e8f0",color:"#4a5568",border:"none",borderRadius:"8px",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",marginLeft:"12px"},btnDanger:{padding:"6px 14px",background:"#fed7d7",color:"#c53030",border:"1px solid #fc8181",borderRadius:"6px",fontSize:"0.8rem",cursor:"pointer"},btnEdit:{padding:"6px 14px",background:"#ebf8ff",color:"#2b6cb0",border:"1px solid #90cdf4",borderRadius:"6px",fontSize:"0.8rem",cursor:"pointer",marginRight:"8px"},card:{background:"#fff",borderRadius:"10px",padding:"16px 20px",boxShadow:"0 1px 4px rgba(0,0,0,0.06)",border:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},badge:{display:"inline-block",padding:"3px 10px",borderRadius:"12px",fontSize:"0.75rem",fontWeight:600},badgeCollege:{background:"#ebf8ff",color:"#2b6cb0"},badgeLycee:{background:"#fefcbf",color:"#975a16"},badgeFormationLibre:{background:"#f0fff4",color:"#276749"},tabs:{display:"flex",gap:"8px",marginBottom:"20px",flexWrap:"wrap"},tab:{padding:"8px 20px",borderRadius:"8px",border:"1px solid #e2e8f0",background:"#fff",cursor:"pointer",fontSize:"0.9rem",fontWeight:500,transition:"all 0.2s"},tabActive:{background:"#3182ce",color:"#fff",borderColor:"#3182ce"}},Xx={nom:"",niveau:"college",classe:"6eme",ordre:0,coefficient:void 0,couleur:"",icone:"",description:""},YY=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(Xx),[i,s]=j.useState(null),[c,u]=j.useState(!1),[f,h]=j.useState("all");j.useEffect(()=>{const R=Nt(rt(Ee,"disciplines"),jr("nom")),O=k4(R,C=>{const V=C.docs.map($=>({id:$.id,...$.data(),createdAt:$.data().createdAt?.toDate()||new Date,updatedAt:$.data().updatedAt?.toDate()||new Date}));e(V)});return()=>O()},[]);const p=j.useCallback(R=>{const O=VO(R)[0]?.value||"6eme";r(C=>({...C,niveau:R,classe:O,coefficient:R==="formation_libre"?void 0:C.coefficient}))},[]),g=async R=>{if(R.preventDefault(),!!n.nom.trim()){u(!0);try{const O={nom:n.nom.trim(),niveau:n.niveau,classe:n.classe,ordre:n.ordre,...n.coefficient!==void 0&&{coefficient:n.coefficient},couleur:n.couleur||"",icone:n.icone||"",description:n.description||"",updatedAt:Ye.now()};i?await an(Qe(Ee,"disciplines",i),O):await Bi(rt(Ee,"disciplines"),{...O,createdAt:Ye.now()}),r(Xx),s(null)}catch(O){console.error("Erreur lors de la sauvegarde :",O),alert("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{u(!1)}}},y=R=>{r({nom:R.nom,niveau:R.niveau,classe:R.classe,ordre:R.ordre,coefficient:R.coefficient,couleur:R.couleur||"",icone:R.icone||"",description:R.description||""}),s(R.id)},x=async(R,O)=>{if(window.confirm(`Supprimer la discipline "${O}" ? Cette action est irrversible.`))try{await Ad(Qe(Ee,"disciplines",R))}catch(C){console.error("Erreur lors de la suppression :",C)}},E=()=>{r(Xx),s(null)},w=VO(n.niveau),N=f==="all"?t:t.filter(R=>R.niveau===f),A=R=>({...Be.badge,...R==="college"?Be.badgeCollege:{},...R==="lycee"?Be.badgeLycee:{},...R==="formation_libre"?Be.badgeFormationLibre:{}});return o.jsxs("div",{style:Be.container,children:[o.jsx("h2",{style:Be.title,children:" Gestion des Disciplines"}),o.jsxs("form",{style:Be.form,onSubmit:g,children:[o.jsx("h3",{style:Be.formTitle,children:i?" Modifier la discipline":" Ajouter une discipline"}),o.jsxs("div",{style:Be.formGrid,children:[o.jsxs("div",{style:Be.fieldGroup,children:[o.jsx("label",{style:Be.label,children:"Nom de la discipline"}),o.jsx("input",{type:"text",style:Be.input,value:n.nom,onChange:R=>r({...n,nom:R.target.value}),placeholder:"Ex : Cuisine sngalaise, Couture, Franais...",required:!0})]}),o.jsxs("div",{style:Be.fieldGroup,children:[o.jsx("label",{style:Be.label,children:"Niveau"}),o.jsxs("select",{style:Be.select,value:n.niveau,onChange:R=>p(R.target.value),children:[o.jsx("option",{value:"college",children:" Collge"}),o.jsx("option",{value:"lycee",children:" Lyce"}),o.jsx("option",{value:"formation_libre",children:" Formation libre"})]})]}),o.jsxs("div",{style:Be.fieldGroup,children:[o.jsx("label",{style:Be.label,children:n.niveau==="formation_libre"?"Niveau de formation":"Classe"}),o.jsx("select",{style:Be.select,value:n.classe,onChange:R=>r({...n,classe:R.target.value}),children:w.map(({value:R,label:O})=>o.jsx("option",{value:R,children:O},R))})]}),o.jsxs("div",{style:Be.fieldGroup,children:[o.jsx("label",{style:Be.label,children:"Ordre d'affichage"}),o.jsx("input",{type:"number",style:Be.input,value:n.ordre,onChange:R=>r({...n,ordre:Number(R.target.value)}),placeholder:"Ex : 1",min:"0"})]}),o.jsxs("div",{style:Be.fieldGroup,children:[o.jsxs("label",{style:Be.label,children:["Coefficient",n.niveau==="formation_libre"&&o.jsx("span",{style:Be.labelOptional,children:"(optionnel)"})]}),o.jsx("input",{type:"number",style:Be.input,value:n.coefficient??"",onChange:R=>r({...n,coefficient:R.target.value?Number(R.target.value):void 0}),placeholder:n.niveau==="formation_libre"?"Non requis":"Ex : 3",min:"1",max:"10",required:n.niveau!=="formation_libre"})]}),o.jsxs("div",{style:Be.fieldGroup,children:[o.jsxs("label",{style:Be.label,children:["Couleur",o.jsx("span",{style:Be.labelOptional,children:"(optionnel)"})]}),o.jsx("input",{type:"color",style:{...Be.input,maxWidth:"80px",padding:"4px",height:"40px"},value:n.couleur||"#3182ce",onChange:R=>r({...n,couleur:R.target.value})})]})]}),o.jsxs("div",{style:{...Be.fieldGroup,marginBottom:"20px"},children:[o.jsxs("label",{style:Be.label,children:["Description",o.jsx("span",{style:Be.labelOptional,children:"(optionnel)"})]}),o.jsx("textarea",{style:Be.textarea,value:n.description,onChange:R=>r({...n,description:R.target.value}),placeholder:"Brve description de la discipline..."})]}),o.jsxs("div",{style:{...Be.fieldGroup,marginBottom:"20px"},children:[o.jsxs("label",{style:Be.label,children:["Icne (emoji)",o.jsx("span",{style:Be.labelOptional,children:"(optionnel)"})]}),o.jsx("input",{type:"text",style:{...Be.input,maxWidth:"120px"},value:n.icone,onChange:R=>r({...n,icone:R.target.value}),placeholder:""})]}),o.jsxs("div",{children:[o.jsx("button",{type:"submit",style:Be.btnPrimary,disabled:c,children:c?"Enregistrement...":i?"Mettre  jour":"Ajouter la discipline"}),i&&o.jsx("button",{type:"button",style:Be.btnSecondary,onClick:E,children:"Annuler"})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{style:Be.formTitle,children:[" Disciplines existantes (",N.length,")"]}),o.jsxs("div",{style:Be.tabs,children:[o.jsx("button",{style:{...Be.tab,...f==="all"?Be.tabActive:{}},onClick:()=>h("all"),children:"Toutes"}),o.jsx("button",{style:{...Be.tab,...f==="college"?Be.tabActive:{}},onClick:()=>h("college"),children:" Collge"}),o.jsx("button",{style:{...Be.tab,...f==="lycee"?Be.tabActive:{}},onClick:()=>h("lycee"),children:" Lyce"}),o.jsx("button",{style:{...Be.tab,...f==="formation_libre"?Be.tabActive:{}},onClick:()=>h("formation_libre"),children:" Formation libre"})]}),N.length===0?o.jsx("p",{style:{color:"#a0aec0",fontStyle:"italic",textAlign:"center",padding:"32px"},children:"Aucune discipline trouve pour ce filtre."}):N.map(R=>o.jsxs("div",{style:Be.card,children:[o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[R.icone&&o.jsx("span",{style:{fontSize:"1.2rem"},children:R.icone}),o.jsx("strong",{style:{fontSize:"1rem",color:"#2d3748"},children:R.nom}),o.jsx("span",{style:A(R.niveau),children:sL[R.niveau]})]}),o.jsxs("div",{style:{fontSize:"0.85rem",color:"#718096"},children:[R.niveau==="formation_libre"?"Niveau":"Classe"," :"," ",oL(R.classe),R.coefficient!==void 0&&o.jsxs("span",{style:{marginLeft:"12px"},children:["| Coeff : ",R.coefficient]})]})]}),o.jsxs("div",{style:{display:"flex",gap:"4px"},children:[o.jsx("button",{style:Be.btnEdit,onClick:()=>y(R),children:"Modifier"}),o.jsx("button",{style:Be.btnDanger,onClick:()=>x(R.id,R.nom),children:"Supprimer"})]})]},R.id))]})]})},HO={numero:1,titre:"",description:"",objectifs:[],dureeEstimee:void 0,isPremium:!1,actif:!0},XY=()=>{const[t,e]=j.useState([]),[n,r]=j.useState([]),[i,s]=j.useState(""),[c,u]=j.useState(!0),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[y,x]=j.useState(null),[E,w]=j.useState(null),[N,A]=j.useState(null),[R,O]=j.useState(!1),[C,V]=j.useState(!1),[$,D]=j.useState(null),[I,k]=j.useState(null),[q,L]=j.useState({...HO,disciplineId:""}),[M,U]=j.useState({}),[X,Q]=j.useState(""),H=j.useCallback(async()=>{try{u(!0);const J=await qc.getAll();e(J),J.length>0&&!i&&s(J[0].id)}catch(J){console.error("Erreur lors du chargement des disciplines:",J),w("Impossible de charger les disciplines.")}finally{u(!1)}},[i]),ce=j.useCallback(async()=>{if(!i){r([]);return}try{h(!0);const J=await Vo.getByDiscipline(i);r(J)}catch(J){console.error("Erreur lors du chargement des chapitres:",J),w("Impossible de charger les chapitres.")}finally{h(!1)}},[i]);j.useEffect(()=>{H()},[H]),j.useEffect(()=>{ce()},[ce]);const Y=()=>{const J={};return q.disciplineId||(J.disciplineId="Veuillez slectionner une discipline"),q.titre.trim()?q.titre.length<3&&(J.titre="Le titre doit contenir au moins 3 caractres"):J.titre="Le titre du chapitre est requis",q.numero<1&&(J.numero="Le numro doit tre suprieur  0"),U(J),Object.keys(J).length===0},_e=J=>{s(J),w(null)},W=async()=>{const J=await Vo.getNextNumero(i);D(null),L({...HO,disciplineId:i,numero:J}),U({}),Q(""),O(!0)},F=J=>{D(J),L({disciplineId:J.disciplineId,numero:J.numero,titre:J.titre,description:J.description,objectifs:J.objectifs||[],dureeEstimee:J.dureeEstimee,isPremium:J.isPremium,actif:J.actif}),U({}),Q(""),O(!0)},ne=J=>{k(J),V(!0)},ge=()=>{O(!1),V(!1),D(null),k(null),U({}),Q("")},je=J=>{const{name:ve,value:ke,type:Fe}=J.target,ot=J.target.checked;L(ht=>({...ht,[ve]:Fe==="checkbox"?ot:Fe==="number"?Number(ke):ke})),M[ve]&&U(ht=>({...ht,[ve]:void 0}))},Z=()=>{X.trim()&&(L(J=>({...J,objectifs:[...J.objectifs||[],X.trim()]})),Q(""))},re=J=>{L(ve=>({...ve,objectifs:(ve.objectifs||[]).filter((ke,Fe)=>Fe!==J)}))},pe=async J=>{if(J.preventDefault(),!!Y())try{g(!0),w(null),$?(await Vo.update($.id,q),A("Chapitre modifi avec succs !")):(await Vo.create(q),A("Chapitre cr avec succs !")),ge(),await ce(),setTimeout(()=>A(null),3e3)}catch(ve){console.error("Erreur lors de la sauvegarde:",ve),w("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{g(!1)}},Me=async()=>{if(I)try{x(I.id),await Vo.delete(I.id),A("Chapitre supprim avec succs !"),ge(),await ce(),setTimeout(()=>A(null),3e3)}catch(J){console.error("Erreur lors de la suppression:",J),w("Erreur lors de la suppression. Veuillez ressayer.")}finally{x(null)}},oe=async J=>{try{await Vo.toggleActive(J.id,!J.actif),await ce(),A(J.actif?"Chapitre dsactiv":"Chapitre activ"),setTimeout(()=>A(null),2e3)}catch{w("Erreur lors de la mise  jour")}},Se=J=>{const ve=t.find(ke=>ke.id===J);return ve?ve.nom:"Non trouve"};return o.jsxs("div",{className:"chapitre-manager",children:[o.jsxs("header",{className:"admin-page-header",children:[o.jsxs("div",{className:"admin-page-header__info",children:[o.jsx("h1",{className:"admin-page-header__title",children:"Gestion des Chapitres"}),o.jsx("p",{className:"admin-page-header__subtitle",children:"Organisez le contenu pdagogique par chapitres"})]}),o.jsx("div",{className:"admin-page-header__actions",children:o.jsxs("button",{onClick:W,className:"btn btn--primary",disabled:!i||c,children:[o.jsx("span",{children:""}),"Nouveau chapitre"]})})]}),E&&o.jsxs("div",{className:"alert alert--error",children:[o.jsx("span",{className:"alert__icon",children:""}),o.jsx("div",{className:"alert__content",children:o.jsx("p",{className:"alert__message",children:E})}),o.jsx("button",{onClick:()=>w(null),className:"alert__close",children:""})]}),N&&o.jsxs("div",{className:"alert alert--success",children:[o.jsx("span",{className:"alert__icon",children:""}),o.jsx("div",{className:"alert__content",children:o.jsx("p",{className:"alert__message",children:N})})]}),o.jsx("div",{className:"content-card",style:{marginBottom:"var(--spacing-lg)"},children:o.jsx("div",{className:"content-card__body",children:o.jsxs("div",{className:"discipline-selector",children:[o.jsx("label",{className:"form-label",children:"Slectionner une discipline :"}),c?o.jsx("p",{className:"text-muted",children:"Chargement des disciplines..."}):t.length===0?o.jsxs("p",{className:"text-muted",children:["Aucune discipline disponible.",o.jsx("a",{href:"/admin/disciplines",children:" Crer une discipline"})]}):o.jsx("div",{className:"discipline-tabs",children:t.map(J=>o.jsxs("button",{className:`discipline-tab ${i===J.id?"discipline-tab--active":""}`,onClick:()=>_e(J.id),style:{"--discipline-color":J.couleur||"#2563eb"},children:[o.jsx("span",{className:"discipline-tab__icon",children:J.icone||""}),o.jsx("span",{className:"discipline-tab__name",children:J.nom}),o.jsx("span",{className:"discipline-tab__class",children:J.classe})]},J.id))})]})})}),o.jsxs("div",{className:"admin-table-container",children:[o.jsx("div",{className:"admin-table-header",children:o.jsxs("h2",{className:"admin-table-title",children:["Chapitres ",i&&`- ${Se(i)}`,n.length>0&&` (${n.length})`]})}),f?o.jsxs("div",{className:"loading-container",style:{padding:"var(--spacing-2xl)"},children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Chargement des chapitres..."})]}):i?n.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"empty-state__icon",children:""}),o.jsx("h3",{className:"empty-state__title",children:"Aucun chapitre"}),o.jsx("p",{className:"empty-state__message",children:"Cette discipline n'a pas encore de chapitres."}),o.jsx("button",{onClick:W,className:"btn btn--primary",children:"Crer le premier chapitre"})]}):o.jsx("div",{className:"chapitres-list",children:n.map(J=>o.jsxs("div",{className:`chapitre-card ${J.actif?"":"chapitre-card--inactive"}`,children:[o.jsx("div",{className:"chapitre-card__number",children:J.numero}),o.jsxs("div",{className:"chapitre-card__content",children:[o.jsxs("h3",{className:"chapitre-card__title",children:[J.titre,J.isPremium&&o.jsx("span",{className:"badge badge--premium",children:"Premium"}),!J.actif&&o.jsx("span",{className:"badge badge--warning",children:"Inactif"})]}),J.description&&o.jsx("p",{className:"chapitre-card__description",children:J.description}),o.jsxs("div",{className:"chapitre-card__meta",children:[J.dureeEstimee&&o.jsxs("span",{children:[" ",J.dureeEstimee,"h estime"]}),J.objectifs&&J.objectifs.length>0&&o.jsxs("span",{children:[" ",J.objectifs.length," objectif(s)"]})]})]}),o.jsxs("div",{className:"chapitre-card__actions",children:[o.jsx("button",{onClick:()=>oe(J),className:`table-action-btn ${J.actif?"table-action-btn--view":"table-action-btn--edit"}`,title:J.actif?"Dsactiver":"Activer",children:J.actif?"":""}),o.jsx("button",{onClick:()=>F(J),className:"table-action-btn table-action-btn--edit",title:"Modifier",children:""}),o.jsx("button",{onClick:()=>ne(J),className:"table-action-btn table-action-btn--delete",title:"Supprimer",disabled:y===J.id,children:y===J.id?"":""})]})]},J.id))}):o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"empty-state__icon",children:""}),o.jsx("h3",{className:"empty-state__title",children:"Slectionnez une discipline"}),o.jsx("p",{className:"empty-state__message",children:"Choisissez une discipline ci-dessus pour voir ses chapitres."})]})]}),R&&o.jsx("div",{className:"modal-overlay",onClick:ge,children:o.jsxs("div",{className:"modal modal--lg",onClick:J=>J.stopPropagation(),children:[o.jsxs("div",{className:"modal__header",children:[o.jsx("h2",{className:"modal__title",children:$?"Modifier le chapitre":"Nouveau chapitre"}),o.jsx("button",{onClick:ge,className:"modal__close",children:""})]}),o.jsxs("form",{onSubmit:pe,children:[o.jsxs("div",{className:"modal__body",children:[!$&&o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label form-label--required",children:"Discipline"}),o.jsxs("select",{name:"disciplineId",className:`form-select ${M.disciplineId?"form-select--error":""}`,value:q.disciplineId,onChange:je,children:[o.jsx("option",{value:"",children:"Slectionner une discipline"}),t.map(J=>o.jsxs("option",{value:J.id,children:[J.icone," ",J.nom," (",J.classe,")"]},J.id))]}),M.disciplineId&&o.jsx("span",{className:"form-error",children:M.disciplineId})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",style:{flex:"0 0 100px"},children:[o.jsx("label",{className:"form-label form-label--required",children:"N"}),o.jsx("input",{type:"number",name:"numero",className:`form-input ${M.numero?"form-input--error":""}`,min:"1",value:q.numero,onChange:je}),M.numero&&o.jsx("span",{className:"form-error",children:M.numero})]}),o.jsxs("div",{className:"form-group",style:{flex:1},children:[o.jsx("label",{className:"form-label form-label--required",children:"Titre du chapitre"}),o.jsx("input",{type:"text",name:"titre",className:`form-input ${M.titre?"form-input--error":""}`,placeholder:"Ex: Les fractions, La Rvolution franaise...",value:q.titre,onChange:je}),M.titre&&o.jsx("span",{className:"form-error",children:M.titre})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Description"}),o.jsx("textarea",{name:"description",className:"form-textarea",rows:3,placeholder:"Description du chapitre...",value:q.description||"",onChange:je})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Objectifs pdagogiques"}),o.jsxs("div",{className:"objectifs-input",children:[o.jsx("input",{type:"text",className:"form-input",placeholder:"Ajouter un objectif...",value:X,onChange:J=>Q(J.target.value),onKeyPress:J=>J.key==="Enter"&&(J.preventDefault(),Z())}),o.jsx("button",{type:"button",onClick:Z,className:"btn btn--outline btn--sm",children:"Ajouter"})]}),q.objectifs&&q.objectifs.length>0&&o.jsx("ul",{className:"objectifs-list",children:q.objectifs.map((J,ve)=>o.jsxs("li",{className:"objectif-item",children:[o.jsxs("span",{children:[" ",J]}),o.jsx("button",{type:"button",onClick:()=>re(ve),className:"objectif-remove",children:""})]},ve))})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Dure estime (heures)"}),o.jsx("input",{type:"number",name:"dureeEstimee",className:"form-input",min:"0",step:"0.5",placeholder:"Ex: 2",value:q.dureeEstimee||"",onChange:je})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Options"}),o.jsxs("div",{className:"form-options",children:[o.jsxs("label",{className:"form-checkbox",children:[o.jsx("input",{type:"checkbox",name:"isPremium",checked:q.isPremium,onChange:je}),o.jsx("span",{children:"Contenu Premium "})]}),o.jsxs("label",{className:"form-checkbox",children:[o.jsx("input",{type:"checkbox",name:"actif",checked:q.actif!==!1,onChange:je}),o.jsx("span",{children:"Chapitre actif"})]})]})]})]})]}),o.jsxs("div",{className:"modal__footer",children:[o.jsx("button",{type:"button",onClick:ge,className:"btn btn--outline",disabled:p,children:"Annuler"}),o.jsx("button",{type:"submit",className:"btn btn--primary",disabled:p,children:p?"Enregistrement...":$?"Mettre  jour":"Crer le chapitre"})]})]})]})}),C&&I&&o.jsx("div",{className:"modal-overlay",onClick:ge,children:o.jsxs("div",{className:"modal",onClick:J=>J.stopPropagation(),children:[o.jsxs("div",{className:"modal__header",children:[o.jsx("h2",{className:"modal__title",children:"Confirmer la suppression"}),o.jsx("button",{onClick:ge,className:"modal__close",children:""})]}),o.jsxs("div",{className:"modal__body",children:[o.jsxs("p",{children:["Supprimer le chapitre ",o.jsxs("strong",{children:[I.numero,". ",I.titre]})," ?"]}),o.jsxs("div",{className:"alert alert--warning",style:{marginTop:"var(--spacing-md)"},children:[o.jsx("span",{className:"alert__icon",children:""}),o.jsx("div",{className:"alert__content",children:o.jsx("p",{className:"alert__message",children:"Les ressources associes ne seront pas supprimes automatiquement."})})]})]}),o.jsxs("div",{className:"modal__footer",children:[o.jsx("button",{onClick:ge,className:"btn btn--outline",children:"Annuler"}),o.jsx("button",{onClick:Me,className:"btn btn--danger",disabled:y!==null,children:y?"Suppression...":"Supprimer"})]})]})}),o.jsx("style",{children:`
        /* Slecteur de discipline */
        .discipline-tabs {
          display: flex;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
          margin-top: var(--spacing-md);
        }

        .discipline-tab {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          padding: var(--spacing-sm) var(--spacing-md);
          border: 2px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: white;
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .discipline-tab:hover {
          border-color: var(--discipline-color, var(--color-primary));
        }

        .discipline-tab--active {
          border-color: var(--discipline-color, var(--color-primary));
          background: color-mix(in srgb, var(--discipline-color, var(--color-primary)) 10%, white);
        }

        .discipline-tab__icon {
          font-size: var(--text-lg);
        }

        .discipline-tab__name {
          font-weight: var(--font-medium);
        }

        .discipline-tab__class {
          font-size: var(--text-xs);
          color: var(--color-text-light);
          background: var(--color-bg-secondary);
          padding: 2px 6px;
          border-radius: var(--radius-sm);
        }

        /* Liste des chapitres */
        .chapitres-list {
          display: flex;
          flex-direction: column;
          gap: var(--spacing-md);
          padding: var(--spacing-lg);
        }

        .chapitre-card {
          display: flex;
          align-items: center;
          gap: var(--spacing-lg);
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          transition: all var(--transition-base);
        }

        .chapitre-card:hover {
          border-color: var(--color-primary);
          box-shadow: var(--shadow-md);
        }

        .chapitre-card--inactive {
          opacity: 0.6;
          background: var(--color-bg-tertiary);
        }

        .chapitre-card__number {
          width: 48px;
          height: 48px;
          background: var(--color-primary);
          color: white;
          border-radius: var(--radius-md);
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: var(--text-xl);
          font-weight: var(--font-bold);
          flex-shrink: 0;
        }

        .chapitre-card__content {
          flex: 1;
          min-width: 0;
        }

        .chapitre-card__title {
          font-size: var(--text-base);
          font-weight: var(--font-semibold);
          margin-bottom: var(--spacing-xs);
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
        }

        .chapitre-card__description {
          font-size: var(--text-sm);
          color: var(--color-text-light);
          margin: 0 0 var(--spacing-sm);
        }

        .chapitre-card__meta {
          display: flex;
          gap: var(--spacing-lg);
          font-size: var(--text-xs);
          color: var(--color-text-lighter);
        }

        .chapitre-card__actions {
          display: flex;
          gap: var(--spacing-sm);
        }

        /* Formulaire: Ligne */
        .form-row {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: var(--spacing-lg);
        }

        @media (max-width: 600px) {
          .form-row {
            grid-template-columns: 1fr;
          }
        }

        /* Objectifs */
        .objectifs-input {
          display: flex;
          gap: var(--spacing-sm);
        }

        .objectifs-list {
          list-style: none;
          margin-top: var(--spacing-md);
        }

        .objectif-item {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: var(--spacing-sm) var(--spacing-md);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-md);
          margin-bottom: var(--spacing-xs);
        }

        .objectif-remove {
          background: none;
          border: none;
          cursor: pointer;
          color: var(--color-error);
          opacity: 0.7;
        }

        .objectif-remove:hover {
          opacity: 1;
        }

        /* Options */
        .form-options {
          display: flex;
          flex-direction: column;
          gap: var(--spacing-sm);
          margin-top: var(--spacing-sm);
        }
      `})]})},sg=[{value:"cours",label:"Cours",icon:"",color:"#2563eb"},{value:"exercice",label:"Exercice",icon:"",color:"#10b981"},{value:"video",label:"Vido",icon:"",color:"#ef4444"},{value:"document",label:"Document",icon:"",color:"#f59e0b"},{value:"quiz",label:"Quiz",icon:"",color:"#8b5cf6"}],og={cours:[".pdf",".doc",".docx",".ppt",".pptx"],exercice:[".pdf",".doc",".docx"],video:[".mp4",".webm",".mov",".avi"],document:[".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx"],quiz:[".json",".pdf"]},Jx=50,GO={titre:"",type:"cours",description:"",contenu:"",chapitre:"",ordre:1,isPremium:!1,actif:!0,tags:[],duree:void 0,urlExterne:""},JY=()=>{const{currentUser:t}=Vn(),[e,n]=j.useState([]),[r,i]=j.useState([]),[s,c]=j.useState([]),[u,f]=j.useState([]),[h,p]=j.useState(""),[g,y]=j.useState(""),[x,E]=j.useState(""),[w,N]=j.useState(""),[A,R]=j.useState(""),[O,C]=j.useState(!0),[V,$]=j.useState(!1),[D,I]=j.useState(!1),[k,q]=j.useState(!1),[L,M]=j.useState(null),[U,X]=j.useState(!1),[Q,H]=j.useState(0),[ce,Y]=j.useState(null),[_e,W]=j.useState(null),[F,ne]=j.useState(!1),[ge,je]=j.useState(!1),[Z,re]=j.useState(!1),[pe,Me]=j.useState(null),[oe,Se]=j.useState(null),[J,ve]=j.useState(null),[ke,Fe]=j.useState({...GO,disciplineId:""}),[ot,ht]=j.useState({}),[gt,mr]=j.useState(null),[Rt,kt]=j.useState(null),zr=j.useRef(null),[he,Ie]=j.useState(""),Ve=j.useCallback(async()=>{try{C(!0);const te=await qc.getAll();n(te),te.length>0&&!h&&p(te[0].id)}catch(te){console.error("Erreur lors du chargement des disciplines:",te),Y("Impossible de charger les disciplines.")}finally{C(!1)}},[h]),Ke=j.useCallback(async()=>{if(!h){i([]);return}try{$(!0);const te=await Vo.getByDiscipline(h);i(te)}catch(te){console.error("Erreur lors du chargement des chapitres:",te)}finally{$(!1)}},[h]),Vt=j.useCallback(async()=>{if(!h){c([]),f([]);return}try{I(!0);const te=await Es.getByDiscipline(h);c(te),f(te)}catch(te){console.error("Erreur lors du chargement des ressources:",te),Y("Impossible de charger les ressources.")}finally{I(!1)}},[h]);j.useEffect(()=>{Ve()},[Ve]),j.useEffect(()=>{Ke()},[Ke]),j.useEffect(()=>{Vt()},[Vt]),j.useEffect(()=>{let te=[...s];if(g&&(te=te.filter(Ue=>Ue.chapitre===g)),x&&(te=te.filter(Ue=>Ue.type===x)),w==="premium"?te=te.filter(Ue=>Ue.isPremium):w==="free"&&(te=te.filter(Ue=>!Ue.isPremium)),A){const Ue=A.toLowerCase();te=te.filter(vt=>vt.titre.toLowerCase().includes(Ue)||vt.description?.toLowerCase().includes(Ue)||vt.tags?.some(Fn=>Fn.toLowerCase().includes(Ue)))}f(te)},[s,g,x,w,A]);const zn=()=>{const te={};if(ke.disciplineId||(te.disciplineId="Veuillez slectionner une discipline"),ke.titre.trim()?ke.titre.length<3&&(te.titre="Le titre doit contenir au moins 3 caractres"):te.titre="Le titre est requis",ke.type||(te.type="Veuillez slectionner un type de ressource"),gt){const Ue="."+gt.name.split(".").pop()?.toLowerCase(),vt=og[ke.type];vt.includes(Ue)||(te.fichier=`Extension non autorise. Extensions acceptes : ${vt.join(", ")}`),gt.size/(1024*1024)>Jx&&(te.fichier=`Le fichier est trop volumineux (max ${Jx} Mo)`)}return ht(te),Object.keys(te).length===0},Lr=te=>{p(te),y(""),Y(null)},ao=()=>{Me(null),Fe({...GO,disciplineId:h}),ht({}),mr(null),kt(null),Ie(""),ne(!0)},qr=te=>{Me(te),Fe({disciplineId:te.disciplineId,titre:te.titre,type:te.type,description:te.description,contenu:te.contenu,chapitre:te.chapitre||"",ordre:te.ordre,isPremium:te.isPremium,actif:te.actif,tags:te.tags||[],duree:te.duree,urlExterne:te.urlExterne||""}),ht({}),mr(null),kt(te.fichierURL||null),Ie(""),ne(!0)},Hi=te=>{ve(te),re(!0)},Gc=te=>{Se(te),je(!0)},on=()=>{ne(!1),je(!1),re(!1),Me(null),Se(null),ve(null),ht({}),mr(null),kt(null),Ie("")},At=te=>{const{name:Ue,value:vt,type:Fn}=te.target,Sl=te.target.checked;Fe(_i=>({..._i,[Ue]:Fn==="checkbox"?Sl:Fn==="number"?Number(vt):vt})),ot[Ue]&&ht(_i=>({..._i,[Ue]:void 0}))},Ur=te=>{const Ue=te.target.files?.[0];if(Ue)if(mr(Ue),ht(vt=>({...vt,fichier:void 0})),Ue.type.startsWith("image/")||Ue.type.startsWith("video/")){const vt=new FileReader;vt.onloadend=()=>{kt(vt.result)},vt.readAsDataURL(Ue)}else kt(null)},en=()=>{mr(null),kt(null),zr.current&&(zr.current.value="")},Nl=()=>{he.trim()&&!ke.tags?.includes(he.trim())&&(Fe(te=>({...te,tags:[...te.tags||[],he.trim()]})),Ie(""))},so=te=>{Fe(Ue=>({...Ue,tags:(Ue.tags||[]).filter((vt,Fn)=>Fn!==te)}))},Kc=async te=>{if(te.preventDefault(),!!zn())try{q(!0),Y(null);let Ue=pe?.fichierURL,vt=pe?.fichierNom;if(gt){X(!0);const Sl=pe?.id||`temp_${Date.now()}`;Ue=await Es.uploadFile(gt,Sl),vt=gt?.name||"fichier",X(!1)}const Fn={...ke,fichierURL:Ue,fichierNom:vt};pe?(await Es.update(pe.id,Fn),W("Ressource modifie avec succs !")):(await Es.create(Fn,"admin"),W("Ressource cre avec succs !")),on(),await Vt(),setTimeout(()=>W(null),3e3)}catch(Ue){console.error("Erreur lors de la sauvegarde:",Ue),Y("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{q(!1),X(!1),H(0)}},bi=async()=>{if(oe)try{M(oe.id),oe.fichierURL&&await Es.deleteFile(oe.fichierURL),await Es.delete(oe.id),W("Ressource supprime avec succs !"),on(),await Vt(),setTimeout(()=>W(null),3e3)}catch(te){console.error("Erreur lors de la suppression:",te),Y("Erreur lors de la suppression. Veuillez ressayer.")}finally{M(null)}},ns=async te=>{try{await Es.togglePremium(te.id,!te.isPremium),await Vt(),W(te.isPremium?"Ressource passe en gratuit":"Ressource passe en Premium"),setTimeout(()=>W(null),2e3)}catch{Y("Erreur lors de la mise  jour")}},ln=te=>{const Ue=e.find(vt=>vt.id===te);return Ue?Ue.nom:"Non trouve"},xi=te=>{const Ue=r.find(vt=>vt.id===te);return Ue?`${Ue.numero}. ${Ue.titre}`:""},pr=te=>sg.find(Ue=>Ue.value===te)||sg[0],ti=te=>te<1024?te+" o":te<1024*1024?(te/1024).toFixed(1)+" Ko":(te/(1024*1024)).toFixed(1)+" Mo";return o.jsxs("div",{className:"resource-manager",children:[o.jsxs("header",{className:"admin-page-header",children:[o.jsxs("div",{className:"admin-page-header__info",children:[o.jsx("h1",{className:"admin-page-header__title",children:"Gestion des Ressources"}),o.jsx("p",{className:"admin-page-header__subtitle",children:"Grez les cours, exercices, vidos et documents pdagogiques"})]}),o.jsx("div",{className:"admin-page-header__actions",children:o.jsxs("button",{onClick:ao,className:"btn btn--primary",disabled:!h||O,children:[o.jsx("span",{children:""}),"Nouvelle ressource"]})})]}),ce&&o.jsxs("div",{className:"alert alert--error",children:[o.jsx("span",{className:"alert__icon",children:""}),o.jsx("div",{className:"alert__content",children:o.jsx("p",{className:"alert__message",children:ce})}),o.jsx("button",{onClick:()=>Y(null),className:"alert__close",children:""})]}),_e&&o.jsxs("div",{className:"alert alert--success",children:[o.jsx("span",{className:"alert__icon",children:""}),o.jsx("div",{className:"alert__content",children:o.jsx("p",{className:"alert__message",children:_e})})]}),o.jsx("div",{className:"content-card",style:{marginBottom:"var(--spacing-lg)"},children:o.jsx("div",{className:"content-card__body",children:o.jsxs("div",{className:"discipline-selector",children:[o.jsx("label",{className:"form-label",children:"Slectionner une discipline :"}),O?o.jsx("p",{className:"text-muted",children:"Chargement des disciplines..."}):e.length===0?o.jsxs("p",{className:"text-muted",children:["Aucune discipline disponible.",o.jsx("a",{href:"/admin/disciplines",children:" Crer une discipline"})]}):o.jsx("div",{className:"discipline-tabs",children:e.map(te=>o.jsxs("button",{className:`discipline-tab ${h===te.id?"discipline-tab--active":""}`,onClick:()=>Lr(te.id),style:{"--discipline-color":te.couleur||"#2563eb"},children:[o.jsx("span",{className:"discipline-tab__icon",children:te.icone||""}),o.jsx("span",{className:"discipline-tab__name",children:te.nom}),o.jsx("span",{className:"discipline-tab__class",children:te.classe})]},te.id))})]})})}),o.jsxs("div",{className:"admin-table-container",children:[o.jsxs("div",{className:"admin-table-header",children:[o.jsxs("h2",{className:"admin-table-title",children:["Ressources ",h&&`- ${ln(h)}`,u.length>0&&` (${u.length})`]}),o.jsxs("div",{className:"admin-table-actions",children:[o.jsxs("div",{className:"search-input",children:[o.jsx("span",{className:"search-input__icon",children:""}),o.jsx("input",{type:"text",className:"search-input__field",placeholder:"Rechercher...",value:A,onChange:te=>R(te.target.value)})]}),o.jsxs("select",{className:"form-select form-select--sm",value:g,onChange:te=>y(te.target.value),disabled:V||r.length===0,children:[o.jsx("option",{value:"",children:"Tous les chapitres"}),r.map(te=>o.jsxs("option",{value:te.id,children:[te.numero,". ",te.titre]},te.id))]}),o.jsxs("select",{className:"form-select form-select--sm",value:x,onChange:te=>E(te.target.value),children:[o.jsx("option",{value:"",children:"Tous les types"}),sg.map(te=>o.jsxs("option",{value:te.value,children:[te.icon," ",te.label]},te.value))]}),o.jsxs("select",{className:"form-select form-select--sm",value:w,onChange:te=>N(te.target.value),children:[o.jsx("option",{value:"",children:"Tous"}),o.jsx("option",{value:"premium",children:" Premium"}),o.jsx("option",{value:"free",children:"Gratuit"})]})]})]}),D?o.jsxs("div",{className:"loading-container",style:{padding:"var(--spacing-2xl)"},children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Chargement des ressources..."})]}):h?u.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"empty-state__icon",children:""}),o.jsx("h3",{className:"empty-state__title",children:"Aucune ressource"}),o.jsx("p",{className:"empty-state__message",children:A||x||w||g?"Aucune ressource ne correspond aux critres de recherche.":"Cette discipline n'a pas encore de ressources."}),!A&&!x&&!w&&!g&&o.jsx("button",{onClick:ao,className:"btn btn--primary",children:"Crer la premire ressource"})]}):o.jsx("div",{className:"resource-list",style:{padding:"var(--spacing-lg)"},children:u.map(te=>{const Ue=pr(te.type);return o.jsxs("div",{className:"resource-item",children:[o.jsx("div",{className:`resource-item__icon resource-item__icon--${te.type}`,style:{backgroundColor:`${Ue.color}15`,color:Ue.color},children:Ue.icon}),o.jsxs("div",{className:"resource-item__content",children:[o.jsxs("div",{className:"resource-item__title",children:[te.titre,te.isPremium&&o.jsx("span",{className:"badge badge--premium",children:"Premium"}),!te.actif&&o.jsx("span",{className:"badge badge--warning",children:"Inactif"})]}),o.jsxs("div",{className:"resource-item__meta",children:[o.jsx("span",{children:Ue.label}),te.chapitre&&o.jsxs("span",{children:[" ",xi(te.chapitre)]}),te.duree&&o.jsxs("span",{children:[" ",te.duree," min"]}),te.fichierNom&&o.jsxs("span",{children:[" ",te.fichierNom]}),te.tags&&te.tags.length>0&&o.jsxs("span",{children:[" ",te.tags.join(", ")]})]})]}),o.jsxs("div",{className:"resource-item__actions",children:[o.jsx("button",{onClick:()=>ns(te),className:`table-action-btn ${te.isPremium?"table-action-btn--warning":"table-action-btn--view"}`,title:te.isPremium?"Passer en gratuit":"Passer en Premium",children:te.isPremium?"":""}),(te.fichierURL||te.urlExterne)&&o.jsx("button",{onClick:()=>Hi(te),className:"table-action-btn table-action-btn--view",title:"Prvisualiser",children:""}),o.jsx("button",{onClick:()=>qr(te),className:"table-action-btn table-action-btn--edit",title:"Modifier",children:""}),o.jsx("button",{onClick:()=>Gc(te),className:"table-action-btn table-action-btn--delete",title:"Supprimer",disabled:L===te.id,children:L===te.id?"":""})]})]},te.id)})}):o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"empty-state__icon",children:""}),o.jsx("h3",{className:"empty-state__title",children:"Slectionnez une discipline"}),o.jsx("p",{className:"empty-state__message",children:"Choisissez une discipline ci-dessus pour voir ses ressources."})]})]}),F&&o.jsx("div",{className:"modal-overlay",onClick:on,children:o.jsxs("div",{className:"modal modal--xl",onClick:te=>te.stopPropagation(),children:[o.jsxs("div",{className:"modal__header",children:[o.jsx("h2",{className:"modal__title",children:pe?"Modifier la ressource":"Nouvelle ressource"}),o.jsx("button",{onClick:on,className:"modal__close",children:""})]}),o.jsxs("form",{onSubmit:Kc,children:[o.jsxs("div",{className:"modal__body",children:[!pe&&o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label form-label--required",children:"Discipline"}),o.jsxs("select",{name:"disciplineId",className:`form-select ${ot.disciplineId?"form-select--error":""}`,value:ke.disciplineId,onChange:At,children:[o.jsx("option",{value:"",children:"Slectionner une discipline"}),e.map(te=>o.jsxs("option",{value:te.id,children:[te.icone," ",te.nom," (",te.classe,")"]},te.id))]}),ot.disciplineId&&o.jsx("span",{className:"form-error",children:ot.disciplineId})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",style:{flex:2},children:[o.jsx("label",{className:"form-label form-label--required",children:"Titre"}),o.jsx("input",{type:"text",name:"titre",className:`form-input ${ot.titre?"form-input--error":""}`,placeholder:"Ex: Introduction aux fractions",value:ke.titre,onChange:At}),ot.titre&&o.jsx("span",{className:"form-error",children:ot.titre})]}),o.jsxs("div",{className:"form-group",style:{flex:1},children:[o.jsx("label",{className:"form-label form-label--required",children:"Type"}),o.jsx("select",{name:"type",className:`form-select ${ot.type?"form-select--error":""}`,value:ke.type,onChange:At,children:sg.map(te=>o.jsxs("option",{value:te.value,children:[te.icon," ",te.label]},te.value))}),ot.type&&o.jsx("span",{className:"form-error",children:ot.type})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Chapitre (optionnel)"}),o.jsxs("select",{name:"chapitreId",className:"form-select",value:ke.chapitre||"",onChange:At,disabled:V,children:[o.jsx("option",{value:"",children:"Aucun chapitre"}),r.map(te=>o.jsxs("option",{value:te.id,children:[te.numero,". ",te.titre]},te.id))]})]}),o.jsxs("div",{className:"form-group",style:{flex:"0 0 120px"},children:[o.jsx("label",{className:"form-label",children:"Ordre"}),o.jsx("input",{type:"number",name:"ordre",className:"form-input",min:"1",value:ke.ordre,onChange:At})]}),o.jsxs("div",{className:"form-group",style:{flex:"0 0 120px"},children:[o.jsx("label",{className:"form-label",children:"Dure (min)"}),o.jsx("input",{type:"number",name:"duree",className:"form-input",min:"0",placeholder:"Ex: 30",value:ke.duree||"",onChange:At})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Description"}),o.jsx("textarea",{name:"description",className:"form-textarea",rows:3,placeholder:"Description de la ressource...",value:ke.description||"",onChange:At})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Fichier",o.jsxs("span",{className:"form-helper",style:{marginLeft:"var(--spacing-sm)"},children:["(",og[ke.type].join(", ")," - max ",Jx," Mo)"]})]}),o.jsxs("div",{className:"file-upload",children:[o.jsx("input",{ref:zr,type:"file",accept:og[ke.type].join(","),onChange:Ur,className:"file-upload__input",id:"file-input"}),!gt&&!Rt?o.jsxs("label",{htmlFor:"file-input",className:"file-upload__dropzone",children:[o.jsx("div",{className:"file-upload__icon",children:""}),o.jsx("p",{className:"file-upload__text",children:"Cliquez ou glissez un fichier ici"}),o.jsx("p",{className:"file-upload__hint",children:og[ke.type].join(", ")})]}):o.jsxs("div",{className:"file-upload__preview",children:[gt?.type.startsWith("image/")&&Rt&&o.jsx("img",{src:Rt,alt:"Aperu",className:"file-preview__image"}),gt?.type.startsWith("video/")&&Rt&&o.jsx("video",{src:Rt,controls:!0,className:"file-preview__video"}),!gt?.type.startsWith("image/")&&!gt?.type.startsWith("video/")&&o.jsx("div",{className:"file-preview__document",children:o.jsx("span",{className:"file-preview__icon",children:pr(ke.type).icon})}),o.jsxs("div",{className:"file-preview__info",children:[o.jsx("p",{className:"file-preview__name",children:gt?.name||pe?.fichierNom}),gt&&o.jsx("p",{className:"file-preview__size",children:ti(gt.size)})]}),o.jsx("button",{type:"button",onClick:en,className:"file-preview__remove",children:""})]})]}),ot.fichier&&o.jsx("span",{className:"form-error",children:ot.fichier}),U&&o.jsxs("div",{className:"upload-progress",children:[o.jsx("div",{className:"upload-progress__bar",style:{width:`${Q}%`}}),o.jsxs("span",{className:"upload-progress__text",children:[Q,"%"]})]})]}),ke.type==="video"&&o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"URL externe (YouTube, Vimeo...)"}),o.jsx("input",{type:"url",name:"urlExterne",className:"form-input",placeholder:"https://www.youtube.com/watch?v=...",value:ke.urlExterne||"",onChange:At}),o.jsx("span",{className:"form-helper",children:"Alternative  l'upload de fichier"})]}),ke.type==="cours"&&o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Contenu du cours"}),o.jsx("textarea",{name:"contenu",className:"form-textarea",rows:6,placeholder:"Saisissez le contenu du cours ici...",value:ke.contenu||"",onChange:At}),o.jsx("span",{className:"form-helper",children:"Optionnel si vous uploadez un fichier"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Tags"}),o.jsxs("div",{className:"tags-input",children:[o.jsx("input",{type:"text",className:"form-input",placeholder:"Ajouter un tag...",value:he,onChange:te=>Ie(te.target.value),onKeyPress:te=>te.key==="Enter"&&(te.preventDefault(),Nl())}),o.jsx("button",{type:"button",onClick:Nl,className:"btn btn--outline btn--sm",children:"Ajouter"})]}),ke.tags&&ke.tags.length>0&&o.jsx("div",{className:"tags-list",children:ke.tags.map((te,Ue)=>o.jsxs("span",{className:"tag",children:[te,o.jsx("button",{type:"button",onClick:()=>so(Ue),className:"tag__remove",children:""})]},Ue))})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Options"}),o.jsxs("div",{className:"form-options",children:[o.jsxs("label",{className:"form-checkbox",children:[o.jsx("input",{type:"checkbox",name:"isPremium",checked:ke.isPremium,onChange:At}),o.jsx("span",{children:"Contenu Premium "})]}),o.jsxs("label",{className:"form-checkbox",children:[o.jsx("input",{type:"checkbox",name:"actif",checked:ke.actif!==!1,onChange:At}),o.jsx("span",{children:"Ressource active"})]})]})]})]}),o.jsxs("div",{className:"modal__footer",children:[o.jsx("button",{type:"button",onClick:on,className:"btn btn--outline",disabled:k||U,children:"Annuler"}),o.jsx("button",{type:"submit",className:"btn btn--primary",disabled:k||U,children:k||U?U?`Upload ${Q}%...`:"Enregistrement...":pe?"Mettre  jour":"Crer la ressource"})]})]})]})}),Z&&J&&o.jsx("div",{className:"modal-overlay",onClick:on,children:o.jsxs("div",{className:"modal modal--xl",onClick:te=>te.stopPropagation(),children:[o.jsxs("div",{className:"modal__header",children:[o.jsxs("h2",{className:"modal__title",children:[pr(J.type).icon," ",J.titre]}),o.jsx("button",{onClick:on,className:"modal__close",children:""})]}),o.jsxs("div",{className:"modal__body",children:[J.type==="video"&&J.urlExterne?o.jsx("div",{className:"preview-video",children:o.jsx("iframe",{src:J.urlExterne.replace("watch?v=","embed/"),title:J.titre,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):J.fichierURL?o.jsx("div",{className:"preview-file",children:J.fichierURL.match(/\.(jpg|jpeg|png|gif|webp)$/i)?o.jsx("img",{src:J.fichierURL,alt:J.titre}):J.fichierURL.match(/\.(mp4|webm)$/i)?o.jsx("video",{src:J.fichierURL,controls:!0}):J.fichierURL.match(/\.pdf$/i)?o.jsx("iframe",{src:J.fichierURL,title:J.titre}):o.jsxs("div",{className:"preview-download",children:[o.jsx("span",{className:"preview-download__icon",children:pr(J.type).icon}),o.jsx("p",{children:J.fichierNom}),o.jsx("a",{href:J.fichierURL,target:"_blank",rel:"noopener noreferrer",className:"btn btn--primary",children:"Tlcharger"})]})}):J.contenu?o.jsx("div",{className:"preview-content",children:o.jsx("p",{children:J.contenu})}):o.jsx("div",{className:"preview-empty",children:o.jsx("p",{children:"Aucun contenu  prvisualiser"})}),o.jsxs("div",{className:"preview-info",children:[J.description&&o.jsx("p",{className:"preview-description",children:J.description}),o.jsxs("div",{className:"preview-meta",children:[o.jsxs("span",{children:["Type : ",pr(J.type).label]}),J.duree&&o.jsxs("span",{children:["Dure : ",J.duree," min"]}),J.isPremium&&o.jsx("span",{className:"badge badge--premium",children:"Premium"})]})]})]})]})}),ge&&oe&&o.jsx("div",{className:"modal-overlay",onClick:on,children:o.jsxs("div",{className:"modal",onClick:te=>te.stopPropagation(),children:[o.jsxs("div",{className:"modal__header",children:[o.jsx("h2",{className:"modal__title",children:"Confirmer la suppression"}),o.jsx("button",{onClick:on,className:"modal__close",children:""})]}),o.jsxs("div",{className:"modal__body",children:[o.jsxs("p",{children:["Supprimer la ressource ",o.jsx("strong",{children:oe.titre})," ?"]}),oe.fichierURL&&o.jsxs("div",{className:"alert alert--warning",style:{marginTop:"var(--spacing-md)"},children:[o.jsx("span",{className:"alert__icon",children:""}),o.jsx("div",{className:"alert__content",children:o.jsx("p",{className:"alert__message",children:"Le fichier associ sera galement supprim de faon permanente."})})]})]}),o.jsxs("div",{className:"modal__footer",children:[o.jsx("button",{onClick:on,className:"btn btn--outline",children:"Annuler"}),o.jsx("button",{onClick:bi,className:"btn btn--danger",disabled:L!==null,children:L?"Suppression...":"Supprimer"})]})]})}),o.jsx("style",{children:`
        /* ==================== SLECTEUR DE DISCIPLINE ==================== */
        
        .discipline-tabs {
          display: flex;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
          margin-top: var(--spacing-md);
        }

        .discipline-tab {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          padding: var(--spacing-sm) var(--spacing-md);
          border: 2px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: white;
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .discipline-tab:hover {
          border-color: var(--discipline-color, var(--color-primary));
        }

        .discipline-tab--active {
          border-color: var(--discipline-color, var(--color-primary));
          background: color-mix(in srgb, var(--discipline-color, var(--color-primary)) 10%, white);
        }

        .discipline-tab__icon {
          font-size: var(--text-lg);
        }

        .discipline-tab__name {
          font-weight: var(--font-medium);
        }

        .discipline-tab__class {
          font-size: var(--text-xs);
          color: var(--color-text-light);
          background: var(--color-bg-secondary);
          padding: 2px 6px;
          border-radius: var(--radius-sm);
        }

        /* ==================== FORMULAIRE ==================== */
        
        .form-row {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: var(--spacing-lg);
        }

        .form-options {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-lg);
          margin-top: var(--spacing-sm);
        }

        .form-select--sm {
          padding: var(--spacing-sm) var(--spacing-md);
          font-size: var(--text-sm);
          min-width: 140px;
        }

        /* ==================== UPLOAD DE FICHIER ==================== */
        
        .file-upload {
          position: relative;
        }

        .file-upload__input {
          position: absolute;
          opacity: 0;
          pointer-events: none;
        }

        .file-upload__dropzone {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: var(--spacing-xl);
          border: 2px dashed var(--color-border);
          border-radius: var(--radius-lg);
          background: var(--color-bg-secondary);
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .file-upload__dropzone:hover {
          border-color: var(--color-primary);
          background: rgba(37, 99, 235, 0.05);
        }

        .file-upload__icon {
          font-size: 48px;
          margin-bottom: var(--spacing-md);
        }

        .file-upload__text {
          font-weight: var(--font-medium);
          margin-bottom: var(--spacing-xs);
        }

        .file-upload__hint {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        .file-upload__preview {
          display: flex;
          align-items: center;
          gap: var(--spacing-lg);
          padding: var(--spacing-md);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: var(--color-bg-secondary);
        }

        .file-preview__image,
        .file-preview__video {
          width: 120px;
          height: 80px;
          object-fit: cover;
          border-radius: var(--radius-md);
        }

        .file-preview__document {
          width: 80px;
          height: 80px;
          background: white;
          border: 1px solid var(--color-border);
          border-radius: var(--radius-md);
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .file-preview__icon {
          font-size: 32px;
        }

        .file-preview__info {
          flex: 1;
        }

        .file-preview__name {
          font-weight: var(--font-medium);
          margin-bottom: var(--spacing-xs);
          word-break: break-all;
        }

        .file-preview__size {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        .file-preview__remove {
          width: 32px;
          height: 32px;
          border: none;
          background: var(--color-error);
          color: white;
          border-radius: 50%;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all var(--transition-base);
        }

        .file-preview__remove:hover {
          background: #dc2626;
          transform: scale(1.1);
        }

        /* ==================== BARRE DE PROGRESSION ==================== */
        
        .upload-progress {
          margin-top: var(--spacing-md);
          height: 8px;
          background: var(--color-bg-tertiary);
          border-radius: var(--radius-full);
          overflow: hidden;
          position: relative;
        }

        .upload-progress__bar {
          height: 100%;
          background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
          border-radius: var(--radius-full);
          transition: width var(--transition-base);
        }

        .upload-progress__text {
          position: absolute;
          right: var(--spacing-sm);
          top: 50%;
          transform: translateY(-50%);
          font-size: var(--text-xs);
          font-weight: var(--font-semibold);
          color: var(--color-text);
        }

        /* ==================== TAGS ==================== */
        
        .tags-input {
          display: flex;
          gap: var(--spacing-sm);
        }

        .tags-list {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-sm);
          margin-top: var(--spacing-md);
        }

        .tag {
          display: inline-flex;
          align-items: center;
          gap: var(--spacing-xs);
          padding: var(--spacing-xs) var(--spacing-sm);
          background: var(--color-bg-tertiary);
          border-radius: var(--radius-full);
          font-size: var(--text-sm);
          color: var(--color-text);
        }

        .tag__remove {
          width: 18px;
          height: 18px;
          border: none;
          background: transparent;
          color: var(--color-text-light);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
          transition: all var(--transition-base);
        }

        .tag__remove:hover {
          background: var(--color-error);
          color: white;
        }

        /* ==================== PRVISUALISATION ==================== */
        
        .preview-video {
          position: relative;
          padding-bottom: 56.25%;
          height: 0;
          overflow: hidden;
          border-radius: var(--radius-lg);
        }

        .preview-video iframe {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          border: none;
        }

        .preview-file {
          text-align: center;
        }

        .preview-file img,
        .preview-file video {
          max-width: 100%;
          max-height: 60vh;
          border-radius: var(--radius-lg);
        }

        .preview-file iframe {
          width: 100%;
          height: 60vh;
          border: none;
          border-radius: var(--radius-lg);
        }

        .preview-download {
          padding: var(--spacing-2xl);
          text-align: center;
        }

        .preview-download__icon {
          font-size: 64px;
          display: block;
          margin-bottom: var(--spacing-lg);
        }

        .preview-content {
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-lg);
          white-space: pre-wrap;
        }

        .preview-empty {
          padding: var(--spacing-2xl);
          text-align: center;
          color: var(--color-text-light);
        }

        .preview-info {
          margin-top: var(--spacing-lg);
          padding-top: var(--spacing-lg);
          border-top: 1px solid var(--color-border);
        }

        .preview-description {
          color: var(--color-text-light);
          margin-bottom: var(--spacing-md);
        }

        .preview-meta {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-lg);
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        /* ==================== RESSOURCES - AFFICHAGE CARTE ==================== */
        
        .resource-item__title {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
        }

        /* ==================== ACTION WARNING ==================== */
        
        .table-action-btn--warning {
          color: var(--color-warning);
        }

        /* ==================== RESPONSIVE ==================== */
        
        @media (max-width: 768px) {
          .form-row {
            grid-template-columns: 1fr;
          }

          .admin-table-actions {
            flex-direction: column;
            align-items: stretch;
          }

          .search-input__field {
            width: 100%;
          }

          .file-upload__preview {
            flex-direction: column;
            text-align: center;
          }

          .preview-meta {
            flex-direction: column;
            gap: var(--spacing-sm);
          }
        }
      `})]})},lL=rt(Ee,"quizzes"),cL=async t=>{try{let e=Nt(lL,jr("titre","asc"));t?.disciplineId;let r=(await St(e)).docs.map(i=>({id:i.id,...i.data()}));return t?.isPremium,t?.difficulte,r}catch(e){throw console.error("Erreur lors de la rcupration des quiz :",e),e}},ZY=async t=>{try{const e=await Zr(Qe(Ee,"quizzes",t));return e.exists()?{id:e.id,...e.data()}:null}catch(e){throw console.error("Erreur lors de la rcupration du quiz :",e),e}},eX=async t=>{try{return(await Bi(lL,{...t,createdAt:Ye.now(),updatedAt:Ye.now()})).id}catch(e){throw console.error("Erreur lors de la cration du quiz :",e),e}},tX=async(t,e)=>{try{await an(Qe(Ee,"quizzes",t),{...e,updatedAt:Ye.now()})}catch(n){throw console.error("Erreur lors de la mise  jour du quiz :",n),n}},nX=async t=>{try{await Ad(Qe(Ee,"quizzes",t))}catch(e){throw console.error("Erreur lors de la suppression du quiz :",e),e}},rX=()=>`q_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,KO=()=>({id:rX(),question:"",options:["","","",""],reponseCorrecte:0,explication:"",difficulte:"moyen",points:1}),QO=t=>{const e=t.questions||[],n=e.reduce((i,s)=>i+(s.points||1),0),r={facile:e.filter(i=>i.difficulte==="facile").length,moyen:e.filter(i=>i.difficulte==="moyen").length,difficile:e.filter(i=>i.difficulte==="difficile").length};return{nombreQuestions:e.length,totalPoints:n,parDifficulte:r,duree:t.duree||0}},iX=()=>{const[t,e]=j.useState([]),[n,r]=j.useState([]),[i,s]=j.useState(!0),[c,u]=j.useState(null),[f,h]=j.useState(null),[p,g]=j.useState(""),[y,x]=j.useState(""),[E,w]=j.useState(""),[N,A]=j.useState(""),[R,O]=j.useState(!1),[C,V]=j.useState("list"),[$,D]=j.useState(null),[I,k]=j.useState({disciplineId:"",titre:"",questions:[],duree:15,isPremium:!1,noteMinimale:50}),[q,L]=j.useState(null),[M,U]=j.useState(!1),[X,Q]=j.useState(null),[H,ce]=j.useState(null),[Y,_e]=j.useState({}),[W,F]=j.useState(!1),ne=j.useCallback(async()=>{s(!0),u(null);try{const[he,Ie]=await Promise.all([cL(),qc.getAll()]);e(he),r(Ie.map(Ve=>({id:Ve.id,nom:Ve.nom||Ve.name||Ve.id})))}catch(he){u("Erreur lors du chargement des donnes."),console.error(he)}finally{s(!1)}},[]);j.useEffect(()=>{ne()},[ne]),j.useEffect(()=>{if(f){const he=setTimeout(()=>h(null),4e3);return()=>clearTimeout(he)}},[f]);const ge=t.filter(he=>{if(p){const Ie=p.toLowerCase();if(!he.titre.toLowerCase().includes(Ie))return!1}return!(y&&he.disciplineId!==y||E==="true"&&!he.isPremium||E==="false"&&he.isPremium||N&&!he.questions?.some(Ve=>Ve.difficulte===N))}),je=()=>{D(null),k({disciplineId:"",titre:"",questions:[KO()],duree:15,isPremium:!1,noteMinimale:50}),L(null),V("form")},Z=he=>{D(he),k({disciplineId:he.disciplineId,titre:he.titre,questions:he.questions||[],duree:he.duree||15,isPremium:he.isPremium||!1,noteMinimale:he.noteMinimale||50}),L(null),V("form")},re=async()=>{if(!I.titre.trim()){u("Le titre du quiz est obligatoire.");return}if(!I.disciplineId){u("Veuillez slectionner une discipline.");return}if(I.questions.length===0){u("Le quiz doit contenir au moins une question.");return}for(let he=0;he<I.questions.length;he++){const Ie=I.questions[he];if(!Ie.question.trim()){u(`La question ${he+1} n'a pas d'nonc.`);return}if(Ie.options.filter(Ke=>!Ke.trim()).length>0){u(`La question ${he+1} a des options vides.`);return}}U(!0),u(null);try{$?(await tX($.id,I),h("Quiz mis  jour avec succs !")):(await eX(I),h("Quiz cr avec succs !")),await ne(),V("list")}catch(he){u("Erreur lors de la sauvegarde du quiz."),console.error(he)}finally{U(!1)}},pe=async he=>{try{await nX(he),h("Quiz supprim avec succs."),Q(null),await ne()}catch(Ie){u("Erreur lors de la suppression du quiz."),console.error(Ie)}},Me=()=>{const he=KO();k(Ie=>({...Ie,questions:[...Ie.questions,he]})),L(he.id)},oe=he=>{const Ie=I.questions.find(zn=>zn.id===he);if(!Ie)return;const Ve={...Ie,id:`q_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,question:`${Ie.question} (copie)`},Ke=I.questions.findIndex(zn=>zn.id===he),Vt=[...I.questions];Vt.splice(Ke+1,0,Ve),k(zn=>({...zn,questions:Vt})),L(Ve.id)},Se=he=>{k(Ie=>({...Ie,questions:Ie.questions.filter(Ve=>Ve.id!==he)})),q===he&&L(null)},J=(he,Ie,Ve)=>{k(Ke=>({...Ke,questions:Ke.questions.map(Vt=>Vt.id===he?{...Vt,[Ie]:Ve}:Vt)}))},ve=(he,Ie,Ve)=>{k(Ke=>({...Ke,questions:Ke.questions.map(Vt=>Vt.id===he?{...Vt,options:Vt.options.map((zn,Lr)=>Lr===Ie?Ve:zn)}:Vt)}))},ke=he=>{ce(he),_e({}),F(!1),V("preview")},Fe=(he,Ie)=>{W||_e(Ve=>({...Ve,[he]:Ie}))},ot=()=>{F(!0)},ht=he=>n.find(Ie=>Ie.id===he)?.nom||he,gt=({level:he})=>{const Ie={facile:"quiz-badge-facile",moyen:"quiz-badge-moyen",difficile:"quiz-badge-difficile"};return o.jsx("span",{className:`quiz-badge ${Ie[he]||"quiz-badge-moyen"}`,children:he.charAt(0).toUpperCase()+he.slice(1)})},mr=()=>o.jsxs(o.Fragment,{children:[c&&o.jsxs("div",{className:"admin-message admin-message-error",children:[o.jsx(dv,{size:18}),o.jsx("span",{children:c}),o.jsx("button",{onClick:()=>u(null),className:"admin-message-close",children:o.jsx(mc,{size:16})})]}),f&&o.jsxs("div",{className:"admin-message admin-message-success",children:[o.jsx(fn,{size:18}),o.jsx("span",{children:f})]})]}),Rt=()=>o.jsxs("div",{className:"quiz-manager",children:[o.jsxs("div",{className:"admin-header",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"admin-title",children:[o.jsx(oa,{size:24})," Gestion des Quiz"]}),o.jsxs("p",{className:"admin-subtitle",children:[t.length," quiz au total  ",ge.length," affich(s)"]})]}),o.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:je,children:[o.jsx(ag,{size:18})," Nouveau Quiz"]})]}),o.jsxs("div",{className:"admin-toolbar",children:[o.jsxs("div",{className:"admin-search-wrapper",children:[o.jsx(eL,{size:18,className:"admin-search-icon"}),o.jsx("input",{type:"text",className:"admin-search-input",placeholder:"Rechercher un quiz...",value:p,onChange:he=>g(he.target.value)})]}),o.jsxs("button",{className:`admin-btn admin-btn-outline ${R?"active":""}`,onClick:()=>O(!R),children:[o.jsx(CE,{size:16})," Filtres",R?o.jsx(uw,{size:14}):o.jsx(uv,{size:14})]})]}),R&&o.jsxs("div",{className:"admin-filters-panel",children:[o.jsxs("div",{className:"admin-filter-group",children:[o.jsx("label",{className:"admin-filter-label",children:"Discipline"}),o.jsxs("select",{className:"admin-select",value:y,onChange:he=>x(he.target.value),children:[o.jsx("option",{value:"",children:"Toutes les disciplines"}),n.map(he=>o.jsx("option",{value:he.id,children:he.nom},he.id))]})]}),o.jsxs("div",{className:"admin-filter-group",children:[o.jsx("label",{className:"admin-filter-label",children:"Accs"}),o.jsxs("select",{className:"admin-select",value:E,onChange:he=>w(he.target.value),children:[o.jsx("option",{value:"",children:"Tous"}),o.jsx("option",{value:"false",children:"Gratuit"}),o.jsx("option",{value:"true",children:"Premium"})]})]}),o.jsxs("div",{className:"admin-filter-group",children:[o.jsx("label",{className:"admin-filter-label",children:"Difficult"}),o.jsxs("select",{className:"admin-select",value:N,onChange:he=>A(he.target.value),children:[o.jsx("option",{value:"",children:"Toutes"}),o.jsx("option",{value:"facile",children:"Facile"}),o.jsx("option",{value:"moyen",children:"Moyen"}),o.jsx("option",{value:"difficile",children:"Difficile"})]})]}),o.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{x(""),w(""),A(""),g("")},children:"Rinitialiser"})]}),i?o.jsxs("div",{className:"admin-loading",children:[o.jsx("div",{className:"admin-spinner"}),o.jsx("p",{children:"Chargement des quiz..."})]}):ge.length===0?o.jsxs("div",{className:"admin-empty-state",children:[o.jsx(Mg,{size:48}),o.jsx("h3",{children:"Aucun quiz trouv"}),o.jsx("p",{children:t.length===0?"Crez votre premier quiz pour vos lves.":"Aucun quiz ne correspond  vos filtres."}),t.length===0&&o.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:je,children:[o.jsx(ag,{size:18})," Crer un quiz"]})]}):o.jsx("div",{className:"quiz-grid",children:ge.map(he=>{const Ie=QO(he);return o.jsxs("div",{className:"quiz-card",children:[o.jsxs("div",{className:"quiz-card-header",children:[o.jsxs("div",{className:"quiz-card-title-row",children:[o.jsx("h3",{className:"quiz-card-title",children:he.titre}),he.isPremium&&o.jsxs("span",{className:"quiz-badge quiz-badge-premium",children:[o.jsx(pi,{size:12})," Premium"]})]}),o.jsx("span",{className:"quiz-card-discipline",children:ht(he.disciplineId)})]}),o.jsxs("div",{className:"quiz-card-stats",children:[o.jsxs("div",{className:"quiz-stat",children:[o.jsx(Mg,{size:14}),o.jsxs("span",{children:[Ie.nombreQuestions," question(s)"]})]}),o.jsxs("div",{className:"quiz-stat",children:[o.jsx(ml,{size:14}),o.jsxs("span",{children:[Ie.totalPoints," pts"]})]}),o.jsxs("div",{className:"quiz-stat",children:[o.jsx(ld,{size:14}),o.jsxs("span",{children:[Ie.duree," min"]})]})]}),o.jsxs("div",{className:"quiz-card-difficulty",children:[Ie.parDifficulte.facile>0&&o.jsx(gt,{level:"facile"}),Ie.parDifficulte.moyen>0&&o.jsx(gt,{level:"moyen"}),Ie.parDifficulte.difficile>0&&o.jsx(gt,{level:"difficile"})]}),o.jsxs("div",{className:"quiz-card-actions",children:[o.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>ke(he),title:"Prvisualiser",children:[o.jsx(Ju,{size:14})," Aperu"]}),o.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>Z(he),title:"Modifier",children:[o.jsx(ZW,{size:14})," Modifier"]}),X===he.id?o.jsxs("div",{className:"quiz-delete-confirm",children:[o.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-danger",onClick:()=>pe(he.id),children:"Confirmer"}),o.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-ghost",onClick:()=>Q(null),children:"Annuler"})]}):o.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-danger-outline",onClick:()=>Q(he.id),title:"Supprimer",children:o.jsx(UO,{size:14})})]})]},he.id)})})]}),kt=()=>o.jsxs("div",{className:"quiz-manager",children:[o.jsxs("div",{className:"admin-header",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"admin-title",children:[o.jsx(oa,{size:24}),$?"Modifier le quiz":"Nouveau quiz"]}),o.jsxs("p",{className:"admin-subtitle",children:[I.questions.length," question(s) ajoute(s)"]})]}),o.jsxs("div",{className:"admin-header-actions",children:[o.jsxs("button",{className:"admin-btn admin-btn-ghost",onClick:()=>V("list"),children:[o.jsx(mc,{size:18})," Annuler"]}),o.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:re,disabled:M,children:[o.jsx(cY,{size:18})," ",M?"Enregistrement...":"Enregistrer"]})]})]}),o.jsxs("div",{className:"admin-card quiz-form-section",children:[o.jsx("h3",{className:"quiz-form-section-title",children:"Informations gnrales"}),o.jsxs("div",{className:"quiz-form-grid",children:[o.jsxs("div",{className:"admin-form-group quiz-form-full",children:[o.jsx("label",{className:"admin-label",children:"Titre du quiz *"}),o.jsx("input",{type:"text",className:"admin-input",placeholder:"Ex : Quiz - Les Misrables, Chapitre 1",value:I.titre,onChange:he=>k(Ie=>({...Ie,titre:he.target.value}))})]}),o.jsxs("div",{className:"admin-form-group",children:[o.jsx("label",{className:"admin-label",children:"Discipline *"}),o.jsxs("select",{className:"admin-select",value:I.disciplineId,onChange:he=>k(Ie=>({...Ie,disciplineId:he.target.value})),children:[o.jsx("option",{value:"",children:"-- Slectionner --"}),n.map(he=>o.jsx("option",{value:he.id,children:he.nom},he.id))]})]}),o.jsxs("div",{className:"admin-form-group",children:[o.jsx("label",{className:"admin-label",children:"Dure (minutes)"}),o.jsx("input",{type:"number",className:"admin-input",min:1,max:180,value:I.duree,onChange:he=>k(Ie=>({...Ie,duree:parseInt(he.target.value)||15}))})]}),o.jsxs("div",{className:"admin-form-group",children:[o.jsx("label",{className:"admin-label",children:"Note minimale (%)"}),o.jsx("input",{type:"number",className:"admin-input",min:0,max:100,value:I.noteMinimale,onChange:he=>k(Ie=>({...Ie,noteMinimale:parseInt(he.target.value)||50}))})]}),o.jsxs("div",{className:"admin-form-group",children:[o.jsx("label",{className:"admin-label",children:"Accs"}),o.jsxs("div",{className:`quiz-toggle ${I.isPremium?"quiz-toggle-active":""}`,onClick:()=>k(he=>({...he,isPremium:!he.isPremium})),children:[o.jsx(pi,{size:16}),o.jsx("span",{children:I.isPremium?"Premium (2 000 FCFA/mois)":"Gratuit"})]})]})]})]}),o.jsxs("div",{className:"admin-card quiz-form-section",children:[o.jsxs("div",{className:"quiz-questions-header",children:[o.jsxs("h3",{className:"quiz-form-section-title",children:["Questions (",I.questions.length,")"]}),o.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-primary",onClick:Me,children:[o.jsx(ag,{size:14})," Ajouter une question"]})]}),I.questions.length===0?o.jsxs("div",{className:"admin-empty-state",style:{padding:"2rem"},children:[o.jsx(Mg,{size:36}),o.jsx("p",{children:'Aucune question. Cliquez sur "Ajouter une question" pour commencer.'})]}):o.jsx("div",{className:"quiz-questions-list",children:I.questions.map((he,Ie)=>o.jsxs("div",{className:`quiz-question-item ${q===he.id?"expanded":""}`,children:[o.jsxs("div",{className:"quiz-question-header",onClick:()=>L(q===he.id?null:he.id),children:[o.jsxs("div",{className:"quiz-question-header-left",children:[o.jsx(RW,{size:16,className:"quiz-grip-icon"}),o.jsxs("span",{className:"quiz-question-number",children:["Q",Ie+1]}),o.jsx("span",{className:"quiz-question-preview",children:he.question||"Question sans nonc..."})]}),o.jsxs("div",{className:"quiz-question-header-right",children:[o.jsx(gt,{level:he.difficulte||"moyen"}),o.jsxs("span",{className:"quiz-question-points",children:[he.points," pt(s)"]}),q===he.id?o.jsx(uw,{size:16}):o.jsx(uv,{size:16})]})]}),q===he.id&&o.jsxs("div",{className:"quiz-question-body",children:[o.jsxs("div",{className:"admin-form-group",children:[o.jsx("label",{className:"admin-label",children:"nonc de la question *"}),o.jsx("textarea",{className:"admin-textarea",rows:2,placeholder:"Ex : Quel est le personnage principal du roman ?",value:he.question,onChange:Ve=>J(he.id,"question",Ve.target.value)})]}),o.jsxs("div",{className:"admin-form-group",children:[o.jsx("label",{className:"admin-label",children:"Options de rponse (cliquez sur la bonne rponse)"}),o.jsx("div",{className:"quiz-options-grid",children:he.options.map((Ve,Ke)=>o.jsxs("div",{className:`quiz-option-item ${he.reponseCorrecte===Ke?"quiz-option-correct":""}`,children:[o.jsx("button",{type:"button",className:`quiz-option-radio ${he.reponseCorrecte===Ke?"active":""}`,onClick:()=>J(he.id,"reponseCorrecte",Ke),title:he.reponseCorrecte===Ke?"Bonne rponse":"Marquer comme bonne rponse",children:he.reponseCorrecte===Ke?o.jsx(fn,{size:16}):o.jsx("span",{className:"quiz-option-letter",children:String.fromCharCode(65+Ke)})}),o.jsx("input",{type:"text",className:"admin-input",placeholder:`Option ${String.fromCharCode(65+Ke)}`,value:Ve,onChange:Vt=>ve(he.id,Ke,Vt.target.value)})]},Ke))})]}),o.jsxs("div",{className:"admin-form-group",children:[o.jsx("label",{className:"admin-label",children:"Explication (affiche aprs rponse)"}),o.jsx("textarea",{className:"admin-textarea",rows:2,placeholder:"Ex : Jean Valjean est le protagoniste du roman de Victor Hugo...",value:he.explication,onChange:Ve=>J(he.id,"explication",Ve.target.value)})]}),o.jsxs("div",{className:"quiz-question-meta",children:[o.jsxs("div",{className:"admin-form-group",children:[o.jsx("label",{className:"admin-label",children:"Difficult"}),o.jsxs("select",{className:"admin-select",value:he.difficulte,onChange:Ve=>J(he.id,"difficulte",Ve.target.value),children:[o.jsx("option",{value:"facile",children:"Facile"}),o.jsx("option",{value:"moyen",children:"Moyen"}),o.jsx("option",{value:"difficile",children:"Difficile"})]})]}),o.jsxs("div",{className:"admin-form-group",children:[o.jsx("label",{className:"admin-label",children:"Points"}),o.jsx("input",{type:"number",className:"admin-input",min:1,max:10,value:he.points,onChange:Ve=>J(he.id,"points",parseInt(Ve.target.value)||1)})]})]}),o.jsxs("div",{className:"quiz-question-actions",children:[o.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>oe(he.id),children:[o.jsx(jW,{size:14})," Dupliquer"]}),o.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-danger-outline",onClick:()=>Se(he.id),children:[o.jsx(UO,{size:14})," Supprimer"]})]})]})]},he.id))}),I.questions.length>0&&o.jsx("div",{className:"quiz-add-question-bottom",children:o.jsxs("button",{className:"admin-btn admin-btn-outline",onClick:Me,children:[o.jsx(ag,{size:16})," Ajouter une question"]})})]})]}),zr=()=>{if(!H)return null;const he=QO(H);let Ie=0,Ve=0;return W&&H.questions.forEach(Ke=>{Ve+=Ke.points||1,Y[Ke.id]===Ke.reponseCorrecte&&(Ie+=Ke.points||1)}),o.jsxs("div",{className:"quiz-manager",children:[o.jsxs("div",{className:"admin-header",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"admin-title",children:[o.jsx(Ju,{size:24})," Prvisualisation : ",H.titre]}),o.jsxs("p",{className:"admin-subtitle",children:[ht(H.disciplineId),"  ",he.nombreQuestions," questions  ",he.duree," min"]})]}),o.jsxs("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{V("list"),ce(null)},children:[o.jsx(mc,{size:18})," Fermer"]})]}),W&&o.jsxs("div",{className:`quiz-preview-score ${Ie/Ve>=(H.noteMinimale||50)/100?"success":"fail"}`,children:[o.jsx(ml,{size:32}),o.jsxs("div",{children:[o.jsxs("h3",{children:["Score : ",Ie,"/",Ve," (",Math.round(Ie/Ve*100),"%)"]}),o.jsxs("p",{children:["Note minimale : ",H.noteMinimale||50,"% "," ",Ie/Ve>=(H.noteMinimale||50)/100?" Russi !":" Non russi"]})]})]}),o.jsx("div",{className:"quiz-preview-questions",children:H.questions.map((Ke,Vt)=>{const zn=Y[Ke.id],Lr=zn===Ke.reponseCorrecte;return o.jsxs("div",{className:"admin-card quiz-preview-question",children:[o.jsxs("div",{className:"quiz-preview-question-header",children:[o.jsxs("span",{className:"quiz-question-number",children:["Q",Vt+1]}),o.jsx(gt,{level:Ke.difficulte||"moyen"}),o.jsxs("span",{className:"quiz-question-points",children:[Ke.points," pt(s)"]})]}),o.jsx("p",{className:"quiz-preview-question-text",children:Ke.question}),o.jsx("div",{className:"quiz-preview-options",children:Ke.options.map((ao,qr)=>{let Hi="quiz-preview-option";return W?qr===Ke.reponseCorrecte?Hi+=" correct":qr===zn&&!Lr&&(Hi+=" incorrect"):zn===qr&&(Hi+=" selected"),o.jsxs("button",{className:Hi,onClick:()=>Fe(Ke.id,qr),disabled:W,children:[o.jsx("span",{className:"quiz-preview-option-letter",children:String.fromCharCode(65+qr)}),o.jsx("span",{children:ao}),W&&qr===Ke.reponseCorrecte&&o.jsx(fn,{size:16,className:"quiz-preview-check"})]},qr)})}),W&&Ke.explication&&o.jsxs("div",{className:"quiz-preview-explication",children:[o.jsx("strong",{children:"Explication :"})," ",Ke.explication]})]},Ke.id)})}),!W&&o.jsx("div",{className:"quiz-preview-submit",children:o.jsxs("button",{className:"admin-btn admin-btn-primary admin-btn-lg",onClick:ot,disabled:Object.keys(Y).length<H.questions.length,children:[o.jsx(fn,{size:18})," Soumettre (",Object.keys(Y).length,"/",H.questions.length,")"]})})]})};return o.jsxs("div",{className:"admin-container",children:[mr(),C==="list"&&Rt(),C==="form"&&kt(),C==="preview"&&zr()]})},uL=rt(Ee,"users"),aX=rt(Ee,"quizResults"),sX=async t=>{try{let e=Nt(uL,jr("displayName","asc"));t?.role;let r=(await St(e)).docs.map(i=>({uid:i.id,...i.data()}));return t?.isPremium,t?.isActive,t?.search,r}catch(e){throw console.error("Erreur lors de la rcupration des utilisateurs :",e),e}},oX=async(t,e)=>{try{await an(Qe(Ee,"users",t),{role:e,updatedAt:Ye.now()})}catch(n){throw console.error("Erreur lors de la mise  jour du rle :",n),n}},lX=async(t,e)=>{try{const n={isPremium:e,updatedAt:Ye.now()};if(e){const r=new Date;r.setDate(r.getDate()+30),n.subscriptionEnd=Ye.fromDate(r)}else n.subscriptionEnd=null;await an(Qe(Ee,"users",t),n)}catch(n){throw console.error("Erreur lors de la mise  jour du statut Premium :",n),n}},cX=async(t,e)=>{try{await an(Qe(Ee,"users",t),{isActive:e,updatedAt:Ye.now()})}catch(n){throw console.error("Erreur lors du changement de statut du compte :",n),n}},uX=async t=>{try{const e=Nt(aX,it("userId","==",t)),r=(await St(e)).docs.map(f=>({id:f.id,...f.data()})),i=r.length,s=r.filter(f=>f.reussi).length,c=i>0?Math.round(r.reduce((f,h)=>f+h.score,0)/i):0,u=r.length>0?new Date(Math.max(...r.map(f=>{const h=f.datePassage;return h?.toDate?h.toDate().getTime():new Date(h).getTime()}))):null;return{totalQuizPasses:i,scoresMoyens:c,quizReussis:s,dernierQuiz:u}}catch(e){return console.error("Erreur lors du calcul des statistiques :",e),{totalQuizPasses:0,scoresMoyens:0,quizReussis:0,dernierQuiz:null}}},dX=async()=>{try{const e=(await St(uL)).docs.map(n=>n.data());return{total:e.length,admins:e.filter(n=>n.role==="admin").length,profs:e.filter(n=>n.role==="prof").length,eleves:e.filter(n=>n.role==="eleve").length,premium:e.filter(n=>n.isPremium).length,actifs:e.filter(n=>n.isActive!==!1).length}}catch(t){throw console.error("Erreur lors du calcul des stats globales :",t),t}},fX=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(null),[i,s]=j.useState(!0),[c,u]=j.useState(null),[f,h]=j.useState(null),[p,g]=j.useState(""),[y,x]=j.useState(""),[E,w]=j.useState(""),[N,A]=j.useState(""),[R,O]=j.useState(!1),[C,V]=j.useState(null),[$,D]=j.useState(null),[I,k]=j.useState(!1),[q,L]=j.useState(null),[M,U]=j.useState(null),X=j.useCallback(async()=>{s(!0),u(null);try{const[Z,re]=await Promise.all([sX(),dX()]);e(Z),r(re)}catch(Z){u("Erreur lors du chargement des utilisateurs."),console.error(Z)}finally{s(!1)}},[]);j.useEffect(()=>{X()},[X]),j.useEffect(()=>{if(f){const Z=setTimeout(()=>h(null),4e3);return()=>clearTimeout(Z)}},[f]);const Q=t.filter(Z=>{if(p){const re=p.toLowerCase();if(!Z.displayName?.toLowerCase().includes(re)&&!Z.email?.toLowerCase().includes(re))return!1}return!(y&&Z.role!==y||E==="true"&&!Z.isPremium||E==="false"&&Z.isPremium||N==="true"&&Z.isActive===!1||N==="false"&&Z.isActive!==!1)}),H=async Z=>{V(Z),k(!0);try{const re=await uX(Z.uid);D(re)}catch(re){console.error("Erreur lors du chargement des statistiques :",re),D(null)}finally{k(!1)}},ce=async()=>{if(M){L(M.userId);try{switch(M.type){case"role":await oX(M.userId,M.value),h("Rle mis  jour avec succs.");break;case"premium":await lX(M.userId,M.value),h(M.value?"Statut Premium activ (30 jours).":"Statut Premium dsactiv.");break;case"active":await cX(M.userId,M.value),h(M.value?"Compte ractiv.":"Compte dsactiv.");break}await X()}catch(Z){u("Erreur lors de l'excution de l'action."),console.error(Z)}finally{L(null),U(null)}}},Y=({role:Z})=>{const re={admin:{icon:o.jsx(OE,{size:12}),className:"user-badge-admin",label:"Admin"},prof:{icon:o.jsx(cd,{size:12}),className:"user-badge-prof",label:"Professeur"},eleve:{icon:o.jsx(oa,{size:12}),className:"user-badge-eleve",label:"lve"}},pe=re[Z]||re.eleve;return o.jsxs("span",{className:`user-badge ${pe.className}`,children:[pe.icon," ",pe.label]})},_e=Z=>Z?(Z?.toDate?Z.toDate():new Date(Z)).toLocaleDateString("fr-SN",{day:"2-digit",month:"short",year:"numeric"}):"N/A",W=Z=>Z?Z.charAt(0).toUpperCase():"?",F=()=>o.jsxs(o.Fragment,{children:[c&&o.jsxs("div",{className:"admin-message admin-message-error",children:[o.jsx(dv,{size:18}),o.jsx("span",{children:c}),o.jsx("button",{onClick:()=>u(null),className:"admin-message-close",children:o.jsx(mc,{size:16})})]}),f&&o.jsxs("div",{className:"admin-message admin-message-success",children:[o.jsx(fn,{size:18}),o.jsx("span",{children:f})]})]}),ne=()=>{if(!n)return null;const Z=[{label:"Total",value:n.total,icon:o.jsx(zg,{size:20}),color:"stat-blue"},{label:"lves",value:n.eleves,icon:o.jsx(oa,{size:20}),color:"stat-green"},{label:"Professeurs",value:n.profs,icon:o.jsx(cd,{size:20}),color:"stat-purple"},{label:"Premium",value:n.premium,icon:o.jsx(pi,{size:20}),color:"stat-gold"}];return o.jsx("div",{className:"user-stats-grid",children:Z.map(re=>o.jsxs("div",{className:`user-stat-card ${re.color}`,children:[o.jsx("div",{className:"user-stat-icon",children:re.icon}),o.jsxs("div",{className:"user-stat-info",children:[o.jsx("span",{className:"user-stat-value",children:re.value}),o.jsx("span",{className:"user-stat-label",children:re.label})]})]},re.label))})},ge=()=>M?o.jsx("div",{className:"admin-modal-overlay",onClick:()=>U(null),children:o.jsxs("div",{className:"admin-modal",onClick:Z=>Z.stopPropagation(),children:[o.jsxs("div",{className:"admin-modal-header",children:[o.jsx("h3",{children:"Confirmer l'action"}),o.jsx("button",{className:"admin-modal-close",onClick:()=>U(null),children:o.jsx(mc,{size:20})})]}),o.jsx("div",{className:"admin-modal-body",children:o.jsx("p",{children:M.label})}),o.jsxs("div",{className:"admin-modal-footer",children:[o.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>U(null),children:"Annuler"}),o.jsx("button",{className:"admin-btn admin-btn-primary",onClick:ce,disabled:q===M.userId,children:q===M.userId?"En cours...":"Confirmer"})]})]})}):null,je=()=>C?o.jsx("div",{className:"admin-modal-overlay",onClick:()=>V(null),children:o.jsxs("div",{className:"admin-modal admin-modal-lg",onClick:Z=>Z.stopPropagation(),children:[o.jsxs("div",{className:"admin-modal-header",children:[o.jsx("h3",{children:"Dtail de l'utilisateur"}),o.jsx("button",{className:"admin-modal-close",onClick:()=>V(null),children:o.jsx(mc,{size:20})})]}),o.jsxs("div",{className:"admin-modal-body",children:[o.jsxs("div",{className:"user-detail-profile",children:[o.jsx("div",{className:"user-detail-avatar",children:W(C.displayName)}),o.jsxs("div",{className:"user-detail-info",children:[o.jsx("h4",{children:C.displayName||"Sans nom"}),o.jsx("p",{children:C.email}),o.jsxs("div",{className:"user-detail-badges",children:[o.jsx(Y,{role:C.role}),C.isPremium&&o.jsxs("span",{className:"user-badge user-badge-premium",children:[o.jsx(pi,{size:12})," Premium"]}),o.jsx("span",{className:`user-badge ${C.isActive!==!1?"user-badge-active":"user-badge-inactive"}`,children:C.isActive!==!1?"Actif":"Dsactiv"})]})]})]}),o.jsxs("div",{className:"user-detail-dates",children:[o.jsxs("div",{children:[o.jsx("span",{className:"user-detail-date-label",children:"Inscription"}),o.jsx("span",{children:_e(C.createdAt)})]}),C.isPremium&&C.subscriptionEnd&&o.jsxs("div",{children:[o.jsx("span",{className:"user-detail-date-label",children:"Premium jusqu'au"}),o.jsx("span",{children:_e(C.subscriptionEnd)})]})]}),o.jsxs("div",{className:"user-detail-stats-section",children:[o.jsxs("h4",{children:[o.jsx(hc,{size:18})," Statistiques"]}),I?o.jsxs("div",{className:"admin-loading",style:{padding:"1rem"},children:[o.jsx("div",{className:"admin-spinner"}),o.jsx("p",{children:"Chargement des statistiques..."})]}):$?o.jsxs("div",{className:"user-detail-stats-grid",children:[o.jsxs("div",{className:"user-detail-stat",children:[o.jsx(oa,{size:20}),o.jsx("span",{className:"user-detail-stat-value",children:$.totalQuizPasses}),o.jsx("span",{className:"user-detail-stat-label",children:"Quiz passs"})]}),o.jsxs("div",{className:"user-detail-stat",children:[o.jsx(ih,{size:20}),o.jsxs("span",{className:"user-detail-stat-value",children:[$.scoresMoyens,"%"]}),o.jsx("span",{className:"user-detail-stat-label",children:"Score moyen"})]}),o.jsxs("div",{className:"user-detail-stat",children:[o.jsx(ml,{size:20}),o.jsx("span",{className:"user-detail-stat-value",children:$.quizReussis}),o.jsx("span",{className:"user-detail-stat-label",children:"Quiz russis"})]}),o.jsxs("div",{className:"user-detail-stat",children:[o.jsx(ld,{size:20}),o.jsx("span",{className:"user-detail-stat-value",children:$.dernierQuiz?_e($.dernierQuiz):"Aucun"}),o.jsx("span",{className:"user-detail-stat-label",children:"Dernier quiz"})]})]}):o.jsx("p",{className:"user-detail-no-stats",children:"Aucune statistique disponible."})]})]})]})}):null;return o.jsxs("div",{className:"admin-container",children:[F(),ge(),je(),o.jsxs("div",{className:"user-manager",children:[o.jsxs("div",{className:"admin-header",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"admin-title",children:[o.jsx(zg,{size:24})," Gestion des Utilisateurs"]}),o.jsxs("p",{className:"admin-subtitle",children:[t.length," utilisateur(s) au total  ",Q.length," affich(s)"]})]}),o.jsxs("button",{className:"admin-btn admin-btn-outline",onClick:X,children:[o.jsx(aY,{size:16})," Actualiser"]})]}),ne(),o.jsxs("div",{className:"admin-toolbar",children:[o.jsxs("div",{className:"admin-search-wrapper",children:[o.jsx(eL,{size:18,className:"admin-search-icon"}),o.jsx("input",{type:"text",className:"admin-search-input",placeholder:"Rechercher par nom ou email...",value:p,onChange:Z=>g(Z.target.value)})]}),o.jsxs("button",{className:`admin-btn admin-btn-outline ${R?"active":""}`,onClick:()=>O(!R),children:[o.jsx(CE,{size:16})," Filtres",R?o.jsx(uw,{size:14}):o.jsx(uv,{size:14})]})]}),R&&o.jsxs("div",{className:"admin-filters-panel",children:[o.jsxs("div",{className:"admin-filter-group",children:[o.jsx("label",{className:"admin-filter-label",children:"Rle"}),o.jsxs("select",{className:"admin-select",value:y,onChange:Z=>x(Z.target.value),children:[o.jsx("option",{value:"",children:"Tous les rles"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"prof",children:"Professeur"}),o.jsx("option",{value:"eleve",children:"lve"})]})]}),o.jsxs("div",{className:"admin-filter-group",children:[o.jsx("label",{className:"admin-filter-label",children:"Abonnement"}),o.jsxs("select",{className:"admin-select",value:E,onChange:Z=>w(Z.target.value),children:[o.jsx("option",{value:"",children:"Tous"}),o.jsx("option",{value:"true",children:"Premium"}),o.jsx("option",{value:"false",children:"Gratuit"})]})]}),o.jsxs("div",{className:"admin-filter-group",children:[o.jsx("label",{className:"admin-filter-label",children:"Statut"}),o.jsxs("select",{className:"admin-select",value:N,onChange:Z=>A(Z.target.value),children:[o.jsx("option",{value:"",children:"Tous"}),o.jsx("option",{value:"true",children:"Actifs"}),o.jsx("option",{value:"false",children:"Dsactivs"})]})]}),o.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{x(""),w(""),A(""),g("")},children:"Rinitialiser"})]}),i?o.jsxs("div",{className:"admin-loading",children:[o.jsx("div",{className:"admin-spinner"}),o.jsx("p",{children:"Chargement des utilisateurs..."})]}):Q.length===0?o.jsxs("div",{className:"admin-empty-state",children:[o.jsx(zg,{size:48}),o.jsx("h3",{children:"Aucun utilisateur trouv"}),o.jsx("p",{children:t.length===0?"Aucun utilisateur n'est encore inscrit.":"Aucun utilisateur ne correspond  vos filtres."})]}):o.jsx("div",{className:"user-table-wrapper",children:o.jsxs("table",{className:"user-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Utilisateur"}),o.jsx("th",{children:"Rle"}),o.jsx("th",{children:"Abonnement"}),o.jsx("th",{children:"Statut"}),o.jsx("th",{children:"Actions"})]})}),o.jsx("tbody",{children:Q.map(Z=>o.jsxs("tr",{className:Z.isActive===!1?"user-row-inactive":"",children:[o.jsx("td",{children:o.jsxs("div",{className:"user-cell-info",children:[o.jsx("div",{className:"user-avatar-sm",children:W(Z.displayName)}),o.jsxs("div",{children:[o.jsx("span",{className:"user-cell-name",children:Z.displayName||"Sans nom"}),o.jsx("span",{className:"user-cell-email",children:Z.email})]})]})}),o.jsx("td",{children:o.jsxs("select",{className:"admin-select admin-select-sm",value:Z.role,onChange:re=>U({type:"role",userId:Z.uid,value:re.target.value,label:`Changer le rle de "${Z.displayName||Z.email}" en "${re.target.value}" ?`}),children:[o.jsx("option",{value:"eleve",children:"lve"}),o.jsx("option",{value:"prof",children:"Professeur"}),o.jsx("option",{value:"admin",children:"Admin"})]})}),o.jsx("td",{children:o.jsx("button",{className:`user-premium-toggle ${Z.isPremium?"active":""}`,onClick:()=>U({type:"premium",userId:Z.uid,value:!Z.isPremium,label:Z.isPremium?`Dsactiver le statut Premium de "${Z.displayName||Z.email}" ?`:`Activer le statut Premium de "${Z.displayName||Z.email}" pour 30 jours ?`}),disabled:q===Z.uid,children:Z.isPremium?o.jsxs(o.Fragment,{children:[o.jsx(rh,{size:14})," Premium"]}):o.jsxs(o.Fragment,{children:[o.jsx(pi,{size:14})," Gratuit"]})})}),o.jsx("td",{children:o.jsx("button",{className:`user-status-toggle ${Z.isActive!==!1?"active":"inactive"}`,onClick:()=>U({type:"active",userId:Z.uid,value:Z.isActive===!1,label:Z.isActive===!1?`Ractiver le compte de "${Z.displayName||Z.email}" ?`:`Dsactiver le compte de "${Z.displayName||Z.email}" ?`}),disabled:q===Z.uid,children:Z.isActive!==!1?o.jsxs(o.Fragment,{children:[o.jsx(SY,{size:14})," Actif"]}):o.jsxs(o.Fragment,{children:[o.jsx(TY,{size:14})," Dsactiv"]})})}),o.jsx("td",{children:o.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>H(Z),title:"Voir les statistiques",children:[o.jsx(Ju,{size:14})," Dtail"]})})]},Z.uid))})]})})]})]})},dL=rt(Ee,"quiz_results"),PE=rt(Ee,"progressions"),hX=async t=>{try{const e=await Bi(dL,{...t,datePassage:Ye.now()});return t.reussi&&await bX(t.userId,t.disciplineId,t.disciplineNom,t.quizId),e.id}catch(e){throw console.error("Erreur lors de la sauvegarde du rsultat :",e),e}},Dy=async(t,e)=>{try{let n=Nt(dL,it("userId","==",t),jr("datePassage","desc"));return e&&(n=Nt(n,hl(e))),(await St(n)).docs.map(i=>({id:i.id,...i.data()}))}catch(n){throw console.error("Erreur rcupration historique :",n),n}},mX=async t=>{try{const e=await Dy(t);if(e.length===0)return{totalQuizPasses:0,totalQuizReussis:0,moyenneGenerale:0,tempsTotal:0,meilleurScore:0,serieReussites:0,meilleureSerieReussites:0};const n=e.reduce((p,g)=>p+g.pourcentage,0),r=Math.round(n/e.length),i=Math.max(...e.map(p=>p.pourcentage)),s=e.reduce((p,g)=>p+(g.tempsEcoule||0),0),c=e.filter(p=>p.reussi).length;let u=0,f=0;for(const p of e)p.reussi?(u++,f=Math.max(f,u)):u=0;let h=0;for(const p of e)if(p.reussi)h++;else break;return{totalQuizPasses:e.length,totalQuizReussis:c,moyenneGenerale:r,tempsTotal:s,meilleurScore:i,serieReussites:h,meilleureSerieReussites:Math.max(f,h)}}catch(e){return console.error("Erreur calcul stats :",e),{totalQuizPasses:0,totalQuizReussis:0,moyenneGenerale:0,tempsTotal:0,meilleurScore:0,serieReussites:0,meilleureSerieReussites:0}}},pX=async t=>{try{const e=await Dy(t);if(e.length===0)return[];const n={};for(const r of e){const i=r.disciplineId;n[i]||(n[i]=[]),n[i].push(r)}return Object.entries(n).map(([r,i])=>{const s=Math.round(i.reduce((g,y)=>g+y.pourcentage,0)/i.length),c=Math.max(...i.map(g=>g.pourcentage)),u=i[0].pourcentage,f=i.filter(g=>g.reussi).length,h=i.reduce((g,y)=>g+(y.tempsEcoule||0),0);let p="stable";if(i.length>=4){const g=i.slice(0,3),y=i.slice(3,6),x=g.reduce((w,N)=>w+N.pourcentage,0)/g.length,E=y.reduce((w,N)=>w+N.pourcentage,0)/y.length;x-E>5?p="up":E-x>5&&(p="down")}return{disciplineId:r,disciplineNom:i[0].disciplineNom||r,nombreQuiz:i.length,moyenne:s,meilleurScore:c,dernierScore:u,quizReussis:f,tempsTotal:h,tendance:p}})}catch(e){return console.error("Erreur progression par discipline :",e),[]}},gX=async(t,e)=>{try{return(await Dy(t,e||20)).reverse().map(r=>({date:(r.datePassage?.toDate?r.datePassage.toDate():new Date(r.datePassage)).toLocaleDateString("fr-SN",{day:"2-digit",month:"2-digit"}),score:r.pourcentage,discipline:r.disciplineNom||r.disciplineId}))}catch(n){return console.error("Erreur donnes temporelles :",n),[]}},vX=async(t,e,n)=>{const r=`${t}_${e}`,i=Qe(PE,r),s=await Zr(i);if(s.exists())return{...s.data()};const[c,u]=await Promise.all([WO("ressources",e),WO("quizzes",e)]),f={userId:t,disciplineId:e,disciplineNom:n,ressourcesVues:[],quizReussis:[],totalRessources:c,totalQuiz:u,pourcentage:0,dernierAcces:Ye.now(),createdAt:Ye.now(),updatedAt:Ye.now()};return await xE(i,f),f},WO=async(t,e)=>{try{const n=Nt(rt(Ee,t),it("disciplineId","==",e));return(await St(n)).size}catch{return 0}},yX=t=>{if(t.totalRessources+t.totalQuiz===0)return 0;const n=t.totalRessources>0?t.ressourcesVues.length/t.totalRessources*40:0,r=t.totalQuiz>0?t.quizReussis.length/t.totalQuiz*60:0;return t.totalRessources===0?Math.min(100,Math.round(t.quizReussis.length/t.totalQuiz*100)):t.totalQuiz===0?Math.min(100,Math.round(t.ressourcesVues.length/t.totalRessources*100)):Math.min(100,Math.round(n+r))},bX=async(t,e,n,r)=>{try{const i=`${t}_${e}`,s=Qe(PE,i),c=await vX(t,e,n);if(c.quizReussis.includes(r))return await an(s,{dernierAcces:Ye.now()}),c;const u=[...c.quizReussis,r],f={...c,quizReussis:u,dernierAcces:Ye.now(),updatedAt:Ye.now(),pourcentage:0};return f.pourcentage=yX(f),await xE(s,f),f}catch(i){throw console.error("Erreur enregistrement quiz russi :",i),i}},xX=async t=>{try{const e=Nt(PE,it("userId","==",t));return(await St(e)).docs.map(r=>r.data())}catch(e){return console.error("Erreur rcupration progressions :",e),[]}},_X=async t=>{try{const e=await xX(t),n=await fL(t),r=e.reduce((u,f)=>u+f.ressourcesVues.length,0),i=e.reduce((u,f)=>u+f.quizReussis.length,0),s=e.length>0?Math.round(e.reduce((u,f)=>u+f.pourcentage,0)/e.length):0,c=e.filter(u=>u.pourcentage>=100).length;return{totalRessourcesVues:r,totalQuizReussis:i,pourcentageMoyen:s,disciplinesCommencees:e.length,disciplinesCompletees:c,streakActuel:n.streakActuel,meilleurStreak:n.meilleurStreak,parDiscipline:e}}catch(e){return console.error("Erreur progression globale :",e),{totalRessourcesVues:0,totalQuizReussis:0,pourcentageMoyen:0,disciplinesCommencees:0,disciplinesCompletees:0,streakActuel:0,meilleurStreak:0,parDiscipline:[]}}},wX=()=>new Date().toISOString().split("T")[0],jX=()=>{const t=new Date;return t.setDate(t.getDate()-1),t.toISOString().split("T")[0]},fL=async t=>{try{const e=Qe(Ee,"users",t),n=await Zr(e);if(!n.exists())return{streakActuel:0,meilleurStreak:0,dernierJourAcces:""};const r=n.data();return{streakActuel:r.streakActuel||0,meilleurStreak:r.meilleurStreak||0,dernierJourAcces:r.dernierJourAcces||""}}catch(e){return console.error("Erreur rcupration streak :",e),{streakActuel:0,meilleurStreak:0,dernierJourAcces:""}}},EX=async t=>{try{const e=Qe(Ee,"users",t),n=await fL(t),r=wX();if(n.dernierJourAcces===r)return n;const i=jX();let s;n.dernierJourAcces===i?s=n.streakActuel+1:s=1;const c=Math.max(n.meilleurStreak,s);return await an(e,{streakActuel:s,meilleurStreak:c,dernierJourAcces:r}),{streakActuel:s,meilleurStreak:c,dernierJourAcces:r}}catch(e){return console.error("Erreur mise  jour streak :",e),{streakActuel:0,meilleurStreak:0,dernierJourAcces:""}}},NX=(t,e,n)=>{const r=n?.totalRessourcesVues||0;n?.totalQuizReussis;const i=n?.disciplinesCompletees||0;n?.streakActuel;const s=n?.meilleurStreak||0,c=n?.disciplinesCommencees||0;return[{id:"premier_pas",nom:"Premier pas ",description:"Consulter votre premire ressource",icone:"",condition:"1 ressource consulte",categorie:"ressources",obtenu:r>=1},{id:"lecteur_assidu",nom:"Lecteur assidu ",description:"Consulter 10 ressources",icone:"",condition:"10 ressources consultes",categorie:"ressources",obtenu:r>=10},{id:"bibliophile",nom:"Bibliophile ",description:"Consulter 25 ressources",icone:"",condition:"25 ressources consultes",categorie:"ressources",obtenu:r>=25},{id:"savant",nom:"Savant ",description:"Consulter 50 ressources",icone:"",condition:"50 ressources consultes",categorie:"ressources",obtenu:r>=50},{id:"premier_quiz",nom:"Apprenti ",description:"Passer votre premier quiz",icone:"",condition:"1 quiz pass",categorie:"quiz",obtenu:t.totalQuizPasses>=1},{id:"challenger",nom:"Challenger ",description:"Russir 5 quiz",icone:"",condition:"5 quiz russis",categorie:"quiz",obtenu:t.totalQuizReussis>=5},{id:"dix_quiz",nom:"Dcathlon ",description:"Passer 10 quiz",icone:"",condition:"10 quiz passs",categorie:"quiz",obtenu:t.totalQuizPasses>=10},{id:"cinquante_quiz",nom:"Marathonien ",description:"Passer 50 quiz",icone:"",condition:"50 quiz passs",categorie:"quiz",obtenu:t.totalQuizPasses>=50},{id:"score_parfait",nom:"Score parfait ",description:"Obtenir 100%  un quiz",icone:"",condition:"100%  un quiz",categorie:"performance",obtenu:t.meilleurScore>=100},{id:"moyenne_80",nom:"Excellent ",description:"Moyenne gnrale de 80%+",icone:"",condition:"Moyenne  80% (min. 5 quiz)",categorie:"performance",obtenu:t.moyenneGenerale>=80&&t.totalQuizPasses>=5},{id:"serie_5",nom:"Imbattable ",description:"5 quiz russis d'affile",icone:"",condition:"Srie de 5 russites",categorie:"performance",obtenu:t.meilleureSerieReussites>=5},{id:"serie_10",nom:"Lgende ",description:"10 quiz russis d'affile",icone:"",condition:"Srie de 10 russites",categorie:"performance",obtenu:t.meilleureSerieReussites>=10},{id:"maitre",nom:"Matre ",description:"Complter 100% d'une discipline",icone:"",condition:"1 discipline  100%",categorie:"discipline",obtenu:i>=1},{id:"explorateur_teranga",nom:"Explorateur Teranga ",description:"Commencer 3 disciplines diffrentes",icone:"",condition:"3 disciplines commences",categorie:"discipline",obtenu:c>=3||e.length>=3},{id:"touche_a_tout",nom:"Touche--tout ",description:"Commencer 5 disciplines diffrentes",icone:"",condition:"5 disciplines commences",categorie:"discipline",obtenu:c>=5||e.length>=5},{id:"en_feu_3",nom:"Rgulier ",description:"3 jours de connexion conscutifs",icone:"",condition:"3 jours conscutifs",categorie:"streak",obtenu:s>=3},{id:"en_feu_7",nom:"En feu ",description:"7 jours de connexion conscutifs",icone:"",condition:"7 jours conscutifs",categorie:"streak",obtenu:s>=7},{id:"en_feu_30",nom:"Infatigable ",description:"30 jours de connexion conscutifs",icone:"",condition:"30 jours conscutifs",categorie:"streak",obtenu:s>=30},{id:"diamant",nom:"Diamant ",description:"50 ressources + 20 quiz russis",icone:"",condition:"50 ressources + 20 quiz",categorie:"performance",obtenu:r>=50&&t.totalQuizReussis>=20}]},hL=t=>{if(t<60)return`${t} s`;const e=Math.floor(t/60),n=t%60;return n>0?`${e} min ${n.toString().padStart(2,"0")} s`:`${e} min`},Bu=t=>t>=80?"#10b981":t>=60?"#3b82f6":t>=40?"#f59e0b":"#ef4444",mL=t=>t>=80?"Excellent":t>=60?"Bien":t>=40?"Passable":" amliorer",SX=()=>{const{quizId:t}=uy(),e=kr(),{currentUser:n}=Vn(),[r,i]=j.useState(null),[s,c]=j.useState(""),[u,f]=j.useState(!0),[h,p]=j.useState(null),[g,y]=j.useState("intro"),[x,E]=j.useState(0),[w,N]=j.useState({}),[A,R]=j.useState(0),[O,C]=j.useState(0),V=j.useRef(null),[$,D]=j.useState(0),[I,k]=j.useState(0),[q,L]=j.useState(0),[M,U]=j.useState(!1),[X,Q]=j.useState(!1);j.useEffect(()=>{(async()=>{if(!t){p("ID du quiz manquant."),f(!1);return}try{const re=await ZY(t);if(!re){p("Quiz introuvable."),f(!1);return}i(re),R(re.duree*60);try{const Me=(await qc.getAll()).find(oe=>oe.id===re.disciplineId);c(Me?.nom||re.disciplineId)}catch{c(re.disciplineId)}}catch(re){p("Erreur lors du chargement du quiz."),console.error(re)}finally{f(!1)}})()},[t]),j.useEffect(()=>{if(g==="playing")return V.current=setInterval(()=>{R(Z=>Z<=1?(clearInterval(V.current),_e(),0):Z-1),C(Z=>Z+1)},1e3),()=>{V.current&&clearInterval(V.current)}},[g]);const H=()=>{y("playing"),E(0),N({}),C(0),r&&R(r.duree*60)},ce=(Z,re)=>{N(pe=>({...pe,[Z]:re}))},Y=Z=>{r&&Z>=0&&Z<r.questions.length&&E(Z)},_e=j.useCallback(async()=>{if(!r||!n||g==="review")return;V.current&&clearInterval(V.current);let Z=0,re=0,pe=0;r.questions.forEach(Se=>{const J=Se.points||1;re+=J,w[Se.id]===Se.reponseCorrecte&&(Z+=J,pe++)});const Me=re>0?Math.round(Z/re*100):0,oe=Me>=(r.noteMinimale||50);D(Z),k(re),L(pe),y("review"),U(!0);try{const Se={quizId:r.id,quizTitre:r.titre,disciplineId:r.disciplineId,disciplineNom:s,userId:n.uid,reponses:r.questions.map(J=>w[J.id]??-1),tempsEcoule:O,score:Z,totalPoints:re,pourcentage:Me,reussi:oe,nombreQuestions:r.questions.length,bonnesReponses:pe};await hX(Se),Q(!0)}catch(Se){console.error("Erreur lors de la sauvegarde :",Se)}finally{U(!1)}},[r,n,w,O,s,g]),W=Z=>{const re=Math.floor(Z/60),pe=Z%60;return`${re.toString().padStart(2,"0")}:${pe.toString().padStart(2,"0")}`},F=()=>{if(!r)return"";const Z=r.duree*60,re=A/Z;return re<=.1?"timer-critical":re<=.25?"timer-warning":""},ne=Object.keys(w).length;if(u)return o.jsxs("div",{className:"quiz-player-loading",children:[o.jsx("div",{className:"admin-spinner"}),o.jsx("p",{children:"Chargement du quiz..."})]});if(h||!r)return o.jsxs("div",{className:"quiz-player-error",children:[o.jsx(dv,{size:48}),o.jsx("h3",{children:h||"Quiz introuvable"}),o.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>e("/eleve/dashboard"),children:[o.jsx(fw,{size:18})," Retour au tableau de bord"]})]});if(r.isPremium&&!n?.isPremium)return o.jsx("div",{className:"quiz-player-locked",children:o.jsxs("div",{className:"qp-locked-card",children:[o.jsx(hw,{size:48}),o.jsx("h3",{children:"Quiz Premium"}),o.jsx("p",{children:"Ce quiz est rserv aux abonns Premium."}),o.jsxs("p",{className:"qp-locked-price",children:[" partir de ",o.jsx("strong",{children:"2 000 FCFA/mois"})]}),o.jsxs("div",{className:"qp-locked-actions",children:[o.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>e("/premium"),children:[o.jsx(pi,{size:18})," Devenir Premium"]}),o.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:()=>e("/eleve/dashboard"),children:[o.jsx(Gx,{size:18})," Retour"]})]})]})});if(g==="intro")return o.jsx("div",{className:"quiz-player-intro",children:o.jsxs("div",{className:"qp-intro-card",children:[o.jsxs("div",{className:"qp-intro-header",children:[o.jsxs("button",{className:"qp-back-btn",onClick:()=>e(-1),children:[o.jsx(Gx,{size:20})," Retour"]}),r.isPremium&&o.jsxs("span",{className:"qp-badge qp-badge-premium",children:[o.jsx(pi,{size:12})," Premium"]})]}),o.jsxs("div",{className:"qp-intro-content",children:[o.jsx("h1",{className:"qp-intro-title",children:r.titre}),o.jsx("span",{className:"qp-intro-discipline",children:s}),o.jsxs("div",{className:"qp-intro-stats",children:[o.jsxs("div",{className:"qp-intro-stat",children:[o.jsx(oa,{size:20}),o.jsxs("div",{children:[o.jsx("span",{className:"qp-intro-stat-value",children:r.questions.length}),o.jsx("span",{className:"qp-intro-stat-label",children:"Questions"})]})]}),o.jsxs("div",{className:"qp-intro-stat",children:[o.jsx(ld,{size:20}),o.jsxs("div",{children:[o.jsxs("span",{className:"qp-intro-stat-value",children:[r.duree," min"]}),o.jsx("span",{className:"qp-intro-stat-label",children:"Dure"})]})]}),o.jsxs("div",{className:"qp-intro-stat",children:[o.jsx(ml,{size:20}),o.jsxs("div",{children:[o.jsxs("span",{className:"qp-intro-stat-value",children:[r.noteMinimale||50,"%"]}),o.jsx("span",{className:"qp-intro-stat-label",children:"Note min."})]})]})]}),o.jsxs("div",{className:"qp-intro-instructions",children:[o.jsx("h3",{children:"Instructions"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Rpondez  toutes les questions dans le temps imparti"}),o.jsx("li",{children:"Chaque question a une seule bonne rponse"}),o.jsx("li",{children:"Vous pouvez naviguer entre les questions"}),o.jsx("li",{children:"Le quiz est soumis automatiquement quand le temps est coul"}),o.jsxs("li",{children:["Il faut obtenir au moins ",r.noteMinimale||50,"% pour russir"]})]})]})]}),o.jsxs("button",{className:"qp-btn qp-btn-start",onClick:H,children:[o.jsx(ph,{size:20})," Commencer le quiz"]})]})});if(g==="playing"){const Z=r.questions[x];return o.jsxs("div",{className:"quiz-player-game",children:[o.jsxs("div",{className:"qp-game-header",children:[o.jsxs("div",{className:"qp-game-info",children:[o.jsx("span",{className:"qp-game-title",children:r.titre}),o.jsx("span",{className:"qp-game-discipline",children:s})]}),o.jsxs("div",{className:`qp-timer ${F()}`,children:[o.jsx(vY,{size:18}),o.jsx("span",{children:W(A)})]})]}),o.jsx("div",{className:"qp-progress-bar",children:o.jsx("div",{className:"qp-progress-fill",style:{width:`${(x+1)/r.questions.length*100}%`}})}),o.jsxs("div",{className:"qp-game-content",children:[o.jsxs("div",{className:"qp-question-header",children:[o.jsxs("span",{className:"qp-question-number",children:["Question ",x+1,"/",r.questions.length]}),o.jsxs("span",{className:"qp-question-points",children:[Z.points||1," pt(s)"]})]}),o.jsx("h2",{className:"qp-question-text",children:Z.question}),o.jsx("div",{className:"qp-options-list",children:Z.options.map((re,pe)=>o.jsxs("button",{className:`qp-option ${w[Z.id]===pe?"selected":""}`,onClick:()=>ce(Z.id,pe),children:[o.jsx("span",{className:"qp-option-letter",children:String.fromCharCode(65+pe)}),o.jsx("span",{className:"qp-option-text",children:re}),w[Z.id]===pe&&o.jsx(fn,{size:18,className:"qp-option-check"})]},pe))})]}),o.jsxs("div",{className:"qp-game-footer",children:[o.jsx("div",{className:"qp-question-indicators",children:r.questions.map((re,pe)=>o.jsx("button",{className:`qp-indicator ${pe===x?"active":""} ${w[re.id]!==void 0?"answered":""}`,onClick:()=>Y(pe),children:pe+1},re.id))}),o.jsxs("div",{className:"qp-nav-buttons",children:[o.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:()=>Y(x-1),disabled:x===0,children:[o.jsx(Gx,{size:16})," Prcdent"]}),x<r.questions.length-1?o.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>Y(x+1),children:["Suivant ",o.jsx(tc,{size:16})]}):o.jsxs("button",{className:"qp-btn qp-btn-submit",onClick:_e,disabled:ne<r.questions.length,children:[o.jsx(fn,{size:16}),"Soumettre (",ne,"/",r.questions.length,")"]})]})]})]})}const ge=I>0?Math.round($/I*100):0,je=ge>=(r.noteMinimale||50);return o.jsxs("div",{className:"quiz-player-review",children:[o.jsxs("div",{className:`qp-score-card ${je?"success":"fail"}`,children:[o.jsx("div",{className:"qp-score-icon",children:je?o.jsx(ml,{size:48}):o.jsx(dv,{size:48})}),o.jsx("h2",{className:"qp-score-title",children:je?"Flicitations ! ":"Continuez vos efforts ! "}),o.jsxs("div",{className:"qp-score-circle",style:{borderColor:Bu(ge)},children:[o.jsxs("span",{className:"qp-score-value",children:[ge,"%"]}),o.jsx("span",{className:"qp-score-label",children:mL(ge)})]}),o.jsxs("div",{className:"qp-score-details",children:[o.jsxs("div",{className:"qp-score-detail",children:[o.jsxs("span",{children:[q,"/",r.questions.length]}),o.jsx("small",{children:"Bonnes rponses"})]}),o.jsxs("div",{className:"qp-score-detail",children:[o.jsxs("span",{children:[$,"/",I]}),o.jsx("small",{children:"Points"})]}),o.jsxs("div",{className:"qp-score-detail",children:[o.jsx("span",{children:hL(O)}),o.jsx("small",{children:"Temps"})]})]}),M&&o.jsx("p",{className:"qp-saving",children:"Sauvegarde en cours..."}),X&&o.jsx("p",{className:"qp-saved",children:" Rsultat sauvegard"})]}),o.jsxs("div",{className:"qp-review-actions",children:[o.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>e("/eleve/dashboard"),children:[o.jsx(fw,{size:18})," Tableau de bord"]}),o.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:H,children:[o.jsx(oY,{size:18})," Recommencer"]})]}),o.jsxs("div",{className:"qp-review-questions",children:[o.jsx("h3",{className:"qp-review-title",children:"Correction dtaille"}),r.questions.map((Z,re)=>{const pe=w[Z.id],Me=pe===Z.reponseCorrecte;return o.jsxs("div",{className:`qp-review-question ${Me?"correct":"incorrect"}`,children:[o.jsxs("div",{className:"qp-review-question-header",children:[o.jsxs("span",{className:"qp-review-q-number",children:["Q",re+1]}),Me?o.jsxs("span",{className:"qp-review-badge correct",children:[o.jsx(fn,{size:14})," Correct"]}):o.jsxs("span",{className:"qp-review-badge incorrect",children:[o.jsx(dw,{size:14})," Incorrect"]}),o.jsxs("span",{className:"qp-review-q-points",children:[Me?Z.points||1:0,"/",Z.points||1," pt(s)"]})]}),o.jsx("p",{className:"qp-review-q-text",children:Z.question}),o.jsx("div",{className:"qp-review-options",children:Z.options.map((oe,Se)=>{let J="qp-review-option";return Se===Z.reponseCorrecte&&(J+=" correct-answer"),Se===pe&&!Me&&(J+=" wrong-answer"),o.jsxs("div",{className:J,children:[o.jsx("span",{className:"qp-review-option-letter",children:String.fromCharCode(65+Se)}),o.jsx("span",{children:oe}),Se===Z.reponseCorrecte&&o.jsx(fn,{size:14,className:"qp-review-check"}),Se===pe&&!Me&&o.jsx(dw,{size:14,className:"qp-review-x"})]},Se)})}),Z.explication&&o.jsxs("div",{className:"qp-review-explication",children:[o.jsx("strong",{children:" Explication :"})," ",Z.explication]})]},Z.id)})]})]})};function pL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=pL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ut(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=pL(t))&&(r&&(r+=" "),r+=e);return r}var AX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function IE(t){if(typeof t!="string")return!1;var e=AX;return e.includes(t)}var TX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],CX=new Set(TX);function gL(t){return typeof t!="string"?!1:CX.has(t)}function vL(t){return typeof t=="string"&&t.startsWith("data-")}function da(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(gL(n)||vL(n))&&(e[n]=t[n]);return e}function cm(t){if(t==null)return null;if(j.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return da(e)}return typeof t=="object"&&!Array.isArray(t)?da(t):null}function Ir(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(gL(n)||vL(n)||IE(n))&&(e[n]=t[n]);return e}function OX(t){return t==null?null:j.isValidElement(t)?Ir(t.props):typeof t=="object"&&!Array.isArray(t)?Ir(t):null}var PX=["children","width","height","viewBox","className","style","title","desc"];function mw(){return mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mw.apply(null,arguments)}function IX(t,e){if(t==null)return{};var n,r,i=RX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function RX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yL=j.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:c,style:u,title:f,desc:h}=t,p=IX(t,PX),g=s||{width:r,height:i,x:0,y:0},y=Ut("recharts-surface",c);return j.createElement("svg",mw({},Ir(p),{className:y,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),j.createElement("title",null,f),j.createElement("desc",null,h),n)}),kX=["children","className"];function pw(){return pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pw.apply(null,arguments)}function DX(t,e){if(t==null)return{};var n,r,i=MX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function MX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var qi=j.forwardRef((t,e)=>{var{children:n,className:r}=t,i=DX(t,kX),s=Ut("recharts-layer",r);return j.createElement("g",pw({className:s},Ir(i),{ref:e}),n)}),zX=j.createContext(null);function Ht(t){return function(){return t}}const bL=Math.cos,fv=Math.sin,ma=Math.sqrt,hv=Math.PI,My=2*hv,gw=Math.PI,vw=2*gw,nc=1e-6,LX=vw-nc;function xL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function qX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return xL;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class UX{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?xL:qX(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,c){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+c}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,u=this._y1,f=r-e,h=i-n,p=c-e,g=u-n,y=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>nc)if(!(Math.abs(g*f-h*p)>nc)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-c,E=i-u,w=f*f+h*h,N=x*x+E*E,A=Math.sqrt(w),R=Math.sqrt(y),O=s*Math.tan((gw-Math.acos((w+y-N)/(2*A*R)))/2),C=O/R,V=O/A;Math.abs(C-1)>nc&&this._append`L${e+C*p},${n+C*g}`,this._append`A${s},${s},0,0,${+(g*x>p*E)},${this._x1=e+V*f},${this._y1=n+V*h}`}}arc(e,n,r,i,s,c){if(e=+e,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),h=e+u,p=n+f,g=1^c,y=c?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>nc||Math.abs(this._y1-p)>nc)&&this._append`L${h},${p}`,r&&(y<0&&(y=y%vw+vw),y>LX?this._append`A${r},${r},0,1,${g},${e-u},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:y>nc&&this._append`A${r},${r},0,${+(y>=gw)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function RE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new UX(e)}function kE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _L(t){this._context=t}_L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function zy(t){return new _L(t)}function wL(t){return t[0]}function jL(t){return t[1]}function EL(t,e){var n=Ht(!0),r=null,i=zy,s=null,c=RE(u);t=typeof t=="function"?t:t===void 0?wL:Ht(t),e=typeof e=="function"?e:e===void 0?jL:Ht(e);function u(f){var h,p=(f=kE(f)).length,g,y=!1,x;for(r==null&&(s=i(x=c())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+t(g,h,f),+e(g,h,f));if(x)return s=null,x+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ht(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ht(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Ht(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(s=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=s=null:s=i(r=f),u):r},u}function lg(t,e,n){var r=null,i=Ht(!0),s=null,c=zy,u=null,f=RE(h);t=typeof t=="function"?t:t===void 0?wL:Ht(+t),e=typeof e=="function"?e:Ht(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?jL:Ht(+n);function h(g){var y,x,E,w=(g=kE(g)).length,N,A=!1,R,O=new Array(w),C=new Array(w);for(s==null&&(u=c(R=f())),y=0;y<=w;++y){if(!(y<w&&i(N=g[y],y,g))===A)if(A=!A)x=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),E=y-1;E>=x;--E)u.point(O[E],C[E]);u.lineEnd(),u.areaEnd()}A&&(O[y]=+t(N,y,g),C[y]=+e(N,y,g),u.point(r?+r(N,y,g):O[y],n?+n(N,y,g):C[y]))}if(R)return u=null,R+""||null}function p(){return EL().defined(i).curve(c).context(s)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Ht(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Ht(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Ht(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:Ht(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Ht(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Ht(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Ht(!!g),h):i},h.curve=function(g){return arguments.length?(c=g,s!=null&&(u=c(s)),h):c},h.context=function(g){return arguments.length?(g==null?s=u=null:u=c(s=g),h):s},h}class NL{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function VX(t){return new NL(t,!0)}function BX(t){return new NL(t,!1)}const DE={draw(t,e){const n=ma(e/hv);t.moveTo(n,0),t.arc(0,0,n,0,My)}},$X={draw(t,e){const n=ma(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},SL=ma(1/3),FX=SL*2,HX={draw(t,e){const n=ma(e/FX),r=n*SL;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},GX={draw(t,e){const n=ma(e),r=-n/2;t.rect(r,r,n,n)}},KX=.8908130915292852,AL=fv(hv/10)/fv(7*hv/10),QX=fv(My/10)*AL,WX=-bL(My/10)*AL,YX={draw(t,e){const n=ma(e*KX),r=QX*n,i=WX*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const c=My*s/5,u=bL(c),f=fv(c);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},Zx=ma(3),XX={draw(t,e){const n=-ma(e/(Zx*3));t.moveTo(0,n*2),t.lineTo(-Zx*n,-n),t.lineTo(Zx*n,-n),t.closePath()}},ki=-.5,Di=ma(3)/2,yw=1/ma(12),JX=(yw/2+1)*3,ZX={draw(t,e){const n=ma(e/JX),r=n/2,i=n*yw,s=r,c=n*yw+n,u=-s,f=c;t.moveTo(r,i),t.lineTo(s,c),t.lineTo(u,f),t.lineTo(ki*r-Di*i,Di*r+ki*i),t.lineTo(ki*s-Di*c,Di*s+ki*c),t.lineTo(ki*u-Di*f,Di*u+ki*f),t.lineTo(ki*r+Di*i,ki*i-Di*r),t.lineTo(ki*s+Di*c,ki*c-Di*s),t.lineTo(ki*u+Di*f,ki*f-Di*u),t.closePath()}};function eJ(t,e){let n=null,r=RE(i);t=typeof t=="function"?t:Ht(t||DE),e=typeof e=="function"?e:Ht(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Ht(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Ht(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function mv(){}function pv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function TL(t){this._context=t}TL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tJ(t){return new TL(t)}function CL(t){this._context=t}CL.prototype={areaStart:mv,areaEnd:mv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:pv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nJ(t){return new CL(t)}function OL(t){this._context=t}OL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:pv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rJ(t){return new OL(t)}function PL(t){this._context=t}PL.prototype={areaStart:mv,areaEnd:mv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function iJ(t){return new PL(t)}function YO(t){return t<0?-1:1}function XO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),c=(n-t._y1)/(i||r<0&&-0),u=(s*i+c*r)/(r+i);return(YO(s)+YO(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(u))||0}function JO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function e_(t,e,n){var r=t._x0,i=t._y0,s=t._x1,c=t._y1,u=(s-r)/3;t._context.bezierCurveTo(r+u,i+u*e,s-u,c-u*n,s,c)}function gv(t){this._context=t}gv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:e_(this,this._t0,JO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,e_(this,JO(this,n=XO(this,t,e)),n);break;default:e_(this,this._t0,n=XO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function IL(t){this._context=new RL(t)}(IL.prototype=Object.create(gv.prototype)).point=function(t,e){gv.prototype.point.call(this,e,t)};function RL(t){this._context=t}RL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function aJ(t){return new gv(t)}function sJ(t){return new IL(t)}function kL(t){this._context=t}kL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=ZO(t),i=ZO(e),s=0,c=1;c<n;++s,++c)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ZO(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),c=new Array(n);for(i[0]=0,s[0]=2,c[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,c[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,c[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,c[e]-=r*c[e-1];for(i[n-1]=c[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(c[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function oJ(t){return new kL(t)}function Ly(t,e){this._context=t,this._t=e}Ly.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function lJ(t){return new Ly(t,.5)}function cJ(t){return new Ly(t,0)}function uJ(t){return new Ly(t,1)}function Sc(t,e){if((c=t.length)>1)for(var n=1,r,i,s=t[e[0]],c,u=s.length;n<c;++n)for(i=s,s=t[e[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function bw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function dJ(t,e){return t[e]}function fJ(t){const e=[];return e.key=t,e}function hJ(){var t=Ht([]),e=bw,n=Sc,r=dJ;function i(s){var c=Array.from(t.apply(this,arguments),fJ),u,f=c.length,h=-1,p;for(const g of s)for(u=0,++h;u<f;++u)(c[u][h]=[0,+r(g,c[u].key,h,s)]).data=g;for(u=0,p=kE(e(c));u<f;++u)c[p[u]].index=u;return n(c,p),c}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Ht(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Ht(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?bw:typeof s=="function"?s:Ht(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Sc,i):n},i}function mJ(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,c;i<s;++i){for(c=n=0;n<r;++n)c+=t[n][i][1]||0;if(c)for(n=0;n<r;++n)t[n][i][1]/=c}Sc(t,e)}}function pJ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var c=0,u=0;c<i;++c)u+=t[c][n][1]||0;r[n][1]+=r[n][0]=-u/2}Sc(t,e)}}function gJ(t,e){if(!(!((c=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,c;r<s;++r){for(var u=0,f=0,h=0;u<c;++u){for(var p=t[e[u]],g=p[r][1]||0,y=p[r-1][1]||0,x=(g-y)/2,E=0;E<u;++E){var w=t[e[E]],N=w[r][1]||0,A=w[r-1][1]||0;x+=N-A}f+=g,h+=x*g}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,Sc(t,e)}}var t_={},n_={},eP;function vJ(){return eP||(eP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(n_)),n_}var r_={},tP;function DL(){return tP||(tP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(r_)),r_}var i_={},nP;function ME(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(i_)),i_}var a_={},s_={},rP;function yJ(){return rP||(rP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(s_)),s_}var iP;function zE(){return iP||(iP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yJ(),n=ME();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],c=i.length;if(c===0)return s;let u=0,f="",h="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),u++);u<c;){const g=i[u];h?g==="\\"&&u+1<c?(u++,f+=i[u]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,u++}return f&&s.push(f),s}t.toPath=r})(a_)),a_}var aP;function LE(){return aP||(aP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vJ(),n=DL(),r=ME(),i=zE();function s(u,f,h){if(u==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=u[f];return p===void 0?n.isDeepKey(f)?s(u,i.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=u[f];return p===void 0?h:p}default:{if(Array.isArray(f))return c(u,f,h);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=u[f];return p===void 0?h:p}}}function c(u,f,h){if(f.length===0)return h;let p=u;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}t.get=s})(t_)),t_}var o_,sP;function bJ(){return sP||(sP=1,o_=LE().get),o_}var xJ=bJ();const ud=es(xJ);var _J=4;function Jo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_J,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function hn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,c)=>{var u=n[c-1];return typeof u=="string"?i+u+s:u!==void 0?i+Jo(u)+s:i+s},"")}var Yr=t=>t===0?0:t>0?1:-1,Ya=t=>typeof t=="number"&&t!=+t,Ac=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Pe=t=>(typeof t=="number"||t instanceof Number)&&!Ya(t),Xa=t=>Pe(t)||typeof t=="string",wJ=0,Ph=t=>{var e=++wJ;return"".concat(t||"").concat(e)},fa=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(e)&&typeof e!="string")return r;var s;if(Ac(e)){if(n==null)return r;var c=e.indexOf("%");s=n*parseFloat(e.slice(0,c))/100}else s=+e;return Ya(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},ML=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function mn(t,e,n){return Pe(t)&&Pe(e)?Jo(t+n*(e-t)):e}function zL(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):ud(r,e))===n)}var sn=t=>t===null||typeof t>"u",um=t=>sn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Xr(t){return t!=null}function Uc(){}var jJ=["type","size","sizeType"];function xw(){return xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xw.apply(null,arguments)}function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){EJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EJ(t,e,n){return(e=NJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NJ(t){var e=SJ(t,"string");return typeof e=="symbol"?e:e+""}function SJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AJ(t,e){if(t==null)return{};var n,r,i=TJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function TJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var LL={symbolCircle:DE,symbolCross:$X,symbolDiamond:HX,symbolSquare:GX,symbolStar:YX,symbolTriangle:XX,symbolWye:ZX},CJ=Math.PI/180,OJ=t=>{var e="symbol".concat(um(t));return LL[e]||DE},PJ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*CJ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},IJ=(t,e)=>{LL["symbol".concat(um(t))]=e},qL=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=AJ(t,jJ),s=lP(lP({},i),{},{type:e,size:n,sizeType:r}),c="circle";typeof e=="string"&&(c=e);var u=()=>{var y=OJ(c),x=eJ().type(y).size(PJ(n,r,c)),E=x();if(E!==null)return E},{className:f,cx:h,cy:p}=s,g=Ir(s);return Pe(h)&&Pe(p)&&Pe(n)?j.createElement("path",xw({},g,{className:Ut("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};qL.registerSymbol=IJ;var UL=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,qE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(j.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{IE(i)&&(r[i]=(s=>n[i](n,s)))}),r},RJ=(t,e,n)=>r=>(t(e,n,r),null),UE=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];IE(i)&&typeof s=="function"&&(r||(r={}),r[i]=RJ(s,e,n))}),r};function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){DJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DJ(t,e,n){return(e=MJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MJ(t){var e=zJ(t,"string");return typeof e=="symbol"?e:e+""}function zJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dr(t,e){var n=kJ({},t),r=e,i=Object.keys(e),s=i.reduce((c,u)=>(c[u]===void 0&&r[u]!==void 0&&(c[u]=r[u]),c),n);return s}var l_={},c_={},uP;function LJ(){return uP||(uP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const c=n[s],u=r(c,s,n);i.has(u)||i.set(u,c)}return Array.from(i.values())}t.uniqBy=e})(c_)),c_}var u_={},dP;function qJ(){return dP||(dP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(u_)),u_}var d_={},fP;function VL(){return fP||(fP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(d_)),d_}var f_={},h_={},m_={},hP;function UJ(){return hP||(hP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(m_)),m_}var mP;function VE(){return mP||(mP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UJ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(h_)),h_}var p_={},pP;function VJ(){return pP||(pP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(p_)),p_}var gP;function BJ(){return gP||(gP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VE(),n=VJ();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(f_)),f_}var g_={},v_={},vP;function $J(){return vP||(vP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LE();function n(r){return function(i){return e.get(i,r)}}t.property=n})(v_)),v_}var y_={},b_={},x_={},__={},yP;function BL(){return yP||(yP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(__)),__}var w_={},bP;function $L(){return bP||(bP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(w_)),w_}var j_={},xP;function FL(){return xP||(xP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(j_)),j_}var _P;function FJ(){return _P||(_P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BL(),n=$L(),r=FL();function i(p,g,y){return typeof y!="function"?i(p,g,()=>{}):s(p,g,function x(E,w,N,A,R,O){const C=y(E,w,N,A,R,O);return C!==void 0?!!C:s(E,w,x,O)},new Map)}function s(p,g,y,x){if(g===p)return!0;switch(typeof g){case"object":return c(p,g,y,x);case"function":return Object.keys(g).length>0?s(p,{...g},y,x):r.isEqualsSameValueZero(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.isEqualsSameValueZero(p,g)}}function c(p,g,y,x){if(g==null)return!0;if(Array.isArray(g))return f(p,g,y,x);if(g instanceof Map)return u(p,g,y,x);if(g instanceof Set)return h(p,g,y,x);const E=Object.keys(g);if(p==null||n.isPrimitive(p))return E.length===0;if(E.length===0)return!0;if(x?.has(g))return x.get(g)===p;x?.set(g,p);try{for(let w=0;w<E.length;w++){const N=E[w];if(!n.isPrimitive(p)&&!(N in p)||g[N]===void 0&&p[N]!==void 0||g[N]===null&&p[N]!==null||!y(p[N],g[N],N,p,g,x))return!1}return!0}finally{x?.delete(g)}}function u(p,g,y,x){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[E,w]of g.entries()){const N=p.get(E);if(y(N,w,E,p,g,x)===!1)return!1}return!0}function f(p,g,y,x){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const E=new Set;for(let w=0;w<g.length;w++){const N=g[w];let A=!1;for(let R=0;R<p.length;R++){if(E.has(R))continue;const O=p[R];let C=!1;if(y(O,N,w,p,g,x)&&(C=!0),C){E.add(R),A=!0;break}}if(!A)return!1}return!0}function h(p,g,y,x){return g.size===0?!0:p instanceof Set?f([...p],[...g],y,x):!1}t.isMatchWith=i,t.isSetMatch=h})(x_)),x_}var wP;function HL(){return wP||(wP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FJ();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(b_)),b_}var E_={},N_={},S_={},jP;function HJ(){return jP||(jP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(S_)),S_}var A_={},EP;function BE(){return EP||(EP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(A_)),A_}var T_={},NP;function GL(){return NP||(NP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",c="[object Symbol]",u="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",y="[object ArrayBuffer]",x="[object Object]",E="[object Error]",w="[object DataView]",N="[object Uint8Array]",A="[object Uint8ClampedArray]",R="[object Uint16Array]",O="[object Uint32Array]",C="[object BigUint64Array]",V="[object Int8Array]",$="[object Int16Array]",D="[object Int32Array]",I="[object BigInt64Array]",k="[object Float32Array]",q="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=y,t.arrayTag=p,t.bigInt64ArrayTag=I,t.bigUint64ArrayTag=C,t.booleanTag=i,t.dataViewTag=w,t.dateTag=u,t.errorTag=E,t.float32ArrayTag=k,t.float64ArrayTag=q,t.functionTag=g,t.int16ArrayTag=$,t.int32ArrayTag=D,t.int8ArrayTag=V,t.mapTag=f,t.numberTag=r,t.objectTag=x,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=c,t.uint16ArrayTag=R,t.uint32ArrayTag=O,t.uint8ArrayTag=N,t.uint8ClampedArrayTag=A})(T_)),T_}var C_={},SP;function GJ(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(C_)),C_}var AP;function KL(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HJ(),n=BE(),r=GL(),i=$L(),s=GJ();function c(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,y,x=new Map,E=void 0){const w=E?.(p,g,y,x);if(w!==void 0)return w;if(i.isPrimitive(p))return p;if(x.has(p))return x.get(p);if(Array.isArray(p)){const N=new Array(p.length);x.set(p,N);for(let A=0;A<p.length;A++)N[A]=u(p[A],A,y,x,E);return Object.hasOwn(p,"index")&&(N.index=p.index),Object.hasOwn(p,"input")&&(N.input=p.input),N}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const N=new RegExp(p.source,p.flags);return N.lastIndex=p.lastIndex,N}if(p instanceof Map){const N=new Map;x.set(p,N);for(const[A,R]of p)N.set(A,u(R,A,y,x,E));return N}if(p instanceof Set){const N=new Set;x.set(p,N);for(const A of p)N.add(u(A,void 0,y,x,E));return N}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const N=new(Object.getPrototypeOf(p)).constructor(p.length);x.set(p,N);for(let A=0;A<p.length;A++)N[A]=u(p[A],A,y,x,E);return N}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const N=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return x.set(p,N),f(N,p,y,x,E),N}if(typeof File<"u"&&p instanceof File){const N=new File([p],p.name,{type:p.type});return x.set(p,N),f(N,p,y,x,E),N}if(typeof Blob<"u"&&p instanceof Blob){const N=new Blob([p],{type:p.type});return x.set(p,N),f(N,p,y,x,E),N}if(p instanceof Error){const N=new p.constructor;return x.set(p,N),N.message=p.message,N.name=p.name,N.stack=p.stack,N.cause=p.cause,f(N,p,y,x,E),N}if(p instanceof Boolean){const N=new Boolean(p.valueOf());return x.set(p,N),f(N,p,y,x,E),N}if(p instanceof Number){const N=new Number(p.valueOf());return x.set(p,N),f(N,p,y,x,E),N}if(p instanceof String){const N=new String(p.valueOf());return x.set(p,N),f(N,p,y,x,E),N}if(typeof p=="object"&&h(p)){const N=Object.create(Object.getPrototypeOf(p));return x.set(p,N),f(N,p,y,x,E),N}return p}function f(p,g,y=p,x,E){const w=[...Object.keys(g),...e.getSymbols(g)];for(let N=0;N<w.length;N++){const A=w[N],R=Object.getOwnPropertyDescriptor(p,A);(R==null||R.writable)&&(p[A]=u(g[A],A,y,x,E))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=c,t.cloneDeepWithImpl=u,t.copyProperties=f})(N_)),N_}var TP;function KJ(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KL();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(E_)),E_}var CP;function QJ(){return CP||(CP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HL(),n=KJ();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(y_)),y_}var O_={},P_={},I_={},OP;function WJ(){return OP||(OP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KL(),n=BE(),r=GL();function i(s,c){return e.cloneDeepWith(s,(u,f,h,p)=>{const g=c?.(u,f,h,p);if(g!==void 0)return g;if(typeof s=="object"){if(n.getTag(s)===r.objectTag&&typeof s.constructor!="function"){const y={};return p.set(s,y),e.copyProperties(y,s,h,p),y}switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const y=new s.constructor(s?.valueOf());return e.copyProperties(y,s),y}case r.argumentsTag:{const y={};return e.copyProperties(y,s),y.length=s.length,y[Symbol.iterator]=s[Symbol.iterator],y}default:return}}})}t.cloneDeepWith=i})(I_)),I_}var PP;function YJ(){return PP||(PP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WJ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(P_)),P_}var R_={},k_={},IP;function QL(){return IP||(IP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(k_)),k_}var D_={},RP;function XJ(){return RP||(RP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BE();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(D_)),D_}var kP;function JJ(){return kP||(kP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DL(),n=QL(),r=XJ(),i=zE();function s(c,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&c?.[u]==null?f=i.toPath(u):f=[u],f.length===0)return!1;let h=c;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=s})(R_)),R_}var DP;function ZJ(){return DP||(DP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HL(),n=ME(),r=YJ(),i=LE(),s=JJ();function c(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(h){const p=i.get(h,u);return p===void 0?s.has(h,u):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=c})(O_)),O_}var MP;function eZ(){return MP||(MP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VL(),n=$J(),r=QJ(),i=ZJ();function s(c){if(c==null)return e.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}t.iteratee=s})(g_)),g_}var zP;function tZ(){return zP||(zP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LJ(),n=qJ(),r=VL(),i=BJ(),s=eZ();function c(u,f=r.identity){return i.isArrayLikeObject(u)?e.uniqBy(Array.from(u),n.ary(s.iteratee(f),1)):[]}t.uniqBy=c})(l_)),l_}var M_,LP;function nZ(){return LP||(LP=1,M_=tZ().uniqBy),M_}var rZ=nZ();const qP=es(rZ);function iZ(t,e,n){return e===!0?qP(t,n):typeof e=="function"?qP(t,e):t}var z_={exports:{}},L_={},q_={exports:{}},U_={};var UP;function aZ(){if(UP)return U_;UP=1;var t=yd();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,c=t.useDebugValue;function u(g,y){var x=y(),E=r({inst:{value:x,getSnapshot:y}}),w=E[0].inst,N=E[1];return s(function(){w.value=x,w.getSnapshot=y,f(w)&&N({inst:w})},[g,x,y]),i(function(){return f(w)&&N({inst:w}),g(function(){f(w)&&N({inst:w})})},[g]),c(x),x}function f(g){var y=g.getSnapshot;g=g.value;try{var x=y();return!n(g,x)}catch{return!0}}function h(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return U_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,U_}var VP;function sZ(){return VP||(VP=1,q_.exports=aZ()),q_.exports}var BP;function oZ(){if(BP)return L_;BP=1;var t=yd(),e=sZ();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,c=t.useEffect,u=t.useMemo,f=t.useDebugValue;return L_.useSyncExternalStoreWithSelector=function(h,p,g,y,x){var E=s(null);if(E.current===null){var w={hasValue:!1,value:null};E.current=w}else w=E.current;E=u(function(){function A($){if(!R){if(R=!0,O=$,$=y($),x!==void 0&&w.hasValue){var D=w.value;if(x(D,$))return C=D}return C=$}if(D=C,r(O,$))return D;var I=y($);return x!==void 0&&x(D,I)?(O=$,D):(O=$,C=I)}var R=!1,O,C,V=g===void 0?null:g;return[function(){return A(p())},V===null?void 0:function(){return A(V())}]},[p,g,y,x]);var N=i(h,E[0],E[1]);return c(function(){w.hasValue=!0,w.value=N},[N]),f(N),N},L_}var $P;function lZ(){return $P||($P=1,z_.exports=oZ()),z_.exports}var cZ=lZ(),$E=j.createContext(null),uZ=t=>t,jn=()=>{var t=j.useContext($E);return t?t.store.dispatch:uZ},Lg=()=>{},dZ=()=>Lg,fZ=(t,e)=>t===e;function ze(t){var e=j.useContext($E),n=j.useMemo(()=>e?r=>{if(r!=null)return t(r)}:Lg,[e,t]);return cZ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:dZ,e?e.store.getState:Lg,e?e.store.getState:Lg,n,fZ)}function hZ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function mZ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function pZ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var FP=t=>Array.isArray(t)?t:[t];function gZ(t){const e=Array.isArray(t[0])?t[0]:t;return pZ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function vZ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var yZ=class{constructor(t){this.value=t}deref(){return this.value}},bZ=typeof WeakRef<"u"?WeakRef:yZ,xZ=0,HP=1;function cg(){return{s:xZ,v:void 0,o:null,p:null}}function WL(t,e={}){let n=cg();const{resultEqualityCheck:r}=e;let i,s=0;function c(){let u=n;const{length:f}=arguments;for(let g=0,y=f;g<y;g++){const x=arguments[g];if(typeof x=="function"||typeof x=="object"&&x!==null){let E=u.o;E===null&&(u.o=E=new WeakMap);const w=E.get(x);w===void 0?(u=cg(),E.set(x,u)):u=w}else{let E=u.p;E===null&&(u.p=E=new Map);const w=E.get(x);w===void 0?(u=cg(),E.set(x,u)):u=w}}const h=u;let p;if(u.s===HP)p=u.v;else if(p=t.apply(null,arguments),s++,r){const g=i?.deref?.()??i;g!=null&&r(g,p)&&(p=g,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new bZ(p):p}return h.s=HP,h.v=p,p}return c.clearCache=()=>{n=cg(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function _Z(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,c=0,u,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),hZ(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:y=[],argsMemoize:x=WL,argsMemoizeOptions:E=[]}=p,w=FP(y),N=FP(E),A=gZ(i),R=g(function(){return s++,h.apply(null,arguments)},...w),O=x(function(){c++;const V=vZ(A,arguments);return u=R.apply(null,V),u},...N);return Object.assign(O,{resultFunc:h,memoizedResultFunc:R,dependencies:A,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var ue=_Z(WL),wZ=Object.assign((t,e=ue)=>{mZ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((c,u,f)=>(c[n[f]]=u,c),{}))},{withTypes:()=>wZ}),V_={},B_={},$_={},GP;function jZ(){return GP||(GP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const c=e(r),u=e(i);if(c===u&&c===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?u-c:c-u}return 0};t.compareValues=n})($_)),$_}var F_={},H_={},KP;function YL(){return KP||(KP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(H_)),H_}var QP;function EZ(){return QP||(QP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YL(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||c!=null&&Object.hasOwn(c,s)}t.isKey=i})(F_)),F_}var WP;function NZ(){return WP||(WP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jZ(),n=EZ(),r=zE();function i(s,c,u,f){if(s==null)return[];u=f?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(x=>String(x));const h=(x,E)=>{let w=x;for(let N=0;N<E.length&&w!=null;++N)w=w[E[N]];return w},p=(x,E)=>E==null||x==null?E:typeof x=="object"&&"key"in x?Object.hasOwn(E,x.key)?E[x.key]:h(E,x.path):typeof x=="function"?x(E):Array.isArray(x)?h(E,x):typeof E=="object"?E[x]:E,g=c.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return s.map(x=>({original:x,criteria:g.map(E=>p(E,x))})).slice().sort((x,E)=>{for(let w=0;w<g.length;w++){const N=e.compareValues(x.criteria[w],E.criteria[w],u[w]);if(N!==0)return N}return 0}).map(x=>x.original)}t.orderBy=i})(B_)),B_}var G_={},YP;function SZ(){return YP||(YP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),c=(u,f)=>{for(let h=0;h<u.length;h++){const p=u[h];Array.isArray(p)&&f<s?c(p,f+1):i.push(p)}};return c(n,0),i}t.flatten=e})(G_)),G_}var K_={},XP;function XL(){return XP||(XP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QL(),n=VE(),r=BL(),i=FL();function s(c,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.isEqualsSameValueZero(f[u],c):!1}t.isIterateeCall=s})(K_)),K_}var JP;function AZ(){return JP||(JP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NZ(),n=SZ(),r=XL();function i(s,...c){const u=c.length;return u>1&&r.isIterateeCall(s,c[0],c[1])?c=[]:u>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),e.orderBy(s,n.flatten(c),["asc"])}t.sortBy=i})(V_)),V_}var Q_,ZP;function TZ(){return ZP||(ZP=1,Q_=AZ().sortBy),Q_}var CZ=TZ();const qy=es(CZ);var JL=t=>t.legend.settings,OZ=t=>t.legend.size,PZ=t=>t.legend.payload;ue([PZ,JL],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?qy(r,n):r});var ug=1;function IZ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=j.useState({height:0,left:0,top:0,width:0}),r=j.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-e.height)>ug||Math.abs(c.left-e.left)>ug||Math.abs(c.top-e.top)>ug||Math.abs(c.width-e.width)>ug)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function lr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var RZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",eI=RZ,W_=()=>Math.random().toString(36).substring(7).split("").join("."),kZ={INIT:`@@redux/INIT${W_()}`,REPLACE:`@@redux/REPLACE${W_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${W_()}`},vv=kZ;function FE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function ZL(t,e,n){if(typeof t!="function")throw new Error(lr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(lr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(lr(1));return n(ZL)(t,e)}let r=t,i=e,s=new Map,c=s,u=0,f=!1;function h(){c===s&&(c=new Map,s.forEach((N,A)=>{c.set(A,N)}))}function p(){if(f)throw new Error(lr(3));return i}function g(N){if(typeof N!="function")throw new Error(lr(4));if(f)throw new Error(lr(5));let A=!0;h();const R=u++;return c.set(R,N),function(){if(A){if(f)throw new Error(lr(6));A=!1,h(),c.delete(R),s=null}}}function y(N){if(!FE(N))throw new Error(lr(7));if(typeof N.type>"u")throw new Error(lr(8));if(typeof N.type!="string")throw new Error(lr(17));if(f)throw new Error(lr(9));try{f=!0,i=r(i,N)}finally{f=!1}return(s=c).forEach(R=>{R()}),N}function x(N){if(typeof N!="function")throw new Error(lr(10));r=N,y({type:vv.REPLACE})}function E(){const N=g;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(lr(11));function R(){const C=A;C.next&&C.next(p())}return R(),{unsubscribe:N(R)}},[eI](){return this}}}return y({type:vv.INIT}),{dispatch:y,subscribe:g,getState:p,replaceReducer:x,[eI]:E}}function DZ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:vv.INIT})>"u")throw new Error(lr(12));if(typeof n(void 0,{type:vv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(lr(13))})}function e3(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const c=e[s];typeof t[c]=="function"&&(n[c]=t[c])}const r=Object.keys(n);let i;try{DZ(n)}catch(s){i=s}return function(c={},u){if(i)throw i;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],y=n[g],x=c[g],E=y(x,u);if(typeof E>"u")throw u&&u.type,new Error(lr(14));h[g]=E,f=f||E!==x}return f=f||r.length!==Object.keys(c).length,f?h:c}}function yv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function MZ(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(lr(15))};const c={getState:i.getState,dispatch:(f,...h)=>s(f,...h)},u=t.map(f=>f(c));return s=yv(...u)(i.dispatch),{...i,dispatch:s}}}function t3(t){return FE(t)&&"type"in t&&typeof t.type=="string"}var n3=Symbol.for("immer-nothing"),tI=Symbol.for("immer-draftable"),Rr=Symbol.for("immer-state");function na(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var gi=Object,dd=gi.getPrototypeOf,bv="constructor",Uy="prototype",_w="configurable",xv="enumerable",qg="writable",Ih="value",Us=t=>!!t&&!!t[Rr];function ha(t){return t?r3(t)||By(t)||!!t[tI]||!!t[bv]?.[tI]||$y(t)||Fy(t):!1}var zZ=gi[Uy][bv].toString(),nI=new WeakMap;function r3(t){if(!t||!HE(t))return!1;const e=dd(t);if(e===null||e===gi[Uy])return!0;const n=gi.hasOwnProperty.call(e,bv)&&e[bv];if(n===Object)return!0;if(!$u(n))return!1;let r=nI.get(n);return r===void 0&&(r=Function.toString.call(n),nI.set(n,r)),r===zZ}function Vy(t,e,n=!0){dm(t)===0?(n?Reflect.ownKeys(t):gi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function dm(t){const e=t[Rr];return e?e.type_:By(t)?1:$y(t)?2:Fy(t)?3:0}var rI=(t,e,n=dm(t))=>n===2?t.has(e):gi[Uy].hasOwnProperty.call(t,e),ww=(t,e,n=dm(t))=>n===2?t.get(e):t[e],_v=(t,e,n,r=dm(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function LZ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var By=Array.isArray,$y=t=>t instanceof Map,Fy=t=>t instanceof Set,HE=t=>typeof t=="object",$u=t=>typeof t=="function",Y_=t=>typeof t=="boolean";function qZ(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Ns=t=>t.copy_||t.base_,GE=t=>t.modified_?t.copy_:t.base_;function jw(t,e){if($y(t))return new Map(t);if(Fy(t))return new Set(t);if(By(t))return Array[Uy].slice.call(t);const n=r3(t);if(e===!0||e==="class_only"&&!n){const r=gi.getOwnPropertyDescriptors(t);delete r[Rr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const c=i[s],u=r[c];u[qg]===!1&&(u[qg]=!0,u[_w]=!0),(u.get||u.set)&&(r[c]={[_w]:!0,[qg]:!0,[xv]:u[xv],[Ih]:t[c]})}return gi.create(dd(t),r)}else{const r=dd(t);if(r!==null&&n)return{...t};const i=gi.create(r);return gi.assign(i,t)}}function KE(t,e=!1){return Hy(t)||Us(t)||!ha(t)||(dm(t)>1&&gi.defineProperties(t,{set:dg,add:dg,clear:dg,delete:dg}),gi.freeze(t),e&&Vy(t,(n,r)=>{KE(r,!0)},!1)),t}function UZ(){na(2)}var dg={[Ih]:UZ};function Hy(t){return t===null||!HE(t)?!0:gi.isFrozen(t)}var wv="MapSet",Ew="Patches",iI="ArrayMethods",i3={};function Tc(t){const e=i3[t];return e||na(0,t),e}var aI=t=>!!i3[t],Rh,a3=()=>Rh,VZ=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:aI(wv)?Tc(wv):void 0,arrayMethodsPlugin_:aI(iI)?Tc(iI):void 0});function sI(t,e){e&&(t.patchPlugin_=Tc(Ew),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Nw(t){Sw(t),t.drafts_.forEach(BZ),t.drafts_=null}function Sw(t){t===Rh&&(Rh=t.parent_)}var oI=t=>Rh=VZ(Rh,t);function BZ(t){const e=t[Rr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function lI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Rr].modified_&&(Nw(e),na(4)),ha(t)&&(t=cI(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Rr].base_,t,e)}else t=cI(e,n);return $Z(e,t,!0),Nw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==n3?t:void 0}function cI(t,e){if(Hy(e))return e;const n=e[Rr];if(!n)return jv(e,t.handledSet_,t);if(!Gy(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);l3(n,t)}return n.copy_}function $Z(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&KE(e,n)}function s3(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Gy=(t,e)=>t.scope_===e,FZ=[];function o3(t,e,n,r){const i=Ns(t),s=t.type_;if(r!==void 0&&ww(i,r,s)===e){_v(i,r,n,s);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;Vy(i,(f,h)=>{if(Us(h)){const p=u.get(h)||[];p.push(f),u.set(h,p)}})}const c=t.draftLocations_.get(e)??FZ;for(const u of c)_v(i,u,n,s)}function HZ(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!Gy(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const c=GE(s);o3(t,s.draft_??s,c,n),l3(s,i)})}function l3(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}s3(t)}}function GZ(t,e,n){const{scope_:r}=t;if(Us(n)){const i=n[Rr];Gy(i,r)&&i.callbacks_.push(function(){Ug(t);const c=GE(i);o3(t,n,c,e)})}else ha(n)&&t.callbacks_.push(function(){const s=Ns(t);t.type_===3?s.has(n)&&jv(n,r.handledSet_,r):ww(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&jv(ww(t.copy_,e,t.type_),r.handledSet_,r)})}function jv(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Us(t)||e.has(t)||!ha(t)||Hy(t)||(e.add(t),Vy(t,(r,i)=>{if(Us(i)){const s=i[Rr];if(Gy(s,n)){const c=GE(s);_v(t,r,c,t.type_),s3(s)}}else ha(i)&&jv(i,e,n)})),t}function KZ(t,e){const n=By(t),r={type_:n?1:0,scope_:e?e.scope_:a3(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=Ev;n&&(i=[r],s=kh);const{revoke:c,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=c,[u,r]}var Ev={get(t,e){if(e===Rr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Ns(t);if(!rI(i,e,t.type_))return QZ(t,i,e);const s=i[e];if(t.finalized_||!ha(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&qZ(e))return s;if(s===X_(t.base_,e)){Ug(t);const c=t.type_===1?+e:e,u=Tw(t.scope_,s,t,c);return t.copy_[c]=u}return s},has(t,e){return e in Ns(t)},ownKeys(t){return Reflect.ownKeys(Ns(t))},set(t,e,n){const r=c3(Ns(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=X_(Ns(t),e),s=i?.[Rr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(LZ(n,i)&&(n!==void 0||rI(t.base_,e,t.type_)))return!0;Ug(t),Aw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),GZ(t,e,n)),!0},deleteProperty(t,e){return Ug(t),X_(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),Aw(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ns(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[qg]:!0,[_w]:t.type_!==1||e!=="length",[xv]:r[xv],[Ih]:n[e]}},defineProperty(){na(11)},getPrototypeOf(t){return dd(t.base_)},setPrototypeOf(){na(12)}},kh={};for(let t in Ev){let e=Ev[t];kh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}kh.deleteProperty=function(t,e){return kh.set.call(this,t,e,void 0)};kh.set=function(t,e,n){return Ev.set.call(this,t[0],e,n,t[0])};function X_(t,e){const n=t[Rr];return(n?Ns(n):t)[e]}function QZ(t,e,n){const r=c3(e,n);return r?Ih in r?r[Ih]:r.get?.call(t.draft_):void 0}function c3(t,e){if(!(e in t))return;let n=dd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=dd(n)}}function Aw(t){t.modified_||(t.modified_=!0,t.parent_&&Aw(t.parent_))}function Ug(t){t.copy_||(t.assigned_=new Map,t.copy_=jw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var WZ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if($u(n)&&!$u(r)){const c=r;r=n;const u=this;return function(h=c,...p){return u.produce(h,g=>r.call(this,g,...p))}}$u(r)||na(6),i!==void 0&&!$u(i)&&na(7);let s;if(ha(n)){const c=oI(this),u=Tw(c,n,void 0);let f=!0;try{s=r(u),f=!1}finally{f?Nw(c):Sw(c)}return sI(c,i),lI(s,c)}else if(!n||!HE(n)){if(s=r(n),s===void 0&&(s=n),s===n3&&(s=void 0),this.autoFreeze_&&KE(s,!0),i){const c=[],u=[];Tc(Ew).generateReplacementPatches_(n,s,{patches_:c,inversePatches_:u}),i(c,u)}return s}else na(1,n)},this.produceWithPatches=(n,r)=>{if($u(n))return(u,...f)=>this.produceWithPatches(u,h=>n(h,...f));let i,s;return[this.produce(n,r,(u,f)=>{i=u,s=f}),i,s]},Y_(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Y_(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Y_(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ha(e)||na(8),Us(e)&&(e=la(e));const n=oI(this),r=Tw(n,e,void 0);return r[Rr].isManual_=!0,Sw(n),r}finishDraft(e,n){const r=e&&e[Rr];(!r||!r.isManual_)&&na(9);const{scope_:i}=r;return sI(i,n),lI(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=Tc(Ew).applyPatches_;return Us(e)?i(e,n):this.produce(e,s=>i(s,n))}};function Tw(t,e,n,r){const[i,s]=$y(e)?Tc(wv).proxyMap_(e,n):Fy(e)?Tc(wv).proxySet_(e,n):KZ(e,n);return(n?.scope_??a3()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?HZ(n,s,r):s.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),i}function la(t){return Us(t)||na(10,t),u3(t)}function u3(t){if(!ha(t)||Hy(t))return t;const e=t[Rr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=jw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=jw(t,!0);return Vy(n,(i,s)=>{_v(n,i,u3(s))},r),e&&(e.finalized_=!1),n}var YZ=new WZ,d3=YZ.produce;function f3(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var XZ=f3(),JZ=f3,ZZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?yv:yv.apply(null,arguments)};function Ui(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(vi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>t3(r)&&r.type===t,n}var h3=class ah extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ah.prototype)}static get[Symbol.species](){return ah}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ah(...e[0].concat(this)):new ah(...e.concat(this))}};function uI(t){return ha(t)?d3(t,()=>{}):t}function fg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function eee(t){return typeof t=="boolean"}var tee=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let c=new h3;return n&&(eee(n)?c.push(XZ):c.push(JZ(n.extraArgument))),c},m3="RTK_autoBatch",Jt=()=>t=>({payload:t,meta:{[m3]:!0}}),dI=t=>e=>{setTimeout(e,t)},p3=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,c=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:dI(10):t.type==="callback"?t.queueNotification:dI(t.timeout),h=()=>{c=!1,s&&(s=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),y=r.subscribe(g);return u.add(p),()=>{y(),u.delete(p)}},dispatch(p){try{return i=!p?.meta?.[m3],s=!i,s&&(c||(c=!0,f(h))),r.dispatch(p)}finally{i=!0}}})},nee=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new h3(t);return r&&i.push(p3(typeof r=="object"?r:void 0)),i};function ree(t){const e=tee(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:c=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(FE(n))u=e3(n);else throw new Error(vi(1));let f;typeof r=="function"?f=r(e):f=e();let h=yv;i&&(h=ZZ({trace:!1,...typeof i=="object"&&i}));const p=MZ(...f),g=nee(p);let y=typeof c=="function"?c(g):g();const x=h(...y);return ZL(u,s,x)}function g3(t){const e={},n=[];let r;const i={addCase(s,c){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(vi(28));if(u in e)throw new Error(vi(29));return e[u]=c,i},addAsyncThunk(s,c){return c.pending&&(e[s.pending.type]=c.pending),c.rejected&&(e[s.rejected.type]=c.rejected),c.fulfilled&&(e[s.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:s.settled,reducer:c.settled}),i},addMatcher(s,c){return n.push({matcher:s,reducer:c}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function iee(t){return typeof t=="function"}function aee(t,e){let[n,r,i]=g3(e),s;if(iee(t))s=()=>uI(t());else{const u=uI(t);s=()=>u}function c(u=s(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if(Us(p)){const x=g(p,f);return x===void 0?p:x}else{if(ha(p))return d3(p,y=>g(y,f));{const y=g(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},u)}return c.getInitialState=s,c}var see="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",oee=(t=21)=>{let e="",n=t;for(;n--;)e+=see[Math.random()*64|0];return e},lee=Symbol.for("rtk-slice-createasyncthunk");function cee(t,e){return`${t}/${e}`}function uee({creators:t}={}){const e=t?.asyncThunk?.[lee];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(vi(11));const c=(typeof r.reducers=="function"?r.reducers(fee()):r.reducers)||{},u=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(O,C){const V=typeof O=="string"?O:O.type;if(!V)throw new Error(vi(12));if(V in f.sliceCaseReducersByType)throw new Error(vi(13));return f.sliceCaseReducersByType[V]=C,h},addMatcher(O,C){return f.sliceMatchers.push({matcher:O,reducer:C}),h},exposeAction(O,C){return f.actionCreators[O]=C,h},exposeCaseReducer(O,C){return f.sliceCaseReducersByName[O]=C,h}};u.forEach(O=>{const C=c[O],V={reducerName:O,type:cee(i,O),createNotation:typeof r.reducers=="function"};mee(C)?gee(V,C,h,e):hee(V,C,h)});function p(){const[O={},C=[],V=void 0]=typeof r.extraReducers=="function"?g3(r.extraReducers):[r.extraReducers],$={...O,...f.sliceCaseReducersByType};return aee(r.initialState,D=>{for(let I in $)D.addCase(I,$[I]);for(let I of f.sliceMatchers)D.addMatcher(I.matcher,I.reducer);for(let I of C)D.addMatcher(I.matcher,I.reducer);V&&D.addDefaultCase(V)})}const g=O=>O,y=new Map,x=new WeakMap;let E;function w(O,C){return E||(E=p()),E(O,C)}function N(){return E||(E=p()),E.getInitialState()}function A(O,C=!1){function V(D){let I=D[O];return typeof I>"u"&&C&&(I=fg(x,V,N)),I}function $(D=g){const I=fg(y,C,()=>new WeakMap);return fg(I,D,()=>{const k={};for(const[q,L]of Object.entries(r.selectors??{}))k[q]=dee(L,D,()=>fg(x,D,N),C);return k})}return{reducerPath:O,getSelectors:$,get selectors(){return $(V)},selectSlice:V}}const R={name:i,reducer:w,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:N,...A(s),injectInto(O,{reducerPath:C,...V}={}){const $=C??s;return O.inject({reducerPath:$,reducer:w},V),{...R,...A($,!0)}}};return R}}function dee(t,e,n,r){function i(s,...c){let u=e(s);return typeof u>"u"&&r&&(u=n()),t(u,...c)}return i.unwrapped=t,i}var ei=uee();function fee(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function hee({type:t,reducerName:e,createNotation:n},r,i){let s,c;if("reducer"in r){if(n&&!pee(r))throw new Error(vi(17));s=r.reducer,c=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,c?Ui(t,c):Ui(t))}function mee(t){return t._reducerDefinitionType==="asyncThunk"}function pee(t){return t._reducerDefinitionType==="reducerWithPrepare"}function gee({type:t,reducerName:e},n,r,i){if(!i)throw new Error(vi(18));const{payloadCreator:s,fulfilled:c,pending:u,rejected:f,settled:h,options:p}=n,g=i(t,s,p);r.exposeAction(e,g),c&&r.addCase(g.fulfilled,c),u&&r.addCase(g.pending,u),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:c||hg,pending:u||hg,rejected:f||hg,settled:h||hg})}function hg(){}var vee="task",v3="listener",y3="completed",QE="cancelled",yee=`task-${QE}`,bee=`task-${y3}`,Cw=`${v3}-${QE}`,xee=`${v3}-${y3}`,Ky=class{constructor(t){this.code=t,this.message=`${vee} ${QE} (reason: ${t})`}name="TaskAbortError";message},WE=(t,e)=>{if(typeof t!="function")throw new TypeError(vi(32))},Nv=()=>{},b3=(t,e=Nv)=>(t.catch(e),t),x3=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),pc=t=>{if(t.aborted)throw new Ky(t.reason)};function _3(t,e){let n=Nv;return new Promise((r,i)=>{const s=()=>i(new Ky(t.reason));if(t.aborted){s();return}n=x3(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Nv})}var _ee=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Ky?"cancelled":"rejected",error:n}}finally{e?.()}},Sv=t=>e=>b3(_3(t,e).then(n=>(pc(t),n))),w3=t=>{const e=Sv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Zu}=Object,fI={},Qy="listenerMiddleware",wee=(t,e)=>{const n=r=>x3(t,()=>r.abort(t.reason));return(r,i)=>{WE(r);const s=new AbortController;n(s);const c=_ee(async()=>{pc(t),pc(s.signal);const u=await r({pause:Sv(s.signal),delay:w3(s.signal),signal:s.signal});return pc(s.signal),u},()=>s.abort(bee));return i?.autoJoin&&e.push(c.catch(Nv)),{result:Sv(t)(c),cancel(){s.abort(yee)}}}},jee=(t,e)=>{const n=async(r,i)=>{pc(e);let s=()=>{};const u=[new Promise((f,h)=>{let p=t({predicate:r,effect:(g,y)=>{y.unsubscribe(),f([g,y.getState(),y.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await _3(e,Promise.race(u));return pc(e),f}finally{s()}};return(r,i)=>b3(n(r,i))},j3=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Ui(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(vi(21));return WE(s),{predicate:i,type:e,effect:s}},E3=Zu(t=>{const{type:e,predicate:n,effect:r}=j3(t);return{id:oee(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(vi(22))}}},{withTypes:()=>E3}),hI=(t,e)=>{const{type:n,effect:r,predicate:i}=j3(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},Ow=t=>{t.pending.forEach(e=>{e.abort(Cw)})},Eee=(t,e)=>()=>{for(const n of e.keys())Ow(n);t.clear()},mI=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},N3=Zu(Ui(`${Qy}/add`),{withTypes:()=>N3}),Nee=Ui(`${Qy}/removeAll`),S3=Zu(Ui(`${Qy}/remove`),{withTypes:()=>S3}),See=(...t)=>{console.error(`${Qy}/error`,...t)},fm=(t={})=>{const e=new Map,n=new Map,r=x=>{const E=n.get(x)??0;n.set(x,E+1)},i=x=>{const E=n.get(x)??1;E===1?n.delete(x):n.set(x,E-1)},{extra:s,onError:c=See}=t;WE(c);const u=x=>(x.unsubscribe=()=>e.delete(x.id),e.set(x.id,x),E=>{x.unsubscribe(),E?.cancelActive&&Ow(x)}),f=x=>{const E=hI(e,x)??E3(x);return u(E)};Zu(f,{withTypes:()=>f});const h=x=>{const E=hI(e,x);return E&&(E.unsubscribe(),x.cancelActive&&Ow(E)),!!E};Zu(h,{withTypes:()=>h});const p=async(x,E,w,N)=>{const A=new AbortController,R=jee(f,A.signal),O=[];try{x.pending.add(A),r(x),await Promise.resolve(x.effect(E,Zu({},w,{getOriginalState:N,condition:(C,V)=>R(C,V).then(Boolean),take:R,delay:w3(A.signal),pause:Sv(A.signal),extra:s,signal:A.signal,fork:wee(A.signal,O),unsubscribe:x.unsubscribe,subscribe:()=>{e.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((C,V,$)=>{C!==A&&(C.abort(Cw),$.delete(C))})},cancel:()=>{A.abort(Cw),x.pending.delete(A)},throwIfCancelled:()=>{pc(A.signal)}})))}catch(C){C instanceof Ky||mI(c,C,{raisedBy:"effect"})}finally{await Promise.all(O),A.abort(xee),i(x),x.pending.delete(A)}},g=Eee(e,n);return{middleware:x=>E=>w=>{if(!t3(w))return E(w);if(N3.match(w))return f(w.payload);if(Nee.match(w)){g();return}if(S3.match(w))return h(w.payload);let N=x.getState();const A=()=>{if(N===fI)throw new Error(vi(23));return N};let R;try{if(R=E(w),e.size>0){const O=x.getState(),C=Array.from(e.values());for(const V of C){let $=!1;try{$=V.predicate(w,O,N)}catch(D){$=!1,mI(c,D,{raisedBy:"predicate"})}$&&p(V,w,x,A)}}}finally{N=fI}return R},startListening:f,stopListening:h,clearListeners:g}};function vi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Aee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},A3=ei({name:"chartLayout",initialState:Aee,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Tee,setLayout:Cee,setChartSize:Oee,setScale:Pee}=A3.actions,Iee=A3.reducer;function T3(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function pt(t){return Number.isFinite(t)}function Ja(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){Ree(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ree(t,e,n){return(e=kee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kee(t){var e=Dee(t,"string");return typeof e=="symbol"?e:e+""}function Dee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dn(t,e,n){return sn(t)||sn(e)?n:Xa(e)?ud(t,e,n):typeof e=="function"?e(t):n}var Mee=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:c,layout:u}=e;if((u==="vertical"||u==="horizontal"&&c==="middle")&&s!=="center"&&Pe(t[s]))return Hu(Hu({},t),{},{[s]:t[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&c!=="middle"&&Pe(t[c]))return Hu(Hu({},t),{},{[c]:t[c]+(i||0)})}return t},Xs=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",C3=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,s,c=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(s=!0),u.coordinate));return i||c.push(e),s||c.push(n),c},O3=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:c,realScaleType:u,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:y,axisType:x}=t;if(!c)return null;var E=u==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,w=i==="category"&&c.bandwidth?c.bandwidth()/E:0;if(w=x==="angleAxis"&&s&&s.length>=2?Yr(s[0]-s[1])*2*w:w,g||y){var N=(g||y||[]).map((A,R)=>{var O=r?r.indexOf(A):A,C=c.map(O);return pt(C)?{coordinate:C+w,value:A,offset:w,index:R}:null}).filter(Xr);return N}return f&&h?h.map((A,R)=>{var O=c.map(A);return pt(O)?{coordinate:O+w,value:A,index:R,offset:w}:null}).filter(Xr):c.ticks&&p!=null?c.ticks(p).map((A,R)=>{var O=c.map(A);return pt(O)?{coordinate:O+w,value:A,index:R,offset:w}:null}).filter(Xr):c.domain().map((A,R)=>{var O=c.map(A);return pt(O)?{coordinate:O+w,value:r?r[A]:A,index:R,offset:w}:null}).filter(Xr)},zee=(t,e)=>{if(!e||e.length!==2||!Pe(e[0])||!Pe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Pe(t[0])||t[0]<n)&&(i[0]=n),(!Pe(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Lee=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,c=0,u=0;u<n;++u){var f=t[u],h=f?.[i];if(h!=null){var p=h[1],g=h[0],y=Ya(p)?g:p;y>=0?(h[0]=s,s+=y,h[1]=s):(h[0]=c,c+=y,h[1]=c)}}}},qee=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,c=0;c<n;++c){var u=t[c],f=u?.[i];if(f!=null){var h=Ya(f[1])?f[0]:f[1];h>=0?(f[0]=s,s+=h,f[1]=s):(f[0]=0,f[1]=0)}}}},Uee={sign:Lee,expand:mJ,none:Sc,silhouette:pJ,wiggle:gJ,positive:qee},Vee=(t,e,n)=>{var r,i=(r=Uee[n])!==null&&r!==void 0?r:Sc,s=hJ().keys(e).value((u,f)=>Number(Dn(u,f,0))).order(bw).offset(i),c=s(t);return c.forEach((u,f)=>{u.forEach((h,p)=>{var g=Dn(t[p],e[f],0);Array.isArray(g)&&g.length===2&&Pe(g[0])&&Pe(g[1])&&(h[0]=g[0],h[1]=g[1])})}),c};function Bee(t){return t==null?void 0:String(t)}function gI(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:c}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!sn(i[e.dataKey])){var u=zL(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n!=null&&n[s]?n[s].coordinate+r/2:null}var f=Dn(i,sn(c)?e.dataKey:c),h=e.scale.map(f);return Pe(h)?h:null}var vI=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:c}=t;if(e.type==="category")return n[c]?n[c].coordinate+r:null;var u=Dn(s,e.dataKey,e.scale.domain()[c]);if(sn(u))return null;var f=e.scale.map(u);return Pe(f)?f-i/2+r:null},$ee=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Fee=t=>{var e=t.flat(2).filter(Pe);return[Math.min(...e),Math.max(...e)]},Hee=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Gee=(t,e,n)=>{if(t!=null)return Hee(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:c}=s,u=c.reduce((f,h)=>{var p=T3(h,e,n),g=Fee(p);return!pt(g[0])||!pt(g[1])?f:[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},yI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fd=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=qy(e,p=>p.coordinate),s=1/0,c=1,u=i.length;c<u;c++){var f=i[c],h=i[c-1];s=Math.min((f?.coordinate||0)-(h?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function xI(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Hu(Hu({},e),{},{dataKey:n,payload:r,value:i,name:s})}function Wy(t,e){if(t)return String(t);if(typeof e=="string")return e}var Kee=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Qee=(t,e)=>e==="centric"?t.angle:t.radius,Js=t=>t.layout.width,Zs=t=>t.layout.height,Wee=t=>t.layout.scale,P3=t=>t.layout.margin,Yy=ue(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Xy=ue(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Yee="data-recharts-item-index",Xee="data-recharts-item-id",hm=60;function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){Jee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jee(t,e,n){return(e=Zee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zee(t){var e=ete(t,"string");return typeof e=="symbol"?e:e+""}function ete(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tte=t=>t.brush.height;function nte(t){var e=Xy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:hm;return n+i}return n},0)}function rte(t){var e=Xy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:hm;return n+i}return n},0)}function ite(t){var e=Yy(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function ate(t){var e=Yy(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Zn=ue([Js,Zs,P3,tte,nte,rte,ite,ate,JL,OZ],(t,e,n,r,i,s,c,u,f,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},g={top:(n.top||0)+c,bottom:(n.bottom||0)+u},y=mg(mg({},g),p),x=y.bottom;y.bottom+=r,y=Mee(y,f,h);var E=t-y.left-y.right,w=e-y.top-y.bottom;return mg(mg({brushBottom:x},y),{},{width:Math.max(E,0),height:Math.max(w,0)})}),ste=ue(Zn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),YE=ue(Js,Zs,(t,e)=>({x:0,y:0,width:t,height:e})),ote=j.createContext(null),Er=()=>j.useContext(ote)!=null,Jy=t=>t.brush,Zy=ue([Jy,Zn,P3],(t,e,n)=>({height:t.height,x:Pe(t.x)?t.x:e.left,y:Pe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Pe(t.width)?t.width:e.width})),J_={},Z_={},e1={},wI;function lte(){return wI||(wI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let c,u=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{u!==null&&(n.apply(c,u),c=void 0,u=null)},g=()=>{h&&p(),w()};let y=null;const x=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},r)},E=()=>{y!==null&&(clearTimeout(y),y=null)},w=()=>{E(),c=void 0,u=null},N=()=>{p()},A=function(...R){if(i?.aborted)return;c=this,u=R;const O=y==null;x(),f&&O&&p()};return A.schedule=x,A.cancel=w,A.flush=N,i?.addEventListener("abort",w,{once:!0}),A}t.debounce=e})(e1)),e1}var jI;function cte(){return jI||(jI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lte();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:u=!0,maxWait:f}=s,h=Array(2);c&&(h[0]="leading"),u&&(h[1]="trailing");let p,g=null;const y=e.debounce(function(...w){p=r.apply(this,w),g=null},i,{edges:h}),x=function(...w){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,w),g=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,w),p)},E=()=>(y.flush(),p);return x.cancel=y.cancel,x.flush=E,x}t.debounce=n})(Z_)),Z_}var EI;function ute(){return EI||(EI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cte();function n(r,i=0,s={}){const{leading:c=!0,trailing:u=!0}=s;return e.debounce(r,i,{leading:c,maxWait:i,trailing:u})}t.throttle=n})(J_)),J_}var t1,NI;function dte(){return NI||(NI=1,t1=ute().throttle),t1}var fte=dte();const hte=es(fte);var Av=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(n.replace(/%s/g,()=>i[c++]))}},qa={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},I3=(t,e,n)=>{var{width:r=qa.width,height:i=qa.height,aspect:s,maxHeight:c}=n,u=Ac(r)?t:Number(r),f=Ac(i)?e:Number(i);return s&&s>0&&(u?f=u/s:f&&(u=f*s),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:u,calculatedHeight:f}},mte={width:0,height:0,overflow:"visible"},pte={width:0,overflowX:"visible"},gte={height:0,overflowY:"visible"},vte={},yte=t=>{var{width:e,height:n}=t,r=Ac(e),i=Ac(n);return r&&i?mte:r?pte:i?gte:vte};function bte(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i=qa.width,s=qa.height):i===void 0?i=r&&r>0?void 0:qa.width:s===void 0&&(s=r&&r>0?void 0:qa.height),{width:i,height:s}}function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pw.apply(null,arguments)}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){xte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xte(t,e,n){return(e=_te(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _te(t){var e=wte(t,"string");return typeof e=="symbol"?e:e+""}function wte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R3=j.createContext(qa.initialDimension);function jte(t){return Ja(t.width)&&Ja(t.height)}function k3(t){var{children:e,width:n,height:r}=t,i=j.useMemo(()=>({width:n,height:r}),[n,r]);return jte(i)?j.createElement(R3.Provider,{value:i},e):null}var XE=()=>j.useContext(R3),Ete=j.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=qa.initialDimension,width:i,height:s,minWidth:c=qa.minWidth,minHeight:u,maxHeight:f,children:h,debounce:p=qa.debounce,id:g,className:y,onResize:x,style:E={}}=t,w=j.useRef(null),N=j.useRef();N.current=x,j.useImperativeHandle(e,()=>w.current);var[A,R]=j.useState({containerWidth:r.width,containerHeight:r.height}),O=j.useCallback((I,k)=>{R(q=>{var L=Math.round(I),M=Math.round(k);return q.containerWidth===L&&q.containerHeight===M?q:{containerWidth:L,containerHeight:M}})},[]);j.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Uc;var I=M=>{var U,X=M[0];if(X!=null){var{width:Q,height:H}=X.contentRect;O(Q,H),(U=N.current)===null||U===void 0||U.call(N,Q,H)}};p>0&&(I=hte(I,p,{trailing:!0,leading:!1}));var k=new ResizeObserver(I),{width:q,height:L}=w.current.getBoundingClientRect();return O(q,L),k.observe(w.current),()=>{k.disconnect()}},[O,p]);var{containerWidth:C,containerHeight:V}=A;Av(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:$,calculatedHeight:D}=I3(C,V,{width:i,height:s,aspect:n,maxHeight:f});return Av($!=null&&$>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,D,i,s,c,u,n),j.createElement("div",{id:g?"".concat(g):void 0,className:Ut("recharts-responsive-container",y),style:AI(AI({},E),{},{width:i,height:s,minWidth:c,minHeight:u,maxHeight:f}),ref:w},j.createElement("div",{style:yte({width:i,height:s})},j.createElement(k3,{width:$,height:D},h)))}),TI=j.forwardRef((t,e)=>{var n=XE();if(Ja(n.width)&&Ja(n.height))return t.children;var{width:r,height:i}=bte({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:c}=I3(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Pe(s)&&Pe(c)?j.createElement(k3,{width:s,height:c},t.children):j.createElement(Ete,Pw({},t,{width:r,height:i,ref:e}))});function JE(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var e0=()=>{var t,e=Er(),n=ze(ste),r=ze(Zy),i=(t=ze(Jy))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Nte={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},D3=()=>{var t;return(t=ze(Zn))!==null&&t!==void 0?t:Nte},M3=()=>ze(Js),z3=()=>ze(Zs),It=t=>t.layout.layoutType,Vc=()=>ze(It),L3=()=>{var t=Vc();if(t==="horizontal"||t==="vertical")return t},q3=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},Ste=()=>{var t=Vc();return t!==void 0},mm=t=>{var e=jn(),n=Er(),{width:r,height:i}=t,s=XE(),c=r,u=i;return s&&(c=s.width>0?s.width:r,u=s.height>0?s.height:i),j.useEffect(()=>{!n&&Ja(c)&&Ja(u)&&e(Oee({width:c,height:u}))},[e,n,c,u]),null},U3=Symbol.for("immer-nothing"),CI=Symbol.for("immer-draftable"),yi=Symbol.for("immer-state");function ra(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Dh=Object.getPrototypeOf;function hd(t){return!!t&&!!t[yi]}function Cc(t){return t?V3(t)||Array.isArray(t)||!!t[CI]||!!t.constructor?.[CI]||pm(t)||n0(t):!1}var Ate=Object.prototype.constructor.toString(),OI=new WeakMap;function V3(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=OI.get(n);return r===void 0&&(r=Function.toString.call(n),OI.set(n,r)),r===Ate}function Tv(t,e,n=!0){t0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function t0(t){const e=t[yi];return e?e.type_:Array.isArray(t)?1:pm(t)?2:n0(t)?3:0}function Iw(t,e){return t0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function B3(t,e,n){const r=t0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Tte(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function pm(t){return t instanceof Map}function n0(t){return t instanceof Set}function rc(t){return t.copy_||t.base_}function Rw(t,e){if(pm(t))return new Map(t);if(n0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=V3(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[yi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const c=i[s],u=r[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[c]})}return Object.create(Dh(t),r)}else{const r=Dh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function ZE(t,e=!1){return r0(t)||hd(t)||!Cc(t)||(t0(t)>1&&Object.defineProperties(t,{set:pg,add:pg,clear:pg,delete:pg}),Object.freeze(t),e&&Object.values(t).forEach(n=>ZE(n,!0))),t}function Cte(){ra(2)}var pg={value:Cte};function r0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Ote={};function Oc(t){const e=Ote[t];return e||ra(0,t),e}var Mh;function $3(){return Mh}function Pte(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function PI(t,e){e&&(Oc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function kw(t){Dw(t),t.drafts_.forEach(Ite),t.drafts_=null}function Dw(t){t===Mh&&(Mh=t.parent_)}function II(t){return Mh=Pte(Mh,t)}function Ite(t){const e=t[yi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function RI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[yi].modified_&&(kw(e),ra(4)),Cc(t)&&(t=Cv(e,t),e.parent_||Ov(e,t)),e.patches_&&Oc("Patches").generateReplacementPatches_(n[yi].base_,t,e.patches_,e.inversePatches_)):t=Cv(e,n,[]),kw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==U3?t:void 0}function Cv(t,e,n){if(r0(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[yi];if(!i)return Tv(e,(s,c)=>kI(t,i,e,s,c,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Ov(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let c=s,u=!1;i.type_===3&&(c=new Set(s),s.clear(),u=!0),Tv(c,(f,h)=>kI(t,i,s,f,h,n,u),r),Ov(t,s,!1),n&&t.patches_&&Oc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function kI(t,e,n,r,i,s,c){if(i==null||typeof i!="object"&&!c)return;const u=r0(i);if(!(u&&!c)){if(hd(i)){const f=s&&e&&e.type_!==3&&!Iw(e.assigned_,r)?s.concat(r):void 0,h=Cv(t,i,f);if(B3(n,r,h),hd(h))t.canAutoFreeze_=!1;else return}else c&&n.add(i);if(Cc(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;Cv(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(pm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Ov(t,i)}}}function Ov(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ZE(e,n)}function Rte(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:$3(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=eN;n&&(i=[r],s=zh);const{revoke:c,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=c,u}var eN={get(t,e){if(e===yi)return t;const n=rc(t);if(!Iw(n,e))return kte(t,n,e);const r=n[e];return t.finalized_||!Cc(r)?r:r===n1(t.base_,e)?(r1(t),t.copy_[e]=zw(r,t)):r},has(t,e){return e in rc(t)},ownKeys(t){return Reflect.ownKeys(rc(t))},set(t,e,n){const r=F3(rc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=n1(rc(t),e),s=i?.[yi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Tte(n,i)&&(n!==void 0||Iw(t.base_,e)))return!0;r1(t),Mw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return n1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,r1(t),Mw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=rc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ra(11)},getPrototypeOf(t){return Dh(t.base_)},setPrototypeOf(){ra(12)}},zh={};Tv(eN,(t,e)=>{zh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});zh.deleteProperty=function(t,e){return zh.set.call(this,t,e,void 0)};zh.set=function(t,e,n){return eN.set.call(this,t[0],e,n,t[0])};function n1(t,e){const n=t[yi];return(n?rc(n):t)[e]}function kte(t,e,n){const r=F3(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function F3(t,e){if(!(e in t))return;let n=Dh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Dh(n)}}function Mw(t){t.modified_||(t.modified_=!0,t.parent_&&Mw(t.parent_))}function r1(t){t.copy_||(t.copy_=Rw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Dte=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const c=this;return function(f=s,...h){return c.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&ra(6),r!==void 0&&typeof r!="function"&&ra(7);let i;if(Cc(e)){const s=II(this),c=zw(e,void 0);let u=!0;try{i=n(c),u=!1}finally{u?kw(s):Dw(s)}return PI(s,r),RI(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===U3&&(i=void 0),this.autoFreeze_&&ZE(i,!0),r){const s=[],c=[];Oc("Patches").generateReplacementPatches_(e,i,s,c),r(s,c)}return i}else ra(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...u)=>this.produceWithPatches(c,f=>e(f,...u));let r,i;return[this.produce(e,n,(c,u)=>{r=c,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Cc(t)||ra(8),hd(t)&&(t=Mte(t));const e=II(this),n=zw(t,void 0);return n[yi].isManual_=!0,Dw(e),n}finishDraft(t,e){const n=t&&t[yi];(!n||!n.isManual_)&&ra(9);const{scope_:r}=n;return PI(r,e),RI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Oc("Patches").applyPatches_;return hd(t)?r(t,e):this.produce(t,i=>r(i,e))}};function zw(t,e){const n=pm(t)?Oc("MapSet").proxyMap_(t,e):n0(t)?Oc("MapSet").proxySet_(t,e):Rte(t,e);return(e?e.scope_:$3()).drafts_.push(n),n}function Mte(t){return hd(t)||ra(10,t),H3(t)}function H3(t){if(!Cc(t)||r0(t))return t;const e=t[yi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Rw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Rw(t,!0);return Tv(n,(i,s)=>{B3(n,i,H3(s))},r),e&&(e.finalized_=!1),n}var zte=new Dte;zte.produce;var Lte={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},G3=ei({name:"legend",initialState:Lte,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Jt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=la(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Jt()},removeLegendPayload:{reducer(t,e){var n=la(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Jt()}}}),{setLegendSize:Cve,setLegendSettings:Ove,addLegendPayload:qte,replaceLegendPayload:Ute,removeLegendPayload:Vte}=G3.actions,Bte=G3.reducer;function Lw(){return Lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lw.apply(null,arguments)}function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){$te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $te(t,e,n){return(e=Fte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fte(t){var e=Hte(t,"string");return typeof e=="symbol"?e:e+""}function Hte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gte(t){return Array.isArray(t)&&Xa(t[0])&&Xa(t[1])?t.join(" ~ "):t}var ku={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Kte=t=>{var{separator:e=ku.separator,contentStyle:n,itemStyle:r,labelStyle:i=ku.labelStyle,payload:s,formatter:c,itemSorter:u,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:y=ku.accessibilityLayer}=t,x=()=>{if(s&&s.length){var V={padding:0,margin:0},$=(u?qy(s,u):s).map((D,I)=>{if(D.type==="none")return null;var k=D.formatter||c||Gte,{value:q,name:L}=D,M=q,U=L;if(k){var X=k(q,L,D,I,s);if(Array.isArray(X))[M,U]=X;else if(X!=null)M=X;else return null}var Q=Bf(Bf({},ku.itemStyle),{},{color:D.color||ku.itemStyle.color},r);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:Q},Xa(U)?j.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Xa(U)?j.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,j.createElement("span",{className:"recharts-tooltip-item-value"},M),j.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:V},$)}return null},E=Bf(Bf({},ku.contentStyle),n),w=Bf({margin:0},i),N=!sn(p),A=N?p:"",R=Ut("recharts-default-tooltip",f),O=Ut("recharts-tooltip-label",h);N&&g&&s!==void 0&&s!==null&&(A=g(p,s));var C=y?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",Lw({className:R,style:E},C),j.createElement("p",{className:O,style:w},j.isValidElement(A)?A:"".concat(A)),x())},$f="recharts-tooltip-wrapper",Qte={visibility:"hidden"};function Wte(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ut($f,{["".concat($f,"-right")]:Pe(n)&&e&&Pe(e.x)&&n>=e.x,["".concat($f,"-left")]:Pe(n)&&e&&Pe(e.x)&&n<e.x,["".concat($f,"-bottom")]:Pe(r)&&e&&Pe(e.y)&&r>=e.y,["".concat($f,"-top")]:Pe(r)&&e&&Pe(e.y)&&r<e.y})}function MI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:s,reverseDirection:c,tooltipDimension:u,viewBox:f,viewBoxDimension:h}=t;if(s&&Pe(s[r]))return s[r];var p=n[r]-u-(i>0?i:0),g=n[r]+i;if(e[r])return c[r]?p:g;var y=f[r];if(y==null)return 0;if(c[r]){var x=p,E=y;return x<E?Math.max(g,y):Math.max(p,y)}if(h==null)return 0;var w=g+u,N=y+h;return w>N?Math.max(p,y):Math.max(g,y)}function Yte(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Xte(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:s,reverseDirection:c,tooltipBox:u,useTranslate3d:f,viewBox:h}=t,p,g,y;return u.height>0&&u.width>0&&n?(g=MI({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:s,reverseDirection:c,tooltipDimension:u.width,viewBox:h,viewBoxDimension:h.width}),y=MI({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:s,reverseDirection:c,tooltipDimension:u.height,viewBox:h,viewBoxDimension:h.height}),p=Yte({translateX:g,translateY:y,useTranslate3d:f})):p=Qte,{cssProperties:p,cssClasses:Wte({translateX:g,translateY:y,coordinate:n})}}function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){qw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qw(t,e,n){return(e=Jte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jte(t){var e=Zte(t,"string");return typeof e=="symbol"?e:e+""}function Zte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ene extends j.PureComponent{constructor(){super(...arguments),qw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),qw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:c,hasPayload:u,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:y,viewBox:x,wrapperStyle:E,lastBoundingBox:w,innerRef:N,hasPortalFromProps:A}=this.props,R=typeof h=="number"?h:h.x,O=typeof h=="number"?h:h.y,{cssClasses:C,cssProperties:V}=Xte({allowEscapeViewBox:n,coordinate:c,offsetLeft:R,offsetTop:O,position:p,reverseDirection:g,tooltipBox:{height:w.height,width:w.width},useTranslate3d:y,viewBox:x}),$=A?{}:gg(gg({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},V),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),D=gg(gg({},$),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},E);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:D,ref:N},s)}}var K3=()=>{var t;return(t=ze(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Uw(){return Uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uw.apply(null,arguments)}function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){tne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tne(t,e,n){return(e=nne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nne(t){var e=rne(t,"string");return typeof e=="symbol"?e:e+""}function rne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UI={curveBasisClosed:nJ,curveBasisOpen:rJ,curveBasis:tJ,curveBumpX:VX,curveBumpY:BX,curveLinearClosed:iJ,curveLinear:zy,curveMonotoneX:aJ,curveMonotoneY:sJ,curveNatural:oJ,curveStep:lJ,curveStepAfter:uJ,curveStepBefore:cJ},Pv=t=>pt(t.x)&&pt(t.y),VI=t=>t.base!=null&&Pv(t.base)&&Pv(t),Ff=t=>t.x,Hf=t=>t.y,ine=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(um(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=UI["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return UI[n]||zy},BI={connectNulls:!1,type:"linear"},ane=t=>{var{type:e=BI.type,points:n=[],baseLine:r,layout:i,connectNulls:s=BI.connectNulls}=t,c=ine(e,i),u=s?n.filter(Pv):n;if(Array.isArray(r)){var f,h=n.map((E,w)=>qI(qI({},E),{},{base:r[w]}));i==="vertical"?f=lg().y(Hf).x1(Ff).x0(E=>E.base.x):f=lg().x(Ff).y1(Hf).y0(E=>E.base.y);var p=f.defined(VI).curve(c),g=s?h.filter(VI):h;return p(g)}var y;i==="vertical"&&Pe(r)?y=lg().y(Hf).x1(Ff).x0(r):Pe(r)?y=lg().x(Ff).y1(Hf).y0(r):y=EL().x(Ff).y(Hf);var x=y.defined(Pv).curve(c);return x(u)},Q3=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=Vc();if((!n||!n.length)&&!r)return null;var c={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},u=n&&n.length?ane(c):r;return j.createElement("path",Uw({},da(t),qE(t),{className:Ut("recharts-curve",e),d:u===null?void 0:u,ref:i}))},sne=["x","y","top","left","width","height","className"];function Vw(){return Vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vw.apply(null,arguments)}function $I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function one(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(n),!0).forEach(function(r){lne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lne(t,e,n){return(e=cne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cne(t){var e=une(t,"string");return typeof e=="symbol"?e:e+""}function une(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dne(t,e){if(t==null)return{};var n,r,i=fne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hne=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),mne=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:c=0,className:u}=t,f=dne(t,sne),h=one({x:e,y:n,top:r,left:i,width:s,height:c},f);return!Pe(e)||!Pe(n)||!Pe(s)||!Pe(c)||!Pe(r)||!Pe(i)?null:j.createElement("path",Vw({},Ir(h),{className:Ut("recharts-cross",u),d:hne(e,n,s,c,r,i)}))};function pne(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function FI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(n),!0).forEach(function(r){gne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gne(t,e,n){return(e=vne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vne(t){var e=yne(t,"string");return typeof e=="symbol"?e:e+""}function yne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bne=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),W3=(t,e,n)=>t.map(r=>"".concat(bne(r)," ").concat(e,"ms ").concat(n)).join(","),xne=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Lh=(t,e)=>Object.keys(e).reduce((n,r)=>HI(HI({},n),{},{[r]:t(r,e[r])}),{});function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){_ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ne(t,e,n){return(e=wne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wne(t){var e=jne(t,"string");return typeof e=="symbol"?e:e+""}function jne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iv=(t,e,n)=>t+(e-t)*n,Bw=t=>{var{from:e,to:n}=t;return e!==n},Y3=(t,e,n)=>{var r=Lh((i,s)=>{if(Bw(s)){var[c,u]=t(s.from,s.to,s.velocity);return qn(qn({},s),{},{from:c,velocity:u})}return s},e);return n<1?Lh((i,s)=>Bw(s)&&r[i]!=null?qn(qn({},s),{},{velocity:Iv(s.velocity,r[i].velocity,n),from:Iv(s.from,r[i].from,n)}):s,e):Y3(t,r,n-1)};function Ene(t,e,n,r,i,s){var c,u=r.reduce((y,x)=>qn(qn({},y),{},{[x]:{from:t[x],velocity:0,to:e[x]}}),{}),f=()=>Lh((y,x)=>x.from,u),h=()=>!Object.values(u).filter(Bw).length,p=null,g=y=>{c||(c=y);var x=y-c,E=x/n.dt;u=Y3(n,u,E),i(qn(qn(qn({},t),e),f())),c=y,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var y;(y=p)===null||y===void 0||y()})}function Nne(t,e,n,r,i,s,c){var u=null,f=i.reduce((g,y)=>{var x=t[y],E=e[y];return x==null||E==null?g:qn(qn({},g),{},{[y]:[x,E]})},{}),h,p=g=>{h||(h=g);var y=(g-h)/r,x=Lh((w,N)=>Iv(...N,n(y)),f);if(s(qn(qn(qn({},t),e),x)),y<1)u=c.setTimeout(p);else{var E=Lh((w,N)=>Iv(...N,n(1)),f);s(qn(qn(qn({},t),e),E))}};return()=>(u=c.setTimeout(p),()=>{var g;(g=u)===null||g===void 0||g()})}const Sne=(t,e,n,r,i,s)=>{var c=xne(t,e);return n==null?()=>(i(qn(qn({},t),e)),()=>{}):n.isStepper===!0?Ene(t,e,n,c,i,s):Nne(t,e,n,r,c,i,s)};var Rv=1e-4,X3=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],J3=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),KI=(t,e)=>n=>{var r=X3(t,e);return J3(r,n)},Ane=(t,e)=>n=>{var r=X3(t,e),i=[...r.map((s,c)=>s*c).slice(1),0];return J3(i,n)},Tne=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},Cne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Tne(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},One=(t,e,n,r)=>{var i=KI(t,n),s=KI(e,r),c=Ane(t,n),u=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,y=0;y<8;++y){var x=i(g)-p,E=c(g);if(Math.abs(x-p)<Rv||E<Rv)return s(g);g=u(g-x/E)}return s(g)};return f.isStepper=!1,f},QI=function(){return One(...Cne(...arguments))},Pne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(c,u,f)=>{var h=-(c-u)*n,p=f*r,g=f+(h-p)*i/1e3,y=f*i/1e3+c;return Math.abs(y-u)<Rv&&Math.abs(g)<Rv?[u,0]:[y,g]};return s.isStepper=!0,s.dt=i,s},Ine=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QI(t);case"spring":return Pne();default:if(t.split("(")[0]==="cubic-bezier")return QI(t)}return typeof t=="function"?t:null};function Rne(t){var e,n=()=>null,r=!1,i=null,s=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var u=c,[f,...h]=u;if(typeof f=="number"){i=t.setTimeout(s.bind(null,h),f);return}s(f),i=t.setTimeout(s.bind(null,h));return}typeof c=="string"&&(e=c,n(e)),typeof c=="object"&&(e=c,n(e)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,i&&(i(),i=null),s(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>t}}class kne{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=c=>{c-r>=n?e(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function Dne(){return Rne(new kne)}var Mne=j.createContext(Dne);function zne(t,e){var n=j.useContext(Mne);return j.useMemo(()=>e??n(t),[t,e,n])}var Lne=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),i0={isSsr:Lne()},qne={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},WI={t:0},i1={t:1};function a0(t){var e=Dr(t,qne),{isActive:n,canBegin:r,duration:i,easing:s,begin:c,onAnimationEnd:u,onAnimationStart:f,children:h}=e,p=n==="auto"?!i0.isSsr:n,g=zne(e.animationId,e.animationManager),[y,x]=j.useState(p?WI:i1),E=j.useRef(null);return j.useEffect(()=>{p||x(i1)},[p]),j.useEffect(()=>{if(!p||!r)return Uc;var w=Sne(WI,i1,Ine(s),i,x,g.getTimeoutController()),N=()=>{E.current=w()};return g.start([f,c,N,i,u]),()=>{g.stop(),E.current&&E.current(),u()}},[p,r,i,s,c,f,u,g]),h(y.t)}function s0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=j.useRef(Ph(e)),r=j.useRef(t);return r.current!==t&&(n.current=Ph(e),r.current=t),n.current}var Une=["radius"],Vne=["radius"],YI,XI,JI,ZI,eR,tR,nR,rR,iR,aR;function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){Bne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bne(t,e,n){return(e=$ne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ne(t){var e=Fne(t,"string");return typeof e=="symbol"?e:e+""}function Fne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kv(){return kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kv.apply(null,arguments)}function lR(t,e){if(t==null)return{};var n,r,i=Hne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ra(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var cR=(t,e,n,r,i)=>{var s=Jo(n),c=Jo(r),u=Math.min(Math.abs(s)/2,Math.abs(c)/2),f=c>=0?1:-1,h=s>=0?1:-1,p=c>=0&&s>=0||c<0&&s<0?1:0,g;if(u>0&&Array.isArray(i)){for(var y=[0,0,0,0],x=0,E=4;x<E;x++){var w,N=(w=i[x])!==null&&w!==void 0?w:0;y[x]=N>u?u:N}g=hn(YI||(YI=Ra(["M",",",""])),t,e+f*y[0]),y[0]>0&&(g+=hn(XI||(XI=Ra(["A ",",",",0,0,",",",",",""])),y[0],y[0],p,t+h*y[0],e)),g+=hn(JI||(JI=Ra(["L ",",",""])),t+n-h*y[1],e),y[1]>0&&(g+=hn(ZI||(ZI=Ra(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],p,t+n,e+f*y[1])),g+=hn(eR||(eR=Ra(["L ",",",""])),t+n,e+r-f*y[2]),y[2]>0&&(g+=hn(tR||(tR=Ra(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],p,t+n-h*y[2],e+r)),g+=hn(nR||(nR=Ra(["L ",",",""])),t+h*y[3],e+r),y[3]>0&&(g+=hn(rR||(rR=Ra(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],p,t,e+r-f*y[3])),g+="Z"}else if(u>0&&i===+i&&i>0){var A=Math.min(u,i);g=hn(iR||(iR=Ra(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+f*A,A,A,p,t+h*A,e,t+n-h*A,e,A,A,p,t+n,e+f*A,t+n,e+r-f*A,A,A,p,t+n-h*A,e+r,t+h*A,e+r,A,A,p,t,e+r-f*A)}else g=hn(aR||(aR=Ra(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return g},uR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Z3=t=>{var e=Dr(t,uR),n=j.useRef(null),[r,i]=j.useState(-1);j.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ce=n.current.getTotalLength();ce&&i(ce)}catch{}},[]);var{x:s,y:c,width:u,height:f,radius:h,className:p}=e,{animationEasing:g,animationDuration:y,animationBegin:x,isAnimationActive:E,isUpdateAnimationActive:w}=e,N=j.useRef(u),A=j.useRef(f),R=j.useRef(s),O=j.useRef(c),C=j.useMemo(()=>({x:s,y:c,width:u,height:f,radius:h}),[s,c,u,f,h]),V=s0(C,"rectangle-");if(s!==+s||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var $=Ut("recharts-rectangle",p);if(!w){var D=Ir(e),{radius:I}=D,k=lR(D,Une);return j.createElement("path",kv({},k,{x:Jo(s),y:Jo(c),width:Jo(u),height:Jo(f),radius:typeof h=="number"?h:void 0,className:$,d:cR(s,c,u,f,h)}))}var q=N.current,L=A.current,M=R.current,U=O.current,X="0px ".concat(r===-1?1:r,"px"),Q="".concat(r,"px 0px"),H=W3(["strokeDasharray"],y,typeof g=="string"?g:uR.animationEasing);return j.createElement(a0,{animationId:V,key:V,canBegin:r>0,duration:y,easing:g,isActive:w,begin:x},ce=>{var Y=mn(q,u,ce),_e=mn(L,f,ce),W=mn(M,s,ce),F=mn(U,c,ce);n.current&&(N.current=Y,A.current=_e,R.current=W,O.current=F);var ne;E?ce>0?ne={transition:H,strokeDasharray:Q}:ne={strokeDasharray:X}:ne={strokeDasharray:Q};var ge=Ir(e),{radius:je}=ge,Z=lR(ge,Vne);return j.createElement("path",kv({},Z,{radius:typeof h=="number"?h:void 0,className:$,d:cR(W,F,Y,_e,h),ref:n,style:oR(oR({},ne),e.style)}))})};function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){Gne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gne(t,e,n){return(e=Kne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kne(t){var e=Qne(t,"string");return typeof e=="symbol"?e:e+""}function Qne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dv=Math.PI/180,Wne=t=>t*180/Math.PI,fr=(t,e,n,r)=>({x:t+Math.cos(-Dv*r)*n,y:e+Math.sin(-Dv*r)*n}),Yne=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Xne=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},Jne=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,c=Xne({x:n,y:r},{x:i,y:s});if(c<=0)return{radius:c,angle:0};var u=(n-i)/c,f=Math.acos(u);return r>s&&(f=2*Math.PI-f),{radius:c,angle:Wne(f),angleInRadian:f}},Zne=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},ere=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),c=Math.min(i,s);return t+c*360},tre=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=Jne({x:n,y:r},e),{innerRadius:c,outerRadius:u}=e;if(i<c||i>u||i===0)return null;var{startAngle:f,endAngle:h}=Zne(e),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?fR(fR({},e),{},{radius:i,angle:ere(p,e)}):null};function e6(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,c=fr(e,n,r,i),u=fr(e,n,r,s);return{points:[c,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var hR,mR,pR,gR,vR,yR,bR;function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$w.apply(null,arguments)}function sc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var nre=(t,e)=>{var n=Yr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},vg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:c,cornerRadius:u,cornerIsExternal:f}=t,h=u*(c?1:-1)+r,p=Math.asin(u/h)/Dv,g=f?i:i+s*p,y=fr(e,n,h,g),x=fr(e,n,r,g),E=f?i-s*p:i,w=fr(e,n,h*Math.cos(p*Dv),E);return{center:y,circleTangency:x,lineTangency:w,theta:p}},t6=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:c}=t,u=nre(s,c),f=s+u,h=fr(e,n,i,s),p=fr(e,n,i,f),g=hn(hR||(hR=sc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(u)>180),+(s>f),p.x,p.y);if(r>0){var y=fr(e,n,r,s),x=fr(e,n,r,f);g+=hn(mR||(mR=sc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,r,r,+(Math.abs(u)>180),+(s<=f),y.x,y.y)}else g+=hn(pR||(pR=sc(["L ",","," Z"])),e,n);return g},rre=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:h}=t,p=Yr(h-f),{circleTangency:g,lineTangency:y,theta:x}=vg({cx:e,cy:n,radius:i,angle:f,sign:p,cornerRadius:s,cornerIsExternal:u}),{circleTangency:E,lineTangency:w,theta:N}=vg({cx:e,cy:n,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:u}),A=u?Math.abs(f-h):Math.abs(f-h)-x-N;if(A<0)return c?hn(gR||(gR=sc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,s,s,s*2,s,s,-s*2):t6({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var R=hn(vR||(vR=sc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,s,s,+(p<0),g.x,g.y,i,i,+(A>180),+(p<0),E.x,E.y,s,s,+(p<0),w.x,w.y);if(r>0){var{circleTangency:O,lineTangency:C,theta:V}=vg({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:$,lineTangency:D,theta:I}=vg({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),k=u?Math.abs(f-h):Math.abs(f-h)-V-I;if(k<0&&s===0)return"".concat(R,"L").concat(e,",").concat(n,"Z");R+=hn(yR||(yR=sc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),D.x,D.y,s,s,+(p<0),$.x,$.y,r,r,+(k>180),+(p>0),O.x,O.y,s,s,+(p<0),C.x,C.y)}else R+=hn(bR||(bR=sc(["L",",","Z"])),e,n);return R},ire={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},n6=t=>{var e=Dr(t,ire),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=e;if(s<i||h===p)return null;var y=Ut("recharts-sector",g),x=s-i,E=fa(c,x,0,!0),w;return E>0&&Math.abs(h-p)<360?w=rre({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(E,x/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:p}):w=t6({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),j.createElement("path",$w({},Ir(e),{className:y,d:w}))};function are(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(UL(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:c,angle:u}=e,f=fr(r,i,s,u),h=fr(r,i,c,u);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return e6(e)}}var a1={},s1={},o1={},xR;function sre(){return xR||(xR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YL();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(o1)),o1}var _R;function ore(){return _R||(_R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sre();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(s1)),s1}var wR;function lre(){return wR||(wR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XL(),n=ore();function r(i,s,c){c&&typeof c!="number"&&e.isIterateeCall(i,s,c)&&(s=c=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),c=c===void 0?i<s?1:-1:n.toFinite(c);const u=Math.max(Math.ceil((s-i)/(c||1)),0),f=new Array(u);for(let h=0;h<u;h++)f[h]=i,i+=c;return f}t.range=r})(a1)),a1}var l1,jR;function cre(){return jR||(jR=1,l1=lre().range),l1}var ure=cre();const r6=es(ure);function il(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tN(t){let e,n,r;t.length!==2?(e=il,n=(u,f)=>il(t(u),f),r=(u,f)=>t(u)-f):(e=t===il||t===dre?t:fre,n=t,r=t);function i(u,f,h=0,p=u.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(u[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(u,f,h=0,p=u.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(u[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function c(u,f,h=0,p=u.length){const g=i(u,f,h,p-1);return g>h&&r(u[g-1],f)>-r(u[g],f)?g-1:g}return{left:i,center:c,right:s}}function fre(){return 0}function i6(t){return t===null?NaN:+t}function*hre(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const mre=tN(il),gm=mre.right;tN(i6).center;class ER extends Map{constructor(e,n=vre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(NR(this,e))}has(e){return super.has(NR(this,e))}set(e,n){return super.set(pre(this,e),n)}delete(e){return super.delete(gre(this,e))}}function NR({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function pre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function gre({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function vre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function yre(t=il){if(t===il)return a6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function a6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const bre=Math.sqrt(50),xre=Math.sqrt(10),_re=Math.sqrt(2);function Mv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),c=s>=bre?10:s>=xre?5:s>=_re?2:1;let u,f,h;return i<0?(h=Math.pow(10,-i)/c,u=Math.round(t*h),f=Math.round(e*h),u/h<t&&++u,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*c,u=Math.round(t/h),f=Math.round(e/h),u*h<t&&++u,f*h>e&&--f),f<u&&.5<=n&&n<2?Mv(t,e,n*2):[u,f,h]}function Fw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,c]=r?Mv(e,t,n):Mv(t,e,n);if(!(s>=i))return[];const u=s-i+1,f=new Array(u);if(r)if(c<0)for(let h=0;h<u;++h)f[h]=(s-h)/-c;else for(let h=0;h<u;++h)f[h]=(s-h)*c;else if(c<0)for(let h=0;h<u;++h)f[h]=(i+h)/-c;else for(let h=0;h<u;++h)f[h]=(i+h)*c;return f}function Hw(t,e,n){return e=+e,t=+t,n=+n,Mv(t,e,n)[2]}function Gw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Hw(e,t,n):Hw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function SR(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function AR(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function s6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?a6:yre(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),x=Math.max(n,Math.floor(e-h*g/f+y)),E=Math.min(r,Math.floor(e+(f-h)*g/f+y));s6(t,e,x,E,i)}const s=t[e];let c=n,u=r;for(Gf(t,n,e),i(t[r],s)>0&&Gf(t,n,r);c<u;){for(Gf(t,c,u),++c,--u;i(t[c],s)<0;)++c;for(;i(t[u],s)>0;)--u}i(t[n],s)===0?Gf(t,n,u):(++u,Gf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Gf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function wre(t,e,n){if(t=Float64Array.from(hre(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return AR(t);if(e>=1)return SR(t);var r,i=(r-1)*e,s=Math.floor(i),c=SR(s6(t,s).subarray(0,s+1)),u=AR(t.subarray(s+1));return c+(u-c)*(i-s)}}function jre(t,e,n=i6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),c=+n(t[s],s,t),u=+n(t[s+1],s+1,t);return c+(u-c)*(i-s)}}function Ere(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function $i(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function eo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Kw=Symbol("implicit");function nN(){var t=new ER,e=[],n=[],r=Kw;function i(s){let c=t.get(s);if(c===void 0){if(r!==Kw)return r;t.set(s,c=e.push(s)-1)}return n[c%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new ER;for(const c of s)t.has(c)||t.set(c,e.push(c)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return nN(e,n).unknown(r)},$i.apply(i,arguments),i}function rN(){var t=nN().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,c,u=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var y=e().length,x=i<r,E=x?i:r,w=x?r:i;s=(w-E)/Math.max(1,y-f+h*2),u&&(s=Math.floor(s)),E+=(w-E-s*(y-f))*p,c=s*(1-f),u&&(E=Math.round(E),c=Math.round(c));var N=Ere(y).map(function(A){return E+s*A});return n(x?N.reverse():N)}return t.domain=function(y){return arguments.length?(e(y),g()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,u=!0,g()},t.bandwidth=function(){return c},t.step=function(){return s},t.round=function(y){return arguments.length?(u=!!y,g()):u},t.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),g()):f},t.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),g()):f},t.paddingOuter=function(y){return arguments.length?(h=+y,g()):h},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),g()):p},t.copy=function(){return rN(e(),[r,i]).round(u).paddingInner(f).paddingOuter(h).align(p)},$i.apply(g(),arguments)}function o6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return o6(e())},t}function Nre(){return o6(rN.apply(null,arguments).paddingInner(1))}function iN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function l6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function vm(){}var qh=.7,zv=1/qh,ed="\\s*([+-]?\\d+)\\s*",Uh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ka="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Sre=/^#([0-9a-f]{3,8})$/,Are=new RegExp(`^rgb\\(${ed},${ed},${ed}\\)$`),Tre=new RegExp(`^rgb\\(${Ka},${Ka},${Ka}\\)$`),Cre=new RegExp(`^rgba\\(${ed},${ed},${ed},${Uh}\\)$`),Ore=new RegExp(`^rgba\\(${Ka},${Ka},${Ka},${Uh}\\)$`),Pre=new RegExp(`^hsl\\(${Uh},${Ka},${Ka}\\)$`),Ire=new RegExp(`^hsla\\(${Uh},${Ka},${Ka},${Uh}\\)$`),TR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iN(vm,Vh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:CR,formatHex:CR,formatHex8:Rre,formatHsl:kre,formatRgb:OR,toString:OR});function CR(){return this.rgb().formatHex()}function Rre(){return this.rgb().formatHex8()}function kre(){return c6(this).formatHsl()}function OR(){return this.rgb().formatRgb()}function Vh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Sre.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?PR(e):n===3?new Jr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?yg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?yg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Are.exec(t))?new Jr(e[1],e[2],e[3],1):(e=Tre.exec(t))?new Jr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Cre.exec(t))?yg(e[1],e[2],e[3],e[4]):(e=Ore.exec(t))?yg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Pre.exec(t))?kR(e[1],e[2]/100,e[3]/100,1):(e=Ire.exec(t))?kR(e[1],e[2]/100,e[3]/100,e[4]):TR.hasOwnProperty(t)?PR(TR[t]):t==="transparent"?new Jr(NaN,NaN,NaN,0):null}function PR(t){return new Jr(t>>16&255,t>>8&255,t&255,1)}function yg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Jr(t,e,n,r)}function Dre(t){return t instanceof vm||(t=Vh(t)),t?(t=t.rgb(),new Jr(t.r,t.g,t.b,t.opacity)):new Jr}function Qw(t,e,n,r){return arguments.length===1?Dre(t):new Jr(t,e,n,r??1)}function Jr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}iN(Jr,Qw,l6(vm,{brighter(t){return t=t==null?zv:Math.pow(zv,t),new Jr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?qh:Math.pow(qh,t),new Jr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Jr(gc(this.r),gc(this.g),gc(this.b),Lv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:IR,formatHex:IR,formatHex8:Mre,formatRgb:RR,toString:RR}));function IR(){return`#${oc(this.r)}${oc(this.g)}${oc(this.b)}`}function Mre(){return`#${oc(this.r)}${oc(this.g)}${oc(this.b)}${oc((isNaN(this.opacity)?1:this.opacity)*255)}`}function RR(){const t=Lv(this.opacity);return`${t===1?"rgb(":"rgba("}${gc(this.r)}, ${gc(this.g)}, ${gc(this.b)}${t===1?")":`, ${t})`}`}function Lv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function gc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function oc(t){return t=gc(t),(t<16?"0":"")+t.toString(16)}function kR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ia(t,e,n,r)}function c6(t){if(t instanceof ia)return new ia(t.h,t.s,t.l,t.opacity);if(t instanceof vm||(t=Vh(t)),!t)return new ia;if(t instanceof ia)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),c=NaN,u=s-i,f=(s+i)/2;return u?(e===s?c=(n-r)/u+(n<r)*6:n===s?c=(r-e)/u+2:c=(e-n)/u+4,u/=f<.5?s+i:2-s-i,c*=60):u=f>0&&f<1?0:c,new ia(c,u,f,t.opacity)}function zre(t,e,n,r){return arguments.length===1?c6(t):new ia(t,e,n,r??1)}function ia(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}iN(ia,zre,l6(vm,{brighter(t){return t=t==null?zv:Math.pow(zv,t),new ia(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?qh:Math.pow(qh,t),new ia(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Jr(c1(t>=240?t-240:t+120,i,r),c1(t,i,r),c1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ia(DR(this.h),bg(this.s),bg(this.l),Lv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Lv(this.opacity);return`${t===1?"hsl(":"hsla("}${DR(this.h)}, ${bg(this.s)*100}%, ${bg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function DR(t){return t=(t||0)%360,t<0?t+360:t}function bg(t){return Math.max(0,Math.min(1,t||0))}function c1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const aN=t=>()=>t;function Lre(t,e){return function(n){return t+n*e}}function qre(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ure(t){return(t=+t)==1?u6:function(e,n){return n-e?qre(e,n,t):aN(isNaN(e)?n:e)}}function u6(t,e){var n=e-t;return n?Lre(t,n):aN(isNaN(t)?e:t)}const MR=(function t(e){var n=Ure(e);function r(i,s){var c=n((i=Qw(i)).r,(s=Qw(s)).r),u=n(i.g,s.g),f=n(i.b,s.b),h=u6(i.opacity,s.opacity);return function(p){return i.r=c(p),i.g=u(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=t,r})(1);function Vre(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Bre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function $re(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),c;for(c=0;c<r;++c)i[c]=Td(t[c],e[c]);for(;c<n;++c)s[c]=e[c];return function(u){for(c=0;c<r;++c)s[c]=i[c](u);return s}}function Fre(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function qv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Hre(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Td(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Ww=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,u1=new RegExp(Ww.source,"g");function Gre(t){return function(){return t}}function Kre(t){return function(e){return t(e)+""}}function Qre(t,e){var n=Ww.lastIndex=u1.lastIndex=0,r,i,s,c=-1,u=[],f=[];for(t=t+"",e=e+"";(r=Ww.exec(t))&&(i=u1.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),u[c]?u[c]+=s:u[++c]=s),(r=r[0])===(i=i[0])?u[c]?u[c]+=i:u[++c]=i:(u[++c]=null,f.push({i:c,x:qv(r,i)})),n=u1.lastIndex;return n<e.length&&(s=e.slice(n),u[c]?u[c]+=s:u[++c]=s),u.length<2?f[0]?Kre(f[0].x):Gre(e):(e=f.length,function(h){for(var p=0,g;p<e;++p)u[(g=f[p]).i]=g.x(h);return u.join("")})}function Td(t,e){var n=typeof e,r;return e==null||n==="boolean"?aN(e):(n==="number"?qv:n==="string"?(r=Vh(e))?(e=r,MR):Qre:e instanceof Vh?MR:e instanceof Date?Fre:Bre(e)?Vre:Array.isArray(e)?$re:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Hre:qv)(t,e)}function sN(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Wre(t,e){e===void 0&&(e=t,t=Td);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(c){var u=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return s[u](c-u)}}function Yre(t){return function(){return t}}function Uv(t){return+t}var zR=[0,1];function Cr(t){return t}function Yw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Yre(isNaN(e)?NaN:.5)}function Xre(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Jre(t,e,n){var r=t[0],i=t[1],s=e[0],c=e[1];return i<r?(r=Yw(i,r),s=n(c,s)):(r=Yw(r,i),s=n(s,c)),function(u){return s(r(u))}}function Zre(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),c=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<r;)i[c]=Yw(t[c],t[c+1]),s[c]=n(e[c],e[c+1]);return function(u){var f=gm(t,u,1,r)-1;return s[f](i[f](u))}}function ym(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function o0(){var t=zR,e=zR,n=Td,r,i,s,c=Cr,u,f,h;function p(){var y=Math.min(t.length,e.length);return c!==Cr&&(c=Xre(t[0],t[y-1])),u=y>2?Zre:Jre,f=h=null,g}function g(y){return y==null||isNaN(y=+y)?s:(f||(f=u(t.map(r),e,n)))(r(c(y)))}return g.invert=function(y){return c(i((h||(h=u(e,t.map(r),qv)))(y)))},g.domain=function(y){return arguments.length?(t=Array.from(y,Uv),p()):t.slice()},g.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},g.rangeRound=function(y){return e=Array.from(y),n=sN,p()},g.clamp=function(y){return arguments.length?(c=y?!0:Cr,p()):c!==Cr},g.interpolate=function(y){return arguments.length?(n=y,p()):n},g.unknown=function(y){return arguments.length?(s=y,g):s},function(y,x){return r=y,i=x,p()}}function oN(){return o0()(Cr,Cr)}function eie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Vv(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function md(t){return t=Vv(Math.abs(t)),t?t[1]:NaN}function tie(t,e){return function(n,r){for(var i=n.length,s=[],c=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),s.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[c=(c+1)%t.length];return s.reverse().join(e)}}function nie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var rie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bh(t){if(!(e=rie.exec(t)))throw new Error("invalid format: "+t);var e;return new lN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Bh.prototype=lN.prototype;function lN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}lN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iie(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Bv;function aie(t,e){var n=Vv(t,e);if(!n)return Bv=void 0,t.toPrecision(e);var r=n[0],i=n[1],s=i-(Bv=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=r.length;return s===c?r:s>c?r+new Array(s-c+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Vv(t,Math.max(0,e+s-1))[0]}function LR(t,e){var n=Vv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const qR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:eie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>LR(t*100,e),r:LR,s:aie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function UR(t){return t}var VR=Array.prototype.map,BR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function sie(t){var e=t.grouping===void 0||t.thousands===void 0?UR:tie(VR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?UR:nie(VR.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(g,y){g=Bh(g);var x=g.fill,E=g.align,w=g.sign,N=g.symbol,A=g.zero,R=g.width,O=g.comma,C=g.precision,V=g.trim,$=g.type;$==="n"?(O=!0,$="g"):qR[$]||(C===void 0&&(C=12),V=!0,$="g"),(A||x==="0"&&E==="=")&&(A=!0,x="0",E="=");var D=(y&&y.prefix!==void 0?y.prefix:"")+(N==="$"?n:N==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():""),I=(N==="$"?r:/[%p]/.test($)?c:"")+(y&&y.suffix!==void 0?y.suffix:""),k=qR[$],q=/[defgprs%]/.test($);C=C===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function L(M){var U=D,X=I,Q,H,ce;if($==="c")X=k(M)+X,M="";else{M=+M;var Y=M<0||1/M<0;if(M=isNaN(M)?f:k(Math.abs(M),C),V&&(M=iie(M)),Y&&+M==0&&w!=="+"&&(Y=!1),U=(Y?w==="("?w:u:w==="-"||w==="("?"":w)+U,X=($==="s"&&!isNaN(M)&&Bv!==void 0?BR[8+Bv/3]:"")+X+(Y&&w==="("?")":""),q){for(Q=-1,H=M.length;++Q<H;)if(ce=M.charCodeAt(Q),48>ce||ce>57){X=(ce===46?i+M.slice(Q+1):M.slice(Q))+X,M=M.slice(0,Q);break}}}O&&!A&&(M=e(M,1/0));var _e=U.length+M.length+X.length,W=_e<R?new Array(R-_e+1).join(x):"";switch(O&&A&&(M=e(W+M,W.length?R-X.length:1/0),W=""),E){case"<":M=U+M+X+W;break;case"=":M=U+W+M+X;break;case"^":M=W.slice(0,_e=W.length>>1)+U+M+X+W.slice(_e);break;default:M=W+U+M+X;break}return s(M)}return L.toString=function(){return g+""},L}function p(g,y){var x=Math.max(-8,Math.min(8,Math.floor(md(y)/3)))*3,E=Math.pow(10,-x),w=h((g=Bh(g),g.type="f",g),{suffix:BR[8+x/3]});return function(N){return w(E*N)}}return{format:h,formatPrefix:p}}var xg,cN,d6;oie({thousands:",",grouping:[3],currency:["$",""]});function oie(t){return xg=sie(t),cN=xg.format,d6=xg.formatPrefix,xg}function lie(t){return Math.max(0,-md(Math.abs(t)))}function cie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(md(e)/3)))*3-md(Math.abs(t)))}function uie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,md(e)-md(t))+1}function f6(t,e,n,r){var i=Gw(t,e,n),s;switch(r=Bh(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=cie(i,c))&&(r.precision=s),d6(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=uie(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=lie(i))&&(r.precision=s-(r.type==="%")*2);break}}return cN(r)}function jl(t){var e=t.domain;return t.ticks=function(n){var r=e();return Fw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return f6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,c=r[i],u=r[s],f,h,p=10;for(u<c&&(h=c,c=u,u=h,h=i,i=s,s=h);p-- >0;){if(h=Hw(c,u,n),h===f)return r[i]=c,r[s]=u,e(r);if(h>0)c=Math.floor(c/h)*h,u=Math.ceil(u/h)*h;else if(h<0)c=Math.ceil(c*h)/h,u=Math.floor(u*h)/h;else break;f=h}return t},t}function h6(){var t=oN();return t.copy=function(){return ym(t,h6())},$i.apply(t,arguments),jl(t)}function m6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Uv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return m6(t).unknown(e)},t=arguments.length?Array.from(t,Uv):[0,1],jl(n)}function p6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],c;return s<i&&(c=n,n=r,r=c,c=i,i=s,s=c),t[n]=e.floor(i),t[r]=e.ceil(s),t}function $R(t){return Math.log(t)}function FR(t){return Math.exp(t)}function die(t){return-Math.log(-t)}function fie(t){return-Math.exp(-t)}function hie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function mie(t){return t===10?hie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function pie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function HR(t){return(e,n)=>-t(-e,n)}function uN(t){const e=t($R,FR),n=e.domain;let r=10,i,s;function c(){return i=pie(r),s=mie(r),n()[0]<0?(i=HR(i),s=HR(s),t(die,fie)):t($R,FR),e}return e.base=function(u){return arguments.length?(r=+u,c()):r},e.domain=function(u){return arguments.length?(n(u),c()):n()},e.ticks=u=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let y=i(h),x=i(p),E,w;const N=u==null?10:+u;let A=[];if(!(r%1)&&x-y<N){if(y=Math.floor(y),x=Math.ceil(x),h>0){for(;y<=x;++y)for(E=1;E<r;++E)if(w=y<0?E/s(-y):E*s(y),!(w<h)){if(w>p)break;A.push(w)}}else for(;y<=x;++y)for(E=r-1;E>=1;--E)if(w=y>0?E/s(-y):E*s(y),!(w<h)){if(w>p)break;A.push(w)}A.length*2<N&&(A=Fw(h,p,N))}else A=Fw(y,x,Math.min(x-y,N)).map(s);return g?A.reverse():A},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Bh(f)).precision==null&&(f.trim=!0),f=cN(f)),u===1/0)return f;const h=Math.max(1,r*u/e.ticks().length);return p=>{let g=p/s(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},e.nice=()=>n(p6(n(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),e}function g6(){const t=uN(o0()).domain([1,10]);return t.copy=()=>ym(t,g6()).base(t.base()),$i.apply(t,arguments),t}function GR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function KR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function dN(t){var e=1,n=t(GR(e),KR(e));return n.constant=function(r){return arguments.length?t(GR(e=+r),KR(e)):e},jl(n)}function v6(){var t=dN(o0());return t.copy=function(){return ym(t,v6()).constant(t.constant())},$i.apply(t,arguments)}function QR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function gie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function vie(t){return t<0?-t*t:t*t}function fN(t){var e=t(Cr,Cr),n=1;function r(){return n===1?t(Cr,Cr):n===.5?t(gie,vie):t(QR(n),QR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},jl(e)}function hN(){var t=fN(o0());return t.copy=function(){return ym(t,hN()).exponent(t.exponent())},$i.apply(t,arguments),t}function yie(){return hN.apply(null,arguments).exponent(.5)}function WR(t){return Math.sign(t)*t*t}function bie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function y6(){var t=oN(),e=[0,1],n=!1,r;function i(s){var c=bie(t(s));return isNaN(c)?r:n?Math.round(c):c}return i.invert=function(s){return t.invert(WR(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Uv)).map(WR)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return y6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},$i.apply(i,arguments),jl(i)}function b6(){var t=[],e=[],n=[],r;function i(){var c=0,u=Math.max(1,e.length);for(n=new Array(u-1);++c<u;)n[c-1]=jre(t,c/u);return s}function s(c){return c==null||isNaN(c=+c)?r:e[gm(n,c)]}return s.invertExtent=function(c){var u=e.indexOf(c);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},s.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let u of c)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(il),i()},s.range=function(c){return arguments.length?(e=Array.from(c),i()):e.slice()},s.unknown=function(c){return arguments.length?(r=c,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return b6().domain(t).range(e).unknown(r)},$i.apply(s,arguments)}function x6(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function c(f){return f!=null&&f<=f?i[gm(r,f,0,n)]:s}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return c}return c.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},c.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},c.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},c.unknown=function(f){return arguments.length&&(s=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return x6().domain([t,e]).range(i).unknown(s)},$i.apply(jl(c),arguments)}function _6(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[gm(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var c=e.indexOf(s);return[t[c-1],t[c]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return _6().domain(t).range(e).unknown(n)},$i.apply(i,arguments)}const d1=new Date,f1=new Date;function Bn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const c=i(s),u=i.ceil(s);return s-c<u-s?c:u},i.offset=(s,c)=>(e(s=new Date(+s),c==null?1:Math.floor(c)),s),i.range=(s,c,u)=>{const f=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<c)||!(u>0))return f;let h;do f.push(h=new Date(+s)),e(s,u),t(s);while(h<s&&s<c);return f},i.filter=s=>Bn(c=>{if(c>=c)for(;t(c),!s(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;e(c,-1),!s(c););else for(;--u>=0;)for(;e(c,1),!s(c););}),n&&(i.count=(s,c)=>(d1.setTime(+s),f1.setTime(+c),t(d1),t(f1),Math.floor(n(d1,f1))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?c=>r(c)%s===0:c=>i.count(0,c)%s===0):i)),i}const $v=Bn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);$v.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Bn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):$v);$v.range;const Cs=1e3,Li=Cs*60,Os=Li*60,Vs=Os*24,mN=Vs*7,YR=Vs*30,h1=Vs*365,lc=Bn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Cs)},(t,e)=>(e-t)/Cs,t=>t.getUTCSeconds());lc.range;const pN=Bn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cs)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getMinutes());pN.range;const gN=Bn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getUTCMinutes());gN.range;const vN=Bn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cs-t.getMinutes()*Li)},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getHours());vN.range;const yN=Bn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getUTCHours());yN.range;const bm=Bn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Li)/Vs,t=>t.getDate()-1);bm.range;const l0=Bn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vs,t=>t.getUTCDate()-1);l0.range;const w6=Bn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vs,t=>Math.floor(t/Vs));w6.range;function Bc(t){return Bn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Li)/mN)}const c0=Bc(0),Fv=Bc(1),xie=Bc(2),_ie=Bc(3),pd=Bc(4),wie=Bc(5),jie=Bc(6);c0.range;Fv.range;xie.range;_ie.range;pd.range;wie.range;jie.range;function $c(t){return Bn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/mN)}const u0=$c(0),Hv=$c(1),Eie=$c(2),Nie=$c(3),gd=$c(4),Sie=$c(5),Aie=$c(6);u0.range;Hv.range;Eie.range;Nie.range;gd.range;Sie.range;Aie.range;const bN=Bn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());bN.range;const xN=Bn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());xN.range;const Bs=Bn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Bs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Bs.range;const $s=Bn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());$s.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});$s.range;function j6(t,e,n,r,i,s){const c=[[lc,1,Cs],[lc,5,5*Cs],[lc,15,15*Cs],[lc,30,30*Cs],[s,1,Li],[s,5,5*Li],[s,15,15*Li],[s,30,30*Li],[i,1,Os],[i,3,3*Os],[i,6,6*Os],[i,12,12*Os],[r,1,Vs],[r,2,2*Vs],[n,1,mN],[e,1,YR],[e,3,3*YR],[t,1,h1]];function u(h,p,g){const y=p<h;y&&([h,p]=[p,h]);const x=g&&typeof g.range=="function"?g:f(h,p,g),E=x?x.range(h,+p+1):[];return y?E.reverse():E}function f(h,p,g){const y=Math.abs(p-h)/g,x=tN(([,,N])=>N).right(c,y);if(x===c.length)return t.every(Gw(h/h1,p/h1,g));if(x===0)return $v.every(Math.max(Gw(h,p,g),1));const[E,w]=c[y/c[x-1][2]<c[x][2]/y?x-1:x];return E.every(w)}return[u,f]}const[Tie,Cie]=j6($s,xN,u0,w6,yN,gN),[Oie,Pie]=j6(Bs,bN,c0,bm,vN,pN);function m1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function p1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Kf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Iie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,c=t.shortDays,u=t.months,f=t.shortMonths,h=Qf(i),p=Wf(i),g=Qf(s),y=Wf(s),x=Qf(c),E=Wf(c),w=Qf(u),N=Wf(u),A=Qf(f),R=Wf(f),O={a:ce,A:Y,b:_e,B:W,c:null,d:nk,e:nk,f:tae,g:dae,G:hae,H:Jie,I:Zie,j:eae,L:E6,m:nae,M:rae,p:F,q:ne,Q:ak,s:sk,S:iae,u:aae,U:sae,V:oae,w:lae,W:cae,x:null,X:null,y:uae,Y:fae,Z:mae,"%":ik},C={a:ge,A:je,b:Z,B:re,c:null,d:rk,e:rk,f:yae,g:Tae,G:Oae,H:pae,I:gae,j:vae,L:S6,m:bae,M:xae,p:pe,q:Me,Q:ak,s:sk,S:_ae,u:wae,U:jae,V:Eae,w:Nae,W:Sae,x:null,X:null,y:Aae,Y:Cae,Z:Pae,"%":ik},V={a:q,A:L,b:M,B:U,c:X,d:ek,e:ek,f:Qie,g:ZR,G:JR,H:tk,I:tk,j:Fie,L:Kie,m:$ie,M:Hie,p:k,q:Bie,Q:Yie,s:Xie,S:Gie,u:zie,U:Lie,V:qie,w:Mie,W:Uie,x:Q,X:H,y:ZR,Y:JR,Z:Vie,"%":Wie};O.x=$(n,O),O.X=$(r,O),O.c=$(e,O),C.x=$(n,C),C.X=$(r,C),C.c=$(e,C);function $(oe,Se){return function(J){var ve=[],ke=-1,Fe=0,ot=oe.length,ht,gt,mr;for(J instanceof Date||(J=new Date(+J));++ke<ot;)oe.charCodeAt(ke)===37&&(ve.push(oe.slice(Fe,ke)),(gt=XR[ht=oe.charAt(++ke)])!=null?ht=oe.charAt(++ke):gt=ht==="e"?" ":"0",(mr=Se[ht])&&(ht=mr(J,gt)),ve.push(ht),Fe=ke+1);return ve.push(oe.slice(Fe,ke)),ve.join("")}}function D(oe,Se){return function(J){var ve=Kf(1900,void 0,1),ke=I(ve,oe,J+="",0),Fe,ot;if(ke!=J.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(Se&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Fe=p1(Kf(ve.y,0,1)),ot=Fe.getUTCDay(),Fe=ot>4||ot===0?Hv.ceil(Fe):Hv(Fe),Fe=l0.offset(Fe,(ve.V-1)*7),ve.y=Fe.getUTCFullYear(),ve.m=Fe.getUTCMonth(),ve.d=Fe.getUTCDate()+(ve.w+6)%7):(Fe=m1(Kf(ve.y,0,1)),ot=Fe.getDay(),Fe=ot>4||ot===0?Fv.ceil(Fe):Fv(Fe),Fe=bm.offset(Fe,(ve.V-1)*7),ve.y=Fe.getFullYear(),ve.m=Fe.getMonth(),ve.d=Fe.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),ot="Z"in ve?p1(Kf(ve.y,0,1)).getUTCDay():m1(Kf(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(ot+5)%7:ve.w+ve.U*7-(ot+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,p1(ve)):m1(ve)}}function I(oe,Se,J,ve){for(var ke=0,Fe=Se.length,ot=J.length,ht,gt;ke<Fe;){if(ve>=ot)return-1;if(ht=Se.charCodeAt(ke++),ht===37){if(ht=Se.charAt(ke++),gt=V[ht in XR?Se.charAt(ke++):ht],!gt||(ve=gt(oe,J,ve))<0)return-1}else if(ht!=J.charCodeAt(ve++))return-1}return ve}function k(oe,Se,J){var ve=h.exec(Se.slice(J));return ve?(oe.p=p.get(ve[0].toLowerCase()),J+ve[0].length):-1}function q(oe,Se,J){var ve=x.exec(Se.slice(J));return ve?(oe.w=E.get(ve[0].toLowerCase()),J+ve[0].length):-1}function L(oe,Se,J){var ve=g.exec(Se.slice(J));return ve?(oe.w=y.get(ve[0].toLowerCase()),J+ve[0].length):-1}function M(oe,Se,J){var ve=A.exec(Se.slice(J));return ve?(oe.m=R.get(ve[0].toLowerCase()),J+ve[0].length):-1}function U(oe,Se,J){var ve=w.exec(Se.slice(J));return ve?(oe.m=N.get(ve[0].toLowerCase()),J+ve[0].length):-1}function X(oe,Se,J){return I(oe,e,Se,J)}function Q(oe,Se,J){return I(oe,n,Se,J)}function H(oe,Se,J){return I(oe,r,Se,J)}function ce(oe){return c[oe.getDay()]}function Y(oe){return s[oe.getDay()]}function _e(oe){return f[oe.getMonth()]}function W(oe){return u[oe.getMonth()]}function F(oe){return i[+(oe.getHours()>=12)]}function ne(oe){return 1+~~(oe.getMonth()/3)}function ge(oe){return c[oe.getUTCDay()]}function je(oe){return s[oe.getUTCDay()]}function Z(oe){return f[oe.getUTCMonth()]}function re(oe){return u[oe.getUTCMonth()]}function pe(oe){return i[+(oe.getUTCHours()>=12)]}function Me(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var Se=$(oe+="",O);return Se.toString=function(){return oe},Se},parse:function(oe){var Se=D(oe+="",!1);return Se.toString=function(){return oe},Se},utcFormat:function(oe){var Se=$(oe+="",C);return Se.toString=function(){return oe},Se},utcParse:function(oe){var Se=D(oe+="",!0);return Se.toString=function(){return oe},Se}}}var XR={"-":"",_:" ",0:"0"},er=/^\s*\d+/,Rie=/^%/,kie=/[\\^$*+?|[\]().{}]/g;function _t(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Die(t){return t.replace(kie,"\\$&")}function Qf(t){return new RegExp("^(?:"+t.map(Die).join("|")+")","i")}function Wf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Mie(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function zie(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Lie(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function qie(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Uie(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function JR(t,e,n){var r=er.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ZR(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Vie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Bie(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function $ie(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ek(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Fie(t,e,n){var r=er.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function tk(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Hie(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Gie(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Kie(t,e,n){var r=er.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Qie(t,e,n){var r=er.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Wie(t,e,n){var r=Rie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Yie(t,e,n){var r=er.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Xie(t,e,n){var r=er.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function nk(t,e){return _t(t.getDate(),e,2)}function Jie(t,e){return _t(t.getHours(),e,2)}function Zie(t,e){return _t(t.getHours()%12||12,e,2)}function eae(t,e){return _t(1+bm.count(Bs(t),t),e,3)}function E6(t,e){return _t(t.getMilliseconds(),e,3)}function tae(t,e){return E6(t,e)+"000"}function nae(t,e){return _t(t.getMonth()+1,e,2)}function rae(t,e){return _t(t.getMinutes(),e,2)}function iae(t,e){return _t(t.getSeconds(),e,2)}function aae(t){var e=t.getDay();return e===0?7:e}function sae(t,e){return _t(c0.count(Bs(t)-1,t),e,2)}function N6(t){var e=t.getDay();return e>=4||e===0?pd(t):pd.ceil(t)}function oae(t,e){return t=N6(t),_t(pd.count(Bs(t),t)+(Bs(t).getDay()===4),e,2)}function lae(t){return t.getDay()}function cae(t,e){return _t(Fv.count(Bs(t)-1,t),e,2)}function uae(t,e){return _t(t.getFullYear()%100,e,2)}function dae(t,e){return t=N6(t),_t(t.getFullYear()%100,e,2)}function fae(t,e){return _t(t.getFullYear()%1e4,e,4)}function hae(t,e){var n=t.getDay();return t=n>=4||n===0?pd(t):pd.ceil(t),_t(t.getFullYear()%1e4,e,4)}function mae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_t(e/60|0,"0",2)+_t(e%60,"0",2)}function rk(t,e){return _t(t.getUTCDate(),e,2)}function pae(t,e){return _t(t.getUTCHours(),e,2)}function gae(t,e){return _t(t.getUTCHours()%12||12,e,2)}function vae(t,e){return _t(1+l0.count($s(t),t),e,3)}function S6(t,e){return _t(t.getUTCMilliseconds(),e,3)}function yae(t,e){return S6(t,e)+"000"}function bae(t,e){return _t(t.getUTCMonth()+1,e,2)}function xae(t,e){return _t(t.getUTCMinutes(),e,2)}function _ae(t,e){return _t(t.getUTCSeconds(),e,2)}function wae(t){var e=t.getUTCDay();return e===0?7:e}function jae(t,e){return _t(u0.count($s(t)-1,t),e,2)}function A6(t){var e=t.getUTCDay();return e>=4||e===0?gd(t):gd.ceil(t)}function Eae(t,e){return t=A6(t),_t(gd.count($s(t),t)+($s(t).getUTCDay()===4),e,2)}function Nae(t){return t.getUTCDay()}function Sae(t,e){return _t(Hv.count($s(t)-1,t),e,2)}function Aae(t,e){return _t(t.getUTCFullYear()%100,e,2)}function Tae(t,e){return t=A6(t),_t(t.getUTCFullYear()%100,e,2)}function Cae(t,e){return _t(t.getUTCFullYear()%1e4,e,4)}function Oae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?gd(t):gd.ceil(t),_t(t.getUTCFullYear()%1e4,e,4)}function Pae(){return"+0000"}function ik(){return"%"}function ak(t){return+t}function sk(t){return Math.floor(+t/1e3)}var Du,T6,C6;Iae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Iae(t){return Du=Iie(t),T6=Du.format,Du.parse,C6=Du.utcFormat,Du.utcParse,Du}function Rae(t){return new Date(t)}function kae(t){return t instanceof Date?+t:+new Date(+t)}function _N(t,e,n,r,i,s,c,u,f,h){var p=oN(),g=p.invert,y=p.domain,x=h(".%L"),E=h(":%S"),w=h("%I:%M"),N=h("%I %p"),A=h("%a %d"),R=h("%b %d"),O=h("%B"),C=h("%Y");function V($){return(f($)<$?x:u($)<$?E:c($)<$?w:s($)<$?N:r($)<$?i($)<$?A:R:n($)<$?O:C)($)}return p.invert=function($){return new Date(g($))},p.domain=function($){return arguments.length?y(Array.from($,kae)):y().map(Rae)},p.ticks=function($){var D=y();return t(D[0],D[D.length-1],$??10)},p.tickFormat=function($,D){return D==null?V:h(D)},p.nice=function($){var D=y();return(!$||typeof $.range!="function")&&($=e(D[0],D[D.length-1],$??10)),$?y(p6(D,$)):p},p.copy=function(){return ym(p,_N(t,e,n,r,i,s,c,u,f,h))},p}function Dae(){return $i.apply(_N(Oie,Pie,Bs,bN,c0,bm,vN,pN,lc,T6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Mae(){return $i.apply(_N(Tie,Cie,$s,xN,u0,l0,yN,gN,lc,C6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function d0(){var t=0,e=1,n,r,i,s,c=Cr,u=!1,f;function h(g){return g==null||isNaN(g=+g)?f:c(i===0?.5:(g=(s(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(c=g,h):c};function p(g){return function(y){var x,E;return arguments.length?([x,E]=y,c=g(x,E),h):[c(0),c(1)]}}return h.range=p(Td),h.rangeRound=p(sN),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),h}}function El(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function O6(){var t=jl(d0()(Cr));return t.copy=function(){return El(t,O6())},eo.apply(t,arguments)}function P6(){var t=uN(d0()).domain([1,10]);return t.copy=function(){return El(t,P6()).base(t.base())},eo.apply(t,arguments)}function I6(){var t=dN(d0());return t.copy=function(){return El(t,I6()).constant(t.constant())},eo.apply(t,arguments)}function wN(){var t=fN(d0());return t.copy=function(){return El(t,wN()).exponent(t.exponent())},eo.apply(t,arguments)}function zae(){return wN.apply(null,arguments).exponent(.5)}function R6(){var t=[],e=Cr;function n(r){if(r!=null&&!isNaN(r=+r))return e((gm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(il),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>wre(t,s/r))},n.copy=function(){return R6(e).domain(t)},eo.apply(n,arguments)}function f0(){var t=0,e=.5,n=1,r=1,i,s,c,u,f,h=Cr,p,g=!1,y;function x(w){return isNaN(w=+w)?y:(w=.5+((w=+p(w))-s)*(r*w<r*s?u:f),h(g?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([t,e,n]=w,i=p(t=+t),s=p(e=+e),c=p(n=+n),u=i===s?0:.5/(s-i),f=s===c?0:.5/(c-s),r=s<i?-1:1,x):[t,e,n]},x.clamp=function(w){return arguments.length?(g=!!w,x):g},x.interpolator=function(w){return arguments.length?(h=w,x):h};function E(w){return function(N){var A,R,O;return arguments.length?([A,R,O]=N,h=Wre(w,[A,R,O]),x):[h(0),h(.5),h(1)]}}return x.range=E(Td),x.rangeRound=E(sN),x.unknown=function(w){return arguments.length?(y=w,x):y},function(w){return p=w,i=w(t),s=w(e),c=w(n),u=i===s?0:.5/(s-i),f=s===c?0:.5/(c-s),r=s<i?-1:1,x}}function k6(){var t=jl(f0()(Cr));return t.copy=function(){return El(t,k6())},eo.apply(t,arguments)}function D6(){var t=uN(f0()).domain([.1,1,10]);return t.copy=function(){return El(t,D6()).base(t.base())},eo.apply(t,arguments)}function M6(){var t=dN(f0());return t.copy=function(){return El(t,M6()).constant(t.constant())},eo.apply(t,arguments)}function jN(){var t=fN(f0());return t.copy=function(){return El(t,jN()).exponent(t.exponent())},eo.apply(t,arguments)}function Lae(){return jN.apply(null,arguments).exponent(.5)}const sh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rN,scaleDiverging:k6,scaleDivergingLog:D6,scaleDivergingPow:jN,scaleDivergingSqrt:Lae,scaleDivergingSymlog:M6,scaleIdentity:m6,scaleImplicit:Kw,scaleLinear:h6,scaleLog:g6,scaleOrdinal:nN,scalePoint:Nre,scalePow:hN,scaleQuantile:b6,scaleQuantize:x6,scaleRadial:y6,scaleSequential:O6,scaleSequentialLog:P6,scaleSequentialPow:wN,scaleSequentialQuantile:R6,scaleSequentialSqrt:zae,scaleSequentialSymlog:I6,scaleSqrt:yie,scaleSymlog:v6,scaleThreshold:_6,scaleTime:Dae,scaleUtc:Mae,tickFormat:f6},Symbol.toStringTag,{value:"Module"}));var to=t=>t.chartData,z6=ue([to],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),EN=(t,e,n,r)=>r?z6(t):to(t),qae=(t,e,n)=>n?z6(t):to(t);function Fs(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(pt(e)&&pt(n))return!0}return!1}function ok(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function L6(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(pt(n))i=n;else if(typeof n=="function")return;if(pt(r))s=r;else if(typeof r=="function")return;var c=[i,s];if(Fs(c))return c}}function Uae(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Fs(r))return ok(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,c,u;if(i==="auto")e!=null&&(c=Math.min(...e));else if(Pe(i))c=i;else if(typeof i=="function")try{e!=null&&(c=i(e?.[0]))}catch{}else if(typeof i=="string"&&yI.test(i)){var f=yI.exec(i);if(f==null||f[1]==null||e==null)c=void 0;else{var h=+f[1];c=e[0]-h}}else c=e?.[0];if(s==="auto")e!=null&&(u=Math.max(...e));else if(Pe(s))u=s;else if(typeof s=="function")try{e!=null&&(u=s(e?.[1]))}catch{}else if(typeof s=="string"&&bI.test(s)){var p=bI.exec(s);if(p==null||p[1]==null||e==null)u=void 0;else{var g=+p[1];u=e[1]+g}}else u=e?.[1];var y=[c,u];if(Fs(y))return e==null?y:ok(y,e,n)}}}var Cd=1e9,Vae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},SN,Zt=!0,Vi="[DecimalError] ",vc=Vi+"Invalid argument: ",NN=Vi+"Exponent out of range: ",Od=Math.floor,ic=Math.pow,Bae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fi,Xn=1e7,Wt=7,q6=9007199254740991,Gv=Od(q6/Wt),Ce={};Ce.absoluteValue=Ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ce.comparedTo=Ce.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Wt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ce.dividedBy=Ce.div=function(t){return ks(this,new this.constructor(t))};Ce.dividedToIntegerBy=Ce.idiv=function(t){var e=this,n=e.constructor;return $t(ks(e,new n(t),0,1),n.precision)};Ce.equals=Ce.eq=function(t){return!this.cmp(t)};Ce.exponent=function(){return Mn(this)};Ce.greaterThan=Ce.gt=function(t){return this.cmp(t)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(t){return this.cmp(t)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(t){return this.cmp(t)<0};Ce.lessThanOrEqualTo=Ce.lte=function(t){return this.cmp(t)<1};Ce.logarithm=Ce.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(fi))throw Error(Vi+"NaN");if(n.s<1)throw Error(Vi+(n.s?"NaN":"-Infinity"));return n.eq(fi)?new r(0):(Zt=!1,e=ks($h(n,s),$h(t,s),s),Zt=!0,$t(e,i))};Ce.minus=Ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?B6(e,t):U6(e,(t.s=-t.s,t))};Ce.modulo=Ce.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Vi+"NaN");return n.s?(Zt=!1,e=ks(n,t,0,1).times(t),Zt=!0,n.minus(e)):$t(new r(n),i)};Ce.naturalExponential=Ce.exp=function(){return V6(this)};Ce.naturalLogarithm=Ce.ln=function(){return $h(this)};Ce.negated=Ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ce.plus=Ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?U6(e,t):B6(e,(t.s=-t.s,t))};Ce.precision=Ce.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(vc+t);if(e=Mn(i)+1,r=i.d.length-1,n=r*Wt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ce.squareRoot=Ce.sqrt=function(){var t,e,n,r,i,s,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Vi+"NaN")}for(t=Mn(u),Zt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Ua(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Od((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=c=n+3;;)if(s=r,r=s.plus(ks(u,s,c+2)).times(.5),Ua(s.d).slice(0,c)===(e=Ua(r.d)).slice(0,c)){if(e=e.slice(c-3,c+1),i==c&&e=="4999"){if($t(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(e!="9999")break;c+=4}return Zt=!0,$t(r,n)};Ce.times=Ce.mul=function(t){var e,n,r,i,s,c,u,f,h,p=this,g=p.constructor,y=p.d,x=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,f=y.length,h=x.length,f<h&&(s=y,y=x,x=s,c=f,f=h,h=c),s=[],c=f+h,r=c;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)u=s[i]+x[r]*y[i-r-1]+e,s[i--]=u%Xn|0,e=u/Xn|0;s[i]=(s[i]+e)%Xn|0}for(;!s[--c];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Zt?$t(t,g.precision):t};Ce.toDecimalPlaces=Ce.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Za(t,0,Cd),e===void 0?e=r.rounding:Za(e,0,8),$t(n,t+Mn(n)+1,e))};Ce.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Pc(r,!0):(Za(t,0,Cd),e===void 0?e=i.rounding:Za(e,0,8),r=$t(new i(r),t+1,e),n=Pc(r,!0,t+1)),n};Ce.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Pc(i):(Za(t,0,Cd),e===void 0?e=s.rounding:Za(e,0,8),r=$t(new s(i),t+Mn(i)+1,e),n=Pc(r.abs(),!1,t+Mn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ce.toInteger=Ce.toint=function(){var t=this,e=t.constructor;return $t(new e(t),Mn(t)+1,e.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(t){var e,n,r,i,s,c,u=this,f=u.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(fi);if(u=new f(u),!u.s){if(t.s<1)throw Error(Vi+"Infinity");return u}if(u.eq(fi))return u;if(r=f.precision,t.eq(fi))return $t(u,r);if(e=t.e,n=t.d.length-1,c=e>=n,s=u.s,c){if((n=p<0?-p:p)<=q6){for(i=new f(fi),e=Math.ceil(r/Wt+4),Zt=!1;n%2&&(i=i.times(u),ck(i.d,e)),n=Od(n/2),n!==0;)u=u.times(u),ck(u.d,e);return Zt=!0,t.s<0?new f(fi).div(i):$t(i,r)}}else if(s<0)throw Error(Vi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Zt=!1,i=t.times($h(u,r+h)),Zt=!0,i=V6(i),i.s=s,i};Ce.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Mn(i),r=Pc(i,n<=s.toExpNeg||n>=s.toExpPos)):(Za(t,1,Cd),e===void 0?e=s.rounding:Za(e,0,8),i=$t(new s(i),t,e),n=Mn(i),r=Pc(i,t<=n||n<=s.toExpNeg,t)),r};Ce.toSignificantDigits=Ce.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Za(t,1,Cd),e===void 0?e=r.rounding:Za(e,0,8)),$t(new r(n),t,e)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Mn(t),n=t.constructor;return Pc(t,e<=n.toExpNeg||e>=n.toExpPos)};function U6(t,e){var n,r,i,s,c,u,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Zt?$t(e,g):e;if(f=t.d,h=e.d,c=t.e,i=e.e,f=f.slice(),s=c-i,s){for(s<0?(r=f,s=-s,u=h.length):(r=h,i=c,u=f.length),c=Math.ceil(g/Wt),u=c>u?c+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=f.length,s=h.length,u-s<0&&(s=u,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/Xn|0,f[s]%=Xn;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,Zt?$t(e,g):e}function Za(t,e,n){if(t!==~~t||t<e||t>n)throw Error(vc+t)}function Ua(t){var e,n,r,i=t.length-1,s="",c=t[0];if(i>0){for(s+=c,e=1;e<i;e++)r=t[e]+"",n=Wt-r.length,n&&(s+=Bo(n)),s+=r;c=t[e],r=c+"",n=Wt-r.length,n&&(s+=Bo(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var ks=(function(){function t(r,i){var s,c=0,u=r.length;for(r=r.slice();u--;)s=r[u]*i+c,r[u]=s%Xn|0,c=s/Xn|0;return c&&r.unshift(c),r}function e(r,i,s,c){var u,f;if(s!=c)f=s>c?1:-1;else for(u=f=0;u<s;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,s){for(var c=0;s--;)r[s]-=c,c=r[s]<i[s]?1:0,r[s]=c*Xn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,c){var u,f,h,p,g,y,x,E,w,N,A,R,O,C,V,$,D,I,k=r.constructor,q=r.s==i.s?1:-1,L=r.d,M=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Vi+"Division by zero");for(f=r.e-i.e,D=M.length,V=L.length,x=new k(q),E=x.d=[],h=0;M[h]==(L[h]||0);)++h;if(M[h]>(L[h]||0)&&--f,s==null?R=s=k.precision:c?R=s+(Mn(r)-Mn(i))+1:R=s,R<0)return new k(0);if(R=R/Wt+2|0,h=0,D==1)for(p=0,M=M[0],R++;(h<V||p)&&R--;h++)O=p*Xn+(L[h]||0),E[h]=O/M|0,p=O%M|0;else{for(p=Xn/(M[0]+1)|0,p>1&&(M=t(M,p),L=t(L,p),D=M.length,V=L.length),C=D,w=L.slice(0,D),N=w.length;N<D;)w[N++]=0;I=M.slice(),I.unshift(0),$=M[0],M[1]>=Xn/2&&++$;do p=0,u=e(M,w,D,N),u<0?(A=w[0],D!=N&&(A=A*Xn+(w[1]||0)),p=A/$|0,p>1?(p>=Xn&&(p=Xn-1),g=t(M,p),y=g.length,N=w.length,u=e(g,w,y,N),u==1&&(p--,n(g,D<y?I:M,y))):(p==0&&(u=p=1),g=M.slice()),y=g.length,y<N&&g.unshift(0),n(w,g,N),u==-1&&(N=w.length,u=e(M,w,D,N),u<1&&(p++,n(w,D<N?I:M,N))),N=w.length):u===0&&(p++,w=[0]),E[h++]=p,u&&w[0]?w[N++]=L[C]||0:(w=[L[C]],N=1);while((C++<V||w[0]!==void 0)&&R--)}return E[0]||E.shift(),x.e=f,$t(x,c?s+Mn(x)+1:s)}})();function V6(t,e){var n,r,i,s,c,u,f=0,h=0,p=t.constructor,g=p.precision;if(Mn(t)>16)throw Error(NN+Mn(t));if(!t.s)return new p(fi);for(Zt=!1,u=g,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),h+=5;for(r=Math.log(ic(2,h))/Math.LN10*2+5|0,u+=r,n=i=s=new p(fi),p.precision=u;;){if(i=$t(i.times(t),u),n=n.times(++f),c=s.plus(ks(i,n,u)),Ua(c.d).slice(0,u)===Ua(s.d).slice(0,u)){for(;h--;)s=$t(s.times(s),u);return p.precision=g,e==null?(Zt=!0,$t(s,g)):s}s=c}}function Mn(t){for(var e=t.e*Wt,n=t.d[0];n>=10;n/=10)e++;return e}function g1(t,e,n){if(e>t.LN10.sd())throw Zt=!0,n&&(t.precision=n),Error(Vi+"LN10 precision limit exceeded");return $t(new t(t.LN10),e)}function Bo(t){for(var e="";t--;)e+="0";return e}function $h(t,e){var n,r,i,s,c,u,f,h,p,g=1,y=10,x=t,E=x.d,w=x.constructor,N=w.precision;if(x.s<1)throw Error(Vi+(x.s?"NaN":"-Infinity"));if(x.eq(fi))return new w(0);if(e==null?(Zt=!1,h=N):h=e,x.eq(10))return e==null&&(Zt=!0),g1(w,h);if(h+=y,w.precision=h,n=Ua(E),r=n.charAt(0),s=Mn(x),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=Ua(x.d),r=n.charAt(0),g++;s=Mn(x),r>1?(x=new w("0."+n),s++):x=new w(r+"."+n.slice(1))}else return f=g1(w,h+2,N).times(s+""),x=$h(new w(r+"."+n.slice(1)),h-y).plus(f),w.precision=N,e==null?(Zt=!0,$t(x,N)):x;for(u=c=x=ks(x.minus(fi),x.plus(fi),h),p=$t(x.times(x),h),i=3;;){if(c=$t(c.times(p),h),f=u.plus(ks(c,new w(i),h)),Ua(f.d).slice(0,h)===Ua(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(g1(w,h+2,N).times(s+""))),u=ks(u,new w(g),h),w.precision=N,e==null?(Zt=!0,$t(u,N)):u;u=f,i+=2}}function lk(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Od(n/Wt),t.d=[],r=(n+1)%Wt,n<0&&(r+=Wt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Wt;r<i;)t.d.push(+e.slice(r,r+=Wt));e=e.slice(r),r=Wt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Zt&&(t.e>Gv||t.e<-Gv))throw Error(NN+n)}else t.s=0,t.e=0,t.d=[0];return t}function $t(t,e,n){var r,i,s,c,u,f,h,p,g=t.d;for(c=1,s=g[0];s>=10;s/=10)c++;if(r=e-c,r<0)r+=Wt,i=e,h=g[p=0];else{if(p=Math.ceil((r+1)/Wt),s=g.length,p>=s)return t;for(h=s=g[p],c=1;s>=10;s/=10)c++;r%=Wt,i=r-Wt+c}if(n!==void 0&&(s=ic(10,c-i-1),u=h/s%10|0,f=e<0||g[p+1]!==void 0||h%s,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?h/ic(10,c-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(s=Mn(t),g.length=1,e=e-s-1,g[0]=ic(10,(Wt-e%Wt)%Wt),t.e=Od(-e/Wt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=ic(10,Wt-r),g[p]=i>0?(h/ic(10,c-i)%ic(10,i)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==Xn&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=Xn)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(Zt&&(t.e>Gv||t.e<-Gv))throw Error(NN+Mn(t));return t}function B6(t,e){var n,r,i,s,c,u,f,h,p,g,y=t.constructor,x=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Zt?$t(e,x):e;if(f=t.d,g=e.d,r=e.e,h=t.e,f=f.slice(),c=h-r,c){for(p=c<0,p?(n=f,c=-c,u=g.length):(n=g,r=h,u=f.length),i=Math.max(Math.ceil(x/Wt),u)+2,c>i&&(c=i,n.length=1),n.reverse(),i=c;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(f[i]!=g[i]){p=f[i]<g[i];break}c=0}for(p&&(n=f,f=g,g=n,e.s=-e.s),u=f.length,i=g.length-u;i>0;--i)f[u++]=0;for(i=g.length;i>c;){if(f[--i]<g[i]){for(s=i;s&&f[--s]===0;)f[s]=Xn-1;--f[s],f[i]+=Xn}f[i]-=g[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Zt?$t(e,x):e):new y(0)}function Pc(t,e,n){var r,i=Mn(t),s=Ua(t.d),c=s.length;return e?(n&&(r=n-c)>0?s=s.charAt(0)+"."+s.slice(1)+Bo(r):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Bo(-i-1)+s,n&&(r=n-c)>0&&(s+=Bo(r))):i>=c?(s+=Bo(i+1-c),n&&(r=n-i-1)>0&&(s=s+"."+Bo(r))):((r=i+1)<c&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-c)>0&&(i+1===c&&(s+="."),s+=Bo(r))),t.s<0?"-"+s:s}function ck(t,e){if(t.length>e)return t.length=e,!0}function $6(t){var e,n,r;function i(s){var c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,s instanceof i){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(vc+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return lk(c,s.toString())}else if(typeof s!="string")throw Error(vc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,Bae.test(s))lk(c,s);else throw Error(vc+s)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=$6,i.config=i.set=$ae,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function $ae(t){if(!t||typeof t!="object")throw Error(Vi+"Object expected");var e,n,r,i=["precision",1,Cd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Od(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(vc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(vc+n+": "+r);return this}var SN=$6(Vae);fi=new SN(1);const Pt=SN;function F6(t){var e;return t===0?e=1:e=Math.floor(new Pt(t).abs().log(10).toNumber())+1,e}function H6(t,e,n){for(var r=new Pt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var G6=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},K6=(t,e,n)=>{if(t.lte(0))return new Pt(0);var r=F6(t.toNumber()),i=new Pt(10).pow(r),s=t.div(i),c=r!==1?.05:.1,u=new Pt(Math.ceil(s.div(c).toNumber())).add(n).mul(c),f=u.mul(i);return e?new Pt(f.toNumber()):new Pt(Math.ceil(f.toNumber()))},Fae=(t,e,n)=>{var r=new Pt(1),i=new Pt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Pt(10).pow(F6(t)-1),i=new Pt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Pt(Math.floor(t)))}else t===0?i=new Pt(Math.floor((e-1)/2)):n||(i=new Pt(Math.floor(t)));for(var c=Math.floor((e-1)/2),u=[],f=0;f<e;f++)u.push(i.add(new Pt(f-c).mul(r)).toNumber());return u},Q6=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Pt(0),tickMin:new Pt(0),tickMax:new Pt(0)};var c=K6(new Pt(n).sub(e).div(r-1),i,s),u;e<=0&&n>=0?u=new Pt(0):(u=new Pt(e).add(n).div(2),u=u.sub(new Pt(u).mod(c)));var f=Math.ceil(u.sub(e).div(c).toNumber()),h=Math.ceil(new Pt(n).sub(u).div(c).toNumber()),p=f+h+1;return p>r?Q6(e,n,r,i,s+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:c,tickMin:u.sub(new Pt(f).mul(c)),tickMax:u.add(new Pt(h).mul(c))})},Hae=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[u,f]=G6([n,r]);if(u===-1/0||f===1/0){var h=f===1/0?[u,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),f];return n>r?h.reverse():h}if(u===f)return Fae(u,i,s);var{step:p,tickMin:g,tickMax:y}=Q6(u,f,c,s,0),x=H6(g,y.add(new Pt(.1).mul(p)),p);return n>r?x.reverse():x},Gae=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,u]=G6([r,i]);if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var f=Math.max(n,2),h=K6(new Pt(u).sub(c).div(f-1),s,0),p=[...H6(new Pt(c),new Pt(u),h),u];return s===!1&&(p=p.map(g=>Math.round(g))),r>i?p.reverse():p},W6=t=>t.rootProps.maxBarSize,Kae=t=>t.rootProps.barGap,Y6=t=>t.rootProps.barCategoryGap,Qae=t=>t.rootProps.barSize,h0=t=>t.rootProps.stackOffset,X6=t=>t.rootProps.reverseStackOrder,AN=t=>t.options.chartName,TN=t=>t.rootProps.syncId,J6=t=>t.rootProps.syncMethod,CN=t=>t.options.eventEmitter,Jn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Zl={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},ka={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},m0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function p0(t,e,n){if(n!=="auto")return n;if(t!=null)return Xs(t,e)?"category":"number"}function uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(n),!0).forEach(function(r){Wae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wae(t,e,n){return(e=Yae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yae(t){var e=Xae(t,"string");return typeof e=="symbol"?e:e+""}function Xae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dk={allowDataOverflow:Zl.allowDataOverflow,allowDecimals:Zl.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Zl.angleAxisId,includeHidden:!1,name:void 0,reversed:Zl.reversed,scale:Zl.scale,tick:Zl.tick,tickCount:void 0,ticks:void 0,type:Zl.type,unit:void 0},fk={allowDataOverflow:ka.allowDataOverflow,allowDecimals:ka.allowDecimals,allowDuplicatedCategory:ka.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ka.radiusAxisId,includeHidden:ka.includeHidden,name:void 0,reversed:ka.reversed,scale:ka.scale,tick:ka.tick,tickCount:ka.tickCount,ticks:void 0,type:ka.type,unit:void 0},Jae=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},ON=ue([Jae,q3],(t,e)=>{var n;if(t!=null)return t;var r=(n=p0(e,"angleAxis",dk.type))!==null&&n!==void 0?n:"category";return Kv(Kv({},dk),{},{type:r})}),Zae=(t,e)=>t.polarAxis.radiusAxis[e],PN=ue([Zae,q3],(t,e)=>{var n;if(t!=null)return t;var r=(n=p0(e,"radiusAxis",fk.type))!==null&&n!==void 0?n:"category";return Kv(Kv({},fk),{},{type:r})}),g0=t=>t.polarOptions,IN=ue([Js,Zs,Zn],Yne),Z6=ue([g0,IN],(t,e)=>{if(t!=null)return fa(t.innerRadius,e,0)}),e5=ue([g0,IN],(t,e)=>{if(t!=null)return fa(t.outerRadius,e,e*.8)}),ese=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},t5=ue([g0],ese);ue([ON,t5],m0);var n5=ue([IN,Z6,e5],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ue([PN,n5],m0);var r5=ue([It,g0,Z6,e5,Js,Zs],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:c,cy:u,startAngle:f,endAngle:h}=e;return{cx:fa(c,i,i/2),cy:fa(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),tr=(t,e)=>e,v0=(t,e,n)=>n;function RN(t){return t?.id}function i5(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,c=new Map;return t.forEach(u=>{var f,h=(f=u.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=RN(u);h.forEach((g,y)=>{var x=s==null||i?y:String(Dn(g,s,null)),E=Dn(g,u.dataKey,0),w;c.has(x)?w=c.get(x):w={},Object.assign(w,{[p]:E}),c.set(x,w)})}}),Array.from(c.values())}function y0(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var b0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function x0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function tse(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var nr=t=>{var e=It(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Pd=t=>t.tooltip.settings.axisId;function nse(t){if(t in sh)return sh[t]();var e="scale".concat(um(t));if(e in sh)return sh[e]()}function hk(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(s){function c(){return s.apply(this,arguments)}return c.toString=function(){return s.toString()},c})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(s){var c=i[0],u=i[1];return c<=u?s>=c&&s<=u:s>=u&&s<=c},bandwidth:n?()=>n.call(t):void 0,ticks:e?s=>e.call(t,s):void 0,map:(s,c)=>{var u=t(s);if(u!=null){if(t.bandwidth&&c!==null&&c!==void 0&&c.position){var f=t.bandwidth();switch(c.position){case"middle":u+=f/2;break;case"end":u+=f;break}}return u}}}}function mk(t,e,n){if(typeof t=="function")return hk(t.copy().domain(e).range(n));if(t!=null){var r=nse(t);if(r!=null)return r.domain(e).range(n),hk(r)}}var rse=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Fs(e)){for(var n,r,i=0;i<e.length;i++){var s=e[i];pt(s)&&((n===void 0||s<n)&&(n=s),(r===void 0||s>r)&&(r=s))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(n),!0).forEach(function(r){ise(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ise(t,e,n){return(e=ase(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ase(t){var e=sse(t,"string");return typeof e=="symbol"?e:e+""}function sse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xw=[0,"auto"],Qn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},a5=(t,e)=>t.cartesianAxis.xAxis[e],no=(t,e)=>{var n=a5(t,e);return n??Qn},Wn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Xw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:hm},s5=(t,e)=>t.cartesianAxis.yAxis[e],ro=(t,e)=>{var n=s5(t,e);return n??Wn},ose={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},kN=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??ose},Mr=(t,e,n)=>{switch(e){case"xAxis":return no(t,n);case"yAxis":return ro(t,n);case"zAxis":return kN(t,n);case"angleAxis":return ON(t,n);case"radiusAxis":return PN(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},lse=(t,e,n)=>{switch(e){case"xAxis":return no(t,n);case"yAxis":return ro(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},xm=(t,e,n)=>{switch(e){case"xAxis":return no(t,n);case"yAxis":return ro(t,n);case"angleAxis":return ON(t,n);case"radiusAxis":return PN(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},o5=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function l5(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var _0=t=>t.graphicalItems.cartesianItems,cse=ue([tr,v0],l5),c5=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),_m=ue([_0,Mr,cse],c5,{memoizeOptions:{resultEqualityCheck:x0}}),u5=ue([_m],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(y0)),d5=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),use=ue([_m],d5),f5=t=>t.map(e=>e.data).filter(Boolean).flat(1),dse=ue([_m],f5,{memoizeOptions:{resultEqualityCheck:x0}}),h5=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},DN=ue([dse,EN],h5),m5=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Dn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Dn(i,r)}))):t.map(r=>({value:r})),w0=ue([DN,Mr,_m],m5);function p5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Vg(t){if(Xa(t)||t instanceof Date){var e=Number(t);if(pt(e))return e}}function gk(t){if(Array.isArray(t)){var e=[Vg(t[0]),Vg(t[1])];return Fs(e)?e:void 0}var n=Vg(t);if(n!=null)return[n,n]}function Hs(t){return t.map(Vg).filter(Xr)}function fse(t,e,n){return!n||typeof e!="number"||Ya(e)?[]:n.length?Hs(n.flatMap(r=>{var i=Dn(t,r.dataKey),s,c;if(Array.isArray(i)?[s,c]=i:s=c=i,!(!pt(s)||!pt(c)))return[e-s,e+c]})):[]}var $n=t=>{var e=nr(t),n=Pd(t);return xm(t,e,n)},wm=ue([$n],t=>t?.dataKey),hse=ue([u5,EN,$n],i5),g5=(t,e,n,r)=>{var i={},s=e.reduce((c,u)=>{if(u.stackId==null)return c;var f=c[u.stackId];return f==null&&(f=[]),f.push(u),c[u.stackId]=f,c},i);return Object.fromEntries(Object.entries(s).map(c=>{var[u,f]=c,h=r?[...f].reverse():f,p=h.map(RN);return[u,{stackedData:Vee(t,p,n),graphicalItems:h}]}))},Jw=ue([hse,u5,h0,X6],g5),v5=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var c=Gee(t,i,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},mse=ue([Mr],t=>t.allowDataOverflow),MN=t=>{var e;if(t==null||!("domain"in t))return Xw;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Hs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Xw},y5=ue([Mr],MN),b5=ue([y5,mse],L6),pse=ue([Jw,to,tr,b5],v5,{memoizeOptions:{resultEqualityCheck:b0}}),zN=t=>t.errorBars,gse=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>p5(n,r)),Wv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),c=Math.min(...s),u=Math.max(...s);return[c,u]}},x5=(t,e,n,r,i)=>{var s,c;if(n.length>0&&t.forEach(u=>{n.forEach(f=>{var h,p,g=(h=r[f.id])===null||h===void 0?void 0:h.filter(A=>p5(i,A)),y=Dn(u,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),x=fse(u,y,g);if(x.length>=2){var E=Math.min(...x),w=Math.max(...x);(s==null||E<s)&&(s=E),(c==null||w>c)&&(c=w)}var N=gk(y);N!=null&&(s=s==null?N[0]:Math.min(s,N[0]),c=c==null?N[1]:Math.max(c,N[1]))})}),e?.dataKey!=null&&t.forEach(u=>{var f=gk(Dn(u,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),pt(s)&&pt(c))return[s,c]},vse=ue([DN,Mr,use,zN,tr],x5,{memoizeOptions:{resultEqualityCheck:b0}});function yse(t){var{value:e}=t;if(Xa(e)||e instanceof Date)return e}var bse=(t,e,n)=>{var r=t.map(yse).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&ML(r))?r6(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},_5=t=>t.referenceElements.dots,Id=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),xse=ue([_5,tr,v0],Id),w5=t=>t.referenceElements.areas,_se=ue([w5,tr,v0],Id),j5=t=>t.referenceElements.lines,wse=ue([j5,tr,v0],Id),E5=(t,e)=>{if(t!=null){var n=Hs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},jse=ue(xse,tr,E5),N5=(t,e)=>{if(t!=null){var n=Hs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Ese=ue([_se,tr],N5);function Nse(t){var e;if(t.x!=null)return Hs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Hs(n)}function Sse(t){var e;if(t.y!=null)return Hs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Hs(n)}var S5=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Nse(r):Sse(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Ase=ue([wse,tr],S5),Tse=ue(jse,Ase,Ese,(t,e,n)=>Wv(t,n,e)),A5=(t,e,n,r,i,s,c,u)=>{if(n!=null)return n;var f=c==="vertical"&&u==="xAxis"||c==="horizontal"&&u==="yAxis",h=f?Wv(r,s,i):Wv(s,i);return Uae(e,h,t.allowDataOverflow)},Cse=ue([Mr,y5,b5,pse,vse,Tse,It,tr],A5,{memoizeOptions:{resultEqualityCheck:b0}}),Ose=[0,1],T5=(t,e,n,r,i,s,c)=>{if(!((t==null||n==null||n.length===0)&&c===void 0)){var{dataKey:u,type:f}=t,h=Xs(e,s);if(h&&u==null){var p;return r6(0,(p=n?.length)!==null&&p!==void 0?p:0)}return f==="category"?bse(r,t,h):i==="expand"?Ose:c}},LN=ue([Mr,It,DN,w0,h0,tr,Cse],T5);function Pse(t){return t in sh}var C5=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var s="scale".concat(um(r));return Pse(s)?s:"point"}}},Rd=ue([Mr,o5,AN],C5);function qN(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?mk(t.scale,n,r):mk(e,n,r)}var O5=(t,e,n)=>{var r=MN(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Fs(t))return Hae(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Fs(t))return Gae(t,e.tickCount,e.allowDecimals)}},UN=ue([LN,xm,Rd],O5),P5=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Fs(e)&&Array.isArray(n)&&n.length>0){var i,s,c=e[0],u=(i=n[0])!==null&&i!==void 0?i:0,f=e[1],h=(s=n[n.length-1])!==null&&s!==void 0?s:0;return[Math.min(c,u),Math.max(f,h)]}return e},Ise=ue([Mr,LN,UN,tr],P5),Rse=ue(w0,Mr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Hs(t.map(g=>g.value))).sort((g,y)=>g-y),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var c=s-i;if(c===0)return 1/0;for(var u=0;u<r.length-1;u++){var f=r[u],h=r[u+1];if(!(f==null||h==null)){var p=h-f;n=Math.min(n,p)}}return n/c}}),I5=ue(Rse,It,Y6,Zn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!pt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var c=fa(n,t*s),u=t*s/2;return u-c-(u-c)/s*c}return 0}),kse=(t,e,n)=>{var r=no(t,e);return r==null||typeof r.padding!="string"?0:I5(t,"xAxis",e,n,r.padding)},Dse=(t,e,n)=>{var r=ro(t,e);return r==null||typeof r.padding!="string"?0:I5(t,"yAxis",e,n,r.padding)},Mse=ue(no,kse,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),zse=ue(ro,Dse,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Lse=ue([Zn,Mse,Zy,Jy,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),qse=ue([Zn,It,zse,Zy,Jy,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:c}=i;return s?[r.height-c.bottom,c.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),jm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Lse(t,n,r);case"yAxis":return qse(t,n,r);case"zAxis":return(i=kN(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return t5(t);case"radiusAxis":return n5(t,n);default:return}},R5=ue([Mr,jm],m0),Use=ue([Rd,Ise],rse),j0=ue([Mr,Rd,Use,R5],qN);ue([_m,zN,tr],gse);function k5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var E0=(t,e)=>e,N0=(t,e,n)=>n,Vse=ue(Yy,E0,N0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(k5)),Bse=ue(Xy,E0,N0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(k5)),D5=(t,e)=>({width:t.width,height:e.height}),$se=(t,e)=>{var n=typeof e.width=="number"?e.width:hm;return{width:n,height:t.height}},M5=ue(Zn,no,D5),Fse=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Hse=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Gse=ue(Zs,Zn,Vse,E0,N0,(t,e,n,r,i)=>{var s={},c;return n.forEach(u=>{var f=D5(e,u);c==null&&(c=Fse(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;s[u.id]=c-Number(h)*f.height,c+=(h?-1:1)*f.height}),s}),Kse=ue(Js,Zn,Bse,E0,N0,(t,e,n,r,i)=>{var s={},c;return n.forEach(u=>{var f=$se(e,u);c==null&&(c=Hse(e,r,t));var h=r==="left"&&!i||r==="right"&&i;s[u.id]=c-Number(h)*f.width,c+=(h?-1:1)*f.width}),s}),Qse=(t,e)=>{var n=no(t,e);if(n!=null)return Gse(t,n.orientation,n.mirror)},Wse=ue([Zn,no,Qse,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Yse=(t,e)=>{var n=ro(t,e);if(n!=null)return Kse(t,n.orientation,n.mirror)},Xse=ue([Zn,ro,Yse,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),z5=ue(Zn,ro,(t,e)=>{var n=typeof e.width=="number"?e.width:hm;return{width:n,height:t.height}}),vk=(t,e,n)=>{switch(e){case"xAxis":return M5(t,n).width;case"yAxis":return z5(t,n).height;default:return}},L5=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:c}=n,u=Xs(t,r),f=e.map(h=>h.value);if(c&&u&&s==="category"&&i&&ML(f))return f}},VN=ue([It,w0,Mr,tr],L5),q5=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,c=Xs(t,r);if(c&&(i==="number"||s!=="auto"))return e.map(u=>u.value)}},BN=ue([It,w0,xm,tr],q5),yk=ue([It,lse,Rd,j0,VN,BN,jm,UN,tr],(t,e,n,r,i,s,c,u,f)=>{if(e!=null){var h=Xs(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:u,range:c,realScaleType:n,scale:r}}}),Jse=(t,e,n,r,i,s,c,u,f)=>{if(!(e==null||r==null)){var h=Xs(t,f),{type:p,ticks:g,tickCount:y}=e,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=p==="category"&&r.bandwidth?r.bandwidth()/x:0;E=f==="angleAxis"&&s!=null&&s.length>=2?Yr(s[0]-s[1])*2*E:E;var w=g||i;return w?w.map((N,A)=>{var R=c?c.indexOf(N):N,O=r.map(R);return pt(O)?{index:A,coordinate:O+E,value:N,offset:E}:null}).filter(Xr):h&&u?u.map((N,A)=>{var R=r.map(N);return pt(R)?{coordinate:R+E,value:N,index:A,offset:E}:null}).filter(Xr):r.ticks?r.ticks(y).map((N,A)=>{var R=r.map(N);return pt(R)?{coordinate:R+E,value:N,index:A,offset:E}:null}).filter(Xr):r.domain().map((N,A)=>{var R=r.map(N);return pt(R)?{coordinate:R+E,value:c?c[N]:N,index:A,offset:E}:null}).filter(Xr)}},U5=ue([It,xm,Rd,j0,UN,jm,VN,BN,tr],Jse),Zse=(t,e,n,r,i,s,c)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Xs(t,c),{tickCount:f}=e,h=0;return h=c==="angleAxis"&&r?.length>=2?Yr(r[0]-r[1])*2*h:h,u&&s?s.map((p,g)=>{var y=n.map(p);return pt(y)?{coordinate:y+h,value:p,index:g,offset:h}:null}).filter(Xr):n.ticks?n.ticks(f).map((p,g)=>{var y=n.map(p);return pt(y)?{coordinate:y+h,value:p,index:g,offset:h}:null}).filter(Xr):n.domain().map((p,g)=>{var y=n.map(p);return pt(y)?{coordinate:y+h,value:i?i[p]:p,index:g,offset:h}:null}).filter(Xr)}},pl=ue([It,xm,j0,jm,VN,BN,tr],Zse),gl=ue(Mr,j0,(t,e)=>{if(!(t==null||e==null))return Qv(Qv({},t),{},{scale:e})}),eoe=ue([Mr,Rd,LN,R5],qN);ue((t,e,n)=>kN(t,n),eoe,(t,e)=>{if(!(t==null||e==null))return Qv(Qv({},t),{},{scale:e})});var toe=ue([It,Yy,Xy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),V5=t=>t.options.defaultTooltipEventType,B5=t=>t.options.validateTooltipEventTypes;function $5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function $N(t,e){var n=V5(t),r=B5(t);return $5(e,n,r)}function noe(t){return ze(e=>$N(e,t))}var F5=(t,e)=>{var n,r=Number(e);if(!(Ya(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},roe=t=>t.tooltip.settings,Wo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},ioe={itemInteraction:{click:Wo,hover:Wo},axisInteraction:{click:Wo,hover:Wo},keyboardInteraction:Wo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},H5=ei({name:"tooltip",initialState:ioe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Jt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=la(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Jt()},removeTooltipEntrySettings:{reducer(t,e){var n=la(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Jt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:aoe,replaceTooltipEntrySettings:soe,removeTooltipEntrySettings:ooe,setTooltipSettingsState:loe,setActiveMouseOverItemIndex:G5,mouseLeaveItem:coe,mouseLeaveChart:K5,setActiveClickItemIndex:uoe,setMouseOverAxisIndex:Q5,setMouseClickAxisIndex:doe,setSyncInteraction:Zw,setKeyboardInteraction:ej}=H5.actions,foe=H5.reducer;function bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _g(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(n),!0).forEach(function(r){hoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hoe(t,e,n){return(e=moe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function moe(t){var e=poe(t,"string");return typeof e=="symbol"?e:e+""}function poe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function goe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function voe(t){return t.index!=null}var W5=(t,e,n,r)=>{if(e==null)return Wo;var i=goe(t,e,n);if(i==null)return Wo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(voe(i)){if(s)return _g(_g({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return _g(_g({},Wo),{},{coordinate:i.coordinate})};function yoe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function boe(t,e){var n=yoe(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),c=Math.max(r,i);return n>=s&&n<=c}function xoe(t,e,n){if(n==null||e==null)return!0;var r=Dn(t,e);return r==null||!Fs(n)?!0:boe(r,n)}var FN=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!pt(s))return i;var c=0,u=1/0;e.length>0&&(u=e.length-1);var f=Math.max(c,Math.min(s,u)),h=e[f];return h==null||xoe(h,n,r)?String(f):null},Y5=(t,e,n,r,i,s,c)=>{if(s!=null){var u=c[0],f=u?.getPosition(s);if(f!=null)return f;var h=i?.[Number(s)];if(h)return n==="horizontal"?{x:h.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:h.coordinate}}},X5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(c=>{var u;return((u=c.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},J5=t=>t.options.tooltipPayloadSearcher,kd=t=>t.tooltip;function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(r){_oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _oe(t,e,n){return(e=woe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function woe(t){var e=joe(t,"string");return typeof e=="symbol"?e:e+""}function joe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eoe(t,e){return t??e}var Z5=(t,e,n,r,i,s,c)=>{if(!(e==null||s==null)){var{chartData:u,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((y,x)=>{var E,{dataDefinedOnItem:w,settings:N}=x,A=Eoe(w,u),R=Array.isArray(A)?T3(A,h,p):A,O=(E=N?.dataKey)!==null&&E!==void 0?E:r,C=N?.nameKey,V;if(r&&Array.isArray(R)&&!Array.isArray(R[0])&&c==="axis"?V=zL(R,r,i):V=s(R,e,f,C),Array.isArray(V))V.forEach(D=>{var I=_k(_k({},N),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});y.push(xI({tooltipEntrySettings:I,dataKey:D.dataKey,payload:D.payload,value:Dn(D.payload,D.dataKey),name:D.name}))});else{var $;y.push(xI({tooltipEntrySettings:N,dataKey:O,payload:V,value:Dn(V,O),name:($=Dn(V,C))!==null&&$!==void 0?$:N?.name}))}return y},g)}},HN=ue([$n,o5,AN],C5),Noe=ue([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Soe=ue([nr,Pd],l5),Dd=ue([Noe,$n,Soe],c5,{memoizeOptions:{resultEqualityCheck:x0}}),Aoe=ue([Dd],t=>t.filter(y0)),Toe=ue([Dd],f5,{memoizeOptions:{resultEqualityCheck:x0}}),Md=ue([Toe,to],h5),Coe=ue([Aoe,to,$n],i5),GN=ue([Md,$n,Dd],m5),eq=ue([$n],MN),Ooe=ue([$n],t=>t.allowDataOverflow),tq=ue([eq,Ooe],L6),Poe=ue([Dd],t=>t.filter(y0)),Ioe=ue([Coe,Poe,h0,X6],g5),Roe=ue([Ioe,to,nr,tq],v5),koe=ue([Dd],d5),Doe=ue([Md,$n,koe,zN,nr],x5,{memoizeOptions:{resultEqualityCheck:b0}}),Moe=ue([_5,nr,Pd],Id),zoe=ue([Moe,nr],E5),Loe=ue([w5,nr,Pd],Id),qoe=ue([Loe,nr],N5),Uoe=ue([j5,nr,Pd],Id),Voe=ue([Uoe,nr],S5),Boe=ue([zoe,Voe,qoe],Wv),$oe=ue([$n,eq,tq,Roe,Doe,Boe,It,nr],A5),Em=ue([$n,It,Md,GN,h0,nr,$oe],T5),Foe=ue([Em,$n,HN],O5),Hoe=ue([$n,Em,Foe,nr],P5),nq=t=>{var e=nr(t),n=Pd(t),r=!1;return jm(t,e,n,r)},rq=ue([$n,nq],m0),iq=ue([$n,HN,Hoe,rq],qN),Goe=ue([It,GN,$n,nr],L5),Koe=ue([It,GN,$n,nr],q5),Qoe=(t,e,n,r,i,s,c,u)=>{if(e){var{type:f}=e,h=Xs(t,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&i!=null&&i?.length>=2?Yr(i[0]-i[1])*2*g:g,h&&c?c.map((y,x)=>{var E=r.map(y);return pt(E)?{coordinate:E+g,value:y,index:x,offset:g}:null}).filter(Xr):r.domain().map((y,x)=>{var E=r.map(y);return pt(E)?{coordinate:E+g,value:s?s[y]:y,index:x,offset:g}:null}).filter(Xr)}}},io=ue([It,$n,HN,iq,nq,Goe,Koe,nr],Qoe),KN=ue([V5,B5,roe],(t,e,n)=>$5(n.shared,t,e)),aq=t=>t.tooltip.settings.trigger,QN=t=>t.tooltip.settings.defaultIndex,Nm=ue([kd,KN,aq,QN],W5),Ic=ue([Nm,Md,wm,Em],FN),sq=ue([io,Ic],F5),oq=ue([Nm],t=>{if(t)return t.dataKey});ue([Nm],t=>{if(t)return t.graphicalItemId});var lq=ue([kd,KN,aq,QN],X5),Woe=ue([Js,Zs,It,Zn,io,QN,lq],Y5),Yoe=ue([Nm,Woe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Xoe=ue([Nm],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),Joe=ue([lq,Ic,to,wm,sq,J5,KN],Z5),Zoe=ue([Joe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(n),!0).forEach(function(r){ele(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ele(t,e,n){return(e=tle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tle(t){var e=nle(t,"string");return typeof e=="symbol"?e:e+""}function nle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rle=()=>ze($n),ile=()=>{var t=rle(),e=ze(io),n=ze(iq);return fd(!t||!n?void 0:jk(jk({},t),{},{scale:n}),e)};function Ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ek(Object(n),!0).forEach(function(r){ale(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ale(t,e,n){return(e=sle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sle(t){var e=ole(t,"string");return typeof e=="symbol"?e:e+""}function ole(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lle=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},cle=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:c}=r;return Mu(Mu(Mu({},r),fr(r.cx,r.cy,c,s)),{},{angle:s,radius:c})}var u=i.coordinate,{angle:f}=r;return Mu(Mu(Mu({},r),fr(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function ule(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var cq=(t,e,n,r,i)=>{var s,c=(s=e?.length)!==null&&s!==void 0?s:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<c;u++){var f,h,p,g,y,x=u>0?(f=n[u-1])===null||f===void 0?void 0:f.coordinate:(h=n[c-1])===null||h===void 0?void 0:h.coordinate,E=(p=n[u])===null||p===void 0?void 0:p.coordinate,w=u>=c-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(y=n[u+1])===null||y===void 0?void 0:y.coordinate,N=void 0;if(!(x==null||E==null||w==null))if(Yr(E-x)!==Yr(w-E)){var A=[];if(Yr(w-E)===Yr(i[1]-i[0])){N=w;var R=E+i[1]-i[0];A[0]=Math.min(R,(R+x)/2),A[1]=Math.max(R,(R+x)/2)}else{N=x;var O=w+i[1]-i[0];A[0]=Math.min(E,(O+E)/2),A[1]=Math.max(E,(O+E)/2)}var C=[Math.min(E,(N+E)/2),Math.max(E,(N+E)/2)];if(t>C[0]&&t<=C[1]||t>=A[0]&&t<=A[1]){var V;return(V=n[u])===null||V===void 0?void 0:V.index}}else{var $=Math.min(x,w),D=Math.max(x,w);if(t>($+E)/2&&t<=(D+E)/2){var I;return(I=n[u])===null||I===void 0?void 0:I.index}}}else if(e)for(var k=0;k<c;k++){var q=e[k];if(q!=null){var L=e[k+1],M=e[k-1];if(k===0&&L!=null&&t<=(q.coordinate+L.coordinate)/2||k===c-1&&M!=null&&t>(q.coordinate+M.coordinate)/2||k>0&&k<c-1&&M!=null&&L!=null&&t>(q.coordinate+M.coordinate)/2&&t<=(q.coordinate+L.coordinate)/2)return q.index}}return-1},dle=()=>ze(AN),WN=(t,e)=>e,uq=(t,e,n)=>n,YN=(t,e,n,r)=>r,fle=ue(io,t=>qy(t,e=>e.coordinate)),XN=ue([kd,WN,uq,YN],W5),JN=ue([XN,Md,wm,Em],FN),hle=(t,e,n)=>{if(e!=null){var r=kd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},dq=ue([kd,WN,uq,YN],X5),Yv=ue([Js,Zs,It,Zn,io,YN,dq],Y5),mle=ue([XN,Yv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),fq=ue([io,JN],F5),ple=ue([dq,JN,to,wm,fq,J5,WN],Z5),gle=ue([XN,JN],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),vle=(t,e,n,r,i,s,c)=>{if(!(!t||!n||!r||!i)&&ule(t,c)){var u=Kee(t,e),f=cq(u,s,i,n,r),h=lle(e,i,f,t);return{activeIndex:String(f),activeCoordinate:h}}},yle=(t,e,n,r,i,s,c)=>{if(!(!t||!r||!i||!s||!n)){var u=tre(t,n);if(u){var f=Qee(u,e),h=cq(f,c,s,r,i),p=cle(e,s,h,u);return{activeIndex:String(h),activeCoordinate:p}}}},ble=(t,e,n,r,i,s,c,u)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?vle(t,e,r,i,s,c,u):yle(t,e,n,r,i,s,c)},xle=ue(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),_le=ue(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Jn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:tse}});function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){wle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wle(t,e,n){return(e=jle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jle(t){var e=Ele(t,"string");return typeof e=="symbol"?e:e+""}function Ele(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nle={},Sle={zIndexMap:Object.values(Jn).reduce((t,e)=>Sk(Sk({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Nle)},Ale=new Set(Object.values(Jn));function Tle(t){return Ale.has(t)}var hq=ei({name:"zIndex",initialState:Sle,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Jt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Tle(n)&&delete t.zIndexMap[n])},prepare:Jt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Jt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Jt()}}}),{registerZIndexPortal:Cle,unregisterZIndexPortal:Ole,registerZIndexPortalElement:Ple,unregisterZIndexPortalElement:Ile}=hq.actions,Rle=hq.reducer;function Fi(t){var{zIndex:e,children:n}=t,r=Ste(),i=r&&e!==void 0&&e!==0,s=Er(),c=jn();j.useLayoutEffect(()=>i?(c(Cle({zIndex:e})),()=>{c(Ole({zIndex:e}))}):Uc,[c,e,i]);var u=ze(f=>xle(f,e,s));return i?u?JD.createPortal(n,u):null:n}function tj(){return tj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tj.apply(null,arguments)}function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(n),!0).forEach(function(r){kle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kle(t,e,n){return(e=Dle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dle(t){var e=Mle(t,"string");return typeof e=="symbol"?e:e+""}function Mle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zle(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return j.isValidElement(e)?j.cloneElement(e,r):j.createElement(n,r)}function Lle(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:c,layout:u,cursor:f,tooltipEventType:h,chartName:p}=t,g=n,y=r,x=i;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var E,w,N;if(p==="ScatterChart")E=g,w=mne,N=Jn.cursorLine;else if(p==="BarChart")E=pne(u,g,s,c),w=Z3,N=Jn.cursorRectangle;else if(u==="radial"&&UL(g)){var{cx:A,cy:R,radius:O,startAngle:C,endAngle:V}=e6(g);E={cx:A,cy:R,startAngle:C,endAngle:V,innerRadius:O,outerRadius:O},w=n6,N=Jn.cursorLine}else E={points:are(u,g,s)},w=Q3,N=Jn.cursorLine;var $=typeof f=="object"&&"className"in f?f.className:void 0,D=wg(wg(wg(wg({stroke:"#ccc",pointerEvents:"none"},s),E),cm(f)),{},{payload:y,payloadIndex:x,className:Ut("recharts-tooltip-cursor",$)});return j.createElement(Fi,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:N},j.createElement(zle,{cursor:f,cursorComp:w,cursorProps:D}))}function qle(t){var e=ile(),n=D3(),r=Vc(),i=dle();return e==null||n==null||r==null||i==null?null:j.createElement(Lle,tj({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var mq=j.createContext(null),Ule=()=>j.useContext(mq),v1={exports:{}},Tk;function Vle(){return Tk||(Tk=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,g||f,y),E=n?n+h:h;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],x]:f._events[E].push(x):(f._events[E]=x,f._eventsCount++),f}function c(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,x=g.length,E=new Array(x);y<x;y++)E[y]=g[y].fn;return E},u.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,p,g,y,x,E){var w=n?n+h:h;if(!this._events[w])return!1;var N=this._events[w],A=arguments.length,R,O;if(N.fn){switch(N.once&&this.removeListener(h,N.fn,void 0,!0),A){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,p),!0;case 3:return N.fn.call(N.context,p,g),!0;case 4:return N.fn.call(N.context,p,g,y),!0;case 5:return N.fn.call(N.context,p,g,y,x),!0;case 6:return N.fn.call(N.context,p,g,y,x,E),!0}for(O=1,R=new Array(A-1);O<A;O++)R[O-1]=arguments[O];N.fn.apply(N.context,R)}else{var C=N.length,V;for(O=0;O<C;O++)switch(N[O].once&&this.removeListener(h,N[O].fn,void 0,!0),A){case 1:N[O].fn.call(N[O].context);break;case 2:N[O].fn.call(N[O].context,p);break;case 3:N[O].fn.call(N[O].context,p,g);break;case 4:N[O].fn.call(N[O].context,p,g,y);break;default:if(!R)for(V=1,R=new Array(A-1);V<A;V++)R[V-1]=arguments[V];N[O].fn.apply(N[O].context,R)}}return!0},u.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},u.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},u.prototype.removeListener=function(h,p,g,y){var x=n?n+h:h;if(!this._events[x])return this;if(!p)return c(this,x),this;var E=this._events[x];if(E.fn)E.fn===p&&(!y||E.once)&&(!g||E.context===g)&&c(this,x);else{for(var w=0,N=[],A=E.length;w<A;w++)(E[w].fn!==p||y&&!E[w].once||g&&E[w].context!==g)&&N.push(E[w]);N.length?this._events[x]=N.length===1?N[0]:N:c(this,x)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(v1)),v1.exports}var Ble=Vle();const $le=es(Ble);var Fh=new $le,nj="recharts.syncEvent.tooltip",Ck="recharts.syncEvent.brush",pq=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Ya(n))return t[n]}},Fle={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},gq=ei({name:"options",initialState:Fle,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Hle=gq.reducer,{createEventEmitter:Gle}=gq.actions;function Kle(t){return t.tooltip.syncInteraction}var Qle={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},vq=ei({name:"chartData",initialState:Qle,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:Ok,setDataStartEndIndexes:Wle,setComputedData:Pve}=vq.actions,Yle=vq.reducer,Xle=["x","y"];function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){Jle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jle(t,e,n){return(e=Zle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zle(t){var e=ece(t,"string");return typeof e=="symbol"?e:e+""}function ece(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tce(t,e){if(t==null)return{};var n,r,i=nce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rce(){var t=ze(TN),e=ze(CN),n=jn(),r=ze(J6),i=ze(io),s=Vc(),c=e0(),u=ze(f=>f.rootProps.className);j.useEffect(()=>{if(t==null)return Uc;var f=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var y;if(c&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate&&p.payload.sourceViewBox){var x=p.payload.coordinate,{x:E,y:w}=x,N=tce(x,Xle),{x:A,y:R,width:O,height:C}=p.payload.sourceViewBox,V=zu(zu({},N),{},{x:c.x+(O?(E-A)/O:0)*c.width,y:c.y+(C?(w-R)/C:0)*c.height});n(zu(zu({},p),{},{payload:zu(zu({},p.payload),{},{coordinate:V})}))}else n(p);return}if(i!=null){var $;if(typeof r=="function"){var D={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},I=r(i,D);$=i[I]}else r==="value"&&($=i.find(H=>String(H.value)===p.payload.label));var{coordinate:k}=p.payload;if($==null||p.payload.active===!1||k==null||c==null){n(Zw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:q,y:L}=k,M=Math.min(q,c.x+c.width),U=Math.min(L,c.y+c.height),X={x:s==="horizontal"?$.coordinate:M,y:s==="horizontal"?U:$.coordinate},Q=Zw({active:p.payload.active,coordinate:X,dataKey:p.payload.dataKey,index:String($.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(Q)}}};return Fh.on(nj,f),()=>{Fh.off(nj,f)}},[u,n,e,t,r,i,s,c])}function ice(){var t=ze(TN),e=ze(CN),n=jn();j.useEffect(()=>{if(t==null)return Uc;var r=(i,s,c)=>{e!==c&&t===i&&n(Wle(s))};return Fh.on(Ck,r),()=>{Fh.off(Ck,r)}},[n,e,t])}function ace(){var t=jn();j.useEffect(()=>{t(Gle())},[t]),rce(),ice()}function sce(t,e,n,r,i,s){var c=ze(x=>hle(x,t,e)),u=ze(CN),f=ze(TN),h=ze(J6),p=ze(Kle),g=p?.active,y=e0();j.useEffect(()=>{if(!g&&f!=null&&u!=null){var x=Zw({active:s,coordinate:n,dataKey:c,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});Fh.emit(nj,f,x,u)}},[g,n,c,i,r,u,f,h,s,y])}function Ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(n),!0).forEach(function(r){oce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oce(t,e,n){return(e=lce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lce(t){var e=cce(t,"string");return typeof e=="symbol"?e:e+""}function cce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uce(t){return t.dataKey}function dce(t,e){return j.isValidElement(t)?j.cloneElement(t,e):typeof t=="function"?j.createElement(t,e):j.createElement(Kte,e)}var kk=[],fce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Dk(t){var e,n,r=Dr(t,fce),{active:i,allowEscapeViewBox:s,animationDuration:c,animationEasing:u,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:y,position:x,reverseDirection:E,useTranslate3d:w,wrapperStyle:N,cursor:A,shared:R,trigger:O,defaultIndex:C,portal:V,axisId:$}=r,D=jn(),I=typeof C=="number"?String(C):C;j.useEffect(()=>{D(loe({shared:R,trigger:O,axisId:$,active:i,defaultIndex:I}))},[D,R,O,$,i,I]);var k=e0(),q=K3(),L=noe(R),{activeIndex:M,isActive:U}=(e=ze(pe=>gle(pe,L,O,I)))!==null&&e!==void 0?e:{},X=ze(pe=>ple(pe,L,O,I)),Q=ze(pe=>fq(pe,L,O,I)),H=ze(pe=>mle(pe,L,O,I)),ce=X,Y=Ule(),_e=(n=i??U)!==null&&n!==void 0?n:!1,[W,F]=IZ([ce,_e]),ne=L==="axis"?Q:void 0;sce(L,O,H,ne,M,_e);var ge=V??Y;if(ge==null||k==null||L==null)return null;var je=ce??kk;_e||(je=kk),h&&je.length&&(je=iZ(je.filter(pe=>pe.value!=null&&(pe.hide!==!0||r.includeHidden)),y,uce));var Z=je.length>0,re=j.createElement(ene,{allowEscapeViewBox:s,animationDuration:c,animationEasing:u,isAnimationActive:p,active:_e,coordinate:H,hasPayload:Z,offset:g,position:x,reverseDirection:E,useTranslate3d:w,viewBox:k,wrapperStyle:N,lastBoundingBox:W,innerRef:F,hasPortalFromProps:!!V},dce(f,Rk(Rk({},r),{},{payload:je,label:ne,active:_e,activeIndex:M,coordinate:H,accessibilityLayer:q})));return j.createElement(j.Fragment,null,JD.createPortal(re,ge),_e&&j.createElement(qle,{cursor:A,tooltipEventType:L,coordinate:H,payload:je,index:M}))}var ZN=t=>null;ZN.displayName="Cell";function hce(t,e,n){return(e=mce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mce(t){var e=pce(t,"string");return typeof e=="symbol"?e:e+""}function pce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class gce{constructor(e){hce(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(n),!0).forEach(function(r){yce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yce(t,e,n){return(e=bce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bce(t){var e=xce(t,"string");return typeof e=="symbol"?e:e+""}function xce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ce={cacheSize:2e3,enableCache:!0},yq=vce({},_ce),zk=new gce(yq.cacheSize),wce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Lk="recharts_measurement_span";function jce(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",c=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(c,"|").concat(u)}var qk=(t,e)=>{try{var n=document.getElementById(Lk);n||(n=document.createElement("span"),n.setAttribute("id",Lk),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,wce,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},gh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||i0.isSsr)return{width:0,height:0};if(!yq.enableCache)return qk(e,n);var r=jce(e,n),i=zk.get(r);if(i)return i;var s=qk(e,n);return zk.set(r,s),s},bq;function Ece(t,e,n){return(e=Nce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nce(t){var e=Sce(t,"string");return typeof e=="symbol"?e:e+""}function Sce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Vk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ace=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Tce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Cce={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Oce=["cm","mm","pt","pc","in","Q","px"];function Pce(t){return Oce.includes(t)}var Gu="NaN";function Ice(t,e){return t*Cce[e]}class cr{static parse(e){var n,[,r,i]=(n=Tce.exec(e))!==null&&n!==void 0?n:[];return r==null?cr.NaN:new cr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ya(e)&&(this.unit=""),n!==""&&!Ace.test(n)&&(this.num=NaN,this.unit=""),Pce(n)&&(this.num=Ice(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new cr(NaN,""):new cr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new cr(NaN,""):new cr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new cr(NaN,""):new cr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new cr(NaN,""):new cr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ya(this.num)}}bq=cr;Ece(cr,"NaN",new bq(NaN,""));function xq(t){if(t==null||t.includes(Gu))return Gu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=Uk.exec(e))!==null&&n!==void 0?n:[],c=cr.parse(r??""),u=cr.parse(s??""),f=i==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Gu;e=e.replace(Uk,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,y]=(h=Vk.exec(e))!==null&&h!==void 0?h:[],x=cr.parse(p??""),E=cr.parse(y??""),w=g==="+"?x.add(E):x.subtract(E);if(w.isNaN())return Gu;e=e.replace(Vk,w.toString())}return e}var Bk=/\(([^()]*)\)/;function Rce(t){for(var e=t,n;(n=Bk.exec(e))!=null;){var[,r]=n;e=e.replace(Bk,xq(r))}return e}function kce(t){var e=t.replace(/\s+/g,"");return e=Rce(e),e=xq(e),e}function Dce(t){try{return kce(t)}catch{return Gu}}function y1(t){var e=Dce(t.slice(5,-1));return e===Gu?"":e}var Mce=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],zce=["dx","dy","angle","className","breakAll"];function rj(){return rj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rj.apply(null,arguments)}function $k(t,e){if(t==null)return{};var n,r,i=Lce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _q=/[ \f\n\r\t\v\u2028\u2029]+/,wq=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];sn(e)||(n?i=e.toString().split(""):i=e.toString().split(_q));var s=i.map(u=>({word:u,width:gh(u,r).width})),c=n?0:gh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function qce(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var jq=(t,e,n,r)=>t.reduce((i,s)=>{var{word:c,width:u}=s,f=i[i.length-1];if(f&&u!=null&&(e==null||r||f.width+u+n<Number(e)))f.words.push(c),f.width+=u+n;else{var h={words:[c],width:u};i.push(h)}return i},[]),Eq=t=>t.reduce((e,n)=>e.width>n.width?e:n),Uce="",Fk=(t,e,n,r,i,s,c,u)=>{var f=t.slice(0,e),h=wq({breakAll:n,style:r,children:f+Uce});if(!h)return[!1,[]];var p=jq(h.wordsWithComputedWidth,s,c,u),g=p.length>i||Eq(p).width>Number(s);return[g,p]},Vce=(t,e,n,r,i)=>{var{maxLines:s,children:c,style:u,breakAll:f}=t,h=Pe(s),p=String(c),g=jq(e,r,n,i);if(!h||i)return g;var y=g.length>s||Eq(g).width>Number(r);if(!y)return g;for(var x=0,E=p.length-1,w=0,N;x<=E&&w<=p.length-1;){var A=Math.floor((x+E)/2),R=A-1,[O,C]=Fk(p,R,f,u,s,r,n,i),[V]=Fk(p,A,f,u,s,r,n,i);if(!O&&!V&&(x=A+1),O&&V&&(E=A-1),!O&&V){N=C;break}w++}return N||g},Hk=t=>{var e=sn(t)?[]:t.toString().split(_q);return[{words:e,width:void 0}]},Bce=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:c}=t;if((e||n)&&!i0.isSsr){var u,f,h=wq({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;u=p,f=g}else return Hk(r);return Vce({breakAll:s,children:r,maxLines:c,style:i},u,f,e,!!n)}return Hk(r)},Nq="#808080",$ce={angle:0,breakAll:!1,capHeight:"0.71em",fill:Nq,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},eS=j.forwardRef((t,e)=>{var n=Dr(t,$ce),{x:r,y:i,lineHeight:s,capHeight:c,fill:u,scaleToFit:f,textAnchor:h,verticalAnchor:p}=n,g=$k(n,Mce),y=j.useMemo(()=>Bce({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:x,dy:E,angle:w,className:N,breakAll:A}=g,R=$k(g,zce);if(!Xa(r)||!Xa(i)||y.length===0)return null;var O=Number(r)+(Pe(x)?x:0),C=Number(i)+(Pe(E)?E:0);if(!pt(O)||!pt(C))return null;var V;switch(p){case"start":V=y1("calc(".concat(c,")"));break;case"middle":V=y1("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:V=y1("calc(".concat(y.length-1," * -").concat(s,")"));break}var $=[],D=y[0];if(f&&D!=null){var I=D.width,{width:k}=g;$.push("scale(".concat(Pe(k)&&Pe(I)?k/I:1,")"))}return w&&$.push("rotate(".concat(w,", ").concat(O,", ").concat(C,")")),$.length&&(R.transform=$.join(" ")),j.createElement("text",rj({},Ir(R),{ref:e,x:O,y:C,className:Ut("recharts-text",N),textAnchor:h,fill:u.includes("url")?Nq:u}),y.map((q,L)=>{var M=q.words.join(A?"":" ");return j.createElement("tspan",{x:O,dy:L===0?V:s,key:"".concat(M,"-").concat(L)},M)}))});eS.displayName="Text";function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Da(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(r){Fce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fce(t,e,n){return(e=Hce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hce(t){var e=Gce(t,"string");return typeof e=="symbol"?e:e+""}function Gce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kce=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:s,y:c,height:u,upperWidth:f,lowerWidth:h}=JE(e),p=s,g=s+(f-h)/2,y=(p+g)/2,x=(f+h)/2,E=p+f/2,w=u>=0?1:-1,N=w*r,A=w>0?"end":"start",R=w>0?"start":"end",O=f>=0?1:-1,C=O*r,V=O>0?"end":"start",$=O>0?"start":"end",D=i;if(n==="top"){var I={x:p+f/2,y:c-N,horizontalAnchor:"middle",verticalAnchor:A};return D&&(I.height=Math.max(c-D.y,0),I.width=f),I}if(n==="bottom"){var k={x:g+h/2,y:c+u+N,horizontalAnchor:"middle",verticalAnchor:R};return D&&(k.height=Math.max(D.y+D.height-(c+u),0),k.width=h),k}if(n==="left"){var q={x:y-C,y:c+u/2,horizontalAnchor:V,verticalAnchor:"middle"};return D&&(q.width=Math.max(q.x-D.x,0),q.height=u),q}if(n==="right"){var L={x:y+x+C,y:c+u/2,horizontalAnchor:$,verticalAnchor:"middle"};return D&&(L.width=Math.max(D.x+D.width-L.x,0),L.height=u),L}var M=D?{width:x,height:u}:{};return n==="insideLeft"?Da({x:y+C,y:c+u/2,horizontalAnchor:$,verticalAnchor:"middle"},M):n==="insideRight"?Da({x:y+x-C,y:c+u/2,horizontalAnchor:V,verticalAnchor:"middle"},M):n==="insideTop"?Da({x:p+f/2,y:c+N,horizontalAnchor:"middle",verticalAnchor:R},M):n==="insideBottom"?Da({x:g+h/2,y:c+u-N,horizontalAnchor:"middle",verticalAnchor:A},M):n==="insideTopLeft"?Da({x:p+C,y:c+N,horizontalAnchor:$,verticalAnchor:R},M):n==="insideTopRight"?Da({x:p+f-C,y:c+N,horizontalAnchor:V,verticalAnchor:R},M):n==="insideBottomLeft"?Da({x:g+C,y:c+u-N,horizontalAnchor:$,verticalAnchor:A},M):n==="insideBottomRight"?Da({x:g+h-C,y:c+u-N,horizontalAnchor:V,verticalAnchor:A},M):n&&typeof n=="object"&&(Pe(n.x)||Ac(n.x))&&(Pe(n.y)||Ac(n.y))?Da({x:s+fa(n.x,x),y:c+fa(n.y,u),horizontalAnchor:"end",verticalAnchor:"end"},M):Da({x:E,y:c+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},M)},Qce=["labelRef"],Wce=["content"];function Kk(t,e){if(t==null)return{};var n,r,i=Yce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(n),!0).forEach(function(r){Xce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xce(t,e,n){return(e=Jce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jce(t){var e=Zce(t,"string");return typeof e=="symbol"?e:e+""}function Zce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ss(){return Ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ss.apply(null,arguments)}var Sq=j.createContext(null),eue=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:c,children:u}=t,f=j.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:c}),[e,n,r,i,s,c]);return j.createElement(Sq.Provider,{value:f},u)},Aq=()=>{var t=j.useContext(Sq),e=e0();return t||(e?JE(e):void 0)},tue=j.createContext(null),nue=()=>{var t=j.useContext(tue),e=ze(r5);return t||e},rue=t=>{var{value:e,formatter:n}=t,r=sn(t.children)?e:t.children;return typeof n=="function"?n(r):r},tS=t=>t!=null&&typeof t=="function",iue=(t,e)=>{var n=Yr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},aue=(t,e,n,r,i)=>{var{offset:s,className:c}=t,{cx:u,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:y,clockWise:x}=i,E=(h+p)/2,w=iue(g,y),N=w>=0?1:-1,A,R;switch(e){case"insideStart":A=g+N*s,R=x;break;case"insideEnd":A=y-N*s,R=!x;break;case"end":A=y+N*s,R=x;break;default:throw new Error("Unsupported position ".concat(e))}R=w<=0?R:!R;var O=fr(u,f,E,A),C=fr(u,f,E,A+(R?1:-1)*359),V="M".concat(O.x,",").concat(O.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(R?0:1,`,
    `).concat(C.x,",").concat(C.y),$=sn(t.id)?Ph("recharts-radial-line-"):t.id;return j.createElement("text",Ss({},r,{dominantBaseline:"central",className:Ut("recharts-radial-bar-label",c)}),j.createElement("defs",null,j.createElement("path",{id:$,d:V})),j.createElement("textPath",{xlinkHref:"#".concat($)},n))},sue=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:c,startAngle:u,endAngle:f}=t,h=(u+f)/2;if(n==="outside"){var{x:p,y:g}=fr(r,i,c+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(s+c)/2,{x,y:E}=fr(r,i,y,h);return{x,y:E,textAnchor:"middle",verticalAnchor:"middle"}},Bg=t=>t!=null&&"cx"in t&&Pe(t.cx),oue={angle:0,offset:5,zIndex:Jn.label,position:"middle",textBreakAll:!1};function lue(t){if(!Bg(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function $o(t){var e=Dr(t,oue),{viewBox:n,parentViewBox:r,position:i,value:s,children:c,content:u,className:f="",textBreakAll:h,labelRef:p}=e,g=nue(),y=Aq(),x=i==="center"?y:g??y,E,w,N;n==null?E=x:Bg(n)?E=n:E=JE(n);var A=lue(E);if(!E||sn(s)&&sn(c)&&!j.isValidElement(u)&&typeof u!="function")return null;var R=oh(oh({},e),{},{viewBox:E});if(j.isValidElement(u)){var{labelRef:O}=R,C=Kk(R,Qce);return j.cloneElement(u,C)}if(typeof u=="function"){var{content:V}=R,$=Kk(R,Wce);if(w=j.createElement(u,$),j.isValidElement(w))return w}else w=rue(e);var D=Ir(e);if(Bg(E)){if(i==="insideStart"||i==="insideEnd"||i==="end")return aue(e,i,w,D,E);N=sue(E,e.offset,e.position)}else{if(!A)return null;var I=Kce({viewBox:A,position:i,offset:e.offset,parentViewBox:Bg(r)?void 0:r});N=oh(oh({x:I.x,y:I.y,textAnchor:I.horizontalAnchor,verticalAnchor:I.verticalAnchor},I.width!==void 0?{width:I.width}:{}),I.height!==void 0?{height:I.height}:{})}return j.createElement(Fi,{zIndex:e.zIndex},j.createElement(eS,Ss({ref:p,className:Ut("recharts-label",f)},D,N,{textAnchor:qce(D.textAnchor)?D.textAnchor:N.textAnchor,breakAll:h}),w))}$o.displayName="Label";var cue=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?j.createElement($o,Ss({key:"label-implicit"},r)):Xa(t)?j.createElement($o,Ss({key:"label-implicit",value:t},r)):j.isValidElement(t)?t.type===$o?j.cloneElement(t,oh({key:"label-implicit"},r)):j.createElement($o,Ss({key:"label-implicit",content:t},r)):tS(t)?j.createElement($o,Ss({key:"label-implicit",content:t},r)):t&&typeof t=="object"?j.createElement($o,Ss({},t,{key:"label-implicit"},r)):null};function uue(t){var{label:e,labelRef:n}=t,r=Aq();return cue(e,r,n)||null}var b1={},x1={},Wk;function due(){return Wk||(Wk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(x1)),x1}var _1={},Yk;function fue(){return Yk||(Yk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(_1)),_1}var Xk;function hue(){return Xk||(Xk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=due(),n=fue(),r=VE();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(b1)),b1}var w1,Jk;function mue(){return Jk||(Jk=1,w1=hue().last),w1}var pue=mue();const gue=es(pue);var vue=["valueAccessor"],yue=["dataKey","clockWise","id","textBreakAll","zIndex"];function Xv(){return Xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xv.apply(null,arguments)}function Zk(t,e){if(t==null)return{};var n,r,i=bue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xue=t=>Array.isArray(t.value)?gue(t.value):t.value,Tq=j.createContext(void 0),Cq=Tq.Provider,Oq=j.createContext(void 0);Oq.Provider;function _ue(){return j.useContext(Tq)}function wue(){return j.useContext(Oq)}function $g(t){var{valueAccessor:e=xue}=t,n=Zk(t,vue),{dataKey:r,clockWise:i,id:s,textBreakAll:c,zIndex:u}=n,f=Zk(n,yue),h=_ue(),p=wue(),g=h||p;return!g||!g.length?null:j.createElement(Fi,{zIndex:u??Jn.label},j.createElement(qi,{className:"recharts-label-list"},g.map((y,x)=>{var E,w=sn(r)?e(y,x):Dn(y.payload,r),N=sn(s)?{}:{id:"".concat(s,"-").concat(x)};return j.createElement($o,Xv({key:"label-".concat(x)},Ir(y),f,N,{fill:(E=n.fill)!==null&&E!==void 0?E:y.fill,parentViewBox:y.parentViewBox,value:w,textBreakAll:c,viewBox:y.viewBox,index:x,zIndex:0}))})))}$g.displayName="LabelList";function Pq(t){var{label:e}=t;return e?e===!0?j.createElement($g,{key:"labelList-implicit"}):j.isValidElement(e)||tS(e)?j.createElement($g,{key:"labelList-implicit",content:e}):typeof e=="object"?j.createElement($g,Xv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function ij(){return ij=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ij.apply(null,arguments)}var Iq=t=>{var{cx:e,cy:n,r,className:i}=t,s=Ut("recharts-dot",i);return Pe(e)&&Pe(n)&&Pe(r)?j.createElement("circle",ij({},da(t),qE(t),{className:s,cx:e,cy:n,r})):null},jue={radiusAxis:{},angleAxis:{}},Rq=ei({name:"polarAxis",initialState:jue,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Ive,removeRadiusAxis:Rve,addAngleAxis:kve,removeAngleAxis:Dve}=Rq.actions,Eue=Rq.reducer;function Nue(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var j1={exports:{}},qt={};var eD;function Sue(){if(eD)return qt;eD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function E(w){if(typeof w=="object"&&w!==null){var N=w.$$typeof;switch(N){case t:switch(w=w.type,w){case n:case i:case r:case f:case h:case y:return w;default:switch(w=w&&w.$$typeof,w){case c:case u:case g:case p:return w;case s:return w;default:return N}}case e:return N}}}return qt.ContextConsumer=s,qt.ContextProvider=c,qt.Element=t,qt.ForwardRef=u,qt.Fragment=n,qt.Lazy=g,qt.Memo=p,qt.Portal=e,qt.Profiler=i,qt.StrictMode=r,qt.Suspense=f,qt.SuspenseList=h,qt.isContextConsumer=function(w){return E(w)===s},qt.isContextProvider=function(w){return E(w)===c},qt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},qt.isForwardRef=function(w){return E(w)===u},qt.isFragment=function(w){return E(w)===n},qt.isLazy=function(w){return E(w)===g},qt.isMemo=function(w){return E(w)===p},qt.isPortal=function(w){return E(w)===e},qt.isProfiler=function(w){return E(w)===i},qt.isStrictMode=function(w){return E(w)===r},qt.isSuspense=function(w){return E(w)===f},qt.isSuspenseList=function(w){return E(w)===h},qt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===f||w===h||typeof w=="object"&&w!==null&&(w.$$typeof===g||w.$$typeof===p||w.$$typeof===c||w.$$typeof===s||w.$$typeof===u||w.$$typeof===x||w.getModuleId!==void 0)},qt.typeOf=E,qt}var tD;function Aue(){return tD||(tD=1,j1.exports=Sue()),j1.exports}var Tue=Aue(),nD=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",rD=null,E1=null,kq=t=>{if(t===rD&&Array.isArray(E1))return E1;var e=[];return j.Children.forEach(t,n=>{sn(n)||(Tue.isFragment(n)?e=e.concat(kq(n.props.children)):e.push(n))}),E1=e,rD=t,e};function Cue(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>nD(i)):r=[nD(e)],kq(t).forEach(i=>{var s=ud(i,"type.displayName")||ud(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var Dq=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,N1={},iD;function Oue(){return iD||(iD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(N1)),N1}var S1,aD;function Pue(){return aD||(aD=1,S1=Oue().isPlainObject),S1}var Iue=Pue();const Rue=es(Iue);var sD,oD,lD,cD,uD;function dD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(n),!0).forEach(function(r){kue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kue(t,e,n){return(e=Due(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Due(t){var e=Mue(t,"string");return typeof e=="symbol"?e:e+""}function Mue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jv.apply(null,arguments)}function Yf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var hD=(t,e,n,r,i)=>{var s=n-r,c;return c=hn(sD||(sD=Yf(["M ",",",""])),t,e),c+=hn(oD||(oD=Yf(["L ",",",""])),t+n,e),c+=hn(lD||(lD=Yf(["L ",",",""])),t+n-s/2,e+i),c+=hn(cD||(cD=Yf(["L ",",",""])),t+n-s/2-r,e+i),c+=hn(uD||(uD=Yf(["L ",","," Z"])),t,e),c},zue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lue=t=>{var e=Dr(t,zue),{x:n,y:r,upperWidth:i,lowerWidth:s,height:c,className:u}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,y=j.useRef(null),[x,E]=j.useState(-1),w=j.useRef(i),N=j.useRef(s),A=j.useRef(c),R=j.useRef(n),O=j.useRef(r),C=s0(t,"trapezoid-");if(j.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var X=y.current.getTotalLength();X&&E(X)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||c!==+c||i===0&&s===0||c===0)return null;var V=Ut("recharts-trapezoid",u);if(!g)return j.createElement("g",null,j.createElement("path",Jv({},Ir(e),{className:V,d:hD(n,r,i,s,c)})));var $=w.current,D=N.current,I=A.current,k=R.current,q=O.current,L="0px ".concat(x===-1?1:x,"px"),M="".concat(x,"px 0px"),U=W3(["strokeDasharray"],h,f);return j.createElement(a0,{animationId:C,key:C,canBegin:x>0,duration:h,easing:f,isActive:g,begin:p},X=>{var Q=mn($,i,X),H=mn(D,s,X),ce=mn(I,c,X),Y=mn(k,n,X),_e=mn(q,r,X);y.current&&(w.current=Q,N.current=H,A.current=ce,R.current=Y,O.current=_e);var W=X>0?{transition:U,strokeDasharray:M}:{strokeDasharray:L};return j.createElement("path",Jv({},Ir(e),{className:V,d:hD(Y,_e,Q,H,ce),ref:y,style:fD(fD({},W),e.style)}))})},que=["option","shapeType","activeClassName"];function Uue(t,e){if(t==null)return{};var n,r,i=Vue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){Bue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bue(t,e,n){return(e=$ue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ue(t){var e=Fue(t,"string");return typeof e=="symbol"?e:e+""}function Fue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hue(t,e){return Zv(Zv({},e),t)}function Gue(t,e){return t==="symbols"}function pD(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return j.createElement(Z3,n);case"trapezoid":return j.createElement(Lue,n);case"sector":return j.createElement(n6,n);case"symbols":if(Gue(e))return j.createElement(qL,n);break;case"curve":return j.createElement(Q3,n);default:return null}}function Kue(t){return j.isValidElement(t)?t.props:t}function Mq(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=Uue(t,que),s;if(j.isValidElement(e))s=j.cloneElement(e,Zv(Zv({},i),Kue(e)));else if(typeof e=="function")s=e(i,i.index);else if(Rue(e)&&typeof e!="boolean"){var c=Hue(e,i);s=j.createElement(pD,{shapeType:n,elementProps:c})}else{var u=i;s=j.createElement(pD,{shapeType:n,elementProps:u})}return i.isActive?j.createElement(qi,{className:r},s):s}var zq=(t,e,n)=>{var r=jn();return(i,s)=>c=>{t?.(i,s,c),r(G5({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},Lq=t=>{var e=jn();return(n,r)=>i=>{t?.(n,r,i),e(coe())}},qq=(t,e,n)=>{var r=jn();return(i,s)=>c=>{t?.(i,s,c),r(uoe({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Uq(t){var{tooltipEntrySettings:e}=t,n=jn(),r=Er(),i=j.useRef(null);return j.useLayoutEffect(()=>{r||(i.current===null?n(aoe(e)):i.current!==e&&n(soe({prev:i.current,next:e})),i.current=e)},[e,n,r]),j.useLayoutEffect(()=>()=>{i.current&&(n(ooe(i.current)),i.current=null)},[n]),null}function Vq(t){var{legendPayload:e}=t,n=jn(),r=Er(),i=j.useRef(null);return j.useLayoutEffect(()=>{r||(i.current===null?n(qte(e)):i.current!==e&&n(Ute({prev:i.current,next:e})),i.current=e)},[n,r,e]),j.useLayoutEffect(()=>()=>{i.current&&(n(Vte(i.current)),i.current=null)},[n]),null}var A1,Que=()=>{var[t]=j.useState(()=>Ph("uid-"));return t},Wue=(A1=YD.useId)!==null&&A1!==void 0?A1:Que;function Yue(t,e){var n=Wue();return e||(t?"".concat(t,"-").concat(n):n)}var Xue=j.createContext(void 0),Bq=t=>{var{id:e,type:n,children:r}=t,i=Yue("recharts-".concat(n),e);return j.createElement(Xue.Provider,{value:i},r(i))},Jue={cartesianItems:[],polarItems:[]},$q=ei({name:"graphicalItems",initialState:Jue,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Jt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=la(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Jt()},removeCartesianGraphicalItem:{reducer(t,e){var n=la(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Jt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Jt()},removePolarGraphicalItem:{reducer(t,e){var n=la(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Jt()}}}),{addCartesianGraphicalItem:Zue,replaceCartesianGraphicalItem:ede,removeCartesianGraphicalItem:tde,addPolarGraphicalItem:Mve,removePolarGraphicalItem:zve}=$q.actions,nde=$q.reducer,rde=t=>{var e=jn(),n=j.useRef(null);return j.useLayoutEffect(()=>{n.current===null?e(Zue(t)):n.current!==t&&e(ede({prev:n.current,next:t})),n.current=t},[e,t]),j.useLayoutEffect(()=>()=>{n.current&&(e(tde(n.current)),n.current=null)},[e]),null},Fq=j.memo(rde),ide=["points"];function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(n),!0).forEach(function(r){ade(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ade(t,e,n){return(e=sde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sde(t){var e=ode(t,"string");return typeof e=="symbol"?e:e+""}function ode(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ey(){return ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ey.apply(null,arguments)}function lde(t,e){if(t==null)return{};var n,r,i=cde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ude(t){var{option:e,dotProps:n,className:r}=t;if(j.isValidElement(e))return j.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Ut(r,typeof e!="boolean"?e.className:""),s=n??{},{points:c}=s,u=lde(s,ide);return j.createElement(Iq,ey({},u,{className:i}))}function dde(t,e){return t==null?!1:e?!0:t.length===1}function fde(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:c,needClip:u,clipPathId:f,zIndex:h=Jn.scatter}=t;if(!dde(e,n))return null;var p=Dq(n),g=OX(n),y=e.map((E,w)=>{var N,A,R=T1(T1(T1({r:3},c),g),{},{index:w,cx:(N=E.x)!==null&&N!==void 0?N:void 0,cy:(A=E.y)!==null&&A!==void 0?A:void 0,dataKey:s,value:E.value,payload:E.payload,points:e});return j.createElement(ude,{key:"dot-".concat(w),option:n,dotProps:R,className:i})}),x={};return u&&f!=null&&(x.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),j.createElement(Fi,{zIndex:h},j.createElement(qi,ey({className:r},x),y))}function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){hde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hde(t,e,n){return(e=mde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mde(t){var e=pde(t,"string");return typeof e=="symbol"?e:e+""}function pde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hq=0,gde={xAxis:{},yAxis:{},zAxis:{}},Gq=ei({name:"cartesianAxis",initialState:gde,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Jt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Jt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Jt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Jt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Jt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Jt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Jt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Jt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Jt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s,c=i.widthHistory||[];if(c.length===3&&c[0]===c[2]&&r===c[1]&&r!==i.width&&Math.abs(r-((s=c[0])!==null&&s!==void 0?s:0))<=1)return;var u=[...c,r].slice(-3);t.yAxis[n]=yD(yD({},i),{},{width:r,widthHistory:u})}}}}),{addXAxis:vde,replaceXAxis:yde,removeXAxis:bde,addYAxis:xde,replaceYAxis:_de,removeYAxis:wde,addZAxis:Lve,replaceZAxis:qve,removeZAxis:Uve,updateYAxisWidth:jde}=Gq.actions,Ede=Gq.reducer,Nde=ue([Zn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Sde=ue([Nde,Js,Zs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),nS=()=>ze(Sde),Ade=()=>ze(Zoe);function bD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bD(Object(n),!0).forEach(function(r){Tde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tde(t,e,n){return(e=Cde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cde(t){var e=Ode(t,"string");return typeof e=="symbol"?e:e+""}function Ode(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pde=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:c}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=C1(C1(C1({},u),cm(i)),qE(i)),h;return j.isValidElement(i)?h=j.cloneElement(i,f):typeof i=="function"?h=i(f):h=j.createElement(Iq,f),j.createElement(qi,{className:"recharts-active-dot",clipPath:c},h)};function Ide(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:c=Jn.activeDot}=t,u=ze(Ic),f=Ade();if(e==null||f==null)return null;var h=e.find(p=>f.includes(p.payload));return sn(h)?null:j.createElement(Fi,{zIndex:c},j.createElement(Pde,{point:h,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var xD=(t,e,n)=>{var r=n??t;if(!sn(r))return fa(r,e,0)},Rde=(t,e,n)=>{var r={},i=t.filter(y0),s=t.filter(h=>h.stackId==null),c=i.reduce((h,p)=>{var g=h[p.stackId];return g==null&&(g=[]),g.push(p),h[p.stackId]=g,h},r),u=Object.entries(c).map(h=>{var p,[g,y]=h,x=y.map(w=>w.dataKey),E=xD(e,n,(p=y[0])===null||p===void 0?void 0:p.barSize);return{stackId:g,dataKeys:x,barSize:E}}),f=s.map(h=>{var p=[h.dataKey].filter(y=>y!=null),g=xD(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...u,...f]};function _D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(n),!0).forEach(function(r){kde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kde(t,e,n){return(e=Dde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dde(t){var e=Mde(t,"string");return typeof e=="symbol"?e:e+""}function Mde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zde(t,e,n,r,i){var s,c=r.length;if(!(c<1)){var u=fa(t,n,0,!0),f,h=[];if(pt((s=r[0])===null||s===void 0?void 0:s.barSize)){var p=!1,g=n/c,y=r.reduce((R,O)=>R+(O.barSize||0),0);y+=(c-1)*u,y>=n&&(y-=(c-1)*u,u=0),y>=n&&g>0&&(p=!0,g*=.9,y=c*g);var x=(n-y)/2>>0,E={offset:x-u,size:0};f=r.reduce((R,O)=>{var C,V={stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:E.offset+E.size+u,size:p?g:(C=O.barSize)!==null&&C!==void 0?C:0}},$=[...R,V];return E=V.position,$},h)}else{var w=fa(e,n,0,!0);n-2*w-(c-1)*u<=0&&(u=0);var N=(n-2*w-(c-1)*u)/c;N>1&&(N>>=0);var A=pt(i)?Math.min(N,i):N;f=r.reduce((R,O,C)=>[...R,{stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:w+(N+u)*C+(N-A)/2,size:A}}],h)}return f}}var Lde=(t,e,n,r,i,s,c)=>{var u=sn(c)?e:c,f=zde(n,r,i!==s?i:s,t,u);return i!==s&&f!=null&&(f=f.map(h=>jg(jg({},h),{},{position:jg(jg({},h.position),{},{offset:h.position.offset-i/2})}))),f},qde=(t,e)=>{var n=RN(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(c=>c.key===n)}}}},Ude=(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}};function Vde(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&pt(t.zIndex)?t.zIndex:e}var Bde=t=>{var{chartData:e}=t,n=jn(),r=Er();return j.useEffect(()=>r?()=>{}:(n(Ok(e)),()=>{n(Ok(void 0))}),[e,n,r]),null},wD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Kq=ei({name:"brush",initialState:wD,reducers:{setBrushSettings(t,e){return e.payload==null?wD:e.payload}}}),{setBrushSettings:Vve}=Kq.actions,$de=Kq.reducer;function Fde(t){return(t%180+180)%180}var Hde=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Fde(i),c=s*Math.PI/180,u=Math.atan(r/n),f=c>u&&c<Math.PI-u?r/Math.sin(c):n/Math.cos(c);return Math.abs(f)},Gde={dots:[],areas:[],lines:[]},Qq=ei({name:"referenceElements",initialState:Gde,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=la(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=la(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=la(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Bve,removeDot:$ve,addArea:Fve,removeArea:Hve,addLine:Gve,removeLine:Kve}=Qq.actions,Kde=Qq.reducer,Qde=j.createContext(void 0),Wde=t=>{var{children:e}=t,[n]=j.useState("".concat(Ph("recharts"),"-clip")),r=nS();if(r==null)return null;var{x:i,y:s,width:c,height:u}=r;return j.createElement(Qde.Provider,{value:n},j.createElement("defs",null,j.createElement("clipPath",{id:n},j.createElement("rect",{x:i,y:s,height:u,width:c}))),e)};function Wq(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Yde(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Hde(r,n)}function Xde(t,e,n){var r=n==="width",{x:i,y:s,width:c,height:u}=t;return e===1?{start:r?i:s,end:r?i+c:s+u}:{start:r?i+c:s+u,end:r?i:s}}function Hh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Jde(t,e){return Wq(t,e+1)}function Zde(t,e,n,r,i){for(var s=(r||[]).slice(),{start:c,end:u}=e,f=0,h=1,p=c,g=function(){var E=r?.[f];if(E===void 0)return{v:Wq(r,h)};var w=f,N,A=()=>(N===void 0&&(N=n(E,w)),N),R=E.coordinate,O=f===0||Hh(t,R,A,p,u);O||(f=0,p=c,h+=1),O&&(p=R+t*(A()/2+i),f+=h)},y;h<=s.length;)if(y=g(),y)return y.v;return[]}function efe(t,e,n,r,i){var s=(r||[]).slice(),c=s.length;if(c===0)return[];for(var{start:u,end:f}=e,h=1;h<=c;h++){for(var p=(c-1)%h,g=u,y=!0,x=function(){var C=r[w];if(C==null)return 0;var V=w,$,D=()=>($===void 0&&($=n(C,V)),$),I=C.coordinate,k=w===p||Hh(t,I,D,g,f);if(!k)return y=!1,1;k&&(g=I+t*(D()/2+i))},E,w=p;w<c&&(E=x(),!(E!==0&&E===1));w+=h);if(y){for(var N=[],A=p;A<c;A+=h){var R=r[A];R!=null&&N.push(R)}return N}}return[]}function jD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jD(Object(n),!0).forEach(function(r){tfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tfe(t,e,n){return(e=nfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nfe(t){var e=rfe(t,"string");return typeof e=="symbol"?e:e+""}function rfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ife(t,e,n,r,i){for(var s=(r||[]).slice(),c=s.length,{start:u}=e,{end:f}=e,h=function(y){var x=s[y];if(x==null)return 1;var E=x,w,N=()=>(w===void 0&&(w=n(x,y)),w);if(y===c-1){var A=t*(E.coordinate+t*N()/2-f);s[y]=E=yr(yr({},E),{},{tickCoord:A>0?E.coordinate-A*t:E.coordinate})}else s[y]=E=yr(yr({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var R=Hh(t,E.tickCoord,N,u,f);R&&(f=E.tickCoord-t*(N()/2+i),s[y]=yr(yr({},E),{},{isShow:!0}))}},p=c-1;p>=0;p--)h(p);return s}function afe(t,e,n,r,i,s){var c=(r||[]).slice(),u=c.length,{start:f,end:h}=e;if(s){var p=r[u-1];if(p!=null){var g=n(p,u-1),y=t*(p.coordinate+t*g/2-h);if(c[u-1]=p=yr(yr({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate}),p.tickCoord!=null){var x=Hh(t,p.tickCoord,()=>g,f,h);x&&(h=p.tickCoord-t*(g/2+i),c[u-1]=yr(yr({},p),{},{isShow:!0}))}}}for(var E=s?u-1:u,w=function(R){var O=c[R];if(O==null)return 1;var C=O,V,$=()=>(V===void 0&&(V=n(O,R)),V);if(R===0){var D=t*(C.coordinate-t*$()/2-f);c[R]=C=yr(yr({},C),{},{tickCoord:D<0?C.coordinate-D*t:C.coordinate})}else c[R]=C=yr(yr({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var I=Hh(t,C.tickCoord,$,f,h);I&&(f=C.tickCoord+t*($()/2+i),c[R]=yr(yr({},C),{},{isShow:!0}))}},N=0;N<E;N++)w(N);return c}function rS(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:c,orientation:u,interval:f,tickFormatter:h,unit:p,angle:g}=t;if(!i||!i.length||!r)return[];if(Pe(f)||i0.isSsr){var y;return(y=Jde(i,Pe(f)?f:0))!==null&&y!==void 0?y:[]}var x=[],E=u==="top"||u==="bottom"?"width":"height",w=p&&E==="width"?gh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},N=(V,$)=>{var D=typeof h=="function"?h(V.value,$):V.value;return E==="width"?Yde(gh(D,{fontSize:e,letterSpacing:n}),w,g):gh(D,{fontSize:e,letterSpacing:n})[E]},A=i[0],R=i[1],O=i.length>=2&&A!=null&&R!=null?Yr(R.coordinate-A.coordinate):1,C=Xde(s,O,E);return f==="equidistantPreserveStart"?Zde(O,C,N,i,c):f==="equidistantPreserveEnd"?efe(O,C,N,i,c):(f==="preserveStart"||f==="preserveStartEnd"?x=afe(O,C,N,i,c,f==="preserveStartEnd"):x=ife(O,C,N,i,c),x.filter(V=>V.isShow))}var sfe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,c=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>c&&(c=g.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+s,h=c+f+u+(n?r:0);return Math.round(h)}return 0},ofe=["axisLine","width","height","className","hide","ticks","axisType"];function lfe(t,e){if(t==null)return{};var n,r,i=cfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Rc(){return Rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rc.apply(null,arguments)}function ED(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(n),!0).forEach(function(r){ufe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ufe(t,e,n){return(e=dfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dfe(t){var e=ffe(t,"string");return typeof e=="symbol"?e:e+""}function ffe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ds={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Jn.axis};function hfe(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:c,axisLine:u,otherSvgProps:f}=t;if(!u)return null;var h=dn(dn(dn({},f),da(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!c||s==="bottom"&&c);h=dn(dn({},h),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var g=+(s==="left"&&!c||s==="right"&&c);h=dn(dn({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return j.createElement("line",Rc({},h,{className:Ut("recharts-cartesian-axis-line",ud(u,"className"))}))}function mfe(t,e,n,r,i,s,c,u,f){var h,p,g,y,x,E,w=u?-1:1,N=t.tickSize||c,A=Pe(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,y=n+ +!u*i,g=y-w*N,E=g-w*f,x=A;break;case"left":g=y=t.coordinate,p=e+ +!u*r,h=p-w*N,x=h-w*f,E=A;break;case"right":g=y=t.coordinate,p=e+ +u*r,h=p+w*N,x=h+w*f,E=A;break;default:h=p=t.coordinate,y=n+ +u*i,g=y+w*N,E=g+w*f,x=A;break}return{line:{x1:h,y1:g,x2:p,y2:y},tick:{x,y:E}}}function pfe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function gfe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function vfe(t){var{option:e,tickProps:n,value:r}=t,i,s=Ut(n.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(e))i=j.cloneElement(e,dn(dn({},n),{},{className:s}));else if(typeof e=="function")i=e(dn(dn({},n),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(c=Ut(c,Nue(e))),i=j.createElement(eS,Rc({},n,{className:c}),r)}return i}var yfe=j.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:c,unit:u,padding:f,tickTextProps:h,orientation:p,mirror:g,x:y,y:x,width:E,height:w,tickSize:N,tickMargin:A,fontSize:R,letterSpacing:O,getTicksConfig:C,events:V,axisType:$}=t,D=rS(dn(dn({},C),{},{ticks:n}),R,O),I=pfe(p,g),k=gfe(p,g),q=da(C),L=cm(r),M={};typeof i=="object"&&(M=i);var U=dn(dn({},q),{},{fill:"none"},M),X=D.map(ce=>dn({entry:ce},mfe(ce,y,x,E,w,p,N,g,A))),Q=X.map(ce=>{var{entry:Y,line:_e}=ce;return j.createElement(qi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},i&&j.createElement("line",Rc({},U,_e,{className:Ut("recharts-cartesian-axis-tick-line",ud(i,"className"))})))}),H=X.map((ce,Y)=>{var _e,W,{entry:F,tick:ne}=ce,ge=dn(dn(dn(dn({verticalAnchor:k},q),{},{textAnchor:I,stroke:"none",fill:s},ne),{},{index:Y,payload:F,visibleTicksCount:D.length,tickFormatter:c,padding:f},h),{},{angle:(_e=(W=h?.angle)!==null&&W!==void 0?W:q.angle)!==null&&_e!==void 0?_e:0}),je=dn(dn({},ge),L);return j.createElement(qi,Rc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},UE(V,F,Y)),r&&j.createElement(vfe,{option:r,tickProps:je,value:"".concat(typeof c=="function"?c(F.value,Y):F.value).concat(u||"")}))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat($,"-ticks")},H.length>0&&j.createElement(Fi,{zIndex:Jn.label},j.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat($,"-tick-labels"),ref:e},H)),Q.length>0&&j.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat($,"-tick-lines")},Q))}),bfe=j.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:c,ticks:u,axisType:f}=t,h=lfe(t,ofe),[p,g]=j.useState(""),[y,x]=j.useState(""),E=j.useRef(null);j.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var N;return sfe({ticks:E.current,label:(N=t.labelRef)===null||N===void 0?void 0:N.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var w=j.useCallback(N=>{if(N){var A=N.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=A;var R=A[0];if(R){var O=window.getComputedStyle(R),C=O.fontSize,V=O.letterSpacing;(C!==p||V!==y)&&(g(C),x(V))}}},[p,y]);return c||r!=null&&r<=0||i!=null&&i<=0?null:j.createElement(Fi,{zIndex:t.zIndex},j.createElement(qi,{className:Ut("recharts-cartesian-axis",s)},j.createElement(hfe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:da(t)}),j.createElement(yfe,{ref:w,axisType:f,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),j.createElement(eue,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},j.createElement(uue,{label:t.label,labelRef:t.labelRef}),t.children)))}),iS=j.forwardRef((t,e)=>{var n=Dr(t,Ds);return j.createElement(bfe,Rc({},n,{ref:e}))});iS.displayName="CartesianAxis";var xfe=["x1","y1","x2","y2","key"],_fe=["offset"],wfe=["xAxisId","yAxisId"],jfe=["xAxisId","yAxisId"];function ND(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(n),!0).forEach(function(r){Efe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Efe(t,e,n){return(e=Nfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nfe(t){var e=Sfe(t,"string");return typeof e=="symbol"?e:e+""}function Sfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cc.apply(null,arguments)}function ty(t,e){if(t==null)return{};var n,r,i=Afe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Afe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tfe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:c,ry:u}=t;return j.createElement("rect",{x:r,y:i,ry:u,width:s,height:c,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Yq(t){var{option:e,lineItemProps:n}=t,r;if(j.isValidElement(e))r=j.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:c,x2:u,y2:f,key:h}=n,p=ty(n,xfe),g=(i=da(p))!==null&&i!==void 0?i:{},{offset:y}=g,x=ty(g,_fe);r=j.createElement("line",cc({},x,{x1:s,y1:c,x2:u,y2:f,fill:"none",key:h}))}return r}function Cfe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=t,u=ty(t,wfe),f=i.map((h,p)=>{var g=_r(_r({},u),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return j.createElement(Yq,{key:"line-".concat(p),option:r,lineItemProps:g})});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Ofe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=t,u=ty(t,jfe),f=i.map((h,p)=>{var g=_r(_r({},u),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return j.createElement(Yq,{option:r,lineItemProps:g,key:"line-".concat(p)})});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Pfe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:c,horizontalPoints:u,horizontal:f=!0}=t;if(!f||!e||!e.length||u==null)return null;var h=u.map(g=>Math.round(g+i-i)).sort((g,y)=>g-y);i!==h[0]&&h.unshift(0);var p=h.map((g,y)=>{var x=h[y+1],E=x==null,w=E?i+c-g:x-g;if(w<=0)return null;var N=y%e.length;return j.createElement("rect",{key:"react-".concat(y),y:g,x:r,height:w,width:s,stroke:"none",fill:e[N],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Ife(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:c,height:u,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(g=>Math.round(g+i-i)).sort((g,y)=>g-y);i!==h[0]&&h.unshift(0);var p=h.map((g,y)=>{var x=h[y+1],E=x==null,w=E?i+c-g:x-g;if(w<=0)return null;var N=y%n.length;return j.createElement("rect",{key:"react-".concat(y),x:g,y:s,width:w,height:u,stroke:"none",fill:n[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Rfe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return C3(rS(_r(_r(_r({},Ds),n),{},{ticks:O3(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},kfe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return C3(rS(_r(_r(_r({},Ds),n),{},{ticks:O3(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},Dfe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Jn.grid};function aj(t){var e=M3(),n=z3(),r=D3(),i=_r(_r({},Dr(t,Dfe)),{},{x:Pe(t.x)?t.x:r.left,y:Pe(t.y)?t.y:r.top,width:Pe(t.width)?t.width:r.width,height:Pe(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:c,x:u,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:y,verticalValues:x}=i,E=Er(),w=ze(k=>yk(k,"xAxis",s,E)),N=ze(k=>yk(k,"yAxis",c,E));if(!Ja(h)||!Ja(p)||!Pe(u)||!Pe(f))return null;var A=i.verticalCoordinatesGenerator||Rfe,R=i.horizontalCoordinatesGenerator||kfe,{horizontalPoints:O,verticalPoints:C}=i;if((!O||!O.length)&&typeof R=="function"){var V=y&&y.length,$=R({yAxis:N?_r(_r({},N),{},{ticks:V?y:N.ticks}):void 0,width:e??h,height:n??p,offset:r},V?!0:g);Av(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof $,"]")),Array.isArray($)&&(O=$)}if((!C||!C.length)&&typeof A=="function"){var D=x&&x.length,I=A({xAxis:w?_r(_r({},w),{},{ticks:D?x:w.ticks}):void 0,width:e??h,height:n??p,offset:r},D?!0:g);Av(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(C=I)}return j.createElement(Fi,{zIndex:i.zIndex},j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(Tfe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),j.createElement(Pfe,cc({},i,{horizontalPoints:O})),j.createElement(Ife,cc({},i,{verticalPoints:C})),j.createElement(Cfe,cc({},i,{offset:r,horizontalPoints:O,xAxis:w,yAxis:N})),j.createElement(Ofe,cc({},i,{offset:r,verticalPoints:C,xAxis:w,yAxis:N}))))}aj.displayName="CartesianGrid";var Mfe={},Xq=ei({name:"errorBars",initialState:Mfe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Qve,replaceErrorBar:Wve,removeErrorBar:Yve}=Xq.actions,zfe=Xq.reducer,Lfe=["children"];function qfe(t,e){if(t==null)return{};var n,r,i=Ufe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ufe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vfe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Bfe=j.createContext(Vfe);function Jq(t){var{children:e}=t,n=qfe(t,Lfe);return j.createElement(Bfe.Provider,{value:n},e)}function aS(t,e){var n,r,i=ze(h=>no(h,t)),s=ze(h=>ro(h,e)),c=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Qn.allowDataOverflow,u=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Wn.allowDataOverflow,f=c||u;return{needClip:f,needClipX:c,needClipY:u}}function Zq(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=nS(),{needClipX:s,needClipY:c,needClip:u}=aS(e,n);if(!u||!i)return null;var{x:f,y:h,width:p,height:g}=i;return j.createElement("clipPath",{id:"clipPath-".concat(r)},j.createElement("rect",{x:s?f:f-p/2,y:c?h:h-g/2,width:s?p:p*2,height:c?g:g*2}))}var eU=(t,e,n,r)=>gl(t,"xAxis",e,r),tU=(t,e,n,r)=>pl(t,"xAxis",e,r),nU=(t,e,n,r)=>gl(t,"yAxis",n,r),rU=(t,e,n,r)=>pl(t,"yAxis",n,r),$fe=ue([It,eU,nU,tU,rU],(t,e,n,r,i)=>Xs(t,"xAxis")?fd(e,r,!1):fd(n,i,!1)),Ffe=(t,e,n,r,i)=>i;function Hfe(t){return t.type==="line"}var Gfe=ue([_0,Ffe],(t,e)=>t.filter(Hfe).find(n=>n.id===e)),Kfe=ue([It,eU,nU,tU,rU,Gfe,$fe,EN],(t,e,n,r,i,s,c,u)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=u;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||c==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:g,data:y}=s,x;if(y!=null&&y.length>0?x=y:x=f?.slice(h,p+1),x!=null)return khe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:c,displayedData:x})}});function Qfe(t){var e=cm(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,c=Number(i),u=Number(s);return(Number.isNaN(c)||c<0)&&(c=n),(Number.isNaN(u)||u<0)&&(u=r),{r:c,strokeWidth:u}}return{r:n,strokeWidth:r}}var O1={exports:{}},P1={};var SD;function Wfe(){if(SD)return P1;SD=1;var t=yd();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,c=t.useMemo,u=t.useDebugValue;return P1.useSyncExternalStoreWithSelector=function(f,h,p,g,y){var x=i(null);if(x.current===null){var E={hasValue:!1,value:null};x.current=E}else E=x.current;x=c(function(){function N(V){if(!A){if(A=!0,R=V,V=g(V),y!==void 0&&E.hasValue){var $=E.value;if(y($,V))return O=$}return O=V}if($=O,n(R,V))return $;var D=g(V);return y!==void 0&&y($,D)?(R=V,$):(R=V,O=D)}var A=!1,R,O,C=p===void 0?null:p;return[function(){return N(h())},C===null?void 0:function(){return N(C())}]},[h,p,g,y]);var w=r(f,x[0],x[1]);return s(function(){E.hasValue=!0,E.value=w},[w]),u(w),w},P1}var AD;function Yfe(){return AD||(AD=1,O1.exports=Wfe()),O1.exports}Yfe();function Xfe(t){t()}function Jfe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Xfe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var TD={notify(){},get:()=>[]};function Zfe(t,e){let n,r=TD,i=0,s=!1;function c(w){p();const N=r.subscribe(w);let A=!1;return()=>{A||(A=!0,N(),g())}}function u(){r.notify()}function f(){E.onStateChange&&E.onStateChange()}function h(){return s}function p(){i++,n||(n=t.subscribe(f),r=Jfe())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=TD)}function y(){s||(s=!0,p())}function x(){s&&(s=!1,g())}const E={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:x,getListeners:()=>r};return E}var ehe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",the=ehe(),nhe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",rhe=nhe(),ihe=()=>the||rhe?j.useLayoutEffect:j.useEffect,ahe=ihe();function CD(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function she(t,e){if(CD(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!CD(t[n[i]],e[n[i]]))return!1;return!0}var ohe=Symbol.for("react-redux-context"),lhe=typeof globalThis<"u"?globalThis:{};function che(){if(!j.createContext)return{};const t=lhe[ohe]??=new Map;let e=t.get(j.createContext);return e||(e=j.createContext(null),t.set(j.createContext,e)),e}var uhe=che();function dhe(t){const{children:e,context:n,serverState:r,store:i}=t,s=j.useMemo(()=>{const f=Zfe(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),c=j.useMemo(()=>i.getState(),[i]);ahe(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,c]);const u=n||uhe;return j.createElement(u.Provider,{value:s},e)}var fhe=dhe,hhe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function mhe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function S0(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(hhe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!she(t[r],e[r]))return!1}else if(!mhe(t[r],e[r]))return!1;return!0}var phe=["id"],ghe=["type","layout","connectNulls","needClip","shape"],vhe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Gh(){return Gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gh.apply(null,arguments)}function OD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OD(Object(n),!0).forEach(function(r){yhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yhe(t,e,n){return(e=bhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bhe(t){var e=xhe(t,"string");return typeof e=="symbol"?e:e+""}function xhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sS(t,e){if(t==null)return{};var n,r,i=_he(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _he(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var whe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Wy(n,e),payload:t}]},jhe=j.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:c,hide:u,unit:f,tooltipType:h,id:p}=t,g={dataDefinedOnItem:n,getPosition:Uc,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Wy(c,e),hide:u,type:h,color:r,unit:f,graphicalItemId:p}};return j.createElement(Uq,{tooltipEntrySettings:g})}),iU=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Ehe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Nhe=(t,e,n)=>{var r=n.reduce((x,E)=>x+E);if(!r)return iU(e,t);for(var i=Math.floor(t/r),s=t%r,c=e-t,u=[],f=0,h=0;f<n.length;h+=(p=n[f])!==null&&p!==void 0?p:0,++f){var p,g=n[f];if(g!=null&&h+g>s){u=[...n.slice(0,f),s-h];break}}var y=u.length%2===0?[0,c]:[c];return[...Ehe(n,i),...u,...y].map(x=>"".concat(x,"px")).join(", ")};function She(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:c}=r,{id:u}=r,f=sS(r,phe),h=da(f);return j.createElement(fde,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:c,clipPathId:e})}function Ahe(t){var{showLabels:e,children:n,points:r}=t,i=j.useMemo(()=>r?.map(s=>{var c,u,f={x:(c=s.x)!==null&&c!==void 0?c:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return za(za({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[r]);return j.createElement(Cq,{value:e?i:void 0},n)}function PD(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:c,layout:u,connectNulls:f,needClip:h,shape:p}=s,g=sS(s,ghe),y=za(za({},Ir(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:c,layout:u,connectNulls:f,strokeDasharray:i??s.strokeDasharray});return j.createElement(j.Fragment,null,r?.length>1&&j.createElement(Mq,Gh({shapeType:"curve",option:p},y,{pathRef:n})),j.createElement(She,{points:r,clipPathId:e,props:s}))}function The(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Che(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:c,strokeDasharray:u,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:y,width:x,height:E,onAnimationEnd:w,onAnimationStart:N}=n,A=i.current,R=s0(c,"recharts-line-"),O=j.useRef(R),[C,V]=j.useState(!1),$=!C,D=j.useCallback(()=>{typeof w=="function"&&w(),V(!1)},[w]),I=j.useCallback(()=>{typeof N=="function"&&N(),V(!0)},[N]),k=The(r.current),q=j.useRef(0);O.current!==R&&(q.current=s.current,O.current=R);var L=q.current;return j.createElement(Ahe,{points:c,showLabels:$},n.children,j.createElement(a0,{animationId:R,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:D,onAnimationStart:I,key:R},M=>{var U=mn(L,k+L,M),X=Math.min(U,k),Q;if(f)if(u){var H="".concat(u).split(/[,\s]+/gim).map(_e=>parseFloat(_e));Q=Nhe(X,k,H)}else Q=iU(k,X);else Q=u==null?void 0:String(u);if(M>0&&k>0&&(i.current=c,s.current=Math.max(s.current,X)),A){var ce=A.length/c.length,Y=M===1?c:c.map((_e,W)=>{var F=Math.floor(W*ce);if(A[F]){var ne=A[F];return za(za({},_e),{},{x:mn(ne.x,_e.x,M),y:mn(ne.y,_e.y,M)})}return y?za(za({},_e),{},{x:mn(x*2,_e.x,M),y:mn(E/2,_e.y,M)}):za(za({},_e),{},{x:_e.x,y:_e.y})});return i.current=Y,j.createElement(PD,{props:n,points:Y,clipPathId:e,pathRef:r,strokeDasharray:Q})}return j.createElement(PD,{props:n,points:c,clipPathId:e,pathRef:r,strokeDasharray:Q})}),j.createElement(Pq,{label:n.label}))}function Ohe(t){var{clipPathId:e,props:n}=t,r=j.useRef(null),i=j.useRef(0),s=j.useRef(null);return j.createElement(Che,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var Phe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Dn(t.payload,e)}};class Ihe extends j.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:c,top:u,left:f,width:h,height:p,id:g,needClip:y,zIndex:x}=this.props;if(e)return null;var E=Ut("recharts-line",i),w=g,{r:N,strokeWidth:A}=Qfe(n),R=Dq(n),O=N*2+A,C=y?"url(#clipPath-".concat(R?"":"dots-").concat(w,")"):void 0;return j.createElement(Fi,{zIndex:x},j.createElement(qi,{className:E},y&&j.createElement("defs",null,j.createElement(Zq,{clipPathId:w,xAxisId:s,yAxisId:c}),!R&&j.createElement("clipPath",{id:"clipPath-dots-".concat(w)},j.createElement("rect",{x:f-O/2,y:u-O/2,width:h+O,height:p+O}))),j.createElement(Jq,{xAxisId:s,yAxisId:c,data:r,dataPointFormatter:Phe,errorBarOffset:0},j.createElement(Ohe,{props:this.props,clipPathId:w}))),j.createElement(Ide,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:C}))}}var aU={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Jn.line,type:"linear"};function Rhe(t){var e=Dr(t,aU),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:c,connectNulls:u,dot:f,hide:h,isAnimationActive:p,label:g,legendType:y,xAxisId:x,yAxisId:E,id:w}=e,N=sS(e,vhe),{needClip:A}=aS(x,E),R=nS(),O=Vc(),C=Er(),V=ze(q=>Kfe(q,x,E,C,w));if(O!=="horizontal"&&O!=="vertical"||V==null||R==null)return null;var{height:$,width:D,x:I,y:k}=R;return j.createElement(Ihe,Gh({},N,{id:w,connectNulls:u,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:c,isAnimationActive:p,hide:h,label:g,legendType:y,xAxisId:x,yAxisId:E,points:V,layout:O,height:$,width:D,left:I,top:k,needClip:A}))}function khe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:c,bandSize:u,displayedData:f}=t;return f.map((h,p)=>{var g=Dn(h,c);if(e==="horizontal"){var y=gI({axis:n,ticks:i,bandSize:u,entry:h,index:p}),x=sn(g)?null:r.scale.map(g);return{x:y,y:x??null,value:g,payload:h}}var E=sn(g)?null:n.scale.map(g),w=gI({axis:r,ticks:s,bandSize:u,entry:h,index:p});return E==null||w==null?null:{x:E,y:w,value:g,payload:h}}).filter(Boolean)}function Dhe(t){var e=Dr(t,aU),n=Er();return j.createElement(Bq,{id:e.id,type:"line"},r=>j.createElement(j.Fragment,null,j.createElement(Vq,{legendPayload:whe(e)}),j.createElement(jhe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),j.createElement(Fq,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),j.createElement(Rhe,Gh({},e,{id:r}))))}var sU=j.memo(Dhe,S0);sU.displayName="Line";function Fc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:Hq}function Hc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:Hq}var Mhe="Invariant failed";function zhe(t,e){throw new Error(Mhe)}function sj(){return sj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sj.apply(null,arguments)}function ny(t){return j.createElement(Mq,sj({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Lhe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Pe(e))return e;var s=Pe(r)||sn(r);return s?e(r,i):(s||zhe(),n)}},qhe=(t,e,n)=>n,Uhe=(t,e)=>e,Sm=ue([_0,Uhe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Vhe=ue([Sm],t=>t?.maxBarSize),Bhe=(t,e,n,r)=>r,$he=ue([It,_0,Fc,Hc,qhe],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Fhe=(t,e,n)=>{var r=It(t),i=Fc(t,e),s=Hc(t,e);if(!(i==null||s==null))return r==="horizontal"?Jw(t,"yAxis",s,n):Jw(t,"xAxis",i,n)},Hhe=(t,e)=>{var n=It(t),r=Fc(t,e),i=Hc(t,e);if(!(r==null||i==null))return n==="horizontal"?vk(t,"xAxis",r):vk(t,"yAxis",i)},Ghe=ue([$he,Qae,Hhe],Rde),Khe=(t,e,n)=>{var r,i,s=Sm(t,e);if(s==null)return 0;var c=Fc(t,e),u=Hc(t,e);if(c==null||u==null)return 0;var f=It(t),h=W6(t),{maxBarSize:p}=s,g=sn(p)?h:p,y,x;return f==="horizontal"?(y=gl(t,"xAxis",c,n),x=pl(t,"xAxis",c,n)):(y=gl(t,"yAxis",u,n),x=pl(t,"yAxis",u,n)),(r=(i=fd(y,x,!0))!==null&&i!==void 0?i:g)!==null&&r!==void 0?r:0},oU=(t,e,n)=>{var r=It(t),i=Fc(t,e),s=Hc(t,e);if(!(i==null||s==null)){var c,u;return r==="horizontal"?(c=gl(t,"xAxis",i,n),u=pl(t,"xAxis",i,n)):(c=gl(t,"yAxis",s,n),u=pl(t,"yAxis",s,n)),fd(c,u)}},Qhe=ue([Ghe,W6,Kae,Y6,Khe,oU,Vhe],Lde),Whe=(t,e,n)=>{var r=Fc(t,e);if(r!=null)return gl(t,"xAxis",r,n)},Yhe=(t,e,n)=>{var r=Hc(t,e);if(r!=null)return gl(t,"yAxis",r,n)},Xhe=(t,e,n)=>{var r=Fc(t,e);if(r!=null)return pl(t,"xAxis",r,n)},Jhe=(t,e,n)=>{var r=Hc(t,e);if(r!=null)return pl(t,"yAxis",r,n)},Zhe=ue([Qhe,Sm],Ude),eme=ue([Fhe,Sm],qde),tme=ue([Zn,YE,Whe,Yhe,Xhe,Jhe,Zhe,It,qae,oU,eme,Sm,Bhe],(t,e,n,r,i,s,c,u,f,h,p,g,y)=>{var{chartData:x,dataStartIndex:E,dataEndIndex:w}=f;if(!(g==null||c==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||s==null||h==null)){var{data:N}=g,A;if(N!=null&&N.length>0?A=N:A=x?.slice(E,w+1),A!=null)return Cme({layout:u,barSettings:g,pos:c,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:A,offset:t,cells:y,dataStartIndex:E})}}),nme=["index"];function oj(){return oj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oj.apply(null,arguments)}function rme(t,e){if(t==null)return{};var n,r,i=ime(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ime(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lU=j.createContext(void 0),ame=t=>{var e=j.useContext(lU);if(e!=null)return e.stackId;if(t!=null)return Bee(t)},sme=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),ome=t=>{var e=j.useContext(lU);if(e!=null){var{stackId:n}=e;return"url(#".concat(sme(n,t),")")}},cU=t=>{var{index:e}=t,n=rme(t,nme),r=ome(e);return j.createElement(qi,oj({className:"recharts-bar-stack-layer",clipPath:r},n))},lme=["onMouseEnter","onMouseLeave","onClick"],cme=["value","background","tooltipPosition"],ume=["id"],dme=["onMouseEnter","onClick","onMouseLeave"];function Gs(){return Gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gs.apply(null,arguments)}function ID(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(n),!0).forEach(function(r){fme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fme(t,e,n){return(e=hme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hme(t){var e=mme(t,"string");return typeof e=="symbol"?e:e+""}function mme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ry(t,e){if(t==null)return{};var n,r,i=pme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var gme=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Wy(n,e),payload:t}]},vme=j.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:c,unit:u,tooltipType:f,id:h}=t,p={dataDefinedOnItem:void 0,getPosition:Uc,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Wy(s,e),hide:c,type:f,color:i,unit:u,graphicalItemId:h}};return j.createElement(Uq,{tooltipEntrySettings:p})});function yme(t){var e=ze(Ic),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:c,onMouseLeave:u,onClick:f}=s,h=ry(s,lme),p=zq(c,r,s.id),g=Lq(u),y=qq(f,r,s.id);if(!i||n==null)return null;var x=cm(i);return j.createElement(Fi,{zIndex:Vde(i,Jn.barBackground)},n.map((E,w)=>{var{value:N,background:A,tooltipPosition:R}=E,O=ry(E,cme);if(!A)return null;var C=p(E,w),V=g(E,w),$=y(E,w),D=Tr(Tr(Tr(Tr(Tr({option:i,isActive:String(w)===e},O),{},{fill:"#eee"},A),x),UE(h,E,w)),{},{onMouseEnter:C,onMouseLeave:V,onClick:$,dataKey:r,index:w,className:"recharts-bar-background-rectangle"});return j.createElement(ny,Gs({key:"background-bar-".concat(w)},D))}))}function bme(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var c={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Tr(Tr({},c),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:c,fill:s.fill})});return j.createElement(Cq,{value:e?i:void 0},n)}function xme(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:c}=t,u=ze(Ic),f=ze(oq),h=n&&String(s)===u&&(f==null||c===f),p=h?n:e;return h?j.createElement(Fi,{zIndex:Jn.activeBar},j.createElement(cU,{index:s},j.createElement(ny,Gs({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:c})))):j.createElement(ny,Gs({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:c}))}function _me(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return j.createElement(ny,Gs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function wme(t){var e,{data:n,props:r}=t,i=(e=da(r))!==null&&e!==void 0?e:{},{id:s}=i,c=ry(i,ume),{shape:u,dataKey:f,activeBar:h}=r,{onMouseEnter:p,onClick:g,onMouseLeave:y}=r,x=ry(r,dme),E=zq(p,f,s),w=Lq(y),N=qq(g,f,s);return n?j.createElement(j.Fragment,null,n.map((A,R)=>j.createElement(cU,Gs({index:R,key:"rectangle-".concat(A?.x,"-").concat(A?.y,"-").concat(A?.value,"-").concat(R),className:"recharts-bar-rectangle"},UE(x,A,R),{onMouseEnter:E(A,R),onMouseLeave:w(A,R),onClick:N(A,R)}),h?j.createElement(xme,{shape:u,activeBar:h,baseProps:c,entry:A,index:R,dataKey:f}):j.createElement(_me,{shape:u,baseProps:c,entry:A,index:R,dataKey:f})))):null}function jme(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:c,animationDuration:u,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,y=s0(e,"recharts-bar-"),[x,E]=j.useState(!1),w=!x,N=j.useCallback(()=>{typeof h=="function"&&h(),E(!1)},[h]),A=j.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return j.createElement(bme,{showLabels:w,rects:r},j.createElement(a0,{animationId:y,begin:c,duration:u,isActive:s,easing:f,onAnimationEnd:N,onAnimationStart:A,key:y},R=>{var O=R===1?r:r?.map((C,V)=>{var $=g&&g[V];if($)return Tr(Tr({},C),{},{x:mn($.x,C.x,R),y:mn($.y,C.y,R),width:mn($.width,C.width,R),height:mn($.height,C.height,R)});if(i==="horizontal"){var D=mn(0,C.height,R),I=mn(C.stackedBarStart,C.y,R);return Tr(Tr({},C),{},{y:I,height:D})}var k=mn(0,C.width,R),q=mn(C.stackedBarStart,C.x,R);return Tr(Tr({},C),{},{width:k,x:q})});return R>0&&(n.current=O??null),O==null?null:j.createElement(qi,null,j.createElement(wme,{props:e,data:O}))}),j.createElement(Pq,{label:e.label}),e.children)}function Eme(t){var e=j.useRef(null);return j.createElement(jme,{previousRectanglesRef:e,props:t})}var uU=0,Nme=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Dn(t,e)}};class Sme extends j.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:c,needClip:u,background:f,id:h}=this.props;if(e||n==null)return null;var p=Ut("recharts-bar",i),g=h;return j.createElement(qi,{className:p,id:h},u&&j.createElement("defs",null,j.createElement(Zq,{clipPathId:g,xAxisId:s,yAxisId:c})),j.createElement(qi,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},j.createElement(yme,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),j.createElement(Eme,this.props)))}}var Ame={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:uU,xAxisId:0,yAxisId:0,zIndex:Jn.bar};function Tme(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:c,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=aS(e,n),y=Vc(),x=Er(),E=Cue(t.children,ZN),w=ze(R=>tme(R,t.id,x,E));if(y!=="vertical"&&y!=="horizontal")return null;var N,A=w?.[0];return A==null||A.height==null||A.width==null?N=0:N=y==="vertical"?A.height/2:A.width/2,j.createElement(Jq,{xAxisId:e,yAxisId:n,data:w,dataPointFormatter:Nme,errorBarOffset:N},j.createElement(Sme,Gs({},t,{layout:y,needClip:g,data:w,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:c,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function Cme(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:c,yAxis:u,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:y,cells:x,parentViewBox:E,dataStartIndex:w}=t,N=e==="horizontal"?u:c,A=p?N.scale.domain():null,R=$ee({numericAxis:N}),O=N.scale.map(R);return g.map((C,V)=>{var $,D,I,k,q,L;if(p){var M=p[V+w];if(M==null)return null;$=zee(M,A)}else $=Dn(C,n),Array.isArray($)||($=[R,$]);var U=Lhe(r,uU)($[1],V);if(e==="horizontal"){var X,Q=u.scale.map($[0]),H=u.scale.map($[1]);if(Q==null||H==null)return null;D=vI({axis:c,ticks:f,bandSize:s,offset:i.offset,entry:C,index:V}),I=(X=H??Q)!==null&&X!==void 0?X:void 0,k=i.size;var ce=Q-H;if(q=Ya(ce)?0:ce,L={x:D,y:y.top,width:k,height:y.height},Math.abs(U)>0&&Math.abs(q)<Math.abs(U)){var Y=Yr(q||U)*(Math.abs(U)-Math.abs(q));I-=Y,q+=Y}}else{var _e=c.scale.map($[0]),W=c.scale.map($[1]);if(_e==null||W==null)return null;if(D=_e,I=vI({axis:u,ticks:h,bandSize:s,offset:i.offset,entry:C,index:V}),k=W-_e,q=i.size,L={x:y.left,y:I,width:y.width,height:q},Math.abs(U)>0&&Math.abs(k)<Math.abs(U)){var F=Yr(k||U)*(Math.abs(U)-Math.abs(k));k+=F}}if(D==null||I==null||k==null||q==null)return null;var ne=Tr(Tr({},C),{},{stackedBarStart:O,x:D,y:I,width:k,height:q,value:p?$:$[1],payload:C,background:L,tooltipPosition:{x:D+k/2,y:I+q/2},parentViewBox:E},x&&x[V]&&x[V].props);return ne}).filter(Boolean)}function Ome(t){var e=Dr(t,Ame),n=ame(e.stackId),r=Er();return j.createElement(Bq,{id:e.id,type:"bar"},i=>j.createElement(j.Fragment,null,j.createElement(Vq,{legendPayload:gme(e)}),j.createElement(vme,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),j.createElement(Fq,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),j.createElement(Fi,{zIndex:e.zIndex},j.createElement(Tme,Gs({},e,{id:i})))))}var dU=j.memo(Ome,S0);dU.displayName="Bar";var Pme=["domain","range"],Ime=["domain","range"];function RD(t,e){if(t==null)return{};var n,r,i=Rme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kD(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function fU(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=RD(t,Pme),{domain:s,range:c}=e,u=RD(e,Ime);return!kD(n,s)||!kD(r,c)?!1:S0(i,u)}var kme=["type"],Dme=["dangerouslySetInnerHTML","ticks","scale"],Mme=["id","scale"];function lj(){return lj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lj.apply(null,arguments)}function DD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DD(Object(n),!0).forEach(function(r){zme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zme(t,e,n){return(e=Lme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lme(t){var e=qme(t,"string");return typeof e=="symbol"?e:e+""}function qme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cj(t,e){if(t==null)return{};var n,r,i=Ume(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ume(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vme(t){var e=jn(),n=j.useRef(null),r=L3(),{type:i}=t,s=cj(t,kme),c=p0(r,"xAxis",i),u=j.useMemo(()=>{if(c!=null)return MD(MD({},s),{},{type:c})},[s,c]);return j.useLayoutEffect(()=>{u!=null&&(n.current===null?e(vde(u)):n.current!==u&&e(yde({prev:n.current,next:u})),n.current=u)},[u,e]),j.useLayoutEffect(()=>()=>{n.current&&(e(bde(n.current)),n.current=null)},[e]),null}var Bme=t=>{var{xAxisId:e,className:n}=t,r=ze(YE),i=Er(),s="xAxis",c=ze(A=>U5(A,s,e,i)),u=ze(A=>M5(A,e)),f=ze(A=>Wse(A,e)),h=ze(A=>a5(A,e));if(u==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:y}=t,x=cj(t,Dme),{id:E,scale:w}=h,N=cj(h,Mme);return j.createElement(iS,lj({},x,N,{x:f.x,y:f.y,width:u.width,height:u.height,className:Ut("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:c,axisType:s}))},$me={allowDataOverflow:Qn.allowDataOverflow,allowDecimals:Qn.allowDecimals,allowDuplicatedCategory:Qn.allowDuplicatedCategory,angle:Qn.angle,axisLine:Ds.axisLine,height:Qn.height,hide:!1,includeHidden:Qn.includeHidden,interval:Qn.interval,label:!1,minTickGap:Qn.minTickGap,mirror:Qn.mirror,orientation:Qn.orientation,padding:Qn.padding,reversed:Qn.reversed,scale:Qn.scale,tick:Qn.tick,tickCount:Qn.tickCount,tickLine:Ds.tickLine,tickSize:Ds.tickSize,type:Qn.type,xAxisId:0},Fme=t=>{var e=Dr(t,$me);return j.createElement(j.Fragment,null,j.createElement(Vme,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),j.createElement(Bme,e))},uj=j.memo(Fme,fU);uj.displayName="XAxis";var Hme=["type"],Gme=["dangerouslySetInnerHTML","ticks","scale"],Kme=["id","scale"];function dj(){return dj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dj.apply(null,arguments)}function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){Qme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qme(t,e,n){return(e=Wme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wme(t){var e=Yme(t,"string");return typeof e=="symbol"?e:e+""}function Yme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fj(t,e){if(t==null)return{};var n,r,i=Xme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jme(t){var e=jn(),n=j.useRef(null),r=L3(),{type:i}=t,s=fj(t,Hme),c=p0(r,"yAxis",i),u=j.useMemo(()=>{if(c!=null)return LD(LD({},s),{},{type:c})},[c,s]);return j.useLayoutEffect(()=>{u!=null&&(n.current===null?e(xde(u)):n.current!==u&&e(_de({prev:n.current,next:u})),n.current=u)},[u,e]),j.useLayoutEffect(()=>()=>{n.current&&(e(wde(n.current)),n.current=null)},[e]),null}function Zme(t){var{yAxisId:e,className:n,width:r,label:i}=t,s=j.useRef(null),c=j.useRef(null),u=ze(YE),f=Er(),h=jn(),p="yAxis",g=ze($=>z5($,e)),y=ze($=>Xse($,e)),x=ze($=>U5($,p,e,f)),E=ze($=>s5($,e));if(j.useLayoutEffect(()=>{if(!(r!=="auto"||!g||tS(i)||j.isValidElement(i)||E==null)){var $=s.current;if($){var D=$.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&h(jde({id:e,width:D}))}}},[x,g,h,i,e,r,E]),g==null||y==null||E==null)return null;var{dangerouslySetInnerHTML:w,ticks:N,scale:A}=t,R=fj(t,Gme),{id:O,scale:C}=E,V=fj(E,Kme);return j.createElement(iS,dj({},R,V,{ref:s,labelRef:c,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:Ut("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:x,axisType:p}))}var epe={allowDataOverflow:Wn.allowDataOverflow,allowDecimals:Wn.allowDecimals,allowDuplicatedCategory:Wn.allowDuplicatedCategory,angle:Wn.angle,axisLine:Ds.axisLine,hide:!1,includeHidden:Wn.includeHidden,interval:Wn.interval,label:!1,minTickGap:Wn.minTickGap,mirror:Wn.mirror,orientation:Wn.orientation,padding:Wn.padding,reversed:Wn.reversed,scale:Wn.scale,tick:Wn.tick,tickCount:Wn.tickCount,tickLine:Ds.tickLine,tickSize:Ds.tickSize,type:Wn.type,width:Wn.width,yAxisId:0},tpe=t=>{var e=Dr(t,epe);return j.createElement(j.Fragment,null,j.createElement(Jme,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),j.createElement(Zme,e))},hj=j.memo(tpe,fU);hj.displayName="YAxis";var npe=(t,e)=>e,oS=ue([npe,It,r5,nr,rq,io,fle,Zn],ble),lS=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},hU=Ui("mouseClick"),mU=fm();mU.startListening({actionCreator:hU,effect:(t,e)=>{var n=t.payload,r=oS(e.getState(),lS(n));r?.activeIndex!=null&&e.dispatch(doe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var mj=Ui("mouseMove"),pU=fm(),Eg=null;pU.startListening({actionCreator:mj,effect:(t,e)=>{var n=t.payload;Eg!==null&&cancelAnimationFrame(Eg);var r=lS(n);Eg=requestAnimationFrame(()=>{var i=e.getState(),s=$N(i,i.tooltip.settings.shared);if(s==="axis"){var c=oS(i,r);c?.activeIndex!=null?e.dispatch(Q5({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):e.dispatch(K5())}Eg=null})}});function rpe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var qD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},gU=ei({name:"rootProps",initialState:qD,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:qD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),ipe=gU.reducer,{updateOptions:ape}=gU.actions,spe=null,ope={updatePolarOptions:(t,e)=>e.payload},vU=ei({name:"polarOptions",initialState:spe,reducers:ope}),{updatePolarOptions:Xve}=vU.actions,lpe=vU.reducer,yU=Ui("keyDown"),bU=Ui("focus"),cS=fm();cS.startListening({actionCreator:yU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=FN(i,Md(n),wm(n),Em(n)),u=c==null?-1:Number(c);if(!(!Number.isFinite(u)||u<0)){var f=io(n);if(s==="Enter"){var h=Yv(n,"axis","hover",String(i.index));e.dispatch(ej({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var p=toe(n),g=p==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,x=u+y*g;if(!(f==null||x>=f.length||x<0)){var E=Yv(n,"axis","hover",String(x));e.dispatch(ej({active:!0,activeIndex:x.toString(),activeCoordinate:E}))}}}}}});cS.startListening({actionCreator:bU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",c=Yv(n,"axis","hover",String(s));e.dispatch(ej({active:!0,activeIndex:s,activeCoordinate:c}))}}}});var Mi=Ui("externalEvent"),xU=fm(),I1=new Map;xU.startListening({actionCreator:Mi,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=I1.get(i);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var u=e.getState(),f={activeCoordinate:Yoe(u),activeDataKey:oq(u),activeIndex:Ic(u),activeLabel:sq(u),activeTooltipIndex:Ic(u),isTooltipActive:Xoe(u)};n(f,r)}finally{I1.delete(i)}});I1.set(i,c)}}});var cpe=ue([kd],t=>t.tooltipItemPayloads),upe=ue([cpe,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(s=>s.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),_U=Ui("touchMove"),wU=fm();wU.startListening({actionCreator:_U,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=$N(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var c=oS(r,lS({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));c?.activeIndex!=null&&e.dispatch(Q5({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(i==="item"){var u,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(Yee),g=(u=h.getAttribute(Xee))!==null&&u!==void 0?u:void 0,y=Dd(r).find(w=>w.id===g);if(p==null||y==null||g==null)return;var{dataKey:x}=y,E=upe(r,p,g);e.dispatch(G5({activeDataKey:x,activeIndex:p,activeCoordinate:E,activeGraphicalItemId:g}))}}}});var dpe=e3({brush:$de,cartesianAxis:Ede,chartData:Yle,errorBars:zfe,graphicalItems:nde,layout:Iee,legend:Bte,options:Hle,polarAxis:Eue,polarOptions:lpe,referenceElements:Kde,rootProps:ipe,tooltip:foe,zIndex:Rle}),fpe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return ree({reducer:dpe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([mU.middleware,pU.middleware,cS.middleware,xU.middleware,wU.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(p3({type:"raf"}))},devTools:{serialize:{replacer:rpe},name:"recharts-".concat(n)}})};function hpe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Er(),s=j.useRef(null);if(i)return n;s.current==null&&(s.current=fpe(e,r));var c=$E;return j.createElement(fhe,{context:c,store:s.current},n)}function mpe(t){var{layout:e,margin:n}=t,r=jn(),i=Er();return j.useEffect(()=>{i||(r(Cee(e)),r(Tee(n)))},[r,i,e,n]),null}var ppe=j.memo(mpe,S0);function gpe(t){var e=jn();return j.useEffect(()=>{e(ape(t))},[e,t]),null}function UD(t){var{zIndex:e,isPanorama:n}=t,r=j.useRef(null),i=jn();return j.useLayoutEffect(()=>(r.current&&i(Ple({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Ile({zIndex:e,isPanorama:n}))}),[i,e,n]),j.createElement("g",{tabIndex:-1,ref:r})}function VD(t){var{children:e,isPanorama:n}=t,r=ze(_le);if(!r||r.length===0)return e;var i=r.filter(c=>c<0),s=r.filter(c=>c>0);return j.createElement(j.Fragment,null,i.map(c=>j.createElement(UD,{key:c,zIndex:c,isPanorama:n})),e,s.map(c=>j.createElement(UD,{key:c,zIndex:c,isPanorama:n})))}var vpe=["children"];function ype(t,e){if(t==null)return{};var n,r,i=bpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iy.apply(null,arguments)}var xpe={width:"100%",height:"100%",display:"block"},_pe=j.forwardRef((t,e)=>{var n=M3(),r=z3(),i=K3();if(!Ja(n)||!Ja(r))return null;var{children:s,otherAttributes:c,title:u,desc:f}=t,h,p;return c!=null&&(typeof c.tabIndex=="number"?h=c.tabIndex:h=i?0:void 0,typeof c.role=="string"?p=c.role:p=i?"application":void 0),j.createElement(yL,iy({},c,{title:u,desc:f,role:p,tabIndex:h,width:n,height:r,style:xpe,ref:e}),s)}),wpe=t=>{var{children:e}=t,n=ze(Zy);if(!n)return null;var{width:r,height:i,y:s,x:c}=n;return j.createElement(yL,{width:r,height:i,x:c,y:s},e)},BD=j.forwardRef((t,e)=>{var{children:n}=t,r=ype(t,vpe),i=Er();return i?j.createElement(wpe,null,j.createElement(VD,{isPanorama:!0},n)):j.createElement(_pe,iy({ref:e},r),j.createElement(VD,{isPanorama:!1},n))});function jpe(){var t=jn(),[e,n]=j.useState(null),r=ze(Wee);return j.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;pt(s)&&s!==r&&t(Pee(s))}},[e,t,r]),n}function $D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Epe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$D(Object(n),!0).forEach(function(r){Npe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Npe(t,e,n){return(e=Spe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Spe(t){var e=Ape(t,"string");return typeof e=="symbol"?e:e+""}function Ape(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function al(){return al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},al.apply(null,arguments)}var Tpe=()=>(ace(),null);function ay(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Cpe=j.forwardRef((t,e)=>{var n,r,i=j.useRef(null),[s,c]=j.useState({containerWidth:ay((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:ay((r=t.style)===null||r===void 0?void 0:r.height)}),u=j.useCallback((h,p)=>{c(g=>{var y=Math.round(h),x=Math.round(p);return g.containerWidth===y&&g.containerHeight===x?g:{containerWidth:y,containerHeight:x}})},[]),f=j.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();u(p,g);var y=E=>{var w=E[0];if(w!=null){var{width:N,height:A}=w.contentRect;u(N,A)}},x=new ResizeObserver(y);x.observe(h),i.current=x}},[e,u]);return j.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[u]),j.createElement(j.Fragment,null,j.createElement(mm,{width:s.containerWidth,height:s.containerHeight}),j.createElement("div",al({ref:f},t)))}),Ope=j.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=j.useState({containerWidth:ay(n),containerHeight:ay(r)}),c=j.useCallback((f,h)=>{s(p=>{var g=Math.round(f),y=Math.round(h);return p.containerWidth===g&&p.containerHeight===y?p:{containerWidth:g,containerHeight:y}})},[]),u=j.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();c(h,p)}},[e,c]);return j.createElement(j.Fragment,null,j.createElement(mm,{width:i.containerWidth,height:i.containerHeight}),j.createElement("div",al({ref:u},t)))}),Ppe=j.forwardRef((t,e)=>{var{width:n,height:r}=t;return j.createElement(j.Fragment,null,j.createElement(mm,{width:n,height:r}),j.createElement("div",al({ref:e},t)))}),Ipe=j.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?j.createElement(Ope,al({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?j.createElement(Ppe,al({},t,{width:n,height:r,ref:e})):j.createElement(j.Fragment,null,j.createElement(mm,{width:n,height:r}),j.createElement("div",al({ref:e},t)))});function Rpe(t){return t?Cpe:Ipe}var kpe=j.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:c,onDoubleClick:u,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:y,onTouchEnd:x,onTouchMove:E,onTouchStart:w,style:N,width:A,responsive:R,dispatchTouchEvents:O=!0}=t,C=j.useRef(null),V=jn(),[$,D]=j.useState(null),[I,k]=j.useState(null),q=jpe(),L=XE(),M=L?.width>0?L.width:A,U=L?.height>0?L.height:i,X=j.useCallback(oe=>{q(oe),typeof e=="function"&&e(oe),D(oe),k(oe),oe!=null&&(C.current=oe)},[q,e,D,k]),Q=j.useCallback(oe=>{V(hU(oe)),V(Mi({handler:s,reactEvent:oe}))},[V,s]),H=j.useCallback(oe=>{V(mj(oe)),V(Mi({handler:h,reactEvent:oe}))},[V,h]),ce=j.useCallback(oe=>{V(K5()),V(Mi({handler:p,reactEvent:oe}))},[V,p]),Y=j.useCallback(oe=>{V(mj(oe)),V(Mi({handler:g,reactEvent:oe}))},[V,g]),_e=j.useCallback(()=>{V(bU())},[V]),W=j.useCallback(oe=>{V(yU(oe.key))},[V]),F=j.useCallback(oe=>{V(Mi({handler:c,reactEvent:oe}))},[V,c]),ne=j.useCallback(oe=>{V(Mi({handler:u,reactEvent:oe}))},[V,u]),ge=j.useCallback(oe=>{V(Mi({handler:f,reactEvent:oe}))},[V,f]),je=j.useCallback(oe=>{V(Mi({handler:y,reactEvent:oe}))},[V,y]),Z=j.useCallback(oe=>{V(Mi({handler:w,reactEvent:oe}))},[V,w]),re=j.useCallback(oe=>{O&&V(_U(oe)),V(Mi({handler:E,reactEvent:oe}))},[V,O,E]),pe=j.useCallback(oe=>{V(Mi({handler:x,reactEvent:oe}))},[V,x]),Me=Rpe(R);return j.createElement(mq.Provider,{value:$},j.createElement(zX.Provider,{value:I},j.createElement(Me,{width:M??N?.width,height:U??N?.height,className:Ut("recharts-wrapper",r),style:Epe({position:"relative",cursor:"default",width:M,height:U},N),onClick:Q,onContextMenu:F,onDoubleClick:ne,onFocus:_e,onKeyDown:W,onMouseDown:ge,onMouseEnter:H,onMouseLeave:ce,onMouseMove:Y,onMouseUp:je,onTouchEnd:pe,onTouchMove:re,onTouchStart:Z,ref:X},j.createElement(Tpe,null),n)))}),Dpe=["width","height","responsive","children","className","style","compact","title","desc"];function Mpe(t,e){if(t==null)return{};var n,r,i=zpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Lpe=j.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:c,style:u,compact:f,title:h,desc:p}=t,g=Mpe(t,Dpe),y=da(g);return f?j.createElement(j.Fragment,null,j.createElement(mm,{width:n,height:r}),j.createElement(BD,{otherAttributes:y,title:h,desc:p},s)):j.createElement(kpe,{className:c,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},j.createElement(BD,{otherAttributes:y,title:h,desc:p,ref:e},j.createElement(Wde,null,s)))});function pj(){return pj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pj.apply(null,arguments)}var qpe={top:5,right:5,bottom:5,left:5},Upe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:qpe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},jU=j.forwardRef(function(e,n){var r,i=Dr(e.categoricalChartProps,Upe),{chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return j.createElement(hpe,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},j.createElement(Bde,{chartData:h.data}),j.createElement(ppe,{layout:i.layout,margin:i.margin}),j.createElement(gpe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),j.createElement(Lpe,pj({},i,{ref:n})))}),Vpe=["axis"],Bpe=j.forwardRef((t,e)=>j.createElement(jU,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Vpe,tooltipPayloadSearcher:pq,categoricalChartProps:t,ref:e})),$pe=["axis","item"],Fpe=j.forwardRef((t,e)=>j.createElement(jU,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$pe,tooltipPayloadSearcher:pq,categoricalChartProps:t,ref:e}));const Hpe=8,Gpe=12,Kpe=14,Qpe=1;function uS(t){return t instanceof Ye?t.toDate():t instanceof Date?t:t?.seconds?new Date(t.seconds*1e3):new Date(t)}function FD(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}function A0(){const t=new Date,e=t.getDay(),n=e===0?-6:1-e,r=new Date(t);return r.setDate(t.getDate()+n),r.setHours(0,0,0,0),r}function Wpe(){const t=A0(),e=new Date(t);return e.setDate(t.getDate()+6),e.setHours(23,59,59,999),e}function R1(t,e){return Math.floor(Math.abs(e.getTime()-t.getTime())/864e5)}async function T0(t){try{const e=Nt(rt(Ee,"quiz_results"),it("userId","==",t),jr("datePassage","desc"));return(await St(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Erreur rcupration rsultats lve:",e),[]}}async function Ype(t){try{const e=await T0(t);if(e.length===0)return[];const n=new Map;e.forEach(s=>{const c=s.disciplineId;n.has(c)||n.set(c,[]),n.get(c).push(s)});const r=[];n.forEach((s,c)=>{if(s.length<Qpe)return;const u=s.map(N=>N.pourcentage/100*20),f=u.reduce((N,A)=>N+A,0)/u.length;if(f>=Kpe)return;let h="stable";if(u.length>=3){const N=u.slice(0,2),A=u.slice(2,4),R=N.reduce((V,$)=>V+$,0)/N.length,O=A.reduce((V,$)=>V+$,0)/A.length,C=R-O;C>1.5?h="hausse":C<-1.5&&(h="baisse")}let p="modere";f<Hpe?p="critique":f<Gpe&&(p="important");const g=u[0],y=Math.max(...u),x=Math.min(...u),E=uS(s[0].datePassage),w=s[0].disciplineNom||"Discipline inconnue";r.push({id:`lacune_${c}`,disciplineId:c,disciplineNom:w,moyenne:Math.round(f*10)/10,nombreQuiz:s.length,tendance:h,niveauUrgence:p,dernierQuizDate:E,scoreDetails:{dernierScore:Math.round(g*10)/10,meilleurScore:Math.round(y*10)/10,pireScore:Math.round(x*10)/10}})});const i={critique:0,important:1,modere:2};return r.sort((s,c)=>{const u=i[s.niveauUrgence]-i[c.niveauUrgence];return u!==0?u:s.moyenne-c.moyenne}),r}catch(e){return console.error("Erreur dtection lacunes:",e),[]}}function Xpe(t){const e=[];let n=1;return t.forEach(r=>{const{id:i,disciplineNom:s,niveauUrgence:c,moyenne:u,tendance:f}=r;switch(c){case"critique":e.push({id:`reco_cours_${i}`,lacuneId:i,type:"revoir_cours",titre:` Revoir les cours de ${s}`,description:`Ta moyenne est de ${u}/20 en ${s}. Il est important de reprendre les bases. Consulte les cours disponibles et prends des notes.`,disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date}),e.push({id:`reco_quiz_${i}`,lacuneId:i,type:"refaire_quiz",titre:` Refaire les quiz de ${s}`,description:"Aprs avoir rvis, refais les quiz pour vrifier ta comprhension. Vise au moins 12/20 !",disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date});break;case"important":e.push({id:`reco_exercice_${i}`,lacuneId:i,type:"exercice_cible",titre:` Exercices cibls en ${s}`,description:`Avec ${u}/20 de moyenne, concentre-toi sur les exercices pratiques. ${f==="hausse"?"Tu progresses, continue !":"Un effort supplmentaire est ncessaire."}`,disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date}),e.push({id:`reco_cours2_${i}`,lacuneId:i,type:"revoir_cours",titre:` Rviser les points cls en ${s}`,description:"Identifie les concepts qui te posent problme et revois-les attentivement.",disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date});break;case"modere":e.push({id:`reco_consolider_${i}`,lacuneId:i,type:"refaire_quiz",titre:` Consolider tes acquis en ${s}`,description:`Tu es proche du niveau attendu (${u}/20). Un quiz supplmentaire devrait suffire pour atteindre 14/20 !`,disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date});break}}),e}async function Jpe(t){try{const e=await T0(t);if(e.length===0)return{userId:t,streakActuel:0,meilleurStreak:0,dernierJourActif:null,totalJoursActifs:0,semaineCourante:[!1,!1,!1,!1,!1,!1,!1],historiqueHebdo:[]};const n=new Set;e.forEach(w=>{const N=uS(w.datePassage),A=`${N.getFullYear()}-${N.getMonth()}-${N.getDate()}`;n.add(A)});const r=Array.from(n).map(w=>{const[N,A,R]=w.split("-").map(Number);return new Date(N,A,R)}).sort((w,N)=>N.getTime()-w.getTime()),i=r.length,s=r[0];let c=0;const u=new Date;u.setHours(0,0,0,0);const f=r[0];if(R1(f,u)<=1){c=1;for(let w=1;w<r.length&&R1(r[w],r[w-1])===1;w++)c++}let p=0,g=1;for(let w=1;w<r.length;w++)R1(r[w],r[w-1])===1?g++:(p=Math.max(p,g),g=1);p=Math.max(p,g,c);const y=A0(),x=[];for(let w=0;w<7;w++){const N=new Date(y);N.setDate(y.getDate()+w);const A=r.some(R=>FD(R,N));x.push(A)}const E=[];for(let w=0;w<4;w++){const N=new Date(y);N.setDate(y.getDate()-w*7);let A=0;for(let O=0;O<7;O++){const C=new Date(N);C.setDate(N.getDate()+O),r.some(V=>FD(V,C))&&A++}const R=Math.ceil((N.getDate()+new Date(N.getFullYear(),N.getMonth(),1).getDay())/7);E.push({semaine:w===0?"Cette sem.":`Sem. -${w}`,joursActifs:A})}return{userId:t,streakActuel:c,meilleurStreak:p,dernierJourActif:s,totalJoursActifs:i,semaineCourante:x,historiqueHebdo:E.reverse()}}catch(e){return console.error("Erreur calcul streak:",e),{userId:t,streakActuel:0,meilleurStreak:0,dernierJourActif:null,totalJoursActifs:0,semaineCourante:[!1,!1,!1,!1,!1,!1,!1],historiqueHebdo:[]}}}function Zpe(t,e,n){const r=[],i=A0(),s=Wpe(),c=e.length>2?5:3;if(r.push({id:`obj_quiz_${t}_${i.getTime()}`,userId:t,titre:`Passer ${c} quiz cette semaine`,description:`Entrane-toi en passant au moins ${c} quiz pour progresser dans tes matires.`,type:"quiz_count",cible:c,progression:0,statut:"en_cours",dateDebut:i,dateFin:s,recompense:' Badge "Travailleur"'}),e.length>0){const f=e[0],h=Math.min(f.moyenne+3,14);r.push({id:`obj_score_${t}_${i.getTime()}`,userId:t,titre:`Atteindre ${Math.round(h)}/20 en ${f.disciplineNom}`,description:`Ta moyenne actuelle est de ${f.moyenne}/20. Vise ${Math.round(h)}/20 lors de ton prochain quiz !`,type:"score_min",cible:Math.round(h),progression:Math.round(f.moyenne),statut:"en_cours",disciplineId:f.disciplineId,disciplineNom:f.disciplineNom,dateDebut:i,dateFin:s,recompense:' Badge "En progrs"'})}const u=n.streakActuel>=5?7:n.streakActuel+2;return r.push({id:`obj_streak_${t}_${i.getTime()}`,userId:t,titre:`Maintenir un streak de ${u} jours`,description:`Tu es actuellement  ${n.streakActuel} jour(s) conscutif(s). Continue !`,type:"streak",cible:u,progression:n.streakActuel,statut:n.streakActuel>=u?"atteint":"en_cours",dateDebut:i,dateFin:s,recompense:' Badge "Flamme"'}),r}function ege(t,e,n,r){let i=0;if(r.length>0){const g=r.reduce((y,x)=>y+x.pourcentage/100*20,0)/r.length;i=Math.min(g/20*100,100)}let s=100;const c=t.filter(g=>g.niveauUrgence==="critique").length,u=t.filter(g=>g.niveauUrgence==="important").length;s-=c*25,s-=u*15,s=Math.max(s,0);const f=Math.min(e.streakActuel/7*100,100);let h=0;n.length>0&&(h=n.filter(y=>y.statut==="atteint").length/n.length*100);const p=i*.4+s*.25+f*.2+h*.15;return Math.round(Math.min(Math.max(p,0),100))}function tge(t,e,n){const r=A0(),i=e.filter(s=>uS(s.datePassage)>=r);return t.map(s=>{const c={...s};switch(s.type){case"quiz_count":c.progression=i.length;break;case"score_min":if(s.disciplineId){const u=i.filter(f=>f.disciplineId===s.disciplineId);if(u.length>0){const f=Math.max(...u.map(h=>h.pourcentage));c.progression=Math.round(f/100*20)}}break;case"streak":c.progression=n.streakActuel;break}return c.progression>=c.cible&&(c.statut="atteint"),c})}async function dS(t){try{const e=await Ype(t),n=Xpe(e),r=await Jpe(t);let i=Zpe(t,e,r);const s=await T0(t);i=tge(i,s,r);const c=ege(e,r,i,s);return{lacunes:e,recommandations:n,streak:r,objectifs:i,scoreGlobal:c}}catch(e){return console.error("Erreur suivi complet:",e),{lacunes:[],recommandations:[],streak:{userId:t,streakActuel:0,meilleurStreak:0,dernierJourActif:null,totalJoursActifs:0,semaineCourante:[!1,!1,!1,!1,!1,!1,!1],historiqueHebdo:[]},objectifs:[],scoreGlobal:0}}}function sy(t){switch(t){case"critique":return"#ef4444";case"important":return"#f59e0b";case"modere":return"#eab308";case"info":return"#10b981";default:return"#6b7280"}}function EU(t){switch(t){case"critique":return"Critique";case"important":return"Important";case"modere":return"Modr";case"info":return"Info";default:return"Inconnu"}}function NU(t){switch(t){case"hausse":return"";case"baisse":return"";case"stable":return"";default:return""}}function nge(t){return t>=80?"Excellent travail ! Continue comme a, tu es sur la bonne voie ! ":t>=60?"Bon travail ! Quelques efforts supplmentaires et tu seras au top ! ":t>=40?"Tu peux faire mieux ! Suis les recommandations pour progresser. ":t>=20?"Courage ! Chaque effort compte. Commence par les recommandations prioritaires. ":"C'est le moment de se lancer ! Passe ton premier quiz pour commencer. "}function rge(t){return t.cible===0?0:Math.min(Math.round(t.progression/t.cible*100),100)}const ige="PEDA",age=4,sge=5,oge=40,SU=5;function Ps(t){return t instanceof Ye?t.toDate():t instanceof Date?t:t?.seconds?new Date(t.seconds*1e3):new Date(t)}function AU(t){const e=new Date,n=e.getDay(),r=n===0?-6:1-n,i=new Date(e);return i.setDate(e.getDate()+r),i.setHours(0,0,0,0),i}function lge(t){const e=AU(),n=new Date(e);return n.setDate(e.getDate()+6),n.setHours(23,59,59,999),n}function HD(t){const e=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"];return`${t.getDate()} ${e[t.getMonth()]}`}function TU(t,e){return Math.floor(Math.abs(e.getTime()-t.getTime())/864e5)}async function cge(t){try{const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let n="",r="";for(let c=0;c<age;c++)n+=e.charAt(Math.floor(Math.random()*e.length)),r+=e.charAt(Math.floor(Math.random()*e.length));const i=`${ige}-${n}-${r}`,s=Qe(Ee,"users",t);return await an(s,{codeParent:i,codeParentGenere:new Date}),i}catch(e){throw console.error("Erreur gnration code invitation:",e),new Error("Impossible de gnrer le code d'invitation")}}async function uge(t){try{const e=Qe(Ee,"users",t),n=await Zr(e);if(!n.exists())throw new Error("lve introuvable");const r=n.data();return r.codeParent?r.codeParent:await cge(t)}catch(e){throw console.error("Erreur rcupration code invitation:",e),new Error("Impossible de rcuprer le code d'invitation")}}async function dge(t,e){try{const n=e.trim().toUpperCase(),r=rt(Ee,"users"),i=Nt(r,it("codeParent","==",n),it("role","==","eleve"),hl(1)),s=await St(i);if(s.empty)throw new Error("Code d'invitation invalide. Vrifiez le code et ressayez.");const c=s.docs[0],u=c.data(),f=c.id,h=rt(Ee,"liens_parent_enfant"),p=Nt(h,it("parentId","==",t),it("enfantId","==",f),it("statut","==","actif"),hl(1));if(!(await St(p)).empty)throw new Error("Cet enfant est dj li  votre compte.");const y={parentId:t,enfantId:f,enfantNom:u.displayName||u.email,enfantEmail:u.email,enfantClasse:u.classe||void 0,codeInvitation:n,statut:"actif",dateCreation:new Date};return{id:(await Bi(h,y)).id,...y}}catch(n){throw console.error("Erreur liaison parent-enfant:",n),n}}async function fge(t){try{const e=rt(Ee,"liens_parent_enfant"),n=Nt(e,it("parentId","==",t),it("statut","==","actif"),jr("dateCreation","desc"));return(await St(n)).docs.map(i=>({id:i.id,...i.data(),dateCreation:Ps(i.data().dateCreation),dateDerniereConsultation:i.data().dateDerniereConsultation?Ps(i.data().dateDerniereConsultation):void 0}))}catch(e){return console.error("Erreur rcupration enfants lis:",e),[]}}async function hge(t,e){try{const n=Qe(Ee,"liens_parent_enfant",t),r=await Zr(n);if(!r.exists())throw new Error("Lien introuvable");if(r.data().parentId!==e)throw new Error("Action non autorise");await an(n,{statut:"revoque",dateRevocation:new Date})}catch(n){throw console.error("Erreur rvocation lien:",n),n}}async function mge(t,e){try{const n=rt(Ee,"liens_parent_enfant"),r=Nt(n,it("parentId","==",t),it("enfantId","==",e),it("statut","==","actif"),hl(1)),i=await St(r);if(i.empty)throw new Error("Vous n'tes pas autoris  consulter le suivi de cet enfant.");const s=Qe(Ee,"users",e),c=await Zr(s);if(!c.exists())throw new Error("Profil de l'enfant introuvable.");const u=c.data(),f=await dS(e),h=await T0(e),p=h.slice(0,SU).map(E=>({quizTitre:E.quizTitre||"Quiz",disciplineNom:E.disciplineNom||"Discipline",pourcentage:E.pourcentage,noteSur20:Math.round(E.pourcentage/100*20*10)/10,reussi:E.reussi,datePassage:Ps(E.datePassage)})),g=await pge(t,e,u.displayName||u.email,f.lacunes,f.streak,f.scoreGlobal,h),y=gge(e,u.displayName||u.email,f,h),x=i.docs[0];return await an(Qe(Ee,"liens_parent_enfant",x.id),{dateDerniereConsultation:new Date}),{enfant:{id:e,nom:u.displayName||u.email,email:u.email,classe:u.classe||void 0,derniereConnexion:u.lastLogin?Ps(u.lastLogin):void 0},scoreGlobal:f.scoreGlobal,streak:{actuel:f.streak.streakActuel,meilleur:f.streak.meilleurStreak,semaineCourante:f.streak.semaineCourante},lacunes:f.lacunes.map(E=>({disciplineNom:E.disciplineNom,moyenne:E.moyenne,niveauUrgence:E.niveauUrgence,tendance:E.tendance})),objectifs:f.objectifs.map(E=>({titre:E.titre,progression:E.progression,cible:E.cible,statut:E.statut})),derniersQuiz:p,resume:y,alertes:g}}catch(n){throw console.error("Erreur dashboard parent:",n),n}}async function pge(t,e,n,r,i,s,c){const u=[],f=new Date;if(r.filter(p=>p.niveauUrgence==="critique").forEach(p=>{u.push({id:`alerte_parent_lacune_${p.id}`,parentId:t,enfantId:e,enfantNom:n,type:"lacune_critique",niveau:"critique",titre:` Alerte critique en ${p.disciplineNom}`,message:`${n} a une moyenne de ${p.moyenne}/20 en ${p.disciplineNom}. Un suivi rapproch est recommand.`,lue:!1,dateCreation:f})}),i.dernierJourActif){const p=TU(Ps(i.dernierJourActif),f);p>=sge&&u.push({id:`alerte_parent_inactif_${e}`,parentId:t,enfantId:e,enfantNom:n,type:"inactivite",niveau:"important",titre:` ${n} est inactif`,message:`${n} n'a pas utilis PedaClic depuis ${p} jours. Un petit encouragement pourrait aider !`,lue:!1,dateCreation:f})}else c.length===0&&u.push({id:`alerte_parent_jamais_actif_${e}`,parentId:t,enfantId:e,enfantNom:n,type:"inactivite",niveau:"modere",titre:` ${n} n'a pas encore commenc`,message:`${n} n'a pas encore pass de quiz sur PedaClic. Encouragez-le  commencer !`,lue:!1,dateCreation:f});s<oge&&c.length>0&&u.push({id:`alerte_parent_score_${e}`,parentId:t,enfantId:e,enfantNom:n,type:"score_bas",niveau:"important",titre:` Score global bas : ${s}/100`,message:`Le score de sant global de ${n} est de ${s}/100. Des efforts supplmentaires sont ncessaires dans plusieurs matires.`,lue:!1,dateCreation:f}),r.filter(p=>p.tendance==="hausse").forEach(p=>{u.push({id:`alerte_parent_progression_${p.id}`,parentId:t,enfantId:e,enfantNom:n,type:"progression",niveau:"info",titre:` Progression en ${p.disciplineNom}`,message:`Bonne nouvelle ! ${n} montre une tendance  la hausse en ${p.disciplineNom}.`,lue:!1,dateCreation:f})}),i.streakActuel>=5&&u.push({id:`alerte_parent_streak_${e}`,parentId:t,enfantId:e,enfantNom:n,type:"objectif_atteint",niveau:"info",titre:` Streak de ${i.streakActuel} jours !`,message:`Flicitations ! ${n} maintient un streak de ${i.streakActuel} jours conscutifs de travail.`,lue:!1,dateCreation:f});const h={critique:0,important:1,modere:2,info:3};return u.sort((p,g)=>h[p.niveau]-h[g.niveau]),u}function gge(t,e,n,r){const i=AU(),s=lge(),c=new Date(i);c.setDate(c.getDate()-7);const u=new Date(s);u.setDate(u.getDate()-7);const f=r.filter(C=>{const V=Ps(C.datePassage);return V>=i&&V<=s}),h=r.filter(C=>{const V=Ps(C.datePassage);return V>=c&&V<=u}),p=f.slice(0,SU).map(C=>({quizTitre:C.quizTitre||"Quiz",disciplineNom:C.disciplineNom||"Discipline",pourcentage:C.pourcentage,noteSur20:Math.round(C.pourcentage/100*20*10)/10,reussi:C.reussi,datePassage:Ps(C.datePassage)})),g=vge(f,h),y=new Set;f.forEach(C=>{const V=Ps(C.datePassage);y.add(`${V.getFullYear()}-${V.getMonth()}-${V.getDate()}`)});const x=f.reduce((C,V)=>C+(V.tempsEcoule||5),0);let E=0;if(h.length>0){const C=h.reduce((V,$)=>V+$.pourcentage,0)/h.length;E=Math.round(C)}let w="stable";const N=n.scoreGlobal-E;N>5?w="hausse":N<-5&&(w="baisse");const A=n.lacunes.filter(C=>C.niveauUrgence==="critique"||C.niveauUrgence==="important").map(C=>C.disciplineNom),R=n.objectifs.filter(C=>C.statut==="atteint").length,O=`${HD(i)} - ${HD(s)} ${s.getFullYear()}`;return{enfantId:t,enfantNom:e,semaine:O,dateDebut:i,dateFin:s,scoreGlobal:n.scoreGlobal,scoreGlobalPrecedent:E,evolutionScore:w,nombreQuizSemaine:f.length,tempsEstimeMinutes:Math.round(x),joursActifsSemaine:y.size,streakActuel:n.streak.streakActuel,derniersQuiz:p,evolutionDisciplines:g,lacunesCritiques:n.lacunes.filter(C=>C.niveauUrgence==="critique").length,lacunesImportantes:n.lacunes.filter(C=>C.niveauUrgence==="important").length,disciplinesEnDifficulte:A,objectifsAtteints:R,objectifsTotal:n.objectifs.length}}function vge(t,e){const n=new Map;t.forEach(s=>{n.has(s.disciplineId)||n.set(s.disciplineId,{scores:[],nom:s.disciplineNom||"Discipline"}),n.get(s.disciplineId).scores.push(s.pourcentage)});const r=new Map;e.forEach(s=>{r.has(s.disciplineId)||r.set(s.disciplineId,[]),r.get(s.disciplineId).push(s.pourcentage)});const i=[];return n.forEach((s,c)=>{const u=s.scores.reduce((E,w)=>E+w,0)/s.scores.length,f=r.get(c)||[],h=f.length>0?f.reduce((E,w)=>E+w,0)/f.length:u,p=Math.round(u/100*20*10)/10,g=Math.round(h/100*20*10)/10,y=Math.round((p-g)*10)/10;let x="stable";y>1?x="hausse":y<-1&&(x="baisse"),i.push({disciplineNom:s.nom,disciplineId:c,moyenneSemainePrecedente:g,moyenneSemaineCourante:p,evolution:x,ecart:y})}),i}function yge(t){return sy(t)}function bge(t){return{lacune_critique:"Lacune critique",inactivite:"Inactivit",streak_perdu:"Streak perdu",objectif_atteint:"Objectif atteint",progression:"Progression",score_bas:"Score bas",nouveau_quiz:"Nouveau quiz"}[t]||"Alerte"}function GD(t){switch(t){case"hausse":return"";case"baisse":return"";case"stable":return"";default:return""}}function xge(t){return t>=80?"Votre enfant fait un excellent travail ! Continuez  l'encourager. ":t>=60?"De bons rsultats ! Quelques efforts supplmentaires et ce sera parfait. ":t>=40?"Des progrs sont possibles. Encouragez votre enfant  suivre les recommandations. ":t>=20?"Votre enfant a besoin de soutien. Un suivi rgulier est recommand. ":"Il est temps de commencer ! Encouragez votre enfant  passer ses premiers quiz. "}function k1(t){const n=TU(t,new Date);return n===0?"Aujourd'hui":n===1?"Hier":n<7?`Il y a ${n} jours`:n<30?`Il y a ${Math.floor(n/7)} semaine(s)`:`Il y a ${Math.floor(n/30)} mois`}const _ge="PROF",wge=4,Ng="ABCDEFGHJKLMNPQRSTUVWXYZ23456789",CU=8,jge=7,Ege=16;function kc(t){return t instanceof Ye?t.toDate():t instanceof Date?t:t?.seconds?new Ye(t.seconds,t.nanoseconds||0).toDate():new Date(t)}function Nge(t,e){return Math.floor(Math.abs(e.getTime()-t.getTime())/864e5)}async function OU(){let t=0;const e=10;for(;t<e;){let n="",r="";for(let u=0;u<wge;u++)n+=Ng.charAt(Math.floor(Math.random()*Ng.length)),r+=Ng.charAt(Math.floor(Math.random()*Ng.length));const i=`${_ge}-${n}-${r}`,s=Nt(rt(Ee,"groupes_prof"),it("codeInvitation","==",i),hl(1));if((await St(s)).empty)return i;t++}throw new Error("Impossible de gnrer un code unique aprs plusieurs tentatives")}async function Sge(t,e,n){try{const r=await OU(),i={profId:t,profNom:e,nom:n.nom.trim(),description:n.description?.trim()||"",matiereId:n.matiereId,matiereNom:n.matiereNom,classeNiveau:n.classeNiveau,codeInvitation:r,nombreInscrits:0,statut:"actif",anneeScolaire:n.anneeScolaire,dateCreation:new Date,dateMiseAJour:new Date},s=await Bi(rt(Ee,"groupes_prof"),i);return console.log(` Groupe "${n.nom}" cr avec code: ${r}`),{id:s.id,...i}}catch(r){throw console.error(" Erreur cration groupe:",r),new Error("Impossible de crer le groupe. Ressayez.")}}async function PU(t){try{const e=Nt(rt(Ee,"groupes_prof"),it("profId","==",t),jr("dateCreation","desc"));return(await St(e)).docs.map(r=>({id:r.id,...r.data(),dateCreation:kc(r.data().dateCreation),dateMiseAJour:r.data().dateMiseAJour?kc(r.data().dateMiseAJour):void 0}))}catch(e){throw console.error(" Erreur rcupration groupes:",e),new Error("Impossible de charger vos groupes.")}}async function Age(t){try{const e=await Zr(Qe(Ee,"groupes_prof",t));if(!e.exists())return null;const n=e.data();return{id:e.id,...n,dateCreation:kc(n.dateCreation),dateMiseAJour:n.dateMiseAJour?kc(n.dateMiseAJour):void 0}}catch(e){return console.error(" Erreur rcupration groupe:",e),null}}async function Tge(t,e){try{const n=Qe(Ee,"groupes_prof",t);await an(n,{...e,dateMiseAJour:new Date}),console.log(` Groupe ${t} mis  jour`)}catch(n){throw console.error(" Erreur modification groupe:",n),new Error("Impossible de modifier le groupe.")}}async function Cge(t){try{const e=Oh(Ee),n=Nt(rt(Ee,"inscriptions_groupe"),it("groupeId","==",t));(await St(n)).docs.forEach(i=>e.delete(i.ref)),e.delete(Qe(Ee,"groupes_prof",t)),await e.commit(),console.log(` Groupe ${t} et ses inscriptions supprims`)}catch(e){throw console.error(" Erreur suppression groupe:",e),new Error("Impossible de supprimer le groupe.")}}async function Oge(t){await Tge(t,{statut:"archive"})}async function Pge(t){try{const e=await OU();return await an(Qe(Ee,"groupes_prof",t),{codeInvitation:e,dateMiseAJour:new Date}),console.log(` Nouveau code pour groupe ${t}: ${e}`),e}catch(e){throw console.error(" Erreur rgnration code:",e),new Error("Impossible de rgnrer le code.")}}async function Ige(t,e,n,r){try{const i=r.trim().toUpperCase(),s=Nt(rt(Ee,"groupes_prof"),it("codeInvitation","==",i),hl(1)),c=await St(s);if(c.empty)throw new Error("Code d'invitation invalide. Vrifiez le code et ressayez.");const u=c.docs[0],f=u.data();if(f.statut!=="actif")throw new Error("Ce groupe n'accepte plus de nouvelles inscriptions.");const h=Nt(rt(Ee,"inscriptions_groupe"),it("groupeId","==",u.id),it("eleveId","==",t),it("statut","==","actif"),hl(1));if(!(await St(h)).empty)throw new Error("Tu es dj inscrit(e) dans ce groupe.");const g={groupeId:u.id,eleveId:t,eleveNom:e,eleveEmail:n,statut:"actif",dateInscription:new Date},y=await Bi(rt(Ee,"inscriptions_groupe"),g);return await an(Qe(Ee,"groupes_prof",u.id),{nombreInscrits:O4(1),dateMiseAJour:new Date}),console.log(` lve ${e} inscrit au groupe "${f.nom}"`),{id:y.id,...g}}catch(i){throw console.error(" Erreur inscription groupe:",i),i}}async function C0(t,e="actif"){try{const n=Nt(rt(Ee,"inscriptions_groupe"),it("groupeId","==",t),it("statut","==",e),jr("dateInscription","asc"));return(await St(n)).docs.map(i=>({id:i.id,...i.data(),dateInscription:kc(i.data().dateInscription),dateRetrait:i.data().dateRetrait?kc(i.data().dateRetrait):void 0}))}catch(n){throw console.error(" Erreur rcupration lves groupe:",n),new Error("Impossible de charger les lves du groupe.")}}async function Rge(t){try{const e=Nt(rt(Ee,"inscriptions_groupe"),it("eleveId","==",t),it("statut","==","actif")),n=await St(e);if(n.empty)return[];const r=[];for(const i of n.docs){const s=i.data().groupeId,c=await Age(s);c&&c.statut==="actif"&&r.push(c)}return r}catch(e){return console.error(" Erreur rcupration groupes lve:",e),[]}}async function kge(t,e){try{await an(Qe(Ee,"inscriptions_groupe",t),{statut:"retire",dateRetrait:new Date}),await an(Qe(Ee,"groupes_prof",e),{nombreInscrits:O4(-1),dateMiseAJour:new Date}),console.log(" lve retir du groupe")}catch(n){throw console.error(" Erreur retrait lve:",n),new Error("Impossible de retirer l'lve du groupe.")}}async function fS(t){try{const n=(await C0(t)).map(y=>y.eleveId);if(n.length===0)return{groupeId:t,nombreEleves:0,moyenneClasse:0,tauxReussite:0,tauxParticipation:0,totalQuizPasses:0,elevesEnDifficulte:0,meilleureNote:0,pireNote:0,derniereMiseAJour:new Date};const r=[],i=[];for(let y=0;y<n.length;y+=10)i.push(n.slice(y,y+10));for(const y of i){const x=Nt(rt(Ee,"quiz_results"),it("userId","in",y));(await St(x)).docs.forEach(w=>r.push({id:w.id,...w.data()}))}const s=new Map;for(const y of r){const x=y.userId;s.has(x)||s.set(x,{total:0,somme:0,reussis:0});const E=s.get(x);E.total++,E.somme+=y.score||0,(y.score||0)>=10&&E.reussis++}let c=0,u=0,f=0,h=0,p=20,g=0;for(const[,y]of s){const x=y.total>0?y.somme/y.total:0;c+=x,u++,g+=y.total,x<CU&&f++,x>h&&(h=x),x<p&&(p=x)}return u===0&&(p=0),{groupeId:t,nombreEleves:n.length,moyenneClasse:u>0?Math.round(c/u*10)/10:0,tauxReussite:g>0?Math.round(Array.from(s.values()).reduce((y,x)=>y+x.reussis,0)/g*100):0,tauxParticipation:Math.round(u/n.length*100),totalQuizPasses:g,elevesEnDifficulte:f,meilleureNote:Math.round(h*10)/10,pireNote:Math.round(p*10)/10,derniereMiseAJour:new Date}}catch(e){throw console.error(" Erreur calcul stats groupe:",e),new Error("Impossible de calculer les statistiques du groupe.")}}async function Dge(t){try{const e=await C0(t);if(e.length===0)return[];const n=[];for(const r of e)try{const i=await dS(r.eleveId),s=Nt(rt(Ee,"quiz_results"),it("userId","==",r.eleveId),jr("datePassage","desc")),u=(await St(s)).docs.map(x=>x.data());let f=0,h=0,p;if(u.length>0){const x=u.reduce((E,w)=>E+(w.score||0),0);f=Math.round(x/u.length*10)/10,h=Math.round(u.filter(E=>(E.score||0)>=10).length/u.length*100),p=kc(u[0].datePassage)}let g="stable";if(u.length>=4){const x=u.slice(0,Math.ceil(u.length/2)),E=u.slice(Math.ceil(u.length/2)),w=x.reduce((A,R)=>A+(R.score||0),0)/x.length,N=E.reduce((A,R)=>A+(R.score||0),0)/E.length;w-N>1?g="hausse":N-w>1&&(g="baisse")}const y=i.lacunes.map(x=>({disciplineNom:x.disciplineNom,chapitre:x.chapitre,moyenne:x.moyenne,niveauUrgence:x.niveauUrgence}));n.push({eleveId:r.eleveId,eleveNom:r.eleveNom,eleveEmail:r.eleveEmail,moyenne:f,totalQuiz:u.length,tauxReussite:h,scoreGlobal:i.scoreGlobal,streak:{actuel:i.streak.streakActuel,meilleur:i.streak.meilleurStreak},lacunes:y,dernierQuiz:p,tendance:g})}catch(i){console.warn(` Suivi incomplet pour lve ${r.eleveNom}:`,i),n.push({eleveId:r.eleveId,eleveNom:r.eleveNom,eleveEmail:r.eleveEmail,moyenne:0,totalQuiz:0,tauxReussite:0,scoreGlobal:0,streak:{actuel:0,meilleur:0},lacunes:[],tendance:"stable"})}return n.sort((r,i)=>i.moyenne-r.moyenne),n}catch(e){throw console.error(" Erreur stats lves groupe:",e),new Error("Impossible de charger les statistiques des lves.")}}async function Mge(t,e){try{const r=(await C0(t)).map(y=>y.eleveId);if(r.length===0)return null;const i=await Zr(Qe(Ee,"quizzes",e));if(!i.exists())return null;const s=i.data(),c=[],u=[];for(let y=0;y<r.length;y+=10)u.push(r.slice(y,y+10));for(const y of u){const x=Nt(rt(Ee,"quiz_results"),it("quizId","==",e),it("userId","in",y));(await St(x)).docs.forEach(w=>c.push(w.data()))}if(c.length===0)return null;const f=c.map(y=>y.score||0),h=c.map(y=>y.tempsEcoule||0),p=s.questions||[],g=[];for(let y=0;y<p.length;y++){const x=p[y];let E=0;const w=new Map;for(const R of c){const O=R.reponses?.[y];O!==void 0&&(w.set(O,(w.get(O)||0)+1),O!==x.reponseCorrecte&&E++)}const N=Math.round(E/c.length*100),A=Array.from(w.entries()).filter(([R])=>R!==x.reponseCorrecte).map(([R,O])=>({reponse:x.options?.[R]||`Option ${R+1}`,nombre:O})).sort((R,O)=>O.nombre-R.nombre);g.push({questionIndex:y,questionTexte:x.question,tauxEchec:N,reponseCorrecte:x.options?.[x.reponseCorrecte]||"N/A",reponsesFrequentes:A})}return g.sort((y,x)=>x.tauxEchec-y.tauxEchec),{quizId:e,quizTitre:s.titre||"Quiz sans titre",disciplineNom:s.disciplineNom||"",totalPassages:c.length,moyenneScore:Math.round(f.reduce((y,x)=>y+x,0)/f.length*10)/10,tauxReussite:Math.round(f.filter(y=>y>=10).length/f.length*100),tempsEcouleMoyen:Math.round(h.reduce((y,x)=>y+x,0)/h.length),questionsRatees:g}}catch(n){return console.error(" Erreur analyse quiz groupe:",n),null}}async function zge(t){try{const e=Nt(rt(Ee,"quizzes"),it("disciplineId","==",t),jr("createdAt","desc"));return(await St(e)).docs.map(r=>({id:r.id,titre:r.data().titre||"Quiz sans titre"}))}catch(e){return console.error(" Erreur rcupration quiz par matire:",e),[]}}function Lge(t,e){const n=[],r=new Date;for(const s of t){if(s.totalQuiz>0&&s.moyenne<CU&&n.push({id:`diff-${s.eleveId}`,type:"difficulte",eleveNom:s.eleveNom,eleveId:s.eleveId,groupeNom:e,message:`${s.eleveNom} a une moyenne de ${s.moyenne}/20. Lacunes : ${s.lacunes.map(c=>c.disciplineNom).join(", ")||"non dtectes"}.`,niveauUrgence:s.moyenne<5?"critique":"important",dateCreation:r}),s.dernierQuiz){const c=Nge(s.dernierQuiz,r);c>=jge&&n.push({id:`inact-${s.eleveId}`,type:"inactivite",eleveNom:s.eleveNom,eleveId:s.eleveId,groupeNom:e,message:`${s.eleveNom} n'a pas fait de quiz depuis ${c} jours.`,niveauUrgence:c>=14?"important":"info",dateCreation:r})}else s.totalQuiz===0&&n.push({id:`inact-${s.eleveId}`,type:"inactivite",eleveNom:s.eleveNom,eleveId:s.eleveId,groupeNom:e,message:`${s.eleveNom} n'a encore pass aucun quiz.`,niveauUrgence:"info",dateCreation:r});s.tendance==="baisse"&&s.totalQuiz>=4&&n.push({id:`baisse-${s.eleveId}`,type:"baisse",eleveNom:s.eleveNom,eleveId:s.eleveId,groupeNom:e,message:`${s.eleveNom} est en baisse de rsultats (tendance ngative).`,niveauUrgence:"important",dateCreation:r}),s.moyenne>=Ege&&s.totalQuiz>=3&&n.push({id:`felicite-${s.eleveId}`,type:"felicitation",eleveNom:s.eleveNom,eleveId:s.eleveId,groupeNom:e,message:`${s.eleveNom} excelle avec ${s.moyenne}/20 ! `,niveauUrgence:"info",dateCreation:r})}const i={critique:0,important:1,info:2};return n.sort((s,c)=>i[s.niveauUrgence]-i[c.niveauUrgence]),n}function qge(t,e){const n=["Nom","Email","Moyenne (/20)","Quiz passs","Taux russite (%)","Streak (jours)","Lacunes principales","Tendance"],r=t.map(s=>{const c=s.lacunes.map(u=>`${u.disciplineNom} (${u.moyenne}/20)`).join(" | ")||"Aucune";return[`"${s.eleveNom}"`,`"${s.eleveEmail}"`,s.moyenne.toString(),s.totalQuiz.toString(),s.tauxReussite.toString(),s.streak.actuel.toString(),`"${c}"`,s.tendance].join(",")});return"\uFEFF"+[n.join(","),...r].join(`
`)}function Uge(t,e){const n=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`${e}.csv`,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}const Vge=()=>{const{currentUser:t}=Vn(),[e,n]=j.useState([]),[r,i]=j.useState(!1),[s,c]=j.useState(""),[u,f]=j.useState(!0),[h,p]=j.useState(!1),[g,y]=j.useState(null),[x,E]=j.useState(null),w=j.useCallback(async()=>{if(t?.uid)try{f(!0);const A=await Rge(t.uid);n(A)}catch(A){console.error("Erreur chargement groupes:",A)}finally{f(!1)}},[t?.uid]);j.useEffect(()=>{w()},[w]);const N=async A=>{if(A.preventDefault(),!(!t?.uid||!s.trim()))try{p(!0),y(null),E(null),await Ige(t.uid,t.displayName||t.email||"lve",t.email||"",s),E("Tu as rejoint le groupe avec succs ! "),c(""),i(!1),await w(),setTimeout(()=>E(null),5e3)}catch(R){y(R.message||"Impossible de rejoindre le groupe.")}finally{p(!1)}};return o.jsxs("div",{className:"rejoindre-groupe-section",children:[o.jsxs("div",{className:"rejoindre-groupe-header",children:[o.jsx("h3",{children:" Mes groupes-classes"}),o.jsx("button",{className:"prof-btn prof-btn-primary prof-btn-sm",onClick:()=>i(!r),children:r?" Annuler":" Rejoindre un groupe"})]}),g&&o.jsxs("div",{className:"prof-alert prof-alert-error",children:[" ",g,o.jsx("button",{onClick:()=>y(null),className:"prof-alert-close",children:""})]}),x&&o.jsx("div",{className:"prof-alert",style:{background:"#d1fae5",border:"1px solid #a7f3d0",color:"#065f46"},children:x}),r&&o.jsxs("div",{className:"groupe-form-container",style:{marginBottom:"1rem"},children:[o.jsx("p",{style:{marginBottom:"0.75rem",color:"#6b7280",fontSize:"0.875rem"},children:"Saisis le code donn par ton professeur (format: PROF-XXXX-XXXX)"}),o.jsxs("form",{onSubmit:N,style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[o.jsx("input",{type:"text",placeholder:"PROF-XXXX-XXXX",value:s,onChange:A=>c(A.target.value.toUpperCase()),maxLength:14,disabled:h,className:"prof-input",style:{flex:1,maxWidth:"280px",fontFamily:"monospace",letterSpacing:"2px"}}),o.jsx("button",{type:"submit",className:"prof-btn prof-btn-primary",disabled:h||s.length<14,children:h?" Vrification...":" Rejoindre"})]})]}),u?o.jsx("p",{style:{color:"#9ca3af",textAlign:"center",padding:"1rem"},children:"Chargement..."}):e.length===0?o.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#9ca3af"},children:[o.jsx("p",{children:"Tu n'es inscrit(e) dans aucun groupe-classe."}),o.jsx("p",{style:{fontSize:"0.875rem"},children:"Demande  ton professeur un code d'invitation pour rejoindre son groupe."})]}):o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:e.map(A=>o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem",background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[o.jsxs("div",{children:[o.jsx("strong",{style:{color:"#1f2937"},children:A.nom}),o.jsxs("span",{style:{display:"block",fontSize:"0.75rem",color:"#9ca3af"},children:[A.matiereNom,"  Prof: ",A.profNom]})]}),o.jsx("span",{style:{fontSize:"0.875rem",color:"#10b981",fontWeight:600},children:" Inscrit(e)"})]},A.id))})]})},Bge=t=>t>=80?"#10b981":t>=60?"#3b82f6":t>=40?"#f59e0b":t>0?"#ef4444":"#d1d5db",KD=({pourcentage:t,label:e,size:n="md",showPercent:r=!0,color:i,showCheck:s=!0,className:c=""})=>{const[u,f]=j.useState(0);j.useEffect(()=>{const x=setTimeout(()=>{f(Math.min(100,Math.max(0,t)))},100);return()=>clearTimeout(x)},[t]);const p={sm:"4px",md:"8px",lg:"12px"}[n],g=i||Bge(t),y=t>=100;return o.jsxs("div",{className:`progress-bar-wrapper ${c}`,children:[(e||r)&&o.jsxs("div",{className:"progress-bar-header",children:[e&&o.jsx("span",{className:"progress-bar-label",children:e}),r&&o.jsxs("span",{className:"progress-bar-percent",style:{color:g},children:[y&&s?" ":"",t,"%"]})]}),o.jsx("div",{className:"progress-bar-track",style:{height:p},children:o.jsx("div",{className:"progress-bar-fill",style:{width:`${u}%`,backgroundColor:g,height:"100%"}})})]})},$ge=()=>{const t=kr(),{currentUser:e}=Vn(),[n,r]=j.useState(null),[i,s]=j.useState([]),[c,u]=j.useState([]),[f,h]=j.useState([]),[p,g]=j.useState([]),[y,x]=j.useState(null),[E,w]=j.useState([]),[N,A]=j.useState("all"),[R,O]=j.useState(!0),[C,V]=j.useState("overview"),[$,D]=j.useState(null),[I,k]=j.useState(!1),[q,L]=j.useState(!1),M=async()=>{if(e){k(!0);try{const Y=await uge(e.uid);D(Y)}catch(Y){console.error("Erreur gnration code parent :",Y)}finally{k(!1)}}},U=()=>{$&&(navigator.clipboard.writeText($),L(!0),setTimeout(()=>L(!1),2e3))};if(j.useEffect(()=>{(async()=>{if(e){O(!0);try{await EX(e.uid);const[_e,W,F,ne,ge,je]=await Promise.all([mX(e.uid),pX(e.uid),gX(e.uid,20),Dy(e.uid,10),cL().catch(()=>[]),_X(e.uid)]);r(_e),s(W),u(F),h(ne),g(ge),x(je);const Z=NX(_e,W,je);w(Z)}catch(_e){console.error("Erreur chargement dashboard :",_e)}finally{O(!1)}}})()},[e]),R)return o.jsxs("div",{className:"sd-loading",children:[o.jsx("div",{className:"admin-spinner"}),o.jsx("p",{children:"Chargement de votre tableau de bord..."})]});const X=E.filter(Y=>Y.obtenu),Q=E.length,H=e?.displayName||e?.email?.split("@")[0]||"lve",ce=N==="all"?E:E.filter(Y=>Y.categorie===N);return o.jsxs("div",{className:"student-dashboard",children:[o.jsxs("div",{className:"sd-welcome",children:[o.jsxs("div",{className:"sd-welcome-text",children:[o.jsxs("h1",{children:["Bienvenue, ",H," "]}),o.jsx("p",{children:n&&n.totalQuizPasses>0?`Vous avez pass ${n.totalQuizPasses} quiz avec une moyenne de ${n.moyenneGenerale}%. Continuez !`:"Commencez par consulter une ressource ou passer un quiz !"})]}),o.jsxs("div",{className:"sd-welcome-badges-row",children:[e?.isPremium&&o.jsxs("span",{className:"sd-premium-badge",children:[o.jsx(pi,{size:14})," Premium"]}),y&&y.streakActuel>0&&o.jsxs("span",{className:"sd-streak-badge",children:[" ",y.streakActuel," jour",y.streakActuel>1?"s":""]})]})]}),o.jsxs("div",{className:"sd-stats-grid",children:[o.jsxs("div",{className:"sd-stat-card",children:[o.jsx("div",{className:"sd-stat-icon",style:{background:"#eff6ff",color:"#3b82f6"},children:o.jsx(oa,{size:22})}),o.jsxs("div",{className:"sd-stat-content",children:[o.jsx("span",{className:"sd-stat-value",children:n?.totalQuizPasses||0}),o.jsx("span",{className:"sd-stat-label",children:"Quiz passs"})]})]}),o.jsxs("div",{className:"sd-stat-card",children:[o.jsx("div",{className:"sd-stat-icon",style:{background:"#f0fdf4",color:"#10b981"},children:o.jsx(Qx,{size:22})}),o.jsxs("div",{className:"sd-stat-content",children:[o.jsxs("span",{className:"sd-stat-value",style:{color:Bu(n?.moyenneGenerale||0)},children:[n?.moyenneGenerale||0,"%"]}),o.jsx("span",{className:"sd-stat-label",children:"Moyenne gnrale"})]})]}),o.jsxs("div",{className:"sd-stat-card",children:[o.jsx("div",{className:"sd-stat-icon",style:{background:"#fef3c7",color:"#d97706"},children:o.jsx(Ju,{size:22})}),o.jsxs("div",{className:"sd-stat-content",children:[o.jsx("span",{className:"sd-stat-value",children:y?.totalRessourcesVues||0}),o.jsx("span",{className:"sd-stat-label",children:"Ressources vues"})]})]}),o.jsxs("div",{className:"sd-stat-card",children:[o.jsx("div",{className:"sd-stat-icon",style:{background:"#fef2f2",color:"#ef4444"},children:o.jsx(nL,{size:22})}),o.jsxs("div",{className:"sd-stat-content",children:[o.jsxs("span",{className:"sd-stat-value",children:[y?.streakActuel||0," "]}),o.jsx("span",{className:"sd-stat-label",children:"Jours conscutifs"})]})]}),o.jsxs("div",{className:"sd-stat-card",children:[o.jsx("div",{className:"sd-stat-icon",style:{background:"#fefce8",color:"#f59e0b"},children:o.jsx(tL,{size:22})}),o.jsxs("div",{className:"sd-stat-content",children:[o.jsxs("span",{className:"sd-stat-value",children:[n?.meilleurScore||0,"%"]}),o.jsx("span",{className:"sd-stat-label",children:"Meilleur score"})]})]}),o.jsxs("div",{className:"sd-stat-card",children:[o.jsx("div",{className:"sd-stat-icon",style:{background:"#f0f9ff",color:"#0ea5e9"},children:o.jsx(ml,{size:22})}),o.jsxs("div",{className:"sd-stat-content",children:[o.jsxs("span",{className:"sd-stat-value",children:[y?.disciplinesCompletees||0,"/",y?.disciplinesCommencees||0]}),o.jsx("span",{className:"sd-stat-label",children:"Disciplines compltes"})]})]})]}),o.jsxs("div",{className:"sd-chart-card",style:{marginBottom:"1.5rem"},children:[o.jsx("h3",{className:"sd-section-title",children:" Code Parent"}),o.jsx("p",{style:{color:"#6b7280",fontSize:"0.9rem",marginBottom:"1rem"},children:"Partagez ce code avec vos parents pour qu'ils puissent suivre votre progression."}),$?o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[o.jsx("span",{style:{fontFamily:"monospace",fontSize:"1.4rem",fontWeight:700,letterSpacing:"0.1em",background:"#eff6ff",color:"#2563eb",padding:"0.75rem 1.5rem",borderRadius:"12px",border:"2px dashed #93c5fd",userSelect:"all"},children:$}),o.jsx("button",{className:"sd-btn",onClick:U,style:{display:"inline-flex",alignItems:"center",gap:"0.4rem",background:q?"#10b981":"#f3f4f6",color:q?"#fff":"#374151",border:"none",padding:"0.6rem 1rem",borderRadius:"8px",cursor:"pointer",fontWeight:500,transition:"all 0.2s"},children:q?" Copi !":" Copier"})]}):o.jsx("button",{className:"sd-btn sd-btn-primary",onClick:M,disabled:I,style:{display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:I?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"admin-spinner",style:{width:"16px",height:"16px"}})," Gnration..."]}):o.jsx(o.Fragment,{children:" Gnrer mon code"})})]}),o.jsx("div",{className:"sd-chart-card",style:{marginBottom:"1.5rem"},children:o.jsx(Vge,{})}),o.jsxs("div",{className:"sd-tabs",children:[o.jsxs("button",{className:`sd-tab ${C==="overview"?"active":""}`,onClick:()=>V("overview"),children:[o.jsx(hc,{size:16})," Vue d'ensemble"]}),o.jsxs("button",{className:`sd-tab ${C==="progression"?"active":""}`,onClick:()=>V("progression"),children:[o.jsx(ih,{size:16})," Progression"]}),o.jsxs("button",{className:`sd-tab ${C==="history"?"active":""}`,onClick:()=>V("history"),children:[o.jsx(Kx,{size:16})," Historique"]}),o.jsxs("button",{className:`sd-tab ${C==="badges"?"active":""}`,onClick:()=>V("badges"),children:[o.jsx(ml,{size:16})," Badges (",X.length,"/",Q,")"]})]}),C==="overview"&&o.jsxs("div",{className:"sd-overview",children:[c.length>1&&o.jsxs("div",{className:"sd-chart-card",children:[o.jsxs("h3",{className:"sd-section-title",children:[o.jsx(ih,{size:18})," volution de vos scores"]}),o.jsx("div",{className:"sd-chart-container",children:o.jsx(TI,{width:"100%",height:280,children:o.jsxs(Bpe,{data:c,children:[o.jsx(aj,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),o.jsx(uj,{dataKey:"date",tick:{fontSize:12,fill:"#6b7280"},tickLine:!1}),o.jsx(hj,{domain:[0,100],tick:{fontSize:12,fill:"#6b7280"},tickLine:!1,unit:"%"}),o.jsx(Dk,{formatter:Y=>[`${Y}%`,"Score"],labelFormatter:Y=>`Date : ${Y}`,contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb",boxShadow:"0 4px 6px rgba(0,0,0,0.07)"}}),o.jsx(sU,{type:"monotone",dataKey:"score",stroke:"#3b82f6",strokeWidth:2.5,dot:{r:4,fill:"#3b82f6",stroke:"#fff",strokeWidth:2},activeDot:{r:6}})]})})})]}),i.length>0&&o.jsxs("div",{className:"sd-chart-card",children:[o.jsxs("h3",{className:"sd-section-title",children:[o.jsx(hc,{size:18})," Moyennes par discipline"]}),o.jsx("div",{className:"sd-chart-container",children:o.jsx(TI,{width:"100%",height:280,children:o.jsxs(Fpe,{data:i,layout:"vertical",children:[o.jsx(aj,{strokeDasharray:"3 3",stroke:"#e5e7eb",horizontal:!1}),o.jsx(uj,{type:"number",domain:[0,100],tick:{fontSize:12,fill:"#6b7280"},unit:"%"}),o.jsx(hj,{type:"category",dataKey:"disciplineNom",width:120,tick:{fontSize:12,fill:"#374151"}}),o.jsx(Dk,{formatter:Y=>[`${Y}%`,"Moyenne"],contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb",boxShadow:"0 4px 6px rgba(0,0,0,0.07)"}}),o.jsx(dU,{dataKey:"moyenne",radius:[0,6,6,0],barSize:24,children:i.map((Y,_e)=>o.jsx(ZN,{fill:Bu(Y.moyenne)},_e))})]})})})]}),p.length>0&&o.jsxs("div",{className:"sd-chart-card",children:[o.jsxs("h3",{className:"sd-section-title",children:[o.jsx(ph,{size:18})," Quiz disponibles"]}),o.jsx("div",{className:"sd-quiz-grid",children:p.slice(0,6).map(Y=>{const _e=Y.isPremium&&!e?.isPremium;return o.jsxs("div",{className:`sd-quiz-card ${_e?"locked":""}`,onClick:()=>!_e&&t(`/quiz/${Y.id}`),children:[Y.isPremium&&o.jsxs("span",{className:"sd-quiz-badge-premium",children:[_e?o.jsx(hw,{size:10}):o.jsx(pi,{size:10})," Premium"]}),o.jsx("h4",{className:"sd-quiz-title",children:Y.titre}),o.jsxs("div",{className:"sd-quiz-meta",children:[o.jsxs("span",{children:[o.jsx(oa,{size:12})," ",Y.questions.length," questions"]}),o.jsxs("span",{children:[o.jsx(ld,{size:12})," ",Y.duree," min"]})]}),!_e&&o.jsxs("button",{className:"sd-quiz-play-btn",children:[o.jsx(ph,{size:14})," Commencer"]}),_e&&o.jsxs("button",{className:"sd-quiz-unlock-btn",onClick:W=>{W.stopPropagation(),t("/premium")},children:[o.jsx(hw,{size:14})," Dbloquer"]})]},Y.id)})})]}),n&&n.totalQuizPasses===0&&(!y||y.totalRessourcesVues===0)&&o.jsxs("div",{className:"sd-empty-state",children:[o.jsx(Qx,{size:48}),o.jsx("h3",{children:"Commencez votre parcours !"}),o.jsx("p",{children:"Consultez une ressource ou passez un quiz pour voir votre progression."}),p.length>0&&o.jsxs("button",{className:"sd-btn sd-btn-primary",onClick:()=>t(`/quiz/${p[0].id}`),children:[o.jsx(ph,{size:18})," Passer un quiz"]})]})]}),C==="progression"&&o.jsxs("div",{className:"sd-progression",children:[o.jsxs("div",{className:"sd-chart-card sd-prog-summary",children:[o.jsxs("h3",{className:"sd-section-title",children:[o.jsx(ih,{size:18})," Avancement global"]}),o.jsx(KD,{pourcentage:y?.pourcentageMoyen||0,label:"Progression moyenne",size:"lg",showCheck:!0}),o.jsxs("div",{className:"sd-prog-stats-row",children:[o.jsxs("div",{className:"sd-prog-stat-item",children:[o.jsx("span",{className:"sd-prog-stat-number",children:y?.totalRessourcesVues||0}),o.jsx("span",{className:"sd-prog-stat-text",children:"Ressources consultes"})]}),o.jsxs("div",{className:"sd-prog-stat-item",children:[o.jsx("span",{className:"sd-prog-stat-number",children:y?.totalQuizReussis||0}),o.jsx("span",{className:"sd-prog-stat-text",children:"Quiz russis"})]}),o.jsxs("div",{className:"sd-prog-stat-item",children:[o.jsx("span",{className:"sd-prog-stat-number",children:y?.disciplinesCommencees||0}),o.jsx("span",{className:"sd-prog-stat-text",children:"Disciplines"})]}),o.jsxs("div",{className:"sd-prog-stat-item",children:[o.jsxs("span",{className:"sd-prog-stat-number",children:[" ",y?.streakActuel||0]}),o.jsxs("span",{className:"sd-prog-stat-text",children:["Streak (max: ",y?.meilleurStreak||0,")"]})]})]})]}),y&&y.parDiscipline.length>0?o.jsxs("div",{className:"sd-chart-card",children:[o.jsxs("h3",{className:"sd-section-title",children:[o.jsx(hc,{size:18})," Par discipline"]}),o.jsx("div",{className:"sd-prog-disciplines",children:y.parDiscipline.map(Y=>o.jsxs("div",{className:"sd-prog-disc-card",children:[o.jsxs("div",{className:"sd-prog-disc-header",children:[o.jsx("span",{className:"sd-prog-disc-name",children:Y.disciplineNom}),Y.pourcentage>=100&&o.jsx("span",{className:"sd-prog-complete-tag",children:" Complt"})]}),o.jsx(KD,{pourcentage:Y.pourcentage,size:"md",showPercent:!0}),o.jsxs("div",{className:"sd-prog-disc-details",children:[o.jsxs("span",{children:[o.jsx(Ju,{size:12})," ",Y.ressourcesVues.length,"/",Y.totalRessources," ressources"]}),o.jsxs("span",{children:[o.jsx(fn,{size:12})," ",Y.quizReussis.length,"/",Y.totalQuiz," quiz russis"]})]})]},Y.disciplineId))})]}):o.jsxs("div",{className:"sd-empty-state",children:[o.jsx(Ju,{size:48}),o.jsx("h3",{children:"Aucune progression enregistre"}),o.jsx("p",{children:"Consultez des ressources ou passez des quiz pour voir votre avancement ici."})]}),i.length>0&&o.jsxs("div",{className:"sd-chart-card",children:[o.jsxs("h3",{className:"sd-section-title",children:[o.jsx(Qx,{size:18})," Performance quiz par discipline"]}),o.jsx("div",{className:"sd-disc-list",children:i.map(Y=>o.jsxs("div",{className:"sd-disc-card",children:[o.jsxs("div",{className:"sd-disc-header",children:[o.jsx("span",{className:"sd-disc-name",children:Y.disciplineNom}),o.jsxs("span",{className:"sd-disc-tendance",children:[Y.tendance==="up"&&o.jsx(ih,{size:16,className:"tendance-up"}),Y.tendance==="down"&&o.jsx(xY,{size:16,className:"tendance-down"}),Y.tendance==="stable"&&o.jsx(XW,{size:16,className:"tendance-stable"})]})]}),o.jsxs("div",{className:"sd-disc-stats",children:[o.jsxs("div",{className:"sd-disc-stat",children:[o.jsxs("span",{className:"sd-disc-stat-value",style:{color:Bu(Y.moyenne)},children:[Y.moyenne,"%"]}),o.jsx("span",{className:"sd-disc-stat-label",children:"Moyenne"})]}),o.jsxs("div",{className:"sd-disc-stat",children:[o.jsx("span",{className:"sd-disc-stat-value",children:Y.nombreQuiz}),o.jsx("span",{className:"sd-disc-stat-label",children:"Quiz"})]}),o.jsxs("div",{className:"sd-disc-stat",children:[o.jsxs("span",{className:"sd-disc-stat-value",children:[Y.meilleurScore,"%"]}),o.jsx("span",{className:"sd-disc-stat-label",children:"Meilleur"})]}),o.jsxs("div",{className:"sd-disc-stat",children:[o.jsxs("span",{className:"sd-disc-stat-value",children:[Y.quizReussis,"/",Y.nombreQuiz]}),o.jsx("span",{className:"sd-disc-stat-label",children:"Russis"})]})]}),o.jsx("div",{className:"sd-disc-bar",children:o.jsx("div",{className:"sd-disc-bar-fill",style:{width:`${Y.moyenne}%`,background:Bu(Y.moyenne)}})})]},Y.disciplineId))})]})]}),C==="history"&&o.jsx("div",{className:"sd-history",children:f.length===0?o.jsxs("div",{className:"sd-empty-state",children:[o.jsx(Kx,{size:48}),o.jsx("h3",{children:"Aucun quiz pass"}),o.jsx("p",{children:"Votre historique apparatra ici aprs avoir pass des quiz."})]}):o.jsx("div",{className:"sd-history-list",children:f.map(Y=>{const _e=Y.datePassage?.toDate?Y.datePassage.toDate():new Date(Y.datePassage);return o.jsxs("div",{className:`sd-history-item ${Y.reussi?"success":"fail"}`,children:[o.jsx("div",{className:`sd-history-icon ${Y.reussi?"success":"fail"}`,children:Y.reussi?o.jsx(fn,{size:20}):o.jsx(dw,{size:20})}),o.jsxs("div",{className:"sd-history-content",children:[o.jsxs("div",{className:"sd-history-top",children:[o.jsx("span",{className:"sd-history-title",children:Y.quizTitre}),o.jsx("span",{className:"sd-history-discipline",children:Y.disciplineNom})]}),o.jsxs("div",{className:"sd-history-meta",children:[o.jsxs("span",{children:[o.jsx(Kx,{size:12}),_e.toLocaleDateString("fr-SN",{day:"2-digit",month:"long",year:"numeric"})]}),o.jsxs("span",{children:[o.jsx(ld,{size:12})," ",hL(Y.tempsEcoule)]}),o.jsxs("span",{children:[o.jsx(fn,{size:12})," ",Y.bonnesReponses,"/",Y.nombreQuestions]})]})]}),o.jsxs("div",{className:"sd-history-score",style:{color:Bu(Y.pourcentage)},children:[o.jsxs("span",{className:"sd-history-score-value",children:[Y.pourcentage,"%"]}),o.jsx("span",{className:"sd-history-score-label",children:mL(Y.pourcentage)})]})]},Y.id)})})}),C==="badges"&&o.jsxs("div",{className:"sd-badges",children:[o.jsxs("div",{className:"sd-badges-summary",children:[o.jsxs("div",{className:"sd-badges-circle",children:[o.jsx("span",{className:"sd-badges-count",children:X.length}),o.jsxs("span",{className:"sd-badges-total",children:["/ ",Q]})]}),o.jsx("p",{children:"badges obtenus"}),o.jsx("div",{className:"sd-badges-progress",children:o.jsx("div",{className:"sd-badges-progress-fill",style:{width:`${X.length/Q*100}%`}})})]}),o.jsx("div",{className:"sd-badges-filters",children:[{key:"all",label:"Tous"},{key:"ressources",label:" Ressources"},{key:"quiz",label:" Quiz"},{key:"performance",label:" Performance"},{key:"discipline",label:" Disciplines"},{key:"streak",label:" Streak"}].map(Y=>o.jsx("button",{className:`sd-badge-filter-btn ${N===Y.key?"active":""}`,onClick:()=>A(Y.key),children:Y.label},Y.key))}),o.jsx("div",{className:"sd-badges-grid",children:ce.map(Y=>o.jsxs("div",{className:`sd-badge-card ${Y.obtenu?"obtained":"locked"}`,children:[o.jsx("span",{className:"sd-badge-icon",children:Y.icone}),o.jsx("h4",{className:"sd-badge-name",children:Y.nom}),o.jsx("p",{className:"sd-badge-description",children:Y.description}),o.jsx("span",{className:"sd-badge-condition",children:Y.condition}),Y.obtenu&&o.jsx("span",{className:"sd-badge-obtained-tag",children:" Obtenu"}),o.jsx("span",{className:"sd-badge-category",children:Y.categorie})]},Y.id))}),ce.length===0&&o.jsxs("div",{className:"sd-empty-state",style:{marginTop:"1rem"},children:[o.jsx(CE,{size:36}),o.jsx("h3",{children:"Aucun badge dans cette catgorie"}),o.jsx("p",{children:"Essayez un autre filtre."})]})]})]})},Fge=()=>{const{currentUser:t}=Vn(),e=kr(),[n,r]=j.useState(null),[i,s]=j.useState(!0),[c,u]=j.useState(null),f=["L","M","M","J","V","S","D"],h=j.useCallback(async()=>{if(t?.uid)try{s(!0),u(null);const O=await dS(t.uid);r(O)}catch(O){console.error("Erreur chargement suivi:",O),u("Impossible de charger ton suivi. Vrifie ta connexion et ressaie.")}finally{s(!1)}},[t?.uid]);j.useEffect(()=>{h()},[h]);const p=(()=>{const O=new Date().getDay();return O===0?6:O-1})();if(i)return o.jsx("div",{className:"suivi-page",children:o.jsx("div",{className:"suivi-container",children:o.jsxs("div",{className:"suivi-loading",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{className:"suivi-loading-text",children:"Analyse de ta progression en cours..."})]})})});if(c)return o.jsx("div",{className:"suivi-page",children:o.jsx("div",{className:"suivi-container",children:o.jsxs("div",{className:"suivi-error",children:[o.jsx("p",{className:"suivi-error-title",children:" Erreur de chargement"}),o.jsx("p",{className:"suivi-error-text",children:c}),o.jsx("button",{className:"suivi-btn-retry",onClick:h,children:" Ressayer"})]})})});if(!n)return null;const{lacunes:g,recommandations:y,streak:x,objectifs:E,scoreGlobal:w}=n,N=2*Math.PI*40,A=N-w/100*N,R=w>=60?"#10b981":w>=30?"#f59e0b":"#ef4444";return o.jsx("div",{className:"suivi-page",children:o.jsxs("div",{className:"suivi-container",children:[o.jsx("div",{className:"suivi-header",children:o.jsxs("div",{className:"suivi-header-content",children:[o.jsxs("div",{children:[o.jsx("h1",{children:" Mes points  amliorer"}),o.jsx("p",{className:"suivi-motivation",children:nge(w)})]}),o.jsxs("div",{className:"score-global-circle",children:[o.jsxs("svg",{className:"score-circle-svg",viewBox:"0 0 100 100",children:[o.jsx("circle",{className:"score-circle-bg",cx:"50",cy:"50",r:"40"}),o.jsx("circle",{className:"score-circle-progress",cx:"50",cy:"50",r:"40",stroke:R,strokeDasharray:N,strokeDashoffset:A}),o.jsx("text",{className:"score-circle-text",x:"50",y:"50",children:w})]}),o.jsx("span",{className:"score-global-label",children:"Score global"})]})]})}),o.jsxs("div",{className:"streak-card",children:[o.jsxs("div",{className:"streak-header",children:[o.jsx("span",{className:"streak-flamme",children:x.streakActuel>0?"":""}),o.jsxs("div",{children:[o.jsx("div",{className:"streak-nombre",children:x.streakActuel}),o.jsx("div",{className:"streak-label",children:x.streakActuel<=1?"jour conscutif":"jours conscutifs"})]})]}),o.jsx("div",{className:"streak-semaine",children:f.map((O,C)=>o.jsxs("div",{className:"streak-jour",children:[o.jsx("span",{className:"streak-jour-label",children:O}),o.jsx("div",{className:`streak-jour-indicateur ${x.semaineCourante[C]?"actif":"inactif"} ${C===p?"aujourd-hui":""}`,children:x.semaineCourante[C]?"":""})]},C))}),o.jsxs("div",{className:"streak-stats",children:[o.jsxs("div",{className:"streak-stat",children:[o.jsx("span",{className:"streak-stat-icon",children:""}),o.jsx("span",{className:"streak-stat-value",children:x.meilleurStreak}),o.jsx("span",{className:"streak-stat-label",children:"record"})]}),o.jsxs("div",{className:"streak-stat",children:[o.jsx("span",{className:"streak-stat-icon",children:""}),o.jsx("span",{className:"streak-stat-value",children:x.totalJoursActifs}),o.jsx("span",{className:"streak-stat-label",children:"jours actifs au total"})]}),x.dernierJourActif&&o.jsxs("div",{className:"streak-stat",children:[o.jsx("span",{className:"streak-stat-icon",children:""}),o.jsxs("span",{className:"streak-stat-label",children:["Dernier quiz : ",new Date(x.dernierJourActif).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})]})]})]})]}),o.jsxs("h2",{className:"suivi-section-title",children:[" Objectifs de la semaine",o.jsx("span",{className:"suivi-section-badge",children:E.length})]}),E.length>0?o.jsx("div",{className:"objectifs-grid",children:E.map(O=>{const C=rge(O);return o.jsxs("div",{className:`objectif-card ${O.statut==="atteint"?"atteint":""}`,children:[o.jsxs("div",{className:"objectif-header",children:[o.jsx("span",{className:"objectif-titre",children:O.titre}),O.recompense&&o.jsx("span",{className:"objectif-recompense",children:O.recompense})]}),o.jsx("p",{className:"objectif-description",children:O.description}),o.jsxs("div",{className:"objectif-progress",children:[o.jsxs("div",{className:"objectif-progress-labels",children:[o.jsxs("span",{className:"objectif-progress-value",children:[O.progression," / ",O.cible]}),o.jsxs("span",{className:"objectif-progress-cible",children:[C,"%"]})]}),o.jsx("div",{className:"objectif-progress-track",children:o.jsx("div",{className:`objectif-progress-fill ${O.statut==="atteint"?"atteint":""}`,style:{width:`${C}%`}})})]}),o.jsx("p",{className:`objectif-statut ${O.statut}`,children:O.statut==="atteint"?" Objectif atteint !":O.statut==="en_cours"?" En cours...":" Non commenc"})]},O.id)})}):o.jsxs("div",{className:"suivi-empty",children:[o.jsx("div",{className:"suivi-empty-icon",children:""}),o.jsx("p",{className:"suivi-empty-title",children:"Pas encore d'objectifs"}),o.jsx("p",{className:"suivi-empty-text",children:"Passe ton premier quiz pour dbloquer tes objectifs hebdomadaires !"})]}),o.jsxs("h2",{className:"suivi-section-title",children:[" Points faibles dtects",g.length>0&&o.jsx("span",{className:"suivi-section-badge",children:g.length})]}),g.length>0?o.jsx("div",{className:"lacunes-grid",children:g.map(O=>o.jsxs("div",{className:`lacune-card ${O.niveauUrgence}`,children:[o.jsxs("div",{className:"lacune-card-header",children:[o.jsx("span",{className:"lacune-discipline",children:O.disciplineNom}),o.jsx("span",{className:`lacune-badge ${O.niveauUrgence}`,children:EU(O.niveauUrgence)})]}),o.jsxs("div",{className:"lacune-score-bar",children:[o.jsxs("div",{className:"lacune-score-labels",children:[o.jsxs("span",{className:"lacune-score-value",style:{color:sy(O.niveauUrgence)},children:[O.moyenne,"/20"]}),o.jsx("span",{className:"lacune-score-objectif",children:"Objectif : 14/20"})]}),o.jsx("div",{className:"lacune-progress-track",children:o.jsx("div",{className:`lacune-progress-fill ${O.niveauUrgence}`,style:{width:`${O.moyenne/20*100}%`}})})]}),o.jsxs("div",{className:"lacune-details",children:[o.jsxs("span",{className:"lacune-detail-tag",children:[NU(O.tendance)," ",O.tendance]}),o.jsxs("span",{className:"lacune-detail-tag",children:[" ",O.nombreQuiz," quiz"]}),o.jsxs("span",{className:"lacune-detail-tag",children:["Dernier : ",O.scoreDetails.dernierScore,"/20"]})]})]},O.id))}):o.jsxs("div",{className:"suivi-empty",children:[o.jsx("div",{className:"suivi-empty-icon",children:""}),o.jsx("p",{className:"suivi-empty-title",children:"Aucune lacune dtecte !"}),o.jsx("p",{className:"suivi-empty-text",children:w>0?"Toutes tes moyennes sont au-dessus de 14/20. Bravo, continue !":"Passe des quiz pour que l'analyse puisse commencer."}),o.jsx("button",{className:"suivi-cta-btn",onClick:()=>e("/disciplines"),style:{marginTop:"1rem"},children:" Voir les disciplines"})]}),y.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs("h2",{className:"suivi-section-title",children:[" Recommandations personnalises",o.jsx("span",{className:"suivi-section-badge",children:y.length})]}),o.jsx("div",{className:"recommandations-list",children:y.map(O=>o.jsxs("div",{className:"recommandation-card",children:[o.jsx("div",{className:"recommandation-priorite",children:O.priorite}),o.jsxs("div",{className:"recommandation-content",children:[o.jsx("p",{className:"recommandation-titre",children:O.titre}),o.jsx("p",{className:"recommandation-description",children:O.description}),o.jsx("span",{className:"recommandation-discipline-tag",children:O.disciplineNom})]})]},O.id))})]}),o.jsx("div",{style:{textAlign:"center",marginTop:"1rem",marginBottom:"2rem"},children:o.jsx("button",{className:"suivi-cta-btn",onClick:()=>e("/disciplines"),children:" Passer un quiz maintenant"})})]})})},Hge=["2024-2025","2025-2026","2026-2027"],Gge=[{value:"6eme",label:"6me"},{value:"5eme",label:"5me"},{value:"4eme",label:"4me"},{value:"3eme",label:"3me"},{value:"2nde",label:"2nde"},{value:"1ere",label:"1re"},{value:"Terminale",label:"Terminale"}],Kge=({onSelectGroupe:t})=>{const{currentUser:e}=Vn(),[n,r]=j.useState([]),[i,s]=j.useState(new Map),[c,u]=j.useState(!0),[f,h]=j.useState(null),[p,g]=j.useState(!1),[y,x]=j.useState(!1),[E,w]=j.useState(null),[N,A]=j.useState(null),[R,O]=j.useState({nom:"",description:"",matiereId:"",matiereNom:"",classeNiveau:"6eme",anneeScolaire:"2024-2025"}),[C,V]=j.useState("actif"),$=j.useCallback(async()=>{if(e?.uid)try{u(!0),h(null);const X=await PU(e.uid);r(X);const Q=new Map;for(const H of X)if(H.statut==="actif")try{const ce=await fS(H.id);Q.set(H.id,ce)}catch{console.warn(`Stats indisponibles pour ${H.nom}`)}s(Q)}catch(X){console.error("Erreur chargement groupes:",X),h("Impossible de charger vos groupes. Vrifiez votre connexion.")}finally{u(!1)}},[e?.uid]);j.useEffect(()=>{$()},[$]);const D=async X=>{if(X.preventDefault(),!(!e?.uid||!R.nom.trim()))try{x(!0),await Sge(e.uid,e.displayName||e.email||"Professeur",R),O({nom:"",description:"",matiereId:"",matiereNom:"",classeNiveau:"6eme",anneeScolaire:"2024-2025"}),g(!1),await $()}catch(Q){h(Q.message||"Erreur lors de la cration du groupe.")}finally{x(!1)}},I=async X=>{try{await navigator.clipboard.writeText(X),w(X),setTimeout(()=>w(null),2e3)}catch{const Q=document.createElement("textarea");Q.value=X,document.body.appendChild(Q),Q.select(),document.execCommand("copy"),document.body.removeChild(Q),w(X),setTimeout(()=>w(null),2e3)}},k=async X=>{try{await Cge(X),A(null),await $()}catch(Q){h(Q.message)}},q=async X=>{try{await Oge(X),await $()}catch(Q){h(Q.message)}},L=async X=>{try{await Pge(X),await $()}catch(Q){h(Q.message)}},M=(X,Q)=>{O(H=>({...H,[X]:Q}))},U=n.filter(X=>C==="tous"?!0:X.statut===C);return c?o.jsxs("div",{className:"prof-loading",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Chargement de vos groupes-classes..."})]}):o.jsxs("div",{className:"groupe-manager",children:[o.jsxs("div",{className:"groupe-manager-header",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"groupe-manager-titre",children:"Mes groupes-classes"}),o.jsxs("p",{className:"groupe-manager-subtitle",children:[n.length," groupe",n.length!==1?"s":"","  Anne ",R.anneeScolaire]})]}),o.jsx("button",{className:"prof-btn prof-btn-primary",onClick:()=>g(!p),children:p?" Annuler":" Nouveau groupe"})]}),f&&o.jsxs("div",{className:"prof-alert prof-alert-error",children:[o.jsx("span",{children:""})," ",f,o.jsx("button",{onClick:()=>h(null),className:"prof-alert-close",children:""})]}),p&&o.jsxs("div",{className:"groupe-form-container",children:[o.jsx("h3",{children:"Crer un nouveau groupe-classe"}),o.jsxs("form",{onSubmit:D,className:"groupe-form",children:[o.jsxs("div",{className:"prof-form-group",children:[o.jsx("label",{htmlFor:"groupe-nom",children:"Nom du groupe *"}),o.jsx("input",{id:"groupe-nom",type:"text",placeholder:"Ex: 3me A - Maths 2025",value:R.nom,onChange:X=>M("nom",X.target.value),required:!0,className:"prof-input",maxLength:60})]}),o.jsxs("div",{className:"prof-form-group",children:[o.jsx("label",{htmlFor:"groupe-desc",children:"Description (optionnelle)"}),o.jsx("input",{id:"groupe-desc",type:"text",placeholder:"Ex: Cours du mardi et jeudi matin",value:R.description||"",onChange:X=>M("description",X.target.value),className:"prof-input",maxLength:120})]}),o.jsxs("div",{className:"prof-form-row",children:[o.jsxs("div",{className:"prof-form-group",children:[o.jsx("label",{htmlFor:"groupe-niveau",children:"Niveau de classe *"}),o.jsx("select",{id:"groupe-niveau",value:R.classeNiveau,onChange:X=>M("classeNiveau",X.target.value),className:"prof-select",children:Gge.map(X=>o.jsx("option",{value:X.value,children:X.label},X.value))})]}),o.jsxs("div",{className:"prof-form-group",children:[o.jsx("label",{htmlFor:"groupe-annee",children:"Anne scolaire *"}),o.jsx("select",{id:"groupe-annee",value:R.anneeScolaire,onChange:X=>M("anneeScolaire",X.target.value),className:"prof-select",children:Hge.map(X=>o.jsx("option",{value:X,children:X},X))})]})]}),o.jsxs("div",{className:"prof-form-row",children:[o.jsxs("div",{className:"prof-form-group",children:[o.jsx("label",{htmlFor:"groupe-matiere-id",children:"ID Matire *"}),o.jsx("input",{id:"groupe-matiere-id",type:"text",placeholder:"Ex: maths_3eme",value:R.matiereId,onChange:X=>M("matiereId",X.target.value),required:!0,className:"prof-input"})]}),o.jsxs("div",{className:"prof-form-group",children:[o.jsx("label",{htmlFor:"groupe-matiere-nom",children:"Nom de la matire *"}),o.jsx("input",{id:"groupe-matiere-nom",type:"text",placeholder:"Ex: Mathmatiques",value:R.matiereNom,onChange:X=>M("matiereNom",X.target.value),required:!0,className:"prof-input"})]})]}),o.jsx("div",{className:"prof-form-actions",children:o.jsx("button",{type:"submit",className:"prof-btn prof-btn-primary",disabled:y||!R.nom.trim(),children:y?" Cration...":" Crer le groupe"})})]})]}),o.jsxs("div",{className:"groupe-filtres",children:[o.jsxs("button",{className:`prof-filtre-btn ${C==="actif"?"active":""}`,onClick:()=>V("actif"),children:["Actifs (",n.filter(X=>X.statut==="actif").length,")"]}),o.jsxs("button",{className:`prof-filtre-btn ${C==="archive"?"active":""}`,onClick:()=>V("archive"),children:["Archivs (",n.filter(X=>X.statut==="archive").length,")"]}),o.jsxs("button",{className:`prof-filtre-btn ${C==="tous"?"active":""}`,onClick:()=>V("tous"),children:["Tous (",n.length,")"]})]}),U.length===0?o.jsxs("div",{className:"prof-empty-state",children:[o.jsx("div",{className:"prof-empty-icon",children:""}),o.jsx("h3",{children:C==="archive"?"Aucun groupe archiv":"Aucun groupe-classe cr"}),o.jsx("p",{children:C==="archive"?"Vos groupes archivs apparatront ici.":"Crez votre premier groupe-classe pour commencer  suivre vos lves."}),C!=="archive"&&o.jsx("button",{className:"prof-btn prof-btn-primary",onClick:()=>g(!0),children:" Crer mon premier groupe"})]}):o.jsx("div",{className:"groupe-grid",children:U.map(X=>{const Q=i.get(X.id);return o.jsxs("div",{className:`groupe-card ${X.statut==="archive"?"groupe-card-archive":""}`,children:[o.jsxs("div",{className:"groupe-card-header",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"groupe-card-titre",children:X.nom}),o.jsx("span",{className:"groupe-card-matiere",children:X.matiereNom})]}),o.jsx("span",{className:`groupe-badge groupe-badge-${X.statut}`,children:X.statut==="actif"?" Actif":" Archiv"})]}),o.jsxs("div",{className:"groupe-card-infos",children:[o.jsxs("span",{children:[" ",X.classeNiveau]}),o.jsxs("span",{children:[" ",X.anneeScolaire]}),o.jsxs("span",{children:[" ",X.nombreInscrits," lve",X.nombreInscrits!==1?"s":""]})]}),o.jsxs("div",{className:"groupe-card-code",children:[o.jsx("span",{className:"groupe-code-label",children:"Code d'invitation :"}),o.jsxs("div",{className:"groupe-code-box",children:[o.jsx("code",{className:"groupe-code-value",children:X.codeInvitation}),o.jsx("button",{className:"prof-btn-icon",onClick:H=>{H.stopPropagation(),I(X.codeInvitation)},title:"Copier le code",children:E===X.codeInvitation?"":""}),X.statut==="actif"&&o.jsx("button",{className:"prof-btn-icon",onClick:H=>{H.stopPropagation(),L(X.id)},title:"Rgnrer le code",children:""})]})]}),Q&&Q.nombreEleves>0&&o.jsxs("div",{className:"groupe-card-stats",children:[o.jsxs("div",{className:"groupe-stat-item",children:[o.jsx("span",{className:"groupe-stat-value",children:Q.moyenneClasse}),o.jsx("span",{className:"groupe-stat-label",children:"Moyenne"})]}),o.jsxs("div",{className:"groupe-stat-item",children:[o.jsxs("span",{className:"groupe-stat-value",children:[Q.tauxReussite,"%"]}),o.jsx("span",{className:"groupe-stat-label",children:"Russite"})]}),o.jsxs("div",{className:"groupe-stat-item",children:[o.jsx("span",{className:"groupe-stat-value",children:Q.elevesEnDifficulte}),o.jsx("span",{className:"groupe-stat-label",children:"En difficult"})]})]}),o.jsxs("div",{className:"groupe-card-actions",children:[X.statut==="actif"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"prof-btn prof-btn-primary prof-btn-sm",onClick:()=>t(X),children:" Voir dtails"}),o.jsx("button",{className:"prof-btn prof-btn-secondary prof-btn-sm",onClick:()=>q(X.id),children:" Archiver"})]}),N===X.id?o.jsxs("div",{className:"groupe-confirm-suppression",children:[o.jsx("span",{children:"Confirmer ?"}),o.jsx("button",{className:"prof-btn prof-btn-danger prof-btn-sm",onClick:()=>k(X.id),children:"Oui, supprimer"}),o.jsx("button",{className:"prof-btn prof-btn-secondary prof-btn-sm",onClick:()=>A(null),children:"Non"})]}):o.jsx("button",{className:"prof-btn prof-btn-danger prof-btn-sm",onClick:()=>A(X.id),children:" Supprimer"})]})]},X.id)})})]})},Qge=({groupe:t,onRetour:e})=>{const[n,r]=j.useState(null),[i,s]=j.useState([]),[c,u]=j.useState([]),[f,h]=j.useState([]),[p,g]=j.useState(null),[y,x]=j.useState(!0),[E,w]=j.useState(null),[N,A]=j.useState("apercu"),[R,O]=j.useState("moyenne_desc"),[C,V]=j.useState(null),[$,D]=j.useState(null),[I,k]=j.useState(!1),[q,L]=j.useState(null),M=j.useCallback(async()=>{try{x(!0),w(null);const[W,F,ne]=await Promise.all([fS(t.id),Dge(t.id),zge(t.matiereId)]);r(W),s(F),h(ne);const ge=Lge(F,t.nom);u(ge)}catch(W){console.error("Erreur chargement dtail groupe:",W),w("Impossible de charger les donnes du groupe.")}finally{x(!1)}},[t.id,t.matiereId,t.nom]);j.useEffect(()=>{M()},[M]);const U=async W=>{try{k(!0),D(W);const F=await Mge(t.id,W);g(F)}catch(F){console.error("Erreur analyse quiz:",F)}finally{k(!1)}},X=()=>{const W=qge(i,t.nom),F=`PedaClic_${t.nom.replace(/\s+/g,"_")}_${new Date().toISOString().slice(0,10)}`;Uge(W,F)},Q=async W=>{try{L(W);const ne=(await C0(t.id)).find(ge=>ge.eleveId===W);ne&&(await kge(ne.id,t.id),await M())}catch(F){w(F.message)}finally{L(null)}},H=[...i].sort((W,F)=>{switch(R){case"moyenne_desc":return F.moyenne-W.moyenne;case"moyenne_asc":return W.moyenne-F.moyenne;case"nom":return W.eleveNom.localeCompare(F.eleveNom);case"streak":return F.streak.actuel-W.streak.actuel;case"quiz_count":return F.totalQuiz-W.totalQuiz;default:return 0}}),ce=W=>W>=16?"prof-note-excellent":W>=12?"prof-note-bien":W>=10?"prof-note-passable":W>=8?"prof-note-insuffisant":"prof-note-critique",Y=W=>{switch(W){case"hausse":return"";case"baisse":return"";default:return""}},_e=W=>{switch(W){case"difficulte":return"";case"inactivite":return"";case"baisse":return"";case"felicitation":return"";default:return""}};return y?o.jsxs("div",{className:"prof-loading",children:[o.jsx("div",{className:"spinner"}),o.jsxs("p",{children:['Chargement des donnes de "',t.nom,'"...']})]}):o.jsxs("div",{className:"groupe-detail",children:[o.jsxs("div",{className:"groupe-detail-header",children:[o.jsx("button",{className:"prof-btn prof-btn-secondary",onClick:e,children:" Retour aux groupes"}),o.jsxs("div",{className:"groupe-detail-titre-section",children:[o.jsx("h2",{className:"groupe-detail-titre",children:t.nom}),o.jsxs("p",{className:"groupe-detail-subtitle",children:[t.matiereNom,"  ",t.classeNiveau,"  ",t.anneeScolaire]})]}),o.jsx("button",{className:"prof-btn prof-btn-secondary",onClick:X,children:" Export CSV"})]}),E&&o.jsxs("div",{className:"prof-alert prof-alert-error",children:[" ",E,o.jsx("button",{onClick:()=>w(null),className:"prof-alert-close",children:""})]}),o.jsx("div",{className:"groupe-detail-onglets",children:[{id:"apercu",label:" Aperu",count:null},{id:"eleves",label:" lves",count:i.length},{id:"quiz",label:" Quiz",count:f.length},{id:"alertes",label:" Alertes",count:c.length}].map(W=>o.jsxs("button",{className:`groupe-onglet ${N===W.id?"active":""}`,onClick:()=>A(W.id),children:[W.label,W.count!==null&&W.count>0&&o.jsx("span",{className:"groupe-onglet-badge",children:W.count})]},W.id))}),N==="apercu"&&n&&o.jsxs("div",{className:"groupe-apercu",children:[o.jsxs("div",{className:"groupe-stats-grid",children:[o.jsxs("div",{className:"groupe-stat-card",children:[o.jsx("div",{className:"groupe-stat-card-icon",children:""}),o.jsxs("div",{className:"groupe-stat-card-content",children:[o.jsxs("span",{className:`groupe-stat-card-value ${ce(n.moyenneClasse)}`,children:[n.moyenneClasse,"/20"]}),o.jsx("span",{className:"groupe-stat-card-label",children:"Moyenne classe"})]})]}),o.jsxs("div",{className:"groupe-stat-card",children:[o.jsx("div",{className:"groupe-stat-card-icon",children:""}),o.jsxs("div",{className:"groupe-stat-card-content",children:[o.jsxs("span",{className:"groupe-stat-card-value",children:[n.tauxReussite,"%"]}),o.jsx("span",{className:"groupe-stat-card-label",children:"Taux de russite"})]})]}),o.jsxs("div",{className:"groupe-stat-card",children:[o.jsx("div",{className:"groupe-stat-card-icon",children:""}),o.jsxs("div",{className:"groupe-stat-card-content",children:[o.jsx("span",{className:"groupe-stat-card-value",children:n.nombreEleves}),o.jsx("span",{className:"groupe-stat-card-label",children:"lves inscrits"})]})]}),o.jsxs("div",{className:"groupe-stat-card",children:[o.jsx("div",{className:"groupe-stat-card-icon",children:""}),o.jsxs("div",{className:"groupe-stat-card-content",children:[o.jsx("span",{className:"groupe-stat-card-value",children:n.totalQuizPasses}),o.jsx("span",{className:"groupe-stat-card-label",children:"Quiz passs"})]})]}),o.jsxs("div",{className:"groupe-stat-card",children:[o.jsx("div",{className:"groupe-stat-card-icon",children:""}),o.jsxs("div",{className:"groupe-stat-card-content",children:[o.jsxs("span",{className:"groupe-stat-card-value",children:[n.tauxParticipation,"%"]}),o.jsx("span",{className:"groupe-stat-card-label",children:"Participation"})]})]}),o.jsxs("div",{className:"groupe-stat-card",children:[o.jsx("div",{className:"groupe-stat-card-icon",children:""}),o.jsxs("div",{className:"groupe-stat-card-content",children:[o.jsx("span",{className:`groupe-stat-card-value ${n.elevesEnDifficulte>0?"prof-note-critique":"prof-note-excellent"}`,children:n.elevesEnDifficulte}),o.jsx("span",{className:"groupe-stat-card-label",children:"En difficult"})]})]})]}),o.jsx("div",{className:"groupe-apercu-notes",children:o.jsxs("div",{className:"groupe-note-range",children:[o.jsx("span",{className:"groupe-note-range-label",children:"Plage des notes :"}),o.jsxs("span",{className:"prof-note-critique",children:[n.pireNote,"/20"]}),o.jsx("div",{className:"groupe-note-barre",children:o.jsx("div",{className:"groupe-note-barre-fill",style:{left:`${n.pireNote/20*100}%`,width:`${(n.meilleureNote-n.pireNote)/20*100}%`}})}),o.jsxs("span",{className:"prof-note-excellent",children:[n.meilleureNote,"/20"]})]})}),i.length>=3&&o.jsxs("div",{className:"groupe-apercu-classement",children:[o.jsxs("div",{className:"groupe-classement-section",children:[o.jsx("h4",{children:" Top 3"}),i.slice(0,3).map((W,F)=>o.jsxs("div",{className:"groupe-classement-item",children:[o.jsx("span",{className:"groupe-classement-rang",children:F===0?"":F===1?"":""}),o.jsx("span",{className:"groupe-classement-nom",children:W.eleveNom}),o.jsxs("span",{className:`groupe-classement-note ${ce(W.moyenne)}`,children:[W.moyenne,"/20"]})]},W.eleveId))]}),o.jsxs("div",{className:"groupe-classement-section",children:[o.jsx("h4",{children:"  surveiller"}),i.filter(W=>W.moyenne<8&&W.totalQuiz>0).slice(0,3).map(W=>o.jsxs("div",{className:"groupe-classement-item",children:[o.jsx("span",{className:"groupe-classement-rang",children:""}),o.jsx("span",{className:"groupe-classement-nom",children:W.eleveNom}),o.jsxs("span",{className:`groupe-classement-note ${ce(W.moyenne)}`,children:[W.moyenne,"/20"]})]},W.eleveId)),i.filter(W=>W.moyenne<8&&W.totalQuiz>0).length===0&&o.jsx("p",{className:"groupe-classement-vide",children:"Aucun lve en difficult "})]})]})]}),N==="eleves"&&o.jsxs("div",{className:"groupe-eleves",children:[o.jsxs("div",{className:"groupe-eleves-toolbar",children:[o.jsx("label",{htmlFor:"tri-eleves",children:"Trier par :"}),o.jsxs("select",{id:"tri-eleves",value:R,onChange:W=>O(W.target.value),className:"prof-select prof-select-sm",children:[o.jsx("option",{value:"moyenne_desc",children:"Moyenne ()"}),o.jsx("option",{value:"moyenne_asc",children:"Moyenne ()"}),o.jsx("option",{value:"nom",children:"Nom (A-Z)"}),o.jsx("option",{value:"streak",children:"Streak ()"}),o.jsx("option",{value:"quiz_count",children:"Quiz passs ()"})]}),o.jsxs("span",{className:"groupe-eleves-count",children:[i.length," lve",i.length!==1?"s":""]})]}),i.length===0?o.jsxs("div",{className:"prof-empty-state",children:[o.jsx("div",{className:"prof-empty-icon",children:""}),o.jsx("h3",{children:"Aucun lve inscrit"}),o.jsxs("p",{children:["Partagez le code ",o.jsx("strong",{children:t.codeInvitation}),"  vos lves."]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"groupe-eleves-table-wrapper",children:o.jsxs("table",{className:"groupe-eleves-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"#"}),o.jsx("th",{children:"lve"}),o.jsx("th",{children:"Moyenne"}),o.jsx("th",{children:"Quiz"}),o.jsx("th",{children:"Russite"}),o.jsx("th",{children:"Streak"}),o.jsx("th",{children:"Tendance"}),o.jsx("th",{children:"Actions"})]})}),o.jsx("tbody",{children:H.map((W,F)=>o.jsxs("tr",{className:`${C===W.eleveId?"groupe-eleve-row-active":""}`,children:[o.jsx("td",{className:"groupe-eleve-rang",children:F+1}),o.jsx("td",{className:"groupe-eleve-nom-cell",children:o.jsxs("div",{children:[o.jsx("strong",{children:W.eleveNom}),o.jsx("span",{className:"groupe-eleve-email",children:W.eleveEmail})]})}),o.jsx("td",{children:o.jsxs("span",{className:`groupe-note-badge ${ce(W.moyenne)}`,children:[W.moyenne,"/20"]})}),o.jsx("td",{children:W.totalQuiz}),o.jsxs("td",{children:[W.tauxReussite,"%"]}),o.jsx("td",{children:o.jsxs("span",{className:"groupe-streak",children:[" ",W.streak.actuel,"j"]})}),o.jsxs("td",{children:[Y(W.tendance)," ",W.tendance]}),o.jsxs("td",{className:"groupe-eleve-actions",children:[o.jsx("button",{className:"prof-btn-icon",onClick:()=>V(C===W.eleveId?null:W.eleveId),title:"Voir dtails",children:C===W.eleveId?"":""}),o.jsx("button",{className:"prof-btn-icon prof-btn-icon-danger",onClick:()=>Q(W.eleveId),disabled:q===W.eleveId,title:"Retirer du groupe",children:q===W.eleveId?"":""})]})]},W.eleveId))})]})}),C&&(()=>{const W=i.find(F=>F.eleveId===C);return W?o.jsxs("div",{className:"groupe-eleve-detail",children:[o.jsxs("div",{className:"groupe-eleve-detail-header",children:[o.jsxs("h3",{children:[" Dtail  ",W.eleveNom]}),o.jsx("button",{className:"prof-btn-icon",onClick:()=>V(null),children:""})]}),o.jsxs("div",{className:"groupe-eleve-detail-grid",children:[o.jsxs("div",{className:"groupe-eleve-detail-card",children:[o.jsx("h4",{children:"Score global"}),o.jsx("div",{className:"groupe-eleve-score-circle",children:o.jsxs("span",{className:ce(W.scoreGlobal/5),children:[W.scoreGlobal,"/100"]})})]}),o.jsxs("div",{className:"groupe-eleve-detail-card",children:[o.jsx("h4",{children:" Streak"}),o.jsxs("p",{children:["Actuel : ",o.jsxs("strong",{children:[W.streak.actuel," jour",W.streak.actuel!==1?"s":""]})]}),o.jsxs("p",{children:["Meilleur : ",W.streak.meilleur," jours"]})]}),o.jsxs("div",{className:"groupe-eleve-detail-card groupe-eleve-detail-card-wide",children:[o.jsx("h4",{children:" Lacunes dtectes"}),W.lacunes.length===0?o.jsx("p",{className:"text-muted",children:"Aucune lacune dtecte "}):o.jsx("ul",{className:"groupe-lacunes-liste",children:W.lacunes.map((F,ne)=>o.jsxs("li",{className:`groupe-lacune-item groupe-lacune-${F.niveauUrgence}`,children:[o.jsxs("span",{className:"groupe-lacune-nom",children:[F.disciplineNom,F.chapitre&&`  ${F.chapitre}`]}),o.jsxs("span",{className:"groupe-lacune-moyenne",children:[F.moyenne,"/20"]}),o.jsx("span",{className:`groupe-lacune-badge groupe-lacune-badge-${F.niveauUrgence}`,children:F.niveauUrgence})]},ne))})]})]})]}):null})()]})]}),N==="quiz"&&o.jsxs("div",{className:"groupe-quiz",children:[o.jsxs("div",{className:"groupe-quiz-selector",children:[o.jsx("label",{htmlFor:"select-quiz",children:"Slectionner un quiz  analyser :"}),o.jsxs("select",{id:"select-quiz",value:$||"",onChange:W=>{W.target.value&&U(W.target.value)},className:"prof-select",children:[o.jsx("option",{value:"",children:" Choisir un quiz "}),f.map(W=>o.jsx("option",{value:W.id,children:W.titre},W.id))]})]}),!$&&o.jsxs("div",{className:"prof-empty-state",children:[o.jsx("div",{className:"prof-empty-icon",children:""}),o.jsx("h3",{children:"Analyse par quiz"}),o.jsx("p",{children:"Slectionnez un quiz pour voir les statistiques dtailles et les questions les plus rates."})]}),I&&o.jsxs("div",{className:"prof-loading",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Analyse en cours..."})]}),p&&!I&&o.jsxs("div",{className:"groupe-quiz-resultats",children:[o.jsxs("div",{className:"groupe-quiz-stats-header",children:[o.jsx("h3",{children:p.quizTitre}),o.jsxs("div",{className:"groupe-quiz-stats-grid",children:[o.jsxs("div",{className:"groupe-stat-mini",children:[o.jsx("span",{className:"groupe-stat-mini-value",children:p.totalPassages}),o.jsx("span",{className:"groupe-stat-mini-label",children:"Passages"})]}),o.jsxs("div",{className:"groupe-stat-mini",children:[o.jsxs("span",{className:`groupe-stat-mini-value ${ce(p.moyenneScore)}`,children:[p.moyenneScore,"/20"]}),o.jsx("span",{className:"groupe-stat-mini-label",children:"Moyenne"})]}),o.jsxs("div",{className:"groupe-stat-mini",children:[o.jsxs("span",{className:"groupe-stat-mini-value",children:[p.tauxReussite,"%"]}),o.jsx("span",{className:"groupe-stat-mini-label",children:"Russite"})]}),o.jsxs("div",{className:"groupe-stat-mini",children:[o.jsxs("span",{className:"groupe-stat-mini-value",children:[Math.floor(p.tempsEcouleMoyen/60),"min"]}),o.jsx("span",{className:"groupe-stat-mini-label",children:"Temps moyen"})]})]})]}),o.jsxs("div",{className:"groupe-quiz-questions",children:[o.jsx("h4",{children:" Questions les plus rates"}),p.questionsRatees.filter(W=>W.tauxEchec>30).map((W,F)=>o.jsxs("div",{className:"groupe-quiz-question-card",children:[o.jsxs("div",{className:"groupe-quiz-question-header",children:[o.jsxs("span",{className:"groupe-quiz-question-num",children:["Q",W.questionIndex+1]}),o.jsxs("span",{className:"groupe-quiz-question-echec",children:[W.tauxEchec,"% d'chec"]})]}),o.jsx("p",{className:"groupe-quiz-question-texte",children:W.questionTexte}),o.jsx("div",{className:"groupe-quiz-question-reponse",children:o.jsxs("span",{className:"groupe-quiz-bonne-reponse",children:[" Bonne rponse : ",W.reponseCorrecte]})}),W.reponsesFrequentes.length>0&&o.jsxs("div",{className:"groupe-quiz-mauvaises-reponses",children:[o.jsx("span",{children:"Erreurs frquentes :"}),W.reponsesFrequentes.slice(0,2).map((ne,ge)=>o.jsxs("span",{className:"groupe-quiz-mauvaise-reponse",children:[" ",ne.reponse," (",ne.nombre," lve",ne.nombre>1?"s":"",")"]},ge))]})]},F)),p.questionsRatees.filter(W=>W.tauxEchec>30).length===0&&o.jsx("p",{className:"text-muted",children:"Toutes les questions ont un taux de russite suprieur  70% "})]})]})]}),N==="alertes"&&o.jsx("div",{className:"groupe-alertes",children:c.length===0?o.jsxs("div",{className:"prof-empty-state",children:[o.jsx("div",{className:"prof-empty-icon",children:""}),o.jsx("h3",{children:"Aucune alerte"}),o.jsx("p",{children:"Tous vos lves se portent bien ! Les alertes apparatront ici quand un lve aura besoin d'attention."})]}):o.jsx("div",{className:"groupe-alertes-liste",children:c.map(W=>o.jsxs("div",{className:`groupe-alerte-card groupe-alerte-${W.niveauUrgence}`,children:[o.jsxs("div",{className:"groupe-alerte-header",children:[o.jsx("span",{className:"groupe-alerte-emoji",children:_e(W.type)}),o.jsx("span",{className:"groupe-alerte-eleve",children:W.eleveNom}),o.jsx("span",{className:`groupe-alerte-badge groupe-alerte-badge-${W.niveauUrgence}`,children:W.niveauUrgence})]}),o.jsx("p",{className:"groupe-alerte-message",children:W.message}),o.jsx("button",{className:"prof-btn prof-btn-secondary prof-btn-sm",onClick:()=>{A("eleves"),V(W.eleveId)},children:" Voir dtail"})]},W.id))})})]})},Wge=()=>{const{currentUser:t}=Vn(),[e,n]=j.useState("overview"),[r,i]=j.useState(null),[s,c]=j.useState(0),[u,f]=j.useState(0),[h,p]=j.useState(0),[g,y]=j.useState(0),[x,E]=j.useState([]),[w,N]=j.useState(!0),A=j.useCallback(async()=>{if(t?.uid)try{N(!0);const V=(await PU(t.uid)).filter(L=>L.statut==="actif");c(V.length);let $=0,D=0,I=0,k=0;const q=[];for(const L of V)try{const M=await fS(L.id);$+=M.nombreEleves,M.nombreEleves>0&&(D+=M.moyenneClasse,I++),k+=M.elevesEnDifficulte,q.push({...L,stats:M})}catch{q.push({...L})}f($),p(I>0?Math.round(D/I*10)/10:0),y(k),E(q)}catch(C){console.error("Erreur chargement rsum prof:",C)}finally{N(!1)}},[t?.uid]);j.useEffect(()=>{A()},[A]);const R=C=>{i(C),n("detail")},O=()=>{i(null),n("groupes"),A()};return w?o.jsxs("div",{className:"prof-loading",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Chargement de votre espace professeur..."})]}):o.jsxs("div",{className:"prof-dashboard",children:[o.jsx("header",{className:"prof-dashboard-header",children:o.jsxs("div",{children:[o.jsx("h1",{className:"prof-dashboard-titre",children:"Tableau de bord Professeur"}),o.jsxs("p",{className:"prof-dashboard-subtitle",children:["Bienvenue, ",t?.displayName||"Professeur"," "]})]})}),e!=="detail"&&o.jsxs("nav",{className:"prof-nav",children:[o.jsx("button",{className:`prof-nav-btn ${e==="overview"?"active":""}`,onClick:()=>n("overview"),children:" Vue d'ensemble"}),o.jsx("button",{className:`prof-nav-btn ${e==="groupes"?"active":""}`,onClick:()=>n("groupes"),children:" Mes groupes-classes"})]}),e==="overview"&&o.jsxs("div",{className:"prof-overview",children:[o.jsxs("div",{className:"prof-overview-cards",children:[o.jsxs("div",{className:"prof-overview-card prof-overview-card-clickable",onClick:()=>n("groupes"),children:[o.jsx("div",{className:"prof-overview-card-icon",children:""}),o.jsxs("div",{className:"prof-overview-card-content",children:[o.jsx("span",{className:"prof-overview-card-value",children:s}),o.jsxs("span",{className:"prof-overview-card-label",children:["Groupe",s!==1?"s":""," actif",s!==1?"s":""]})]})]}),o.jsxs("div",{className:"prof-overview-card",children:[o.jsx("div",{className:"prof-overview-card-icon",children:""}),o.jsxs("div",{className:"prof-overview-card-content",children:[o.jsx("span",{className:"prof-overview-card-value",children:u}),o.jsxs("span",{className:"prof-overview-card-label",children:["lve",u!==1?"s":""," inscrit",u!==1?"s":""]})]})]}),o.jsxs("div",{className:"prof-overview-card",children:[o.jsx("div",{className:"prof-overview-card-icon",children:""}),o.jsxs("div",{className:"prof-overview-card-content",children:[o.jsxs("span",{className:"prof-overview-card-value",children:[h,"/20"]}),o.jsx("span",{className:"prof-overview-card-label",children:"Moyenne gnrale"})]})]}),o.jsxs("div",{className:"prof-overview-card",children:[o.jsx("div",{className:"prof-overview-card-icon",children:""}),o.jsxs("div",{className:"prof-overview-card-content",children:[o.jsx("span",{className:`prof-overview-card-value ${g>0?"prof-note-critique":""}`,children:g}),o.jsxs("span",{className:"prof-overview-card-label",children:["lve",g!==1?"s":""," en difficult"]})]})]})]}),x.length===0?o.jsxs("div",{className:"prof-empty-state",children:[o.jsx("div",{className:"prof-empty-icon",children:""}),o.jsx("h3",{children:"Bienvenue sur votre espace Professeur !"}),o.jsx("p",{children:"Crez votre premier groupe-classe pour commencer  suivre vos lves."}),o.jsx("button",{className:"prof-btn prof-btn-primary",onClick:()=>n("groupes"),children:" Crer un groupe-classe"})]}):o.jsxs("div",{className:"prof-overview-groupes",children:[o.jsx("h2",{children:"Mes groupes"}),o.jsx("div",{className:"prof-overview-groupes-grid",children:x.map(C=>o.jsxs("div",{className:"prof-overview-groupe-card",onClick:()=>R(C),children:[o.jsxs("div",{className:"prof-overview-groupe-header",children:[o.jsx("h3",{children:C.nom}),o.jsx("span",{className:"prof-overview-groupe-matiere",children:C.matiereNom})]}),C.stats&&o.jsxs("div",{className:"prof-overview-groupe-stats",children:[o.jsxs("div",{children:[o.jsx("span",{className:"prof-overview-groupe-stat-value",children:C.stats.nombreEleves}),o.jsx("span",{className:"prof-overview-groupe-stat-label",children:"lves"})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"prof-overview-groupe-stat-value",children:[C.stats.moyenneClasse,"/20"]}),o.jsx("span",{className:"prof-overview-groupe-stat-label",children:"Moyenne"})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"prof-overview-groupe-stat-value",children:[C.stats.tauxReussite,"%"]}),o.jsx("span",{className:"prof-overview-groupe-stat-label",children:"Russite"})]})]}),o.jsx("span",{className:"prof-overview-groupe-arrow",children:""})]},C.id))})]})]}),e==="groupes"&&o.jsx(Kge,{onSelectGroupe:R}),e==="detail"&&r&&o.jsx(Qge,{groupe:r,onRetour:O})]})},Yge=()=>{const{currentUser:t}=Vn(),e=t?.uid||"",n=t?.displayName||"Parent",[r,i]=j.useState([]),[s,c]=j.useState(null),[u,f]=j.useState(null),[h,p]=j.useState(!0),[g,y]=j.useState(!1),[x,E]=j.useState(null),[w,N]=j.useState(!1),[A,R]=j.useState(""),[O,C]=j.useState(!1),[V,$]=j.useState(null),[D,I]=j.useState(null),[k,q]=j.useState("apercu");j.useEffect(()=>{L()},[e]),j.useEffect(()=>{s&&M(s)},[s]);const L=async()=>{try{p(!0),E(null);const Q=await fge(e);i(Q),Q.length===1&&c(Q[0].enfantId)}catch(Q){E("Erreur lors du chargement des enfants."),console.error(Q)}finally{p(!1)}},M=async Q=>{try{y(!0),E(null);const H=await mge(e,Q);f(H)}catch(H){E(H.message||"Erreur lors du chargement du suivi."),f(null)}finally{y(!1)}},U=async Q=>{if(Q.preventDefault(),$(null),I(null),!A.trim()){$("Veuillez saisir le code d'invitation.");return}try{C(!0);const H=await dge(e,A);I(`${H.enfantNom} a t ajout avec succs !`),R(""),N(!1),await L(),c(H.enfantId)}catch(H){$(H.message||"Erreur lors de la liaison.")}finally{C(!1)}},X=async Q=>{if(window.confirm(`tes-vous sr de vouloir retirer ${Q.enfantNom} de votre suivi ? Cette action est irrversible.`))try{await hge(Q.id,e),s===Q.enfantId&&(c(null),f(null)),await L()}catch(ce){E(ce.message||"Erreur lors de la suppression.")}};return h?o.jsxs("div",{className:"parent-loading",children:[o.jsx("div",{className:"parent-spinner"}),o.jsx("p",{children:"Chargement de votre espace parent..."})]}):o.jsxs("div",{className:"parent-dashboard",children:[o.jsxs("header",{className:"parent-header",children:[o.jsxs("div",{className:"parent-header-info",children:[o.jsx("h1",{className:"parent-titre",children:" Espace Parent"}),o.jsxs("p",{className:"parent-bienvenue",children:["Bienvenue, ",o.jsx("strong",{children:n}),"  Suivez la progression de vos enfants"]})]}),o.jsx("button",{className:"parent-btn parent-btn-primary",onClick:()=>{N(!w),$(null),I(null)},children:" Ajouter un enfant"})]}),x&&o.jsxs("div",{className:"parent-alerte parent-alerte-erreur",children:[o.jsxs("span",{children:[" ",x]}),o.jsx("button",{onClick:()=>E(null),children:""})]}),D&&o.jsxs("div",{className:"parent-alerte parent-alerte-succes",children:[o.jsxs("span",{children:[" ",D]}),o.jsx("button",{onClick:()=>I(null),children:""})]}),w&&o.jsxs("div",{className:"parent-form-liaison",children:[o.jsx("h3",{children:" Lier un enfant  votre compte"}),o.jsx("p",{className:"parent-form-aide",children:"Demandez le code d'invitation  votre enfant. Il peut le trouver dans son profil sur PedaClic (format: PEDA-XXXX-XXXX)."}),o.jsxs("form",{onSubmit:U,className:"parent-form",children:[o.jsxs("div",{className:"parent-form-group",children:[o.jsx("label",{htmlFor:"code-invitation",children:"Code d'invitation"}),o.jsx("input",{id:"code-invitation",type:"text",placeholder:"PEDA-XXXX-XXXX",value:A,onChange:Q=>R(Q.target.value.toUpperCase()),maxLength:14,disabled:O,className:"parent-input"})]}),V&&o.jsxs("p",{className:"parent-form-erreur",children:[" ",V]}),o.jsxs("div",{className:"parent-form-actions",children:[o.jsx("button",{type:"submit",className:"parent-btn parent-btn-primary",disabled:O,children:O?"Vrification...":" Valider"}),o.jsx("button",{type:"button",className:"parent-btn parent-btn-secondary",onClick:()=>N(!1),children:"Annuler"})]})]})]}),r.length===0?o.jsxs("div",{className:"parent-empty-state",children:[o.jsx("div",{className:"parent-empty-icon",children:""}),o.jsx("h2",{children:"Aucun enfant li"}),o.jsx("p",{children:"Cliquez sur  Ajouter un enfant  et saisissez le code d'invitation de votre enfant pour commencer  suivre sa progression."}),o.jsx("button",{className:"parent-btn parent-btn-primary",onClick:()=>N(!0),children:" Ajouter mon premier enfant"})]}):o.jsxs("div",{className:"parent-content",children:[o.jsxs("aside",{className:"parent-sidebar",children:[o.jsx("h3",{className:"parent-sidebar-titre",children:"Mes enfants"}),o.jsx("ul",{className:"parent-enfants-liste",children:r.map(Q=>o.jsxs("li",{className:`parent-enfant-card ${s===Q.enfantId?"parent-enfant-actif":""}`,onClick:()=>c(Q.enfantId),children:[o.jsx("div",{className:"parent-enfant-avatar",children:Q.enfantNom.charAt(0).toUpperCase()}),o.jsxs("div",{className:"parent-enfant-info",children:[o.jsx("span",{className:"parent-enfant-nom",children:Q.enfantNom}),Q.enfantClasse&&o.jsx("span",{className:"parent-enfant-classe",children:Q.enfantClasse})]}),o.jsx("button",{className:"parent-enfant-supprimer",onClick:H=>{H.stopPropagation(),X(Q)},title:"Retirer cet enfant",children:""})]},Q.id))})]}),o.jsx("main",{className:"parent-main",children:s?g?o.jsxs("div",{className:"parent-loading",children:[o.jsx("div",{className:"parent-spinner"}),o.jsx("p",{children:"Chargement du suivi..."})]}):u?o.jsxs("div",{className:"parent-dashboard-detail",children:[o.jsxs("div",{className:"parent-enfant-header",children:[o.jsxs("div",{className:"parent-enfant-header-info",children:[o.jsx("h2",{children:u.enfant.nom}),u.enfant.classe&&o.jsx("span",{className:"parent-badge",children:u.enfant.classe}),u.enfant.derniereConnexion&&o.jsxs("span",{className:"parent-derniere-connexion",children:["Dernire connexion : ",k1(u.enfant.derniereConnexion)]})]}),o.jsx("p",{className:"parent-message-motivation",children:xge(u.scoreGlobal)})]}),o.jsxs("div",{className:"parent-indicateurs",children:[o.jsxs("div",{className:"parent-card parent-card-score",children:[o.jsx("div",{className:"parent-card-icon",children:""}),o.jsxs("div",{className:"parent-card-content",children:[o.jsx("span",{className:"parent-card-label",children:"Score Global"}),o.jsxs("span",{className:`parent-card-value parent-score-${u.scoreGlobal>=60?"bon":u.scoreGlobal>=40?"moyen":"bas"}`,children:[u.scoreGlobal,"/100"]})]})]}),o.jsxs("div",{className:"parent-card parent-card-streak",children:[o.jsx("div",{className:"parent-card-icon",children:""}),o.jsxs("div",{className:"parent-card-content",children:[o.jsx("span",{className:"parent-card-label",children:"Streak"}),o.jsxs("span",{className:"parent-card-value",children:[u.streak.actuel," jour",u.streak.actuel>1?"s":""]})]})]}),o.jsxs("div",{className:"parent-card parent-card-lacunes",children:[o.jsx("div",{className:"parent-card-icon",children:""}),o.jsxs("div",{className:"parent-card-content",children:[o.jsx("span",{className:"parent-card-label",children:"Lacunes"}),o.jsxs("span",{className:"parent-card-value",children:[u.lacunes.length," matire",u.lacunes.length>1?"s":""]})]})]}),o.jsxs("div",{className:"parent-card parent-card-objectifs",children:[o.jsx("div",{className:"parent-card-icon",children:""}),o.jsxs("div",{className:"parent-card-content",children:[o.jsx("span",{className:"parent-card-label",children:"Objectifs"}),o.jsxs("span",{className:"parent-card-value",children:[u.objectifs.filter(Q=>Q.statut==="atteint").length,"/",u.objectifs.length]})]})]})]}),o.jsxs("div",{className:"parent-section parent-section-semaine",children:[o.jsx("h3",{children:" Activit de la semaine"}),o.jsx("div",{className:"parent-semaine-jours",children:["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map((Q,H)=>o.jsxs("div",{className:`parent-jour ${u.streak.semaineCourante[H]?"parent-jour-actif":"parent-jour-inactif"}`,children:[o.jsx("span",{className:"parent-jour-label",children:Q}),o.jsx("span",{className:"parent-jour-icon",children:u.streak.semaineCourante[H]?"":""})]},Q))})]}),o.jsxs("div",{className:"parent-onglets",children:[o.jsx("button",{className:`parent-onglet ${k==="apercu"?"parent-onglet-actif":""}`,onClick:()=>q("apercu"),children:" Aperu"}),o.jsxs("button",{className:`parent-onglet ${k==="lacunes"?"parent-onglet-actif":""}`,onClick:()=>q("lacunes"),children:[" Lacunes (",u.lacunes.length,")"]}),o.jsxs("button",{className:`parent-onglet ${k==="alertes"?"parent-onglet-actif":""}`,onClick:()=>q("alertes"),children:[" Alertes (",u.alertes.length,")"]}),o.jsx("button",{className:`parent-onglet ${k==="resume"?"parent-onglet-actif":""}`,onClick:()=>q("resume"),children:" Rsum"})]}),o.jsxs("div",{className:"parent-onglet-contenu",children:[k==="apercu"&&o.jsxs("div",{className:"parent-tab-apercu",children:[o.jsxs("div",{className:"parent-section",children:[o.jsx("h3",{children:" Derniers quiz passs"}),u.derniersQuiz.length===0?o.jsx("p",{className:"parent-vide",children:"Aucun quiz pass rcemment."}):o.jsx("div",{className:"parent-quiz-liste",children:u.derniersQuiz.map((Q,H)=>o.jsxs("div",{className:`parent-quiz-item ${Q.reussi?"parent-quiz-reussi":"parent-quiz-echoue"}`,children:[o.jsxs("div",{className:"parent-quiz-info",children:[o.jsx("span",{className:"parent-quiz-discipline",children:Q.disciplineNom}),o.jsx("span",{className:"parent-quiz-titre",children:Q.quizTitre})]}),o.jsxs("div",{className:"parent-quiz-score",children:[o.jsxs("span",{className:`parent-quiz-note ${Q.reussi?"note-ok":"note-ko"}`,children:[Q.noteSur20,"/20"]}),o.jsx("span",{className:"parent-quiz-statut",children:Q.reussi?" Russi":" chou"})]}),o.jsx("span",{className:"parent-quiz-date",children:k1(Q.datePassage)})]},H))})]}),o.jsxs("div",{className:"parent-section",children:[o.jsx("h3",{children:" Objectifs de la semaine"}),u.objectifs.length===0?o.jsx("p",{className:"parent-vide",children:"Aucun objectif cette semaine."}):o.jsx("div",{className:"parent-objectifs-liste",children:u.objectifs.map((Q,H)=>o.jsxs("div",{className:"parent-objectif-item",children:[o.jsxs("div",{className:"parent-objectif-header",children:[o.jsx("span",{className:"parent-objectif-titre",children:Q.titre}),o.jsx("span",{className:`parent-objectif-statut parent-statut-${Q.statut}`,children:Q.statut==="atteint"?" Atteint":Q.statut==="en_cours"?" En cours":Q.statut==="echoue"?" chou":" Non commenc"})]}),o.jsx("div",{className:"parent-progress-bar",children:o.jsx("div",{className:`parent-progress-fill parent-progress-${Q.statut}`,style:{width:`${Math.min(Q.progression/Q.cible*100,100)}%`}})}),o.jsxs("span",{className:"parent-objectif-detail",children:[Q.progression,"/",Q.cible]})]},H))})]})]}),k==="lacunes"&&o.jsx("div",{className:"parent-tab-lacunes",children:u.lacunes.length===0?o.jsxs("div",{className:"parent-vide-section",children:[o.jsx("span",{className:"parent-vide-icon",children:""}),o.jsx("p",{children:"Aucune lacune dtecte ! Votre enfant est sur la bonne voie."})]}):o.jsx("div",{className:"parent-lacunes-liste",children:u.lacunes.map((Q,H)=>o.jsxs("div",{className:"parent-lacune-item",style:{borderLeftColor:sy(Q.niveauUrgence)},children:[o.jsxs("div",{className:"parent-lacune-header",children:[o.jsx("span",{className:"parent-lacune-discipline",children:Q.disciplineNom}),o.jsx("span",{className:"parent-lacune-badge",style:{backgroundColor:sy(Q.niveauUrgence),color:"#fff"},children:EU(Q.niveauUrgence)})]}),o.jsxs("div",{className:"parent-lacune-details",children:[o.jsxs("span",{className:"parent-lacune-moyenne",children:["Moyenne : ",o.jsxs("strong",{children:[Q.moyenne,"/20"]})]}),o.jsxs("span",{className:"parent-lacune-tendance",children:["Tendance : ",NU(Q.tendance)," ",Q.tendance==="hausse"?"En hausse":Q.tendance==="baisse"?"En baisse":"Stable"]})]}),o.jsx("p",{className:"parent-lacune-conseil",children:Q.niveauUrgence==="critique"?" Intervention recommande : discutez avec votre enfant et envisagez un soutien scolaire.":Q.niveauUrgence==="important"?" Encouragez votre enfant  rviser cette matire rgulirement.":" Quelques rvisions suffiront pour consolider les acquis."})]},H))})}),k==="alertes"&&o.jsx("div",{className:"parent-tab-alertes",children:u.alertes.length===0?o.jsxs("div",{className:"parent-vide-section",children:[o.jsx("span",{className:"parent-vide-icon",children:""}),o.jsx("p",{children:"Aucune alerte pour le moment. Tout va bien !"})]}):o.jsx("div",{className:"parent-alertes-liste",children:u.alertes.map((Q,H)=>o.jsxs("div",{className:`parent-alerte-item parent-alerte-${Q.niveau}`,children:[o.jsxs("div",{className:"parent-alerte-header",children:[o.jsx("span",{className:"parent-alerte-titre",children:Q.titre}),o.jsx("span",{className:"parent-alerte-badge",style:{backgroundColor:yge(Q.niveau),color:"#fff"},children:bge(Q.type)})]}),o.jsx("p",{className:"parent-alerte-message",children:Q.message}),o.jsx("span",{className:"parent-alerte-date",children:k1(Q.dateCreation)})]},H))})}),k==="resume"&&u.resume&&o.jsxs("div",{className:"parent-tab-resume",children:[o.jsxs("div",{className:"parent-resume-header",children:[o.jsxs("h3",{children:[" Rsum : ",u.resume.semaine]}),o.jsxs("span",{className:"parent-resume-evolution",children:["Score : ",u.resume.scoreGlobal,"/100"," ",GD(u.resume.evolutionScore)]})]}),o.jsxs("div",{className:"parent-resume-stats",children:[o.jsxs("div",{className:"parent-resume-stat",children:[o.jsx("span",{className:"parent-resume-stat-value",children:u.resume.nombreQuizSemaine}),o.jsx("span",{className:"parent-resume-stat-label",children:"Quiz passs"})]}),o.jsxs("div",{className:"parent-resume-stat",children:[o.jsxs("span",{className:"parent-resume-stat-value",children:[u.resume.joursActifsSemaine,"/7"]}),o.jsx("span",{className:"parent-resume-stat-label",children:"Jours actifs"})]}),o.jsxs("div",{className:"parent-resume-stat",children:[o.jsxs("span",{className:"parent-resume-stat-value",children:[u.resume.tempsEstimeMinutes," min"]}),o.jsx("span",{className:"parent-resume-stat-label",children:"Temps d'tude"})]}),o.jsxs("div",{className:"parent-resume-stat",children:[o.jsxs("span",{className:"parent-resume-stat-value",children:[u.resume.objectifsAtteints,"/",u.resume.objectifsTotal]}),o.jsx("span",{className:"parent-resume-stat-label",children:"Objectifs atteints"})]})]}),u.resume.evolutionDisciplines.length>0&&o.jsxs("div",{className:"parent-section",children:[o.jsx("h4",{children:" volution par matire"}),o.jsx("div",{className:"parent-evolution-liste",children:u.resume.evolutionDisciplines.map((Q,H)=>o.jsxs("div",{className:"parent-evolution-item",children:[o.jsx("span",{className:"parent-evolution-discipline",children:Q.disciplineNom}),o.jsxs("div",{className:"parent-evolution-scores",children:[o.jsxs("span",{className:"parent-evolution-prec",children:[Q.moyenneSemainePrecedente,"/20"]}),o.jsx("span",{className:"parent-evolution-fleche",children:GD(Q.evolution)}),o.jsxs("span",{className:"parent-evolution-courante",children:[Q.moyenneSemaineCourante,"/20"]}),o.jsxs("span",{className:`parent-evolution-ecart ${Q.ecart>0?"ecart-positif":Q.ecart<0?"ecart-negatif":""}`,children:["(",Q.ecart>0?"+":"",Q.ecart,")"]})]})]},H))})]}),u.resume.disciplinesEnDifficulte.length>0&&o.jsxs("div",{className:"parent-section parent-section-warning",children:[o.jsx("h4",{children:" Matires ncessitant une attention"}),o.jsx("ul",{className:"parent-disciplines-difficulte",children:u.resume.disciplinesEnDifficulte.map((Q,H)=>o.jsx("li",{children:Q},H))})]})]}),k==="resume"&&!u.resume&&o.jsxs("div",{className:"parent-vide-section",children:[o.jsx("span",{className:"parent-vide-icon",children:""}),o.jsx("p",{children:"Le rsum sera disponible une fois que votre enfant aura pass des quiz."})]})]})]}):o.jsxs("div",{className:"parent-erreur-dashboard",children:[o.jsx("p",{children:" Impossible de charger le suivi. Veuillez ressayer."}),o.jsx("button",{className:"parent-btn parent-btn-primary",onClick:()=>s&&M(s),children:" Ressayer"})]}):o.jsx("div",{className:"parent-select-enfant",children:o.jsx("p",{children:" Slectionnez un enfant dans la liste pour voir son suivi."})})})]})]})},Xge=["bold","italic","underline","strikethrough","heading","color","highlight","alignLeft","alignCenter","alignRight","bulletList","numberedList","subscript","superscript","link","clean"],Jge=["#000000","#dc2626","#2563eb","#059669","#d97706","#7c3aed","#ec4899","#64748b","#ffffff"],Zge=["#fef08a","#bbf7d0","#bfdbfe","#fecaca","#e9d5ff","#fed7aa","transparent"],Ks=({value:t,onChange:e,placeholder:n="Saisissez votre texte...",minHeight:r=100,maxHeight:i=400,toolbar:s=Xge,disabled:c=!1,className:u=""})=>{const f=j.useRef(null),h=j.useRef(!1),[p,g]=j.useState(!1),[y,x]=j.useState(!1);j.useEffect(()=>{f.current&&!h.current&&f.current.innerHTML!==t&&(f.current.innerHTML=t||""),h.current=!1},[t]);const E=j.useCallback(()=>{f.current&&(h.current=!0,e(f.current.innerHTML))},[e]),w=j.useCallback((O,C)=>{f.current?.focus(),document.execCommand(O,!1,C),E()},[E]),N=j.useCallback(()=>{const O=prompt("URL du lien :","https://");O&&w("createLink",O)},[w]),A=j.useCallback(()=>{w("removeFormat"),w("formatBlock","p")},[w]);j.useEffect(()=>{const O=()=>{g(!1),x(!1)};return document.addEventListener("click",O),()=>document.removeEventListener("click",O)},[]);const R=O=>{switch(O){case"bold":return o.jsx("button",{type:"button",className:"rte-btn",title:"Gras (Ctrl+B)",onMouseDown:C=>{C.preventDefault(),w("bold")},children:o.jsx("strong",{children:"G"})},"bold");case"italic":return o.jsx("button",{type:"button",className:"rte-btn",title:"Italique (Ctrl+I)",onMouseDown:C=>{C.preventDefault(),w("italic")},children:o.jsx("em",{children:"I"})},"italic");case"underline":return o.jsx("button",{type:"button",className:"rte-btn",title:"Soulign (Ctrl+U)",onMouseDown:C=>{C.preventDefault(),w("underline")},children:o.jsx("u",{children:"S"})},"underline");case"strikethrough":return o.jsx("button",{type:"button",className:"rte-btn",title:"Barr",onMouseDown:C=>{C.preventDefault(),w("strikeThrough")},children:o.jsx("s",{children:"B"})},"strike");case"heading":return o.jsx("button",{type:"button",className:"rte-btn",title:"Titre",onMouseDown:C=>{C.preventDefault(),w("formatBlock","h3")},children:"H"},"heading");case"color":return o.jsxs("span",{className:"rte-dropdown-wrapper",onClick:C=>C.stopPropagation(),children:[o.jsx("button",{type:"button",className:"rte-btn",title:"Couleur du texte",onClick:()=>{g(!p),x(!1)},children:o.jsx("span",{style:{borderBottom:"3px solid #dc2626"},children:"A"})}),p&&o.jsx("div",{className:"rte-color-picker",children:Jge.map(C=>o.jsx("button",{type:"button",className:"rte-color-swatch",style:{backgroundColor:C,border:C==="#ffffff"?"1px solid #ccc":"none"},onMouseDown:V=>{V.preventDefault(),w("foreColor",C),g(!1)}},C))})]},"color");case"highlight":return o.jsxs("span",{className:"rte-dropdown-wrapper",onClick:C=>C.stopPropagation(),children:[o.jsx("button",{type:"button",className:"rte-btn",title:"Surligner",onClick:()=>{x(!y),g(!1)},children:o.jsx("span",{style:{backgroundColor:"#fef08a",padding:"0 3px"},children:"S"})}),y&&o.jsx("div",{className:"rte-color-picker",children:Zge.map(C=>o.jsx("button",{type:"button",className:"rte-color-swatch",style:{backgroundColor:C==="transparent"?"#fff":C,border:"1px solid #ccc"},onMouseDown:V=>{V.preventDefault(),w("hiliteColor",C),x(!1)},children:C==="transparent"?"":""},C))})]},"highlight");case"alignLeft":return o.jsx("button",{type:"button",className:"rte-btn",title:"Aligner  gauche",onMouseDown:C=>{C.preventDefault(),w("justifyLeft")},children:""},"alignL");case"alignCenter":return o.jsx("button",{type:"button",className:"rte-btn",title:"Centrer",onMouseDown:C=>{C.preventDefault(),w("justifyCenter")},children:""},"alignC");case"alignRight":return o.jsx("button",{type:"button",className:"rte-btn",title:"Aligner  droite",onMouseDown:C=>{C.preventDefault(),w("justifyRight")},children:""},"alignR");case"bulletList":return o.jsx("button",{type:"button",className:"rte-btn",title:"Liste  puces",onMouseDown:C=>{C.preventDefault(),w("insertUnorderedList")},children:""},"ul");case"numberedList":return o.jsx("button",{type:"button",className:"rte-btn",title:"Liste numrote",onMouseDown:C=>{C.preventDefault(),w("insertOrderedList")},children:"1"},"ol");case"subscript":return o.jsxs("button",{type:"button",className:"rte-btn",title:"Indice",onMouseDown:C=>{C.preventDefault(),w("subscript")},children:["X",o.jsx("sub",{children:""})]},"sub");case"superscript":return o.jsxs("button",{type:"button",className:"rte-btn",title:"Exposant",onMouseDown:C=>{C.preventDefault(),w("superscript")},children:["X",o.jsx("sup",{children:""})]},"sup");case"link":return o.jsx("button",{type:"button",className:"rte-btn",title:"Insrer un lien",onMouseDown:C=>{C.preventDefault(),N()},children:""},"link");case"clean":return o.jsx("button",{type:"button",className:"rte-btn rte-btn-clean",title:"Nettoyer le formatage",onMouseDown:C=>{C.preventDefault(),A()},children:""},"clean");default:return null}};return o.jsxs("div",{className:`rte-container ${c?"rte-disabled":""} ${u}`,children:[!c&&o.jsx("div",{className:"rte-toolbar",children:s.map(O=>R(O))}),o.jsx("div",{ref:f,className:"rte-editor",contentEditable:!c,onInput:E,onBlur:E,"data-placeholder":n,style:{minHeight:`${r}px`,maxHeight:`${i}px`},suppressContentEditableWarning:!0})]})},vd={qcm_unique:"QCM  Choix unique",qcm_multiple:"QCM  Choix multiple",drag_drop:"Glisser-Dposer",mise_en_relation:"Mise en relation",essai:"Essai / Rdaction"},oy={qcm_unique:"",qcm_multiple:"",drag_drop:"",mise_en_relation:"",essai:""},ly={qcm_unique:"#2563eb",qcm_multiple:"#7c3aed",drag_drop:"#059669",mise_en_relation:"#d97706",essai:"#dc2626"};function In(t="id"){return`${t}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function eve(t,e){const n={id:In("q"),type:t,enonce:"",difficulte:"moyen",points:2,ordre:e};switch(t){case"qcm_unique":return{...n,typeData:{options:[{id:In("opt"),texte:"",isCorrect:!0},{id:In("opt"),texte:"",isCorrect:!1},{id:In("opt"),texte:"",isCorrect:!1},{id:In("opt"),texte:"",isCorrect:!1}]}};case"qcm_multiple":return{...n,typeData:{options:[{id:In("opt"),texte:"",isCorrect:!0},{id:In("opt"),texte:"",isCorrect:!0},{id:In("opt"),texte:"",isCorrect:!1},{id:In("opt"),texte:"",isCorrect:!1}],scoringPartiel:!0}};case"drag_drop":return{...n,typeData:{items:[{id:In("item"),texte:"",ordreCorrect:1},{id:In("item"),texte:"",ordreCorrect:2},{id:In("item"),texte:"",ordreCorrect:3}],consigneOrdre:"Remettez les lments dans le bon ordre"}};case"mise_en_relation":return{...n,typeData:{paires:[{id:In("pair"),gauche:"",droite:""},{id:In("pair"),gauche:"",droite:""},{id:In("pair"),gauche:"",droite:""}]}};case"essai":return{...n,points:5,typeData:{nombreMotsMin:50,nombreMotsMax:500,motsCles:[],correctionMode:"manuelle"}}}}const Am="quizzes_v2",tve="quiz_results_v2";async function nve(t,e){try{const n=await Bi(rt(Ee,Am),{...t,auteurId:e,createdAt:nn(),updatedAt:nn()});return console.log(" Quiz avanc cr :",n.id),n.id}catch(n){throw console.error(" Erreur cration quiz avanc :",n),new Error("Impossible de crer le quiz")}}async function rve(t,e){try{const n=Qe(Ee,Am,t);await an(n,{...e,updatedAt:nn()}),console.log(" Quiz avanc mis  jour :",t)}catch(n){throw console.error(" Erreur mise  jour quiz :",n),new Error("Impossible de mettre  jour le quiz")}}async function ive(t){try{await Ad(Qe(Ee,Am,t)),console.log(" Quiz avanc supprim :",t)}catch(e){throw console.error(" Erreur suppression quiz :",e),new Error("Impossible de supprimer le quiz")}}async function IU(t){try{const e=await Zr(Qe(Ee,Am,t));if(!e.exists())return null;const n=e.data();return{id:e.id,...n,createdAt:n.createdAt?.toDate()||new Date,updatedAt:n.updatedAt?.toDate()||void 0}}catch(e){throw console.error(" Erreur rcupration quiz :",e),new Error("Impossible de rcuprer le quiz")}}async function ave(){try{const t=Nt(rt(Ee,Am),jr("createdAt","desc"));return(await St(t)).docs.map(n=>{const r=n.data();return{id:n.id,...r,createdAt:r.createdAt?.toDate()||new Date,updatedAt:r.updatedAt?.toDate()||void 0}})}catch(t){throw console.error(" Erreur rcupration tous les quiz :",t),new Error("Impossible de rcuprer les quiz")}}function sve(t,e){let n=0,r=0;const i=[];for(const s of t.questions){r+=s.points;const c=e.find(g=>g.questionId===s.id);if(!c){i.push({questionId:s.id,type:s.type,pointsObtenus:0,pointsMax:s.points,isCorrect:!1});continue}let u=0,f=!1,h=!1,p=!1;switch(s.type){case"qcm_unique":{const y=s.typeData.options.find(x=>x.isCorrect);y&&c.selectedOptionId===y.id&&(u=s.points,f=!0);break}case"qcm_multiple":{const g=s.typeData,y=g.options.filter(A=>A.isCorrect).map(A=>A.id),x=g.options.filter(A=>!A.isCorrect).map(A=>A.id),E=c.selectedOptionIds||[],w=E.some(A=>x.includes(A)),N=E.filter(A=>y.includes(A)).length;!w&&N===y.length?(u=s.points,f=!0):g.scoringPartiel&&N>0&&!w&&(u=Math.round(s.points*N/y.length*100)/100,h=!0);break}case"drag_drop":{const g=s.typeData,y=c.ordrePropose||[],x=g.items.sort((w,N)=>w.ordreCorrect-N.ordreCorrect).map(w=>w.id);let E=0;for(let w=0;w<x.length;w++)y[w]===x[w]&&E++;E===x.length?(u=s.points,f=!0):E>0&&(u=Math.round(s.points*E/x.length*100)/100,h=!0);break}case"mise_en_relation":{const g=s.typeData,y=c.relationsProposees||{};let x=0;for(const E of g.paires)y[E.id]===E.id&&x++;x===g.paires.length?(u=s.points,f=!0):x>0&&(u=Math.round(s.points*x/g.paires.length*100)/100,h=!0);break}case"essai":{const g=s.typeData,y=c.texteReponse||"";if(g.correctionMode==="mots_cles"&&g.motsCles.length>0){const x=y.toLowerCase().replace(/<[^>]*>/g,"");let E=0,w=0;for(const N of g.motsCles)E+=N.poids,x.includes(N.mot.toLowerCase())&&(w+=N.poids);E>0&&(u=Math.round(s.points*w/E*100)/100,f=w===E,h=w>0&&w<E)}else p=!0;break}}n+=u,i.push({questionId:s.id,type:s.type,pointsObtenus:u,pointsMax:s.points,isCorrect:f,isPartiel:h,correctionManuelleRequise:p})}return{score:n,scoreMax:r,details:i}}async function ove(t,e,n,r){try{const{score:i,scoreMax:s,details:c}=sve(t,n),u=s>0?Math.round(i/s*20*100)/100:0,f=c.some(g=>g.correctionManuelleRequise),h={quizId:t.id,userId:e,reponses:n,score:i,scoreMax:s,note20:u,tempsEcoule:r,datePassage:new Date,reussi:u>=t.noteMinimale,correctionManuelle:f,detailsParQuestion:c},p=await Bi(rt(Ee,tve),{...h,datePassage:nn()});return console.log(" Rsultat quiz enregistr :",p.id),{id:p.id,...h}}catch(i){throw console.error(" Erreur soumission quiz :",i),new Error("Impossible d'enregistrer le rsultat")}}const lve=({existingQuiz:t,disciplines:e,auteurId:n,onSave:r,onCancel:i})=>{const[s,c]=j.useState(t?.titre||""),[u,f]=j.useState(t?.description||""),[h,p]=j.useState(t?.disciplineId||""),[g,y]=j.useState(t?.duree||30),[x,E]=j.useState(t?.isPremium??!0),[w,N]=j.useState(t?.noteMinimale||10),[A,R]=j.useState(t?.melangerQuestions??!1),[O,C]=j.useState(t?.melangerOptions??!1),[V,$]=j.useState(t?.afficherCorrection??!0),[D,I]=j.useState(t?.tentativesMax||0),[k,q]=j.useState(t?.questions||[]),[L,M]=j.useState(null),[U,X]=j.useState(!1),[Q,H]=j.useState(null),[ce,Y]=j.useState(!1),_e=j.useCallback(re=>{const pe=eve(re,k.length+1);q(Me=>[...Me,pe]),M(k.length),Y(!1)},[k.length]),W=j.useCallback(re=>{confirm("Supprimer cette question ?")&&(q(pe=>pe.filter((oe,Se)=>Se!==re).map((oe,Se)=>({...oe,ordre:Se+1}))),M(null))},[]),F=j.useCallback(re=>{q(pe=>{const Me=pe[re],oe={...JSON.parse(JSON.stringify(Me)),id:In("q"),ordre:pe.length+1};return[...pe,oe]})},[]),ne=j.useCallback((re,pe)=>{q(Me=>{const oe=[...Me],Se=pe==="up"?re-1:re+1;return Se<0||Se>=oe.length?Me:([oe[re],oe[Se]]=[oe[Se],oe[re]],oe.map((J,ve)=>({...J,ordre:ve+1})))}),M(pe==="up"?L!==null?L-1:null:L!==null?L+1:null)},[L]),ge=j.useCallback((re,pe)=>{q(Me=>Me.map((oe,Se)=>Se===re?{...oe,...pe}:oe))},[]),je=async()=>{if(!s.trim()){H("Le titre est obligatoire");return}if(!h){H("Slectionnez une discipline");return}if(k.length===0){H("Ajoutez au moins une question");return}for(let re=0;re<k.length;re++)if(!k[re].enonce.replace(/<[^>]*>/g,"").trim()){H(`La question ${re+1} n'a pas d'nonc`),M(re);return}H(null),X(!0);try{const re={disciplineId:h,titre:s.trim(),description:u.trim()||void 0,questions:k,duree:g,isPremium:x,noteMinimale:w,melangerQuestions:A,melangerOptions:O,afficherCorrection:V,tentativesMax:D};let pe;t?.id?(await rve(t.id,re),pe=t.id):pe=await nve(re,n),r?.(pe)}catch(re){H(re.message||"Erreur lors de la sauvegarde")}finally{X(!1)}},Z=k.reduce((re,pe)=>re+pe.points,0);return o.jsxs("div",{className:"quiz-editor",children:[o.jsxs("div",{className:"quiz-editor__header",children:[o.jsx("h2",{children:t?" Modifier le quiz":" Nouveau quiz avanc"}),o.jsxs("div",{className:"quiz-editor__header-actions",children:[o.jsxs("span",{className:"quiz-editor__score-badge",children:["Score total : ",Z," pts"]}),o.jsxs("span",{className:"quiz-editor__count-badge",children:[k.length," question",k.length>1?"s":""]})]})]}),Q&&o.jsxs("div",{className:"quiz-editor__error",children:[" ",Q,o.jsx("button",{onClick:()=>H(null),children:""})]}),o.jsxs("div",{className:"quiz-editor__section",children:[o.jsx("h3",{className:"quiz-editor__section-title",children:" Paramtres du quiz"}),o.jsxs("div",{className:"quiz-editor__grid",children:[o.jsxs("div",{className:"quiz-editor__field quiz-editor__field--full",children:[o.jsx("label",{children:"Titre du quiz *"}),o.jsx("input",{type:"text",value:s,onChange:re=>c(re.target.value),placeholder:"Ex: valuation Chapitre 3  Les fonctions",className:"quiz-editor__input"})]}),o.jsxs("div",{className:"quiz-editor__field",children:[o.jsx("label",{children:"Discipline *"}),o.jsxs("select",{value:h,onChange:re=>p(re.target.value),className:"quiz-editor__select",children:[o.jsx("option",{value:"",children:" Slectionner "}),e.map(re=>o.jsxs("option",{value:re.id,children:[re.nom," (",re.classe,")"]},re.id))]})]}),o.jsxs("div",{className:"quiz-editor__field",children:[o.jsx("label",{children:"Dure (minutes)"}),o.jsx("input",{type:"number",value:g,onChange:re=>y(Number(re.target.value)),min:1,max:180,className:"quiz-editor__input"})]}),o.jsxs("div",{className:"quiz-editor__field",children:[o.jsx("label",{children:"Note minimale (/20)"}),o.jsx("input",{type:"number",value:w,onChange:re=>N(Number(re.target.value)),min:0,max:20,className:"quiz-editor__input"})]}),o.jsxs("div",{className:"quiz-editor__field",children:[o.jsx("label",{children:"Tentatives max (0 = illimit)"}),o.jsx("input",{type:"number",value:D,onChange:re=>I(Number(re.target.value)),min:0,max:10,className:"quiz-editor__input"})]}),o.jsxs("div",{className:"quiz-editor__field quiz-editor__field--full",children:[o.jsx("label",{children:"Description (optionnel)"}),o.jsx(Ks,{value:u,onChange:f,placeholder:"Dcrivez le contenu et les objectifs de ce quiz...",minHeight:80,toolbar:["bold","italic","underline","color","bulletList"]})]})]}),o.jsxs("div",{className:"quiz-editor__options-row",children:[o.jsxs("label",{className:"quiz-editor__checkbox",children:[o.jsx("input",{type:"checkbox",checked:x,onChange:re=>E(re.target.checked)}),o.jsx("span",{children:" Premium"})]}),o.jsxs("label",{className:"quiz-editor__checkbox",children:[o.jsx("input",{type:"checkbox",checked:A,onChange:re=>R(re.target.checked)}),o.jsx("span",{children:" Mlanger les questions"})]}),o.jsxs("label",{className:"quiz-editor__checkbox",children:[o.jsx("input",{type:"checkbox",checked:O,onChange:re=>C(re.target.checked)}),o.jsx("span",{children:" Mlanger les options QCM"})]}),o.jsxs("label",{className:"quiz-editor__checkbox",children:[o.jsx("input",{type:"checkbox",checked:V,onChange:re=>$(re.target.checked)}),o.jsx("span",{children:" Afficher la correction"})]})]})]}),o.jsxs("div",{className:"quiz-editor__section",children:[o.jsx("h3",{className:"quiz-editor__section-title",children:" Questions"}),o.jsx("div",{className:"quiz-editor__questions-list",children:k.map((re,pe)=>o.jsx(cve,{question:re,index:pe,isActive:L===pe,onToggle:()=>M(L===pe?null:pe),onUpdate:Me=>ge(pe,Me),onDelete:()=>W(pe),onDuplicate:()=>F(pe),onMoveUp:()=>ne(pe,"up"),onMoveDown:()=>ne(pe,"down"),isFirst:pe===0,isLast:pe===k.length-1},re.id))}),o.jsxs("div",{className:"quiz-editor__add-wrapper",children:[o.jsx("button",{type:"button",className:"quiz-editor__add-btn",onClick:()=>Y(!ce),children:"+ Ajouter une question"}),ce&&o.jsx("div",{className:"quiz-editor__add-menu",children:Object.keys(vd).map(re=>o.jsxs("button",{type:"button",className:"quiz-editor__add-menu-item",onClick:()=>_e(re),children:[o.jsx("span",{className:"quiz-editor__type-badge",style:{backgroundColor:ly[re]},children:oy[re]}),o.jsx("span",{children:vd[re]})]},re))})]})]}),o.jsxs("div",{className:"quiz-editor__actions",children:[o.jsx("button",{type:"button",className:"quiz-editor__btn quiz-editor__btn--secondary",onClick:i,disabled:U,children:"Annuler"}),o.jsx("button",{type:"button",className:"quiz-editor__btn quiz-editor__btn--primary",onClick:je,disabled:U||k.length===0,children:U?" Sauvegarde...":t?" Mettre  jour":" Crer le quiz"})]})]})},cve=({question:t,index:e,isActive:n,onToggle:r,onUpdate:i,onDelete:s,onDuplicate:c,onMoveUp:u,onMoveDown:f,isFirst:h,isLast:p})=>{const g=ly[t.type],y=oy[t.type],x=vd[t.type],E=w=>{const N=w.replace(/<[^>]*>/g,"").trim();return N.length>80?N.substring(0,80)+"...":N||"(sans nonc)"};return o.jsxs("div",{className:`question-editor ${n?"question-editor--active":""}`,style:{borderLeftColor:g},children:[o.jsxs("div",{className:"question-editor__header",onClick:r,children:[o.jsxs("div",{className:"question-editor__header-left",children:[o.jsx("span",{className:"question-editor__number",children:e+1}),o.jsxs("span",{className:"question-editor__type-badge",style:{backgroundColor:g},children:[y," ",x]}),!n&&o.jsx("span",{className:"question-editor__preview",children:E(t.enonce)})]}),o.jsxs("div",{className:"question-editor__header-right",children:[o.jsxs("span",{className:"question-editor__points",children:[t.points," pts"]}),o.jsx("span",{className:"question-editor__toggle",children:n?"":""})]})]}),n&&o.jsxs("div",{className:"question-editor__body",children:[o.jsxs("div",{className:"question-editor__toolbar",children:[o.jsx("button",{type:"button",onClick:u,disabled:h,title:"Monter",children:""}),o.jsx("button",{type:"button",onClick:f,disabled:p,title:"Descendre",children:""}),o.jsx("button",{type:"button",onClick:c,title:"Dupliquer",children:""}),o.jsx("button",{type:"button",onClick:s,className:"btn-danger",title:"Supprimer",children:""})]}),o.jsxs("div",{className:"question-editor__field",children:[o.jsx("label",{children:"nonc de la question *"}),o.jsx(Ks,{value:t.enonce,onChange:w=>i({enonce:w}),placeholder:"Saisissez l'nonc de la question...",minHeight:100})]}),o.jsxs("div",{className:"question-editor__params",children:[o.jsxs("div",{className:"question-editor__param",children:[o.jsx("label",{children:"Difficult"}),o.jsxs("select",{value:t.difficulte,onChange:w=>i({difficulte:w.target.value}),children:[o.jsx("option",{value:"facile",children:" Facile"}),o.jsx("option",{value:"moyen",children:" Moyen"}),o.jsx("option",{value:"difficile",children:" Difficile"})]})]}),o.jsxs("div",{className:"question-editor__param",children:[o.jsx("label",{children:"Points"}),o.jsx("input",{type:"number",value:t.points,onChange:w=>i({points:Number(w.target.value)}),min:1,max:20})]})]}),o.jsxs("div",{className:"question-editor__type-specific",children:[t.type==="qcm_unique"&&o.jsx(uve,{data:t.typeData,onChange:w=>i({typeData:w})}),t.type==="qcm_multiple"&&o.jsx(dve,{data:t.typeData,onChange:w=>i({typeData:w})}),t.type==="drag_drop"&&o.jsx(fve,{data:t.typeData,onChange:w=>i({typeData:w})}),t.type==="mise_en_relation"&&o.jsx(hve,{data:t.typeData,onChange:w=>i({typeData:w})}),t.type==="essai"&&o.jsx(mve,{data:t.typeData,onChange:w=>i({typeData:w})})]}),o.jsxs("div",{className:"question-editor__field",children:[o.jsx("label",{children:"Explication (affiche aprs correction, optionnel)"}),o.jsx(Ks,{value:t.explication||"",onChange:w=>i({explication:w}),placeholder:"Expliquez la bonne rponse...",minHeight:60,toolbar:["bold","italic","color","link"]})]})]})]})},uve=({data:t,onChange:e})=>{const n=(s,c)=>{const u=t.options.map((f,h)=>h===s?{...f,...c}:c.isCorrect===!0?{...f,isCorrect:!1}:f);e({options:u})},r=()=>{t.options.length>=6||e({options:[...t.options,{id:In("opt"),texte:"",isCorrect:!1}]})},i=s=>{t.options.length<=2||e({options:t.options.filter((c,u)=>u!==s)})};return o.jsxs("div",{className:"type-editor",children:[o.jsx("label",{className:"type-editor__label",children:" Options (slectionnez la bonne rponse)"}),t.options.map((s,c)=>o.jsxs("div",{className:"type-editor__option-row",children:[o.jsx("input",{type:"radio",name:`qcm_unique_${s.id}`,checked:s.isCorrect,onChange:()=>n(c,{isCorrect:!0}),className:"type-editor__radio",title:"Bonne rponse"}),o.jsx("div",{className:"type-editor__option-text",children:o.jsx(Ks,{value:s.texte,onChange:u=>n(c,{texte:u}),placeholder:`Option ${c+1}...`,minHeight:40,toolbar:["bold","italic","color","subscript","superscript"]})}),s.isCorrect&&o.jsx("span",{className:"type-editor__correct-badge",children:""}),o.jsx("button",{type:"button",className:"type-editor__remove-btn",onClick:()=>i(c),disabled:t.options.length<=2,title:"Supprimer cette option",children:""})]},s.id)),t.options.length<6&&o.jsx("button",{type:"button",className:"type-editor__add-btn",onClick:r,children:"+ Ajouter une option"})]})},dve=({data:t,onChange:e})=>{const n=(s,c)=>{const u=t.options.map((f,h)=>h===s?{...f,...c}:f);e({...t,options:u})},r=()=>{t.options.length>=8||e({...t,options:[...t.options,{id:In("opt"),texte:"",isCorrect:!1}]})},i=s=>{t.options.length<=2||e({...t,options:t.options.filter((c,u)=>u!==s)})};return o.jsxs("div",{className:"type-editor",children:[o.jsx("label",{className:"type-editor__label",children:" Options (cochez toutes les bonnes rponses)"}),t.options.map((s,c)=>o.jsxs("div",{className:"type-editor__option-row",children:[o.jsx("input",{type:"checkbox",checked:s.isCorrect,onChange:u=>n(c,{isCorrect:u.target.checked}),className:"type-editor__checkbox",title:"Bonne rponse"}),o.jsx("div",{className:"type-editor__option-text",children:o.jsx(Ks,{value:s.texte,onChange:u=>n(c,{texte:u}),placeholder:`Option ${c+1}...`,minHeight:40,toolbar:["bold","italic","color","subscript","superscript"]})}),s.isCorrect&&o.jsx("span",{className:"type-editor__correct-badge",children:""}),o.jsx("button",{type:"button",className:"type-editor__remove-btn",onClick:()=>i(c),disabled:t.options.length<=2,children:""})]},s.id)),t.options.length<8&&o.jsx("button",{type:"button",className:"type-editor__add-btn",onClick:r,children:"+ Ajouter une option"}),o.jsxs("label",{className:"type-editor__sub-option",children:[o.jsx("input",{type:"checkbox",checked:t.scoringPartiel,onChange:s=>e({...t,scoringPartiel:s.target.checked})}),o.jsx("span",{children:"Accorder des points partiels (proportionnel aux bonnes rponses trouves)"})]})]})},fve=({data:t,onChange:e})=>{const n=(s,c)=>{const u=t.items.map((f,h)=>h===s?{...f,...c}:f);e({...t,items:u})},r=()=>{t.items.length>=10||e({...t,items:[...t.items,{id:In("item"),texte:"",ordreCorrect:t.items.length+1}]})},i=s=>{if(t.items.length<=2)return;const c=t.items.filter((u,f)=>f!==s).map((u,f)=>({...u,ordreCorrect:f+1}));e({...t,items:c})};return o.jsxs("div",{className:"type-editor",children:[o.jsx("label",{className:"type-editor__label",children:" lments  rordonner (dans l'ordre correct)"}),o.jsx("p",{className:"type-editor__hint",children:"Saisissez les lments dans l'ordre correct. Ils seront mlangs automatiquement pour l'lve."}),o.jsxs("div",{className:"type-editor__field-inline",children:[o.jsx("label",{children:"Consigne :"}),o.jsx("input",{type:"text",value:t.consigneOrdre,onChange:s=>e({...t,consigneOrdre:s.target.value}),placeholder:"Ex: Classez du plus ancien au plus rcent",className:"type-editor__input"})]}),t.items.map((s,c)=>o.jsxs("div",{className:"type-editor__drag-row",children:[o.jsx("span",{className:"type-editor__drag-number",children:c+1}),o.jsx("div",{className:"type-editor__option-text",children:o.jsx(Ks,{value:s.texte,onChange:u=>n(c,{texte:u}),placeholder:`lment ${c+1}...`,minHeight:40,toolbar:["bold","italic","color"]})}),o.jsx("button",{type:"button",className:"type-editor__remove-btn",onClick:()=>i(c),disabled:t.items.length<=2,children:""})]},s.id)),t.items.length<10&&o.jsx("button",{type:"button",className:"type-editor__add-btn",onClick:r,children:"+ Ajouter un lment"})]})},hve=({data:t,onChange:e})=>{const n=(s,c)=>{const u=t.paires.map((f,h)=>h===s?{...f,...c}:f);e({paires:u})},r=()=>{t.paires.length>=8||e({paires:[...t.paires,{id:In("pair"),gauche:"",droite:""}]})},i=s=>{t.paires.length<=2||e({paires:t.paires.filter((c,u)=>u!==s)})};return o.jsxs("div",{className:"type-editor",children:[o.jsx("label",{className:"type-editor__label",children:" Paires  relier (gauche  droite)"}),o.jsx("p",{className:"type-editor__hint",children:"Saisissez les correspondances correctes. La colonne droite sera mlange pour l'lve."}),o.jsxs("div",{className:"type-editor__relation-header",children:[o.jsx("span",{children:"Colonne A (gauche)"}),o.jsx("span",{}),o.jsx("span",{children:"Colonne B (droite)"}),o.jsx("span",{})]}),t.paires.map((s,c)=>o.jsxs("div",{className:"type-editor__relation-row",children:[o.jsx("div",{className:"type-editor__relation-cell",children:o.jsx(Ks,{value:s.gauche,onChange:u=>n(c,{gauche:u}),placeholder:`lment A${c+1}...`,minHeight:40,toolbar:["bold","italic","color"]})}),o.jsx("span",{className:"type-editor__relation-arrow",children:""}),o.jsx("div",{className:"type-editor__relation-cell",children:o.jsx(Ks,{value:s.droite,onChange:u=>n(c,{droite:u}),placeholder:`lment B${c+1}...`,minHeight:40,toolbar:["bold","italic","color"]})}),o.jsx("button",{type:"button",className:"type-editor__remove-btn",onClick:()=>i(c),disabled:t.paires.length<=2,children:""})]},s.id)),t.paires.length<8&&o.jsx("button",{type:"button",className:"type-editor__add-btn",onClick:r,children:"+ Ajouter une paire"})]})},mve=({data:t,onChange:e})=>{const n=()=>{e({...t,motsCles:[...t.motsCles,{mot:"",poids:1,obligatoire:!1}]})},r=(s,c)=>{const u=t.motsCles.map((f,h)=>h===s?{...f,...c}:f);e({...t,motsCles:u})},i=s=>{e({...t,motsCles:t.motsCles.filter((c,u)=>u!==s)})};return o.jsxs("div",{className:"type-editor",children:[o.jsx("label",{className:"type-editor__label",children:" Paramtres de l'essai"}),o.jsxs("div",{className:"type-editor__params-row",children:[o.jsxs("div",{className:"type-editor__param-inline",children:[o.jsx("label",{children:"Mots minimum :"}),o.jsx("input",{type:"number",value:t.nombreMotsMin||"",onChange:s=>e({...t,nombreMotsMin:Number(s.target.value)||void 0}),min:0,placeholder:"Ex: 50"})]}),o.jsxs("div",{className:"type-editor__param-inline",children:[o.jsx("label",{children:"Mots maximum :"}),o.jsx("input",{type:"number",value:t.nombreMotsMax||"",onChange:s=>e({...t,nombreMotsMax:Number(s.target.value)||void 0}),min:0,placeholder:"Ex: 500"})]})]}),o.jsxs("div",{className:"type-editor__field-inline",children:[o.jsx("label",{children:"Mode de correction :"}),o.jsxs("select",{value:t.correctionMode,onChange:s=>e({...t,correctionMode:s.target.value}),children:[o.jsx("option",{value:"manuelle",children:" Manuelle (par le prof)"}),o.jsx("option",{value:"mots_cles",children:" Par mots-cls (automatique)"}),o.jsx("option",{value:"semi_auto",children:" Semi-automatique (mots-cls + validation prof)"})]})]}),(t.correctionMode==="mots_cles"||t.correctionMode==="semi_auto")&&o.jsxs("div",{className:"type-editor__keywords",children:[o.jsx("label",{className:"type-editor__sub-label",children:"Mots-cls attendus"}),t.motsCles.map((s,c)=>o.jsxs("div",{className:"type-editor__keyword-row",children:[o.jsx("input",{type:"text",value:s.mot,onChange:u=>r(c,{mot:u.target.value}),placeholder:"Mot ou expression...",className:"type-editor__keyword-input"}),o.jsxs("select",{value:s.poids,onChange:u=>r(c,{poids:Number(u.target.value)}),className:"type-editor__keyword-weight",children:[o.jsx("option",{value:1,children:"Poids 1"}),o.jsx("option",{value:2,children:"Poids 2"}),o.jsx("option",{value:3,children:"Poids 3"}),o.jsx("option",{value:4,children:"Poids 4"}),o.jsx("option",{value:5,children:"Poids 5"})]}),o.jsxs("label",{className:"type-editor__keyword-required",children:[o.jsx("input",{type:"checkbox",checked:s.obligatoire,onChange:u=>r(c,{obligatoire:u.target.checked})}),o.jsx("span",{children:"Obligatoire"})]}),o.jsx("button",{type:"button",className:"type-editor__remove-btn",onClick:()=>i(c),children:""})]},c)),o.jsx("button",{type:"button",className:"type-editor__add-btn",onClick:n,children:"+ Ajouter un mot-cl"})]}),o.jsxs("div",{className:"type-editor__field-block",children:[o.jsx("label",{children:"Rponse modle (optionnel  pour le prof)"}),o.jsx(Ks,{value:t.reponseModele||"",onChange:s=>e({...t,reponseModele:s}),placeholder:"Saisissez une rponse modle...",minHeight:80})]})]})},QD=()=>{const{quizId:t}=uy(),e=kr(),{currentUser:n}=Vn(),[r,i]=j.useState([]),[s,c]=j.useState(void 0),[u,f]=j.useState(!0),[h,p]=j.useState(null);return j.useEffect(()=>{(async()=>{try{f(!0);const y=await qc.getAll();if(i(y.map(x=>({id:x.id,nom:x.nom,classe:x.classe||""}))),t){const x=await IU(t);x?c(x):p("Quiz introuvable")}}catch(y){console.error("Erreur chargement donnes:",y),p(y.message||"Erreur de chargement")}finally{f(!1)}})()},[t]),u?o.jsx("div",{style:{textAlign:"center",padding:"3rem"},children:o.jsx("p",{children:" Chargement..."})}):h?o.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[o.jsxs("p",{style:{color:"#dc2626"},children:[" ",h]}),o.jsx("button",{onClick:()=>e(-1),children:" Retour"})]}):o.jsx(lve,{existingQuiz:s?{...s,id:s.id}:void 0,disciplines:r,auteurId:n?.uid||"",onSave:g=>{alert(" Quiz sauvegard avec succs !"),e("/admin/quiz")},onCancel:()=>e(-1)})},pve=()=>{const t=kr(),{currentUser:e}=Vn(),[n,r]=j.useState([]),[i,s]=j.useState(!0),[c,u]=j.useState(null),[f,h]=j.useState(null);j.useEffect(()=>{p()},[]);const p=async()=>{try{s(!0),u(null);const w=await ave();r(w)}catch(w){console.error("Erreur chargement quiz:",w),u("Impossible de charger les quiz")}finally{s(!1)}},g=async w=>{try{await ive(w),r(N=>N.filter(A=>A.id!==w)),h(null)}catch(N){console.error("Erreur suppression:",N),alert("Erreur lors de la suppression : "+N.message)}},y=w=>{const N={};return w.questions.forEach(A=>{N[A.type]=(N[A.type]||0)+1}),Object.entries(N).map(([A,R])=>`${R} ${vd[A]||A}`).join(", ")},x=w=>w?(w.toDate?w.toDate():new Date(w)).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}):"",E=w=>w.questions.reduce((N,A)=>N+A.points,0);return o.jsxs("div",{style:{padding:"1.5rem"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[o.jsxs("div",{children:[o.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:700,color:"#1f2937",margin:0},children:" Quiz Avancs (Multi-types)"}),o.jsxs("p",{style:{color:"#6b7280",margin:"0.25rem 0 0",fontSize:"0.9rem"},children:[n.length," quiz cr",n.length!==1?"s":""]})]}),o.jsx("button",{onClick:()=>t("/admin/quiz/nouveau"),style:{padding:"0.7rem 1.5rem",background:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600,fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:" Nouveau quiz avanc"})]}),c&&o.jsxs("div",{style:{padding:"1rem",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",color:"#991b1b",marginBottom:"1rem"},children:[" ",c,o.jsx("button",{onClick:p,style:{marginLeft:"1rem",padding:"0.3rem 0.8rem",background:"#fff",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer"},children:" Ressayer"})]}),i&&o.jsx("div",{style:{textAlign:"center",padding:"3rem",color:"#6b7280"},children:" Chargement des quiz..."}),!i&&n.length===0&&!c&&o.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"#f9fafb",borderRadius:"12px",border:"1px solid #e5e7eb"},children:[o.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),o.jsx("h3",{style:{color:"#374151",marginBottom:"0.5rem"},children:"Aucun quiz avanc"}),o.jsx("p",{style:{color:"#6b7280",marginBottom:"1.5rem"},children:"Crez votre premier quiz multi-types avec l'diteur riche !"}),o.jsx("button",{onClick:()=>t("/admin/quiz/nouveau"),style:{padding:"0.7rem 1.5rem",background:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600},children:" Crer un quiz"})]}),!i&&n.length>0&&o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:n.map(w=>o.jsx("div",{style:{background:"#fff",borderRadius:"12px",border:"1px solid #e5e7eb",padding:"1.25rem",boxShadow:"0 1px 3px rgba(0,0,0,0.04)",transition:"box-shadow 0.2s"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"1rem"},children:[o.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[o.jsx("h3",{style:{fontSize:"1.05rem",fontWeight:700,color:"#1f2937",margin:0},children:w.titre}),w.isPremium&&o.jsx("span",{style:{padding:"0.15rem 0.5rem",background:"#fef3c7",color:"#92400e",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,border:"1px solid #fde68a"},children:" Premium"})]}),o.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.4rem",marginBottom:"0.5rem"},children:[o.jsxs("span",{style:{padding:"0.2rem 0.6rem",background:"#eff6ff",color:"#1d4ed8",borderRadius:"12px",fontSize:"0.75rem",fontWeight:500},children:[" ",w.questions.length," question",w.questions.length!==1?"s":""]}),o.jsxs("span",{style:{padding:"0.2rem 0.6rem",background:"#f0fdf4",color:"#166534",borderRadius:"12px",fontSize:"0.75rem",fontWeight:500},children:[" ",E(w)," pts"]}),o.jsxs("span",{style:{padding:"0.2rem 0.6rem",background:"#fdf4ff",color:"#86198f",borderRadius:"12px",fontSize:"0.75rem",fontWeight:500},children:[" ",w.duree," min"]})]}),o.jsxs("p",{style:{fontSize:"0.8rem",color:"#6b7280",margin:0},children:["Types : ",y(w)]}),o.jsxs("p",{style:{fontSize:"0.75rem",color:"#9ca3af",margin:"0.25rem 0 0"},children:["Cr le ",x(w.createdAt)]})]}),o.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexShrink:0,flexWrap:"wrap"},children:[o.jsx("button",{onClick:()=>t(`/quiz-avance/${w.id}`),title:"Tester le quiz",style:{padding:"0.5rem 0.9rem",background:"#f0fdf4",color:"#166534",border:"1px solid #bbf7d0",borderRadius:"8px",cursor:"pointer",fontWeight:600,fontSize:"0.8rem"},children:" Tester"}),o.jsx("button",{onClick:()=>t(`/admin/quiz/modifier/${w.id}`),title:"Modifier le quiz",style:{padding:"0.5rem 0.9rem",background:"#eff6ff",color:"#1d4ed8",border:"1px solid #bfdbfe",borderRadius:"8px",cursor:"pointer",fontWeight:600,fontSize:"0.8rem"},children:" Modifier"}),o.jsx("button",{onClick:()=>{const N=`${window.location.origin}/quiz-avance/${w.id}`;navigator.clipboard.writeText(N).then(()=>{alert(` Lien copi !

`+N+`

Partagez ce lien aux lves.`)})},title:"Copier le lien pour les lves",style:{padding:"0.5rem 0.9rem",background:"#fdf4ff",color:"#86198f",border:"1px solid #e9d5ff",borderRadius:"8px",cursor:"pointer",fontWeight:600,fontSize:"0.8rem"},children:" Lien"}),f===w.id?o.jsxs("div",{style:{display:"flex",gap:"0.3rem"},children:[o.jsx("button",{onClick:()=>g(w.id),style:{padding:"0.5rem 0.7rem",background:"#dc2626",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600,fontSize:"0.8rem"},children:" Confirmer"}),o.jsx("button",{onClick:()=>h(null),style:{padding:"0.5rem 0.7rem",background:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"8px",cursor:"pointer",fontSize:"0.8rem"},children:""})]}):o.jsx("button",{onClick:()=>h(w.id),title:"Supprimer le quiz",style:{padding:"0.5rem 0.9rem",background:"#fef2f2",color:"#991b1b",border:"1px solid #fecaca",borderRadius:"8px",cursor:"pointer",fontWeight:600,fontSize:"0.8rem"},children:""})]})]})},w.id))})]})},gve=({quiz:t,userId:e,onComplete:n,onQuit:r})=>{const i=j.useMemo(()=>{let I=[...t.questions];return t.melangerQuestions&&(I=I.sort(()=>Math.random()-.5)),I},[t]),[s,c]=j.useState(0),[u,f]=j.useState(new Map),[h,p]=j.useState(t.duree*60),[g,y]=j.useState(!1),[x,E]=j.useState(null),[w,N]=j.useState(!1),A=j.useRef(Date.now());j.useEffect(()=>{if(x)return;const I=setInterval(()=>{p(k=>k<=1?(clearInterval(I),$(),0):k-1)},1e3);return()=>clearInterval(I)},[x]);const R=I=>{const k=Math.floor(I/60),q=I%60;return`${k.toString().padStart(2,"0")}:${q.toString().padStart(2,"0")}`},O=i[s],C=j.useCallback((I,k)=>{f(q=>{const L=new Map(q),M=L.get(I)||{questionId:I,type:O.type};return L.set(I,{...M,...k}),L})},[O]),V=I=>{I>=0&&I<i.length&&c(I)},$=async()=>{N(!1),y(!0);try{const I=Array.from(u.values()),k=Math.round((Date.now()-A.current)/1e3),q=await ove(t,e,I,k);E(q),n?.(q)}catch(I){alert("Erreur lors de la soumission : "+I.message)}finally{y(!1)}},D=u.size;return x?o.jsx("div",{className:"quiz-player quiz-player--results",children:o.jsxs("div",{className:"quiz-results",children:[o.jsxs("div",{className:`quiz-results__header ${x.reussi?"quiz-results__header--success":"quiz-results__header--fail"}`,children:[o.jsx("div",{className:"quiz-results__emoji",children:x.reussi?"":""}),o.jsx("h2",{children:x.reussi?"Flicitations !":"Quiz termin"}),o.jsxs("div",{className:"quiz-results__score",children:[o.jsxs("span",{className:"quiz-results__note",children:[x.note20,"/20"]}),o.jsxs("span",{className:"quiz-results__detail",children:[x.score,"/",x.scoreMax," points"]})]}),o.jsxs("div",{className:"quiz-results__time",children:[" Temps : ",R(x.tempsEcoule)]}),x.correctionManuelle&&o.jsx("p",{className:"quiz-results__pending",children:" Ce quiz contient des questions  correction manuelle. Votre note finale pourra tre ajuste par le professeur."})]}),t.afficherCorrection&&o.jsxs("div",{className:"quiz-results__details",children:[o.jsx("h3",{children:" Dtail des rponses"}),i.map((I,k)=>{const q=x.detailsParQuestion.find(L=>L.questionId===I.id);return o.jsxs("div",{className:`quiz-results__question ${q?.isCorrect?"quiz-results__question--correct":q?.isPartiel?"quiz-results__question--partial":"quiz-results__question--wrong"}`,children:[o.jsxs("div",{className:"quiz-results__q-header",children:[o.jsxs("span",{children:["Q",k+1," "," ",o.jsxs("span",{style:{color:ly[I.type]},children:[oy[I.type]," ",vd[I.type]]})]}),o.jsxs("span",{className:"quiz-results__q-score",children:[q?.pointsObtenus||0,"/",q?.pointsMax||I.points," pts",q?.isCorrect&&" ",q?.isPartiel&&" ",!q?.isCorrect&&!q?.isPartiel&&" "]})]}),o.jsx("div",{className:"quiz-results__q-enonce",dangerouslySetInnerHTML:{__html:I.enonce}}),I.explication&&o.jsxs("div",{className:"quiz-results__q-explanation",children:[o.jsx("strong",{children:" Explication :"}),o.jsx("div",{dangerouslySetInnerHTML:{__html:I.explication}})]})]},I.id)})]}),o.jsx("div",{className:"quiz-results__actions",children:o.jsx("button",{className:"quiz-player__btn quiz-player__btn--primary",onClick:r,children:"Retour au tableau de bord"})})]})}):o.jsxs("div",{className:"quiz-player",children:[o.jsxs("div",{className:"quiz-player__topbar",children:[o.jsxs("div",{className:"quiz-player__info",children:[o.jsx("span",{className:"quiz-player__title",children:t.titre}),o.jsxs("span",{className:"quiz-player__progress",children:["Question ",s+1,"/",i.length]})]}),o.jsxs("div",{className:"quiz-player__topbar-right",children:[o.jsxs("span",{className:`quiz-player__timer ${h<60?"quiz-player__timer--danger":h<300?"quiz-player__timer--warning":""}`,children:[" ",R(h)]}),o.jsxs("span",{className:"quiz-player__answered",children:[D,"/",i.length," rpondue",D>1?"s":""]})]})]}),o.jsx("div",{className:"quiz-player__progress-bar",children:o.jsx("div",{className:"quiz-player__progress-fill",style:{width:`${(s+1)/i.length*100}%`}})}),o.jsxs("div",{className:"quiz-player__question-area",children:[o.jsxs("div",{className:"quiz-player__question-meta",children:[o.jsxs("span",{className:"quiz-player__type-badge",style:{backgroundColor:ly[O.type]},children:[oy[O.type]," ",vd[O.type]]}),o.jsxs("span",{className:"quiz-player__points",children:[O.points," point",O.points>1?"s":""]})]}),o.jsx("div",{className:"quiz-player__enonce",dangerouslySetInnerHTML:{__html:O.enonce}}),o.jsxs("div",{className:"quiz-player__answer-area",children:[O.type==="qcm_unique"&&o.jsx(vve,{question:O,reponse:u.get(O.id),onUpdate:I=>C(O.id,I),melangerOptions:t.melangerOptions}),O.type==="qcm_multiple"&&o.jsx(yve,{question:O,reponse:u.get(O.id),onUpdate:I=>C(O.id,I),melangerOptions:t.melangerOptions}),O.type==="drag_drop"&&o.jsx(bve,{question:O,reponse:u.get(O.id),onUpdate:I=>C(O.id,I)}),O.type==="mise_en_relation"&&o.jsx(xve,{question:O,reponse:u.get(O.id),onUpdate:I=>C(O.id,I)}),O.type==="essai"&&o.jsx(_ve,{question:O,reponse:u.get(O.id),onUpdate:I=>C(O.id,I)})]})]}),o.jsxs("div",{className:"quiz-player__nav",children:[o.jsx("button",{className:"quiz-player__btn quiz-player__btn--secondary",onClick:()=>V(s-1),disabled:s===0,children:" Prcdent"}),o.jsx("div",{className:"quiz-player__pagination",children:i.map((I,k)=>o.jsx("button",{className:`quiz-player__page-dot ${k===s?"quiz-player__page-dot--current":""} ${u.has(I.id)?"quiz-player__page-dot--answered":""}`,onClick:()=>V(k),title:`Question ${k+1}`,children:k+1},I.id))}),s<i.length-1?o.jsx("button",{className:"quiz-player__btn quiz-player__btn--primary",onClick:()=>V(s+1),children:"Suivant "}):o.jsx("button",{className:"quiz-player__btn quiz-player__btn--submit",onClick:()=>N(!0),disabled:g,children:g?" Envoi...":" Soumettre le quiz"})]}),w&&o.jsx("div",{className:"quiz-player__modal-overlay",children:o.jsxs("div",{className:"quiz-player__modal",children:[o.jsx("h3",{children:"Soumettre le quiz ?"}),o.jsxs("p",{children:["Vous avez rpondu  ",o.jsx("strong",{children:D})," question",D>1?"s":""," sur"," ",o.jsx("strong",{children:i.length}),"."]}),D<i.length&&o.jsxs("p",{className:"quiz-player__modal-warning",children:[" ",i.length-D," question",i.length-D>1?"s":""," sans rponse !"]}),o.jsxs("div",{className:"quiz-player__modal-actions",children:[o.jsx("button",{className:"quiz-player__btn quiz-player__btn--secondary",onClick:()=>N(!1),children:"Continuer le quiz"}),o.jsx("button",{className:"quiz-player__btn quiz-player__btn--submit",onClick:$,children:"Confirmer la soumission"})]})]})})]})},vve=({question:t,reponse:e,onUpdate:n,melangerOptions:r})=>{const i=t.typeData,s=j.useMemo(()=>r?[...i.options].sort(()=>Math.random()-.5):i.options,[i.options,r]);return o.jsx("div",{className:"player-qcm",children:s.map(c=>o.jsxs("label",{className:`player-qcm__option ${e?.selectedOptionId===c.id?"player-qcm__option--selected":""}`,children:[o.jsx("input",{type:"radio",name:`q_${t.id}`,checked:e?.selectedOptionId===c.id,onChange:()=>n({selectedOptionId:c.id})}),o.jsx("div",{className:"player-qcm__text",dangerouslySetInnerHTML:{__html:c.texte}})]},c.id))})},yve=({question:t,reponse:e,onUpdate:n,melangerOptions:r})=>{const i=t.typeData,s=j.useMemo(()=>r?[...i.options].sort(()=>Math.random()-.5):i.options,[i.options,r]),c=e?.selectedOptionIds||[],u=f=>{const h=c.includes(f)?c.filter(p=>p!==f):[...c,f];n({selectedOptionIds:h})};return o.jsxs("div",{className:"player-qcm",children:[o.jsx("p",{className:"player-qcm__hint",children:"Plusieurs rponses possibles"}),s.map(f=>o.jsxs("label",{className:`player-qcm__option ${c.includes(f.id)?"player-qcm__option--selected":""}`,children:[o.jsx("input",{type:"checkbox",checked:c.includes(f.id),onChange:()=>u(f.id)}),o.jsx("div",{className:"player-qcm__text",dangerouslySetInnerHTML:{__html:f.texte}})]},f.id))]})},bve=({question:t,reponse:e,onUpdate:n})=>{const r=t.typeData,[i,s]=j.useState(()=>e?.ordrePropose?e.ordrePropose.map(y=>r.items.find(x=>x.id===y)).filter(Boolean):[...r.items].sort(()=>Math.random()-.5)),[c,u]=j.useState(null);j.useEffect(()=>{n({ordrePropose:i.map(y=>y.id)})},[i]);const f=y=>{u(y)},h=(y,x)=>{if(y.preventDefault(),c===null||c===x)return;const E=[...i],[w]=E.splice(c,1);E.splice(x,0,w),s(E),u(x)},p=()=>{u(null)},g=(y,x)=>{const E=x==="up"?y-1:y+1;if(E<0||E>=i.length)return;const w=[...i];[w[y],w[E]]=[w[E],w[y]],s(w)};return o.jsxs("div",{className:"player-dragdrop",children:[o.jsx("p",{className:"player-dragdrop__consigne",children:r.consigneOrdre}),o.jsx("div",{className:"player-dragdrop__list",children:i.map((y,x)=>o.jsxs("div",{className:`player-dragdrop__item ${c===x?"player-dragdrop__item--dragging":""}`,draggable:!0,onDragStart:()=>f(x),onDragOver:E=>h(E,x),onDragEnd:p,children:[o.jsx("span",{className:"player-dragdrop__handle",children:""}),o.jsx("span",{className:"player-dragdrop__number",children:x+1}),o.jsx("div",{className:"player-dragdrop__text",dangerouslySetInnerHTML:{__html:y.texte}}),o.jsxs("div",{className:"player-dragdrop__mobile-btns",children:[o.jsx("button",{type:"button",onClick:()=>g(x,"up"),disabled:x===0,children:""}),o.jsx("button",{type:"button",onClick:()=>g(x,"down"),disabled:x===i.length-1,children:""})]})]},y.id))})]})},xve=({question:t,reponse:e,onUpdate:n})=>{const r=t.typeData,i=j.useMemo(()=>[...r.paires].sort(()=>Math.random()-.5),[r.paires]),[s,c]=j.useState(e?.relationsProposees||{}),[u,f]=j.useState(null);j.useEffect(()=>{n({relationsProposees:s})},[s]);const h=x=>{f(x)},p=x=>{u&&(c(E=>({...E,[u]:x})),f(null))},g=x=>{c(E=>{const w={...E};return delete w[x],w})},y=new Set(Object.values(s));return o.jsxs("div",{className:"player-relation",children:[o.jsx("p",{className:"player-relation__hint",children:"Cliquez sur un lment  gauche puis sur son correspondant  droite"}),o.jsxs("div",{className:"player-relation__columns",children:[o.jsxs("div",{className:"player-relation__col",children:[o.jsx("h4",{className:"player-relation__col-title",children:"Colonne A"}),r.paires.map(x=>o.jsxs("div",{className:`player-relation__item player-relation__item--left ${u===x.id?"player-relation__item--selected":""} ${s[x.id]?"player-relation__item--matched":""}`,onClick:()=>{s[x.id]?g(x.id):h(x.id)},children:[o.jsx("div",{dangerouslySetInnerHTML:{__html:x.gauche}}),s[x.id]&&o.jsx("span",{className:"player-relation__linked",children:""})]},x.id))]}),o.jsxs("div",{className:"player-relation__col",children:[o.jsx("h4",{className:"player-relation__col-title",children:"Colonne B"}),i.map(x=>o.jsxs("div",{className:`player-relation__item player-relation__item--right ${y.has(x.id)?"player-relation__item--matched":""} ${u&&!y.has(x.id)?"player-relation__item--clickable":""}`,onClick:()=>{u&&!y.has(x.id)&&p(x.id)},children:[o.jsx("div",{dangerouslySetInnerHTML:{__html:x.droite}}),y.has(x.id)&&o.jsx("span",{className:"player-relation__linked",children:""})]},x.id))]})]})]})},_ve=({question:t,reponse:e,onUpdate:n})=>{const r=t.typeData,[i,s]=j.useState(e?.texteReponse||""),c=i.replace(/<[^>]*>/g,"").trim().split(/\s+/).filter(Boolean).length;return j.useEffect(()=>{n({texteReponse:i})},[i]),o.jsxs("div",{className:"player-essai",children:[o.jsxs("div",{className:"player-essai__info",children:[r.nombreMotsMin&&o.jsxs("span",{className:c<r.nombreMotsMin?"player-essai__warning":"",children:["Minimum : ",r.nombreMotsMin," mots"]}),r.nombreMotsMax&&o.jsxs("span",{className:c>r.nombreMotsMax?"player-essai__warning":"",children:["Maximum : ",r.nombreMotsMax," mots"]}),o.jsxs("span",{className:"player-essai__count",children:[c," mot",c>1?"s":""]})]}),o.jsx("textarea",{className:"player-essai__textarea",value:i,onChange:u=>s(u.target.value),placeholder:"Rdigez votre rponse ici...",rows:10})]})},wve=()=>{const{quizId:t}=uy(),e=kr(),{currentUser:n}=Vn(),[r,i]=j.useState(null),[s,c]=j.useState(!0),[u,f]=j.useState(null);return j.useEffect(()=>{(async()=>{if(!t){f("ID du quiz manquant"),c(!1);return}try{const p=await IU(t);if(!p){f("Quiz introuvable");return}if(p.isPremium&&!n?.isPremium){f("Ce quiz est rserv aux abonns Premium");return}i(p)}catch(p){console.error("Erreur chargement quiz:",p),f(p.message||"Impossible de charger le quiz")}finally{c(!1)}})()},[t,n]),s?o.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[o.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),o.jsx("p",{children:"Chargement du quiz..."})]}):u?o.jsx("div",{style:{textAlign:"center",padding:"3rem",maxWidth:"500px",margin:"2rem auto"},children:o.jsxs("div",{style:{padding:"2rem",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"12px"},children:[o.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),o.jsx("p",{style:{color:"#991b1b",fontWeight:600,marginBottom:"1rem"},children:u}),u.includes("Premium")&&o.jsx("button",{onClick:()=>e("/premium"),style:{padding:"0.6rem 1.5rem",background:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",marginRight:"0.5rem",fontWeight:600},children:" Devenir Premium"}),o.jsx("button",{onClick:()=>e(-1),style:{padding:"0.6rem 1.5rem",background:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"8px",cursor:"pointer",fontWeight:600},children:" Retour"})]})}):r?o.jsx(gve,{quiz:r,userId:n?.uid||"",onComplete:h=>{console.log(" Quiz termin  Note:",h.note20,"/20")},onQuit:()=>e("/dashboard")}):o.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[o.jsx("p",{children:"Quiz introuvable"}),o.jsx("button",{onClick:()=>e(-1),children:" Retour"})]})},jve=()=>o.jsx(nW,{children:o.jsxs(h8,{children:[o.jsx(tn,{path:"/",element:o.jsx(Ia,{children:o.jsx(LY,{})})}),o.jsx(tn,{path:"/disciplines",element:o.jsx(Ia,{children:o.jsx(VY,{})})}),o.jsx(tn,{path:"/disciplines/:id",element:o.jsx(Ia,{children:o.jsx(FY,{})})}),o.jsx(tn,{path:"/premium",element:o.jsx(Ia,{children:o.jsx(KY,{})})}),o.jsx(tn,{path:"/connexion",element:o.jsx(qY,{})}),o.jsx(tn,{path:"/inscription",element:o.jsx(UY,{})}),o.jsx(tn,{path:"/admin",element:o.jsx(ws,{children:o.jsx(js,{currentPage:"dashboard",children:o.jsx(WY,{})})})}),o.jsx(tn,{path:"/admin/disciplines",element:o.jsx(ws,{children:o.jsx(js,{currentPage:"disciplines",children:o.jsx(YY,{})})})}),o.jsx(tn,{path:"/admin/chapitres",element:o.jsx(ws,{children:o.jsx(js,{currentPage:"chapitres",children:o.jsx(XY,{})})})}),o.jsx(tn,{path:"/admin/ressources",element:o.jsx(ws,{children:o.jsx(js,{currentPage:"ressources",children:o.jsx(JY,{})})})}),o.jsx(tn,{path:"/admin/quiz",element:o.jsx(ws,{children:o.jsx(js,{currentPage:"quiz",children:o.jsx(iX,{})})})}),o.jsx(tn,{path:"/admin/quiz/nouveau",element:o.jsx(ws,{children:o.jsx(js,{currentPage:"quiz",children:o.jsx(QD,{})})})}),o.jsx(tn,{path:"/admin/quiz/modifier/:quizId",element:o.jsx(ws,{children:o.jsx(js,{currentPage:"quiz",children:o.jsx(QD,{})})})}),o.jsx(tn,{path:"/admin/quiz-avance",element:o.jsx(ws,{children:o.jsx(js,{currentPage:"quiz",children:o.jsx(pve,{})})})}),o.jsx(tn,{path:"/quiz-avance/:quizId",element:o.jsx(Ia,{children:o.jsx(wve,{})})}),o.jsx(tn,{path:"/admin/utilisateurs",element:o.jsx(ws,{children:o.jsx(js,{currentPage:"utilisateurs",children:o.jsx(fX,{})})})}),o.jsx(tn,{path:"/eleve/dashboard",element:o.jsx(Ia,{children:o.jsx($ge,{})})}),o.jsx(tn,{path:"/eleve/suivi",element:o.jsx(Ia,{children:o.jsx(Fge,{})})}),o.jsx(tn,{path:"/quiz/:quizId",element:o.jsx(Ia,{children:o.jsx(SX,{})})}),o.jsx(tn,{path:"/parent/dashboard",element:o.jsx(TE,{allowedRoles:["parent","admin"],children:o.jsx(Ia,{children:o.jsx(Yge,{})})})}),o.jsx(tn,{path:"/prof/dashboard",element:o.jsx(rW,{children:o.jsx(Ia,{children:o.jsx(Wge,{})})})}),o.jsx(tn,{path:"*",element:o.jsx(d8,{to:"/",replace:!0})})]})}),RU=document.getElementById("root");if(!RU)throw new Error("L'lment #root n'existe pas");const Eve=xV.createRoot(RU);Eve.render(o.jsx(WD.StrictMode,{children:o.jsx(x8,{children:o.jsx(jve,{})})}));
//# sourceMappingURL=index-BbuRFvAe.js.map
