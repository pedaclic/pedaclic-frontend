function Bq(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ya(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var m_={exports:{}},If={};var vC;function $q(){if(vC)return If;vC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var c=null;if(s!==void 0&&(c=""+s),i.key!==void 0&&(c=""+i.key),"key"in i){s={};for(var d in i)d!=="key"&&(s[d]=i[d])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:c,ref:i!==void 0?i:null,props:s}}return If.Fragment=e,If.jsx=n,If.jsxs=n,If}var yC;function Fq(){return yC||(yC=1,m_.exports=$q()),m_.exports}var l=Fq(),p_={exports:{}},Qe={};var bC;function Hq(){if(bC)return Qe;bC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function x(F){return F===null||typeof F!="object"?null:(F=y&&F[y]||F["@@iterator"],typeof F=="function"?F:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function T(F,ne,ge){this.props=F,this.context=ne,this.refs=S,this.updater=ge||j}T.prototype.isReactComponent={},T.prototype.setState=function(F,ne){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ne,"setState")},T.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function D(){}D.prototype=T.prototype;function R(F,ne,ge){this.props=F,this.context=ne,this.refs=S,this.updater=ge||j}var P=R.prototype=new D;P.constructor=R,E(P,T.prototype),P.isPureReactComponent=!0;var $=Array.isArray;function B(){}var I={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function k(F,ne,ge){var we=ge.ref;return{$$typeof:t,type:F,key:ne,ref:we!==void 0?we:null,props:ge}}function V(F,ne){return k(F.type,ne,F.props)}function U(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function z(F){var ne={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ge){return ne[ge]})}var M=/\/+/g;function W(F,ne){return typeof F=="object"&&F!==null&&F.key!=null?z(""+F.key):ne.toString(36)}function Q(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(B,B):(F.status="pending",F.then(function(ne){F.status==="pending"&&(F.status="fulfilled",F.value=ne)},function(ne){F.status==="pending"&&(F.status="rejected",F.reason=ne)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function H(F,ne,ge,we,J){var Y=typeof F;(Y==="undefined"||Y==="boolean")&&(F=null);var xe=!1;if(F===null)xe=!0;else switch(Y){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(F.$$typeof){case t:case e:xe=!0;break;case p:return xe=F._init,H(xe(F._payload),ne,ge,we,J)}}if(xe)return J=J(F),xe=we===""?"."+W(F,0):we,$(J)?(ge="",xe!=null&&(ge=xe.replace(M,"$&/")+"/"),H(J,ne,ge,"",function(Ne){return Ne})):J!=null&&(U(J)&&(J=V(J,ge+(J.key==null||F&&F.key===J.key?"":(""+J.key).replace(M,"$&/")+"/")+xe)),ne.push(J)),1;xe=0;var Ve=we===""?".":we+":";if($(F))for(var le=0;le<F.length;le++)we=F[le],Y=Ve+W(we,le),xe+=H(we,ne,ge,Y,J);else if(le=x(F),typeof le=="function")for(F=le.call(F),le=0;!(we=F.next()).done;)we=we.value,Y=Ve+W(we,le++),xe+=H(we,ne,ge,Y,J);else if(Y==="object"){if(typeof F.then=="function")return H(Q(F),ne,ge,we,J);throw ne=String(F),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return xe}function oe(F,ne,ge){if(F==null)return F;var we=[],J=0;return H(F,we,"","",function(Y){return ne.call(ge,Y,J++)}),we}function be(F){if(F._status===-1){var ne=F._result;ne=ne(),ne.then(function(ge){(F._status===0||F._status===-1)&&(F._status=1,F._result=ge)},function(ge){(F._status===0||F._status===-1)&&(F._status=2,F._result=ge)}),F._status===-1&&(F._status=0,F._result=ne)}if(F._status===1)return F._result.default;throw F._result}var Ee=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},X={map:oe,forEach:function(F,ne,ge){oe(F,function(){ne.apply(this,arguments)},ge)},count:function(F){var ne=0;return oe(F,function(){ne++}),ne},toArray:function(F){return oe(F,function(ne){return ne})||[]},only:function(F){if(!U(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Qe.Activity=g,Qe.Children=X,Qe.Component=T,Qe.Fragment=n,Qe.Profiler=i,Qe.PureComponent=R,Qe.StrictMode=r,Qe.Suspense=f,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(F){return I.H.useMemoCache(F)}},Qe.cache=function(F){return function(){return F.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(F,ne,ge){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var we=E({},F.props),J=F.key;if(ne!=null)for(Y in ne.key!==void 0&&(J=""+ne.key),ne)!O.call(ne,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&ne.ref===void 0||(we[Y]=ne[Y]);var Y=arguments.length-2;if(Y===1)we.children=ge;else if(1<Y){for(var xe=Array(Y),Ve=0;Ve<Y;Ve++)xe[Ve]=arguments[Ve+2];we.children=xe}return k(F.type,J,we)},Qe.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},Qe.createElement=function(F,ne,ge){var we,J={},Y=null;if(ne!=null)for(we in ne.key!==void 0&&(Y=""+ne.key),ne)O.call(ne,we)&&we!=="key"&&we!=="__self"&&we!=="__source"&&(J[we]=ne[we]);var xe=arguments.length-2;if(xe===1)J.children=ge;else if(1<xe){for(var Ve=Array(xe),le=0;le<xe;le++)Ve[le]=arguments[le+2];J.children=Ve}if(F&&F.defaultProps)for(we in xe=F.defaultProps,xe)J[we]===void 0&&(J[we]=xe[we]);return k(F,Y,J)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(F){return{$$typeof:d,render:F}},Qe.isValidElement=U,Qe.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:be}},Qe.memo=function(F,ne){return{$$typeof:h,type:F,compare:ne===void 0?null:ne}},Qe.startTransition=function(F){var ne=I.T,ge={};I.T=ge;try{var we=F(),J=I.S;J!==null&&J(ge,we),typeof we=="object"&&we!==null&&typeof we.then=="function"&&we.then(B,Ee)}catch(Y){Ee(Y)}finally{ne!==null&&ge.types!==null&&(ne.types=ge.types),I.T=ne}},Qe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Qe.use=function(F){return I.H.use(F)},Qe.useActionState=function(F,ne,ge){return I.H.useActionState(F,ne,ge)},Qe.useCallback=function(F,ne){return I.H.useCallback(F,ne)},Qe.useContext=function(F){return I.H.useContext(F)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(F,ne){return I.H.useDeferredValue(F,ne)},Qe.useEffect=function(F,ne){return I.H.useEffect(F,ne)},Qe.useEffectEvent=function(F){return I.H.useEffectEvent(F)},Qe.useId=function(){return I.H.useId()},Qe.useImperativeHandle=function(F,ne,ge){return I.H.useImperativeHandle(F,ne,ge)},Qe.useInsertionEffect=function(F,ne){return I.H.useInsertionEffect(F,ne)},Qe.useLayoutEffect=function(F,ne){return I.H.useLayoutEffect(F,ne)},Qe.useMemo=function(F,ne){return I.H.useMemo(F,ne)},Qe.useOptimistic=function(F,ne){return I.H.useOptimistic(F,ne)},Qe.useReducer=function(F,ne,ge){return I.H.useReducer(F,ne,ge)},Qe.useRef=function(F){return I.H.useRef(F)},Qe.useState=function(F){return I.H.useState(F)},Qe.useSyncExternalStore=function(F,ne,ge){return I.H.useSyncExternalStore(F,ne,ge)},Qe.useTransition=function(){return I.H.useTransition()},Qe.version="19.2.4",Qe}var _C;function md(){return _C||(_C=1,p_.exports=Hq()),p_.exports}var w=md();const CD=Ya(w),OD=Bq({__proto__:null,default:CD},[w]);var g_={exports:{}},Rf={},v_={exports:{}},y_={};var xC;function Gq(){return xC||(xC=1,(function(t){function e(H,oe){var be=H.length;H.push(oe);e:for(;0<be;){var Ee=be-1>>>1,X=H[Ee];if(0<i(X,oe))H[Ee]=oe,H[be]=X,be=Ee;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var oe=H[0],be=H.pop();if(be!==oe){H[0]=be;e:for(var Ee=0,X=H.length,F=X>>>1;Ee<F;){var ne=2*(Ee+1)-1,ge=H[ne],we=ne+1,J=H[we];if(0>i(ge,be))we<X&&0>i(J,ge)?(H[Ee]=J,H[we]=be,Ee=we):(H[Ee]=ge,H[ne]=be,Ee=ne);else if(we<X&&0>i(J,be))H[Ee]=J,H[we]=be,Ee=we;else break e}}return oe}function i(H,oe){var be=H.sortIndex-oe.sortIndex;return be!==0?be:H.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],h=[],p=1,g=null,y=3,x=!1,j=!1,E=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function P(H){for(var oe=n(h);oe!==null;){if(oe.callback===null)r(h);else if(oe.startTime<=H)r(h),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=n(h)}}function $(H){if(E=!1,P(H),!j)if(n(f)!==null)j=!0,B||(B=!0,z());else{var oe=n(h);oe!==null&&Q($,oe.startTime-H)}}var B=!1,I=-1,O=5,k=-1;function V(){return S?!0:!(t.unstable_now()-k<O)}function U(){if(S=!1,B){var H=t.unstable_now();k=H;var oe=!0;try{e:{j=!1,E&&(E=!1,D(I),I=-1),x=!0;var be=y;try{t:{for(P(H),g=n(f);g!==null&&!(g.expirationTime>H&&V());){var Ee=g.callback;if(typeof Ee=="function"){g.callback=null,y=g.priorityLevel;var X=Ee(g.expirationTime<=H);if(H=t.unstable_now(),typeof X=="function"){g.callback=X,P(H),oe=!0;break t}g===n(f)&&r(f),P(H)}else r(f);g=n(f)}if(g!==null)oe=!0;else{var F=n(h);F!==null&&Q($,F.startTime-H),oe=!1}}break e}finally{g=null,y=be,x=!1}oe=void 0}}finally{oe?z():B=!1}}}var z;if(typeof R=="function")z=function(){R(U)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,W=M.port2;M.port1.onmessage=U,z=function(){W.postMessage(null)}}else z=function(){T(U,0)};function Q(H,oe){I=T(function(){H(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(H){switch(y){case 1:case 2:case 3:var oe=3;break;default:oe=y}var be=y;y=oe;try{return H()}finally{y=be}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(H,oe){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var be=y;y=H;try{return oe()}finally{y=be}},t.unstable_scheduleCallback=function(H,oe,be){var Ee=t.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Ee+be:Ee):be=Ee,H){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=be+X,H={id:p++,callback:oe,priorityLevel:H,startTime:be,expirationTime:X,sortIndex:-1},be>Ee?(H.sortIndex=be,e(h,H),n(f)===null&&H===n(h)&&(E?(D(I),I=-1):E=!0,Q($,be-Ee))):(H.sortIndex=X,e(f,H),j||x||(j=!0,B||(B=!0,z()))),H},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(H){var oe=y;return function(){var be=y;y=oe;try{return H.apply(this,arguments)}finally{y=be}}}})(y_)),y_}var wC;function Kq(){return wC||(wC=1,v_.exports=Gq()),v_.exports}var b_={exports:{}},mr={};var EC;function Wq(){if(EC)return mr;EC=1;var t=md();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return mr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},mr.flushSync=function(f){var h=c.T,p=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=h,r.p=p,r.d.f()}},mr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},mr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},mr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:x}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},mr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},mr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},mr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},mr.requestFormReset=function(f){r.d.r(f)},mr.unstable_batchedUpdates=function(f,h){return f(h)},mr.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},mr.useFormStatus=function(){return c.H.useHostTransitionStatus()},mr.version="19.2.4",mr}var jC;function PD(){if(jC)return b_.exports;jC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),b_.exports=Wq(),b_.exports}var SC;function Qq(){if(SC)return Rf;SC=1;var t=Kq(),e=md(),n=PD();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function c(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,m=o;;){var b=u.return;if(b===null)break;var _=b.alternate;if(_===null){if(m=b.return,m!==null){u=m;continue}break}if(b.child===_.child){for(_=b.child;_;){if(_===u)return f(b),a;if(_===m)return f(b),o;_=_.sibling}throw Error(r(188))}if(u.return!==m.return)u=b,m=_;else{for(var A=!1,L=b.child;L;){if(L===u){A=!0,u=b,m=_;break}if(L===m){A=!0,m=b,u=_;break}L=L.sibling}if(!A){for(L=_.child;L;){if(L===u){A=!0,u=_,m=b;break}if(L===m){A=!0,m=_,u=b;break}L=L.sibling}if(!A)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),R=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function z(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var M=Symbol.for("react.client.reference");function W(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===M?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case $:return"Suspense";case B:return"SuspenseList";case k:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case j:return"Portal";case R:return a.displayName||"Context";case D:return(a._context.displayName||"Context")+".Consumer";case P:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return o=a.displayName||null,o!==null?o:W(a.type)||"Memo";case O:o=a._payload,a=a._init;try{return W(a(o))}catch{}}return null}var Q=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Ee=[],X=-1;function F(a){return{current:a}}function ne(a){0>X||(a.current=Ee[X],Ee[X]=null,X--)}function ge(a,o){X++,Ee[X]=a.current,a.current=o}var we=F(null),J=F(null),Y=F(null),xe=F(null);function Ve(a,o){switch(ge(Y,o),ge(J,a),ge(we,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?VT(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=VT(o),a=qT(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ne(we),ge(we,a)}function le(){ne(we),ne(J),ne(Y)}function Ne(a){a.memoizedState!==null&&ge(xe,a);var o=we.current,u=qT(o,a.type);o!==u&&(ge(J,a),ge(we,u))}function Z(a){J.current===a&&(ne(we),ne(J)),xe.current===a&&(ne(xe),Tf._currentValue=be)}var ve,ke;function $e(a){if(ve===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ve=o&&o[1]||"",ke=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+a+ke}var st=!1;function ft(a,o){if(!a||st)return"";st=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(de){var se=de}Reflect.construct(a,[],ye)}else{try{ye.call()}catch(de){se=de}a.call(ye.prototype)}}else{try{throw Error()}catch(de){se=de}(ye=a())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(de){if(de&&se&&typeof de.stack=="string")return[de.stack,se.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=m.DetermineComponentFrameRoot(),A=_[0],L=_[1];if(A&&L){var G=A.split(`
`),ae=L.split(`
`);for(b=m=0;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;for(;b<ae.length&&!ae[b].includes("DetermineComponentFrameRoot");)b++;if(m===G.length||b===ae.length)for(m=G.length-1,b=ae.length-1;1<=m&&0<=b&&G[m]!==ae[b];)b--;for(;1<=m&&0<=b;m--,b--)if(G[m]!==ae[b]){if(m!==1||b!==1)do if(m--,b--,0>b||G[m]!==ae[b]){var he=`
`+G[m].replace(" at new "," at ");return a.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",a.displayName)),he}while(1<=m&&0<=b);break}}}finally{st=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?$e(u):""}function pt(a,o){switch(a.tag){case 26:case 27:case 5:return $e(a.type);case 16:return $e("Lazy");case 13:return a.child!==o&&o!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return ft(a.type,!1);case 11:return ft(a.type.render,!1);case 1:return ft(a.type,!0);case 31:return $e("Activity");default:return""}}function fr(a){try{var o="",u=null;do o+=pt(a,u),u=a,a=a.return;while(a);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Pt=Object.prototype.hasOwnProperty,It=t.unstable_scheduleCallback,Rr=t.unstable_cancelCallback,fe=t.unstable_shouldYield,Ie=t.unstable_requestPaint,qe=t.unstable_now,Ke=t.unstable_getCurrentPriorityLevel,Ut=t.unstable_ImmediatePriority,Rn=t.unstable_UserBlockingPriority,kr=t.unstable_NormalPriority,eo=t.unstable_LowPriority,Dr=t.unstable_IdlePriority,qi=t.log,Vc=t.unstable_setDisableYieldValue,rn=null,St=null;function Mr(a){if(typeof qi=="function"&&Vc(a),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(rn,a)}catch{}}var en=Math.clz32?Math.clz32:qc,xl=Math.log,to=Math.LN2;function qc(a){return a>>>=0,a===0?32:31-(xl(a)/to|0)|0}var pi=256,Ja=262144,an=4194304;function gi(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function hr(a,o,u){var m=a.pendingLanes;if(m===0)return 0;var b=0,_=a.suspendedLanes,A=a.pingedLanes;a=a.warmLanes;var L=m&134217727;return L!==0?(m=L&~_,m!==0?b=gi(m):(A&=L,A!==0?b=gi(A):u||(u=L&~a,u!==0&&(b=gi(u))))):(L=m&~_,L!==0?b=gi(L):A!==0?b=gi(A):u||(u=m&~a,u!==0&&(b=gi(u)))),b===0?0:o!==0&&o!==b&&(o&_)===0&&(_=b&-b,u=o&-o,_>=u||_===32&&(u&4194048)!==0)?o:b}function Xr(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function te(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ue(){var a=an;return an<<=1,(an&62914560)===0&&(an=4194304),a}function gt(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Bn(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function wl(a,o,u,m,b,_){var A=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var L=a.entanglements,G=a.expirationTimes,ae=a.hiddenUpdates;for(u=A&~u;0<u;){var he=31-en(u),ye=1<<he;L[he]=0,G[he]=-1;var se=ae[he];if(se!==null)for(ae[he]=null,he=0;he<se.length;he++){var de=se[he];de!==null&&(de.lane&=-536870913)}u&=~ye}m!==0&&vi(a,m,0),_!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=_&~(A&~o))}function vi(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-en(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|u&261930}function Id(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var m=31-en(u),b=1<<m;b&o|a[m]&o&&(a[m]|=o),u&=~b}}function Rd(a,o){var u=o&-o;return u=(u&42)!==0?1:El(u),(u&(a.suspendedLanes|o))!==0?0:u}function El(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function es(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function _m(){var a=oe.p;return a!==0?a:(a=window.event,a===void 0?32:uC(a.type))}function Bi(a,o){var u=oe.p;try{return oe.p=a,o()}finally{oe.p=u}}var $i=Math.random().toString(36).slice(2),xn="__reactFiber$"+$i,$n="__reactProps$"+$i,fa="__reactContainer$"+$i,Bc="__reactEvents$"+$i,_0="__reactListeners$"+$i,xm="__reactHandles$"+$i,wm="__reactResources$"+$i,ha="__reactMarker$"+$i;function $c(a){delete a[xn],delete a[$n],delete a[Bc],delete a[_0],delete a[xm]}function ma(a){var o=a[xn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[fa]||u[xn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=WT(a);a!==null;){if(u=a[xn])return u;a=WT(a)}return o}a=u,u=a.parentNode}return null}function yi(a){if(a=a[xn]||a[fa]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Zr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function pa(a){var o=a[wm];return o||(o=a[wm]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function wn(a){a[ha]=!0}var kd=new Set,Dd={};function ga(a,o){va(a,o),va(a+"Capture",o)}function va(a,o){for(Dd[a]=o,a=0;a<o.length;a++)kd.add(o[a])}var Md=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zd={},Ld={};function Em(a){return Pt.call(Ld,a)?!0:Pt.call(zd,a)?!1:Md.test(a)?Ld[a]=!0:(zd[a]=!0,!1)}function Fc(a,o,u){if(Em(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function Jr(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function En(a,o,u,m){if(m===null)a.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+m)}}function Fn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function no(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ud(a,o,u){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var b=m.get,_=m.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return b.call(this)},set:function(A){u=""+A,_.call(this,A)}}),Object.defineProperty(a,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Nt(a){if(!a._valueTracker){var o=no(a)?"checked":"value";a._valueTracker=Ud(a,o,""+a[o])}}function jl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return a&&(m=no(a)?a.checked?"true":"false":a.value),a=m,a!==u?(o.setValue(a),!0):!1}function ya(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Sl=/[\n"\\]/g;function zr(a){return a.replace(Sl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Hc(a,o,u,m,b,_,A,L){a.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.type=A:a.removeAttribute("type"),o!=null?A==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Fn(o)):a.value!==""+Fn(o)&&(a.value=""+Fn(o)):A!=="submit"&&A!=="reset"||a.removeAttribute("value"),o!=null?Vd(a,A,Fn(o)):u!=null?Vd(a,A,Fn(u)):m!=null&&a.removeAttribute("value"),b==null&&_!=null&&(a.defaultChecked=!!_),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?a.name=""+Fn(L):a.removeAttribute("name")}function jm(a,o,u,m,b,_,A,L){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),o!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){Nt(a);return}u=u!=null?""+Fn(u):"",o=o!=null?""+Fn(o):u,L||o===a.value||(a.value=o),a.defaultValue=o}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=L?a.checked:!!m,a.defaultChecked=!!m,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.name=A),Nt(a)}function Vd(a,o,u){o==="number"&&ya(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function ro(a,o,u,m){if(a=a.options,o){o={};for(var b=0;b<u.length;b++)o["$"+u[b]]=!0;for(u=0;u<a.length;u++)b=o.hasOwnProperty("$"+a[u].value),a[u].selected!==b&&(a[u].selected=b),b&&m&&(a[u].defaultSelected=!0)}else{for(u=""+Fn(u),o=null,b=0;b<a.length;b++){if(a[b].value===u){a[b].selected=!0,m&&(a[b].defaultSelected=!0);return}o!==null||a[b].disabled||(o=a[b])}o!==null&&(o.selected=!0)}}function Sm(a,o,u){if(o!=null&&(o=""+Fn(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+Fn(u):""}function io(a,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(r(92));if(Q(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=Fn(o),a.defaultValue=u,m=a.textContent,m===u&&m!==""&&m!==null&&(a.value=m),Nt(a)}function Lr(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var Nm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qd(a,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,u):typeof u!="number"||u===0||Nm.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function Bd(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var b in o)m=o[b],o.hasOwnProperty(b)&&u[b]!==m&&qd(a,b,m)}else for(var _ in o)o.hasOwnProperty(_)&&qd(a,_,o[_])}function Gc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Am=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ao=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kc(a){return ao.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Fi(){}var $d=null;function bi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var so=null,ba=null;function Nl(a){var o=yi(a);if(o&&(a=o.stateNode)){var u=a[$n]||null;e:switch(a=o.stateNode,o.type){case"input":if(Hc(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+zr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==a&&m.form===a.form){var b=m[$n]||null;if(!b)throw Error(r(90));Hc(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===a.form&&jl(m)}break e;case"textarea":Sm(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&ro(a,!!u.multiple,o,!1)}}}var Wc=!1;function oo(a,o,u){if(Wc)return a(o,u);Wc=!0;try{var m=a(o);return m}finally{if(Wc=!1,(so!==null||ba!==null)&&(_p(),so&&(o=so,a=ba,ba=so=null,Nl(o),a)))for(o=0;o<a.length;o++)Nl(a[o])}}function Hi(a,o){var u=a.stateNode;if(u===null)return null;var m=u[$n]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Al=!1;if(_i)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){Al=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{Al=!1}var _a=null,Fd=null,Tl=null;function Hd(){if(Tl)return Tl;var a,o=Fd,u=o.length,m,b="value"in _a?_a.value:_a.textContent,_=b.length;for(a=0;a<u&&o[a]===b[a];a++);var A=u-a;for(m=1;m<=A&&o[u-m]===b[_-m];m++);return Tl=b.slice(a,1<m?1-m:void 0)}function Cl(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function ts(){return!0}function Gi(){return!1}function tr(a){function o(u,m,b,_,A){this._reactName=u,this._targetInst=b,this.type=m,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var L in a)a.hasOwnProperty(L)&&(u=a[L],this[L]=u?u(_):_[L]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ts:Gi,this.isPropagationStopped=Gi,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),o}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=tr(ns),lo=g({},ns,{view:0,detail:0}),Gd=tr(lo),co,Qc,wa,Yc=g({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==wa&&(wa&&a.type==="mousemove"?(co=a.screenX-wa.screenX,Qc=a.screenY-wa.screenY):Qc=co=0,wa=a),co)},movementY:function(a){return"movementY"in a?a.movementY:Qc}}),Kd=tr(Yc),Ol=g({},Yc,{dataTransfer:0}),Tm=tr(Ol),Cm=g({},lo,{relatedTarget:0}),Pl=tr(Cm),Wd=g({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Om=tr(Wd),Xc=g({},ns,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Pm=tr(Xc),Im=g({},ns,{data:0}),Ea=tr(Im),Rm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},km={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mm(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Dm[a])?!!o[a]:!1}function uo(){return Mm}var Er=g({},lo,{key:function(a){if(a.key){var o=Rm[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Cl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?km[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uo,charCode:function(a){return a.type==="keypress"?Cl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Cl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),zm=tr(Er),Lm=g({},Yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rs=tr(Lm),v=g({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uo}),N=tr(v),C=g({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=tr(C),re=g({},Yc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ue=tr(re),je=g({},ns,{newState:0,oldState:0}),Ze=tr(je),hn=[9,13,27,32],xt=_i&&"CompositionEvent"in window,Yt=null;_i&&"documentMode"in document&&(Yt=document.documentMode);var xi=_i&&"TextEvent"in window&&!Yt,ja=_i&&(!xt||Yt&&8<Yt&&11>=Yt),Ki=" ",Wi=!1;function Il(a,o){switch(a){case"keyup":return hn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zc(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Jc=!1;function fV(a,o){switch(a){case"compositionend":return Zc(o);case"keypress":return o.which!==32?null:(Wi=!0,Ki);case"textInput":return a=o.data,a===Ki&&Wi?null:a;default:return null}}function hV(a,o){if(Jc)return a==="compositionend"||!xt&&Il(a,o)?(a=Hd(),Tl=Fd=_a=null,Jc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ja&&o.locale!=="ko"?null:o.data;default:return null}}var mV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XS(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!mV[a.type]:o==="textarea"}function ZS(a,o,u,m){so?ba?ba.push(m):ba=[m]:so=m,o=Ap(o,"onChange"),0<o.length&&(u=new xa("onChange","change",null,u,m),a.push({event:u,listeners:o}))}var Qd=null,Yd=null;function pV(a){kT(a,0)}function Um(a){var o=Zr(a);if(jl(o))return a}function JS(a,o){if(a==="change")return o}var eN=!1;if(_i){var x0;if(_i){var w0="oninput"in document;if(!w0){var tN=document.createElement("div");tN.setAttribute("oninput","return;"),w0=typeof tN.oninput=="function"}x0=w0}else x0=!1;eN=x0&&(!document.documentMode||9<document.documentMode)}function nN(){Qd&&(Qd.detachEvent("onpropertychange",rN),Yd=Qd=null)}function rN(a){if(a.propertyName==="value"&&Um(Yd)){var o=[];ZS(o,Yd,a,bi(a)),oo(pV,o)}}function gV(a,o,u){a==="focusin"?(nN(),Qd=o,Yd=u,Qd.attachEvent("onpropertychange",rN)):a==="focusout"&&nN()}function vV(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Um(Yd)}function yV(a,o){if(a==="click")return Um(o)}function bV(a,o){if(a==="input"||a==="change")return Um(o)}function _V(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var ei=typeof Object.is=="function"?Object.is:_V;function Xd(a,o){if(ei(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var b=u[m];if(!Pt.call(o,b)||!ei(a[b],o[b]))return!1}return!0}function iN(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function aN(a,o){var u=iN(a);a=0;for(var m;u;){if(u.nodeType===3){if(m=a+u.textContent.length,a<=o&&m>=o)return{node:u,offset:o-a};a=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=iN(u)}}function sN(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?sN(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function oN(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=ya(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=ya(a.document)}return o}function E0(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var xV=_i&&"documentMode"in document&&11>=document.documentMode,eu=null,j0=null,Zd=null,S0=!1;function lN(a,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;S0||eu==null||eu!==ya(m)||(m=eu,"selectionStart"in m&&E0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Zd&&Xd(Zd,m)||(Zd=m,m=Ap(j0,"onSelect"),0<m.length&&(o=new xa("onSelect","select",null,o,u),a.push({event:o,listeners:m}),o.target=eu)))}function Rl(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var tu={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionrun:Rl("Transition","TransitionRun"),transitionstart:Rl("Transition","TransitionStart"),transitioncancel:Rl("Transition","TransitionCancel"),transitionend:Rl("Transition","TransitionEnd")},N0={},cN={};_i&&(cN=document.createElement("div").style,"AnimationEvent"in window||(delete tu.animationend.animation,delete tu.animationiteration.animation,delete tu.animationstart.animation),"TransitionEvent"in window||delete tu.transitionend.transition);function kl(a){if(N0[a])return N0[a];if(!tu[a])return a;var o=tu[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in cN)return N0[a]=o[u];return a}var uN=kl("animationend"),dN=kl("animationiteration"),fN=kl("animationstart"),wV=kl("transitionrun"),EV=kl("transitionstart"),jV=kl("transitioncancel"),hN=kl("transitionend"),mN=new Map,A0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");A0.push("scrollEnd");function Qi(a,o){mN.set(a,o),ga(o,[a])}var Vm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},wi=[],nu=0,T0=0;function qm(){for(var a=nu,o=T0=nu=0;o<a;){var u=wi[o];wi[o++]=null;var m=wi[o];wi[o++]=null;var b=wi[o];wi[o++]=null;var _=wi[o];if(wi[o++]=null,m!==null&&b!==null){var A=m.pending;A===null?b.next=b:(b.next=A.next,A.next=b),m.pending=b}_!==0&&pN(u,b,_)}}function Bm(a,o,u,m){wi[nu++]=a,wi[nu++]=o,wi[nu++]=u,wi[nu++]=m,T0|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function C0(a,o,u,m){return Bm(a,o,u,m),$m(a)}function Dl(a,o){return Bm(a,null,null,o),$m(a)}function pN(a,o,u){a.lanes|=u;var m=a.alternate;m!==null&&(m.lanes|=u);for(var b=!1,_=a.return;_!==null;)_.childLanes|=u,m=_.alternate,m!==null&&(m.childLanes|=u),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(b=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,b&&o!==null&&(b=31-en(u),a=_.hiddenUpdates,m=a[b],m===null?a[b]=[o]:m.push(o),o.lane=u|536870912),_):null}function $m(a){if(50<xf)throw xf=0,Lb=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var ru={};function SV(a,o,u,m){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(a,o,u,m){return new SV(a,o,u,m)}function O0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function is(a,o){var u=a.alternate;return u===null?(u=ti(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function gN(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Fm(a,o,u,m,b,_){var A=0;if(m=a,typeof a=="function")O0(a)&&(A=1);else if(typeof a=="string")A=Oq(a,u,we.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case k:return a=ti(31,u,o,b),a.elementType=k,a.lanes=_,a;case E:return Ml(u.children,b,_,o);case S:A=8,b|=24;break;case T:return a=ti(12,u,o,b|2),a.elementType=T,a.lanes=_,a;case $:return a=ti(13,u,o,b),a.elementType=$,a.lanes=_,a;case B:return a=ti(19,u,o,b),a.elementType=B,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:A=10;break e;case D:A=9;break e;case P:A=11;break e;case I:A=14;break e;case O:A=16,m=null;break e}A=29,u=Error(r(130,a===null?"null":typeof a,"")),m=null}return o=ti(A,u,o,b),o.elementType=a,o.type=m,o.lanes=_,o}function Ml(a,o,u,m){return a=ti(7,a,m,o),a.lanes=u,a}function P0(a,o,u){return a=ti(6,a,null,o),a.lanes=u,a}function vN(a){var o=ti(18,null,null,0);return o.stateNode=a,o}function I0(a,o,u){return o=ti(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var yN=new WeakMap;function Ei(a,o){if(typeof a=="object"&&a!==null){var u=yN.get(a);return u!==void 0?u:(o={value:a,source:o,stack:fr(o)},yN.set(a,o),o)}return{value:a,source:o,stack:fr(o)}}var iu=[],au=0,Hm=null,Jd=0,ji=[],Si=0,fo=null,Sa=1,Na="";function as(a,o){iu[au++]=Jd,iu[au++]=Hm,Hm=a,Jd=o}function bN(a,o,u){ji[Si++]=Sa,ji[Si++]=Na,ji[Si++]=fo,fo=a;var m=Sa;a=Na;var b=32-en(m)-1;m&=~(1<<b),u+=1;var _=32-en(o)+b;if(30<_){var A=b-b%5;_=(m&(1<<A)-1).toString(32),m>>=A,b-=A,Sa=1<<32-en(o)+b|u<<b|m,Na=_+a}else Sa=1<<_|u<<b|m,Na=a}function R0(a){a.return!==null&&(as(a,1),bN(a,1,0))}function k0(a){for(;a===Hm;)Hm=iu[--au],iu[au]=null,Jd=iu[--au],iu[au]=null;for(;a===fo;)fo=ji[--Si],ji[Si]=null,Na=ji[--Si],ji[Si]=null,Sa=ji[--Si],ji[Si]=null}function _N(a,o){ji[Si++]=Sa,ji[Si++]=Na,ji[Si++]=fo,Sa=o.id,Na=o.overflow,fo=a}var nr=null,Kt=null,ht=!1,ho=null,Ni=!1,D0=Error(r(519));function mo(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ef(Ei(o,a)),D0}function xN(a){var o=a.stateNode,u=a.type,m=a.memoizedProps;switch(o[xn]=a,o[$n]=m,u){case"dialog":rt("cancel",o),rt("close",o);break;case"iframe":case"object":case"embed":rt("load",o);break;case"video":case"audio":for(u=0;u<Ef.length;u++)rt(Ef[u],o);break;case"source":rt("error",o);break;case"img":case"image":case"link":rt("error",o),rt("load",o);break;case"details":rt("toggle",o);break;case"input":rt("invalid",o),jm(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":rt("invalid",o);break;case"textarea":rt("invalid",o),io(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||LT(o.textContent,u)?(m.popover!=null&&(rt("beforetoggle",o),rt("toggle",o)),m.onScroll!=null&&rt("scroll",o),m.onScrollEnd!=null&&rt("scrollend",o),m.onClick!=null&&(o.onclick=Fi),o=!0):o=!1,o||mo(a,!0)}function wN(a){for(nr=a.return;nr;)switch(nr.tag){case 5:case 31:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:nr=nr.return}}function su(a){if(a!==nr)return!1;if(!ht)return wN(a),ht=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Jb(a.type,a.memoizedProps)),u=!u),u&&Kt&&mo(a),wN(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Kt=KT(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Kt=KT(a)}else o===27?(o=Kt,To(a.type)?(a=i_,i_=null,Kt=a):Kt=o):Kt=nr?Ti(a.stateNode.nextSibling):null;return!0}function zl(){Kt=nr=null,ht=!1}function M0(){var a=ho;return a!==null&&(Br===null?Br=a:Br.push.apply(Br,a),ho=null),a}function ef(a){ho===null?ho=[a]:ho.push(a)}var z0=F(null),Ll=null,ss=null;function po(a,o,u){ge(z0,o._currentValue),o._currentValue=u}function os(a){a._currentValue=z0.current,ne(z0)}function L0(a,o,u){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===u)break;a=a.return}}function U0(a,o,u,m){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var _=b.dependencies;if(_!==null){var A=b.child;_=_.firstContext;e:for(;_!==null;){var L=_;_=b;for(var G=0;G<o.length;G++)if(L.context===o[G]){_.lanes|=u,L=_.alternate,L!==null&&(L.lanes|=u),L0(_.return,u,a),m||(A=null);break e}_=L.next}}else if(b.tag===18){if(A=b.return,A===null)throw Error(r(341));A.lanes|=u,_=A.alternate,_!==null&&(_.lanes|=u),L0(A,u,a),A=null}else A=b.child;if(A!==null)A.return=b;else for(A=b;A!==null;){if(A===a){A=null;break}if(b=A.sibling,b!==null){b.return=A.return,A=b;break}A=A.return}b=A}}function ou(a,o,u,m){a=null;for(var b=o,_=!1;b!==null;){if(!_){if((b.flags&524288)!==0)_=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var A=b.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var L=b.type;ei(b.pendingProps.value,A.value)||(a!==null?a.push(L):a=[L])}}else if(b===xe.current){if(A=b.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(Tf):a=[Tf])}b=b.return}a!==null&&U0(o,a,u,m),o.flags|=262144}function Gm(a){for(a=a.firstContext;a!==null;){if(!ei(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ul(a){Ll=a,ss=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function rr(a){return EN(Ll,a)}function Km(a,o){return Ll===null&&Ul(a),EN(a,o)}function EN(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ss===null){if(a===null)throw Error(r(308));ss=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else ss=ss.next=o;return u}var NV=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},AV=t.unstable_scheduleCallback,TV=t.unstable_NormalPriority,jn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function V0(){return{controller:new NV,data:new Map,refCount:0}}function tf(a){a.refCount--,a.refCount===0&&AV(TV,function(){a.controller.abort()})}var nf=null,q0=0,lu=0,cu=null;function CV(a,o){if(nf===null){var u=nf=[];q0=0,lu=Fb(),cu={status:"pending",value:void 0,then:function(m){u.push(m)}}}return q0++,o.then(jN,jN),o}function jN(){if(--q0===0&&nf!==null){cu!==null&&(cu.status="fulfilled");var a=nf;nf=null,lu=0,cu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function OV(a,o){var u=[],m={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var b=0;b<u.length;b++)(0,u[b])(o)},function(b){for(m.status="rejected",m.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),m}var SN=H.S;H.S=function(a,o){lT=qe(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&CV(a,o),SN!==null&&SN(a,o)};var Vl=F(null);function B0(){var a=Vl.current;return a!==null?a:Vt.pooledCache}function Wm(a,o){o===null?ge(Vl,Vl.current):ge(Vl,o.pool)}function NN(){var a=B0();return a===null?null:{parent:jn._currentValue,pool:a}}var uu=Error(r(460)),$0=Error(r(474)),Qm=Error(r(542)),Ym={then:function(){}};function AN(a){return a=a.status,a==="fulfilled"||a==="rejected"}function TN(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Fi,Fi),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,ON(a),a;default:if(typeof o.status=="string")o.then(Fi,Fi);else{if(a=Vt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=m}},function(m){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,ON(a),a}throw Bl=o,uu}}function ql(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Bl=u,uu):u}}var Bl=null;function CN(){if(Bl===null)throw Error(r(459));var a=Bl;return Bl=null,a}function ON(a){if(a===uu||a===Qm)throw Error(r(483))}var du=null,rf=0;function Xm(a){var o=rf;return rf+=1,du===null&&(du=[]),TN(du,a,o)}function af(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Zm(a,o){throw o.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function PN(a){function o(ee,K){if(a){var ie=ee.deletions;ie===null?(ee.deletions=[K],ee.flags|=16):ie.push(K)}}function u(ee,K){if(!a)return null;for(;K!==null;)o(ee,K),K=K.sibling;return null}function m(ee){for(var K=new Map;ee!==null;)ee.key!==null?K.set(ee.key,ee):K.set(ee.index,ee),ee=ee.sibling;return K}function b(ee,K){return ee=is(ee,K),ee.index=0,ee.sibling=null,ee}function _(ee,K,ie){return ee.index=ie,a?(ie=ee.alternate,ie!==null?(ie=ie.index,ie<K?(ee.flags|=67108866,K):ie):(ee.flags|=67108866,K)):(ee.flags|=1048576,K)}function A(ee){return a&&ee.alternate===null&&(ee.flags|=67108866),ee}function L(ee,K,ie,pe){return K===null||K.tag!==6?(K=P0(ie,ee.mode,pe),K.return=ee,K):(K=b(K,ie),K.return=ee,K)}function G(ee,K,ie,pe){var ze=ie.type;return ze===E?he(ee,K,ie.props.children,pe,ie.key):K!==null&&(K.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===O&&ql(ze)===K.type)?(K=b(K,ie.props),af(K,ie),K.return=ee,K):(K=Fm(ie.type,ie.key,ie.props,null,ee.mode,pe),af(K,ie),K.return=ee,K)}function ae(ee,K,ie,pe){return K===null||K.tag!==4||K.stateNode.containerInfo!==ie.containerInfo||K.stateNode.implementation!==ie.implementation?(K=I0(ie,ee.mode,pe),K.return=ee,K):(K=b(K,ie.children||[]),K.return=ee,K)}function he(ee,K,ie,pe,ze){return K===null||K.tag!==7?(K=Ml(ie,ee.mode,pe,ze),K.return=ee,K):(K=b(K,ie),K.return=ee,K)}function ye(ee,K,ie){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=P0(""+K,ee.mode,ie),K.return=ee,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return ie=Fm(K.type,K.key,K.props,null,ee.mode,ie),af(ie,K),ie.return=ee,ie;case j:return K=I0(K,ee.mode,ie),K.return=ee,K;case O:return K=ql(K),ye(ee,K,ie)}if(Q(K)||z(K))return K=Ml(K,ee.mode,ie,null),K.return=ee,K;if(typeof K.then=="function")return ye(ee,Xm(K),ie);if(K.$$typeof===R)return ye(ee,Km(ee,K),ie);Zm(ee,K)}return null}function se(ee,K,ie,pe){var ze=K!==null?K.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ze!==null?null:L(ee,K,""+ie,pe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case x:return ie.key===ze?G(ee,K,ie,pe):null;case j:return ie.key===ze?ae(ee,K,ie,pe):null;case O:return ie=ql(ie),se(ee,K,ie,pe)}if(Q(ie)||z(ie))return ze!==null?null:he(ee,K,ie,pe,null);if(typeof ie.then=="function")return se(ee,K,Xm(ie),pe);if(ie.$$typeof===R)return se(ee,K,Km(ee,ie),pe);Zm(ee,ie)}return null}function de(ee,K,ie,pe,ze){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return ee=ee.get(ie)||null,L(K,ee,""+pe,ze);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case x:return ee=ee.get(pe.key===null?ie:pe.key)||null,G(K,ee,pe,ze);case j:return ee=ee.get(pe.key===null?ie:pe.key)||null,ae(K,ee,pe,ze);case O:return pe=ql(pe),de(ee,K,ie,pe,ze)}if(Q(pe)||z(pe))return ee=ee.get(ie)||null,he(K,ee,pe,ze,null);if(typeof pe.then=="function")return de(ee,K,ie,Xm(pe),ze);if(pe.$$typeof===R)return de(ee,K,ie,Km(K,pe),ze);Zm(K,pe)}return null}function Oe(ee,K,ie,pe){for(var ze=null,yt=null,Re=K,et=K=0,lt=null;Re!==null&&et<ie.length;et++){Re.index>et?(lt=Re,Re=null):lt=Re.sibling;var bt=se(ee,Re,ie[et],pe);if(bt===null){Re===null&&(Re=lt);break}a&&Re&&bt.alternate===null&&o(ee,Re),K=_(bt,K,et),yt===null?ze=bt:yt.sibling=bt,yt=bt,Re=lt}if(et===ie.length)return u(ee,Re),ht&&as(ee,et),ze;if(Re===null){for(;et<ie.length;et++)Re=ye(ee,ie[et],pe),Re!==null&&(K=_(Re,K,et),yt===null?ze=Re:yt.sibling=Re,yt=Re);return ht&&as(ee,et),ze}for(Re=m(Re);et<ie.length;et++)lt=de(Re,ee,et,ie[et],pe),lt!==null&&(a&&lt.alternate!==null&&Re.delete(lt.key===null?et:lt.key),K=_(lt,K,et),yt===null?ze=lt:yt.sibling=lt,yt=lt);return a&&Re.forEach(function(Ro){return o(ee,Ro)}),ht&&as(ee,et),ze}function Be(ee,K,ie,pe){if(ie==null)throw Error(r(151));for(var ze=null,yt=null,Re=K,et=K=0,lt=null,bt=ie.next();Re!==null&&!bt.done;et++,bt=ie.next()){Re.index>et?(lt=Re,Re=null):lt=Re.sibling;var Ro=se(ee,Re,bt.value,pe);if(Ro===null){Re===null&&(Re=lt);break}a&&Re&&Ro.alternate===null&&o(ee,Re),K=_(Ro,K,et),yt===null?ze=Ro:yt.sibling=Ro,yt=Ro,Re=lt}if(bt.done)return u(ee,Re),ht&&as(ee,et),ze;if(Re===null){for(;!bt.done;et++,bt=ie.next())bt=ye(ee,bt.value,pe),bt!==null&&(K=_(bt,K,et),yt===null?ze=bt:yt.sibling=bt,yt=bt);return ht&&as(ee,et),ze}for(Re=m(Re);!bt.done;et++,bt=ie.next())bt=de(Re,ee,et,bt.value,pe),bt!==null&&(a&&bt.alternate!==null&&Re.delete(bt.key===null?et:bt.key),K=_(bt,K,et),yt===null?ze=bt:yt.sibling=bt,yt=bt);return a&&Re.forEach(function(qq){return o(ee,qq)}),ht&&as(ee,et),ze}function Mt(ee,K,ie,pe){if(typeof ie=="object"&&ie!==null&&ie.type===E&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case x:e:{for(var ze=ie.key;K!==null;){if(K.key===ze){if(ze=ie.type,ze===E){if(K.tag===7){u(ee,K.sibling),pe=b(K,ie.props.children),pe.return=ee,ee=pe;break e}}else if(K.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===O&&ql(ze)===K.type){u(ee,K.sibling),pe=b(K,ie.props),af(pe,ie),pe.return=ee,ee=pe;break e}u(ee,K);break}else o(ee,K);K=K.sibling}ie.type===E?(pe=Ml(ie.props.children,ee.mode,pe,ie.key),pe.return=ee,ee=pe):(pe=Fm(ie.type,ie.key,ie.props,null,ee.mode,pe),af(pe,ie),pe.return=ee,ee=pe)}return A(ee);case j:e:{for(ze=ie.key;K!==null;){if(K.key===ze)if(K.tag===4&&K.stateNode.containerInfo===ie.containerInfo&&K.stateNode.implementation===ie.implementation){u(ee,K.sibling),pe=b(K,ie.children||[]),pe.return=ee,ee=pe;break e}else{u(ee,K);break}else o(ee,K);K=K.sibling}pe=I0(ie,ee.mode,pe),pe.return=ee,ee=pe}return A(ee);case O:return ie=ql(ie),Mt(ee,K,ie,pe)}if(Q(ie))return Oe(ee,K,ie,pe);if(z(ie)){if(ze=z(ie),typeof ze!="function")throw Error(r(150));return ie=ze.call(ie),Be(ee,K,ie,pe)}if(typeof ie.then=="function")return Mt(ee,K,Xm(ie),pe);if(ie.$$typeof===R)return Mt(ee,K,Km(ee,ie),pe);Zm(ee,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,K!==null&&K.tag===6?(u(ee,K.sibling),pe=b(K,ie),pe.return=ee,ee=pe):(u(ee,K),pe=P0(ie,ee.mode,pe),pe.return=ee,ee=pe),A(ee)):u(ee,K)}return function(ee,K,ie,pe){try{rf=0;var ze=Mt(ee,K,ie,pe);return du=null,ze}catch(Re){if(Re===uu||Re===Qm)throw Re;var yt=ti(29,Re,null,ee.mode);return yt.lanes=pe,yt.return=ee,yt}}}var $l=PN(!0),IN=PN(!1),go=!1;function F0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function H0(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function vo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function yo(a,o,u){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(wt&2)!==0){var b=m.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),m.pending=o,o=$m(a),pN(a,null,u),o}return Bm(a,m,o,u),$m(a)}function sf(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=a.pendingLanes,u|=m,o.lanes=u,Id(a,u)}}function G0(a,o){var u=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var b=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?b=_=A:_=_.next=A,u=u.next}while(u!==null);_===null?b=_=o:_=_.next=o}else b=_=o;u={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:_,shared:m.shared,callbacks:m.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var K0=!1;function of(){if(K0){var a=cu;if(a!==null)throw a}}function lf(a,o,u,m){K0=!1;var b=a.updateQueue;go=!1;var _=b.firstBaseUpdate,A=b.lastBaseUpdate,L=b.shared.pending;if(L!==null){b.shared.pending=null;var G=L,ae=G.next;G.next=null,A===null?_=ae:A.next=ae,A=G;var he=a.alternate;he!==null&&(he=he.updateQueue,L=he.lastBaseUpdate,L!==A&&(L===null?he.firstBaseUpdate=ae:L.next=ae,he.lastBaseUpdate=G))}if(_!==null){var ye=b.baseState;A=0,he=ae=G=null,L=_;do{var se=L.lane&-536870913,de=se!==L.lane;if(de?(ot&se)===se:(m&se)===se){se!==0&&se===lu&&(K0=!0),he!==null&&(he=he.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Oe=a,Be=L;se=o;var Mt=u;switch(Be.tag){case 1:if(Oe=Be.payload,typeof Oe=="function"){ye=Oe.call(Mt,ye,se);break e}ye=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Be.payload,se=typeof Oe=="function"?Oe.call(Mt,ye,se):Oe,se==null)break e;ye=g({},ye,se);break e;case 2:go=!0}}se=L.callback,se!==null&&(a.flags|=64,de&&(a.flags|=8192),de=b.callbacks,de===null?b.callbacks=[se]:de.push(se))}else de={lane:se,tag:L.tag,payload:L.payload,callback:L.callback,next:null},he===null?(ae=he=de,G=ye):he=he.next=de,A|=se;if(L=L.next,L===null){if(L=b.shared.pending,L===null)break;de=L,L=de.next,de.next=null,b.lastBaseUpdate=de,b.shared.pending=null}}while(!0);he===null&&(G=ye),b.baseState=G,b.firstBaseUpdate=ae,b.lastBaseUpdate=he,_===null&&(b.shared.lanes=0),Eo|=A,a.lanes=A,a.memoizedState=ye}}function RN(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function kN(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)RN(u[a],o)}var fu=F(null),Jm=F(0);function DN(a,o){a=gs,ge(Jm,a),ge(fu,o),gs=a|o.baseLanes}function W0(){ge(Jm,gs),ge(fu,fu.current)}function Q0(){gs=Jm.current,ne(fu),ne(Jm)}var ni=F(null),Ai=null;function bo(a){var o=a.alternate;ge(mn,mn.current&1),ge(ni,a),Ai===null&&(o===null||fu.current!==null||o.memoizedState!==null)&&(Ai=a)}function Y0(a){ge(mn,mn.current),ge(ni,a),Ai===null&&(Ai=a)}function MN(a){a.tag===22?(ge(mn,mn.current),ge(ni,a),Ai===null&&(Ai=a)):_o()}function _o(){ge(mn,mn.current),ge(ni,ni.current)}function ri(a){ne(ni),Ai===a&&(Ai=null),ne(mn)}var mn=F(0);function ep(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||n_(u)||r_(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ls=0,Je=null,kt=null,Sn=null,tp=!1,hu=!1,Fl=!1,np=0,cf=0,mu=null,PV=0;function sn(){throw Error(r(321))}function X0(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!ei(a[u],o[u]))return!1;return!0}function Z0(a,o,u,m,b,_){return ls=_,Je=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,H.H=a===null||a.memoizedState===null?bA:hb,Fl=!1,_=u(m,b),Fl=!1,hu&&(_=LN(o,u,m,b)),zN(a),_}function zN(a){H.H=ff;var o=kt!==null&&kt.next!==null;if(ls=0,Sn=kt=Je=null,tp=!1,cf=0,mu=null,o)throw Error(r(300));a===null||Nn||(a=a.dependencies,a!==null&&Gm(a)&&(Nn=!0))}function LN(a,o,u,m){Je=a;var b=0;do{if(hu&&(mu=null),cf=0,hu=!1,25<=b)throw Error(r(301));if(b+=1,Sn=kt=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}H.H=_A,_=o(u,m)}while(hu);return _}function IV(){var a=H.H,o=a.useState()[0];return o=typeof o.then=="function"?uf(o):o,a=a.useState()[0],(kt!==null?kt.memoizedState:null)!==a&&(Je.flags|=1024),o}function J0(){var a=np!==0;return np=0,a}function eb(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function tb(a){if(tp){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}tp=!1}ls=0,Sn=kt=Je=null,hu=!1,cf=np=0,mu=null}function jr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?Je.memoizedState=Sn=a:Sn=Sn.next=a,Sn}function pn(){if(kt===null){var a=Je.alternate;a=a!==null?a.memoizedState:null}else a=kt.next;var o=Sn===null?Je.memoizedState:Sn.next;if(o!==null)Sn=o,kt=a;else{if(a===null)throw Je.alternate===null?Error(r(467)):Error(r(310));kt=a,a={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Sn===null?Je.memoizedState=Sn=a:Sn=Sn.next=a}return Sn}function rp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uf(a){var o=cf;return cf+=1,mu===null&&(mu=[]),a=TN(mu,a,o),o=Je,(Sn===null?o.memoizedState:Sn.next)===null&&(o=o.alternate,H.H=o===null||o.memoizedState===null?bA:hb),a}function ip(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return uf(a);if(a.$$typeof===R)return rr(a)}throw Error(r(438,String(a)))}function nb(a){var o=null,u=Je.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=Je.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=rp(),Je.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),m=0;m<a;m++)u[m]=V;return o.index++,u}function cs(a,o){return typeof o=="function"?o(a):o}function ap(a){var o=pn();return rb(o,kt,a)}function rb(a,o,u){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var b=a.baseQueue,_=m.pending;if(_!==null){if(b!==null){var A=b.next;b.next=_.next,_.next=A}o.baseQueue=b=_,m.pending=null}if(_=a.baseState,b===null)a.memoizedState=_;else{o=b.next;var L=A=null,G=null,ae=o,he=!1;do{var ye=ae.lane&-536870913;if(ye!==ae.lane?(ot&ye)===ye:(ls&ye)===ye){var se=ae.revertLane;if(se===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),ye===lu&&(he=!0);else if((ls&se)===se){ae=ae.next,se===lu&&(he=!0);continue}else ye={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},G===null?(L=G=ye,A=_):G=G.next=ye,Je.lanes|=se,Eo|=se;ye=ae.action,Fl&&u(_,ye),_=ae.hasEagerState?ae.eagerState:u(_,ye)}else se={lane:ye,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},G===null?(L=G=se,A=_):G=G.next=se,Je.lanes|=ye,Eo|=ye;ae=ae.next}while(ae!==null&&ae!==o);if(G===null?A=_:G.next=L,!ei(_,a.memoizedState)&&(Nn=!0,he&&(u=cu,u!==null)))throw u;a.memoizedState=_,a.baseState=A,a.baseQueue=G,m.lastRenderedState=_}return b===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function ib(a){var o=pn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var m=u.dispatch,b=u.pending,_=o.memoizedState;if(b!==null){u.pending=null;var A=b=b.next;do _=a(_,A.action),A=A.next;while(A!==b);ei(_,o.memoizedState)||(Nn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,m]}function UN(a,o,u){var m=Je,b=pn(),_=ht;if(_){if(u===void 0)throw Error(r(407));u=u()}else u=o();var A=!ei((kt||b).memoizedState,u);if(A&&(b.memoizedState=u,Nn=!0),b=b.queue,ob(BN.bind(null,m,b,a),[a]),b.getSnapshot!==o||A||Sn!==null&&Sn.memoizedState.tag&1){if(m.flags|=2048,pu(9,{destroy:void 0},qN.bind(null,m,b,u,o),null),Vt===null)throw Error(r(349));_||(ls&127)!==0||VN(m,o,u)}return u}function VN(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=Je.updateQueue,o===null?(o=rp(),Je.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function qN(a,o,u,m){o.value=u,o.getSnapshot=m,$N(o)&&FN(a)}function BN(a,o,u){return u(function(){$N(o)&&FN(a)})}function $N(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!ei(a,u)}catch{return!0}}function FN(a){var o=Dl(a,2);o!==null&&$r(o,a,2)}function ab(a){var o=jr();if(typeof a=="function"){var u=a;if(a=u(),Fl){Mr(!0);try{u()}finally{Mr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:a},o}function HN(a,o,u,m){return a.baseState=u,rb(a,kt,typeof m=="function"?m:cs)}function RV(a,o,u,m,b){if(lp(a))throw Error(r(485));if(a=o.action,a!==null){var _={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){_.listeners.push(A)}};H.T!==null?u(!0):_.isTransition=!1,m(_),u=o.pending,u===null?(_.next=o.pending=_,GN(o,_)):(_.next=u.next,o.pending=u.next=_)}}function GN(a,o){var u=o.action,m=o.payload,b=a.state;if(o.isTransition){var _=H.T,A={};H.T=A;try{var L=u(b,m),G=H.S;G!==null&&G(A,L),KN(a,o,L)}catch(ae){sb(a,o,ae)}finally{_!==null&&A.types!==null&&(_.types=A.types),H.T=_}}else try{_=u(b,m),KN(a,o,_)}catch(ae){sb(a,o,ae)}}function KN(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){WN(a,o,m)},function(m){return sb(a,o,m)}):WN(a,o,u)}function WN(a,o,u){o.status="fulfilled",o.value=u,QN(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,GN(a,u)))}function sb(a,o,u){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,QN(o),o=o.next;while(o!==m)}a.action=null}function QN(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function YN(a,o){return o}function XN(a,o){if(ht){var u=Vt.formState;if(u!==null){e:{var m=Je;if(ht){if(Kt){t:{for(var b=Kt,_=Ni;b.nodeType!==8;){if(!_){b=null;break t}if(b=Ti(b.nextSibling),b===null){b=null;break t}}_=b.data,b=_==="F!"||_==="F"?b:null}if(b){Kt=Ti(b.nextSibling),m=b.data==="F!";break e}}mo(m)}m=!1}m&&(o=u[0])}}return u=jr(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:YN,lastRenderedState:o},u.queue=m,u=gA.bind(null,Je,m),m.dispatch=u,m=ab(!1),_=fb.bind(null,Je,!1,m.queue),m=jr(),b={state:o,dispatch:null,action:a,pending:null},m.queue=b,u=RV.bind(null,Je,b,_,u),b.dispatch=u,m.memoizedState=a,[o,u,!1]}function ZN(a){var o=pn();return JN(o,kt,a)}function JN(a,o,u){if(o=rb(a,o,YN)[0],a=ap(cs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=uf(o)}catch(A){throw A===uu?Qm:A}else m=o;o=pn();var b=o.queue,_=b.dispatch;return u!==o.memoizedState&&(Je.flags|=2048,pu(9,{destroy:void 0},kV.bind(null,b,u),null)),[m,_,a]}function kV(a,o){a.action=o}function eA(a){var o=pn(),u=kt;if(u!==null)return JN(o,u,a);pn(),o=o.memoizedState,u=pn();var m=u.queue.dispatch;return u.memoizedState=a,[o,m,!1]}function pu(a,o,u,m){return a={tag:a,create:u,deps:m,inst:o,next:null},o=Je.updateQueue,o===null&&(o=rp(),Je.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(m=u.next,u.next=a,a.next=m,o.lastEffect=a),a}function tA(){return pn().memoizedState}function sp(a,o,u,m){var b=jr();Je.flags|=a,b.memoizedState=pu(1|o,{destroy:void 0},u,m===void 0?null:m)}function op(a,o,u,m){var b=pn();m=m===void 0?null:m;var _=b.memoizedState.inst;kt!==null&&m!==null&&X0(m,kt.memoizedState.deps)?b.memoizedState=pu(o,_,u,m):(Je.flags|=a,b.memoizedState=pu(1|o,_,u,m))}function nA(a,o){sp(8390656,8,a,o)}function ob(a,o){op(2048,8,a,o)}function DV(a){Je.flags|=4;var o=Je.updateQueue;if(o===null)o=rp(),Je.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function rA(a){var o=pn().memoizedState;return DV({ref:o,nextImpl:a}),function(){if((wt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function iA(a,o){return op(4,2,a,o)}function aA(a,o){return op(4,4,a,o)}function sA(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function oA(a,o,u){u=u!=null?u.concat([a]):null,op(4,4,sA.bind(null,o,a),u)}function lb(){}function lA(a,o){var u=pn();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&X0(o,m[1])?m[0]:(u.memoizedState=[a,o],a)}function cA(a,o){var u=pn();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&X0(o,m[1]))return m[0];if(m=a(),Fl){Mr(!0);try{a()}finally{Mr(!1)}}return u.memoizedState=[m,o],m}function cb(a,o,u){return u===void 0||(ls&1073741824)!==0&&(ot&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=uT(),Je.lanes|=a,Eo|=a,u)}function uA(a,o,u,m){return ei(u,o)?u:fu.current!==null?(a=cb(a,u,m),ei(a,o)||(Nn=!0),a):(ls&42)===0||(ls&1073741824)!==0&&(ot&261930)===0?(Nn=!0,a.memoizedState=u):(a=uT(),Je.lanes|=a,Eo|=a,o)}function dA(a,o,u,m,b){var _=oe.p;oe.p=_!==0&&8>_?_:8;var A=H.T,L={};H.T=L,fb(a,!1,o,u);try{var G=b(),ae=H.S;if(ae!==null&&ae(L,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var he=OV(G,m);df(a,o,he,si(a))}else df(a,o,m,si(a))}catch(ye){df(a,o,{then:function(){},status:"rejected",reason:ye},si())}finally{oe.p=_,A!==null&&L.types!==null&&(A.types=L.types),H.T=A}}function MV(){}function ub(a,o,u,m){if(a.tag!==5)throw Error(r(476));var b=fA(a).queue;dA(a,b,o,be,u===null?MV:function(){return hA(a),u(m)})}function fA(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:be},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function hA(a){var o=fA(a);o.next===null&&(o=a.alternate.memoizedState),df(a,o.next.queue,{},si())}function db(){return rr(Tf)}function mA(){return pn().memoizedState}function pA(){return pn().memoizedState}function zV(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=si();a=vo(u);var m=yo(o,a,u);m!==null&&($r(m,o,u),sf(m,o,u)),o={cache:V0()},a.payload=o;return}o=o.return}}function LV(a,o,u){var m=si();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},lp(a)?vA(o,u):(u=C0(a,o,u,m),u!==null&&($r(u,a,m),yA(u,o,m)))}function gA(a,o,u){var m=si();df(a,o,u,m)}function df(a,o,u,m){var b={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(lp(a))vA(o,b);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var A=o.lastRenderedState,L=_(A,u);if(b.hasEagerState=!0,b.eagerState=L,ei(L,A))return Bm(a,o,b,0),Vt===null&&qm(),!1}catch{}if(u=C0(a,o,b,m),u!==null)return $r(u,a,m),yA(u,o,m),!0}return!1}function fb(a,o,u,m){if(m={lane:2,revertLane:Fb(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},lp(a)){if(o)throw Error(r(479))}else o=C0(a,u,m,2),o!==null&&$r(o,a,2)}function lp(a){var o=a.alternate;return a===Je||o!==null&&o===Je}function vA(a,o){hu=tp=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function yA(a,o,u){if((u&4194048)!==0){var m=o.lanes;m&=a.pendingLanes,u|=m,o.lanes=u,Id(a,u)}}var ff={readContext:rr,use:ip,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useInsertionEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useSyncExternalStore:sn,useId:sn,useHostTransitionStatus:sn,useFormState:sn,useActionState:sn,useOptimistic:sn,useMemoCache:sn,useCacheRefresh:sn};ff.useEffectEvent=sn;var bA={readContext:rr,use:ip,useCallback:function(a,o){return jr().memoizedState=[a,o===void 0?null:o],a},useContext:rr,useEffect:nA,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,sp(4194308,4,sA.bind(null,o,a),u)},useLayoutEffect:function(a,o){return sp(4194308,4,a,o)},useInsertionEffect:function(a,o){sp(4,2,a,o)},useMemo:function(a,o){var u=jr();o=o===void 0?null:o;var m=a();if(Fl){Mr(!0);try{a()}finally{Mr(!1)}}return u.memoizedState=[m,o],m},useReducer:function(a,o,u){var m=jr();if(u!==void 0){var b=u(o);if(Fl){Mr(!0);try{u(o)}finally{Mr(!1)}}}else b=o;return m.memoizedState=m.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},m.queue=a,a=a.dispatch=LV.bind(null,Je,a),[m.memoizedState,a]},useRef:function(a){var o=jr();return a={current:a},o.memoizedState=a},useState:function(a){a=ab(a);var o=a.queue,u=gA.bind(null,Je,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:lb,useDeferredValue:function(a,o){var u=jr();return cb(u,a,o)},useTransition:function(){var a=ab(!1);return a=dA.bind(null,Je,a.queue,!0,!1),jr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var m=Je,b=jr();if(ht){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Vt===null)throw Error(r(349));(ot&127)!==0||VN(m,o,u)}b.memoizedState=u;var _={value:u,getSnapshot:o};return b.queue=_,nA(BN.bind(null,m,_,a),[a]),m.flags|=2048,pu(9,{destroy:void 0},qN.bind(null,m,_,u,o),null),u},useId:function(){var a=jr(),o=Vt.identifierPrefix;if(ht){var u=Na,m=Sa;u=(m&~(1<<32-en(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=np++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=PV++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:db,useFormState:XN,useActionState:XN,useOptimistic:function(a){var o=jr();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=fb.bind(null,Je,!0,u),u.dispatch=o,[a,o]},useMemoCache:nb,useCacheRefresh:function(){return jr().memoizedState=zV.bind(null,Je)},useEffectEvent:function(a){var o=jr(),u={impl:a};return o.memoizedState=u,function(){if((wt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},hb={readContext:rr,use:ip,useCallback:lA,useContext:rr,useEffect:ob,useImperativeHandle:oA,useInsertionEffect:iA,useLayoutEffect:aA,useMemo:cA,useReducer:ap,useRef:tA,useState:function(){return ap(cs)},useDebugValue:lb,useDeferredValue:function(a,o){var u=pn();return uA(u,kt.memoizedState,a,o)},useTransition:function(){var a=ap(cs)[0],o=pn().memoizedState;return[typeof a=="boolean"?a:uf(a),o]},useSyncExternalStore:UN,useId:mA,useHostTransitionStatus:db,useFormState:ZN,useActionState:ZN,useOptimistic:function(a,o){var u=pn();return HN(u,kt,a,o)},useMemoCache:nb,useCacheRefresh:pA};hb.useEffectEvent=rA;var _A={readContext:rr,use:ip,useCallback:lA,useContext:rr,useEffect:ob,useImperativeHandle:oA,useInsertionEffect:iA,useLayoutEffect:aA,useMemo:cA,useReducer:ib,useRef:tA,useState:function(){return ib(cs)},useDebugValue:lb,useDeferredValue:function(a,o){var u=pn();return kt===null?cb(u,a,o):uA(u,kt.memoizedState,a,o)},useTransition:function(){var a=ib(cs)[0],o=pn().memoizedState;return[typeof a=="boolean"?a:uf(a),o]},useSyncExternalStore:UN,useId:mA,useHostTransitionStatus:db,useFormState:eA,useActionState:eA,useOptimistic:function(a,o){var u=pn();return kt!==null?HN(u,kt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:nb,useCacheRefresh:pA};_A.useEffectEvent=rA;function mb(a,o,u,m){o=a.memoizedState,u=u(m,o),u=u==null?o:g({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var pb={enqueueSetState:function(a,o,u){a=a._reactInternals;var m=si(),b=vo(m);b.payload=o,u!=null&&(b.callback=u),o=yo(a,b,m),o!==null&&($r(o,a,m),sf(o,a,m))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var m=si(),b=vo(m);b.tag=1,b.payload=o,u!=null&&(b.callback=u),o=yo(a,b,m),o!==null&&($r(o,a,m),sf(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=si(),m=vo(u);m.tag=2,o!=null&&(m.callback=o),o=yo(a,m,u),o!==null&&($r(o,a,u),sf(o,a,u))}};function xA(a,o,u,m,b,_,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,_,A):o.prototype&&o.prototype.isPureReactComponent?!Xd(u,m)||!Xd(b,_):!0}function wA(a,o,u,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==a&&pb.enqueueReplaceState(o,o.state,null)}function Hl(a,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(a=a.defaultProps){u===o&&(u=g({},u));for(var b in a)u[b]===void 0&&(u[b]=a[b])}return u}function EA(a){Vm(a)}function jA(a){console.error(a)}function SA(a){Vm(a)}function cp(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function NA(a,o,u){try{var m=a.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function gb(a,o,u){return u=vo(u),u.tag=3,u.payload={element:null},u.callback=function(){cp(a,o)},u}function AA(a){return a=vo(a),a.tag=3,a}function TA(a,o,u,m){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var _=m.value;a.payload=function(){return b(_)},a.callback=function(){NA(o,u,m)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(a.callback=function(){NA(o,u,m),typeof b!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var L=m.stack;this.componentDidCatch(m.value,{componentStack:L!==null?L:""})})}function UV(a,o,u,m,b){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&ou(o,u,b,!0),u=ni.current,u!==null){switch(u.tag){case 31:case 13:return Ai===null?xp():u.alternate===null&&on===0&&(on=3),u.flags&=-257,u.flags|=65536,u.lanes=b,m===Ym?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),qb(a,m,b)),!1;case 22:return u.flags|=65536,m===Ym?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),qb(a,m,b)),!1}throw Error(r(435,u.tag))}return qb(a,m,b),xp(),!1}if(ht)return o=ni.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,m!==D0&&(a=Error(r(422),{cause:m}),ef(Ei(a,u)))):(m!==D0&&(o=Error(r(423),{cause:m}),ef(Ei(o,u))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,m=Ei(m,u),b=gb(a.stateNode,m,b),G0(a,b),on!==4&&(on=2)),!1;var _=Error(r(520),{cause:m});if(_=Ei(_,u),_f===null?_f=[_]:_f.push(_),on!==4&&(on=2),o===null)return!0;m=Ei(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=b&-b,u.lanes|=a,a=gb(u.stateNode,m,a),G0(u,a),!1;case 1:if(o=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(jo===null||!jo.has(_))))return u.flags|=65536,b&=-b,u.lanes|=b,b=AA(b),TA(b,a,u,m),G0(u,b),!1}u=u.return}while(u!==null);return!1}var vb=Error(r(461)),Nn=!1;function ir(a,o,u,m){o.child=a===null?IN(o,null,u,m):$l(o,a.child,u,m)}function CA(a,o,u,m,b){u=u.render;var _=o.ref;if("ref"in m){var A={};for(var L in m)L!=="ref"&&(A[L]=m[L])}else A=m;return Ul(o),m=Z0(a,o,u,A,_,b),L=J0(),a!==null&&!Nn?(eb(a,o,b),us(a,o,b)):(ht&&L&&R0(o),o.flags|=1,ir(a,o,m,b),o.child)}function OA(a,o,u,m,b){if(a===null){var _=u.type;return typeof _=="function"&&!O0(_)&&_.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=_,PA(a,o,_,m,b)):(a=Fm(u.type,null,m,o,o.mode,b),a.ref=o.ref,a.return=o,o.child=a)}if(_=a.child,!Sb(a,b)){var A=_.memoizedProps;if(u=u.compare,u=u!==null?u:Xd,u(A,m)&&a.ref===o.ref)return us(a,o,b)}return o.flags|=1,a=is(_,m),a.ref=o.ref,a.return=o,o.child=a}function PA(a,o,u,m,b){if(a!==null){var _=a.memoizedProps;if(Xd(_,m)&&a.ref===o.ref)if(Nn=!1,o.pendingProps=m=_,Sb(a,b))(a.flags&131072)!==0&&(Nn=!0);else return o.lanes=a.lanes,us(a,o,b)}return yb(a,o,u,m,b)}function IA(a,o,u,m){var b=m.children,_=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,a!==null){for(m=o.child=a.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;m=b&~_}else m=0,o.child=null;return RA(a,o,_,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Wm(o,_!==null?_.cachePool:null),_!==null?DN(o,_):W0(),MN(o);else return m=o.lanes=536870912,RA(a,o,_!==null?_.baseLanes|u:u,u,m)}else _!==null?(Wm(o,_.cachePool),DN(o,_),_o(),o.memoizedState=null):(a!==null&&Wm(o,null),W0(),_o());return ir(a,o,b,u),o.child}function hf(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function RA(a,o,u,m,b){var _=B0();return _=_===null?null:{parent:jn._currentValue,pool:_},o.memoizedState={baseLanes:u,cachePool:_},a!==null&&Wm(o,null),W0(),MN(o),a!==null&&ou(a,o,m,!0),o.childLanes=b,null}function up(a,o){return o=fp({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function kA(a,o,u){return $l(o,a.child,null,u),a=up(o,o.pendingProps),a.flags|=2,ri(o),o.memoizedState=null,a}function VV(a,o,u){var m=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(ht){if(m.mode==="hidden")return a=up(o,m),o.lanes=536870912,hf(null,a);if(Y0(o),(a=Kt)?(a=GT(a,Ni),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:fo!==null?{id:Sa,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},u=vN(a),u.return=o,o.child=u,nr=o,Kt=null)):a=null,a===null)throw mo(o);return o.lanes=536870912,null}return up(o,m)}var _=a.memoizedState;if(_!==null){var A=_.dehydrated;if(Y0(o),b)if(o.flags&256)o.flags&=-257,o=kA(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Nn||ou(a,o,u,!1),b=(u&a.childLanes)!==0,Nn||b){if(m=Vt,m!==null&&(A=Rd(m,u),A!==0&&A!==_.retryLane))throw _.retryLane=A,Dl(a,A),$r(m,a,A),vb;xp(),o=kA(a,o,u)}else a=_.treeContext,Kt=Ti(A.nextSibling),nr=o,ht=!0,ho=null,Ni=!1,a!==null&&_N(o,a),o=up(o,m),o.flags|=4096;return o}return a=is(a.child,{mode:m.mode,children:m.children}),a.ref=o.ref,o.child=a,a.return=o,a}function dp(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function yb(a,o,u,m,b){return Ul(o),u=Z0(a,o,u,m,void 0,b),m=J0(),a!==null&&!Nn?(eb(a,o,b),us(a,o,b)):(ht&&m&&R0(o),o.flags|=1,ir(a,o,u,b),o.child)}function DA(a,o,u,m,b,_){return Ul(o),o.updateQueue=null,u=LN(o,m,u,b),zN(a),m=J0(),a!==null&&!Nn?(eb(a,o,_),us(a,o,_)):(ht&&m&&R0(o),o.flags|=1,ir(a,o,u,_),o.child)}function MA(a,o,u,m,b){if(Ul(o),o.stateNode===null){var _=ru,A=u.contextType;typeof A=="object"&&A!==null&&(_=rr(A)),_=new u(m,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=pb,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=m,_.state=o.memoizedState,_.refs={},F0(o),A=u.contextType,_.context=typeof A=="object"&&A!==null?rr(A):ru,_.state=o.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(mb(o,u,A,m),_.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(A=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),A!==_.state&&pb.enqueueReplaceState(_,_.state,null),lf(o,m,_,b),of(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){_=o.stateNode;var L=o.memoizedProps,G=Hl(u,L);_.props=G;var ae=_.context,he=u.contextType;A=ru,typeof he=="object"&&he!==null&&(A=rr(he));var ye=u.getDerivedStateFromProps;he=typeof ye=="function"||typeof _.getSnapshotBeforeUpdate=="function",L=o.pendingProps!==L,he||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(L||ae!==A)&&wA(o,_,m,A),go=!1;var se=o.memoizedState;_.state=se,lf(o,m,_,b),of(),ae=o.memoizedState,L||se!==ae||go?(typeof ye=="function"&&(mb(o,u,ye,m),ae=o.memoizedState),(G=go||xA(o,u,G,m,se,ae,A))?(he||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=ae),_.props=m,_.state=ae,_.context=A,m=G):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{_=o.stateNode,H0(a,o),A=o.memoizedProps,he=Hl(u,A),_.props=he,ye=o.pendingProps,se=_.context,ae=u.contextType,G=ru,typeof ae=="object"&&ae!==null&&(G=rr(ae)),L=u.getDerivedStateFromProps,(ae=typeof L=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==ye||se!==G)&&wA(o,_,m,G),go=!1,se=o.memoizedState,_.state=se,lf(o,m,_,b),of();var de=o.memoizedState;A!==ye||se!==de||go||a!==null&&a.dependencies!==null&&Gm(a.dependencies)?(typeof L=="function"&&(mb(o,u,L,m),de=o.memoizedState),(he=go||xA(o,u,he,m,se,de,G)||a!==null&&a.dependencies!==null&&Gm(a.dependencies))?(ae||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,de,G),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,de,G)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===a.memoizedProps&&se===a.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&se===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=de),_.props=m,_.state=de,_.context=G,m=he):(typeof _.componentDidUpdate!="function"||A===a.memoizedProps&&se===a.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&se===a.memoizedState||(o.flags|=1024),m=!1)}return _=m,dp(a,o),m=(o.flags&128)!==0,_||m?(_=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,a!==null&&m?(o.child=$l(o,a.child,null,b),o.child=$l(o,null,u,b)):ir(a,o,u,b),o.memoizedState=_.state,a=o.child):a=us(a,o,b),a}function zA(a,o,u,m){return zl(),o.flags|=256,ir(a,o,u,m),o.child}var bb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _b(a){return{baseLanes:a,cachePool:NN()}}function xb(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=ai),a}function LA(a,o,u){var m=o.pendingProps,b=!1,_=(o.flags&128)!==0,A;if((A=_)||(A=a!==null&&a.memoizedState===null?!1:(mn.current&2)!==0),A&&(b=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,a===null){if(ht){if(b?bo(o):_o(),(a=Kt)?(a=GT(a,Ni),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:fo!==null?{id:Sa,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},u=vN(a),u.return=o,o.child=u,nr=o,Kt=null)):a=null,a===null)throw mo(o);return r_(a)?o.lanes=32:o.lanes=536870912,null}var L=m.children;return m=m.fallback,b?(_o(),b=o.mode,L=fp({mode:"hidden",children:L},b),m=Ml(m,b,u,null),L.return=o,m.return=o,L.sibling=m,o.child=L,m=o.child,m.memoizedState=_b(u),m.childLanes=xb(a,A,u),o.memoizedState=bb,hf(null,m)):(bo(o),wb(o,L))}var G=a.memoizedState;if(G!==null&&(L=G.dehydrated,L!==null)){if(_)o.flags&256?(bo(o),o.flags&=-257,o=Eb(a,o,u)):o.memoizedState!==null?(_o(),o.child=a.child,o.flags|=128,o=null):(_o(),L=m.fallback,b=o.mode,m=fp({mode:"visible",children:m.children},b),L=Ml(L,b,u,null),L.flags|=2,m.return=o,L.return=o,m.sibling=L,o.child=m,$l(o,a.child,null,u),m=o.child,m.memoizedState=_b(u),m.childLanes=xb(a,A,u),o.memoizedState=bb,o=hf(null,m));else if(bo(o),r_(L)){if(A=L.nextSibling&&L.nextSibling.dataset,A)var ae=A.dgst;A=ae,m=Error(r(419)),m.stack="",m.digest=A,ef({value:m,source:null,stack:null}),o=Eb(a,o,u)}else if(Nn||ou(a,o,u,!1),A=(u&a.childLanes)!==0,Nn||A){if(A=Vt,A!==null&&(m=Rd(A,u),m!==0&&m!==G.retryLane))throw G.retryLane=m,Dl(a,m),$r(A,a,m),vb;n_(L)||xp(),o=Eb(a,o,u)}else n_(L)?(o.flags|=192,o.child=a.child,o=null):(a=G.treeContext,Kt=Ti(L.nextSibling),nr=o,ht=!0,ho=null,Ni=!1,a!==null&&_N(o,a),o=wb(o,m.children),o.flags|=4096);return o}return b?(_o(),L=m.fallback,b=o.mode,G=a.child,ae=G.sibling,m=is(G,{mode:"hidden",children:m.children}),m.subtreeFlags=G.subtreeFlags&65011712,ae!==null?L=is(ae,L):(L=Ml(L,b,u,null),L.flags|=2),L.return=o,m.return=o,m.sibling=L,o.child=m,hf(null,m),m=o.child,L=a.child.memoizedState,L===null?L=_b(u):(b=L.cachePool,b!==null?(G=jn._currentValue,b=b.parent!==G?{parent:G,pool:G}:b):b=NN(),L={baseLanes:L.baseLanes|u,cachePool:b}),m.memoizedState=L,m.childLanes=xb(a,A,u),o.memoizedState=bb,hf(a.child,m)):(bo(o),u=a.child,a=u.sibling,u=is(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,a!==null&&(A=o.deletions,A===null?(o.deletions=[a],o.flags|=16):A.push(a)),o.child=u,o.memoizedState=null,u)}function wb(a,o){return o=fp({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function fp(a,o){return a=ti(22,a,null,o),a.lanes=0,a}function Eb(a,o,u){return $l(o,a.child,null,u),a=wb(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function UA(a,o,u){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),L0(a.return,o,u)}function jb(a,o,u,m,b,_){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:b,treeForkCount:_}:(A.isBackwards=o,A.rendering=null,A.renderingStartTime=0,A.last=m,A.tail=u,A.tailMode=b,A.treeForkCount=_)}function VA(a,o,u){var m=o.pendingProps,b=m.revealOrder,_=m.tail;m=m.children;var A=mn.current,L=(A&2)!==0;if(L?(A=A&1|2,o.flags|=128):A&=1,ge(mn,A),ir(a,o,m,u),m=ht?Jd:0,!L&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&UA(a,u,o);else if(a.tag===19)UA(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(b){case"forwards":for(u=o.child,b=null;u!==null;)a=u.alternate,a!==null&&ep(a)===null&&(b=u),u=u.sibling;u=b,u===null?(b=o.child,o.child=null):(b=u.sibling,u.sibling=null),jb(o,!1,b,u,_,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,b=o.child,o.child=null;b!==null;){if(a=b.alternate,a!==null&&ep(a)===null){o.child=b;break}a=b.sibling,b.sibling=u,u=b,b=a}jb(o,!0,u,null,_,m);break;case"together":jb(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function us(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Eo|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(ou(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=is(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=is(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function Sb(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Gm(a)))}function qV(a,o,u){switch(o.tag){case 3:Ve(o,o.stateNode.containerInfo),po(o,jn,a.memoizedState.cache),zl();break;case 27:case 5:Ne(o);break;case 4:Ve(o,o.stateNode.containerInfo);break;case 10:po(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Y0(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(bo(o),o.flags|=128,null):(u&o.child.childLanes)!==0?LA(a,o,u):(bo(o),a=us(a,o,u),a!==null?a.sibling:null);bo(o);break;case 19:var b=(a.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(ou(a,o,u,!1),m=(u&o.childLanes)!==0),b){if(m)return VA(a,o,u);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ge(mn,mn.current),m)break;return null;case 22:return o.lanes=0,IA(a,o,u,o.pendingProps);case 24:po(o,jn,a.memoizedState.cache)}return us(a,o,u)}function qA(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)Nn=!0;else{if(!Sb(a,u)&&(o.flags&128)===0)return Nn=!1,qV(a,o,u);Nn=(a.flags&131072)!==0}else Nn=!1,ht&&(o.flags&1048576)!==0&&bN(o,Jd,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(a=ql(o.elementType),o.type=a,typeof a=="function")O0(a)?(m=Hl(a,m),o.tag=1,o=MA(null,o,a,m,u)):(o.tag=0,o=yb(null,o,a,m,u));else{if(a!=null){var b=a.$$typeof;if(b===P){o.tag=11,o=CA(null,o,a,m,u);break e}else if(b===I){o.tag=14,o=OA(null,o,a,m,u);break e}}throw o=W(a)||a,Error(r(306,o,""))}}return o;case 0:return yb(a,o,o.type,o.pendingProps,u);case 1:return m=o.type,b=Hl(m,o.pendingProps),MA(a,o,m,b,u);case 3:e:{if(Ve(o,o.stateNode.containerInfo),a===null)throw Error(r(387));m=o.pendingProps;var _=o.memoizedState;b=_.element,H0(a,o),lf(o,m,null,u);var A=o.memoizedState;if(m=A.cache,po(o,jn,m),m!==_.cache&&U0(o,[jn],u,!0),of(),m=A.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=zA(a,o,m,u);break e}else if(m!==b){b=Ei(Error(r(424)),o),ef(b),o=zA(a,o,m,u);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Kt=Ti(a.firstChild),nr=o,ht=!0,ho=null,Ni=!0,u=IN(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(zl(),m===b){o=us(a,o,u);break e}ir(a,o,m,u)}o=o.child}return o;case 26:return dp(a,o),a===null?(u=ZT(o.type,null,o.pendingProps,null))?o.memoizedState=u:ht||(u=o.type,a=o.pendingProps,m=Tp(Y.current).createElement(u),m[xn]=o,m[$n]=a,ar(m,u,a),wn(m),o.stateNode=m):o.memoizedState=ZT(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Ne(o),a===null&&ht&&(m=o.stateNode=QT(o.type,o.pendingProps,Y.current),nr=o,Ni=!0,b=Kt,To(o.type)?(i_=b,Kt=Ti(m.firstChild)):Kt=b),ir(a,o,o.pendingProps.children,u),dp(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&ht&&((b=m=Kt)&&(m=vq(m,o.type,o.pendingProps,Ni),m!==null?(o.stateNode=m,nr=o,Kt=Ti(m.firstChild),Ni=!1,b=!0):b=!1),b||mo(o)),Ne(o),b=o.type,_=o.pendingProps,A=a!==null?a.memoizedProps:null,m=_.children,Jb(b,_)?m=null:A!==null&&Jb(b,A)&&(o.flags|=32),o.memoizedState!==null&&(b=Z0(a,o,IV,null,null,u),Tf._currentValue=b),dp(a,o),ir(a,o,m,u),o.child;case 6:return a===null&&ht&&((a=u=Kt)&&(u=yq(u,o.pendingProps,Ni),u!==null?(o.stateNode=u,nr=o,Kt=null,a=!0):a=!1),a||mo(o)),null;case 13:return LA(a,o,u);case 4:return Ve(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=$l(o,null,m,u):ir(a,o,m,u),o.child;case 11:return CA(a,o,o.type,o.pendingProps,u);case 7:return ir(a,o,o.pendingProps,u),o.child;case 8:return ir(a,o,o.pendingProps.children,u),o.child;case 12:return ir(a,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,po(o,o.type,m.value),ir(a,o,m.children,u),o.child;case 9:return b=o.type._context,m=o.pendingProps.children,Ul(o),b=rr(b),m=m(b),o.flags|=1,ir(a,o,m,u),o.child;case 14:return OA(a,o,o.type,o.pendingProps,u);case 15:return PA(a,o,o.type,o.pendingProps,u);case 19:return VA(a,o,u);case 31:return VV(a,o,u);case 22:return IA(a,o,u,o.pendingProps);case 24:return Ul(o),m=rr(jn),a===null?(b=B0(),b===null&&(b=Vt,_=V0(),b.pooledCache=_,_.refCount++,_!==null&&(b.pooledCacheLanes|=u),b=_),o.memoizedState={parent:m,cache:b},F0(o),po(o,jn,b)):((a.lanes&u)!==0&&(H0(a,o),lf(o,null,null,u),of()),b=a.memoizedState,_=o.memoizedState,b.parent!==m?(b={parent:m,cache:m},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),po(o,jn,m)):(m=_.cache,po(o,jn,m),m!==b.cache&&U0(o,[jn],u,!0))),ir(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ds(a){a.flags|=4}function Nb(a,o,u,m,b){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(b&335544128)===b)if(a.stateNode.complete)a.flags|=8192;else if(mT())a.flags|=8192;else throw Bl=Ym,$0}else a.flags&=-16777217}function BA(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!rC(o))if(mT())a.flags|=8192;else throw Bl=Ym,$0}function hp(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Ue():536870912,a.lanes|=o,bu|=o)}function mf(a,o){if(!ht)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Wt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,m=0;if(o)for(var b=a.child;b!==null;)u|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)u|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=m,a.childLanes=u,o}function BV(a,o,u){var m=o.pendingProps;switch(k0(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(o),null;case 1:return Wt(o),null;case 3:return u=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),os(jn),le(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(su(o)?ds(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,M0())),Wt(o),null;case 26:var b=o.type,_=o.memoizedState;return a===null?(ds(o),_!==null?(Wt(o),BA(o,_)):(Wt(o),Nb(o,b,null,m,u))):_?_!==a.memoizedState?(ds(o),Wt(o),BA(o,_)):(Wt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==m&&ds(o),Wt(o),Nb(o,b,a,m,u)),null;case 27:if(Z(o),u=Y.current,b=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&ds(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Wt(o),null}a=we.current,su(o)?xN(o):(a=QT(b,m,u),o.stateNode=a,ds(o))}return Wt(o),null;case 5:if(Z(o),b=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&ds(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Wt(o),null}if(_=we.current,su(o))xN(o);else{var A=Tp(Y.current);switch(_){case 1:_=A.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:_=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":_=A.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":_=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":_=A.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof m.is=="string"?A.createElement("select",{is:m.is}):A.createElement("select"),m.multiple?_.multiple=!0:m.size&&(_.size=m.size);break;default:_=typeof m.is=="string"?A.createElement(b,{is:m.is}):A.createElement(b)}}_[xn]=o,_[$n]=m;e:for(A=o.child;A!==null;){if(A.tag===5||A.tag===6)_.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===o)break e;for(;A.sibling===null;){if(A.return===null||A.return===o)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}o.stateNode=_;e:switch(ar(_,b,m),b){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ds(o)}}return Wt(o),Nb(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&ds(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(a=Y.current,su(o)){if(a=o.stateNode,u=o.memoizedProps,m=null,b=nr,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}a[xn]=o,a=!!(a.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||LT(a.nodeValue,u)),a||mo(o,!0)}else a=Tp(a).createTextNode(m),a[xn]=o,o.stateNode=a}return Wt(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(m=su(o),u!==null){if(a===null){if(!m)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[xn]=o}else zl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),a=!1}else u=M0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(ri(o),o):(ri(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Wt(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=su(o),m!==null&&m.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[xn]=o}else zl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),b=!1}else b=M0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(ri(o),o):(ri(o),null)}return ri(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,a=a!==null&&a.memoizedState!==null,u&&(m=o.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool),_=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(_=m.memoizedState.cachePool.pool),_!==b&&(m.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),hp(o,o.updateQueue),Wt(o),null);case 4:return le(),a===null&&Wb(o.stateNode.containerInfo),Wt(o),null;case 10:return os(o.type),Wt(o),null;case 19:if(ne(mn),m=o.memoizedState,m===null)return Wt(o),null;if(b=(o.flags&128)!==0,_=m.rendering,_===null)if(b)mf(m,!1);else{if(on!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(_=ep(a),_!==null){for(o.flags|=128,mf(m,!1),a=_.updateQueue,o.updateQueue=a,hp(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)gN(u,a),u=u.sibling;return ge(mn,mn.current&1|2),ht&&as(o,m.treeForkCount),o.child}a=a.sibling}m.tail!==null&&qe()>yp&&(o.flags|=128,b=!0,mf(m,!1),o.lanes=4194304)}else{if(!b)if(a=ep(_),a!==null){if(o.flags|=128,b=!0,a=a.updateQueue,o.updateQueue=a,hp(o,a),mf(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!ht)return Wt(o),null}else 2*qe()-m.renderingStartTime>yp&&u!==536870912&&(o.flags|=128,b=!0,mf(m,!1),o.lanes=4194304);m.isBackwards?(_.sibling=o.child,o.child=_):(a=m.last,a!==null?a.sibling=_:o.child=_,m.last=_)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=qe(),a.sibling=null,u=mn.current,ge(mn,b?u&1|2:u&1),ht&&as(o,m.treeForkCount),a):(Wt(o),null);case 22:case 23:return ri(o),Q0(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(Wt(o),o.subtreeFlags&6&&(o.flags|=8192)):Wt(o),u=o.updateQueue,u!==null&&hp(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),a!==null&&ne(Vl),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),os(jn),Wt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function $V(a,o){switch(k0(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return os(jn),le(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Z(o),null;case 31:if(o.memoizedState!==null){if(ri(o),o.alternate===null)throw Error(r(340));zl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(ri(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));zl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ne(mn),null;case 4:return le(),null;case 10:return os(o.type),null;case 22:case 23:return ri(o),Q0(),a!==null&&ne(Vl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return os(jn),null;case 25:return null;default:return null}}function $A(a,o){switch(k0(o),o.tag){case 3:os(jn),le();break;case 26:case 27:case 5:Z(o);break;case 4:le();break;case 31:o.memoizedState!==null&&ri(o);break;case 13:ri(o);break;case 19:ne(mn);break;case 10:os(o.type);break;case 22:case 23:ri(o),Q0(),a!==null&&ne(Vl);break;case 24:os(jn)}}function pf(a,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var b=m.next;u=b;do{if((u.tag&a)===a){m=void 0;var _=u.create,A=u.inst;m=_(),A.destroy=m}u=u.next}while(u!==b)}}catch(L){Tt(o,o.return,L)}}function xo(a,o,u){try{var m=o.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var _=b.next;m=_;do{if((m.tag&a)===a){var A=m.inst,L=A.destroy;if(L!==void 0){A.destroy=void 0,b=o;var G=u,ae=L;try{ae()}catch(he){Tt(b,G,he)}}}m=m.next}while(m!==_)}}catch(he){Tt(o,o.return,he)}}function FA(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{kN(o,u)}catch(m){Tt(a,a.return,m)}}}function HA(a,o,u){u.props=Hl(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(m){Tt(a,o,m)}}function gf(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof u=="function"?a.refCleanup=u(m):u.current=m}}catch(b){Tt(a,o,b)}}function Aa(a,o){var u=a.ref,m=a.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(b){Tt(a,o,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){Tt(a,o,b)}else u.current=null}function GA(a){var o=a.type,u=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(b){Tt(a,a.return,b)}}function Ab(a,o,u){try{var m=a.stateNode;dq(m,a.type,u,o),m[$n]=o}catch(b){Tt(a,a.return,b)}}function KA(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&To(a.type)||a.tag===4}function Tb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||KA(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&To(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Cb(a,o,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Fi));else if(m!==4&&(m===27&&To(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(Cb(a,o,u),a=a.sibling;a!==null;)Cb(a,o,u),a=a.sibling}function mp(a,o,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(m!==4&&(m===27&&To(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(mp(a,o,u),a=a.sibling;a!==null;)mp(a,o,u),a=a.sibling}function WA(a){var o=a.stateNode,u=a.memoizedProps;try{for(var m=a.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);ar(o,m,u),o[xn]=a,o[$n]=u}catch(_){Tt(a,a.return,_)}}var fs=!1,An=!1,Ob=!1,QA=typeof WeakSet=="function"?WeakSet:Set,Hn=null;function FV(a,o){if(a=a.containerInfo,Xb=Dp,a=oN(a),E0(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var b=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var A=0,L=-1,G=-1,ae=0,he=0,ye=a,se=null;t:for(;;){for(var de;ye!==u||b!==0&&ye.nodeType!==3||(L=A+b),ye!==_||m!==0&&ye.nodeType!==3||(G=A+m),ye.nodeType===3&&(A+=ye.nodeValue.length),(de=ye.firstChild)!==null;)se=ye,ye=de;for(;;){if(ye===a)break t;if(se===u&&++ae===b&&(L=A),se===_&&++he===m&&(G=A),(de=ye.nextSibling)!==null)break;ye=se,se=ye.parentNode}ye=de}u=L===-1||G===-1?null:{start:L,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(Zb={focusedElem:a,selectionRange:u},Dp=!1,Hn=o;Hn!==null;)if(o=Hn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Hn=a;else for(;Hn!==null;){switch(o=Hn,_=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)b=a[u],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,u=o,b=_.memoizedProps,_=_.memoizedState,m=u.stateNode;try{var Oe=Hl(u.type,b);a=m.getSnapshotBeforeUpdate(Oe,_),m.__reactInternalSnapshotBeforeUpdate=a}catch(Be){Tt(u,u.return,Be)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)t_(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":t_(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Hn=a;break}Hn=o.return}}function YA(a,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:ms(a,u),m&4&&pf(5,u);break;case 1:if(ms(a,u),m&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(A){Tt(u,u.return,A)}else{var b=Hl(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(b,o,a.__reactInternalSnapshotBeforeUpdate)}catch(A){Tt(u,u.return,A)}}m&64&&FA(u),m&512&&gf(u,u.return);break;case 3:if(ms(a,u),m&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{kN(a,o)}catch(A){Tt(u,u.return,A)}}break;case 27:o===null&&m&4&&WA(u);case 26:case 5:ms(a,u),o===null&&m&4&&GA(u),m&512&&gf(u,u.return);break;case 12:ms(a,u);break;case 31:ms(a,u),m&4&&JA(a,u);break;case 13:ms(a,u),m&4&&eT(a,u),m&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=JV.bind(null,u),bq(a,u))));break;case 22:if(m=u.memoizedState!==null||fs,!m){o=o!==null&&o.memoizedState!==null||An,b=fs;var _=An;fs=m,(An=o)&&!_?ps(a,u,(u.subtreeFlags&8772)!==0):ms(a,u),fs=b,An=_}break;case 30:break;default:ms(a,u)}}function XA(a){var o=a.alternate;o!==null&&(a.alternate=null,XA(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&$c(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Xt=null,Ur=!1;function hs(a,o,u){for(u=u.child;u!==null;)ZA(a,o,u),u=u.sibling}function ZA(a,o,u){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(rn,u)}catch{}switch(u.tag){case 26:An||Aa(u,o),hs(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:An||Aa(u,o);var m=Xt,b=Ur;To(u.type)&&(Xt=u.stateNode,Ur=!1),hs(a,o,u),Sf(u.stateNode),Xt=m,Ur=b;break;case 5:An||Aa(u,o);case 6:if(m=Xt,b=Ur,Xt=null,hs(a,o,u),Xt=m,Ur=b,Xt!==null)if(Ur)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(u.stateNode)}catch(_){Tt(u,o,_)}else try{Xt.removeChild(u.stateNode)}catch(_){Tt(u,o,_)}break;case 18:Xt!==null&&(Ur?(a=Xt,FT(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Au(a)):FT(Xt,u.stateNode));break;case 4:m=Xt,b=Ur,Xt=u.stateNode.containerInfo,Ur=!0,hs(a,o,u),Xt=m,Ur=b;break;case 0:case 11:case 14:case 15:xo(2,u,o),An||xo(4,u,o),hs(a,o,u);break;case 1:An||(Aa(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&HA(u,o,m)),hs(a,o,u);break;case 21:hs(a,o,u);break;case 22:An=(m=An)||u.memoizedState!==null,hs(a,o,u),An=m;break;default:hs(a,o,u)}}function JA(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Au(a)}catch(u){Tt(o,o.return,u)}}}function eT(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Au(a)}catch(u){Tt(o,o.return,u)}}function HV(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new QA),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new QA),o;default:throw Error(r(435,a.tag))}}function pp(a,o){var u=HV(a);o.forEach(function(m){if(!u.has(m)){u.add(m);var b=eq.bind(null,a,m);m.then(b,b)}})}function Vr(a,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var b=u[m],_=a,A=o,L=A;e:for(;L!==null;){switch(L.tag){case 27:if(To(L.type)){Xt=L.stateNode,Ur=!1;break e}break;case 5:Xt=L.stateNode,Ur=!1;break e;case 3:case 4:Xt=L.stateNode.containerInfo,Ur=!0;break e}L=L.return}if(Xt===null)throw Error(r(160));ZA(_,A,b),Xt=null,Ur=!1,_=b.alternate,_!==null&&(_.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)tT(o,a),o=o.sibling}var Yi=null;function tT(a,o){var u=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Vr(o,a),qr(a),m&4&&(xo(3,a,a.return),pf(3,a),xo(5,a,a.return));break;case 1:Vr(o,a),qr(a),m&512&&(An||u===null||Aa(u,u.return)),m&64&&fs&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var b=Yi;if(Vr(o,a),qr(a),m&512&&(An||u===null||Aa(u,u.return)),m&4){var _=u!==null?u.memoizedState:null;if(m=a.memoizedState,u===null)if(m===null)if(a.stateNode===null){e:{m=a.type,u=a.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":_=b.getElementsByTagName("title")[0],(!_||_[ha]||_[xn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=b.createElement(m),b.head.insertBefore(_,b.querySelector("head > title"))),ar(_,m,u),_[xn]=a,wn(_),m=_;break e;case"link":var A=tC("link","href",b).get(m+(u.href||""));if(A){for(var L=0;L<A.length;L++)if(_=A[L],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(L,1);break t}}_=b.createElement(m),ar(_,m,u),b.head.appendChild(_);break;case"meta":if(A=tC("meta","content",b).get(m+(u.content||""))){for(L=0;L<A.length;L++)if(_=A[L],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(L,1);break t}}_=b.createElement(m),ar(_,m,u),b.head.appendChild(_);break;default:throw Error(r(468,m))}_[xn]=a,wn(_),m=_}a.stateNode=m}else nC(b,a.type,a.stateNode);else a.stateNode=eC(b,m,a.memoizedProps);else _!==m?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,m===null?nC(b,a.type,a.stateNode):eC(b,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Ab(a,a.memoizedProps,u.memoizedProps)}break;case 27:Vr(o,a),qr(a),m&512&&(An||u===null||Aa(u,u.return)),u!==null&&m&4&&Ab(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Vr(o,a),qr(a),m&512&&(An||u===null||Aa(u,u.return)),a.flags&32){b=a.stateNode;try{Lr(b,"")}catch(Oe){Tt(a,a.return,Oe)}}m&4&&a.stateNode!=null&&(b=a.memoizedProps,Ab(a,b,u!==null?u.memoizedProps:b)),m&1024&&(Ob=!0);break;case 6:if(Vr(o,a),qr(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,u=a.stateNode;try{u.nodeValue=m}catch(Oe){Tt(a,a.return,Oe)}}break;case 3:if(Pp=null,b=Yi,Yi=Cp(o.containerInfo),Vr(o,a),Yi=b,qr(a),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Au(o.containerInfo)}catch(Oe){Tt(a,a.return,Oe)}Ob&&(Ob=!1,nT(a));break;case 4:m=Yi,Yi=Cp(a.stateNode.containerInfo),Vr(o,a),qr(a),Yi=m;break;case 12:Vr(o,a),qr(a);break;case 31:Vr(o,a),qr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,pp(a,m)));break;case 13:Vr(o,a),qr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(vp=qe()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,pp(a,m)));break;case 22:b=a.memoizedState!==null;var G=u!==null&&u.memoizedState!==null,ae=fs,he=An;if(fs=ae||b,An=he||G,Vr(o,a),An=he,fs=ae,qr(a),m&8192)e:for(o=a.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(u===null||G||fs||An||Gl(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){G=u=o;try{if(_=G.stateNode,b)A=_.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{L=G.stateNode;var ye=G.memoizedProps.style,se=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;L.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Oe){Tt(G,G.return,Oe)}}}else if(o.tag===6){if(u===null){G=o;try{G.stateNode.nodeValue=b?"":G.memoizedProps}catch(Oe){Tt(G,G.return,Oe)}}}else if(o.tag===18){if(u===null){G=o;try{var de=G.stateNode;b?HT(de,!0):HT(G.stateNode,!1)}catch(Oe){Tt(G,G.return,Oe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,pp(a,u))));break;case 19:Vr(o,a),qr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,pp(a,m)));break;case 30:break;case 21:break;default:Vr(o,a),qr(a)}}function qr(a){var o=a.flags;if(o&2){try{for(var u,m=a.return;m!==null;){if(KA(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var b=u.stateNode,_=Tb(a);mp(a,_,b);break;case 5:var A=u.stateNode;u.flags&32&&(Lr(A,""),u.flags&=-33);var L=Tb(a);mp(a,L,A);break;case 3:case 4:var G=u.stateNode.containerInfo,ae=Tb(a);Cb(a,ae,G);break;default:throw Error(r(161))}}catch(he){Tt(a,a.return,he)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function nT(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;nT(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function ms(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)YA(a,o.alternate,o),o=o.sibling}function Gl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:xo(4,o,o.return),Gl(o);break;case 1:Aa(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&HA(o,o.return,u),Gl(o);break;case 27:Sf(o.stateNode);case 26:case 5:Aa(o,o.return),Gl(o);break;case 22:o.memoizedState===null&&Gl(o);break;case 30:Gl(o);break;default:Gl(o)}a=a.sibling}}function ps(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,b=a,_=o,A=_.flags;switch(_.tag){case 0:case 11:case 15:ps(b,_,u),pf(4,_);break;case 1:if(ps(b,_,u),m=_,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ae){Tt(m,m.return,ae)}if(m=_,b=m.updateQueue,b!==null){var L=m.stateNode;try{var G=b.shared.hiddenCallbacks;if(G!==null)for(b.shared.hiddenCallbacks=null,b=0;b<G.length;b++)RN(G[b],L)}catch(ae){Tt(m,m.return,ae)}}u&&A&64&&FA(_),gf(_,_.return);break;case 27:WA(_);case 26:case 5:ps(b,_,u),u&&m===null&&A&4&&GA(_),gf(_,_.return);break;case 12:ps(b,_,u);break;case 31:ps(b,_,u),u&&A&4&&JA(b,_);break;case 13:ps(b,_,u),u&&A&4&&eT(b,_);break;case 22:_.memoizedState===null&&ps(b,_,u),gf(_,_.return);break;case 30:break;default:ps(b,_,u)}o=o.sibling}}function Pb(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&tf(u))}function Ib(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&tf(a))}function Xi(a,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)rT(a,o,u,m),o=o.sibling}function rT(a,o,u,m){var b=o.flags;switch(o.tag){case 0:case 11:case 15:Xi(a,o,u,m),b&2048&&pf(9,o);break;case 1:Xi(a,o,u,m);break;case 3:Xi(a,o,u,m),b&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&tf(a)));break;case 12:if(b&2048){Xi(a,o,u,m),a=o.stateNode;try{var _=o.memoizedProps,A=_.id,L=_.onPostCommit;typeof L=="function"&&L(A,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(G){Tt(o,o.return,G)}}else Xi(a,o,u,m);break;case 31:Xi(a,o,u,m);break;case 13:Xi(a,o,u,m);break;case 23:break;case 22:_=o.stateNode,A=o.alternate,o.memoizedState!==null?_._visibility&2?Xi(a,o,u,m):vf(a,o):_._visibility&2?Xi(a,o,u,m):(_._visibility|=2,gu(a,o,u,m,(o.subtreeFlags&10256)!==0||!1)),b&2048&&Pb(A,o);break;case 24:Xi(a,o,u,m),b&2048&&Ib(o.alternate,o);break;default:Xi(a,o,u,m)}}function gu(a,o,u,m,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=a,A=o,L=u,G=m,ae=A.flags;switch(A.tag){case 0:case 11:case 15:gu(_,A,L,G,b),pf(8,A);break;case 23:break;case 22:var he=A.stateNode;A.memoizedState!==null?he._visibility&2?gu(_,A,L,G,b):vf(_,A):(he._visibility|=2,gu(_,A,L,G,b)),b&&ae&2048&&Pb(A.alternate,A);break;case 24:gu(_,A,L,G,b),b&&ae&2048&&Ib(A.alternate,A);break;default:gu(_,A,L,G,b)}o=o.sibling}}function vf(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,m=o,b=m.flags;switch(m.tag){case 22:vf(u,m),b&2048&&Pb(m.alternate,m);break;case 24:vf(u,m),b&2048&&Ib(m.alternate,m);break;default:vf(u,m)}o=o.sibling}}var yf=8192;function vu(a,o,u){if(a.subtreeFlags&yf)for(a=a.child;a!==null;)iT(a,o,u),a=a.sibling}function iT(a,o,u){switch(a.tag){case 26:vu(a,o,u),a.flags&yf&&a.memoizedState!==null&&Pq(u,Yi,a.memoizedState,a.memoizedProps);break;case 5:vu(a,o,u);break;case 3:case 4:var m=Yi;Yi=Cp(a.stateNode.containerInfo),vu(a,o,u),Yi=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=yf,yf=16777216,vu(a,o,u),yf=m):vu(a,o,u));break;default:vu(a,o,u)}}function aT(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function bf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Hn=m,oT(m,a)}aT(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)sT(a),a=a.sibling}function sT(a){switch(a.tag){case 0:case 11:case 15:bf(a),a.flags&2048&&xo(9,a,a.return);break;case 3:bf(a);break;case 12:bf(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,gp(a)):bf(a);break;default:bf(a)}}function gp(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Hn=m,oT(m,a)}aT(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:xo(8,o,o.return),gp(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,gp(o));break;default:gp(o)}a=a.sibling}}function oT(a,o){for(;Hn!==null;){var u=Hn;switch(u.tag){case 0:case 11:case 15:xo(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:tf(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Hn=m;else e:for(u=a;Hn!==null;){m=Hn;var b=m.sibling,_=m.return;if(XA(m),m===u){Hn=null;break e}if(b!==null){b.return=_,Hn=b;break e}Hn=_}}}var GV={getCacheForType:function(a){var o=rr(jn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return rr(jn).controller.signal}},KV=typeof WeakMap=="function"?WeakMap:Map,wt=0,Vt=null,nt=null,ot=0,At=0,ii=null,wo=!1,yu=!1,Rb=!1,gs=0,on=0,Eo=0,Kl=0,kb=0,ai=0,bu=0,_f=null,Br=null,Db=!1,vp=0,lT=0,yp=1/0,bp=null,jo=null,kn=0,So=null,_u=null,vs=0,Mb=0,zb=null,cT=null,xf=0,Lb=null;function si(){return(wt&2)!==0&&ot!==0?ot&-ot:H.T!==null?Fb():_m()}function uT(){if(ai===0)if((ot&536870912)===0||ht){var a=Ja;Ja<<=1,(Ja&3932160)===0&&(Ja=262144),ai=a}else ai=536870912;return a=ni.current,a!==null&&(a.flags|=32),ai}function $r(a,o,u){(a===Vt&&(At===2||At===9)||a.cancelPendingCommit!==null)&&(xu(a,0),No(a,ot,ai,!1)),Bn(a,u),((wt&2)===0||a!==Vt)&&(a===Vt&&((wt&2)===0&&(Kl|=u),on===4&&No(a,ot,ai,!1)),Ta(a))}function dT(a,o,u){if((wt&6)!==0)throw Error(r(327));var m=!u&&(o&127)===0&&(o&a.expiredLanes)===0||Xr(a,o),b=m?YV(a,o):Vb(a,o,!0),_=m;do{if(b===0){yu&&!m&&No(a,o,0,!1);break}else{if(u=a.current.alternate,_&&!WV(u)){b=Vb(a,o,!1),_=!1;continue}if(b===2){if(_=o,a.errorRecoveryDisabledLanes&_)var A=0;else A=a.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;e:{var L=a;b=_f;var G=L.current.memoizedState.isDehydrated;if(G&&(xu(L,A).flags|=256),A=Vb(L,A,!1),A!==2){if(Rb&&!G){L.errorRecoveryDisabledLanes|=_,Kl|=_,b=4;break e}_=Br,Br=b,_!==null&&(Br===null?Br=_:Br.push.apply(Br,_))}b=A}if(_=!1,b!==2)continue}}if(b===1){xu(a,0),No(a,o,0,!0);break}e:{switch(m=a,_=b,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:No(m,o,ai,!wo);break e;case 2:Br=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(b=vp+300-qe(),10<b)){if(No(m,o,ai,!wo),hr(m,0,!0)!==0)break e;vs=o,m.timeoutHandle=BT(fT.bind(null,m,u,Br,bp,Db,o,ai,Kl,bu,wo,_,"Throttled",-0,0),b);break e}fT(m,u,Br,bp,Db,o,ai,Kl,bu,wo,_,null,-0,0)}}break}while(!0);Ta(a)}function fT(a,o,u,m,b,_,A,L,G,ae,he,ye,se,de){if(a.timeoutHandle=-1,ye=o.subtreeFlags,ye&8192||(ye&16785408)===16785408){ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fi},iT(o,_,ye);var Oe=(_&62914560)===_?vp-qe():(_&4194048)===_?lT-qe():0;if(Oe=Iq(ye,Oe),Oe!==null){vs=_,a.cancelPendingCommit=Oe(_T.bind(null,a,o,_,u,m,b,A,L,G,he,ye,null,se,de)),No(a,_,A,!ae);return}}_T(a,o,_,u,m,b,A,L,G)}function WV(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var b=u[m],_=b.getSnapshot;b=b.value;try{if(!ei(_(),b))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function No(a,o,u,m){o&=~kb,o&=~Kl,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var b=o;0<b;){var _=31-en(b),A=1<<_;m[_]=-1,b&=~A}u!==0&&vi(a,u,o)}function _p(){return(wt&6)===0?(wf(0),!1):!0}function Ub(){if(nt!==null){if(At===0)var a=nt.return;else a=nt,ss=Ll=null,tb(a),du=null,rf=0,a=nt;for(;a!==null;)$A(a.alternate,a),a=a.return;nt=null}}function xu(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,mq(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),vs=0,Ub(),Vt=a,nt=u=is(a.current,null),ot=o,At=0,ii=null,wo=!1,yu=Xr(a,o),Rb=!1,bu=ai=kb=Kl=Eo=on=0,Br=_f=null,Db=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var b=31-en(m),_=1<<b;o|=a[b],m&=~_}return gs=o,qm(),u}function hT(a,o){Je=null,H.H=ff,o===uu||o===Qm?(o=CN(),At=3):o===$0?(o=CN(),At=4):At=o===vb?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ii=o,nt===null&&(on=1,cp(a,Ei(o,a.current)))}function mT(){var a=ni.current;return a===null?!0:(ot&4194048)===ot?Ai===null:(ot&62914560)===ot||(ot&536870912)!==0?a===Ai:!1}function pT(){var a=H.H;return H.H=ff,a===null?ff:a}function gT(){var a=H.A;return H.A=GV,a}function xp(){on=4,wo||(ot&4194048)!==ot&&ni.current!==null||(yu=!0),(Eo&134217727)===0&&(Kl&134217727)===0||Vt===null||No(Vt,ot,ai,!1)}function Vb(a,o,u){var m=wt;wt|=2;var b=pT(),_=gT();(Vt!==a||ot!==o)&&(bp=null,xu(a,o)),o=!1;var A=on;e:do try{if(At!==0&&nt!==null){var L=nt,G=ii;switch(At){case 8:Ub(),A=6;break e;case 3:case 2:case 9:case 6:ni.current===null&&(o=!0);var ae=At;if(At=0,ii=null,wu(a,L,G,ae),u&&yu){A=0;break e}break;default:ae=At,At=0,ii=null,wu(a,L,G,ae)}}QV(),A=on;break}catch(he){hT(a,he)}while(!0);return o&&a.shellSuspendCounter++,ss=Ll=null,wt=m,H.H=b,H.A=_,nt===null&&(Vt=null,ot=0,qm()),A}function QV(){for(;nt!==null;)vT(nt)}function YV(a,o){var u=wt;wt|=2;var m=pT(),b=gT();Vt!==a||ot!==o?(bp=null,yp=qe()+500,xu(a,o)):yu=Xr(a,o);e:do try{if(At!==0&&nt!==null){o=nt;var _=ii;t:switch(At){case 1:At=0,ii=null,wu(a,o,_,1);break;case 2:case 9:if(AN(_)){At=0,ii=null,yT(o);break}o=function(){At!==2&&At!==9||Vt!==a||(At=7),Ta(a)},_.then(o,o);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:AN(_)?(At=0,ii=null,yT(o)):(At=0,ii=null,wu(a,o,_,7));break;case 5:var A=null;switch(nt.tag){case 26:A=nt.memoizedState;case 5:case 27:var L=nt;if(A?rC(A):L.stateNode.complete){At=0,ii=null;var G=L.sibling;if(G!==null)nt=G;else{var ae=L.return;ae!==null?(nt=ae,wp(ae)):nt=null}break t}}At=0,ii=null,wu(a,o,_,5);break;case 6:At=0,ii=null,wu(a,o,_,6);break;case 8:Ub(),on=6;break e;default:throw Error(r(462))}}XV();break}catch(he){hT(a,he)}while(!0);return ss=Ll=null,H.H=m,H.A=b,wt=u,nt!==null?0:(Vt=null,ot=0,qm(),on)}function XV(){for(;nt!==null&&!fe();)vT(nt)}function vT(a){var o=qA(a.alternate,a,gs);a.memoizedProps=a.pendingProps,o===null?wp(a):nt=o}function yT(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=DA(u,o,o.pendingProps,o.type,void 0,ot);break;case 11:o=DA(u,o,o.pendingProps,o.type.render,o.ref,ot);break;case 5:tb(o);default:$A(u,o),o=nt=gN(o,gs),o=qA(u,o,gs)}a.memoizedProps=a.pendingProps,o===null?wp(a):nt=o}function wu(a,o,u,m){ss=Ll=null,tb(o),du=null,rf=0;var b=o.return;try{if(UV(a,b,o,u,ot)){on=1,cp(a,Ei(u,a.current)),nt=null;return}}catch(_){if(b!==null)throw nt=b,_;on=1,cp(a,Ei(u,a.current)),nt=null;return}o.flags&32768?(ht||m===1?a=!0:yu||(ot&536870912)!==0?a=!1:(wo=a=!0,(m===2||m===9||m===3||m===6)&&(m=ni.current,m!==null&&m.tag===13&&(m.flags|=16384))),bT(o,a)):wp(o)}function wp(a){var o=a;do{if((o.flags&32768)!==0){bT(o,wo);return}a=o.return;var u=BV(o.alternate,o,gs);if(u!==null){nt=u;return}if(o=o.sibling,o!==null){nt=o;return}nt=o=a}while(o!==null);on===0&&(on=5)}function bT(a,o){do{var u=$V(a.alternate,a);if(u!==null){u.flags&=32767,nt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){nt=a;return}nt=a=u}while(a!==null);on=6,nt=null}function _T(a,o,u,m,b,_,A,L,G){a.cancelPendingCommit=null;do Ep();while(kn!==0);if((wt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=T0,wl(a,u,_,A,L,G),a===Vt&&(nt=Vt=null,ot=0),_u=o,So=a,vs=u,Mb=_,zb=b,cT=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,tq(kr,function(){return ST(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=H.T,H.T=null,b=oe.p,oe.p=2,A=wt,wt|=4;try{FV(a,o,u)}finally{wt=A,oe.p=b,H.T=m}}kn=1,xT(),wT(),ET()}}function xT(){if(kn===1){kn=0;var a=So,o=_u,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=H.T,H.T=null;var m=oe.p;oe.p=2;var b=wt;wt|=4;try{tT(o,a);var _=Zb,A=oN(a.containerInfo),L=_.focusedElem,G=_.selectionRange;if(A!==L&&L&&L.ownerDocument&&sN(L.ownerDocument.documentElement,L)){if(G!==null&&E0(L)){var ae=G.start,he=G.end;if(he===void 0&&(he=ae),"selectionStart"in L)L.selectionStart=ae,L.selectionEnd=Math.min(he,L.value.length);else{var ye=L.ownerDocument||document,se=ye&&ye.defaultView||window;if(se.getSelection){var de=se.getSelection(),Oe=L.textContent.length,Be=Math.min(G.start,Oe),Mt=G.end===void 0?Be:Math.min(G.end,Oe);!de.extend&&Be>Mt&&(A=Mt,Mt=Be,Be=A);var ee=aN(L,Be),K=aN(L,Mt);if(ee&&K&&(de.rangeCount!==1||de.anchorNode!==ee.node||de.anchorOffset!==ee.offset||de.focusNode!==K.node||de.focusOffset!==K.offset)){var ie=ye.createRange();ie.setStart(ee.node,ee.offset),de.removeAllRanges(),Be>Mt?(de.addRange(ie),de.extend(K.node,K.offset)):(ie.setEnd(K.node,K.offset),de.addRange(ie))}}}}for(ye=[],de=L;de=de.parentNode;)de.nodeType===1&&ye.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ye.length;L++){var pe=ye[L];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}Dp=!!Xb,Zb=Xb=null}finally{wt=b,oe.p=m,H.T=u}}a.current=o,kn=2}}function wT(){if(kn===2){kn=0;var a=So,o=_u,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=H.T,H.T=null;var m=oe.p;oe.p=2;var b=wt;wt|=4;try{YA(a,o.alternate,o)}finally{wt=b,oe.p=m,H.T=u}}kn=3}}function ET(){if(kn===4||kn===3){kn=0,Ie();var a=So,o=_u,u=vs,m=cT;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?kn=5:(kn=0,_u=So=null,jT(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(jo=null),es(u),o=o.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(rn,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=H.T,b=oe.p,oe.p=2,H.T=null;try{for(var _=a.onRecoverableError,A=0;A<m.length;A++){var L=m[A];_(L.value,{componentStack:L.stack})}}finally{H.T=o,oe.p=b}}(vs&3)!==0&&Ep(),Ta(a),b=a.pendingLanes,(u&261930)!==0&&(b&42)!==0?a===Lb?xf++:(xf=0,Lb=a):xf=0,wf(0)}}function jT(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,tf(o)))}function Ep(){return xT(),wT(),ET(),ST()}function ST(){if(kn!==5)return!1;var a=So,o=Mb;Mb=0;var u=es(vs),m=H.T,b=oe.p;try{oe.p=32>u?32:u,H.T=null,u=zb,zb=null;var _=So,A=vs;if(kn=0,_u=So=null,vs=0,(wt&6)!==0)throw Error(r(331));var L=wt;if(wt|=4,sT(_.current),rT(_,_.current,A,u),wt=L,wf(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(rn,_)}catch{}return!0}finally{oe.p=b,H.T=m,jT(a,o)}}function NT(a,o,u){o=Ei(u,o),o=gb(a.stateNode,o,2),a=yo(a,o,2),a!==null&&(Bn(a,2),Ta(a))}function Tt(a,o,u){if(a.tag===3)NT(a,a,u);else for(;o!==null;){if(o.tag===3){NT(o,a,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(jo===null||!jo.has(m))){a=Ei(u,a),u=AA(2),m=yo(o,u,2),m!==null&&(TA(u,m,o,a),Bn(m,2),Ta(m));break}}o=o.return}}function qb(a,o,u){var m=a.pingCache;if(m===null){m=a.pingCache=new KV;var b=new Set;m.set(o,b)}else b=m.get(o),b===void 0&&(b=new Set,m.set(o,b));b.has(u)||(Rb=!0,b.add(u),a=ZV.bind(null,a,o,u),o.then(a,a))}function ZV(a,o,u){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Vt===a&&(ot&u)===u&&(on===4||on===3&&(ot&62914560)===ot&&300>qe()-vp?(wt&2)===0&&xu(a,0):kb|=u,bu===ot&&(bu=0)),Ta(a)}function AT(a,o){o===0&&(o=Ue()),a=Dl(a,o),a!==null&&(Bn(a,o),Ta(a))}function JV(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),AT(a,u)}function eq(a,o){var u=0;switch(a.tag){case 31:case 13:var m=a.stateNode,b=a.memoizedState;b!==null&&(u=b.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),AT(a,u)}function tq(a,o){return It(a,o)}var jp=null,Eu=null,Bb=!1,Sp=!1,$b=!1,Ao=0;function Ta(a){a!==Eu&&a.next===null&&(Eu===null?jp=Eu=a:Eu=Eu.next=a),Sp=!0,Bb||(Bb=!0,rq())}function wf(a,o){if(!$b&&Sp){$b=!0;do for(var u=!1,m=jp;m!==null;){if(a!==0){var b=m.pendingLanes;if(b===0)var _=0;else{var A=m.suspendedLanes,L=m.pingedLanes;_=(1<<31-en(42|a)+1)-1,_&=b&~(A&~L),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,PT(m,_))}else _=ot,_=hr(m,m===Vt?_:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(_&3)===0||Xr(m,_)||(u=!0,PT(m,_));m=m.next}while(u);$b=!1}}function nq(){TT()}function TT(){Sp=Bb=!1;var a=0;Ao!==0&&hq()&&(a=Ao);for(var o=qe(),u=null,m=jp;m!==null;){var b=m.next,_=CT(m,o);_===0?(m.next=null,u===null?jp=b:u.next=b,b===null&&(Eu=u)):(u=m,(a!==0||(_&3)!==0)&&(Sp=!0)),m=b}kn!==0&&kn!==5||wf(a),Ao!==0&&(Ao=0)}function CT(a,o){for(var u=a.suspendedLanes,m=a.pingedLanes,b=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var A=31-en(_),L=1<<A,G=b[A];G===-1?((L&u)===0||(L&m)!==0)&&(b[A]=te(L,o)):G<=o&&(a.expiredLanes|=L),_&=~L}if(o=Vt,u=ot,u=hr(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,u===0||a===o&&(At===2||At===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Rr(m),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Xr(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(m!==null&&Rr(m),es(u)){case 2:case 8:u=Rn;break;case 32:u=kr;break;case 268435456:u=Dr;break;default:u=kr}return m=OT.bind(null,a),u=It(u,m),a.callbackPriority=o,a.callbackNode=u,o}return m!==null&&m!==null&&Rr(m),a.callbackPriority=2,a.callbackNode=null,2}function OT(a,o){if(kn!==0&&kn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Ep()&&a.callbackNode!==u)return null;var m=ot;return m=hr(a,a===Vt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(dT(a,m,o),CT(a,qe()),a.callbackNode!=null&&a.callbackNode===u?OT.bind(null,a):null)}function PT(a,o){if(Ep())return null;dT(a,o,!0)}function rq(){pq(function(){(wt&6)!==0?It(Ut,nq):TT()})}function Fb(){if(Ao===0){var a=lu;a===0&&(a=pi,pi<<=1,(pi&261888)===0&&(pi=256)),Ao=a}return Ao}function IT(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Kc(""+a)}function RT(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function iq(a,o,u,m,b){if(o==="submit"&&u&&u.stateNode===b){var _=IT((b[$n]||null).action),A=m.submitter;A&&(o=(o=A[$n]||null)?IT(o.formAction):A.getAttribute("formAction"),o!==null&&(_=o,A=null));var L=new xa("action","action",null,m,b);a.push({event:L,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Ao!==0){var G=A?RT(b,A):new FormData(b);ub(u,{pending:!0,data:G,method:b.method,action:_},null,G)}}else typeof _=="function"&&(L.preventDefault(),G=A?RT(b,A):new FormData(b),ub(u,{pending:!0,data:G,method:b.method,action:_},_,G))},currentTarget:b}]})}}for(var Hb=0;Hb<A0.length;Hb++){var Gb=A0[Hb],aq=Gb.toLowerCase(),sq=Gb[0].toUpperCase()+Gb.slice(1);Qi(aq,"on"+sq)}Qi(uN,"onAnimationEnd"),Qi(dN,"onAnimationIteration"),Qi(fN,"onAnimationStart"),Qi("dblclick","onDoubleClick"),Qi("focusin","onFocus"),Qi("focusout","onBlur"),Qi(wV,"onTransitionRun"),Qi(EV,"onTransitionStart"),Qi(jV,"onTransitionCancel"),Qi(hN,"onTransitionEnd"),va("onMouseEnter",["mouseout","mouseover"]),va("onMouseLeave",["mouseout","mouseover"]),va("onPointerEnter",["pointerout","pointerover"]),va("onPointerLeave",["pointerout","pointerover"]),ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ga("onBeforeInput",["compositionend","keypress","textInput","paste"]),ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ef="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oq=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ef));function kT(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var m=a[u],b=m.event;m=m.listeners;e:{var _=void 0;if(o)for(var A=m.length-1;0<=A;A--){var L=m[A],G=L.instance,ae=L.currentTarget;if(L=L.listener,G!==_&&b.isPropagationStopped())break e;_=L,b.currentTarget=ae;try{_(b)}catch(he){Vm(he)}b.currentTarget=null,_=G}else for(A=0;A<m.length;A++){if(L=m[A],G=L.instance,ae=L.currentTarget,L=L.listener,G!==_&&b.isPropagationStopped())break e;_=L,b.currentTarget=ae;try{_(b)}catch(he){Vm(he)}b.currentTarget=null,_=G}}}}function rt(a,o){var u=o[Bc];u===void 0&&(u=o[Bc]=new Set);var m=a+"__bubble";u.has(m)||(DT(o,a,2,!1),u.add(m))}function Kb(a,o,u){var m=0;o&&(m|=4),DT(u,a,m,o)}var Np="_reactListening"+Math.random().toString(36).slice(2);function Wb(a){if(!a[Np]){a[Np]=!0,kd.forEach(function(u){u!=="selectionchange"&&(oq.has(u)||Kb(u,!1,a),Kb(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Np]||(o[Np]=!0,Kb("selectionchange",!1,o))}}function DT(a,o,u,m){switch(uC(o)){case 2:var b=Dq;break;case 8:b=Mq;break;default:b=c_}u=b.bind(null,o,u,a),b=void 0,!Al||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),m?b!==void 0?a.addEventListener(o,u,{capture:!0,passive:b}):a.addEventListener(o,u,!0):b!==void 0?a.addEventListener(o,u,{passive:b}):a.addEventListener(o,u,!1)}function Qb(a,o,u,m,b){var _=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var A=m.tag;if(A===3||A===4){var L=m.stateNode.containerInfo;if(L===b)break;if(A===4)for(A=m.return;A!==null;){var G=A.tag;if((G===3||G===4)&&A.stateNode.containerInfo===b)return;A=A.return}for(;L!==null;){if(A=ma(L),A===null)return;if(G=A.tag,G===5||G===6||G===26||G===27){m=_=A;continue e}L=L.parentNode}}m=m.return}oo(function(){var ae=_,he=bi(u),ye=[];e:{var se=mN.get(a);if(se!==void 0){var de=xa,Oe=a;switch(a){case"keypress":if(Cl(u)===0)break e;case"keydown":case"keyup":de=zm;break;case"focusin":Oe="focus",de=Pl;break;case"focusout":Oe="blur",de=Pl;break;case"beforeblur":case"afterblur":de=Pl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Tm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=N;break;case uN:case dN:case fN:de=Om;break;case hN:de=q;break;case"scroll":case"scrollend":de=Gd;break;case"wheel":de=ue;break;case"copy":case"cut":case"paste":de=Pm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=rs;break;case"toggle":case"beforetoggle":de=Ze}var Be=(o&4)!==0,Mt=!Be&&(a==="scroll"||a==="scrollend"),ee=Be?se!==null?se+"Capture":null:se;Be=[];for(var K=ae,ie;K!==null;){var pe=K;if(ie=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||ie===null||ee===null||(pe=Hi(K,ee),pe!=null&&Be.push(jf(K,pe,ie))),Mt)break;K=K.return}0<Be.length&&(se=new de(se,Oe,null,u,he),ye.push({event:se,listeners:Be}))}}if((o&7)===0){e:{if(se=a==="mouseover"||a==="pointerover",de=a==="mouseout"||a==="pointerout",se&&u!==$d&&(Oe=u.relatedTarget||u.fromElement)&&(ma(Oe)||Oe[fa]))break e;if((de||se)&&(se=he.window===he?he:(se=he.ownerDocument)?se.defaultView||se.parentWindow:window,de?(Oe=u.relatedTarget||u.toElement,de=ae,Oe=Oe?ma(Oe):null,Oe!==null&&(Mt=s(Oe),Be=Oe.tag,Oe!==Mt||Be!==5&&Be!==27&&Be!==6)&&(Oe=null)):(de=null,Oe=ae),de!==Oe)){if(Be=Kd,pe="onMouseLeave",ee="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(Be=rs,pe="onPointerLeave",ee="onPointerEnter",K="pointer"),Mt=de==null?se:Zr(de),ie=Oe==null?se:Zr(Oe),se=new Be(pe,K+"leave",de,u,he),se.target=Mt,se.relatedTarget=ie,pe=null,ma(he)===ae&&(Be=new Be(ee,K+"enter",Oe,u,he),Be.target=ie,Be.relatedTarget=Mt,pe=Be),Mt=pe,de&&Oe)t:{for(Be=lq,ee=de,K=Oe,ie=0,pe=ee;pe;pe=Be(pe))ie++;pe=0;for(var ze=K;ze;ze=Be(ze))pe++;for(;0<ie-pe;)ee=Be(ee),ie--;for(;0<pe-ie;)K=Be(K),pe--;for(;ie--;){if(ee===K||K!==null&&ee===K.alternate){Be=ee;break t}ee=Be(ee),K=Be(K)}Be=null}else Be=null;de!==null&&MT(ye,se,de,Be,!1),Oe!==null&&Mt!==null&&MT(ye,Mt,Oe,Be,!0)}}e:{if(se=ae?Zr(ae):window,de=se.nodeName&&se.nodeName.toLowerCase(),de==="select"||de==="input"&&se.type==="file")var yt=JS;else if(XS(se))if(eN)yt=bV;else{yt=vV;var Re=gV}else de=se.nodeName,!de||de.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ae&&Gc(ae.elementType)&&(yt=JS):yt=yV;if(yt&&(yt=yt(a,ae))){ZS(ye,yt,u,he);break e}Re&&Re(a,se,ae),a==="focusout"&&ae&&se.type==="number"&&ae.memoizedProps.value!=null&&Vd(se,"number",se.value)}switch(Re=ae?Zr(ae):window,a){case"focusin":(XS(Re)||Re.contentEditable==="true")&&(eu=Re,j0=ae,Zd=null);break;case"focusout":Zd=j0=eu=null;break;case"mousedown":S0=!0;break;case"contextmenu":case"mouseup":case"dragend":S0=!1,lN(ye,u,he);break;case"selectionchange":if(xV)break;case"keydown":case"keyup":lN(ye,u,he)}var et;if(xt)e:{switch(a){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else Jc?Il(a,u)&&(lt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(lt="onCompositionStart");lt&&(ja&&u.locale!=="ko"&&(Jc||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&Jc&&(et=Hd()):(_a=he,Fd="value"in _a?_a.value:_a.textContent,Jc=!0)),Re=Ap(ae,lt),0<Re.length&&(lt=new Ea(lt,a,null,u,he),ye.push({event:lt,listeners:Re}),et?lt.data=et:(et=Zc(u),et!==null&&(lt.data=et)))),(et=xi?fV(a,u):hV(a,u))&&(lt=Ap(ae,"onBeforeInput"),0<lt.length&&(Re=new Ea("onBeforeInput","beforeinput",null,u,he),ye.push({event:Re,listeners:lt}),Re.data=et)),iq(ye,a,ae,u,he)}kT(ye,o)})}function jf(a,o,u){return{instance:a,listener:o,currentTarget:u}}function Ap(a,o){for(var u=o+"Capture",m=[];a!==null;){var b=a,_=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||_===null||(b=Hi(a,u),b!=null&&m.unshift(jf(a,b,_)),b=Hi(a,o),b!=null&&m.push(jf(a,b,_))),a.tag===3)return m;a=a.return}return[]}function lq(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function MT(a,o,u,m,b){for(var _=o._reactName,A=[];u!==null&&u!==m;){var L=u,G=L.alternate,ae=L.stateNode;if(L=L.tag,G!==null&&G===m)break;L!==5&&L!==26&&L!==27||ae===null||(G=ae,b?(ae=Hi(u,_),ae!=null&&A.unshift(jf(u,ae,G))):b||(ae=Hi(u,_),ae!=null&&A.push(jf(u,ae,G)))),u=u.return}A.length!==0&&a.push({event:o,listeners:A})}var cq=/\r\n?/g,uq=/\u0000|\uFFFD/g;function zT(a){return(typeof a=="string"?a:""+a).replace(cq,`
`).replace(uq,"")}function LT(a,o){return o=zT(o),zT(a)===o}function Dt(a,o,u,m,b,_){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Lr(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Lr(a,""+m);break;case"className":Jr(a,"class",m);break;case"tabIndex":Jr(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Jr(a,u,m);break;case"style":Bd(a,m,_);break;case"data":if(o!=="object"){Jr(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=Kc(""+m),a.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(o!=="input"&&Dt(a,o,"name",b.name,b,null),Dt(a,o,"formEncType",b.formEncType,b,null),Dt(a,o,"formMethod",b.formMethod,b,null),Dt(a,o,"formTarget",b.formTarget,b,null)):(Dt(a,o,"encType",b.encType,b,null),Dt(a,o,"method",b.method,b,null),Dt(a,o,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=Kc(""+m),a.setAttribute(u,m);break;case"onClick":m!=null&&(a.onclick=Fi);break;case"onScroll":m!=null&&rt("scroll",a);break;case"onScrollEnd":m!=null&&rt("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}u=Kc(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""+m):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":m===!0?a.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,m):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(u,m):a.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(u):a.setAttribute(u,m);break;case"popover":rt("beforetoggle",a),rt("toggle",a),Fc(a,"popover",m);break;case"xlinkActuate":En(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":En(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":En(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":En(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":En(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":En(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":En(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":En(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":En(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Fc(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Am.get(u)||u,Fc(a,u,m))}}function Yb(a,o,u,m,b,_){switch(u){case"style":Bd(a,m,_);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof m=="string"?Lr(a,m):(typeof m=="number"||typeof m=="bigint")&&Lr(a,""+m);break;case"onScroll":m!=null&&rt("scroll",a);break;case"onScrollEnd":m!=null&&rt("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dd.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),o=u.slice(2,b?u.length-7:void 0),_=a[$n]||null,_=_!=null?_[u]:null,typeof _=="function"&&a.removeEventListener(o,_,b),typeof m=="function")){typeof _!="function"&&_!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,m,b);break e}u in a?a[u]=m:m===!0?a.setAttribute(u,""):Fc(a,u,m)}}}function ar(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",a),rt("load",a);var m=!1,b=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var A=u[_];if(A!=null)switch(_){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Dt(a,o,_,A,u,null)}}b&&Dt(a,o,"srcSet",u.srcSet,u,null),m&&Dt(a,o,"src",u.src,u,null);return;case"input":rt("invalid",a);var L=_=A=b=null,G=null,ae=null;for(m in u)if(u.hasOwnProperty(m)){var he=u[m];if(he!=null)switch(m){case"name":b=he;break;case"type":A=he;break;case"checked":G=he;break;case"defaultChecked":ae=he;break;case"value":_=he;break;case"defaultValue":L=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,o));break;default:Dt(a,o,m,he,u,null)}}jm(a,_,L,G,ae,A,b,!1);return;case"select":rt("invalid",a),m=A=_=null;for(b in u)if(u.hasOwnProperty(b)&&(L=u[b],L!=null))switch(b){case"value":_=L;break;case"defaultValue":A=L;break;case"multiple":m=L;default:Dt(a,o,b,L,u,null)}o=_,u=A,a.multiple=!!m,o!=null?ro(a,!!m,o,!1):u!=null&&ro(a,!!m,u,!0);return;case"textarea":rt("invalid",a),_=b=m=null;for(A in u)if(u.hasOwnProperty(A)&&(L=u[A],L!=null))switch(A){case"value":m=L;break;case"defaultValue":b=L;break;case"children":_=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:Dt(a,o,A,L,u,null)}io(a,m,b,_);return;case"option":for(G in u)u.hasOwnProperty(G)&&(m=u[G],m!=null)&&(G==="selected"?a.selected=m&&typeof m!="function"&&typeof m!="symbol":Dt(a,o,G,m,u,null));return;case"dialog":rt("beforetoggle",a),rt("toggle",a),rt("cancel",a),rt("close",a);break;case"iframe":case"object":rt("load",a);break;case"video":case"audio":for(m=0;m<Ef.length;m++)rt(Ef[m],a);break;case"image":rt("error",a),rt("load",a);break;case"details":rt("toggle",a);break;case"embed":case"source":case"link":rt("error",a),rt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in u)if(u.hasOwnProperty(ae)&&(m=u[ae],m!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Dt(a,o,ae,m,u,null)}return;default:if(Gc(o)){for(he in u)u.hasOwnProperty(he)&&(m=u[he],m!==void 0&&Yb(a,o,he,m,u,void 0));return}}for(L in u)u.hasOwnProperty(L)&&(m=u[L],m!=null&&Dt(a,o,L,m,u,null))}function dq(a,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,_=null,A=null,L=null,G=null,ae=null,he=null;for(de in u){var ye=u[de];if(u.hasOwnProperty(de)&&ye!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":G=ye;default:m.hasOwnProperty(de)||Dt(a,o,de,null,m,ye)}}for(var se in m){var de=m[se];if(ye=u[se],m.hasOwnProperty(se)&&(de!=null||ye!=null))switch(se){case"type":_=de;break;case"name":b=de;break;case"checked":ae=de;break;case"defaultChecked":he=de;break;case"value":A=de;break;case"defaultValue":L=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:de!==ye&&Dt(a,o,se,de,m,ye)}}Hc(a,A,L,G,ae,he,_,b);return;case"select":de=A=L=se=null;for(_ in u)if(G=u[_],u.hasOwnProperty(_)&&G!=null)switch(_){case"value":break;case"multiple":de=G;default:m.hasOwnProperty(_)||Dt(a,o,_,null,m,G)}for(b in m)if(_=m[b],G=u[b],m.hasOwnProperty(b)&&(_!=null||G!=null))switch(b){case"value":se=_;break;case"defaultValue":L=_;break;case"multiple":A=_;default:_!==G&&Dt(a,o,b,_,m,G)}o=L,u=A,m=de,se!=null?ro(a,!!u,se,!1):!!m!=!!u&&(o!=null?ro(a,!!u,o,!0):ro(a,!!u,u?[]:"",!1));return;case"textarea":de=se=null;for(L in u)if(b=u[L],u.hasOwnProperty(L)&&b!=null&&!m.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Dt(a,o,L,null,m,b)}for(A in m)if(b=m[A],_=u[A],m.hasOwnProperty(A)&&(b!=null||_!=null))switch(A){case"value":se=b;break;case"defaultValue":de=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==_&&Dt(a,o,A,b,m,_)}Sm(a,se,de);return;case"option":for(var Oe in u)se=u[Oe],u.hasOwnProperty(Oe)&&se!=null&&!m.hasOwnProperty(Oe)&&(Oe==="selected"?a.selected=!1:Dt(a,o,Oe,null,m,se));for(G in m)se=m[G],de=u[G],m.hasOwnProperty(G)&&se!==de&&(se!=null||de!=null)&&(G==="selected"?a.selected=se&&typeof se!="function"&&typeof se!="symbol":Dt(a,o,G,se,m,de));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in u)se=u[Be],u.hasOwnProperty(Be)&&se!=null&&!m.hasOwnProperty(Be)&&Dt(a,o,Be,null,m,se);for(ae in m)if(se=m[ae],de=u[ae],m.hasOwnProperty(ae)&&se!==de&&(se!=null||de!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:Dt(a,o,ae,se,m,de)}return;default:if(Gc(o)){for(var Mt in u)se=u[Mt],u.hasOwnProperty(Mt)&&se!==void 0&&!m.hasOwnProperty(Mt)&&Yb(a,o,Mt,void 0,m,se);for(he in m)se=m[he],de=u[he],!m.hasOwnProperty(he)||se===de||se===void 0&&de===void 0||Yb(a,o,he,se,m,de);return}}for(var ee in u)se=u[ee],u.hasOwnProperty(ee)&&se!=null&&!m.hasOwnProperty(ee)&&Dt(a,o,ee,null,m,se);for(ye in m)se=m[ye],de=u[ye],!m.hasOwnProperty(ye)||se===de||se==null&&de==null||Dt(a,o,ye,se,m,de)}function UT(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fq(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var b=u[m],_=b.transferSize,A=b.initiatorType,L=b.duration;if(_&&L&&UT(A)){for(A=0,L=b.responseEnd,m+=1;m<u.length;m++){var G=u[m],ae=G.startTime;if(ae>L)break;var he=G.transferSize,ye=G.initiatorType;he&&UT(ye)&&(G=G.responseEnd,A+=he*(G<L?1:(L-ae)/(G-ae)))}if(--m,o+=8*(_+A)/(b.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Xb=null,Zb=null;function Tp(a){return a.nodeType===9?a:a.ownerDocument}function VT(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qT(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Jb(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var e_=null;function hq(){var a=window.event;return a&&a.type==="popstate"?a===e_?!1:(e_=a,!0):(e_=null,!1)}var BT=typeof setTimeout=="function"?setTimeout:void 0,mq=typeof clearTimeout=="function"?clearTimeout:void 0,$T=typeof Promise=="function"?Promise:void 0,pq=typeof queueMicrotask=="function"?queueMicrotask:typeof $T<"u"?function(a){return $T.resolve(null).then(a).catch(gq)}:BT;function gq(a){setTimeout(function(){throw a})}function To(a){return a==="head"}function FT(a,o){var u=o,m=0;do{var b=u.nextSibling;if(a.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"||u==="/&"){if(m===0){a.removeChild(b),Au(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")Sf(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,Sf(u);for(var _=u.firstChild;_;){var A=_.nextSibling,L=_.nodeName;_[ha]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=A}}else u==="body"&&Sf(a.ownerDocument.body);u=b}while(u);Au(o)}function HT(a,o){var u=a;a=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=m}while(u)}function t_(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":t_(u),$c(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function vq(a,o,u,m){for(;a.nodeType===1;){var b=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[ha])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var _=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=Ti(a.nextSibling),a===null)break}return null}function yq(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Ti(a.nextSibling),a===null))return null;return a}function GT(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Ti(a.nextSibling),a===null))return null;return a}function n_(a){return a.data==="$?"||a.data==="$~"}function r_(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function bq(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Ti(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var i_=null;function KT(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return Ti(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function WT(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function QT(a,o,u){switch(o=Tp(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Sf(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);$c(a)}var Ci=new Map,YT=new Set;function Cp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ys=oe.d;oe.d={f:_q,r:xq,D:wq,C:Eq,L:jq,m:Sq,X:Aq,S:Nq,M:Tq};function _q(){var a=ys.f(),o=_p();return a||o}function xq(a){var o=yi(a);o!==null&&o.tag===5&&o.type==="form"?hA(o):ys.r(a)}var ju=typeof document>"u"?null:document;function XT(a,o,u){var m=ju;if(m&&typeof o=="string"&&o){var b=zr(o);b='link[rel="'+a+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),YT.has(b)||(YT.add(b),a={rel:a,crossOrigin:u,href:o},m.querySelector(b)===null&&(o=m.createElement("link"),ar(o,"link",a),wn(o),m.head.appendChild(o)))}}function wq(a){ys.D(a),XT("dns-prefetch",a,null)}function Eq(a,o){ys.C(a,o),XT("preconnect",a,o)}function jq(a,o,u){ys.L(a,o,u);var m=ju;if(m&&a&&o){var b='link[rel="preload"][as="'+zr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+zr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+zr(u.imageSizes)+'"]')):b+='[href="'+zr(a)+'"]';var _=b;switch(o){case"style":_=Su(a);break;case"script":_=Nu(a)}Ci.has(_)||(a=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),Ci.set(_,a),m.querySelector(b)!==null||o==="style"&&m.querySelector(Nf(_))||o==="script"&&m.querySelector(Af(_))||(o=m.createElement("link"),ar(o,"link",a),wn(o),m.head.appendChild(o)))}}function Sq(a,o){ys.m(a,o);var u=ju;if(u&&a){var m=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+zr(m)+'"][href="'+zr(a)+'"]',_=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Nu(a)}if(!Ci.has(_)&&(a=g({rel:"modulepreload",href:a},o),Ci.set(_,a),u.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Af(_)))return}m=u.createElement("link"),ar(m,"link",a),wn(m),u.head.appendChild(m)}}}function Nq(a,o,u){ys.S(a,o,u);var m=ju;if(m&&a){var b=pa(m).hoistableStyles,_=Su(a);o=o||"default";var A=b.get(_);if(!A){var L={loading:0,preload:null};if(A=m.querySelector(Nf(_)))L.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},u),(u=Ci.get(_))&&a_(a,u);var G=A=m.createElement("link");wn(G),ar(G,"link",a),G._p=new Promise(function(ae,he){G.onload=ae,G.onerror=he}),G.addEventListener("load",function(){L.loading|=1}),G.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Op(A,o,m)}A={type:"stylesheet",instance:A,count:1,state:L},b.set(_,A)}}}function Aq(a,o){ys.X(a,o);var u=ju;if(u&&a){var m=pa(u).hoistableScripts,b=Nu(a),_=m.get(b);_||(_=u.querySelector(Af(b)),_||(a=g({src:a,async:!0},o),(o=Ci.get(b))&&s_(a,o),_=u.createElement("script"),wn(_),ar(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(b,_))}}function Tq(a,o){ys.M(a,o);var u=ju;if(u&&a){var m=pa(u).hoistableScripts,b=Nu(a),_=m.get(b);_||(_=u.querySelector(Af(b)),_||(a=g({src:a,async:!0,type:"module"},o),(o=Ci.get(b))&&s_(a,o),_=u.createElement("script"),wn(_),ar(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(b,_))}}function ZT(a,o,u,m){var b=(b=Y.current)?Cp(b):null;if(!b)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Su(u.href),u=pa(b).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Su(u.href);var _=pa(b).hoistableStyles,A=_.get(a);if(A||(b=b.ownerDocument||b,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,A),(_=b.querySelector(Nf(a)))&&!_._p&&(A.instance=_,A.state.loading=5),Ci.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ci.set(a,u),_||Cq(b,a,u,A.state))),o&&m===null)throw Error(r(528,""));return A}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Nu(u),u=pa(b).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Su(a){return'href="'+zr(a)+'"'}function Nf(a){return'link[rel="stylesheet"]['+a+"]"}function JT(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function Cq(a,o,u,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),ar(o,"link",u),wn(o),a.head.appendChild(o))}function Nu(a){return'[src="'+zr(a)+'"]'}function Af(a){return"script[async]"+a}function eC(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+zr(u.href)+'"]');if(m)return o.instance=m,wn(m),m;var b=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),wn(m),ar(m,"style",b),Op(m,u.precedence,a),o.instance=m;case"stylesheet":b=Su(u.href);var _=a.querySelector(Nf(b));if(_)return o.state.loading|=4,o.instance=_,wn(_),_;m=JT(u),(b=Ci.get(b))&&a_(m,b),_=(a.ownerDocument||a).createElement("link"),wn(_);var A=_;return A._p=new Promise(function(L,G){A.onload=L,A.onerror=G}),ar(_,"link",m),o.state.loading|=4,Op(_,u.precedence,a),o.instance=_;case"script":return _=Nu(u.src),(b=a.querySelector(Af(_)))?(o.instance=b,wn(b),b):(m=u,(b=Ci.get(_))&&(m=g({},u),s_(m,b)),a=a.ownerDocument||a,b=a.createElement("script"),wn(b),ar(b,"link",m),a.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,Op(m,u.precedence,a));return o.instance}function Op(a,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,_=b,A=0;A<m.length;A++){var L=m[A];if(L.dataset.precedence===o)_=L;else if(_!==b)break}_?_.parentNode.insertBefore(a,_.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function a_(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function s_(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Pp=null;function tC(a,o,u){if(Pp===null){var m=new Map,b=Pp=new Map;b.set(u,m)}else b=Pp,m=b.get(u),m||(m=new Map,b.set(u,m));if(m.has(a))return m;for(m.set(a,null),u=u.getElementsByTagName(a),b=0;b<u.length;b++){var _=u[b];if(!(_[ha]||_[xn]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var A=_.getAttribute(o)||"";A=a+A;var L=m.get(A);L?L.push(_):m.set(A,[_])}}return m}function nC(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function Oq(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function rC(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function Pq(a,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var b=Su(m.href),_=o.querySelector(Nf(b));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Ip.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=_,wn(_);return}_=o.ownerDocument||o,m=JT(m),(b=Ci.get(b))&&a_(m,b),_=_.createElement("link"),wn(_);var A=_;A._p=new Promise(function(L,G){A.onload=L,A.onerror=G}),ar(_,"link",m),u.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Ip.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var o_=0;function Iq(a,o){return a.stylesheets&&a.count===0&&kp(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var m=setTimeout(function(){if(a.stylesheets&&kp(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+o);0<a.imgBytes&&o_===0&&(o_=62500*fq());var b=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&kp(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>o_?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(b)}}:null}function Ip(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Rp=null;function kp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Rp=new Map,o.forEach(Rq,a),Rp=null,Ip.call(a))}function Rq(a,o){if(!(o.state.loading&4)){var u=Rp.get(a);if(u)var m=u.get(null);else{u=new Map,Rp.set(a,u);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<b.length;_++){var A=b[_];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),m=A)}m&&u.set(null,m)}b=o.instance,A=b.getAttribute("data-precedence"),_=u.get(A)||m,_===m&&u.set(null,b),u.set(A,b),this.count++,m=Ip.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),_?_.parentNode.insertBefore(b,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),o.state.loading|=4}}var Tf={$$typeof:R,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function kq(a,o,u,m,b,_,A,L,G){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.hiddenUpdates=gt(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=_,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function iC(a,o,u,m,b,_,A,L,G,ae,he,ye){return a=new kq(a,o,u,A,G,ae,he,ye,L),o=1,_===!0&&(o|=24),_=ti(3,null,null,o),a.current=_,_.stateNode=a,o=V0(),o.refCount++,a.pooledCache=o,o.refCount++,_.memoizedState={element:m,isDehydrated:u,cache:o},F0(_),a}function aC(a){return a?(a=ru,a):ru}function sC(a,o,u,m,b,_){b=aC(b),m.context===null?m.context=b:m.pendingContext=b,m=vo(o),m.payload={element:u},_=_===void 0?null:_,_!==null&&(m.callback=_),u=yo(a,m,o),u!==null&&($r(u,a,o),sf(u,a,o))}function oC(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function l_(a,o){oC(a,o),(a=a.alternate)&&oC(a,o)}function lC(a){if(a.tag===13||a.tag===31){var o=Dl(a,67108864);o!==null&&$r(o,a,67108864),l_(a,67108864)}}function cC(a){if(a.tag===13||a.tag===31){var o=si();o=El(o);var u=Dl(a,o);u!==null&&$r(u,a,o),l_(a,o)}}var Dp=!0;function Dq(a,o,u,m){var b=H.T;H.T=null;var _=oe.p;try{oe.p=2,c_(a,o,u,m)}finally{oe.p=_,H.T=b}}function Mq(a,o,u,m){var b=H.T;H.T=null;var _=oe.p;try{oe.p=8,c_(a,o,u,m)}finally{oe.p=_,H.T=b}}function c_(a,o,u,m){if(Dp){var b=u_(m);if(b===null)Qb(a,o,m,Mp,u),dC(a,m);else if(Lq(b,a,o,u,m))m.stopPropagation();else if(dC(a,m),o&4&&-1<zq.indexOf(a)){for(;b!==null;){var _=yi(b);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var A=gi(_.pendingLanes);if(A!==0){var L=_;for(L.pendingLanes|=2,L.entangledLanes|=2;A;){var G=1<<31-en(A);L.entanglements[1]|=G,A&=~G}Ta(_),(wt&6)===0&&(yp=qe()+500,wf(0))}}break;case 31:case 13:L=Dl(_,2),L!==null&&$r(L,_,2),_p(),l_(_,2)}if(_=u_(m),_===null&&Qb(a,o,m,Mp,u),_===b)break;b=_}b!==null&&m.stopPropagation()}else Qb(a,o,m,null,u)}}function u_(a){return a=bi(a),d_(a)}var Mp=null;function d_(a){if(Mp=null,a=ma(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=c(o),a!==null)return a;a=null}else if(u===31){if(a=d(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Mp=a,null}function uC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ke()){case Ut:return 2;case Rn:return 8;case kr:case eo:return 32;case Dr:return 268435456;default:return 32}default:return 32}}var f_=!1,Co=null,Oo=null,Po=null,Cf=new Map,Of=new Map,Io=[],zq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dC(a,o){switch(a){case"focusin":case"focusout":Co=null;break;case"dragenter":case"dragleave":Oo=null;break;case"mouseover":case"mouseout":Po=null;break;case"pointerover":case"pointerout":Cf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Of.delete(o.pointerId)}}function Pf(a,o,u,m,b,_){return a===null||a.nativeEvent!==_?(a={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:_,targetContainers:[b]},o!==null&&(o=yi(o),o!==null&&lC(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),a)}function Lq(a,o,u,m,b){switch(o){case"focusin":return Co=Pf(Co,a,o,u,m,b),!0;case"dragenter":return Oo=Pf(Oo,a,o,u,m,b),!0;case"mouseover":return Po=Pf(Po,a,o,u,m,b),!0;case"pointerover":var _=b.pointerId;return Cf.set(_,Pf(Cf.get(_)||null,a,o,u,m,b)),!0;case"gotpointercapture":return _=b.pointerId,Of.set(_,Pf(Of.get(_)||null,a,o,u,m,b)),!0}return!1}function fC(a){var o=ma(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){a.blockedOn=o,Bi(a.priority,function(){cC(u)});return}}else if(o===31){if(o=d(u),o!==null){a.blockedOn=o,Bi(a.priority,function(){cC(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function zp(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=u_(a.nativeEvent);if(u===null){u=a.nativeEvent;var m=new u.constructor(u.type,u);$d=m,u.target.dispatchEvent(m),$d=null}else return o=yi(u),o!==null&&lC(o),a.blockedOn=u,!1;o.shift()}return!0}function hC(a,o,u){zp(a)&&u.delete(o)}function Uq(){f_=!1,Co!==null&&zp(Co)&&(Co=null),Oo!==null&&zp(Oo)&&(Oo=null),Po!==null&&zp(Po)&&(Po=null),Cf.forEach(hC),Of.forEach(hC)}function Lp(a,o){a.blockedOn===o&&(a.blockedOn=null,f_||(f_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Uq)))}var Up=null;function mC(a){Up!==a&&(Up=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Up===a&&(Up=null);for(var o=0;o<a.length;o+=3){var u=a[o],m=a[o+1],b=a[o+2];if(typeof m!="function"){if(d_(m||u)===null)continue;break}var _=yi(u);_!==null&&(a.splice(o,3),o-=3,ub(_,{pending:!0,data:b,method:u.method,action:m},m,b))}}))}function Au(a){function o(G){return Lp(G,a)}Co!==null&&Lp(Co,a),Oo!==null&&Lp(Oo,a),Po!==null&&Lp(Po,a),Cf.forEach(o),Of.forEach(o);for(var u=0;u<Io.length;u++){var m=Io[u];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Io.length&&(u=Io[0],u.blockedOn===null);)fC(u),u.blockedOn===null&&Io.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var b=u[m],_=u[m+1],A=b[$n]||null;if(typeof _=="function")A||mC(u);else if(A){var L=null;if(_&&_.hasAttribute("formAction")){if(b=_,A=_[$n]||null)L=A.formAction;else if(d_(b)!==null)continue}else L=A.action;typeof L=="function"?u[m+1]=L:(u.splice(m,3),m-=3),mC(u)}}}function pC(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(A){return b=A})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,b=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function h_(a){this._internalRoot=a}Vp.prototype.render=h_.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,m=si();sC(u,m,a,o,null,null)},Vp.prototype.unmount=h_.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;sC(a.current,2,null,a,null,null),_p(),o[fa]=null}};function Vp(a){this._internalRoot=a}Vp.prototype.unstable_scheduleHydration=function(a){if(a){var o=_m();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Io.length&&o!==0&&o<Io[u].priority;u++);Io.splice(u,0,a),u===0&&fC(a)}};var gC=e.version;if(gC!=="19.2.4")throw Error(r(527,gC,"19.2.4"));oe.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var Vq={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qp.isDisabled&&qp.supportsFiber)try{rn=qp.inject(Vq),St=qp}catch{}}return Rf.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,m="",b=EA,_=jA,A=SA;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError)),o=iC(a,1,!1,null,null,u,m,null,b,_,A,pC),a[fa]=o.current,Wb(a),new h_(o)},Rf.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var m=!1,b="",_=EA,A=jA,L=SA,G=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(L=u.onRecoverableError),u.formState!==void 0&&(G=u.formState)),o=iC(a,1,!0,o,u??null,m,b,G,_,A,L,pC),o.context=aC(null),u=o.current,m=si(),m=El(m),b=vo(m),b.callback=null,yo(u,b,m),u=m,o.current.lanes=u,Bn(o,u),Ta(o),a[fa]=o.current,Wb(a),new Vp(o)},Rf.version="19.2.4",Rf}var NC;function Yq(){if(NC)return g_.exports;NC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),g_.exports=Qq(),g_.exports}var Xq=Yq();const Zq=Ya(Xq);var ID=PD();function dh(){return dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dh.apply(this,arguments)}var Ho;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ho||(Ho={}));const AC="popstate";function Jq(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:c,hash:d}=r.location;return j1("",{pathname:s,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:zg(i)}return t9(e,n,null,t)}function bn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function e9(){return Math.random().toString(36).substr(2,8)}function TC(t,e){return{usr:t.state,key:t.key,idx:e}}function j1(t,e,n,r){return n===void 0&&(n=null),dh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pd(e):e,{state:n,key:e&&e.key||r||e9()})}function zg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function t9(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,c=i.history,d=Ho.Pop,f=null,h=p();h==null&&(h=0,c.replaceState(dh({},c.state,{idx:h}),""));function p(){return(c.state||{idx:null}).idx}function g(){d=Ho.Pop;let S=p(),T=S==null?null:S-h;h=S,f&&f({action:d,location:E.location,delta:T})}function y(S,T){d=Ho.Push;let D=j1(E.location,S,T);h=p()+1;let R=TC(D,h),P=E.createHref(D);try{c.pushState(R,"",P)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(P)}s&&f&&f({action:d,location:E.location,delta:1})}function x(S,T){d=Ho.Replace;let D=j1(E.location,S,T);h=p();let R=TC(D,h),P=E.createHref(D);c.replaceState(R,"",P),s&&f&&f({action:d,location:E.location,delta:0})}function j(S){let T=i.location.origin!=="null"?i.location.origin:i.location.href,D=typeof S=="string"?S:zg(S);return D=D.replace(/ $/,"%20"),bn(T,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,T)}let E={get action(){return d},get location(){return t(i,c)},listen(S){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(AC,g),f=S,()=>{i.removeEventListener(AC,g),f=null}},createHref(S){return e(i,S)},createURL:j,encodeLocation(S){let T=j(S);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:x,go(S){return c.go(S)}};return E}var CC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(CC||(CC={}));function n9(t,e,n){return n===void 0&&(n="/"),r9(t,e,n)}function r9(t,e,n,r){let i=typeof e=="string"?pd(e):e,s=lE(i.pathname||"/",n);if(s==null)return null;let c=RD(t);i9(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let h=g9(s);d=h9(c[f],h)}return d}function RD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,c,d)=>{let f={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};f.relativePath.startsWith("/")&&(bn(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let h=Wo([r,f.relativePath]),p=n.concat(f);s.children&&s.children.length>0&&(bn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),RD(s.children,e,p,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:d9(h,s.index),routesMeta:p})};return t.forEach((s,c)=>{var d;if(s.path===""||!((d=s.path)!=null&&d.includes("?")))i(s,c);else for(let f of kD(s.path))i(s,c,f)}),e}function kD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let c=kD(r.join("/")),d=[];return d.push(...c.map(f=>f===""?s:[s,f].join("/"))),i&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function i9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:f9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const a9=/^:[\w-]+$/,s9=3,o9=2,l9=1,c9=10,u9=-2,OC=t=>t==="*";function d9(t,e){let n=t.split("/"),r=n.length;return n.some(OC)&&(r+=u9),e&&(r+=o9),n.filter(i=>!OC(i)).reduce((i,s)=>i+(a9.test(s)?s9:s===""?l9:c9),r)}function f9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function h9(t,e,n){let{routesMeta:r}=t,i={},s="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=m9({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),y=f.route;if(!g)return null;Object.assign(i,g.params),c.push({params:i,pathname:Wo([s,g.pathname]),pathnameBase:x9(Wo([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=Wo([s,g.pathnameBase]))}return c}function m9(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=p9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],c=s.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((h,p,g)=>{let{paramName:y,isOptional:x}=p;if(y==="*"){let E=d[g]||"";c=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const j=d[g];return x&&!j?h[y]=void 0:h[y]=(j||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:c,pattern:t}}function p9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),oE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function g9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function lE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const v9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y9=t=>v9.test(t);function b9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?pd(t):t,s;if(n)if(y9(n))s=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),oE(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+n))}n.startsWith("/")?s=PC(n.substring(1),"/"):s=PC(n,e)}else s=e;return{pathname:s,search:w9(r),hash:E9(i)}}function PC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function __(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cE(t,e){let n=_9(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function uE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=pd(t):(i=dh({},t),bn(!i.pathname||!i.pathname.includes("?"),__("?","pathname","search",i)),bn(!i.pathname||!i.pathname.includes("#"),__("#","pathname","hash",i)),bn(!i.search||!i.search.includes("#"),__("#","search","hash",i)));let s=t===""||i.pathname==="",c=s?"/":i.pathname,d;if(c==null)d=n;else{let g=e.length-1;if(!r&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}d=g>=0?e[g]:"/"}let f=b9(i,d),h=c&&c!=="/"&&c.endsWith("/"),p=(s||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}const Wo=t=>t.join("/").replace(/\/\/+/g,"/"),x9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),w9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,E9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function j9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const DD=["post","put","patch","delete"];new Set(DD);const S9=["get",...DD];new Set(S9);function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fh.apply(this,arguments)}const dE=w.createContext(null),N9=w.createContext(null),dl=w.createContext(null),Jv=w.createContext(null),$s=w.createContext({outlet:null,matches:[],isDataRoute:!1}),MD=w.createContext(null);function A9(t,e){let{relative:n}=e===void 0?{}:e;gd()||bn(!1);let{basename:r,navigator:i}=w.useContext(dl),{hash:s,pathname:c,search:d}=UD(t,{relative:n}),f=c;return r!=="/"&&(f=c==="/"?r:Wo([r,c])),i.createHref({pathname:f,search:d,hash:s})}function gd(){return w.useContext(Jv)!=null}function fl(){return gd()||bn(!1),w.useContext(Jv).location}function zD(t){w.useContext(dl).static||w.useLayoutEffect(t)}function Xa(){let{isDataRoute:t}=w.useContext($s);return t?V9():T9()}function T9(){gd()||bn(!1);let t=w.useContext(dE),{basename:e,future:n,navigator:r}=w.useContext(dl),{matches:i}=w.useContext($s),{pathname:s}=fl(),c=JSON.stringify(cE(i,n.v7_relativeSplatPath)),d=w.useRef(!1);return zD(()=>{d.current=!0}),w.useCallback(function(h,p){if(p===void 0&&(p={}),!d.current)return;if(typeof h=="number"){r.go(h);return}let g=uE(h,JSON.parse(c),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Wo([e,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[e,r,c,s,t])}function LD(){let{matches:t}=w.useContext($s),e=t[t.length-1];return e?e.params:{}}function UD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(dl),{matches:i}=w.useContext($s),{pathname:s}=fl(),c=JSON.stringify(cE(i,r.v7_relativeSplatPath));return w.useMemo(()=>uE(t,JSON.parse(c),s,n==="path"),[t,c,s,n])}function C9(t,e){return O9(t,e)}function O9(t,e,n,r){gd()||bn(!1);let{navigator:i}=w.useContext(dl),{matches:s}=w.useContext($s),c=s[s.length-1],d=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let h=fl(),p;if(e){var g;let S=typeof e=="string"?pd(e):e;f==="/"||(g=S.pathname)!=null&&g.startsWith(f)||bn(!1),p=S}else p=h;let y=p.pathname||"/",x=y;if(f!=="/"){let S=f.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let j=n9(t,{pathname:x}),E=D9(j&&j.map(S=>Object.assign({},S,{params:Object.assign({},d,S.params),pathname:Wo([f,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:Wo([f,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&E?w.createElement(Jv.Provider,{value:{location:fh({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Ho.Pop}},E):E}function P9(){let t=U9(),e=j9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const I9=w.createElement(P9,null);class R9 extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement($s.Provider,{value:this.props.routeContext},w.createElement(MD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k9(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(dE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement($s.Provider,{value:e},r)}function D9(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,d=(i=n)==null?void 0:i.errors;if(d!=null){let p=c.findIndex(g=>g.route.id&&d?.[g.route.id]!==void 0);p>=0||bn(!1),c=c.slice(0,Math.min(c.length,p+1))}let f=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<c.length;p++){let g=c[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:y,errors:x}=n,j=g.route.loader&&y[g.route.id]===void 0&&(!x||x[g.route.id]===void 0);if(g.route.lazy||j){f=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((p,g,y)=>{let x,j=!1,E=null,S=null;n&&(x=d&&g.route.id?d[g.route.id]:void 0,E=g.route.errorElement||I9,f&&(h<0&&y===0?(q9("route-fallback"),j=!0,S=null):h===y&&(j=!0,S=g.route.hydrateFallbackElement||null)));let T=e.concat(c.slice(0,y+1)),D=()=>{let R;return x?R=E:j?R=S:g.route.Component?R=w.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=p,w.createElement(k9,{match:g,routeContext:{outlet:p,matches:T,isDataRoute:n!=null},children:R})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?w.createElement(R9,{location:n.location,revalidation:n.revalidation,component:E,error:x,children:D(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):D()},null)}var VD=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(VD||{}),qD=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(qD||{});function M9(t){let e=w.useContext(dE);return e||bn(!1),e}function z9(t){let e=w.useContext(N9);return e||bn(!1),e}function L9(t){let e=w.useContext($s);return e||bn(!1),e}function BD(t){let e=L9(),n=e.matches[e.matches.length-1];return n.route.id||bn(!1),n.route.id}function U9(){var t;let e=w.useContext(MD),n=z9(),r=BD();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function V9(){let{router:t}=M9(VD.UseNavigateStable),e=BD(qD.UseNavigateStable),n=w.useRef(!1);return zD(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,fh({fromRouteId:e},s)))},[t,e])}const IC={};function q9(t,e,n){IC[t]||(IC[t]=!0)}function B9(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function $9(t){let{to:e,replace:n,state:r,relative:i}=t;gd()||bn(!1);let{future:s,static:c}=w.useContext(dl),{matches:d}=w.useContext($s),{pathname:f}=fl(),h=Xa(),p=uE(e,cE(d,s.v7_relativeSplatPath),f,i==="path"),g=JSON.stringify(p);return w.useEffect(()=>h(JSON.parse(g),{replace:n,state:r,relative:i}),[h,g,i,n,r]),null}function Dn(t){bn(!1)}function F9(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ho.Pop,navigator:s,static:c=!1,future:d}=t;gd()&&bn(!1);let f=e.replace(/^\/*/,"/"),h=w.useMemo(()=>({basename:f,navigator:s,static:c,future:fh({v7_relativeSplatPath:!1},d)}),[f,d,s,c]);typeof r=="string"&&(r=pd(r));let{pathname:p="/",search:g="",hash:y="",state:x=null,key:j="default"}=r,E=w.useMemo(()=>{let S=lE(p,f);return S==null?null:{location:{pathname:S,search:g,hash:y,state:x,key:j},navigationType:i}},[f,p,g,y,x,j,i]);return E==null?null:w.createElement(dl.Provider,{value:h},w.createElement(Jv.Provider,{children:n,value:E}))}function H9(t){let{children:e,location:n}=t;return C9(S1(e),n)}new Promise(()=>{});function S1(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let s=[...e,i];if(r.type===w.Fragment){n.push.apply(n,S1(r.props.children,s));return}r.type!==Dn&&bn(!1),!r.props.index||!r.props.children||bn(!1);let c={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=S1(r.props.children,s)),n.push(c)}),n}function N1(){return N1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N1.apply(this,arguments)}function G9(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function K9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function W9(t,e){return t.button===0&&(!e||e==="_self")&&!K9(t)}const Q9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Y9="6";try{window.__reactRouterVersion=Y9}catch{}const X9="startTransition",RC=OD[X9];function Z9(t){let{basename:e,children:n,future:r,window:i}=t,s=w.useRef();s.current==null&&(s.current=Jq({window:i,v5Compat:!0}));let c=s.current,[d,f]=w.useState({action:c.action,location:c.location}),{v7_startTransition:h}=r||{},p=w.useCallback(g=>{h&&RC?RC(()=>f(g)):f(g)},[f,h]);return w.useLayoutEffect(()=>c.listen(p),[c,p]),w.useEffect(()=>B9(r),[r]),w.createElement(F9,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:c,future:r})}const J9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",e8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xe=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:c,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g}=e,y=G9(e,Q9),{basename:x}=w.useContext(dl),j,E=!1;if(typeof h=="string"&&e8.test(h)&&(j=h,J9))try{let R=new URL(window.location.href),P=h.startsWith("//")?new URL(R.protocol+h):new URL(h),$=lE(P.pathname,x);P.origin===R.origin&&$!=null?h=$+P.search+P.hash:E=!0}catch{}let S=A9(h,{relative:i}),T=t8(h,{replace:c,state:d,target:f,preventScrollReset:p,relative:i,viewTransition:g});function D(R){r&&r(R),R.defaultPrevented||T(R)}return w.createElement("a",N1({},y,{href:j||S,onClick:E||s?r:D,ref:n,target:f}))});var kC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kC||(kC={}));var DC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(DC||(DC={}));function t8(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:c,viewTransition:d}=e===void 0?{}:e,f=Xa(),h=fl(),p=UD(t,{relative:c});return w.useCallback(g=>{if(W9(g,n)){g.preventDefault();let y=r!==void 0?r:zg(h)===zg(p);f(t,{replace:y,state:i,preventScrollReset:s,relative:c,viewTransition:d})}},[h,f,p,r,i,n,t,s,c,d])}const n8=()=>{};var MC={};const $D=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},r8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],c=t[n++],d=t[n++],f=((i&7)<<18|(s&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|c&63)}}return e.join("")},FD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],c=i+1<t.length,d=c?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,p=s>>2,g=(s&3)<<4|d>>4;let y=(d&15)<<2|h>>6,x=h&63;f||(x=64,c||(y=64)),r.push(n[p],n[g],n[y],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($D(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):r8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||d==null||h==null||g==null)throw new i8;const y=s<<2|d>>4;if(r.push(y),h!==64){const x=d<<4&240|h>>2;if(r.push(x),g!==64){const j=h<<6&192|g;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class i8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a8=function(t){const e=$D(t);return FD.encodeByteArray(e,!0)},Lg=function(t){return a8(t).replace(/\./g,"")},HD=function(t){try{return FD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function s8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const o8=()=>s8().__FIREBASE_DEFAULTS__,l8=()=>{if(typeof process>"u"||typeof MC>"u")return;const t=MC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},c8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&HD(t[1]);return e&&JSON.parse(e)},ey=()=>{try{return n8()||o8()||l8()||c8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GD=t=>ey()?.emulatorHosts?.[t],KD=t=>{const e=GD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},WD=()=>ey()?.config,QD=t=>ey()?.[`_${t}`];class u8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function hl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fE(t){return(await fetch(t,{credentials:"include"})).ok}function YD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Lg(JSON.stringify(n)),Lg(JSON.stringify(c)),""].join(".")}const nh={};function d8(){const t={prod:[],emulator:[]};for(const e of Object.keys(nh))nh[e]?t.emulator.push(e):t.prod.push(e);return t}function f8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let zC=!1;function hE(t,e){if(typeof window>"u"||typeof document>"u"||!hl(window.location.host)||nh[t]===e||nh[t]||zC)return;nh[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=d8().prod.length>0;function c(){const y=document.getElementById(r);y&&y.remove()}function d(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,x){y.setAttribute("width","24"),y.setAttribute("id",x),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{zC=!0,c()},y}function p(y,x){y.setAttribute("id",x),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=f8(r),x=n("text"),j=document.getElementById(x)||document.createElement("span"),E=n("learnmore"),S=document.getElementById(E)||document.createElement("a"),T=n("preprendIcon"),D=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const R=y.element;d(R),p(S,E);const P=h();f(D,T),R.append(D,j,S,P),document.body.appendChild(R)}s?(j.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function _r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_r())}function m8(){const t=ey()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function v8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y8(){const t=_r();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function b8(){return!m8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _8(){try{return typeof indexedDB=="object"}catch{return!1}}function x8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const w8="FirebaseError";class Za extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=w8,Object.setPrototypeOf(this,Za.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qh.prototype.create)}}class qh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],c=s?E8(s,r):"Error",d=`${this.serviceName}: ${c} (${i}).`;return new Za(i,d,r)}}function E8(t,e){return t.replace(j8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const j8=/\{\$([^}]+)}/g;function S8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],c=e[i];if(LC(s)&&LC(c)){if(!fc(s,c))return!1}else if(s!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function LC(t){return t!==null&&typeof t=="object"}function Bh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Kf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function N8(t,e){const n=new A8(t,e);return n.subscribe.bind(n)}class A8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");T8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=x_),i.error===void 0&&(i.error=x_),i.complete===void 0&&(i.complete=x_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function x_(){}function Ft(t){return t&&t._delegate?t._delegate:t}class tl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Yl="[DEFAULT]";let C8=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new u8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P8(e))try{this.getOrInitializeService({instanceIdentifier:Yl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Yl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yl){return this.instances.has(e)}getOptions(e=Yl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(s);r===d&&c.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:O8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yl){return this.component?this.component.multipleInstances?e:Yl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function O8(t){return t===Yl?void 0:t}function P8(t){return t.instantiationMode==="EAGER"}class I8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new C8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ct||(ct={}));const R8={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},k8=ct.INFO,D8={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},M8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=D8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mE{constructor(e){this.name=e,this._logLevel=k8,this._logHandler=M8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const z8=(t,e)=>e.some(n=>t instanceof n);let UC,VC;function L8(){return UC||(UC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U8(){return VC||(VC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XD=new WeakMap,A1=new WeakMap,ZD=new WeakMap,w_=new WeakMap,pE=new WeakMap;function V8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",c)},s=()=>{n(Qo(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&XD.set(n,t)}).catch(()=>{}),pE.set(e,t),e}function q8(t){if(A1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",c),t.removeEventListener("abort",c)},s=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",c),t.addEventListener("abort",c)});A1.set(t,e)}let T1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return A1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function B8(t){T1=t(T1)}function $8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(E_(this),e,...n);return ZD.set(r,e.sort?e.sort():[e]),Qo(r)}:U8().includes(t)?function(...e){return t.apply(E_(this),e),Qo(XD.get(this))}:function(...e){return Qo(t.apply(E_(this),e))}}function F8(t){return typeof t=="function"?$8(t):(t instanceof IDBTransaction&&q8(t),z8(t,L8())?new Proxy(t,T1):t)}function Qo(t){if(t instanceof IDBRequest)return V8(t);if(w_.has(t))return w_.get(t);const e=F8(t);return e!==t&&(w_.set(t,e),pE.set(e,t)),e}const E_=t=>pE.get(t);function H8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const c=indexedDB.open(t,e),d=Qo(c);return r&&c.addEventListener("upgradeneeded",f=>{r(Qo(c.result),f.oldVersion,f.newVersion,Qo(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const G8=["get","getKey","getAll","getAllKeys","count"],K8=["put","add","delete","clear"],j_=new Map;function qC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(j_.get(e))return j_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=K8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||G8.includes(n)))return;const s=async function(c,...d){const f=this.transaction(c,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(d.shift())),(await Promise.all([h[n](...d),i&&f.done]))[0]};return j_.set(e,s),s}B8(t=>({...t,get:(e,n,r)=>qC(e,n)||t.get(e,n,r),has:(e,n)=>!!qC(e,n)||t.has(e,n)}));class W8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Q8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Q8(t){return t.getComponent()?.type==="VERSION"}const C1="@firebase/app",BC="0.14.7";const Is=new mE("@firebase/app"),Y8="@firebase/app-compat",X8="@firebase/analytics-compat",Z8="@firebase/analytics",J8="@firebase/app-check-compat",eB="@firebase/app-check",tB="@firebase/auth",nB="@firebase/auth-compat",rB="@firebase/database",iB="@firebase/data-connect",aB="@firebase/database-compat",sB="@firebase/functions",oB="@firebase/functions-compat",lB="@firebase/installations",cB="@firebase/installations-compat",uB="@firebase/messaging",dB="@firebase/messaging-compat",fB="@firebase/performance",hB="@firebase/performance-compat",mB="@firebase/remote-config",pB="@firebase/remote-config-compat",gB="@firebase/storage",vB="@firebase/storage-compat",yB="@firebase/firestore",bB="@firebase/ai",_B="@firebase/firestore-compat",xB="firebase",wB="12.8.0";const O1="[DEFAULT]",EB={[C1]:"fire-core",[Y8]:"fire-core-compat",[Z8]:"fire-analytics",[X8]:"fire-analytics-compat",[eB]:"fire-app-check",[J8]:"fire-app-check-compat",[tB]:"fire-auth",[nB]:"fire-auth-compat",[rB]:"fire-rtdb",[iB]:"fire-data-connect",[aB]:"fire-rtdb-compat",[sB]:"fire-fn",[oB]:"fire-fn-compat",[lB]:"fire-iid",[cB]:"fire-iid-compat",[uB]:"fire-fcm",[dB]:"fire-fcm-compat",[fB]:"fire-perf",[hB]:"fire-perf-compat",[mB]:"fire-rc",[pB]:"fire-rc-compat",[gB]:"fire-gcs",[vB]:"fire-gcs-compat",[yB]:"fire-fst",[_B]:"fire-fst-compat",[bB]:"fire-vertex","fire-js":"fire-js",[xB]:"fire-js-all"};const Ug=new Map,jB=new Map,P1=new Map;function $C(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hc(t){const e=t.name;if(P1.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;P1.set(e,t);for(const n of Ug.values())$C(n,t);for(const n of jB.values())$C(n,t);return!0}function ty(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function oi(t){return t==null?!1:t.settings!==void 0}const SB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yo=new qh("app","Firebase",SB);class NB{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yo.create("app-deleted",{appName:this._name})}}const Oc=wB;function JD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:O1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Yo.create("bad-app-name",{appName:String(i)});if(n||(n=WD()),!n)throw Yo.create("no-options");const s=Ug.get(i);if(s){if(fc(n,s.options)&&fc(r,s.config))return s;throw Yo.create("duplicate-app",{appName:i})}const c=new I8(i);for(const f of P1.values())c.addComponent(f);const d=new NB(n,r,c);return Ug.set(i,d),d}function gE(t=O1){const e=Ug.get(t);if(!e&&t===O1&&WD())return JD();if(!e)throw Yo.create("no-app",{appName:t});return e}function La(t,e,n){let r=EB[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(c.join(" "));return}hc(new tl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const AB="firebase-heartbeat-database",TB=1,hh="firebase-heartbeat-store";let S_=null;function eM(){return S_||(S_=H8(AB,TB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yo.create("idb-open",{originalErrorMessage:t.message})})),S_}async function CB(t){try{const n=(await eM()).transaction(hh),r=await n.objectStore(hh).get(tM(t));return await n.done,r}catch(e){if(e instanceof Za)Is.warn(e.message);else{const n=Yo.create("idb-get",{originalErrorMessage:e?.message});Is.warn(n.message)}}}async function FC(t,e){try{const r=(await eM()).transaction(hh,"readwrite");await r.objectStore(hh).put(e,tM(t)),await r.done}catch(n){if(n instanceof Za)Is.warn(n.message);else{const r=Yo.create("idb-set",{originalErrorMessage:n?.message});Is.warn(r.message)}}}function tM(t){return`${t.name}!${t.options.appId}`}const OB=1024,PB=30;class IB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=HC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>PB){const i=DB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Is.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=HC(),{heartbeatsToSend:n,unsentEntries:r}=RB(this._heartbeatsCache.heartbeats),i=Lg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Is.warn(e),""}}}function HC(){return new Date().toISOString().substring(0,10)}function RB(t,e=OB){const n=[];let r=t.slice();for(const i of t){const s=n.find(c=>c.agent===i.agent);if(s){if(s.dates.push(i.date),GC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _8()?x8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return FC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return FC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function GC(t){return Lg(JSON.stringify({version:2,heartbeats:t})).length}function DB(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function MB(t){hc(new tl("platform-logger",e=>new W8(e),"PRIVATE")),hc(new tl("heartbeat",e=>new IB(e),"PRIVATE")),La(C1,BC,t),La(C1,BC,"esm2020"),La("fire-js","")}MB("");function nM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zB=nM,rM=new qh("auth","Firebase",nM());const Vg=new mE("@firebase/auth");function LB(t,...e){Vg.logLevel<=ct.WARN&&Vg.warn(`Auth (${Oc}): ${t}`,...e)}function bg(t,...e){Vg.logLevel<=ct.ERROR&&Vg.error(`Auth (${Oc}): ${t}`,...e)}function aa(t,...e){throw vE(t,...e)}function Ua(t,...e){return vE(t,...e)}function iM(t,e,n){const r={...zB(),[e]:n};return new qh("auth","Firebase",r).create(e,{appName:t.name})}function Ts(t){return iM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rM.create(t,...e)}function He(t,e,...n){if(!t)throw vE(e,...n)}function Es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bg(e),new Error(e)}function Rs(t,e){t||Es(e)}function I1(){return typeof self<"u"&&self.location?.href||""}function UB(){return KC()==="http:"||KC()==="https:"}function KC(){return typeof self<"u"&&self.location?.protocol||null}function VB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UB()||g8()||"connection"in navigator)?navigator.onLine:!0}function qB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class $h{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rs(n>e,"Short delay should be less than long delay!"),this.isMobile=h8()||v8()}get(){return VB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yE(t,e){Rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class aM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const BB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $B=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FB=new $h(3e4,6e4);function ml(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fs(t,e,n,r,i={}){return sM(t,i,async()=>{let s={},c={};r&&(e==="GET"?c=r:s={body:JSON.stringify(r)});const d=Bh({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return p8()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&hl(t.emulatorConfig.host)&&(h.credentials="include"),aM.fetch()(await oM(t,t.config.apiHost,n,d),h)})}async function sM(t,e,n){t._canInitEmulator=!1;const r={...BB,...e};try{const i=new GB(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const c=await s.json();if("needConfirmation"in c)throw Bp(t,"account-exists-with-different-credential",c);if(s.ok&&!("errorMessage"in c))return c;{const d=s.ok?c.errorMessage:c.error.message,[f,h]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bp(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Bp(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Bp(t,"user-disabled",c);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw iM(t,p,h);aa(t,p)}}catch(i){if(i instanceof Za)throw i;aa(t,"network-request-failed",{message:String(i)})}}async function Fh(t,e,n,r,i={}){const s=await Fs(t,e,n,r,i);return"mfaPendingCredential"in s&&aa(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function oM(t,e,n,r){const i=`${e}${n}?${r}`,s=t,c=s.config.emulator?yE(t.config,i):`${t.config.apiScheme}://${i}`;return $B.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(c).toString():c}function HB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ua(this.auth,"network-request-failed")),FB.get())})}}function Bp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ua(t,e,r);return i.customData._tokenResponse=n,i}function WC(t){return t!==void 0&&t.enterprise!==void 0}class KB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WB(t,e){return Fs(t,"GET","/v2/recaptchaConfig",ml(t,e))}async function QB(t,e){return Fs(t,"POST","/v1/accounts:delete",e)}async function qg(t,e){return Fs(t,"POST","/v1/accounts:lookup",e)}function rh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YB(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),i=bE(r);He(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,c=s?.sign_in_provider;return{claims:i,token:r,authTime:rh(N_(i.auth_time)),issuedAtTime:rh(N_(i.iat)),expirationTime:rh(N_(i.exp)),signInProvider:c||null,signInSecondFactor:s?.sign_in_second_factor||null}}function N_(t){return Number(t)*1e3}function bE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bg("JWT malformed, contained fewer than 3 sections"),null;try{const i=HD(n);return i?JSON.parse(i):(bg("Failed to decode base64 JWT payload"),null)}catch(i){return bg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function QC(t){const e=bE(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Zu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Za&&XB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function XB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class ZB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class R1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rh(this.lastLoginAt),this.creationTime=rh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bg(t){const e=t.auth,n=await t.getIdToken(),r=await Zu(t,qg(e,{idToken:n}));He(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?lM(i.providerUserInfo):[],c=e7(t.providerData,s),d=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!c?.length,h=d?f:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new R1(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function JB(t){const e=Ft(t);await Bg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function e7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function lM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function t7(t,e){const n=await sM(t,{},async()=>{const r=Bh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,c=await oM(t,i,"/v1/token",`key=${s}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return t.emulatorConfig&&hl(t.emulatorConfig.host)&&(f.credentials="include"),aM.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function n7(t,e){return Fs(t,"POST","/v2/accounts:revokeToken",ml(t,e))}class $u{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=QC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await t7(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,c=new $u;return r&&(He(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(He(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),s&&(He(typeof s=="number","internal-error",{appName:e}),c.expirationTime=s),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $u,this.toJSON())}_performRefresh(){return Es("not implemented")}}function ko(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ta{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new ZB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new R1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Zu(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return YB(this,e)}reload(){return JB(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ta({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(Ts(this.auth));const e=await this.getIdToken();return await Zu(this,QB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:y,isAnonymous:x,providerData:j,stsTokenManager:E}=n;He(g&&E,e,"internal-error");const S=$u.fromJSON(this.name,E);He(typeof g=="string",e,"internal-error"),ko(r,e.name),ko(i,e.name),He(typeof y=="boolean",e,"internal-error"),He(typeof x=="boolean",e,"internal-error"),ko(s,e.name),ko(c,e.name),ko(d,e.name),ko(f,e.name),ko(h,e.name),ko(p,e.name);const T=new ta({uid:g,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:x,photoURL:c,phoneNumber:s,tenantId:d,stsTokenManager:S,createdAt:h,lastLoginAt:p});return j&&Array.isArray(j)&&(T.providerData=j.map(D=>({...D}))),f&&(T._redirectEventId=f),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new $u;i.updateFromServerResponse(n);const s=new ta({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];He(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?lM(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!s?.length,d=new $u;d.updateFromIdToken(r);const f=new ta({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:c}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new R1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(f,h),f}}const YC=new Map;function js(t){Rs(t instanceof Function,"Expected a class definition");let e=YC.get(t);return e?(Rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YC.set(t,e),e)}class cM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cM.type="NONE";const XC=cM;function _g(t,e,n){return`firebase:${t}:${e}:${n}`}class Fu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=_g(this.userKey,i.apiKey,s),this.fullPersistenceKey=_g("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qg(this.auth,{idToken:e}).catch(()=>{});return n?ta._fromGetAccountInfoResponse(this.auth,n,e):null}return ta._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fu(js(XC),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||js(XC);const c=_g(r,e.config.apiKey,e.name);let d=null;for(const h of n)try{const p=await h._get(c);if(p){let g;if(typeof p=="string"){const y=await qg(e,{idToken:p}).catch(()=>{});if(!y)break;g=await ta._fromGetAccountInfoResponse(e,y,p)}else g=ta._fromJSON(e,p);h!==s&&(d=g),s=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new Fu(s,e,r):(s=f[0],d&&await s._set(c,d.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(c)}catch{}})),new Fu(s,e,r))}}function ZC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pM(e))return"Blackberry";if(gM(e))return"Webos";if(dM(e))return"Safari";if((e.includes("chrome/")||fM(e))&&!e.includes("edge/"))return"Chrome";if(mM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function uM(t=_r()){return/firefox\//i.test(t)}function dM(t=_r()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fM(t=_r()){return/crios\//i.test(t)}function hM(t=_r()){return/iemobile/i.test(t)}function mM(t=_r()){return/android/i.test(t)}function pM(t=_r()){return/blackberry/i.test(t)}function gM(t=_r()){return/webos/i.test(t)}function _E(t=_r()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function r7(t=_r()){return _E(t)&&!!window.navigator?.standalone}function i7(){return y8()&&document.documentMode===10}function vM(t=_r()){return _E(t)||mM(t)||gM(t)||pM(t)||/windows phone/i.test(t)||hM(t)}function yM(t,e=[]){let n;switch(t){case"Browser":n=ZC(_r());break;case"Worker":n=`${ZC(_r())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oc}/${r}`}class a7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((c,d)=>{try{const f=e(s);c(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function s7(t,e={}){return Fs(t,"GET","/v2/passwordPolicy",ml(t,e))}const o7=6;class l7{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??o7,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class c7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JC(this),this.idTokenSubscription=new JC(this),this.beforeStateQueue=new a7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=js(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qg(this,{idToken:e}),r=await ta._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(oi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,c=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!s||s===c)&&d?.user&&(r=d.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(Ts(this));const n=e?Ft(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(js(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await s7(this),n=new l7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await n7(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&js(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await Fu.create(this,[js(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(d,this,"internal-error"),d.then(()=>{c||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&LB(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Pc(t){return Ft(t)}class JC{constructor(e){this.auth=e,this.observer=null,this.addObserver=N8(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ny={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u7(t){ny=t}function bM(t){return ny.loadJS(t)}function d7(){return ny.recaptchaEnterpriseScript}function f7(){return ny.gapiScript}function h7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class m7{constructor(){this.enterprise=new p7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class p7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const g7="recaptcha-enterprise",_M="NO_RECAPTCHA";class v7{constructor(e){this.type=g7,this.auth=Pc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(c,d)=>{WB(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const h=new KB(f);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,c(h.siteKey)}}).catch(f=>{d(f)})})}function i(s,c,d){const f=window.grecaptcha;WC(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(h=>{c(h)}).catch(()=>{c(_M)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new m7().execute("siteKey",{action:"verify"}):new Promise((s,c)=>{r(this.auth).then(d=>{if(!n&&WC(window.grecaptcha))i(d,s,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=d7();f.length!==0&&(f+=d),bM(f).then(()=>{i(d,s,c)}).catch(h=>{c(h)})}}).catch(d=>{c(d)})})}}async function e2(t,e,n,r=!1,i=!1){const s=new v7(t);let c;if(i)c=_M;else try{c=await s.verify(n)}catch{c=await s.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,h=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function k1(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await e2(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await e2(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(s)})}function y7(t,e){const n=ty(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(fc(s,e??{}))return i;aa(i,"already-initialized")}return n.initialize({options:e})}function b7(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(js);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function _7(t,e,n){const r=Pc(t);He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=xM(e),{host:c,port:d}=x7(e),f=d===null?"":`:${d}`,h={url:`${s}//${c}${f}/`},p=Object.freeze({host:c,port:d,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){He(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),He(fc(h,r.config.emulator)&&fc(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,hl(c)?(fE(`${s}//${c}${f}`),hE("Auth",!0)):w7()}function xM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function x7(t){const e=xM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:t2(r.substr(s.length+1))}}else{const[s,c]=r.split(":");return{host:s,port:t2(c)}}}function t2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function w7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class xE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Es("not implemented")}_getIdTokenResponse(e){return Es("not implemented")}_linkToIdToken(e,n){return Es("not implemented")}_getReauthenticationResolver(e){return Es("not implemented")}}async function E7(t,e){return Fs(t,"POST","/v1/accounts:signUp",e)}async function j7(t,e){return Fh(t,"POST","/v1/accounts:signInWithPassword",ml(t,e))}async function S7(t,e){return Fh(t,"POST","/v1/accounts:signInWithEmailLink",ml(t,e))}async function N7(t,e){return Fh(t,"POST","/v1/accounts:signInWithEmailLink",ml(t,e))}class mh extends xE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new mh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new mh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return k1(e,n,"signInWithPassword",j7);case"emailLink":return S7(e,{email:this._email,oobCode:this._password});default:aa(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return k1(e,r,"signUpPassword",E7);case"emailLink":return N7(e,{idToken:n,email:this._email,oobCode:this._password});default:aa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Hu(t,e){return Fh(t,"POST","/v1/accounts:signInWithIdp",ml(t,e))}const A7="http://localhost";class mc extends xE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):aa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const c=new mc(r,i);return c.idToken=s.idToken||void 0,c.accessToken=s.accessToken||void 0,c.secret=s.secret,c.nonce=s.nonce,c.pendingToken=s.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Hu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Hu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hu(e,n)}buildRequest(){const e={requestUri:A7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bh(n)}return e}}function T7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function C7(t){const e=Gf(Kf(t)).link,n=e?Gf(Kf(e)).deep_link_id:null,r=Gf(Kf(t)).deep_link_id;return(r?Gf(Kf(r)).link:null)||r||n||e||t}class wE{constructor(e){const n=Gf(Kf(e)),r=n.apiKey??null,i=n.oobCode??null,s=T7(n.mode??null);He(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=C7(e);try{return new wE(n)}catch{return null}}}class vd{constructor(){this.providerId=vd.PROVIDER_ID}static credential(e,n){return mh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=wE.parseLink(n);return He(r,"argument-error"),mh._fromEmailAndCode(e,r.code,r.tenantId)}}vd.PROVIDER_ID="password";vd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class wM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Hh extends wM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Uo extends Hh{constructor(){super("facebook.com")}static credential(e){return mc._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uo.credential(e.oauthAccessToken)}catch{return null}}}Uo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Uo.PROVIDER_ID="facebook.com";class Vo extends Hh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mc._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vo.credential(n,r)}catch{return null}}}Vo.GOOGLE_SIGN_IN_METHOD="google.com";Vo.PROVIDER_ID="google.com";class qo extends Hh{constructor(){super("github.com")}static credential(e){return mc._fromParams({providerId:qo.PROVIDER_ID,signInMethod:qo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qo.credentialFromTaggedObject(e)}static credentialFromError(e){return qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qo.credential(e.oauthAccessToken)}catch{return null}}}qo.GITHUB_SIGN_IN_METHOD="github.com";qo.PROVIDER_ID="github.com";class Bo extends Hh{constructor(){super("twitter.com")}static credential(e,n){return mc._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bo.credential(n,r)}catch{return null}}}Bo.TWITTER_SIGN_IN_METHOD="twitter.com";Bo.PROVIDER_ID="twitter.com";async function O7(t,e){return Fh(t,"POST","/v1/accounts:signUp",ml(t,e))}class pc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ta._fromIdTokenResponse(e,r,i),c=n2(r);return new pc({user:s,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=n2(r);return new pc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function n2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class $g extends Za{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$g.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new $g(e,n,r,i)}}function EM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$g._fromErrorAndOperation(t,s,e,r):s})}async function P7(t,e,n=!1){const r=await Zu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pc._forOperation(t,"link",r)}async function I7(t,e,n=!1){const{auth:r}=t;if(oi(r.app))return Promise.reject(Ts(r));const i="reauthenticate";try{const s=await Zu(t,EM(r,i,e,t),n);He(s.idToken,r,"internal-error");const c=bE(s.idToken);He(c,r,"internal-error");const{sub:d}=c;return He(t.uid===d,r,"user-mismatch"),pc._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&aa(r,"user-mismatch"),s}}async function jM(t,e,n=!1){if(oi(t.app))return Promise.reject(Ts(t));const r="signIn",i=await EM(t,r,e),s=await pc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function R7(t,e){return jM(Pc(t),e)}async function SM(t){const e=Pc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function k7(t,e,n){if(oi(t.app))return Promise.reject(Ts(t));const r=Pc(t),c=await k1(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",O7).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&SM(t),f}),d=await pc._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function D7(t,e,n){return oi(t.app)?Promise.reject(Ts(t)):R7(Ft(t),vd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&SM(t),r})}async function M7(t,e){return Fs(t,"POST","/v1/accounts:update",e)}async function z7(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ft(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Zu(r,M7(r.auth,s));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function L7(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function U7(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function V7(t,e,n,r){return Ft(t).onAuthStateChanged(e,n,r)}function q7(t){return Ft(t).signOut()}const Fg="__sak";class NM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fg,"1"),this.storage.removeItem(Fg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const B7=1e3,$7=10;class AM extends NM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);i7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},B7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AM.type="LOCAL";const F7=AM;class TM extends NM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TM.type="SESSION";const CM=TM;function H7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ry{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ry(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,c=this.handlersMap[i];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(c).map(async h=>h(n.origin,s)),f=await H7(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ry.receivers=[];function EE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class G7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,c;return new Promise((d,f)=>{const h=EE("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),d(y.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Va(){return window}function K7(t){Va().location.href=t}function OM(){return typeof Va().WorkerGlobalScope<"u"&&typeof Va().importScripts=="function"}async function W7(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q7(){return navigator?.serviceWorker?.controller||null}function Y7(){return OM()?self:null}const PM="firebaseLocalStorageDb",X7=1,Hg="firebaseLocalStorage",IM="fbase_key";class Gh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function iy(t,e){return t.transaction([Hg],e?"readwrite":"readonly").objectStore(Hg)}function Z7(){const t=indexedDB.deleteDatabase(PM);return new Gh(t).toPromise()}function D1(){const t=indexedDB.open(PM,X7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hg,{keyPath:IM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hg)?e(r):(r.close(),await Z7(),e(await D1()))})})}async function r2(t,e,n){const r=iy(t,!0).put({[IM]:e,value:n});return new Gh(r).toPromise()}async function J7(t,e){const n=iy(t,!1).get(e),r=await new Gh(n).toPromise();return r===void 0?null:r.value}function i2(t,e){const n=iy(t,!0).delete(e);return new Gh(n).toPromise()}const e$=800,t$=3;class RM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await D1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>t$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ry._getInstance(Y7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await W7(),!this.activeServiceWorker)return;this.sender=new G7(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await D1();return await r2(e,Fg,"1"),await i2(e,Fg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>r2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>J7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>i2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=iy(i,!1).getAll();return new Gh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),e$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RM.type="LOCAL";const n$=RM;new $h(3e4,6e4);function r$(t,e){return e?js(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class jE extends xE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function i$(t){return jM(t.auth,new jE(t),t.bypassAuthState)}function a$(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),I7(n,new jE(t),t.bypassAuthState)}async function s$(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),P7(n,new jE(t),t.bypassAuthState)}class kM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i$;case"linkViaPopup":case"linkViaRedirect":return s$;case"reauthViaPopup":case"reauthViaRedirect":return a$;default:aa(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const o$=new $h(2e3,1e4);class Vu extends kM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Vu.currentPopupAction&&Vu.currentPopupAction.cancel(),Vu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=EE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ua(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ua(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ua(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,o$.get())};e()}}Vu.currentPopupAction=null;const l$="pendingRedirect",xg=new Map;class c$ extends kM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xg.get(this.auth._key());if(!e){try{const r=await u$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xg.set(this.auth._key(),e)}return this.bypassAuthState||xg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u$(t,e){const n=h$(e),r=f$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function d$(t,e){xg.set(t._key(),e)}function f$(t){return js(t._redirectPersistence)}function h$(t){return _g(l$,t.config.apiKey,t.name)}async function m$(t,e,n=!1){if(oi(t.app))return Promise.reject(Ts(t));const r=Pc(t),i=r$(r,e),c=await new c$(r,i,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const p$=600*1e3;class g${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!DM(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ua(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=p$&&this.cachedEventUids.clear(),this.cachedEventUids.has(a2(e))}saveEventToCache(e){this.cachedEventUids.add(a2(e)),this.lastProcessedEventTime=Date.now()}}function a2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function v$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DM(t);default:return!1}}async function y$(t,e={}){return Fs(t,"GET","/v1/projects",e)}const b$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_$=/^https?/;async function x$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await y$(t);for(const n of e)try{if(w$(n))return}catch{}aa(t,"unauthorized-domain")}function w$(t){const e=I1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!_$.test(n))return!1;if(b$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const E$=new $h(3e4,6e4);function s2(){const t=Va().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function j$(t){return new Promise((e,n)=>{function r(){s2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s2(),n(Ua(t,"network-request-failed"))},timeout:E$.get()})}if(Va().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Va().gapi?.load)r();else{const i=h7("iframefcb");return Va()[i]=()=>{gapi.load?r():n(Ua(t,"network-request-failed"))},bM(`${f7()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw wg=null,e})}let wg=null;function S$(t){return wg=wg||j$(t),wg}const N$=new $h(5e3,15e3),A$="__/auth/iframe",T$="emulator/auth/iframe",C$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function P$(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yE(e,T$):`https://${t.config.authDomain}/${A$}`,r={apiKey:e.apiKey,appName:t.name,v:Oc},i=O$.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Bh(r).slice(1)}`}async function I$(t){const e=await S$(t),n=Va().gapi;return He(n,t,"internal-error"),e.open({where:document.body,url:P$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const c=Ua(t,"network-request-failed"),d=Va().setTimeout(()=>{s(c)},N$.get());function f(){Va().clearTimeout(d),i(r)}r.ping(f).then(f,()=>{s(c)})}))}const R$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k$=500,D$=600,M$="_blank",z$="http://localhost";class o2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L$(t,e,n,r=k$,i=D$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...R$,width:r.toString(),height:i.toString(),top:s,left:c},h=_r().toLowerCase();n&&(d=fM(h)?M$:n),uM(h)&&(e=e||z$,f.scrollbars="yes");const p=Object.entries(f).reduce((y,[x,j])=>`${y}${x}=${j},`,"");if(r7(h)&&d!=="_self")return U$(e||"",d),new o2(null);const g=window.open(e||"",d,p);He(g,t,"popup-blocked");try{g.focus()}catch{}return new o2(g)}function U$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const V$="__/auth/handler",q$="emulator/auth/handler",B$=encodeURIComponent("fac");async function l2(t,e,n,r,i,s){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Oc,eventId:i};if(e instanceof wM){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",S8(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))c[p]=g}if(e instanceof Hh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(c.scopes=p.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const f=await t._getAppCheckToken(),h=f?`#${B$}=${encodeURIComponent(f)}`:"";return`${$$(t)}?${Bh(d).slice(1)}${h}`}function $$({config:t}){return t.emulator?yE(t,q$):`https://${t.authDomain}/${V$}`}const A_="webStorageSupport";class F${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CM,this._completeRedirectFn=m$,this._overrideRedirectResult=d$}async _openPopup(e,n,r,i){Rs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await l2(e,n,r,I1(),i);return L$(e,s,EE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await l2(e,n,r,I1(),i);return K7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Rs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await I$(e),r=new g$(e);return n.register("authEvent",i=>(He(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(A_,{type:A_},i=>{const s=i?.[0]?.[A_];s!==void 0&&n(!!s),aa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=x$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vM()||dM()||_E()}}const H$=F$;var c2="@firebase/auth",u2="1.12.0";class G${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function K$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W$(t){hc(new tl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;He(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yM(t)},h=new c7(r,i,s,f);return b7(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hc(new tl("auth-internal",e=>{const n=Pc(e.getProvider("auth").getImmediate());return(r=>new G$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),La(c2,u2,K$(t)),La(c2,u2,"esm2020")}const Q$=300,Y$=QD("authIdTokenMaxAge")||Q$;let d2=null;const X$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Y$)return;const i=n?.token;d2!==i&&(d2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Z$(t=gE()){const e=ty(t,"auth");if(e.isInitialized())return e.getImmediate();const n=y7(t,{popupRedirectResolver:H$,persistence:[n$,F7,CM]}),r=QD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const c=X$(s.toString());U7(n,c,()=>c(n.currentUser)),L7(n,d=>c(d))}}const i=GD("auth");return i&&_7(n,`http://${i}`),n}function J$(){return document.getElementsByTagName("head")?.[0]??document}u7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ua("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",J$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W$("Browser");var f2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xo,MM;(function(){var t;function e(I,O){function k(){}k.prototype=O.prototype,I.F=O.prototype,I.prototype=new k,I.prototype.constructor=I,I.D=function(V,U,z){for(var M=Array(arguments.length-2),W=2;W<arguments.length;W++)M[W-2]=arguments[W];return O.prototype[U].apply(V,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,O,k){k||(k=0);const V=Array(16);if(typeof O=="string")for(var U=0;U<16;++U)V[U]=O.charCodeAt(k++)|O.charCodeAt(k++)<<8|O.charCodeAt(k++)<<16|O.charCodeAt(k++)<<24;else for(U=0;U<16;++U)V[U]=O[k++]|O[k++]<<8|O[k++]<<16|O[k++]<<24;O=I.g[0],k=I.g[1],U=I.g[2];let z=I.g[3],M;M=O+(z^k&(U^z))+V[0]+3614090360&4294967295,O=k+(M<<7&4294967295|M>>>25),M=z+(U^O&(k^U))+V[1]+3905402710&4294967295,z=O+(M<<12&4294967295|M>>>20),M=U+(k^z&(O^k))+V[2]+606105819&4294967295,U=z+(M<<17&4294967295|M>>>15),M=k+(O^U&(z^O))+V[3]+3250441966&4294967295,k=U+(M<<22&4294967295|M>>>10),M=O+(z^k&(U^z))+V[4]+4118548399&4294967295,O=k+(M<<7&4294967295|M>>>25),M=z+(U^O&(k^U))+V[5]+1200080426&4294967295,z=O+(M<<12&4294967295|M>>>20),M=U+(k^z&(O^k))+V[6]+2821735955&4294967295,U=z+(M<<17&4294967295|M>>>15),M=k+(O^U&(z^O))+V[7]+4249261313&4294967295,k=U+(M<<22&4294967295|M>>>10),M=O+(z^k&(U^z))+V[8]+1770035416&4294967295,O=k+(M<<7&4294967295|M>>>25),M=z+(U^O&(k^U))+V[9]+2336552879&4294967295,z=O+(M<<12&4294967295|M>>>20),M=U+(k^z&(O^k))+V[10]+4294925233&4294967295,U=z+(M<<17&4294967295|M>>>15),M=k+(O^U&(z^O))+V[11]+2304563134&4294967295,k=U+(M<<22&4294967295|M>>>10),M=O+(z^k&(U^z))+V[12]+1804603682&4294967295,O=k+(M<<7&4294967295|M>>>25),M=z+(U^O&(k^U))+V[13]+4254626195&4294967295,z=O+(M<<12&4294967295|M>>>20),M=U+(k^z&(O^k))+V[14]+2792965006&4294967295,U=z+(M<<17&4294967295|M>>>15),M=k+(O^U&(z^O))+V[15]+1236535329&4294967295,k=U+(M<<22&4294967295|M>>>10),M=O+(U^z&(k^U))+V[1]+4129170786&4294967295,O=k+(M<<5&4294967295|M>>>27),M=z+(k^U&(O^k))+V[6]+3225465664&4294967295,z=O+(M<<9&4294967295|M>>>23),M=U+(O^k&(z^O))+V[11]+643717713&4294967295,U=z+(M<<14&4294967295|M>>>18),M=k+(z^O&(U^z))+V[0]+3921069994&4294967295,k=U+(M<<20&4294967295|M>>>12),M=O+(U^z&(k^U))+V[5]+3593408605&4294967295,O=k+(M<<5&4294967295|M>>>27),M=z+(k^U&(O^k))+V[10]+38016083&4294967295,z=O+(M<<9&4294967295|M>>>23),M=U+(O^k&(z^O))+V[15]+3634488961&4294967295,U=z+(M<<14&4294967295|M>>>18),M=k+(z^O&(U^z))+V[4]+3889429448&4294967295,k=U+(M<<20&4294967295|M>>>12),M=O+(U^z&(k^U))+V[9]+568446438&4294967295,O=k+(M<<5&4294967295|M>>>27),M=z+(k^U&(O^k))+V[14]+3275163606&4294967295,z=O+(M<<9&4294967295|M>>>23),M=U+(O^k&(z^O))+V[3]+4107603335&4294967295,U=z+(M<<14&4294967295|M>>>18),M=k+(z^O&(U^z))+V[8]+1163531501&4294967295,k=U+(M<<20&4294967295|M>>>12),M=O+(U^z&(k^U))+V[13]+2850285829&4294967295,O=k+(M<<5&4294967295|M>>>27),M=z+(k^U&(O^k))+V[2]+4243563512&4294967295,z=O+(M<<9&4294967295|M>>>23),M=U+(O^k&(z^O))+V[7]+1735328473&4294967295,U=z+(M<<14&4294967295|M>>>18),M=k+(z^O&(U^z))+V[12]+2368359562&4294967295,k=U+(M<<20&4294967295|M>>>12),M=O+(k^U^z)+V[5]+4294588738&4294967295,O=k+(M<<4&4294967295|M>>>28),M=z+(O^k^U)+V[8]+2272392833&4294967295,z=O+(M<<11&4294967295|M>>>21),M=U+(z^O^k)+V[11]+1839030562&4294967295,U=z+(M<<16&4294967295|M>>>16),M=k+(U^z^O)+V[14]+4259657740&4294967295,k=U+(M<<23&4294967295|M>>>9),M=O+(k^U^z)+V[1]+2763975236&4294967295,O=k+(M<<4&4294967295|M>>>28),M=z+(O^k^U)+V[4]+1272893353&4294967295,z=O+(M<<11&4294967295|M>>>21),M=U+(z^O^k)+V[7]+4139469664&4294967295,U=z+(M<<16&4294967295|M>>>16),M=k+(U^z^O)+V[10]+3200236656&4294967295,k=U+(M<<23&4294967295|M>>>9),M=O+(k^U^z)+V[13]+681279174&4294967295,O=k+(M<<4&4294967295|M>>>28),M=z+(O^k^U)+V[0]+3936430074&4294967295,z=O+(M<<11&4294967295|M>>>21),M=U+(z^O^k)+V[3]+3572445317&4294967295,U=z+(M<<16&4294967295|M>>>16),M=k+(U^z^O)+V[6]+76029189&4294967295,k=U+(M<<23&4294967295|M>>>9),M=O+(k^U^z)+V[9]+3654602809&4294967295,O=k+(M<<4&4294967295|M>>>28),M=z+(O^k^U)+V[12]+3873151461&4294967295,z=O+(M<<11&4294967295|M>>>21),M=U+(z^O^k)+V[15]+530742520&4294967295,U=z+(M<<16&4294967295|M>>>16),M=k+(U^z^O)+V[2]+3299628645&4294967295,k=U+(M<<23&4294967295|M>>>9),M=O+(U^(k|~z))+V[0]+4096336452&4294967295,O=k+(M<<6&4294967295|M>>>26),M=z+(k^(O|~U))+V[7]+1126891415&4294967295,z=O+(M<<10&4294967295|M>>>22),M=U+(O^(z|~k))+V[14]+2878612391&4294967295,U=z+(M<<15&4294967295|M>>>17),M=k+(z^(U|~O))+V[5]+4237533241&4294967295,k=U+(M<<21&4294967295|M>>>11),M=O+(U^(k|~z))+V[12]+1700485571&4294967295,O=k+(M<<6&4294967295|M>>>26),M=z+(k^(O|~U))+V[3]+2399980690&4294967295,z=O+(M<<10&4294967295|M>>>22),M=U+(O^(z|~k))+V[10]+4293915773&4294967295,U=z+(M<<15&4294967295|M>>>17),M=k+(z^(U|~O))+V[1]+2240044497&4294967295,k=U+(M<<21&4294967295|M>>>11),M=O+(U^(k|~z))+V[8]+1873313359&4294967295,O=k+(M<<6&4294967295|M>>>26),M=z+(k^(O|~U))+V[15]+4264355552&4294967295,z=O+(M<<10&4294967295|M>>>22),M=U+(O^(z|~k))+V[6]+2734768916&4294967295,U=z+(M<<15&4294967295|M>>>17),M=k+(z^(U|~O))+V[13]+1309151649&4294967295,k=U+(M<<21&4294967295|M>>>11),M=O+(U^(k|~z))+V[4]+4149444226&4294967295,O=k+(M<<6&4294967295|M>>>26),M=z+(k^(O|~U))+V[11]+3174756917&4294967295,z=O+(M<<10&4294967295|M>>>22),M=U+(O^(z|~k))+V[2]+718787259&4294967295,U=z+(M<<15&4294967295|M>>>17),M=k+(z^(U|~O))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+O&4294967295,I.g[1]=I.g[1]+(U+(M<<21&4294967295|M>>>11))&4294967295,I.g[2]=I.g[2]+U&4294967295,I.g[3]=I.g[3]+z&4294967295}r.prototype.v=function(I,O){O===void 0&&(O=I.length);const k=O-this.blockSize,V=this.C;let U=this.h,z=0;for(;z<O;){if(U==0)for(;z<=k;)i(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<O;)if(V[U++]=I.charCodeAt(z++),U==this.blockSize){i(this,V),U=0;break}}else for(;z<O;)if(V[U++]=I[z++],U==this.blockSize){i(this,V),U=0;break}}this.h=U,this.o+=O},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var O=1;O<I.length-8;++O)I[O]=0;O=this.o*8;for(var k=I.length-8;k<I.length;++k)I[k]=O&255,O/=256;for(this.v(I),I=Array(16),O=0,k=0;k<4;++k)for(let V=0;V<32;V+=8)I[O++]=this.g[k]>>>V&255;return I};function s(I,O){var k=d;return Object.prototype.hasOwnProperty.call(k,I)?k[I]:k[I]=O(I)}function c(I,O){this.h=O;const k=[];let V=!0;for(let U=I.length-1;U>=0;U--){const z=I[U]|0;V&&z==O||(k[U]=z,V=!1)}this.g=k}var d={};function f(I){return-128<=I&&I<128?s(I,function(O){return new c([O|0],O<0?-1:0)}):new c([I|0],I<0?-1:0)}function h(I){if(isNaN(I)||!isFinite(I))return g;if(I<0)return S(h(-I));const O=[];let k=1;for(let V=0;I>=k;V++)O[V]=I/k|0,k*=4294967296;return new c(O,0)}function p(I,O){if(I.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(I.charAt(0)=="-")return S(p(I.substring(1),O));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=h(Math.pow(O,8));let V=g;for(let z=0;z<I.length;z+=8){var U=Math.min(8,I.length-z);const M=parseInt(I.substring(z,z+U),O);U<8?(U=h(Math.pow(O,U)),V=V.j(U).add(h(M))):(V=V.j(k),V=V.add(h(M)))}return V}var g=f(0),y=f(1),x=f(16777216);t=c.prototype,t.m=function(){if(E(this))return-S(this).m();let I=0,O=1;for(let k=0;k<this.g.length;k++){const V=this.i(k);I+=(V>=0?V:4294967296+V)*O,O*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(j(this))return"0";if(E(this))return"-"+S(this).toString(I);const O=h(Math.pow(I,6));var k=this;let V="";for(;;){const U=P(k,O).g;k=T(k,U.j(O));let z=((k.g.length>0?k.g[0]:k.h)>>>0).toString(I);if(k=U,j(k))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function j(I){if(I.h!=0)return!1;for(let O=0;O<I.g.length;O++)if(I.g[O]!=0)return!1;return!0}function E(I){return I.h==-1}t.l=function(I){return I=T(this,I),E(I)?-1:j(I)?0:1};function S(I){const O=I.g.length,k=[];for(let V=0;V<O;V++)k[V]=~I.g[V];return new c(k,~I.h).add(y)}t.abs=function(){return E(this)?S(this):this},t.add=function(I){const O=Math.max(this.g.length,I.g.length),k=[];let V=0;for(let U=0;U<=O;U++){let z=V+(this.i(U)&65535)+(I.i(U)&65535),M=(z>>>16)+(this.i(U)>>>16)+(I.i(U)>>>16);V=M>>>16,z&=65535,M&=65535,k[U]=M<<16|z}return new c(k,k[k.length-1]&-2147483648?-1:0)};function T(I,O){return I.add(S(O))}t.j=function(I){if(j(this)||j(I))return g;if(E(this))return E(I)?S(this).j(S(I)):S(S(this).j(I));if(E(I))return S(this.j(S(I)));if(this.l(x)<0&&I.l(x)<0)return h(this.m()*I.m());const O=this.g.length+I.g.length,k=[];for(var V=0;V<2*O;V++)k[V]=0;for(V=0;V<this.g.length;V++)for(let U=0;U<I.g.length;U++){const z=this.i(V)>>>16,M=this.i(V)&65535,W=I.i(U)>>>16,Q=I.i(U)&65535;k[2*V+2*U]+=M*Q,D(k,2*V+2*U),k[2*V+2*U+1]+=z*Q,D(k,2*V+2*U+1),k[2*V+2*U+1]+=M*W,D(k,2*V+2*U+1),k[2*V+2*U+2]+=z*W,D(k,2*V+2*U+2)}for(I=0;I<O;I++)k[I]=k[2*I+1]<<16|k[2*I];for(I=O;I<2*O;I++)k[I]=0;return new c(k,0)};function D(I,O){for(;(I[O]&65535)!=I[O];)I[O+1]+=I[O]>>>16,I[O]&=65535,O++}function R(I,O){this.g=I,this.h=O}function P(I,O){if(j(O))throw Error("division by zero");if(j(I))return new R(g,g);if(E(I))return O=P(S(I),O),new R(S(O.g),S(O.h));if(E(O))return O=P(I,S(O)),new R(S(O.g),O.h);if(I.g.length>30){if(E(I)||E(O))throw Error("slowDivide_ only works with positive integers.");for(var k=y,V=O;V.l(I)<=0;)k=$(k),V=$(V);var U=B(k,1),z=B(V,1);for(V=B(V,2),k=B(k,2);!j(V);){var M=z.add(V);M.l(I)<=0&&(U=U.add(k),z=M),V=B(V,1),k=B(k,1)}return O=T(I,U.j(O)),new R(U,O)}for(U=g;I.l(O)>=0;){for(k=Math.max(1,Math.floor(I.m()/O.m())),V=Math.ceil(Math.log(k)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=h(k),M=z.j(O);E(M)||M.l(I)>0;)k-=V,z=h(k),M=z.j(O);j(z)&&(z=y),U=U.add(z),I=T(I,M)}return new R(U,I)}t.B=function(I){return P(this,I).h},t.and=function(I){const O=Math.max(this.g.length,I.g.length),k=[];for(let V=0;V<O;V++)k[V]=this.i(V)&I.i(V);return new c(k,this.h&I.h)},t.or=function(I){const O=Math.max(this.g.length,I.g.length),k=[];for(let V=0;V<O;V++)k[V]=this.i(V)|I.i(V);return new c(k,this.h|I.h)},t.xor=function(I){const O=Math.max(this.g.length,I.g.length),k=[];for(let V=0;V<O;V++)k[V]=this.i(V)^I.i(V);return new c(k,this.h^I.h)};function $(I){const O=I.g.length+1,k=[];for(let V=0;V<O;V++)k[V]=I.i(V)<<1|I.i(V-1)>>>31;return new c(k,I.h)}function B(I,O){const k=O>>5;O%=32;const V=I.g.length-k,U=[];for(let z=0;z<V;z++)U[z]=O>0?I.i(z+k)>>>O|I.i(z+k+1)<<32-O:I.i(z+k);return new c(U,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,MM=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=h,c.fromString=p,Xo=c}).apply(typeof f2<"u"?f2:typeof self<"u"?self:typeof window<"u"?window:{});var $p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zM,Wf,LM,Eg,M1,UM,VM,qM;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof $p=="object"&&$p];for(var N=0;N<v.length;++N){var C=v[N];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(v,N){if(N)e:{var C=r;v=v.split(".");for(var q=0;q<v.length-1;q++){var re=v[q];if(!(re in C))break e;C=C[re]}v=v[v.length-1],q=C[v],N=N(q),N!=q&&N!=null&&e(C,v,{configurable:!0,writable:!0,value:N})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(N){var C=[],q;for(q in N)Object.prototype.hasOwnProperty.call(N,q)&&C.push([q,N[q]]);return C}});var s=s||{},c=this||self;function d(v){var N=typeof v;return N=="object"&&v!=null||N=="function"}function f(v,N,C){return v.call.apply(v.bind,arguments)}function h(v,N,C){return h=f,h.apply(null,arguments)}function p(v,N){var C=Array.prototype.slice.call(arguments,1);return function(){var q=C.slice();return q.push.apply(q,arguments),v.apply(this,q)}}function g(v,N){function C(){}C.prototype=N.prototype,v.Z=N.prototype,v.prototype=new C,v.prototype.constructor=v,v.Ob=function(q,re,ue){for(var je=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)je[Ze-2]=arguments[Ze];return N.prototype[re].apply(q,je)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function x(v){const N=v.length;if(N>0){const C=Array(N);for(let q=0;q<N;q++)C[q]=v[q];return C}return[]}function j(v,N){for(let q=1;q<arguments.length;q++){const re=arguments[q];var C=typeof re;if(C=C!="object"?C:re?Array.isArray(re)?"array":C:"null",C=="array"||C=="object"&&typeof re.length=="number"){C=v.length||0;const ue=re.length||0;v.length=C+ue;for(let je=0;je<ue;je++)v[C+je]=re[je]}else v.push(re)}}class E{constructor(N,C){this.i=N,this.j=C,this.h=0,this.g=null}get(){let N;return this.h>0?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function S(v){c.setTimeout(()=>{throw v},0)}function T(){var v=I;let N=null;return v.g&&(N=v.g,v.g=v.g.next,v.g||(v.h=null),N.next=null),N}class D{constructor(){this.h=this.g=null}add(N,C){const q=R.get();q.set(N,C),this.h?this.h.next=q:this.g=q,this.h=q}}var R=new E(()=>new P,v=>v.reset());class P{constructor(){this.next=this.g=this.h=null}set(N,C){this.h=N,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let $,B=!1,I=new D,O=()=>{const v=Promise.resolve(void 0);$=()=>{v.then(k)}};function k(){for(var v;v=T();){try{v.h.call(v.g)}catch(C){S(C)}var N=R;N.j(v),N.h<100&&(N.h++,v.next=N.g,N.g=v)}B=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(v,N){this.type=v,this.g=this.target=N,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var v=!1,N=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const C=()=>{};c.addEventListener("test",C,N),c.removeEventListener("test",C,N)}catch{}return v})();function M(v){return/^[\s\xa0]*$/.test(v)}function W(v,N){U.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,N)}g(W,U),W.prototype.init=function(v,N){const C=this.type=v.type,q=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=N,N=v.relatedTarget,N||(C=="mouseover"?N=v.fromElement:C=="mouseout"&&(N=v.toElement)),this.relatedTarget=N,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&W.Z.h.call(this)},W.prototype.h=function(){W.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Q="closure_listenable_"+(Math.random()*1e6|0),H=0;function oe(v,N,C,q,re){this.listener=v,this.proxy=null,this.src=N,this.type=C,this.capture=!!q,this.ha=re,this.key=++H,this.da=this.fa=!1}function be(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Ee(v,N,C){for(const q in v)N.call(C,v[q],q,v)}function X(v,N){for(const C in v)N.call(void 0,v[C],C,v)}function F(v){const N={};for(const C in v)N[C]=v[C];return N}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(v,N){let C,q;for(let re=1;re<arguments.length;re++){q=arguments[re];for(C in q)v[C]=q[C];for(let ue=0;ue<ne.length;ue++)C=ne[ue],Object.prototype.hasOwnProperty.call(q,C)&&(v[C]=q[C])}}function we(v){this.src=v,this.g={},this.h=0}we.prototype.add=function(v,N,C,q,re){const ue=v.toString();v=this.g[ue],v||(v=this.g[ue]=[],this.h++);const je=Y(v,N,q,re);return je>-1?(N=v[je],C||(N.fa=!1)):(N=new oe(N,this.src,ue,!!q,re),N.fa=C,v.push(N)),N};function J(v,N){const C=N.type;if(C in v.g){var q=v.g[C],re=Array.prototype.indexOf.call(q,N,void 0),ue;(ue=re>=0)&&Array.prototype.splice.call(q,re,1),ue&&(be(N),v.g[C].length==0&&(delete v.g[C],v.h--))}}function Y(v,N,C,q){for(let re=0;re<v.length;++re){const ue=v[re];if(!ue.da&&ue.listener==N&&ue.capture==!!C&&ue.ha==q)return re}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),Ve={};function le(v,N,C,q,re){if(Array.isArray(N)){for(let ue=0;ue<N.length;ue++)le(v,N[ue],C,q,re);return null}return C=fr(C),v&&v[Q]?v.J(N,C,d(q)?!!q.capture:!1,re):Ne(v,N,C,!1,q,re)}function Ne(v,N,C,q,re,ue){if(!N)throw Error("Invalid event type");const je=d(re)?!!re.capture:!!re;let Ze=ft(v);if(Ze||(v[xe]=Ze=new we(v)),C=Ze.add(N,C,q,je,ue),C.proxy)return C;if(q=Z(),C.proxy=q,q.src=v,q.listener=C,v.addEventListener)z||(re=je),re===void 0&&(re=!1),v.addEventListener(N.toString(),q,re);else if(v.attachEvent)v.attachEvent($e(N.toString()),q);else if(v.addListener&&v.removeListener)v.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Z(){function v(C){return N.call(v.src,v.listener,C)}const N=st;return v}function ve(v,N,C,q,re){if(Array.isArray(N))for(var ue=0;ue<N.length;ue++)ve(v,N[ue],C,q,re);else q=d(q)?!!q.capture:!!q,C=fr(C),v&&v[Q]?(v=v.i,ue=String(N).toString(),ue in v.g&&(N=v.g[ue],C=Y(N,C,q,re),C>-1&&(be(N[C]),Array.prototype.splice.call(N,C,1),N.length==0&&(delete v.g[ue],v.h--)))):v&&(v=ft(v))&&(N=v.g[N.toString()],v=-1,N&&(v=Y(N,C,q,re)),(C=v>-1?N[v]:null)&&ke(C))}function ke(v){if(typeof v!="number"&&v&&!v.da){var N=v.src;if(N&&N[Q])J(N.i,v);else{var C=v.type,q=v.proxy;N.removeEventListener?N.removeEventListener(C,q,v.capture):N.detachEvent?N.detachEvent($e(C),q):N.addListener&&N.removeListener&&N.removeListener(q),(C=ft(N))?(J(C,v),C.h==0&&(C.src=null,N[xe]=null)):be(v)}}}function $e(v){return v in Ve?Ve[v]:Ve[v]="on"+v}function st(v,N){if(v.da)v=!0;else{N=new W(N,this);const C=v.listener,q=v.ha||v.src;v.fa&&ke(v),v=C.call(q,N)}return v}function ft(v){return v=v[xe],v instanceof we?v:null}var pt="__closure_events_fn_"+(Math.random()*1e9>>>0);function fr(v){return typeof v=="function"?v:(v[pt]||(v[pt]=function(N){return v.handleEvent(N)}),v[pt])}function Pt(){V.call(this),this.i=new we(this),this.M=this,this.G=null}g(Pt,V),Pt.prototype[Q]=!0,Pt.prototype.removeEventListener=function(v,N,C,q){ve(this,v,N,C,q)};function It(v,N){var C,q=v.G;if(q)for(C=[];q;q=q.G)C.push(q);if(v=v.M,q=N.type||N,typeof N=="string")N=new U(N,v);else if(N instanceof U)N.target=N.target||v;else{var re=N;N=new U(q,v),ge(N,re)}re=!0;let ue,je;if(C)for(je=C.length-1;je>=0;je--)ue=N.g=C[je],re=Rr(ue,q,!0,N)&&re;if(ue=N.g=v,re=Rr(ue,q,!0,N)&&re,re=Rr(ue,q,!1,N)&&re,C)for(je=0;je<C.length;je++)ue=N.g=C[je],re=Rr(ue,q,!1,N)&&re}Pt.prototype.N=function(){if(Pt.Z.N.call(this),this.i){var v=this.i;for(const N in v.g){const C=v.g[N];for(let q=0;q<C.length;q++)be(C[q]);delete v.g[N],v.h--}}this.G=null},Pt.prototype.J=function(v,N,C,q){return this.i.add(String(v),N,!1,C,q)},Pt.prototype.K=function(v,N,C,q){return this.i.add(String(v),N,!0,C,q)};function Rr(v,N,C,q){if(N=v.i.g[String(N)],!N)return!0;N=N.concat();let re=!0;for(let ue=0;ue<N.length;++ue){const je=N[ue];if(je&&!je.da&&je.capture==C){const Ze=je.listener,hn=je.ha||je.src;je.fa&&J(v.i,je),re=Ze.call(hn,q)!==!1&&re}}return re&&!q.defaultPrevented}function fe(v,N){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=h(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(N)>2147483647?-1:c.setTimeout(v,N||0)}function Ie(v){v.g=fe(()=>{v.g=null,v.i&&(v.i=!1,Ie(v))},v.l);const N=v.h;v.h=null,v.m.apply(null,N)}class qe extends V{constructor(N,C){super(),this.m=N,this.l=C,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:Ie(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ke(v){V.call(this),this.h=v,this.g={}}g(Ke,V);var Ut=[];function Rn(v){Ee(v.g,function(N,C){this.g.hasOwnProperty(C)&&ke(N)},v),v.g={}}Ke.prototype.N=function(){Ke.Z.N.call(this),Rn(this)},Ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kr=c.JSON.stringify,eo=c.JSON.parse,Dr=class{stringify(v){return c.JSON.stringify(v,void 0)}parse(v){return c.JSON.parse(v,void 0)}};function qi(){}function Vc(){}var rn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function St(){U.call(this,"d")}g(St,U);function Mr(){U.call(this,"c")}g(Mr,U);var en={},xl=null;function to(){return xl=xl||new Pt}en.Ia="serverreachability";function qc(v){U.call(this,en.Ia,v)}g(qc,U);function pi(v){const N=to();It(N,new qc(N))}en.STAT_EVENT="statevent";function Ja(v,N){U.call(this,en.STAT_EVENT,v),this.stat=N}g(Ja,U);function an(v){const N=to();It(N,new Ja(N,v))}en.Ja="timingevent";function gi(v,N){U.call(this,en.Ja,v),this.size=N}g(gi,U);function hr(v,N){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){v()},N)}function Xr(){this.g=!0}Xr.prototype.ua=function(){this.g=!1};function te(v,N,C,q,re,ue){v.info(function(){if(v.g)if(ue){var je="",Ze=ue.split("&");for(let xt=0;xt<Ze.length;xt++){var hn=Ze[xt].split("=");if(hn.length>1){const Yt=hn[0];hn=hn[1];const xi=Yt.split("_");je=xi.length>=2&&xi[1]=="type"?je+(Yt+"="+hn+"&"):je+(Yt+"=redacted&")}}}else je=null;else je=ue;return"XMLHTTP REQ ("+q+") [attempt "+re+"]: "+N+`
`+C+`
`+je})}function Ue(v,N,C,q,re,ue,je){v.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+re+"]: "+N+`
`+C+`
`+ue+" "+je})}function gt(v,N,C,q){v.info(function(){return"XMLHTTP TEXT ("+N+"): "+wl(v,C)+(q?" "+q:"")})}function Bn(v,N){v.info(function(){return"TIMEOUT: "+N})}Xr.prototype.info=function(){};function wl(v,N){if(!v.g)return N;if(!N)return null;try{const ue=JSON.parse(N);if(ue){for(v=0;v<ue.length;v++)if(Array.isArray(ue[v])){var C=ue[v];if(!(C.length<2)){var q=C[1];if(Array.isArray(q)&&!(q.length<1)){var re=q[0];if(re!="noop"&&re!="stop"&&re!="close")for(let je=1;je<q.length;je++)q[je]=""}}}}return kr(ue)}catch{return N}}var vi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Id={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rd;function El(){}g(El,qi),El.prototype.g=function(){return new XMLHttpRequest},Rd=new El;function es(v){return encodeURIComponent(String(v))}function _m(v){var N=1;v=v.split(":");const C=[];for(;N>0&&v.length;)C.push(v.shift()),N--;return v.length&&C.push(v.join(":")),C}function Bi(v,N,C,q){this.j=v,this.i=N,this.l=C,this.S=q||1,this.V=new Ke(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $i}function $i(){this.i=null,this.g="",this.h=!1}var xn={},$n={};function fa(v,N,C){v.M=1,v.A=jl(En(N)),v.u=C,v.R=!0,Bc(v,null)}function Bc(v,N){v.F=Date.now(),ha(v),v.B=En(v.A);var C=v.B,q=v.S;Array.isArray(q)||(q=[String(q)]),Gc(C.i,"t",q),v.C=0,C=v.j.L,v.h=new $i,v.g=Dm(v.j,C?N:null,!v.u),v.P>0&&(v.O=new qe(h(v.Y,v,v.g),v.P)),N=v.V,C=v.g,q=v.ba;var re="readystatechange";Array.isArray(re)||(re&&(Ut[0]=re.toString()),re=Ut);for(let ue=0;ue<re.length;ue++){const je=le(C,re[ue],q||N.handleEvent,!1,N.h||N);if(!je)break;N.g[je.key]=je}N=v.J?F(v.J):{},v.u?(v.v||(v.v="POST"),N["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,N)):(v.v="GET",v.g.ea(v.B,v.v,null,N)),pi(),te(v.i,v.v,v.B,v.l,v.S,v.u)}Bi.prototype.ba=function(v){v=v.target;const N=this.O;N&&Gi(v)==3?N.j():this.Y(v)},Bi.prototype.Y=function(v){try{if(v==this.g)e:{const Ze=Gi(this.g),hn=this.g.ya(),xt=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||tr(this.g)))){this.K||Ze!=4||hn==7||(hn==8||xt<=0?pi(3):pi(2)),ma(this);var N=this.g.ca();this.X=N;var C=_0(this);if(this.o=N==200,Ue(this.i,this.v,this.B,this.l,this.S,Ze,N),this.o){if(this.U&&!this.L){t:{if(this.g){var q,re=this.g;if((q=re.g?re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(q)){var ue=q;break t}}ue=null}if(v=ue)gt(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pa(this,v);else{this.o=!1,this.m=3,an(12),Zr(this),yi(this);break e}}if(this.R){v=!0;let Yt;for(;!this.K&&this.C<C.length;)if(Yt=wm(this,C),Yt==$n){Ze==4&&(this.m=4,an(14),v=!1),gt(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==xn){this.m=4,an(15),gt(this.i,this.l,C,"[Invalid Chunk]"),v=!1;break}else gt(this.i,this.l,Yt,null),pa(this,Yt);if(xm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||C.length!=0||this.h.h||(this.m=1,an(16),v=!1),this.o=this.o&&v,!v)gt(this.i,this.l,C,"[Invalid Chunked Response]"),Zr(this),yi(this);else if(C.length>0&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.aa&&!je.P&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),Wd(je),je.P=!0,an(11))}}else gt(this.i,this.l,C,null),pa(this,C);Ze==4&&Zr(this),this.o&&!this.K&&(Ze==4?Pm(this.j,this):(this.o=!1,ha(this)))}else ns(this.g),N==400&&C.indexOf("Unknown SID")>0?(this.m=3,an(12)):(this.m=0,an(13)),Zr(this),yi(this)}}}catch{}};function _0(v){if(!xm(v))return v.g.la();const N=tr(v.g);if(N==="")return"";let C="";const q=N.length,re=Gi(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return Zr(v),yi(v),"";v.h.i=new c.TextDecoder}for(let ue=0;ue<q;ue++)v.h.h=!0,C+=v.h.i.decode(N[ue],{stream:!(re&&ue==q-1)});return N.length=0,v.h.g+=C,v.C=0,v.h.g}function xm(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function wm(v,N){var C=v.C,q=N.indexOf(`
`,C);return q==-1?$n:(C=Number(N.substring(C,q)),isNaN(C)?xn:(q+=1,q+C>N.length?$n:(N=N.slice(q,q+C),v.C=q+C,N)))}Bi.prototype.cancel=function(){this.K=!0,Zr(this)};function ha(v){v.T=Date.now()+v.H,$c(v,v.H)}function $c(v,N){if(v.D!=null)throw Error("WatchDog timer not null");v.D=hr(h(v.aa,v),N)}function ma(v){v.D&&(c.clearTimeout(v.D),v.D=null)}Bi.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(Bn(this.i,this.B),this.M!=2&&(pi(),an(17)),Zr(this),this.m=2,yi(this)):$c(this,this.T-v)};function yi(v){v.j.I==0||v.K||Pm(v.j,v)}function Zr(v){ma(v);var N=v.O;N&&typeof N.dispose=="function"&&N.dispose(),v.O=null,Rn(v.V),v.g&&(N=v.g,v.g=null,N.abort(),N.dispose())}function pa(v,N){try{var C=v.j;if(C.I!=0&&(C.g==v||va(C.h,v))){if(!v.L&&va(C.h,v)&&C.I==3){try{var q=C.Ba.g.parse(N)}catch{q=null}if(Array.isArray(q)&&q.length==3){var re=q;if(re[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<v.F)Xc(C),co(C);else break e;Pl(C),an(18)}}else C.xa=re[1],0<C.xa-C.K&&re[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=hr(h(C.Va,C),6e3));ga(C.h)<=1&&C.ta&&(C.ta=void 0)}else Ea(C,11)}else if((v.L||C.g==v)&&Xc(C),!M(N))for(re=C.Ba.g.parse(N),N=0;N<re.length;N++){let xt=re[N];const Yt=xt[0];if(!(Yt<=C.K))if(C.K=Yt,xt=xt[1],C.I==2)if(xt[0]=="c"){C.M=xt[1],C.ba=xt[2];const xi=xt[3];xi!=null&&(C.ka=xi,C.j.info("VER="+C.ka));const ja=xt[4];ja!=null&&(C.za=ja,C.j.info("SVER="+C.za));const Ki=xt[5];Ki!=null&&typeof Ki=="number"&&Ki>0&&(q=1.5*Ki,C.O=q,C.j.info("backChannelRequestTimeoutMs_="+q)),q=C;const Wi=v.g;if(Wi){const Il=Wi.g?Wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Il){var ue=q.h;ue.g||Il.indexOf("spdy")==-1&&Il.indexOf("quic")==-1&&Il.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(Md(ue,ue.h),ue.h=null))}if(q.G){const Zc=Wi.g?Wi.g.getResponseHeader("X-HTTP-Session-Id"):null;Zc&&(q.wa=Zc,Nt(q.J,q.G,Zc))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-v.F,C.j.info("Handshake RTT: "+C.T+"ms")),q=C;var je=v;if(q.na=km(q,q.L?q.ba:null,q.W),je.L){zd(q.h,je);var Ze=je,hn=q.O;hn&&(Ze.H=hn),Ze.D&&(ma(Ze),ha(Ze)),q.g=je}else Cm(q);C.i.length>0&&wa(C)}else xt[0]!="stop"&&xt[0]!="close"||Ea(C,7);else C.I==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Ea(C,7):Gd(C):xt[0]!="noop"&&C.l&&C.l.qa(xt),C.A=0)}}pi(4)}catch{}}var wn=class{constructor(v,N){this.g=v,this.map=N}};function kd(v){this.l=v||10,c.PerformanceNavigationTiming?(v=c.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Dd(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function ga(v){return v.h?1:v.g?v.g.size:0}function va(v,N){return v.h?v.h==N:v.g?v.g.has(N):!1}function Md(v,N){v.g?v.g.add(N):v.h=N}function zd(v,N){v.h&&v.h==N?v.h=null:v.g&&v.g.has(N)&&v.g.delete(N)}kd.prototype.cancel=function(){if(this.i=Ld(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Ld(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let N=v.i;for(const C of v.g.values())N=N.concat(C.G);return N}return x(v.i)}var Em=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fc(v,N){if(v){v=v.split("&");for(let C=0;C<v.length;C++){const q=v[C].indexOf("=");let re,ue=null;q>=0?(re=v[C].substring(0,q),ue=v[C].substring(q+1)):re=v[C],N(re,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function Jr(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let N;v instanceof Jr?(this.l=v.l,Fn(this,v.j),this.o=v.o,this.g=v.g,no(this,v.u),this.h=v.h,Ud(this,Am(v.i)),this.m=v.m):v&&(N=String(v).match(Em))?(this.l=!1,Fn(this,N[1]||"",!0),this.o=ya(N[2]||""),this.g=ya(N[3]||"",!0),no(this,N[4]),this.h=ya(N[5]||"",!0),Ud(this,N[6]||"",!0),this.m=ya(N[7]||"")):(this.l=!1,this.i=new io(null,this.l))}Jr.prototype.toString=function(){const v=[];var N=this.j;N&&v.push(Sl(N,Hc,!0),":");var C=this.g;return(C||N=="file")&&(v.push("//"),(N=this.o)&&v.push(Sl(N,Hc,!0),"@"),v.push(es(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&v.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&v.push("/"),v.push(Sl(C,C.charAt(0)=="/"?Vd:jm,!0))),(C=this.i.toString())&&v.push("?",C),(C=this.m)&&v.push("#",Sl(C,Sm)),v.join("")},Jr.prototype.resolve=function(v){const N=En(this);let C=!!v.j;C?Fn(N,v.j):C=!!v.o,C?N.o=v.o:C=!!v.g,C?N.g=v.g:C=v.u!=null;var q=v.h;if(C)no(N,v.u);else if(C=!!v.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var re=N.h.lastIndexOf("/");re!=-1&&(q=N.h.slice(0,re+1)+q)}if(re=q,re==".."||re==".")q="";else if(re.indexOf("./")!=-1||re.indexOf("/.")!=-1){q=re.lastIndexOf("/",0)==0,re=re.split("/");const ue=[];for(let je=0;je<re.length;){const Ze=re[je++];Ze=="."?q&&je==re.length&&ue.push(""):Ze==".."?((ue.length>1||ue.length==1&&ue[0]!="")&&ue.pop(),q&&je==re.length&&ue.push("")):(ue.push(Ze),q=!0)}q=ue.join("/")}else q=re}return C?N.h=q:C=v.i.toString()!=="",C?Ud(N,Am(v.i)):C=!!v.m,C&&(N.m=v.m),N};function En(v){return new Jr(v)}function Fn(v,N,C){v.j=C?ya(N,!0):N,v.j&&(v.j=v.j.replace(/:$/,""))}function no(v,N){if(N){if(N=Number(N),isNaN(N)||N<0)throw Error("Bad port number "+N);v.u=N}else v.u=null}function Ud(v,N,C){N instanceof io?(v.i=N,Kc(v.i,v.l)):(C||(N=Sl(N,ro)),v.i=new io(N,v.l))}function Nt(v,N,C){v.i.set(N,C)}function jl(v){return Nt(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function ya(v,N){return v?N?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Sl(v,N,C){return typeof v=="string"?(v=encodeURI(v).replace(N,zr),C&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function zr(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Hc=/[#\/\?@]/g,jm=/[#\?:]/g,Vd=/[#\?]/g,ro=/[#\?@]/g,Sm=/#/g;function io(v,N){this.h=this.g=null,this.i=v||null,this.j=!!N}function Lr(v){v.g||(v.g=new Map,v.h=0,v.i&&Fc(v.i,function(N,C){v.add(decodeURIComponent(N.replace(/\+/g," ")),C)}))}t=io.prototype,t.add=function(v,N){Lr(this),this.i=null,v=ao(this,v);let C=this.g.get(v);return C||this.g.set(v,C=[]),C.push(N),this.h+=1,this};function Nm(v,N){Lr(v),N=ao(v,N),v.g.has(N)&&(v.i=null,v.h-=v.g.get(N).length,v.g.delete(N))}function qd(v,N){return Lr(v),N=ao(v,N),v.g.has(N)}t.forEach=function(v,N){Lr(this),this.g.forEach(function(C,q){C.forEach(function(re){v.call(N,re,q,this)},this)},this)};function Bd(v,N){Lr(v);let C=[];if(typeof N=="string")qd(v,N)&&(C=C.concat(v.g.get(ao(v,N))));else for(v=Array.from(v.g.values()),N=0;N<v.length;N++)C=C.concat(v[N]);return C}t.set=function(v,N){return Lr(this),this.i=null,v=ao(this,v),qd(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[N]),this.h+=1,this},t.get=function(v,N){return v?(v=Bd(this,v),v.length>0?String(v[0]):N):N};function Gc(v,N,C){Nm(v,N),C.length>0&&(v.i=null,v.g.set(ao(v,N),x(C)),v.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],N=Array.from(this.g.keys());for(let q=0;q<N.length;q++){var C=N[q];const re=es(C);C=Bd(this,C);for(let ue=0;ue<C.length;ue++){let je=re;C[ue]!==""&&(je+="="+es(C[ue])),v.push(je)}}return this.i=v.join("&")};function Am(v){const N=new io;return N.i=v.i,v.g&&(N.g=new Map(v.g),N.h=v.h),N}function ao(v,N){return N=String(N),v.j&&(N=N.toLowerCase()),N}function Kc(v,N){N&&!v.j&&(Lr(v),v.i=null,v.g.forEach(function(C,q){const re=q.toLowerCase();q!=re&&(Nm(this,q),Gc(this,re,C))},v)),v.j=N}function Fi(v,N){const C=new Xr;if(c.Image){const q=new Image;q.onload=p(bi,C,"TestLoadImage: loaded",!0,N,q),q.onerror=p(bi,C,"TestLoadImage: error",!1,N,q),q.onabort=p(bi,C,"TestLoadImage: abort",!1,N,q),q.ontimeout=p(bi,C,"TestLoadImage: timeout",!1,N,q),c.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=v}else N(!1)}function $d(v,N){const C=new Xr,q=new AbortController,re=setTimeout(()=>{q.abort(),bi(C,"TestPingServer: timeout",!1,N)},1e4);fetch(v,{signal:q.signal}).then(ue=>{clearTimeout(re),ue.ok?bi(C,"TestPingServer: ok",!0,N):bi(C,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(re),bi(C,"TestPingServer: error",!1,N)})}function bi(v,N,C,q,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),q(C)}catch{}}function so(){this.g=new Dr}function ba(v){this.i=v.Sb||null,this.h=v.ab||!1}g(ba,qi),ba.prototype.g=function(){return new Nl(this.i,this.h)};function Nl(v,N){Pt.call(this),this.H=v,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Nl,Pt),t=Nl.prototype,t.open=function(v,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=N,this.readyState=1,Hi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const N={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(N.body=v),(this.H||c).fetch(new Request(this.D,N)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,oo(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Hi(this)),this.g&&(this.readyState=3,Hi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wc(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wc(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var N=v.value?v.value:new Uint8Array(0);(N=this.B.decode(N,{stream:!v.done}))&&(this.response=this.responseText+=N)}v.done?oo(this):Hi(this),this.readyState==3&&Wc(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,oo(this))},t.Na=function(v){this.g&&(this.response=v,oo(this))},t.ga=function(){this.g&&oo(this)};function oo(v){v.readyState=4,v.l=null,v.j=null,v.B=null,Hi(v)}t.setRequestHeader=function(v,N){this.A.append(v,N)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],N=this.h.entries();for(var C=N.next();!C.done;)C=C.value,v.push(C[0]+": "+C[1]),C=N.next();return v.join(`\r
`)};function Hi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Nl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function _i(v){let N="";return Ee(v,function(C,q){N+=q,N+=":",N+=C,N+=`\r
`}),N}function Al(v,N,C){e:{for(q in C){var q=!1;break e}q=!0}q||(C=_i(C),typeof v=="string"?C!=null&&es(C):Nt(v,N,C))}function Rt(v){Pt.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Rt,Pt);var _a=/^https?$/i,Fd=["POST","PUT"];t=Rt.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,N,C,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);N=N?N.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rd.g(),this.g.onreadystatechange=y(h(this.Ca,this));try{this.B=!0,this.g.open(N,String(v),!0),this.B=!1}catch(ue){Tl(this,ue);return}if(v=C||"",C=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var re in q)C.set(re,q[re]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const ue of q.keys())C.set(ue,q.get(ue));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(C.keys()).find(ue=>ue.toLowerCase()=="content-type"),re=c.FormData&&v instanceof c.FormData,!(Array.prototype.indexOf.call(Fd,N,void 0)>=0)||q||re||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,je]of C)this.g.setRequestHeader(ue,je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(ue){Tl(this,ue)}};function Tl(v,N){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=N,v.o=5,Hd(v),ts(v)}function Hd(v){v.A||(v.A=!0,It(v,"complete"),It(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,It(this,"complete"),It(this,"abort"),ts(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),Rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Cl(this):this.Xa())},t.Xa=function(){Cl(this)};function Cl(v){if(v.h&&typeof s<"u"){if(v.v&&Gi(v)==4)setTimeout(v.Ca.bind(v),0);else if(It(v,"readystatechange"),Gi(v)==4){v.h=!1;try{const ue=v.ca();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var C;if(!(C=N)){var q;if(q=ue===0){let je=String(v.D).match(Em)[1]||null;!je&&c.self&&c.self.location&&(je=c.self.location.protocol.slice(0,-1)),q=!_a.test(je?je.toLowerCase():"")}C=q}if(C)It(v,"complete"),It(v,"success");else{v.o=6;try{var re=Gi(v)>2?v.g.statusText:""}catch{re=""}v.l=re+" ["+v.ca()+"]",Hd(v)}}finally{ts(v)}}}}function ts(v,N){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const C=v.g;v.g=null,N||It(v,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Gi(v){return v.g?v.g.readyState:0}t.ca=function(){try{return Gi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var N=this.g.responseText;return v&&N.indexOf(v)==0&&(N=N.substring(v.length)),eo(N)}};function tr(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function ns(v){const N={};v=(v.g&&Gi(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<v.length;q++){if(M(v[q]))continue;var C=_m(v[q]);const re=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ue=N[re]||[];N[re]=ue,ue.push(C)}X(N,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xa(v,N,C){return C&&C.internalChannelParams&&C.internalChannelParams[v]||N}function lo(v){this.za=0,this.i=[],this.j=new Xr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xa("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xa("baseRetryDelayMs",5e3,v),this.Za=xa("retryDelaySeedMs",1e4,v),this.Ta=xa("forwardChannelMaxRetries",2,v),this.va=xa("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new kd(v&&v.concurrentRequestLimit),this.Ba=new so,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=lo.prototype,t.ka=8,t.I=1,t.connect=function(v,N,C,q){an(0),this.W=v,this.H=N||{},C&&q!==void 0&&(this.H.OSID=C,this.H.OAID=q),this.F=this.X,this.J=km(this,null,this.W),wa(this)};function Gd(v){if(Qc(v),v.I==3){var N=v.V++,C=En(v.J);if(Nt(C,"SID",v.M),Nt(C,"RID",N),Nt(C,"TYPE","terminate"),Ol(v,C),N=new Bi(v,v.j,N),N.M=2,N.A=jl(En(C)),C=!1,c.navigator&&c.navigator.sendBeacon)try{C=c.navigator.sendBeacon(N.A.toString(),"")}catch{}!C&&c.Image&&(new Image().src=N.A,C=!0),C||(N.g=Dm(N.j,null),N.g.ea(N.A)),N.F=Date.now(),ha(N)}Rm(v)}function co(v){v.g&&(Wd(v),v.g.cancel(),v.g=null)}function Qc(v){co(v),v.v&&(c.clearTimeout(v.v),v.v=null),Xc(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&c.clearTimeout(v.m),v.m=null)}function wa(v){if(!Dd(v.h)&&!v.m){v.m=!0;var N=v.Ea;$||O(),B||($(),B=!0),I.add(N,v),v.D=0}}function Yc(v,N){return ga(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=N.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=hr(h(v.Ea,v,N),Im(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const re=new Bi(this,this.j,v);let ue=this.o;if(this.U&&(ue?(ue=F(ue),ge(ue,this.U)):ue=this.U),this.u!==null||this.R||(re.J=ue,ue=null),this.S)e:{for(var N=0,C=0;C<this.i.length;C++){t:{var q=this.i[C];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(N+=q,N>4096){N=C;break e}if(N===4096||C===this.i.length-1){N=C+1;break e}}N=1e3}else N=1e3;N=Tm(this,re,N),C=En(this.J),Nt(C,"RID",v),Nt(C,"CVER",22),this.G&&Nt(C,"X-HTTP-Session-Id",this.G),Ol(this,C),ue&&(this.R?N="headers="+es(_i(ue))+"&"+N:this.u&&Al(C,this.u,ue)),Md(this.h,re),this.Ra&&Nt(C,"TYPE","init"),this.S?(Nt(C,"$req",N),Nt(C,"SID","null"),re.U=!0,fa(re,C,null)):fa(re,C,N),this.I=2}}else this.I==3&&(v?Kd(this,v):this.i.length==0||Dd(this.h)||Kd(this))};function Kd(v,N){var C;N?C=N.l:C=v.V++;const q=En(v.J);Nt(q,"SID",v.M),Nt(q,"RID",C),Nt(q,"AID",v.K),Ol(v,q),v.u&&v.o&&Al(q,v.u,v.o),C=new Bi(v,v.j,C,v.D+1),v.u===null&&(C.J=v.o),N&&(v.i=N.G.concat(v.i)),N=Tm(v,C,1e3),C.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),Md(v.h,C),fa(C,q,N)}function Ol(v,N){v.H&&Ee(v.H,function(C,q){Nt(N,q,C)}),v.l&&Ee({},function(C,q){Nt(N,q,C)})}function Tm(v,N,C){C=Math.min(v.i.length,C);const q=v.l?h(v.l.Ka,v.l,v):null;e:{var re=v.i;let Ze=-1;for(;;){const hn=["count="+C];Ze==-1?C>0?(Ze=re[0].g,hn.push("ofs="+Ze)):Ze=0:hn.push("ofs="+Ze);let xt=!0;for(let Yt=0;Yt<C;Yt++){var ue=re[Yt].g;const xi=re[Yt].map;if(ue-=Ze,ue<0)Ze=Math.max(0,re[Yt].g-100),xt=!1;else try{ue="req"+ue+"_"||"";try{var je=xi instanceof Map?xi:Object.entries(xi);for(const[ja,Ki]of je){let Wi=Ki;d(Ki)&&(Wi=kr(Ki)),hn.push(ue+ja+"="+encodeURIComponent(Wi))}}catch(ja){throw hn.push(ue+"type="+encodeURIComponent("_badmap")),ja}}catch{q&&q(xi)}}if(xt){je=hn.join("&");break e}}je=void 0}return v=v.i.splice(0,C),N.G=v,je}function Cm(v){if(!v.g&&!v.v){v.Y=1;var N=v.Da;$||O(),B||($(),B=!0),I.add(N,v),v.A=0}}function Pl(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=hr(h(v.Da,v),Im(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,Om(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=hr(h(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,an(10),co(this),Om(this))};function Wd(v){v.B!=null&&(c.clearTimeout(v.B),v.B=null)}function Om(v){v.g=new Bi(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var N=En(v.na);Nt(N,"RID","rpc"),Nt(N,"SID",v.M),Nt(N,"AID",v.K),Nt(N,"CI",v.F?"0":"1"),!v.F&&v.ia&&Nt(N,"TO",v.ia),Nt(N,"TYPE","xmlhttp"),Ol(v,N),v.u&&v.o&&Al(N,v.u,v.o),v.O&&(v.g.H=v.O);var C=v.g;v=v.ba,C.M=1,C.A=jl(En(N)),C.u=null,C.R=!0,Bc(C,v)}t.Va=function(){this.C!=null&&(this.C=null,co(this),Pl(this),an(19))};function Xc(v){v.C!=null&&(c.clearTimeout(v.C),v.C=null)}function Pm(v,N){var C=null;if(v.g==N){Xc(v),Wd(v),v.g=null;var q=2}else if(va(v.h,N))C=N.G,zd(v.h,N),q=1;else return;if(v.I!=0){if(N.o)if(q==1){C=N.u?N.u.length:0,N=Date.now()-N.F;var re=v.D;q=to(),It(q,new gi(q,C)),wa(v)}else Cm(v);else if(re=N.m,re==3||re==0&&N.X>0||!(q==1&&Yc(v,N)||q==2&&Pl(v)))switch(C&&C.length>0&&(N=v.h,N.i=N.i.concat(C)),re){case 1:Ea(v,5);break;case 4:Ea(v,10);break;case 3:Ea(v,6);break;default:Ea(v,2)}}}function Im(v,N){let C=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(C*=2),C*N}function Ea(v,N){if(v.j.info("Error code "+N),N==2){var C=h(v.bb,v),q=v.Ua;const re=!q;q=new Jr(q||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Fn(q,"https"),jl(q),re?Fi(q.toString(),C):$d(q.toString(),C)}else an(2);v.I=0,v.l&&v.l.pa(N),Rm(v),Qc(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),an(2)):(this.j.info("Failed to ping google.com"),an(1))};function Rm(v){if(v.I=0,v.ja=[],v.l){const N=Ld(v.h);(N.length!=0||v.i.length!=0)&&(j(v.ja,N),j(v.ja,v.i),v.h.i.length=0,x(v.i),v.i.length=0),v.l.oa()}}function km(v,N,C){var q=C instanceof Jr?En(C):new Jr(C);if(q.g!="")N&&(q.g=N+"."+q.g),no(q,q.u);else{var re=c.location;q=re.protocol,N=N?N+"."+re.hostname:re.hostname,re=+re.port;const ue=new Jr(null);q&&Fn(ue,q),N&&(ue.g=N),re&&no(ue,re),C&&(ue.h=C),q=ue}return C=v.G,N=v.wa,C&&N&&Nt(q,C,N),Nt(q,"VER",v.ka),Ol(v,q),q}function Dm(v,N,C){if(N&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return N=v.Aa&&!v.ma?new Rt(new ba({ab:C})):new Rt(v.ma),N.Fa(v.L),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mm(){}t=Mm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function uo(){}uo.prototype.g=function(v,N){return new Er(v,N)};function Er(v,N){Pt.call(this),this.g=new lo(N),this.l=v,this.h=N&&N.messageUrlParams||null,v=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(v?v["X-WebChannel-Content-Type"]=N.messageContentType:v={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.sa&&(v?v["X-WebChannel-Client-Profile"]=N.sa:v={"X-WebChannel-Client-Profile":N.sa}),this.g.U=v,(v=N&&N.Qb)&&!M(v)&&(this.g.u=v),this.A=N&&N.supportsCrossDomainXhr||!1,this.v=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!M(N)&&(this.g.G=N,v=this.h,v!==null&&N in v&&(v=this.h,N in v&&delete v[N])),this.j=new rs(this)}g(Er,Pt),Er.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Er.prototype.close=function(){Gd(this.g)},Er.prototype.o=function(v){var N=this.g;if(typeof v=="string"){var C={};C.__data__=v,v=C}else this.v&&(C={},C.__data__=kr(v),v=C);N.i.push(new wn(N.Ya++,v)),N.I==3&&wa(N)},Er.prototype.N=function(){this.g.l=null,delete this.j,Gd(this.g),delete this.g,Er.Z.N.call(this)};function zm(v){St.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var N=v.__sm__;if(N){e:{for(const C in N){v=C;break e}v=void 0}(this.i=v)&&(v=this.i,N=N!==null&&v in N?N[v]:void 0),this.data=N}else this.data=v}g(zm,St);function Lm(){Mr.call(this),this.status=1}g(Lm,Mr);function rs(v){this.g=v}g(rs,Mm),rs.prototype.ra=function(){It(this.g,"a")},rs.prototype.qa=function(v){It(this.g,new zm(v))},rs.prototype.pa=function(v){It(this.g,new Lm)},rs.prototype.oa=function(){It(this.g,"b")},uo.prototype.createWebChannel=uo.prototype.g,Er.prototype.send=Er.prototype.o,Er.prototype.open=Er.prototype.m,Er.prototype.close=Er.prototype.close,qM=function(){return new uo},VM=function(){return to()},UM=en,M1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vi.NO_ERROR=0,vi.TIMEOUT=8,vi.HTTP_ERROR=6,Eg=vi,Id.COMPLETE="complete",LM=Id,Vc.EventType=rn,rn.OPEN="a",rn.CLOSE="b",rn.ERROR="c",rn.MESSAGE="d",Pt.prototype.listen=Pt.prototype.J,Wf=Vc,Rt.prototype.listenOnce=Rt.prototype.K,Rt.prototype.getLastError=Rt.prototype.Ha,Rt.prototype.getLastErrorCode=Rt.prototype.ya,Rt.prototype.getStatus=Rt.prototype.ca,Rt.prototype.getResponseJson=Rt.prototype.La,Rt.prototype.getResponseText=Rt.prototype.la,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Fa,zM=Rt}).apply(typeof $p<"u"?$p:typeof self<"u"?self:typeof window<"u"?window:{});let vr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vr.UNAUTHENTICATED=new vr(null),vr.GOOGLE_CREDENTIALS=new vr("google-credentials-uid"),vr.FIRST_PARTY=new vr("first-party-uid"),vr.MOCK_USER=new vr("mock-user");let yd="12.8.0";function eF(t){yd=t}const gc=new mE("@firebase/firestore");function ku(){return gc.logLevel}function Te(t,...e){if(gc.logLevel<=ct.DEBUG){const n=e.map(SE);gc.debug(`Firestore (${yd}): ${t}`,...n)}}function ks(t,...e){if(gc.logLevel<=ct.ERROR){const n=e.map(SE);gc.error(`Firestore (${yd}): ${t}`,...n)}}function Ju(t,...e){if(gc.logLevel<=ct.WARN){const n=e.map(SE);gc.warn(`Firestore (${yd}): ${t}`,...n)}}function SE(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,BM(t,r,n)}function BM(t,e,n){let r=`FIRESTORE (${yd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ks(r),new Error(r)}function jt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||BM(e,i,r)}function Ye(t,e){return t}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Za{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class $M{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(vr.UNAUTHENTICATED)))}shutdown(){}}class nF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class rF{constructor(e){this.t=e,this.currentUser=vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){jt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new Cs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Cs,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},d=f=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Cs)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(jt(typeof r.accessToken=="string",31837,{l:r}),new $M(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new vr(e)}}class iF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=vr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class aF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new iF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(vr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class h2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){jt(this.o===void 0,3512);const r=s=>{s.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.m;return this.m=s.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new h2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new h2(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function oF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class NE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=oF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ut(t,e){return t<e?-1:t>e?1:0}function z1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return T_(i)===T_(s)?ut(i,s):T_(i)?1:-1}return ut(t.length,e.length)}const lF=55296,cF=57343;function T_(t){const e=t.charCodeAt(0);return e>=lF&&e<=cF}function ed(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const m2="__name__";class Ia{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ia.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ia?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ia.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ut(e.length,n.length)}static compareSegments(e,n){const r=Ia.isNumericId(e),i=Ia.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ia.extractNumericId(e).compare(Ia.extractNumericId(n)):z1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xo.fromString(e.substring(4,e.length-2))}}class $t extends Ia{construct(e,n,r){return new $t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new $t(n)}static emptyPath(){return new $t([])}}const uF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cr extends Ia{construct(e,n,r){return new cr(e,n,r)}static isValidIdentifier(e){return uF.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===m2}static keyField(){return new cr([m2])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Se(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new Se(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Se(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else d==="`"?(c=!c,i++):d!=="."||c?(r+=d,i++):(s(),i++)}if(s(),c)throw new Se(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cr(n)}static emptyPath(){return new cr([])}}class Le{constructor(e){this.path=e}static fromPath(e){return new Le($t.fromString(e))}static fromName(e){return new Le($t.fromString(e).popFirst(5))}static empty(){return new Le($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new $t(e.slice()))}}function FM(t,e,n){if(!n)throw new Se(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dF(t,e,n,r){if(e===!0&&r===!0)throw new Se(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function p2(t){if(!Le.isDocumentKey(t))throw new Se(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function g2(t){if(Le.isDocumentKey(t))throw new Se(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function HM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ay(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ge(12329,{type:typeof t})}function Di(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ay(t);throw new Se(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function fF(t,e){if(e<=0)throw new Se(me.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function On(t,e){const n={typeString:t};return e&&(n.value=e),n}function Kh(t,e){if(!HM(t))throw new Se(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(i&&typeof c!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&c!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Se(me.INVALID_ARGUMENT,n);return!0}const v2=-62135596800,y2=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*y2);return new it(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<v2)throw new Se(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/y2}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kh(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-v2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:On("string",it._jsonSchemaVersion),seconds:On("number"),nanoseconds:On("number")};class We{static fromTimestamp(e){return new We(e)}static min(){return new We(new it(0,0))}static max(){return new We(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ph=-1;function hF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=We.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new nl(i,Le.empty(),e)}function mF(t){return new nl(t.readTime,t.key,ph)}class nl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new nl(We.min(),Le.empty(),ph)}static max(){return new nl(We.max(),Le.empty(),ph)}}function pF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Le.comparator(t.documentKey,e.documentKey),n!==0?n:ut(t.largestBatchId,e.largestBatchId))}const gF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function bd(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==gF)throw t;Te("LocalStore","Unexpectedly lost primary lease")}class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _e(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof _e?n:_e.resolve(n)}catch(n){return _e.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):_e.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):_e.reject(n)}static resolve(e){return new _e(((n,r)=>{n(e)}))}static reject(e){return new _e(((n,r)=>{r(e)}))}static waitFor(e){return new _e(((n,r)=>{let i=0,s=0,c=!1;e.forEach((d=>{++i,d.next((()=>{++s,c&&s===i&&n()}),(f=>r(f)))})),c=!0,s===i&&n()}))}static or(e){let n=_e.resolve(!1);for(const r of e)n=n.next((i=>i?_e.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new _e(((r,i)=>{const s=e.length,c=new Array(s);let d=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((p=>{c[h]=p,++d,d===s&&r(c)}),(p=>i(p)))}}))}static doWhile(e,n){return new _e(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function yF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _d(t){return t.name==="IndexedDbTransactionError"}class sy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sy.ce=-1;const AE=-1;function oy(t){return t==null}function Gg(t){return t===0&&1/t==-1/0}function bF(t){return typeof t=="number"&&Number.isInteger(t)&&!Gg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const GM="";function _F(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=b2(e)),e=xF(t.get(n),e);return b2(e)}function xF(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case GM:n+="";break;default:n+=s}}return n}function b2(t){return t+GM+""}function _2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class tn{constructor(e,n){this.comparator=e,this.root=n||lr.EMPTY}insert(e,n){return new tn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lr.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fp(this.root,e,this.comparator,!0)}}class Fp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??lr.RED,this.left=i??lr.EMPTY,this.right=s??lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new lr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return lr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}lr.EMPTY=null,lr.RED=!0,lr.BLACK=!1;lr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new lr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ln{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new x2(this.data.getIterator())}getIteratorFrom(e){return new x2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ln(this.comparator);return n.data=e,n}}class x2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ci{constructor(e){this.fields=e,e.sort(cr.comparator)}static empty(){return new ci([])}unionWith(e){let n=new Ln(cr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ed(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class WM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new WM("Invalid base64 string: "+s):s}})(e);return new dr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let c=0;c<i.length;++c)s+=String.fromCharCode(i[c]);return s})(e);return new dr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dr.EMPTY_BYTE_STRING=new dr("");const wF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rl(t){if(jt(!!t,39018),typeof t=="string"){let e=0;const n=wF.exec(t);if(jt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vn(t.seconds),nanos:vn(t.nanos)}}function vn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function il(t){return typeof t=="string"?dr.fromBase64String(t):dr.fromUint8Array(t)}const QM="server_timestamp",YM="__type__",XM="__previous_value__",ZM="__local_write_time__";function TE(t){return(t?.mapValue?.fields||{})[YM]?.stringValue===QM}function ly(t){const e=t.mapValue.fields[XM];return TE(e)?ly(e):e}function gh(t){const e=rl(t.mapValue.fields[ZM].timestampValue);return new it(e.seconds,e.nanos)}class EF{constructor(e,n,r,i,s,c,d,f,h,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p,this.apiKey=g}}const Kg="(default)";class vh{constructor(e,n){this.projectId=e,this.database=n||Kg}static empty(){return new vh("","")}get isDefaultDatabase(){return this.database===Kg}isEqual(e){return e instanceof vh&&e.projectId===this.projectId&&e.database===this.database}}function jF(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Se(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vh(t.options.projectId,e)}const JM="__type__",SF="__max__",Hp={mapValue:{}},ez="__vector__",Wg="value";function al(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?TE(t)?4:AF(t)?9007199254740991:NF(t)?10:11:Ge(28295,{value:t})}function Ha(t,e){if(t===e)return!0;const n=al(t);if(n!==al(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gh(t).isEqual(gh(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const c=rl(i.timestampValue),d=rl(s.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return il(i.bytesValue).isEqual(il(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return vn(i.geoPointValue.latitude)===vn(s.geoPointValue.latitude)&&vn(i.geoPointValue.longitude)===vn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return vn(i.integerValue)===vn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const c=vn(i.doubleValue),d=vn(s.doubleValue);return c===d?Gg(c)===Gg(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return ed(t.arrayValue.values||[],e.arrayValue.values||[],Ha);case 10:case 11:return(function(i,s){const c=i.mapValue.fields||{},d=s.mapValue.fields||{};if(_2(c)!==_2(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Ha(c[f],d[f])))return!1;return!0})(t,e);default:return Ge(52216,{left:t})}}function yh(t,e){return(t.values||[]).find((n=>Ha(n,e)))!==void 0}function td(t,e){if(t===e)return 0;const n=al(t),r=al(e);if(n!==r)return ut(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ut(t.booleanValue,e.booleanValue);case 2:return(function(s,c){const d=vn(s.integerValue||s.doubleValue),f=vn(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return w2(t.timestampValue,e.timestampValue);case 4:return w2(gh(t),gh(e));case 5:return z1(t.stringValue,e.stringValue);case 6:return(function(s,c){const d=il(s),f=il(c);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,c){const d=s.split("/"),f=c.split("/");for(let h=0;h<d.length&&h<f.length;h++){const p=ut(d[h],f[h]);if(p!==0)return p}return ut(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,c){const d=ut(vn(s.latitude),vn(c.latitude));return d!==0?d:ut(vn(s.longitude),vn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return E2(t.arrayValue,e.arrayValue);case 10:return(function(s,c){const d=s.fields||{},f=c.fields||{},h=d[Wg]?.arrayValue,p=f[Wg]?.arrayValue,g=ut(h?.values?.length||0,p?.values?.length||0);return g!==0?g:E2(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,c){if(s===Hp.mapValue&&c===Hp.mapValue)return 0;if(s===Hp.mapValue)return 1;if(c===Hp.mapValue)return-1;const d=s.fields||{},f=Object.keys(d),h=c.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const y=z1(f[g],p[g]);if(y!==0)return y;const x=td(d[f[g]],h[p[g]]);if(x!==0)return x}return ut(f.length,p.length)})(t.mapValue,e.mapValue);default:throw Ge(23264,{he:n})}}function w2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ut(t,e);const n=rl(t),r=rl(e),i=ut(n.seconds,r.seconds);return i!==0?i:ut(n.nanos,r.nanos)}function E2(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=td(n[i],r[i]);if(s)return s}return ut(n.length,r.length)}function nd(t){return L1(t)}function L1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=rl(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return il(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Le.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=L1(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const c of r)s?s=!1:i+=",",i+=`${c}:${L1(n.fields[c])}`;return i+"}"})(t.mapValue):Ge(61005,{value:t})}function jg(t){switch(al(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ly(t);return e?16+jg(e):16;case 5:return 2*t.stringValue.length;case 6:return il(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+jg(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return pl(r.fields,((s,c)=>{i+=s.length+jg(c)})),i})(t.mapValue);default:throw Ge(13486,{value:t})}}function j2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function U1(t){return!!t&&"integerValue"in t}function CE(t){return!!t&&"arrayValue"in t}function S2(t){return!!t&&"nullValue"in t}function N2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sg(t){return!!t&&"mapValue"in t}function NF(t){return(t?.mapValue?.fields||{})[JM]?.stringValue===ez}function ih(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return pl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ih(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ih(t.arrayValue.values[n]);return e}return{...t}}function AF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===SF}class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ih(n)}setAll(e){let n=cr.emptyPath(),r={},i=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=d.popLast()}c?r[d.lastSegment()]=ih(c):i.push(d.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Sg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ha(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){pl(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Hr(ih(this.value))}}function tz(t){const e=[];return pl(t.fields,((n,r)=>{const i=new cr([n]);if(Sg(r)){const s=tz(r.mapValue).fields;if(s.length===0)e.push(i);else for(const c of s)e.push(i.child(c))}else e.push(i)})),new ci(e)}class yr{constructor(e,n,r,i,s,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=c,this.documentState=d}static newInvalidDocument(e){return new yr(e,0,We.min(),We.min(),We.min(),Hr.empty(),0)}static newFoundDocument(e,n,r,i){return new yr(e,1,n,We.min(),r,i,0)}static newNoDocument(e,n){return new yr(e,2,n,We.min(),We.min(),Hr.empty(),0)}static newUnknownDocument(e,n){return new yr(e,3,n,We.min(),We.min(),Hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qg{constructor(e,n){this.position=e,this.inclusive=n}}function A2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],c=t.position[i];if(s.field.isKeyField()?r=Le.comparator(Le.fromName(c.referenceValue),n.key):r=td(c,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function T2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ha(t.position[n],e.position[n]))return!1;return!0}class bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function TF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class nz{}class Cn extends nz{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new OF(e,n,r):n==="array-contains"?new RF(e,r):n==="in"?new kF(e,r):n==="not-in"?new DF(e,r):n==="array-contains-any"?new MF(e,r):new Cn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new PF(e,r):new IF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(td(n,this.value)):n!==null&&al(this.value)===al(n)&&this.matchesComparison(td(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sa extends nz{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new sa(e,n)}matches(e){return rz(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rz(t){return t.op==="and"}function iz(t){return CF(t)&&rz(t)}function CF(t){for(const e of t.filters)if(e instanceof sa)return!1;return!0}function V1(t){if(t instanceof Cn)return t.field.canonicalString()+t.op.toString()+nd(t.value);if(iz(t))return t.filters.map((e=>V1(e))).join(",");{const e=t.filters.map((n=>V1(n))).join(",");return`${t.op}(${e})`}}function az(t,e){return t instanceof Cn?(function(r,i){return i instanceof Cn&&r.op===i.op&&r.field.isEqual(i.field)&&Ha(r.value,i.value)})(t,e):t instanceof sa?(function(r,i){return i instanceof sa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,c,d)=>s&&az(c,i.filters[d])),!0):!1})(t,e):void Ge(19439)}function sz(t){return t instanceof Cn?(function(n){return`${n.field.canonicalString()} ${n.op} ${nd(n.value)}`})(t):t instanceof sa?(function(n){return n.op.toString()+" {"+n.getFilters().map(sz).join(" ,")+"}"})(t):"Filter"}class OF extends Cn{constructor(e,n,r){super(e,n,r),this.key=Le.fromName(r.referenceValue)}matches(e){const n=Le.comparator(e.key,this.key);return this.matchesComparison(n)}}class PF extends Cn{constructor(e,n){super(e,"in",n),this.keys=oz("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class IF extends Cn{constructor(e,n){super(e,"not-in",n),this.keys=oz("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function oz(t,e){return(e.arrayValue?.values||[]).map((n=>Le.fromName(n.referenceValue)))}class RF extends Cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return CE(n)&&yh(n.arrayValue,this.value)}}class kF extends Cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yh(this.value.arrayValue,n)}}class DF extends Cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(yh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yh(this.value.arrayValue,n)}}class MF extends Cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!CE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>yh(this.value.arrayValue,r)))}}class zF{constructor(e,n=null,r=[],i=[],s=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=c,this.endAt=d,this.Te=null}}function C2(t,e=null,n=[],r=[],i=null,s=null,c=null){return new zF(t,e,n,r,i,s,c)}function OE(t){const e=Ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>V1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),oy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>nd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>nd(r))).join(",")),e.Te=n}return e.Te}function PE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!az(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!T2(t.startAt,e.startAt)&&T2(t.endAt,e.endAt)}function q1(t){return Le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class xd{constructor(e,n=null,r=[],i=[],s=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function LF(t,e,n,r,i,s,c,d){return new xd(t,e,n,r,i,s,c,d)}function IE(t){return new xd(t)}function O2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function UF(t){return Le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function lz(t){return t.collectionGroup!==null}function ah(t){const e=Ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ln(cr.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(d=d.add(h.field))}))})),d})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new bh(s,r))})),n.has(cr.keyField().canonicalString())||e.Ie.push(new bh(cr.keyField(),r))}return e.Ie}function qa(t){const e=Ye(t);return e.Ee||(e.Ee=VF(e,ah(t))),e.Ee}function VF(t,e){if(t.limitType==="F")return C2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new bh(i.field,s)}));const n=t.endAt?new Qg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qg(t.startAt.position,t.startAt.inclusive):null;return C2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function B1(t,e){const n=t.filters.concat([e]);return new xd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qF(t,e){const n=t.explicitOrderBy.concat([e]);return new xd(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Yg(t,e,n){return new xd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cy(t,e){return PE(qa(t),qa(e))&&t.limitType===e.limitType}function cz(t){return`${OE(qa(t))}|lt:${t.limitType}`}function Du(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>sz(i))).join(", ")}]`),oy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>nd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>nd(i))).join(",")),`Target(${r})`})(qa(t))}; limitType=${t.limitType})`}function uy(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Le.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of ah(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(c,d,f){const h=A2(c,d,f);return c.inclusive?h<=0:h<0})(r.startAt,ah(r),i)||r.endAt&&!(function(c,d,f){const h=A2(c,d,f);return c.inclusive?h>=0:h>0})(r.endAt,ah(r),i))})(t,e)}function BF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uz(t){return(e,n)=>{let r=!1;for(const i of ah(t)){const s=$F(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function $F(t,e,n){const r=t.field.isKeyField()?Le.comparator(e.key,n.key):(function(s,c,d){const f=c.data.field(s),h=d.data.field(s);return f!==null&&h!==null?td(f,h):Ge(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:t.dir})}}class Ic{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pl(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return KM(this.inner)}size(){return this.innerSize}}const FF=new tn(Le.comparator);function Ds(){return FF}const dz=new tn(Le.comparator);function Qf(...t){let e=dz;for(const n of t)e=e.insert(n.key,n);return e}function fz(t){let e=dz;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function tc(){return sh()}function hz(){return sh()}function sh(){return new Ic((t=>t.toString()),((t,e)=>t.isEqual(e)))}const HF=new tn(Le.comparator),GF=new Ln(Le.comparator);function dt(...t){let e=GF;for(const n of t)e=e.add(n);return e}const KF=new Ln(ut);function WF(){return KF}function RE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gg(e)?"-0":e}}function mz(t){return{integerValue:""+t}}function pz(t,e){return bF(e)?mz(e):RE(t,e)}class dy{constructor(){this._=void 0}}function QF(t,e,n){return t instanceof _h?(function(i,s){const c={fields:{[YM]:{stringValue:QM},[ZM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&TE(s)&&(s=ly(s)),s&&(c.fields[XM]=s),{mapValue:c}})(n,e):t instanceof xh?vz(t,e):t instanceof wh?yz(t,e):(function(i,s){const c=gz(i,s),d=P2(c)+P2(i.Ae);return U1(c)&&U1(i.Ae)?mz(d):RE(i.serializer,d)})(t,e)}function YF(t,e,n){return t instanceof xh?vz(t,e):t instanceof wh?yz(t,e):n}function gz(t,e){return t instanceof Eh?(function(r){return U1(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class _h extends dy{}class xh extends dy{constructor(e){super(),this.elements=e}}function vz(t,e){const n=bz(e);for(const r of t.elements)n.some((i=>Ha(i,r)))||n.push(r);return{arrayValue:{values:n}}}class wh extends dy{constructor(e){super(),this.elements=e}}function yz(t,e){let n=bz(e);for(const r of t.elements)n=n.filter((i=>!Ha(i,r)));return{arrayValue:{values:n}}}class Eh extends dy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function P2(t){return vn(t.integerValue||t.doubleValue)}function bz(t){return CE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class _z{constructor(e,n){this.field=e,this.transform=n}}function XF(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof xh&&i instanceof xh||r instanceof wh&&i instanceof wh?ed(r.elements,i.elements,Ha):r instanceof Eh&&i instanceof Eh?Ha(r.Ae,i.Ae):r instanceof _h&&i instanceof _h})(t.transform,e.transform)}class ZF{constructor(e,n){this.version=e,this.transformResults=n}}class Tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ng(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fy{}function xz(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hy(t.key,Tr.none()):new Wh(t.key,t.data,Tr.none());{const n=t.data,r=Hr.empty();let i=new Ln(cr.comparator);for(let s of e.fields)if(!i.has(s)){let c=n.field(s);c===null&&s.length>1&&(s=s.popLast(),c=n.field(s)),c===null?r.delete(s):r.set(s,c),i=i.add(s)}return new gl(t.key,r,new ci(i.toArray()),Tr.none())}}function JF(t,e,n){t instanceof Wh?(function(i,s,c){const d=i.value.clone(),f=R2(i.fieldTransforms,s,c.transformResults);d.setAll(f),s.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof gl?(function(i,s,c){if(!Ng(i.precondition,s))return void s.convertToUnknownDocument(c.version);const d=R2(i.fieldTransforms,s,c.transformResults),f=s.data;f.setAll(wz(i)),f.setAll(d),s.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,c){s.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function oh(t,e,n,r){return t instanceof Wh?(function(s,c,d,f){if(!Ng(s.precondition,c))return d;const h=s.value.clone(),p=k2(s.fieldTransforms,f,c);return h.setAll(p),c.convertToFoundDocument(c.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof gl?(function(s,c,d,f){if(!Ng(s.precondition,c))return d;const h=k2(s.fieldTransforms,f,c),p=c.data;return p.setAll(wz(s)),p.setAll(h),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),d===null?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,c,d){return Ng(s.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function eH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=gz(r.transform,i||null);s!=null&&(n===null&&(n=Hr.empty()),n.set(r.field,s))}return n||null}function I2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ed(r,i,((s,c)=>XF(s,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wh extends fy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gl extends fy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function wz(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function R2(t,e,n){const r=new Map;jt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],c=s.transform,d=e.data.field(s.field);r.set(s.field,YF(c,d,n[i]))}return r}function k2(t,e,n){const r=new Map;for(const i of t){const s=i.transform,c=n.data.field(i.field);r.set(i.field,QF(s,c,e))}return r}class hy extends fy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tH extends fy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&JF(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=oh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=oh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hz();return this.mutations.forEach((i=>{const s=e.get(i.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=n.has(i.key)?null:d;const f=xz(c,d);f!==null&&r.set(i.key,f),c.isValidDocument()||c.convertToNoDocument(We.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),dt())}isEqual(e){return this.batchId===e.batchId&&ed(this.mutations,e.mutations,((n,r)=>I2(n,r)))&&ed(this.baseMutations,e.baseMutations,((n,r)=>I2(n,r)))}}class kE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){jt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return HF})();const s=e.mutations;for(let c=0;c<s.length;c++)i=i.insert(s[c].key,r[c].version);return new kE(e,n,r,i)}}class rH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class iH{constructor(e,n){this.count=e,this.unchangedNames=n}}var Tn,vt;function aH(t){switch(t){case me.OK:return Ge(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Ge(15467,{code:t})}}function Ez(t){if(t===void 0)return ks("GRPC error has no .code"),me.UNKNOWN;switch(t){case Tn.OK:return me.OK;case Tn.CANCELLED:return me.CANCELLED;case Tn.UNKNOWN:return me.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return me.INTERNAL;case Tn.UNAVAILABLE:return me.UNAVAILABLE;case Tn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Tn.NOT_FOUND:return me.NOT_FOUND;case Tn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Tn.ABORTED:return me.ABORTED;case Tn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Tn.DATA_LOSS:return me.DATA_LOSS;default:return Ge(39323,{code:t})}}(vt=Tn||(Tn={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";function sH(){return new TextEncoder}const oH=new Xo([4294967295,4294967295],0);function D2(t){const e=sH().encode(t),n=new MM;return n.update(e),new Uint8Array(n.digest())}function M2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xo([n,r],0),new Xo([i,s],0)]}class DE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Yf(`Invalid padding: ${n}`);if(r<0)throw new Yf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Yf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Xo.fromNumber(r)));return i.compare(oH)===1&&(i=new Xo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=D2(e),[r,i]=M2(n);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,i,s);if(!this.we(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new DE(s,i,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=D2(e),[r,i]=M2(n);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,i,s);this.be(c)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Yf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class my{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Qh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new my(We.min(),i,new tn(ut),Ds(),dt())}}class Qh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qh(r,n,dt(),dt(),dt())}}class Ag{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class jz{constructor(e,n){this.targetId=e,this.Ce=n}}class Sz{constructor(e,n,r=dr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class z2{constructor(){this.ve=0,this.Fe=L2(),this.Me=dr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=dt(),n=dt(),r=dt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ge(38017,{changeType:s})}})),new Qh(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=L2()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class lH{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ds(),this.He=Gp(),this.Je=Gp(),this.Ze=new tn(ut)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(q1(s))if(r===0){const c=new Le(s.path);this.et(n,c,yr.newNoDocument(c,We.min()))}else jt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(e),f=d?this.ct(d,e,c):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let c,d;try{c=il(r).toUint8Array()}catch(f){if(f instanceof WM)return Ju("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new DE(c,i,s)}catch(f){return Ju(f instanceof Yf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;e.mightContain(d)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,c)=>{const d=this.ot(c);if(d){if(s.current&&q1(d.target)){const f=new Le(d.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,yr.newNoDocument(f,e))}s.Be&&(n.set(c,s.ke()),s.Ke())}}));let r=dt();this.Je.forEach(((s,c)=>{let d=!0;c.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(s))})),this.je.forEach(((s,c)=>c.setReadTime(e)));const i=new my(e,n,this.Ze,this.je,r);return this.je=Ds(),this.He=Gp(),this.Je=Gp(),this.Ze=new tn(ut),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new z2,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ln(ut),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ln(ut),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new z2),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gp(){return new tn(Le.comparator)}function L2(){return new tn(Le.comparator)}const cH={asc:"ASCENDING",desc:"DESCENDING"},uH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dH={and:"AND",or:"OR"};class fH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $1(t,e){return t.useProto3Json||oy(e)?e:{value:e}}function Xg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nz(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hH(t,e){return Xg(t,e.toTimestamp())}function Ba(t){return jt(!!t,49232),We.fromTimestamp((function(n){const r=rl(n);return new it(r.seconds,r.nanos)})(t))}function ME(t,e){return F1(t,e).canonicalString()}function F1(t,e){const n=(function(i){return new $t(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Az(t){const e=$t.fromString(t);return jt(Iz(e),10190,{key:e.toString()}),e}function H1(t,e){return ME(t.databaseId,e.path)}function C_(t,e){const n=Az(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Le(Cz(n))}function Tz(t,e){return ME(t.databaseId,e)}function mH(t){const e=Az(t);return e.length===4?$t.emptyPath():Cz(e)}function G1(t){return new $t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Cz(t){return jt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function U2(t,e,n){return{name:H1(t,e),fields:n.value.mapValue.fields}}function pH(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ge(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(jt(p===void 0||typeof p=="string",58123),dr.fromBase64String(p||"")):(jt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),dr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(h){const p=h.code===void 0?me.UNKNOWN:Ez(h.code);return new Se(p,h.message||"")})(c);n=new Sz(r,i,s,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=C_(t,r.document.name),s=Ba(r.document.updateTime),c=r.document.createTime?Ba(r.document.createTime):We.min(),d=new Hr({mapValue:{fields:r.document.fields}}),f=yr.newFoundDocument(i,s,c,d),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Ag(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=C_(t,r.document),s=r.readTime?Ba(r.readTime):We.min(),c=yr.newNoDocument(i,s),d=r.removedTargetIds||[];n=new Ag([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=C_(t,r.document),s=r.removedTargetIds||[];n=new Ag([],s,i,null)}else{if(!("filter"in e))return Ge(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,c=new iH(i,s),d=r.targetId;n=new jz(d,c)}}return n}function gH(t,e){let n;if(e instanceof Wh)n={update:U2(t,e.key,e.value)};else if(e instanceof hy)n={delete:H1(t,e.key)};else if(e instanceof gl)n={update:U2(t,e.key,e.data),updateMask:SH(e.fieldMask)};else{if(!(e instanceof tH))return Ge(16599,{dt:e.type});n={verify:H1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,c){const d=c.transform;if(d instanceof _h)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof xh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof wh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Eh)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ge(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:hH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ge(27497)})(t,e.precondition)),n}function vH(t,e){return t&&t.length>0?(jt(e!==void 0,14353),t.map((n=>(function(i,s){let c=i.updateTime?Ba(i.updateTime):Ba(s);return c.isEqual(We.min())&&(c=Ba(s)),new ZF(c,i.transformResults||[])})(n,e)))):[]}function yH(t,e){return{documents:[Tz(t,e.path)]}}function bH(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Tz(t,i);const s=(function(h){if(h.length!==0)return Pz(sa.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const c=(function(h){if(h.length!==0)return h.map((p=>(function(y){return{field:Mu(y.field),direction:wH(y.dir)}})(p)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=$1(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function _H(t){let e=mH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){jt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const y=Oz(g);return y instanceof sa&&iz(y)?y.getFilters():[y]})(n.where));let c=[];n.orderBy&&(c=(function(g){return g.map((y=>(function(j){return new bh(zu(j.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(y)))})(n.orderBy));let d=null;n.limit&&(d=(function(g){let y;return y=typeof g=="object"?g.value:g,oy(y)?null:y})(n.limit));let f=null;n.startAt&&(f=(function(g){const y=!!g.before,x=g.values||[];return new Qg(x,y)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const y=!g.before,x=g.values||[];return new Qg(x,y)})(n.endAt)),LF(e,i,c,s,d,"F",f,h)}function xH(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Oz(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zu(n.unaryFilter.field);return Cn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zu(n.unaryFilter.field);return Cn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=zu(n.unaryFilter.field);return Cn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=zu(n.unaryFilter.field);return Cn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Cn.create(zu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return sa.create(n.compositeFilter.filters.map((r=>Oz(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(n.compositeFilter.op))})(t):Ge(30097,{filter:t})}function wH(t){return cH[t]}function EH(t){return uH[t]}function jH(t){return dH[t]}function Mu(t){return{fieldPath:t.canonicalString()}}function zu(t){return cr.fromServerFormat(t.fieldPath)}function Pz(t){return t instanceof Cn?(function(n){if(n.op==="=="){if(N2(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NAN"}};if(S2(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(N2(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NOT_NAN"}};if(S2(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mu(n.field),op:EH(n.op),value:n.value}}})(t):t instanceof sa?(function(n){const r=n.getFilters().map((i=>Pz(i)));return r.length===1?r[0]:{compositeFilter:{op:jH(n.op),filters:r}}})(t):Ge(54877,{filter:t})}function SH(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Iz(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Rz(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Go{constructor(e,n,r,i,s=We.min(),c=We.min(),d=dr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class NH{constructor(e){this.yt=e}}function AH(t){const e=_H({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yg(e,e.limit,"L"):e}class TH{constructor(){this.Sn=new CH}addToCollectionParentIndex(e,n){return this.Sn.add(n),_e.resolve()}getCollectionParents(e,n){return _e.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return _e.resolve()}deleteFieldIndex(e,n){return _e.resolve()}deleteAllFieldIndexes(e){return _e.resolve()}createTargetIndexes(e,n){return _e.resolve()}getDocumentsMatchingTarget(e,n){return _e.resolve(null)}getIndexType(e,n){return _e.resolve(0)}getFieldIndexes(e,n){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,n){return _e.resolve(nl.min())}getMinOffsetFromCollectionGroup(e,n){return _e.resolve(nl.min())}updateCollectionGroup(e,n,r){return _e.resolve()}updateIndexEntries(e,n){return _e.resolve()}}class CH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ln($t.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ln($t.comparator)).toArray()}}const V2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kz=41943040;class Fr{static withCacheSize(e){return new Fr(e,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Fr.DEFAULT_COLLECTION_PERCENTILE=10,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fr.DEFAULT=new Fr(kz,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fr.DISABLED=new Fr(-1,0,0);class rd{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new rd(0)}static ar(){return new rd(-1)}}const q2="LruGarbageCollector",OH=1048576;function B2([t,e],[n,r]){const i=ut(t,n);return i===0?ut(e,r):i}class PH{constructor(e){this.Pr=e,this.buffer=new Ln(B2),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();B2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class IH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Te(q2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_d(n)?Te(q2,"Ignoring IndexedDB error during garbage collection: ",n):await bd(n)}await this.Ar(3e5)}))}}class RH{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return _e.resolve(sy.ce);const r=new PH(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(V2)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V2):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,c,d,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,c=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,d=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),ku()<=ct.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${i} in `+(d-c)+`ms
	Removed ${s} targets in `+(f-d)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function kH(t,e){return new RH(t,e)}class DH{constructor(){this.changes=new Ic((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?_e.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class MH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class zH{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&oh(r.mutation,i,ci.empty(),it.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,dt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=dt()){const i=tc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let c=Qf();return s.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=tc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,dt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,i){let s=Ds();const c=sh(),d=(function(){return sh()})();return n.forEach(((f,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof gl)?s=s.insert(h.key,h):p!==void 0?(c.set(h.key,p.mutation.getFieldMask()),oh(p.mutation,h,p.mutation.getFieldMask(),it.now())):c.set(h.key,ci.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,p)=>c.set(h,p))),n.forEach(((h,p)=>d.set(h,new MH(p,c.get(h)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=sh();let i=new tn(((c,d)=>c-d)),s=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||ci.empty();p=d.applyToLocalView(h,p),r.set(f,p);const g=(i.get(d.batchId)||dt()).add(f);i=i.insert(d.batchId,g)}))})).next((()=>{const c=[],d=i.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),h=f.key,p=f.value,g=hz();p.forEach((y=>{if(!s.has(y)){const x=xz(n.get(y),r.get(y));x!==null&&g.set(y,x),s=s.add(y)}})),c.push(this.documentOverlayCache.saveOverlays(e,h,g))}return _e.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return UF(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lz(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const c=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):_e.resolve(tc());let d=ph,f=s;return c.next((h=>_e.forEach(h,((p,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),s.get(p)?_e.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{f=f.insert(p,y)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,dt()))).next((p=>({batchId:d,changes:fz(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Le(n)).next((r=>{let i=Qf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let c=Qf();return this.indexManager.getCollectionParents(e,s).next((d=>_e.forEach(d,(f=>{const h=(function(g,y){return new xd(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((g,y)=>{c=c.insert(g,y)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(s=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((c=>{s.forEach(((f,h)=>{const p=h.getKey();c.get(p)===null&&(c=c.insert(p,yr.newInvalidDocument(p)))}));let d=Qf();return c.forEach(((f,h)=>{const p=s.get(f);p!==void 0&&oh(p.mutation,h,ci.empty(),it.now()),uy(n,h)&&(d=d.insert(f,h))})),d}))}}class LH{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return _e.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ba(i.createTime)}})(n)),_e.resolve()}getNamedQuery(e,n){return _e.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:AH(i.bundledQuery),readTime:Ba(i.readTime)}})(n)),_e.resolve()}}class UH{constructor(){this.overlays=new tn(Le.comparator),this.Lr=new Map}getOverlay(e,n){return _e.resolve(this.overlays.get(n))}getOverlays(e,n){const r=tc();return _e.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.bt(e,n,s)})),_e.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Lr.delete(r)),_e.resolve()}getOverlaysForCollection(e,n,r){const i=tc(),s=n.length+1,c=new Le(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return _e.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new tn(((h,p)=>h-p));const c=this.overlays.getIterator();for(;c.hasNext();){const h=c.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=tc(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const d=tc(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>d.set(h,p))),!(d.size()>=i)););return _e.resolve(d)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new rH(n,r));let s=this.Lr.get(n);s===void 0&&(s=dt(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}class VH{constructor(){this.sessionToken=dr.EMPTY_BYTE_STRING}getSessionToken(e){return _e.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,_e.resolve()}}class zE{constructor(){this.kr=new Ln(Wn.Kr),this.qr=new Ln(Wn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Wn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Wn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Le(new $t([])),r=new Wn(n,e),i=new Wn(n,e+1),s=[];return this.qr.forEachInRange([r,i],(c=>{this.Wr(c),s.push(c.key)})),s}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Le(new $t([])),r=new Wn(n,e),i=new Wn(n,e+1);let s=dt();return this.qr.forEachInRange([r,i],(c=>{s=s.add(c.key)})),s}containsKey(e){const n=new Wn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Le.comparator(e.key,n.key)||ut(e.Hr,n.Hr)}static Ur(e,n){return ut(e.Hr,n.Hr)||Le.comparator(e.key,n.key)}}class qH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ln(Wn.Kr)}checkEmpty(e){return _e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new nH(s,n,r,i);this.mutationQueue.push(c);for(const d of i)this.Jr=this.Jr.add(new Wn(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return _e.resolve(c)}lookupMutationBatch(e,n){return _e.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return _e.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(this.mutationQueue.length===0?AE:this.Yn-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wn(n,0),i=new Wn(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],(c=>{const d=this.Zr(c.Hr);s.push(d)})),_e.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ln(ut);return n.forEach((i=>{const s=new Wn(i,0),c=new Wn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,c],(d=>{r=r.add(d.Hr)}))})),_e.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Le.isDocumentKey(s)||(s=s.child(""));const c=new Wn(new Le(s),0);let d=new Ln(ut);return this.Jr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(d=d.add(f.Hr)),!0)}),c),_e.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){jt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return _e.forEach(n.mutations,(i=>{const s=new Wn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Wn(n,0),i=this.Jr.firstAfterOrEqual(r);return _e.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,_e.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class BH{constructor(e){this.ti=e,this.docs=(function(){return new tn(Le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,c=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _e.resolve(r?r.document.mutableCopy():yr.newInvalidDocument(n))}getEntries(e,n){let r=Ds();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yr.newInvalidDocument(i))})),_e.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ds();const c=n.path,d=new Le(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!c.isPrefixOf(h.path))break;h.path.length>c.length+1||pF(mF(p),r)<=0||(i.has(p.key)||uy(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return _e.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ge(9500)}ni(e,n){return _e.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new $H(this)}getSize(e){return _e.resolve(this.size)}}class $H extends DH{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),_e.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class FH{constructor(e){this.persistence=e,this.ri=new Ic((n=>OE(n)),PE),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.ii=0,this.si=new zE,this.targetCount=0,this.oi=rd._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),_e.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new rd(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,_e.resolve()}updateTargetData(e,n){return this.lr(n),_e.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.ri.delete(c),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),_e.waitFor(s).next((()=>i))}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return _e.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),_e.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((c=>{s.push(i.markPotentiallyOrphaned(e,c))})),_e.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),_e.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return _e.resolve(r)}containsKey(e,n){return _e.resolve(this.si.containsKey(n))}}class Dz{constructor(e,n){this._i={},this.overlays={},this.ai=new sy(0),this.ui=!1,this.ui=!0,this.ci=new VH,this.referenceDelegate=e(this),this.li=new FH(this),this.indexManager=new TH,this.remoteDocumentCache=(function(i){return new BH(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new NH(n),this.Pi=new LH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new qH(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new HH(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((s=>this.referenceDelegate.Ii(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ei(e,n){return _e.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class HH extends vF{constructor(e){super(),this.currentSequenceNumber=e}}class LE{constructor(e){this.persistence=e,this.Ri=new zE,this.Ai=null}static Vi(e){return new LE(e)}get di(){if(this.Ai)return this.Ai;throw Ge(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),_e.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),_e.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),_e.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.di.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.di,(r=>{const i=Le.fromPath(r);return this.mi(e,i).next((s=>{s||n.removeEntry(i,We.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return _e.or([()=>_e.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Zg{constructor(e,n){this.persistence=e,this.fi=new Ic((r=>_F(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=kH(this,n)}static Vi(e,n){return new Zg(e,n)}Ti(){}Ii(e){return _e.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return _e.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((s=>s?_e.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,(c=>this.wr(e,c,n).next((d=>{d||(r++,s.removeEntry(c,We.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),_e.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),_e.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),_e.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),_e.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jg(e.data.value)),n}wr(e,n,r){return _e.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return _e.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class UE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=dt(),i=dt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new UE(e,n.fromCache,r,i)}}class GH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class KH{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return b8()?8:yF(_r())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next((c=>{s.result=c})).next((()=>{if(!s.result)return this.ps(e,n,i,r).next((c=>{s.result=c}))})).next((()=>{if(s.result)return;const c=new GH;return this.ys(e,n,c).next((d=>{if(s.result=d,this.As)return this.ws(e,n,c,d.size)}))})).next((()=>s.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(ku()<=ct.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Du(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),_e.resolve()):(ku()<=ct.DEBUG&&Te("QueryEngine","Query:",Du(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(ku()<=ct.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Du(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qa(n))):_e.resolve())}gs(e,n){if(O2(n))return _e.resolve(null);let r=qa(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Yg(n,null,"F"),r=qa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const c=dt(...s);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.bs(n,d);return this.Ss(n,h,c,f.readTime)?this.gs(e,Yg(n,null,"F")):this.Ds(e,h,n,f)}))))})))))}ps(e,n,r,i){return O2(n)||i.isEqual(We.min())?_e.resolve(null):this.fs.getDocuments(e,r).next((s=>{const c=this.bs(n,s);return this.Ss(n,c,r,i)?_e.resolve(null):(ku()<=ct.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Du(n)),this.Ds(e,c,n,hF(i,ph)).next((d=>d)))}))}bs(e,n){let r=new Ln(uz(e));return n.forEach(((i,s)=>{uy(e,s)&&(r=r.add(s))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return ku()<=ct.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Du(n)),this.fs.getDocumentsMatchingQuery(e,n,nl.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((c=>{s=s.insert(c.key,c)})),s)))}}const VE="LocalStore",WH=3e8;class QH{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new tn(ut),this.Fs=new Ic((s=>OE(s)),PE),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zH(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function YH(t,e,n,r){return new QH(t,e,n,r)}async function Mz(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const c=[],d=[];let f=dt();for(const h of i){c.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of s){d.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ns:h,removedBatchIds:c,addedBatchIds:d})))}))}))}function XH(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,f,h,p){const g=h.batch,y=g.keys();let x=_e.resolve();return y.forEach((j=>{x=x.next((()=>p.getEntry(f,j))).next((E=>{const S=h.docVersions.get(j);jt(S!==null,48541),E.version.compareTo(S)<0&&(g.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),p.addEntry(E)))}))})),x.next((()=>d.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=dt();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(f=f.add(d.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function zz(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function ZH(t,e){const n=Ye(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const d=[];e.targetChanges.forEach(((p,g)=>{const y=i.get(g);if(!y)return;d.push(n.li.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.li.addMatchingKeys(s,p.addedDocuments,g))));let x=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?x=x.withResumeToken(dr.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,r)),i=i.insert(g,x),(function(E,S,T){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=WH?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0})(y,x,p)&&d.push(n.li.updateTargetData(s,x))}));let f=Ds(),h=dt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),d.push(JH(s,c,e.documentUpdates).next((p=>{f=p.Bs,h=p.Ls}))),!r.isEqual(We.min())){const p=n.li.getLastRemoteSnapshotVersion(s).next((g=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r)));d.push(p)}return _e.waitFor(d).next((()=>c.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.vs=i,s)))}function JH(t,e,n){let r=dt(),i=dt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let c=Ds();return n.forEach(((d,f)=>{const h=s.get(d);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual(We.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):Te(VE,"Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",f.version)})),{Bs:c,Ls:i}}))}function eG(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=AE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function tG(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((s=>s?(i=s,_e.resolve(i)):n.li.allocateTargetId(r).next((c=>(i=new Go(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function K1(t,e,n){const r=Ye(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!_d(c))throw c;Te(VE,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function $2(t,e,n){const r=Ye(t);let i=We.min(),s=dt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,h,p){const g=Ye(f),y=g.Fs.get(p);return y!==void 0?_e.resolve(g.vs.get(y)):g.li.getTargetData(h,p)})(r,c,qa(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,d.targetId).next((f=>{s=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,n?i:We.min(),n?s:dt()))).next((d=>(nG(r,BF(e),d),{documents:d,ks:s})))))}function nG(t,e,n){let r=t.Ms.get(e)||We.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Ms.set(e,r)}class F2{constructor(){this.activeTargetIds=WF()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rG{constructor(){this.vo=new F2,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new F2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class iG{Mo(e){}shutdown(){}}const H2="ConnectivityMonitor";class G2{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Te(H2,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Te(H2,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Kp=null;function W1(){return Kp===null?Kp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kp++,"0x"+Kp.toString(16)}const O_="RestConnection",aG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class sG{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Kg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const c=W1(),d=this.Qo(e,n.toUriEncodedString());Te(O_,`Sending RPC '${e}' ${c}:`,d,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,i,s);const{host:h}=new URL(d),p=hl(h);return this.zo(e,d,f,r,p).then((g=>(Te(O_,`Received RPC '${e}' ${c}: `,g),g)),(g=>{throw Ju(O_,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",r),g}))}jo(e,n,r,i,s,c){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}Qo(e,n){const r=aG[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class oG{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const pr="WebChannelConnection",kf=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Gu extends sG{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Gu.c_){const e=VM();kf(e,UM.STAT_EVENT,(n=>{n.stat===M1.PROXY?Te(pr,"STAT_EVENT: detected buffering proxy"):n.stat===M1.NOPROXY&&Te(pr,"STAT_EVENT: detected no buffering proxy")})),Gu.c_=!0}}zo(e,n,r,i,s){const c=W1();return new Promise(((d,f)=>{const h=new zM;h.setWithCredentials(!0),h.listenOnce(LM.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Eg.NO_ERROR:const g=h.getResponseJson();Te(pr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(g)),d(g);break;case Eg.TIMEOUT:Te(pr,`RPC '${e}' ${c} timed out`),f(new Se(me.DEADLINE_EXCEEDED,"Request time out"));break;case Eg.HTTP_ERROR:const y=h.getStatus();if(Te(pr,`RPC '${e}' ${c} failed with status:`,y,"response text:",h.getResponseText()),y>0){let x=h.getResponseJson();Array.isArray(x)&&(x=x[0]);const j=x?.error;if(j&&j.status&&j.message){const E=(function(T){const D=T.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(D)>=0?D:me.UNKNOWN})(j.status);f(new Se(E,j.message))}else f(new Se(me.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Se(me.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:c,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Te(pr,`RPC '${e}' ${c} completed.`)}}));const p=JSON.stringify(i);Te(pr,`RPC '${e}' ${c} sending request:`,i),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=W1(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const h=s.join("");Te(pr,`Creating RPC '${e}' stream ${i}: ${h}`,d);const p=c.createWebChannel(h,d);this.I_(p);let g=!1,y=!1;const x=new oG({Ho:j=>{y?Te(pr,`Not sending because RPC '${e}' stream ${i} is closed:`,j):(g||(Te(pr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),Te(pr,`RPC '${e}' stream ${i} sending:`,j),p.send(j))},Jo:()=>p.close()});return kf(p,Wf.EventType.OPEN,(()=>{y||(Te(pr,`RPC '${e}' stream ${i} transport opened.`),x.i_())})),kf(p,Wf.EventType.CLOSE,(()=>{y||(y=!0,Te(pr,`RPC '${e}' stream ${i} transport closed`),x.o_(),this.E_(p))})),kf(p,Wf.EventType.ERROR,(j=>{y||(y=!0,Ju(pr,`RPC '${e}' stream ${i} transport errored. Name:`,j.name,"Message:",j.message),x.o_(new Se(me.UNAVAILABLE,"The operation could not be completed")))})),kf(p,Wf.EventType.MESSAGE,(j=>{if(!y){const E=j.data[0];jt(!!E,16349);const S=E,T=S?.error||S[0]?.error;if(T){Te(pr,`RPC '${e}' stream ${i} received error:`,T);const D=T.status;let R=(function(B){const I=Tn[B];if(I!==void 0)return Ez(I)})(D),P=T.message;R===void 0&&(R=me.INTERNAL,P="Unknown error status: "+D+" with message "+T.message),y=!0,x.o_(new Se(R,P)),p.close()}else Te(pr,`RPC '${e}' stream ${i} received:`,E),x.__(E)}})),Gu.u_(),setTimeout((()=>{x.s_()}),0),x}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return qM()}}function lG(t){return new Gu(t)}function P_(){return typeof document<"u"?document:null}function py(t){return new fH(t,!0)}Gu.c_=!1;class Lz{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const K2="PersistentStream";class Uz{constructor(e,n,r,i,s,c,d,f){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Lz(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(ks(n.toString()),ks("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Se(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(K2,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Te(K2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cG extends Uz{constructor(e,n,r,i,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=pH(this.serializer,e),r=(function(s){if(!("targetChange"in s))return We.min();const c=s.targetChange;return c.targetIds&&c.targetIds.length?We.min():c.readTime?Ba(c.readTime):We.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=G1(this.serializer),n.addTarget=(function(s,c){let d;const f=c.target;if(d=q1(f)?{documents:yH(s,f)}:{query:bH(s,f).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Nz(s,c.resumeToken);const h=$1(s,c.expectedCount);h!==null&&(d.expectedCount=h)}else if(c.snapshotVersion.compareTo(We.min())>0){d.readTime=Xg(s,c.snapshotVersion.toTimestamp());const h=$1(s,c.expectedCount);h!==null&&(d.expectedCount=h)}return d})(this.serializer,e);const r=xH(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=G1(this.serializer),n.removeTarget=e,this.K_(n)}}class uG extends Uz{constructor(e,n,r,i,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=vH(e.writeResults,e.commitTime),r=Ba(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=G1(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>gH(this.serializer,r)))};this.K_(n)}}class dG{}class fG extends dG{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Se(me.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,c])=>this.connection.Wo(e,F1(n,r),i,s,c))).catch((s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Se(me.UNKNOWN,s.toString())}))}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,F1(n,r),i,c,d,s))).catch((c=>{throw c.name==="FirebaseError"?(c.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(me.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function hG(t,e,n,r){return new fG(t,e,n,r)}class mG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ks(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const vc="RemoteStore";class pG{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{Rc(this)&&(Te(vc,"Restarting streams for network reachability change."),await(async function(f){const h=Ye(f);h.Ea.add(4),await Yh(h),h.Va.set("Unknown"),h.Ea.delete(4),await gy(h)})(this))}))})),this.Va=new mG(r,i)}}async function gy(t){if(Rc(t))for(const e of t.Ra)await e(!0)}async function Yh(t){for(const e of t.Ra)await e(!1)}function Vz(t,e){const n=Ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),FE(n)?$E(n):wd(n).O_()&&BE(n,e))}function qE(t,e){const n=Ye(t),r=wd(n);n.Ia.delete(e),r.O_()&&qz(n,e),n.Ia.size===0&&(r.O_()?r.L_():Rc(n)&&n.Va.set("Unknown"))}function BE(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wd(t).Z_(e)}function qz(t,e){t.da.$e(e),wd(t).X_(e)}function $E(t){t.da=new lH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),wd(t).start(),t.Va.ua()}function FE(t){return Rc(t)&&!wd(t).x_()&&t.Ia.size>0}function Rc(t){return Ye(t).Ea.size===0}function Bz(t){t.da=void 0}async function gG(t){t.Va.set("Online")}async function vG(t){t.Ia.forEach(((e,n)=>{BE(t,e)}))}async function yG(t,e){Bz(t),FE(t)?(t.Va.ha(e),$E(t)):t.Va.set("Unknown")}async function bG(t,e,n){if(t.Va.set("Online"),e instanceof Sz&&e.state===2&&e.cause)try{await(async function(i,s){const c=s.cause;for(const d of s.targetIds)i.Ia.has(d)&&(await i.remoteSyncer.rejectListen(d,c),i.Ia.delete(d),i.da.removeTarget(d))})(t,e)}catch(r){Te(vc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jg(t,r)}else if(e instanceof Ag?t.da.Xe(e):e instanceof jz?t.da.st(e):t.da.tt(e),!n.isEqual(We.min()))try{const r=await zz(t.localStore);n.compareTo(r)>=0&&await(function(s,c){const d=s.da.Tt(c);return d.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,h)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(dr.EMPTY_BYTE_STRING,p.snapshotVersion)),qz(s,f);const g=new Go(p.target,f,h,p.sequenceNumber);BE(s,g)})),s.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Te(vc,"Failed to raise snapshot:",r),await Jg(t,r)}}async function Jg(t,e,n){if(!_d(e))throw e;t.Ea.add(1),await Yh(t),t.Va.set("Offline"),n||(n=()=>zz(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te(vc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gy(t)}))}function $z(t,e){return e().catch((n=>Jg(t,n,e)))}async function vy(t){const e=Ye(t),n=sl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:AE;for(;_G(e);)try{const i=await eG(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,xG(e,i)}catch(i){await Jg(e,i)}Fz(e)&&Hz(e)}function _G(t){return Rc(t)&&t.Ta.length<10}function xG(t,e){t.Ta.push(e);const n=sl(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Fz(t){return Rc(t)&&!sl(t).x_()&&t.Ta.length>0}function Hz(t){sl(t).start()}async function wG(t){sl(t).ra()}async function EG(t){const e=sl(t);for(const n of t.Ta)e.ea(n.mutations)}async function jG(t,e,n){const r=t.Ta.shift(),i=kE.from(r,e,n);await $z(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await vy(t)}async function SG(t,e){e&&sl(t).Y_&&await(async function(r,i){if((function(c){return aH(c)&&c!==me.ABORTED})(i.code)){const s=r.Ta.shift();sl(r).B_(),await $z(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await vy(r)}})(t,e),Fz(t)&&Hz(t)}async function W2(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),Te(vc,"RemoteStore received new credentials");const r=Rc(n);n.Ea.add(3),await Yh(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gy(n)}async function NG(t,e){const n=Ye(t);e?(n.Ea.delete(2),await gy(n)):e||(n.Ea.add(2),await Yh(n),n.Va.set("Unknown"))}function wd(t){return t.ma||(t.ma=(function(n,r,i){const s=Ye(n);return s.sa(),new cG(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:gG.bind(null,t),Yo:vG.bind(null,t),t_:yG.bind(null,t),J_:bG.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),FE(t)?$E(t):t.Va.set("Unknown")):(await t.ma.stop(),Bz(t))}))),t.ma}function sl(t){return t.fa||(t.fa=(function(n,r,i){const s=Ye(n);return s.sa(),new uG(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:wG.bind(null,t),t_:SG.bind(null,t),ta:EG.bind(null,t),na:jG.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await vy(t)):(await t.fa.stop(),t.Ta.length>0&&(Te(vc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class HE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const c=Date.now()+r,d=new HE(e,n,c,i,s);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function GE(t,e){if(ks("AsyncQueue",`${e}: ${t}`),_d(t))return new Se(me.UNAVAILABLE,`${e}: ${t}`);throw t}class Ku{static emptySet(e){return new Ku(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Le.comparator(n.key,r.key):(n,r)=>Le.comparator(n.key,r.key),this.keyedMap=Qf(),this.sortedSet=new tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ku)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ku;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Q2{constructor(){this.ga=new tn(Le.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ge(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class id{constructor(e,n,r,i,s,c,d,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new id(e,n,Ku.emptySet(n),c,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class AG{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class TG{constructor(){this.queries=Y2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ye(n),s=i.queries;i.queries=Y2(),s.forEach(((c,d)=>{for(const f of d.ba)f.onError(r)}))})(this,new Se(me.ABORTED,"Firestore shutting down"))}}function Y2(){return new Ic((t=>cz(t)),cy)}async function Gz(t,e){const n=Ye(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new AG,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const d=GE(c,`Initialization of query '${Du(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&KE(n)}async function Kz(t,e){const n=Ye(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const c=s.ba.indexOf(e);c>=0&&(s.ba.splice(c,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function CG(t,e){const n=Ye(t);let r=!1;for(const i of e){const s=i.query,c=n.queries.get(s);if(c){for(const d of c.ba)d.Fa(i)&&(r=!0);c.wa=i}}r&&KE(n)}function OG(t,e,n){const r=Ye(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function KE(t){t.Ca.forEach((e=>{e.next()}))}var Q1,X2;(X2=Q1||(Q1={})).Ma="default",X2.Cache="cache";class Wz{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new id(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=id.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Q1.Cache}}class Qz{constructor(e){this.key=e}}class Yz{constructor(e){this.key=e}}class PG{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=dt(),this.mutatedKeys=dt(),this.eu=uz(e),this.tu=new Ku(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new Q2,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,c=i,d=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const y=i.get(p),x=uy(this.query,g)?g:null,j=!!y&&this.mutatedKeys.has(y.key),E=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let S=!1;y&&x?y.data.isEqual(x.data)?j!==E&&(r.track({type:3,doc:x}),S=!0):this.su(y,x)||(r.track({type:2,doc:x}),S=!0,(f&&this.eu(x,f)>0||h&&this.eu(x,h)<0)&&(d=!0)):!y&&x?(r.track({type:0,doc:x}),S=!0):y&&!x&&(r.track({type:1,doc:y}),S=!0,(f||h)&&(d=!0)),S&&(x?(c=c.add(x),s=E?s.add(p):s.delete(p)):(c=c.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:c,iu:r,Ss:d,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((p,g)=>(function(x,j){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Vt:S})}};return E(x)-E(j)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const d=n&&!i?this._u():[],f=this.Ya.size===0&&this.current&&!i?1:0,h=f!==this.Xa;return this.Xa=f,c.length!==0||h?{snapshot:new id(this.query,e.tu,s,c,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Q2,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=dt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new Yz(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new Qz(r))})),n}cu(e){this.Za=e.ks,this.Ya=dt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return id.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const WE="SyncEngine";class IG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RG{constructor(e){this.key=e,this.hu=!1}}class kG{constructor(e,n,r,i,s,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ic((d=>cz(d)),cy),this.Iu=new Map,this.Eu=new Set,this.Ru=new tn(Le.comparator),this.Au=new Map,this.Vu=new zE,this.du={},this.mu=new Map,this.fu=rd.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DG(t,e,n=!0){const r=n4(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Xz(r,e,n,!0),i}async function MG(t,e){const n=n4(t);await Xz(n,e,!0,!1)}async function Xz(t,e,n,r){const i=await tG(t.localStore,qa(e)),s=i.targetId,c=t.sharedClientState.addLocalQueryTarget(s,n);let d;return r&&(d=await zG(t,e,s,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&Vz(t.remoteStore,i),d}async function zG(t,e,n,r,i){t.pu=(g,y,x)=>(async function(E,S,T,D){let R=S.view.ru(T);R.Ss&&(R=await $2(E.localStore,S.query,!1).then((({documents:I})=>S.view.ru(I,R))));const P=D&&D.targetChanges.get(S.targetId),$=D&&D.targetMismatches.get(S.targetId)!=null,B=S.view.applyChanges(R,E.isPrimaryClient,P,$);return J2(E,S.targetId,B.au),B.snapshot})(t,g,y,x);const s=await $2(t.localStore,e,!0),c=new PG(e,s.ks),d=c.ru(s.documents),f=Qh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=c.applyChanges(d,t.isPrimaryClient,f);J2(t,n,h.au);const p=new IG(e,n,c);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function LG(t,e,n){const r=Ye(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((c=>!cy(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await K1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qE(r.remoteStore,i.targetId),Y1(r,i.targetId)})).catch(bd)):(Y1(r,i.targetId),await K1(r.localStore,i.targetId,!0))}async function UG(t,e){const n=Ye(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qE(n.remoteStore,r.targetId))}async function VG(t,e,n){const r=KG(t);try{const i=await(function(c,d){const f=Ye(c),h=it.now(),p=d.reduce(((x,j)=>x.add(j.key)),dt());let g,y;return f.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let j=Ds(),E=dt();return f.xs.getEntries(x,p).next((S=>{j=S,j.forEach(((T,D)=>{D.isValidDocument()||(E=E.add(T))}))})).next((()=>f.localDocuments.getOverlayedDocuments(x,j))).next((S=>{g=S;const T=[];for(const D of d){const R=eH(D,g.get(D.key).overlayedDocument);R!=null&&T.push(new gl(D.key,R,tz(R.value.mapValue),Tr.exists(!0)))}return f.mutationQueue.addMutationBatch(x,h,T,d)})).next((S=>{y=S;const T=S.applyToLocalDocumentSet(g,E);return f.documentOverlayCache.saveOverlays(x,S.batchId,T)}))})).then((()=>({batchId:y.batchId,changes:fz(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,d,f){let h=c.du[c.currentUser.toKey()];h||(h=new tn(ut)),h=h.insert(d,f),c.du[c.currentUser.toKey()]=h})(r,i.batchId,n),await Xh(r,i.changes),await vy(r.remoteStore)}catch(i){const s=GE(i,"Failed to persist write");n.reject(s)}}async function Zz(t,e){const n=Ye(t);try{const r=await ZH(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const c=n.Au.get(s);c&&(jt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.hu=!0:i.modifiedDocuments.size>0?jt(c.hu,14607):i.removedDocuments.size>0&&(jt(c.hu,42227),c.hu=!1))})),await Xh(n,r,e)}catch(r){await bd(r)}}function Z2(t,e,n){const r=Ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,c)=>{const d=c.view.va(e);d.snapshot&&i.push(d.snapshot)})),(function(c,d){const f=Ye(c);f.onlineState=d;let h=!1;f.queries.forEach(((p,g)=>{for(const y of g.ba)y.va(d)&&(h=!0)})),h&&KE(f)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qG(t,e,n){const r=Ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let c=new tn(Le.comparator);c=c.insert(s,yr.newNoDocument(s,We.min()));const d=dt().add(s),f=new my(We.min(),new Map,new tn(ut),c,d);await Zz(r,f),r.Ru=r.Ru.remove(s),r.Au.delete(e),QE(r)}else await K1(r.localStore,e,!1).then((()=>Y1(r,e,n))).catch(bd)}async function BG(t,e){const n=Ye(t),r=e.batch.batchId;try{const i=await XH(n.localStore,e);e4(n,r,null),Jz(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xh(n,i)}catch(i){await bd(i)}}async function $G(t,e,n){const r=Ye(t);try{const i=await(function(c,d){const f=Ye(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,d).next((g=>(jt(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(h,g)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);e4(r,e,n),Jz(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xh(r,i)}catch(i){await bd(i)}}function Jz(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function e4(t,e,n){const r=Ye(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function Y1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||t4(t,r)}))}function t4(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(qE(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),QE(t))}function J2(t,e,n){for(const r of n)r instanceof Qz?(t.Vu.addReference(r.key,e),FG(t,r)):r instanceof Yz?(Te(WE,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||t4(t,r.key)):Ge(19791,{wu:r})}function FG(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Te(WE,"New document in limbo: "+n),t.Eu.add(r),QE(t))}function QE(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Le($t.fromString(e)),r=t.fu.next();t.Au.set(r,new RG(n)),t.Ru=t.Ru.insert(n,r),Vz(t.remoteStore,new Go(qa(IE(n.path)),r,"TargetPurposeLimboResolution",sy.ce))}}async function Xh(t,e,n){const r=Ye(t),i=[],s=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{c.push(r.pu(f,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(h){i.push(h);const p=UE.Es(f.targetId,h);s.push(p)}})))})),await Promise.all(c),r.Pu.J_(i),await(async function(f,h){const p=Ye(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>_e.forEach(h,(y=>_e.forEach(y.Ts,(x=>p.persistence.referenceDelegate.addReference(g,y.targetId,x))).next((()=>_e.forEach(y.Is,(x=>p.persistence.referenceDelegate.removeReference(g,y.targetId,x)))))))))}catch(g){if(!_d(g))throw g;Te(VE,"Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const x=p.vs.get(y),j=x.snapshotVersion,E=x.withLastLimboFreeSnapshotVersion(j);p.vs=p.vs.insert(y,E)}}})(r.localStore,s))}async function HG(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){Te(WE,"User change. New user:",e.toKey());const r=await Mz(n.localStore,e);n.currentUser=e,(function(s,c){s.mu.forEach((d=>{d.forEach((f=>{f.reject(new Se(me.CANCELLED,c))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xh(n,r.Ns)}}function GG(t,e){const n=Ye(t),r=n.Au.get(e);if(r&&r.hu)return dt().add(r.key);{let i=dt();const s=n.Iu.get(e);if(!s)return i;for(const c of s){const d=n.Tu.get(c);i=i.unionWith(d.view.nu)}return i}}function n4(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qG.bind(null,e),e.Pu.J_=CG.bind(null,e.eventManager),e.Pu.yu=OG.bind(null,e.eventManager),e}function KG(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$G.bind(null,e),e}class ev{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=py(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return YH(this.persistence,new KH,e.initialUser,this.serializer)}Cu(e){return new Dz(LE.Vi,this.serializer)}Du(e){return new rG}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ev.provider={build:()=>new ev};class WG extends ev{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){jt(this.persistence.referenceDelegate instanceof Zg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new IH(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Fr.withCacheSize(this.cacheSizeBytes):Fr.DEFAULT;return new Dz((r=>Zg.Vi(r,n)),this.serializer)}}class X1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Z2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HG.bind(null,this.syncEngine),await NG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TG})()}createDatastore(e){const n=py(e.databaseInfo.databaseId),r=lG(e.databaseInfo);return hG(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,c,d){return new pG(r,i,s,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>Z2(this.syncEngine,n,0)),(function(){return G2.v()?new G2:new iG})())}createSyncEngine(e,n){return(function(i,s,c,d,f,h,p){const g=new kG(i,s,c,d,f,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ye(n);Te(vc,"RemoteStore shutting down."),r.Ea.add(5),await Yh(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}X1.provider={build:()=>new X1};class r4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ks("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ol="FirestoreClient";class QG{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=vr.UNAUTHENTICATED,this.clientId=NE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async c=>{Te(ol,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Te(ol,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=GE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function I_(t,e){t.asyncQueue.verifyOperationInProgress(),Te(ol,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Mz(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function eO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YG(t);Te(ol,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>W2(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>W2(e.remoteStore,i))),t._onlineComponents=e}async function YG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(ol,"Using user provided OfflineComponentProvider");try{await I_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Ju("Error using user provided cache. Falling back to memory cache: "+n),await I_(t,new ev)}}else Te(ol,"Using default OfflineComponentProvider"),await I_(t,new WG(void 0));return t._offlineComponents}async function i4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(ol,"Using user provided OnlineComponentProvider"),await eO(t,t._uninitializedComponentsProvider._online)):(Te(ol,"Using default OnlineComponentProvider"),await eO(t,new X1))),t._onlineComponents}function XG(t){return i4(t).then((e=>e.syncEngine))}async function a4(t){const e=await i4(t),n=e.eventManager;return n.onListen=DG.bind(null,e.syncEngine),n.onUnlisten=LG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UG.bind(null,e.syncEngine),n}function ZG(t,e,n={}){const r=new Cs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,c,d,f,h){const p=new r4({next:y=>{p.Nu(),c.enqueueAndForget((()=>Kz(s,g)));const x=y.docs.has(d);!x&&y.fromCache?h.reject(new Se(me.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&y.fromCache&&f&&f.source==="server"?h.reject(new Se(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new Wz(IE(d.path),p,{includeMetadataChanges:!0,Ka:!0});return Gz(s,g)})(await a4(t),t.asyncQueue,e,n,r))),r.promise}function JG(t,e,n={}){const r=new Cs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,c,d,f,h){const p=new r4({next:y=>{p.Nu(),c.enqueueAndForget((()=>Kz(s,g))),y.fromCache&&f.source==="server"?h.reject(new Se(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new Wz(d,p,{includeMetadataChanges:!0,Ka:!0});return Gz(s,g)})(await a4(t),t.asyncQueue,e,n,r))),r.promise}function eK(t,e){const n=new Cs;return t.asyncQueue.enqueueAndForget((async()=>VG(await XG(t),e,n))),n.promise}function s4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const tK="ComponentProvider",tO=new Map;function nK(t,e,n,r,i){return new EF(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,s4(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const o4="firestore.googleapis.com",nO=!0;class rO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o4,this.ssl=nO}else this.host=e.host,this.ssl=e.ssl??nO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kz;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OH)throw new Se(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s4(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Se(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Se(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Se(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tF;switch(r.type){case"firstParty":return new aF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=tO.get(n);r&&(Te(tK,"Removing Datastore"),tO.delete(n),r.terminate())})(this),Promise.resolve()}}function rK(t,e,n,r={}){t=Di(t,yy);const i=hl(e),s=t._getSettings(),c={...s,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;i&&(fE(`https://${d}`),hE("Firestore",!0)),s.host!==o4&&s.host!==d&&Ju("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:d,ssl:i,emulatorOptions:r};if(!fc(f,c)&&(t._setSettings(f),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=vr.MOCK_USER;else{h=YD(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Se(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new vr(g)}t._authCredentials=new nF(new $M(h,p))}}class vl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vl(this.firestore,e,this._query)}}class yn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}toJSON(){return{type:yn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Kh(n,yn._jsonSchema))return new yn(e,r||null,new Le($t.fromString(n.referencePath)))}}yn._jsonSchemaVersion="firestore/documentReference/1.0",yn._jsonSchema={type:On("string",yn._jsonSchemaVersion),referencePath:On("string")};class Zo extends vl{constructor(e,n,r){super(e,n,IE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new Le(e))}withConverter(e){return new Zo(this.firestore,e,this._path)}}function Et(t,e,...n){if(t=Ft(t),FM("collection","path",e),t instanceof yy){const r=$t.fromString(e,...n);return g2(r),new Zo(t,null,r)}{if(!(t instanceof yn||t instanceof Zo))throw new Se(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return g2(r),new Zo(t.firestore,null,r)}}function tt(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=NE.newId()),FM("doc","path",e),t instanceof yy){const r=$t.fromString(e,...n);return p2(r),new yn(t,null,new Le(r))}{if(!(t instanceof yn||t instanceof Zo))throw new Se(me.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return p2(r),new yn(t.firestore,t instanceof Zo?t.converter:null,new Le(r))}}const iO="AsyncQueue";class aO{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Lz(this,"async_queue_retry"),this._c=()=>{const r=P_();r&&Te(iO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=P_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=P_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Cs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!_d(e))throw e;Te(iO,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ks("INTERNAL UNHANDLED ERROR: ",sO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=HE.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Ge(47125,{Pc:sO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function sO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class yl extends yy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new aO,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aO(e),this._firestoreClient=void 0,await e}}}function iK(t,e){const n=typeof t=="object"?t:gE(),r=typeof t=="string"?t:Kg,i=ty(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=KD("firestore");s&&rK(i,...s)}return i}function by(t){if(t._terminated)throw new Se(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||aK(t),t._firestoreClient}function aK(t){const e=t._freezeSettings(),n=nK(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new QG(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class Ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ri(dr.fromBase64String(e))}catch(n){throw new Se(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ri(dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kh(e,Ri._jsonSchema))return Ri.fromBase64String(e.bytes)}}Ri._jsonSchemaVersion="firestore/bytes/1.0",Ri._jsonSchema={type:On("string",Ri._jsonSchemaVersion),bytes:On("string")};class _y{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zh{constructor(e){this._methodName=e}}class $a{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$a._jsonSchemaVersion}}static fromJSON(e){if(Kh(e,$a._jsonSchema))return new $a(e.latitude,e.longitude)}}$a._jsonSchemaVersion="firestore/geoPoint/1.0",$a._jsonSchema={type:On("string",$a._jsonSchemaVersion),latitude:On("number"),longitude:On("number")};class na{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:na._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kh(e,na._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new na(e.vectorValues);throw new Se(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}na._jsonSchemaVersion="firestore/vectorValue/1.0",na._jsonSchema={type:On("string",na._jsonSchemaVersion),vectorValues:On("object")};const sK=/^__.*__$/;class oK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wh(e,this.data,n,this.fieldTransforms)}}class l4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new gl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function c4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{dataSource:t})}}class YE{constructor(e,n,r,i,s,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new YE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return tv(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(c4(this.dataSource)&&sK.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class lK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||py(e)}createContext(e,n,r,i=!1){return new YE({dataSource:e,methodName:n,targetDoc:r,path:cr.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jh(t){const e=t._freezeSettings(),n=py(t._databaseId);return new lK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XE(t,e,n,r,i,s={}){const c=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);ej("Data must be an object, but it was:",c,r);const d=f4(r,c);let f,h;if(s.merge)f=new ci(c.fieldMask),h=c.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const y=yc(e,g,n);if(!c.contains(y))throw new Se(me.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);p4(p,y)||p.push(y)}f=new ci(p),h=c.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,h=c.fieldTransforms;return new oK(new Hr(d),f,h)}class xy extends Zh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xy}}class ZE extends Zh{_toFieldTransform(e){return new _z(e.path,new _h)}isEqual(e){return e instanceof ZE}}class JE extends Zh{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new Eh(e.serializer,pz(e.serializer,this.Vc));return new _z(e.path,n)}isEqual(e){return e instanceof JE&&this.Vc===e.Vc}}function u4(t,e,n,r){const i=t.createContext(1,e,n);ej("Data must be an object, but it was:",i,r);const s=[],c=Hr.empty();pl(r,((f,h)=>{const p=m4(e,f,n);h=Ft(h);const g=i.childContextForFieldPath(p);if(h instanceof xy)s.push(p);else{const y=em(h,g);y!=null&&(s.push(p),c.set(p,y))}}));const d=new ci(s);return new l4(c,d,i.fieldTransforms)}function d4(t,e,n,r,i,s){const c=t.createContext(1,e,n),d=[yc(e,r,n)],f=[i];if(s.length%2!=0)throw new Se(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)d.push(yc(e,s[y])),f.push(s[y+1]);const h=[],p=Hr.empty();for(let y=d.length-1;y>=0;--y)if(!p4(h,d[y])){const x=d[y];let j=f[y];j=Ft(j);const E=c.childContextForFieldPath(x);if(j instanceof xy)h.push(x);else{const S=em(j,E);S!=null&&(h.push(x),p.set(x,S))}}const g=new ci(h);return new l4(p,g,c.fieldTransforms)}function cK(t,e,n,r=!1){return em(n,t.createContext(r?4:3,e))}function em(t,e){if(h4(t=Ft(t)))return ej("Unsupported field value:",e,t),f4(t,e);if(t instanceof Zh)return(function(r,i){if(!c4(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const s=[];let c=0;for(const d of r){let f=em(d,i.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),c++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=it.fromDate(r);return{timestampValue:Xg(i.serializer,s)}}if(r instanceof it){const s=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xg(i.serializer,s)}}if(r instanceof $a)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ri)return{bytesValue:Nz(i.serializer,r._byteString)};if(r instanceof yn){const s=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(s))throw i.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ME(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof na)return(function(c,d){const f=c instanceof na?c.toArray():c;return{mapValue:{fields:{[JM]:{stringValue:ez},[Wg]:{arrayValue:{values:f.map((p=>{if(typeof p!="number")throw d.createError("VectorValues must only contain numeric values.");return RE(d.serializer,p)}))}}}}}})(r,i);if(Rz(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${ay(r)}`)})(t,e)}function f4(t,e){const n={};return KM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pl(t,((r,i)=>{const s=em(i,e.childContextForField(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function h4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof $a||t instanceof Ri||t instanceof yn||t instanceof Zh||t instanceof na||Rz(t))}function ej(t,e,n){if(!h4(n)||!HM(n)){const r=ay(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function yc(t,e,n){if((e=Ft(e))instanceof _y)return e._internalPath;if(typeof e=="string")return m4(t,e);throw tv("Field path arguments must be of type string or ",t,!1,void 0,n)}const uK=new RegExp("[~\\*/\\[\\]]");function m4(t,e,n){if(e.search(uK)>=0)throw tv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _y(...e.split("."))._internalPath}catch{throw tv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tv(t,e,n,r,i){const s=r&&!r.isEmpty(),c=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||c)&&(f+=" (found",s&&(f+=` in field ${r}`),c&&(f+=` in document ${i}`),f+=")"),new Se(me.INVALID_ARGUMENT,d+t+f)}function p4(t,e){return t.some((n=>n.isEqual(e)))}class dK{convertValue(e,n="none"){switch(al(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(il(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pl(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Wg].arrayValue?.values?.map((r=>vn(r.doubleValue)));return new na(n)}convertGeoPoint(e){return new $a(vn(e.latitude),vn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ly(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gh(e));default:return null}}convertTimestamp(e){const n=rl(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$t.fromString(e);jt(Iz(r),9688,{name:e});const i=new vh(r.get(1),r.get(3)),s=new Le(r.popFirst(5));return i.isEqual(n)||ks(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class g4 extends dK{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function zn(){return new ZE("serverTimestamp")}function v4(t){return new JE("increment",t)}const oO="@firebase/firestore",lO="4.10.0";class y4{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(yc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fK extends y4{data(){return super.data()}}function hK(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tj{}class nj extends tj{}function Ht(t,e,...n){let r=[];e instanceof tj&&r.push(e),r=r.concat(n),(function(s){const c=s.filter((f=>f instanceof rj)).length,d=s.filter((f=>f instanceof wy)).length;if(c>1||c>0&&d>0)throw new Se(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class wy extends nj{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new wy(e,n,r)}_apply(e){const n=this._parse(e);return b4(e._query,n),new vl(e.firestore,e.converter,B1(e._query,n))}_parse(e){const n=Jh(e.firestore);return(function(s,c,d,f,h,p,g){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Se(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){uO(g,p);const j=[];for(const E of g)j.push(cO(f,s,E));y={arrayValue:{values:j}}}else y=cO(f,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||uO(g,p),y=cK(d,c,g,p==="in"||p==="not-in");return Cn.create(h,p,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function at(t,e,n){const r=e,i=yc("where",t);return wy._create(i,r,n)}class rj extends tj{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rj(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:sa.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let c=i;const d=s.getFlattenedFilters();for(const f of d)b4(c,f),c=B1(c,f)})(e._query,n),new vl(e.firestore,e.converter,B1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ij extends nj{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ij(e,n)}_apply(e){const n=(function(i,s,c){if(i.startAt!==null)throw new Se(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Se(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bh(s,c)})(e._query,this._field,this._direction);return new vl(e.firestore,e.converter,qF(e._query,n))}}function Qr(t,e="asc"){const n=e,r=yc("orderBy",t);return ij._create(r,n)}class aj extends nj{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new aj(e,n,r)}_apply(e){return new vl(e.firestore,e.converter,Yg(e._query,this._limit,this._limitType))}}function ll(t){return fF("limit",t),aj._create("limit",t,"F")}function cO(t,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new Se(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lz(e)&&n.indexOf("/")!==-1)throw new Se(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($t.fromString(n));if(!Le.isDocumentKey(r))throw new Se(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return j2(t,new Le(r))}if(n instanceof yn)return j2(t,n._key);throw new Se(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ay(n)}.`)}function uO(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function b4(t,e){const n=(function(i,s){for(const c of i)for(const d of c.getFlattenedFilters())if(s.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Se(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function sj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Xf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sc extends y4{constructor(e,n,r,i,s,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=sc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}sc._jsonSchemaVersion="firestore/documentSnapshot/1.0",sc._jsonSchema={type:On("string",sc._jsonSchemaVersion),bundleSource:On("string","DocumentSnapshot"),bundleName:On("string"),bundle:On("string")};class Tg extends sc{data(e={}){return super.data(e)}}class Wu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Tg(this._firestore,this._userDataWriter,r.key,r,new Xf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((d=>{const f=new Tg(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Xf(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>s||d.type!==3)).map((d=>{const f=new Tg(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Xf(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return d.type!==0&&(h=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),p=c.indexOf(d.doc.key)),{type:mK(d.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=NE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:t})}}Wu._jsonSchemaVersion="firestore/querySnapshot/1.0",Wu._jsonSchema={type:On("string",Wu._jsonSchemaVersion),bundleSource:On("string","QuerySnapshot"),bundleName:On("string"),bundle:On("string")};class pK{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Jh(e)}set(e,n,r){this._verifyNotCommitted();const i=R_(e,this._firestore),s=sj(i.converter,n,r),c=XE(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(c.toMutation(i._key,Tr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=R_(e,this._firestore);let c;return c=typeof(n=Ft(n))=="string"||n instanceof _y?d4(this._dataReader,"WriteBatch.update",s._key,n,r,i):u4(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(c.toMutation(s._key,Tr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=R_(e,this._firestore);return this._mutations=this._mutations.concat(new hy(n._key,Tr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function R_(t,e){if((t=Ft(t)).firestore!==e)throw new Se(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function oa(t){t=Di(t,yn);const e=Di(t.firestore,yl),n=by(e);return ZG(n,t._key).then((r=>vK(e,t,r)))}function Gt(t){t=Di(t,vl);const e=Di(t.firestore,yl),n=by(e),r=new g4(e);return hK(t._query),JG(n,t._query).then((i=>new Wu(e,r,t,i)))}function gK(t,e,n){t=Di(t,yn);const r=Di(t.firestore,yl),i=sj(t.converter,e,n),s=Jh(r);return tm(r,[XE(s,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Tr.none())])}function Un(t,e,n,...r){t=Di(t,yn);const i=Di(t.firestore,yl),s=Jh(i);let c;return c=typeof(e=Ft(e))=="string"||e instanceof _y?d4(s,"updateDoc",t._key,e,n,r):u4(s,"updateDoc",t._key,e),tm(i,[c.toMutation(t._key,Tr.exists(!0))])}function Ey(t){return tm(Di(t.firestore,yl),[new hy(t._key,Tr.none())])}function Hs(t,e){const n=Di(t.firestore,yl),r=tt(t),i=sj(t.converter,e),s=Jh(t.firestore);return tm(n,[XE(s,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Tr.exists(!1))]).then((()=>r))}function tm(t,e){const n=by(t);return eK(n,e)}function vK(t,e,n){const r=n.docs.get(e._key),i=new g4(t);return new sc(t,i,e._key,r,new Xf(n.hasPendingWrites,n.fromCache),e.converter)}function jh(t){return t=Di(t,yl),by(t),new pK(t,(e=>tm(t,e)))}(function(e,n=!0){eF(Oc),hc(new tl("firestore",((r,{instanceIdentifier:i,options:s})=>{const c=r.getProvider("app").getImmediate(),d=new yl(new rF(r.getProvider("auth-internal")),new sF(c,r.getProvider("app-check-internal")),jF(c,i),c);return s={useFetchStreams:n,...s},d._setSettings(s),d}),"PUBLIC").setMultipleInstances(!0)),La(oO,lO,e),La(oO,lO,"esm2020")})();var yK="firebase",bK="12.8.0";La(yK,bK,"app");const _4="firebasestorage.googleapis.com",x4="storageBucket",_K=120*1e3,xK=600*1e3;class fn extends Za{constructor(e,n,r=0){super(k_(e),`Firebase Storage: ${n} (${k_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return k_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dn||(dn={}));function k_(t){return"storage/"+t}function oj(){const t="An unknown error occurred, please check the error payload for server response.";return new fn(dn.UNKNOWN,t)}function wK(t){return new fn(dn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function EK(t){return new fn(dn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function jK(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fn(dn.UNAUTHENTICATED,t)}function SK(){return new fn(dn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function NK(t){return new fn(dn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function AK(){return new fn(dn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TK(){return new fn(dn.CANCELED,"User canceled the upload/download.")}function CK(t){return new fn(dn.INVALID_URL,"Invalid URL '"+t+"'.")}function OK(t){return new fn(dn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function PK(){return new fn(dn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+x4+"' property when initializing the app?")}function IK(){return new fn(dn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function RK(){return new fn(dn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function kK(t){return new fn(dn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Z1(t){return new fn(dn.INVALID_ARGUMENT,t)}function w4(){return new fn(dn.APP_DELETED,"The Firebase app was deleted.")}function DK(t){return new fn(dn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lh(t,e){return new fn(dn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Df(t){throw new fn(dn.INTERNAL_ERROR,"Internal error: "+t)}class ui{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ui.makeFromUrl(e,n)}catch{return new ui(e,"")}if(r.path==="")return r;throw OK(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+i+c,"i"),f={bucket:1,path:3};function h(P){P.path_=decodeURIComponent(P.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",x=new RegExp(`^https?://${g}/${p}/b/${i}/o${y}`,"i"),j={bucket:1,path:3},E=n===_4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",T=new RegExp(`^https?://${E}/${i}/${S}`,"i"),R=[{regex:d,indices:f,postModify:s},{regex:x,indices:j,postModify:h},{regex:T,indices:{bucket:1,path:2},postModify:h}];for(let P=0;P<R.length;P++){const $=R[P],B=$.regex.exec(e);if(B){const I=B[$.indices.bucket];let O=B[$.indices.path];O||(O=""),r=new ui(I,O),$.postModify(r);break}}if(r==null)throw CK(e);return r}}class MK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function zK(t,e,n){let r=1,i=null,s=null,c=!1,d=0;function f(){return d===2}let h=!1;function p(...S){h||(h=!0,e.apply(null,S))}function g(S){i=setTimeout(()=>{i=null,t(x,f())},S)}function y(){s&&clearTimeout(s)}function x(S,...T){if(h){y();return}if(S){y(),p.call(null,S,...T);return}if(f()||c){y(),p.call(null,S,...T);return}r<64&&(r*=2);let R;d===1?(d=2,R=0):R=(r+Math.random())*1e3,g(R)}let j=!1;function E(S){j||(j=!0,y(),!h&&(i!==null?(S||(d=2),clearTimeout(i),g(0)):S||(d=1)))}return g(0),s=setTimeout(()=>{c=!0,E(!0)},n),E}function LK(t){t(!1)}function UK(t){return t!==void 0}function VK(t){return typeof t=="object"&&!Array.isArray(t)}function lj(t){return typeof t=="string"||t instanceof String}function dO(t){return cj()&&t instanceof Blob}function cj(){return typeof Blob<"u"}function fO(t,e,n,r){if(r<e)throw Z1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Z1(`Invalid value for '${t}'. Expected ${n} or less.`)}function jy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function E4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var oc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(oc||(oc={}));function qK(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}class BK{constructor(e,n,r,i,s,c,d,f,h,p,g,y=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=y,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,E)=>{this.resolve_=j,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Wp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{const f=d.loaded,h=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===oc.NO_ERROR,f=s.getStatus();if(!d||qK(f,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===oc.ABORT;r(!1,new Wp(!1,null,p));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new Wp(h,s))})},n=(r,i)=>{const s=this.resolve_,c=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());UK(f)?s(f):s()}catch(f){c(f)}else if(d!==null){const f=oj();f.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,f)):c(f)}else if(i.canceled){const f=this.appDelete_?w4():TK();c(f)}else{const f=AK();c(f)}};this.canceled_?n(!1,new Wp(!1,null,!0)):this.backoffId_=zK(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&LK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function $K(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function FK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function HK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function GK(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function KK(t,e,n,r,i,s,c=!0,d=!1){const f=E4(t.urlParams),h=t.url+f,p=Object.assign({},t.headers);return HK(p,e),$K(p,n),FK(p,s),GK(p,r),new BK(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,c,d)}function WK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function QK(...t){const e=WK();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(cj())return new Blob(t);throw new fn(dn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function YK(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function XK(t){if(typeof atob>"u")throw kK("base-64");return atob(t)}const ka={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class D_{constructor(e,n){this.data=e,this.contentType=n||null}}function ZK(t,e){switch(t){case ka.RAW:return new D_(j4(e));case ka.BASE64:case ka.BASE64URL:return new D_(S4(t,e));case ka.DATA_URL:return new D_(eW(e),tW(e))}throw oj()}function j4(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,c=t.charCodeAt(++n);r=65536|(s&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function JK(t){let e;try{e=decodeURIComponent(t)}catch{throw lh(ka.DATA_URL,"Malformed data URL.")}return j4(e)}function S4(t,e){switch(t){case ka.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw lh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ka.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw lh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=XK(e)}catch(i){throw i.message.includes("polyfill")?i:lh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class N4{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw lh(ka.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=nW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function eW(t){const e=new N4(t);return e.base64?S4(ka.BASE64,e.rest):JK(e.rest)}function tW(t){return new N4(t).contentType}function nW(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class $o{constructor(e,n){let r=0,i="";dO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(dO(this.data_)){const r=this.data_,i=YK(r,e,n);return i===null?null:new $o(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new $o(r,!0)}}static getBlob(...e){if(cj()){const n=e.map(r=>r instanceof $o?r.data_:r);return new $o(QK.apply(null,n))}else{const n=e.map(c=>lj(c)?ZK(ka.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)i[s++]=c[d]}),new $o(i,!0)}}uploadData(){return this.data_}}function A4(t){let e;try{e=JSON.parse(t)}catch{return null}return VK(e)?e:null}function rW(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function iW(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function T4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function aW(t,e){return e}class Sr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||aW}}let Qp=null;function sW(t){return!lj(t)||t.length<2?t:T4(t)}function C4(){if(Qp)return Qp;const t=[];t.push(new Sr("bucket")),t.push(new Sr("generation")),t.push(new Sr("metageneration")),t.push(new Sr("name","fullPath",!0));function e(s,c){return sW(c)}const n=new Sr("name");n.xform=e,t.push(n);function r(s,c){return c!==void 0?Number(c):c}const i=new Sr("size");return i.xform=r,t.push(i),t.push(new Sr("timeCreated")),t.push(new Sr("updated")),t.push(new Sr("md5Hash",null,!0)),t.push(new Sr("cacheControl",null,!0)),t.push(new Sr("contentDisposition",null,!0)),t.push(new Sr("contentEncoding",null,!0)),t.push(new Sr("contentLanguage",null,!0)),t.push(new Sr("contentType",null,!0)),t.push(new Sr("metadata","customMetadata",!0)),Qp=t,Qp}function oW(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new ui(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function lW(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const c=n[s];r[c.local]=c.xform(r,e[c.server])}return oW(r,t),r}function O4(t,e,n){const r=A4(e);return r===null?null:lW(t,r,n)}function cW(t,e,n,r){const i=A4(e);if(i===null||!lj(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const c=encodeURIComponent;return s.split(",").map(h=>{const p=t.bucket,g=t.fullPath,y="/b/"+c(p)+"/o/"+c(g),x=jy(y,n,r),j=E4({alt:"media",token:h});return x+j})[0]}function uW(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class uj{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function P4(t){if(!t)throw oj()}function dW(t,e){function n(r,i){const s=O4(t,i,e);return P4(s!==null),s}return n}function fW(t,e){function n(r,i){const s=O4(t,i,e);return P4(s!==null),cW(s,i,t.host,t._protocol)}return n}function I4(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=SK():i=jK():n.getStatus()===402?i=EK(t.bucket):n.getStatus()===403?i=NK(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function R4(t){const e=I4(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=wK(t.path)),s.serverResponse=i.serverResponse,s}return n}function hW(t,e,n){const r=e.fullServerUrl(),i=jy(r,t.host,t._protocol),s="GET",c=t.maxOperationRetryTime,d=new uj(i,s,fW(t,n),c);return d.errorHandler=R4(e),d}function mW(t,e){const n=e.fullServerUrl(),r=jy(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function c(f,h){}const d=new uj(r,i,c,s);return d.successCodes=[200,204],d.errorHandler=R4(e),d}function pW(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function gW(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=pW(null,e)),r}function vW(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let R="";for(let P=0;P<2;P++)R=R+Math.random().toString().slice(2);return R}const f=d();c["Content-Type"]="multipart/related; boundary="+f;const h=gW(e,r,i),p=uW(h,n),g="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+h.contentType+`\r
\r
`,y=`\r
--`+f+"--",x=$o.getBlob(g,r,y);if(x===null)throw IK();const j={name:h.fullPath},E=jy(s,t.host,t._protocol),S="POST",T=t.maxUploadRetryTime,D=new uj(E,S,dW(t,n),T);return D.urlParams=j,D.headers=c,D.body=x.uploadData(),D.errorHandler=I4(e),D}class yW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=oc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=oc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=oc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw Df("cannot .send() more than once");if(hl(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const c in s)s.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,s[c].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Df("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Df("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Df("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Df("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class bW extends yW{initXhr(){this.xhr_.responseType="text"}}function dj(){return new bW}class bc{constructor(e,n){this._service=e,n instanceof ui?this._location=n:this._location=ui.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new bc(e,n)}get root(){const e=new ui(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return T4(this._location.path)}get storage(){return this._service}get parent(){const e=rW(this._location.path);if(e===null)return null;const n=new ui(this._location.bucket,e);return new bc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw DK(e)}}function _W(t,e,n){t._throwIfRoot("uploadBytes");const r=vW(t.storage,t._location,C4(),new $o(e,!0),n);return t.storage.makeRequestWithTokens(r,dj).then(i=>({metadata:i,ref:t}))}function xW(t){t._throwIfRoot("getDownloadURL");const e=hW(t.storage,t._location,C4());return t.storage.makeRequestWithTokens(e,dj).then(n=>{if(n===null)throw RK();return n})}function wW(t){t._throwIfRoot("deleteObject");const e=mW(t.storage,t._location);return t.storage.makeRequestWithTokens(e,dj)}function EW(t,e){const n=iW(t._location.path,e),r=new ui(t._location.bucket,n);return new bc(t.storage,r)}function jW(t){return/^[A-Za-z]+:\/\//.test(t)}function SW(t,e){return new bc(t,e)}function k4(t,e){if(t instanceof fj){const n=t;if(n._bucket==null)throw PK();const r=new bc(n,n._bucket);return e!=null?k4(r,e):r}else return e!==void 0?EW(t,e):t}function NW(t,e){if(e&&jW(e)){if(t instanceof fj)return SW(t,e);throw Z1("To use ref(service, url), the first argument must be a Storage instance.")}else return k4(t,e)}function hO(t,e){const n=e?.[x4];return n==null?null:ui.makeFromBucketSpec(n,t)}function AW(t,e,n,r={}){t.host=`${e}:${n}`;const i=hl(e);i&&(fE(`https://${t.host}/b`),hE("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:YD(s,t.app.options.projectId))}class fj{constructor(e,n,r,i,s,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=c,this._bucket=null,this._host=_4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_K,this._maxUploadRetryTime=xK,this._requests=new Set,i!=null?this._bucket=ui.makeFromBucketSpec(i,this._host):this._bucket=hO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ui.makeFromBucketSpec(this._url,e):this._bucket=hO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bc(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new MK(w4());{const c=KK(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const mO="@firebase/storage",pO="0.14.0";const D4="storage";function TW(t,e,n){return t=Ft(t),_W(t,e,n)}function CW(t){return t=Ft(t),xW(t)}function OW(t){return t=Ft(t),wW(t)}function gO(t,e){return t=Ft(t),NW(t,e)}function PW(t=gE(),e){t=Ft(t);const r=ty(t,D4).getImmediate({identifier:e}),i=KD("storage");return i&&IW(r,...i),r}function IW(t,e,n,r={}){AW(t,e,n,r)}function RW(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new fj(n,r,i,e,Oc)}function kW(){hc(new tl(D4,RW,"PUBLIC").setMultipleInstances(!0)),La(mO,pO,""),La(mO,pO,"esm2020")}kW();const DW={apiKey:"AIzaSyDgk_1graNBFkIURTJnyLZTZ1nyxi7slUo",authDomain:"pedaclic.firebaseapp.com",projectId:"pedaclic",storageBucket:"pedaclic.firebasestorage.app",messagingSenderId:"863649621890",appId:"1:863649621890:web:6ab56a8c8db111e3a9119b"},hj=JD(DW),Yp=Z$(hj),Ae=iK(hj),vO=PW(hj),yO={"auth/email-already-in-use":"Cette adresse email est dj utilise.","auth/invalid-email":"Adresse email invalide.","auth/operation-not-allowed":"Opration non autorise.","auth/weak-password":"Le mot de passe doit contenir au moins 6 caractres.","auth/user-disabled":"Ce compte a t dsactiv.","auth/user-not-found":"Aucun compte associ  cette adresse email.","auth/wrong-password":"Mot de passe incorrect.","auth/too-many-requests":"Trop de tentatives. Veuillez ressayer plus tard.","auth/network-request-failed":"Erreur de connexion. Vrifiez votre connexion internet.",default:"Une erreur est survenue. Veuillez ressayer."},bO=t=>yO[t]||yO.default,M4=w.createContext(null),MW=({children:t})=>{const[e,n]=w.useState(null),[r,i]=w.useState(!0),s=async y=>{try{const x=await oa(tt(Ae,"users",y));if(x.exists()){const j=x.data();return{uid:y,email:j.email,displayName:j.displayName,role:j.role,isPremium:j.isPremium||!1,subscriptionEnd:j.subscriptionEnd?.toDate()||null,photoURL:j.photoURL,createdAt:j.createdAt?.toDate()||new Date,lastLogin:j.lastLogin?.toDate()}}return null}catch(x){return console.error("Erreur lors de la rcupration des donnes utilisateur:",x),null}},c=async(y,x)=>{const j=tt(Ae,"users",y.uid);(await oa(j)).exists()?await Un(j,{lastLogin:zn()}):await gK(j,{email:y.email,displayName:y.displayName||x?.displayName||"",role:x?.role||"eleve",isPremium:!1,photoURL:y.photoURL,createdAt:zn(),lastLogin:zn()})},d=async(y,x)=>{try{const j=await D7(Yp,y,x);await c(j.user)}catch(j){throw new Error(bO(j.code))}},f=async y=>{try{if(y.password!==y.confirmPassword)throw new Error("Les mots de passe ne correspondent pas.");const x=await k7(Yp,y.email,y.password);await z7(x.user,{displayName:y.displayName}),await c(x.user,{displayName:y.displayName,role:y.role})}catch(x){throw x.message?x:new Error(bO(x.code))}},h=async()=>{try{await q7(Yp),n(null)}catch{throw new Error("Erreur lors de la dconnexion.")}},p=async y=>{if(!e)throw new Error("Aucun utilisateur connect.");try{const x=tt(Ae,"users",e.uid);await Un(x,{...y,updatedAt:zn()}),n(j=>j?{...j,...y}:null)}catch{throw new Error("Erreur lors de la mise  jour du profil.")}};w.useEffect(()=>{const y=V7(Yp,async x=>{if(x){const j=await s(x.uid);n(j)}else n(null);i(!1)});return()=>y()},[]);const g={currentUser:e,loading:r,login:d,register:f,logout:h,updateProfile:p};return l.jsx(M4.Provider,{value:g,children:r?l.jsxs("div",{className:"loading-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Chargement..."})]}):t})},xr=()=>{const t=w.useContext(M4);if(!t)throw new Error("useAuth doit tre utilis  l'intrieur d'un AuthProvider");return t},mj=({children:t,allowedRoles:e,requirePremium:n=!1})=>{const{currentUser:r,loading:i}=xr();return i?l.jsxs("div",{className:"loading-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Vrification des autorisations..."})]}):r?e&&!e.includes(r.role)?l.jsxs("div",{className:"error-container",children:[l.jsx("h2",{children:"Accs non autoris"}),l.jsx("p",{children:"Vous n'avez pas les permissions ncessaires pour accder  cette page."}),l.jsx("a",{href:"/",className:"btn btn-primary",children:"Retour  l'accueil"})]}):n&&!r.isPremium?l.jsxs("div",{className:"error-container premium-required",children:[l.jsx("h2",{children:"Contenu Premium"}),l.jsx("p",{children:"Cette ressource est rserve aux abonns Premium."}),l.jsxs("div",{className:"premium-cta",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"2 000 FCFA/mois"})," ou ",l.jsx("strong",{children:"20 000 FCFA/an"})]}),l.jsx("a",{href:"/premium",className:"btn btn-premium",children:"Devenir Premium"})]})]}):l.jsx(l.Fragment,{children:t}):l.jsxs("div",{className:"error-container",children:[l.jsx("h2",{children:"Accs refus"}),l.jsx("p",{children:"Vous devez tre connect pour accder  cette page."}),l.jsx("a",{href:"/connexion",className:"btn btn-primary",children:"Se connecter"})]})},Tu=({children:t})=>l.jsx(mj,{allowedRoles:["admin"],children:t}),zW=({children:t})=>l.jsx(mj,{allowedRoles:["admin","prof"],children:t});const LW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UW=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),_O=t=>{const e=UW(t);return e.charAt(0).toUpperCase()+e.slice(1)},z4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),VW=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var qW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const BW=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:c,...d},f)=>w.createElement("svg",{ref:f,...qW,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:z4("lucide",i),...!s&&!VW(d)&&{"aria-hidden":"true"},...d},[...c.map(([h,p])=>w.createElement(h,p)),...Array.isArray(s)?s:[s]]));const De=(t,e)=>{const n=w.forwardRef(({className:r,...i},s)=>w.createElement(BW,{ref:s,iconNode:e,className:z4(`lucide-${LW(_O(t))}`,`lucide-${t}`,r),...i}));return n.displayName=_O(t),n};const $W=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],M_=De("arrow-left",$W);const FW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Xl=De("arrow-right",FW);const HW=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],_c=De("award",HW);const GW=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ra=De("book-open",GW);const KW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],z_=De("calendar",KW);const WW=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Qu=De("chart-column",WW);const QW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],nv=De("chevron-down",QW);const YW=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],J1=De("chevron-up",YW);const XW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rv=De("circle-alert",XW);const ZW=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gn=De("circle-check-big",ZW);const JW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Cg=De("circle-question-mark",JW);const eQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ew=De("circle-x",eQ);const tQ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ad=De("clock",tQ);const nQ=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],rQ=De("copy",nQ);const iQ=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Zf=De("crown",iQ);const aQ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tw=De("eye",aQ);const sQ=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],oQ=De("facebook",sQ);const lQ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],cQ=De("file-text",lQ);const uQ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],L4=De("funnel",uQ);const dQ=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],sd=De("graduation-cap",dQ);const fQ=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],hQ=De("grip-vertical",fQ);const mQ=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],pQ=De("heart",mQ);const gQ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],nw=De("house",gQ);const vQ=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],yQ=De("instagram",vQ);const bQ=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],xO=De("layout-dashboard",bQ);const _Q=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],xQ=De("linkedin",_Q);const wQ=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],rw=De("lock",wQ);const EQ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wO=De("log-out",EQ);const jQ=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],SQ=De("mail",jQ);const NQ=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],AQ=De("map-pin",NQ);const TQ=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],CQ=De("menu",TQ);const OQ=[["path",{d:"M5 12h14",key:"1ays0h"}]],PQ=De("minus",OQ);const IQ=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],RQ=De("pen-line",IQ);const kQ=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],DQ=De("phone",kQ);const MQ=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ch=De("play",MQ);const zQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xp=De("plus",zQ);const LQ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],UQ=De("refresh-cw",LQ);const VQ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],qQ=De("rotate-ccw",VQ);const BQ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$Q=De("save",BQ);const FQ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],U4=De("search",FQ);const HQ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],GQ=De("settings",HQ);const KQ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],pj=De("shield",KQ);const WQ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],di=De("star",WQ);const QQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],EO=De("target",QQ);const YQ=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],XQ=De("timer",YQ);const ZQ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],jO=De("trash-2",ZQ);const JQ=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],eY=De("trending-down",JQ);const tY=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],iw=De("trending-up",tY);const nY=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],V4=De("trophy",nY);const rY=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],iY=De("twitter",rY);const aY=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sY=De("user-check",aY);const oY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],lY=De("user-x",oY);const cY=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],uY=De("user",cY);const dY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Og=De("users",dY);const fY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lc=De("x",fY);const hY=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],mY=De("youtube",hY);const pY=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],q4=De("zap",pY),gY=()=>{const{currentUser:t,logout:e,loading:n}=xr(),r=Xa(),i=fl(),[s,c]=w.useState(!1),[d,f]=w.useState(!1),[h,p]=w.useState(!1),g=w.useRef(null),y=[{path:"/",label:"Accueil",icon:l.jsx(nw,{size:18})},{path:"/disciplines",label:"Disciplines",icon:l.jsx(ra,{size:18})},{path:"/quiz",label:"Quiz",icon:l.jsx(sd,{size:18}),requireAuth:!0,requirePremium:!0},{path:t?.role==="eleve"?"/eleve/dashboard":t?.role==="prof"?"/prof/dashboard":"/admin",label:"Tableau de bord",icon:l.jsx(xO,{size:18}),requireAuth:!0},{path:"/parent/dashboard",label:"Espace Parent",icon:l.jsx(Qu,{size:18}),requireAuth:!0,requireRole:["parent"]}];w.useEffect(()=>{const P=$=>{g.current&&!g.current.contains($.target)&&f(!1)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]),w.useEffect(()=>{c(!1),f(!1)},[i.pathname]),w.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]);const x=async()=>{try{p(!0),await e(),f(!1),r("/")}catch(P){console.error("Erreur lors de la dconnexion:",P)}finally{p(!1)}},j=()=>{c(!s)},E=()=>{f(!d)},S=P=>!(P.requireAuth&&!t||P.requirePremium&&t&&!t.isPremium||P.requireRole&&t&&!P.requireRole.includes(t.role)),T=P=>P==="/"?i.pathname==="/":i.pathname.startsWith(P),D=P=>({admin:"Administrateur",prof:"Professeur",eleve:"lve",parent:"Parent"})[P]||P,R=()=>t?t.displayName?t.displayName.split(" ").map($=>$[0]).join("").toUpperCase().slice(0,2):t.email[0].toUpperCase():"?";return l.jsxs("header",{className:"header",children:[l.jsxs("div",{className:"header__container",children:[l.jsxs(Xe,{to:"/",className:"header__logo",children:[l.jsx(sd,{className:"header__logo-icon",size:32}),l.jsxs("div",{className:"header__logo-text",children:[l.jsx("span",{className:"header__logo-name",children:"PedaClic"}),l.jsx("span",{className:"header__logo-tagline",children:"L'cole en un clic"})]})]}),l.jsx("nav",{className:"header__nav header__nav--desktop",children:l.jsx("ul",{className:"header__nav-list",children:y.map(P=>S(P)&&l.jsx("li",{className:"header__nav-item",children:l.jsxs(Xe,{to:P.path,className:`header__nav-link ${T(P.path)?"header__nav-link--active":""}`,children:[P.icon,l.jsx("span",{children:P.label}),P.requirePremium&&l.jsx(Zf,{size:14,className:"header__premium-badge"})]})},P.path))})}),l.jsxs("div",{className:"header__actions",children:[n?l.jsx("div",{className:"header__loading",children:l.jsx("div",{className:"header__spinner"})}):t?l.jsxs("div",{className:"header__user",ref:g,children:[t.isPremium&&l.jsxs("span",{className:"header__premium-tag",children:[l.jsx(Zf,{size:14}),"Premium"]}),l.jsxs("button",{className:"header__user-button",onClick:E,"aria-expanded":d,"aria-haspopup":"true",children:[l.jsx("div",{className:"header__avatar",children:t.photoURL?l.jsx("img",{src:t.photoURL,alt:t.displayName||"Avatar",className:"header__avatar-img"}):l.jsx("span",{className:"header__avatar-initials",children:R()})}),l.jsx("span",{className:"header__user-name",children:t.displayName||t.email.split("@")[0]}),l.jsx(nv,{size:16,className:`header__chevron ${d?"header__chevron--open":""}`})]}),d&&l.jsxs("div",{className:"header__dropdown",children:[l.jsxs("div",{className:"header__dropdown-header",children:[l.jsx("p",{className:"header__dropdown-email",children:t.email}),l.jsx("span",{className:`header__dropdown-role header__dropdown-role--${t.role}`,children:D(t.role)})]}),l.jsx("div",{className:"header__dropdown-divider"}),l.jsxs("nav",{className:"header__dropdown-nav",children:[l.jsxs(Xe,{to:t.role==="eleve"?"/eleve/dashboard":t.role==="prof"?"/prof/dashboard":"/admin",className:"header__dropdown-link",children:[l.jsx(xO,{size:18}),l.jsx("span",{children:"Tableau de bord"})]}),t.role==="eleve"&&l.jsxs(Xe,{to:"/eleve/suivi",className:"header__dropdown-link",children:[l.jsx(Qu,{size:18}),l.jsx("span",{children:"Mes points  amliorer"})]}),t.role==="parent"&&l.jsxs(Xe,{to:"/parent/dashboard",className:"header__dropdown-link",children:[l.jsx(Qu,{size:18}),l.jsx("span",{children:"Espace Parent"})]}),l.jsxs(Xe,{to:"/profil",className:"header__dropdown-link",children:[l.jsx(uY,{size:18}),l.jsx("span",{children:"Mon profil"})]}),t.role==="admin"&&l.jsxs(Xe,{to:"/admin",className:"header__dropdown-link",children:[l.jsx(GQ,{size:18}),l.jsx("span",{children:"Administration"})]}),!t.isPremium&&l.jsxs(Xe,{to:"/premium",className:"header__dropdown-link header__dropdown-link--premium",children:[l.jsx(Zf,{size:18}),l.jsx("span",{children:"Passer Premium"})]})]}),l.jsx("div",{className:"header__dropdown-divider"}),l.jsxs("button",{className:"header__dropdown-logout",onClick:x,disabled:h,children:[l.jsx(wO,{size:18}),l.jsx("span",{children:h?"Dconnexion...":"Se dconnecter"})]})]})]}):l.jsxs("div",{className:"header__auth-buttons",children:[l.jsx(Xe,{to:"/connexion",className:"header__btn header__btn--outline",children:"Connexion"}),l.jsx(Xe,{to:"/inscription",className:"header__btn header__btn--primary",children:"S'inscrire"})]}),l.jsx("button",{className:"header__mobile-toggle",onClick:j,"aria-label":s?"Fermer le menu":"Ouvrir le menu","aria-expanded":s,children:s?l.jsx(lc,{size:24}):l.jsx(CQ,{size:24})})]})]}),l.jsxs("div",{className:`header__mobile-menu ${s?"header__mobile-menu--open":""}`,children:[l.jsx("div",{className:"header__mobile-overlay",onClick:()=>c(!1)}),l.jsxs("div",{className:"header__mobile-content",children:[l.jsx("nav",{className:"header__mobile-nav",children:l.jsx("ul",{className:"header__mobile-list",children:y.map(P=>S(P)&&l.jsx("li",{className:"header__mobile-item",children:l.jsxs(Xe,{to:P.path,className:`header__mobile-link ${T(P.path)?"header__mobile-link--active":""}`,children:[P.icon,l.jsx("span",{children:P.label}),P.requirePremium&&l.jsx(Zf,{size:14,className:"header__premium-badge"})]})},P.path))})}),!t&&l.jsxs("div",{className:"header__mobile-auth",children:[l.jsx(Xe,{to:"/connexion",className:"header__btn header__btn--outline header__btn--block",children:"Connexion"}),l.jsx(Xe,{to:"/inscription",className:"header__btn header__btn--primary header__btn--block",children:"S'inscrire"})]}),t&&l.jsxs("div",{className:"header__mobile-user",children:[l.jsxs("div",{className:"header__mobile-user-info",children:[l.jsx("div",{className:"header__avatar header__avatar--large",children:t.photoURL?l.jsx("img",{src:t.photoURL,alt:t.displayName||"Avatar",className:"header__avatar-img"}):l.jsx("span",{className:"header__avatar-initials",children:R()})}),l.jsxs("div",{className:"header__mobile-user-details",children:[l.jsx("p",{className:"header__mobile-user-name",children:t.displayName||t.email.split("@")[0]}),l.jsx("p",{className:"header__mobile-user-email",children:t.email})]})]}),l.jsxs("button",{className:"header__mobile-logout",onClick:x,disabled:h,children:[l.jsx(wO,{size:18}),l.jsx("span",{children:h?"Dconnexion...":"Se dconnecter"})]})]})]})]})]})},vY=()=>{const t=new Date().getFullYear(),e=[{label:"Accueil",path:"/"},{label:"Disciplines",path:"/disciplines"},{label:"Quiz Premium",path:"/quiz"},{label:"Tarifs",path:"/premium"},{label:"Tableau de bord",path:"/dashboard"}],n=[{label:"Cours en ligne",path:"/disciplines"},{label:"Exercices corrigs",path:"/disciplines"},{label:"Annales examens",path:"/disciplines"},{label:"Fiches de rvision",path:"/disciplines"}],r=[{name:"Facebook",url:"https://facebook.com/pedaclic",icon:l.jsx(oQ,{size:20})},{name:"Twitter",url:"https://twitter.com/pedaclic",icon:l.jsx(iY,{size:20})},{name:"Instagram",url:"https://instagram.com/pedaclic",icon:l.jsx(yQ,{size:20})},{name:"LinkedIn",url:"https://linkedin.com/company/pedaclic",icon:l.jsx(xQ,{size:20})},{name:"YouTube",url:"https://youtube.com/@pedaclic",icon:l.jsx(mY,{size:20})}];return l.jsxs("footer",{className:"footer",children:[l.jsx("div",{className:"footer__main",children:l.jsxs("div",{className:"footer__container",children:[l.jsxs("div",{className:"footer__column footer__column--about",children:[l.jsxs(Xe,{to:"/",className:"footer__logo",children:[l.jsx(sd,{className:"footer__logo-icon",size:36}),l.jsxs("div",{className:"footer__logo-text",children:[l.jsx("span",{className:"footer__logo-name",children:"PedaClic"}),l.jsx("span",{className:"footer__logo-tagline",children:"L'cole en un clic"})]})]}),l.jsx("p",{className:"footer__description",children:"PedaClic est la plateforme ducative de rfrence au Sngal. Nous accompagnons les lves du collge au lyce avec des cours, exercices et quiz de qualit."}),l.jsxs("div",{className:"footer__stats",children:[l.jsxs("div",{className:"footer__stat",children:[l.jsx(ra,{size:18}),l.jsx("span",{children:"500+ cours"})]}),l.jsxs("div",{className:"footer__stat",children:[l.jsx(Og,{size:18}),l.jsx("span",{children:"10 000+ lves"})]})]})]}),l.jsxs("div",{className:"footer__column",children:[l.jsxs("h3",{className:"footer__title",children:[l.jsx("span",{className:"footer__title-icon",children:""}),"Plateforme"]}),l.jsx("nav",{className:"footer__nav",children:l.jsx("ul",{className:"footer__list",children:e.map((i,s)=>l.jsx("li",{className:"footer__item",children:l.jsx(Xe,{to:i.path,className:"footer__link",children:i.label})},s))})})]}),l.jsxs("div",{className:"footer__column",children:[l.jsxs("h3",{className:"footer__title",children:[l.jsx("span",{className:"footer__title-icon",children:""}),"Ressources"]}),l.jsx("nav",{className:"footer__nav",children:l.jsx("ul",{className:"footer__list",children:n.map((i,s)=>l.jsx("li",{className:"footer__item",children:l.jsx(Xe,{to:i.path,className:"footer__link",children:i.label})},s))})})]}),l.jsxs("div",{className:"footer__column",children:[l.jsxs("h3",{className:"footer__title",children:[l.jsx("span",{className:"footer__title-icon",children:""}),"Contact"]}),l.jsxs("div",{className:"footer__contact",children:[l.jsxs("a",{href:"mailto:contact@pedaclic.sn",className:"footer__contact-item",children:[l.jsx(SQ,{size:16,className:"footer__contact-icon"}),l.jsx("span",{children:"contact@pedaclic.sn"})]}),l.jsxs("a",{href:"tel:+221770000000",className:"footer__contact-item",children:[l.jsx(DQ,{size:16,className:"footer__contact-icon"}),l.jsx("span",{children:"+221 77 000 00 00"})]}),l.jsxs("div",{className:"footer__contact-item",children:[l.jsx(AQ,{size:16,className:"footer__contact-icon"}),l.jsx("span",{children:"Dakar, Sngal"})]})]}),l.jsxs("div",{className:"footer__social",children:[l.jsx("h4",{className:"footer__social-title",children:"Suivez-nous"}),l.jsx("div",{className:"footer__social-links",children:r.map((i,s)=>l.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"footer__social-link",title:i.name,children:i.icon},s))})]})]})]})}),l.jsx("div",{className:"footer__bottom",children:l.jsxs("div",{className:"footer__container footer__bottom-content",children:[l.jsxs("p",{className:"footer__copyright",children:[" ",t," PedaClic. Tous droits rservs."]}),l.jsxs("p",{className:"footer__made-with",children:["Fait avec ",l.jsx(pQ,{size:14,className:"footer__heart"})," au Sngal "]}),l.jsxs("nav",{className:"footer__legal",children:[l.jsxs(Xe,{to:"/mentions-legales",className:"footer__legal-link",children:[l.jsx(cQ,{size:14})," Mentions lgales"]}),l.jsxs(Xe,{to:"/confidentialite",className:"footer__legal-link",children:[l.jsx(pj,{size:14})," Confidentialit"]}),l.jsxs(Xe,{to:"/aide",className:"footer__legal-link",children:[l.jsx(Cg,{size:14})," Aide"]})]})]})})]})},bs=({children:t,hideHeader:e=!1,hideFooter:n=!1,className:r=""})=>l.jsxs("div",{className:"layout",children:[!e&&l.jsx(gY,{}),l.jsx("main",{className:`layout__main ${e?"":"layout__main--with-header"} ${r}`,children:t}),!n&&l.jsx(vY,{})]}),yY=()=>{const{currentUser:t}=xr();return l.jsxs("div",{className:"home-page",children:[l.jsxs("section",{className:"home-page__hero",children:[l.jsxs("div",{className:"home-page__hero-content",children:[l.jsxs("div",{className:"home-page__hero-badge",children:[l.jsx(di,{size:14}),l.jsx("span",{children:"Plateforme N1 au Sngal"})]}),l.jsxs("h1",{className:"home-page__hero-title",children:["Russis tes examens avec",l.jsx("span",{className:"home-page__hero-highlight",children:" PedaClic"})]}),l.jsx("p",{className:"home-page__hero-subtitle",children:"La plateforme ducative qui accompagne les lves sngalais du collge au lyce avec des cours, exercices et quiz de qualit."}),l.jsx("div",{className:"home-page__hero-cta",children:t?l.jsxs(Xe,{to:t.role==="eleve"?"/eleve/dashboard":t.role==="prof"?"/prof/dashboard":"/admin",className:"home-page__btn home-page__btn--primary",children:["  Accder  mon espace",l.jsx(Xl,{size:20})]}):l.jsxs(l.Fragment,{children:[l.jsxs(Xe,{to:"/register",className:"home-page__btn home-page__btn--primary",children:["Commencer gratuitement",l.jsx(Xl,{size:20})]}),l.jsxs(Xe,{to:"/disciplines",className:"home-page__btn home-page__btn--outline",children:[l.jsx(ch,{size:18}),"Dcouvrir les cours"]})]})}),l.jsxs("div",{className:"home-page__hero-stats",children:[l.jsxs("div",{className:"home-page__hero-stat",children:[l.jsx("strong",{children:"10 000+"}),l.jsx("span",{children:"lves inscrits"})]}),l.jsxs("div",{className:"home-page__hero-stat",children:[l.jsx("strong",{children:"500+"}),l.jsx("span",{children:"Cours disponibles"})]}),l.jsxs("div",{className:"home-page__hero-stat",children:[l.jsx("strong",{children:"95%"}),l.jsx("span",{children:"Taux de russite"})]})]})]}),l.jsx("div",{className:"home-page__hero-image",children:l.jsxs("div",{className:"home-page__hero-illustration",children:[l.jsx(sd,{size:120}),l.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--1",children:""}),l.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--2",children:""}),l.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--3",children:""})]})})]}),l.jsx("section",{className:"home-page__levels",children:l.jsxs("div",{className:"home-page__container",children:[l.jsx("h2",{className:"home-page__section-title",children:"Tous les niveaux, toutes les matires"}),l.jsx("p",{className:"home-page__section-subtitle",children:"Du collge au lyce, prpare tes examens avec confiance"}),l.jsxs("div",{className:"home-page__levels-grid",children:[l.jsxs(Xe,{to:"/disciplines?niveau=college",className:"home-page__level-card",children:[l.jsx("div",{className:"home-page__level-icon home-page__level-icon--college",children:""}),l.jsx("h3",{children:"Collge"}),l.jsx("p",{children:"6me  3me"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx(gn,{size:16})," Prparation au BFEM"]}),l.jsxs("li",{children:[l.jsx(gn,{size:16})," 9 matires disponibles"]}),l.jsxs("li",{children:[l.jsx(gn,{size:16})," Exercices corrigs"]})]}),l.jsxs("span",{className:"home-page__level-link",children:["Voir les cours ",l.jsx(Xl,{size:16})]})]}),l.jsxs(Xe,{to:"/disciplines?niveau=lycee",className:"home-page__level-card",children:[l.jsx("div",{className:"home-page__level-icon home-page__level-icon--lycee",children:""}),l.jsx("h3",{children:"Lyce"}),l.jsx("p",{children:"2nde  Terminale"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx(gn,{size:16})," Prparation au BAC"]}),l.jsxs("li",{children:[l.jsx(gn,{size:16})," 12 matires disponibles"]}),l.jsxs("li",{children:[l.jsx(gn,{size:16})," Annales d'examens"]})]}),l.jsxs("span",{className:"home-page__level-link",children:["Voir les cours ",l.jsx(Xl,{size:16})]})]})]})]})}),l.jsx("section",{className:"home-page__features",children:l.jsxs("div",{className:"home-page__container",children:[l.jsx("h2",{className:"home-page__section-title",children:"Pourquoi choisir PedaClic ?"}),l.jsx("p",{className:"home-page__section-subtitle",children:"Des outils modernes pour une ducation de qualit"}),l.jsxs("div",{className:"home-page__features-grid",children:[l.jsxs("div",{className:"home-page__feature-card",children:[l.jsx("div",{className:"home-page__feature-icon",children:l.jsx(ra,{size:28})}),l.jsx("h3",{children:"Cours complets"}),l.jsx("p",{children:"Des cours structurs et conformes au programme sngalais, rdigs par des enseignants expriments."})]}),l.jsxs("div",{className:"home-page__feature-card",children:[l.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--secondary",children:l.jsx(q4,{size:28})}),l.jsx("h3",{children:"Quiz interactifs"}),l.jsx("p",{children:"Testez vos connaissances avec des quiz adapts  chaque niveau et obtenez un feedback instantan."})]}),l.jsxs("div",{className:"home-page__feature-card",children:[l.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--warning",children:l.jsx(V4,{size:28})}),l.jsx("h3",{children:"Suivi de progression"}),l.jsx("p",{children:"Visualisez vos progrs et identifiez vos points faibles pour cibler vos rvisions."})]}),l.jsxs("div",{className:"home-page__feature-card",children:[l.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--success",children:l.jsx(pj,{size:28})}),l.jsx("h3",{children:"Contenu vrifi"}),l.jsx("p",{children:"Tous nos contenus sont valids par des professeurs certifis pour garantir leur qualit."})]}),l.jsxs("div",{className:"home-page__feature-card",children:[l.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--info",children:l.jsx(ad,{size:28})}),l.jsx("h3",{children:"Accessible 24/7"}),l.jsx("p",{children:"tudiez  votre rythme, o que vous soyez, sur ordinateur, tablette ou smartphone."})]}),l.jsxs("div",{className:"home-page__feature-card",children:[l.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--premium",children:l.jsx(_c,{size:28})}),l.jsx("h3",{children:"Certificats"}),l.jsx("p",{children:"Obtenez des certificats de russite pour valoriser vos comptences acquises."})]})]})]})}),l.jsx("section",{className:"home-page__premium",children:l.jsx("div",{className:"home-page__container",children:l.jsxs("div",{className:"home-page__premium-content",children:[l.jsxs("div",{className:"home-page__premium-text",children:[l.jsx("span",{className:"home-page__premium-badge",children:" Premium"}),l.jsx("h2",{children:"Passez  la vitesse suprieure"}),l.jsxs("p",{children:["Accdez  tous les quiz, exercices corrigs et ressources exclusives pour seulement ",l.jsx("strong",{children:"2 000 FCFA/mois"}),"."]}),l.jsxs("ul",{className:"home-page__premium-features",children:[l.jsxs("li",{children:[l.jsx(gn,{size:18})," Quiz illimits dans toutes les matires"]}),l.jsxs("li",{children:[l.jsx(gn,{size:18})," Corrections dtailles des exercices"]}),l.jsxs("li",{children:[l.jsx(gn,{size:18})," Annales des examens (BFEM, BAC)"]}),l.jsxs("li",{children:[l.jsx(gn,{size:18})," Support prioritaire"]})]}),l.jsxs(Xe,{to:"/premium",className:"home-page__btn home-page__btn--premium",children:["Dcouvrir Premium",l.jsx(Xl,{size:20})]})]}),l.jsx("div",{className:"home-page__premium-pricing",children:l.jsxs("div",{className:"home-page__pricing-card",children:[l.jsx("span",{className:"home-page__pricing-popular",children:"Plus populaire"}),l.jsx("h3",{children:"Abonnement Annuel"}),l.jsxs("div",{className:"home-page__pricing-price",children:[l.jsx("span",{className:"home-page__pricing-amount",children:"20 000"}),l.jsx("span",{className:"home-page__pricing-currency",children:"FCFA"}),l.jsx("span",{className:"home-page__pricing-period",children:"/an"})]}),l.jsx("p",{className:"home-page__pricing-save",children:"conomisez 4 000 FCFA vs mensuel"}),l.jsx(Xe,{to:"/premium",className:"home-page__btn home-page__btn--primary home-page__btn--block",children:"Choisir ce plan"})]})})]})})}),l.jsx("section",{className:"home-page__testimonials",children:l.jsxs("div",{className:"home-page__container",children:[l.jsx("h2",{className:"home-page__section-title",children:"Ce qu'en disent nos lves"}),l.jsxs("div",{className:"home-page__testimonials-grid",children:[l.jsxs("div",{className:"home-page__testimonial-card",children:[l.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>l.jsx(di,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),l.jsx("p",{className:"home-page__testimonial-text",children:`"Grce  PedaClic, j'ai obtenu mon BFEM avec mention. Les quiz m'ont vraiment aid  me prparer !"`}),l.jsxs("div",{className:"home-page__testimonial-author",children:[l.jsx("div",{className:"home-page__testimonial-avatar",children:"FA"}),l.jsxs("div",{children:[l.jsx("strong",{children:"Fatou Adara"}),l.jsx("span",{children:"lve en 3me - Dakar"})]})]})]}),l.jsxs("div",{className:"home-page__testimonial-card",children:[l.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>l.jsx(di,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),l.jsx("p",{className:"home-page__testimonial-text",children:`"Les cours de maths sont trs bien expliqus. J'ai enfin compris les quations du second degr !"`}),l.jsxs("div",{className:"home-page__testimonial-author",children:[l.jsx("div",{className:"home-page__testimonial-avatar",children:"MD"}),l.jsxs("div",{children:[l.jsx("strong",{children:"Moussa Diallo"}),l.jsx("span",{children:"lve en Terminale S - This"})]})]})]}),l.jsxs("div",{className:"home-page__testimonial-card",children:[l.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>l.jsx(di,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),l.jsx("p",{className:"home-page__testimonial-text",children:`"Je recommande PedaClic  tous les parents. Ma fille a beaucoup progress depuis qu'elle l'utilise."`}),l.jsxs("div",{className:"home-page__testimonial-author",children:[l.jsx("div",{className:"home-page__testimonial-avatar",children:"AN"}),l.jsxs("div",{children:[l.jsx("strong",{children:"Aminata Ndiaye"}),l.jsx("span",{children:"Parent d'lve - Saint-Louis"})]})]})]})]})]})}),l.jsx("section",{className:"home-page__final-cta",children:l.jsxs("div",{className:"home-page__container",children:[l.jsx("h2",{children:"Prt  russir ?"}),l.jsx("p",{children:"Rejoignez les milliers d'lves qui font confiance  PedaClic"}),!t&&l.jsxs(Xe,{to:"/register",className:"home-page__btn home-page__btn--large",children:["Crer mon compte gratuit",l.jsx(Xl,{size:24})]})]})})]})},bY=()=>{const{login:t}=xr(),e=Xa(),r=fl().state?.from||"/",[i,s]=w.useState({email:"",password:""}),[c,d]=w.useState(!1),[f,h]=w.useState(""),[p,g]=w.useState(!1),y=E=>{const{name:S,value:T}=E.target;s(D=>({...D,[S]:T})),f&&h("")},x=()=>i.email.trim()?i.password?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)?!0:(h("Veuillez entrer une adresse email valide."),!1):(h("Veuillez entrer votre mot de passe."),!1):(h("Veuillez entrer votre adresse email."),!1),j=async E=>{if(E.preventDefault(),!!x()){d(!0),h("");try{await t(i.email,i.password),e(r,{replace:!0})}catch(S){S instanceof Error?h(S.message):h("Une erreur est survenue lors de la connexion.")}finally{d(!1)}}};return l.jsx("div",{className:"auth-page",children:l.jsxs("div",{className:"auth-container",children:[l.jsxs("div",{className:"auth-card",children:[l.jsxs("div",{className:"auth-header",children:[l.jsxs(Xe,{to:"/",className:"auth-logo",children:[l.jsx("div",{className:"auth-logo__icon",children:l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),l.jsx("span",{children:"PedaClic"})]}),l.jsx("h1",{className:"auth-title",children:"Connexion"}),l.jsx("p",{className:"auth-subtitle",children:"Accdez  votre espace d'apprentissage"})]}),f&&l.jsxs("div",{className:"auth-error",children:[l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("path",{d:"M12 8v4M12 16h.01"})]}),l.jsx("span",{children:f})]}),l.jsxs("form",{onSubmit:j,className:"auth-form",children:[l.jsxs("div",{className:"auth-field",children:[l.jsx("label",{htmlFor:"email",className:"auth-label",children:"Adresse email"}),l.jsxs("div",{className:"auth-input-wrapper",children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),l.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:y,placeholder:"exemple@email.com",className:"auth-input",autoComplete:"email",disabled:c})]})]}),l.jsxs("div",{className:"auth-field",children:[l.jsx("label",{htmlFor:"password",className:"auth-label",children:"Mot de passe"}),l.jsxs("div",{className:"auth-input-wrapper",children:[l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:[l.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",strokeWidth:"2"}),l.jsx("path",{strokeWidth:"2",d:"M7 11V7a5 5 0 0110 0v4"})]}),l.jsx("input",{type:p?"text":"password",id:"password",name:"password",value:i.password,onChange:y,placeholder:"Votre mot de passe",className:"auth-input",autoComplete:"current-password",disabled:c}),l.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>g(!p),"aria-label":p?"Masquer le mot de passe":"Afficher le mot de passe",children:p?l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),l.jsx("div",{className:"auth-forgot",children:l.jsx(Xe,{to:"/mot-de-passe-oublie",className:"auth-forgot-link",children:"Mot de passe oubli ?"})}),l.jsx("button",{type:"submit",className:"auth-button",disabled:c,children:c?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"auth-button-spinner"}),"Connexion en cours..."]}):"Se connecter"})]}),l.jsx("div",{className:"auth-divider",children:l.jsx("span",{children:"ou"})}),l.jsxs("p",{className:"auth-switch",children:["Pas encore de compte ?"," ",l.jsx(Xe,{to:"/inscription",className:"auth-switch-link",children:"Crer un compte"})]})]}),l.jsxs("div",{className:"auth-welcome",children:[l.jsx("h2",{children:"Bienvenue sur PedaClic !"}),l.jsx("p",{children:"L'cole en un clic - Accdez  des milliers de cours, exercices et quiz."}),l.jsxs("ul",{className:"auth-features",children:[l.jsxs("li",{children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Cours du programme sngalais"]}),l.jsxs("li",{children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Exercices interactifs"]}),l.jsxs("li",{children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quiz pour tester vos connaissances"]}),l.jsxs("li",{children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Suivi de progression"]})]})]})]})})},_Y=()=>{const{register:t}=xr(),e=Xa(),[n,r]=w.useState({email:"",password:"",confirmPassword:"",displayName:"",role:"eleve"}),[i,s]=w.useState(!1),[c,d]=w.useState(""),[f,h]=w.useState(!1),[p,g]=w.useState(!1),[y,x]=w.useState(!1),j=T=>{const{name:D,value:R}=T.target;r(P=>({...P,[D]:R})),c&&d("")},E=()=>n.displayName.trim()?n.displayName.trim().length<2?(d("Le nom doit contenir au moins 2 caractres."),!1):n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?n.password?n.password.length<6?(d("Le mot de passe doit contenir au moins 6 caractres."),!1):n.password!==n.confirmPassword?(d("Les mots de passe ne correspondent pas."),!1):y?!0:(d("Veuillez accepter les conditions d'utilisation."),!1):(d("Veuillez entrer un mot de passe."),!1):(d("Veuillez entrer une adresse email valide."),!1):(d("Veuillez entrer votre adresse email."),!1):(d("Veuillez entrer votre nom complet."),!1),S=async T=>{if(T.preventDefault(),!!E()){s(!0),d("");try{await t(n),e("/disciplines",{replace:!0})}catch(D){D instanceof Error?d(D.message):d("Une erreur est survenue lors de l'inscription.")}finally{s(!1)}}};return l.jsx("div",{className:"auth-page",children:l.jsxs("div",{className:"auth-container",children:[l.jsxs("div",{className:"auth-card auth-card--register",children:[l.jsxs("div",{className:"auth-header",children:[l.jsxs(Xe,{to:"/",className:"auth-logo",children:[l.jsx("div",{className:"auth-logo__icon",children:l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),l.jsx("span",{children:"PedaClic"})]}),l.jsx("h1",{className:"auth-title",children:"Crer un compte"}),l.jsx("p",{className:"auth-subtitle",children:"Rejoignez PedaClic et commencez  apprendre"})]}),c&&l.jsxs("div",{className:"auth-error",children:[l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("path",{d:"M12 8v4M12 16h.01"})]}),l.jsx("span",{children:c})]}),l.jsxs("form",{onSubmit:S,className:"auth-form",children:[l.jsxs("div",{className:"auth-field",children:[l.jsx("label",{htmlFor:"displayName",className:"auth-label",children:"Nom complet"}),l.jsxs("div",{className:"auth-input-wrapper",children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),l.jsx("input",{type:"text",id:"displayName",name:"displayName",value:n.displayName,onChange:j,placeholder:"Amadou Diallo",className:"auth-input",autoComplete:"name",disabled:i})]})]}),l.jsxs("div",{className:"auth-field",children:[l.jsx("label",{htmlFor:"email",className:"auth-label",children:"Adresse email"}),l.jsxs("div",{className:"auth-input-wrapper",children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),l.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:j,placeholder:"exemple@email.com",className:"auth-input",autoComplete:"email",disabled:i})]})]}),l.jsxs("div",{className:"auth-field",children:[l.jsx("label",{className:"auth-label",children:"Je suis :"}),l.jsxs("div",{className:"auth-role-selector",children:[l.jsxs("label",{className:`auth-role-option ${n.role==="eleve"?"auth-role-option--selected":""}`,children:[l.jsx("input",{type:"radio",name:"role",value:"eleve",checked:n.role==="eleve",onChange:j,className:"auth-role-input",disabled:i}),l.jsxs("div",{className:"auth-role-content",children:[l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l9-5-9-5-9 5 9 5z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"})]}),l.jsx("span",{children:"lve"})]})]}),l.jsxs("label",{className:`auth-role-option ${n.role==="prof"?"auth-role-option--selected":""}`,children:[l.jsx("input",{type:"radio",name:"role",value:"prof",checked:n.role==="prof",onChange:j,className:"auth-role-input",disabled:i}),l.jsxs("div",{className:"auth-role-content",children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),l.jsx("span",{children:"Professeur"})]})]}),l.jsxs("label",{className:`auth-role-option ${n.role==="parent"?"auth-role-option--selected":""}`,children:[l.jsx("input",{type:"radio",name:"role",value:"parent",checked:n.role==="parent",onChange:j,className:"auth-role-input",disabled:i}),l.jsxs("div",{className:"auth-role-content",children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),l.jsx("span",{children:"Parent d'lve"})]})]})]})]}),l.jsxs("div",{className:"auth-field",children:[l.jsx("label",{htmlFor:"password",className:"auth-label",children:"Mot de passe"}),l.jsxs("div",{className:"auth-input-wrapper",children:[l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:[l.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",strokeWidth:"2"}),l.jsx("path",{strokeWidth:"2",d:"M7 11V7a5 5 0 0110 0v4"})]}),l.jsx("input",{type:f?"text":"password",id:"password",name:"password",value:n.password,onChange:j,placeholder:"Minimum 6 caractres",className:"auth-input",autoComplete:"new-password",disabled:i}),l.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>h(!f),"aria-label":f?"Masquer":"Afficher",children:f?l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),l.jsx("p",{className:"auth-hint",children:"Au moins 6 caractres avec des lettres et des chiffres"})]}),l.jsxs("div",{className:"auth-field",children:[l.jsx("label",{htmlFor:"confirmPassword",className:"auth-label",children:"Confirmer le mot de passe"}),l.jsxs("div",{className:"auth-input-wrapper",children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),l.jsx("input",{type:p?"text":"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:j,placeholder:"Retapez votre mot de passe",className:"auth-input",autoComplete:"new-password",disabled:i}),l.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>g(!p),"aria-label":p?"Masquer":"Afficher",children:p?l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),l.jsx("div",{className:"auth-checkbox-field",children:l.jsxs("label",{className:"auth-checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:y,onChange:T=>x(T.target.checked),className:"auth-checkbox",disabled:i}),l.jsx("span",{className:"auth-checkbox-custom"}),l.jsxs("span",{children:["J'accepte les"," ",l.jsx(Xe,{to:"/cgu",target:"_blank",className:"auth-link",children:"conditions d'utilisation"})," ","et la"," ",l.jsx(Xe,{to:"/confidentialite",target:"_blank",className:"auth-link",children:"politique de confidentialit"})]})]})}),l.jsx("button",{type:"submit",className:"auth-button",disabled:i,children:i?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"auth-button-spinner"}),"Cration du compte..."]}):"Crer mon compte"})]}),l.jsx("div",{className:"auth-divider",children:l.jsx("span",{children:"ou"})}),l.jsxs("p",{className:"auth-switch",children:["Dj un compte ?"," ",l.jsx(Xe,{to:"/connexion",className:"auth-switch-link",children:"Se connecter"})]})]}),l.jsxs("div",{className:"auth-welcome auth-welcome--register",children:[l.jsx("h2",{children:"Rejoignez la communaut PedaClic"}),l.jsx("p",{children:"Des milliers d'lves et professeurs sngalais nous font dj confiance."}),l.jsxs("div",{className:"auth-stats",children:[l.jsxs("div",{className:"auth-stat",children:[l.jsx("span",{className:"auth-stat-number",children:"10 000+"}),l.jsx("span",{className:"auth-stat-label",children:"lves inscrits"})]}),l.jsxs("div",{className:"auth-stat",children:[l.jsx("span",{className:"auth-stat-number",children:"500+"}),l.jsx("span",{className:"auth-stat-label",children:"Cours disponibles"})]}),l.jsxs("div",{className:"auth-stat",children:[l.jsx("span",{className:"auth-stat-number",children:"95%"}),l.jsx("span",{className:"auth-stat-label",children:"Taux de satisfaction"})]})]}),l.jsxs("div",{className:"auth-testimonial",children:[l.jsx("p",{className:"auth-testimonial-text",children:`"Grce  PedaClic, j'ai amlior mes notes en mathmatiques de 4 points !"`}),l.jsx("p",{className:"auth-testimonial-author",children:" Fatou N., lve de 3me  Dakar"})]})]})]})})},xY=()=>{const[t,e]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState(!0),[c,d]=w.useState(null),[f,h]=w.useState("tous"),[p,g]=w.useState("");w.useEffect(()=>{(async()=>{try{s(!0);const j=Ht(Et(Ae,"disciplines"),Qr("ordre","asc")),S=(await Gt(j)).docs.map(T=>({id:T.id,...T.data()}));e(S),r(S),d(null)}catch(j){console.error("Erreur chargement disciplines:",j),d("Impossible de charger les disciplines. Veuillez ressayer.")}finally{s(!1)}})()},[]),w.useEffect(()=>{let x=t;if(f!=="tous"&&(x=x.filter(j=>j.niveau===f)),p.trim()){const j=p.toLowerCase();x=x.filter(E=>E.nom.toLowerCase().includes(j)||E.description.toLowerCase().includes(j)||E.classe.toLowerCase().includes(j))}r(x)},[t,f,p]);const y={tous:t.length,college:t.filter(x=>x.niveau==="college").length,lycee:t.filter(x=>x.niveau==="lycee").length};return i?l.jsx("div",{style:Fe.container,children:l.jsxs("div",{style:Fe.loadingContainer,children:[l.jsx("div",{style:Fe.spinner}),l.jsx("p",{style:Fe.loadingText,children:"Chargement des disciplines..."})]})}):c?l.jsx("div",{style:Fe.container,children:l.jsxs("div",{style:Fe.errorContainer,children:[l.jsx("span",{style:Fe.errorIcon,children:""}),l.jsx("h2",{style:Fe.errorTitle,children:"Erreur"}),l.jsx("p",{style:Fe.errorText,children:c}),l.jsx("button",{onClick:()=>window.location.reload(),style:Fe.retryButton,children:" Ressayer"})]})}):l.jsxs("div",{style:Fe.container,children:[l.jsx("header",{style:Fe.header,children:l.jsxs("div",{style:Fe.headerContent,children:[l.jsx(Xe,{to:"/",style:Fe.backLink,children:" Accueil"}),l.jsx("h1",{style:Fe.title,children:" Nos Disciplines"}),l.jsx("p",{style:Fe.subtitle,children:"Dcouvrez toutes les matires disponibles sur PedaClic, de la 6me  la Terminale."})]})}),l.jsx("div",{style:Fe.filtersSection,children:l.jsxs("div",{style:Fe.filtersContainer,children:[l.jsxs("div",{style:Fe.searchBox,children:[l.jsx("span",{style:Fe.searchIcon,children:""}),l.jsx("input",{type:"text",placeholder:"Rechercher une discipline...",value:p,onChange:x=>g(x.target.value),style:Fe.searchInput}),p&&l.jsx("button",{onClick:()=>g(""),style:Fe.clearSearch,children:""})]}),l.jsxs("div",{style:Fe.niveauFilters,children:[l.jsxs("button",{onClick:()=>h("tous"),style:{...Fe.filterButton,...f==="tous"?Fe.filterButtonActive:{}},children:[" Tous (",y.tous,")"]}),l.jsxs("button",{onClick:()=>h("college"),style:{...Fe.filterButton,...f==="college"?Fe.filterButtonActive:{}},children:[" Collge (",y.college,")"]}),l.jsxs("button",{onClick:()=>h("lycee"),style:{...Fe.filterButton,...f==="lycee"?Fe.filterButtonActive:{}},children:[" Lyce (",y.lycee,")"]})]})]})}),l.jsx("main",{style:Fe.main,children:n.length===0?l.jsxs("div",{style:Fe.emptyState,children:[l.jsx("span",{style:Fe.emptyIcon,children:""}),l.jsx("h3",{style:Fe.emptyTitle,children:"Aucune discipline trouve"}),l.jsx("p",{style:Fe.emptyText,children:"Essayez de modifier vos critres de recherche."}),l.jsx("button",{onClick:()=>{h("tous"),g("")},style:Fe.resetButton,children:"Rinitialiser les filtres"})]}):l.jsx("div",{style:Fe.grid,children:n.map(x=>l.jsx(wY,{discipline:x},x.id))})}),l.jsxs("footer",{style:Fe.footer,children:[l.jsx("p",{children:" PedaClic - L'cole en un clic"}),l.jsxs("p",{style:Fe.footerSubtext,children:[t.length," disciplines disponibles  6me  Terminale"]})]})]})},wY=({discipline:t})=>{const e=t.niveau==="college"?"Collge":"Lyce",n=t.niveau==="college"?"":"";return l.jsxs(Xe,{to:`/disciplines/${t.id}`,style:Fe.card,className:"discipline-card",children:[l.jsx("div",{style:{...Fe.cardIcon,backgroundColor:t.couleur||"#2563eb"},children:l.jsx("span",{style:Fe.cardEmoji,children:t.icone||""})}),l.jsxs("div",{style:Fe.cardContent,children:[l.jsx("h3",{style:Fe.cardTitle,children:t.nom}),l.jsxs("div",{style:Fe.cardMeta,children:[l.jsxs("span",{style:Fe.cardBadge,children:[n," ",e]}),l.jsxs("span",{style:Fe.cardBadge,children:[" ",t.classe]}),l.jsxs("span",{style:Fe.cardBadge,children:[" Coef. ",t.coefficient]})]}),l.jsx("p",{style:Fe.cardDescription,children:t.description})]}),l.jsx("div",{style:Fe.cardArrow,children:""})]})},Fe={container:{minHeight:"100vh",backgroundColor:"#f3f4f6",fontFamily:"system-ui, -apple-system, sans-serif"},header:{background:"linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%)",color:"white",padding:"2rem 1rem 3rem"},headerContent:{maxWidth:"1200px",margin:"0 auto"},backLink:{color:"rgba(255,255,255,0.8)",textDecoration:"none",fontSize:"0.9rem",display:"inline-block",marginBottom:"1rem"},title:{fontSize:"2.5rem",fontWeight:"700",margin:"0 0 0.5rem 0"},subtitle:{fontSize:"1.1rem",opacity:.9,margin:0,maxWidth:"600px"},filtersSection:{backgroundColor:"white",borderBottom:"1px solid #e5e7eb",padding:"1rem",position:"sticky",top:0,zIndex:10,boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},filtersContainer:{maxWidth:"1200px",margin:"0 auto",display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"center",justifyContent:"space-between"},searchBox:{display:"flex",alignItems:"center",backgroundColor:"#f3f4f6",borderRadius:"8px",padding:"0.5rem 1rem",flex:"1",maxWidth:"400px",minWidth:"200px"},searchIcon:{marginRight:"0.5rem",fontSize:"1rem"},searchInput:{border:"none",background:"transparent",flex:1,fontSize:"1rem",outline:"none"},clearSearch:{background:"none",border:"none",cursor:"pointer",color:"#6b7280",fontSize:"1rem",padding:"0 0.25rem"},niveauFilters:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},filterButton:{padding:"0.5rem 1rem",borderRadius:"20px",border:"1px solid #e5e7eb",backgroundColor:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.2s",color:"#374151"},filterButtonActive:{backgroundColor:"#2563eb",borderColor:"#2563eb",color:"white"},main:{maxWidth:"1200px",margin:"0 auto",padding:"2rem 1rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"1.5rem"},card:{display:"flex",alignItems:"flex-start",gap:"1rem",backgroundColor:"white",borderRadius:"12px",padding:"1.5rem",textDecoration:"none",color:"inherit",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",transition:"all 0.2s ease",border:"1px solid #e5e7eb"},cardIcon:{width:"60px",height:"60px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},cardEmoji:{fontSize:"1.75rem"},cardContent:{flex:1,minWidth:0},cardTitle:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",margin:"0 0 0.5rem 0"},cardMeta:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"0.75rem"},cardBadge:{fontSize:"0.75rem",padding:"0.25rem 0.5rem",backgroundColor:"#f3f4f6",borderRadius:"4px",color:"#6b7280"},cardDescription:{fontSize:"0.9rem",color:"#6b7280",margin:0,lineHeight:"1.5",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},cardArrow:{color:"#9ca3af",fontSize:"1.25rem",alignSelf:"center",transition:"transform 0.2s"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh"},spinner:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTopColor:"#2563eb",borderRadius:"50%",animation:"spin 1s linear infinite"},loadingText:{marginTop:"1rem",color:"#6b7280"},errorContainer:{textAlign:"center",padding:"4rem 2rem"},errorIcon:{fontSize:"4rem"},errorTitle:{color:"#dc2626",margin:"1rem 0 0.5rem"},errorText:{color:"#6b7280",marginBottom:"1.5rem"},retryButton:{padding:"0.75rem 1.5rem",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem"},emptyState:{textAlign:"center",padding:"4rem 2rem",backgroundColor:"white",borderRadius:"12px"},emptyIcon:{fontSize:"4rem"},emptyTitle:{color:"#1f2937",margin:"1rem 0 0.5rem"},emptyText:{color:"#6b7280",marginBottom:"1.5rem"},resetButton:{padding:"0.75rem 1.5rem",backgroundColor:"#f3f4f6",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"8px",cursor:"pointer",fontSize:"1rem"},footer:{textAlign:"center",padding:"2rem",backgroundColor:"#1f2937",color:"white",marginTop:"2rem"},footerSubtext:{fontSize:"0.85rem",opacity:.7,marginTop:"0.5rem"}},EY=()=>l.jsx("style",{children:`
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .discipline-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 24px rgba(0,0,0,0.15) !important;
      border-color: #2563eb !important;
    }
    
    .discipline-card:hover .card-arrow {
      transform: translateX(4px);
    }
  `}),jY=()=>l.jsxs(l.Fragment,{children:[l.jsx(EY,{}),l.jsx(xY,{})]}),Mf="disciplines",SO=t=>{const e=t.data();return{id:t.id,nom:e.nom,niveau:e.niveau,classe:e.classe,ordre:e.ordre,coefficient:e.coefficient,couleur:e.couleur,icone:e.icone,description:e.description,createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()}},Da={async getAll(t){try{const e=[Qr("ordre","asc")];t?.niveau&&e.unshift(at("niveau","==",t.niveau)),t?.classe&&e.unshift(at("classe","==",t.classe));const n=Ht(Et(Ae,Mf),...e);return(await Gt(n)).docs.map(SO)}catch(e){throw console.error("Erreur lors de la rcupration des disciplines:",e),new Error("Impossible de rcuprer les disciplines")}},async getById(t){try{const e=tt(Ae,Mf,t),n=await oa(e);return n.exists()?SO(n):null}catch(e){throw console.error("Erreur lors de la rcupration de la discipline:",e),new Error("Impossible de rcuprer la discipline")}},async getByNiveau(t){return this.getAll({niveau:t})},async getByClasse(t){return this.getAll({classe:t})},async create(t){try{return(await Hs(Et(Ae,Mf),{...t,createdAt:zn(),updatedAt:zn()})).id}catch(e){throw console.error("Erreur lors de la cration de la discipline:",e),new Error("Impossible de crer la discipline")}},async update(t,e){try{const n=tt(Ae,Mf,t);await Un(n,{...e,updatedAt:zn()})}catch(n){throw console.error("Erreur lors de la mise  jour de la discipline:",n),new Error("Impossible de mettre  jour la discipline")}},async delete(t){try{const e=tt(Ae,Mf,t);await Ey(e)}catch(e){throw console.error("Erreur lors de la suppression de la discipline:",e),new Error("Impossible de supprimer la discipline")}},async exists(t){return await this.getById(t)!==null},async countByNiveau(t){return(await this.getByNiveau(t)).length}},Wl="ressources",SY="ressources",NO=t=>{const e=t.data();return{id:t.id,disciplineId:e.disciplineId,titre:e.titre,type:e.type,contenu:e.contenu,description:e.description,isPremium:e.isPremium||!1,ordre:e.ordre||0,chapitre:e.chapitre,fichierURL:e.fichierURL,dureeEstimee:e.dureeEstimee,tags:e.tags||[],auteurId:e.auteurId,createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()}},NY=t=>{const e=Date.now(),n=t.split(".").pop();return`${t.replace(/\.[^/.]+$/,"").replace(/[^a-zA-Z0-9]/g,"_")}_${e}.${n}`},_s={async getAll(t,e){try{const n=[Qr("ordre","asc")];t?.disciplineId&&n.unshift(at("disciplineId","==",t.disciplineId)),t?.chapitreId&&n.unshift(at("chapitre","==",t.chapitreId)),t?.type&&n.unshift(at("type","==",t.type)),t?.isPremium!==void 0&&n.unshift(at("isPremium","==",t.isPremium)),t?.auteurId&&n.unshift(at("auteurId","==",t.auteurId)),e&&n.push(ll(e));const r=Ht(Et(Ae,Wl),...n);return(await Gt(r)).docs.map(NO)}catch(n){throw console.error("Erreur lors de la rcupration des ressources:",n),new Error("Impossible de rcuprer les ressources")}},async getById(t){try{const e=tt(Ae,Wl,t),n=await oa(e);return n.exists()?NO(n):null}catch(e){throw console.error("Erreur lors de la rcupration de la ressource:",e),new Error("Impossible de rcuprer la ressource")}},async getByDiscipline(t){return this.getAll({disciplineId:t})},async getByChapitre(t){return this.getAll({chapitreId:t})},async getByType(t){return this.getAll({type:t})},async getPremium(){return this.getAll({isPremium:!0})},async getFree(){return this.getAll({isPremium:!1})},async create(t,e){try{return(await Hs(Et(Ae,Wl),{...t,auteurId:e,createdAt:zn(),updatedAt:zn()})).id}catch(n){throw console.error("Erreur lors de la cration de la ressource:",n),new Error("Impossible de crer la ressource")}},async update(t,e){try{const n=tt(Ae,Wl,t);await Un(n,{...e,updatedAt:zn()})}catch(n){throw console.error("Erreur lors de la mise  jour de la ressource:",n),new Error("Impossible de mettre  jour la ressource")}},async delete(t){try{const e=await this.getById(t);e?.fichierURL&&await this.deleteFile(e.fichierURL);const n=tt(Ae,Wl,t);await Ey(n)}catch(e){throw console.error("Erreur lors de la suppression de la ressource:",e),new Error("Impossible de supprimer la ressource")}},async deleteByDiscipline(t){try{const e=await this.getByDiscipline(t),n=jh(Ae);for(const r of e){r.fichierURL&&await this.deleteFile(r.fichierURL);const i=tt(Ae,Wl,r.id);n.delete(i)}await n.commit()}catch(e){throw console.error("Erreur lors de la suppression des ressources:",e),new Error("Impossible de supprimer les ressources")}},async uploadFile(t,e){try{const n=NY(t.name),r=`${SY}/${e}/${n}`,i=gO(vO,r);return await TW(i,t),await CW(i)}catch(n){throw console.error("Erreur lors de l'upload du fichier:",n),new Error("Impossible d'uploader le fichier")}},async deleteFile(t){try{const e=gO(vO,t);await OW(e)}catch(e){console.warn("Fichier non trouv ou dj supprim:",e)}},async reorder(t,e){try{const n=jh(Ae);e.forEach((r,i)=>{const s=tt(Ae,Wl,r);n.update(s,{ordre:i+1,updatedAt:zn()})}),await n.commit()}catch(n){throw console.error("Erreur lors de la rorganisation des ressources:",n),new Error("Impossible de rorganiser les ressources")}},async togglePremium(t,e){await this.update(t,{isPremium:e})},async countByType(t){return(await this.getByType(t)).length},async getStats(){try{const t=await this.getAll(),e={total:t.length,premium:t.filter(n=>n.isPremium).length,gratuit:t.filter(n=>!n.isPremium).length,parType:{cours:0,exercice:0,video:0,document:0,quiz:0}};return t.forEach(n=>{e.parType[n.type]!==void 0&&e.parType[n.type]++}),e}catch(t){throw console.error("Erreur lors du calcul des statistiques:",t),new Error("Impossible de calculer les statistiques")}}},AY=()=>{const{id:t}=LD(),e=Xa(),[n,r]=w.useState(null),[i,s]=w.useState([]),[c,d]=w.useState([]),[f,h]=w.useState(!0),[p,g]=w.useState(null),[y,x]=w.useState("tous"),[j,E]=w.useState(new Set),S=w.useCallback(async()=>{if(t)try{h(!0),g(null);const k=await Da.getById(t);if(!k){g("Discipline introuvable."),h(!1);return}r(k);const V=await _s.getAll({disciplineId:t}),U=new Map,z=[];for(const W of V){const Q=W.chapitre||W.chapitreId;Q?(U.has(Q)||U.set(Q,[]),U.get(Q).push(W)):z.push(W)}const M=Array.from(U.entries()).map(([W,Q])=>({chapitreNom:W,ressources:Q.sort((H,oe)=>H.ordre-oe.ordre)})).sort((W,Q)=>W.chapitreNom.localeCompare(Q.chapitreNom,"fr"));s(M),d(z),M.length>0&&E(new Set([M[0].chapitreNom]))}catch(k){console.error("Erreur chargement discipline:",k),g("Impossible de charger les donnes. Ressayez plus tard.")}finally{h(!1)}},[t]);w.useEffect(()=>{S()},[S]);const T=k=>{E(V=>{const U=new Set(V);return U.has(k)?U.delete(k):U.add(k),U})},D=k=>y==="tous"?k:k.filter(V=>V.type===y),R=k=>{switch(k){case"cours":return"";case"exercice":return"";case"video":return"";case"document":return"";case"quiz":return"";default:return""}},P=k=>{switch(k){case"cours":return"Cours";case"exercice":return"Exercice";case"video":return"Vido";case"document":return"Document";case"quiz":return"Quiz";default:return k}},$=k=>{switch(k){case"cours":return"#3b82f6";case"exercice":return"#10b981";case"video":return"#f59e0b";case"document":return"#8b5cf6";case"quiz":return"#ef4444";default:return"#6b7280"}},B=k=>k==="college"?"Collge":"Lyce";if(f)return l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"4rem 1rem",minHeight:"50vh"},children:[l.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTopColor:"#2563eb",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),l.jsx("p",{style:{marginTop:"1rem",color:"#6b7280"},children:"Chargement de la discipline..."}),l.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]});if(p||!n)return l.jsxs("div",{style:{maxWidth:"600px",margin:"3rem auto",padding:"2rem",textAlign:"center",background:"#fef2f2",borderRadius:"12px",border:"1px solid #fecaca"},children:[l.jsx("span",{style:{fontSize:"3rem"},children:""}),l.jsx("h2",{style:{color:"#991b1b",margin:"1rem 0 0.5rem"},children:p||"Discipline introuvable"}),l.jsx("p",{style:{color:"#b91c1c",marginBottom:"1.5rem"},children:"Vrifiez le lien ou retournez  la liste des disciplines."}),l.jsx("button",{onClick:()=>e("/disciplines"),style:{padding:"0.75rem 1.5rem",background:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:600},children:" Retour aux disciplines"})]});const I=[...i.flatMap(k=>k.ressources),...c],O=[...new Set(I.map(k=>k.type))];return l.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"1.5rem 1rem"},children:[l.jsxs("nav",{style:{marginBottom:"1.5rem",fontSize:"0.875rem",color:"#6b7280"},children:[l.jsx(Xe,{to:"/",style:{color:"#2563eb",textDecoration:"none"},children:"Accueil"}),l.jsx("span",{style:{margin:"0 0.5rem"},children:"/"}),l.jsx(Xe,{to:"/disciplines",style:{color:"#2563eb",textDecoration:"none"},children:"Disciplines"}),l.jsx("span",{style:{margin:"0 0.5rem"},children:"/"}),l.jsx("span",{style:{color:"#374151"},children:n.nom})]}),l.jsxs("header",{style:{background:"linear-gradient(135deg, #1e40af 0%, #3b82f6 100%)",borderRadius:"16px",padding:"2rem",color:"#fff",marginBottom:"2rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.75rem"},children:[l.jsx("span",{style:{fontSize:"2.5rem"},children:n.icone||""}),l.jsxs("div",{children:[l.jsx("h1",{style:{fontSize:"1.75rem",fontWeight:700,margin:0},children:n.nom}),n.description&&l.jsx("p",{style:{margin:"0.25rem 0 0",opacity:.9,fontSize:"0.95rem"},children:n.description})]})]}),l.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap",marginTop:"1rem"},children:[l.jsxs("span",{style:{background:"rgba(255,255,255,0.2)",padding:"0.35rem 0.75rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:600},children:[" ",B(n.niveau),"  ",n.classe]}),l.jsxs("span",{style:{background:"rgba(255,255,255,0.2)",padding:"0.35rem 0.75rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:600},children:[" ",I.length," ressource",I.length!==1?"s":""]}),n.coefficient&&l.jsxs("span",{style:{background:"rgba(255,255,255,0.2)",padding:"0.35rem 0.75rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:600},children:[" Coeff. ",n.coefficient]})]})]}),O.length>1&&l.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",marginBottom:"1.5rem"},children:[l.jsxs("button",{onClick:()=>x("tous"),style:{padding:"0.5rem 1rem",borderRadius:"20px",border:y==="tous"?"2px solid #2563eb":"1px solid #d1d5db",background:y==="tous"?"#2563eb":"#fff",color:y==="tous"?"#fff":"#374151",cursor:"pointer",fontSize:"0.85rem",fontWeight:600,transition:"all 0.2s"},children:["Tous (",I.length,")"]}),O.map(k=>{const V=I.filter(z=>z.type===k).length,U=y===k;return l.jsxs("button",{onClick:()=>x(k),style:{padding:"0.5rem 1rem",borderRadius:"20px",border:U?`2px solid ${$(k)}`:"1px solid #d1d5db",background:U?$(k):"#fff",color:U?"#fff":"#374151",cursor:"pointer",fontSize:"0.85rem",fontWeight:600,transition:"all 0.2s"},children:[R(k)," ",P(k)," (",V,")"]},k)})]}),i.length===0&&c.length===0?l.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem",background:"#f9fafb",borderRadius:"12px",border:"1px solid #e5e7eb"},children:[l.jsx("span",{style:{fontSize:"3rem"},children:""}),l.jsx("h3",{style:{color:"#374151",margin:"1rem 0 0.5rem"},children:"Aucune ressource disponible"}),l.jsx("p",{style:{color:"#6b7280"},children:"Les cours et exercices pour cette discipline seront bientt ajouts."})]}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[i.map(k=>{const V=D(k.ressources);if(V.length===0&&y!=="tous")return null;const U=j.has(k.chapitreNom),z=y==="tous"?k.ressources:V;return l.jsxs("div",{style:{background:"#fff",borderRadius:"12px",border:"1px solid #e5e7eb",overflow:"hidden",transition:"box-shadow 0.2s",boxShadow:U?"0 4px 12px rgba(0,0,0,0.08)":"none"},children:[l.jsx("button",{onClick:()=>T(k.chapitreNom),style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1.25rem",background:U?"#f0f5ff":"#fff",border:"none",cursor:"pointer",textAlign:"left",transition:"background 0.2s"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("span",{style:{fontSize:"1.25rem",transform:U?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""}),l.jsxs("div",{children:[l.jsx("span",{style:{fontWeight:700,color:"#1f2937",fontSize:"1rem"},children:k.chapitreNom}),l.jsxs("span",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginTop:"2px"},children:[k.ressources.length," ressource",k.ressources.length!==1?"s":""]})]})]})}),U&&l.jsx("div",{style:{padding:"0 1.25rem 1rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:z.map(M=>l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem",background:"#f9fafb",borderRadius:"8px",border:"1px solid #f3f4f6",transition:"background 0.15s",cursor:"pointer"},onMouseEnter:W=>W.currentTarget.style.background="#eef2ff",onMouseLeave:W=>W.currentTarget.style.background="#f9fafb",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flex:1},children:[l.jsx("span",{style:{fontSize:"1.2rem"},children:R(M.type)}),l.jsxs("div",{children:[l.jsx("span",{style:{fontWeight:600,color:"#1f2937",fontSize:"0.9rem"},children:M.titre}),M.description&&l.jsx("span",{style:{display:"block",fontSize:"0.75rem",color:"#9ca3af",marginTop:"2px"},children:M.description})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexShrink:0},children:[l.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,color:"#fff",background:$(M.type)},children:P(M.type)}),M.isPremium&&l.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,color:"#92400e",background:"#fef3c7",border:"1px solid #fde68a"},children:" Premium"}),M.dureeEstimee&&l.jsxs("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:[" ",M.dureeEstimee," min"]})]})]},M.id))})]},k.chapitreNom)}),D(c).length>0&&l.jsxs("div",{style:{background:"#fff",borderRadius:"12px",border:"1px solid #e5e7eb",padding:"1rem 1.25rem"},children:[l.jsx("h3",{style:{fontSize:"1rem",fontWeight:700,color:"#374151",marginBottom:"0.75rem"},children:" Autres ressources"}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:D(c).map(k=>l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem",background:"#f9fafb",borderRadius:"8px",border:"1px solid #f3f4f6"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("span",{style:{fontSize:"1.2rem"},children:R(k.type)}),l.jsx("span",{style:{fontWeight:600,color:"#1f2937",fontSize:"0.9rem"},children:k.titre})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,color:"#fff",background:$(k.type)},children:P(k.type)}),k.isPremium&&l.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,color:"#92400e",background:"#fef3c7",border:"1px solid #fde68a"},children:" Premium"})]})]},k.id))})]})]}),l.jsx("div",{style:{marginTop:"2rem",textAlign:"center"},children:l.jsx(Xe,{to:"/disciplines",style:{display:"inline-block",padding:"0.75rem 1.5rem",background:"#f3f4f6",color:"#374151",borderRadius:"8px",textDecoration:"none",fontWeight:600,transition:"background 0.2s"},children:" Retour aux disciplines"})})]})},L_=[{id:"mensuel",nom:"Mensuel",prix:2e3,duree:"1 mois"},{id:"annuel",nom:"Annuel",prix:2e4,prixOriginal:24e3,duree:"12 mois",economie:"4 000 FCFA",popular:!0}],TY=[{icone:"",titre:"Accs illimit",description:"Tous les cours de la 6me  la Terminale, sans restriction."},{icone:"",titre:"Vidos explicatives",description:"Des cours en vido par des professeurs expriments."},{icone:"",titre:"Exercices corrigs",description:"Des milliers d'exercices avec corrections dtailles."},{icone:"",titre:"Suivi de progression",description:"Tableau de bord personnel pour suivre vos rsultats."},{icone:"",titre:"Quiz interactifs",description:"Testez vos connaissances avec des quiz par matire."},{icone:"",titre:"Support prioritaire",description:"Assistance rapide pour toutes vos questions."},{icone:"",titre:"Accs mobile",description:"Apprenez partout, sur tlphone ou tablette."},{icone:"",titre:"Mises  jour",description:"Nouveaux contenus ajouts rgulirement."}],CY=[{question:"Comment fonctionne l'abonnement Premium ?",reponse:"Une fois votre paiement effectu via Wave, Orange Money ou carte bancaire, votre compte est instantanment mis  niveau. Vous avez accs  tous les contenus Premium pendant la dure de votre abonnement."},{question:"Puis-je annuler mon abonnement ?",reponse:"Oui, vous pouvez annuler  tout moment depuis votre espace personnel. Vous conservez l'accs Premium jusqu' la fin de la priode paye."},{question:"L'abonnement se renouvelle-t-il automatiquement ?",reponse:"Non, chez PedaClic, il n'y a pas de renouvellement automatique. Vous dcidez quand renouveler votre abonnement."},{question:"Quels moyens de paiement acceptez-vous ?",reponse:"Nous acceptons Wave, Orange Money, Free Money et les cartes bancaires (Visa, Mastercard) via notre partenaire PayTech."},{question:"Puis-je partager mon compte Premium ?",reponse:"Chaque compte Premium est personnel et li  une adresse email. Le partage de compte est interdit pour garantir un suivi de progression personnalis."}],OY=()=>{const{currentUser:t}=xr(),e=fl(),n=Xa(),[r,i]=w.useState("annuel"),[s,c]=w.useState(!1),[d,f]=w.useState(null),[h,p]=w.useState(null);e.state?.from;const g=()=>!t||!t.isPremium?!1:t.subscriptionEnd?(t.subscriptionEnd instanceof Date?t.subscriptionEnd:new Date(t.subscriptionEnd))>new Date:!0,y=async()=>{if(!t){n("/connexion",{state:{from:"/premium"}});return}if(g()){f("Vous tes dj abonn Premium !");return}try{c(!0),f(null);const E=L_.find(P=>P.id===r);if(!E)throw new Error("Plan invalide");const S=await Hs(Et(Ae,"transactions"),{userId:t.uid,userEmail:t.email,planType:r,montant:E.prix,devise:"XOF",statut:"pending",dateTransaction:zn(),createdAt:zn()}),T={apiKey:"your_paytech_key",apiSecret:"demo_api_secret",item_name:`PedaClic Premium ${E.nom}`,item_price:E.prix,currency:"XOF",ref_command:S.id,success_url:`${window.location.origin}/premium/success?ref=${S.id}`,cancel_url:`${window.location.origin}/premium/cancel?ref=${S.id}`,ipn_url:"/api/paytech/ipn",custom_field:JSON.stringify({userId:t.uid,planType:r,transactionId:S.id}),env:"test"},R=await(await fetch("https://paytech.sn/api/payment/request-payment",{method:"POST",headers:{"Content-Type":"application/json",API_KEY:T.apiKey,API_SECRET:T.apiSecret},body:JSON.stringify({item_name:T.item_name,item_price:T.item_price,currency:T.currency,ref_command:T.ref_command,command_name:`Abonnement Premium ${E.nom} - ${t.email}`,env:T.env,ipn_url:T.ipn_url,success_url:T.success_url,cancel_url:T.cancel_url,custom_field:T.custom_field})})).json();if(R.success===1&&R.redirect_url)window.location.href=R.redirect_url;else{console.log("Mode dmo PayTech - Simulation de paiement");const P=new Date,$=new Date(P);r==="mensuel"?$.setMonth($.getMonth()+1):$.setFullYear($.getFullYear()+1),await Un(tt(Ae,"users",t.uid),{isPremium:!0,subscriptionEnd:$,subscriptionPlan:r,updatedAt:zn()}),await Un(tt(Ae,"transactions",S.id),{statut:"success",paytechTransactionId:"DEMO_"+Date.now(),dateExpiration:$,updatedAt:zn()}),n("/premium/success",{state:{plan:E.nom,montant:E.prix,expiration:$.toLocaleDateString("fr-FR")}})}}catch(E){console.error("Erreur paiement:",E),f("Une erreur est survenue lors du paiement. Veuillez ressayer.")}finally{c(!1)}},x=E=>{p(h===E?null:E)},j=E=>E.toLocaleString("fr-FR")+" FCFA";if(g()){const E=t?.subscriptionEnd instanceof Date?t.subscriptionEnd:new Date(t?.subscriptionEnd||Date.now());return l.jsx("div",{className:"premium-page",children:l.jsx("div",{className:"container",children:l.jsxs("div",{className:"premium-already",children:[l.jsx("span",{className:"premium-already__icon",children:""}),l.jsx("h1",{children:"Vous tes dj Premium !"}),l.jsxs("p",{children:["Votre abonnement est actif jusqu'au"," ",l.jsx("strong",{children:E.toLocaleDateString("fr-FR")})]}),l.jsxs("div",{className:"premium-already__actions",children:[l.jsx(Xe,{to:"/disciplines",className:"btn btn--primary",children:"Accder aux cours"}),l.jsx(Xe,{to:"/dashboard",className:"btn btn--outline",children:"Mon tableau de bord"})]})]})})})}return l.jsxs("div",{className:"premium-page",children:[l.jsx("section",{className:"premium-hero",children:l.jsxs("div",{className:"container",children:[l.jsx("span",{className:"premium-hero__badge",children:" Premium"}),l.jsxs("h1",{className:"premium-hero__title",children:["Dbloquez tout le potentiel de ",l.jsx("span",{children:"PedaClic"})]}),l.jsx("p",{className:"premium-hero__subtitle",children:"Accdez  tous les cours, exercices corrigs, vidos et quiz de la 6me  la Terminale. Russissez vos examens !"})]})}),l.jsx("section",{className:"premium-pricing",children:l.jsxs("div",{className:"container",children:[l.jsx("h2",{className:"section-title",children:"Choisissez votre formule"}),l.jsx("div",{className:"pricing-cards",children:L_.map(E=>l.jsxs("div",{className:`pricing-card ${r===E.id?"pricing-card--selected":""} ${E.popular?"pricing-card--popular":""}`,onClick:()=>i(E.id),children:[E.popular&&l.jsx("span",{className:"pricing-card__badge",children:"Le plus populaire"}),l.jsxs("div",{className:"pricing-card__header",children:[l.jsx("h3",{className:"pricing-card__name",children:E.nom}),l.jsx("p",{className:"pricing-card__duration",children:E.duree})]}),l.jsxs("div",{className:"pricing-card__price",children:[E.prixOriginal&&l.jsx("span",{className:"pricing-card__original",children:j(E.prixOriginal)}),l.jsx("span",{className:"pricing-card__amount",children:j(E.prix)}),E.id==="mensuel"&&l.jsx("span",{className:"pricing-card__period",children:"/mois"})]}),E.economie&&l.jsxs("p",{className:"pricing-card__savings",children:["conomisez ",E.economie]}),l.jsx("div",{className:"pricing-card__radio",children:l.jsx("span",{className:`radio-dot ${r===E.id?"radio-dot--active":""}`})})]},E.id))}),l.jsxs("div",{className:"pricing-cta",children:[d&&l.jsxs("div",{className:"pricing-error",children:[l.jsx("span",{children:""})," ",d]}),t?l.jsx("button",{className:"btn btn--premium btn--lg",onClick:y,disabled:s,children:s?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"spinner-sm"}),"Traitement en cours..."]}):l.jsxs(l.Fragment,{children:["Payer ",j(L_.find(E=>E.id===r)?.prix||0)]})}):l.jsxs("div",{className:"pricing-login",children:[l.jsx("p",{children:"Connectez-vous pour souscrire  Premium"}),l.jsx(Xe,{to:"/connexion",state:{from:"/premium"},className:"btn btn--primary btn--lg",children:"Se connecter"}),l.jsxs("p",{className:"pricing-login__register",children:["Pas encore inscrit ?"," ",l.jsx(Xe,{to:"/inscription",state:{from:"/premium"},children:"Crer un compte"})]})]}),l.jsxs("div",{className:"payment-methods",children:[l.jsx("p",{children:"Paiement scuris par"}),l.jsxs("div",{className:"payment-methods__logos",children:[l.jsx("span",{className:"payment-logo",children:" Orange Money"}),l.jsx("span",{className:"payment-logo",children:" Wave"}),l.jsx("span",{className:"payment-logo",children:" Free Money"}),l.jsx("span",{className:"payment-logo",children:" Carte bancaire"})]})]})]})]})}),l.jsx("section",{className:"premium-features",children:l.jsxs("div",{className:"container",children:[l.jsx("h2",{className:"section-title",children:"Tout ce que vous obtenez"}),l.jsx("p",{className:"section-subtitle",children:"Un accs complet  toutes les ressources pdagogiques"}),l.jsx("div",{className:"features-grid",children:TY.map((E,S)=>l.jsxs("div",{className:"feature-card",children:[l.jsx("span",{className:"feature-card__icon",children:E.icone}),l.jsx("h3",{className:"feature-card__title",children:E.titre}),l.jsx("p",{className:"feature-card__description",children:E.description})]},S))})]})}),l.jsx("section",{className:"premium-comparison",children:l.jsxs("div",{className:"container",children:[l.jsx("h2",{className:"section-title",children:"Gratuit vs Premium"}),l.jsxs("div",{className:"comparison-table",children:[l.jsxs("div",{className:"comparison-header",children:[l.jsx("div",{className:"comparison-feature",children:"Fonctionnalits"}),l.jsx("div",{className:"comparison-free",children:"Gratuit"}),l.jsx("div",{className:"comparison-premium",children:"Premium"})]}),[{feature:"Cours de base",free:!0,premium:!0},{feature:"Exercices avec corrections",free:!1,premium:!0},{feature:"Vidos explicatives",free:!1,premium:!0},{feature:"Quiz interactifs",free:!1,premium:!0},{feature:"Suivi de progression",free:!1,premium:!0},{feature:"Tlchargement de documents",free:!1,premium:!0},{feature:"Support prioritaire",free:!1,premium:!0},{feature:"Accs mobile optimis",free:!0,premium:!0}].map((E,S)=>l.jsxs("div",{className:"comparison-row",children:[l.jsx("div",{className:"comparison-feature",children:E.feature}),l.jsx("div",{className:"comparison-free",children:E.free?l.jsx("span",{className:"check",children:""}):l.jsx("span",{className:"cross",children:""})}),l.jsx("div",{className:"comparison-premium",children:l.jsx("span",{className:"check check--premium",children:""})})]},S))]})]})}),l.jsx("section",{className:"premium-testimonials",children:l.jsxs("div",{className:"container",children:[l.jsx("h2",{className:"section-title",children:"Ils ont choisi Premium"}),l.jsxs("div",{className:"testimonials-grid",children:[l.jsxs("div",{className:"testimonial-card",children:[l.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),l.jsx("p",{className:"testimonial-card__text",children:`"Grce  PedaClic Premium, j'ai eu 16/20 au BFEM. Les exercices corrigs m'ont beaucoup aid !"`}),l.jsxs("div",{className:"testimonial-card__author",children:[l.jsx("div",{className:"testimonial-card__avatar",children:"AN"}),l.jsxs("div",{children:[l.jsx("p",{className:"testimonial-card__name",children:"Aminata Ndiaye"}),l.jsx("p",{className:"testimonial-card__info",children:"3me - Dakar"})]})]})]}),l.jsxs("div",{className:"testimonial-card",children:[l.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),l.jsx("p",{className:"testimonial-card__text",children:'"Les vidos sont trs bien expliques. Je comprends mieux les maths maintenant. Merci PedaClic !"'}),l.jsxs("div",{className:"testimonial-card__author",children:[l.jsx("div",{className:"testimonial-card__avatar",children:"IF"}),l.jsxs("div",{children:[l.jsx("p",{className:"testimonial-card__name",children:"Ibrahima Fall"}),l.jsx("p",{className:"testimonial-card__info",children:"Terminale S - This"})]})]})]}),l.jsxs("div",{className:"testimonial-card",children:[l.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),l.jsx("p",{className:"testimonial-card__text",children:`"20 000 FCFA pour l'anne, c'est vraiment abordable. Mon fils a accs  tout ce dont il a besoin."`}),l.jsxs("div",{className:"testimonial-card__author",children:[l.jsx("div",{className:"testimonial-card__avatar",children:"FD"}),l.jsxs("div",{children:[l.jsx("p",{className:"testimonial-card__name",children:"Fatou Diop"}),l.jsx("p",{className:"testimonial-card__info",children:"Parent d'lve - Saint-Louis"})]})]})]})]})]})}),l.jsx("section",{className:"premium-faq",children:l.jsxs("div",{className:"container",children:[l.jsx("h2",{className:"section-title",children:"Questions frquentes"}),l.jsx("div",{className:"faq-list",children:CY.map((E,S)=>l.jsxs("div",{className:`faq-item ${h===S?"faq-item--open":""}`,children:[l.jsxs("button",{className:"faq-item__question",onClick:()=>x(S),"aria-expanded":h===S,children:[l.jsx("span",{children:E.question}),l.jsx("span",{className:"faq-item__icon",children:h===S?"":"+"})]}),h===S&&l.jsx("div",{className:"faq-item__answer",children:l.jsx("p",{children:E.reponse})})]},S))})]})}),l.jsx("section",{className:"premium-cta-final",children:l.jsxs("div",{className:"container",children:[l.jsx("h2",{children:"Prt  russir vos examens ?"}),l.jsx("p",{children:"Rejoignez des milliers d'lves sngalais qui ont choisi PedaClic Premium"}),l.jsx("button",{className:"btn btn--white btn--lg",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"Commencer maintenant"})]})})]})},PY=[{title:"Principal",items:[{id:"dashboard",label:"Tableau de bord",icon:"",href:"/admin"},{id:"disciplines",label:"Disciplines",icon:"",href:"/admin/disciplines"},{id:"chapitres",label:"Chapitres",icon:"",href:"/admin/chapitres"},{id:"ressources",label:"Ressources",icon:"",href:"/admin/ressources"}]},{title:"valuation",items:[{id:"quiz",label:"Quiz",icon:"",href:"/admin/quiz"},{id:"resultats",label:"Rsultats",icon:"",href:"/admin/resultats"}]},{title:"Utilisateurs",items:[{id:"utilisateurs",label:"Tous les utilisateurs",icon:"",href:"/admin/utilisateurs"},{id:"premium",label:"Abonns Premium",icon:"",href:"/admin/premium"}]},{title:"Paramtres",items:[{id:"settings",label:"Configuration",icon:"",href:"/admin/settings"}]}],Cu=({children:t,currentPage:e="dashboard"})=>{const{currentUser:n,logout:r}=xr(),[i,s]=w.useState(!0),[c,d]=w.useState(!1),f=async()=>{try{d(!0),await r(),window.location.href="/connexion"}catch(g){console.error("Erreur lors de la dconnexion:",g),d(!1)}},h=()=>n?.displayName?n.displayName.split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2):"AD",p=()=>{switch(n?.role){case"admin":return"Administrateur";case"prof":return"Professeur";case"eleve":return"lve";default:return"Utilisateur"}};return l.jsxs("div",{className:"admin-layout",children:[l.jsxs("aside",{className:`admin-sidebar ${i?"":"admin-sidebar--collapsed"}`,children:[l.jsx("header",{className:"admin-sidebar__header",children:l.jsxs("a",{href:"/",className:"admin-sidebar__logo",children:[l.jsx("div",{className:"admin-sidebar__logo-icon",children:""}),l.jsx("span",{children:"PedaClic"})]})}),l.jsx("nav",{className:"admin-sidebar__nav",children:PY.map((g,y)=>l.jsxs("div",{className:"admin-nav__section",children:[l.jsx("h3",{className:"admin-nav__title",children:g.title}),l.jsx("ul",{className:"admin-nav__list",children:g.items.map(x=>l.jsx("li",{className:"admin-nav__item",children:l.jsxs("a",{href:x.href,className:`admin-nav__link ${e===x.id?"admin-nav__link--active":""}`,children:[l.jsx("span",{className:"admin-nav__icon",children:x.icon}),l.jsx("span",{className:"admin-nav__label",children:x.label})]})},x.id))})]},y))}),l.jsx("footer",{className:"admin-sidebar__footer",children:l.jsxs("div",{className:"admin-user",children:[l.jsx("div",{className:"admin-user__avatar",children:h()}),l.jsxs("div",{className:"admin-user__info",children:[l.jsx("div",{className:"admin-user__name",children:n?.displayName||"Administrateur"}),l.jsx("div",{className:"admin-user__role",children:p()})]}),l.jsx("button",{onClick:f,disabled:c,className:"admin-logout-btn",title:"Se dconnecter",children:c?"...":""})]})})]}),l.jsxs("main",{className:"admin-content",children:[l.jsx("button",{className:"admin-sidebar-toggle",onClick:()=>s(!i),"aria-label":"Toggle sidebar",children:""}),t]}),l.jsx("style",{children:`
        /* Bouton de dconnexion */
        .admin-logout-btn {
          width: 36px;
          height: 36px;
          border: none;
          background: rgba(255, 255, 255, 0.1);
          color: white;
          border-radius: var(--radius-md);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all var(--transition-base);
          font-size: var(--text-lg);
        }

        .admin-logout-btn:hover {
          background: rgba(255, 255, 255, 0.2);
        }

        .admin-logout-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        /* Bouton toggle sidebar (mobile) */
        .admin-sidebar-toggle {
          display: none;
          position: fixed;
          top: var(--spacing-md);
          left: var(--spacing-md);
          z-index: var(--z-fixed);
          width: 44px;
          height: 44px;
          border: none;
          background: var(--color-primary);
          color: white;
          border-radius: var(--radius-md);
          cursor: pointer;
          font-size: var(--text-xl);
        }

        @media (max-width: 768px) {
          .admin-sidebar-toggle {
            display: flex;
            align-items: center;
            justify-content: center;
          }

          .admin-sidebar {
            transform: translateX(-100%);
            transition: transform var(--transition-base);
          }

          .admin-sidebar:not(.admin-sidebar--collapsed) {
            transform: translateX(0);
          }

          .admin-content {
            padding-top: calc(var(--spacing-xl) + 44px);
          }
        }

        /* Animation de la sidebar */
        .admin-sidebar--collapsed {
          width: 80px;
        }

        .admin-sidebar--collapsed .admin-nav__label,
        .admin-sidebar--collapsed .admin-nav__title,
        .admin-sidebar--collapsed .admin-sidebar__logo span,
        .admin-sidebar--collapsed .admin-user__info {
          display: none;
        }

        .admin-sidebar--collapsed .admin-sidebar__logo {
          justify-content: center;
        }
      `})]})},Do="chapitres",U_=t=>{const e=t.data();return{id:t.id,disciplineId:e.disciplineId,numero:e.numero,titre:e.titre,description:e.description,objectifs:e.objectifs||[],dureeEstimee:e.dureeEstimee,isPremium:e.isPremium||!1,actif:e.actif!==!1,createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()}},Mo={async getByDiscipline(t){try{const e=Ht(Et(Ae,Do),at("disciplineId","==",t),Qr("numero","asc"));return(await Gt(e)).docs.map(U_)}catch(e){throw console.error("Erreur lors de la rcupration des chapitres:",e),new Error("Impossible de rcuprer les chapitres")}},async getAll(){try{const t=Ht(Et(Ae,Do),Qr("numero","asc"));return(await Gt(t)).docs.map(U_)}catch(t){throw console.error("Erreur lors de la rcupration des chapitres:",t),new Error("Impossible de rcuprer les chapitres")}},async getById(t){try{const e=tt(Ae,Do,t),n=await oa(e);return n.exists()?U_(n):null}catch(e){throw console.error("Erreur lors de la rcupration du chapitre:",e),new Error("Impossible de rcuprer le chapitre")}},async create(t){try{return(await Hs(Et(Ae,Do),{...t,actif:t.actif!==!1,createdAt:zn(),updatedAt:zn()})).id}catch(e){throw console.error("Erreur lors de la cration du chapitre:",e),new Error("Impossible de crer le chapitre")}},async update(t,e){try{const n=tt(Ae,Do,t);await Un(n,{...e,updatedAt:zn()})}catch(n){throw console.error("Erreur lors de la mise  jour du chapitre:",n),new Error("Impossible de mettre  jour le chapitre")}},async delete(t){try{const e=tt(Ae,Do,t);await Ey(e)}catch(e){throw console.error("Erreur lors de la suppression du chapitre:",e),new Error("Impossible de supprimer le chapitre")}},async deleteByDiscipline(t){try{const e=await this.getByDiscipline(t),n=jh(Ae);e.forEach(r=>{const i=tt(Ae,Do,r.id);n.delete(i)}),await n.commit()}catch(e){throw console.error("Erreur lors de la suppression des chapitres:",e),new Error("Impossible de supprimer les chapitres")}},async reorder(t,e){try{const n=jh(Ae);e.forEach((r,i)=>{const s=tt(Ae,Do,r);n.update(s,{numero:i+1,updatedAt:zn()})}),await n.commit()}catch(n){throw console.error("Erreur lors de la rorganisation des chapitres:",n),new Error("Impossible de rorganiser les chapitres")}},async toggleActive(t,e){await this.update(t,{actif:e})},async countByDiscipline(t){return(await this.getByDiscipline(t)).length},async getNextNumero(t){return await this.countByDiscipline(t)+1}},IY=()=>{const{currentUser:t}=xr(),[e,n]=w.useState({totalDisciplines:0,totalChapitres:0,totalRessources:0,ressourcesPremium:0,ressourcesGratuites:0,ressourcesParType:{cours:0,exercice:0,video:0,document:0,quiz:0}}),[r,i]=w.useState(!0),[s,c]=w.useState(null);return w.useEffect(()=>{(async()=>{try{i(!0),c(null);const[f,h,p]=await Promise.all([Da.getAll(),Mo.getAll(),_s.getStats()]);n({totalDisciplines:f.length,totalChapitres:h.length,totalRessources:p.total,ressourcesPremium:p.premium,ressourcesGratuites:p.gratuit,ressourcesParType:p.parType})}catch(f){console.error("Erreur lors du chargement des statistiques:",f),c("Impossible de charger les statistiques")}finally{i(!1)}})()},[]),l.jsxs("div",{className:"admin-dashboard",children:[l.jsx("header",{className:"admin-page-header",children:l.jsxs("div",{className:"admin-page-header__info",children:[l.jsx("h1",{className:"admin-page-header__title",children:"Tableau de bord"}),l.jsxs("p",{className:"admin-page-header__subtitle",children:["Bienvenue, ",t?.displayName||"Administrateur"," ! Grez votre contenu pdagogique depuis cette interface."]})]})}),s&&l.jsxs("div",{className:"alert alert--error",children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:s})})]}),r?l.jsxs("div",{className:"loading-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Chargement des statistiques..."})]}):l.jsxs(l.Fragment,{children:[l.jsxs("section",{className:"stats-grid",children:[l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-card__icon stat-card__icon--primary",children:""}),l.jsxs("div",{className:"stat-card__content",children:[l.jsx("div",{className:"stat-card__value",children:e.totalDisciplines}),l.jsx("div",{className:"stat-card__label",children:"Disciplines"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-card__icon stat-card__icon--secondary",children:""}),l.jsxs("div",{className:"stat-card__content",children:[l.jsx("div",{className:"stat-card__value",children:e.totalChapitres}),l.jsx("div",{className:"stat-card__label",children:"Chapitres"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-card__icon stat-card__icon--info",children:""}),l.jsxs("div",{className:"stat-card__content",children:[l.jsx("div",{className:"stat-card__value",children:e.totalRessources}),l.jsx("div",{className:"stat-card__label",children:"Ressources"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-card__icon stat-card__icon--warning",children:""}),l.jsxs("div",{className:"stat-card__content",children:[l.jsx("div",{className:"stat-card__value",children:e.ressourcesPremium}),l.jsx("div",{className:"stat-card__label",children:"Ressources Premium"})]})]})]}),l.jsxs("section",{className:"content-card",children:[l.jsx("div",{className:"content-card__header",children:l.jsx("h2",{children:"Rpartition des ressources par type"})}),l.jsx("div",{className:"content-card__body",children:l.jsxs("div",{className:"resource-type-grid",children:[l.jsxs("div",{className:"resource-type-item",children:[l.jsx("div",{className:"resource-item__icon resource-item__icon--cours",children:""}),l.jsxs("div",{className:"resource-type-info",children:[l.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.cours}),l.jsx("span",{className:"resource-type-label",children:"Cours"})]})]}),l.jsxs("div",{className:"resource-type-item",children:[l.jsx("div",{className:"resource-item__icon resource-item__icon--exercice",children:""}),l.jsxs("div",{className:"resource-type-info",children:[l.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.exercice}),l.jsx("span",{className:"resource-type-label",children:"Exercices"})]})]}),l.jsxs("div",{className:"resource-type-item",children:[l.jsx("div",{className:"resource-item__icon resource-item__icon--video",children:""}),l.jsxs("div",{className:"resource-type-info",children:[l.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.video}),l.jsx("span",{className:"resource-type-label",children:"Vidos"})]})]}),l.jsxs("div",{className:"resource-type-item",children:[l.jsx("div",{className:"resource-item__icon resource-item__icon--document",children:""}),l.jsxs("div",{className:"resource-type-info",children:[l.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.document}),l.jsx("span",{className:"resource-type-label",children:"Documents"})]})]}),l.jsxs("div",{className:"resource-type-item",children:[l.jsx("div",{className:"resource-item__icon resource-item__icon--quiz",children:""}),l.jsxs("div",{className:"resource-type-info",children:[l.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.quiz}),l.jsx("span",{className:"resource-type-label",children:"Quiz"})]})]})]})})]}),l.jsxs("section",{className:"content-card",style:{marginTop:"var(--spacing-xl)"},children:[l.jsx("div",{className:"content-card__header",children:l.jsx("h2",{children:"Actions rapides"})}),l.jsx("div",{className:"content-card__body",children:l.jsxs("div",{className:"quick-actions-grid",children:[l.jsxs("a",{href:"/admin/disciplines",className:"quick-action-card",children:[l.jsx("div",{className:"quick-action-icon",children:""}),l.jsxs("div",{className:"quick-action-content",children:[l.jsx("h3",{children:"Grer les disciplines"}),l.jsx("p",{children:"Ajouter, modifier ou supprimer des matires"})]})]}),l.jsxs("a",{href:"/admin/chapitres",className:"quick-action-card",children:[l.jsx("div",{className:"quick-action-icon",children:""}),l.jsxs("div",{className:"quick-action-content",children:[l.jsx("h3",{children:"Grer les chapitres"}),l.jsx("p",{children:"Organiser le contenu par chapitres"})]})]}),l.jsxs("a",{href:"/admin/ressources",className:"quick-action-card",children:[l.jsx("div",{className:"quick-action-icon",children:""}),l.jsxs("div",{className:"quick-action-content",children:[l.jsx("h3",{children:"Grer les ressources"}),l.jsx("p",{children:"Cours, exercices, vidos et documents"})]})]}),l.jsxs("a",{href:"/admin/utilisateurs",className:"quick-action-card",children:[l.jsx("div",{className:"quick-action-icon",children:""}),l.jsxs("div",{className:"quick-action-content",children:[l.jsx("h3",{children:"Grer les utilisateurs"}),l.jsx("p",{children:"lves, professeurs et administrateurs"})]})]})]})})]})]}),l.jsx("style",{children:`
        /* Grille des types de ressources */
        .resource-type-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
          gap: var(--spacing-lg);
        }

        .resource-type-item {
          display: flex;
          align-items: center;
          gap: var(--spacing-md);
          padding: var(--spacing-md);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-lg);
        }

        .resource-type-info {
          display: flex;
          flex-direction: column;
        }

        .resource-type-value {
          font-size: var(--text-2xl);
          font-weight: var(--font-bold);
          color: var(--color-text);
        }

        .resource-type-label {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        /* Actions rapides */
        .quick-actions-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
          gap: var(--spacing-lg);
        }

        .quick-action-card {
          display: flex;
          align-items: flex-start;
          gap: var(--spacing-lg);
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          text-decoration: none;
          color: inherit;
          transition: all var(--transition-base);
        }

        .quick-action-card:hover {
          border-color: var(--color-primary);
          box-shadow: var(--shadow-md);
          transform: translateY(-2px);
        }

        .quick-action-icon {
          font-size: 2rem;
          line-height: 1;
        }

        .quick-action-content h3 {
          font-size: var(--text-base);
          font-weight: var(--font-semibold);
          margin-bottom: var(--spacing-xs);
          color: var(--color-text);
        }

        .quick-action-content p {
          font-size: var(--text-sm);
          color: var(--color-text-light);
          margin: 0;
        }

        @media (max-width: 768px) {
          .resource-type-grid,
          .quick-actions-grid {
            grid-template-columns: 1fr;
          }
        }
      `})]})},AO=[{value:"college",label:"Collge"},{value:"lycee",label:"Lyce"}],Zp={college:[{value:"6eme",label:"6me"},{value:"5eme",label:"5me"},{value:"4eme",label:"4me"},{value:"3eme",label:"3me"}],lycee:[{value:"2nde",label:"Seconde"},{value:"1ere",label:"Premire"},{value:"Terminale",label:"Terminale"}]},RY=[{value:"#2563eb",label:"Bleu"},{value:"#059669",label:"Vert"},{value:"#dc2626",label:"Rouge"},{value:"#7c3aed",label:"Violet"},{value:"#ea580c",label:"Orange"},{value:"#0891b2",label:"Cyan"},{value:"#be185d",label:"Rose"},{value:"#4b5563",label:"Gris"}],V_={nom:"",niveau:"college",classe:"6eme",ordre:1,coefficient:1,couleur:"#2563eb",icone:"",description:""},kY=()=>{const[t,e]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState(!0),[c,d]=w.useState(!1),[f,h]=w.useState(null),[p,g]=w.useState(null),[y,x]=w.useState(null),[j,E]=w.useState(!1),[S,T]=w.useState(!1),[D,R]=w.useState(null),[P,$]=w.useState(null),[B,I]=w.useState(V_),[O,k]=w.useState({}),[V,U]=w.useState(""),[z,M]=w.useState(""),[W,Q]=w.useState(""),H=w.useCallback(async()=>{try{s(!0),g(null);const Y=await Da.getAll();e(Y),r(Y)}catch(Y){console.error("Erreur lors du chargement:",Y),g("Impossible de charger les disciplines. Veuillez ressayer.")}finally{s(!1)}},[]);w.useEffect(()=>{H()},[H]),w.useEffect(()=>{let Y=[...t];if(V&&(Y=Y.filter(xe=>xe.niveau===V)),z&&(Y=Y.filter(xe=>xe.classe===z)),W){const xe=W.toLowerCase();Y=Y.filter(Ve=>Ve.nom.toLowerCase().includes(xe)||Ve.description?.toLowerCase().includes(xe))}r(Y)},[t,V,z,W]);const oe=()=>{const Y={};return B.nom.trim()?B.nom.length<2&&(Y.nom="Le nom doit contenir au moins 2 caractres"):Y.nom="Le nom de la discipline est requis",B.niveau||(Y.niveau="Veuillez slectionner un niveau"),B.classe||(Y.classe="Veuillez slectionner une classe"),B.ordre<1&&(Y.ordre="L'ordre doit tre suprieur  0"),k(Y),Object.keys(Y).length===0},be=()=>{R(null),I(V_),k({}),E(!0)},Ee=Y=>{R(Y),I({nom:Y.nom,niveau:Y.niveau,classe:Y.classe,ordre:Y.ordre,coefficient:Y.coefficient,couleur:Y.couleur,icone:Y.icone,description:Y.description}),k({}),E(!0)},X=Y=>{$(Y),T(!0)},F=()=>{E(!1),T(!1),R(null),$(null),I(V_),k({})},ne=Y=>{const{name:xe,value:Ve,type:le}=Y.target;if(xe==="niveau"){const Ne=Ve;I(Z=>({...Z,niveau:Ne,classe:Zp[Ne][0].value}))}else I(Ne=>({...Ne,[xe]:le==="number"?Number(Ve):Ve}));O[xe]&&k(Ne=>({...Ne,[xe]:void 0}))},ge=async Y=>{if(Y.preventDefault(),!!oe())try{d(!0),g(null),D?(await Da.update(D.id,B),x("Discipline modifie avec succs !")):(await Da.create(B),x("Discipline cre avec succs !")),F(),await H(),setTimeout(()=>x(null),3e3)}catch(xe){console.error("Erreur lors de la sauvegarde:",xe),g("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{d(!1)}},we=async()=>{if(P)try{h(P.id),await Da.delete(P.id),x("Discipline supprime avec succs !"),F(),await H(),setTimeout(()=>x(null),3e3)}catch(Y){console.error("Erreur lors de la suppression:",Y),g("Erreur lors de la suppression. Veuillez ressayer.")}finally{h(null)}},J=Y=>{for(const xe of Object.values(Zp)){const Ve=xe.find(le=>le.value===Y);if(Ve)return Ve.label}return Y};return l.jsxs("div",{className:"discipline-manager",children:[l.jsxs("header",{className:"admin-page-header",children:[l.jsxs("div",{className:"admin-page-header__info",children:[l.jsx("h1",{className:"admin-page-header__title",children:"Gestion des Disciplines"}),l.jsx("p",{className:"admin-page-header__subtitle",children:"Grez les matires enseignes sur PedaClic"})]}),l.jsx("div",{className:"admin-page-header__actions",children:l.jsxs("button",{onClick:be,className:"btn btn--primary",children:[l.jsx("span",{children:""}),"Nouvelle discipline"]})})]}),p&&l.jsxs("div",{className:"alert alert--error",children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:p})}),l.jsx("button",{onClick:()=>g(null),className:"alert__close",children:""})]}),y&&l.jsxs("div",{className:"alert alert--success",children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:y})})]}),l.jsxs("div",{className:"admin-table-container",children:[l.jsxs("div",{className:"admin-table-header",children:[l.jsxs("h2",{className:"admin-table-title",children:["Liste des disciplines (",n.length,")"]}),l.jsxs("div",{className:"admin-table-actions",children:[l.jsxs("div",{className:"search-input",children:[l.jsx("span",{className:"search-input__icon",children:""}),l.jsx("input",{type:"text",className:"search-input__field",placeholder:"Rechercher...",value:W,onChange:Y=>Q(Y.target.value)})]}),l.jsxs("select",{className:"form-select",value:V,onChange:Y=>U(Y.target.value),style:{width:"auto"},children:[l.jsx("option",{value:"",children:"Tous les niveaux"}),AO.map(Y=>l.jsx("option",{value:Y.value,children:Y.label},Y.value))]}),l.jsxs("select",{className:"form-select",value:z,onChange:Y=>M(Y.target.value),style:{width:"auto"},disabled:!V,children:[l.jsx("option",{value:"",children:"Toutes les classes"}),V&&Zp[V].map(Y=>l.jsx("option",{value:Y.value,children:Y.label},Y.value))]})]})]}),i?l.jsxs("div",{className:"loading-container",style:{padding:"var(--spacing-2xl)"},children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Chargement des disciplines..."})]}):n.length===0?l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state__icon",children:""}),l.jsx("h3",{className:"empty-state__title",children:"Aucune discipline trouve"}),l.jsx("p",{className:"empty-state__message",children:W||V||z?"Aucune discipline ne correspond aux critres de recherche.":"Commencez par crer votre premire discipline."}),!W&&!V&&!z&&l.jsx("button",{onClick:be,className:"btn btn--primary",children:"Crer une discipline"})]}):l.jsxs("table",{className:"admin-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Discipline"}),l.jsx("th",{children:"Niveau"}),l.jsx("th",{children:"Classe"}),l.jsx("th",{children:"Coefficient"}),l.jsx("th",{children:"Ordre"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:n.map(Y=>l.jsxs("tr",{children:[l.jsx("td",{children:l.jsxs("div",{className:"table-cell-icon",children:[l.jsx("div",{className:"table-icon",style:{backgroundColor:`${Y.couleur}20`,color:Y.couleur},children:Y.icone||""}),l.jsxs("div",{children:[l.jsx("strong",{children:Y.nom}),Y.description&&l.jsx("div",{className:"text-muted text-sm",children:Y.description})]})]})}),l.jsx("td",{children:l.jsx("span",{className:`badge badge--${Y.niveau==="college"?"primary":"secondary"}`,children:Y.niveau==="college"?"Collge":"Lyce"})}),l.jsx("td",{children:J(Y.classe)}),l.jsx("td",{children:Y.coefficient||"-"}),l.jsx("td",{children:Y.ordre}),l.jsx("td",{children:l.jsxs("div",{className:"table-actions",children:[l.jsx("button",{onClick:()=>Ee(Y),className:"table-action-btn table-action-btn--edit",title:"Modifier",children:""}),l.jsx("button",{onClick:()=>X(Y),className:"table-action-btn table-action-btn--delete",title:"Supprimer",disabled:f===Y.id,children:f===Y.id?"":""})]})})]},Y.id))})]})]}),j&&l.jsx("div",{className:"modal-overlay",onClick:F,children:l.jsxs("div",{className:"modal modal--lg",onClick:Y=>Y.stopPropagation(),children:[l.jsxs("div",{className:"modal__header",children:[l.jsx("h2",{className:"modal__title",children:D?"Modifier la discipline":"Nouvelle discipline"}),l.jsx("button",{onClick:F,className:"modal__close",children:""})]}),l.jsxs("form",{onSubmit:ge,children:[l.jsxs("div",{className:"modal__body",children:[l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",style:{flex:2},children:[l.jsx("label",{className:"form-label form-label--required",children:"Nom de la discipline"}),l.jsx("input",{type:"text",name:"nom",className:`form-input ${O.nom?"form-input--error":""}`,placeholder:"Ex: Mathmatiques, Franais, SVT...",value:B.nom,onChange:ne}),O.nom&&l.jsx("span",{className:"form-error",children:O.nom})]}),l.jsxs("div",{className:"form-group",style:{flex:1},children:[l.jsx("label",{className:"form-label",children:"Icne"}),l.jsx("input",{type:"text",name:"icone",className:"form-input",placeholder:"",value:B.icone||"",onChange:ne,maxLength:4}),l.jsx("span",{className:"form-helper",children:"Emoji uniquement"})]})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label form-label--required",children:"Niveau"}),l.jsx("select",{name:"niveau",className:`form-select ${O.niveau?"form-select--error":""}`,value:B.niveau,onChange:ne,children:AO.map(Y=>l.jsx("option",{value:Y.value,children:Y.label},Y.value))}),O.niveau&&l.jsx("span",{className:"form-error",children:O.niveau})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label form-label--required",children:"Classe"}),l.jsx("select",{name:"classe",className:`form-select ${O.classe?"form-select--error":""}`,value:B.classe,onChange:ne,children:Zp[B.niveau].map(Y=>l.jsx("option",{value:Y.value,children:Y.label},Y.value))}),O.classe&&l.jsx("span",{className:"form-error",children:O.classe})]})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Coefficient"}),l.jsx("input",{type:"number",name:"coefficient",className:"form-input",min:"1",max:"10",value:B.coefficient||1,onChange:ne}),l.jsx("span",{className:"form-helper",children:"Pour les calculs de moyennes"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label form-label--required",children:"Ordre d'affichage"}),l.jsx("input",{type:"number",name:"ordre",className:`form-input ${O.ordre?"form-input--error":""}`,min:"1",value:B.ordre,onChange:ne}),O.ordre&&l.jsx("span",{className:"form-error",children:O.ordre})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Couleur"}),l.jsx("div",{className:"color-picker",children:RY.map(Y=>l.jsx("button",{type:"button",className:`color-option ${B.couleur===Y.value?"color-option--active":""}`,style:{backgroundColor:Y.value},onClick:()=>I(xe=>({...xe,couleur:Y.value})),title:Y.label,children:B.couleur===Y.value&&""},Y.value))})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Description (optionnel)"}),l.jsx("textarea",{name:"description",className:"form-textarea",placeholder:"Description courte de la discipline...",rows:3,value:B.description||"",onChange:ne})]})]}),l.jsxs("div",{className:"modal__footer",children:[l.jsx("button",{type:"button",onClick:F,className:"btn btn--outline",disabled:c,children:"Annuler"}),l.jsx("button",{type:"submit",className:"btn btn--primary",disabled:c,children:c?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"spinner-small"}),"Enregistrement..."]}):D?"Mettre  jour":"Crer la discipline"})]})]})]})}),S&&P&&l.jsx("div",{className:"modal-overlay",onClick:F,children:l.jsxs("div",{className:"modal",onClick:Y=>Y.stopPropagation(),children:[l.jsxs("div",{className:"modal__header",children:[l.jsx("h2",{className:"modal__title",children:"Confirmer la suppression"}),l.jsx("button",{onClick:F,className:"modal__close",children:""})]}),l.jsxs("div",{className:"modal__body",children:[l.jsxs("p",{children:["tes-vous sr de vouloir supprimer la discipline",l.jsxs("strong",{children:[" ",P.nom]})," ?"]}),l.jsxs("div",{className:"alert alert--warning",style:{marginTop:"var(--spacing-md)"},children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:"Cette action est irrversible. Tous les chapitres et ressources associs devront tre supprims manuellement."})})]})]}),l.jsxs("div",{className:"modal__footer",children:[l.jsx("button",{onClick:F,className:"btn btn--outline",disabled:f!==null,children:"Annuler"}),l.jsx("button",{onClick:we,className:"btn btn--danger",disabled:f!==null,children:f?"Suppression...":"Supprimer"})]})]})}),l.jsx("style",{children:`
        /* Ligne de formulaire */
        .form-row {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: var(--spacing-lg);
        }

        @media (max-width: 600px) {
          .form-row {
            grid-template-columns: 1fr;
          }
        }

        /* Slecteur de couleur */
        .color-picker {
          display: flex;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
        }

        .color-option {
          width: 36px;
          height: 36px;
          border: 2px solid transparent;
          border-radius: var(--radius-md);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-weight: bold;
          transition: all var(--transition-base);
        }

        .color-option:hover {
          transform: scale(1.1);
        }

        .color-option--active {
          border-color: var(--color-text);
          box-shadow: 0 0 0 2px white, 0 0 0 4px var(--color-text);
        }

        /* Fermer l'alerte */
        .alert__close {
          background: none;
          border: none;
          cursor: pointer;
          font-size: var(--text-lg);
          opacity: 0.7;
          transition: opacity var(--transition-base);
        }

        .alert__close:hover {
          opacity: 1;
        }

        /* Spinner petit pour les boutons */
        .spinner-small {
          width: 16px;
          height: 16px;
          border: 2px solid rgba(255, 255, 255, 0.3);
          border-top-color: white;
          border-radius: 50%;
          animation: spin 0.8s linear infinite;
        }

        /* Ajustement du form-select */
        .form-select {
          min-width: 150px;
        }
      `})]})},TO={numero:1,titre:"",description:"",objectifs:[],dureeEstimee:void 0,isPremium:!1,actif:!0},DY=()=>{const[t,e]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState(""),[c,d]=w.useState(!0),[f,h]=w.useState(!1),[p,g]=w.useState(!1),[y,x]=w.useState(null),[j,E]=w.useState(null),[S,T]=w.useState(null),[D,R]=w.useState(!1),[P,$]=w.useState(!1),[B,I]=w.useState(null),[O,k]=w.useState(null),[V,U]=w.useState({...TO,disciplineId:""}),[z,M]=w.useState({}),[W,Q]=w.useState(""),H=w.useCallback(async()=>{try{d(!0);const Z=await Da.getAll();e(Z),Z.length>0&&!i&&s(Z[0].id)}catch(Z){console.error("Erreur lors du chargement des disciplines:",Z),E("Impossible de charger les disciplines.")}finally{d(!1)}},[i]),oe=w.useCallback(async()=>{if(!i){r([]);return}try{h(!0);const Z=await Mo.getByDiscipline(i);r(Z)}catch(Z){console.error("Erreur lors du chargement des chapitres:",Z),E("Impossible de charger les chapitres.")}finally{h(!1)}},[i]);w.useEffect(()=>{H()},[H]),w.useEffect(()=>{oe()},[oe]);const be=()=>{const Z={};return V.disciplineId||(Z.disciplineId="Veuillez slectionner une discipline"),V.titre.trim()?V.titre.length<3&&(Z.titre="Le titre doit contenir au moins 3 caractres"):Z.titre="Le titre du chapitre est requis",V.numero<1&&(Z.numero="Le numro doit tre suprieur  0"),M(Z),Object.keys(Z).length===0},Ee=Z=>{s(Z),E(null)},X=async()=>{const Z=await Mo.getNextNumero(i);I(null),U({...TO,disciplineId:i,numero:Z}),M({}),Q(""),R(!0)},F=Z=>{I(Z),U({disciplineId:Z.disciplineId,numero:Z.numero,titre:Z.titre,description:Z.description,objectifs:Z.objectifs||[],dureeEstimee:Z.dureeEstimee,isPremium:Z.isPremium,actif:Z.actif}),M({}),Q(""),R(!0)},ne=Z=>{k(Z),$(!0)},ge=()=>{R(!1),$(!1),I(null),k(null),M({}),Q("")},we=Z=>{const{name:ve,value:ke,type:$e}=Z.target,st=Z.target.checked;U(ft=>({...ft,[ve]:$e==="checkbox"?st:$e==="number"?Number(ke):ke})),z[ve]&&M(ft=>({...ft,[ve]:void 0}))},J=()=>{W.trim()&&(U(Z=>({...Z,objectifs:[...Z.objectifs||[],W.trim()]})),Q(""))},Y=Z=>{U(ve=>({...ve,objectifs:(ve.objectifs||[]).filter((ke,$e)=>$e!==Z)}))},xe=async Z=>{if(Z.preventDefault(),!!be())try{g(!0),E(null),B?(await Mo.update(B.id,V),T("Chapitre modifi avec succs !")):(await Mo.create(V),T("Chapitre cr avec succs !")),ge(),await oe(),setTimeout(()=>T(null),3e3)}catch(ve){console.error("Erreur lors de la sauvegarde:",ve),E("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{g(!1)}},Ve=async()=>{if(O)try{x(O.id),await Mo.delete(O.id),T("Chapitre supprim avec succs !"),ge(),await oe(),setTimeout(()=>T(null),3e3)}catch(Z){console.error("Erreur lors de la suppression:",Z),E("Erreur lors de la suppression. Veuillez ressayer.")}finally{x(null)}},le=async Z=>{try{await Mo.toggleActive(Z.id,!Z.actif),await oe(),T(Z.actif?"Chapitre dsactiv":"Chapitre activ"),setTimeout(()=>T(null),2e3)}catch{E("Erreur lors de la mise  jour")}},Ne=Z=>{const ve=t.find(ke=>ke.id===Z);return ve?ve.nom:"Non trouve"};return l.jsxs("div",{className:"chapitre-manager",children:[l.jsxs("header",{className:"admin-page-header",children:[l.jsxs("div",{className:"admin-page-header__info",children:[l.jsx("h1",{className:"admin-page-header__title",children:"Gestion des Chapitres"}),l.jsx("p",{className:"admin-page-header__subtitle",children:"Organisez le contenu pdagogique par chapitres"})]}),l.jsx("div",{className:"admin-page-header__actions",children:l.jsxs("button",{onClick:X,className:"btn btn--primary",disabled:!i||c,children:[l.jsx("span",{children:""}),"Nouveau chapitre"]})})]}),j&&l.jsxs("div",{className:"alert alert--error",children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:j})}),l.jsx("button",{onClick:()=>E(null),className:"alert__close",children:""})]}),S&&l.jsxs("div",{className:"alert alert--success",children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:S})})]}),l.jsx("div",{className:"content-card",style:{marginBottom:"var(--spacing-lg)"},children:l.jsx("div",{className:"content-card__body",children:l.jsxs("div",{className:"discipline-selector",children:[l.jsx("label",{className:"form-label",children:"Slectionner une discipline :"}),c?l.jsx("p",{className:"text-muted",children:"Chargement des disciplines..."}):t.length===0?l.jsxs("p",{className:"text-muted",children:["Aucune discipline disponible.",l.jsx("a",{href:"/admin/disciplines",children:" Crer une discipline"})]}):l.jsx("div",{className:"discipline-tabs",children:t.map(Z=>l.jsxs("button",{className:`discipline-tab ${i===Z.id?"discipline-tab--active":""}`,onClick:()=>Ee(Z.id),style:{"--discipline-color":Z.couleur||"#2563eb"},children:[l.jsx("span",{className:"discipline-tab__icon",children:Z.icone||""}),l.jsx("span",{className:"discipline-tab__name",children:Z.nom}),l.jsx("span",{className:"discipline-tab__class",children:Z.classe})]},Z.id))})]})})}),l.jsxs("div",{className:"admin-table-container",children:[l.jsx("div",{className:"admin-table-header",children:l.jsxs("h2",{className:"admin-table-title",children:["Chapitres ",i&&`- ${Ne(i)}`,n.length>0&&` (${n.length})`]})}),f?l.jsxs("div",{className:"loading-container",style:{padding:"var(--spacing-2xl)"},children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Chargement des chapitres..."})]}):i?n.length===0?l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state__icon",children:""}),l.jsx("h3",{className:"empty-state__title",children:"Aucun chapitre"}),l.jsx("p",{className:"empty-state__message",children:"Cette discipline n'a pas encore de chapitres."}),l.jsx("button",{onClick:X,className:"btn btn--primary",children:"Crer le premier chapitre"})]}):l.jsx("div",{className:"chapitres-list",children:n.map(Z=>l.jsxs("div",{className:`chapitre-card ${Z.actif?"":"chapitre-card--inactive"}`,children:[l.jsx("div",{className:"chapitre-card__number",children:Z.numero}),l.jsxs("div",{className:"chapitre-card__content",children:[l.jsxs("h3",{className:"chapitre-card__title",children:[Z.titre,Z.isPremium&&l.jsx("span",{className:"badge badge--premium",children:"Premium"}),!Z.actif&&l.jsx("span",{className:"badge badge--warning",children:"Inactif"})]}),Z.description&&l.jsx("p",{className:"chapitre-card__description",children:Z.description}),l.jsxs("div",{className:"chapitre-card__meta",children:[Z.dureeEstimee&&l.jsxs("span",{children:[" ",Z.dureeEstimee,"h estime"]}),Z.objectifs&&Z.objectifs.length>0&&l.jsxs("span",{children:[" ",Z.objectifs.length," objectif(s)"]})]})]}),l.jsxs("div",{className:"chapitre-card__actions",children:[l.jsx("button",{onClick:()=>le(Z),className:`table-action-btn ${Z.actif?"table-action-btn--view":"table-action-btn--edit"}`,title:Z.actif?"Dsactiver":"Activer",children:Z.actif?"":""}),l.jsx("button",{onClick:()=>F(Z),className:"table-action-btn table-action-btn--edit",title:"Modifier",children:""}),l.jsx("button",{onClick:()=>ne(Z),className:"table-action-btn table-action-btn--delete",title:"Supprimer",disabled:y===Z.id,children:y===Z.id?"":""})]})]},Z.id))}):l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state__icon",children:""}),l.jsx("h3",{className:"empty-state__title",children:"Slectionnez une discipline"}),l.jsx("p",{className:"empty-state__message",children:"Choisissez une discipline ci-dessus pour voir ses chapitres."})]})]}),D&&l.jsx("div",{className:"modal-overlay",onClick:ge,children:l.jsxs("div",{className:"modal modal--lg",onClick:Z=>Z.stopPropagation(),children:[l.jsxs("div",{className:"modal__header",children:[l.jsx("h2",{className:"modal__title",children:B?"Modifier le chapitre":"Nouveau chapitre"}),l.jsx("button",{onClick:ge,className:"modal__close",children:""})]}),l.jsxs("form",{onSubmit:xe,children:[l.jsxs("div",{className:"modal__body",children:[!B&&l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label form-label--required",children:"Discipline"}),l.jsxs("select",{name:"disciplineId",className:`form-select ${z.disciplineId?"form-select--error":""}`,value:V.disciplineId,onChange:we,children:[l.jsx("option",{value:"",children:"Slectionner une discipline"}),t.map(Z=>l.jsxs("option",{value:Z.id,children:[Z.icone," ",Z.nom," (",Z.classe,")"]},Z.id))]}),z.disciplineId&&l.jsx("span",{className:"form-error",children:z.disciplineId})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",style:{flex:"0 0 100px"},children:[l.jsx("label",{className:"form-label form-label--required",children:"N"}),l.jsx("input",{type:"number",name:"numero",className:`form-input ${z.numero?"form-input--error":""}`,min:"1",value:V.numero,onChange:we}),z.numero&&l.jsx("span",{className:"form-error",children:z.numero})]}),l.jsxs("div",{className:"form-group",style:{flex:1},children:[l.jsx("label",{className:"form-label form-label--required",children:"Titre du chapitre"}),l.jsx("input",{type:"text",name:"titre",className:`form-input ${z.titre?"form-input--error":""}`,placeholder:"Ex: Les fractions, La Rvolution franaise...",value:V.titre,onChange:we}),z.titre&&l.jsx("span",{className:"form-error",children:z.titre})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Description"}),l.jsx("textarea",{name:"description",className:"form-textarea",rows:3,placeholder:"Description du chapitre...",value:V.description||"",onChange:we})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Objectifs pdagogiques"}),l.jsxs("div",{className:"objectifs-input",children:[l.jsx("input",{type:"text",className:"form-input",placeholder:"Ajouter un objectif...",value:W,onChange:Z=>Q(Z.target.value),onKeyPress:Z=>Z.key==="Enter"&&(Z.preventDefault(),J())}),l.jsx("button",{type:"button",onClick:J,className:"btn btn--outline btn--sm",children:"Ajouter"})]}),V.objectifs&&V.objectifs.length>0&&l.jsx("ul",{className:"objectifs-list",children:V.objectifs.map((Z,ve)=>l.jsxs("li",{className:"objectif-item",children:[l.jsxs("span",{children:[" ",Z]}),l.jsx("button",{type:"button",onClick:()=>Y(ve),className:"objectif-remove",children:""})]},ve))})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Dure estime (heures)"}),l.jsx("input",{type:"number",name:"dureeEstimee",className:"form-input",min:"0",step:"0.5",placeholder:"Ex: 2",value:V.dureeEstimee||"",onChange:we})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Options"}),l.jsxs("div",{className:"form-options",children:[l.jsxs("label",{className:"form-checkbox",children:[l.jsx("input",{type:"checkbox",name:"isPremium",checked:V.isPremium,onChange:we}),l.jsx("span",{children:"Contenu Premium "})]}),l.jsxs("label",{className:"form-checkbox",children:[l.jsx("input",{type:"checkbox",name:"actif",checked:V.actif!==!1,onChange:we}),l.jsx("span",{children:"Chapitre actif"})]})]})]})]})]}),l.jsxs("div",{className:"modal__footer",children:[l.jsx("button",{type:"button",onClick:ge,className:"btn btn--outline",disabled:p,children:"Annuler"}),l.jsx("button",{type:"submit",className:"btn btn--primary",disabled:p,children:p?"Enregistrement...":B?"Mettre  jour":"Crer le chapitre"})]})]})]})}),P&&O&&l.jsx("div",{className:"modal-overlay",onClick:ge,children:l.jsxs("div",{className:"modal",onClick:Z=>Z.stopPropagation(),children:[l.jsxs("div",{className:"modal__header",children:[l.jsx("h2",{className:"modal__title",children:"Confirmer la suppression"}),l.jsx("button",{onClick:ge,className:"modal__close",children:""})]}),l.jsxs("div",{className:"modal__body",children:[l.jsxs("p",{children:["Supprimer le chapitre ",l.jsxs("strong",{children:[O.numero,". ",O.titre]})," ?"]}),l.jsxs("div",{className:"alert alert--warning",style:{marginTop:"var(--spacing-md)"},children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:"Les ressources associes ne seront pas supprimes automatiquement."})})]})]}),l.jsxs("div",{className:"modal__footer",children:[l.jsx("button",{onClick:ge,className:"btn btn--outline",children:"Annuler"}),l.jsx("button",{onClick:Ve,className:"btn btn--danger",disabled:y!==null,children:y?"Suppression...":"Supprimer"})]})]})}),l.jsx("style",{children:`
        /* Slecteur de discipline */
        .discipline-tabs {
          display: flex;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
          margin-top: var(--spacing-md);
        }

        .discipline-tab {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          padding: var(--spacing-sm) var(--spacing-md);
          border: 2px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: white;
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .discipline-tab:hover {
          border-color: var(--discipline-color, var(--color-primary));
        }

        .discipline-tab--active {
          border-color: var(--discipline-color, var(--color-primary));
          background: color-mix(in srgb, var(--discipline-color, var(--color-primary)) 10%, white);
        }

        .discipline-tab__icon {
          font-size: var(--text-lg);
        }

        .discipline-tab__name {
          font-weight: var(--font-medium);
        }

        .discipline-tab__class {
          font-size: var(--text-xs);
          color: var(--color-text-light);
          background: var(--color-bg-secondary);
          padding: 2px 6px;
          border-radius: var(--radius-sm);
        }

        /* Liste des chapitres */
        .chapitres-list {
          display: flex;
          flex-direction: column;
          gap: var(--spacing-md);
          padding: var(--spacing-lg);
        }

        .chapitre-card {
          display: flex;
          align-items: center;
          gap: var(--spacing-lg);
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          transition: all var(--transition-base);
        }

        .chapitre-card:hover {
          border-color: var(--color-primary);
          box-shadow: var(--shadow-md);
        }

        .chapitre-card--inactive {
          opacity: 0.6;
          background: var(--color-bg-tertiary);
        }

        .chapitre-card__number {
          width: 48px;
          height: 48px;
          background: var(--color-primary);
          color: white;
          border-radius: var(--radius-md);
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: var(--text-xl);
          font-weight: var(--font-bold);
          flex-shrink: 0;
        }

        .chapitre-card__content {
          flex: 1;
          min-width: 0;
        }

        .chapitre-card__title {
          font-size: var(--text-base);
          font-weight: var(--font-semibold);
          margin-bottom: var(--spacing-xs);
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
        }

        .chapitre-card__description {
          font-size: var(--text-sm);
          color: var(--color-text-light);
          margin: 0 0 var(--spacing-sm);
        }

        .chapitre-card__meta {
          display: flex;
          gap: var(--spacing-lg);
          font-size: var(--text-xs);
          color: var(--color-text-lighter);
        }

        .chapitre-card__actions {
          display: flex;
          gap: var(--spacing-sm);
        }

        /* Formulaire: Ligne */
        .form-row {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: var(--spacing-lg);
        }

        @media (max-width: 600px) {
          .form-row {
            grid-template-columns: 1fr;
          }
        }

        /* Objectifs */
        .objectifs-input {
          display: flex;
          gap: var(--spacing-sm);
        }

        .objectifs-list {
          list-style: none;
          margin-top: var(--spacing-md);
        }

        .objectif-item {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: var(--spacing-sm) var(--spacing-md);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-md);
          margin-bottom: var(--spacing-xs);
        }

        .objectif-remove {
          background: none;
          border: none;
          cursor: pointer;
          color: var(--color-error);
          opacity: 0.7;
        }

        .objectif-remove:hover {
          opacity: 1;
        }

        /* Options */
        .form-options {
          display: flex;
          flex-direction: column;
          gap: var(--spacing-sm);
          margin-top: var(--spacing-sm);
        }
      `})]})},Jp=[{value:"cours",label:"Cours",icon:"",color:"#2563eb"},{value:"exercice",label:"Exercice",icon:"",color:"#10b981"},{value:"video",label:"Vido",icon:"",color:"#ef4444"},{value:"document",label:"Document",icon:"",color:"#f59e0b"},{value:"quiz",label:"Quiz",icon:"",color:"#8b5cf6"}],eg={cours:[".pdf",".doc",".docx",".ppt",".pptx"],exercice:[".pdf",".doc",".docx"],video:[".mp4",".webm",".mov",".avi"],document:[".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx"],quiz:[".json",".pdf"]},q_=50,CO={titre:"",type:"cours",description:"",contenu:"",chapitre:"",ordre:1,isPremium:!1,actif:!0,tags:[],duree:void 0,urlExterne:""},MY=()=>{const{currentUser:t}=xr(),[e,n]=w.useState([]),[r,i]=w.useState([]),[s,c]=w.useState([]),[d,f]=w.useState([]),[h,p]=w.useState(""),[g,y]=w.useState(""),[x,j]=w.useState(""),[E,S]=w.useState(""),[T,D]=w.useState(""),[R,P]=w.useState(!0),[$,B]=w.useState(!1),[I,O]=w.useState(!1),[k,V]=w.useState(!1),[U,z]=w.useState(null),[M,W]=w.useState(!1),[Q,H]=w.useState(0),[oe,be]=w.useState(null),[Ee,X]=w.useState(null),[F,ne]=w.useState(!1),[ge,we]=w.useState(!1),[J,Y]=w.useState(!1),[xe,Ve]=w.useState(null),[le,Ne]=w.useState(null),[Z,ve]=w.useState(null),[ke,$e]=w.useState({...CO,disciplineId:""}),[st,ft]=w.useState({}),[pt,fr]=w.useState(null),[Pt,It]=w.useState(null),Rr=w.useRef(null),[fe,Ie]=w.useState(""),qe=w.useCallback(async()=>{try{P(!0);const te=await Da.getAll();n(te),te.length>0&&!h&&p(te[0].id)}catch(te){console.error("Erreur lors du chargement des disciplines:",te),be("Impossible de charger les disciplines.")}finally{P(!1)}},[h]),Ke=w.useCallback(async()=>{if(!h){i([]);return}try{B(!0);const te=await Mo.getByDiscipline(h);i(te)}catch(te){console.error("Erreur lors du chargement des chapitres:",te)}finally{B(!1)}},[h]),Ut=w.useCallback(async()=>{if(!h){c([]),f([]);return}try{O(!0);const te=await _s.getByDiscipline(h);c(te),f(te)}catch(te){console.error("Erreur lors du chargement des ressources:",te),be("Impossible de charger les ressources.")}finally{O(!1)}},[h]);w.useEffect(()=>{qe()},[qe]),w.useEffect(()=>{Ke()},[Ke]),w.useEffect(()=>{Ut()},[Ut]),w.useEffect(()=>{let te=[...s];if(g&&(te=te.filter(Ue=>Ue.chapitre===g)),x&&(te=te.filter(Ue=>Ue.type===x)),E==="premium"?te=te.filter(Ue=>Ue.isPremium):E==="free"&&(te=te.filter(Ue=>!Ue.isPremium)),T){const Ue=T.toLowerCase();te=te.filter(gt=>gt.titre.toLowerCase().includes(Ue)||gt.description?.toLowerCase().includes(Ue)||gt.tags?.some(Bn=>Bn.toLowerCase().includes(Ue)))}f(te)},[s,g,x,E,T]);const Rn=()=>{const te={};if(ke.disciplineId||(te.disciplineId="Veuillez slectionner une discipline"),ke.titre.trim()?ke.titre.length<3&&(te.titre="Le titre doit contenir au moins 3 caractres"):te.titre="Le titre est requis",ke.type||(te.type="Veuillez slectionner un type de ressource"),pt){const Ue="."+pt.name.split(".").pop()?.toLowerCase(),gt=eg[ke.type];gt.includes(Ue)||(te.fichier=`Extension non autorise. Extensions acceptes : ${gt.join(", ")}`),pt.size/(1024*1024)>q_&&(te.fichier=`Le fichier est trop volumineux (max ${q_} Mo)`)}return ft(te),Object.keys(te).length===0},kr=te=>{p(te),y(""),be(null)},eo=()=>{Ve(null),$e({...CO,disciplineId:h}),ft({}),fr(null),It(null),Ie(""),ne(!0)},Dr=te=>{Ve(te),$e({disciplineId:te.disciplineId,titre:te.titre,type:te.type,description:te.description,contenu:te.contenu,chapitre:te.chapitre||"",ordre:te.ordre,isPremium:te.isPremium,actif:te.actif,tags:te.tags||[],duree:te.duree,urlExterne:te.urlExterne||""}),ft({}),fr(null),It(te.fichierURL||null),Ie(""),ne(!0)},qi=te=>{ve(te),Y(!0)},Vc=te=>{Ne(te),we(!0)},rn=()=>{ne(!1),we(!1),Y(!1),Ve(null),Ne(null),ve(null),ft({}),fr(null),It(null),Ie("")},St=te=>{const{name:Ue,value:gt,type:Bn}=te.target,wl=te.target.checked;$e(vi=>({...vi,[Ue]:Bn==="checkbox"?wl:Bn==="number"?Number(gt):gt})),st[Ue]&&ft(vi=>({...vi,[Ue]:void 0}))},Mr=te=>{const Ue=te.target.files?.[0];if(Ue)if(fr(Ue),ft(gt=>({...gt,fichier:void 0})),Ue.type.startsWith("image/")||Ue.type.startsWith("video/")){const gt=new FileReader;gt.onloadend=()=>{It(gt.result)},gt.readAsDataURL(Ue)}else It(null)},en=()=>{fr(null),It(null),Rr.current&&(Rr.current.value="")},xl=()=>{fe.trim()&&!ke.tags?.includes(fe.trim())&&($e(te=>({...te,tags:[...te.tags||[],fe.trim()]})),Ie(""))},to=te=>{$e(Ue=>({...Ue,tags:(Ue.tags||[]).filter((gt,Bn)=>Bn!==te)}))},qc=async te=>{if(te.preventDefault(),!!Rn())try{V(!0),be(null);let Ue=xe?.fichierURL,gt=xe?.fichierNom;if(pt){W(!0);const wl=xe?.id||`temp_${Date.now()}`;Ue=await _s.uploadFile(pt,wl),gt=pt?.name||"fichier",W(!1)}const Bn={...ke,fichierURL:Ue,fichierNom:gt};xe?(await _s.update(xe.id,Bn),X("Ressource modifie avec succs !")):(await _s.create(Bn,"admin"),X("Ressource cre avec succs !")),rn(),await Ut(),setTimeout(()=>X(null),3e3)}catch(Ue){console.error("Erreur lors de la sauvegarde:",Ue),be("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{V(!1),W(!1),H(0)}},pi=async()=>{if(le)try{z(le.id),le.fichierURL&&await _s.deleteFile(le.fichierURL),await _s.delete(le.id),X("Ressource supprime avec succs !"),rn(),await Ut(),setTimeout(()=>X(null),3e3)}catch(te){console.error("Erreur lors de la suppression:",te),be("Erreur lors de la suppression. Veuillez ressayer.")}finally{z(null)}},Ja=async te=>{try{await _s.togglePremium(te.id,!te.isPremium),await Ut(),X(te.isPremium?"Ressource passe en gratuit":"Ressource passe en Premium"),setTimeout(()=>X(null),2e3)}catch{be("Erreur lors de la mise  jour")}},an=te=>{const Ue=e.find(gt=>gt.id===te);return Ue?Ue.nom:"Non trouve"},gi=te=>{const Ue=r.find(gt=>gt.id===te);return Ue?`${Ue.numero}. ${Ue.titre}`:""},hr=te=>Jp.find(Ue=>Ue.value===te)||Jp[0],Xr=te=>te<1024?te+" o":te<1024*1024?(te/1024).toFixed(1)+" Ko":(te/(1024*1024)).toFixed(1)+" Mo";return l.jsxs("div",{className:"resource-manager",children:[l.jsxs("header",{className:"admin-page-header",children:[l.jsxs("div",{className:"admin-page-header__info",children:[l.jsx("h1",{className:"admin-page-header__title",children:"Gestion des Ressources"}),l.jsx("p",{className:"admin-page-header__subtitle",children:"Grez les cours, exercices, vidos et documents pdagogiques"})]}),l.jsx("div",{className:"admin-page-header__actions",children:l.jsxs("button",{onClick:eo,className:"btn btn--primary",disabled:!h||R,children:[l.jsx("span",{children:""}),"Nouvelle ressource"]})})]}),oe&&l.jsxs("div",{className:"alert alert--error",children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:oe})}),l.jsx("button",{onClick:()=>be(null),className:"alert__close",children:""})]}),Ee&&l.jsxs("div",{className:"alert alert--success",children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:Ee})})]}),l.jsx("div",{className:"content-card",style:{marginBottom:"var(--spacing-lg)"},children:l.jsx("div",{className:"content-card__body",children:l.jsxs("div",{className:"discipline-selector",children:[l.jsx("label",{className:"form-label",children:"Slectionner une discipline :"}),R?l.jsx("p",{className:"text-muted",children:"Chargement des disciplines..."}):e.length===0?l.jsxs("p",{className:"text-muted",children:["Aucune discipline disponible.",l.jsx("a",{href:"/admin/disciplines",children:" Crer une discipline"})]}):l.jsx("div",{className:"discipline-tabs",children:e.map(te=>l.jsxs("button",{className:`discipline-tab ${h===te.id?"discipline-tab--active":""}`,onClick:()=>kr(te.id),style:{"--discipline-color":te.couleur||"#2563eb"},children:[l.jsx("span",{className:"discipline-tab__icon",children:te.icone||""}),l.jsx("span",{className:"discipline-tab__name",children:te.nom}),l.jsx("span",{className:"discipline-tab__class",children:te.classe})]},te.id))})]})})}),l.jsxs("div",{className:"admin-table-container",children:[l.jsxs("div",{className:"admin-table-header",children:[l.jsxs("h2",{className:"admin-table-title",children:["Ressources ",h&&`- ${an(h)}`,d.length>0&&` (${d.length})`]}),l.jsxs("div",{className:"admin-table-actions",children:[l.jsxs("div",{className:"search-input",children:[l.jsx("span",{className:"search-input__icon",children:""}),l.jsx("input",{type:"text",className:"search-input__field",placeholder:"Rechercher...",value:T,onChange:te=>D(te.target.value)})]}),l.jsxs("select",{className:"form-select form-select--sm",value:g,onChange:te=>y(te.target.value),disabled:$||r.length===0,children:[l.jsx("option",{value:"",children:"Tous les chapitres"}),r.map(te=>l.jsxs("option",{value:te.id,children:[te.numero,". ",te.titre]},te.id))]}),l.jsxs("select",{className:"form-select form-select--sm",value:x,onChange:te=>j(te.target.value),children:[l.jsx("option",{value:"",children:"Tous les types"}),Jp.map(te=>l.jsxs("option",{value:te.value,children:[te.icon," ",te.label]},te.value))]}),l.jsxs("select",{className:"form-select form-select--sm",value:E,onChange:te=>S(te.target.value),children:[l.jsx("option",{value:"",children:"Tous"}),l.jsx("option",{value:"premium",children:" Premium"}),l.jsx("option",{value:"free",children:"Gratuit"})]})]})]}),I?l.jsxs("div",{className:"loading-container",style:{padding:"var(--spacing-2xl)"},children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Chargement des ressources..."})]}):h?d.length===0?l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state__icon",children:""}),l.jsx("h3",{className:"empty-state__title",children:"Aucune ressource"}),l.jsx("p",{className:"empty-state__message",children:T||x||E||g?"Aucune ressource ne correspond aux critres de recherche.":"Cette discipline n'a pas encore de ressources."}),!T&&!x&&!E&&!g&&l.jsx("button",{onClick:eo,className:"btn btn--primary",children:"Crer la premire ressource"})]}):l.jsx("div",{className:"resource-list",style:{padding:"var(--spacing-lg)"},children:d.map(te=>{const Ue=hr(te.type);return l.jsxs("div",{className:"resource-item",children:[l.jsx("div",{className:`resource-item__icon resource-item__icon--${te.type}`,style:{backgroundColor:`${Ue.color}15`,color:Ue.color},children:Ue.icon}),l.jsxs("div",{className:"resource-item__content",children:[l.jsxs("div",{className:"resource-item__title",children:[te.titre,te.isPremium&&l.jsx("span",{className:"badge badge--premium",children:"Premium"}),!te.actif&&l.jsx("span",{className:"badge badge--warning",children:"Inactif"})]}),l.jsxs("div",{className:"resource-item__meta",children:[l.jsx("span",{children:Ue.label}),te.chapitre&&l.jsxs("span",{children:[" ",gi(te.chapitre)]}),te.duree&&l.jsxs("span",{children:[" ",te.duree," min"]}),te.fichierNom&&l.jsxs("span",{children:[" ",te.fichierNom]}),te.tags&&te.tags.length>0&&l.jsxs("span",{children:[" ",te.tags.join(", ")]})]})]}),l.jsxs("div",{className:"resource-item__actions",children:[l.jsx("button",{onClick:()=>Ja(te),className:`table-action-btn ${te.isPremium?"table-action-btn--warning":"table-action-btn--view"}`,title:te.isPremium?"Passer en gratuit":"Passer en Premium",children:te.isPremium?"":""}),(te.fichierURL||te.urlExterne)&&l.jsx("button",{onClick:()=>qi(te),className:"table-action-btn table-action-btn--view",title:"Prvisualiser",children:""}),l.jsx("button",{onClick:()=>Dr(te),className:"table-action-btn table-action-btn--edit",title:"Modifier",children:""}),l.jsx("button",{onClick:()=>Vc(te),className:"table-action-btn table-action-btn--delete",title:"Supprimer",disabled:U===te.id,children:U===te.id?"":""})]})]},te.id)})}):l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state__icon",children:""}),l.jsx("h3",{className:"empty-state__title",children:"Slectionnez une discipline"}),l.jsx("p",{className:"empty-state__message",children:"Choisissez une discipline ci-dessus pour voir ses ressources."})]})]}),F&&l.jsx("div",{className:"modal-overlay",onClick:rn,children:l.jsxs("div",{className:"modal modal--xl",onClick:te=>te.stopPropagation(),children:[l.jsxs("div",{className:"modal__header",children:[l.jsx("h2",{className:"modal__title",children:xe?"Modifier la ressource":"Nouvelle ressource"}),l.jsx("button",{onClick:rn,className:"modal__close",children:""})]}),l.jsxs("form",{onSubmit:qc,children:[l.jsxs("div",{className:"modal__body",children:[!xe&&l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label form-label--required",children:"Discipline"}),l.jsxs("select",{name:"disciplineId",className:`form-select ${st.disciplineId?"form-select--error":""}`,value:ke.disciplineId,onChange:St,children:[l.jsx("option",{value:"",children:"Slectionner une discipline"}),e.map(te=>l.jsxs("option",{value:te.id,children:[te.icone," ",te.nom," (",te.classe,")"]},te.id))]}),st.disciplineId&&l.jsx("span",{className:"form-error",children:st.disciplineId})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",style:{flex:2},children:[l.jsx("label",{className:"form-label form-label--required",children:"Titre"}),l.jsx("input",{type:"text",name:"titre",className:`form-input ${st.titre?"form-input--error":""}`,placeholder:"Ex: Introduction aux fractions",value:ke.titre,onChange:St}),st.titre&&l.jsx("span",{className:"form-error",children:st.titre})]}),l.jsxs("div",{className:"form-group",style:{flex:1},children:[l.jsx("label",{className:"form-label form-label--required",children:"Type"}),l.jsx("select",{name:"type",className:`form-select ${st.type?"form-select--error":""}`,value:ke.type,onChange:St,children:Jp.map(te=>l.jsxs("option",{value:te.value,children:[te.icon," ",te.label]},te.value))}),st.type&&l.jsx("span",{className:"form-error",children:st.type})]})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Chapitre (optionnel)"}),l.jsxs("select",{name:"chapitreId",className:"form-select",value:ke.chapitre||"",onChange:St,disabled:$,children:[l.jsx("option",{value:"",children:"Aucun chapitre"}),r.map(te=>l.jsxs("option",{value:te.id,children:[te.numero,". ",te.titre]},te.id))]})]}),l.jsxs("div",{className:"form-group",style:{flex:"0 0 120px"},children:[l.jsx("label",{className:"form-label",children:"Ordre"}),l.jsx("input",{type:"number",name:"ordre",className:"form-input",min:"1",value:ke.ordre,onChange:St})]}),l.jsxs("div",{className:"form-group",style:{flex:"0 0 120px"},children:[l.jsx("label",{className:"form-label",children:"Dure (min)"}),l.jsx("input",{type:"number",name:"duree",className:"form-input",min:"0",placeholder:"Ex: 30",value:ke.duree||"",onChange:St})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Description"}),l.jsx("textarea",{name:"description",className:"form-textarea",rows:3,placeholder:"Description de la ressource...",value:ke.description||"",onChange:St})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{className:"form-label",children:["Fichier",l.jsxs("span",{className:"form-helper",style:{marginLeft:"var(--spacing-sm)"},children:["(",eg[ke.type].join(", ")," - max ",q_," Mo)"]})]}),l.jsxs("div",{className:"file-upload",children:[l.jsx("input",{ref:Rr,type:"file",accept:eg[ke.type].join(","),onChange:Mr,className:"file-upload__input",id:"file-input"}),!pt&&!Pt?l.jsxs("label",{htmlFor:"file-input",className:"file-upload__dropzone",children:[l.jsx("div",{className:"file-upload__icon",children:""}),l.jsx("p",{className:"file-upload__text",children:"Cliquez ou glissez un fichier ici"}),l.jsx("p",{className:"file-upload__hint",children:eg[ke.type].join(", ")})]}):l.jsxs("div",{className:"file-upload__preview",children:[pt?.type.startsWith("image/")&&Pt&&l.jsx("img",{src:Pt,alt:"Aperu",className:"file-preview__image"}),pt?.type.startsWith("video/")&&Pt&&l.jsx("video",{src:Pt,controls:!0,className:"file-preview__video"}),!pt?.type.startsWith("image/")&&!pt?.type.startsWith("video/")&&l.jsx("div",{className:"file-preview__document",children:l.jsx("span",{className:"file-preview__icon",children:hr(ke.type).icon})}),l.jsxs("div",{className:"file-preview__info",children:[l.jsx("p",{className:"file-preview__name",children:pt?.name||xe?.fichierNom}),pt&&l.jsx("p",{className:"file-preview__size",children:Xr(pt.size)})]}),l.jsx("button",{type:"button",onClick:en,className:"file-preview__remove",children:""})]})]}),st.fichier&&l.jsx("span",{className:"form-error",children:st.fichier}),M&&l.jsxs("div",{className:"upload-progress",children:[l.jsx("div",{className:"upload-progress__bar",style:{width:`${Q}%`}}),l.jsxs("span",{className:"upload-progress__text",children:[Q,"%"]})]})]}),ke.type==="video"&&l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"URL externe (YouTube, Vimeo...)"}),l.jsx("input",{type:"url",name:"urlExterne",className:"form-input",placeholder:"https://www.youtube.com/watch?v=...",value:ke.urlExterne||"",onChange:St}),l.jsx("span",{className:"form-helper",children:"Alternative  l'upload de fichier"})]}),ke.type==="cours"&&l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Contenu du cours"}),l.jsx("textarea",{name:"contenu",className:"form-textarea",rows:6,placeholder:"Saisissez le contenu du cours ici...",value:ke.contenu||"",onChange:St}),l.jsx("span",{className:"form-helper",children:"Optionnel si vous uploadez un fichier"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Tags"}),l.jsxs("div",{className:"tags-input",children:[l.jsx("input",{type:"text",className:"form-input",placeholder:"Ajouter un tag...",value:fe,onChange:te=>Ie(te.target.value),onKeyPress:te=>te.key==="Enter"&&(te.preventDefault(),xl())}),l.jsx("button",{type:"button",onClick:xl,className:"btn btn--outline btn--sm",children:"Ajouter"})]}),ke.tags&&ke.tags.length>0&&l.jsx("div",{className:"tags-list",children:ke.tags.map((te,Ue)=>l.jsxs("span",{className:"tag",children:[te,l.jsx("button",{type:"button",onClick:()=>to(Ue),className:"tag__remove",children:""})]},Ue))})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Options"}),l.jsxs("div",{className:"form-options",children:[l.jsxs("label",{className:"form-checkbox",children:[l.jsx("input",{type:"checkbox",name:"isPremium",checked:ke.isPremium,onChange:St}),l.jsx("span",{children:"Contenu Premium "})]}),l.jsxs("label",{className:"form-checkbox",children:[l.jsx("input",{type:"checkbox",name:"actif",checked:ke.actif!==!1,onChange:St}),l.jsx("span",{children:"Ressource active"})]})]})]})]}),l.jsxs("div",{className:"modal__footer",children:[l.jsx("button",{type:"button",onClick:rn,className:"btn btn--outline",disabled:k||M,children:"Annuler"}),l.jsx("button",{type:"submit",className:"btn btn--primary",disabled:k||M,children:k||M?M?`Upload ${Q}%...`:"Enregistrement...":xe?"Mettre  jour":"Crer la ressource"})]})]})]})}),J&&Z&&l.jsx("div",{className:"modal-overlay",onClick:rn,children:l.jsxs("div",{className:"modal modal--xl",onClick:te=>te.stopPropagation(),children:[l.jsxs("div",{className:"modal__header",children:[l.jsxs("h2",{className:"modal__title",children:[hr(Z.type).icon," ",Z.titre]}),l.jsx("button",{onClick:rn,className:"modal__close",children:""})]}),l.jsxs("div",{className:"modal__body",children:[Z.type==="video"&&Z.urlExterne?l.jsx("div",{className:"preview-video",children:l.jsx("iframe",{src:Z.urlExterne.replace("watch?v=","embed/"),title:Z.titre,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):Z.fichierURL?l.jsx("div",{className:"preview-file",children:Z.fichierURL.match(/\.(jpg|jpeg|png|gif|webp)$/i)?l.jsx("img",{src:Z.fichierURL,alt:Z.titre}):Z.fichierURL.match(/\.(mp4|webm)$/i)?l.jsx("video",{src:Z.fichierURL,controls:!0}):Z.fichierURL.match(/\.pdf$/i)?l.jsx("iframe",{src:Z.fichierURL,title:Z.titre}):l.jsxs("div",{className:"preview-download",children:[l.jsx("span",{className:"preview-download__icon",children:hr(Z.type).icon}),l.jsx("p",{children:Z.fichierNom}),l.jsx("a",{href:Z.fichierURL,target:"_blank",rel:"noopener noreferrer",className:"btn btn--primary",children:"Tlcharger"})]})}):Z.contenu?l.jsx("div",{className:"preview-content",children:l.jsx("p",{children:Z.contenu})}):l.jsx("div",{className:"preview-empty",children:l.jsx("p",{children:"Aucun contenu  prvisualiser"})}),l.jsxs("div",{className:"preview-info",children:[Z.description&&l.jsx("p",{className:"preview-description",children:Z.description}),l.jsxs("div",{className:"preview-meta",children:[l.jsxs("span",{children:["Type : ",hr(Z.type).label]}),Z.duree&&l.jsxs("span",{children:["Dure : ",Z.duree," min"]}),Z.isPremium&&l.jsx("span",{className:"badge badge--premium",children:"Premium"})]})]})]})]})}),ge&&le&&l.jsx("div",{className:"modal-overlay",onClick:rn,children:l.jsxs("div",{className:"modal",onClick:te=>te.stopPropagation(),children:[l.jsxs("div",{className:"modal__header",children:[l.jsx("h2",{className:"modal__title",children:"Confirmer la suppression"}),l.jsx("button",{onClick:rn,className:"modal__close",children:""})]}),l.jsxs("div",{className:"modal__body",children:[l.jsxs("p",{children:["Supprimer la ressource ",l.jsx("strong",{children:le.titre})," ?"]}),le.fichierURL&&l.jsxs("div",{className:"alert alert--warning",style:{marginTop:"var(--spacing-md)"},children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:"Le fichier associ sera galement supprim de faon permanente."})})]})]}),l.jsxs("div",{className:"modal__footer",children:[l.jsx("button",{onClick:rn,className:"btn btn--outline",children:"Annuler"}),l.jsx("button",{onClick:pi,className:"btn btn--danger",disabled:U!==null,children:U?"Suppression...":"Supprimer"})]})]})}),l.jsx("style",{children:`
        /* ==================== SLECTEUR DE DISCIPLINE ==================== */
        
        .discipline-tabs {
          display: flex;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
          margin-top: var(--spacing-md);
        }

        .discipline-tab {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          padding: var(--spacing-sm) var(--spacing-md);
          border: 2px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: white;
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .discipline-tab:hover {
          border-color: var(--discipline-color, var(--color-primary));
        }

        .discipline-tab--active {
          border-color: var(--discipline-color, var(--color-primary));
          background: color-mix(in srgb, var(--discipline-color, var(--color-primary)) 10%, white);
        }

        .discipline-tab__icon {
          font-size: var(--text-lg);
        }

        .discipline-tab__name {
          font-weight: var(--font-medium);
        }

        .discipline-tab__class {
          font-size: var(--text-xs);
          color: var(--color-text-light);
          background: var(--color-bg-secondary);
          padding: 2px 6px;
          border-radius: var(--radius-sm);
        }

        /* ==================== FORMULAIRE ==================== */
        
        .form-row {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: var(--spacing-lg);
        }

        .form-options {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-lg);
          margin-top: var(--spacing-sm);
        }

        .form-select--sm {
          padding: var(--spacing-sm) var(--spacing-md);
          font-size: var(--text-sm);
          min-width: 140px;
        }

        /* ==================== UPLOAD DE FICHIER ==================== */
        
        .file-upload {
          position: relative;
        }

        .file-upload__input {
          position: absolute;
          opacity: 0;
          pointer-events: none;
        }

        .file-upload__dropzone {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: var(--spacing-xl);
          border: 2px dashed var(--color-border);
          border-radius: var(--radius-lg);
          background: var(--color-bg-secondary);
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .file-upload__dropzone:hover {
          border-color: var(--color-primary);
          background: rgba(37, 99, 235, 0.05);
        }

        .file-upload__icon {
          font-size: 48px;
          margin-bottom: var(--spacing-md);
        }

        .file-upload__text {
          font-weight: var(--font-medium);
          margin-bottom: var(--spacing-xs);
        }

        .file-upload__hint {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        .file-upload__preview {
          display: flex;
          align-items: center;
          gap: var(--spacing-lg);
          padding: var(--spacing-md);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: var(--color-bg-secondary);
        }

        .file-preview__image,
        .file-preview__video {
          width: 120px;
          height: 80px;
          object-fit: cover;
          border-radius: var(--radius-md);
        }

        .file-preview__document {
          width: 80px;
          height: 80px;
          background: white;
          border: 1px solid var(--color-border);
          border-radius: var(--radius-md);
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .file-preview__icon {
          font-size: 32px;
        }

        .file-preview__info {
          flex: 1;
        }

        .file-preview__name {
          font-weight: var(--font-medium);
          margin-bottom: var(--spacing-xs);
          word-break: break-all;
        }

        .file-preview__size {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        .file-preview__remove {
          width: 32px;
          height: 32px;
          border: none;
          background: var(--color-error);
          color: white;
          border-radius: 50%;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all var(--transition-base);
        }

        .file-preview__remove:hover {
          background: #dc2626;
          transform: scale(1.1);
        }

        /* ==================== BARRE DE PROGRESSION ==================== */
        
        .upload-progress {
          margin-top: var(--spacing-md);
          height: 8px;
          background: var(--color-bg-tertiary);
          border-radius: var(--radius-full);
          overflow: hidden;
          position: relative;
        }

        .upload-progress__bar {
          height: 100%;
          background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
          border-radius: var(--radius-full);
          transition: width var(--transition-base);
        }

        .upload-progress__text {
          position: absolute;
          right: var(--spacing-sm);
          top: 50%;
          transform: translateY(-50%);
          font-size: var(--text-xs);
          font-weight: var(--font-semibold);
          color: var(--color-text);
        }

        /* ==================== TAGS ==================== */
        
        .tags-input {
          display: flex;
          gap: var(--spacing-sm);
        }

        .tags-list {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-sm);
          margin-top: var(--spacing-md);
        }

        .tag {
          display: inline-flex;
          align-items: center;
          gap: var(--spacing-xs);
          padding: var(--spacing-xs) var(--spacing-sm);
          background: var(--color-bg-tertiary);
          border-radius: var(--radius-full);
          font-size: var(--text-sm);
          color: var(--color-text);
        }

        .tag__remove {
          width: 18px;
          height: 18px;
          border: none;
          background: transparent;
          color: var(--color-text-light);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
          transition: all var(--transition-base);
        }

        .tag__remove:hover {
          background: var(--color-error);
          color: white;
        }

        /* ==================== PRVISUALISATION ==================== */
        
        .preview-video {
          position: relative;
          padding-bottom: 56.25%;
          height: 0;
          overflow: hidden;
          border-radius: var(--radius-lg);
        }

        .preview-video iframe {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          border: none;
        }

        .preview-file {
          text-align: center;
        }

        .preview-file img,
        .preview-file video {
          max-width: 100%;
          max-height: 60vh;
          border-radius: var(--radius-lg);
        }

        .preview-file iframe {
          width: 100%;
          height: 60vh;
          border: none;
          border-radius: var(--radius-lg);
        }

        .preview-download {
          padding: var(--spacing-2xl);
          text-align: center;
        }

        .preview-download__icon {
          font-size: 64px;
          display: block;
          margin-bottom: var(--spacing-lg);
        }

        .preview-content {
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-lg);
          white-space: pre-wrap;
        }

        .preview-empty {
          padding: var(--spacing-2xl);
          text-align: center;
          color: var(--color-text-light);
        }

        .preview-info {
          margin-top: var(--spacing-lg);
          padding-top: var(--spacing-lg);
          border-top: 1px solid var(--color-border);
        }

        .preview-description {
          color: var(--color-text-light);
          margin-bottom: var(--spacing-md);
        }

        .preview-meta {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-lg);
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        /* ==================== RESSOURCES - AFFICHAGE CARTE ==================== */
        
        .resource-item__title {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
        }

        /* ==================== ACTION WARNING ==================== */
        
        .table-action-btn--warning {
          color: var(--color-warning);
        }

        /* ==================== RESPONSIVE ==================== */
        
        @media (max-width: 768px) {
          .form-row {
            grid-template-columns: 1fr;
          }

          .admin-table-actions {
            flex-direction: column;
            align-items: stretch;
          }

          .search-input__field {
            width: 100%;
          }

          .file-upload__preview {
            flex-direction: column;
            text-align: center;
          }

          .preview-meta {
            flex-direction: column;
            gap: var(--spacing-sm);
          }
        }
      `})]})},B4=Et(Ae,"quizzes"),$4=async t=>{try{let e=Ht(B4,Qr("titre","asc"));t?.disciplineId;let r=(await Gt(e)).docs.map(i=>({id:i.id,...i.data()}));return t?.isPremium,t?.difficulte,r}catch(e){throw console.error("Erreur lors de la rcupration des quiz :",e),e}},zY=async t=>{try{const e=await oa(tt(Ae,"quizzes",t));return e.exists()?{id:e.id,...e.data()}:null}catch(e){throw console.error("Erreur lors de la rcupration du quiz :",e),e}},LY=async t=>{try{return(await Hs(B4,{...t,createdAt:it.now(),updatedAt:it.now()})).id}catch(e){throw console.error("Erreur lors de la cration du quiz :",e),e}},UY=async(t,e)=>{try{await Un(tt(Ae,"quizzes",t),{...e,updatedAt:it.now()})}catch(n){throw console.error("Erreur lors de la mise  jour du quiz :",n),n}},VY=async t=>{try{await Ey(tt(Ae,"quizzes",t))}catch(e){throw console.error("Erreur lors de la suppression du quiz :",e),e}},qY=()=>`q_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,OO=()=>({id:qY(),question:"",options:["","","",""],reponseCorrecte:0,explication:"",difficulte:"moyen",points:1}),PO=t=>{const e=t.questions||[],n=e.reduce((i,s)=>i+(s.points||1),0),r={facile:e.filter(i=>i.difficulte==="facile").length,moyen:e.filter(i=>i.difficulte==="moyen").length,difficile:e.filter(i=>i.difficulte==="difficile").length};return{nombreQuestions:e.length,totalPoints:n,parDifficulte:r,duree:t.duree||0}},BY=()=>{const[t,e]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState(!0),[c,d]=w.useState(null),[f,h]=w.useState(null),[p,g]=w.useState(""),[y,x]=w.useState(""),[j,E]=w.useState(""),[S,T]=w.useState(""),[D,R]=w.useState(!1),[P,$]=w.useState("list"),[B,I]=w.useState(null),[O,k]=w.useState({disciplineId:"",titre:"",questions:[],duree:15,isPremium:!1,noteMinimale:50}),[V,U]=w.useState(null),[z,M]=w.useState(!1),[W,Q]=w.useState(null),[H,oe]=w.useState(null),[be,Ee]=w.useState({}),[X,F]=w.useState(!1),ne=w.useCallback(async()=>{s(!0),d(null);try{const[fe,Ie]=await Promise.all([$4(),Da.getAll()]);e(fe),r(Ie.map(qe=>({id:qe.id,nom:qe.nom||qe.name||qe.id})))}catch(fe){d("Erreur lors du chargement des donnes."),console.error(fe)}finally{s(!1)}},[]);w.useEffect(()=>{ne()},[ne]),w.useEffect(()=>{if(f){const fe=setTimeout(()=>h(null),4e3);return()=>clearTimeout(fe)}},[f]);const ge=t.filter(fe=>{if(p){const Ie=p.toLowerCase();if(!fe.titre.toLowerCase().includes(Ie))return!1}return!(y&&fe.disciplineId!==y||j==="true"&&!fe.isPremium||j==="false"&&fe.isPremium||S&&!fe.questions?.some(qe=>qe.difficulte===S))}),we=()=>{I(null),k({disciplineId:"",titre:"",questions:[OO()],duree:15,isPremium:!1,noteMinimale:50}),U(null),$("form")},J=fe=>{I(fe),k({disciplineId:fe.disciplineId,titre:fe.titre,questions:fe.questions||[],duree:fe.duree||15,isPremium:fe.isPremium||!1,noteMinimale:fe.noteMinimale||50}),U(null),$("form")},Y=async()=>{if(!O.titre.trim()){d("Le titre du quiz est obligatoire.");return}if(!O.disciplineId){d("Veuillez slectionner une discipline.");return}if(O.questions.length===0){d("Le quiz doit contenir au moins une question.");return}for(let fe=0;fe<O.questions.length;fe++){const Ie=O.questions[fe];if(!Ie.question.trim()){d(`La question ${fe+1} n'a pas d'nonc.`);return}if(Ie.options.filter(Ke=>!Ke.trim()).length>0){d(`La question ${fe+1} a des options vides.`);return}}M(!0),d(null);try{B?(await UY(B.id,O),h("Quiz mis  jour avec succs !")):(await LY(O),h("Quiz cr avec succs !")),await ne(),$("list")}catch(fe){d("Erreur lors de la sauvegarde du quiz."),console.error(fe)}finally{M(!1)}},xe=async fe=>{try{await VY(fe),h("Quiz supprim avec succs."),Q(null),await ne()}catch(Ie){d("Erreur lors de la suppression du quiz."),console.error(Ie)}},Ve=()=>{const fe=OO();k(Ie=>({...Ie,questions:[...Ie.questions,fe]})),U(fe.id)},le=fe=>{const Ie=O.questions.find(Rn=>Rn.id===fe);if(!Ie)return;const qe={...Ie,id:`q_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,question:`${Ie.question} (copie)`},Ke=O.questions.findIndex(Rn=>Rn.id===fe),Ut=[...O.questions];Ut.splice(Ke+1,0,qe),k(Rn=>({...Rn,questions:Ut})),U(qe.id)},Ne=fe=>{k(Ie=>({...Ie,questions:Ie.questions.filter(qe=>qe.id!==fe)})),V===fe&&U(null)},Z=(fe,Ie,qe)=>{k(Ke=>({...Ke,questions:Ke.questions.map(Ut=>Ut.id===fe?{...Ut,[Ie]:qe}:Ut)}))},ve=(fe,Ie,qe)=>{k(Ke=>({...Ke,questions:Ke.questions.map(Ut=>Ut.id===fe?{...Ut,options:Ut.options.map((Rn,kr)=>kr===Ie?qe:Rn)}:Ut)}))},ke=fe=>{oe(fe),Ee({}),F(!1),$("preview")},$e=(fe,Ie)=>{X||Ee(qe=>({...qe,[fe]:Ie}))},st=()=>{F(!0)},ft=fe=>n.find(Ie=>Ie.id===fe)?.nom||fe,pt=({level:fe})=>{const Ie={facile:"quiz-badge-facile",moyen:"quiz-badge-moyen",difficile:"quiz-badge-difficile"};return l.jsx("span",{className:`quiz-badge ${Ie[fe]||"quiz-badge-moyen"}`,children:fe.charAt(0).toUpperCase()+fe.slice(1)})},fr=()=>l.jsxs(l.Fragment,{children:[c&&l.jsxs("div",{className:"admin-message admin-message-error",children:[l.jsx(rv,{size:18}),l.jsx("span",{children:c}),l.jsx("button",{onClick:()=>d(null),className:"admin-message-close",children:l.jsx(lc,{size:16})})]}),f&&l.jsxs("div",{className:"admin-message admin-message-success",children:[l.jsx(gn,{size:18}),l.jsx("span",{children:f})]})]}),Pt=()=>l.jsxs("div",{className:"quiz-manager",children:[l.jsxs("div",{className:"admin-header",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"admin-title",children:[l.jsx(ra,{size:24})," Gestion des Quiz"]}),l.jsxs("p",{className:"admin-subtitle",children:[t.length," quiz au total  ",ge.length," affich(s)"]})]}),l.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:we,children:[l.jsx(Xp,{size:18})," Nouveau Quiz"]})]}),l.jsxs("div",{className:"admin-toolbar",children:[l.jsxs("div",{className:"admin-search-wrapper",children:[l.jsx(U4,{size:18,className:"admin-search-icon"}),l.jsx("input",{type:"text",className:"admin-search-input",placeholder:"Rechercher un quiz...",value:p,onChange:fe=>g(fe.target.value)})]}),l.jsxs("button",{className:`admin-btn admin-btn-outline ${D?"active":""}`,onClick:()=>R(!D),children:[l.jsx(L4,{size:16})," Filtres",D?l.jsx(J1,{size:14}):l.jsx(nv,{size:14})]})]}),D&&l.jsxs("div",{className:"admin-filters-panel",children:[l.jsxs("div",{className:"admin-filter-group",children:[l.jsx("label",{className:"admin-filter-label",children:"Discipline"}),l.jsxs("select",{className:"admin-select",value:y,onChange:fe=>x(fe.target.value),children:[l.jsx("option",{value:"",children:"Toutes les disciplines"}),n.map(fe=>l.jsx("option",{value:fe.id,children:fe.nom},fe.id))]})]}),l.jsxs("div",{className:"admin-filter-group",children:[l.jsx("label",{className:"admin-filter-label",children:"Accs"}),l.jsxs("select",{className:"admin-select",value:j,onChange:fe=>E(fe.target.value),children:[l.jsx("option",{value:"",children:"Tous"}),l.jsx("option",{value:"false",children:"Gratuit"}),l.jsx("option",{value:"true",children:"Premium"})]})]}),l.jsxs("div",{className:"admin-filter-group",children:[l.jsx("label",{className:"admin-filter-label",children:"Difficult"}),l.jsxs("select",{className:"admin-select",value:S,onChange:fe=>T(fe.target.value),children:[l.jsx("option",{value:"",children:"Toutes"}),l.jsx("option",{value:"facile",children:"Facile"}),l.jsx("option",{value:"moyen",children:"Moyen"}),l.jsx("option",{value:"difficile",children:"Difficile"})]})]}),l.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{x(""),E(""),T(""),g("")},children:"Rinitialiser"})]}),i?l.jsxs("div",{className:"admin-loading",children:[l.jsx("div",{className:"admin-spinner"}),l.jsx("p",{children:"Chargement des quiz..."})]}):ge.length===0?l.jsxs("div",{className:"admin-empty-state",children:[l.jsx(Cg,{size:48}),l.jsx("h3",{children:"Aucun quiz trouv"}),l.jsx("p",{children:t.length===0?"Crez votre premier quiz pour vos lves.":"Aucun quiz ne correspond  vos filtres."}),t.length===0&&l.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:we,children:[l.jsx(Xp,{size:18})," Crer un quiz"]})]}):l.jsx("div",{className:"quiz-grid",children:ge.map(fe=>{const Ie=PO(fe);return l.jsxs("div",{className:"quiz-card",children:[l.jsxs("div",{className:"quiz-card-header",children:[l.jsxs("div",{className:"quiz-card-title-row",children:[l.jsx("h3",{className:"quiz-card-title",children:fe.titre}),fe.isPremium&&l.jsxs("span",{className:"quiz-badge quiz-badge-premium",children:[l.jsx(di,{size:12})," Premium"]})]}),l.jsx("span",{className:"quiz-card-discipline",children:ft(fe.disciplineId)})]}),l.jsxs("div",{className:"quiz-card-stats",children:[l.jsxs("div",{className:"quiz-stat",children:[l.jsx(Cg,{size:14}),l.jsxs("span",{children:[Ie.nombreQuestions," question(s)"]})]}),l.jsxs("div",{className:"quiz-stat",children:[l.jsx(_c,{size:14}),l.jsxs("span",{children:[Ie.totalPoints," pts"]})]}),l.jsxs("div",{className:"quiz-stat",children:[l.jsx(ad,{size:14}),l.jsxs("span",{children:[Ie.duree," min"]})]})]}),l.jsxs("div",{className:"quiz-card-difficulty",children:[Ie.parDifficulte.facile>0&&l.jsx(pt,{level:"facile"}),Ie.parDifficulte.moyen>0&&l.jsx(pt,{level:"moyen"}),Ie.parDifficulte.difficile>0&&l.jsx(pt,{level:"difficile"})]}),l.jsxs("div",{className:"quiz-card-actions",children:[l.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>ke(fe),title:"Prvisualiser",children:[l.jsx(tw,{size:14})," Aperu"]}),l.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>J(fe),title:"Modifier",children:[l.jsx(RQ,{size:14})," Modifier"]}),W===fe.id?l.jsxs("div",{className:"quiz-delete-confirm",children:[l.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-danger",onClick:()=>xe(fe.id),children:"Confirmer"}),l.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-ghost",onClick:()=>Q(null),children:"Annuler"})]}):l.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-danger-outline",onClick:()=>Q(fe.id),title:"Supprimer",children:l.jsx(jO,{size:14})})]})]},fe.id)})})]}),It=()=>l.jsxs("div",{className:"quiz-manager",children:[l.jsxs("div",{className:"admin-header",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"admin-title",children:[l.jsx(ra,{size:24}),B?"Modifier le quiz":"Nouveau quiz"]}),l.jsxs("p",{className:"admin-subtitle",children:[O.questions.length," question(s) ajoute(s)"]})]}),l.jsxs("div",{className:"admin-header-actions",children:[l.jsxs("button",{className:"admin-btn admin-btn-ghost",onClick:()=>$("list"),children:[l.jsx(lc,{size:18})," Annuler"]}),l.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:Y,disabled:z,children:[l.jsx($Q,{size:18})," ",z?"Enregistrement...":"Enregistrer"]})]})]}),l.jsxs("div",{className:"admin-card quiz-form-section",children:[l.jsx("h3",{className:"quiz-form-section-title",children:"Informations gnrales"}),l.jsxs("div",{className:"quiz-form-grid",children:[l.jsxs("div",{className:"admin-form-group quiz-form-full",children:[l.jsx("label",{className:"admin-label",children:"Titre du quiz *"}),l.jsx("input",{type:"text",className:"admin-input",placeholder:"Ex : Quiz - Les Misrables, Chapitre 1",value:O.titre,onChange:fe=>k(Ie=>({...Ie,titre:fe.target.value}))})]}),l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Discipline *"}),l.jsxs("select",{className:"admin-select",value:O.disciplineId,onChange:fe=>k(Ie=>({...Ie,disciplineId:fe.target.value})),children:[l.jsx("option",{value:"",children:"-- Slectionner --"}),n.map(fe=>l.jsx("option",{value:fe.id,children:fe.nom},fe.id))]})]}),l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Dure (minutes)"}),l.jsx("input",{type:"number",className:"admin-input",min:1,max:180,value:O.duree,onChange:fe=>k(Ie=>({...Ie,duree:parseInt(fe.target.value)||15}))})]}),l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Note minimale (%)"}),l.jsx("input",{type:"number",className:"admin-input",min:0,max:100,value:O.noteMinimale,onChange:fe=>k(Ie=>({...Ie,noteMinimale:parseInt(fe.target.value)||50}))})]}),l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Accs"}),l.jsxs("div",{className:`quiz-toggle ${O.isPremium?"quiz-toggle-active":""}`,onClick:()=>k(fe=>({...fe,isPremium:!fe.isPremium})),children:[l.jsx(di,{size:16}),l.jsx("span",{children:O.isPremium?"Premium (2 000 FCFA/mois)":"Gratuit"})]})]})]})]}),l.jsxs("div",{className:"admin-card quiz-form-section",children:[l.jsxs("div",{className:"quiz-questions-header",children:[l.jsxs("h3",{className:"quiz-form-section-title",children:["Questions (",O.questions.length,")"]}),l.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-primary",onClick:Ve,children:[l.jsx(Xp,{size:14})," Ajouter une question"]})]}),O.questions.length===0?l.jsxs("div",{className:"admin-empty-state",style:{padding:"2rem"},children:[l.jsx(Cg,{size:36}),l.jsx("p",{children:'Aucune question. Cliquez sur "Ajouter une question" pour commencer.'})]}):l.jsx("div",{className:"quiz-questions-list",children:O.questions.map((fe,Ie)=>l.jsxs("div",{className:`quiz-question-item ${V===fe.id?"expanded":""}`,children:[l.jsxs("div",{className:"quiz-question-header",onClick:()=>U(V===fe.id?null:fe.id),children:[l.jsxs("div",{className:"quiz-question-header-left",children:[l.jsx(hQ,{size:16,className:"quiz-grip-icon"}),l.jsxs("span",{className:"quiz-question-number",children:["Q",Ie+1]}),l.jsx("span",{className:"quiz-question-preview",children:fe.question||"Question sans nonc..."})]}),l.jsxs("div",{className:"quiz-question-header-right",children:[l.jsx(pt,{level:fe.difficulte||"moyen"}),l.jsxs("span",{className:"quiz-question-points",children:[fe.points," pt(s)"]}),V===fe.id?l.jsx(J1,{size:16}):l.jsx(nv,{size:16})]})]}),V===fe.id&&l.jsxs("div",{className:"quiz-question-body",children:[l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"nonc de la question *"}),l.jsx("textarea",{className:"admin-textarea",rows:2,placeholder:"Ex : Quel est le personnage principal du roman ?",value:fe.question,onChange:qe=>Z(fe.id,"question",qe.target.value)})]}),l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Options de rponse (cliquez sur la bonne rponse)"}),l.jsx("div",{className:"quiz-options-grid",children:fe.options.map((qe,Ke)=>l.jsxs("div",{className:`quiz-option-item ${fe.reponseCorrecte===Ke?"quiz-option-correct":""}`,children:[l.jsx("button",{type:"button",className:`quiz-option-radio ${fe.reponseCorrecte===Ke?"active":""}`,onClick:()=>Z(fe.id,"reponseCorrecte",Ke),title:fe.reponseCorrecte===Ke?"Bonne rponse":"Marquer comme bonne rponse",children:fe.reponseCorrecte===Ke?l.jsx(gn,{size:16}):l.jsx("span",{className:"quiz-option-letter",children:String.fromCharCode(65+Ke)})}),l.jsx("input",{type:"text",className:"admin-input",placeholder:`Option ${String.fromCharCode(65+Ke)}`,value:qe,onChange:Ut=>ve(fe.id,Ke,Ut.target.value)})]},Ke))})]}),l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Explication (affiche aprs rponse)"}),l.jsx("textarea",{className:"admin-textarea",rows:2,placeholder:"Ex : Jean Valjean est le protagoniste du roman de Victor Hugo...",value:fe.explication,onChange:qe=>Z(fe.id,"explication",qe.target.value)})]}),l.jsxs("div",{className:"quiz-question-meta",children:[l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Difficult"}),l.jsxs("select",{className:"admin-select",value:fe.difficulte,onChange:qe=>Z(fe.id,"difficulte",qe.target.value),children:[l.jsx("option",{value:"facile",children:"Facile"}),l.jsx("option",{value:"moyen",children:"Moyen"}),l.jsx("option",{value:"difficile",children:"Difficile"})]})]}),l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Points"}),l.jsx("input",{type:"number",className:"admin-input",min:1,max:10,value:fe.points,onChange:qe=>Z(fe.id,"points",parseInt(qe.target.value)||1)})]})]}),l.jsxs("div",{className:"quiz-question-actions",children:[l.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>le(fe.id),children:[l.jsx(rQ,{size:14})," Dupliquer"]}),l.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-danger-outline",onClick:()=>Ne(fe.id),children:[l.jsx(jO,{size:14})," Supprimer"]})]})]})]},fe.id))}),O.questions.length>0&&l.jsx("div",{className:"quiz-add-question-bottom",children:l.jsxs("button",{className:"admin-btn admin-btn-outline",onClick:Ve,children:[l.jsx(Xp,{size:16})," Ajouter une question"]})})]})]}),Rr=()=>{if(!H)return null;const fe=PO(H);let Ie=0,qe=0;return X&&H.questions.forEach(Ke=>{qe+=Ke.points||1,be[Ke.id]===Ke.reponseCorrecte&&(Ie+=Ke.points||1)}),l.jsxs("div",{className:"quiz-manager",children:[l.jsxs("div",{className:"admin-header",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"admin-title",children:[l.jsx(tw,{size:24})," Prvisualisation : ",H.titre]}),l.jsxs("p",{className:"admin-subtitle",children:[ft(H.disciplineId),"  ",fe.nombreQuestions," questions  ",fe.duree," min"]})]}),l.jsxs("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{$("list"),oe(null)},children:[l.jsx(lc,{size:18})," Fermer"]})]}),X&&l.jsxs("div",{className:`quiz-preview-score ${Ie/qe>=(H.noteMinimale||50)/100?"success":"fail"}`,children:[l.jsx(_c,{size:32}),l.jsxs("div",{children:[l.jsxs("h3",{children:["Score : ",Ie,"/",qe," (",Math.round(Ie/qe*100),"%)"]}),l.jsxs("p",{children:["Note minimale : ",H.noteMinimale||50,"% "," ",Ie/qe>=(H.noteMinimale||50)/100?" Russi !":" Non russi"]})]})]}),l.jsx("div",{className:"quiz-preview-questions",children:H.questions.map((Ke,Ut)=>{const Rn=be[Ke.id],kr=Rn===Ke.reponseCorrecte;return l.jsxs("div",{className:"admin-card quiz-preview-question",children:[l.jsxs("div",{className:"quiz-preview-question-header",children:[l.jsxs("span",{className:"quiz-question-number",children:["Q",Ut+1]}),l.jsx(pt,{level:Ke.difficulte||"moyen"}),l.jsxs("span",{className:"quiz-question-points",children:[Ke.points," pt(s)"]})]}),l.jsx("p",{className:"quiz-preview-question-text",children:Ke.question}),l.jsx("div",{className:"quiz-preview-options",children:Ke.options.map((eo,Dr)=>{let qi="quiz-preview-option";return X?Dr===Ke.reponseCorrecte?qi+=" correct":Dr===Rn&&!kr&&(qi+=" incorrect"):Rn===Dr&&(qi+=" selected"),l.jsxs("button",{className:qi,onClick:()=>$e(Ke.id,Dr),disabled:X,children:[l.jsx("span",{className:"quiz-preview-option-letter",children:String.fromCharCode(65+Dr)}),l.jsx("span",{children:eo}),X&&Dr===Ke.reponseCorrecte&&l.jsx(gn,{size:16,className:"quiz-preview-check"})]},Dr)})}),X&&Ke.explication&&l.jsxs("div",{className:"quiz-preview-explication",children:[l.jsx("strong",{children:"Explication :"})," ",Ke.explication]})]},Ke.id)})}),!X&&l.jsx("div",{className:"quiz-preview-submit",children:l.jsxs("button",{className:"admin-btn admin-btn-primary admin-btn-lg",onClick:st,disabled:Object.keys(be).length<H.questions.length,children:[l.jsx(gn,{size:18})," Soumettre (",Object.keys(be).length,"/",H.questions.length,")"]})})]})};return l.jsxs("div",{className:"admin-container",children:[fr(),P==="list"&&Pt(),P==="form"&&It(),P==="preview"&&Rr()]})},F4=Et(Ae,"users"),$Y=Et(Ae,"quizResults"),FY=async t=>{try{let e=Ht(F4,Qr("displayName","asc"));t?.role;let r=(await Gt(e)).docs.map(i=>({uid:i.id,...i.data()}));return t?.isPremium,t?.isActive,t?.search,r}catch(e){throw console.error("Erreur lors de la rcupration des utilisateurs :",e),e}},HY=async(t,e)=>{try{await Un(tt(Ae,"users",t),{role:e,updatedAt:it.now()})}catch(n){throw console.error("Erreur lors de la mise  jour du rle :",n),n}},GY=async(t,e)=>{try{const n={isPremium:e,updatedAt:it.now()};if(e){const r=new Date;r.setDate(r.getDate()+30),n.subscriptionEnd=it.fromDate(r)}else n.subscriptionEnd=null;await Un(tt(Ae,"users",t),n)}catch(n){throw console.error("Erreur lors de la mise  jour du statut Premium :",n),n}},KY=async(t,e)=>{try{await Un(tt(Ae,"users",t),{isActive:e,updatedAt:it.now()})}catch(n){throw console.error("Erreur lors du changement de statut du compte :",n),n}},WY=async t=>{try{const e=Ht($Y,at("userId","==",t)),r=(await Gt(e)).docs.map(f=>({id:f.id,...f.data()})),i=r.length,s=r.filter(f=>f.reussi).length,c=i>0?Math.round(r.reduce((f,h)=>f+h.score,0)/i):0,d=r.length>0?new Date(Math.max(...r.map(f=>{const h=f.datePassage;return h?.toDate?h.toDate().getTime():new Date(h).getTime()}))):null;return{totalQuizPasses:i,scoresMoyens:c,quizReussis:s,dernierQuiz:d}}catch(e){return console.error("Erreur lors du calcul des statistiques :",e),{totalQuizPasses:0,scoresMoyens:0,quizReussis:0,dernierQuiz:null}}},QY=async()=>{try{const e=(await Gt(F4)).docs.map(n=>n.data());return{total:e.length,admins:e.filter(n=>n.role==="admin").length,profs:e.filter(n=>n.role==="prof").length,eleves:e.filter(n=>n.role==="eleve").length,premium:e.filter(n=>n.isPremium).length,actifs:e.filter(n=>n.isActive!==!1).length}}catch(t){throw console.error("Erreur lors du calcul des stats globales :",t),t}},YY=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(null),[i,s]=w.useState(!0),[c,d]=w.useState(null),[f,h]=w.useState(null),[p,g]=w.useState(""),[y,x]=w.useState(""),[j,E]=w.useState(""),[S,T]=w.useState(""),[D,R]=w.useState(!1),[P,$]=w.useState(null),[B,I]=w.useState(null),[O,k]=w.useState(!1),[V,U]=w.useState(null),[z,M]=w.useState(null),W=w.useCallback(async()=>{s(!0),d(null);try{const[J,Y]=await Promise.all([FY(),QY()]);e(J),r(Y)}catch(J){d("Erreur lors du chargement des utilisateurs."),console.error(J)}finally{s(!1)}},[]);w.useEffect(()=>{W()},[W]),w.useEffect(()=>{if(f){const J=setTimeout(()=>h(null),4e3);return()=>clearTimeout(J)}},[f]);const Q=t.filter(J=>{if(p){const Y=p.toLowerCase();if(!J.displayName?.toLowerCase().includes(Y)&&!J.email?.toLowerCase().includes(Y))return!1}return!(y&&J.role!==y||j==="true"&&!J.isPremium||j==="false"&&J.isPremium||S==="true"&&J.isActive===!1||S==="false"&&J.isActive!==!1)}),H=async J=>{$(J),k(!0);try{const Y=await WY(J.uid);I(Y)}catch(Y){console.error("Erreur lors du chargement des statistiques :",Y),I(null)}finally{k(!1)}},oe=async()=>{if(z){U(z.userId);try{switch(z.type){case"role":await HY(z.userId,z.value),h("Rle mis  jour avec succs.");break;case"premium":await GY(z.userId,z.value),h(z.value?"Statut Premium activ (30 jours).":"Statut Premium dsactiv.");break;case"active":await KY(z.userId,z.value),h(z.value?"Compte ractiv.":"Compte dsactiv.");break}await W()}catch(J){d("Erreur lors de l'excution de l'action."),console.error(J)}finally{U(null),M(null)}}},be=({role:J})=>{const Y={admin:{icon:l.jsx(pj,{size:12}),className:"user-badge-admin",label:"Admin"},prof:{icon:l.jsx(sd,{size:12}),className:"user-badge-prof",label:"Professeur"},eleve:{icon:l.jsx(ra,{size:12}),className:"user-badge-eleve",label:"lve"}},xe=Y[J]||Y.eleve;return l.jsxs("span",{className:`user-badge ${xe.className}`,children:[xe.icon," ",xe.label]})},Ee=J=>J?(J?.toDate?J.toDate():new Date(J)).toLocaleDateString("fr-SN",{day:"2-digit",month:"short",year:"numeric"}):"N/A",X=J=>J?J.charAt(0).toUpperCase():"?",F=()=>l.jsxs(l.Fragment,{children:[c&&l.jsxs("div",{className:"admin-message admin-message-error",children:[l.jsx(rv,{size:18}),l.jsx("span",{children:c}),l.jsx("button",{onClick:()=>d(null),className:"admin-message-close",children:l.jsx(lc,{size:16})})]}),f&&l.jsxs("div",{className:"admin-message admin-message-success",children:[l.jsx(gn,{size:18}),l.jsx("span",{children:f})]})]}),ne=()=>{if(!n)return null;const J=[{label:"Total",value:n.total,icon:l.jsx(Og,{size:20}),color:"stat-blue"},{label:"lves",value:n.eleves,icon:l.jsx(ra,{size:20}),color:"stat-green"},{label:"Professeurs",value:n.profs,icon:l.jsx(sd,{size:20}),color:"stat-purple"},{label:"Premium",value:n.premium,icon:l.jsx(di,{size:20}),color:"stat-gold"}];return l.jsx("div",{className:"user-stats-grid",children:J.map(Y=>l.jsxs("div",{className:`user-stat-card ${Y.color}`,children:[l.jsx("div",{className:"user-stat-icon",children:Y.icon}),l.jsxs("div",{className:"user-stat-info",children:[l.jsx("span",{className:"user-stat-value",children:Y.value}),l.jsx("span",{className:"user-stat-label",children:Y.label})]})]},Y.label))})},ge=()=>z?l.jsx("div",{className:"admin-modal-overlay",onClick:()=>M(null),children:l.jsxs("div",{className:"admin-modal",onClick:J=>J.stopPropagation(),children:[l.jsxs("div",{className:"admin-modal-header",children:[l.jsx("h3",{children:"Confirmer l'action"}),l.jsx("button",{className:"admin-modal-close",onClick:()=>M(null),children:l.jsx(lc,{size:20})})]}),l.jsx("div",{className:"admin-modal-body",children:l.jsx("p",{children:z.label})}),l.jsxs("div",{className:"admin-modal-footer",children:[l.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>M(null),children:"Annuler"}),l.jsx("button",{className:"admin-btn admin-btn-primary",onClick:oe,disabled:V===z.userId,children:V===z.userId?"En cours...":"Confirmer"})]})]})}):null,we=()=>P?l.jsx("div",{className:"admin-modal-overlay",onClick:()=>$(null),children:l.jsxs("div",{className:"admin-modal admin-modal-lg",onClick:J=>J.stopPropagation(),children:[l.jsxs("div",{className:"admin-modal-header",children:[l.jsx("h3",{children:"Dtail de l'utilisateur"}),l.jsx("button",{className:"admin-modal-close",onClick:()=>$(null),children:l.jsx(lc,{size:20})})]}),l.jsxs("div",{className:"admin-modal-body",children:[l.jsxs("div",{className:"user-detail-profile",children:[l.jsx("div",{className:"user-detail-avatar",children:X(P.displayName)}),l.jsxs("div",{className:"user-detail-info",children:[l.jsx("h4",{children:P.displayName||"Sans nom"}),l.jsx("p",{children:P.email}),l.jsxs("div",{className:"user-detail-badges",children:[l.jsx(be,{role:P.role}),P.isPremium&&l.jsxs("span",{className:"user-badge user-badge-premium",children:[l.jsx(di,{size:12})," Premium"]}),l.jsx("span",{className:`user-badge ${P.isActive!==!1?"user-badge-active":"user-badge-inactive"}`,children:P.isActive!==!1?"Actif":"Dsactiv"})]})]})]}),l.jsxs("div",{className:"user-detail-dates",children:[l.jsxs("div",{children:[l.jsx("span",{className:"user-detail-date-label",children:"Inscription"}),l.jsx("span",{children:Ee(P.createdAt)})]}),P.isPremium&&P.subscriptionEnd&&l.jsxs("div",{children:[l.jsx("span",{className:"user-detail-date-label",children:"Premium jusqu'au"}),l.jsx("span",{children:Ee(P.subscriptionEnd)})]})]}),l.jsxs("div",{className:"user-detail-stats-section",children:[l.jsxs("h4",{children:[l.jsx(Qu,{size:18})," Statistiques"]}),O?l.jsxs("div",{className:"admin-loading",style:{padding:"1rem"},children:[l.jsx("div",{className:"admin-spinner"}),l.jsx("p",{children:"Chargement des statistiques..."})]}):B?l.jsxs("div",{className:"user-detail-stats-grid",children:[l.jsxs("div",{className:"user-detail-stat",children:[l.jsx(ra,{size:20}),l.jsx("span",{className:"user-detail-stat-value",children:B.totalQuizPasses}),l.jsx("span",{className:"user-detail-stat-label",children:"Quiz passs"})]}),l.jsxs("div",{className:"user-detail-stat",children:[l.jsx(iw,{size:20}),l.jsxs("span",{className:"user-detail-stat-value",children:[B.scoresMoyens,"%"]}),l.jsx("span",{className:"user-detail-stat-label",children:"Score moyen"})]}),l.jsxs("div",{className:"user-detail-stat",children:[l.jsx(_c,{size:20}),l.jsx("span",{className:"user-detail-stat-value",children:B.quizReussis}),l.jsx("span",{className:"user-detail-stat-label",children:"Quiz russis"})]}),l.jsxs("div",{className:"user-detail-stat",children:[l.jsx(ad,{size:20}),l.jsx("span",{className:"user-detail-stat-value",children:B.dernierQuiz?Ee(B.dernierQuiz):"Aucun"}),l.jsx("span",{className:"user-detail-stat-label",children:"Dernier quiz"})]})]}):l.jsx("p",{className:"user-detail-no-stats",children:"Aucune statistique disponible."})]})]})]})}):null;return l.jsxs("div",{className:"admin-container",children:[F(),ge(),we(),l.jsxs("div",{className:"user-manager",children:[l.jsxs("div",{className:"admin-header",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"admin-title",children:[l.jsx(Og,{size:24})," Gestion des Utilisateurs"]}),l.jsxs("p",{className:"admin-subtitle",children:[t.length," utilisateur(s) au total  ",Q.length," affich(s)"]})]}),l.jsxs("button",{className:"admin-btn admin-btn-outline",onClick:W,children:[l.jsx(UQ,{size:16})," Actualiser"]})]}),ne(),l.jsxs("div",{className:"admin-toolbar",children:[l.jsxs("div",{className:"admin-search-wrapper",children:[l.jsx(U4,{size:18,className:"admin-search-icon"}),l.jsx("input",{type:"text",className:"admin-search-input",placeholder:"Rechercher par nom ou email...",value:p,onChange:J=>g(J.target.value)})]}),l.jsxs("button",{className:`admin-btn admin-btn-outline ${D?"active":""}`,onClick:()=>R(!D),children:[l.jsx(L4,{size:16})," Filtres",D?l.jsx(J1,{size:14}):l.jsx(nv,{size:14})]})]}),D&&l.jsxs("div",{className:"admin-filters-panel",children:[l.jsxs("div",{className:"admin-filter-group",children:[l.jsx("label",{className:"admin-filter-label",children:"Rle"}),l.jsxs("select",{className:"admin-select",value:y,onChange:J=>x(J.target.value),children:[l.jsx("option",{value:"",children:"Tous les rles"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"prof",children:"Professeur"}),l.jsx("option",{value:"eleve",children:"lve"})]})]}),l.jsxs("div",{className:"admin-filter-group",children:[l.jsx("label",{className:"admin-filter-label",children:"Abonnement"}),l.jsxs("select",{className:"admin-select",value:j,onChange:J=>E(J.target.value),children:[l.jsx("option",{value:"",children:"Tous"}),l.jsx("option",{value:"true",children:"Premium"}),l.jsx("option",{value:"false",children:"Gratuit"})]})]}),l.jsxs("div",{className:"admin-filter-group",children:[l.jsx("label",{className:"admin-filter-label",children:"Statut"}),l.jsxs("select",{className:"admin-select",value:S,onChange:J=>T(J.target.value),children:[l.jsx("option",{value:"",children:"Tous"}),l.jsx("option",{value:"true",children:"Actifs"}),l.jsx("option",{value:"false",children:"Dsactivs"})]})]}),l.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{x(""),E(""),T(""),g("")},children:"Rinitialiser"})]}),i?l.jsxs("div",{className:"admin-loading",children:[l.jsx("div",{className:"admin-spinner"}),l.jsx("p",{children:"Chargement des utilisateurs..."})]}):Q.length===0?l.jsxs("div",{className:"admin-empty-state",children:[l.jsx(Og,{size:48}),l.jsx("h3",{children:"Aucun utilisateur trouv"}),l.jsx("p",{children:t.length===0?"Aucun utilisateur n'est encore inscrit.":"Aucun utilisateur ne correspond  vos filtres."})]}):l.jsx("div",{className:"user-table-wrapper",children:l.jsxs("table",{className:"user-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Utilisateur"}),l.jsx("th",{children:"Rle"}),l.jsx("th",{children:"Abonnement"}),l.jsx("th",{children:"Statut"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:Q.map(J=>l.jsxs("tr",{className:J.isActive===!1?"user-row-inactive":"",children:[l.jsx("td",{children:l.jsxs("div",{className:"user-cell-info",children:[l.jsx("div",{className:"user-avatar-sm",children:X(J.displayName)}),l.jsxs("div",{children:[l.jsx("span",{className:"user-cell-name",children:J.displayName||"Sans nom"}),l.jsx("span",{className:"user-cell-email",children:J.email})]})]})}),l.jsx("td",{children:l.jsxs("select",{className:"admin-select admin-select-sm",value:J.role,onChange:Y=>M({type:"role",userId:J.uid,value:Y.target.value,label:`Changer le rle de "${J.displayName||J.email}" en "${Y.target.value}" ?`}),children:[l.jsx("option",{value:"eleve",children:"lve"}),l.jsx("option",{value:"prof",children:"Professeur"}),l.jsx("option",{value:"admin",children:"Admin"})]})}),l.jsx("td",{children:l.jsx("button",{className:`user-premium-toggle ${J.isPremium?"active":""}`,onClick:()=>M({type:"premium",userId:J.uid,value:!J.isPremium,label:J.isPremium?`Dsactiver le statut Premium de "${J.displayName||J.email}" ?`:`Activer le statut Premium de "${J.displayName||J.email}" pour 30 jours ?`}),disabled:V===J.uid,children:J.isPremium?l.jsxs(l.Fragment,{children:[l.jsx(Zf,{size:14})," Premium"]}):l.jsxs(l.Fragment,{children:[l.jsx(di,{size:14})," Gratuit"]})})}),l.jsx("td",{children:l.jsx("button",{className:`user-status-toggle ${J.isActive!==!1?"active":"inactive"}`,onClick:()=>M({type:"active",userId:J.uid,value:J.isActive===!1,label:J.isActive===!1?`Ractiver le compte de "${J.displayName||J.email}" ?`:`Dsactiver le compte de "${J.displayName||J.email}" ?`}),disabled:V===J.uid,children:J.isActive!==!1?l.jsxs(l.Fragment,{children:[l.jsx(sY,{size:14})," Actif"]}):l.jsxs(l.Fragment,{children:[l.jsx(lY,{size:14})," Dsactiv"]})})}),l.jsx("td",{children:l.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>H(J),title:"Voir les statistiques",children:[l.jsx(tw,{size:14})," Dtail"]})})]},J.uid))})]})})]})]})},H4=Et(Ae,"quiz_results"),XY=async t=>{try{return(await Hs(H4,{...t,datePassage:it.now()})).id}catch(e){throw console.error("Erreur lors de la sauvegarde du rsultat :",e),e}},Sy=async(t,e)=>{try{let n=Ht(H4,at("userId","==",t),Qr("datePassage","desc"));return e&&(n=Ht(n,ll(e))),(await Gt(n)).docs.map(i=>({id:i.id,...i.data()}))}catch(n){throw console.error("Erreur lors de la rcupration de l'historique :",n),n}},ZY=async t=>{try{const e=await Sy(t);if(e.length===0)return{totalQuizPasses:0,totalQuizReussis:0,moyenneGenerale:0,tempsTotal:0,meilleurScore:0,serieReussites:0,meilleureSerieReussites:0};const n=e.reduce((p,g)=>p+g.pourcentage,0),r=Math.round(n/e.length),i=Math.max(...e.map(p=>p.pourcentage)),s=e.reduce((p,g)=>p+(g.tempsEcoule||0),0),c=e.filter(p=>p.reussi).length;let d=0,f=0;for(const p of e)p.reussi?(d++,f=Math.max(f,d)):(e.find(g=>!g.reussi),f=Math.max(f,d),d=0);let h=0;for(const p of e)if(p.reussi)h++;else break;return{totalQuizPasses:e.length,totalQuizReussis:c,moyenneGenerale:r,tempsTotal:s,meilleurScore:i,serieReussites:h,meilleureSerieReussites:Math.max(f,h)}}catch(e){return console.error("Erreur lors du calcul des stats :",e),{totalQuizPasses:0,totalQuizReussis:0,moyenneGenerale:0,tempsTotal:0,meilleurScore:0,serieReussites:0,meilleureSerieReussites:0}}},JY=async t=>{try{const e=await Sy(t);if(e.length===0)return[];const n={};for(const r of e){const i=r.disciplineId;n[i]||(n[i]=[]),n[i].push(r)}return Object.entries(n).map(([r,i])=>{const s=Math.round(i.reduce((g,y)=>g+y.pourcentage,0)/i.length),c=Math.max(...i.map(g=>g.pourcentage)),d=i[0].pourcentage,f=i.filter(g=>g.reussi).length,h=i.reduce((g,y)=>g+(y.tempsEcoule||0),0);let p="stable";if(i.length>=4){const g=i.slice(0,3),y=i.slice(3,6),x=g.reduce((E,S)=>E+S.pourcentage,0)/g.length,j=y.reduce((E,S)=>E+S.pourcentage,0)/y.length;x-j>5?p="up":j-x>5&&(p="down")}return{disciplineId:r,disciplineNom:i[0].disciplineNom||r,nombreQuiz:i.length,moyenne:s,meilleurScore:c,dernierScore:d,quizReussis:f,tempsTotal:h,tendance:p}})}catch(e){return console.error("Erreur lors du calcul de la progression par discipline :",e),[]}},eX=async(t,e)=>{try{return(await Sy(t,e||20)).reverse().map(r=>({date:(r.datePassage?.toDate?r.datePassage.toDate():new Date(r.datePassage)).toLocaleDateString("fr-SN",{day:"2-digit",month:"2-digit"}),score:r.pourcentage,discipline:r.disciplineNom||r.disciplineId}))}catch(n){return console.error("Erreur lors de la rcupration des donnes temporelles :",n),[]}},tX=(t,e)=>[{id:"premier_quiz",nom:"Premier pas",description:"Passer votre premier quiz",icone:"",condition:"1 quiz pass",obtenu:t.totalQuizPasses>=1},{id:"dix_quiz",nom:"Explorateur",description:"Passer 10 quiz",icone:"",condition:"10 quiz passs",obtenu:t.totalQuizPasses>=10},{id:"vingt_cinq_quiz",nom:"Assidu",description:"Passer 25 quiz",icone:"",condition:"25 quiz passs",obtenu:t.totalQuizPasses>=25},{id:"cinquante_quiz",nom:"Champion",description:"Passer 50 quiz",icone:"",condition:"50 quiz passs",obtenu:t.totalQuizPasses>=50},{id:"score_parfait",nom:"Score parfait",description:"Obtenir 100%  un quiz",icone:"",condition:"100%  un quiz",obtenu:t.meilleurScore>=100},{id:"moyenne_80",nom:"Excellent",description:"Maintenir une moyenne de 80%+",icone:"",condition:"Moyenne  80%",obtenu:t.moyenneGenerale>=80&&t.totalQuizPasses>=5},{id:"moyenne_60",nom:"Bon lve",description:"Maintenir une moyenne de 60%+",icone:"",condition:"Moyenne  60%",obtenu:t.moyenneGenerale>=60&&t.totalQuizPasses>=5},{id:"serie_3",nom:"En forme",description:"3 quiz russis d'affile",icone:"",condition:"Srie de 3 russites",obtenu:t.meilleureSerieReussites>=3},{id:"serie_5",nom:"Imbattable",description:"5 quiz russis d'affile",icone:"",condition:"Srie de 5 russites",obtenu:t.meilleureSerieReussites>=5},{id:"serie_10",nom:"Lgende",description:"10 quiz russis d'affile",icone:"",condition:"Srie de 10 russites",obtenu:t.meilleureSerieReussites>=10},{id:"multi_3",nom:"Polyvalent",description:"Passer des quiz dans 3 disciplines",icone:"",condition:"3 disciplines diffrentes",obtenu:e.length>=3},{id:"multi_5",nom:"Touche--tout",description:"Passer des quiz dans 5 disciplines",icone:"",condition:"5 disciplines diffrentes",obtenu:e.length>=5}],G4=t=>{if(t<60)return`${t} s`;const e=Math.floor(t/60),n=t%60;return n>0?`${e} min ${n.toString().padStart(2,"0")} s`:`${e} min`},Lu=t=>t>=80?"#10b981":t>=60?"#3b82f6":t>=40?"#f59e0b":"#ef4444",K4=t=>t>=80?"Excellent":t>=60?"Bien":t>=40?"Passable":" amliorer",nX=()=>{const{quizId:t}=LD(),e=Xa(),{currentUser:n}=xr(),[r,i]=w.useState(null),[s,c]=w.useState(""),[d,f]=w.useState(!0),[h,p]=w.useState(null),[g,y]=w.useState("intro"),[x,j]=w.useState(0),[E,S]=w.useState({}),[T,D]=w.useState(0),[R,P]=w.useState(0),$=w.useRef(null),[B,I]=w.useState(0),[O,k]=w.useState(0),[V,U]=w.useState(0),[z,M]=w.useState(!1),[W,Q]=w.useState(!1);w.useEffect(()=>{(async()=>{if(!t){p("ID du quiz manquant."),f(!1);return}try{const Y=await zY(t);if(!Y){p("Quiz introuvable."),f(!1);return}i(Y),D(Y.duree*60);try{const Ve=(await Da.getAll()).find(le=>le.id===Y.disciplineId);c(Ve?.nom||Y.disciplineId)}catch{c(Y.disciplineId)}}catch(Y){p("Erreur lors du chargement du quiz."),console.error(Y)}finally{f(!1)}})()},[t]),w.useEffect(()=>{if(g==="playing")return $.current=setInterval(()=>{D(J=>J<=1?(clearInterval($.current),Ee(),0):J-1),P(J=>J+1)},1e3),()=>{$.current&&clearInterval($.current)}},[g]);const H=()=>{y("playing"),j(0),S({}),P(0),r&&D(r.duree*60)},oe=(J,Y)=>{S(xe=>({...xe,[J]:Y}))},be=J=>{r&&J>=0&&J<r.questions.length&&j(J)},Ee=w.useCallback(async()=>{if(!r||!n||g==="review")return;$.current&&clearInterval($.current);let J=0,Y=0,xe=0;r.questions.forEach(Ne=>{const Z=Ne.points||1;Y+=Z,E[Ne.id]===Ne.reponseCorrecte&&(J+=Z,xe++)});const Ve=Y>0?Math.round(J/Y*100):0,le=Ve>=(r.noteMinimale||50);I(J),k(Y),U(xe),y("review"),M(!0);try{const Ne={quizId:r.id,quizTitre:r.titre,disciplineId:r.disciplineId,disciplineNom:s,userId:n.uid,reponses:r.questions.map(Z=>E[Z.id]??-1),tempsEcoule:R,score:J,totalPoints:Y,pourcentage:Ve,reussi:le,nombreQuestions:r.questions.length,bonnesReponses:xe};await XY(Ne),Q(!0)}catch(Ne){console.error("Erreur lors de la sauvegarde :",Ne)}finally{M(!1)}},[r,n,E,R,s,g]),X=J=>{const Y=Math.floor(J/60),xe=J%60;return`${Y.toString().padStart(2,"0")}:${xe.toString().padStart(2,"0")}`},F=()=>{if(!r)return"";const J=r.duree*60,Y=T/J;return Y<=.1?"timer-critical":Y<=.25?"timer-warning":""},ne=Object.keys(E).length;if(d)return l.jsxs("div",{className:"quiz-player-loading",children:[l.jsx("div",{className:"admin-spinner"}),l.jsx("p",{children:"Chargement du quiz..."})]});if(h||!r)return l.jsxs("div",{className:"quiz-player-error",children:[l.jsx(rv,{size:48}),l.jsx("h3",{children:h||"Quiz introuvable"}),l.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>e("/eleve/dashboard"),children:[l.jsx(nw,{size:18})," Retour au tableau de bord"]})]});if(r.isPremium&&!n?.isPremium)return l.jsx("div",{className:"quiz-player-locked",children:l.jsxs("div",{className:"qp-locked-card",children:[l.jsx(rw,{size:48}),l.jsx("h3",{children:"Quiz Premium"}),l.jsx("p",{children:"Ce quiz est rserv aux abonns Premium."}),l.jsxs("p",{className:"qp-locked-price",children:[" partir de ",l.jsx("strong",{children:"2 000 FCFA/mois"})]}),l.jsxs("div",{className:"qp-locked-actions",children:[l.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>e("/premium"),children:[l.jsx(di,{size:18})," Devenir Premium"]}),l.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:()=>e("/eleve/dashboard"),children:[l.jsx(M_,{size:18})," Retour"]})]})]})});if(g==="intro")return l.jsx("div",{className:"quiz-player-intro",children:l.jsxs("div",{className:"qp-intro-card",children:[l.jsxs("div",{className:"qp-intro-header",children:[l.jsxs("button",{className:"qp-back-btn",onClick:()=>e(-1),children:[l.jsx(M_,{size:20})," Retour"]}),r.isPremium&&l.jsxs("span",{className:"qp-badge qp-badge-premium",children:[l.jsx(di,{size:12})," Premium"]})]}),l.jsxs("div",{className:"qp-intro-content",children:[l.jsx("h1",{className:"qp-intro-title",children:r.titre}),l.jsx("span",{className:"qp-intro-discipline",children:s}),l.jsxs("div",{className:"qp-intro-stats",children:[l.jsxs("div",{className:"qp-intro-stat",children:[l.jsx(ra,{size:20}),l.jsxs("div",{children:[l.jsx("span",{className:"qp-intro-stat-value",children:r.questions.length}),l.jsx("span",{className:"qp-intro-stat-label",children:"Questions"})]})]}),l.jsxs("div",{className:"qp-intro-stat",children:[l.jsx(ad,{size:20}),l.jsxs("div",{children:[l.jsxs("span",{className:"qp-intro-stat-value",children:[r.duree," min"]}),l.jsx("span",{className:"qp-intro-stat-label",children:"Dure"})]})]}),l.jsxs("div",{className:"qp-intro-stat",children:[l.jsx(_c,{size:20}),l.jsxs("div",{children:[l.jsxs("span",{className:"qp-intro-stat-value",children:[r.noteMinimale||50,"%"]}),l.jsx("span",{className:"qp-intro-stat-label",children:"Note min."})]})]})]}),l.jsxs("div",{className:"qp-intro-instructions",children:[l.jsx("h3",{children:"Instructions"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Rpondez  toutes les questions dans le temps imparti"}),l.jsx("li",{children:"Chaque question a une seule bonne rponse"}),l.jsx("li",{children:"Vous pouvez naviguer entre les questions"}),l.jsx("li",{children:"Le quiz est soumis automatiquement quand le temps est coul"}),l.jsxs("li",{children:["Il faut obtenir au moins ",r.noteMinimale||50,"% pour russir"]})]})]})]}),l.jsxs("button",{className:"qp-btn qp-btn-start",onClick:H,children:[l.jsx(ch,{size:20})," Commencer le quiz"]})]})});if(g==="playing"){const J=r.questions[x];return l.jsxs("div",{className:"quiz-player-game",children:[l.jsxs("div",{className:"qp-game-header",children:[l.jsxs("div",{className:"qp-game-info",children:[l.jsx("span",{className:"qp-game-title",children:r.titre}),l.jsx("span",{className:"qp-game-discipline",children:s})]}),l.jsxs("div",{className:`qp-timer ${F()}`,children:[l.jsx(XQ,{size:18}),l.jsx("span",{children:X(T)})]})]}),l.jsx("div",{className:"qp-progress-bar",children:l.jsx("div",{className:"qp-progress-fill",style:{width:`${(x+1)/r.questions.length*100}%`}})}),l.jsxs("div",{className:"qp-game-content",children:[l.jsxs("div",{className:"qp-question-header",children:[l.jsxs("span",{className:"qp-question-number",children:["Question ",x+1,"/",r.questions.length]}),l.jsxs("span",{className:"qp-question-points",children:[J.points||1," pt(s)"]})]}),l.jsx("h2",{className:"qp-question-text",children:J.question}),l.jsx("div",{className:"qp-options-list",children:J.options.map((Y,xe)=>l.jsxs("button",{className:`qp-option ${E[J.id]===xe?"selected":""}`,onClick:()=>oe(J.id,xe),children:[l.jsx("span",{className:"qp-option-letter",children:String.fromCharCode(65+xe)}),l.jsx("span",{className:"qp-option-text",children:Y}),E[J.id]===xe&&l.jsx(gn,{size:18,className:"qp-option-check"})]},xe))})]}),l.jsxs("div",{className:"qp-game-footer",children:[l.jsx("div",{className:"qp-question-indicators",children:r.questions.map((Y,xe)=>l.jsx("button",{className:`qp-indicator ${xe===x?"active":""} ${E[Y.id]!==void 0?"answered":""}`,onClick:()=>be(xe),children:xe+1},Y.id))}),l.jsxs("div",{className:"qp-nav-buttons",children:[l.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:()=>be(x-1),disabled:x===0,children:[l.jsx(M_,{size:16})," Prcdent"]}),x<r.questions.length-1?l.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>be(x+1),children:["Suivant ",l.jsx(Xl,{size:16})]}):l.jsxs("button",{className:"qp-btn qp-btn-submit",onClick:Ee,disabled:ne<r.questions.length,children:[l.jsx(gn,{size:16}),"Soumettre (",ne,"/",r.questions.length,")"]})]})]})]})}const ge=O>0?Math.round(B/O*100):0,we=ge>=(r.noteMinimale||50);return l.jsxs("div",{className:"quiz-player-review",children:[l.jsxs("div",{className:`qp-score-card ${we?"success":"fail"}`,children:[l.jsx("div",{className:"qp-score-icon",children:we?l.jsx(_c,{size:48}):l.jsx(rv,{size:48})}),l.jsx("h2",{className:"qp-score-title",children:we?"Flicitations ! ":"Continuez vos efforts ! "}),l.jsxs("div",{className:"qp-score-circle",style:{borderColor:Lu(ge)},children:[l.jsxs("span",{className:"qp-score-value",children:[ge,"%"]}),l.jsx("span",{className:"qp-score-label",children:K4(ge)})]}),l.jsxs("div",{className:"qp-score-details",children:[l.jsxs("div",{className:"qp-score-detail",children:[l.jsxs("span",{children:[V,"/",r.questions.length]}),l.jsx("small",{children:"Bonnes rponses"})]}),l.jsxs("div",{className:"qp-score-detail",children:[l.jsxs("span",{children:[B,"/",O]}),l.jsx("small",{children:"Points"})]}),l.jsxs("div",{className:"qp-score-detail",children:[l.jsx("span",{children:G4(R)}),l.jsx("small",{children:"Temps"})]})]}),z&&l.jsx("p",{className:"qp-saving",children:"Sauvegarde en cours..."}),W&&l.jsx("p",{className:"qp-saved",children:" Rsultat sauvegard"})]}),l.jsxs("div",{className:"qp-review-actions",children:[l.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>e("/eleve/dashboard"),children:[l.jsx(nw,{size:18})," Tableau de bord"]}),l.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:H,children:[l.jsx(qQ,{size:18})," Recommencer"]})]}),l.jsxs("div",{className:"qp-review-questions",children:[l.jsx("h3",{className:"qp-review-title",children:"Correction dtaille"}),r.questions.map((J,Y)=>{const xe=E[J.id],Ve=xe===J.reponseCorrecte;return l.jsxs("div",{className:`qp-review-question ${Ve?"correct":"incorrect"}`,children:[l.jsxs("div",{className:"qp-review-question-header",children:[l.jsxs("span",{className:"qp-review-q-number",children:["Q",Y+1]}),Ve?l.jsxs("span",{className:"qp-review-badge correct",children:[l.jsx(gn,{size:14})," Correct"]}):l.jsxs("span",{className:"qp-review-badge incorrect",children:[l.jsx(ew,{size:14})," Incorrect"]}),l.jsxs("span",{className:"qp-review-q-points",children:[Ve?J.points||1:0,"/",J.points||1," pt(s)"]})]}),l.jsx("p",{className:"qp-review-q-text",children:J.question}),l.jsx("div",{className:"qp-review-options",children:J.options.map((le,Ne)=>{let Z="qp-review-option";return Ne===J.reponseCorrecte&&(Z+=" correct-answer"),Ne===xe&&!Ve&&(Z+=" wrong-answer"),l.jsxs("div",{className:Z,children:[l.jsx("span",{className:"qp-review-option-letter",children:String.fromCharCode(65+Ne)}),l.jsx("span",{children:le}),Ne===J.reponseCorrecte&&l.jsx(gn,{size:14,className:"qp-review-check"}),Ne===xe&&!Ve&&l.jsx(ew,{size:14,className:"qp-review-x"})]},Ne)})}),J.explication&&l.jsxs("div",{className:"qp-review-explication",children:[l.jsx("strong",{children:" Explication :"})," ",J.explication]})]},J.id)})]})]})};function W4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=W4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Lt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=W4(t))&&(r&&(r+=" "),r+=e);return r}var rX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function gj(t){if(typeof t!="string")return!1;var e=rX;return e.includes(t)}var iX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],aX=new Set(iX);function Q4(t){return typeof t!="string"?!1:aX.has(t)}function Y4(t){return typeof t=="string"&&t.startsWith("data-")}function la(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Q4(n)||Y4(n))&&(e[n]=t[n]);return e}function nm(t){if(t==null)return null;if(w.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return la(e)}return typeof t=="object"&&!Array.isArray(t)?la(t):null}function Cr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Q4(n)||Y4(n)||gj(n))&&(e[n]=t[n]);return e}function sX(t){return t==null?null:w.isValidElement(t)?Cr(t.props):typeof t=="object"&&!Array.isArray(t)?Cr(t):null}var oX=["children","width","height","viewBox","className","style","title","desc"];function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(null,arguments)}function lX(t,e){if(t==null)return{};var n,r,i=cX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var X4=w.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:c,style:d,title:f,desc:h}=t,p=lX(t,oX),g=s||{width:r,height:i,x:0,y:0},y=Lt("recharts-surface",c);return w.createElement("svg",aw({},Cr(p),{className:y,width:r,height:i,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),w.createElement("title",null,f),w.createElement("desc",null,h),n)}),uX=["children","className"];function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sw.apply(null,arguments)}function dX(t,e){if(t==null)return{};var n,r,i=fX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Mi=w.forwardRef((t,e)=>{var{children:n,className:r}=t,i=dX(t,uX),s=Lt("recharts-layer",r);return w.createElement("g",sw({className:s},Cr(i),{ref:e}),n)}),hX=w.createContext(null);function Bt(t){return function(){return t}}const Z4=Math.cos,iv=Math.sin,da=Math.sqrt,av=Math.PI,Ny=2*av,ow=Math.PI,lw=2*ow,Zl=1e-6,mX=lw-Zl;function J4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function pX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return J4;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class gX{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?J4:pX(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,c){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+c}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,d=this._y1,f=r-e,h=i-n,p=c-e,g=d-n,y=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Zl)if(!(Math.abs(g*f-h*p)>Zl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-c,j=i-d,E=f*f+h*h,S=x*x+j*j,T=Math.sqrt(E),D=Math.sqrt(y),R=s*Math.tan((ow-Math.acos((E+y-S)/(2*T*D)))/2),P=R/D,$=R/T;Math.abs(P-1)>Zl&&this._append`L${e+P*p},${n+P*g}`,this._append`A${s},${s},0,0,${+(g*x>p*j)},${this._x1=e+$*f},${this._y1=n+$*h}`}}arc(e,n,r,i,s,c){if(e=+e,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(i),f=r*Math.sin(i),h=e+d,p=n+f,g=1^c,y=c?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Zl||Math.abs(this._y1-p)>Zl)&&this._append`L${h},${p}`,r&&(y<0&&(y=y%lw+lw),y>mX?this._append`A${r},${r},0,1,${g},${e-d},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:y>Zl&&this._append`A${r},${r},0,${+(y>=ow)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function vj(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new gX(e)}function yj(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function eL(t){this._context=t}eL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ay(t){return new eL(t)}function tL(t){return t[0]}function nL(t){return t[1]}function rL(t,e){var n=Bt(!0),r=null,i=Ay,s=null,c=vj(d);t=typeof t=="function"?t:t===void 0?tL:Bt(t),e=typeof e=="function"?e:e===void 0?nL:Bt(e);function d(f){var h,p=(f=yj(f)).length,g,y=!1,x;for(r==null&&(s=i(x=c())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+t(g,h,f),+e(g,h,f));if(x)return s=null,x+""||null}return d.x=function(f){return arguments.length?(t=typeof f=="function"?f:Bt(+f),d):t},d.y=function(f){return arguments.length?(e=typeof f=="function"?f:Bt(+f),d):e},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Bt(!!f),d):n},d.curve=function(f){return arguments.length?(i=f,r!=null&&(s=i(r)),d):i},d.context=function(f){return arguments.length?(f==null?r=s=null:s=i(r=f),d):r},d}function tg(t,e,n){var r=null,i=Bt(!0),s=null,c=Ay,d=null,f=vj(h);t=typeof t=="function"?t:t===void 0?tL:Bt(+t),e=typeof e=="function"?e:Bt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?nL:Bt(+n);function h(g){var y,x,j,E=(g=yj(g)).length,S,T=!1,D,R=new Array(E),P=new Array(E);for(s==null&&(d=c(D=f())),y=0;y<=E;++y){if(!(y<E&&i(S=g[y],y,g))===T)if(T=!T)x=y,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),j=y-1;j>=x;--j)d.point(R[j],P[j]);d.lineEnd(),d.areaEnd()}T&&(R[y]=+t(S,y,g),P[y]=+e(S,y,g),d.point(r?+r(S,y,g):R[y],n?+n(S,y,g):P[y]))}if(D)return d=null,D+""||null}function p(){return rL().defined(i).curve(c).context(s)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Bt(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Bt(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Bt(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:Bt(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Bt(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Bt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Bt(!!g),h):i},h.curve=function(g){return arguments.length?(c=g,s!=null&&(d=c(s)),h):c},h.context=function(g){return arguments.length?(g==null?s=d=null:d=c(s=g),h):s},h}class iL{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function vX(t){return new iL(t,!0)}function yX(t){return new iL(t,!1)}const bj={draw(t,e){const n=da(e/av);t.moveTo(n,0),t.arc(0,0,n,0,Ny)}},bX={draw(t,e){const n=da(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},aL=da(1/3),_X=aL*2,xX={draw(t,e){const n=da(e/_X),r=n*aL;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},wX={draw(t,e){const n=da(e),r=-n/2;t.rect(r,r,n,n)}},EX=.8908130915292852,sL=iv(av/10)/iv(7*av/10),jX=iv(Ny/10)*sL,SX=-Z4(Ny/10)*sL,NX={draw(t,e){const n=da(e*EX),r=jX*n,i=SX*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const c=Ny*s/5,d=Z4(c),f=iv(c);t.lineTo(f*n,-d*n),t.lineTo(d*r-f*i,f*r+d*i)}t.closePath()}},B_=da(3),AX={draw(t,e){const n=-da(e/(B_*3));t.moveTo(0,n*2),t.lineTo(-B_*n,-n),t.lineTo(B_*n,-n),t.closePath()}},Oi=-.5,Pi=da(3)/2,cw=1/da(12),TX=(cw/2+1)*3,CX={draw(t,e){const n=da(e/TX),r=n/2,i=n*cw,s=r,c=n*cw+n,d=-s,f=c;t.moveTo(r,i),t.lineTo(s,c),t.lineTo(d,f),t.lineTo(Oi*r-Pi*i,Pi*r+Oi*i),t.lineTo(Oi*s-Pi*c,Pi*s+Oi*c),t.lineTo(Oi*d-Pi*f,Pi*d+Oi*f),t.lineTo(Oi*r+Pi*i,Oi*i-Pi*r),t.lineTo(Oi*s+Pi*c,Oi*c-Pi*s),t.lineTo(Oi*d+Pi*f,Oi*f-Pi*d),t.closePath()}};function OX(t,e){let n=null,r=vj(i);t=typeof t=="function"?t:Bt(t||bj),e=typeof e=="function"?e:Bt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Bt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Bt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function sv(){}function ov(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function oL(t){this._context=t}oL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ov(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function PX(t){return new oL(t)}function lL(t){this._context=t}lL.prototype={areaStart:sv,areaEnd:sv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function IX(t){return new lL(t)}function cL(t){this._context=t}cL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function RX(t){return new cL(t)}function uL(t){this._context=t}uL.prototype={areaStart:sv,areaEnd:sv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function kX(t){return new uL(t)}function IO(t){return t<0?-1:1}function RO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),c=(n-t._y1)/(i||r<0&&-0),d=(s*i+c*r)/(r+i);return(IO(s)+IO(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(d))||0}function kO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function $_(t,e,n){var r=t._x0,i=t._y0,s=t._x1,c=t._y1,d=(s-r)/3;t._context.bezierCurveTo(r+d,i+d*e,s-d,c-d*n,s,c)}function lv(t){this._context=t}lv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$_(this,this._t0,kO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,$_(this,kO(this,n=RO(this,t,e)),n);break;default:$_(this,this._t0,n=RO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function dL(t){this._context=new fL(t)}(dL.prototype=Object.create(lv.prototype)).point=function(t,e){lv.prototype.point.call(this,e,t)};function fL(t){this._context=t}fL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function DX(t){return new lv(t)}function MX(t){return new dL(t)}function hL(t){this._context=t}hL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=DO(t),i=DO(e),s=0,c=1;c<n;++s,++c)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function DO(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),c=new Array(n);for(i[0]=0,s[0]=2,c[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,c[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,c[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,c[e]-=r*c[e-1];for(i[n-1]=c[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(c[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function zX(t){return new hL(t)}function Ty(t,e){this._context=t,this._t=e}Ty.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function LX(t){return new Ty(t,.5)}function UX(t){return new Ty(t,0)}function VX(t){return new Ty(t,1)}function xc(t,e){if((c=t.length)>1)for(var n=1,r,i,s=t[e[0]],c,d=s.length;n<c;++n)for(i=s,s=t[e[n]],r=0;r<d;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function uw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function qX(t,e){return t[e]}function BX(t){const e=[];return e.key=t,e}function $X(){var t=Bt([]),e=uw,n=xc,r=qX;function i(s){var c=Array.from(t.apply(this,arguments),BX),d,f=c.length,h=-1,p;for(const g of s)for(d=0,++h;d<f;++d)(c[d][h]=[0,+r(g,c[d].key,h,s)]).data=g;for(d=0,p=yj(e(c));d<f;++d)c[p[d]].index=d;return n(c,p),c}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Bt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Bt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?uw:typeof s=="function"?s:Bt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??xc,i):n},i}function FX(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,c;i<s;++i){for(c=n=0;n<r;++n)c+=t[n][i][1]||0;if(c)for(n=0;n<r;++n)t[n][i][1]/=c}xc(t,e)}}function HX(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var c=0,d=0;c<i;++c)d+=t[c][n][1]||0;r[n][1]+=r[n][0]=-d/2}xc(t,e)}}function GX(t,e){if(!(!((c=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,c;r<s;++r){for(var d=0,f=0,h=0;d<c;++d){for(var p=t[e[d]],g=p[r][1]||0,y=p[r-1][1]||0,x=(g-y)/2,j=0;j<d;++j){var E=t[e[j]],S=E[r][1]||0,T=E[r-1][1]||0;x+=S-T}f+=g,h+=x*g}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,xc(t,e)}}var F_={},H_={},MO;function KX(){return MO||(MO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(H_)),H_}var G_={},zO;function mL(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(G_)),G_}var K_={},LO;function _j(){return LO||(LO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(K_)),K_}var W_={},Q_={},UO;function WX(){return UO||(UO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Q_)),Q_}var VO;function xj(){return VO||(VO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WX(),n=_j();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],c=i.length;if(c===0)return s;let d=0,f="",h="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),d++);d<c;){const g=i[d];h?g==="\\"&&d+1<c?(d++,f+=i[d]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,d++}return f&&s.push(f),s}t.toPath=r})(W_)),W_}var qO;function wj(){return qO||(qO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KX(),n=mL(),r=_j(),i=xj();function s(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?n.isDeepKey(f)?s(d,i.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return c(d,f,h);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function c(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}t.get=s})(F_)),F_}var Y_,BO;function QX(){return BO||(BO=1,Y_=wj().get),Y_}var YX=QX();const od=Ya(YX);var XX=4;function Ko(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:XX,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function cn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,c)=>{var d=n[c-1];return typeof d=="string"?i+d+s:d!==void 0?i+Ko(d)+s:i+s},"")}var Gr=t=>t===0?0:t>0?1:-1,Ga=t=>typeof t=="number"&&t!=+t,wc=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Pe=t=>(typeof t=="number"||t instanceof Number)&&!Ga(t),Ka=t=>Pe(t)||typeof t=="string",ZX=0,Sh=t=>{var e=++ZX;return"".concat(t||"").concat(e)},ca=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(e)&&typeof e!="string")return r;var s;if(wc(e)){if(n==null)return r;var c=e.indexOf("%");s=n*parseFloat(e.slice(0,c))/100}else s=+e;return Ga(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},pL=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function un(t,e,n){return Pe(t)&&Pe(e)?Ko(t+n*(e-t)):e}function gL(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):od(r,e))===n)}var nn=t=>t===null||typeof t>"u",rm=t=>nn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Kr(t){return t!=null}function kc(){}var JX=["type","size","sizeType"];function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dw.apply(null,arguments)}function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){eZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eZ(t,e,n){return(e=tZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tZ(t){var e=nZ(t,"string");return typeof e=="symbol"?e:e+""}function nZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rZ(t,e){if(t==null)return{};var n,r,i=iZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vL={symbolCircle:bj,symbolCross:bX,symbolDiamond:xX,symbolSquare:wX,symbolStar:NX,symbolTriangle:AX,symbolWye:CX},aZ=Math.PI/180,sZ=t=>{var e="symbol".concat(rm(t));return vL[e]||bj},oZ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*aZ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},lZ=(t,e)=>{vL["symbol".concat(rm(t))]=e},yL=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=rZ(t,JX),s=FO(FO({},i),{},{type:e,size:n,sizeType:r}),c="circle";typeof e=="string"&&(c=e);var d=()=>{var y=sZ(c),x=OX().type(y).size(oZ(n,r,c)),j=x();if(j!==null)return j},{className:f,cx:h,cy:p}=s,g=Cr(s);return Pe(h)&&Pe(p)&&Pe(n)?w.createElement("path",dw({},g,{className:Lt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};yL.registerSymbol=lZ;var bL=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,Ej=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{gj(i)&&(r[i]=(s=>n[i](n,s)))}),r},cZ=(t,e,n)=>r=>(t(e,n,r),null),jj=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];gj(i)&&typeof s=="function"&&(r||(r={}),r[i]=cZ(s,e,n))}),r};function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(n),!0).forEach(function(r){dZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dZ(t,e,n){return(e=fZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fZ(t){var e=hZ(t,"string");return typeof e=="symbol"?e:e+""}function hZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pr(t,e){var n=uZ({},t),r=e,i=Object.keys(e),s=i.reduce((c,d)=>(c[d]===void 0&&r[d]!==void 0&&(c[d]=r[d]),c),n);return s}var X_={},Z_={},GO;function mZ(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const c=n[s],d=r(c,s,n);i.has(d)||i.set(d,c)}return Array.from(i.values())}t.uniqBy=e})(Z_)),Z_}var J_={},KO;function pZ(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(J_)),J_}var ex={},WO;function _L(){return WO||(WO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(ex)),ex}var tx={},nx={},rx={},QO;function gZ(){return QO||(QO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(rx)),rx}var YO;function Sj(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gZ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(nx)),nx}var ix={},XO;function vZ(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(ix)),ix}var ZO;function yZ(){return ZO||(ZO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sj(),n=vZ();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(tx)),tx}var ax={},sx={},JO;function bZ(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wj();function n(r){return function(i){return e.get(i,r)}}t.property=n})(sx)),sx}var ox={},lx={},cx={},ux={},eP;function xL(){return eP||(eP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(ux)),ux}var dx={},tP;function wL(){return tP||(tP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(dx)),dx}var fx={},nP;function EL(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(fx)),fx}var rP;function _Z(){return rP||(rP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xL(),n=wL(),r=EL();function i(p,g,y){return typeof y!="function"?i(p,g,()=>{}):s(p,g,function x(j,E,S,T,D,R){const P=y(j,E,S,T,D,R);return P!==void 0?!!P:s(j,E,x,R)},new Map)}function s(p,g,y,x){if(g===p)return!0;switch(typeof g){case"object":return c(p,g,y,x);case"function":return Object.keys(g).length>0?s(p,{...g},y,x):r.isEqualsSameValueZero(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.isEqualsSameValueZero(p,g)}}function c(p,g,y,x){if(g==null)return!0;if(Array.isArray(g))return f(p,g,y,x);if(g instanceof Map)return d(p,g,y,x);if(g instanceof Set)return h(p,g,y,x);const j=Object.keys(g);if(p==null||n.isPrimitive(p))return j.length===0;if(j.length===0)return!0;if(x?.has(g))return x.get(g)===p;x?.set(g,p);try{for(let E=0;E<j.length;E++){const S=j[E];if(!n.isPrimitive(p)&&!(S in p)||g[S]===void 0&&p[S]!==void 0||g[S]===null&&p[S]!==null||!y(p[S],g[S],S,p,g,x))return!1}return!0}finally{x?.delete(g)}}function d(p,g,y,x){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[j,E]of g.entries()){const S=p.get(j);if(y(S,E,j,p,g,x)===!1)return!1}return!0}function f(p,g,y,x){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const j=new Set;for(let E=0;E<g.length;E++){const S=g[E];let T=!1;for(let D=0;D<p.length;D++){if(j.has(D))continue;const R=p[D];let P=!1;if(y(R,S,E,p,g,x)&&(P=!0),P){j.add(D),T=!0;break}}if(!T)return!1}return!0}function h(p,g,y,x){return g.size===0?!0:p instanceof Set?f([...p],[...g],y,x):!1}t.isMatchWith=i,t.isSetMatch=h})(cx)),cx}var iP;function jL(){return iP||(iP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_Z();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(lx)),lx}var hx={},mx={},px={},aP;function xZ(){return aP||(aP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(px)),px}var gx={},sP;function Nj(){return sP||(sP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(gx)),gx}var vx={},oP;function SL(){return oP||(oP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",y="[object ArrayBuffer]",x="[object Object]",j="[object Error]",E="[object DataView]",S="[object Uint8Array]",T="[object Uint8ClampedArray]",D="[object Uint16Array]",R="[object Uint32Array]",P="[object BigUint64Array]",$="[object Int8Array]",B="[object Int16Array]",I="[object Int32Array]",O="[object BigInt64Array]",k="[object Float32Array]",V="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=y,t.arrayTag=p,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=P,t.booleanTag=i,t.dataViewTag=E,t.dateTag=d,t.errorTag=j,t.float32ArrayTag=k,t.float64ArrayTag=V,t.functionTag=g,t.int16ArrayTag=B,t.int32ArrayTag=I,t.int8ArrayTag=$,t.mapTag=f,t.numberTag=r,t.objectTag=x,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=c,t.uint16ArrayTag=D,t.uint32ArrayTag=R,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=T})(vx)),vx}var yx={},lP;function wZ(){return lP||(lP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(yx)),yx}var cP;function NL(){return cP||(cP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xZ(),n=Nj(),r=SL(),i=wL(),s=wZ();function c(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,y,x=new Map,j=void 0){const E=j?.(p,g,y,x);if(E!==void 0)return E;if(i.isPrimitive(p))return p;if(x.has(p))return x.get(p);if(Array.isArray(p)){const S=new Array(p.length);x.set(p,S);for(let T=0;T<p.length;T++)S[T]=d(p[T],T,y,x,j);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;x.set(p,S);for(const[T,D]of p)S.set(T,d(D,T,y,x,j));return S}if(p instanceof Set){const S=new Set;x.set(p,S);for(const T of p)S.add(d(T,void 0,y,x,j));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);x.set(p,S);for(let T=0;T<p.length;T++)S[T]=d(p[T],T,y,x,j);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return x.set(p,S),f(S,p,y,x,j),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return x.set(p,S),f(S,p,y,x,j),S}if(typeof Blob<"u"&&p instanceof Blob){const S=new Blob([p],{type:p.type});return x.set(p,S),f(S,p,y,x,j),S}if(p instanceof Error){const S=new p.constructor;return x.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,f(S,p,y,x,j),S}if(p instanceof Boolean){const S=new Boolean(p.valueOf());return x.set(p,S),f(S,p,y,x,j),S}if(p instanceof Number){const S=new Number(p.valueOf());return x.set(p,S),f(S,p,y,x,j),S}if(p instanceof String){const S=new String(p.valueOf());return x.set(p,S),f(S,p,y,x,j),S}if(typeof p=="object"&&h(p)){const S=Object.create(Object.getPrototypeOf(p));return x.set(p,S),f(S,p,y,x,j),S}return p}function f(p,g,y=p,x,j){const E=[...Object.keys(g),...e.getSymbols(g)];for(let S=0;S<E.length;S++){const T=E[S],D=Object.getOwnPropertyDescriptor(p,T);(D==null||D.writable)&&(p[T]=d(g[T],T,y,x,j))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=c,t.cloneDeepWithImpl=d,t.copyProperties=f})(mx)),mx}var uP;function EZ(){return uP||(uP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NL();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(hx)),hx}var dP;function jZ(){return dP||(dP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jL(),n=EZ();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(ox)),ox}var bx={},_x={},xx={},fP;function SZ(){return fP||(fP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NL(),n=Nj(),r=SL();function i(s,c){return e.cloneDeepWith(s,(d,f,h,p)=>{const g=c?.(d,f,h,p);if(g!==void 0)return g;if(typeof s=="object"){if(n.getTag(s)===r.objectTag&&typeof s.constructor!="function"){const y={};return p.set(s,y),e.copyProperties(y,s,h,p),y}switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const y=new s.constructor(s?.valueOf());return e.copyProperties(y,s),y}case r.argumentsTag:{const y={};return e.copyProperties(y,s),y.length=s.length,y[Symbol.iterator]=s[Symbol.iterator],y}default:return}}})}t.cloneDeepWith=i})(xx)),xx}var hP;function NZ(){return hP||(hP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SZ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(_x)),_x}var wx={},Ex={},mP;function AL(){return mP||(mP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Ex)),Ex}var jx={},pP;function AZ(){return pP||(pP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nj();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(jx)),jx}var gP;function TZ(){return gP||(gP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mL(),n=AL(),r=AZ(),i=xj();function s(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&e.isDeepKey(d)&&c?.[d]==null?f=i.toPath(d):f=[d],f.length===0)return!1;let h=c;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=s})(wx)),wx}var vP;function CZ(){return vP||(vP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jL(),n=_j(),r=NZ(),i=wj(),s=TZ();function c(d,f){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(h){const p=i.get(h,d);return p===void 0?s.has(h,d):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=c})(bx)),bx}var yP;function OZ(){return yP||(yP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_L(),n=bZ(),r=jZ(),i=CZ();function s(c){if(c==null)return e.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}t.iteratee=s})(ax)),ax}var bP;function PZ(){return bP||(bP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mZ(),n=pZ(),r=_L(),i=yZ(),s=OZ();function c(d,f=r.identity){return i.isArrayLikeObject(d)?e.uniqBy(Array.from(d),n.ary(s.iteratee(f),1)):[]}t.uniqBy=c})(X_)),X_}var Sx,_P;function IZ(){return _P||(_P=1,Sx=PZ().uniqBy),Sx}var RZ=IZ();const xP=Ya(RZ);function kZ(t,e,n){return e===!0?xP(t,n):typeof e=="function"?xP(t,e):t}var Nx={exports:{}},Ax={},Tx={exports:{}},Cx={};var wP;function DZ(){if(wP)return Cx;wP=1;var t=md();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,c=t.useDebugValue;function d(g,y){var x=y(),j=r({inst:{value:x,getSnapshot:y}}),E=j[0].inst,S=j[1];return s(function(){E.value=x,E.getSnapshot=y,f(E)&&S({inst:E})},[g,x,y]),i(function(){return f(E)&&S({inst:E}),g(function(){f(E)&&S({inst:E})})},[g]),c(x),x}function f(g){var y=g.getSnapshot;g=g.value;try{var x=y();return!n(g,x)}catch{return!0}}function h(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return Cx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Cx}var EP;function MZ(){return EP||(EP=1,Tx.exports=DZ()),Tx.exports}var jP;function zZ(){if(jP)return Ax;jP=1;var t=md(),e=MZ();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,c=t.useEffect,d=t.useMemo,f=t.useDebugValue;return Ax.useSyncExternalStoreWithSelector=function(h,p,g,y,x){var j=s(null);if(j.current===null){var E={hasValue:!1,value:null};j.current=E}else E=j.current;j=d(function(){function T(B){if(!D){if(D=!0,R=B,B=y(B),x!==void 0&&E.hasValue){var I=E.value;if(x(I,B))return P=I}return P=B}if(I=P,r(R,B))return I;var O=y(B);return x!==void 0&&x(I,O)?(R=B,I):(R=B,P=O)}var D=!1,R,P,$=g===void 0?null:g;return[function(){return T(p())},$===null?void 0:function(){return T($())}]},[p,g,y,x]);var S=i(h,j[0],j[1]);return c(function(){E.hasValue=!0,E.value=S},[S]),f(S),S},Ax}var SP;function LZ(){return SP||(SP=1,Nx.exports=zZ()),Nx.exports}var UZ=LZ(),Aj=w.createContext(null),VZ=t=>t,_n=()=>{var t=w.useContext(Aj);return t?t.store.dispatch:VZ},Pg=()=>{},qZ=()=>Pg,BZ=(t,e)=>t===e;function Me(t){var e=w.useContext(Aj),n=w.useMemo(()=>e?r=>{if(r!=null)return t(r)}:Pg,[e,t]);return UZ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:qZ,e?e.store.getState:Pg,e?e.store.getState:Pg,n,BZ)}function $Z(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function FZ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function HZ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var NP=t=>Array.isArray(t)?t:[t];function GZ(t){const e=Array.isArray(t[0])?t[0]:t;return HZ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function KZ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var WZ=class{constructor(t){this.value=t}deref(){return this.value}},QZ=typeof WeakRef<"u"?WeakRef:WZ,YZ=0,AP=1;function ng(){return{s:YZ,v:void 0,o:null,p:null}}function TL(t,e={}){let n=ng();const{resultEqualityCheck:r}=e;let i,s=0;function c(){let d=n;const{length:f}=arguments;for(let g=0,y=f;g<y;g++){const x=arguments[g];if(typeof x=="function"||typeof x=="object"&&x!==null){let j=d.o;j===null&&(d.o=j=new WeakMap);const E=j.get(x);E===void 0?(d=ng(),j.set(x,d)):d=E}else{let j=d.p;j===null&&(d.p=j=new Map);const E=j.get(x);E===void 0?(d=ng(),j.set(x,d)):d=E}}const h=d;let p;if(d.s===AP)p=d.v;else if(p=t.apply(null,arguments),s++,r){const g=i?.deref?.()??i;g!=null&&r(g,p)&&(p=g,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new QZ(p):p}return h.s=AP,h.v=p,p}return c.clearCache=()=>{n=ng(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function XZ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,c=0,d,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),$Z(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:y=[],argsMemoize:x=TL,argsMemoizeOptions:j=[]}=p,E=NP(y),S=NP(j),T=GZ(i),D=g(function(){return s++,h.apply(null,arguments)},...E),R=x(function(){c++;const $=KZ(T,arguments);return d=D.apply(null,$),d},...S);return Object.assign(R,{resultFunc:h,memoizedResultFunc:D,dependencies:T,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var ce=XZ(TL),ZZ=Object.assign((t,e=ce)=>{FZ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((c,d,f)=>(c[n[f]]=d,c),{}))},{withTypes:()=>ZZ}),Ox={},Px={},Ix={},TP;function JZ(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const c=e(r),d=e(i);if(c===d&&c===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?d-c:c-d}return 0};t.compareValues=n})(Ix)),Ix}var Rx={},kx={},CP;function CL(){return CP||(CP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(kx)),kx}var OP;function eJ(){return OP||(OP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CL(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||c!=null&&Object.hasOwn(c,s)}t.isKey=i})(Rx)),Rx}var PP;function tJ(){return PP||(PP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JZ(),n=eJ(),r=xj();function i(s,c,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(x=>String(x));const h=(x,j)=>{let E=x;for(let S=0;S<j.length&&E!=null;++S)E=E[j[S]];return E},p=(x,j)=>j==null||x==null?j:typeof x=="object"&&"key"in x?Object.hasOwn(j,x.key)?j[x.key]:h(j,x.path):typeof x=="function"?x(j):Array.isArray(x)?h(j,x):typeof j=="object"?j[x]:j,g=c.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return s.map(x=>({original:x,criteria:g.map(j=>p(j,x))})).slice().sort((x,j)=>{for(let E=0;E<g.length;E++){const S=e.compareValues(x.criteria[E],j.criteria[E],d[E]);if(S!==0)return S}return 0}).map(x=>x.original)}t.orderBy=i})(Px)),Px}var Dx={},IP;function nJ(){return IP||(IP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),c=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<s?c(p,f+1):i.push(p)}};return c(n,0),i}t.flatten=e})(Dx)),Dx}var Mx={},RP;function OL(){return RP||(RP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AL(),n=Sj(),r=xL(),i=EL();function s(c,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&e.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?i.isEqualsSameValueZero(f[d],c):!1}t.isIterateeCall=s})(Mx)),Mx}var kP;function rJ(){return kP||(kP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tJ(),n=nJ(),r=OL();function i(s,...c){const d=c.length;return d>1&&r.isIterateeCall(s,c[0],c[1])?c=[]:d>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),e.orderBy(s,n.flatten(c),["asc"])}t.sortBy=i})(Ox)),Ox}var zx,DP;function iJ(){return DP||(DP=1,zx=rJ().sortBy),zx}var aJ=iJ();const Cy=Ya(aJ);var PL=t=>t.legend.settings,sJ=t=>t.legend.size,oJ=t=>t.legend.payload;ce([oJ,PL],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Cy(r,n):r});var rg=1;function lJ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-e.height)>rg||Math.abs(c.left-e.left)>rg||Math.abs(c.top-e.top)>rg||Math.abs(c.width-e.width)>rg)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function sr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var cJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",MP=cJ,Lx=()=>Math.random().toString(36).substring(7).split("").join("."),uJ={INIT:`@@redux/INIT${Lx()}`,REPLACE:`@@redux/REPLACE${Lx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Lx()}`},cv=uJ;function Tj(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function IL(t,e,n){if(typeof t!="function")throw new Error(sr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(sr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(sr(1));return n(IL)(t,e)}let r=t,i=e,s=new Map,c=s,d=0,f=!1;function h(){c===s&&(c=new Map,s.forEach((S,T)=>{c.set(T,S)}))}function p(){if(f)throw new Error(sr(3));return i}function g(S){if(typeof S!="function")throw new Error(sr(4));if(f)throw new Error(sr(5));let T=!0;h();const D=d++;return c.set(D,S),function(){if(T){if(f)throw new Error(sr(6));T=!1,h(),c.delete(D),s=null}}}function y(S){if(!Tj(S))throw new Error(sr(7));if(typeof S.type>"u")throw new Error(sr(8));if(typeof S.type!="string")throw new Error(sr(17));if(f)throw new Error(sr(9));try{f=!0,i=r(i,S)}finally{f=!1}return(s=c).forEach(D=>{D()}),S}function x(S){if(typeof S!="function")throw new Error(sr(10));r=S,y({type:cv.REPLACE})}function j(){const S=g;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(sr(11));function D(){const P=T;P.next&&P.next(p())}return D(),{unsubscribe:S(D)}},[MP](){return this}}}return y({type:cv.INIT}),{dispatch:y,subscribe:g,getState:p,replaceReducer:x,[MP]:j}}function dJ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:cv.INIT})>"u")throw new Error(sr(12));if(typeof n(void 0,{type:cv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(sr(13))})}function RL(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const c=e[s];typeof t[c]=="function"&&(n[c]=t[c])}const r=Object.keys(n);let i;try{dJ(n)}catch(s){i=s}return function(c={},d){if(i)throw i;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],y=n[g],x=c[g],j=y(x,d);if(typeof j>"u")throw d&&d.type,new Error(sr(14));h[g]=j,f=f||j!==x}return f=f||r.length!==Object.keys(c).length,f?h:c}}function uv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function fJ(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(sr(15))};const c={getState:i.getState,dispatch:(f,...h)=>s(f,...h)},d=t.map(f=>f(c));return s=uv(...d)(i.dispatch),{...i,dispatch:s}}}function kL(t){return Tj(t)&&"type"in t&&typeof t.type=="string"}var DL=Symbol.for("immer-nothing"),zP=Symbol.for("immer-draftable"),Or=Symbol.for("immer-state");function Zi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var fi=Object,ld=fi.getPrototypeOf,dv="constructor",Oy="prototype",fw="configurable",fv="enumerable",Ig="writable",Nh="value",Ms=t=>!!t&&!!t[Or];function ua(t){return t?ML(t)||Iy(t)||!!t[zP]||!!t[dv]?.[zP]||Ry(t)||ky(t):!1}var hJ=fi[Oy][dv].toString(),LP=new WeakMap;function ML(t){if(!t||!Cj(t))return!1;const e=ld(t);if(e===null||e===fi[Oy])return!0;const n=fi.hasOwnProperty.call(e,dv)&&e[dv];if(n===Object)return!0;if(!Uu(n))return!1;let r=LP.get(n);return r===void 0&&(r=Function.toString.call(n),LP.set(n,r)),r===hJ}function Py(t,e,n=!0){im(t)===0?(n?Reflect.ownKeys(t):fi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function im(t){const e=t[Or];return e?e.type_:Iy(t)?1:Ry(t)?2:ky(t)?3:0}var UP=(t,e,n=im(t))=>n===2?t.has(e):fi[Oy].hasOwnProperty.call(t,e),hw=(t,e,n=im(t))=>n===2?t.get(e):t[e],hv=(t,e,n,r=im(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function mJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Iy=Array.isArray,Ry=t=>t instanceof Map,ky=t=>t instanceof Set,Cj=t=>typeof t=="object",Uu=t=>typeof t=="function",Ux=t=>typeof t=="boolean";function pJ(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var xs=t=>t.copy_||t.base_,Oj=t=>t.modified_?t.copy_:t.base_;function mw(t,e){if(Ry(t))return new Map(t);if(ky(t))return new Set(t);if(Iy(t))return Array[Oy].slice.call(t);const n=ML(t);if(e===!0||e==="class_only"&&!n){const r=fi.getOwnPropertyDescriptors(t);delete r[Or];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const c=i[s],d=r[c];d[Ig]===!1&&(d[Ig]=!0,d[fw]=!0),(d.get||d.set)&&(r[c]={[fw]:!0,[Ig]:!0,[fv]:d[fv],[Nh]:t[c]})}return fi.create(ld(t),r)}else{const r=ld(t);if(r!==null&&n)return{...t};const i=fi.create(r);return fi.assign(i,t)}}function Pj(t,e=!1){return Dy(t)||Ms(t)||!ua(t)||(im(t)>1&&fi.defineProperties(t,{set:ig,add:ig,clear:ig,delete:ig}),fi.freeze(t),e&&Py(t,(n,r)=>{Pj(r,!0)},!1)),t}function gJ(){Zi(2)}var ig={[Nh]:gJ};function Dy(t){return t===null||!Cj(t)?!0:fi.isFrozen(t)}var mv="MapSet",pw="Patches",VP="ArrayMethods",zL={};function Ec(t){const e=zL[t];return e||Zi(0,t),e}var qP=t=>!!zL[t],Ah,LL=()=>Ah,vJ=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:qP(mv)?Ec(mv):void 0,arrayMethodsPlugin_:qP(VP)?Ec(VP):void 0});function BP(t,e){e&&(t.patchPlugin_=Ec(pw),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function gw(t){vw(t),t.drafts_.forEach(yJ),t.drafts_=null}function vw(t){t===Ah&&(Ah=t.parent_)}var $P=t=>Ah=vJ(Ah,t);function yJ(t){const e=t[Or];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function FP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Or].modified_&&(gw(e),Zi(4)),ua(t)&&(t=HP(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Or].base_,t,e)}else t=HP(e,n);return bJ(e,t,!0),gw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==DL?t:void 0}function HP(t,e){if(Dy(e))return e;const n=e[Or];if(!n)return pv(e,t.handledSet_,t);if(!My(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);qL(n,t)}return n.copy_}function bJ(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Pj(e,n)}function UL(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var My=(t,e)=>t.scope_===e,_J=[];function VL(t,e,n,r){const i=xs(t),s=t.type_;if(r!==void 0&&hw(i,r,s)===e){hv(i,r,n,s);return}if(!t.draftLocations_){const d=t.draftLocations_=new Map;Py(i,(f,h)=>{if(Ms(h)){const p=d.get(h)||[];p.push(f),d.set(h,p)}})}const c=t.draftLocations_.get(e)??_J;for(const d of c)hv(i,d,n,s)}function xJ(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!My(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const c=Oj(s);VL(t,s.draft_??s,c,n),qL(s,i)})}function qL(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}UL(t)}}function wJ(t,e,n){const{scope_:r}=t;if(Ms(n)){const i=n[Or];My(i,r)&&i.callbacks_.push(function(){Rg(t);const c=Oj(i);VL(t,n,c,e)})}else ua(n)&&t.callbacks_.push(function(){const s=xs(t);t.type_===3?s.has(n)&&pv(n,r.handledSet_,r):hw(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&pv(hw(t.copy_,e,t.type_),r.handledSet_,r)})}function pv(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ms(t)||e.has(t)||!ua(t)||Dy(t)||(e.add(t),Py(t,(r,i)=>{if(Ms(i)){const s=i[Or];if(My(s,n)){const c=Oj(s);hv(t,r,c,t.type_),UL(s)}}else ua(i)&&pv(i,e,n)})),t}function EJ(t,e){const n=Iy(t),r={type_:n?1:0,scope_:e?e.scope_:LL(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=gv;n&&(i=[r],s=Th);const{revoke:c,proxy:d}=Proxy.revocable(i,s);return r.draft_=d,r.revoke_=c,[d,r]}var gv={get(t,e){if(e===Or)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=xs(t);if(!UP(i,e,t.type_))return jJ(t,i,e);const s=i[e];if(t.finalized_||!ua(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&pJ(e))return s;if(s===Vx(t.base_,e)){Rg(t);const c=t.type_===1?+e:e,d=bw(t.scope_,s,t,c);return t.copy_[c]=d}return s},has(t,e){return e in xs(t)},ownKeys(t){return Reflect.ownKeys(xs(t))},set(t,e,n){const r=BL(xs(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Vx(xs(t),e),s=i?.[Or];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(mJ(n,i)&&(n!==void 0||UP(t.base_,e,t.type_)))return!0;Rg(t),yw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),wJ(t,e,n)),!0},deleteProperty(t,e){return Rg(t),Vx(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),yw(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=xs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Ig]:!0,[fw]:t.type_!==1||e!=="length",[fv]:r[fv],[Nh]:n[e]}},defineProperty(){Zi(11)},getPrototypeOf(t){return ld(t.base_)},setPrototypeOf(){Zi(12)}},Th={};for(let t in gv){let e=gv[t];Th[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Th.deleteProperty=function(t,e){return Th.set.call(this,t,e,void 0)};Th.set=function(t,e,n){return gv.set.call(this,t[0],e,n,t[0])};function Vx(t,e){const n=t[Or];return(n?xs(n):t)[e]}function jJ(t,e,n){const r=BL(e,n);return r?Nh in r?r[Nh]:r.get?.call(t.draft_):void 0}function BL(t,e){if(!(e in t))return;let n=ld(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ld(n)}}function yw(t){t.modified_||(t.modified_=!0,t.parent_&&yw(t.parent_))}function Rg(t){t.copy_||(t.assigned_=new Map,t.copy_=mw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var SJ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Uu(n)&&!Uu(r)){const c=r;r=n;const d=this;return function(h=c,...p){return d.produce(h,g=>r.call(this,g,...p))}}Uu(r)||Zi(6),i!==void 0&&!Uu(i)&&Zi(7);let s;if(ua(n)){const c=$P(this),d=bw(c,n,void 0);let f=!0;try{s=r(d),f=!1}finally{f?gw(c):vw(c)}return BP(c,i),FP(s,c)}else if(!n||!Cj(n)){if(s=r(n),s===void 0&&(s=n),s===DL&&(s=void 0),this.autoFreeze_&&Pj(s,!0),i){const c=[],d=[];Ec(pw).generateReplacementPatches_(n,s,{patches_:c,inversePatches_:d}),i(c,d)}return s}else Zi(1,n)},this.produceWithPatches=(n,r)=>{if(Uu(n))return(d,...f)=>this.produceWithPatches(d,h=>n(h,...f));let i,s;return[this.produce(n,r,(d,f)=>{i=d,s=f}),i,s]},Ux(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Ux(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Ux(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ua(e)||Zi(8),Ms(e)&&(e=ia(e));const n=$P(this),r=bw(n,e,void 0);return r[Or].isManual_=!0,vw(n),r}finishDraft(e,n){const r=e&&e[Or];(!r||!r.isManual_)&&Zi(9);const{scope_:i}=r;return BP(i,n),FP(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=Ec(pw).applyPatches_;return Ms(e)?i(e,n):this.produce(e,s=>i(s,n))}};function bw(t,e,n,r){const[i,s]=Ry(e)?Ec(mv).proxyMap_(e,n):ky(e)?Ec(mv).proxySet_(e,n):EJ(e,n);return(n?.scope_??LL()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?xJ(n,s,r):s.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),i}function ia(t){return Ms(t)||Zi(10,t),$L(t)}function $L(t){if(!ua(t)||Dy(t))return t;const e=t[Or];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=mw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=mw(t,!0);return Py(n,(i,s)=>{hv(n,i,$L(s))},r),e&&(e.finalized_=!1),n}var NJ=new SJ,FL=NJ.produce;function HL(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var AJ=HL(),TJ=HL,CJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?uv:uv.apply(null,arguments)};function zi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(hi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>kL(r)&&r.type===t,n}var GL=class Jf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Jf.prototype)}static get[Symbol.species](){return Jf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Jf(...e[0].concat(this)):new Jf(...e.concat(this))}};function GP(t){return ua(t)?FL(t,()=>{}):t}function ag(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function OJ(t){return typeof t=="boolean"}var PJ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let c=new GL;return n&&(OJ(n)?c.push(AJ):c.push(TJ(n.extraArgument))),c},KL="RTK_autoBatch",Zt=()=>t=>({payload:t,meta:{[KL]:!0}}),KP=t=>e=>{setTimeout(e,t)},WL=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,c=!1;const d=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:KP(10):t.type==="callback"?t.queueNotification:KP(t.timeout),h=()=>{c=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),y=r.subscribe(g);return d.add(p),()=>{y(),d.delete(p)}},dispatch(p){try{return i=!p?.meta?.[KL],s=!i,s&&(c||(c=!0,f(h))),r.dispatch(p)}finally{i=!0}}})},IJ=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new GL(t);return r&&i.push(WL(typeof r=="object"?r:void 0)),i};function RJ(t){const e=PJ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:c=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(Tj(n))d=RL(n);else throw new Error(hi(1));let f;typeof r=="function"?f=r(e):f=e();let h=uv;i&&(h=CJ({trace:!1,...typeof i=="object"&&i}));const p=fJ(...f),g=IJ(p);let y=typeof c=="function"?c(g):g();const x=h(...y);return IL(d,s,x)}function QL(t){const e={},n=[];let r;const i={addCase(s,c){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(hi(28));if(d in e)throw new Error(hi(29));return e[d]=c,i},addAsyncThunk(s,c){return c.pending&&(e[s.pending.type]=c.pending),c.rejected&&(e[s.rejected.type]=c.rejected),c.fulfilled&&(e[s.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:s.settled,reducer:c.settled}),i},addMatcher(s,c){return n.push({matcher:s,reducer:c}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function kJ(t){return typeof t=="function"}function DJ(t,e){let[n,r,i]=QL(e),s;if(kJ(t))s=()=>GP(t());else{const d=GP(t);s=()=>d}function c(d=s(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if(Ms(p)){const x=g(p,f);return x===void 0?p:x}else{if(ua(p))return FL(p,y=>g(y,f));{const y=g(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},d)}return c.getInitialState=s,c}var MJ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",zJ=(t=21)=>{let e="",n=t;for(;n--;)e+=MJ[Math.random()*64|0];return e},LJ=Symbol.for("rtk-slice-createasyncthunk");function UJ(t,e){return`${t}/${e}`}function VJ({creators:t}={}){const e=t?.asyncThunk?.[LJ];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(hi(11));const c=(typeof r.reducers=="function"?r.reducers(BJ()):r.reducers)||{},d=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(R,P){const $=typeof R=="string"?R:R.type;if(!$)throw new Error(hi(12));if($ in f.sliceCaseReducersByType)throw new Error(hi(13));return f.sliceCaseReducersByType[$]=P,h},addMatcher(R,P){return f.sliceMatchers.push({matcher:R,reducer:P}),h},exposeAction(R,P){return f.actionCreators[R]=P,h},exposeCaseReducer(R,P){return f.sliceCaseReducersByName[R]=P,h}};d.forEach(R=>{const P=c[R],$={reducerName:R,type:UJ(i,R),createNotation:typeof r.reducers=="function"};FJ(P)?GJ($,P,h,e):$J($,P,h)});function p(){const[R={},P=[],$=void 0]=typeof r.extraReducers=="function"?QL(r.extraReducers):[r.extraReducers],B={...R,...f.sliceCaseReducersByType};return DJ(r.initialState,I=>{for(let O in B)I.addCase(O,B[O]);for(let O of f.sliceMatchers)I.addMatcher(O.matcher,O.reducer);for(let O of P)I.addMatcher(O.matcher,O.reducer);$&&I.addDefaultCase($)})}const g=R=>R,y=new Map,x=new WeakMap;let j;function E(R,P){return j||(j=p()),j(R,P)}function S(){return j||(j=p()),j.getInitialState()}function T(R,P=!1){function $(I){let O=I[R];return typeof O>"u"&&P&&(O=ag(x,$,S)),O}function B(I=g){const O=ag(y,P,()=>new WeakMap);return ag(O,I,()=>{const k={};for(const[V,U]of Object.entries(r.selectors??{}))k[V]=qJ(U,I,()=>ag(x,I,S),P);return k})}return{reducerPath:R,getSelectors:B,get selectors(){return B($)},selectSlice:$}}const D={name:i,reducer:E,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:S,...T(s),injectInto(R,{reducerPath:P,...$}={}){const B=P??s;return R.inject({reducerPath:B,reducer:E},$),{...D,...T(B,!0)}}};return D}}function qJ(t,e,n,r){function i(s,...c){let d=e(s);return typeof d>"u"&&r&&(d=n()),t(d,...c)}return i.unwrapped=t,i}var Yr=VJ();function BJ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function $J({type:t,reducerName:e,createNotation:n},r,i){let s,c;if("reducer"in r){if(n&&!HJ(r))throw new Error(hi(17));s=r.reducer,c=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,c?zi(t,c):zi(t))}function FJ(t){return t._reducerDefinitionType==="asyncThunk"}function HJ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function GJ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(hi(18));const{payloadCreator:s,fulfilled:c,pending:d,rejected:f,settled:h,options:p}=n,g=i(t,s,p);r.exposeAction(e,g),c&&r.addCase(g.fulfilled,c),d&&r.addCase(g.pending,d),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:c||sg,pending:d||sg,rejected:f||sg,settled:h||sg})}function sg(){}var KJ="task",YL="listener",XL="completed",Ij="cancelled",WJ=`task-${Ij}`,QJ=`task-${XL}`,_w=`${YL}-${Ij}`,YJ=`${YL}-${XL}`,zy=class{constructor(t){this.code=t,this.message=`${KJ} ${Ij} (reason: ${t})`}name="TaskAbortError";message},Rj=(t,e)=>{if(typeof t!="function")throw new TypeError(hi(32))},vv=()=>{},ZL=(t,e=vv)=>(t.catch(e),t),JL=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),cc=t=>{if(t.aborted)throw new zy(t.reason)};function e3(t,e){let n=vv;return new Promise((r,i)=>{const s=()=>i(new zy(t.reason));if(t.aborted){s();return}n=JL(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=vv})}var XJ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof zy?"cancelled":"rejected",error:n}}finally{e?.()}},yv=t=>e=>ZL(e3(t,e).then(n=>(cc(t),n))),t3=t=>{const e=yv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Yu}=Object,WP={},Ly="listenerMiddleware",ZJ=(t,e)=>{const n=r=>JL(t,()=>r.abort(t.reason));return(r,i)=>{Rj(r);const s=new AbortController;n(s);const c=XJ(async()=>{cc(t),cc(s.signal);const d=await r({pause:yv(s.signal),delay:t3(s.signal),signal:s.signal});return cc(s.signal),d},()=>s.abort(QJ));return i?.autoJoin&&e.push(c.catch(vv)),{result:yv(t)(c),cancel(){s.abort(WJ)}}}},JJ=(t,e)=>{const n=async(r,i)=>{cc(e);let s=()=>{};const d=[new Promise((f,h)=>{let p=t({predicate:r,effect:(g,y)=>{y.unsubscribe(),f([g,y.getState(),y.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&d.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await e3(e,Promise.race(d));return cc(e),f}finally{s()}};return(r,i)=>ZL(n(r,i))},n3=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=zi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(hi(21));return Rj(s),{predicate:i,type:e,effect:s}},r3=Yu(t=>{const{type:e,predicate:n,effect:r}=n3(t);return{id:zJ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(hi(22))}}},{withTypes:()=>r3}),QP=(t,e)=>{const{type:n,effect:r,predicate:i}=n3(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},xw=t=>{t.pending.forEach(e=>{e.abort(_w)})},eee=(t,e)=>()=>{for(const n of e.keys())xw(n);t.clear()},YP=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},i3=Yu(zi(`${Ly}/add`),{withTypes:()=>i3}),tee=zi(`${Ly}/removeAll`),a3=Yu(zi(`${Ly}/remove`),{withTypes:()=>a3}),nee=(...t)=>{console.error(`${Ly}/error`,...t)},am=(t={})=>{const e=new Map,n=new Map,r=x=>{const j=n.get(x)??0;n.set(x,j+1)},i=x=>{const j=n.get(x)??1;j===1?n.delete(x):n.set(x,j-1)},{extra:s,onError:c=nee}=t;Rj(c);const d=x=>(x.unsubscribe=()=>e.delete(x.id),e.set(x.id,x),j=>{x.unsubscribe(),j?.cancelActive&&xw(x)}),f=x=>{const j=QP(e,x)??r3(x);return d(j)};Yu(f,{withTypes:()=>f});const h=x=>{const j=QP(e,x);return j&&(j.unsubscribe(),x.cancelActive&&xw(j)),!!j};Yu(h,{withTypes:()=>h});const p=async(x,j,E,S)=>{const T=new AbortController,D=JJ(f,T.signal),R=[];try{x.pending.add(T),r(x),await Promise.resolve(x.effect(j,Yu({},E,{getOriginalState:S,condition:(P,$)=>D(P,$).then(Boolean),take:D,delay:t3(T.signal),pause:yv(T.signal),extra:s,signal:T.signal,fork:ZJ(T.signal,R),unsubscribe:x.unsubscribe,subscribe:()=>{e.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((P,$,B)=>{P!==T&&(P.abort(_w),B.delete(P))})},cancel:()=>{T.abort(_w),x.pending.delete(T)},throwIfCancelled:()=>{cc(T.signal)}})))}catch(P){P instanceof zy||YP(c,P,{raisedBy:"effect"})}finally{await Promise.all(R),T.abort(YJ),i(x),x.pending.delete(T)}},g=eee(e,n);return{middleware:x=>j=>E=>{if(!kL(E))return j(E);if(i3.match(E))return f(E.payload);if(tee.match(E)){g();return}if(a3.match(E))return h(E.payload);let S=x.getState();const T=()=>{if(S===WP)throw new Error(hi(23));return S};let D;try{if(D=j(E),e.size>0){const R=x.getState(),P=Array.from(e.values());for(const $ of P){let B=!1;try{B=$.predicate(E,R,S)}catch(I){B=!1,YP(c,I,{raisedBy:"predicate"})}B&&p($,E,x,T)}}}finally{S=WP}return D},startListening:f,stopListening:h,clearListeners:g}};function hi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ree={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},s3=Yr({name:"chartLayout",initialState:ree,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:iee,setLayout:aee,setChartSize:see,setScale:oee}=s3.actions,lee=s3.reducer;function o3(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function mt(t){return Number.isFinite(t)}function Wa(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){cee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cee(t,e,n){return(e=uee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uee(t){var e=dee(t,"string");return typeof e=="symbol"?e:e+""}function dee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pn(t,e,n){return nn(t)||nn(e)?n:Ka(e)?od(t,e,n):typeof e=="function"?e(t):n}var fee=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:c,layout:d}=e;if((d==="vertical"||d==="horizontal"&&c==="middle")&&s!=="center"&&Pe(t[s]))return qu(qu({},t),{},{[s]:t[s]+(r||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&c!=="middle"&&Pe(t[c]))return qu(qu({},t),{},{[c]:t[c]+(i||0)})}return t},Gs=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",l3=(t,e,n,r)=>{if(r)return t.map(d=>d.coordinate);var i,s,c=t.map(d=>(d.coordinate===e&&(i=!0),d.coordinate===n&&(s=!0),d.coordinate));return i||c.push(e),s||c.push(n),c},c3=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:y,axisType:x}=t;if(!c)return null;var j=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,E=i==="category"&&c.bandwidth?c.bandwidth()/j:0;if(E=x==="angleAxis"&&s&&s.length>=2?Gr(s[0]-s[1])*2*E:E,g||y){var S=(g||y||[]).map((T,D)=>{var R=r?r.indexOf(T):T,P=c.map(R);return mt(P)?{coordinate:P+E,value:T,offset:E,index:D}:null}).filter(Kr);return S}return f&&h?h.map((T,D)=>{var R=c.map(T);return mt(R)?{coordinate:R+E,value:T,index:D,offset:E}:null}).filter(Kr):c.ticks&&p!=null?c.ticks(p).map((T,D)=>{var R=c.map(T);return mt(R)?{coordinate:R+E,value:T,index:D,offset:E}:null}).filter(Kr):c.domain().map((T,D)=>{var R=c.map(T);return mt(R)?{coordinate:R+E,value:r?r[T]:T,index:D,offset:E}:null}).filter(Kr)},hee=(t,e)=>{if(!e||e.length!==2||!Pe(e[0])||!Pe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Pe(t[0])||t[0]<n)&&(i[0]=n),(!Pe(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},mee=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,c=0,d=0;d<n;++d){var f=t[d],h=f?.[i];if(h!=null){var p=h[1],g=h[0],y=Ga(p)?g:p;y>=0?(h[0]=s,s+=y,h[1]=s):(h[0]=c,c+=y,h[1]=c)}}}},pee=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,c=0;c<n;++c){var d=t[c],f=d?.[i];if(f!=null){var h=Ga(f[1])?f[0]:f[1];h>=0?(f[0]=s,s+=h,f[1]=s):(f[0]=0,f[1]=0)}}}},gee={sign:mee,expand:FX,none:xc,silhouette:HX,wiggle:GX,positive:pee},vee=(t,e,n)=>{var r,i=(r=gee[n])!==null&&r!==void 0?r:xc,s=$X().keys(e).value((d,f)=>Number(Pn(d,f,0))).order(uw).offset(i),c=s(t);return c.forEach((d,f)=>{d.forEach((h,p)=>{var g=Pn(t[p],e[f],0);Array.isArray(g)&&g.length===2&&Pe(g[0])&&Pe(g[1])&&(h[0]=g[0],h[1]=g[1])})}),c};function yee(t){return t==null?void 0:String(t)}function ZP(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:c}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!nn(i[e.dataKey])){var d=gL(n,"value",i[e.dataKey]);if(d)return d.coordinate+r/2}return n!=null&&n[s]?n[s].coordinate+r/2:null}var f=Pn(i,nn(c)?e.dataKey:c),h=e.scale.map(f);return Pe(h)?h:null}var JP=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:c}=t;if(e.type==="category")return n[c]?n[c].coordinate+r:null;var d=Pn(s,e.dataKey,e.scale.domain()[c]);if(nn(d))return null;var f=e.scale.map(d);return Pe(f)?f-i/2+r:null},bee=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},_ee=t=>{var e=t.flat(2).filter(Pe);return[Math.min(...e),Math.max(...e)]},xee=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],wee=(t,e,n)=>{if(t!=null)return xee(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:c}=s,d=c.reduce((f,h)=>{var p=o3(h,e,n),g=_ee(p);return!mt(g[0])||!mt(g[1])?f:[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},eI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cd=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Cy(e,p=>p.coordinate),s=1/0,c=1,d=i.length;c<d;c++){var f=i[c],h=i[c-1];s=Math.min((f?.coordinate||0)-(h?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function nI(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return qu(qu({},e),{},{dataKey:n,payload:r,value:i,name:s})}function Uy(t,e){if(t)return String(t);if(typeof e=="string")return e}var Eee=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},jee=(t,e)=>e==="centric"?t.angle:t.radius,Ks=t=>t.layout.width,Ws=t=>t.layout.height,See=t=>t.layout.scale,u3=t=>t.layout.margin,Vy=ce(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),qy=ce(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Nee="data-recharts-item-index",Aee="data-recharts-item-id",sm=60;function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function og(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){Tee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tee(t,e,n){return(e=Cee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cee(t){var e=Oee(t,"string");return typeof e=="symbol"?e:e+""}function Oee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pee=t=>t.brush.height;function Iee(t){var e=qy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:sm;return n+i}return n},0)}function Ree(t){var e=qy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:sm;return n+i}return n},0)}function kee(t){var e=Vy(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Dee(t){var e=Vy(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Xn=ce([Ks,Ws,u3,Pee,Iee,Ree,kee,Dee,PL,sJ],(t,e,n,r,i,s,c,d,f,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},g={top:(n.top||0)+c,bottom:(n.bottom||0)+d},y=og(og({},g),p),x=y.bottom;y.bottom+=r,y=fee(y,f,h);var j=t-y.left-y.right,E=e-y.top-y.bottom;return og(og({brushBottom:x},y),{},{width:Math.max(j,0),height:Math.max(E,0)})}),Mee=ce(Xn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),kj=ce(Ks,Ws,(t,e)=>({x:0,y:0,width:t,height:e})),zee=w.createContext(null),wr=()=>w.useContext(zee)!=null,By=t=>t.brush,$y=ce([By,Xn,u3],(t,e,n)=>({height:t.height,x:Pe(t.x)?t.x:e.left,y:Pe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Pe(t.width)?t.width:e.width})),qx={},Bx={},$x={},iI;function Lee(){return iI||(iI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let c,d=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{d!==null&&(n.apply(c,d),c=void 0,d=null)},g=()=>{h&&p(),E()};let y=null;const x=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},r)},j=()=>{y!==null&&(clearTimeout(y),y=null)},E=()=>{j(),c=void 0,d=null},S=()=>{p()},T=function(...D){if(i?.aborted)return;c=this,d=D;const R=y==null;x(),f&&R&&p()};return T.schedule=x,T.cancel=E,T.flush=S,i?.addEventListener("abort",E,{once:!0}),T}t.debounce=e})($x)),$x}var aI;function Uee(){return aI||(aI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lee();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:d=!0,maxWait:f}=s,h=Array(2);c&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const y=e.debounce(function(...E){p=r.apply(this,E),g=null},i,{edges:h}),x=function(...E){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,E),g=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,E),p)},j=()=>(y.flush(),p);return x.cancel=y.cancel,x.flush=j,x}t.debounce=n})(Bx)),Bx}var sI;function Vee(){return sI||(sI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Uee();function n(r,i=0,s={}){const{leading:c=!0,trailing:d=!0}=s;return e.debounce(r,i,{leading:c,maxWait:i,trailing:d})}t.throttle=n})(qx)),qx}var Fx,oI;function qee(){return oI||(oI=1,Fx=Vee().throttle),Fx}var Bee=qee();const $ee=Ya(Bee);var bv=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(n.replace(/%s/g,()=>i[c++]))}},Ma={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},d3=(t,e,n)=>{var{width:r=Ma.width,height:i=Ma.height,aspect:s,maxHeight:c}=n,d=wc(r)?t:Number(r),f=wc(i)?e:Number(i);return s&&s>0&&(d?f=d/s:f&&(d=f*s),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:d,calculatedHeight:f}},Fee={width:0,height:0,overflow:"visible"},Hee={width:0,overflowX:"visible"},Gee={height:0,overflowY:"visible"},Kee={},Wee=t=>{var{width:e,height:n}=t,r=wc(e),i=wc(n);return r&&i?Fee:r?Hee:i?Gee:Kee};function Qee(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i=Ma.width,s=Ma.height):i===void 0?i=r&&r>0?void 0:Ma.width:s===void 0&&(s=r&&r>0?void 0:Ma.height),{width:i,height:s}}function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww.apply(null,arguments)}function lI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(n),!0).forEach(function(r){Yee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yee(t,e,n){return(e=Xee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xee(t){var e=Zee(t,"string");return typeof e=="symbol"?e:e+""}function Zee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f3=w.createContext(Ma.initialDimension);function Jee(t){return Wa(t.width)&&Wa(t.height)}function h3(t){var{children:e,width:n,height:r}=t,i=w.useMemo(()=>({width:n,height:r}),[n,r]);return Jee(i)?w.createElement(f3.Provider,{value:i},e):null}var Dj=()=>w.useContext(f3),ete=w.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=Ma.initialDimension,width:i,height:s,minWidth:c=Ma.minWidth,minHeight:d,maxHeight:f,children:h,debounce:p=Ma.debounce,id:g,className:y,onResize:x,style:j={}}=t,E=w.useRef(null),S=w.useRef();S.current=x,w.useImperativeHandle(e,()=>E.current);var[T,D]=w.useState({containerWidth:r.width,containerHeight:r.height}),R=w.useCallback((O,k)=>{D(V=>{var U=Math.round(O),z=Math.round(k);return V.containerWidth===U&&V.containerHeight===z?V:{containerWidth:U,containerHeight:z}})},[]);w.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return kc;var O=z=>{var M,W=z[0];if(W!=null){var{width:Q,height:H}=W.contentRect;R(Q,H),(M=S.current)===null||M===void 0||M.call(S,Q,H)}};p>0&&(O=$ee(O,p,{trailing:!0,leading:!1}));var k=new ResizeObserver(O),{width:V,height:U}=E.current.getBoundingClientRect();return R(V,U),k.observe(E.current),()=>{k.disconnect()}},[R,p]);var{containerWidth:P,containerHeight:$}=T;bv(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:B,calculatedHeight:I}=d3(P,$,{width:i,height:s,aspect:n,maxHeight:f});return bv(B!=null&&B>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,I,i,s,c,d,n),w.createElement("div",{id:g?"".concat(g):void 0,className:Lt("recharts-responsive-container",y),style:cI(cI({},j),{},{width:i,height:s,minWidth:c,minHeight:d,maxHeight:f}),ref:E},w.createElement("div",{style:Wee({width:i,height:s})},w.createElement(h3,{width:B,height:I},h)))}),uI=w.forwardRef((t,e)=>{var n=Dj();if(Wa(n.width)&&Wa(n.height))return t.children;var{width:r,height:i}=Qee({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:c}=d3(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Pe(s)&&Pe(c)?w.createElement(h3,{width:s,height:c},t.children):w.createElement(ete,ww({},t,{width:r,height:i,ref:e}))});function Mj(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Fy=()=>{var t,e=wr(),n=Me(Mee),r=Me($y),i=(t=Me(By))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},tte={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},m3=()=>{var t;return(t=Me(Xn))!==null&&t!==void 0?t:tte},p3=()=>Me(Ks),g3=()=>Me(Ws),Ot=t=>t.layout.layoutType,Dc=()=>Me(Ot),v3=()=>{var t=Dc();if(t==="horizontal"||t==="vertical")return t},y3=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},nte=()=>{var t=Dc();return t!==void 0},om=t=>{var e=_n(),n=wr(),{width:r,height:i}=t,s=Dj(),c=r,d=i;return s&&(c=s.width>0?s.width:r,d=s.height>0?s.height:i),w.useEffect(()=>{!n&&Wa(c)&&Wa(d)&&e(see({width:c,height:d}))},[e,n,c,d]),null},b3=Symbol.for("immer-nothing"),dI=Symbol.for("immer-draftable"),mi=Symbol.for("immer-state");function Ji(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ch=Object.getPrototypeOf;function ud(t){return!!t&&!!t[mi]}function jc(t){return t?_3(t)||Array.isArray(t)||!!t[dI]||!!t.constructor?.[dI]||lm(t)||Gy(t):!1}var rte=Object.prototype.constructor.toString(),fI=new WeakMap;function _3(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=fI.get(n);return r===void 0&&(r=Function.toString.call(n),fI.set(n,r)),r===rte}function _v(t,e,n=!0){Hy(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Hy(t){const e=t[mi];return e?e.type_:Array.isArray(t)?1:lm(t)?2:Gy(t)?3:0}function Ew(t,e){return Hy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function x3(t,e,n){const r=Hy(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function ite(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function lm(t){return t instanceof Map}function Gy(t){return t instanceof Set}function Jl(t){return t.copy_||t.base_}function jw(t,e){if(lm(t))return new Map(t);if(Gy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=_3(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[mi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const c=i[s],d=r[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(Ch(t),r)}else{const r=Ch(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function zj(t,e=!1){return Ky(t)||ud(t)||!jc(t)||(Hy(t)>1&&Object.defineProperties(t,{set:lg,add:lg,clear:lg,delete:lg}),Object.freeze(t),e&&Object.values(t).forEach(n=>zj(n,!0))),t}function ate(){Ji(2)}var lg={value:ate};function Ky(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var ste={};function Sc(t){const e=ste[t];return e||Ji(0,t),e}var Oh;function w3(){return Oh}function ote(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hI(t,e){e&&(Sc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Sw(t){Nw(t),t.drafts_.forEach(lte),t.drafts_=null}function Nw(t){t===Oh&&(Oh=t.parent_)}function mI(t){return Oh=ote(Oh,t)}function lte(t){const e=t[mi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function pI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[mi].modified_&&(Sw(e),Ji(4)),jc(t)&&(t=xv(e,t),e.parent_||wv(e,t)),e.patches_&&Sc("Patches").generateReplacementPatches_(n[mi].base_,t,e.patches_,e.inversePatches_)):t=xv(e,n,[]),Sw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==b3?t:void 0}function xv(t,e,n){if(Ky(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[mi];if(!i)return _v(e,(s,c)=>gI(t,i,e,s,c,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return wv(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let c=s,d=!1;i.type_===3&&(c=new Set(s),s.clear(),d=!0),_v(c,(f,h)=>gI(t,i,s,f,h,n,d),r),wv(t,s,!1),n&&t.patches_&&Sc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function gI(t,e,n,r,i,s,c){if(i==null||typeof i!="object"&&!c)return;const d=Ky(i);if(!(d&&!c)){if(ud(i)){const f=s&&e&&e.type_!==3&&!Ew(e.assigned_,r)?s.concat(r):void 0,h=xv(t,i,f);if(x3(n,r,h),ud(h))t.canAutoFreeze_=!1;else return}else c&&n.add(i);if(jc(i)&&!d){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&d)return;xv(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(lm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&wv(t,i)}}}function wv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&zj(e,n)}function cte(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:w3(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Lj;n&&(i=[r],s=Ph);const{revoke:c,proxy:d}=Proxy.revocable(i,s);return r.draft_=d,r.revoke_=c,d}var Lj={get(t,e){if(e===mi)return t;const n=Jl(t);if(!Ew(n,e))return ute(t,n,e);const r=n[e];return t.finalized_||!jc(r)?r:r===Hx(t.base_,e)?(Gx(t),t.copy_[e]=Tw(r,t)):r},has(t,e){return e in Jl(t)},ownKeys(t){return Reflect.ownKeys(Jl(t))},set(t,e,n){const r=E3(Jl(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Hx(Jl(t),e),s=i?.[mi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(ite(n,i)&&(n!==void 0||Ew(t.base_,e)))return!0;Gx(t),Aw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Hx(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Gx(t),Aw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Jl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ji(11)},getPrototypeOf(t){return Ch(t.base_)},setPrototypeOf(){Ji(12)}},Ph={};_v(Lj,(t,e)=>{Ph[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ph.deleteProperty=function(t,e){return Ph.set.call(this,t,e,void 0)};Ph.set=function(t,e,n){return Lj.set.call(this,t[0],e,n,t[0])};function Hx(t,e){const n=t[mi];return(n?Jl(n):t)[e]}function ute(t,e,n){const r=E3(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function E3(t,e){if(!(e in t))return;let n=Ch(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ch(n)}}function Aw(t){t.modified_||(t.modified_=!0,t.parent_&&Aw(t.parent_))}function Gx(t){t.copy_||(t.copy_=jw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var dte=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const c=this;return function(f=s,...h){return c.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&Ji(6),r!==void 0&&typeof r!="function"&&Ji(7);let i;if(jc(e)){const s=mI(this),c=Tw(e,void 0);let d=!0;try{i=n(c),d=!1}finally{d?Sw(s):Nw(s)}return hI(s,r),pI(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===b3&&(i=void 0),this.autoFreeze_&&zj(i,!0),r){const s=[],c=[];Sc("Patches").generateReplacementPatches_(e,i,s,c),r(s,c)}return i}else Ji(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,f=>e(f,...d));let r,i;return[this.produce(e,n,(c,d)=>{r=c,i=d}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){jc(t)||Ji(8),ud(t)&&(t=fte(t));const e=mI(this),n=Tw(t,void 0);return n[mi].isManual_=!0,Nw(e),n}finishDraft(t,e){const n=t&&t[mi];(!n||!n.isManual_)&&Ji(9);const{scope_:r}=n;return hI(r,e),pI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Sc("Patches").applyPatches_;return ud(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Tw(t,e){const n=lm(t)?Sc("MapSet").proxyMap_(t,e):Gy(t)?Sc("MapSet").proxySet_(t,e):cte(t,e);return(e?e.scope_:w3()).drafts_.push(n),n}function fte(t){return ud(t)||Ji(10,t),j3(t)}function j3(t){if(!jc(t)||Ky(t))return t;const e=t[mi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=jw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=jw(t,!0);return _v(n,(i,s)=>{x3(n,i,j3(s))},r),e&&(e.finalized_=!1),n}var hte=new dte;hte.produce;var mte={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},S3=Yr({name:"legend",initialState:mte,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Zt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ia(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Zt()},removeLegendPayload:{reducer(t,e){var n=ia(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Zt()}}}),{setLegendSize:Ige,setLegendSettings:Rge,addLegendPayload:pte,replaceLegendPayload:gte,removeLegendPayload:vte}=S3.actions,yte=S3.reducer;function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cw.apply(null,arguments)}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){bte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bte(t,e,n){return(e=_te(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _te(t){var e=xte(t,"string");return typeof e=="symbol"?e:e+""}function xte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wte(t){return Array.isArray(t)&&Ka(t[0])&&Ka(t[1])?t.join(" ~ "):t}var Ou={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Ete=t=>{var{separator:e=Ou.separator,contentStyle:n,itemStyle:r,labelStyle:i=Ou.labelStyle,payload:s,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:y=Ou.accessibilityLayer}=t,x=()=>{if(s&&s.length){var $={padding:0,margin:0},B=(d?Cy(s,d):s).map((I,O)=>{if(I.type==="none")return null;var k=I.formatter||c||wte,{value:V,name:U}=I,z=V,M=U;if(k){var W=k(V,U,I,O,s);if(Array.isArray(W))[z,M]=W;else if(W!=null)z=W;else return null}var Q=zf(zf({},Ou.itemStyle),{},{color:I.color||Ou.itemStyle.color},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:Q},Ka(M)?w.createElement("span",{className:"recharts-tooltip-item-name"},M):null,Ka(M)?w.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,w.createElement("span",{className:"recharts-tooltip-item-value"},z),w.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:$},B)}return null},j=zf(zf({},Ou.contentStyle),n),E=zf({margin:0},i),S=!nn(p),T=S?p:"",D=Lt("recharts-default-tooltip",f),R=Lt("recharts-tooltip-label",h);S&&g&&s!==void 0&&s!==null&&(T=g(p,s));var P=y?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",Cw({className:D,style:j},P),w.createElement("p",{className:R,style:E},w.isValidElement(T)?T:"".concat(T)),x())},Lf="recharts-tooltip-wrapper",jte={visibility:"hidden"};function Ste(t){var{coordinate:e,translateX:n,translateY:r}=t;return Lt(Lf,{["".concat(Lf,"-right")]:Pe(n)&&e&&Pe(e.x)&&n>=e.x,["".concat(Lf,"-left")]:Pe(n)&&e&&Pe(e.x)&&n<e.x,["".concat(Lf,"-bottom")]:Pe(r)&&e&&Pe(e.y)&&r>=e.y,["".concat(Lf,"-top")]:Pe(r)&&e&&Pe(e.y)&&r<e.y})}function yI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:s,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=t;if(s&&Pe(s[r]))return s[r];var p=n[r]-d-(i>0?i:0),g=n[r]+i;if(e[r])return c[r]?p:g;var y=f[r];if(y==null)return 0;if(c[r]){var x=p,j=y;return x<j?Math.max(g,y):Math.max(p,y)}if(h==null)return 0;var E=g+d,S=y+h;return E>S?Math.max(p,y):Math.max(g,y)}function Nte(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Ate(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:s,reverseDirection:c,tooltipBox:d,useTranslate3d:f,viewBox:h}=t,p,g,y;return d.height>0&&d.width>0&&n?(g=yI({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:s,reverseDirection:c,tooltipDimension:d.width,viewBox:h,viewBoxDimension:h.width}),y=yI({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:s,reverseDirection:c,tooltipDimension:d.height,viewBox:h,viewBoxDimension:h.height}),p=Nte({translateX:g,translateY:y,useTranslate3d:f})):p=jte,{cssProperties:p,cssClasses:Ste({translateX:g,translateY:y,coordinate:n})}}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){Ow(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ow(t,e,n){return(e=Tte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tte(t){var e=Cte(t,"string");return typeof e=="symbol"?e:e+""}function Cte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ote extends w.PureComponent{constructor(){super(...arguments),Ow(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ow(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:c,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:y,viewBox:x,wrapperStyle:j,lastBoundingBox:E,innerRef:S,hasPortalFromProps:T}=this.props,D=typeof h=="number"?h:h.x,R=typeof h=="number"?h:h.y,{cssClasses:P,cssProperties:$}=Ate({allowEscapeViewBox:n,coordinate:c,offsetLeft:D,offsetTop:R,position:p,reverseDirection:g,tooltipBox:{height:E.height,width:E.width},useTranslate3d:y,viewBox:x}),B=T?{}:cg(cg({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},$),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),I=cg(cg({},B),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},j);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:I,ref:S},s)}}var N3=()=>{var t;return(t=Me(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pw.apply(null,arguments)}function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){Pte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pte(t,e,n){return(e=Ite(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ite(t){var e=Rte(t,"string");return typeof e=="symbol"?e:e+""}function Rte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wI={curveBasisClosed:IX,curveBasisOpen:RX,curveBasis:PX,curveBumpX:vX,curveBumpY:yX,curveLinearClosed:kX,curveLinear:Ay,curveMonotoneX:DX,curveMonotoneY:MX,curveNatural:zX,curveStep:LX,curveStepAfter:VX,curveStepBefore:UX},Ev=t=>mt(t.x)&&mt(t.y),EI=t=>t.base!=null&&Ev(t.base)&&Ev(t),Uf=t=>t.x,Vf=t=>t.y,kte=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(rm(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=wI["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return wI[n]||Ay},jI={connectNulls:!1,type:"linear"},Dte=t=>{var{type:e=jI.type,points:n=[],baseLine:r,layout:i,connectNulls:s=jI.connectNulls}=t,c=kte(e,i),d=s?n.filter(Ev):n;if(Array.isArray(r)){var f,h=n.map((j,E)=>xI(xI({},j),{},{base:r[E]}));i==="vertical"?f=tg().y(Vf).x1(Uf).x0(j=>j.base.x):f=tg().x(Uf).y1(Vf).y0(j=>j.base.y);var p=f.defined(EI).curve(c),g=s?h.filter(EI):h;return p(g)}var y;i==="vertical"&&Pe(r)?y=tg().y(Vf).x1(Uf).x0(r):Pe(r)?y=tg().x(Uf).y1(Vf).y0(r):y=rL().x(Uf).y(Vf);var x=y.defined(Ev).curve(c);return x(d)},A3=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=Dc();if((!n||!n.length)&&!r)return null;var c={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},d=n&&n.length?Dte(c):r;return w.createElement("path",Pw({},la(t),Ej(t),{className:Lt("recharts-curve",e),d:d===null?void 0:d,ref:i}))},Mte=["x","y","top","left","width","height","className"];function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iw.apply(null,arguments)}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){Lte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lte(t,e,n){return(e=Ute(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ute(t){var e=Vte(t,"string");return typeof e=="symbol"?e:e+""}function Vte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qte(t,e){if(t==null)return{};var n,r,i=Bte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $te=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),Fte=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:c=0,className:d}=t,f=qte(t,Mte),h=zte({x:e,y:n,top:r,left:i,width:s,height:c},f);return!Pe(e)||!Pe(n)||!Pe(s)||!Pe(c)||!Pe(r)||!Pe(i)?null:w.createElement("path",Iw({},Cr(h),{className:Lt("recharts-cross",d),d:$te(e,n,s,c,r,i)}))};function Hte(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function NI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(n),!0).forEach(function(r){Gte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gte(t,e,n){return(e=Kte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kte(t){var e=Wte(t,"string");return typeof e=="symbol"?e:e+""}function Wte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qte=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),T3=(t,e,n)=>t.map(r=>"".concat(Qte(r)," ").concat(e,"ms ").concat(n)).join(","),Yte=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Ih=(t,e)=>Object.keys(e).reduce((n,r)=>AI(AI({},n),{},{[r]:t(r,e[r])}),{});function TI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(n),!0).forEach(function(r){Xte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xte(t,e,n){return(e=Zte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zte(t){var e=Jte(t,"string");return typeof e=="symbol"?e:e+""}function Jte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jv=(t,e,n)=>t+(e-t)*n,Rw=t=>{var{from:e,to:n}=t;return e!==n},C3=(t,e,n)=>{var r=Ih((i,s)=>{if(Rw(s)){var[c,d]=t(s.from,s.to,s.velocity);return Mn(Mn({},s),{},{from:c,velocity:d})}return s},e);return n<1?Ih((i,s)=>Rw(s)&&r[i]!=null?Mn(Mn({},s),{},{velocity:jv(s.velocity,r[i].velocity,n),from:jv(s.from,r[i].from,n)}):s,e):C3(t,r,n-1)};function ene(t,e,n,r,i,s){var c,d=r.reduce((y,x)=>Mn(Mn({},y),{},{[x]:{from:t[x],velocity:0,to:e[x]}}),{}),f=()=>Ih((y,x)=>x.from,d),h=()=>!Object.values(d).filter(Rw).length,p=null,g=y=>{c||(c=y);var x=y-c,j=x/n.dt;d=C3(n,d,j),i(Mn(Mn(Mn({},t),e),f())),c=y,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var y;(y=p)===null||y===void 0||y()})}function tne(t,e,n,r,i,s,c){var d=null,f=i.reduce((g,y)=>{var x=t[y],j=e[y];return x==null||j==null?g:Mn(Mn({},g),{},{[y]:[x,j]})},{}),h,p=g=>{h||(h=g);var y=(g-h)/r,x=Ih((E,S)=>jv(...S,n(y)),f);if(s(Mn(Mn(Mn({},t),e),x)),y<1)d=c.setTimeout(p);else{var j=Ih((E,S)=>jv(...S,n(1)),f);s(Mn(Mn(Mn({},t),e),j))}};return()=>(d=c.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const nne=(t,e,n,r,i,s)=>{var c=Yte(t,e);return n==null?()=>(i(Mn(Mn({},t),e)),()=>{}):n.isStepper===!0?ene(t,e,n,c,i,s):tne(t,e,n,r,c,i,s)};var Sv=1e-4,O3=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],P3=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),CI=(t,e)=>n=>{var r=O3(t,e);return P3(r,n)},rne=(t,e)=>n=>{var r=O3(t,e),i=[...r.map((s,c)=>s*c).slice(1),0];return P3(i,n)},ine=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},ane=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=ine(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},sne=(t,e,n,r)=>{var i=CI(t,n),s=CI(e,r),c=rne(t,n),d=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,y=0;y<8;++y){var x=i(g)-p,j=c(g);if(Math.abs(x-p)<Sv||j<Sv)return s(g);g=d(g-x/j)}return s(g)};return f.isStepper=!1,f},OI=function(){return sne(...ane(...arguments))},one=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(c,d,f)=>{var h=-(c-d)*n,p=f*r,g=f+(h-p)*i/1e3,y=f*i/1e3+c;return Math.abs(y-d)<Sv&&Math.abs(g)<Sv?[d,0]:[y,g]};return s.isStepper=!0,s.dt=i,s},lne=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OI(t);case"spring":return one();default:if(t.split("(")[0]==="cubic-bezier")return OI(t)}return typeof t=="function"?t:null};function cne(t){var e,n=()=>null,r=!1,i=null,s=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...h]=d;if(typeof f=="number"){i=t.setTimeout(s.bind(null,h),f);return}s(f),i=t.setTimeout(s.bind(null,h));return}typeof c=="string"&&(e=c,n(e)),typeof c=="object"&&(e=c,n(e)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,i&&(i(),i=null),s(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>t}}class une{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=c=>{c-r>=n?e(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function dne(){return cne(new une)}var fne=w.createContext(dne);function hne(t,e){var n=w.useContext(fne);return w.useMemo(()=>e??n(t),[t,e,n])}var mne=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Wy={isSsr:mne()},pne={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},PI={t:0},Kx={t:1};function Qy(t){var e=Pr(t,pne),{isActive:n,canBegin:r,duration:i,easing:s,begin:c,onAnimationEnd:d,onAnimationStart:f,children:h}=e,p=n==="auto"?!Wy.isSsr:n,g=hne(e.animationId,e.animationManager),[y,x]=w.useState(p?PI:Kx),j=w.useRef(null);return w.useEffect(()=>{p||x(Kx)},[p]),w.useEffect(()=>{if(!p||!r)return kc;var E=nne(PI,Kx,lne(s),i,x,g.getTimeoutController()),S=()=>{j.current=E()};return g.start([f,c,S,i,d]),()=>{g.stop(),j.current&&j.current(),d()}},[p,r,i,s,c,f,d,g]),h(y.t)}function Yy(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Sh(e)),r=w.useRef(t);return r.current!==t&&(n.current=Sh(e),r.current=t),n.current}var gne=["radius"],vne=["radius"],II,RI,kI,DI,MI,zI,LI,UI,VI,qI;function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){yne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yne(t,e,n){return(e=bne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bne(t){var e=_ne(t,"string");return typeof e=="symbol"?e:e+""}function _ne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nv.apply(null,arguments)}function FI(t,e){if(t==null)return{};var n,r,i=xne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ca(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var HI=(t,e,n,r,i)=>{var s=Ko(n),c=Ko(r),d=Math.min(Math.abs(s)/2,Math.abs(c)/2),f=c>=0?1:-1,h=s>=0?1:-1,p=c>=0&&s>=0||c<0&&s<0?1:0,g;if(d>0&&Array.isArray(i)){for(var y=[0,0,0,0],x=0,j=4;x<j;x++){var E,S=(E=i[x])!==null&&E!==void 0?E:0;y[x]=S>d?d:S}g=cn(II||(II=Ca(["M",",",""])),t,e+f*y[0]),y[0]>0&&(g+=cn(RI||(RI=Ca(["A ",",",",0,0,",",",",",""])),y[0],y[0],p,t+h*y[0],e)),g+=cn(kI||(kI=Ca(["L ",",",""])),t+n-h*y[1],e),y[1]>0&&(g+=cn(DI||(DI=Ca(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],p,t+n,e+f*y[1])),g+=cn(MI||(MI=Ca(["L ",",",""])),t+n,e+r-f*y[2]),y[2]>0&&(g+=cn(zI||(zI=Ca(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],p,t+n-h*y[2],e+r)),g+=cn(LI||(LI=Ca(["L ",",",""])),t+h*y[3],e+r),y[3]>0&&(g+=cn(UI||(UI=Ca(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],p,t,e+r-f*y[3])),g+="Z"}else if(d>0&&i===+i&&i>0){var T=Math.min(d,i);g=cn(VI||(VI=Ca(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+f*T,T,T,p,t+h*T,e,t+n-h*T,e,T,T,p,t+n,e+f*T,t+n,e+r-f*T,T,T,p,t+n-h*T,e+r,t+h*T,e+r,T,T,p,t,e+r-f*T)}else g=cn(qI||(qI=Ca(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return g},GI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},I3=t=>{var e=Pr(t,GI),n=w.useRef(null),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var oe=n.current.getTotalLength();oe&&i(oe)}catch{}},[]);var{x:s,y:c,width:d,height:f,radius:h,className:p}=e,{animationEasing:g,animationDuration:y,animationBegin:x,isAnimationActive:j,isUpdateAnimationActive:E}=e,S=w.useRef(d),T=w.useRef(f),D=w.useRef(s),R=w.useRef(c),P=w.useMemo(()=>({x:s,y:c,width:d,height:f,radius:h}),[s,c,d,f,h]),$=Yy(P,"rectangle-");if(s!==+s||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var B=Lt("recharts-rectangle",p);if(!E){var I=Cr(e),{radius:O}=I,k=FI(I,gne);return w.createElement("path",Nv({},k,{x:Ko(s),y:Ko(c),width:Ko(d),height:Ko(f),radius:typeof h=="number"?h:void 0,className:B,d:HI(s,c,d,f,h)}))}var V=S.current,U=T.current,z=D.current,M=R.current,W="0px ".concat(r===-1?1:r,"px"),Q="".concat(r,"px 0px"),H=T3(["strokeDasharray"],y,typeof g=="string"?g:GI.animationEasing);return w.createElement(Qy,{animationId:$,key:$,canBegin:r>0,duration:y,easing:g,isActive:E,begin:x},oe=>{var be=un(V,d,oe),Ee=un(U,f,oe),X=un(z,s,oe),F=un(M,c,oe);n.current&&(S.current=be,T.current=Ee,D.current=X,R.current=F);var ne;j?oe>0?ne={transition:H,strokeDasharray:Q}:ne={strokeDasharray:W}:ne={strokeDasharray:Q};var ge=Cr(e),{radius:we}=ge,J=FI(ge,vne);return w.createElement("path",Nv({},J,{radius:typeof h=="number"?h:void 0,className:B,d:HI(X,F,be,Ee,h),ref:n,style:$I($I({},ne),e.style)}))})};function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){wne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wne(t,e,n){return(e=Ene(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ene(t){var e=jne(t,"string");return typeof e=="symbol"?e:e+""}function jne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Av=Math.PI/180,Sne=t=>t*180/Math.PI,ur=(t,e,n,r)=>({x:t+Math.cos(-Av*r)*n,y:e+Math.sin(-Av*r)*n}),Nne=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Ane=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},Tne=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,c=Ane({x:n,y:r},{x:i,y:s});if(c<=0)return{radius:c,angle:0};var d=(n-i)/c,f=Math.acos(d);return r>s&&(f=2*Math.PI-f),{radius:c,angle:Sne(f),angleInRadian:f}},Cne=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},One=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),c=Math.min(i,s);return t+c*360},Pne=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=Tne({x:n,y:r},e),{innerRadius:c,outerRadius:d}=e;if(i<c||i>d||i===0)return null;var{startAngle:f,endAngle:h}=Cne(e),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?WI(WI({},e),{},{radius:i,angle:One(p,e)}):null};function R3(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,c=ur(e,n,r,i),d=ur(e,n,r,s);return{points:[c,d],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var QI,YI,XI,ZI,JI,eR,tR;function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kw.apply(null,arguments)}function nc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Ine=(t,e)=>{var n=Gr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},ug=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:c,cornerRadius:d,cornerIsExternal:f}=t,h=d*(c?1:-1)+r,p=Math.asin(d/h)/Av,g=f?i:i+s*p,y=ur(e,n,h,g),x=ur(e,n,r,g),j=f?i-s*p:i,E=ur(e,n,h*Math.cos(p*Av),j);return{center:y,circleTangency:x,lineTangency:E,theta:p}},k3=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:c}=t,d=Ine(s,c),f=s+d,h=ur(e,n,i,s),p=ur(e,n,i,f),g=cn(QI||(QI=nc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(d)>180),+(s>f),p.x,p.y);if(r>0){var y=ur(e,n,r,s),x=ur(e,n,r,f);g+=cn(YI||(YI=nc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,r,r,+(Math.abs(d)>180),+(s<=f),y.x,y.y)}else g+=cn(XI||(XI=nc(["L ",","," Z"])),e,n);return g},Rne=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h}=t,p=Gr(h-f),{circleTangency:g,lineTangency:y,theta:x}=ug({cx:e,cy:n,radius:i,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:j,lineTangency:E,theta:S}=ug({cx:e,cy:n,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:d}),T=d?Math.abs(f-h):Math.abs(f-h)-x-S;if(T<0)return c?cn(ZI||(ZI=nc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,s,s,s*2,s,s,-s*2):k3({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var D=cn(JI||(JI=nc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,s,s,+(p<0),g.x,g.y,i,i,+(T>180),+(p<0),j.x,j.y,s,s,+(p<0),E.x,E.y);if(r>0){var{circleTangency:R,lineTangency:P,theta:$}=ug({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:B,lineTangency:I,theta:O}=ug({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),k=d?Math.abs(f-h):Math.abs(f-h)-$-O;if(k<0&&s===0)return"".concat(D,"L").concat(e,",").concat(n,"Z");D+=cn(eR||(eR=nc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),I.x,I.y,s,s,+(p<0),B.x,B.y,r,r,+(k>180),+(p>0),R.x,R.y,s,s,+(p<0),P.x,P.y)}else D+=cn(tR||(tR=nc(["L",",","Z"])),e,n);return D},kne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},D3=t=>{var e=Pr(t,kne),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=e;if(s<i||h===p)return null;var y=Lt("recharts-sector",g),x=s-i,j=ca(c,x,0,!0),E;return j>0&&Math.abs(h-p)<360?E=Rne({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(j,x/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):E=k3({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),w.createElement("path",kw({},Cr(e),{className:y,d:E}))};function Dne(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(bL(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:c,angle:d}=e,f=ur(r,i,s,d),h=ur(r,i,c,d);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return R3(e)}}var Wx={},Qx={},Yx={},nR;function Mne(){return nR||(nR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CL();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Yx)),Yx}var rR;function zne(){return rR||(rR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mne();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Qx)),Qx}var iR;function Lne(){return iR||(iR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OL(),n=zne();function r(i,s,c){c&&typeof c!="number"&&e.isIterateeCall(i,s,c)&&(s=c=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),c=c===void 0?i<s?1:-1:n.toFinite(c);const d=Math.max(Math.ceil((s-i)/(c||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=i,i+=c;return f}t.range=r})(Wx)),Wx}var Xx,aR;function Une(){return aR||(aR=1,Xx=Lne().range),Xx}var Vne=Une();const M3=Ya(Vne);function Jo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Uj(t){let e,n,r;t.length!==2?(e=Jo,n=(d,f)=>Jo(t(d),f),r=(d,f)=>t(d)-f):(e=t===Jo||t===qne?t:Bne,n=t,r=t);function i(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function c(d,f,h=0,p=d.length){const g=i(d,f,h,p-1);return g>h&&r(d[g-1],f)>-r(d[g],f)?g-1:g}return{left:i,center:c,right:s}}function Bne(){return 0}function z3(t){return t===null?NaN:+t}function*$ne(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Fne=Uj(Jo),cm=Fne.right;Uj(z3).center;class sR extends Map{constructor(e,n=Kne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(oR(this,e))}has(e){return super.has(oR(this,e))}set(e,n){return super.set(Hne(this,e),n)}delete(e){return super.delete(Gne(this,e))}}function oR({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Hne({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Gne({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Kne(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Wne(t=Jo){if(t===Jo)return L3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function L3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Qne=Math.sqrt(50),Yne=Math.sqrt(10),Xne=Math.sqrt(2);function Tv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),c=s>=Qne?10:s>=Yne?5:s>=Xne?2:1;let d,f,h;return i<0?(h=Math.pow(10,-i)/c,d=Math.round(t*h),f=Math.round(e*h),d/h<t&&++d,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*c,d=Math.round(t/h),f=Math.round(e/h),d*h<t&&++d,f*h>e&&--f),f<d&&.5<=n&&n<2?Tv(t,e,n*2):[d,f,h]}function Dw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,c]=r?Tv(e,t,n):Tv(t,e,n);if(!(s>=i))return[];const d=s-i+1,f=new Array(d);if(r)if(c<0)for(let h=0;h<d;++h)f[h]=(s-h)/-c;else for(let h=0;h<d;++h)f[h]=(s-h)*c;else if(c<0)for(let h=0;h<d;++h)f[h]=(i+h)/-c;else for(let h=0;h<d;++h)f[h]=(i+h)*c;return f}function Mw(t,e,n){return e=+e,t=+t,n=+n,Tv(t,e,n)[2]}function zw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Mw(e,t,n):Mw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function lR(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function cR(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function U3(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?L3:Wne(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),x=Math.max(n,Math.floor(e-h*g/f+y)),j=Math.min(r,Math.floor(e+(f-h)*g/f+y));U3(t,e,x,j,i)}const s=t[e];let c=n,d=r;for(qf(t,n,e),i(t[r],s)>0&&qf(t,n,r);c<d;){for(qf(t,c,d),++c,--d;i(t[c],s)<0;)++c;for(;i(t[d],s)>0;)--d}i(t[n],s)===0?qf(t,n,d):(++d,qf(t,d,r)),d<=e&&(n=d+1),e<=d&&(r=d-1)}return t}function qf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Zne(t,e,n){if(t=Float64Array.from($ne(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return cR(t);if(e>=1)return lR(t);var r,i=(r-1)*e,s=Math.floor(i),c=lR(U3(t,s).subarray(0,s+1)),d=cR(t.subarray(s+1));return c+(d-c)*(i-s)}}function Jne(t,e,n=z3){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),c=+n(t[s],s,t),d=+n(t[s+1],s+1,t);return c+(d-c)*(i-s)}}function ere(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Ui(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Qs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Lw=Symbol("implicit");function Vj(){var t=new sR,e=[],n=[],r=Lw;function i(s){let c=t.get(s);if(c===void 0){if(r!==Lw)return r;t.set(s,c=e.push(s)-1)}return n[c%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new sR;for(const c of s)t.has(c)||t.set(c,e.push(c)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Vj(e,n).unknown(r)},Ui.apply(i,arguments),i}function qj(){var t=Vj().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,c,d=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var y=e().length,x=i<r,j=x?i:r,E=x?r:i;s=(E-j)/Math.max(1,y-f+h*2),d&&(s=Math.floor(s)),j+=(E-j-s*(y-f))*p,c=s*(1-f),d&&(j=Math.round(j),c=Math.round(c));var S=ere(y).map(function(T){return j+s*T});return n(x?S.reverse():S)}return t.domain=function(y){return arguments.length?(e(y),g()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,d=!0,g()},t.bandwidth=function(){return c},t.step=function(){return s},t.round=function(y){return arguments.length?(d=!!y,g()):d},t.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),g()):f},t.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),g()):f},t.paddingOuter=function(y){return arguments.length?(h=+y,g()):h},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),g()):p},t.copy=function(){return qj(e(),[r,i]).round(d).paddingInner(f).paddingOuter(h).align(p)},Ui.apply(g(),arguments)}function V3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return V3(e())},t}function tre(){return V3(qj.apply(null,arguments).paddingInner(1))}function Bj(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function q3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function um(){}var Rh=.7,Cv=1/Rh,Xu="\\s*([+-]?\\d+)\\s*",kh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nre=/^#([0-9a-f]{3,8})$/,rre=new RegExp(`^rgb\\(${Xu},${Xu},${Xu}\\)$`),ire=new RegExp(`^rgb\\(${Fa},${Fa},${Fa}\\)$`),are=new RegExp(`^rgba\\(${Xu},${Xu},${Xu},${kh}\\)$`),sre=new RegExp(`^rgba\\(${Fa},${Fa},${Fa},${kh}\\)$`),ore=new RegExp(`^hsl\\(${kh},${Fa},${Fa}\\)$`),lre=new RegExp(`^hsla\\(${kh},${Fa},${Fa},${kh}\\)$`),uR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bj(um,Dh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:dR,formatHex:dR,formatHex8:cre,formatHsl:ure,formatRgb:fR,toString:fR});function dR(){return this.rgb().formatHex()}function cre(){return this.rgb().formatHex8()}function ure(){return B3(this).formatHsl()}function fR(){return this.rgb().formatRgb()}function Dh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=nre.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?hR(e):n===3?new Wr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?dg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?dg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=rre.exec(t))?new Wr(e[1],e[2],e[3],1):(e=ire.exec(t))?new Wr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=are.exec(t))?dg(e[1],e[2],e[3],e[4]):(e=sre.exec(t))?dg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ore.exec(t))?gR(e[1],e[2]/100,e[3]/100,1):(e=lre.exec(t))?gR(e[1],e[2]/100,e[3]/100,e[4]):uR.hasOwnProperty(t)?hR(uR[t]):t==="transparent"?new Wr(NaN,NaN,NaN,0):null}function hR(t){return new Wr(t>>16&255,t>>8&255,t&255,1)}function dg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wr(t,e,n,r)}function dre(t){return t instanceof um||(t=Dh(t)),t?(t=t.rgb(),new Wr(t.r,t.g,t.b,t.opacity)):new Wr}function Uw(t,e,n,r){return arguments.length===1?dre(t):new Wr(t,e,n,r??1)}function Wr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Bj(Wr,Uw,q3(um,{brighter(t){return t=t==null?Cv:Math.pow(Cv,t),new Wr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Rh:Math.pow(Rh,t),new Wr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wr(uc(this.r),uc(this.g),uc(this.b),Ov(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mR,formatHex:mR,formatHex8:fre,formatRgb:pR,toString:pR}));function mR(){return`#${rc(this.r)}${rc(this.g)}${rc(this.b)}`}function fre(){return`#${rc(this.r)}${rc(this.g)}${rc(this.b)}${rc((isNaN(this.opacity)?1:this.opacity)*255)}`}function pR(){const t=Ov(this.opacity);return`${t===1?"rgb(":"rgba("}${uc(this.r)}, ${uc(this.g)}, ${uc(this.b)}${t===1?")":`, ${t})`}`}function Ov(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function uc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function rc(t){return t=uc(t),(t<16?"0":"")+t.toString(16)}function gR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ea(t,e,n,r)}function B3(t){if(t instanceof ea)return new ea(t.h,t.s,t.l,t.opacity);if(t instanceof um||(t=Dh(t)),!t)return new ea;if(t instanceof ea)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),c=NaN,d=s-i,f=(s+i)/2;return d?(e===s?c=(n-r)/d+(n<r)*6:n===s?c=(r-e)/d+2:c=(e-n)/d+4,d/=f<.5?s+i:2-s-i,c*=60):d=f>0&&f<1?0:c,new ea(c,d,f,t.opacity)}function hre(t,e,n,r){return arguments.length===1?B3(t):new ea(t,e,n,r??1)}function ea(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Bj(ea,hre,q3(um,{brighter(t){return t=t==null?Cv:Math.pow(Cv,t),new ea(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Rh:Math.pow(Rh,t),new ea(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Wr(Zx(t>=240?t-240:t+120,i,r),Zx(t,i,r),Zx(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ea(vR(this.h),fg(this.s),fg(this.l),Ov(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ov(this.opacity);return`${t===1?"hsl(":"hsla("}${vR(this.h)}, ${fg(this.s)*100}%, ${fg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function vR(t){return t=(t||0)%360,t<0?t+360:t}function fg(t){return Math.max(0,Math.min(1,t||0))}function Zx(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $j=t=>()=>t;function mre(t,e){return function(n){return t+n*e}}function pre(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function gre(t){return(t=+t)==1?$3:function(e,n){return n-e?pre(e,n,t):$j(isNaN(e)?n:e)}}function $3(t,e){var n=e-t;return n?mre(t,n):$j(isNaN(t)?e:t)}const yR=(function t(e){var n=gre(e);function r(i,s){var c=n((i=Uw(i)).r,(s=Uw(s)).r),d=n(i.g,s.g),f=n(i.b,s.b),h=$3(i.opacity,s.opacity);return function(p){return i.r=c(p),i.g=d(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=t,r})(1);function vre(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function yre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function bre(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),c;for(c=0;c<r;++c)i[c]=Ed(t[c],e[c]);for(;c<n;++c)s[c]=e[c];return function(d){for(c=0;c<r;++c)s[c]=i[c](d);return s}}function _re(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Pv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function xre(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ed(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Vw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jx=new RegExp(Vw.source,"g");function wre(t){return function(){return t}}function Ere(t){return function(e){return t(e)+""}}function jre(t,e){var n=Vw.lastIndex=Jx.lastIndex=0,r,i,s,c=-1,d=[],f=[];for(t=t+"",e=e+"";(r=Vw.exec(t))&&(i=Jx.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),d[c]?d[c]+=s:d[++c]=s),(r=r[0])===(i=i[0])?d[c]?d[c]+=i:d[++c]=i:(d[++c]=null,f.push({i:c,x:Pv(r,i)})),n=Jx.lastIndex;return n<e.length&&(s=e.slice(n),d[c]?d[c]+=s:d[++c]=s),d.length<2?f[0]?Ere(f[0].x):wre(e):(e=f.length,function(h){for(var p=0,g;p<e;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function Ed(t,e){var n=typeof e,r;return e==null||n==="boolean"?$j(e):(n==="number"?Pv:n==="string"?(r=Dh(e))?(e=r,yR):jre:e instanceof Dh?yR:e instanceof Date?_re:yre(e)?vre:Array.isArray(e)?bre:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?xre:Pv)(t,e)}function Fj(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Sre(t,e){e===void 0&&(e=t,t=Ed);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(c){var d=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return s[d](c-d)}}function Nre(t){return function(){return t}}function Iv(t){return+t}var bR=[0,1];function Ar(t){return t}function qw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Nre(isNaN(e)?NaN:.5)}function Are(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Tre(t,e,n){var r=t[0],i=t[1],s=e[0],c=e[1];return i<r?(r=qw(i,r),s=n(c,s)):(r=qw(r,i),s=n(s,c)),function(d){return s(r(d))}}function Cre(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),c=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<r;)i[c]=qw(t[c],t[c+1]),s[c]=n(e[c],e[c+1]);return function(d){var f=cm(t,d,1,r)-1;return s[f](i[f](d))}}function dm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Xy(){var t=bR,e=bR,n=Ed,r,i,s,c=Ar,d,f,h;function p(){var y=Math.min(t.length,e.length);return c!==Ar&&(c=Are(t[0],t[y-1])),d=y>2?Cre:Tre,f=h=null,g}function g(y){return y==null||isNaN(y=+y)?s:(f||(f=d(t.map(r),e,n)))(r(c(y)))}return g.invert=function(y){return c(i((h||(h=d(e,t.map(r),Pv)))(y)))},g.domain=function(y){return arguments.length?(t=Array.from(y,Iv),p()):t.slice()},g.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},g.rangeRound=function(y){return e=Array.from(y),n=Fj,p()},g.clamp=function(y){return arguments.length?(c=y?!0:Ar,p()):c!==Ar},g.interpolate=function(y){return arguments.length?(n=y,p()):n},g.unknown=function(y){return arguments.length?(s=y,g):s},function(y,x){return r=y,i=x,p()}}function Hj(){return Xy()(Ar,Ar)}function Ore(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Rv(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function dd(t){return t=Rv(Math.abs(t)),t?t[1]:NaN}function Pre(t,e){return function(n,r){for(var i=n.length,s=[],c=0,d=t[0],f=0;i>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),s.push(n.substring(i-=d,i+d)),!((f+=d+1)>r));)d=t[c=(c+1)%t.length];return s.reverse().join(e)}}function Ire(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Rre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mh(t){if(!(e=Rre.exec(t)))throw new Error("invalid format: "+t);var e;return new Gj({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Mh.prototype=Gj.prototype;function Gj(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Gj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kre(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var kv;function Dre(t,e){var n=Rv(t,e);if(!n)return kv=void 0,t.toPrecision(e);var r=n[0],i=n[1],s=i-(kv=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=r.length;return s===c?r:s>c?r+new Array(s-c+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Rv(t,Math.max(0,e+s-1))[0]}function _R(t,e){var n=Rv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const xR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ore,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>_R(t*100,e),r:_R,s:Dre,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function wR(t){return t}var ER=Array.prototype.map,jR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Mre(t){var e=t.grouping===void 0||t.thousands===void 0?wR:Pre(ER.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?wR:Ire(ER.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(g,y){g=Mh(g);var x=g.fill,j=g.align,E=g.sign,S=g.symbol,T=g.zero,D=g.width,R=g.comma,P=g.precision,$=g.trim,B=g.type;B==="n"?(R=!0,B="g"):xR[B]||(P===void 0&&(P=12),$=!0,B="g"),(T||x==="0"&&j==="=")&&(T=!0,x="0",j="=");var I=(y&&y.prefix!==void 0?y.prefix:"")+(S==="$"?n:S==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():""),O=(S==="$"?r:/[%p]/.test(B)?c:"")+(y&&y.suffix!==void 0?y.suffix:""),k=xR[B],V=/[defgprs%]/.test(B);P=P===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function U(z){var M=I,W=O,Q,H,oe;if(B==="c")W=k(z)+W,z="";else{z=+z;var be=z<0||1/z<0;if(z=isNaN(z)?f:k(Math.abs(z),P),$&&(z=kre(z)),be&&+z==0&&E!=="+"&&(be=!1),M=(be?E==="("?E:d:E==="-"||E==="("?"":E)+M,W=(B==="s"&&!isNaN(z)&&kv!==void 0?jR[8+kv/3]:"")+W+(be&&E==="("?")":""),V){for(Q=-1,H=z.length;++Q<H;)if(oe=z.charCodeAt(Q),48>oe||oe>57){W=(oe===46?i+z.slice(Q+1):z.slice(Q))+W,z=z.slice(0,Q);break}}}R&&!T&&(z=e(z,1/0));var Ee=M.length+z.length+W.length,X=Ee<D?new Array(D-Ee+1).join(x):"";switch(R&&T&&(z=e(X+z,X.length?D-W.length:1/0),X=""),j){case"<":z=M+z+W+X;break;case"=":z=M+X+z+W;break;case"^":z=X.slice(0,Ee=X.length>>1)+M+z+W+X.slice(Ee);break;default:z=X+M+z+W;break}return s(z)}return U.toString=function(){return g+""},U}function p(g,y){var x=Math.max(-8,Math.min(8,Math.floor(dd(y)/3)))*3,j=Math.pow(10,-x),E=h((g=Mh(g),g.type="f",g),{suffix:jR[8+x/3]});return function(S){return E(j*S)}}return{format:h,formatPrefix:p}}var hg,Kj,F3;zre({thousands:",",grouping:[3],currency:["$",""]});function zre(t){return hg=Mre(t),Kj=hg.format,F3=hg.formatPrefix,hg}function Lre(t){return Math.max(0,-dd(Math.abs(t)))}function Ure(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dd(e)/3)))*3-dd(Math.abs(t)))}function Vre(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,dd(e)-dd(t))+1}function H3(t,e,n,r){var i=zw(t,e,n),s;switch(r=Mh(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Ure(i,c))&&(r.precision=s),F3(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Vre(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Lre(i))&&(r.precision=s-(r.type==="%")*2);break}}return Kj(r)}function bl(t){var e=t.domain;return t.ticks=function(n){var r=e();return Dw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return H3(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,c=r[i],d=r[s],f,h,p=10;for(d<c&&(h=c,c=d,d=h,h=i,i=s,s=h);p-- >0;){if(h=Mw(c,d,n),h===f)return r[i]=c,r[s]=d,e(r);if(h>0)c=Math.floor(c/h)*h,d=Math.ceil(d/h)*h;else if(h<0)c=Math.ceil(c*h)/h,d=Math.floor(d*h)/h;else break;f=h}return t},t}function G3(){var t=Hj();return t.copy=function(){return dm(t,G3())},Ui.apply(t,arguments),bl(t)}function K3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Iv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return K3(t).unknown(e)},t=arguments.length?Array.from(t,Iv):[0,1],bl(n)}function W3(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],c;return s<i&&(c=n,n=r,r=c,c=i,i=s,s=c),t[n]=e.floor(i),t[r]=e.ceil(s),t}function SR(t){return Math.log(t)}function NR(t){return Math.exp(t)}function qre(t){return-Math.log(-t)}function Bre(t){return-Math.exp(-t)}function $re(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Fre(t){return t===10?$re:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Hre(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function AR(t){return(e,n)=>-t(-e,n)}function Wj(t){const e=t(SR,NR),n=e.domain;let r=10,i,s;function c(){return i=Hre(r),s=Fre(r),n()[0]<0?(i=AR(i),s=AR(s),t(qre,Bre)):t(SR,NR),e}return e.base=function(d){return arguments.length?(r=+d,c()):r},e.domain=function(d){return arguments.length?(n(d),c()):n()},e.ticks=d=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let y=i(h),x=i(p),j,E;const S=d==null?10:+d;let T=[];if(!(r%1)&&x-y<S){if(y=Math.floor(y),x=Math.ceil(x),h>0){for(;y<=x;++y)for(j=1;j<r;++j)if(E=y<0?j/s(-y):j*s(y),!(E<h)){if(E>p)break;T.push(E)}}else for(;y<=x;++y)for(j=r-1;j>=1;--j)if(E=y>0?j/s(-y):j*s(y),!(E<h)){if(E>p)break;T.push(E)}T.length*2<S&&(T=Dw(h,p,S))}else T=Dw(y,x,Math.min(x-y,S)).map(s);return g?T.reverse():T},e.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Mh(f)).precision==null&&(f.trim=!0),f=Kj(f)),d===1/0)return f;const h=Math.max(1,r*d/e.ticks().length);return p=>{let g=p/s(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},e.nice=()=>n(W3(n(),{floor:d=>s(Math.floor(i(d))),ceil:d=>s(Math.ceil(i(d)))})),e}function Q3(){const t=Wj(Xy()).domain([1,10]);return t.copy=()=>dm(t,Q3()).base(t.base()),Ui.apply(t,arguments),t}function TR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function CR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Qj(t){var e=1,n=t(TR(e),CR(e));return n.constant=function(r){return arguments.length?t(TR(e=+r),CR(e)):e},bl(n)}function Y3(){var t=Qj(Xy());return t.copy=function(){return dm(t,Y3()).constant(t.constant())},Ui.apply(t,arguments)}function OR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Gre(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Kre(t){return t<0?-t*t:t*t}function Yj(t){var e=t(Ar,Ar),n=1;function r(){return n===1?t(Ar,Ar):n===.5?t(Gre,Kre):t(OR(n),OR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},bl(e)}function Xj(){var t=Yj(Xy());return t.copy=function(){return dm(t,Xj()).exponent(t.exponent())},Ui.apply(t,arguments),t}function Wre(){return Xj.apply(null,arguments).exponent(.5)}function PR(t){return Math.sign(t)*t*t}function Qre(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function X3(){var t=Hj(),e=[0,1],n=!1,r;function i(s){var c=Qre(t(s));return isNaN(c)?r:n?Math.round(c):c}return i.invert=function(s){return t.invert(PR(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Iv)).map(PR)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return X3(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ui.apply(i,arguments),bl(i)}function Z3(){var t=[],e=[],n=[],r;function i(){var c=0,d=Math.max(1,e.length);for(n=new Array(d-1);++c<d;)n[c-1]=Jne(t,c/d);return s}function s(c){return c==null||isNaN(c=+c)?r:e[cm(n,c)]}return s.invertExtent=function(c){var d=e.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:t[0],d<n.length?n[d]:t[t.length-1]]},s.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let d of c)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(Jo),i()},s.range=function(c){return arguments.length?(e=Array.from(c),i()):e.slice()},s.unknown=function(c){return arguments.length?(r=c,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return Z3().domain(t).range(e).unknown(r)},Ui.apply(s,arguments)}function J3(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function c(f){return f!=null&&f<=f?i[cm(r,f,0,n)]:s}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return c}return c.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,d()):[t,e]},c.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,d()):i.slice()},c.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},c.unknown=function(f){return arguments.length&&(s=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return J3().domain([t,e]).range(i).unknown(s)},Ui.apply(bl(c),arguments)}function e6(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[cm(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var c=e.indexOf(s);return[t[c-1],t[c]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return e6().domain(t).range(e).unknown(n)},Ui.apply(i,arguments)}const e1=new Date,t1=new Date;function Vn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const c=i(s),d=i.ceil(s);return s-c<d-s?c:d},i.offset=(s,c)=>(e(s=new Date(+s),c==null?1:Math.floor(c)),s),i.range=(s,c,d)=>{const f=[];if(s=i.ceil(s),d=d==null?1:Math.floor(d),!(s<c)||!(d>0))return f;let h;do f.push(h=new Date(+s)),e(s,d),t(s);while(h<s&&s<c);return f},i.filter=s=>Vn(c=>{if(c>=c)for(;t(c),!s(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;e(c,-1),!s(c););else for(;--d>=0;)for(;e(c,1),!s(c););}),n&&(i.count=(s,c)=>(e1.setTime(+s),t1.setTime(+c),t(e1),t(t1),Math.floor(n(e1,t1))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?c=>r(c)%s===0:c=>i.count(0,c)%s===0):i)),i}const Dv=Vn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Dv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Vn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Dv);Dv.range;const Ss=1e3,ki=Ss*60,Ns=ki*60,zs=Ns*24,Zj=zs*7,IR=zs*30,n1=zs*365,ic=Vn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ss)},(t,e)=>(e-t)/Ss,t=>t.getUTCSeconds());ic.range;const Jj=Vn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ss)},(t,e)=>{t.setTime(+t+e*ki)},(t,e)=>(e-t)/ki,t=>t.getMinutes());Jj.range;const eS=Vn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ki)},(t,e)=>(e-t)/ki,t=>t.getUTCMinutes());eS.range;const tS=Vn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ss-t.getMinutes()*ki)},(t,e)=>{t.setTime(+t+e*Ns)},(t,e)=>(e-t)/Ns,t=>t.getHours());tS.range;const nS=Vn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ns)},(t,e)=>(e-t)/Ns,t=>t.getUTCHours());nS.range;const fm=Vn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ki)/zs,t=>t.getDate()-1);fm.range;const Zy=Vn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/zs,t=>t.getUTCDate()-1);Zy.range;const t6=Vn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/zs,t=>Math.floor(t/zs));t6.range;function Mc(t){return Vn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ki)/Zj)}const Jy=Mc(0),Mv=Mc(1),Yre=Mc(2),Xre=Mc(3),fd=Mc(4),Zre=Mc(5),Jre=Mc(6);Jy.range;Mv.range;Yre.range;Xre.range;fd.range;Zre.range;Jre.range;function zc(t){return Vn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Zj)}const e0=zc(0),zv=zc(1),eie=zc(2),tie=zc(3),hd=zc(4),nie=zc(5),rie=zc(6);e0.range;zv.range;eie.range;tie.range;hd.range;nie.range;rie.range;const rS=Vn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rS.range;const iS=Vn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());iS.range;const Ls=Vn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ls.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ls.range;const Us=Vn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Us.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Us.range;function n6(t,e,n,r,i,s){const c=[[ic,1,Ss],[ic,5,5*Ss],[ic,15,15*Ss],[ic,30,30*Ss],[s,1,ki],[s,5,5*ki],[s,15,15*ki],[s,30,30*ki],[i,1,Ns],[i,3,3*Ns],[i,6,6*Ns],[i,12,12*Ns],[r,1,zs],[r,2,2*zs],[n,1,Zj],[e,1,IR],[e,3,3*IR],[t,1,n1]];function d(h,p,g){const y=p<h;y&&([h,p]=[p,h]);const x=g&&typeof g.range=="function"?g:f(h,p,g),j=x?x.range(h,+p+1):[];return y?j.reverse():j}function f(h,p,g){const y=Math.abs(p-h)/g,x=Uj(([,,S])=>S).right(c,y);if(x===c.length)return t.every(zw(h/n1,p/n1,g));if(x===0)return Dv.every(Math.max(zw(h,p,g),1));const[j,E]=c[y/c[x-1][2]<c[x][2]/y?x-1:x];return j.every(E)}return[d,f]}const[iie,aie]=n6(Us,iS,e0,t6,nS,eS),[sie,oie]=n6(Ls,rS,Jy,fm,tS,Jj);function r1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function i1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Bf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function lie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,c=t.shortDays,d=t.months,f=t.shortMonths,h=$f(i),p=Ff(i),g=$f(s),y=Ff(s),x=$f(c),j=Ff(c),E=$f(d),S=Ff(d),T=$f(f),D=Ff(f),R={a:oe,A:be,b:Ee,B:X,c:null,d:LR,e:LR,f:Pie,g:qie,G:$ie,H:Tie,I:Cie,j:Oie,L:r6,m:Iie,M:Rie,p:F,q:ne,Q:qR,s:BR,S:kie,u:Die,U:Mie,V:zie,w:Lie,W:Uie,x:null,X:null,y:Vie,Y:Bie,Z:Fie,"%":VR},P={a:ge,A:we,b:J,B:Y,c:null,d:UR,e:UR,f:Wie,g:iae,G:sae,H:Hie,I:Gie,j:Kie,L:a6,m:Qie,M:Yie,p:xe,q:Ve,Q:qR,s:BR,S:Xie,u:Zie,U:Jie,V:eae,w:tae,W:nae,x:null,X:null,y:rae,Y:aae,Z:oae,"%":VR},$={a:V,A:U,b:z,B:M,c:W,d:MR,e:MR,f:jie,g:DR,G:kR,H:zR,I:zR,j:_ie,L:Eie,m:bie,M:xie,p:k,q:yie,Q:Nie,s:Aie,S:wie,u:hie,U:mie,V:pie,w:fie,W:gie,x:Q,X:H,y:DR,Y:kR,Z:vie,"%":Sie};R.x=B(n,R),R.X=B(r,R),R.c=B(e,R),P.x=B(n,P),P.X=B(r,P),P.c=B(e,P);function B(le,Ne){return function(Z){var ve=[],ke=-1,$e=0,st=le.length,ft,pt,fr;for(Z instanceof Date||(Z=new Date(+Z));++ke<st;)le.charCodeAt(ke)===37&&(ve.push(le.slice($e,ke)),(pt=RR[ft=le.charAt(++ke)])!=null?ft=le.charAt(++ke):pt=ft==="e"?" ":"0",(fr=Ne[ft])&&(ft=fr(Z,pt)),ve.push(ft),$e=ke+1);return ve.push(le.slice($e,ke)),ve.join("")}}function I(le,Ne){return function(Z){var ve=Bf(1900,void 0,1),ke=O(ve,le,Z+="",0),$e,st;if(ke!=Z.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(Ne&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?($e=i1(Bf(ve.y,0,1)),st=$e.getUTCDay(),$e=st>4||st===0?zv.ceil($e):zv($e),$e=Zy.offset($e,(ve.V-1)*7),ve.y=$e.getUTCFullYear(),ve.m=$e.getUTCMonth(),ve.d=$e.getUTCDate()+(ve.w+6)%7):($e=r1(Bf(ve.y,0,1)),st=$e.getDay(),$e=st>4||st===0?Mv.ceil($e):Mv($e),$e=fm.offset($e,(ve.V-1)*7),ve.y=$e.getFullYear(),ve.m=$e.getMonth(),ve.d=$e.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),st="Z"in ve?i1(Bf(ve.y,0,1)).getUTCDay():r1(Bf(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(st+5)%7:ve.w+ve.U*7-(st+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,i1(ve)):r1(ve)}}function O(le,Ne,Z,ve){for(var ke=0,$e=Ne.length,st=Z.length,ft,pt;ke<$e;){if(ve>=st)return-1;if(ft=Ne.charCodeAt(ke++),ft===37){if(ft=Ne.charAt(ke++),pt=$[ft in RR?Ne.charAt(ke++):ft],!pt||(ve=pt(le,Z,ve))<0)return-1}else if(ft!=Z.charCodeAt(ve++))return-1}return ve}function k(le,Ne,Z){var ve=h.exec(Ne.slice(Z));return ve?(le.p=p.get(ve[0].toLowerCase()),Z+ve[0].length):-1}function V(le,Ne,Z){var ve=x.exec(Ne.slice(Z));return ve?(le.w=j.get(ve[0].toLowerCase()),Z+ve[0].length):-1}function U(le,Ne,Z){var ve=g.exec(Ne.slice(Z));return ve?(le.w=y.get(ve[0].toLowerCase()),Z+ve[0].length):-1}function z(le,Ne,Z){var ve=T.exec(Ne.slice(Z));return ve?(le.m=D.get(ve[0].toLowerCase()),Z+ve[0].length):-1}function M(le,Ne,Z){var ve=E.exec(Ne.slice(Z));return ve?(le.m=S.get(ve[0].toLowerCase()),Z+ve[0].length):-1}function W(le,Ne,Z){return O(le,e,Ne,Z)}function Q(le,Ne,Z){return O(le,n,Ne,Z)}function H(le,Ne,Z){return O(le,r,Ne,Z)}function oe(le){return c[le.getDay()]}function be(le){return s[le.getDay()]}function Ee(le){return f[le.getMonth()]}function X(le){return d[le.getMonth()]}function F(le){return i[+(le.getHours()>=12)]}function ne(le){return 1+~~(le.getMonth()/3)}function ge(le){return c[le.getUTCDay()]}function we(le){return s[le.getUTCDay()]}function J(le){return f[le.getUTCMonth()]}function Y(le){return d[le.getUTCMonth()]}function xe(le){return i[+(le.getUTCHours()>=12)]}function Ve(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var Ne=B(le+="",R);return Ne.toString=function(){return le},Ne},parse:function(le){var Ne=I(le+="",!1);return Ne.toString=function(){return le},Ne},utcFormat:function(le){var Ne=B(le+="",P);return Ne.toString=function(){return le},Ne},utcParse:function(le){var Ne=I(le+="",!0);return Ne.toString=function(){return le},Ne}}}var RR={"-":"",_:" ",0:"0"},Zn=/^\s*\d+/,cie=/^%/,uie=/[\\^$*+?|[\]().{}]/g;function _t(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function die(t){return t.replace(uie,"\\$&")}function $f(t){return new RegExp("^(?:"+t.map(die).join("|")+")","i")}function Ff(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function fie(t,e,n){var r=Zn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function hie(t,e,n){var r=Zn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function mie(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function pie(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function gie(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function kR(t,e,n){var r=Zn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function DR(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function yie(t,e,n){var r=Zn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function bie(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function MR(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function _ie(t,e,n){var r=Zn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function zR(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function xie(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function wie(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Eie(t,e,n){var r=Zn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function jie(t,e,n){var r=Zn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Sie(t,e,n){var r=cie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Nie(t,e,n){var r=Zn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Aie(t,e,n){var r=Zn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function LR(t,e){return _t(t.getDate(),e,2)}function Tie(t,e){return _t(t.getHours(),e,2)}function Cie(t,e){return _t(t.getHours()%12||12,e,2)}function Oie(t,e){return _t(1+fm.count(Ls(t),t),e,3)}function r6(t,e){return _t(t.getMilliseconds(),e,3)}function Pie(t,e){return r6(t,e)+"000"}function Iie(t,e){return _t(t.getMonth()+1,e,2)}function Rie(t,e){return _t(t.getMinutes(),e,2)}function kie(t,e){return _t(t.getSeconds(),e,2)}function Die(t){var e=t.getDay();return e===0?7:e}function Mie(t,e){return _t(Jy.count(Ls(t)-1,t),e,2)}function i6(t){var e=t.getDay();return e>=4||e===0?fd(t):fd.ceil(t)}function zie(t,e){return t=i6(t),_t(fd.count(Ls(t),t)+(Ls(t).getDay()===4),e,2)}function Lie(t){return t.getDay()}function Uie(t,e){return _t(Mv.count(Ls(t)-1,t),e,2)}function Vie(t,e){return _t(t.getFullYear()%100,e,2)}function qie(t,e){return t=i6(t),_t(t.getFullYear()%100,e,2)}function Bie(t,e){return _t(t.getFullYear()%1e4,e,4)}function $ie(t,e){var n=t.getDay();return t=n>=4||n===0?fd(t):fd.ceil(t),_t(t.getFullYear()%1e4,e,4)}function Fie(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_t(e/60|0,"0",2)+_t(e%60,"0",2)}function UR(t,e){return _t(t.getUTCDate(),e,2)}function Hie(t,e){return _t(t.getUTCHours(),e,2)}function Gie(t,e){return _t(t.getUTCHours()%12||12,e,2)}function Kie(t,e){return _t(1+Zy.count(Us(t),t),e,3)}function a6(t,e){return _t(t.getUTCMilliseconds(),e,3)}function Wie(t,e){return a6(t,e)+"000"}function Qie(t,e){return _t(t.getUTCMonth()+1,e,2)}function Yie(t,e){return _t(t.getUTCMinutes(),e,2)}function Xie(t,e){return _t(t.getUTCSeconds(),e,2)}function Zie(t){var e=t.getUTCDay();return e===0?7:e}function Jie(t,e){return _t(e0.count(Us(t)-1,t),e,2)}function s6(t){var e=t.getUTCDay();return e>=4||e===0?hd(t):hd.ceil(t)}function eae(t,e){return t=s6(t),_t(hd.count(Us(t),t)+(Us(t).getUTCDay()===4),e,2)}function tae(t){return t.getUTCDay()}function nae(t,e){return _t(zv.count(Us(t)-1,t),e,2)}function rae(t,e){return _t(t.getUTCFullYear()%100,e,2)}function iae(t,e){return t=s6(t),_t(t.getUTCFullYear()%100,e,2)}function aae(t,e){return _t(t.getUTCFullYear()%1e4,e,4)}function sae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?hd(t):hd.ceil(t),_t(t.getUTCFullYear()%1e4,e,4)}function oae(){return"+0000"}function VR(){return"%"}function qR(t){return+t}function BR(t){return Math.floor(+t/1e3)}var Pu,o6,l6;lae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lae(t){return Pu=lie(t),o6=Pu.format,Pu.parse,l6=Pu.utcFormat,Pu.utcParse,Pu}function cae(t){return new Date(t)}function uae(t){return t instanceof Date?+t:+new Date(+t)}function aS(t,e,n,r,i,s,c,d,f,h){var p=Hj(),g=p.invert,y=p.domain,x=h(".%L"),j=h(":%S"),E=h("%I:%M"),S=h("%I %p"),T=h("%a %d"),D=h("%b %d"),R=h("%B"),P=h("%Y");function $(B){return(f(B)<B?x:d(B)<B?j:c(B)<B?E:s(B)<B?S:r(B)<B?i(B)<B?T:D:n(B)<B?R:P)(B)}return p.invert=function(B){return new Date(g(B))},p.domain=function(B){return arguments.length?y(Array.from(B,uae)):y().map(cae)},p.ticks=function(B){var I=y();return t(I[0],I[I.length-1],B??10)},p.tickFormat=function(B,I){return I==null?$:h(I)},p.nice=function(B){var I=y();return(!B||typeof B.range!="function")&&(B=e(I[0],I[I.length-1],B??10)),B?y(W3(I,B)):p},p.copy=function(){return dm(p,aS(t,e,n,r,i,s,c,d,f,h))},p}function dae(){return Ui.apply(aS(sie,oie,Ls,rS,Jy,fm,tS,Jj,ic,o6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fae(){return Ui.apply(aS(iie,aie,Us,iS,e0,Zy,nS,eS,ic,l6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function t0(){var t=0,e=1,n,r,i,s,c=Ar,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:c(i===0?.5:(g=(s(g)-n)*i,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(c=g,h):c};function p(g){return function(y){var x,j;return arguments.length?([x,j]=y,c=g(x,j),h):[c(0),c(1)]}}return h.range=p(Ed),h.rangeRound=p(Fj),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),h}}function _l(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function c6(){var t=bl(t0()(Ar));return t.copy=function(){return _l(t,c6())},Qs.apply(t,arguments)}function u6(){var t=Wj(t0()).domain([1,10]);return t.copy=function(){return _l(t,u6()).base(t.base())},Qs.apply(t,arguments)}function d6(){var t=Qj(t0());return t.copy=function(){return _l(t,d6()).constant(t.constant())},Qs.apply(t,arguments)}function sS(){var t=Yj(t0());return t.copy=function(){return _l(t,sS()).exponent(t.exponent())},Qs.apply(t,arguments)}function hae(){return sS.apply(null,arguments).exponent(.5)}function f6(){var t=[],e=Ar;function n(r){if(r!=null&&!isNaN(r=+r))return e((cm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Jo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Zne(t,s/r))},n.copy=function(){return f6(e).domain(t)},Qs.apply(n,arguments)}function n0(){var t=0,e=.5,n=1,r=1,i,s,c,d,f,h=Ar,p,g=!1,y;function x(E){return isNaN(E=+E)?y:(E=.5+((E=+p(E))-s)*(r*E<r*s?d:f),h(g?Math.max(0,Math.min(1,E)):E))}x.domain=function(E){return arguments.length?([t,e,n]=E,i=p(t=+t),s=p(e=+e),c=p(n=+n),d=i===s?0:.5/(s-i),f=s===c?0:.5/(c-s),r=s<i?-1:1,x):[t,e,n]},x.clamp=function(E){return arguments.length?(g=!!E,x):g},x.interpolator=function(E){return arguments.length?(h=E,x):h};function j(E){return function(S){var T,D,R;return arguments.length?([T,D,R]=S,h=Sre(E,[T,D,R]),x):[h(0),h(.5),h(1)]}}return x.range=j(Ed),x.rangeRound=j(Fj),x.unknown=function(E){return arguments.length?(y=E,x):y},function(E){return p=E,i=E(t),s=E(e),c=E(n),d=i===s?0:.5/(s-i),f=s===c?0:.5/(c-s),r=s<i?-1:1,x}}function h6(){var t=bl(n0()(Ar));return t.copy=function(){return _l(t,h6())},Qs.apply(t,arguments)}function m6(){var t=Wj(n0()).domain([.1,1,10]);return t.copy=function(){return _l(t,m6()).base(t.base())},Qs.apply(t,arguments)}function p6(){var t=Qj(n0());return t.copy=function(){return _l(t,p6()).constant(t.constant())},Qs.apply(t,arguments)}function oS(){var t=Yj(n0());return t.copy=function(){return _l(t,oS()).exponent(t.exponent())},Qs.apply(t,arguments)}function mae(){return oS.apply(null,arguments).exponent(.5)}const eh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:qj,scaleDiverging:h6,scaleDivergingLog:m6,scaleDivergingPow:oS,scaleDivergingSqrt:mae,scaleDivergingSymlog:p6,scaleIdentity:K3,scaleImplicit:Lw,scaleLinear:G3,scaleLog:Q3,scaleOrdinal:Vj,scalePoint:tre,scalePow:Xj,scaleQuantile:Z3,scaleQuantize:J3,scaleRadial:X3,scaleSequential:c6,scaleSequentialLog:u6,scaleSequentialPow:sS,scaleSequentialQuantile:f6,scaleSequentialSqrt:hae,scaleSequentialSymlog:d6,scaleSqrt:Wre,scaleSymlog:Y3,scaleThreshold:e6,scaleTime:dae,scaleUtc:fae,tickFormat:H3},Symbol.toStringTag,{value:"Module"}));var Ys=t=>t.chartData,g6=ce([Ys],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),lS=(t,e,n,r)=>r?g6(t):Ys(t),pae=(t,e,n)=>n?g6(t):Ys(t);function Vs(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(mt(e)&&mt(n))return!0}return!1}function $R(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function v6(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(mt(n))i=n;else if(typeof n=="function")return;if(mt(r))s=r;else if(typeof r=="function")return;var c=[i,s];if(Vs(c))return c}}function gae(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Vs(r))return $R(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,c,d;if(i==="auto")e!=null&&(c=Math.min(...e));else if(Pe(i))c=i;else if(typeof i=="function")try{e!=null&&(c=i(e?.[0]))}catch{}else if(typeof i=="string"&&eI.test(i)){var f=eI.exec(i);if(f==null||f[1]==null||e==null)c=void 0;else{var h=+f[1];c=e[0]-h}}else c=e?.[0];if(s==="auto")e!=null&&(d=Math.max(...e));else if(Pe(s))d=s;else if(typeof s=="function")try{e!=null&&(d=s(e?.[1]))}catch{}else if(typeof s=="string"&&tI.test(s)){var p=tI.exec(s);if(p==null||p[1]==null||e==null)d=void 0;else{var g=+p[1];d=e[1]+g}}else d=e?.[1];var y=[c,d];if(Vs(y))return e==null?y:$R(y,e,n)}}}var jd=1e9,vae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},uS,Jt=!0,Li="[DecimalError] ",dc=Li+"Invalid argument: ",cS=Li+"Exponent out of range: ",Sd=Math.floor,ec=Math.pow,yae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,li,Qn=1e7,Qt=7,y6=9007199254740991,Lv=Sd(y6/Qt),Ce={};Ce.absoluteValue=Ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ce.comparedTo=Ce.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Qt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ce.dividedBy=Ce.div=function(t){return Os(this,new this.constructor(t))};Ce.dividedToIntegerBy=Ce.idiv=function(t){var e=this,n=e.constructor;return qt(Os(e,new n(t),0,1),n.precision)};Ce.equals=Ce.eq=function(t){return!this.cmp(t)};Ce.exponent=function(){return In(this)};Ce.greaterThan=Ce.gt=function(t){return this.cmp(t)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(t){return this.cmp(t)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(t){return this.cmp(t)<0};Ce.lessThanOrEqualTo=Ce.lte=function(t){return this.cmp(t)<1};Ce.logarithm=Ce.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(li))throw Error(Li+"NaN");if(n.s<1)throw Error(Li+(n.s?"NaN":"-Infinity"));return n.eq(li)?new r(0):(Jt=!1,e=Os(zh(n,s),zh(t,s),s),Jt=!0,qt(e,i))};Ce.minus=Ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?x6(e,t):b6(e,(t.s=-t.s,t))};Ce.modulo=Ce.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Li+"NaN");return n.s?(Jt=!1,e=Os(n,t,0,1).times(t),Jt=!0,n.minus(e)):qt(new r(n),i)};Ce.naturalExponential=Ce.exp=function(){return _6(this)};Ce.naturalLogarithm=Ce.ln=function(){return zh(this)};Ce.negated=Ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ce.plus=Ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?b6(e,t):x6(e,(t.s=-t.s,t))};Ce.precision=Ce.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(dc+t);if(e=In(i)+1,r=i.d.length-1,n=r*Qt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ce.squareRoot=Ce.sqrt=function(){var t,e,n,r,i,s,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Li+"NaN")}for(t=In(d),Jt=!1,i=Math.sqrt(+d),i==0||i==1/0?(e=za(d.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Sd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=c=n+3;;)if(s=r,r=s.plus(Os(d,s,c+2)).times(.5),za(s.d).slice(0,c)===(e=za(r.d)).slice(0,c)){if(e=e.slice(c-3,c+1),i==c&&e=="4999"){if(qt(s,n+1,0),s.times(s).eq(d)){r=s;break}}else if(e!="9999")break;c+=4}return Jt=!0,qt(r,n)};Ce.times=Ce.mul=function(t){var e,n,r,i,s,c,d,f,h,p=this,g=p.constructor,y=p.d,x=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,f=y.length,h=x.length,f<h&&(s=y,y=x,x=s,c=f,f=h,h=c),s=[],c=f+h,r=c;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)d=s[i]+x[r]*y[i-r-1]+e,s[i--]=d%Qn|0,e=d/Qn|0;s[i]=(s[i]+e)%Qn|0}for(;!s[--c];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Jt?qt(t,g.precision):t};Ce.toDecimalPlaces=Ce.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Qa(t,0,jd),e===void 0?e=r.rounding:Qa(e,0,8),qt(n,t+In(n)+1,e))};Ce.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Nc(r,!0):(Qa(t,0,jd),e===void 0?e=i.rounding:Qa(e,0,8),r=qt(new i(r),t+1,e),n=Nc(r,!0,t+1)),n};Ce.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Nc(i):(Qa(t,0,jd),e===void 0?e=s.rounding:Qa(e,0,8),r=qt(new s(i),t+In(i)+1,e),n=Nc(r.abs(),!1,t+In(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ce.toInteger=Ce.toint=function(){var t=this,e=t.constructor;return qt(new e(t),In(t)+1,e.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(t){var e,n,r,i,s,c,d=this,f=d.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(li);if(d=new f(d),!d.s){if(t.s<1)throw Error(Li+"Infinity");return d}if(d.eq(li))return d;if(r=f.precision,t.eq(li))return qt(d,r);if(e=t.e,n=t.d.length-1,c=e>=n,s=d.s,c){if((n=p<0?-p:p)<=y6){for(i=new f(li),e=Math.ceil(r/Qt+4),Jt=!1;n%2&&(i=i.times(d),HR(i.d,e)),n=Sd(n/2),n!==0;)d=d.times(d),HR(d.d,e);return Jt=!0,t.s<0?new f(li).div(i):qt(i,r)}}else if(s<0)throw Error(Li+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,d.s=1,Jt=!1,i=t.times(zh(d,r+h)),Jt=!0,i=_6(i),i.s=s,i};Ce.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=In(i),r=Nc(i,n<=s.toExpNeg||n>=s.toExpPos)):(Qa(t,1,jd),e===void 0?e=s.rounding:Qa(e,0,8),i=qt(new s(i),t,e),n=In(i),r=Nc(i,t<=n||n<=s.toExpNeg,t)),r};Ce.toSignificantDigits=Ce.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Qa(t,1,jd),e===void 0?e=r.rounding:Qa(e,0,8)),qt(new r(n),t,e)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=In(t),n=t.constructor;return Nc(t,e<=n.toExpNeg||e>=n.toExpPos)};function b6(t,e){var n,r,i,s,c,d,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Jt?qt(e,g):e;if(f=t.d,h=e.d,c=t.e,i=e.e,f=f.slice(),s=c-i,s){for(s<0?(r=f,s=-s,d=h.length):(r=h,i=c,d=f.length),c=Math.ceil(g/Qt),d=c>d?c+1:d+1,s>d&&(s=d,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(d=f.length,s=h.length,d-s<0&&(s=d,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/Qn|0,f[s]%=Qn;for(n&&(f.unshift(n),++i),d=f.length;f[--d]==0;)f.pop();return e.d=f,e.e=i,Jt?qt(e,g):e}function Qa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(dc+t)}function za(t){var e,n,r,i=t.length-1,s="",c=t[0];if(i>0){for(s+=c,e=1;e<i;e++)r=t[e]+"",n=Qt-r.length,n&&(s+=zo(n)),s+=r;c=t[e],r=c+"",n=Qt-r.length,n&&(s+=zo(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Os=(function(){function t(r,i){var s,c=0,d=r.length;for(r=r.slice();d--;)s=r[d]*i+c,r[d]=s%Qn|0,c=s/Qn|0;return c&&r.unshift(c),r}function e(r,i,s,c){var d,f;if(s!=c)f=s>c?1:-1;else for(d=f=0;d<s;d++)if(r[d]!=i[d]){f=r[d]>i[d]?1:-1;break}return f}function n(r,i,s){for(var c=0;s--;)r[s]-=c,c=r[s]<i[s]?1:0,r[s]=c*Qn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,c){var d,f,h,p,g,y,x,j,E,S,T,D,R,P,$,B,I,O,k=r.constructor,V=r.s==i.s?1:-1,U=r.d,z=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Li+"Division by zero");for(f=r.e-i.e,I=z.length,$=U.length,x=new k(V),j=x.d=[],h=0;z[h]==(U[h]||0);)++h;if(z[h]>(U[h]||0)&&--f,s==null?D=s=k.precision:c?D=s+(In(r)-In(i))+1:D=s,D<0)return new k(0);if(D=D/Qt+2|0,h=0,I==1)for(p=0,z=z[0],D++;(h<$||p)&&D--;h++)R=p*Qn+(U[h]||0),j[h]=R/z|0,p=R%z|0;else{for(p=Qn/(z[0]+1)|0,p>1&&(z=t(z,p),U=t(U,p),I=z.length,$=U.length),P=I,E=U.slice(0,I),S=E.length;S<I;)E[S++]=0;O=z.slice(),O.unshift(0),B=z[0],z[1]>=Qn/2&&++B;do p=0,d=e(z,E,I,S),d<0?(T=E[0],I!=S&&(T=T*Qn+(E[1]||0)),p=T/B|0,p>1?(p>=Qn&&(p=Qn-1),g=t(z,p),y=g.length,S=E.length,d=e(g,E,y,S),d==1&&(p--,n(g,I<y?O:z,y))):(p==0&&(d=p=1),g=z.slice()),y=g.length,y<S&&g.unshift(0),n(E,g,S),d==-1&&(S=E.length,d=e(z,E,I,S),d<1&&(p++,n(E,I<S?O:z,S))),S=E.length):d===0&&(p++,E=[0]),j[h++]=p,d&&E[0]?E[S++]=U[P]||0:(E=[U[P]],S=1);while((P++<$||E[0]!==void 0)&&D--)}return j[0]||j.shift(),x.e=f,qt(x,c?s+In(x)+1:s)}})();function _6(t,e){var n,r,i,s,c,d,f=0,h=0,p=t.constructor,g=p.precision;if(In(t)>16)throw Error(cS+In(t));if(!t.s)return new p(li);for(Jt=!1,d=g,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),h+=5;for(r=Math.log(ec(2,h))/Math.LN10*2+5|0,d+=r,n=i=s=new p(li),p.precision=d;;){if(i=qt(i.times(t),d),n=n.times(++f),c=s.plus(Os(i,n,d)),za(c.d).slice(0,d)===za(s.d).slice(0,d)){for(;h--;)s=qt(s.times(s),d);return p.precision=g,e==null?(Jt=!0,qt(s,g)):s}s=c}}function In(t){for(var e=t.e*Qt,n=t.d[0];n>=10;n/=10)e++;return e}function a1(t,e,n){if(e>t.LN10.sd())throw Jt=!0,n&&(t.precision=n),Error(Li+"LN10 precision limit exceeded");return qt(new t(t.LN10),e)}function zo(t){for(var e="";t--;)e+="0";return e}function zh(t,e){var n,r,i,s,c,d,f,h,p,g=1,y=10,x=t,j=x.d,E=x.constructor,S=E.precision;if(x.s<1)throw Error(Li+(x.s?"NaN":"-Infinity"));if(x.eq(li))return new E(0);if(e==null?(Jt=!1,h=S):h=e,x.eq(10))return e==null&&(Jt=!0),a1(E,h);if(h+=y,E.precision=h,n=za(j),r=n.charAt(0),s=In(x),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=za(x.d),r=n.charAt(0),g++;s=In(x),r>1?(x=new E("0."+n),s++):x=new E(r+"."+n.slice(1))}else return f=a1(E,h+2,S).times(s+""),x=zh(new E(r+"."+n.slice(1)),h-y).plus(f),E.precision=S,e==null?(Jt=!0,qt(x,S)):x;for(d=c=x=Os(x.minus(li),x.plus(li),h),p=qt(x.times(x),h),i=3;;){if(c=qt(c.times(p),h),f=d.plus(Os(c,new E(i),h)),za(f.d).slice(0,h)===za(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(a1(E,h+2,S).times(s+""))),d=Os(d,new E(g),h),E.precision=S,e==null?(Jt=!0,qt(d,S)):d;d=f,i+=2}}function FR(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Sd(n/Qt),t.d=[],r=(n+1)%Qt,n<0&&(r+=Qt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Qt;r<i;)t.d.push(+e.slice(r,r+=Qt));e=e.slice(r),r=Qt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Jt&&(t.e>Lv||t.e<-Lv))throw Error(cS+n)}else t.s=0,t.e=0,t.d=[0];return t}function qt(t,e,n){var r,i,s,c,d,f,h,p,g=t.d;for(c=1,s=g[0];s>=10;s/=10)c++;if(r=e-c,r<0)r+=Qt,i=e,h=g[p=0];else{if(p=Math.ceil((r+1)/Qt),s=g.length,p>=s)return t;for(h=s=g[p],c=1;s>=10;s/=10)c++;r%=Qt,i=r-Qt+c}if(n!==void 0&&(s=ec(10,c-i-1),d=h/s%10|0,f=e<0||g[p+1]!==void 0||h%s,f=n<4?(d||f)&&(n==0||n==(t.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?i>0?h/ec(10,c-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(s=In(t),g.length=1,e=e-s-1,g[0]=ec(10,(Qt-e%Qt)%Qt),t.e=Sd(-e/Qt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=ec(10,Qt-r),g[p]=i>0?(h/ec(10,c-i)%ec(10,i)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==Qn&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=Qn)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(Jt&&(t.e>Lv||t.e<-Lv))throw Error(cS+In(t));return t}function x6(t,e){var n,r,i,s,c,d,f,h,p,g,y=t.constructor,x=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Jt?qt(e,x):e;if(f=t.d,g=e.d,r=e.e,h=t.e,f=f.slice(),c=h-r,c){for(p=c<0,p?(n=f,c=-c,d=g.length):(n=g,r=h,d=f.length),i=Math.max(Math.ceil(x/Qt),d)+2,c>i&&(c=i,n.length=1),n.reverse(),i=c;i--;)n.push(0);n.reverse()}else{for(i=f.length,d=g.length,p=i<d,p&&(d=i),i=0;i<d;i++)if(f[i]!=g[i]){p=f[i]<g[i];break}c=0}for(p&&(n=f,f=g,g=n,e.s=-e.s),d=f.length,i=g.length-d;i>0;--i)f[d++]=0;for(i=g.length;i>c;){if(f[--i]<g[i]){for(s=i;s&&f[--s]===0;)f[s]=Qn-1;--f[s],f[i]+=Qn}f[i]-=g[i]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Jt?qt(e,x):e):new y(0)}function Nc(t,e,n){var r,i=In(t),s=za(t.d),c=s.length;return e?(n&&(r=n-c)>0?s=s.charAt(0)+"."+s.slice(1)+zo(r):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+zo(-i-1)+s,n&&(r=n-c)>0&&(s+=zo(r))):i>=c?(s+=zo(i+1-c),n&&(r=n-i-1)>0&&(s=s+"."+zo(r))):((r=i+1)<c&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-c)>0&&(i+1===c&&(s+="."),s+=zo(r))),t.s<0?"-"+s:s}function HR(t,e){if(t.length>e)return t.length=e,!0}function w6(t){var e,n,r;function i(s){var c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,s instanceof i){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(dc+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return FR(c,s.toString())}else if(typeof s!="string")throw Error(dc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,yae.test(s))FR(c,s);else throw Error(dc+s)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=w6,i.config=i.set=bae,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function bae(t){if(!t||typeof t!="object")throw Error(Li+"Object expected");var e,n,r,i=["precision",1,jd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Sd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(dc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(dc+n+": "+r);return this}var uS=w6(vae);li=new uS(1);const Ct=uS;function E6(t){var e;return t===0?e=1:e=Math.floor(new Ct(t).abs().log(10).toNumber())+1,e}function j6(t,e,n){for(var r=new Ct(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var S6=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},N6=(t,e,n)=>{if(t.lte(0))return new Ct(0);var r=E6(t.toNumber()),i=new Ct(10).pow(r),s=t.div(i),c=r!==1?.05:.1,d=new Ct(Math.ceil(s.div(c).toNumber())).add(n).mul(c),f=d.mul(i);return e?new Ct(f.toNumber()):new Ct(Math.ceil(f.toNumber()))},_ae=(t,e,n)=>{var r=new Ct(1),i=new Ct(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Ct(10).pow(E6(t)-1),i=new Ct(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ct(Math.floor(t)))}else t===0?i=new Ct(Math.floor((e-1)/2)):n||(i=new Ct(Math.floor(t)));for(var c=Math.floor((e-1)/2),d=[],f=0;f<e;f++)d.push(i.add(new Ct(f-c).mul(r)).toNumber());return d},A6=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ct(0),tickMin:new Ct(0),tickMax:new Ct(0)};var c=N6(new Ct(n).sub(e).div(r-1),i,s),d;e<=0&&n>=0?d=new Ct(0):(d=new Ct(e).add(n).div(2),d=d.sub(new Ct(d).mod(c)));var f=Math.ceil(d.sub(e).div(c).toNumber()),h=Math.ceil(new Ct(n).sub(d).div(c).toNumber()),p=f+h+1;return p>r?A6(e,n,r,i,s+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:c,tickMin:d.sub(new Ct(f).mul(c)),tickMax:d.add(new Ct(h).mul(c))})},xae=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[d,f]=S6([n,r]);if(d===-1/0||f===1/0){var h=f===1/0?[d,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),f];return n>r?h.reverse():h}if(d===f)return _ae(d,i,s);var{step:p,tickMin:g,tickMax:y}=A6(d,f,c,s,0),x=j6(g,y.add(new Ct(.1).mul(p)),p);return n>r?x.reverse():x},wae=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=S6([r,i]);if(c===-1/0||d===1/0)return[r,i];if(c===d)return[c];var f=Math.max(n,2),h=N6(new Ct(d).sub(c).div(f-1),s,0),p=[...j6(new Ct(c),new Ct(d),h),d];return s===!1&&(p=p.map(g=>Math.round(g))),r>i?p.reverse():p},T6=t=>t.rootProps.maxBarSize,Eae=t=>t.rootProps.barGap,C6=t=>t.rootProps.barCategoryGap,jae=t=>t.rootProps.barSize,r0=t=>t.rootProps.stackOffset,O6=t=>t.rootProps.reverseStackOrder,dS=t=>t.options.chartName,fS=t=>t.rootProps.syncId,P6=t=>t.rootProps.syncMethod,hS=t=>t.options.eventEmitter,Yn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ql={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Oa={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},i0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function a0(t,e,n){if(n!=="auto")return n;if(t!=null)return Gs(t,e)?"category":"number"}function GR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(n),!0).forEach(function(r){Sae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sae(t,e,n){return(e=Nae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nae(t){var e=Aae(t,"string");return typeof e=="symbol"?e:e+""}function Aae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KR={allowDataOverflow:Ql.allowDataOverflow,allowDecimals:Ql.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ql.angleAxisId,includeHidden:!1,name:void 0,reversed:Ql.reversed,scale:Ql.scale,tick:Ql.tick,tickCount:void 0,ticks:void 0,type:Ql.type,unit:void 0},WR={allowDataOverflow:Oa.allowDataOverflow,allowDecimals:Oa.allowDecimals,allowDuplicatedCategory:Oa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Oa.radiusAxisId,includeHidden:Oa.includeHidden,name:void 0,reversed:Oa.reversed,scale:Oa.scale,tick:Oa.tick,tickCount:Oa.tickCount,ticks:void 0,type:Oa.type,unit:void 0},Tae=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},mS=ce([Tae,y3],(t,e)=>{var n;if(t!=null)return t;var r=(n=a0(e,"angleAxis",KR.type))!==null&&n!==void 0?n:"category";return Uv(Uv({},KR),{},{type:r})}),Cae=(t,e)=>t.polarAxis.radiusAxis[e],pS=ce([Cae,y3],(t,e)=>{var n;if(t!=null)return t;var r=(n=a0(e,"radiusAxis",WR.type))!==null&&n!==void 0?n:"category";return Uv(Uv({},WR),{},{type:r})}),s0=t=>t.polarOptions,gS=ce([Ks,Ws,Xn],Nne),I6=ce([s0,gS],(t,e)=>{if(t!=null)return ca(t.innerRadius,e,0)}),R6=ce([s0,gS],(t,e)=>{if(t!=null)return ca(t.outerRadius,e,e*.8)}),Oae=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},k6=ce([s0],Oae);ce([mS,k6],i0);var D6=ce([gS,I6,R6],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ce([pS,D6],i0);var M6=ce([Ot,s0,I6,R6,Ks,Ws],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:c,cy:d,startAngle:f,endAngle:h}=e;return{cx:ca(c,i,i/2),cy:ca(d,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),Jn=(t,e)=>e,o0=(t,e,n)=>n;function vS(t){return t?.id}function z6(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,c=new Map;return t.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=vS(d);h.forEach((g,y)=>{var x=s==null||i?y:String(Pn(g,s,null)),j=Pn(g,d.dataKey,0),E;c.has(x)?E=c.get(x):E={},Object.assign(E,{[p]:j}),c.set(x,E)})}}),Array.from(c.values())}function l0(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var c0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function u0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Pae(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var er=t=>{var e=Ot(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Nd=t=>t.tooltip.settings.axisId;function Iae(t){if(t in eh)return eh[t]();var e="scale".concat(rm(t));if(e in eh)return eh[e]()}function QR(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(s){function c(){return s.apply(this,arguments)}return c.toString=function(){return s.toString()},c})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(s){var c=i[0],d=i[1];return c<=d?s>=c&&s<=d:s>=d&&s<=c},bandwidth:n?()=>n.call(t):void 0,ticks:e?s=>e.call(t,s):void 0,map:(s,c)=>{var d=t(s);if(d!=null){if(t.bandwidth&&c!==null&&c!==void 0&&c.position){var f=t.bandwidth();switch(c.position){case"middle":d+=f/2;break;case"end":d+=f;break}}return d}}}}function YR(t,e,n){if(typeof t=="function")return QR(t.copy().domain(e).range(n));if(t!=null){var r=Iae(t);if(r!=null)return r.domain(e).range(n),QR(r)}}var Rae=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Vs(e)){for(var n,r,i=0;i<e.length;i++){var s=e[i];mt(s)&&((n===void 0||s<n)&&(n=s),(r===void 0||s>r)&&(r=s))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){kae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kae(t,e,n){return(e=Dae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dae(t){var e=Mae(t,"string");return typeof e=="symbol"?e:e+""}function Mae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bw=[0,"auto"],Gn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},L6=(t,e)=>t.cartesianAxis.xAxis[e],Xs=(t,e)=>{var n=L6(t,e);return n??Gn},Kn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Bw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:sm},U6=(t,e)=>t.cartesianAxis.yAxis[e],Zs=(t,e)=>{var n=U6(t,e);return n??Kn},zae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},yS=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??zae},Ir=(t,e,n)=>{switch(e){case"xAxis":return Xs(t,n);case"yAxis":return Zs(t,n);case"zAxis":return yS(t,n);case"angleAxis":return mS(t,n);case"radiusAxis":return pS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Lae=(t,e,n)=>{switch(e){case"xAxis":return Xs(t,n);case"yAxis":return Zs(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},hm=(t,e,n)=>{switch(e){case"xAxis":return Xs(t,n);case"yAxis":return Zs(t,n);case"angleAxis":return mS(t,n);case"radiusAxis":return pS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},V6=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function q6(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var d0=t=>t.graphicalItems.cartesianItems,Uae=ce([Jn,o0],q6),B6=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),mm=ce([d0,Ir,Uae],B6,{memoizeOptions:{resultEqualityCheck:u0}}),$6=ce([mm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(l0)),F6=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Vae=ce([mm],F6),H6=t=>t.map(e=>e.data).filter(Boolean).flat(1),qae=ce([mm],H6,{memoizeOptions:{resultEqualityCheck:u0}}),G6=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},bS=ce([qae,lS],G6),K6=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Pn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Pn(i,r)}))):t.map(r=>({value:r})),f0=ce([bS,Ir,mm],K6);function W6(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function kg(t){if(Ka(t)||t instanceof Date){var e=Number(t);if(mt(e))return e}}function ZR(t){if(Array.isArray(t)){var e=[kg(t[0]),kg(t[1])];return Vs(e)?e:void 0}var n=kg(t);if(n!=null)return[n,n]}function qs(t){return t.map(kg).filter(Kr)}function Bae(t,e,n){return!n||typeof e!="number"||Ga(e)?[]:n.length?qs(n.flatMap(r=>{var i=Pn(t,r.dataKey),s,c;if(Array.isArray(i)?[s,c]=i:s=c=i,!(!mt(s)||!mt(c)))return[e-s,e+c]})):[]}var qn=t=>{var e=er(t),n=Nd(t);return hm(t,e,n)},pm=ce([qn],t=>t?.dataKey),$ae=ce([$6,lS,qn],z6),Q6=(t,e,n,r)=>{var i={},s=e.reduce((c,d)=>{if(d.stackId==null)return c;var f=c[d.stackId];return f==null&&(f=[]),f.push(d),c[d.stackId]=f,c},i);return Object.fromEntries(Object.entries(s).map(c=>{var[d,f]=c,h=r?[...f].reverse():f,p=h.map(vS);return[d,{stackedData:vee(t,p,n),graphicalItems:h}]}))},$w=ce([$ae,$6,r0,O6],Q6),Y6=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var c=wee(t,i,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},Fae=ce([Ir],t=>t.allowDataOverflow),_S=t=>{var e;if(t==null||!("domain"in t))return Bw;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=qs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Bw},X6=ce([Ir],_S),Z6=ce([X6,Fae],v6),Hae=ce([$w,Ys,Jn,Z6],Y6,{memoizeOptions:{resultEqualityCheck:c0}}),xS=t=>t.errorBars,Gae=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>W6(n,r)),qv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),c=Math.min(...s),d=Math.max(...s);return[c,d]}},J6=(t,e,n,r,i)=>{var s,c;if(n.length>0&&t.forEach(d=>{n.forEach(f=>{var h,p,g=(h=r[f.id])===null||h===void 0?void 0:h.filter(T=>W6(i,T)),y=Pn(d,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),x=Bae(d,y,g);if(x.length>=2){var j=Math.min(...x),E=Math.max(...x);(s==null||j<s)&&(s=j),(c==null||E>c)&&(c=E)}var S=ZR(y);S!=null&&(s=s==null?S[0]:Math.min(s,S[0]),c=c==null?S[1]:Math.max(c,S[1]))})}),e?.dataKey!=null&&t.forEach(d=>{var f=ZR(Pn(d,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),mt(s)&&mt(c))return[s,c]},Kae=ce([bS,Ir,Vae,xS,Jn],J6,{memoizeOptions:{resultEqualityCheck:c0}});function Wae(t){var{value:e}=t;if(Ka(e)||e instanceof Date)return e}var Qae=(t,e,n)=>{var r=t.map(Wae).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&pL(r))?M3(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},e5=t=>t.referenceElements.dots,Ad=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Yae=ce([e5,Jn,o0],Ad),t5=t=>t.referenceElements.areas,Xae=ce([t5,Jn,o0],Ad),n5=t=>t.referenceElements.lines,Zae=ce([n5,Jn,o0],Ad),r5=(t,e)=>{if(t!=null){var n=qs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Jae=ce(Yae,Jn,r5),i5=(t,e)=>{if(t!=null){var n=qs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},ese=ce([Xae,Jn],i5);function tse(t){var e;if(t.x!=null)return qs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:qs(n)}function nse(t){var e;if(t.y!=null)return qs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:qs(n)}var a5=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?tse(r):nse(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},rse=ce([Zae,Jn],a5),ise=ce(Jae,rse,ese,(t,e,n)=>qv(t,n,e)),s5=(t,e,n,r,i,s,c,d)=>{if(n!=null)return n;var f=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",h=f?qv(r,s,i):qv(s,i);return gae(e,h,t.allowDataOverflow)},ase=ce([Ir,X6,Z6,Hae,Kae,ise,Ot,Jn],s5,{memoizeOptions:{resultEqualityCheck:c0}}),sse=[0,1],o5=(t,e,n,r,i,s,c)=>{if(!((t==null||n==null||n.length===0)&&c===void 0)){var{dataKey:d,type:f}=t,h=Gs(e,s);if(h&&d==null){var p;return M3(0,(p=n?.length)!==null&&p!==void 0?p:0)}return f==="category"?Qae(r,t,h):i==="expand"?sse:c}},wS=ce([Ir,Ot,bS,f0,r0,Jn,ase],o5);function ose(t){return t in eh}var l5=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var s="scale".concat(rm(r));return ose(s)?s:"point"}}},Td=ce([Ir,V6,dS],l5);function ES(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?YR(t.scale,n,r):YR(e,n,r)}var c5=(t,e,n)=>{var r=_S(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Vs(t))return xae(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Vs(t))return wae(t,e.tickCount,e.allowDecimals)}},jS=ce([wS,hm,Td],c5),u5=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Vs(e)&&Array.isArray(n)&&n.length>0){var i,s,c=e[0],d=(i=n[0])!==null&&i!==void 0?i:0,f=e[1],h=(s=n[n.length-1])!==null&&s!==void 0?s:0;return[Math.min(c,d),Math.max(f,h)]}return e},lse=ce([Ir,wS,jS,Jn],u5),cse=ce(f0,Ir,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(qs(t.map(g=>g.value))).sort((g,y)=>g-y),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var c=s-i;if(c===0)return 1/0;for(var d=0;d<r.length-1;d++){var f=r[d],h=r[d+1];if(!(f==null||h==null)){var p=h-f;n=Math.min(n,p)}}return n/c}}),d5=ce(cse,Ot,C6,Xn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!mt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var c=ca(n,t*s),d=t*s/2;return d-c-(d-c)/s*c}return 0}),use=(t,e,n)=>{var r=Xs(t,e);return r==null||typeof r.padding!="string"?0:d5(t,"xAxis",e,n,r.padding)},dse=(t,e,n)=>{var r=Zs(t,e);return r==null||typeof r.padding!="string"?0:d5(t,"yAxis",e,n,r.padding)},fse=ce(Xs,use,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),hse=ce(Zs,dse,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),mse=ce([Xn,fse,$y,By,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),pse=ce([Xn,Ot,hse,$y,By,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:c}=i;return s?[r.height-c.bottom,c.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),gm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return mse(t,n,r);case"yAxis":return pse(t,n,r);case"zAxis":return(i=yS(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return k6(t);case"radiusAxis":return D6(t,n);default:return}},f5=ce([Ir,gm],i0),gse=ce([Td,lse],Rae),h0=ce([Ir,Td,gse,f5],ES);ce([mm,xS,Jn],Gae);function h5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var m0=(t,e)=>e,p0=(t,e,n)=>n,vse=ce(Vy,m0,p0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(h5)),yse=ce(qy,m0,p0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(h5)),m5=(t,e)=>({width:t.width,height:e.height}),bse=(t,e)=>{var n=typeof e.width=="number"?e.width:sm;return{width:n,height:t.height}},p5=ce(Xn,Xs,m5),_se=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},xse=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},wse=ce(Ws,Xn,vse,m0,p0,(t,e,n,r,i)=>{var s={},c;return n.forEach(d=>{var f=m5(e,d);c==null&&(c=_se(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;s[d.id]=c-Number(h)*f.height,c+=(h?-1:1)*f.height}),s}),Ese=ce(Ks,Xn,yse,m0,p0,(t,e,n,r,i)=>{var s={},c;return n.forEach(d=>{var f=bse(e,d);c==null&&(c=xse(e,r,t));var h=r==="left"&&!i||r==="right"&&i;s[d.id]=c-Number(h)*f.width,c+=(h?-1:1)*f.width}),s}),jse=(t,e)=>{var n=Xs(t,e);if(n!=null)return wse(t,n.orientation,n.mirror)},Sse=ce([Xn,Xs,jse,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Nse=(t,e)=>{var n=Zs(t,e);if(n!=null)return Ese(t,n.orientation,n.mirror)},Ase=ce([Xn,Zs,Nse,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),g5=ce(Xn,Zs,(t,e)=>{var n=typeof e.width=="number"?e.width:sm;return{width:n,height:t.height}}),JR=(t,e,n)=>{switch(e){case"xAxis":return p5(t,n).width;case"yAxis":return g5(t,n).height;default:return}},v5=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:c}=n,d=Gs(t,r),f=e.map(h=>h.value);if(c&&d&&s==="category"&&i&&pL(f))return f}},SS=ce([Ot,f0,Ir,Jn],v5),y5=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,c=Gs(t,r);if(c&&(i==="number"||s!=="auto"))return e.map(d=>d.value)}},NS=ce([Ot,f0,hm,Jn],y5),ek=ce([Ot,Lae,Td,h0,SS,NS,gm,jS,Jn],(t,e,n,r,i,s,c,d,f)=>{if(e!=null){var h=Gs(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:d,range:c,realScaleType:n,scale:r}}}),Tse=(t,e,n,r,i,s,c,d,f)=>{if(!(e==null||r==null)){var h=Gs(t,f),{type:p,ticks:g,tickCount:y}=e,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,j=p==="category"&&r.bandwidth?r.bandwidth()/x:0;j=f==="angleAxis"&&s!=null&&s.length>=2?Gr(s[0]-s[1])*2*j:j;var E=g||i;return E?E.map((S,T)=>{var D=c?c.indexOf(S):S,R=r.map(D);return mt(R)?{index:T,coordinate:R+j,value:S,offset:j}:null}).filter(Kr):h&&d?d.map((S,T)=>{var D=r.map(S);return mt(D)?{coordinate:D+j,value:S,index:T,offset:j}:null}).filter(Kr):r.ticks?r.ticks(y).map((S,T)=>{var D=r.map(S);return mt(D)?{coordinate:D+j,value:S,index:T,offset:j}:null}).filter(Kr):r.domain().map((S,T)=>{var D=r.map(S);return mt(D)?{coordinate:D+j,value:c?c[S]:S,index:T,offset:j}:null}).filter(Kr)}},b5=ce([Ot,hm,Td,h0,jS,gm,SS,NS,Jn],Tse),Cse=(t,e,n,r,i,s,c)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var d=Gs(t,c),{tickCount:f}=e,h=0;return h=c==="angleAxis"&&r?.length>=2?Gr(r[0]-r[1])*2*h:h,d&&s?s.map((p,g)=>{var y=n.map(p);return mt(y)?{coordinate:y+h,value:p,index:g,offset:h}:null}).filter(Kr):n.ticks?n.ticks(f).map((p,g)=>{var y=n.map(p);return mt(y)?{coordinate:y+h,value:p,index:g,offset:h}:null}).filter(Kr):n.domain().map((p,g)=>{var y=n.map(p);return mt(y)?{coordinate:y+h,value:i?i[p]:p,index:g,offset:h}:null}).filter(Kr)}},cl=ce([Ot,hm,h0,gm,SS,NS,Jn],Cse),ul=ce(Ir,h0,(t,e)=>{if(!(t==null||e==null))return Vv(Vv({},t),{},{scale:e})}),Ose=ce([Ir,Td,wS,f5],ES);ce((t,e,n)=>yS(t,n),Ose,(t,e)=>{if(!(t==null||e==null))return Vv(Vv({},t),{},{scale:e})});var Pse=ce([Ot,Vy,qy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),_5=t=>t.options.defaultTooltipEventType,x5=t=>t.options.validateTooltipEventTypes;function w5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function AS(t,e){var n=_5(t),r=x5(t);return w5(e,n,r)}function Ise(t){return Me(e=>AS(e,t))}var E5=(t,e)=>{var n,r=Number(e);if(!(Ga(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Rse=t=>t.tooltip.settings,Fo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},kse={itemInteraction:{click:Fo,hover:Fo},axisInteraction:{click:Fo,hover:Fo},keyboardInteraction:Fo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},j5=Yr({name:"tooltip",initialState:kse,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Zt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ia(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Zt()},removeTooltipEntrySettings:{reducer(t,e){var n=ia(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Zt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:Dse,replaceTooltipEntrySettings:Mse,removeTooltipEntrySettings:zse,setTooltipSettingsState:Lse,setActiveMouseOverItemIndex:S5,mouseLeaveItem:Use,mouseLeaveChart:N5,setActiveClickItemIndex:Vse,setMouseOverAxisIndex:A5,setMouseClickAxisIndex:qse,setSyncInteraction:Fw,setKeyboardInteraction:Hw}=j5.actions,Bse=j5.reducer;function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){$se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $se(t,e,n){return(e=Fse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fse(t){var e=Hse(t,"string");return typeof e=="symbol"?e:e+""}function Hse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gse(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Kse(t){return t.index!=null}var T5=(t,e,n,r)=>{if(e==null)return Fo;var i=Gse(t,e,n);if(i==null)return Fo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Kse(i)){if(s)return mg(mg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return mg(mg({},Fo),{},{coordinate:i.coordinate})};function Wse(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Qse(t,e){var n=Wse(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),c=Math.max(r,i);return n>=s&&n<=c}function Yse(t,e,n){if(n==null||e==null)return!0;var r=Pn(t,e);return r==null||!Vs(n)?!0:Qse(r,n)}var TS=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!mt(s))return i;var c=0,d=1/0;e.length>0&&(d=e.length-1);var f=Math.max(c,Math.min(s,d)),h=e[f];return h==null||Yse(h,n,r)?String(f):null},C5=(t,e,n,r,i,s,c)=>{if(s!=null){var d=c[0],f=d?.getPosition(s);if(f!=null)return f;var h=i?.[Number(s)];if(h)return n==="horizontal"?{x:h.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:h.coordinate}}},O5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(c=>{var d;return((d=c.settings)===null||d===void 0?void 0:d.graphicalItemId)===i})},P5=t=>t.options.tooltipPayloadSearcher,Cd=t=>t.tooltip;function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){Xse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xse(t,e,n){return(e=Zse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zse(t){var e=Jse(t,"string");return typeof e=="symbol"?e:e+""}function Jse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eoe(t,e){return t??e}var I5=(t,e,n,r,i,s,c)=>{if(!(e==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((y,x)=>{var j,{dataDefinedOnItem:E,settings:S}=x,T=eoe(E,d),D=Array.isArray(T)?o3(T,h,p):T,R=(j=S?.dataKey)!==null&&j!==void 0?j:r,P=S?.nameKey,$;if(r&&Array.isArray(D)&&!Array.isArray(D[0])&&c==="axis"?$=gL(D,r,i):$=s(D,e,f,P),Array.isArray($))$.forEach(I=>{var O=rk(rk({},S),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});y.push(nI({tooltipEntrySettings:O,dataKey:I.dataKey,payload:I.payload,value:Pn(I.payload,I.dataKey),name:I.name}))});else{var B;y.push(nI({tooltipEntrySettings:S,dataKey:R,payload:$,value:Pn($,R),name:(B=Pn($,P))!==null&&B!==void 0?B:S?.name}))}return y},g)}},CS=ce([qn,V6,dS],l5),toe=ce([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),noe=ce([er,Nd],q6),Od=ce([toe,qn,noe],B6,{memoizeOptions:{resultEqualityCheck:u0}}),roe=ce([Od],t=>t.filter(l0)),ioe=ce([Od],H6,{memoizeOptions:{resultEqualityCheck:u0}}),Pd=ce([ioe,Ys],G6),aoe=ce([roe,Ys,qn],z6),OS=ce([Pd,qn,Od],K6),R5=ce([qn],_S),soe=ce([qn],t=>t.allowDataOverflow),k5=ce([R5,soe],v6),ooe=ce([Od],t=>t.filter(l0)),loe=ce([aoe,ooe,r0,O6],Q6),coe=ce([loe,Ys,er,k5],Y6),uoe=ce([Od],F6),doe=ce([Pd,qn,uoe,xS,er],J6,{memoizeOptions:{resultEqualityCheck:c0}}),foe=ce([e5,er,Nd],Ad),hoe=ce([foe,er],r5),moe=ce([t5,er,Nd],Ad),poe=ce([moe,er],i5),goe=ce([n5,er,Nd],Ad),voe=ce([goe,er],a5),yoe=ce([hoe,voe,poe],qv),boe=ce([qn,R5,k5,coe,doe,yoe,Ot,er],s5),vm=ce([qn,Ot,Pd,OS,r0,er,boe],o5),_oe=ce([vm,qn,CS],c5),xoe=ce([qn,vm,_oe,er],u5),D5=t=>{var e=er(t),n=Nd(t),r=!1;return gm(t,e,n,r)},M5=ce([qn,D5],i0),z5=ce([qn,CS,xoe,M5],ES),woe=ce([Ot,OS,qn,er],v5),Eoe=ce([Ot,OS,qn,er],y5),joe=(t,e,n,r,i,s,c,d)=>{if(e){var{type:f}=e,h=Gs(t,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=d==="angleAxis"&&i!=null&&i?.length>=2?Gr(i[0]-i[1])*2*g:g,h&&c?c.map((y,x)=>{var j=r.map(y);return mt(j)?{coordinate:j+g,value:y,index:x,offset:g}:null}).filter(Kr):r.domain().map((y,x)=>{var j=r.map(y);return mt(j)?{coordinate:j+g,value:s?s[y]:y,index:x,offset:g}:null}).filter(Kr)}}},Js=ce([Ot,qn,CS,z5,D5,woe,Eoe,er],joe),PS=ce([_5,x5,Rse],(t,e,n)=>w5(n.shared,t,e)),L5=t=>t.tooltip.settings.trigger,IS=t=>t.tooltip.settings.defaultIndex,ym=ce([Cd,PS,L5,IS],T5),Ac=ce([ym,Pd,pm,vm],TS),U5=ce([Js,Ac],E5),V5=ce([ym],t=>{if(t)return t.dataKey});ce([ym],t=>{if(t)return t.graphicalItemId});var q5=ce([Cd,PS,L5,IS],O5),Soe=ce([Ks,Ws,Ot,Xn,Js,IS,q5],C5),Noe=ce([ym,Soe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Aoe=ce([ym],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),Toe=ce([q5,Ac,Ys,pm,U5,P5,PS],I5),Coe=ce([Toe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ak(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(n),!0).forEach(function(r){Ooe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ooe(t,e,n){return(e=Poe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Poe(t){var e=Ioe(t,"string");return typeof e=="symbol"?e:e+""}function Ioe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Roe=()=>Me(qn),koe=()=>{var t=Roe(),e=Me(Js),n=Me(z5);return cd(!t||!n?void 0:ak(ak({},t),{},{scale:n}),e)};function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(r){Doe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Doe(t,e,n){return(e=Moe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Moe(t){var e=zoe(t,"string");return typeof e=="symbol"?e:e+""}function zoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Loe=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Uoe=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:c}=r;return Iu(Iu(Iu({},r),ur(r.cx,r.cy,c,s)),{},{angle:s,radius:c})}var d=i.coordinate,{angle:f}=r;return Iu(Iu(Iu({},r),ur(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Voe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var B5=(t,e,n,r,i)=>{var s,c=(s=e?.length)!==null&&s!==void 0?s:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<c;d++){var f,h,p,g,y,x=d>0?(f=n[d-1])===null||f===void 0?void 0:f.coordinate:(h=n[c-1])===null||h===void 0?void 0:h.coordinate,j=(p=n[d])===null||p===void 0?void 0:p.coordinate,E=d>=c-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(y=n[d+1])===null||y===void 0?void 0:y.coordinate,S=void 0;if(!(x==null||j==null||E==null))if(Gr(j-x)!==Gr(E-j)){var T=[];if(Gr(E-j)===Gr(i[1]-i[0])){S=E;var D=j+i[1]-i[0];T[0]=Math.min(D,(D+x)/2),T[1]=Math.max(D,(D+x)/2)}else{S=x;var R=E+i[1]-i[0];T[0]=Math.min(j,(R+j)/2),T[1]=Math.max(j,(R+j)/2)}var P=[Math.min(j,(S+j)/2),Math.max(j,(S+j)/2)];if(t>P[0]&&t<=P[1]||t>=T[0]&&t<=T[1]){var $;return($=n[d])===null||$===void 0?void 0:$.index}}else{var B=Math.min(x,E),I=Math.max(x,E);if(t>(B+j)/2&&t<=(I+j)/2){var O;return(O=n[d])===null||O===void 0?void 0:O.index}}}else if(e)for(var k=0;k<c;k++){var V=e[k];if(V!=null){var U=e[k+1],z=e[k-1];if(k===0&&U!=null&&t<=(V.coordinate+U.coordinate)/2||k===c-1&&z!=null&&t>(V.coordinate+z.coordinate)/2||k>0&&k<c-1&&z!=null&&U!=null&&t>(V.coordinate+z.coordinate)/2&&t<=(V.coordinate+U.coordinate)/2)return V.index}}return-1},qoe=()=>Me(dS),RS=(t,e)=>e,$5=(t,e,n)=>n,kS=(t,e,n,r)=>r,Boe=ce(Js,t=>Cy(t,e=>e.coordinate)),DS=ce([Cd,RS,$5,kS],T5),MS=ce([DS,Pd,pm,vm],TS),$oe=(t,e,n)=>{if(e!=null){var r=Cd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},F5=ce([Cd,RS,$5,kS],O5),Bv=ce([Ks,Ws,Ot,Xn,Js,kS,F5],C5),Foe=ce([DS,Bv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),H5=ce([Js,MS],E5),Hoe=ce([F5,MS,Ys,pm,H5,P5,RS],I5),Goe=ce([DS,MS],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Koe=(t,e,n,r,i,s,c)=>{if(!(!t||!n||!r||!i)&&Voe(t,c)){var d=Eee(t,e),f=B5(d,s,i,n,r),h=Loe(e,i,f,t);return{activeIndex:String(f),activeCoordinate:h}}},Woe=(t,e,n,r,i,s,c)=>{if(!(!t||!r||!i||!s||!n)){var d=Pne(t,n);if(d){var f=jee(d,e),h=B5(f,c,s,r,i),p=Uoe(e,s,h,d);return{activeIndex:String(h),activeCoordinate:p}}}},Qoe=(t,e,n,r,i,s,c,d)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?Koe(t,e,r,i,s,c,d):Woe(t,e,n,r,i,s,c)},Yoe=ce(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Xoe=ce(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Yn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Pae}});function ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(n),!0).forEach(function(r){Zoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zoe(t,e,n){return(e=Joe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Joe(t){var e=ele(t,"string");return typeof e=="symbol"?e:e+""}function ele(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tle={},nle={zIndexMap:Object.values(Yn).reduce((t,e)=>lk(lk({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),tle)},rle=new Set(Object.values(Yn));function ile(t){return rle.has(t)}var G5=Yr({name:"zIndex",initialState:nle,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Zt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!ile(n)&&delete t.zIndexMap[n])},prepare:Zt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Zt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Zt()}}}),{registerZIndexPortal:ale,unregisterZIndexPortal:sle,registerZIndexPortalElement:ole,unregisterZIndexPortalElement:lle}=G5.actions,cle=G5.reducer;function Vi(t){var{zIndex:e,children:n}=t,r=nte(),i=r&&e!==void 0&&e!==0,s=wr(),c=_n();w.useLayoutEffect(()=>i?(c(ale({zIndex:e})),()=>{c(sle({zIndex:e}))}):kc,[c,e,i]);var d=Me(f=>Yoe(f,e,s));return i?d?ID.createPortal(n,d):null:n}function Gw(){return Gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gw.apply(null,arguments)}function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(r){ule(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ule(t,e,n){return(e=dle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dle(t){var e=fle(t,"string");return typeof e=="symbol"?e:e+""}function fle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hle(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return w.isValidElement(e)?w.cloneElement(e,r):w.createElement(n,r)}function mle(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:c,layout:d,cursor:f,tooltipEventType:h,chartName:p}=t,g=n,y=r,x=i;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var j,E,S;if(p==="ScatterChart")j=g,E=Fte,S=Yn.cursorLine;else if(p==="BarChart")j=Hte(d,g,s,c),E=I3,S=Yn.cursorRectangle;else if(d==="radial"&&bL(g)){var{cx:T,cy:D,radius:R,startAngle:P,endAngle:$}=R3(g);j={cx:T,cy:D,startAngle:P,endAngle:$,innerRadius:R,outerRadius:R},E=D3,S=Yn.cursorLine}else j={points:Dne(d,g,s)},E=A3,S=Yn.cursorLine;var B=typeof f=="object"&&"className"in f?f.className:void 0,I=pg(pg(pg(pg({stroke:"#ccc",pointerEvents:"none"},s),j),nm(f)),{},{payload:y,payloadIndex:x,className:Lt("recharts-tooltip-cursor",B)});return w.createElement(Vi,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},w.createElement(hle,{cursor:f,cursorComp:E,cursorProps:I}))}function ple(t){var e=koe(),n=m3(),r=Dc(),i=qoe();return e==null||n==null||r==null||i==null?null:w.createElement(mle,Gw({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var K5=w.createContext(null),gle=()=>w.useContext(K5),s1={exports:{}},uk;function vle(){return uk||(uk=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,g||f,y),j=n?n+h:h;return f._events[j]?f._events[j].fn?f._events[j]=[f._events[j],x]:f._events[j].push(x):(f._events[j]=x,f._eventsCount++),f}function c(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,x=g.length,j=new Array(x);y<x;y++)j[y]=g[y].fn;return j},d.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,y,x,j){var E=n?n+h:h;if(!this._events[E])return!1;var S=this._events[E],T=arguments.length,D,R;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),T){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,g),!0;case 4:return S.fn.call(S.context,p,g,y),!0;case 5:return S.fn.call(S.context,p,g,y,x),!0;case 6:return S.fn.call(S.context,p,g,y,x,j),!0}for(R=1,D=new Array(T-1);R<T;R++)D[R-1]=arguments[R];S.fn.apply(S.context,D)}else{var P=S.length,$;for(R=0;R<P;R++)switch(S[R].once&&this.removeListener(h,S[R].fn,void 0,!0),T){case 1:S[R].fn.call(S[R].context);break;case 2:S[R].fn.call(S[R].context,p);break;case 3:S[R].fn.call(S[R].context,p,g);break;case 4:S[R].fn.call(S[R].context,p,g,y);break;default:if(!D)for($=1,D=new Array(T-1);$<T;$++)D[$-1]=arguments[$];S[R].fn.apply(S[R].context,D)}}return!0},d.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,y){var x=n?n+h:h;if(!this._events[x])return this;if(!p)return c(this,x),this;var j=this._events[x];if(j.fn)j.fn===p&&(!y||j.once)&&(!g||j.context===g)&&c(this,x);else{for(var E=0,S=[],T=j.length;E<T;E++)(j[E].fn!==p||y&&!j[E].once||g&&j[E].context!==g)&&S.push(j[E]);S.length?this._events[x]=S.length===1?S[0]:S:c(this,x)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d})(s1)),s1.exports}var yle=vle();const ble=Ya(yle);var Lh=new ble,Kw="recharts.syncEvent.tooltip",dk="recharts.syncEvent.brush",W5=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Ga(n))return t[n]}},_le={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},Q5=Yr({name:"options",initialState:_le,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),xle=Q5.reducer,{createEventEmitter:wle}=Q5.actions;function Ele(t){return t.tooltip.syncInteraction}var jle={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Y5=Yr({name:"chartData",initialState:jle,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:fk,setDataStartEndIndexes:Sle,setComputedData:kge}=Y5.actions,Nle=Y5.reducer,Ale=["x","y"];function hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ru(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(n),!0).forEach(function(r){Tle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tle(t,e,n){return(e=Cle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cle(t){var e=Ole(t,"string");return typeof e=="symbol"?e:e+""}function Ole(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ple(t,e){if(t==null)return{};var n,r,i=Ile(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ile(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Rle(){var t=Me(fS),e=Me(hS),n=_n(),r=Me(P6),i=Me(Js),s=Dc(),c=Fy(),d=Me(f=>f.rootProps.className);w.useEffect(()=>{if(t==null)return kc;var f=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var y;if(c&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate&&p.payload.sourceViewBox){var x=p.payload.coordinate,{x:j,y:E}=x,S=Ple(x,Ale),{x:T,y:D,width:R,height:P}=p.payload.sourceViewBox,$=Ru(Ru({},S),{},{x:c.x+(R?(j-T)/R:0)*c.width,y:c.y+(P?(E-D)/P:0)*c.height});n(Ru(Ru({},p),{},{payload:Ru(Ru({},p.payload),{},{coordinate:$})}))}else n(p);return}if(i!=null){var B;if(typeof r=="function"){var I={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},O=r(i,I);B=i[O]}else r==="value"&&(B=i.find(H=>String(H.value)===p.payload.label));var{coordinate:k}=p.payload;if(B==null||p.payload.active===!1||k==null||c==null){n(Fw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:V,y:U}=k,z=Math.min(V,c.x+c.width),M=Math.min(U,c.y+c.height),W={x:s==="horizontal"?B.coordinate:z,y:s==="horizontal"?M:B.coordinate},Q=Fw({active:p.payload.active,coordinate:W,dataKey:p.payload.dataKey,index:String(B.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(Q)}}};return Lh.on(Kw,f),()=>{Lh.off(Kw,f)}},[d,n,e,t,r,i,s,c])}function kle(){var t=Me(fS),e=Me(hS),n=_n();w.useEffect(()=>{if(t==null)return kc;var r=(i,s,c)=>{e!==c&&t===i&&n(Sle(s))};return Lh.on(dk,r),()=>{Lh.off(dk,r)}},[n,e,t])}function Dle(){var t=_n();w.useEffect(()=>{t(wle())},[t]),Rle(),kle()}function Mle(t,e,n,r,i,s){var c=Me(x=>$oe(x,t,e)),d=Me(hS),f=Me(fS),h=Me(P6),p=Me(Ele),g=p?.active,y=Fy();w.useEffect(()=>{if(!g&&f!=null&&d!=null){var x=Fw({active:s,coordinate:n,dataKey:c,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});Lh.emit(Kw,f,x,d)}},[g,n,c,i,r,d,f,h,s,y])}function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(r){zle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zle(t,e,n){return(e=Lle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lle(t){var e=Ule(t,"string");return typeof e=="symbol"?e:e+""}function Ule(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vle(t){return t.dataKey}function qle(t,e){return w.isValidElement(t)?w.cloneElement(t,e):typeof t=="function"?w.createElement(t,e):w.createElement(Ete,e)}var gk=[],Ble={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function vk(t){var e,n,r=Pr(t,Ble),{active:i,allowEscapeViewBox:s,animationDuration:c,animationEasing:d,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:y,position:x,reverseDirection:j,useTranslate3d:E,wrapperStyle:S,cursor:T,shared:D,trigger:R,defaultIndex:P,portal:$,axisId:B}=r,I=_n(),O=typeof P=="number"?String(P):P;w.useEffect(()=>{I(Lse({shared:D,trigger:R,axisId:B,active:i,defaultIndex:O}))},[I,D,R,B,i,O]);var k=Fy(),V=N3(),U=Ise(D),{activeIndex:z,isActive:M}=(e=Me(xe=>Goe(xe,U,R,O)))!==null&&e!==void 0?e:{},W=Me(xe=>Hoe(xe,U,R,O)),Q=Me(xe=>H5(xe,U,R,O)),H=Me(xe=>Foe(xe,U,R,O)),oe=W,be=gle(),Ee=(n=i??M)!==null&&n!==void 0?n:!1,[X,F]=lJ([oe,Ee]),ne=U==="axis"?Q:void 0;Mle(U,R,H,ne,z,Ee);var ge=$??be;if(ge==null||k==null||U==null)return null;var we=oe??gk;Ee||(we=gk),h&&we.length&&(we=kZ(we.filter(xe=>xe.value!=null&&(xe.hide!==!0||r.includeHidden)),y,Vle));var J=we.length>0,Y=w.createElement(Ote,{allowEscapeViewBox:s,animationDuration:c,animationEasing:d,isAnimationActive:p,active:Ee,coordinate:H,hasPayload:J,offset:g,position:x,reverseDirection:j,useTranslate3d:E,viewBox:k,wrapperStyle:S,lastBoundingBox:X,innerRef:F,hasPortalFromProps:!!$},qle(f,pk(pk({},r),{},{payload:we,label:ne,active:Ee,activeIndex:z,coordinate:H,accessibilityLayer:V})));return w.createElement(w.Fragment,null,ID.createPortal(Y,ge),Ee&&w.createElement(ple,{cursor:T,tooltipEventType:U,coordinate:H,payload:we,index:z}))}var zS=t=>null;zS.displayName="Cell";function $le(t,e,n){return(e=Fle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fle(t){var e=Hle(t,"string");return typeof e=="symbol"?e:e+""}function Hle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Gle{constructor(e){$le(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kle(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){Wle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wle(t,e,n){return(e=Qle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qle(t){var e=Yle(t,"string");return typeof e=="symbol"?e:e+""}function Yle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xle={cacheSize:2e3,enableCache:!0},X5=Kle({},Xle),bk=new Gle(X5.cacheSize),Zle={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_k="recharts_measurement_span";function Jle(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",c=e.letterSpacing||"",d=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(c,"|").concat(d)}var xk=(t,e)=>{try{var n=document.getElementById(_k);n||(n=document.createElement("span"),n.setAttribute("id",_k),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Zle,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},uh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Wy.isSsr)return{width:0,height:0};if(!X5.enableCache)return xk(e,n);var r=Jle(e,n),i=bk.get(r);if(i)return i;var s=xk(e,n);return bk.set(r,s),s},Z5;function ece(t,e,n){return(e=tce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tce(t){var e=nce(t,"string");return typeof e=="symbol"?e:e+""}function nce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ek=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ice=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ace={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sce=["cm","mm","pt","pc","in","Q","px"];function oce(t){return sce.includes(t)}var Bu="NaN";function lce(t,e){return t*ace[e]}class or{static parse(e){var n,[,r,i]=(n=ice.exec(e))!==null&&n!==void 0?n:[];return r==null?or.NaN:new or(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ga(e)&&(this.unit=""),n!==""&&!rce.test(n)&&(this.num=NaN,this.unit=""),oce(n)&&(this.num=lce(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new or(NaN,""):new or(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new or(NaN,""):new or(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new or(NaN,""):new or(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new or(NaN,""):new or(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ga(this.num)}}Z5=or;ece(or,"NaN",new Z5(NaN,""));function J5(t){if(t==null||t.includes(Bu))return Bu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=wk.exec(e))!==null&&n!==void 0?n:[],c=or.parse(r??""),d=or.parse(s??""),f=i==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return Bu;e=e.replace(wk,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,y]=(h=Ek.exec(e))!==null&&h!==void 0?h:[],x=or.parse(p??""),j=or.parse(y??""),E=g==="+"?x.add(j):x.subtract(j);if(E.isNaN())return Bu;e=e.replace(Ek,E.toString())}return e}var jk=/\(([^()]*)\)/;function cce(t){for(var e=t,n;(n=jk.exec(e))!=null;){var[,r]=n;e=e.replace(jk,J5(r))}return e}function uce(t){var e=t.replace(/\s+/g,"");return e=cce(e),e=J5(e),e}function dce(t){try{return uce(t)}catch{return Bu}}function o1(t){var e=dce(t.slice(5,-1));return e===Bu?"":e}var fce=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],hce=["dx","dy","angle","className","breakAll"];function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ww.apply(null,arguments)}function Sk(t,e){if(t==null)return{};var n,r,i=mce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var eU=/[ \f\n\r\t\v\u2028\u2029]+/,tU=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];nn(e)||(n?i=e.toString().split(""):i=e.toString().split(eU));var s=i.map(d=>({word:d,width:uh(d,r).width})),c=n?0:uh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function pce(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var nU=(t,e,n,r)=>t.reduce((i,s)=>{var{word:c,width:d}=s,f=i[i.length-1];if(f&&d!=null&&(e==null||r||f.width+d+n<Number(e)))f.words.push(c),f.width+=d+n;else{var h={words:[c],width:d};i.push(h)}return i},[]),rU=t=>t.reduce((e,n)=>e.width>n.width?e:n),gce="",Nk=(t,e,n,r,i,s,c,d)=>{var f=t.slice(0,e),h=tU({breakAll:n,style:r,children:f+gce});if(!h)return[!1,[]];var p=nU(h.wordsWithComputedWidth,s,c,d),g=p.length>i||rU(p).width>Number(s);return[g,p]},vce=(t,e,n,r,i)=>{var{maxLines:s,children:c,style:d,breakAll:f}=t,h=Pe(s),p=String(c),g=nU(e,r,n,i);if(!h||i)return g;var y=g.length>s||rU(g).width>Number(r);if(!y)return g;for(var x=0,j=p.length-1,E=0,S;x<=j&&E<=p.length-1;){var T=Math.floor((x+j)/2),D=T-1,[R,P]=Nk(p,D,f,d,s,r,n,i),[$]=Nk(p,T,f,d,s,r,n,i);if(!R&&!$&&(x=T+1),R&&$&&(j=T-1),!R&&$){S=P;break}E++}return S||g},Ak=t=>{var e=nn(t)?[]:t.toString().split(eU);return[{words:e,width:void 0}]},yce=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:c}=t;if((e||n)&&!Wy.isSsr){var d,f,h=tU({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return Ak(r);return vce({breakAll:s,children:r,maxLines:c,style:i},d,f,e,!!n)}return Ak(r)},iU="#808080",bce={angle:0,breakAll:!1,capHeight:"0.71em",fill:iU,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},LS=w.forwardRef((t,e)=>{var n=Pr(t,bce),{x:r,y:i,lineHeight:s,capHeight:c,fill:d,scaleToFit:f,textAnchor:h,verticalAnchor:p}=n,g=Sk(n,fce),y=w.useMemo(()=>yce({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:x,dy:j,angle:E,className:S,breakAll:T}=g,D=Sk(g,hce);if(!Ka(r)||!Ka(i)||y.length===0)return null;var R=Number(r)+(Pe(x)?x:0),P=Number(i)+(Pe(j)?j:0);if(!mt(R)||!mt(P))return null;var $;switch(p){case"start":$=o1("calc(".concat(c,")"));break;case"middle":$=o1("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:$=o1("calc(".concat(y.length-1," * -").concat(s,")"));break}var B=[],I=y[0];if(f&&I!=null){var O=I.width,{width:k}=g;B.push("scale(".concat(Pe(k)&&Pe(O)?k/O:1,")"))}return E&&B.push("rotate(".concat(E,", ").concat(R,", ").concat(P,")")),B.length&&(D.transform=B.join(" ")),w.createElement("text",Ww({},Cr(D),{ref:e,x:R,y:P,className:Lt("recharts-text",S),textAnchor:h,fill:d.includes("url")?iU:d}),y.map((V,U)=>{var z=V.words.join(T?"":" ");return w.createElement("tspan",{x:R,dy:U===0?$:s,key:"".concat(z,"-").concat(U)},z)}))});LS.displayName="Text";function Tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(n),!0).forEach(function(r){_ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ce(t,e,n){return(e=xce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xce(t){var e=wce(t,"string");return typeof e=="symbol"?e:e+""}function wce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ece=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:s,y:c,height:d,upperWidth:f,lowerWidth:h}=Mj(e),p=s,g=s+(f-h)/2,y=(p+g)/2,x=(f+h)/2,j=p+f/2,E=d>=0?1:-1,S=E*r,T=E>0?"end":"start",D=E>0?"start":"end",R=f>=0?1:-1,P=R*r,$=R>0?"end":"start",B=R>0?"start":"end",I=i;if(n==="top"){var O={x:p+f/2,y:c-S,horizontalAnchor:"middle",verticalAnchor:T};return I&&(O.height=Math.max(c-I.y,0),O.width=f),O}if(n==="bottom"){var k={x:g+h/2,y:c+d+S,horizontalAnchor:"middle",verticalAnchor:D};return I&&(k.height=Math.max(I.y+I.height-(c+d),0),k.width=h),k}if(n==="left"){var V={x:y-P,y:c+d/2,horizontalAnchor:$,verticalAnchor:"middle"};return I&&(V.width=Math.max(V.x-I.x,0),V.height=d),V}if(n==="right"){var U={x:y+x+P,y:c+d/2,horizontalAnchor:B,verticalAnchor:"middle"};return I&&(U.width=Math.max(I.x+I.width-U.x,0),U.height=d),U}var z=I?{width:x,height:d}:{};return n==="insideLeft"?Pa({x:y+P,y:c+d/2,horizontalAnchor:B,verticalAnchor:"middle"},z):n==="insideRight"?Pa({x:y+x-P,y:c+d/2,horizontalAnchor:$,verticalAnchor:"middle"},z):n==="insideTop"?Pa({x:p+f/2,y:c+S,horizontalAnchor:"middle",verticalAnchor:D},z):n==="insideBottom"?Pa({x:g+h/2,y:c+d-S,horizontalAnchor:"middle",verticalAnchor:T},z):n==="insideTopLeft"?Pa({x:p+P,y:c+S,horizontalAnchor:B,verticalAnchor:D},z):n==="insideTopRight"?Pa({x:p+f-P,y:c+S,horizontalAnchor:$,verticalAnchor:D},z):n==="insideBottomLeft"?Pa({x:g+P,y:c+d-S,horizontalAnchor:B,verticalAnchor:T},z):n==="insideBottomRight"?Pa({x:g+h-P,y:c+d-S,horizontalAnchor:$,verticalAnchor:T},z):n&&typeof n=="object"&&(Pe(n.x)||wc(n.x))&&(Pe(n.y)||wc(n.y))?Pa({x:s+ca(n.x,x),y:c+ca(n.y,d),horizontalAnchor:"end",verticalAnchor:"end"},z):Pa({x:j,y:c+d/2,horizontalAnchor:"middle",verticalAnchor:"middle"},z)},jce=["labelRef"],Sce=["content"];function Ck(t,e){if(t==null)return{};var n,r,i=Nce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function th(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(n),!0).forEach(function(r){Ace(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ace(t,e,n){return(e=Tce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tce(t){var e=Cce(t,"string");return typeof e=="symbol"?e:e+""}function Cce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ws(){return ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ws.apply(null,arguments)}var aU=w.createContext(null),Oce=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:c,children:d}=t,f=w.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:c}),[e,n,r,i,s,c]);return w.createElement(aU.Provider,{value:f},d)},sU=()=>{var t=w.useContext(aU),e=Fy();return t||(e?Mj(e):void 0)},Pce=w.createContext(null),Ice=()=>{var t=w.useContext(Pce),e=Me(M6);return t||e},Rce=t=>{var{value:e,formatter:n}=t,r=nn(t.children)?e:t.children;return typeof n=="function"?n(r):r},US=t=>t!=null&&typeof t=="function",kce=(t,e)=>{var n=Gr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Dce=(t,e,n,r,i)=>{var{offset:s,className:c}=t,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:y,clockWise:x}=i,j=(h+p)/2,E=kce(g,y),S=E>=0?1:-1,T,D;switch(e){case"insideStart":T=g+S*s,D=x;break;case"insideEnd":T=y-S*s,D=!x;break;case"end":T=y+S*s,D=x;break;default:throw new Error("Unsupported position ".concat(e))}D=E<=0?D:!D;var R=ur(d,f,j,T),P=ur(d,f,j,T+(D?1:-1)*359),$="M".concat(R.x,",").concat(R.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(D?0:1,`,
    `).concat(P.x,",").concat(P.y),B=nn(t.id)?Sh("recharts-radial-line-"):t.id;return w.createElement("text",ws({},r,{dominantBaseline:"central",className:Lt("recharts-radial-bar-label",c)}),w.createElement("defs",null,w.createElement("path",{id:B,d:$})),w.createElement("textPath",{xlinkHref:"#".concat(B)},n))},Mce=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:c,startAngle:d,endAngle:f}=t,h=(d+f)/2;if(n==="outside"){var{x:p,y:g}=ur(r,i,c+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(s+c)/2,{x,y:j}=ur(r,i,y,h);return{x,y:j,textAnchor:"middle",verticalAnchor:"middle"}},Dg=t=>t!=null&&"cx"in t&&Pe(t.cx),zce={angle:0,offset:5,zIndex:Yn.label,position:"middle",textBreakAll:!1};function Lce(t){if(!Dg(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Lo(t){var e=Pr(t,zce),{viewBox:n,parentViewBox:r,position:i,value:s,children:c,content:d,className:f="",textBreakAll:h,labelRef:p}=e,g=Ice(),y=sU(),x=i==="center"?y:g??y,j,E,S;n==null?j=x:Dg(n)?j=n:j=Mj(n);var T=Lce(j);if(!j||nn(s)&&nn(c)&&!w.isValidElement(d)&&typeof d!="function")return null;var D=th(th({},e),{},{viewBox:j});if(w.isValidElement(d)){var{labelRef:R}=D,P=Ck(D,jce);return w.cloneElement(d,P)}if(typeof d=="function"){var{content:$}=D,B=Ck(D,Sce);if(E=w.createElement(d,B),w.isValidElement(E))return E}else E=Rce(e);var I=Cr(e);if(Dg(j)){if(i==="insideStart"||i==="insideEnd"||i==="end")return Dce(e,i,E,I,j);S=Mce(j,e.offset,e.position)}else{if(!T)return null;var O=Ece({viewBox:T,position:i,offset:e.offset,parentViewBox:Dg(r)?void 0:r});S=th(th({x:O.x,y:O.y,textAnchor:O.horizontalAnchor,verticalAnchor:O.verticalAnchor},O.width!==void 0?{width:O.width}:{}),O.height!==void 0?{height:O.height}:{})}return w.createElement(Vi,{zIndex:e.zIndex},w.createElement(LS,ws({ref:p,className:Lt("recharts-label",f)},I,S,{textAnchor:pce(I.textAnchor)?I.textAnchor:S.textAnchor,breakAll:h}),E))}Lo.displayName="Label";var Uce=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?w.createElement(Lo,ws({key:"label-implicit"},r)):Ka(t)?w.createElement(Lo,ws({key:"label-implicit",value:t},r)):w.isValidElement(t)?t.type===Lo?w.cloneElement(t,th({key:"label-implicit"},r)):w.createElement(Lo,ws({key:"label-implicit",content:t},r)):US(t)?w.createElement(Lo,ws({key:"label-implicit",content:t},r)):t&&typeof t=="object"?w.createElement(Lo,ws({},t,{key:"label-implicit"},r)):null};function Vce(t){var{label:e,labelRef:n}=t,r=sU();return Uce(e,r,n)||null}var l1={},c1={},Pk;function qce(){return Pk||(Pk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(c1)),c1}var u1={},Ik;function Bce(){return Ik||(Ik=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(u1)),u1}var Rk;function $ce(){return Rk||(Rk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qce(),n=Bce(),r=Sj();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(l1)),l1}var d1,kk;function Fce(){return kk||(kk=1,d1=$ce().last),d1}var Hce=Fce();const Gce=Ya(Hce);var Kce=["valueAccessor"],Wce=["dataKey","clockWise","id","textBreakAll","zIndex"];function $v(){return $v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$v.apply(null,arguments)}function Dk(t,e){if(t==null)return{};var n,r,i=Qce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Yce=t=>Array.isArray(t.value)?Gce(t.value):t.value,oU=w.createContext(void 0),lU=oU.Provider,cU=w.createContext(void 0);cU.Provider;function Xce(){return w.useContext(oU)}function Zce(){return w.useContext(cU)}function Mg(t){var{valueAccessor:e=Yce}=t,n=Dk(t,Kce),{dataKey:r,clockWise:i,id:s,textBreakAll:c,zIndex:d}=n,f=Dk(n,Wce),h=Xce(),p=Zce(),g=h||p;return!g||!g.length?null:w.createElement(Vi,{zIndex:d??Yn.label},w.createElement(Mi,{className:"recharts-label-list"},g.map((y,x)=>{var j,E=nn(r)?e(y,x):Pn(y.payload,r),S=nn(s)?{}:{id:"".concat(s,"-").concat(x)};return w.createElement(Lo,$v({key:"label-".concat(x)},Cr(y),f,S,{fill:(j=n.fill)!==null&&j!==void 0?j:y.fill,parentViewBox:y.parentViewBox,value:E,textBreakAll:c,viewBox:y.viewBox,index:x,zIndex:0}))})))}Mg.displayName="LabelList";function uU(t){var{label:e}=t;return e?e===!0?w.createElement(Mg,{key:"labelList-implicit"}):w.isValidElement(e)||US(e)?w.createElement(Mg,{key:"labelList-implicit",content:e}):typeof e=="object"?w.createElement(Mg,$v({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(null,arguments)}var dU=t=>{var{cx:e,cy:n,r,className:i}=t,s=Lt("recharts-dot",i);return Pe(e)&&Pe(n)&&Pe(r)?w.createElement("circle",Qw({},la(t),Ej(t),{className:s,cx:e,cy:n,r})):null},Jce={radiusAxis:{},angleAxis:{}},fU=Yr({name:"polarAxis",initialState:Jce,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Dge,removeRadiusAxis:Mge,addAngleAxis:zge,removeAngleAxis:Lge}=fU.actions,eue=fU.reducer;function tue(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var f1={exports:{}},zt={};var Mk;function nue(){if(Mk)return zt;Mk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function j(E){if(typeof E=="object"&&E!==null){var S=E.$$typeof;switch(S){case t:switch(E=E.type,E){case n:case i:case r:case f:case h:case y:return E;default:switch(E=E&&E.$$typeof,E){case c:case d:case g:case p:return E;case s:return E;default:return S}}case e:return S}}}return zt.ContextConsumer=s,zt.ContextProvider=c,zt.Element=t,zt.ForwardRef=d,zt.Fragment=n,zt.Lazy=g,zt.Memo=p,zt.Portal=e,zt.Profiler=i,zt.StrictMode=r,zt.Suspense=f,zt.SuspenseList=h,zt.isContextConsumer=function(E){return j(E)===s},zt.isContextProvider=function(E){return j(E)===c},zt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},zt.isForwardRef=function(E){return j(E)===d},zt.isFragment=function(E){return j(E)===n},zt.isLazy=function(E){return j(E)===g},zt.isMemo=function(E){return j(E)===p},zt.isPortal=function(E){return j(E)===e},zt.isProfiler=function(E){return j(E)===i},zt.isStrictMode=function(E){return j(E)===r},zt.isSuspense=function(E){return j(E)===f},zt.isSuspenseList=function(E){return j(E)===h},zt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===f||E===h||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===p||E.$$typeof===c||E.$$typeof===s||E.$$typeof===d||E.$$typeof===x||E.getModuleId!==void 0)},zt.typeOf=j,zt}var zk;function rue(){return zk||(zk=1,f1.exports=nue()),f1.exports}var iue=rue(),Lk=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",Uk=null,h1=null,hU=t=>{if(t===Uk&&Array.isArray(h1))return h1;var e=[];return w.Children.forEach(t,n=>{nn(n)||(iue.isFragment(n)?e=e.concat(hU(n.props.children)):e.push(n))}),h1=e,Uk=t,e};function aue(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>Lk(i)):r=[Lk(e)],hU(t).forEach(i=>{var s=od(i,"type.displayName")||od(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var mU=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,m1={},Vk;function sue(){return Vk||(Vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(m1)),m1}var p1,qk;function oue(){return qk||(qk=1,p1=sue().isPlainObject),p1}var lue=oue();const cue=Ya(lue);var Bk,$k,Fk,Hk,Gk;function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){uue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uue(t,e,n){return(e=due(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function due(t){var e=fue(t,"string");return typeof e=="symbol"?e:e+""}function fue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(null,arguments)}function Hf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Qk=(t,e,n,r,i)=>{var s=n-r,c;return c=cn(Bk||(Bk=Hf(["M ",",",""])),t,e),c+=cn($k||($k=Hf(["L ",",",""])),t+n,e),c+=cn(Fk||(Fk=Hf(["L ",",",""])),t+n-s/2,e+i),c+=cn(Hk||(Hk=Hf(["L ",",",""])),t+n-s/2-r,e+i),c+=cn(Gk||(Gk=Hf(["L ",","," Z"])),t,e),c},hue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mue=t=>{var e=Pr(t,hue),{x:n,y:r,upperWidth:i,lowerWidth:s,height:c,className:d}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,y=w.useRef(null),[x,j]=w.useState(-1),E=w.useRef(i),S=w.useRef(s),T=w.useRef(c),D=w.useRef(n),R=w.useRef(r),P=Yy(t,"trapezoid-");if(w.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var W=y.current.getTotalLength();W&&j(W)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||c!==+c||i===0&&s===0||c===0)return null;var $=Lt("recharts-trapezoid",d);if(!g)return w.createElement("g",null,w.createElement("path",Fv({},Cr(e),{className:$,d:Qk(n,r,i,s,c)})));var B=E.current,I=S.current,O=T.current,k=D.current,V=R.current,U="0px ".concat(x===-1?1:x,"px"),z="".concat(x,"px 0px"),M=T3(["strokeDasharray"],h,f);return w.createElement(Qy,{animationId:P,key:P,canBegin:x>0,duration:h,easing:f,isActive:g,begin:p},W=>{var Q=un(B,i,W),H=un(I,s,W),oe=un(O,c,W),be=un(k,n,W),Ee=un(V,r,W);y.current&&(E.current=Q,S.current=H,T.current=oe,D.current=be,R.current=Ee);var X=W>0?{transition:M,strokeDasharray:z}:{strokeDasharray:U};return w.createElement("path",Fv({},Cr(e),{className:$,d:Qk(be,Ee,Q,H,oe),ref:y,style:Wk(Wk({},X),e.style)}))})},pue=["option","shapeType","activeClassName"];function gue(t,e){if(t==null)return{};var n,r,i=vue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){yue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yue(t,e,n){return(e=bue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bue(t){var e=_ue(t,"string");return typeof e=="symbol"?e:e+""}function _ue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xue(t,e){return Hv(Hv({},e),t)}function wue(t,e){return t==="symbols"}function Xk(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return w.createElement(I3,n);case"trapezoid":return w.createElement(mue,n);case"sector":return w.createElement(D3,n);case"symbols":if(wue(e))return w.createElement(yL,n);break;case"curve":return w.createElement(A3,n);default:return null}}function Eue(t){return w.isValidElement(t)?t.props:t}function pU(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=gue(t,pue),s;if(w.isValidElement(e))s=w.cloneElement(e,Hv(Hv({},i),Eue(e)));else if(typeof e=="function")s=e(i,i.index);else if(cue(e)&&typeof e!="boolean"){var c=xue(e,i);s=w.createElement(Xk,{shapeType:n,elementProps:c})}else{var d=i;s=w.createElement(Xk,{shapeType:n,elementProps:d})}return i.isActive?w.createElement(Mi,{className:r},s):s}var gU=(t,e,n)=>{var r=_n();return(i,s)=>c=>{t?.(i,s,c),r(S5({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},vU=t=>{var e=_n();return(n,r)=>i=>{t?.(n,r,i),e(Use())}},yU=(t,e,n)=>{var r=_n();return(i,s)=>c=>{t?.(i,s,c),r(Vse({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function bU(t){var{tooltipEntrySettings:e}=t,n=_n(),r=wr(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(Dse(e)):i.current!==e&&n(Mse({prev:i.current,next:e})),i.current=e)},[e,n,r]),w.useLayoutEffect(()=>()=>{i.current&&(n(zse(i.current)),i.current=null)},[n]),null}function _U(t){var{legendPayload:e}=t,n=_n(),r=wr(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(pte(e)):i.current!==e&&n(gte({prev:i.current,next:e})),i.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{i.current&&(n(vte(i.current)),i.current=null)},[n]),null}var g1,jue=()=>{var[t]=w.useState(()=>Sh("uid-"));return t},Sue=(g1=OD.useId)!==null&&g1!==void 0?g1:jue;function Nue(t,e){var n=Sue();return e||(t?"".concat(t,"-").concat(n):n)}var Aue=w.createContext(void 0),xU=t=>{var{id:e,type:n,children:r}=t,i=Nue("recharts-".concat(n),e);return w.createElement(Aue.Provider,{value:i},r(i))},Tue={cartesianItems:[],polarItems:[]},wU=Yr({name:"graphicalItems",initialState:Tue,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Zt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ia(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Zt()},removeCartesianGraphicalItem:{reducer(t,e){var n=ia(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Zt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Zt()},removePolarGraphicalItem:{reducer(t,e){var n=ia(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Zt()}}}),{addCartesianGraphicalItem:Cue,replaceCartesianGraphicalItem:Oue,removeCartesianGraphicalItem:Pue,addPolarGraphicalItem:Uge,removePolarGraphicalItem:Vge}=wU.actions,Iue=wU.reducer,Rue=t=>{var e=_n(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(Cue(t)):n.current!==t&&e(Oue({prev:n.current,next:t})),n.current=t},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(e(Pue(n.current)),n.current=null)},[e]),null},EU=w.memo(Rue),kue=["points"];function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){Due(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Due(t,e,n){return(e=Mue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mue(t){var e=zue(t,"string");return typeof e=="symbol"?e:e+""}function zue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gv(){return Gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gv.apply(null,arguments)}function Lue(t,e){if(t==null)return{};var n,r,i=Uue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Uue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vue(t){var{option:e,dotProps:n,className:r}=t;if(w.isValidElement(e))return w.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Lt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:c}=s,d=Lue(s,kue);return w.createElement(dU,Gv({},d,{className:i}))}function que(t,e){return t==null?!1:e?!0:t.length===1}function Bue(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:c,needClip:d,clipPathId:f,zIndex:h=Yn.scatter}=t;if(!que(e,n))return null;var p=mU(n),g=sX(n),y=e.map((j,E)=>{var S,T,D=v1(v1(v1({r:3},c),g),{},{index:E,cx:(S=j.x)!==null&&S!==void 0?S:void 0,cy:(T=j.y)!==null&&T!==void 0?T:void 0,dataKey:s,value:j.value,payload:j.payload,points:e});return w.createElement(Vue,{key:"dot-".concat(E),option:n,dotProps:D,className:i})}),x={};return d&&f!=null&&(x.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),w.createElement(Vi,{zIndex:h},w.createElement(Mi,Gv({className:r},x),y))}function Jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(n),!0).forEach(function(r){$ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ue(t,e,n){return(e=Fue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fue(t){var e=Hue(t,"string");return typeof e=="symbol"?e:e+""}function Hue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jU=0,Gue={xAxis:{},yAxis:{},zAxis:{}},SU=Yr({name:"cartesianAxis",initialState:Gue,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Zt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Zt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Zt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Zt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Zt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Zt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Zt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Zt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Zt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s,c=i.widthHistory||[];if(c.length===3&&c[0]===c[2]&&r===c[1]&&r!==i.width&&Math.abs(r-((s=c[0])!==null&&s!==void 0?s:0))<=1)return;var d=[...c,r].slice(-3);t.yAxis[n]=eD(eD({},i),{},{width:r,widthHistory:d})}}}}),{addXAxis:Kue,replaceXAxis:Wue,removeXAxis:Que,addYAxis:Yue,replaceYAxis:Xue,removeYAxis:Zue,addZAxis:qge,replaceZAxis:Bge,removeZAxis:$ge,updateYAxisWidth:Jue}=SU.actions,ede=SU.reducer,tde=ce([Xn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),nde=ce([tde,Ks,Ws],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),VS=()=>Me(nde),rde=()=>Me(Coe);function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){ide(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ide(t,e,n){return(e=ade(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ade(t){var e=sde(t,"string");return typeof e=="symbol"?e:e+""}function sde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ode=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:c}=t;if(i===!1||e.x==null||e.y==null)return null;var d={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=y1(y1(y1({},d),nm(i)),Ej(i)),h;return w.isValidElement(i)?h=w.cloneElement(i,f):typeof i=="function"?h=i(f):h=w.createElement(dU,f),w.createElement(Mi,{className:"recharts-active-dot",clipPath:c},h)};function lde(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:c=Yn.activeDot}=t,d=Me(Ac),f=rde();if(e==null||f==null)return null;var h=e.find(p=>f.includes(p.payload));return nn(h)?null:w.createElement(Vi,{zIndex:c},w.createElement(ode,{point:h,childIndex:Number(d),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var nD=(t,e,n)=>{var r=n??t;if(!nn(r))return ca(r,e,0)},cde=(t,e,n)=>{var r={},i=t.filter(l0),s=t.filter(h=>h.stackId==null),c=i.reduce((h,p)=>{var g=h[p.stackId];return g==null&&(g=[]),g.push(p),h[p.stackId]=g,h},r),d=Object.entries(c).map(h=>{var p,[g,y]=h,x=y.map(E=>E.dataKey),j=nD(e,n,(p=y[0])===null||p===void 0?void 0:p.barSize);return{stackId:g,dataKeys:x,barSize:j}}),f=s.map(h=>{var p=[h.dataKey].filter(y=>y!=null),g=nD(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]};function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){ude(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ude(t,e,n){return(e=dde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dde(t){var e=fde(t,"string");return typeof e=="symbol"?e:e+""}function fde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hde(t,e,n,r,i){var s,c=r.length;if(!(c<1)){var d=ca(t,n,0,!0),f,h=[];if(mt((s=r[0])===null||s===void 0?void 0:s.barSize)){var p=!1,g=n/c,y=r.reduce((D,R)=>D+(R.barSize||0),0);y+=(c-1)*d,y>=n&&(y-=(c-1)*d,d=0),y>=n&&g>0&&(p=!0,g*=.9,y=c*g);var x=(n-y)/2>>0,j={offset:x-d,size:0};f=r.reduce((D,R)=>{var P,$={stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:j.offset+j.size+d,size:p?g:(P=R.barSize)!==null&&P!==void 0?P:0}},B=[...D,$];return j=$.position,B},h)}else{var E=ca(e,n,0,!0);n-2*E-(c-1)*d<=0&&(d=0);var S=(n-2*E-(c-1)*d)/c;S>1&&(S>>=0);var T=mt(i)?Math.min(S,i):S;f=r.reduce((D,R,P)=>[...D,{stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:E+(S+d)*P+(S-T)/2,size:T}}],h)}return f}}var mde=(t,e,n,r,i,s,c)=>{var d=nn(c)?e:c,f=hde(n,r,i!==s?i:s,t,d);return i!==s&&f!=null&&(f=f.map(h=>gg(gg({},h),{},{position:gg(gg({},h.position),{},{offset:h.position.offset-i/2})}))),f},pde=(t,e)=>{var n=vS(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(c=>c.key===n)}}}},gde=(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}};function vde(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&mt(t.zIndex)?t.zIndex:e}var yde=t=>{var{chartData:e}=t,n=_n(),r=wr();return w.useEffect(()=>r?()=>{}:(n(fk(e)),()=>{n(fk(void 0))}),[e,n,r]),null},iD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},NU=Yr({name:"brush",initialState:iD,reducers:{setBrushSettings(t,e){return e.payload==null?iD:e.payload}}}),{setBrushSettings:Fge}=NU.actions,bde=NU.reducer;function _de(t){return(t%180+180)%180}var xde=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=_de(i),c=s*Math.PI/180,d=Math.atan(r/n),f=c>d&&c<Math.PI-d?r/Math.sin(c):n/Math.cos(c);return Math.abs(f)},wde={dots:[],areas:[],lines:[]},AU=Yr({name:"referenceElements",initialState:wde,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ia(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ia(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ia(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Hge,removeDot:Gge,addArea:Kge,removeArea:Wge,addLine:Qge,removeLine:Yge}=AU.actions,Ede=AU.reducer,jde=w.createContext(void 0),Sde=t=>{var{children:e}=t,[n]=w.useState("".concat(Sh("recharts"),"-clip")),r=VS();if(r==null)return null;var{x:i,y:s,width:c,height:d}=r;return w.createElement(jde.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:s,height:d,width:c}))),e)};function TU(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Nde(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return xde(r,n)}function Ade(t,e,n){var r=n==="width",{x:i,y:s,width:c,height:d}=t;return e===1?{start:r?i:s,end:r?i+c:s+d}:{start:r?i+c:s+d,end:r?i:s}}function Uh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Tde(t,e){return TU(t,e+1)}function Cde(t,e,n,r,i){for(var s=(r||[]).slice(),{start:c,end:d}=e,f=0,h=1,p=c,g=function(){var j=r?.[f];if(j===void 0)return{v:TU(r,h)};var E=f,S,T=()=>(S===void 0&&(S=n(j,E)),S),D=j.coordinate,R=f===0||Uh(t,D,T,p,d);R||(f=0,p=c,h+=1),R&&(p=D+t*(T()/2+i),f+=h)},y;h<=s.length;)if(y=g(),y)return y.v;return[]}function Ode(t,e,n,r,i){var s=(r||[]).slice(),c=s.length;if(c===0)return[];for(var{start:d,end:f}=e,h=1;h<=c;h++){for(var p=(c-1)%h,g=d,y=!0,x=function(){var P=r[E];if(P==null)return 0;var $=E,B,I=()=>(B===void 0&&(B=n(P,$)),B),O=P.coordinate,k=E===p||Uh(t,O,I,g,f);if(!k)return y=!1,1;k&&(g=O+t*(I()/2+i))},j,E=p;E<c&&(j=x(),!(j!==0&&j===1));E+=h);if(y){for(var S=[],T=p;T<c;T+=h){var D=r[T];D!=null&&S.push(D)}return S}}return[]}function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){Pde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pde(t,e,n){return(e=Ide(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ide(t){var e=Rde(t,"string");return typeof e=="symbol"?e:e+""}function Rde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kde(t,e,n,r,i){for(var s=(r||[]).slice(),c=s.length,{start:d}=e,{end:f}=e,h=function(y){var x=s[y];if(x==null)return 1;var j=x,E,S=()=>(E===void 0&&(E=n(x,y)),E);if(y===c-1){var T=t*(j.coordinate+t*S()/2-f);s[y]=j=gr(gr({},j),{},{tickCoord:T>0?j.coordinate-T*t:j.coordinate})}else s[y]=j=gr(gr({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var D=Uh(t,j.tickCoord,S,d,f);D&&(f=j.tickCoord-t*(S()/2+i),s[y]=gr(gr({},j),{},{isShow:!0}))}},p=c-1;p>=0;p--)h(p);return s}function Dde(t,e,n,r,i,s){var c=(r||[]).slice(),d=c.length,{start:f,end:h}=e;if(s){var p=r[d-1];if(p!=null){var g=n(p,d-1),y=t*(p.coordinate+t*g/2-h);if(c[d-1]=p=gr(gr({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate}),p.tickCoord!=null){var x=Uh(t,p.tickCoord,()=>g,f,h);x&&(h=p.tickCoord-t*(g/2+i),c[d-1]=gr(gr({},p),{},{isShow:!0}))}}}for(var j=s?d-1:d,E=function(D){var R=c[D];if(R==null)return 1;var P=R,$,B=()=>($===void 0&&($=n(R,D)),$);if(D===0){var I=t*(P.coordinate-t*B()/2-f);c[D]=P=gr(gr({},P),{},{tickCoord:I<0?P.coordinate-I*t:P.coordinate})}else c[D]=P=gr(gr({},P),{},{tickCoord:P.coordinate});if(P.tickCoord!=null){var O=Uh(t,P.tickCoord,B,f,h);O&&(f=P.tickCoord+t*(B()/2+i),c[D]=gr(gr({},P),{},{isShow:!0}))}},S=0;S<j;S++)E(S);return c}function qS(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:c,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=t;if(!i||!i.length||!r)return[];if(Pe(f)||Wy.isSsr){var y;return(y=Tde(i,Pe(f)?f:0))!==null&&y!==void 0?y:[]}var x=[],j=d==="top"||d==="bottom"?"width":"height",E=p&&j==="width"?uh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=($,B)=>{var I=typeof h=="function"?h($.value,B):$.value;return j==="width"?Nde(uh(I,{fontSize:e,letterSpacing:n}),E,g):uh(I,{fontSize:e,letterSpacing:n})[j]},T=i[0],D=i[1],R=i.length>=2&&T!=null&&D!=null?Gr(D.coordinate-T.coordinate):1,P=Ade(s,R,j);return f==="equidistantPreserveStart"?Cde(R,P,S,i,c):f==="equidistantPreserveEnd"?Ode(R,P,S,i,c):(f==="preserveStart"||f==="preserveStartEnd"?x=Dde(R,P,S,i,c,f==="preserveStartEnd"):x=kde(R,P,S,i,c),x.filter($=>$.isShow))}var Mde=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,c=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=n?n.getBoundingClientRect().width:0,f=i+s,h=c+f+d+(n?r:0);return Math.round(h)}return 0},zde=["axisLine","width","height","className","hide","ticks","axisType"];function Lde(t,e){if(t==null)return{};var n,r,i=Ude(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ude(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tc.apply(null,arguments)}function sD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sD(Object(n),!0).forEach(function(r){Vde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vde(t,e,n){return(e=qde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qde(t){var e=Bde(t,"string");return typeof e=="symbol"?e:e+""}function Bde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ps={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Yn.axis};function $de(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:c,axisLine:d,otherSvgProps:f}=t;if(!d)return null;var h=ln(ln(ln({},f),la(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!c||s==="bottom"&&c);h=ln(ln({},h),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var g=+(s==="left"&&!c||s==="right"&&c);h=ln(ln({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return w.createElement("line",Tc({},h,{className:Lt("recharts-cartesian-axis-line",od(d,"className"))}))}function Fde(t,e,n,r,i,s,c,d,f){var h,p,g,y,x,j,E=d?-1:1,S=t.tickSize||c,T=Pe(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,y=n+ +!d*i,g=y-E*S,j=g-E*f,x=T;break;case"left":g=y=t.coordinate,p=e+ +!d*r,h=p-E*S,x=h-E*f,j=T;break;case"right":g=y=t.coordinate,p=e+ +d*r,h=p+E*S,x=h+E*f,j=T;break;default:h=p=t.coordinate,y=n+ +d*i,g=y+E*S,j=g+E*f,x=T;break}return{line:{x1:h,y1:g,x2:p,y2:y},tick:{x,y:j}}}function Hde(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Gde(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Kde(t){var{option:e,tickProps:n,value:r}=t,i,s=Lt(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(e))i=w.cloneElement(e,ln(ln({},n),{},{className:s}));else if(typeof e=="function")i=e(ln(ln({},n),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(c=Lt(c,tue(e))),i=w.createElement(LS,Tc({},n,{className:c}),r)}return i}var Wde=w.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:c,unit:d,padding:f,tickTextProps:h,orientation:p,mirror:g,x:y,y:x,width:j,height:E,tickSize:S,tickMargin:T,fontSize:D,letterSpacing:R,getTicksConfig:P,events:$,axisType:B}=t,I=qS(ln(ln({},P),{},{ticks:n}),D,R),O=Hde(p,g),k=Gde(p,g),V=la(P),U=nm(r),z={};typeof i=="object"&&(z=i);var M=ln(ln({},V),{},{fill:"none"},z),W=I.map(oe=>ln({entry:oe},Fde(oe,y,x,j,E,p,S,g,T))),Q=W.map(oe=>{var{entry:be,line:Ee}=oe;return w.createElement(Mi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(be.value,"-").concat(be.coordinate,"-").concat(be.tickCoord)},i&&w.createElement("line",Tc({},M,Ee,{className:Lt("recharts-cartesian-axis-tick-line",od(i,"className"))})))}),H=W.map((oe,be)=>{var Ee,X,{entry:F,tick:ne}=oe,ge=ln(ln(ln(ln({verticalAnchor:k},V),{},{textAnchor:O,stroke:"none",fill:s},ne),{},{index:be,payload:F,visibleTicksCount:I.length,tickFormatter:c,padding:f},h),{},{angle:(Ee=(X=h?.angle)!==null&&X!==void 0?X:V.angle)!==null&&Ee!==void 0?Ee:0}),we=ln(ln({},ge),U);return w.createElement(Mi,Tc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},jj($,F,be)),r&&w.createElement(Kde,{option:r,tickProps:we,value:"".concat(typeof c=="function"?c(F.value,be):F.value).concat(d||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(B,"-ticks")},H.length>0&&w.createElement(Vi,{zIndex:Yn.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(B,"-tick-labels"),ref:e},H)),Q.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(B,"-tick-lines")},Q))}),Qde=w.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:c,ticks:d,axisType:f}=t,h=Lde(t,zde),[p,g]=w.useState(""),[y,x]=w.useState(""),j=w.useRef(null);w.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return Mde({ticks:j.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=w.useCallback(S=>{if(S){var T=S.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=T;var D=T[0];if(D){var R=window.getComputedStyle(D),P=R.fontSize,$=R.letterSpacing;(P!==p||$!==y)&&(g(P),x($))}}},[p,y]);return c||r!=null&&r<=0||i!=null&&i<=0?null:w.createElement(Vi,{zIndex:t.zIndex},w.createElement(Mi,{className:Lt("recharts-cartesian-axis",s)},w.createElement($de,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:la(t)}),w.createElement(Wde,{ref:E,axisType:f,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:d,unit:t.unit,width:t.width,x:t.x,y:t.y}),w.createElement(Oce,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},w.createElement(Vce,{label:t.label,labelRef:t.labelRef}),t.children)))}),BS=w.forwardRef((t,e)=>{var n=Pr(t,Ps);return w.createElement(Qde,Tc({},n,{ref:e}))});BS.displayName="CartesianAxis";var Yde=["x1","y1","x2","y2","key"],Xde=["offset"],Zde=["xAxisId","yAxisId"],Jde=["xAxisId","yAxisId"];function oD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(n),!0).forEach(function(r){efe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function efe(t,e,n){return(e=tfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tfe(t){var e=nfe(t,"string");return typeof e=="symbol"?e:e+""}function nfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(null,arguments)}function Kv(t,e){if(t==null)return{};var n,r,i=rfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ife=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:c,ry:d}=t;return w.createElement("rect",{x:r,y:i,ry:d,width:s,height:c,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function CU(t){var{option:e,lineItemProps:n}=t,r;if(w.isValidElement(e))r=w.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:c,x2:d,y2:f,key:h}=n,p=Kv(n,Yde),g=(i=la(p))!==null&&i!==void 0?i:{},{offset:y}=g,x=Kv(g,Xde);r=w.createElement("line",ac({},x,{x1:s,y1:c,x2:d,y2:f,fill:"none",key:h}))}return r}function afe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=t,d=Kv(t,Zde),f=i.map((h,p)=>{var g=br(br({},d),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return w.createElement(CU,{key:"line-".concat(p),option:r,lineItemProps:g})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function sfe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=t,d=Kv(t,Jde),f=i.map((h,p)=>{var g=br(br({},d),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return w.createElement(CU,{option:r,lineItemProps:g,key:"line-".concat(p)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function ofe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:c,horizontalPoints:d,horizontal:f=!0}=t;if(!f||!e||!e.length||d==null)return null;var h=d.map(g=>Math.round(g+i-i)).sort((g,y)=>g-y);i!==h[0]&&h.unshift(0);var p=h.map((g,y)=>{var x=h[y+1],j=x==null,E=j?i+c-g:x-g;if(E<=0)return null;var S=y%e.length;return w.createElement("rect",{key:"react-".concat(y),y:g,x:r,height:E,width:s,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function lfe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:c,height:d,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(g=>Math.round(g+i-i)).sort((g,y)=>g-y);i!==h[0]&&h.unshift(0);var p=h.map((g,y)=>{var x=h[y+1],j=x==null,E=j?i+c-g:x-g;if(E<=0)return null;var S=y%n.length;return w.createElement("rect",{key:"react-".concat(y),x:g,y:s,width:E,height:d,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var cfe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return l3(qS(br(br(br({},Ps),n),{},{ticks:c3(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},ufe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return l3(qS(br(br(br({},Ps),n),{},{ticks:c3(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},dfe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Yn.grid};function Yw(t){var e=p3(),n=g3(),r=m3(),i=br(br({},Pr(t,dfe)),{},{x:Pe(t.x)?t.x:r.left,y:Pe(t.y)?t.y:r.top,width:Pe(t.width)?t.width:r.width,height:Pe(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:c,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:y,verticalValues:x}=i,j=wr(),E=Me(k=>ek(k,"xAxis",s,j)),S=Me(k=>ek(k,"yAxis",c,j));if(!Wa(h)||!Wa(p)||!Pe(d)||!Pe(f))return null;var T=i.verticalCoordinatesGenerator||cfe,D=i.horizontalCoordinatesGenerator||ufe,{horizontalPoints:R,verticalPoints:P}=i;if((!R||!R.length)&&typeof D=="function"){var $=y&&y.length,B=D({yAxis:S?br(br({},S),{},{ticks:$?y:S.ticks}):void 0,width:e??h,height:n??p,offset:r},$?!0:g);bv(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(R=B)}if((!P||!P.length)&&typeof T=="function"){var I=x&&x.length,O=T({xAxis:E?br(br({},E),{},{ticks:I?x:E.ticks}):void 0,width:e??h,height:n??p,offset:r},I?!0:g);bv(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(P=O)}return w.createElement(Vi,{zIndex:i.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(ife,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(ofe,ac({},i,{horizontalPoints:R})),w.createElement(lfe,ac({},i,{verticalPoints:P})),w.createElement(afe,ac({},i,{offset:r,horizontalPoints:R,xAxis:E,yAxis:S})),w.createElement(sfe,ac({},i,{offset:r,verticalPoints:P,xAxis:E,yAxis:S}))))}Yw.displayName="CartesianGrid";var ffe={},OU=Yr({name:"errorBars",initialState:ffe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Xge,replaceErrorBar:Zge,removeErrorBar:Jge}=OU.actions,hfe=OU.reducer,mfe=["children"];function pfe(t,e){if(t==null)return{};var n,r,i=gfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vfe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},yfe=w.createContext(vfe);function PU(t){var{children:e}=t,n=pfe(t,mfe);return w.createElement(yfe.Provider,{value:n},e)}function $S(t,e){var n,r,i=Me(h=>Xs(h,t)),s=Me(h=>Zs(h,e)),c=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Gn.allowDataOverflow,d=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Kn.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function IU(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=VS(),{needClipX:s,needClipY:c,needClip:d}=$S(e,n);if(!d||!i)return null;var{x:f,y:h,width:p,height:g}=i;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:s?f:f-p/2,y:c?h:h-g/2,width:s?p:p*2,height:c?g:g*2}))}var RU=(t,e,n,r)=>ul(t,"xAxis",e,r),kU=(t,e,n,r)=>cl(t,"xAxis",e,r),DU=(t,e,n,r)=>ul(t,"yAxis",n,r),MU=(t,e,n,r)=>cl(t,"yAxis",n,r),bfe=ce([Ot,RU,DU,kU,MU],(t,e,n,r,i)=>Gs(t,"xAxis")?cd(e,r,!1):cd(n,i,!1)),_fe=(t,e,n,r,i)=>i;function xfe(t){return t.type==="line"}var wfe=ce([d0,_fe],(t,e)=>t.filter(xfe).find(n=>n.id===e)),Efe=ce([Ot,RU,DU,kU,MU,wfe,bfe,lS],(t,e,n,r,i,s,c,d)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=d;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||c==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:g,data:y}=s,x;if(y!=null&&y.length>0?x=y:x=f?.slice(h,p+1),x!=null)return uhe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:c,displayedData:x})}});function jfe(t){var e=nm(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,c=Number(i),d=Number(s);return(Number.isNaN(c)||c<0)&&(c=n),(Number.isNaN(d)||d<0)&&(d=r),{r:c,strokeWidth:d}}return{r:n,strokeWidth:r}}var b1={exports:{}},_1={};var lD;function Sfe(){if(lD)return _1;lD=1;var t=md();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,c=t.useMemo,d=t.useDebugValue;return _1.useSyncExternalStoreWithSelector=function(f,h,p,g,y){var x=i(null);if(x.current===null){var j={hasValue:!1,value:null};x.current=j}else j=x.current;x=c(function(){function S($){if(!T){if(T=!0,D=$,$=g($),y!==void 0&&j.hasValue){var B=j.value;if(y(B,$))return R=B}return R=$}if(B=R,n(D,$))return B;var I=g($);return y!==void 0&&y(B,I)?(D=$,B):(D=$,R=I)}var T=!1,D,R,P=p===void 0?null:p;return[function(){return S(h())},P===null?void 0:function(){return S(P())}]},[h,p,g,y]);var E=r(f,x[0],x[1]);return s(function(){j.hasValue=!0,j.value=E},[E]),d(E),E},_1}var cD;function Nfe(){return cD||(cD=1,b1.exports=Sfe()),b1.exports}Nfe();function Afe(t){t()}function Tfe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Afe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var uD={notify(){},get:()=>[]};function Cfe(t,e){let n,r=uD,i=0,s=!1;function c(E){p();const S=r.subscribe(E);let T=!1;return()=>{T||(T=!0,S(),g())}}function d(){r.notify()}function f(){j.onStateChange&&j.onStateChange()}function h(){return s}function p(){i++,n||(n=t.subscribe(f),r=Tfe())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=uD)}function y(){s||(s=!0,p())}function x(){s&&(s=!1,g())}const j={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:x,getListeners:()=>r};return j}var Ofe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pfe=Ofe(),Ife=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Rfe=Ife(),kfe=()=>Pfe||Rfe?w.useLayoutEffect:w.useEffect,Dfe=kfe();function dD(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Mfe(t,e){if(dD(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!dD(t[n[i]],e[n[i]]))return!1;return!0}var zfe=Symbol.for("react-redux-context"),Lfe=typeof globalThis<"u"?globalThis:{};function Ufe(){if(!w.createContext)return{};const t=Lfe[zfe]??=new Map;let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var Vfe=Ufe();function qfe(t){const{children:e,context:n,serverState:r,store:i}=t,s=w.useMemo(()=>{const f=Cfe(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),c=w.useMemo(()=>i.getState(),[i]);Dfe(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,c]);const d=n||Vfe;return w.createElement(d.Provider,{value:s},e)}var Bfe=qfe,$fe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Ffe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function g0(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if($fe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Mfe(t[r],e[r]))return!1}else if(!Ffe(t[r],e[r]))return!1;return!0}var Hfe=["id"],Gfe=["type","layout","connectNulls","needClip","shape"],Kfe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(null,arguments)}function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){Wfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wfe(t,e,n){return(e=Qfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qfe(t){var e=Yfe(t,"string");return typeof e=="symbol"?e:e+""}function Yfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FS(t,e){if(t==null)return{};var n,r,i=Xfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Zfe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Uy(n,e),payload:t}]},Jfe=w.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:c,hide:d,unit:f,tooltipType:h,id:p}=t,g={dataDefinedOnItem:n,getPosition:kc,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Uy(c,e),hide:d,type:h,color:r,unit:f,graphicalItemId:p}};return w.createElement(bU,{tooltipEntrySettings:g})}),zU=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function ehe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var the=(t,e,n)=>{var r=n.reduce((x,j)=>x+j);if(!r)return zU(e,t);for(var i=Math.floor(t/r),s=t%r,c=e-t,d=[],f=0,h=0;f<n.length;h+=(p=n[f])!==null&&p!==void 0?p:0,++f){var p,g=n[f];if(g!=null&&h+g>s){d=[...n.slice(0,f),s-h];break}}var y=d.length%2===0?[0,c]:[c];return[...ehe(n,i),...d,...y].map(x=>"".concat(x,"px")).join(", ")};function nhe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:c}=r,{id:d}=r,f=FS(r,Hfe),h=la(f);return w.createElement(Bue,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:c,clipPathId:e})}function rhe(t){var{showLabels:e,children:n,points:r}=t,i=w.useMemo(()=>r?.map(s=>{var c,d,f={x:(c=s.x)!==null&&c!==void 0?c:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ra(Ra({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[r]);return w.createElement(lU,{value:e?i:void 0},n)}function hD(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:c,layout:d,connectNulls:f,needClip:h,shape:p}=s,g=FS(s,Gfe),y=Ra(Ra({},Cr(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:c,layout:d,connectNulls:f,strokeDasharray:i??s.strokeDasharray});return w.createElement(w.Fragment,null,r?.length>1&&w.createElement(pU,Vh({shapeType:"curve",option:p},y,{pathRef:n})),w.createElement(nhe,{points:r,clipPathId:e,props:s}))}function ihe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function ahe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:c,strokeDasharray:d,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:y,width:x,height:j,onAnimationEnd:E,onAnimationStart:S}=n,T=i.current,D=Yy(c,"recharts-line-"),R=w.useRef(D),[P,$]=w.useState(!1),B=!P,I=w.useCallback(()=>{typeof E=="function"&&E(),$(!1)},[E]),O=w.useCallback(()=>{typeof S=="function"&&S(),$(!0)},[S]),k=ihe(r.current),V=w.useRef(0);R.current!==D&&(V.current=s.current,R.current=D);var U=V.current;return w.createElement(rhe,{points:c,showLabels:B},n.children,w.createElement(Qy,{animationId:D,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:I,onAnimationStart:O,key:D},z=>{var M=un(U,k+U,z),W=Math.min(M,k),Q;if(f)if(d){var H="".concat(d).split(/[,\s]+/gim).map(Ee=>parseFloat(Ee));Q=the(W,k,H)}else Q=zU(k,W);else Q=d==null?void 0:String(d);if(z>0&&k>0&&(i.current=c,s.current=Math.max(s.current,W)),T){var oe=T.length/c.length,be=z===1?c:c.map((Ee,X)=>{var F=Math.floor(X*oe);if(T[F]){var ne=T[F];return Ra(Ra({},Ee),{},{x:un(ne.x,Ee.x,z),y:un(ne.y,Ee.y,z)})}return y?Ra(Ra({},Ee),{},{x:un(x*2,Ee.x,z),y:un(j/2,Ee.y,z)}):Ra(Ra({},Ee),{},{x:Ee.x,y:Ee.y})});return i.current=be,w.createElement(hD,{props:n,points:be,clipPathId:e,pathRef:r,strokeDasharray:Q})}return w.createElement(hD,{props:n,points:c,clipPathId:e,pathRef:r,strokeDasharray:Q})}),w.createElement(uU,{label:n.label}))}function she(t){var{clipPathId:e,props:n}=t,r=w.useRef(null),i=w.useRef(0),s=w.useRef(null);return w.createElement(ahe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var ohe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Pn(t.payload,e)}};class lhe extends w.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:c,top:d,left:f,width:h,height:p,id:g,needClip:y,zIndex:x}=this.props;if(e)return null;var j=Lt("recharts-line",i),E=g,{r:S,strokeWidth:T}=jfe(n),D=mU(n),R=S*2+T,P=y?"url(#clipPath-".concat(D?"":"dots-").concat(E,")"):void 0;return w.createElement(Vi,{zIndex:x},w.createElement(Mi,{className:j},y&&w.createElement("defs",null,w.createElement(IU,{clipPathId:E,xAxisId:s,yAxisId:c}),!D&&w.createElement("clipPath",{id:"clipPath-dots-".concat(E)},w.createElement("rect",{x:f-R/2,y:d-R/2,width:h+R,height:p+R}))),w.createElement(PU,{xAxisId:s,yAxisId:c,data:r,dataPointFormatter:ohe,errorBarOffset:0},w.createElement(she,{props:this.props,clipPathId:E}))),w.createElement(lde,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:P}))}}var LU={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Yn.line,type:"linear"};function che(t){var e=Pr(t,LU),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:c,connectNulls:d,dot:f,hide:h,isAnimationActive:p,label:g,legendType:y,xAxisId:x,yAxisId:j,id:E}=e,S=FS(e,Kfe),{needClip:T}=$S(x,j),D=VS(),R=Dc(),P=wr(),$=Me(V=>Efe(V,x,j,P,E));if(R!=="horizontal"&&R!=="vertical"||$==null||D==null)return null;var{height:B,width:I,x:O,y:k}=D;return w.createElement(lhe,Vh({},S,{id:E,connectNulls:d,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:c,isAnimationActive:p,hide:h,label:g,legendType:y,xAxisId:x,yAxisId:j,points:$,layout:R,height:B,width:I,left:O,top:k,needClip:T}))}function uhe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:c,bandSize:d,displayedData:f}=t;return f.map((h,p)=>{var g=Pn(h,c);if(e==="horizontal"){var y=ZP({axis:n,ticks:i,bandSize:d,entry:h,index:p}),x=nn(g)?null:r.scale.map(g);return{x:y,y:x??null,value:g,payload:h}}var j=nn(g)?null:n.scale.map(g),E=ZP({axis:r,ticks:s,bandSize:d,entry:h,index:p});return j==null||E==null?null:{x:j,y:E,value:g,payload:h}}).filter(Boolean)}function dhe(t){var e=Pr(t,LU),n=wr();return w.createElement(xU,{id:e.id,type:"line"},r=>w.createElement(w.Fragment,null,w.createElement(_U,{legendPayload:Zfe(e)}),w.createElement(Jfe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),w.createElement(EU,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),w.createElement(che,Vh({},e,{id:r}))))}var UU=w.memo(dhe,g0);UU.displayName="Line";function Lc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:jU}function Uc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:jU}var fhe="Invariant failed";function hhe(t,e){throw new Error(fhe)}function Xw(){return Xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xw.apply(null,arguments)}function Wv(t){return w.createElement(pU,Xw({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var mhe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Pe(e))return e;var s=Pe(r)||nn(r);return s?e(r,i):(s||hhe(),n)}},phe=(t,e,n)=>n,ghe=(t,e)=>e,bm=ce([d0,ghe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),vhe=ce([bm],t=>t?.maxBarSize),yhe=(t,e,n,r)=>r,bhe=ce([Ot,d0,Lc,Uc,phe],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),_he=(t,e,n)=>{var r=Ot(t),i=Lc(t,e),s=Uc(t,e);if(!(i==null||s==null))return r==="horizontal"?$w(t,"yAxis",s,n):$w(t,"xAxis",i,n)},xhe=(t,e)=>{var n=Ot(t),r=Lc(t,e),i=Uc(t,e);if(!(r==null||i==null))return n==="horizontal"?JR(t,"xAxis",r):JR(t,"yAxis",i)},whe=ce([bhe,jae,xhe],cde),Ehe=(t,e,n)=>{var r,i,s=bm(t,e);if(s==null)return 0;var c=Lc(t,e),d=Uc(t,e);if(c==null||d==null)return 0;var f=Ot(t),h=T6(t),{maxBarSize:p}=s,g=nn(p)?h:p,y,x;return f==="horizontal"?(y=ul(t,"xAxis",c,n),x=cl(t,"xAxis",c,n)):(y=ul(t,"yAxis",d,n),x=cl(t,"yAxis",d,n)),(r=(i=cd(y,x,!0))!==null&&i!==void 0?i:g)!==null&&r!==void 0?r:0},VU=(t,e,n)=>{var r=Ot(t),i=Lc(t,e),s=Uc(t,e);if(!(i==null||s==null)){var c,d;return r==="horizontal"?(c=ul(t,"xAxis",i,n),d=cl(t,"xAxis",i,n)):(c=ul(t,"yAxis",s,n),d=cl(t,"yAxis",s,n)),cd(c,d)}},jhe=ce([whe,T6,Eae,C6,Ehe,VU,vhe],mde),She=(t,e,n)=>{var r=Lc(t,e);if(r!=null)return ul(t,"xAxis",r,n)},Nhe=(t,e,n)=>{var r=Uc(t,e);if(r!=null)return ul(t,"yAxis",r,n)},Ahe=(t,e,n)=>{var r=Lc(t,e);if(r!=null)return cl(t,"xAxis",r,n)},The=(t,e,n)=>{var r=Uc(t,e);if(r!=null)return cl(t,"yAxis",r,n)},Che=ce([jhe,bm],gde),Ohe=ce([_he,bm],pde),Phe=ce([Xn,kj,She,Nhe,Ahe,The,Che,Ot,pae,VU,Ohe,bm,yhe],(t,e,n,r,i,s,c,d,f,h,p,g,y)=>{var{chartData:x,dataStartIndex:j,dataEndIndex:E}=f;if(!(g==null||c==null||e==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||i==null||s==null||h==null)){var{data:S}=g,T;if(S!=null&&S.length>0?T=S:T=x?.slice(j,E+1),T!=null)return ame({layout:d,barSettings:g,pos:c,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:T,offset:t,cells:y,dataStartIndex:j})}}),Ihe=["index"];function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(null,arguments)}function Rhe(t,e){if(t==null)return{};var n,r,i=khe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function khe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var qU=w.createContext(void 0),Dhe=t=>{var e=w.useContext(qU);if(e!=null)return e.stackId;if(t!=null)return yee(t)},Mhe=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),zhe=t=>{var e=w.useContext(qU);if(e!=null){var{stackId:n}=e;return"url(#".concat(Mhe(n,t),")")}},BU=t=>{var{index:e}=t,n=Rhe(t,Ihe),r=zhe(e);return w.createElement(Mi,Zw({className:"recharts-bar-stack-layer",clipPath:r},n))},Lhe=["onMouseEnter","onMouseLeave","onClick"],Uhe=["value","background","tooltipPosition"],Vhe=["id"],qhe=["onMouseEnter","onClick","onMouseLeave"];function Bs(){return Bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bs.apply(null,arguments)}function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){Bhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bhe(t,e,n){return(e=$he(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $he(t){var e=Fhe(t,"string");return typeof e=="symbol"?e:e+""}function Fhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qv(t,e){if(t==null)return{};var n,r,i=Hhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ghe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Uy(n,e),payload:t}]},Khe=w.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:c,unit:d,tooltipType:f,id:h}=t,p={dataDefinedOnItem:void 0,getPosition:kc,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Uy(s,e),hide:c,type:f,color:i,unit:d,graphicalItemId:h}};return w.createElement(bU,{tooltipEntrySettings:p})});function Whe(t){var e=Me(Ac),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:c,onMouseLeave:d,onClick:f}=s,h=Qv(s,Lhe),p=gU(c,r,s.id),g=vU(d),y=yU(f,r,s.id);if(!i||n==null)return null;var x=nm(i);return w.createElement(Vi,{zIndex:vde(i,Yn.barBackground)},n.map((j,E)=>{var{value:S,background:T,tooltipPosition:D}=j,R=Qv(j,Uhe);if(!T)return null;var P=p(j,E),$=g(j,E),B=y(j,E),I=Nr(Nr(Nr(Nr(Nr({option:i,isActive:String(E)===e},R),{},{fill:"#eee"},T),x),jj(h,j,E)),{},{onMouseEnter:P,onMouseLeave:$,onClick:B,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return w.createElement(Wv,Bs({key:"background-bar-".concat(E)},I))}))}function Qhe(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var c={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Nr(Nr({},c),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:c,fill:s.fill})});return w.createElement(lU,{value:e?i:void 0},n)}function Yhe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:c}=t,d=Me(Ac),f=Me(V5),h=n&&String(s)===d&&(f==null||c===f),p=h?n:e;return h?w.createElement(Vi,{zIndex:Yn.activeBar},w.createElement(BU,{index:s},w.createElement(Wv,Bs({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:c})))):w.createElement(Wv,Bs({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:c}))}function Xhe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return w.createElement(Wv,Bs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function Zhe(t){var e,{data:n,props:r}=t,i=(e=la(r))!==null&&e!==void 0?e:{},{id:s}=i,c=Qv(i,Vhe),{shape:d,dataKey:f,activeBar:h}=r,{onMouseEnter:p,onClick:g,onMouseLeave:y}=r,x=Qv(r,qhe),j=gU(p,f,s),E=vU(y),S=yU(g,f,s);return n?w.createElement(w.Fragment,null,n.map((T,D)=>w.createElement(BU,Bs({index:D,key:"rectangle-".concat(T?.x,"-").concat(T?.y,"-").concat(T?.value,"-").concat(D),className:"recharts-bar-rectangle"},jj(x,T,D),{onMouseEnter:j(T,D),onMouseLeave:E(T,D),onClick:S(T,D)}),h?w.createElement(Yhe,{shape:d,activeBar:h,baseProps:c,entry:T,index:D,dataKey:f}):w.createElement(Xhe,{shape:d,baseProps:c,entry:T,index:D,dataKey:f})))):null}function Jhe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,y=Yy(e,"recharts-bar-"),[x,j]=w.useState(!1),E=!x,S=w.useCallback(()=>{typeof h=="function"&&h(),j(!1)},[h]),T=w.useCallback(()=>{typeof p=="function"&&p(),j(!0)},[p]);return w.createElement(Qhe,{showLabels:E,rects:r},w.createElement(Qy,{animationId:y,begin:c,duration:d,isActive:s,easing:f,onAnimationEnd:S,onAnimationStart:T,key:y},D=>{var R=D===1?r:r?.map((P,$)=>{var B=g&&g[$];if(B)return Nr(Nr({},P),{},{x:un(B.x,P.x,D),y:un(B.y,P.y,D),width:un(B.width,P.width,D),height:un(B.height,P.height,D)});if(i==="horizontal"){var I=un(0,P.height,D),O=un(P.stackedBarStart,P.y,D);return Nr(Nr({},P),{},{y:O,height:I})}var k=un(0,P.width,D),V=un(P.stackedBarStart,P.x,D);return Nr(Nr({},P),{},{width:k,x:V})});return D>0&&(n.current=R??null),R==null?null:w.createElement(Mi,null,w.createElement(Zhe,{props:e,data:R}))}),w.createElement(uU,{label:e.label}),e.children)}function eme(t){var e=w.useRef(null);return w.createElement(Jhe,{previousRectanglesRef:e,props:t})}var $U=0,tme=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Pn(t,e)}};class nme extends w.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:c,needClip:d,background:f,id:h}=this.props;if(e||n==null)return null;var p=Lt("recharts-bar",i),g=h;return w.createElement(Mi,{className:p,id:h},d&&w.createElement("defs",null,w.createElement(IU,{clipPathId:g,xAxisId:s,yAxisId:c})),w.createElement(Mi,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},w.createElement(Whe,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),w.createElement(eme,this.props)))}}var rme={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:$U,xAxisId:0,yAxisId:0,zIndex:Yn.bar};function ime(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=$S(e,n),y=Dc(),x=wr(),j=aue(t.children,zS),E=Me(D=>Phe(D,t.id,x,j));if(y!=="vertical"&&y!=="horizontal")return null;var S,T=E?.[0];return T==null||T.height==null||T.width==null?S=0:S=y==="vertical"?T.height/2:T.width/2,w.createElement(PU,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:tme,errorBarOffset:S},w.createElement(nme,Bs({},t,{layout:y,needClip:g,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function ame(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:c,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:y,cells:x,parentViewBox:j,dataStartIndex:E}=t,S=e==="horizontal"?d:c,T=p?S.scale.domain():null,D=bee({numericAxis:S}),R=S.scale.map(D);return g.map((P,$)=>{var B,I,O,k,V,U;if(p){var z=p[$+E];if(z==null)return null;B=hee(z,T)}else B=Pn(P,n),Array.isArray(B)||(B=[D,B]);var M=mhe(r,$U)(B[1],$);if(e==="horizontal"){var W,Q=d.scale.map(B[0]),H=d.scale.map(B[1]);if(Q==null||H==null)return null;I=JP({axis:c,ticks:f,bandSize:s,offset:i.offset,entry:P,index:$}),O=(W=H??Q)!==null&&W!==void 0?W:void 0,k=i.size;var oe=Q-H;if(V=Ga(oe)?0:oe,U={x:I,y:y.top,width:k,height:y.height},Math.abs(M)>0&&Math.abs(V)<Math.abs(M)){var be=Gr(V||M)*(Math.abs(M)-Math.abs(V));O-=be,V+=be}}else{var Ee=c.scale.map(B[0]),X=c.scale.map(B[1]);if(Ee==null||X==null)return null;if(I=Ee,O=JP({axis:d,ticks:h,bandSize:s,offset:i.offset,entry:P,index:$}),k=X-Ee,V=i.size,U={x:y.left,y:O,width:y.width,height:V},Math.abs(M)>0&&Math.abs(k)<Math.abs(M)){var F=Gr(k||M)*(Math.abs(M)-Math.abs(k));k+=F}}if(I==null||O==null||k==null||V==null)return null;var ne=Nr(Nr({},P),{},{stackedBarStart:R,x:I,y:O,width:k,height:V,value:p?B:B[1],payload:P,background:U,tooltipPosition:{x:I+k/2,y:O+V/2},parentViewBox:j},x&&x[$]&&x[$].props);return ne}).filter(Boolean)}function sme(t){var e=Pr(t,rme),n=Dhe(e.stackId),r=wr();return w.createElement(xU,{id:e.id,type:"bar"},i=>w.createElement(w.Fragment,null,w.createElement(_U,{legendPayload:Ghe(e)}),w.createElement(Khe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),w.createElement(EU,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),w.createElement(Vi,{zIndex:e.zIndex},w.createElement(ime,Bs({},e,{id:i})))))}var FU=w.memo(sme,g0);FU.displayName="Bar";var ome=["domain","range"],lme=["domain","range"];function pD(t,e){if(t==null)return{};var n,r,i=cme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gD(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function HU(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=pD(t,ome),{domain:s,range:c}=e,d=pD(e,lme);return!gD(n,s)||!gD(r,c)?!1:g0(i,d)}var ume=["type"],dme=["dangerouslySetInnerHTML","ticks","scale"],fme=["id","scale"];function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jw.apply(null,arguments)}function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){hme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hme(t,e,n){return(e=mme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mme(t){var e=pme(t,"string");return typeof e=="symbol"?e:e+""}function pme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eE(t,e){if(t==null)return{};var n,r,i=gme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vme(t){var e=_n(),n=w.useRef(null),r=v3(),{type:i}=t,s=eE(t,ume),c=a0(r,"xAxis",i),d=w.useMemo(()=>{if(c!=null)return yD(yD({},s),{},{type:c})},[s,c]);return w.useLayoutEffect(()=>{d!=null&&(n.current===null?e(Kue(d)):n.current!==d&&e(Wue({prev:n.current,next:d})),n.current=d)},[d,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(Que(n.current)),n.current=null)},[e]),null}var yme=t=>{var{xAxisId:e,className:n}=t,r=Me(kj),i=wr(),s="xAxis",c=Me(T=>b5(T,s,e,i)),d=Me(T=>p5(T,e)),f=Me(T=>Sse(T,e)),h=Me(T=>L6(T,e));if(d==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:y}=t,x=eE(t,dme),{id:j,scale:E}=h,S=eE(h,fme);return w.createElement(BS,Jw({},x,S,{x:f.x,y:f.y,width:d.width,height:d.height,className:Lt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:c,axisType:s}))},bme={allowDataOverflow:Gn.allowDataOverflow,allowDecimals:Gn.allowDecimals,allowDuplicatedCategory:Gn.allowDuplicatedCategory,angle:Gn.angle,axisLine:Ps.axisLine,height:Gn.height,hide:!1,includeHidden:Gn.includeHidden,interval:Gn.interval,label:!1,minTickGap:Gn.minTickGap,mirror:Gn.mirror,orientation:Gn.orientation,padding:Gn.padding,reversed:Gn.reversed,scale:Gn.scale,tick:Gn.tick,tickCount:Gn.tickCount,tickLine:Ps.tickLine,tickSize:Ps.tickSize,type:Gn.type,xAxisId:0},_me=t=>{var e=Pr(t,bme);return w.createElement(w.Fragment,null,w.createElement(vme,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),w.createElement(yme,e))},tE=w.memo(_me,HU);tE.displayName="XAxis";var xme=["type"],wme=["dangerouslySetInnerHTML","ticks","scale"],Eme=["id","scale"];function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nE.apply(null,arguments)}function bD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bD(Object(n),!0).forEach(function(r){jme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jme(t,e,n){return(e=Sme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sme(t){var e=Nme(t,"string");return typeof e=="symbol"?e:e+""}function Nme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rE(t,e){if(t==null)return{};var n,r,i=Ame(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ame(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tme(t){var e=_n(),n=w.useRef(null),r=v3(),{type:i}=t,s=rE(t,xme),c=a0(r,"yAxis",i),d=w.useMemo(()=>{if(c!=null)return _D(_D({},s),{},{type:c})},[c,s]);return w.useLayoutEffect(()=>{d!=null&&(n.current===null?e(Yue(d)):n.current!==d&&e(Xue({prev:n.current,next:d})),n.current=d)},[d,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(Zue(n.current)),n.current=null)},[e]),null}function Cme(t){var{yAxisId:e,className:n,width:r,label:i}=t,s=w.useRef(null),c=w.useRef(null),d=Me(kj),f=wr(),h=_n(),p="yAxis",g=Me(B=>g5(B,e)),y=Me(B=>Ase(B,e)),x=Me(B=>b5(B,p,e,f)),j=Me(B=>U6(B,e));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!g||US(i)||w.isValidElement(i)||j==null)){var B=s.current;if(B){var I=B.getCalculatedWidth();Math.round(g.width)!==Math.round(I)&&h(Jue({id:e,width:I}))}}},[x,g,h,i,e,r,j]),g==null||y==null||j==null)return null;var{dangerouslySetInnerHTML:E,ticks:S,scale:T}=t,D=rE(t,wme),{id:R,scale:P}=j,$=rE(j,Eme);return w.createElement(BS,nE({},D,$,{ref:s,labelRef:c,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:Lt("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:x,axisType:p}))}var Ome={allowDataOverflow:Kn.allowDataOverflow,allowDecimals:Kn.allowDecimals,allowDuplicatedCategory:Kn.allowDuplicatedCategory,angle:Kn.angle,axisLine:Ps.axisLine,hide:!1,includeHidden:Kn.includeHidden,interval:Kn.interval,label:!1,minTickGap:Kn.minTickGap,mirror:Kn.mirror,orientation:Kn.orientation,padding:Kn.padding,reversed:Kn.reversed,scale:Kn.scale,tick:Kn.tick,tickCount:Kn.tickCount,tickLine:Ps.tickLine,tickSize:Ps.tickSize,type:Kn.type,width:Kn.width,yAxisId:0},Pme=t=>{var e=Pr(t,Ome);return w.createElement(w.Fragment,null,w.createElement(Tme,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),w.createElement(Cme,e))},iE=w.memo(Pme,HU);iE.displayName="YAxis";var Ime=(t,e)=>e,HS=ce([Ime,Ot,M6,er,M5,Js,Boe,Xn],Qoe),GS=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},GU=zi("mouseClick"),KU=am();KU.startListening({actionCreator:GU,effect:(t,e)=>{var n=t.payload,r=HS(e.getState(),GS(n));r?.activeIndex!=null&&e.dispatch(qse({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var aE=zi("mouseMove"),WU=am(),vg=null;WU.startListening({actionCreator:aE,effect:(t,e)=>{var n=t.payload;vg!==null&&cancelAnimationFrame(vg);var r=GS(n);vg=requestAnimationFrame(()=>{var i=e.getState(),s=AS(i,i.tooltip.settings.shared);if(s==="axis"){var c=HS(i,r);c?.activeIndex!=null?e.dispatch(A5({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):e.dispatch(N5())}vg=null})}});function Rme(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var xD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},QU=Yr({name:"rootProps",initialState:xD,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:xD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),kme=QU.reducer,{updateOptions:Dme}=QU.actions,Mme=null,zme={updatePolarOptions:(t,e)=>e.payload},YU=Yr({name:"polarOptions",initialState:Mme,reducers:zme}),{updatePolarOptions:eve}=YU.actions,Lme=YU.reducer,XU=zi("keyDown"),ZU=zi("focus"),KS=am();KS.startListening({actionCreator:XU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=TS(i,Pd(n),pm(n),vm(n)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var f=Js(n);if(s==="Enter"){var h=Bv(n,"axis","hover",String(i.index));e.dispatch(Hw({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var p=Pse(n),g=p==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,x=d+y*g;if(!(f==null||x>=f.length||x<0)){var j=Bv(n,"axis","hover",String(x));e.dispatch(Hw({active:!0,activeIndex:x.toString(),activeCoordinate:j}))}}}}}});KS.startListening({actionCreator:ZU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",c=Bv(n,"axis","hover",String(s));e.dispatch(Hw({active:!0,activeIndex:s,activeCoordinate:c}))}}}});var Ii=zi("externalEvent"),JU=am(),x1=new Map;JU.startListening({actionCreator:Ii,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=x1.get(i);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var d=e.getState(),f={activeCoordinate:Noe(d),activeDataKey:V5(d),activeIndex:Ac(d),activeLabel:U5(d),activeTooltipIndex:Ac(d),isTooltipActive:Aoe(d)};n(f,r)}finally{x1.delete(i)}});x1.set(i,c)}}});var Ume=ce([Cd],t=>t.tooltipItemPayloads),Vme=ce([Ume,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(s=>s.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),eV=zi("touchMove"),tV=am();tV.startListening({actionCreator:eV,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=AS(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var c=HS(r,GS({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));c?.activeIndex!=null&&e.dispatch(A5({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(i==="item"){var d,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(Nee),g=(d=h.getAttribute(Aee))!==null&&d!==void 0?d:void 0,y=Od(r).find(E=>E.id===g);if(p==null||y==null||g==null)return;var{dataKey:x}=y,j=Vme(r,p,g);e.dispatch(S5({activeDataKey:x,activeIndex:p,activeCoordinate:j,activeGraphicalItemId:g}))}}}});var qme=RL({brush:bde,cartesianAxis:ede,chartData:Nle,errorBars:hfe,graphicalItems:Iue,layout:lee,legend:yte,options:xle,polarAxis:eue,polarOptions:Lme,referenceElements:Ede,rootProps:kme,tooltip:Bse,zIndex:cle}),Bme=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return RJ({reducer:qme,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([KU.middleware,WU.middleware,KS.middleware,JU.middleware,tV.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(WL({type:"raf"}))},devTools:{serialize:{replacer:Rme},name:"recharts-".concat(n)}})};function $me(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=wr(),s=w.useRef(null);if(i)return n;s.current==null&&(s.current=Bme(e,r));var c=Aj;return w.createElement(Bfe,{context:c,store:s.current},n)}function Fme(t){var{layout:e,margin:n}=t,r=_n(),i=wr();return w.useEffect(()=>{i||(r(aee(e)),r(iee(n)))},[r,i,e,n]),null}var Hme=w.memo(Fme,g0);function Gme(t){var e=_n();return w.useEffect(()=>{e(Dme(t))},[e,t]),null}function wD(t){var{zIndex:e,isPanorama:n}=t,r=w.useRef(null),i=_n();return w.useLayoutEffect(()=>(r.current&&i(ole({zIndex:e,element:r.current,isPanorama:n})),()=>{i(lle({zIndex:e,isPanorama:n}))}),[i,e,n]),w.createElement("g",{tabIndex:-1,ref:r})}function ED(t){var{children:e,isPanorama:n}=t,r=Me(Xoe);if(!r||r.length===0)return e;var i=r.filter(c=>c<0),s=r.filter(c=>c>0);return w.createElement(w.Fragment,null,i.map(c=>w.createElement(wD,{key:c,zIndex:c,isPanorama:n})),e,s.map(c=>w.createElement(wD,{key:c,zIndex:c,isPanorama:n})))}var Kme=["children"];function Wme(t,e){if(t==null)return{};var n,r,i=Qme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yv.apply(null,arguments)}var Yme={width:"100%",height:"100%",display:"block"},Xme=w.forwardRef((t,e)=>{var n=p3(),r=g3(),i=N3();if(!Wa(n)||!Wa(r))return null;var{children:s,otherAttributes:c,title:d,desc:f}=t,h,p;return c!=null&&(typeof c.tabIndex=="number"?h=c.tabIndex:h=i?0:void 0,typeof c.role=="string"?p=c.role:p=i?"application":void 0),w.createElement(X4,Yv({},c,{title:d,desc:f,role:p,tabIndex:h,width:n,height:r,style:Yme,ref:e}),s)}),Zme=t=>{var{children:e}=t,n=Me($y);if(!n)return null;var{width:r,height:i,y:s,x:c}=n;return w.createElement(X4,{width:r,height:i,x:c,y:s},e)},jD=w.forwardRef((t,e)=>{var{children:n}=t,r=Wme(t,Kme),i=wr();return i?w.createElement(Zme,null,w.createElement(ED,{isPanorama:!0},n)):w.createElement(Xme,Yv({ref:e},r),w.createElement(ED,{isPanorama:!1},n))});function Jme(){var t=_n(),[e,n]=w.useState(null),r=Me(See);return w.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;mt(s)&&s!==r&&t(oee(s))}},[e,t,r]),n}function SD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function epe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(n),!0).forEach(function(r){tpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tpe(t,e,n){return(e=npe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function npe(t){var e=rpe(t,"string");return typeof e=="symbol"?e:e+""}function rpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function el(){return el=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},el.apply(null,arguments)}var ipe=()=>(Dle(),null);function Xv(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var ape=w.forwardRef((t,e)=>{var n,r,i=w.useRef(null),[s,c]=w.useState({containerWidth:Xv((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Xv((r=t.style)===null||r===void 0?void 0:r.height)}),d=w.useCallback((h,p)=>{c(g=>{var y=Math.round(h),x=Math.round(p);return g.containerWidth===y&&g.containerHeight===x?g:{containerWidth:y,containerHeight:x}})},[]),f=w.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();d(p,g);var y=j=>{var E=j[0];if(E!=null){var{width:S,height:T}=E.contentRect;d(S,T)}},x=new ResizeObserver(y);x.observe(h),i.current=x}},[e,d]);return w.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[d]),w.createElement(w.Fragment,null,w.createElement(om,{width:s.containerWidth,height:s.containerHeight}),w.createElement("div",el({ref:f},t)))}),spe=w.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=w.useState({containerWidth:Xv(n),containerHeight:Xv(r)}),c=w.useCallback((f,h)=>{s(p=>{var g=Math.round(f),y=Math.round(h);return p.containerWidth===g&&p.containerHeight===y?p:{containerWidth:g,containerHeight:y}})},[]),d=w.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();c(h,p)}},[e,c]);return w.createElement(w.Fragment,null,w.createElement(om,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",el({ref:d},t)))}),ope=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return w.createElement(w.Fragment,null,w.createElement(om,{width:n,height:r}),w.createElement("div",el({ref:e},t)))}),lpe=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?w.createElement(spe,el({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?w.createElement(ope,el({},t,{width:n,height:r,ref:e})):w.createElement(w.Fragment,null,w.createElement(om,{width:n,height:r}),w.createElement("div",el({ref:e},t)))});function cpe(t){return t?ape:lpe}var upe=w.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:y,onTouchEnd:x,onTouchMove:j,onTouchStart:E,style:S,width:T,responsive:D,dispatchTouchEvents:R=!0}=t,P=w.useRef(null),$=_n(),[B,I]=w.useState(null),[O,k]=w.useState(null),V=Jme(),U=Dj(),z=U?.width>0?U.width:T,M=U?.height>0?U.height:i,W=w.useCallback(le=>{V(le),typeof e=="function"&&e(le),I(le),k(le),le!=null&&(P.current=le)},[V,e,I,k]),Q=w.useCallback(le=>{$(GU(le)),$(Ii({handler:s,reactEvent:le}))},[$,s]),H=w.useCallback(le=>{$(aE(le)),$(Ii({handler:h,reactEvent:le}))},[$,h]),oe=w.useCallback(le=>{$(N5()),$(Ii({handler:p,reactEvent:le}))},[$,p]),be=w.useCallback(le=>{$(aE(le)),$(Ii({handler:g,reactEvent:le}))},[$,g]),Ee=w.useCallback(()=>{$(ZU())},[$]),X=w.useCallback(le=>{$(XU(le.key))},[$]),F=w.useCallback(le=>{$(Ii({handler:c,reactEvent:le}))},[$,c]),ne=w.useCallback(le=>{$(Ii({handler:d,reactEvent:le}))},[$,d]),ge=w.useCallback(le=>{$(Ii({handler:f,reactEvent:le}))},[$,f]),we=w.useCallback(le=>{$(Ii({handler:y,reactEvent:le}))},[$,y]),J=w.useCallback(le=>{$(Ii({handler:E,reactEvent:le}))},[$,E]),Y=w.useCallback(le=>{R&&$(eV(le)),$(Ii({handler:j,reactEvent:le}))},[$,R,j]),xe=w.useCallback(le=>{$(Ii({handler:x,reactEvent:le}))},[$,x]),Ve=cpe(D);return w.createElement(K5.Provider,{value:B},w.createElement(hX.Provider,{value:O},w.createElement(Ve,{width:z??S?.width,height:M??S?.height,className:Lt("recharts-wrapper",r),style:epe({position:"relative",cursor:"default",width:z,height:M},S),onClick:Q,onContextMenu:F,onDoubleClick:ne,onFocus:Ee,onKeyDown:X,onMouseDown:ge,onMouseEnter:H,onMouseLeave:oe,onMouseMove:be,onMouseUp:we,onTouchEnd:xe,onTouchMove:Y,onTouchStart:J,ref:W},w.createElement(ipe,null),n)))}),dpe=["width","height","responsive","children","className","style","compact","title","desc"];function fpe(t,e){if(t==null)return{};var n,r,i=hpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mpe=w.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:c,style:d,compact:f,title:h,desc:p}=t,g=fpe(t,dpe),y=la(g);return f?w.createElement(w.Fragment,null,w.createElement(om,{width:n,height:r}),w.createElement(jD,{otherAttributes:y,title:h,desc:p},s)):w.createElement(upe,{className:c,style:d,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(jD,{otherAttributes:y,title:h,desc:p,ref:e},w.createElement(Sde,null,s)))});function sE(){return sE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sE.apply(null,arguments)}var ppe={top:5,right:5,bottom:5,left:5},gpe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:ppe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},nV=w.forwardRef(function(e,n){var r,i=Pr(e.categoricalChartProps,gpe),{chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return w.createElement($me,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},w.createElement(yde,{chartData:h.data}),w.createElement(Hme,{layout:i.layout,margin:i.margin}),w.createElement(Gme,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(mpe,sE({},i,{ref:n})))}),vpe=["axis"],ype=w.forwardRef((t,e)=>w.createElement(nV,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vpe,tooltipPayloadSearcher:W5,categoricalChartProps:t,ref:e})),bpe=["axis","item"],_pe=w.forwardRef((t,e)=>w.createElement(nV,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:bpe,tooltipPayloadSearcher:W5,categoricalChartProps:t,ref:e}));const xpe=8,wpe=12,Epe=14,jpe=1;function WS(t){return t instanceof it?t.toDate():t instanceof Date?t:t?.seconds?new Date(t.seconds*1e3):new Date(t)}function ND(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}function v0(){const t=new Date,e=t.getDay(),n=e===0?-6:1-e,r=new Date(t);return r.setDate(t.getDate()+n),r.setHours(0,0,0,0),r}function Spe(){const t=v0(),e=new Date(t);return e.setDate(t.getDate()+6),e.setHours(23,59,59,999),e}function w1(t,e){return Math.floor(Math.abs(e.getTime()-t.getTime())/864e5)}async function y0(t){try{const e=Ht(Et(Ae,"quiz_results"),at("userId","==",t),Qr("datePassage","desc"));return(await Gt(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Erreur rcupration rsultats lve:",e),[]}}async function Npe(t){try{const e=await y0(t);if(e.length===0)return[];const n=new Map;e.forEach(s=>{const c=s.disciplineId;n.has(c)||n.set(c,[]),n.get(c).push(s)});const r=[];n.forEach((s,c)=>{if(s.length<jpe)return;const d=s.map(S=>S.pourcentage/100*20),f=d.reduce((S,T)=>S+T,0)/d.length;if(f>=Epe)return;let h="stable";if(d.length>=3){const S=d.slice(0,2),T=d.slice(2,4),D=S.reduce(($,B)=>$+B,0)/S.length,R=T.reduce(($,B)=>$+B,0)/T.length,P=D-R;P>1.5?h="hausse":P<-1.5&&(h="baisse")}let p="modere";f<xpe?p="critique":f<wpe&&(p="important");const g=d[0],y=Math.max(...d),x=Math.min(...d),j=WS(s[0].datePassage),E=s[0].disciplineNom||"Discipline inconnue";r.push({id:`lacune_${c}`,disciplineId:c,disciplineNom:E,moyenne:Math.round(f*10)/10,nombreQuiz:s.length,tendance:h,niveauUrgence:p,dernierQuizDate:j,scoreDetails:{dernierScore:Math.round(g*10)/10,meilleurScore:Math.round(y*10)/10,pireScore:Math.round(x*10)/10}})});const i={critique:0,important:1,modere:2};return r.sort((s,c)=>{const d=i[s.niveauUrgence]-i[c.niveauUrgence];return d!==0?d:s.moyenne-c.moyenne}),r}catch(e){return console.error("Erreur dtection lacunes:",e),[]}}function Ape(t){const e=[];let n=1;return t.forEach(r=>{const{id:i,disciplineNom:s,niveauUrgence:c,moyenne:d,tendance:f}=r;switch(c){case"critique":e.push({id:`reco_cours_${i}`,lacuneId:i,type:"revoir_cours",titre:` Revoir les cours de ${s}`,description:`Ta moyenne est de ${d}/20 en ${s}. Il est important de reprendre les bases. Consulte les cours disponibles et prends des notes.`,disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date}),e.push({id:`reco_quiz_${i}`,lacuneId:i,type:"refaire_quiz",titre:` Refaire les quiz de ${s}`,description:"Aprs avoir rvis, refais les quiz pour vrifier ta comprhension. Vise au moins 12/20 !",disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date});break;case"important":e.push({id:`reco_exercice_${i}`,lacuneId:i,type:"exercice_cible",titre:` Exercices cibls en ${s}`,description:`Avec ${d}/20 de moyenne, concentre-toi sur les exercices pratiques. ${f==="hausse"?"Tu progresses, continue !":"Un effort supplmentaire est ncessaire."}`,disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date}),e.push({id:`reco_cours2_${i}`,lacuneId:i,type:"revoir_cours",titre:` Rviser les points cls en ${s}`,description:"Identifie les concepts qui te posent problme et revois-les attentivement.",disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date});break;case"modere":e.push({id:`reco_consolider_${i}`,lacuneId:i,type:"refaire_quiz",titre:` Consolider tes acquis en ${s}`,description:`Tu es proche du niveau attendu (${d}/20). Un quiz supplmentaire devrait suffire pour atteindre 14/20 !`,disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date});break}}),e}async function Tpe(t){try{const e=await y0(t);if(e.length===0)return{userId:t,streakActuel:0,meilleurStreak:0,dernierJourActif:null,totalJoursActifs:0,semaineCourante:[!1,!1,!1,!1,!1,!1,!1],historiqueHebdo:[]};const n=new Set;e.forEach(E=>{const S=WS(E.datePassage),T=`${S.getFullYear()}-${S.getMonth()}-${S.getDate()}`;n.add(T)});const r=Array.from(n).map(E=>{const[S,T,D]=E.split("-").map(Number);return new Date(S,T,D)}).sort((E,S)=>S.getTime()-E.getTime()),i=r.length,s=r[0];let c=0;const d=new Date;d.setHours(0,0,0,0);const f=r[0];if(w1(f,d)<=1){c=1;for(let E=1;E<r.length&&w1(r[E],r[E-1])===1;E++)c++}let p=0,g=1;for(let E=1;E<r.length;E++)w1(r[E],r[E-1])===1?g++:(p=Math.max(p,g),g=1);p=Math.max(p,g,c);const y=v0(),x=[];for(let E=0;E<7;E++){const S=new Date(y);S.setDate(y.getDate()+E);const T=r.some(D=>ND(D,S));x.push(T)}const j=[];for(let E=0;E<4;E++){const S=new Date(y);S.setDate(y.getDate()-E*7);let T=0;for(let R=0;R<7;R++){const P=new Date(S);P.setDate(S.getDate()+R),r.some($=>ND($,P))&&T++}const D=Math.ceil((S.getDate()+new Date(S.getFullYear(),S.getMonth(),1).getDay())/7);j.push({semaine:E===0?"Cette sem.":`Sem. -${E}`,joursActifs:T})}return{userId:t,streakActuel:c,meilleurStreak:p,dernierJourActif:s,totalJoursActifs:i,semaineCourante:x,historiqueHebdo:j.reverse()}}catch(e){return console.error("Erreur calcul streak:",e),{userId:t,streakActuel:0,meilleurStreak:0,dernierJourActif:null,totalJoursActifs:0,semaineCourante:[!1,!1,!1,!1,!1,!1,!1],historiqueHebdo:[]}}}function Cpe(t,e,n){const r=[],i=v0(),s=Spe(),c=e.length>2?5:3;if(r.push({id:`obj_quiz_${t}_${i.getTime()}`,userId:t,titre:`Passer ${c} quiz cette semaine`,description:`Entrane-toi en passant au moins ${c} quiz pour progresser dans tes matires.`,type:"quiz_count",cible:c,progression:0,statut:"en_cours",dateDebut:i,dateFin:s,recompense:' Badge "Travailleur"'}),e.length>0){const f=e[0],h=Math.min(f.moyenne+3,14);r.push({id:`obj_score_${t}_${i.getTime()}`,userId:t,titre:`Atteindre ${Math.round(h)}/20 en ${f.disciplineNom}`,description:`Ta moyenne actuelle est de ${f.moyenne}/20. Vise ${Math.round(h)}/20 lors de ton prochain quiz !`,type:"score_min",cible:Math.round(h),progression:Math.round(f.moyenne),statut:"en_cours",disciplineId:f.disciplineId,disciplineNom:f.disciplineNom,dateDebut:i,dateFin:s,recompense:' Badge "En progrs"'})}const d=n.streakActuel>=5?7:n.streakActuel+2;return r.push({id:`obj_streak_${t}_${i.getTime()}`,userId:t,titre:`Maintenir un streak de ${d} jours`,description:`Tu es actuellement  ${n.streakActuel} jour(s) conscutif(s). Continue !`,type:"streak",cible:d,progression:n.streakActuel,statut:n.streakActuel>=d?"atteint":"en_cours",dateDebut:i,dateFin:s,recompense:' Badge "Flamme"'}),r}function Ope(t,e,n,r){let i=0;if(r.length>0){const g=r.reduce((y,x)=>y+x.pourcentage/100*20,0)/r.length;i=Math.min(g/20*100,100)}let s=100;const c=t.filter(g=>g.niveauUrgence==="critique").length,d=t.filter(g=>g.niveauUrgence==="important").length;s-=c*25,s-=d*15,s=Math.max(s,0);const f=Math.min(e.streakActuel/7*100,100);let h=0;n.length>0&&(h=n.filter(y=>y.statut==="atteint").length/n.length*100);const p=i*.4+s*.25+f*.2+h*.15;return Math.round(Math.min(Math.max(p,0),100))}function Ppe(t,e,n){const r=v0(),i=e.filter(s=>WS(s.datePassage)>=r);return t.map(s=>{const c={...s};switch(s.type){case"quiz_count":c.progression=i.length;break;case"score_min":if(s.disciplineId){const d=i.filter(f=>f.disciplineId===s.disciplineId);if(d.length>0){const f=Math.max(...d.map(h=>h.pourcentage));c.progression=Math.round(f/100*20)}}break;case"streak":c.progression=n.streakActuel;break}return c.progression>=c.cible&&(c.statut="atteint"),c})}async function QS(t){try{const e=await Npe(t),n=Ape(e),r=await Tpe(t);let i=Cpe(t,e,r);const s=await y0(t);i=Ppe(i,s,r);const c=Ope(e,r,i,s);return{lacunes:e,recommandations:n,streak:r,objectifs:i,scoreGlobal:c}}catch(e){return console.error("Erreur suivi complet:",e),{lacunes:[],recommandations:[],streak:{userId:t,streakActuel:0,meilleurStreak:0,dernierJourActif:null,totalJoursActifs:0,semaineCourante:[!1,!1,!1,!1,!1,!1,!1],historiqueHebdo:[]},objectifs:[],scoreGlobal:0}}}function Zv(t){switch(t){case"critique":return"#ef4444";case"important":return"#f59e0b";case"modere":return"#eab308";case"info":return"#10b981";default:return"#6b7280"}}function rV(t){switch(t){case"critique":return"Critique";case"important":return"Important";case"modere":return"Modr";case"info":return"Info";default:return"Inconnu"}}function iV(t){switch(t){case"hausse":return"";case"baisse":return"";case"stable":return"";default:return""}}function Ipe(t){return t>=80?"Excellent travail ! Continue comme a, tu es sur la bonne voie ! ":t>=60?"Bon travail ! Quelques efforts supplmentaires et tu seras au top ! ":t>=40?"Tu peux faire mieux ! Suis les recommandations pour progresser. ":t>=20?"Courage ! Chaque effort compte. Commence par les recommandations prioritaires. ":"C'est le moment de se lancer ! Passe ton premier quiz pour commencer. "}function Rpe(t){return t.cible===0?0:Math.min(Math.round(t.progression/t.cible*100),100)}const kpe="PEDA",Dpe=4,Mpe=5,zpe=40,aV=5;function As(t){return t instanceof it?t.toDate():t instanceof Date?t:t?.seconds?new Date(t.seconds*1e3):new Date(t)}function sV(t){const e=new Date,n=e.getDay(),r=n===0?-6:1-n,i=new Date(e);return i.setDate(e.getDate()+r),i.setHours(0,0,0,0),i}function Lpe(t){const e=sV(),n=new Date(e);return n.setDate(e.getDate()+6),n.setHours(23,59,59,999),n}function AD(t){const e=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"];return`${t.getDate()} ${e[t.getMonth()]}`}function oV(t,e){return Math.floor(Math.abs(e.getTime()-t.getTime())/864e5)}async function Upe(t){try{const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let n="",r="";for(let c=0;c<Dpe;c++)n+=e.charAt(Math.floor(Math.random()*e.length)),r+=e.charAt(Math.floor(Math.random()*e.length));const i=`${kpe}-${n}-${r}`,s=tt(Ae,"users",t);return await Un(s,{codeParent:i,codeParentGenere:new Date}),i}catch(e){throw console.error("Erreur gnration code invitation:",e),new Error("Impossible de gnrer le code d'invitation")}}async function Vpe(t){try{const e=tt(Ae,"users",t),n=await oa(e);if(!n.exists())throw new Error("lve introuvable");const r=n.data();return r.codeParent?r.codeParent:await Upe(t)}catch(e){throw console.error("Erreur rcupration code invitation:",e),new Error("Impossible de rcuprer le code d'invitation")}}async function qpe(t,e){try{const n=e.trim().toUpperCase(),r=Et(Ae,"users"),i=Ht(r,at("codeParent","==",n),at("role","==","eleve"),ll(1)),s=await Gt(i);if(s.empty)throw new Error("Code d'invitation invalide. Vrifiez le code et ressayez.");const c=s.docs[0],d=c.data(),f=c.id,h=Et(Ae,"liens_parent_enfant"),p=Ht(h,at("parentId","==",t),at("enfantId","==",f),at("statut","==","actif"),ll(1));if(!(await Gt(p)).empty)throw new Error("Cet enfant est dj li  votre compte.");const y={parentId:t,enfantId:f,enfantNom:d.displayName||d.email,enfantEmail:d.email,enfantClasse:d.classe||void 0,codeInvitation:n,statut:"actif",dateCreation:new Date};return{id:(await Hs(h,y)).id,...y}}catch(n){throw console.error("Erreur liaison parent-enfant:",n),n}}async function Bpe(t){try{const e=Et(Ae,"liens_parent_enfant"),n=Ht(e,at("parentId","==",t),at("statut","==","actif"),Qr("dateCreation","desc"));return(await Gt(n)).docs.map(i=>({id:i.id,...i.data(),dateCreation:As(i.data().dateCreation),dateDerniereConsultation:i.data().dateDerniereConsultation?As(i.data().dateDerniereConsultation):void 0}))}catch(e){return console.error("Erreur rcupration enfants lis:",e),[]}}async function $pe(t,e){try{const n=tt(Ae,"liens_parent_enfant",t),r=await oa(n);if(!r.exists())throw new Error("Lien introuvable");if(r.data().parentId!==e)throw new Error("Action non autorise");await Un(n,{statut:"revoque",dateRevocation:new Date})}catch(n){throw console.error("Erreur rvocation lien:",n),n}}async function Fpe(t,e){try{const n=Et(Ae,"liens_parent_enfant"),r=Ht(n,at("parentId","==",t),at("enfantId","==",e),at("statut","==","actif"),ll(1)),i=await Gt(r);if(i.empty)throw new Error("Vous n'tes pas autoris  consulter le suivi de cet enfant.");const s=tt(Ae,"users",e),c=await oa(s);if(!c.exists())throw new Error("Profil de l'enfant introuvable.");const d=c.data(),f=await QS(e),h=await y0(e),p=h.slice(0,aV).map(j=>({quizTitre:j.quizTitre||"Quiz",disciplineNom:j.disciplineNom||"Discipline",pourcentage:j.pourcentage,noteSur20:Math.round(j.pourcentage/100*20*10)/10,reussi:j.reussi,datePassage:As(j.datePassage)})),g=await Hpe(t,e,d.displayName||d.email,f.lacunes,f.streak,f.scoreGlobal,h),y=Gpe(e,d.displayName||d.email,f,h),x=i.docs[0];return await Un(tt(Ae,"liens_parent_enfant",x.id),{dateDerniereConsultation:new Date}),{enfant:{id:e,nom:d.displayName||d.email,email:d.email,classe:d.classe||void 0,derniereConnexion:d.lastLogin?As(d.lastLogin):void 0},scoreGlobal:f.scoreGlobal,streak:{actuel:f.streak.streakActuel,meilleur:f.streak.meilleurStreak,semaineCourante:f.streak.semaineCourante},lacunes:f.lacunes.map(j=>({disciplineNom:j.disciplineNom,moyenne:j.moyenne,niveauUrgence:j.niveauUrgence,tendance:j.tendance})),objectifs:f.objectifs.map(j=>({titre:j.titre,progression:j.progression,cible:j.cible,statut:j.statut})),derniersQuiz:p,resume:y,alertes:g}}catch(n){throw console.error("Erreur dashboard parent:",n),n}}async function Hpe(t,e,n,r,i,s,c){const d=[],f=new Date;if(r.filter(p=>p.niveauUrgence==="critique").forEach(p=>{d.push({id:`alerte_parent_lacune_${p.id}`,parentId:t,enfantId:e,enfantNom:n,type:"lacune_critique",niveau:"critique",titre:` Alerte critique en ${p.disciplineNom}`,message:`${n} a une moyenne de ${p.moyenne}/20 en ${p.disciplineNom}. Un suivi rapproch est recommand.`,lue:!1,dateCreation:f})}),i.dernierJourActif){const p=oV(As(i.dernierJourActif),f);p>=Mpe&&d.push({id:`alerte_parent_inactif_${e}`,parentId:t,enfantId:e,enfantNom:n,type:"inactivite",niveau:"important",titre:` ${n} est inactif`,message:`${n} n'a pas utilis PedaClic depuis ${p} jours. Un petit encouragement pourrait aider !`,lue:!1,dateCreation:f})}else c.length===0&&d.push({id:`alerte_parent_jamais_actif_${e}`,parentId:t,enfantId:e,enfantNom:n,type:"inactivite",niveau:"modere",titre:` ${n} n'a pas encore commenc`,message:`${n} n'a pas encore pass de quiz sur PedaClic. Encouragez-le  commencer !`,lue:!1,dateCreation:f});s<zpe&&c.length>0&&d.push({id:`alerte_parent_score_${e}`,parentId:t,enfantId:e,enfantNom:n,type:"score_bas",niveau:"important",titre:` Score global bas : ${s}/100`,message:`Le score de sant global de ${n} est de ${s}/100. Des efforts supplmentaires sont ncessaires dans plusieurs matires.`,lue:!1,dateCreation:f}),r.filter(p=>p.tendance==="hausse").forEach(p=>{d.push({id:`alerte_parent_progression_${p.id}`,parentId:t,enfantId:e,enfantNom:n,type:"progression",niveau:"info",titre:` Progression en ${p.disciplineNom}`,message:`Bonne nouvelle ! ${n} montre une tendance  la hausse en ${p.disciplineNom}.`,lue:!1,dateCreation:f})}),i.streakActuel>=5&&d.push({id:`alerte_parent_streak_${e}`,parentId:t,enfantId:e,enfantNom:n,type:"objectif_atteint",niveau:"info",titre:` Streak de ${i.streakActuel} jours !`,message:`Flicitations ! ${n} maintient un streak de ${i.streakActuel} jours conscutifs de travail.`,lue:!1,dateCreation:f});const h={critique:0,important:1,modere:2,info:3};return d.sort((p,g)=>h[p.niveau]-h[g.niveau]),d}function Gpe(t,e,n,r){const i=sV(),s=Lpe(),c=new Date(i);c.setDate(c.getDate()-7);const d=new Date(s);d.setDate(d.getDate()-7);const f=r.filter(P=>{const $=As(P.datePassage);return $>=i&&$<=s}),h=r.filter(P=>{const $=As(P.datePassage);return $>=c&&$<=d}),p=f.slice(0,aV).map(P=>({quizTitre:P.quizTitre||"Quiz",disciplineNom:P.disciplineNom||"Discipline",pourcentage:P.pourcentage,noteSur20:Math.round(P.pourcentage/100*20*10)/10,reussi:P.reussi,datePassage:As(P.datePassage)})),g=Kpe(f,h),y=new Set;f.forEach(P=>{const $=As(P.datePassage);y.add(`${$.getFullYear()}-${$.getMonth()}-${$.getDate()}`)});const x=f.reduce((P,$)=>P+($.tempsEcoule||5),0);let j=0;if(h.length>0){const P=h.reduce(($,B)=>$+B.pourcentage,0)/h.length;j=Math.round(P)}let E="stable";const S=n.scoreGlobal-j;S>5?E="hausse":S<-5&&(E="baisse");const T=n.lacunes.filter(P=>P.niveauUrgence==="critique"||P.niveauUrgence==="important").map(P=>P.disciplineNom),D=n.objectifs.filter(P=>P.statut==="atteint").length,R=`${AD(i)} - ${AD(s)} ${s.getFullYear()}`;return{enfantId:t,enfantNom:e,semaine:R,dateDebut:i,dateFin:s,scoreGlobal:n.scoreGlobal,scoreGlobalPrecedent:j,evolutionScore:E,nombreQuizSemaine:f.length,tempsEstimeMinutes:Math.round(x),joursActifsSemaine:y.size,streakActuel:n.streak.streakActuel,derniersQuiz:p,evolutionDisciplines:g,lacunesCritiques:n.lacunes.filter(P=>P.niveauUrgence==="critique").length,lacunesImportantes:n.lacunes.filter(P=>P.niveauUrgence==="important").length,disciplinesEnDifficulte:T,objectifsAtteints:D,objectifsTotal:n.objectifs.length}}function Kpe(t,e){const n=new Map;t.forEach(s=>{n.has(s.disciplineId)||n.set(s.disciplineId,{scores:[],nom:s.disciplineNom||"Discipline"}),n.get(s.disciplineId).scores.push(s.pourcentage)});const r=new Map;e.forEach(s=>{r.has(s.disciplineId)||r.set(s.disciplineId,[]),r.get(s.disciplineId).push(s.pourcentage)});const i=[];return n.forEach((s,c)=>{const d=s.scores.reduce((j,E)=>j+E,0)/s.scores.length,f=r.get(c)||[],h=f.length>0?f.reduce((j,E)=>j+E,0)/f.length:d,p=Math.round(d/100*20*10)/10,g=Math.round(h/100*20*10)/10,y=Math.round((p-g)*10)/10;let x="stable";y>1?x="hausse":y<-1&&(x="baisse"),i.push({disciplineNom:s.nom,disciplineId:c,moyenneSemainePrecedente:g,moyenneSemaineCourante:p,evolution:x,ecart:y})}),i}function Wpe(t){return Zv(t)}function Qpe(t){return{lacune_critique:"Lacune critique",inactivite:"Inactivit",streak_perdu:"Streak perdu",objectif_atteint:"Objectif atteint",progression:"Progression",score_bas:"Score bas",nouveau_quiz:"Nouveau quiz"}[t]||"Alerte"}function TD(t){switch(t){case"hausse":return"";case"baisse":return"";case"stable":return"";default:return""}}function Ype(t){return t>=80?"Votre enfant fait un excellent travail ! Continuez  l'encourager. ":t>=60?"De bons rsultats ! Quelques efforts supplmentaires et ce sera parfait. ":t>=40?"Des progrs sont possibles. Encouragez votre enfant  suivre les recommandations. ":t>=20?"Votre enfant a besoin de soutien. Un suivi rgulier est recommand. ":"Il est temps de commencer ! Encouragez votre enfant  passer ses premiers quiz. "}function E1(t){const n=oV(t,new Date);return n===0?"Aujourd'hui":n===1?"Hier":n<7?`Il y a ${n} jours`:n<30?`Il y a ${Math.floor(n/7)} semaine(s)`:`Il y a ${Math.floor(n/30)} mois`}const Xpe="PROF",Zpe=4,yg="ABCDEFGHJKLMNPQRSTUVWXYZ23456789",lV=8,Jpe=7,ege=16;function Cc(t){return t instanceof it?t.toDate():t instanceof Date?t:t?.seconds?new it(t.seconds,t.nanoseconds||0).toDate():new Date(t)}function tge(t,e){return Math.floor(Math.abs(e.getTime()-t.getTime())/864e5)}async function cV(){let t=0;const e=10;for(;t<e;){let n="",r="";for(let d=0;d<Zpe;d++)n+=yg.charAt(Math.floor(Math.random()*yg.length)),r+=yg.charAt(Math.floor(Math.random()*yg.length));const i=`${Xpe}-${n}-${r}`,s=Ht(Et(Ae,"groupes_prof"),at("codeInvitation","==",i),ll(1));if((await Gt(s)).empty)return i;t++}throw new Error("Impossible de gnrer un code unique aprs plusieurs tentatives")}async function nge(t,e,n){try{const r=await cV(),i={profId:t,profNom:e,nom:n.nom.trim(),description:n.description?.trim()||"",matiereId:n.matiereId,matiereNom:n.matiereNom,classeNiveau:n.classeNiveau,codeInvitation:r,nombreInscrits:0,statut:"actif",anneeScolaire:n.anneeScolaire,dateCreation:new Date,dateMiseAJour:new Date},s=await Hs(Et(Ae,"groupes_prof"),i);return console.log(` Groupe "${n.nom}" cr avec code: ${r}`),{id:s.id,...i}}catch(r){throw console.error(" Erreur cration groupe:",r),new Error("Impossible de crer le groupe. Ressayez.")}}async function uV(t){try{const e=Ht(Et(Ae,"groupes_prof"),at("profId","==",t),Qr("dateCreation","desc"));return(await Gt(e)).docs.map(r=>({id:r.id,...r.data(),dateCreation:Cc(r.data().dateCreation),dateMiseAJour:r.data().dateMiseAJour?Cc(r.data().dateMiseAJour):void 0}))}catch(e){throw console.error(" Erreur rcupration groupes:",e),new Error("Impossible de charger vos groupes.")}}async function rge(t){try{const e=await oa(tt(Ae,"groupes_prof",t));if(!e.exists())return null;const n=e.data();return{id:e.id,...n,dateCreation:Cc(n.dateCreation),dateMiseAJour:n.dateMiseAJour?Cc(n.dateMiseAJour):void 0}}catch(e){return console.error(" Erreur rcupration groupe:",e),null}}async function ige(t,e){try{const n=tt(Ae,"groupes_prof",t);await Un(n,{...e,dateMiseAJour:new Date}),console.log(` Groupe ${t} mis  jour`)}catch(n){throw console.error(" Erreur modification groupe:",n),new Error("Impossible de modifier le groupe.")}}async function age(t){try{const e=jh(Ae),n=Ht(Et(Ae,"inscriptions_groupe"),at("groupeId","==",t));(await Gt(n)).docs.forEach(i=>e.delete(i.ref)),e.delete(tt(Ae,"groupes_prof",t)),await e.commit(),console.log(` Groupe ${t} et ses inscriptions supprims`)}catch(e){throw console.error(" Erreur suppression groupe:",e),new Error("Impossible de supprimer le groupe.")}}async function sge(t){await ige(t,{statut:"archive"})}async function oge(t){try{const e=await cV();return await Un(tt(Ae,"groupes_prof",t),{codeInvitation:e,dateMiseAJour:new Date}),console.log(` Nouveau code pour groupe ${t}: ${e}`),e}catch(e){throw console.error(" Erreur rgnration code:",e),new Error("Impossible de rgnrer le code.")}}async function lge(t,e,n,r){try{const i=r.trim().toUpperCase(),s=Ht(Et(Ae,"groupes_prof"),at("codeInvitation","==",i),ll(1)),c=await Gt(s);if(c.empty)throw new Error("Code d'invitation invalide. Vrifiez le code et ressayez.");const d=c.docs[0],f=d.data();if(f.statut!=="actif")throw new Error("Ce groupe n'accepte plus de nouvelles inscriptions.");const h=Ht(Et(Ae,"inscriptions_groupe"),at("groupeId","==",d.id),at("eleveId","==",t),at("statut","==","actif"),ll(1));if(!(await Gt(h)).empty)throw new Error("Tu es dj inscrit(e) dans ce groupe.");const g={groupeId:d.id,eleveId:t,eleveNom:e,eleveEmail:n,statut:"actif",dateInscription:new Date},y=await Hs(Et(Ae,"inscriptions_groupe"),g);return await Un(tt(Ae,"groupes_prof",d.id),{nombreInscrits:v4(1),dateMiseAJour:new Date}),console.log(` lve ${e} inscrit au groupe "${f.nom}"`),{id:y.id,...g}}catch(i){throw console.error(" Erreur inscription groupe:",i),i}}async function b0(t,e="actif"){try{const n=Ht(Et(Ae,"inscriptions_groupe"),at("groupeId","==",t),at("statut","==",e),Qr("dateInscription","asc"));return(await Gt(n)).docs.map(i=>({id:i.id,...i.data(),dateInscription:Cc(i.data().dateInscription),dateRetrait:i.data().dateRetrait?Cc(i.data().dateRetrait):void 0}))}catch(n){throw console.error(" Erreur rcupration lves groupe:",n),new Error("Impossible de charger les lves du groupe.")}}async function cge(t){try{const e=Ht(Et(Ae,"inscriptions_groupe"),at("eleveId","==",t),at("statut","==","actif")),n=await Gt(e);if(n.empty)return[];const r=[];for(const i of n.docs){const s=i.data().groupeId,c=await rge(s);c&&c.statut==="actif"&&r.push(c)}return r}catch(e){return console.error(" Erreur rcupration groupes lve:",e),[]}}async function uge(t,e){try{await Un(tt(Ae,"inscriptions_groupe",t),{statut:"retire",dateRetrait:new Date}),await Un(tt(Ae,"groupes_prof",e),{nombreInscrits:v4(-1),dateMiseAJour:new Date}),console.log(" lve retir du groupe")}catch(n){throw console.error(" Erreur retrait lve:",n),new Error("Impossible de retirer l'lve du groupe.")}}async function YS(t){try{const n=(await b0(t)).map(y=>y.eleveId);if(n.length===0)return{groupeId:t,nombreEleves:0,moyenneClasse:0,tauxReussite:0,tauxParticipation:0,totalQuizPasses:0,elevesEnDifficulte:0,meilleureNote:0,pireNote:0,derniereMiseAJour:new Date};const r=[],i=[];for(let y=0;y<n.length;y+=10)i.push(n.slice(y,y+10));for(const y of i){const x=Ht(Et(Ae,"quiz_results"),at("userId","in",y));(await Gt(x)).docs.forEach(E=>r.push({id:E.id,...E.data()}))}const s=new Map;for(const y of r){const x=y.userId;s.has(x)||s.set(x,{total:0,somme:0,reussis:0});const j=s.get(x);j.total++,j.somme+=y.score||0,(y.score||0)>=10&&j.reussis++}let c=0,d=0,f=0,h=0,p=20,g=0;for(const[,y]of s){const x=y.total>0?y.somme/y.total:0;c+=x,d++,g+=y.total,x<lV&&f++,x>h&&(h=x),x<p&&(p=x)}return d===0&&(p=0),{groupeId:t,nombreEleves:n.length,moyenneClasse:d>0?Math.round(c/d*10)/10:0,tauxReussite:g>0?Math.round(Array.from(s.values()).reduce((y,x)=>y+x.reussis,0)/g*100):0,tauxParticipation:Math.round(d/n.length*100),totalQuizPasses:g,elevesEnDifficulte:f,meilleureNote:Math.round(h*10)/10,pireNote:Math.round(p*10)/10,derniereMiseAJour:new Date}}catch(e){throw console.error(" Erreur calcul stats groupe:",e),new Error("Impossible de calculer les statistiques du groupe.")}}async function dge(t){try{const e=await b0(t);if(e.length===0)return[];const n=[];for(const r of e)try{const i=await QS(r.eleveId),s=Ht(Et(Ae,"quiz_results"),at("userId","==",r.eleveId),Qr("datePassage","desc")),d=(await Gt(s)).docs.map(x=>x.data());let f=0,h=0,p;if(d.length>0){const x=d.reduce((j,E)=>j+(E.score||0),0);f=Math.round(x/d.length*10)/10,h=Math.round(d.filter(j=>(j.score||0)>=10).length/d.length*100),p=Cc(d[0].datePassage)}let g="stable";if(d.length>=4){const x=d.slice(0,Math.ceil(d.length/2)),j=d.slice(Math.ceil(d.length/2)),E=x.reduce((T,D)=>T+(D.score||0),0)/x.length,S=j.reduce((T,D)=>T+(D.score||0),0)/j.length;E-S>1?g="hausse":S-E>1&&(g="baisse")}const y=i.lacunes.map(x=>({disciplineNom:x.disciplineNom,chapitre:x.chapitre,moyenne:x.moyenne,niveauUrgence:x.niveauUrgence}));n.push({eleveId:r.eleveId,eleveNom:r.eleveNom,eleveEmail:r.eleveEmail,moyenne:f,totalQuiz:d.length,tauxReussite:h,scoreGlobal:i.scoreGlobal,streak:{actuel:i.streak.streakActuel,meilleur:i.streak.meilleurStreak},lacunes:y,dernierQuiz:p,tendance:g})}catch(i){console.warn(` Suivi incomplet pour lve ${r.eleveNom}:`,i),n.push({eleveId:r.eleveId,eleveNom:r.eleveNom,eleveEmail:r.eleveEmail,moyenne:0,totalQuiz:0,tauxReussite:0,scoreGlobal:0,streak:{actuel:0,meilleur:0},lacunes:[],tendance:"stable"})}return n.sort((r,i)=>i.moyenne-r.moyenne),n}catch(e){throw console.error(" Erreur stats lves groupe:",e),new Error("Impossible de charger les statistiques des lves.")}}async function fge(t,e){try{const r=(await b0(t)).map(y=>y.eleveId);if(r.length===0)return null;const i=await oa(tt(Ae,"quizzes",e));if(!i.exists())return null;const s=i.data(),c=[],d=[];for(let y=0;y<r.length;y+=10)d.push(r.slice(y,y+10));for(const y of d){const x=Ht(Et(Ae,"quiz_results"),at("quizId","==",e),at("userId","in",y));(await Gt(x)).docs.forEach(E=>c.push(E.data()))}if(c.length===0)return null;const f=c.map(y=>y.score||0),h=c.map(y=>y.tempsEcoule||0),p=s.questions||[],g=[];for(let y=0;y<p.length;y++){const x=p[y];let j=0;const E=new Map;for(const D of c){const R=D.reponses?.[y];R!==void 0&&(E.set(R,(E.get(R)||0)+1),R!==x.reponseCorrecte&&j++)}const S=Math.round(j/c.length*100),T=Array.from(E.entries()).filter(([D])=>D!==x.reponseCorrecte).map(([D,R])=>({reponse:x.options?.[D]||`Option ${D+1}`,nombre:R})).sort((D,R)=>R.nombre-D.nombre);g.push({questionIndex:y,questionTexte:x.question,tauxEchec:S,reponseCorrecte:x.options?.[x.reponseCorrecte]||"N/A",reponsesFrequentes:T})}return g.sort((y,x)=>x.tauxEchec-y.tauxEchec),{quizId:e,quizTitre:s.titre||"Quiz sans titre",disciplineNom:s.disciplineNom||"",totalPassages:c.length,moyenneScore:Math.round(f.reduce((y,x)=>y+x,0)/f.length*10)/10,tauxReussite:Math.round(f.filter(y=>y>=10).length/f.length*100),tempsEcouleMoyen:Math.round(h.reduce((y,x)=>y+x,0)/h.length),questionsRatees:g}}catch(n){return console.error(" Erreur analyse quiz groupe:",n),null}}async function hge(t){try{const e=Ht(Et(Ae,"quizzes"),at("disciplineId","==",t),Qr("createdAt","desc"));return(await Gt(e)).docs.map(r=>({id:r.id,titre:r.data().titre||"Quiz sans titre"}))}catch(e){return console.error(" Erreur rcupration quiz par matire:",e),[]}}function mge(t,e){const n=[],r=new Date;for(const s of t){if(s.totalQuiz>0&&s.moyenne<lV&&n.push({id:`diff-${s.eleveId}`,type:"difficulte",eleveNom:s.eleveNom,eleveId:s.eleveId,groupeNom:e,message:`${s.eleveNom} a une moyenne de ${s.moyenne}/20. Lacunes : ${s.lacunes.map(c=>c.disciplineNom).join(", ")||"non dtectes"}.`,niveauUrgence:s.moyenne<5?"critique":"important",dateCreation:r}),s.dernierQuiz){const c=tge(s.dernierQuiz,r);c>=Jpe&&n.push({id:`inact-${s.eleveId}`,type:"inactivite",eleveNom:s.eleveNom,eleveId:s.eleveId,groupeNom:e,message:`${s.eleveNom} n'a pas fait de quiz depuis ${c} jours.`,niveauUrgence:c>=14?"important":"info",dateCreation:r})}else s.totalQuiz===0&&n.push({id:`inact-${s.eleveId}`,type:"inactivite",eleveNom:s.eleveNom,eleveId:s.eleveId,groupeNom:e,message:`${s.eleveNom} n'a encore pass aucun quiz.`,niveauUrgence:"info",dateCreation:r});s.tendance==="baisse"&&s.totalQuiz>=4&&n.push({id:`baisse-${s.eleveId}`,type:"baisse",eleveNom:s.eleveNom,eleveId:s.eleveId,groupeNom:e,message:`${s.eleveNom} est en baisse de rsultats (tendance ngative).`,niveauUrgence:"important",dateCreation:r}),s.moyenne>=ege&&s.totalQuiz>=3&&n.push({id:`felicite-${s.eleveId}`,type:"felicitation",eleveNom:s.eleveNom,eleveId:s.eleveId,groupeNom:e,message:`${s.eleveNom} excelle avec ${s.moyenne}/20 ! `,niveauUrgence:"info",dateCreation:r})}const i={critique:0,important:1,info:2};return n.sort((s,c)=>i[s.niveauUrgence]-i[c.niveauUrgence]),n}function pge(t,e){const n=["Nom","Email","Moyenne (/20)","Quiz passs","Taux russite (%)","Streak (jours)","Lacunes principales","Tendance"],r=t.map(s=>{const c=s.lacunes.map(d=>`${d.disciplineNom} (${d.moyenne}/20)`).join(" | ")||"Aucune";return[`"${s.eleveNom}"`,`"${s.eleveEmail}"`,s.moyenne.toString(),s.totalQuiz.toString(),s.tauxReussite.toString(),s.streak.actuel.toString(),`"${c}"`,s.tendance].join(",")});return"\uFEFF"+[n.join(","),...r].join(`
`)}function gge(t,e){const n=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`${e}.csv`,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}const vge=()=>{const{currentUser:t}=xr(),[e,n]=w.useState([]),[r,i]=w.useState(!1),[s,c]=w.useState(""),[d,f]=w.useState(!0),[h,p]=w.useState(!1),[g,y]=w.useState(null),[x,j]=w.useState(null),E=w.useCallback(async()=>{if(t?.uid)try{f(!0);const T=await cge(t.uid);n(T)}catch(T){console.error("Erreur chargement groupes:",T)}finally{f(!1)}},[t?.uid]);w.useEffect(()=>{E()},[E]);const S=async T=>{if(T.preventDefault(),!(!t?.uid||!s.trim()))try{p(!0),y(null),j(null),await lge(t.uid,t.displayName||t.email||"lve",t.email||"",s),j("Tu as rejoint le groupe avec succs ! "),c(""),i(!1),await E(),setTimeout(()=>j(null),5e3)}catch(D){y(D.message||"Impossible de rejoindre le groupe.")}finally{p(!1)}};return l.jsxs("div",{className:"rejoindre-groupe-section",children:[l.jsxs("div",{className:"rejoindre-groupe-header",children:[l.jsx("h3",{children:" Mes groupes-classes"}),l.jsx("button",{className:"prof-btn prof-btn-primary prof-btn-sm",onClick:()=>i(!r),children:r?" Annuler":" Rejoindre un groupe"})]}),g&&l.jsxs("div",{className:"prof-alert prof-alert-error",children:[" ",g,l.jsx("button",{onClick:()=>y(null),className:"prof-alert-close",children:""})]}),x&&l.jsx("div",{className:"prof-alert",style:{background:"#d1fae5",border:"1px solid #a7f3d0",color:"#065f46"},children:x}),r&&l.jsxs("div",{className:"groupe-form-container",style:{marginBottom:"1rem"},children:[l.jsx("p",{style:{marginBottom:"0.75rem",color:"#6b7280",fontSize:"0.875rem"},children:"Saisis le code donn par ton professeur (format: PROF-XXXX-XXXX)"}),l.jsxs("form",{onSubmit:S,style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[l.jsx("input",{type:"text",placeholder:"PROF-XXXX-XXXX",value:s,onChange:T=>c(T.target.value.toUpperCase()),maxLength:14,disabled:h,className:"prof-input",style:{flex:1,maxWidth:"280px",fontFamily:"monospace",letterSpacing:"2px"}}),l.jsx("button",{type:"submit",className:"prof-btn prof-btn-primary",disabled:h||s.length<14,children:h?" Vrification...":" Rejoindre"})]})]}),d?l.jsx("p",{style:{color:"#9ca3af",textAlign:"center",padding:"1rem"},children:"Chargement..."}):e.length===0?l.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#9ca3af"},children:[l.jsx("p",{children:"Tu n'es inscrit(e) dans aucun groupe-classe."}),l.jsx("p",{style:{fontSize:"0.875rem"},children:"Demande  ton professeur un code d'invitation pour rejoindre son groupe."})]}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:e.map(T=>l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem",background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[l.jsxs("div",{children:[l.jsx("strong",{style:{color:"#1f2937"},children:T.nom}),l.jsxs("span",{style:{display:"block",fontSize:"0.75rem",color:"#9ca3af"},children:[T.matiereNom,"  Prof: ",T.profNom]})]}),l.jsx("span",{style:{fontSize:"0.875rem",color:"#10b981",fontWeight:600},children:" Inscrit(e)"})]},T.id))})]})},yge=()=>{const t=Xa(),{currentUser:e}=xr(),[n,r]=w.useState(null),[i,s]=w.useState([]),[c,d]=w.useState([]),[f,h]=w.useState([]),[p,g]=w.useState([]),[y,x]=w.useState([]),[j,E]=w.useState(!0),[S,T]=w.useState("overview"),[D,R]=w.useState(null),[P,$]=w.useState(!1),[B,I]=w.useState(!1),O=async()=>{if(e){$(!0);try{const M=await Vpe(e.uid);R(M)}catch(M){console.error("Erreur gnration code parent :",M)}finally{$(!1)}}},k=()=>{D&&(navigator.clipboard.writeText(D),I(!0),setTimeout(()=>I(!1),2e3))};if(w.useEffect(()=>{(async()=>{if(e){E(!0);try{const[W,Q,H,oe,be]=await Promise.all([ZY(e.uid),JY(e.uid),eX(e.uid,20),Sy(e.uid,10),$4().catch(()=>[])]);r(W),s(Q),d(H),h(oe),g(be);const Ee=tX(W,Q);x(Ee)}catch(W){console.error("Erreur chargement dashboard :",W)}finally{E(!1)}}})()},[e]),j)return l.jsxs("div",{className:"sd-loading",children:[l.jsx("div",{className:"admin-spinner"}),l.jsx("p",{children:"Chargement de votre tableau de bord..."})]});const V=y.filter(M=>M.obtenu),U=y.length,z=e?.displayName||e?.email?.split("@")[0]||"lve";return l.jsxs("div",{className:"student-dashboard",children:[l.jsxs("div",{className:"sd-welcome",children:[l.jsxs("div",{className:"sd-welcome-text",children:[l.jsxs("h1",{children:["Bienvenue, ",z," "]}),l.jsx("p",{children:n&&n.totalQuizPasses>0?`Vous avez pass ${n.totalQuizPasses} quiz${n.totalQuizPasses>1,""} avec une moyenne de ${n.moyenneGenerale}%. Continuez !`:"Commencez par passer votre premier quiz pour suivre votre progression !"})]}),e?.isPremium&&l.jsxs("span",{className:"sd-premium-badge",children:[l.jsx(di,{size:14})," Premium"]})]}),l.jsxs("div",{className:"sd-stats-grid",children:[l.jsxs("div",{className:"sd-stat-card",children:[l.jsx("div",{className:"sd-stat-icon",style:{background:"#eff6ff",color:"#3b82f6"},children:l.jsx(ra,{size:22})}),l.jsxs("div",{className:"sd-stat-content",children:[l.jsx("span",{className:"sd-stat-value",children:n?.totalQuizPasses||0}),l.jsx("span",{className:"sd-stat-label",children:"Quiz passs"})]})]}),l.jsxs("div",{className:"sd-stat-card",children:[l.jsx("div",{className:"sd-stat-icon",style:{background:"#f0fdf4",color:"#10b981"},children:l.jsx(EO,{size:22})}),l.jsxs("div",{className:"sd-stat-content",children:[l.jsxs("span",{className:"sd-stat-value",style:{color:Lu(n?.moyenneGenerale||0)},children:[n?.moyenneGenerale||0,"%"]}),l.jsx("span",{className:"sd-stat-label",children:"Moyenne gnrale"})]})]}),l.jsxs("div",{className:"sd-stat-card",children:[l.jsx("div",{className:"sd-stat-icon",style:{background:"#fefce8",color:"#f59e0b"},children:l.jsx(V4,{size:22})}),l.jsxs("div",{className:"sd-stat-content",children:[l.jsxs("span",{className:"sd-stat-value",children:[n?.meilleurScore||0,"%"]}),l.jsx("span",{className:"sd-stat-label",children:"Meilleur score"})]})]}),l.jsxs("div",{className:"sd-stat-card",children:[l.jsx("div",{className:"sd-stat-icon",style:{background:"#fef2f2",color:"#ef4444"},children:l.jsx(q4,{size:22})}),l.jsxs("div",{className:"sd-stat-content",children:[l.jsx("span",{className:"sd-stat-value",children:n?.serieReussites||0}),l.jsx("span",{className:"sd-stat-label",children:"Srie en cours "})]})]})]}),l.jsxs("div",{className:"sd-chart-card",style:{marginBottom:"1.5rem"},children:[l.jsx("h3",{className:"sd-section-title",children:" Code Parent"}),l.jsx("p",{style:{color:"#6b7280",fontSize:"0.9rem",marginBottom:"1rem"},children:"Partagez ce code avec vos parents pour qu'ils puissent suivre votre progression depuis leur Espace Parent."}),D?l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[l.jsx("span",{style:{fontFamily:"monospace",fontSize:"1.4rem",fontWeight:700,letterSpacing:"0.1em",background:"#eff6ff",color:"#2563eb",padding:"0.75rem 1.5rem",borderRadius:"12px",border:"2px dashed #93c5fd",userSelect:"all"},children:D}),l.jsx("button",{className:"sd-btn",onClick:k,style:{display:"inline-flex",alignItems:"center",gap:"0.4rem",background:B?"#10b981":"#f3f4f6",color:B?"#fff":"#374151",border:"none",padding:"0.6rem 1rem",borderRadius:"8px",cursor:"pointer",fontWeight:500,transition:"all 0.2s"},children:B?" Copi !":" Copier"})]}):l.jsx("button",{className:"sd-btn sd-btn-primary",onClick:O,disabled:P,style:{display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:P?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"admin-spinner",style:{width:"16px",height:"16px"}}),"Gnration..."]}):l.jsx(l.Fragment,{children:" Gnrer mon code"})})]}),l.jsx("div",{className:"sd-chart-card",style:{marginBottom:"1.5rem"},children:l.jsx(vge,{})}),l.jsxs("div",{className:"sd-tabs",children:[l.jsxs("button",{className:`sd-tab ${S==="overview"?"active":""}`,onClick:()=>T("overview"),children:[l.jsx(Qu,{size:16})," Vue d'ensemble"]}),l.jsxs("button",{className:`sd-tab ${S==="history"?"active":""}`,onClick:()=>T("history"),children:[l.jsx(z_,{size:16})," Historique"]}),l.jsxs("button",{className:`sd-tab ${S==="badges"?"active":""}`,onClick:()=>T("badges"),children:[l.jsx(_c,{size:16})," Badges (",V.length,"/",U,")"]})]}),S==="overview"&&l.jsxs("div",{className:"sd-overview",children:[c.length>1&&l.jsxs("div",{className:"sd-chart-card",children:[l.jsxs("h3",{className:"sd-section-title",children:[l.jsx(iw,{size:18})," volution de vos scores"]}),l.jsx("div",{className:"sd-chart-container",children:l.jsx(uI,{width:"100%",height:280,children:l.jsxs(ype,{data:c,children:[l.jsx(Yw,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),l.jsx(tE,{dataKey:"date",tick:{fontSize:12,fill:"#6b7280"},tickLine:!1}),l.jsx(iE,{domain:[0,100],tick:{fontSize:12,fill:"#6b7280"},tickLine:!1,unit:"%"}),l.jsx(vk,{formatter:M=>[`${M}%`,"Score"],labelFormatter:M=>`Date : ${M}`,contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb",boxShadow:"0 4px 6px rgba(0,0,0,0.07)"}}),l.jsx(UU,{type:"monotone",dataKey:"score",stroke:"#3b82f6",strokeWidth:2.5,dot:{r:4,fill:"#3b82f6",stroke:"#fff",strokeWidth:2},activeDot:{r:6}})]})})})]}),i.length>0&&l.jsxs("div",{className:"sd-chart-card",children:[l.jsxs("h3",{className:"sd-section-title",children:[l.jsx(Qu,{size:18})," Progression par discipline"]}),l.jsx("div",{className:"sd-chart-container",children:l.jsx(uI,{width:"100%",height:280,children:l.jsxs(_pe,{data:i,layout:"vertical",children:[l.jsx(Yw,{strokeDasharray:"3 3",stroke:"#e5e7eb",horizontal:!1}),l.jsx(tE,{type:"number",domain:[0,100],tick:{fontSize:12,fill:"#6b7280"},unit:"%"}),l.jsx(iE,{type:"category",dataKey:"disciplineNom",width:120,tick:{fontSize:12,fill:"#374151"}}),l.jsx(vk,{formatter:M=>[`${M}%`,"Moyenne"],contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb",boxShadow:"0 4px 6px rgba(0,0,0,0.07)"}}),l.jsx(FU,{dataKey:"moyenne",radius:[0,6,6,0],barSize:24,children:i.map((M,W)=>l.jsx(zS,{fill:Lu(M.moyenne)},W))})]})})}),l.jsx("div",{className:"sd-disc-list",children:i.map(M=>l.jsxs("div",{className:"sd-disc-card",children:[l.jsxs("div",{className:"sd-disc-header",children:[l.jsx("span",{className:"sd-disc-name",children:M.disciplineNom}),l.jsxs("span",{className:"sd-disc-tendance",children:[M.tendance==="up"&&l.jsx(iw,{size:16,className:"tendance-up"}),M.tendance==="down"&&l.jsx(eY,{size:16,className:"tendance-down"}),M.tendance==="stable"&&l.jsx(PQ,{size:16,className:"tendance-stable"})]})]}),l.jsxs("div",{className:"sd-disc-stats",children:[l.jsxs("div",{className:"sd-disc-stat",children:[l.jsxs("span",{className:"sd-disc-stat-value",style:{color:Lu(M.moyenne)},children:[M.moyenne,"%"]}),l.jsx("span",{className:"sd-disc-stat-label",children:"Moyenne"})]}),l.jsxs("div",{className:"sd-disc-stat",children:[l.jsx("span",{className:"sd-disc-stat-value",children:M.nombreQuiz}),l.jsx("span",{className:"sd-disc-stat-label",children:"Quiz"})]}),l.jsxs("div",{className:"sd-disc-stat",children:[l.jsxs("span",{className:"sd-disc-stat-value",children:[M.meilleurScore,"%"]}),l.jsx("span",{className:"sd-disc-stat-label",children:"Meilleur"})]}),l.jsxs("div",{className:"sd-disc-stat",children:[l.jsxs("span",{className:"sd-disc-stat-value",children:[M.quizReussis,"/",M.nombreQuiz]}),l.jsx("span",{className:"sd-disc-stat-label",children:"Russis"})]})]}),l.jsx("div",{className:"sd-disc-bar",children:l.jsx("div",{className:"sd-disc-bar-fill",style:{width:`${M.moyenne}%`,background:Lu(M.moyenne)}})})]},M.disciplineId))})]}),p.length>0&&l.jsxs("div",{className:"sd-chart-card",children:[l.jsxs("h3",{className:"sd-section-title",children:[l.jsx(ch,{size:18})," Quiz disponibles"]}),l.jsx("div",{className:"sd-quiz-grid",children:p.slice(0,6).map(M=>{const W=M.isPremium&&!e?.isPremium;return l.jsxs("div",{className:`sd-quiz-card ${W?"locked":""}`,onClick:()=>!W&&t(`/quiz/${M.id}`),children:[M.isPremium&&l.jsxs("span",{className:"sd-quiz-badge-premium",children:[W?l.jsx(rw,{size:10}):l.jsx(di,{size:10})," Premium"]}),l.jsx("h4",{className:"sd-quiz-title",children:M.titre}),l.jsxs("div",{className:"sd-quiz-meta",children:[l.jsxs("span",{children:[l.jsx(ra,{size:12})," ",M.questions.length," questions"]}),l.jsxs("span",{children:[l.jsx(ad,{size:12})," ",M.duree," min"]})]}),!W&&l.jsxs("button",{className:"sd-quiz-play-btn",children:[l.jsx(ch,{size:14})," Commencer"]}),W&&l.jsxs("button",{className:"sd-quiz-unlock-btn",onClick:Q=>{Q.stopPropagation(),t("/premium")},children:[l.jsx(rw,{size:14})," Dbloquer"]})]},M.id)})})]}),n&&n.totalQuizPasses===0&&l.jsxs("div",{className:"sd-empty-state",children:[l.jsx(EO,{size:48}),l.jsx("h3",{children:"Commencez votre parcours !"}),l.jsx("p",{children:"Passez votre premier quiz pour voir votre progression ici."}),p.length>0&&l.jsxs("button",{className:"sd-btn sd-btn-primary",onClick:()=>t(`/quiz/${p[0].id}`),children:[l.jsx(ch,{size:18})," Passer un quiz"]})]})]}),S==="history"&&l.jsx("div",{className:"sd-history",children:f.length===0?l.jsxs("div",{className:"sd-empty-state",children:[l.jsx(z_,{size:48}),l.jsx("h3",{children:"Aucun quiz pass"}),l.jsx("p",{children:"Votre historique apparatra ici aprs avoir pass des quiz."})]}):l.jsx("div",{className:"sd-history-list",children:f.map(M=>{const W=M.datePassage?.toDate?M.datePassage.toDate():new Date(M.datePassage);return l.jsxs("div",{className:`sd-history-item ${M.reussi?"success":"fail"}`,children:[l.jsx("div",{className:`sd-history-icon ${M.reussi?"success":"fail"}`,children:M.reussi?l.jsx(gn,{size:20}):l.jsx(ew,{size:20})}),l.jsxs("div",{className:"sd-history-content",children:[l.jsxs("div",{className:"sd-history-top",children:[l.jsx("span",{className:"sd-history-title",children:M.quizTitre}),l.jsx("span",{className:"sd-history-discipline",children:M.disciplineNom})]}),l.jsxs("div",{className:"sd-history-meta",children:[l.jsxs("span",{children:[l.jsx(z_,{size:12}),W.toLocaleDateString("fr-SN",{day:"2-digit",month:"long",year:"numeric"})]}),l.jsxs("span",{children:[l.jsx(ad,{size:12})," ",G4(M.tempsEcoule)]}),l.jsxs("span",{children:[l.jsx(gn,{size:12})," ",M.bonnesReponses,"/",M.nombreQuestions]})]})]}),l.jsxs("div",{className:"sd-history-score",style:{color:Lu(M.pourcentage)},children:[l.jsxs("span",{className:"sd-history-score-value",children:[M.pourcentage,"%"]}),l.jsx("span",{className:"sd-history-score-label",children:K4(M.pourcentage)})]})]},M.id)})})}),S==="badges"&&l.jsxs("div",{className:"sd-badges",children:[l.jsxs("div",{className:"sd-badges-summary",children:[l.jsxs("div",{className:"sd-badges-circle",children:[l.jsx("span",{className:"sd-badges-count",children:V.length}),l.jsxs("span",{className:"sd-badges-total",children:["/ ",U]})]}),l.jsx("p",{children:"badges obtenus"}),l.jsx("div",{className:"sd-badges-progress",children:l.jsx("div",{className:"sd-badges-progress-fill",style:{width:`${V.length/U*100}%`}})})]}),l.jsx("div",{className:"sd-badges-grid",children:y.map(M=>l.jsxs("div",{className:`sd-badge-card ${M.obtenu?"obtained":"locked"}`,children:[l.jsx("span",{className:"sd-badge-icon",children:M.icone}),l.jsx("h4",{className:"sd-badge-name",children:M.nom}),l.jsx("p",{className:"sd-badge-description",children:M.description}),l.jsx("span",{className:"sd-badge-condition",children:M.condition}),M.obtenu&&l.jsx("span",{className:"sd-badge-obtained-tag",children:" Obtenu"})]},M.id))})]})]})},bge=()=>{const{currentUser:t}=xr(),e=Xa(),[n,r]=w.useState(null),[i,s]=w.useState(!0),[c,d]=w.useState(null),f=["L","M","M","J","V","S","D"],h=w.useCallback(async()=>{if(t?.uid)try{s(!0),d(null);const R=await QS(t.uid);r(R)}catch(R){console.error("Erreur chargement suivi:",R),d("Impossible de charger ton suivi. Vrifie ta connexion et ressaie.")}finally{s(!1)}},[t?.uid]);w.useEffect(()=>{h()},[h]);const p=(()=>{const R=new Date().getDay();return R===0?6:R-1})();if(i)return l.jsx("div",{className:"suivi-page",children:l.jsx("div",{className:"suivi-container",children:l.jsxs("div",{className:"suivi-loading",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{className:"suivi-loading-text",children:"Analyse de ta progression en cours..."})]})})});if(c)return l.jsx("div",{className:"suivi-page",children:l.jsx("div",{className:"suivi-container",children:l.jsxs("div",{className:"suivi-error",children:[l.jsx("p",{className:"suivi-error-title",children:" Erreur de chargement"}),l.jsx("p",{className:"suivi-error-text",children:c}),l.jsx("button",{className:"suivi-btn-retry",onClick:h,children:" Ressayer"})]})})});if(!n)return null;const{lacunes:g,recommandations:y,streak:x,objectifs:j,scoreGlobal:E}=n,S=2*Math.PI*40,T=S-E/100*S,D=E>=60?"#10b981":E>=30?"#f59e0b":"#ef4444";return l.jsx("div",{className:"suivi-page",children:l.jsxs("div",{className:"suivi-container",children:[l.jsx("div",{className:"suivi-header",children:l.jsxs("div",{className:"suivi-header-content",children:[l.jsxs("div",{children:[l.jsx("h1",{children:" Mes points  amliorer"}),l.jsx("p",{className:"suivi-motivation",children:Ipe(E)})]}),l.jsxs("div",{className:"score-global-circle",children:[l.jsxs("svg",{className:"score-circle-svg",viewBox:"0 0 100 100",children:[l.jsx("circle",{className:"score-circle-bg",cx:"50",cy:"50",r:"40"}),l.jsx("circle",{className:"score-circle-progress",cx:"50",cy:"50",r:"40",stroke:D,strokeDasharray:S,strokeDashoffset:T}),l.jsx("text",{className:"score-circle-text",x:"50",y:"50",children:E})]}),l.jsx("span",{className:"score-global-label",children:"Score global"})]})]})}),l.jsxs("div",{className:"streak-card",children:[l.jsxs("div",{className:"streak-header",children:[l.jsx("span",{className:"streak-flamme",children:x.streakActuel>0?"":""}),l.jsxs("div",{children:[l.jsx("div",{className:"streak-nombre",children:x.streakActuel}),l.jsx("div",{className:"streak-label",children:x.streakActuel<=1?"jour conscutif":"jours conscutifs"})]})]}),l.jsx("div",{className:"streak-semaine",children:f.map((R,P)=>l.jsxs("div",{className:"streak-jour",children:[l.jsx("span",{className:"streak-jour-label",children:R}),l.jsx("div",{className:`streak-jour-indicateur ${x.semaineCourante[P]?"actif":"inactif"} ${P===p?"aujourd-hui":""}`,children:x.semaineCourante[P]?"":""})]},P))}),l.jsxs("div",{className:"streak-stats",children:[l.jsxs("div",{className:"streak-stat",children:[l.jsx("span",{className:"streak-stat-icon",children:""}),l.jsx("span",{className:"streak-stat-value",children:x.meilleurStreak}),l.jsx("span",{className:"streak-stat-label",children:"record"})]}),l.jsxs("div",{className:"streak-stat",children:[l.jsx("span",{className:"streak-stat-icon",children:""}),l.jsx("span",{className:"streak-stat-value",children:x.totalJoursActifs}),l.jsx("span",{className:"streak-stat-label",children:"jours actifs au total"})]}),x.dernierJourActif&&l.jsxs("div",{className:"streak-stat",children:[l.jsx("span",{className:"streak-stat-icon",children:""}),l.jsxs("span",{className:"streak-stat-label",children:["Dernier quiz : ",new Date(x.dernierJourActif).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})]})]})]})]}),l.jsxs("h2",{className:"suivi-section-title",children:[" Objectifs de la semaine",l.jsx("span",{className:"suivi-section-badge",children:j.length})]}),j.length>0?l.jsx("div",{className:"objectifs-grid",children:j.map(R=>{const P=Rpe(R);return l.jsxs("div",{className:`objectif-card ${R.statut==="atteint"?"atteint":""}`,children:[l.jsxs("div",{className:"objectif-header",children:[l.jsx("span",{className:"objectif-titre",children:R.titre}),R.recompense&&l.jsx("span",{className:"objectif-recompense",children:R.recompense})]}),l.jsx("p",{className:"objectif-description",children:R.description}),l.jsxs("div",{className:"objectif-progress",children:[l.jsxs("div",{className:"objectif-progress-labels",children:[l.jsxs("span",{className:"objectif-progress-value",children:[R.progression," / ",R.cible]}),l.jsxs("span",{className:"objectif-progress-cible",children:[P,"%"]})]}),l.jsx("div",{className:"objectif-progress-track",children:l.jsx("div",{className:`objectif-progress-fill ${R.statut==="atteint"?"atteint":""}`,style:{width:`${P}%`}})})]}),l.jsx("p",{className:`objectif-statut ${R.statut}`,children:R.statut==="atteint"?" Objectif atteint !":R.statut==="en_cours"?" En cours...":" Non commenc"})]},R.id)})}):l.jsxs("div",{className:"suivi-empty",children:[l.jsx("div",{className:"suivi-empty-icon",children:""}),l.jsx("p",{className:"suivi-empty-title",children:"Pas encore d'objectifs"}),l.jsx("p",{className:"suivi-empty-text",children:"Passe ton premier quiz pour dbloquer tes objectifs hebdomadaires !"})]}),l.jsxs("h2",{className:"suivi-section-title",children:[" Points faibles dtects",g.length>0&&l.jsx("span",{className:"suivi-section-badge",children:g.length})]}),g.length>0?l.jsx("div",{className:"lacunes-grid",children:g.map(R=>l.jsxs("div",{className:`lacune-card ${R.niveauUrgence}`,children:[l.jsxs("div",{className:"lacune-card-header",children:[l.jsx("span",{className:"lacune-discipline",children:R.disciplineNom}),l.jsx("span",{className:`lacune-badge ${R.niveauUrgence}`,children:rV(R.niveauUrgence)})]}),l.jsxs("div",{className:"lacune-score-bar",children:[l.jsxs("div",{className:"lacune-score-labels",children:[l.jsxs("span",{className:"lacune-score-value",style:{color:Zv(R.niveauUrgence)},children:[R.moyenne,"/20"]}),l.jsx("span",{className:"lacune-score-objectif",children:"Objectif : 14/20"})]}),l.jsx("div",{className:"lacune-progress-track",children:l.jsx("div",{className:`lacune-progress-fill ${R.niveauUrgence}`,style:{width:`${R.moyenne/20*100}%`}})})]}),l.jsxs("div",{className:"lacune-details",children:[l.jsxs("span",{className:"lacune-detail-tag",children:[iV(R.tendance)," ",R.tendance]}),l.jsxs("span",{className:"lacune-detail-tag",children:[" ",R.nombreQuiz," quiz"]}),l.jsxs("span",{className:"lacune-detail-tag",children:["Dernier : ",R.scoreDetails.dernierScore,"/20"]})]})]},R.id))}):l.jsxs("div",{className:"suivi-empty",children:[l.jsx("div",{className:"suivi-empty-icon",children:""}),l.jsx("p",{className:"suivi-empty-title",children:"Aucune lacune dtecte !"}),l.jsx("p",{className:"suivi-empty-text",children:E>0?"Toutes tes moyennes sont au-dessus de 14/20. Bravo, continue !":"Passe des quiz pour que l'analyse puisse commencer."}),l.jsx("button",{className:"suivi-cta-btn",onClick:()=>e("/disciplines"),style:{marginTop:"1rem"},children:" Voir les disciplines"})]}),y.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("h2",{className:"suivi-section-title",children:[" Recommandations personnalises",l.jsx("span",{className:"suivi-section-badge",children:y.length})]}),l.jsx("div",{className:"recommandations-list",children:y.map(R=>l.jsxs("div",{className:"recommandation-card",children:[l.jsx("div",{className:"recommandation-priorite",children:R.priorite}),l.jsxs("div",{className:"recommandation-content",children:[l.jsx("p",{className:"recommandation-titre",children:R.titre}),l.jsx("p",{className:"recommandation-description",children:R.description}),l.jsx("span",{className:"recommandation-discipline-tag",children:R.disciplineNom})]})]},R.id))})]}),l.jsx("div",{style:{textAlign:"center",marginTop:"1rem",marginBottom:"2rem"},children:l.jsx("button",{className:"suivi-cta-btn",onClick:()=>e("/disciplines"),children:" Passer un quiz maintenant"})})]})})},_ge=["2024-2025","2025-2026","2026-2027"],xge=[{value:"6eme",label:"6me"},{value:"5eme",label:"5me"},{value:"4eme",label:"4me"},{value:"3eme",label:"3me"},{value:"2nde",label:"2nde"},{value:"1ere",label:"1re"},{value:"Terminale",label:"Terminale"}],wge=({onSelectGroupe:t})=>{const{currentUser:e}=xr(),[n,r]=w.useState([]),[i,s]=w.useState(new Map),[c,d]=w.useState(!0),[f,h]=w.useState(null),[p,g]=w.useState(!1),[y,x]=w.useState(!1),[j,E]=w.useState(null),[S,T]=w.useState(null),[D,R]=w.useState({nom:"",description:"",matiereId:"",matiereNom:"",classeNiveau:"6eme",anneeScolaire:"2024-2025"}),[P,$]=w.useState("actif"),B=w.useCallback(async()=>{if(e?.uid)try{d(!0),h(null);const W=await uV(e.uid);r(W);const Q=new Map;for(const H of W)if(H.statut==="actif")try{const oe=await YS(H.id);Q.set(H.id,oe)}catch{console.warn(`Stats indisponibles pour ${H.nom}`)}s(Q)}catch(W){console.error("Erreur chargement groupes:",W),h("Impossible de charger vos groupes. Vrifiez votre connexion.")}finally{d(!1)}},[e?.uid]);w.useEffect(()=>{B()},[B]);const I=async W=>{if(W.preventDefault(),!(!e?.uid||!D.nom.trim()))try{x(!0),await nge(e.uid,e.displayName||e.email||"Professeur",D),R({nom:"",description:"",matiereId:"",matiereNom:"",classeNiveau:"6eme",anneeScolaire:"2024-2025"}),g(!1),await B()}catch(Q){h(Q.message||"Erreur lors de la cration du groupe.")}finally{x(!1)}},O=async W=>{try{await navigator.clipboard.writeText(W),E(W),setTimeout(()=>E(null),2e3)}catch{const Q=document.createElement("textarea");Q.value=W,document.body.appendChild(Q),Q.select(),document.execCommand("copy"),document.body.removeChild(Q),E(W),setTimeout(()=>E(null),2e3)}},k=async W=>{try{await age(W),T(null),await B()}catch(Q){h(Q.message)}},V=async W=>{try{await sge(W),await B()}catch(Q){h(Q.message)}},U=async W=>{try{await oge(W),await B()}catch(Q){h(Q.message)}},z=(W,Q)=>{R(H=>({...H,[W]:Q}))},M=n.filter(W=>P==="tous"?!0:W.statut===P);return c?l.jsxs("div",{className:"prof-loading",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Chargement de vos groupes-classes..."})]}):l.jsxs("div",{className:"groupe-manager",children:[l.jsxs("div",{className:"groupe-manager-header",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"groupe-manager-titre",children:"Mes groupes-classes"}),l.jsxs("p",{className:"groupe-manager-subtitle",children:[n.length," groupe",n.length!==1?"s":"","  Anne ",D.anneeScolaire]})]}),l.jsx("button",{className:"prof-btn prof-btn-primary",onClick:()=>g(!p),children:p?" Annuler":" Nouveau groupe"})]}),f&&l.jsxs("div",{className:"prof-alert prof-alert-error",children:[l.jsx("span",{children:""})," ",f,l.jsx("button",{onClick:()=>h(null),className:"prof-alert-close",children:""})]}),p&&l.jsxs("div",{className:"groupe-form-container",children:[l.jsx("h3",{children:"Crer un nouveau groupe-classe"}),l.jsxs("form",{onSubmit:I,className:"groupe-form",children:[l.jsxs("div",{className:"prof-form-group",children:[l.jsx("label",{htmlFor:"groupe-nom",children:"Nom du groupe *"}),l.jsx("input",{id:"groupe-nom",type:"text",placeholder:"Ex: 3me A - Maths 2025",value:D.nom,onChange:W=>z("nom",W.target.value),required:!0,className:"prof-input",maxLength:60})]}),l.jsxs("div",{className:"prof-form-group",children:[l.jsx("label",{htmlFor:"groupe-desc",children:"Description (optionnelle)"}),l.jsx("input",{id:"groupe-desc",type:"text",placeholder:"Ex: Cours du mardi et jeudi matin",value:D.description||"",onChange:W=>z("description",W.target.value),className:"prof-input",maxLength:120})]}),l.jsxs("div",{className:"prof-form-row",children:[l.jsxs("div",{className:"prof-form-group",children:[l.jsx("label",{htmlFor:"groupe-niveau",children:"Niveau de classe *"}),l.jsx("select",{id:"groupe-niveau",value:D.classeNiveau,onChange:W=>z("classeNiveau",W.target.value),className:"prof-select",children:xge.map(W=>l.jsx("option",{value:W.value,children:W.label},W.value))})]}),l.jsxs("div",{className:"prof-form-group",children:[l.jsx("label",{htmlFor:"groupe-annee",children:"Anne scolaire *"}),l.jsx("select",{id:"groupe-annee",value:D.anneeScolaire,onChange:W=>z("anneeScolaire",W.target.value),className:"prof-select",children:_ge.map(W=>l.jsx("option",{value:W,children:W},W))})]})]}),l.jsxs("div",{className:"prof-form-row",children:[l.jsxs("div",{className:"prof-form-group",children:[l.jsx("label",{htmlFor:"groupe-matiere-id",children:"ID Matire *"}),l.jsx("input",{id:"groupe-matiere-id",type:"text",placeholder:"Ex: maths_3eme",value:D.matiereId,onChange:W=>z("matiereId",W.target.value),required:!0,className:"prof-input"})]}),l.jsxs("div",{className:"prof-form-group",children:[l.jsx("label",{htmlFor:"groupe-matiere-nom",children:"Nom de la matire *"}),l.jsx("input",{id:"groupe-matiere-nom",type:"text",placeholder:"Ex: Mathmatiques",value:D.matiereNom,onChange:W=>z("matiereNom",W.target.value),required:!0,className:"prof-input"})]})]}),l.jsx("div",{className:"prof-form-actions",children:l.jsx("button",{type:"submit",className:"prof-btn prof-btn-primary",disabled:y||!D.nom.trim(),children:y?" Cration...":" Crer le groupe"})})]})]}),l.jsxs("div",{className:"groupe-filtres",children:[l.jsxs("button",{className:`prof-filtre-btn ${P==="actif"?"active":""}`,onClick:()=>$("actif"),children:["Actifs (",n.filter(W=>W.statut==="actif").length,")"]}),l.jsxs("button",{className:`prof-filtre-btn ${P==="archive"?"active":""}`,onClick:()=>$("archive"),children:["Archivs (",n.filter(W=>W.statut==="archive").length,")"]}),l.jsxs("button",{className:`prof-filtre-btn ${P==="tous"?"active":""}`,onClick:()=>$("tous"),children:["Tous (",n.length,")"]})]}),M.length===0?l.jsxs("div",{className:"prof-empty-state",children:[l.jsx("div",{className:"prof-empty-icon",children:""}),l.jsx("h3",{children:P==="archive"?"Aucun groupe archiv":"Aucun groupe-classe cr"}),l.jsx("p",{children:P==="archive"?"Vos groupes archivs apparatront ici.":"Crez votre premier groupe-classe pour commencer  suivre vos lves."}),P!=="archive"&&l.jsx("button",{className:"prof-btn prof-btn-primary",onClick:()=>g(!0),children:" Crer mon premier groupe"})]}):l.jsx("div",{className:"groupe-grid",children:M.map(W=>{const Q=i.get(W.id);return l.jsxs("div",{className:`groupe-card ${W.statut==="archive"?"groupe-card-archive":""}`,children:[l.jsxs("div",{className:"groupe-card-header",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"groupe-card-titre",children:W.nom}),l.jsx("span",{className:"groupe-card-matiere",children:W.matiereNom})]}),l.jsx("span",{className:`groupe-badge groupe-badge-${W.statut}`,children:W.statut==="actif"?" Actif":" Archiv"})]}),l.jsxs("div",{className:"groupe-card-infos",children:[l.jsxs("span",{children:[" ",W.classeNiveau]}),l.jsxs("span",{children:[" ",W.anneeScolaire]}),l.jsxs("span",{children:[" ",W.nombreInscrits," lve",W.nombreInscrits!==1?"s":""]})]}),l.jsxs("div",{className:"groupe-card-code",children:[l.jsx("span",{className:"groupe-code-label",children:"Code d'invitation :"}),l.jsxs("div",{className:"groupe-code-box",children:[l.jsx("code",{className:"groupe-code-value",children:W.codeInvitation}),l.jsx("button",{className:"prof-btn-icon",onClick:H=>{H.stopPropagation(),O(W.codeInvitation)},title:"Copier le code",children:j===W.codeInvitation?"":""}),W.statut==="actif"&&l.jsx("button",{className:"prof-btn-icon",onClick:H=>{H.stopPropagation(),U(W.id)},title:"Rgnrer le code",children:""})]})]}),Q&&Q.nombreEleves>0&&l.jsxs("div",{className:"groupe-card-stats",children:[l.jsxs("div",{className:"groupe-stat-item",children:[l.jsx("span",{className:"groupe-stat-value",children:Q.moyenneClasse}),l.jsx("span",{className:"groupe-stat-label",children:"Moyenne"})]}),l.jsxs("div",{className:"groupe-stat-item",children:[l.jsxs("span",{className:"groupe-stat-value",children:[Q.tauxReussite,"%"]}),l.jsx("span",{className:"groupe-stat-label",children:"Russite"})]}),l.jsxs("div",{className:"groupe-stat-item",children:[l.jsx("span",{className:"groupe-stat-value",children:Q.elevesEnDifficulte}),l.jsx("span",{className:"groupe-stat-label",children:"En difficult"})]})]}),l.jsxs("div",{className:"groupe-card-actions",children:[W.statut==="actif"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"prof-btn prof-btn-primary prof-btn-sm",onClick:()=>t(W),children:" Voir dtails"}),l.jsx("button",{className:"prof-btn prof-btn-secondary prof-btn-sm",onClick:()=>V(W.id),children:" Archiver"})]}),S===W.id?l.jsxs("div",{className:"groupe-confirm-suppression",children:[l.jsx("span",{children:"Confirmer ?"}),l.jsx("button",{className:"prof-btn prof-btn-danger prof-btn-sm",onClick:()=>k(W.id),children:"Oui, supprimer"}),l.jsx("button",{className:"prof-btn prof-btn-secondary prof-btn-sm",onClick:()=>T(null),children:"Non"})]}):l.jsx("button",{className:"prof-btn prof-btn-danger prof-btn-sm",onClick:()=>T(W.id),children:" Supprimer"})]})]},W.id)})})]})},Ege=({groupe:t,onRetour:e})=>{const[n,r]=w.useState(null),[i,s]=w.useState([]),[c,d]=w.useState([]),[f,h]=w.useState([]),[p,g]=w.useState(null),[y,x]=w.useState(!0),[j,E]=w.useState(null),[S,T]=w.useState("apercu"),[D,R]=w.useState("moyenne_desc"),[P,$]=w.useState(null),[B,I]=w.useState(null),[O,k]=w.useState(!1),[V,U]=w.useState(null),z=w.useCallback(async()=>{try{x(!0),E(null);const[X,F,ne]=await Promise.all([YS(t.id),dge(t.id),hge(t.matiereId)]);r(X),s(F),h(ne);const ge=mge(F,t.nom);d(ge)}catch(X){console.error("Erreur chargement dtail groupe:",X),E("Impossible de charger les donnes du groupe.")}finally{x(!1)}},[t.id,t.matiereId,t.nom]);w.useEffect(()=>{z()},[z]);const M=async X=>{try{k(!0),I(X);const F=await fge(t.id,X);g(F)}catch(F){console.error("Erreur analyse quiz:",F)}finally{k(!1)}},W=()=>{const X=pge(i,t.nom),F=`PedaClic_${t.nom.replace(/\s+/g,"_")}_${new Date().toISOString().slice(0,10)}`;gge(X,F)},Q=async X=>{try{U(X);const ne=(await b0(t.id)).find(ge=>ge.eleveId===X);ne&&(await uge(ne.id,t.id),await z())}catch(F){E(F.message)}finally{U(null)}},H=[...i].sort((X,F)=>{switch(D){case"moyenne_desc":return F.moyenne-X.moyenne;case"moyenne_asc":return X.moyenne-F.moyenne;case"nom":return X.eleveNom.localeCompare(F.eleveNom);case"streak":return F.streak.actuel-X.streak.actuel;case"quiz_count":return F.totalQuiz-X.totalQuiz;default:return 0}}),oe=X=>X>=16?"prof-note-excellent":X>=12?"prof-note-bien":X>=10?"prof-note-passable":X>=8?"prof-note-insuffisant":"prof-note-critique",be=X=>{switch(X){case"hausse":return"";case"baisse":return"";default:return""}},Ee=X=>{switch(X){case"difficulte":return"";case"inactivite":return"";case"baisse":return"";case"felicitation":return"";default:return""}};return y?l.jsxs("div",{className:"prof-loading",children:[l.jsx("div",{className:"spinner"}),l.jsxs("p",{children:['Chargement des donnes de "',t.nom,'"...']})]}):l.jsxs("div",{className:"groupe-detail",children:[l.jsxs("div",{className:"groupe-detail-header",children:[l.jsx("button",{className:"prof-btn prof-btn-secondary",onClick:e,children:" Retour aux groupes"}),l.jsxs("div",{className:"groupe-detail-titre-section",children:[l.jsx("h2",{className:"groupe-detail-titre",children:t.nom}),l.jsxs("p",{className:"groupe-detail-subtitle",children:[t.matiereNom,"  ",t.classeNiveau,"  ",t.anneeScolaire]})]}),l.jsx("button",{className:"prof-btn prof-btn-secondary",onClick:W,children:" Export CSV"})]}),j&&l.jsxs("div",{className:"prof-alert prof-alert-error",children:[" ",j,l.jsx("button",{onClick:()=>E(null),className:"prof-alert-close",children:""})]}),l.jsx("div",{className:"groupe-detail-onglets",children:[{id:"apercu",label:" Aperu",count:null},{id:"eleves",label:" lves",count:i.length},{id:"quiz",label:" Quiz",count:f.length},{id:"alertes",label:" Alertes",count:c.length}].map(X=>l.jsxs("button",{className:`groupe-onglet ${S===X.id?"active":""}`,onClick:()=>T(X.id),children:[X.label,X.count!==null&&X.count>0&&l.jsx("span",{className:"groupe-onglet-badge",children:X.count})]},X.id))}),S==="apercu"&&n&&l.jsxs("div",{className:"groupe-apercu",children:[l.jsxs("div",{className:"groupe-stats-grid",children:[l.jsxs("div",{className:"groupe-stat-card",children:[l.jsx("div",{className:"groupe-stat-card-icon",children:""}),l.jsxs("div",{className:"groupe-stat-card-content",children:[l.jsxs("span",{className:`groupe-stat-card-value ${oe(n.moyenneClasse)}`,children:[n.moyenneClasse,"/20"]}),l.jsx("span",{className:"groupe-stat-card-label",children:"Moyenne classe"})]})]}),l.jsxs("div",{className:"groupe-stat-card",children:[l.jsx("div",{className:"groupe-stat-card-icon",children:""}),l.jsxs("div",{className:"groupe-stat-card-content",children:[l.jsxs("span",{className:"groupe-stat-card-value",children:[n.tauxReussite,"%"]}),l.jsx("span",{className:"groupe-stat-card-label",children:"Taux de russite"})]})]}),l.jsxs("div",{className:"groupe-stat-card",children:[l.jsx("div",{className:"groupe-stat-card-icon",children:""}),l.jsxs("div",{className:"groupe-stat-card-content",children:[l.jsx("span",{className:"groupe-stat-card-value",children:n.nombreEleves}),l.jsx("span",{className:"groupe-stat-card-label",children:"lves inscrits"})]})]}),l.jsxs("div",{className:"groupe-stat-card",children:[l.jsx("div",{className:"groupe-stat-card-icon",children:""}),l.jsxs("div",{className:"groupe-stat-card-content",children:[l.jsx("span",{className:"groupe-stat-card-value",children:n.totalQuizPasses}),l.jsx("span",{className:"groupe-stat-card-label",children:"Quiz passs"})]})]}),l.jsxs("div",{className:"groupe-stat-card",children:[l.jsx("div",{className:"groupe-stat-card-icon",children:""}),l.jsxs("div",{className:"groupe-stat-card-content",children:[l.jsxs("span",{className:"groupe-stat-card-value",children:[n.tauxParticipation,"%"]}),l.jsx("span",{className:"groupe-stat-card-label",children:"Participation"})]})]}),l.jsxs("div",{className:"groupe-stat-card",children:[l.jsx("div",{className:"groupe-stat-card-icon",children:""}),l.jsxs("div",{className:"groupe-stat-card-content",children:[l.jsx("span",{className:`groupe-stat-card-value ${n.elevesEnDifficulte>0?"prof-note-critique":"prof-note-excellent"}`,children:n.elevesEnDifficulte}),l.jsx("span",{className:"groupe-stat-card-label",children:"En difficult"})]})]})]}),l.jsx("div",{className:"groupe-apercu-notes",children:l.jsxs("div",{className:"groupe-note-range",children:[l.jsx("span",{className:"groupe-note-range-label",children:"Plage des notes :"}),l.jsxs("span",{className:"prof-note-critique",children:[n.pireNote,"/20"]}),l.jsx("div",{className:"groupe-note-barre",children:l.jsx("div",{className:"groupe-note-barre-fill",style:{left:`${n.pireNote/20*100}%`,width:`${(n.meilleureNote-n.pireNote)/20*100}%`}})}),l.jsxs("span",{className:"prof-note-excellent",children:[n.meilleureNote,"/20"]})]})}),i.length>=3&&l.jsxs("div",{className:"groupe-apercu-classement",children:[l.jsxs("div",{className:"groupe-classement-section",children:[l.jsx("h4",{children:" Top 3"}),i.slice(0,3).map((X,F)=>l.jsxs("div",{className:"groupe-classement-item",children:[l.jsx("span",{className:"groupe-classement-rang",children:F===0?"":F===1?"":""}),l.jsx("span",{className:"groupe-classement-nom",children:X.eleveNom}),l.jsxs("span",{className:`groupe-classement-note ${oe(X.moyenne)}`,children:[X.moyenne,"/20"]})]},X.eleveId))]}),l.jsxs("div",{className:"groupe-classement-section",children:[l.jsx("h4",{children:"  surveiller"}),i.filter(X=>X.moyenne<8&&X.totalQuiz>0).slice(0,3).map(X=>l.jsxs("div",{className:"groupe-classement-item",children:[l.jsx("span",{className:"groupe-classement-rang",children:""}),l.jsx("span",{className:"groupe-classement-nom",children:X.eleveNom}),l.jsxs("span",{className:`groupe-classement-note ${oe(X.moyenne)}`,children:[X.moyenne,"/20"]})]},X.eleveId)),i.filter(X=>X.moyenne<8&&X.totalQuiz>0).length===0&&l.jsx("p",{className:"groupe-classement-vide",children:"Aucun lve en difficult "})]})]})]}),S==="eleves"&&l.jsxs("div",{className:"groupe-eleves",children:[l.jsxs("div",{className:"groupe-eleves-toolbar",children:[l.jsx("label",{htmlFor:"tri-eleves",children:"Trier par :"}),l.jsxs("select",{id:"tri-eleves",value:D,onChange:X=>R(X.target.value),className:"prof-select prof-select-sm",children:[l.jsx("option",{value:"moyenne_desc",children:"Moyenne ()"}),l.jsx("option",{value:"moyenne_asc",children:"Moyenne ()"}),l.jsx("option",{value:"nom",children:"Nom (A-Z)"}),l.jsx("option",{value:"streak",children:"Streak ()"}),l.jsx("option",{value:"quiz_count",children:"Quiz passs ()"})]}),l.jsxs("span",{className:"groupe-eleves-count",children:[i.length," lve",i.length!==1?"s":""]})]}),i.length===0?l.jsxs("div",{className:"prof-empty-state",children:[l.jsx("div",{className:"prof-empty-icon",children:""}),l.jsx("h3",{children:"Aucun lve inscrit"}),l.jsxs("p",{children:["Partagez le code ",l.jsx("strong",{children:t.codeInvitation}),"  vos lves."]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"groupe-eleves-table-wrapper",children:l.jsxs("table",{className:"groupe-eleves-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"#"}),l.jsx("th",{children:"lve"}),l.jsx("th",{children:"Moyenne"}),l.jsx("th",{children:"Quiz"}),l.jsx("th",{children:"Russite"}),l.jsx("th",{children:"Streak"}),l.jsx("th",{children:"Tendance"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:H.map((X,F)=>l.jsxs("tr",{className:`${P===X.eleveId?"groupe-eleve-row-active":""}`,children:[l.jsx("td",{className:"groupe-eleve-rang",children:F+1}),l.jsx("td",{className:"groupe-eleve-nom-cell",children:l.jsxs("div",{children:[l.jsx("strong",{children:X.eleveNom}),l.jsx("span",{className:"groupe-eleve-email",children:X.eleveEmail})]})}),l.jsx("td",{children:l.jsxs("span",{className:`groupe-note-badge ${oe(X.moyenne)}`,children:[X.moyenne,"/20"]})}),l.jsx("td",{children:X.totalQuiz}),l.jsxs("td",{children:[X.tauxReussite,"%"]}),l.jsx("td",{children:l.jsxs("span",{className:"groupe-streak",children:[" ",X.streak.actuel,"j"]})}),l.jsxs("td",{children:[be(X.tendance)," ",X.tendance]}),l.jsxs("td",{className:"groupe-eleve-actions",children:[l.jsx("button",{className:"prof-btn-icon",onClick:()=>$(P===X.eleveId?null:X.eleveId),title:"Voir dtails",children:P===X.eleveId?"":""}),l.jsx("button",{className:"prof-btn-icon prof-btn-icon-danger",onClick:()=>Q(X.eleveId),disabled:V===X.eleveId,title:"Retirer du groupe",children:V===X.eleveId?"":""})]})]},X.eleveId))})]})}),P&&(()=>{const X=i.find(F=>F.eleveId===P);return X?l.jsxs("div",{className:"groupe-eleve-detail",children:[l.jsxs("div",{className:"groupe-eleve-detail-header",children:[l.jsxs("h3",{children:[" Dtail  ",X.eleveNom]}),l.jsx("button",{className:"prof-btn-icon",onClick:()=>$(null),children:""})]}),l.jsxs("div",{className:"groupe-eleve-detail-grid",children:[l.jsxs("div",{className:"groupe-eleve-detail-card",children:[l.jsx("h4",{children:"Score global"}),l.jsx("div",{className:"groupe-eleve-score-circle",children:l.jsxs("span",{className:oe(X.scoreGlobal/5),children:[X.scoreGlobal,"/100"]})})]}),l.jsxs("div",{className:"groupe-eleve-detail-card",children:[l.jsx("h4",{children:" Streak"}),l.jsxs("p",{children:["Actuel : ",l.jsxs("strong",{children:[X.streak.actuel," jour",X.streak.actuel!==1?"s":""]})]}),l.jsxs("p",{children:["Meilleur : ",X.streak.meilleur," jours"]})]}),l.jsxs("div",{className:"groupe-eleve-detail-card groupe-eleve-detail-card-wide",children:[l.jsx("h4",{children:" Lacunes dtectes"}),X.lacunes.length===0?l.jsx("p",{className:"text-muted",children:"Aucune lacune dtecte "}):l.jsx("ul",{className:"groupe-lacunes-liste",children:X.lacunes.map((F,ne)=>l.jsxs("li",{className:`groupe-lacune-item groupe-lacune-${F.niveauUrgence}`,children:[l.jsxs("span",{className:"groupe-lacune-nom",children:[F.disciplineNom,F.chapitre&&`  ${F.chapitre}`]}),l.jsxs("span",{className:"groupe-lacune-moyenne",children:[F.moyenne,"/20"]}),l.jsx("span",{className:`groupe-lacune-badge groupe-lacune-badge-${F.niveauUrgence}`,children:F.niveauUrgence})]},ne))})]})]})]}):null})()]})]}),S==="quiz"&&l.jsxs("div",{className:"groupe-quiz",children:[l.jsxs("div",{className:"groupe-quiz-selector",children:[l.jsx("label",{htmlFor:"select-quiz",children:"Slectionner un quiz  analyser :"}),l.jsxs("select",{id:"select-quiz",value:B||"",onChange:X=>{X.target.value&&M(X.target.value)},className:"prof-select",children:[l.jsx("option",{value:"",children:" Choisir un quiz "}),f.map(X=>l.jsx("option",{value:X.id,children:X.titre},X.id))]})]}),!B&&l.jsxs("div",{className:"prof-empty-state",children:[l.jsx("div",{className:"prof-empty-icon",children:""}),l.jsx("h3",{children:"Analyse par quiz"}),l.jsx("p",{children:"Slectionnez un quiz pour voir les statistiques dtailles et les questions les plus rates."})]}),O&&l.jsxs("div",{className:"prof-loading",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Analyse en cours..."})]}),p&&!O&&l.jsxs("div",{className:"groupe-quiz-resultats",children:[l.jsxs("div",{className:"groupe-quiz-stats-header",children:[l.jsx("h3",{children:p.quizTitre}),l.jsxs("div",{className:"groupe-quiz-stats-grid",children:[l.jsxs("div",{className:"groupe-stat-mini",children:[l.jsx("span",{className:"groupe-stat-mini-value",children:p.totalPassages}),l.jsx("span",{className:"groupe-stat-mini-label",children:"Passages"})]}),l.jsxs("div",{className:"groupe-stat-mini",children:[l.jsxs("span",{className:`groupe-stat-mini-value ${oe(p.moyenneScore)}`,children:[p.moyenneScore,"/20"]}),l.jsx("span",{className:"groupe-stat-mini-label",children:"Moyenne"})]}),l.jsxs("div",{className:"groupe-stat-mini",children:[l.jsxs("span",{className:"groupe-stat-mini-value",children:[p.tauxReussite,"%"]}),l.jsx("span",{className:"groupe-stat-mini-label",children:"Russite"})]}),l.jsxs("div",{className:"groupe-stat-mini",children:[l.jsxs("span",{className:"groupe-stat-mini-value",children:[Math.floor(p.tempsEcouleMoyen/60),"min"]}),l.jsx("span",{className:"groupe-stat-mini-label",children:"Temps moyen"})]})]})]}),l.jsxs("div",{className:"groupe-quiz-questions",children:[l.jsx("h4",{children:" Questions les plus rates"}),p.questionsRatees.filter(X=>X.tauxEchec>30).map((X,F)=>l.jsxs("div",{className:"groupe-quiz-question-card",children:[l.jsxs("div",{className:"groupe-quiz-question-header",children:[l.jsxs("span",{className:"groupe-quiz-question-num",children:["Q",X.questionIndex+1]}),l.jsxs("span",{className:"groupe-quiz-question-echec",children:[X.tauxEchec,"% d'chec"]})]}),l.jsx("p",{className:"groupe-quiz-question-texte",children:X.questionTexte}),l.jsx("div",{className:"groupe-quiz-question-reponse",children:l.jsxs("span",{className:"groupe-quiz-bonne-reponse",children:[" Bonne rponse : ",X.reponseCorrecte]})}),X.reponsesFrequentes.length>0&&l.jsxs("div",{className:"groupe-quiz-mauvaises-reponses",children:[l.jsx("span",{children:"Erreurs frquentes :"}),X.reponsesFrequentes.slice(0,2).map((ne,ge)=>l.jsxs("span",{className:"groupe-quiz-mauvaise-reponse",children:[" ",ne.reponse," (",ne.nombre," lve",ne.nombre>1?"s":"",")"]},ge))]})]},F)),p.questionsRatees.filter(X=>X.tauxEchec>30).length===0&&l.jsx("p",{className:"text-muted",children:"Toutes les questions ont un taux de russite suprieur  70% "})]})]})]}),S==="alertes"&&l.jsx("div",{className:"groupe-alertes",children:c.length===0?l.jsxs("div",{className:"prof-empty-state",children:[l.jsx("div",{className:"prof-empty-icon",children:""}),l.jsx("h3",{children:"Aucune alerte"}),l.jsx("p",{children:"Tous vos lves se portent bien ! Les alertes apparatront ici quand un lve aura besoin d'attention."})]}):l.jsx("div",{className:"groupe-alertes-liste",children:c.map(X=>l.jsxs("div",{className:`groupe-alerte-card groupe-alerte-${X.niveauUrgence}`,children:[l.jsxs("div",{className:"groupe-alerte-header",children:[l.jsx("span",{className:"groupe-alerte-emoji",children:Ee(X.type)}),l.jsx("span",{className:"groupe-alerte-eleve",children:X.eleveNom}),l.jsx("span",{className:`groupe-alerte-badge groupe-alerte-badge-${X.niveauUrgence}`,children:X.niveauUrgence})]}),l.jsx("p",{className:"groupe-alerte-message",children:X.message}),l.jsx("button",{className:"prof-btn prof-btn-secondary prof-btn-sm",onClick:()=>{T("eleves"),$(X.eleveId)},children:" Voir dtail"})]},X.id))})})]})},jge=()=>{const{currentUser:t}=xr(),[e,n]=w.useState("overview"),[r,i]=w.useState(null),[s,c]=w.useState(0),[d,f]=w.useState(0),[h,p]=w.useState(0),[g,y]=w.useState(0),[x,j]=w.useState([]),[E,S]=w.useState(!0),T=w.useCallback(async()=>{if(t?.uid)try{S(!0);const $=(await uV(t.uid)).filter(U=>U.statut==="actif");c($.length);let B=0,I=0,O=0,k=0;const V=[];for(const U of $)try{const z=await YS(U.id);B+=z.nombreEleves,z.nombreEleves>0&&(I+=z.moyenneClasse,O++),k+=z.elevesEnDifficulte,V.push({...U,stats:z})}catch{V.push({...U})}f(B),p(O>0?Math.round(I/O*10)/10:0),y(k),j(V)}catch(P){console.error("Erreur chargement rsum prof:",P)}finally{S(!1)}},[t?.uid]);w.useEffect(()=>{T()},[T]);const D=P=>{i(P),n("detail")},R=()=>{i(null),n("groupes"),T()};return E?l.jsxs("div",{className:"prof-loading",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Chargement de votre espace professeur..."})]}):l.jsxs("div",{className:"prof-dashboard",children:[l.jsx("header",{className:"prof-dashboard-header",children:l.jsxs("div",{children:[l.jsx("h1",{className:"prof-dashboard-titre",children:"Tableau de bord Professeur"}),l.jsxs("p",{className:"prof-dashboard-subtitle",children:["Bienvenue, ",t?.displayName||"Professeur"," "]})]})}),e!=="detail"&&l.jsxs("nav",{className:"prof-nav",children:[l.jsx("button",{className:`prof-nav-btn ${e==="overview"?"active":""}`,onClick:()=>n("overview"),children:" Vue d'ensemble"}),l.jsx("button",{className:`prof-nav-btn ${e==="groupes"?"active":""}`,onClick:()=>n("groupes"),children:" Mes groupes-classes"})]}),e==="overview"&&l.jsxs("div",{className:"prof-overview",children:[l.jsxs("div",{className:"prof-overview-cards",children:[l.jsxs("div",{className:"prof-overview-card prof-overview-card-clickable",onClick:()=>n("groupes"),children:[l.jsx("div",{className:"prof-overview-card-icon",children:""}),l.jsxs("div",{className:"prof-overview-card-content",children:[l.jsx("span",{className:"prof-overview-card-value",children:s}),l.jsxs("span",{className:"prof-overview-card-label",children:["Groupe",s!==1?"s":""," actif",s!==1?"s":""]})]})]}),l.jsxs("div",{className:"prof-overview-card",children:[l.jsx("div",{className:"prof-overview-card-icon",children:""}),l.jsxs("div",{className:"prof-overview-card-content",children:[l.jsx("span",{className:"prof-overview-card-value",children:d}),l.jsxs("span",{className:"prof-overview-card-label",children:["lve",d!==1?"s":""," inscrit",d!==1?"s":""]})]})]}),l.jsxs("div",{className:"prof-overview-card",children:[l.jsx("div",{className:"prof-overview-card-icon",children:""}),l.jsxs("div",{className:"prof-overview-card-content",children:[l.jsxs("span",{className:"prof-overview-card-value",children:[h,"/20"]}),l.jsx("span",{className:"prof-overview-card-label",children:"Moyenne gnrale"})]})]}),l.jsxs("div",{className:"prof-overview-card",children:[l.jsx("div",{className:"prof-overview-card-icon",children:""}),l.jsxs("div",{className:"prof-overview-card-content",children:[l.jsx("span",{className:`prof-overview-card-value ${g>0?"prof-note-critique":""}`,children:g}),l.jsxs("span",{className:"prof-overview-card-label",children:["lve",g!==1?"s":""," en difficult"]})]})]})]}),x.length===0?l.jsxs("div",{className:"prof-empty-state",children:[l.jsx("div",{className:"prof-empty-icon",children:""}),l.jsx("h3",{children:"Bienvenue sur votre espace Professeur !"}),l.jsx("p",{children:"Crez votre premier groupe-classe pour commencer  suivre vos lves."}),l.jsx("button",{className:"prof-btn prof-btn-primary",onClick:()=>n("groupes"),children:" Crer un groupe-classe"})]}):l.jsxs("div",{className:"prof-overview-groupes",children:[l.jsx("h2",{children:"Mes groupes"}),l.jsx("div",{className:"prof-overview-groupes-grid",children:x.map(P=>l.jsxs("div",{className:"prof-overview-groupe-card",onClick:()=>D(P),children:[l.jsxs("div",{className:"prof-overview-groupe-header",children:[l.jsx("h3",{children:P.nom}),l.jsx("span",{className:"prof-overview-groupe-matiere",children:P.matiereNom})]}),P.stats&&l.jsxs("div",{className:"prof-overview-groupe-stats",children:[l.jsxs("div",{children:[l.jsx("span",{className:"prof-overview-groupe-stat-value",children:P.stats.nombreEleves}),l.jsx("span",{className:"prof-overview-groupe-stat-label",children:"lves"})]}),l.jsxs("div",{children:[l.jsxs("span",{className:"prof-overview-groupe-stat-value",children:[P.stats.moyenneClasse,"/20"]}),l.jsx("span",{className:"prof-overview-groupe-stat-label",children:"Moyenne"})]}),l.jsxs("div",{children:[l.jsxs("span",{className:"prof-overview-groupe-stat-value",children:[P.stats.tauxReussite,"%"]}),l.jsx("span",{className:"prof-overview-groupe-stat-label",children:"Russite"})]})]}),l.jsx("span",{className:"prof-overview-groupe-arrow",children:""})]},P.id))})]})]}),e==="groupes"&&l.jsx(wge,{onSelectGroupe:D}),e==="detail"&&r&&l.jsx(Ege,{groupe:r,onRetour:R})]})},Sge=()=>{const{currentUser:t}=xr(),e=t?.uid||"",n=t?.displayName||"Parent",[r,i]=w.useState([]),[s,c]=w.useState(null),[d,f]=w.useState(null),[h,p]=w.useState(!0),[g,y]=w.useState(!1),[x,j]=w.useState(null),[E,S]=w.useState(!1),[T,D]=w.useState(""),[R,P]=w.useState(!1),[$,B]=w.useState(null),[I,O]=w.useState(null),[k,V]=w.useState("apercu");w.useEffect(()=>{U()},[e]),w.useEffect(()=>{s&&z(s)},[s]);const U=async()=>{try{p(!0),j(null);const Q=await Bpe(e);i(Q),Q.length===1&&c(Q[0].enfantId)}catch(Q){j("Erreur lors du chargement des enfants."),console.error(Q)}finally{p(!1)}},z=async Q=>{try{y(!0),j(null);const H=await Fpe(e,Q);f(H)}catch(H){j(H.message||"Erreur lors du chargement du suivi."),f(null)}finally{y(!1)}},M=async Q=>{if(Q.preventDefault(),B(null),O(null),!T.trim()){B("Veuillez saisir le code d'invitation.");return}try{P(!0);const H=await qpe(e,T);O(`${H.enfantNom} a t ajout avec succs !`),D(""),S(!1),await U(),c(H.enfantId)}catch(H){B(H.message||"Erreur lors de la liaison.")}finally{P(!1)}},W=async Q=>{if(window.confirm(`tes-vous sr de vouloir retirer ${Q.enfantNom} de votre suivi ? Cette action est irrversible.`))try{await $pe(Q.id,e),s===Q.enfantId&&(c(null),f(null)),await U()}catch(oe){j(oe.message||"Erreur lors de la suppression.")}};return h?l.jsxs("div",{className:"parent-loading",children:[l.jsx("div",{className:"parent-spinner"}),l.jsx("p",{children:"Chargement de votre espace parent..."})]}):l.jsxs("div",{className:"parent-dashboard",children:[l.jsxs("header",{className:"parent-header",children:[l.jsxs("div",{className:"parent-header-info",children:[l.jsx("h1",{className:"parent-titre",children:" Espace Parent"}),l.jsxs("p",{className:"parent-bienvenue",children:["Bienvenue, ",l.jsx("strong",{children:n}),"  Suivez la progression de vos enfants"]})]}),l.jsx("button",{className:"parent-btn parent-btn-primary",onClick:()=>{S(!E),B(null),O(null)},children:" Ajouter un enfant"})]}),x&&l.jsxs("div",{className:"parent-alerte parent-alerte-erreur",children:[l.jsxs("span",{children:[" ",x]}),l.jsx("button",{onClick:()=>j(null),children:""})]}),I&&l.jsxs("div",{className:"parent-alerte parent-alerte-succes",children:[l.jsxs("span",{children:[" ",I]}),l.jsx("button",{onClick:()=>O(null),children:""})]}),E&&l.jsxs("div",{className:"parent-form-liaison",children:[l.jsx("h3",{children:" Lier un enfant  votre compte"}),l.jsx("p",{className:"parent-form-aide",children:"Demandez le code d'invitation  votre enfant. Il peut le trouver dans son profil sur PedaClic (format: PEDA-XXXX-XXXX)."}),l.jsxs("form",{onSubmit:M,className:"parent-form",children:[l.jsxs("div",{className:"parent-form-group",children:[l.jsx("label",{htmlFor:"code-invitation",children:"Code d'invitation"}),l.jsx("input",{id:"code-invitation",type:"text",placeholder:"PEDA-XXXX-XXXX",value:T,onChange:Q=>D(Q.target.value.toUpperCase()),maxLength:14,disabled:R,className:"parent-input"})]}),$&&l.jsxs("p",{className:"parent-form-erreur",children:[" ",$]}),l.jsxs("div",{className:"parent-form-actions",children:[l.jsx("button",{type:"submit",className:"parent-btn parent-btn-primary",disabled:R,children:R?"Vrification...":" Valider"}),l.jsx("button",{type:"button",className:"parent-btn parent-btn-secondary",onClick:()=>S(!1),children:"Annuler"})]})]})]}),r.length===0?l.jsxs("div",{className:"parent-empty-state",children:[l.jsx("div",{className:"parent-empty-icon",children:""}),l.jsx("h2",{children:"Aucun enfant li"}),l.jsx("p",{children:"Cliquez sur  Ajouter un enfant  et saisissez le code d'invitation de votre enfant pour commencer  suivre sa progression."}),l.jsx("button",{className:"parent-btn parent-btn-primary",onClick:()=>S(!0),children:" Ajouter mon premier enfant"})]}):l.jsxs("div",{className:"parent-content",children:[l.jsxs("aside",{className:"parent-sidebar",children:[l.jsx("h3",{className:"parent-sidebar-titre",children:"Mes enfants"}),l.jsx("ul",{className:"parent-enfants-liste",children:r.map(Q=>l.jsxs("li",{className:`parent-enfant-card ${s===Q.enfantId?"parent-enfant-actif":""}`,onClick:()=>c(Q.enfantId),children:[l.jsx("div",{className:"parent-enfant-avatar",children:Q.enfantNom.charAt(0).toUpperCase()}),l.jsxs("div",{className:"parent-enfant-info",children:[l.jsx("span",{className:"parent-enfant-nom",children:Q.enfantNom}),Q.enfantClasse&&l.jsx("span",{className:"parent-enfant-classe",children:Q.enfantClasse})]}),l.jsx("button",{className:"parent-enfant-supprimer",onClick:H=>{H.stopPropagation(),W(Q)},title:"Retirer cet enfant",children:""})]},Q.id))})]}),l.jsx("main",{className:"parent-main",children:s?g?l.jsxs("div",{className:"parent-loading",children:[l.jsx("div",{className:"parent-spinner"}),l.jsx("p",{children:"Chargement du suivi..."})]}):d?l.jsxs("div",{className:"parent-dashboard-detail",children:[l.jsxs("div",{className:"parent-enfant-header",children:[l.jsxs("div",{className:"parent-enfant-header-info",children:[l.jsx("h2",{children:d.enfant.nom}),d.enfant.classe&&l.jsx("span",{className:"parent-badge",children:d.enfant.classe}),d.enfant.derniereConnexion&&l.jsxs("span",{className:"parent-derniere-connexion",children:["Dernire connexion : ",E1(d.enfant.derniereConnexion)]})]}),l.jsx("p",{className:"parent-message-motivation",children:Ype(d.scoreGlobal)})]}),l.jsxs("div",{className:"parent-indicateurs",children:[l.jsxs("div",{className:"parent-card parent-card-score",children:[l.jsx("div",{className:"parent-card-icon",children:""}),l.jsxs("div",{className:"parent-card-content",children:[l.jsx("span",{className:"parent-card-label",children:"Score Global"}),l.jsxs("span",{className:`parent-card-value parent-score-${d.scoreGlobal>=60?"bon":d.scoreGlobal>=40?"moyen":"bas"}`,children:[d.scoreGlobal,"/100"]})]})]}),l.jsxs("div",{className:"parent-card parent-card-streak",children:[l.jsx("div",{className:"parent-card-icon",children:""}),l.jsxs("div",{className:"parent-card-content",children:[l.jsx("span",{className:"parent-card-label",children:"Streak"}),l.jsxs("span",{className:"parent-card-value",children:[d.streak.actuel," jour",d.streak.actuel>1?"s":""]})]})]}),l.jsxs("div",{className:"parent-card parent-card-lacunes",children:[l.jsx("div",{className:"parent-card-icon",children:""}),l.jsxs("div",{className:"parent-card-content",children:[l.jsx("span",{className:"parent-card-label",children:"Lacunes"}),l.jsxs("span",{className:"parent-card-value",children:[d.lacunes.length," matire",d.lacunes.length>1?"s":""]})]})]}),l.jsxs("div",{className:"parent-card parent-card-objectifs",children:[l.jsx("div",{className:"parent-card-icon",children:""}),l.jsxs("div",{className:"parent-card-content",children:[l.jsx("span",{className:"parent-card-label",children:"Objectifs"}),l.jsxs("span",{className:"parent-card-value",children:[d.objectifs.filter(Q=>Q.statut==="atteint").length,"/",d.objectifs.length]})]})]})]}),l.jsxs("div",{className:"parent-section parent-section-semaine",children:[l.jsx("h3",{children:" Activit de la semaine"}),l.jsx("div",{className:"parent-semaine-jours",children:["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map((Q,H)=>l.jsxs("div",{className:`parent-jour ${d.streak.semaineCourante[H]?"parent-jour-actif":"parent-jour-inactif"}`,children:[l.jsx("span",{className:"parent-jour-label",children:Q}),l.jsx("span",{className:"parent-jour-icon",children:d.streak.semaineCourante[H]?"":""})]},Q))})]}),l.jsxs("div",{className:"parent-onglets",children:[l.jsx("button",{className:`parent-onglet ${k==="apercu"?"parent-onglet-actif":""}`,onClick:()=>V("apercu"),children:" Aperu"}),l.jsxs("button",{className:`parent-onglet ${k==="lacunes"?"parent-onglet-actif":""}`,onClick:()=>V("lacunes"),children:[" Lacunes (",d.lacunes.length,")"]}),l.jsxs("button",{className:`parent-onglet ${k==="alertes"?"parent-onglet-actif":""}`,onClick:()=>V("alertes"),children:[" Alertes (",d.alertes.length,")"]}),l.jsx("button",{className:`parent-onglet ${k==="resume"?"parent-onglet-actif":""}`,onClick:()=>V("resume"),children:" Rsum"})]}),l.jsxs("div",{className:"parent-onglet-contenu",children:[k==="apercu"&&l.jsxs("div",{className:"parent-tab-apercu",children:[l.jsxs("div",{className:"parent-section",children:[l.jsx("h3",{children:" Derniers quiz passs"}),d.derniersQuiz.length===0?l.jsx("p",{className:"parent-vide",children:"Aucun quiz pass rcemment."}):l.jsx("div",{className:"parent-quiz-liste",children:d.derniersQuiz.map((Q,H)=>l.jsxs("div",{className:`parent-quiz-item ${Q.reussi?"parent-quiz-reussi":"parent-quiz-echoue"}`,children:[l.jsxs("div",{className:"parent-quiz-info",children:[l.jsx("span",{className:"parent-quiz-discipline",children:Q.disciplineNom}),l.jsx("span",{className:"parent-quiz-titre",children:Q.quizTitre})]}),l.jsxs("div",{className:"parent-quiz-score",children:[l.jsxs("span",{className:`parent-quiz-note ${Q.reussi?"note-ok":"note-ko"}`,children:[Q.noteSur20,"/20"]}),l.jsx("span",{className:"parent-quiz-statut",children:Q.reussi?" Russi":" chou"})]}),l.jsx("span",{className:"parent-quiz-date",children:E1(Q.datePassage)})]},H))})]}),l.jsxs("div",{className:"parent-section",children:[l.jsx("h3",{children:" Objectifs de la semaine"}),d.objectifs.length===0?l.jsx("p",{className:"parent-vide",children:"Aucun objectif cette semaine."}):l.jsx("div",{className:"parent-objectifs-liste",children:d.objectifs.map((Q,H)=>l.jsxs("div",{className:"parent-objectif-item",children:[l.jsxs("div",{className:"parent-objectif-header",children:[l.jsx("span",{className:"parent-objectif-titre",children:Q.titre}),l.jsx("span",{className:`parent-objectif-statut parent-statut-${Q.statut}`,children:Q.statut==="atteint"?" Atteint":Q.statut==="en_cours"?" En cours":Q.statut==="echoue"?" chou":" Non commenc"})]}),l.jsx("div",{className:"parent-progress-bar",children:l.jsx("div",{className:`parent-progress-fill parent-progress-${Q.statut}`,style:{width:`${Math.min(Q.progression/Q.cible*100,100)}%`}})}),l.jsxs("span",{className:"parent-objectif-detail",children:[Q.progression,"/",Q.cible]})]},H))})]})]}),k==="lacunes"&&l.jsx("div",{className:"parent-tab-lacunes",children:d.lacunes.length===0?l.jsxs("div",{className:"parent-vide-section",children:[l.jsx("span",{className:"parent-vide-icon",children:""}),l.jsx("p",{children:"Aucune lacune dtecte ! Votre enfant est sur la bonne voie."})]}):l.jsx("div",{className:"parent-lacunes-liste",children:d.lacunes.map((Q,H)=>l.jsxs("div",{className:"parent-lacune-item",style:{borderLeftColor:Zv(Q.niveauUrgence)},children:[l.jsxs("div",{className:"parent-lacune-header",children:[l.jsx("span",{className:"parent-lacune-discipline",children:Q.disciplineNom}),l.jsx("span",{className:"parent-lacune-badge",style:{backgroundColor:Zv(Q.niveauUrgence),color:"#fff"},children:rV(Q.niveauUrgence)})]}),l.jsxs("div",{className:"parent-lacune-details",children:[l.jsxs("span",{className:"parent-lacune-moyenne",children:["Moyenne : ",l.jsxs("strong",{children:[Q.moyenne,"/20"]})]}),l.jsxs("span",{className:"parent-lacune-tendance",children:["Tendance : ",iV(Q.tendance)," ",Q.tendance==="hausse"?"En hausse":Q.tendance==="baisse"?"En baisse":"Stable"]})]}),l.jsx("p",{className:"parent-lacune-conseil",children:Q.niveauUrgence==="critique"?" Intervention recommande : discutez avec votre enfant et envisagez un soutien scolaire.":Q.niveauUrgence==="important"?" Encouragez votre enfant  rviser cette matire rgulirement.":" Quelques rvisions suffiront pour consolider les acquis."})]},H))})}),k==="alertes"&&l.jsx("div",{className:"parent-tab-alertes",children:d.alertes.length===0?l.jsxs("div",{className:"parent-vide-section",children:[l.jsx("span",{className:"parent-vide-icon",children:""}),l.jsx("p",{children:"Aucune alerte pour le moment. Tout va bien !"})]}):l.jsx("div",{className:"parent-alertes-liste",children:d.alertes.map((Q,H)=>l.jsxs("div",{className:`parent-alerte-item parent-alerte-${Q.niveau}`,children:[l.jsxs("div",{className:"parent-alerte-header",children:[l.jsx("span",{className:"parent-alerte-titre",children:Q.titre}),l.jsx("span",{className:"parent-alerte-badge",style:{backgroundColor:Wpe(Q.niveau),color:"#fff"},children:Qpe(Q.type)})]}),l.jsx("p",{className:"parent-alerte-message",children:Q.message}),l.jsx("span",{className:"parent-alerte-date",children:E1(Q.dateCreation)})]},H))})}),k==="resume"&&d.resume&&l.jsxs("div",{className:"parent-tab-resume",children:[l.jsxs("div",{className:"parent-resume-header",children:[l.jsxs("h3",{children:[" Rsum : ",d.resume.semaine]}),l.jsxs("span",{className:"parent-resume-evolution",children:["Score : ",d.resume.scoreGlobal,"/100"," ",TD(d.resume.evolutionScore)]})]}),l.jsxs("div",{className:"parent-resume-stats",children:[l.jsxs("div",{className:"parent-resume-stat",children:[l.jsx("span",{className:"parent-resume-stat-value",children:d.resume.nombreQuizSemaine}),l.jsx("span",{className:"parent-resume-stat-label",children:"Quiz passs"})]}),l.jsxs("div",{className:"parent-resume-stat",children:[l.jsxs("span",{className:"parent-resume-stat-value",children:[d.resume.joursActifsSemaine,"/7"]}),l.jsx("span",{className:"parent-resume-stat-label",children:"Jours actifs"})]}),l.jsxs("div",{className:"parent-resume-stat",children:[l.jsxs("span",{className:"parent-resume-stat-value",children:[d.resume.tempsEstimeMinutes," min"]}),l.jsx("span",{className:"parent-resume-stat-label",children:"Temps d'tude"})]}),l.jsxs("div",{className:"parent-resume-stat",children:[l.jsxs("span",{className:"parent-resume-stat-value",children:[d.resume.objectifsAtteints,"/",d.resume.objectifsTotal]}),l.jsx("span",{className:"parent-resume-stat-label",children:"Objectifs atteints"})]})]}),d.resume.evolutionDisciplines.length>0&&l.jsxs("div",{className:"parent-section",children:[l.jsx("h4",{children:" volution par matire"}),l.jsx("div",{className:"parent-evolution-liste",children:d.resume.evolutionDisciplines.map((Q,H)=>l.jsxs("div",{className:"parent-evolution-item",children:[l.jsx("span",{className:"parent-evolution-discipline",children:Q.disciplineNom}),l.jsxs("div",{className:"parent-evolution-scores",children:[l.jsxs("span",{className:"parent-evolution-prec",children:[Q.moyenneSemainePrecedente,"/20"]}),l.jsx("span",{className:"parent-evolution-fleche",children:TD(Q.evolution)}),l.jsxs("span",{className:"parent-evolution-courante",children:[Q.moyenneSemaineCourante,"/20"]}),l.jsxs("span",{className:`parent-evolution-ecart ${Q.ecart>0?"ecart-positif":Q.ecart<0?"ecart-negatif":""}`,children:["(",Q.ecart>0?"+":"",Q.ecart,")"]})]})]},H))})]}),d.resume.disciplinesEnDifficulte.length>0&&l.jsxs("div",{className:"parent-section parent-section-warning",children:[l.jsx("h4",{children:" Matires ncessitant une attention"}),l.jsx("ul",{className:"parent-disciplines-difficulte",children:d.resume.disciplinesEnDifficulte.map((Q,H)=>l.jsx("li",{children:Q},H))})]})]}),k==="resume"&&!d.resume&&l.jsxs("div",{className:"parent-vide-section",children:[l.jsx("span",{className:"parent-vide-icon",children:""}),l.jsx("p",{children:"Le rsum sera disponible une fois que votre enfant aura pass des quiz."})]})]})]}):l.jsxs("div",{className:"parent-erreur-dashboard",children:[l.jsx("p",{children:" Impossible de charger le suivi. Veuillez ressayer."}),l.jsx("button",{className:"parent-btn parent-btn-primary",onClick:()=>s&&z(s),children:" Ressayer"})]}):l.jsx("div",{className:"parent-select-enfant",children:l.jsx("p",{children:" Slectionnez un enfant dans la liste pour voir son suivi."})})})]})]})},Nge=()=>l.jsx(MW,{children:l.jsxs(H9,{children:[l.jsx(Dn,{path:"/",element:l.jsx(bs,{children:l.jsx(yY,{})})}),l.jsx(Dn,{path:"/disciplines",element:l.jsx(bs,{children:l.jsx(jY,{})})}),l.jsx(Dn,{path:"/disciplines/:id",element:l.jsx(bs,{children:l.jsx(AY,{})})}),l.jsx(Dn,{path:"/premium",element:l.jsx(bs,{children:l.jsx(OY,{})})}),l.jsx(Dn,{path:"/connexion",element:l.jsx(bY,{})}),l.jsx(Dn,{path:"/inscription",element:l.jsx(_Y,{})}),l.jsx(Dn,{path:"/admin",element:l.jsx(Tu,{children:l.jsx(Cu,{currentPage:"dashboard",children:l.jsx(IY,{})})})}),l.jsx(Dn,{path:"/admin/disciplines",element:l.jsx(Tu,{children:l.jsx(Cu,{currentPage:"disciplines",children:l.jsx(kY,{})})})}),l.jsx(Dn,{path:"/admin/chapitres",element:l.jsx(Tu,{children:l.jsx(Cu,{currentPage:"chapitres",children:l.jsx(DY,{})})})}),l.jsx(Dn,{path:"/admin/ressources",element:l.jsx(Tu,{children:l.jsx(Cu,{currentPage:"ressources",children:l.jsx(MY,{})})})}),l.jsx(Dn,{path:"/admin/quiz",element:l.jsx(Tu,{children:l.jsx(Cu,{currentPage:"quiz",children:l.jsx(BY,{})})})}),l.jsx(Dn,{path:"/admin/utilisateurs",element:l.jsx(Tu,{children:l.jsx(Cu,{currentPage:"utilisateurs",children:l.jsx(YY,{})})})}),l.jsx(Dn,{path:"/eleve/dashboard",element:l.jsx(bs,{children:l.jsx(yge,{})})}),l.jsx(Dn,{path:"/eleve/suivi",element:l.jsx(bs,{children:l.jsx(bge,{})})}),l.jsx(Dn,{path:"/quiz/:quizId",element:l.jsx(bs,{children:l.jsx(nX,{})})}),l.jsx(Dn,{path:"/parent/dashboard",element:l.jsx(mj,{allowedRoles:["parent","admin"],children:l.jsx(bs,{children:l.jsx(Sge,{})})})}),l.jsx(Dn,{path:"/prof/dashboard",element:l.jsx(zW,{children:l.jsx(bs,{children:l.jsx(jge,{})})})}),l.jsx(Dn,{path:"*",element:l.jsx($9,{to:"/",replace:!0})})]})}),dV=document.getElementById("root");if(!dV)throw new Error("L'lment #root n'existe pas");const Age=Zq.createRoot(dV);Age.render(l.jsx(CD.StrictMode,{children:l.jsx(Z9,{children:l.jsx(Nge,{})})}));
//# sourceMappingURL=index-DhXgE0gm.js.map
