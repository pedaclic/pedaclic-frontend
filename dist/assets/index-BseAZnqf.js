function v8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function is(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ax={exports:{}},ih={};var P2;function g8(){if(P2)return ih;P2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var c=null;if(s!==void 0&&(c=""+s),i.key!==void 0&&(c=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:c,ref:i!==void 0?i:null,props:s}}return ih.Fragment=e,ih.jsx=n,ih.jsxs=n,ih}var O2;function y8(){return O2||(O2=1,ax.exports=g8()),ax.exports}var l=y8(),sx={exports:{}},Ye={};var I2;function b8(){if(I2)return Ye;I2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),y=Symbol.iterator;function w(H){return H===null||typeof H!="object"?null:(H=y&&H[y]||H["@@iterator"],typeof H=="function"?H:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,N={};function S(H,ae,ye){this.props=H,this.context=ae,this.refs=N,this.updater=ye||j}S.prototype.isReactComponent={},S.prototype.setState=function(H,ae){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ae,"setState")},S.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function D(){}D.prototype=S.prototype;function R(H,ae,ye){this.props=H,this.context=ae,this.refs=N,this.updater=ye||j}var I=R.prototype=new D;I.constructor=R,E(I,S.prototype),I.isPureReactComponent=!0;var $=Array.isArray;function z(){}var O={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function k(H,ae,ye){var we=ye.ref;return{$$typeof:t,type:H,key:ae,ref:we!==void 0?we:null,props:ye}}function q(H,ae){return k(H.type,ae,H.props)}function U(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function L(H){var ae={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ye){return ae[ye]})}var M=/\/+/g;function ue(H,ae){return typeof H=="object"&&H!==null&&H.key!=null?L(""+H.key):ae.toString(36)}function Z(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(z,z):(H.status="pending",H.then(function(ae){H.status==="pending"&&(H.status="fulfilled",H.value=ae)},function(ae){H.status==="pending"&&(H.status="rejected",H.reason=ae)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function B(H,ae,ye,we,Y){var W=typeof H;(W==="undefined"||W==="boolean")&&(H=null);var _e=!1;if(H===null)_e=!0;else switch(W){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(H.$$typeof){case t:case e:_e=!0;break;case p:return _e=H._init,B(_e(H._payload),ae,ye,we,Y)}}if(_e)return Y=Y(H),_e=we===""?"."+ue(H,0):we,$(Y)?(ye="",_e!=null&&(ye=_e.replace(M,"$&/")+"/"),B(Y,ae,ye,"",function(Ae){return Ae})):Y!=null&&(U(Y)&&(Y=q(Y,ye+(Y.key==null||H&&H.key===Y.key?"":(""+Y.key).replace(M,"$&/")+"/")+_e)),ae.push(Y)),1;_e=0;var Ve=we===""?".":we+":";if($(H))for(var oe=0;oe<H.length;oe++)we=H[oe],W=Ve+ue(we,oe),_e+=B(we,ae,ye,W,Y);else if(oe=w(H),typeof oe=="function")for(H=oe.call(H),oe=0;!(we=H.next()).done;)we=we.value,W=Ve+ue(we,oe++),_e+=B(we,ae,ye,W,Y);else if(W==="object"){if(typeof H.then=="function")return B(Z(H),ae,ye,we,Y);throw ae=String(H),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return _e}function J(H,ae,ye){if(H==null)return H;var we=[],Y=0;return B(H,we,"","",function(W){return ae.call(ye,W,Y++)}),we}function he(H){if(H._status===-1){var ae=H._result;ae=ae(),ae.then(function(ye){(H._status===0||H._status===-1)&&(H._status=1,H._result=ye)},function(ye){(H._status===0||H._status===-1)&&(H._status=2,H._result=ye)}),H._status===-1&&(H._status=0,H._result=ae)}if(H._status===1)return H._result.default;throw H._result}var Ee=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},xe={map:J,forEach:function(H,ae,ye){J(H,function(){ae.apply(this,arguments)},ye)},count:function(H){var ae=0;return J(H,function(){ae++}),ae},toArray:function(H){return J(H,function(ae){return ae})||[]},only:function(H){if(!U(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Ye.Activity=v,Ye.Children=xe,Ye.Component=S,Ye.Fragment=n,Ye.Profiler=i,Ye.PureComponent=R,Ye.StrictMode=r,Ye.Suspense=f,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(H){return O.H.useMemoCache(H)}},Ye.cache=function(H){return function(){return H.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(H,ae,ye){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var we=E({},H.props),Y=H.key;if(ae!=null)for(W in ae.key!==void 0&&(Y=""+ae.key),ae)!C.call(ae,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&ae.ref===void 0||(we[W]=ae[W]);var W=arguments.length-2;if(W===1)we.children=ye;else if(1<W){for(var _e=Array(W),Ve=0;Ve<W;Ve++)_e[Ve]=arguments[Ve+2];we.children=_e}return k(H.type,Y,we)},Ye.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},Ye.createElement=function(H,ae,ye){var we,Y={},W=null;if(ae!=null)for(we in ae.key!==void 0&&(W=""+ae.key),ae)C.call(ae,we)&&we!=="key"&&we!=="__self"&&we!=="__source"&&(Y[we]=ae[we]);var _e=arguments.length-2;if(_e===1)Y.children=ye;else if(1<_e){for(var Ve=Array(_e),oe=0;oe<_e;oe++)Ve[oe]=arguments[oe+2];Y.children=Ve}if(H&&H.defaultProps)for(we in _e=H.defaultProps,_e)Y[we]===void 0&&(Y[we]=_e[we]);return k(H,W,Y)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(H){return{$$typeof:u,render:H}},Ye.isValidElement=U,Ye.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:he}},Ye.memo=function(H,ae){return{$$typeof:h,type:H,compare:ae===void 0?null:ae}},Ye.startTransition=function(H){var ae=O.T,ye={};O.T=ye;try{var we=H(),Y=O.S;Y!==null&&Y(ye,we),typeof we=="object"&&we!==null&&typeof we.then=="function"&&we.then(z,Ee)}catch(W){Ee(W)}finally{ae!==null&&ye.types!==null&&(ae.types=ye.types),O.T=ae}},Ye.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ye.use=function(H){return O.H.use(H)},Ye.useActionState=function(H,ae,ye){return O.H.useActionState(H,ae,ye)},Ye.useCallback=function(H,ae){return O.H.useCallback(H,ae)},Ye.useContext=function(H){return O.H.useContext(H)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(H,ae){return O.H.useDeferredValue(H,ae)},Ye.useEffect=function(H,ae){return O.H.useEffect(H,ae)},Ye.useEffectEvent=function(H){return O.H.useEffectEvent(H)},Ye.useId=function(){return O.H.useId()},Ye.useImperativeHandle=function(H,ae,ye){return O.H.useImperativeHandle(H,ae,ye)},Ye.useInsertionEffect=function(H,ae){return O.H.useInsertionEffect(H,ae)},Ye.useLayoutEffect=function(H,ae){return O.H.useLayoutEffect(H,ae)},Ye.useMemo=function(H,ae){return O.H.useMemo(H,ae)},Ye.useOptimistic=function(H,ae){return O.H.useOptimistic(H,ae)},Ye.useReducer=function(H,ae,ye){return O.H.useReducer(H,ae,ye)},Ye.useRef=function(H){return O.H.useRef(H)},Ye.useState=function(H){return O.H.useState(H)},Ye.useSyncExternalStore=function(H,ae,ye){return O.H.useSyncExternalStore(H,ae,ye)},Ye.useTransition=function(){return O.H.useTransition()},Ye.version="19.2.4",Ye}var R2;function Ld(){return R2||(R2=1,sx.exports=b8()),sx.exports}var _=Ld();const JM=is(_),ez=v8({__proto__:null,default:JM},[_]);var ox={exports:{}},ah={},lx={exports:{}},cx={};var D2;function _8(){return D2||(D2=1,(function(t){function e(B,J){var he=B.length;B.push(J);e:for(;0<he;){var Ee=he-1>>>1,xe=B[Ee];if(0<i(xe,J))B[Ee]=J,B[he]=xe,he=Ee;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var J=B[0],he=B.pop();if(he!==J){B[0]=he;e:for(var Ee=0,xe=B.length,H=xe>>>1;Ee<H;){var ae=2*(Ee+1)-1,ye=B[ae],we=ae+1,Y=B[we];if(0>i(ye,he))we<xe&&0>i(Y,ye)?(B[Ee]=Y,B[we]=he,Ee=we):(B[Ee]=ye,B[ae]=he,Ee=ae);else if(we<xe&&0>i(Y,he))B[Ee]=Y,B[we]=he,Ee=we;else break e}}return J}function i(B,J){var he=B.sortIndex-J.sortIndex;return he!==0?he:B.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],h=[],p=1,v=null,y=3,w=!1,j=!1,E=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function I(B){for(var J=n(h);J!==null;){if(J.callback===null)r(h);else if(J.startTime<=B)r(h),J.sortIndex=J.expirationTime,e(f,J);else break;J=n(h)}}function $(B){if(E=!1,I(B),!j)if(n(f)!==null)j=!0,z||(z=!0,L());else{var J=n(h);J!==null&&Z($,J.startTime-B)}}var z=!1,O=-1,C=5,k=-1;function q(){return N?!0:!(t.unstable_now()-k<C)}function U(){if(N=!1,z){var B=t.unstable_now();k=B;var J=!0;try{e:{j=!1,E&&(E=!1,D(O),O=-1),w=!0;var he=y;try{t:{for(I(B),v=n(f);v!==null&&!(v.expirationTime>B&&q());){var Ee=v.callback;if(typeof Ee=="function"){v.callback=null,y=v.priorityLevel;var xe=Ee(v.expirationTime<=B);if(B=t.unstable_now(),typeof xe=="function"){v.callback=xe,I(B),J=!0;break t}v===n(f)&&r(f),I(B)}else r(f);v=n(f)}if(v!==null)J=!0;else{var H=n(h);H!==null&&Z($,H.startTime-B),J=!1}}break e}finally{v=null,y=he,w=!1}J=void 0}}finally{J?L():z=!1}}}var L;if(typeof R=="function")L=function(){R(U)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,ue=M.port2;M.port1.onmessage=U,L=function(){ue.postMessage(null)}}else L=function(){S(U,0)};function Z(B,J){O=S(function(){B(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(B){switch(y){case 1:case 2:case 3:var J=3;break;default:J=y}var he=y;y=J;try{return B()}finally{y=he}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var he=y;y=B;try{return J()}finally{y=he}},t.unstable_scheduleCallback=function(B,J,he){var Ee=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ee+he:Ee):he=Ee,B){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=he+xe,B={id:p++,callback:J,priorityLevel:B,startTime:he,expirationTime:xe,sortIndex:-1},he>Ee?(B.sortIndex=he,e(h,B),n(f)===null&&B===n(h)&&(E?(D(O),O=-1):E=!0,Z($,he-Ee))):(B.sortIndex=xe,e(f,B),j||w||(j=!0,z||(z=!0,L()))),B},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(B){var J=y;return function(){var he=y;y=J;try{return B.apply(this,arguments)}finally{y=he}}}})(cx)),cx}var k2;function x8(){return k2||(k2=1,lx.exports=_8()),lx.exports}var ux={exports:{}},br={};var M2;function w8(){if(M2)return br;M2=1;var t=Ld();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:f,containerInfo:h,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return br.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,br.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},br.flushSync=function(f){var h=c.T,p=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=h,r.p=p,r.d.f()}},br.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},br.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},br.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,v=u(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:w}):p==="script"&&r.d.X(f,{crossOrigin:v,integrity:y,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},br.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},br.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,v=u(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},br.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},br.requestFormReset=function(f){r.d.r(f)},br.unstable_batchedUpdates=function(f,h){return f(h)},br.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},br.useFormStatus=function(){return c.H.useHostTransitionStatus()},br.version="19.2.4",br}var z2;function tz(){if(z2)return ux.exports;z2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ux.exports=w8(),ux.exports}var L2;function E8(){if(L2)return ah;L2=1;var t=x8(),e=Ld(),n=tz();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,d=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(d=o.return),a=o.return;while(a)}return o.tag===3?d:null}function c(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var d=a,m=o;;){var b=d.return;if(b===null)break;var x=b.alternate;if(x===null){if(m=b.return,m!==null){d=m;continue}break}if(b.child===x.child){for(x=b.child;x;){if(x===d)return f(b),a;if(x===m)return f(b),o;x=x.sibling}throw Error(r(188))}if(d.return!==m.return)d=b,m=x;else{for(var T=!1,V=b.child;V;){if(V===d){T=!0,d=b,m=x;break}if(V===m){T=!0,m=b,d=x;break}V=V.sibling}if(!T){for(V=x.child;V;){if(V===d){T=!0,d=x,m=b;break}if(V===m){T=!0,m=x,d=b;break}V=V.sibling}if(!T)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),R=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function L(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var M=Symbol.for("react.client.reference");function ue(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===M?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case S:return"Profiler";case N:return"StrictMode";case $:return"Suspense";case z:return"SuspenseList";case k:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case j:return"Portal";case R:return a.displayName||"Context";case D:return(a._context.displayName||"Context")+".Consumer";case I:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return o=a.displayName||null,o!==null?o:ue(a.type)||"Memo";case C:o=a._payload,a=a._init;try{return ue(a(o))}catch{}}return null}var Z=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ee=[],xe=-1;function H(a){return{current:a}}function ae(a){0>xe||(a.current=Ee[xe],Ee[xe]=null,xe--)}function ye(a,o){xe++,Ee[xe]=a.current,a.current=o}var we=H(null),Y=H(null),W=H(null),_e=H(null);function Ve(a,o){switch(ye(W,o),ye(Y,a),ye(we,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?JC(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=JC(o),a=e2(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ae(we),ye(we,a)}function oe(){ae(we),ae(Y),ae(W)}function Ae(a){a.memoizedState!==null&&ye(_e,a);var o=we.current,d=e2(o,a.type);o!==d&&(ye(Y,a),ye(we,d))}function Q(a){Y.current===a&&(ae(we),ae(Y)),_e.current===a&&(ae(_e),eh._currentValue=he)}var ve,ke;function $e(a){if(ve===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);ve=o&&o[1]||"",ke=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+a+ke}var at=!1;function dt(a,o){if(!a||at)return"";at=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ce){var se=ce}Reflect.construct(a,[],ge)}else{try{ge.call()}catch(ce){se=ce}a.call(ge.prototype)}}else{try{throw Error()}catch(ce){se=ce}(ge=a())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ce){if(ce&&se&&typeof ce.stack=="string")return[ce.stack,se.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),T=x[0],V=x[1];if(T&&V){var K=T.split(`
`),ie=V.split(`
`);for(b=m=0;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;for(;b<ie.length&&!ie[b].includes("DetermineComponentFrameRoot");)b++;if(m===K.length||b===ie.length)for(m=K.length-1,b=ie.length-1;1<=m&&0<=b&&K[m]!==ie[b];)b--;for(;1<=m&&0<=b;m--,b--)if(K[m]!==ie[b]){if(m!==1||b!==1)do if(m--,b--,0>b||K[m]!==ie[b]){var fe=`
`+K[m].replace(" at new "," at ");return a.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",a.displayName)),fe}while(1<=m&&0<=b);break}}}finally{at=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?$e(d):""}function vt(a,o){switch(a.tag){case 26:case 27:case 5:return $e(a.type);case 16:return $e("Lazy");case 13:return a.child!==o&&o!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return dt(a.type,!1);case 11:return dt(a.type.render,!1);case 1:return dt(a.type,!0);case 31:return $e("Activity");default:return""}}function gr(a){try{var o="",d=null;do o+=vt(a,d),d=a,a=a.return;while(a);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var It=Object.prototype.hasOwnProperty,Rt=t.unstable_scheduleCallback,Ur=t.unstable_cancelCallback,de=t.unstable_shouldYield,Ie=t.unstable_requestPaint,qe=t.unstable_now,Ge=t.unstable_getCurrentPriorityLevel,Vt=t.unstable_ImmediatePriority,Vn=t.unstable_UserBlockingPriority,qr=t.unstable_NormalPriority,ho=t.unstable_LowPriority,Br=t.unstable_IdlePriority,Wi=t.log,cu=t.unstable_setDisableYieldValue,an=null,St=null;function $r(a){if(typeof Wi=="function"&&cu(a),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(an,a)}catch{}}var en=Math.clz32?Math.clz32:uu,Ul=Math.log,mo=Math.LN2;function uu(a){return a>>>=0,a===0?32:31-(Ul(a)/mo|0)|0}var ji=256,ls=262144,sn=4194304;function Ni(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function yr(a,o,d){var m=a.pendingLanes;if(m===0)return 0;var b=0,x=a.suspendedLanes,T=a.pingedLanes;a=a.warmLanes;var V=m&134217727;return V!==0?(m=V&~x,m!==0?b=Ni(m):(T&=V,T!==0?b=Ni(T):d||(d=V&~a,d!==0&&(b=Ni(d))))):(V=m&~x,V!==0?b=Ni(V):T!==0?b=Ni(T):d||(d=m&~a,d!==0&&(b=Ni(d)))),b===0?0:o!==0&&o!==b&&(o&x)===0&&(x=b&-b,d=o&-o,x>=d||x===32&&(d&4194048)!==0)?o:b}function ii(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function ee(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ue(){var a=sn;return sn<<=1,(sn&62914560)===0&&(sn=4194304),a}function mt(a){for(var o=[],d=0;31>d;d++)o.push(a);return o}function Gn(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function ql(a,o,d,m,b,x){var T=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var V=a.entanglements,K=a.expirationTimes,ie=a.hiddenUpdates;for(d=T&~d;0<d;){var fe=31-en(d),ge=1<<fe;V[fe]=0,K[fe]=-1;var se=ie[fe];if(se!==null)for(ie[fe]=null,fe=0;fe<se.length;fe++){var ce=se[fe];ce!==null&&(ce.lane&=-536870913)}d&=~ge}m!==0&&Fr(a,m,0),x!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=x&~(T&~o))}function Fr(a,o,d){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-en(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|d&261930}function Bl(a,o){var d=a.entangledLanes|=o;for(a=a.entanglements;d;){var m=31-en(d),b=1<<m;b&o|a[m]&o&&(a[m]|=o),d&=~b}}function sf(a,o){var d=o&-o;return d=(d&42)!==0?1:$l(d),(d&(a.suspendedLanes|o))!==0?0:d}function $l(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function cs(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function np(){var a=J.p;return a!==0?a:(a=window.event,a===void 0?32:E2(a.type))}function Qi(a,o){var d=J.p;try{return J.p=a,o()}finally{J.p=d}}var Yi=Math.random().toString(36).slice(2),An="__reactFiber$"+Yi,Wn="__reactProps$"+Yi,_a="__reactContainer$"+Yi,du="__reactEvents$"+Yi,db="__reactListeners$"+Yi,rp="__reactHandles$"+Yi,ip="__reactResources$"+Yi,xa="__reactMarker$"+Yi;function fu(a){delete a[An],delete a[Wn],delete a[du],delete a[db],delete a[rp]}function wa(a){var o=a[An];if(o)return o;for(var d=a.parentNode;d;){if(o=d[_a]||d[An]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(a=o2(a);a!==null;){if(d=a[An])return d;a=o2(a)}return o}a=d,d=a.parentNode}return null}function Ai(a){if(a=a[An]||a[_a]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function ai(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Ea(a){var o=a[ip];return o||(o=a[ip]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Sn(a){a[xa]=!0}var of=new Set,lf={};function ja(a,o){Na(a,o),Na(a+"Capture",o)}function Na(a,o){for(lf[a]=o,a=0;a<o.length;a++)of.add(o[a])}var cf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uf={},df={};function ap(a){return It.call(df,a)?!0:It.call(uf,a)?!1:cf.test(a)?df[a]=!0:(uf[a]=!0,!1)}function hu(a,o,d){if(ap(o))if(d===null)a.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+d)}}function si(a,o,d){if(d===null)a.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+d)}}function Tn(a,o,d,m){if(m===null)a.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(o,d,""+m)}}function Qn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function po(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ff(a,o,d){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var b=m.get,x=m.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return b.call(this)},set:function(T){d=""+T,x.call(this,T)}}),Object.defineProperty(a,o,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Tt(a){if(!a._valueTracker){var o=po(a)?"checked":"value";a._valueTracker=ff(a,o,""+a[o])}}function Fl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var d=o.getValue(),m="";return a&&(m=po(a)?a.checked?"true":"false":a.value),a=m,a!==d?(o.setValue(a),!0):!1}function Aa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Hl=/[\n"\\]/g;function Hr(a){return a.replace(Hl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function mu(a,o,d,m,b,x,T,V){a.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?a.type=T:a.removeAttribute("type"),o!=null?T==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Qn(o)):a.value!==""+Qn(o)&&(a.value=""+Qn(o)):T!=="submit"&&T!=="reset"||a.removeAttribute("value"),o!=null?hf(a,T,Qn(o)):d!=null?hf(a,T,Qn(d)):m!=null&&a.removeAttribute("value"),b==null&&x!=null&&(a.defaultChecked=!!x),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?a.name=""+Qn(V):a.removeAttribute("name")}function sp(a,o,d,m,b,x,T,V){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),o!=null||d!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){Tt(a);return}d=d!=null?""+Qn(d):"",o=o!=null?""+Qn(o):d,V||o===a.value||(a.value=o),a.defaultValue=o}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=V?a.checked:!!m,a.defaultChecked=!!m,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.name=T),Tt(a)}function hf(a,o,d){o==="number"&&Aa(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function vo(a,o,d,m){if(a=a.options,o){o={};for(var b=0;b<d.length;b++)o["$"+d[b]]=!0;for(d=0;d<a.length;d++)b=o.hasOwnProperty("$"+a[d].value),a[d].selected!==b&&(a[d].selected=b),b&&m&&(a[d].defaultSelected=!0)}else{for(d=""+Qn(d),o=null,b=0;b<a.length;b++){if(a[b].value===d){a[b].selected=!0,m&&(a[b].defaultSelected=!0);return}o!==null||a[b].disabled||(o=a[b])}o!==null&&(o.selected=!0)}}function op(a,o,d){if(o!=null&&(o=""+Qn(o),o!==a.value&&(a.value=o),d==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=d!=null?""+Qn(d):""}function go(a,o,d,m){if(o==null){if(m!=null){if(d!=null)throw Error(r(92));if(Z(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),o=d}d=Qn(o),a.defaultValue=d,m=a.textContent,m===d&&m!==""&&m!==null&&(a.value=m),Tt(a)}function Kr(a,o){if(o){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=o;return}}a.textContent=o}var lp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mf(a,o,d){var m=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,d):typeof d!="number"||d===0||lp.has(o)?o==="float"?a.cssFloat=d:a[o]=(""+d).trim():a[o]=d+"px"}function pf(a,o,d){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var b in o)m=o[b],o.hasOwnProperty(b)&&d[b]!==m&&mf(a,b,m)}else for(var x in o)o.hasOwnProperty(x)&&mf(a,x,o[x])}function pu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vu(a){return yo.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Xi(){}var vf=null;function Si(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var bo=null,Sa=null;function Kl(a){var o=Ai(a);if(o&&(a=o.stateNode)){var d=a[Wn]||null;e:switch(a=o.stateNode,o.type){case"input":if(mu(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Hr(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var m=d[o];if(m!==a&&m.form===a.form){var b=m[Wn]||null;if(!b)throw Error(r(90));mu(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<d.length;o++)m=d[o],m.form===a.form&&Fl(m)}break e;case"textarea":op(a,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&vo(a,!!d.multiple,o,!1)}}}var gu=!1;function _o(a,o,d){if(gu)return a(o,d);gu=!0;try{var m=a(o);return m}finally{if(gu=!1,(bo!==null||Sa!==null)&&(nv(),bo&&(o=bo,a=Sa,Sa=bo=null,Kl(o),a)))for(o=0;o<a.length;o++)Kl(a[o])}}function Zi(a,o){var d=a.stateNode;if(d===null)return null;var m=d[Wn]||null;if(m===null)return null;d=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,o,typeof d));return d}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gl=!1;if(Ti)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Gl=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{Gl=!1}var Ta=null,gf=null,Wl=null;function yf(){if(Wl)return Wl;var a,o=gf,d=o.length,m,b="value"in Ta?Ta.value:Ta.textContent,x=b.length;for(a=0;a<d&&o[a]===b[a];a++);var T=d-a;for(m=1;m<=T&&o[d-m]===b[x-m];m++);return Wl=b.slice(a,1<m?1-m:void 0)}function Ql(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function us(){return!0}function Ji(){return!1}function cr(a){function o(d,m,b,x,T){this._reactName=d,this._targetInst=b,this.type=m,this.nativeEvent=x,this.target=T,this.currentTarget=null;for(var V in a)a.hasOwnProperty(V)&&(d=a[V],this[V]=d?d(x):x[V]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?us:Ji,this.isPropagationStopped=Ji,this}return v(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),o}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=cr(ds),xo=v({},ds,{view:0,detail:0}),bf=cr(xo),wo,yu,Pa,bu=v({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Pa&&(Pa&&a.type==="mousemove"?(wo=a.screenX-Pa.screenX,yu=a.screenY-Pa.screenY):yu=wo=0,Pa=a),wo)},movementY:function(a){return"movementY"in a?a.movementY:yu}}),_f=cr(bu),Yl=v({},bu,{dataTransfer:0}),up=cr(Yl),dp=v({},xo,{relatedTarget:0}),Xl=cr(dp),xf=v({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),fp=cr(xf),_u=v({},ds,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),hp=cr(_u),mp=v({},ds,{data:0}),Oa=cr(mp),pp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yp(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=gp[a])?!!o[a]:!1}function Eo(){return yp}var Cr=v({},xo,{key:function(a){if(a.key){var o=pp[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Ql(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?vp[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eo,charCode:function(a){return a.type==="keypress"?Ql(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ql(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),bp=cr(Cr),_p=v({},bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fs=cr(_p),g=v({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eo}),A=cr(g),P=v({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=cr(P),ne=v({},bu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),le=cr(ne),je=v({},ds,{newState:0,oldState:0}),Ze=cr(je),yn=[9,13,27,32],wt=Ti&&"CompositionEvent"in window,Qt=null;Ti&&"documentMode"in document&&(Qt=document.documentMode);var Ci=Ti&&"TextEvent"in window&&!Qt,Ia=Ti&&(!wt||Qt&&8<Qt&&11>=Qt),ea=" ",ta=!1;function Zl(a,o){switch(a){case"keyup":return yn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xu(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var wu=!1;function U9(a,o){switch(a){case"compositionend":return xu(o);case"keypress":return o.which!==32?null:(ta=!0,ea);case"textInput":return a=o.data,a===ea&&ta?null:a;default:return null}}function q9(a,o){if(wu)return a==="compositionend"||!wt&&Zl(a,o)?(a=yf(),Wl=gf=Ta=null,wu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ia&&o.locale!=="ko"?null:o.data;default:return null}}var B9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uS(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!B9[a.type]:o==="textarea"}function dS(a,o,d,m){bo?Sa?Sa.push(m):Sa=[m]:bo=m,o=cv(o,"onChange"),0<o.length&&(d=new Ca("onChange","change",null,d,m),a.push({event:d,listeners:o}))}var wf=null,Ef=null;function $9(a){GC(a,0)}function xp(a){var o=ai(a);if(Fl(o))return a}function fS(a,o){if(a==="change")return o}var hS=!1;if(Ti){var fb;if(Ti){var hb="oninput"in document;if(!hb){var mS=document.createElement("div");mS.setAttribute("oninput","return;"),hb=typeof mS.oninput=="function"}fb=hb}else fb=!1;hS=fb&&(!document.documentMode||9<document.documentMode)}function pS(){wf&&(wf.detachEvent("onpropertychange",vS),Ef=wf=null)}function vS(a){if(a.propertyName==="value"&&xp(Ef)){var o=[];dS(o,Ef,a,Si(a)),_o($9,o)}}function F9(a,o,d){a==="focusin"?(pS(),wf=o,Ef=d,wf.attachEvent("onpropertychange",vS)):a==="focusout"&&pS()}function H9(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return xp(Ef)}function K9(a,o){if(a==="click")return xp(o)}function G9(a,o){if(a==="input"||a==="change")return xp(o)}function W9(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var oi=typeof Object.is=="function"?Object.is:W9;function jf(a,o){if(oi(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var d=Object.keys(a),m=Object.keys(o);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var b=d[m];if(!It.call(o,b)||!oi(a[b],o[b]))return!1}return!0}function gS(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function yS(a,o){var d=gS(a);a=0;for(var m;d;){if(d.nodeType===3){if(m=a+d.textContent.length,a<=o&&m>=o)return{node:d,offset:o-a};a=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=gS(d)}}function bS(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?bS(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function _S(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Aa(a.document);o instanceof a.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)a=o.contentWindow;else break;o=Aa(a.document)}return o}function mb(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var Q9=Ti&&"documentMode"in document&&11>=document.documentMode,Eu=null,pb=null,Nf=null,vb=!1;function xS(a,o,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;vb||Eu==null||Eu!==Aa(m)||(m=Eu,"selectionStart"in m&&mb(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Nf&&jf(Nf,m)||(Nf=m,m=cv(pb,"onSelect"),0<m.length&&(o=new Ca("onSelect","select",null,o,d),a.push({event:o,listeners:m}),o.target=Eu)))}function Jl(a,o){var d={};return d[a.toLowerCase()]=o.toLowerCase(),d["Webkit"+a]="webkit"+o,d["Moz"+a]="moz"+o,d}var ju={animationend:Jl("Animation","AnimationEnd"),animationiteration:Jl("Animation","AnimationIteration"),animationstart:Jl("Animation","AnimationStart"),transitionrun:Jl("Transition","TransitionRun"),transitionstart:Jl("Transition","TransitionStart"),transitioncancel:Jl("Transition","TransitionCancel"),transitionend:Jl("Transition","TransitionEnd")},gb={},wS={};Ti&&(wS=document.createElement("div").style,"AnimationEvent"in window||(delete ju.animationend.animation,delete ju.animationiteration.animation,delete ju.animationstart.animation),"TransitionEvent"in window||delete ju.transitionend.transition);function ec(a){if(gb[a])return gb[a];if(!ju[a])return a;var o=ju[a],d;for(d in o)if(o.hasOwnProperty(d)&&d in wS)return gb[a]=o[d];return a}var ES=ec("animationend"),jS=ec("animationiteration"),NS=ec("animationstart"),Y9=ec("transitionrun"),X9=ec("transitionstart"),Z9=ec("transitioncancel"),AS=ec("transitionend"),SS=new Map,yb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yb.push("scrollEnd");function na(a,o){SS.set(a,o),ja(o,[a])}var wp=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Pi=[],Nu=0,bb=0;function Ep(){for(var a=Nu,o=bb=Nu=0;o<a;){var d=Pi[o];Pi[o++]=null;var m=Pi[o];Pi[o++]=null;var b=Pi[o];Pi[o++]=null;var x=Pi[o];if(Pi[o++]=null,m!==null&&b!==null){var T=m.pending;T===null?b.next=b:(b.next=T.next,T.next=b),m.pending=b}x!==0&&TS(d,b,x)}}function jp(a,o,d,m){Pi[Nu++]=a,Pi[Nu++]=o,Pi[Nu++]=d,Pi[Nu++]=m,bb|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function _b(a,o,d,m){return jp(a,o,d,m),Np(a)}function tc(a,o){return jp(a,null,null,o),Np(a)}function TS(a,o,d){a.lanes|=d;var m=a.alternate;m!==null&&(m.lanes|=d);for(var b=!1,x=a.return;x!==null;)x.childLanes|=d,m=x.alternate,m!==null&&(m.childLanes|=d),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(b=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,b&&o!==null&&(b=31-en(d),a=x.hiddenUpdates,m=a[b],m===null?a[b]=[o]:m.push(o),o.lane=d|536870912),x):null}function Np(a){if(50<Gf)throw Gf=0,C_=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Au={};function J9(a,o,d,m){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(a,o,d,m){return new J9(a,o,d,m)}function xb(a){return a=a.prototype,!(!a||!a.isReactComponent)}function hs(a,o){var d=a.alternate;return d===null?(d=li(a.tag,o,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=o,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,o=a.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function CS(a,o){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,o=d.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Ap(a,o,d,m,b,x){var T=0;if(m=a,typeof a=="function")xb(a)&&(T=1);else if(typeof a=="string")T=i8(a,d,we.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case k:return a=li(31,d,o,b),a.elementType=k,a.lanes=x,a;case E:return nc(d.children,b,x,o);case N:T=8,b|=24;break;case S:return a=li(12,d,o,b|2),a.elementType=S,a.lanes=x,a;case $:return a=li(13,d,o,b),a.elementType=$,a.lanes=x,a;case z:return a=li(19,d,o,b),a.elementType=z,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:T=10;break e;case D:T=9;break e;case I:T=11;break e;case O:T=14;break e;case C:T=16,m=null;break e}T=29,d=Error(r(130,a===null?"null":typeof a,"")),m=null}return o=li(T,d,o,b),o.elementType=a,o.type=m,o.lanes=x,o}function nc(a,o,d,m){return a=li(7,a,m,o),a.lanes=d,a}function wb(a,o,d){return a=li(6,a,null,o),a.lanes=d,a}function PS(a){var o=li(18,null,null,0);return o.stateNode=a,o}function Eb(a,o,d){return o=li(4,a.children!==null?a.children:[],a.key,o),o.lanes=d,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var OS=new WeakMap;function Oi(a,o){if(typeof a=="object"&&a!==null){var d=OS.get(a);return d!==void 0?d:(o={value:a,source:o,stack:gr(o)},OS.set(a,o),o)}return{value:a,source:o,stack:gr(o)}}var Su=[],Tu=0,Sp=null,Af=0,Ii=[],Ri=0,jo=null,Ra=1,Da="";function ms(a,o){Su[Tu++]=Af,Su[Tu++]=Sp,Sp=a,Af=o}function IS(a,o,d){Ii[Ri++]=Ra,Ii[Ri++]=Da,Ii[Ri++]=jo,jo=a;var m=Ra;a=Da;var b=32-en(m)-1;m&=~(1<<b),d+=1;var x=32-en(o)+b;if(30<x){var T=b-b%5;x=(m&(1<<T)-1).toString(32),m>>=T,b-=T,Ra=1<<32-en(o)+b|d<<b|m,Da=x+a}else Ra=1<<x|d<<b|m,Da=a}function jb(a){a.return!==null&&(ms(a,1),IS(a,1,0))}function Nb(a){for(;a===Sp;)Sp=Su[--Tu],Su[Tu]=null,Af=Su[--Tu],Su[Tu]=null;for(;a===jo;)jo=Ii[--Ri],Ii[Ri]=null,Da=Ii[--Ri],Ii[Ri]=null,Ra=Ii[--Ri],Ii[Ri]=null}function RS(a,o){Ii[Ri++]=Ra,Ii[Ri++]=Da,Ii[Ri++]=jo,Ra=o.id,Da=o.overflow,jo=a}var ur=null,Kt=null,ft=!1,No=null,Di=!1,Ab=Error(r(519));function Ao(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sf(Oi(o,a)),Ab}function DS(a){var o=a.stateNode,d=a.type,m=a.memoizedProps;switch(o[An]=a,o[Wn]=m,d){case"dialog":it("cancel",o),it("close",o);break;case"iframe":case"object":case"embed":it("load",o);break;case"video":case"audio":for(d=0;d<Qf.length;d++)it(Qf[d],o);break;case"source":it("error",o);break;case"img":case"image":case"link":it("error",o),it("load",o);break;case"details":it("toggle",o);break;case"input":it("invalid",o),sp(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":it("invalid",o);break;case"textarea":it("invalid",o),go(o,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||m.suppressHydrationWarning===!0||XC(o.textContent,d)?(m.popover!=null&&(it("beforetoggle",o),it("toggle",o)),m.onScroll!=null&&it("scroll",o),m.onScrollEnd!=null&&it("scrollend",o),m.onClick!=null&&(o.onclick=Xi),o=!0):o=!1,o||Ao(a,!0)}function kS(a){for(ur=a.return;ur;)switch(ur.tag){case 5:case 31:case 13:Di=!1;return;case 27:case 3:Di=!0;return;default:ur=ur.return}}function Cu(a){if(a!==ur)return!1;if(!ft)return kS(a),ft=!0,!1;var o=a.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||F_(a.type,a.memoizedProps)),d=!d),d&&Kt&&Ao(a),kS(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Kt=s2(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Kt=s2(a)}else o===27?(o=Kt,Uo(a.type)?(a=Q_,Q_=null,Kt=a):Kt=o):Kt=ur?Mi(a.stateNode.nextSibling):null;return!0}function rc(){Kt=ur=null,ft=!1}function Sb(){var a=No;return a!==null&&(Yr===null?Yr=a:Yr.push.apply(Yr,a),No=null),a}function Sf(a){No===null?No=[a]:No.push(a)}var Tb=H(null),ic=null,ps=null;function So(a,o,d){ye(Tb,o._currentValue),o._currentValue=d}function vs(a){a._currentValue=Tb.current,ae(Tb)}function Cb(a,o,d){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===d)break;a=a.return}}function Pb(a,o,d,m){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var x=b.dependencies;if(x!==null){var T=b.child;x=x.firstContext;e:for(;x!==null;){var V=x;x=b;for(var K=0;K<o.length;K++)if(V.context===o[K]){x.lanes|=d,V=x.alternate,V!==null&&(V.lanes|=d),Cb(x.return,d,a),m||(T=null);break e}x=V.next}}else if(b.tag===18){if(T=b.return,T===null)throw Error(r(341));T.lanes|=d,x=T.alternate,x!==null&&(x.lanes|=d),Cb(T,d,a),T=null}else T=b.child;if(T!==null)T.return=b;else for(T=b;T!==null;){if(T===a){T=null;break}if(b=T.sibling,b!==null){b.return=T.return,T=b;break}T=T.return}b=T}}function Pu(a,o,d,m){a=null;for(var b=o,x=!1;b!==null;){if(!x){if((b.flags&524288)!==0)x=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var T=b.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var V=b.type;oi(b.pendingProps.value,T.value)||(a!==null?a.push(V):a=[V])}}else if(b===_e.current){if(T=b.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(eh):a=[eh])}b=b.return}a!==null&&Pb(o,a,d,m),o.flags|=262144}function Tp(a){for(a=a.firstContext;a!==null;){if(!oi(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ac(a){ic=a,ps=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function dr(a){return MS(ic,a)}function Cp(a,o){return ic===null&&ac(a),MS(a,o)}function MS(a,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},ps===null){if(a===null)throw Error(r(308));ps=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else ps=ps.next=o;return d}var eq=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(d,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(d){return d()})}},tq=t.unstable_scheduleCallback,nq=t.unstable_NormalPriority,Cn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ob(){return{controller:new eq,data:new Map,refCount:0}}function Tf(a){a.refCount--,a.refCount===0&&tq(nq,function(){a.controller.abort()})}var Cf=null,Ib=0,Ou=0,Iu=null;function rq(a,o){if(Cf===null){var d=Cf=[];Ib=0,Ou=k_(),Iu={status:"pending",value:void 0,then:function(m){d.push(m)}}}return Ib++,o.then(zS,zS),o}function zS(){if(--Ib===0&&Cf!==null){Iu!==null&&(Iu.status="fulfilled");var a=Cf;Cf=null,Ou=0,Iu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function iq(a,o){var d=[],m={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var b=0;b<d.length;b++)(0,d[b])(o)},function(b){for(m.status="rejected",m.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),m}var LS=B.S;B.S=function(a,o){xC=qe(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&rq(a,o),LS!==null&&LS(a,o)};var sc=H(null);function Rb(){var a=sc.current;return a!==null?a:Ut.pooledCache}function Pp(a,o){o===null?ye(sc,sc.current):ye(sc,o.pool)}function VS(){var a=Rb();return a===null?null:{parent:Cn._currentValue,pool:a}}var Ru=Error(r(460)),Db=Error(r(474)),Op=Error(r(542)),Ip={then:function(){}};function US(a){return a=a.status,a==="fulfilled"||a==="rejected"}function qS(a,o,d){switch(d=a[d],d===void 0?a.push(o):d!==o&&(o.then(Xi,Xi),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,$S(a),a;default:if(typeof o.status=="string")o.then(Xi,Xi);else{if(a=Ut,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=m}},function(m){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,$S(a),a}throw lc=o,Ru}}function oc(a){try{var o=a._init;return o(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(lc=d,Ru):d}}var lc=null;function BS(){if(lc===null)throw Error(r(459));var a=lc;return lc=null,a}function $S(a){if(a===Ru||a===Op)throw Error(r(483))}var Du=null,Pf=0;function Rp(a){var o=Pf;return Pf+=1,Du===null&&(Du=[]),qS(Du,a,o)}function Of(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Dp(a,o){throw o.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function FS(a){function o(X,G){if(a){var re=X.deletions;re===null?(X.deletions=[G],X.flags|=16):re.push(G)}}function d(X,G){if(!a)return null;for(;G!==null;)o(X,G),G=G.sibling;return null}function m(X){for(var G=new Map;X!==null;)X.key!==null?G.set(X.key,X):G.set(X.index,X),X=X.sibling;return G}function b(X,G){return X=hs(X,G),X.index=0,X.sibling=null,X}function x(X,G,re){return X.index=re,a?(re=X.alternate,re!==null?(re=re.index,re<G?(X.flags|=67108866,G):re):(X.flags|=67108866,G)):(X.flags|=1048576,G)}function T(X){return a&&X.alternate===null&&(X.flags|=67108866),X}function V(X,G,re,pe){return G===null||G.tag!==6?(G=wb(re,X.mode,pe),G.return=X,G):(G=b(G,re),G.return=X,G)}function K(X,G,re,pe){var ze=re.type;return ze===E?fe(X,G,re.props.children,pe,re.key):G!==null&&(G.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===C&&oc(ze)===G.type)?(G=b(G,re.props),Of(G,re),G.return=X,G):(G=Ap(re.type,re.key,re.props,null,X.mode,pe),Of(G,re),G.return=X,G)}function ie(X,G,re,pe){return G===null||G.tag!==4||G.stateNode.containerInfo!==re.containerInfo||G.stateNode.implementation!==re.implementation?(G=Eb(re,X.mode,pe),G.return=X,G):(G=b(G,re.children||[]),G.return=X,G)}function fe(X,G,re,pe,ze){return G===null||G.tag!==7?(G=nc(re,X.mode,pe,ze),G.return=X,G):(G=b(G,re),G.return=X,G)}function ge(X,G,re){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=wb(""+G,X.mode,re),G.return=X,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return re=Ap(G.type,G.key,G.props,null,X.mode,re),Of(re,G),re.return=X,re;case j:return G=Eb(G,X.mode,re),G.return=X,G;case C:return G=oc(G),ge(X,G,re)}if(Z(G)||L(G))return G=nc(G,X.mode,re,null),G.return=X,G;if(typeof G.then=="function")return ge(X,Rp(G),re);if(G.$$typeof===R)return ge(X,Cp(X,G),re);Dp(X,G)}return null}function se(X,G,re,pe){var ze=G!==null?G.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return ze!==null?null:V(X,G,""+re,pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case w:return re.key===ze?K(X,G,re,pe):null;case j:return re.key===ze?ie(X,G,re,pe):null;case C:return re=oc(re),se(X,G,re,pe)}if(Z(re)||L(re))return ze!==null?null:fe(X,G,re,pe,null);if(typeof re.then=="function")return se(X,G,Rp(re),pe);if(re.$$typeof===R)return se(X,G,Cp(X,re),pe);Dp(X,re)}return null}function ce(X,G,re,pe,ze){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return X=X.get(re)||null,V(G,X,""+pe,ze);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case w:return X=X.get(pe.key===null?re:pe.key)||null,K(G,X,pe,ze);case j:return X=X.get(pe.key===null?re:pe.key)||null,ie(G,X,pe,ze);case C:return pe=oc(pe),ce(X,G,re,pe,ze)}if(Z(pe)||L(pe))return X=X.get(re)||null,fe(G,X,pe,ze,null);if(typeof pe.then=="function")return ce(X,G,re,Rp(pe),ze);if(pe.$$typeof===R)return ce(X,G,re,Cp(G,pe),ze);Dp(G,pe)}return null}function Pe(X,G,re,pe){for(var ze=null,yt=null,Re=G,et=G=0,ot=null;Re!==null&&et<re.length;et++){Re.index>et?(ot=Re,Re=null):ot=Re.sibling;var bt=se(X,Re,re[et],pe);if(bt===null){Re===null&&(Re=ot);break}a&&Re&&bt.alternate===null&&o(X,Re),G=x(bt,G,et),yt===null?ze=bt:yt.sibling=bt,yt=bt,Re=ot}if(et===re.length)return d(X,Re),ft&&ms(X,et),ze;if(Re===null){for(;et<re.length;et++)Re=ge(X,re[et],pe),Re!==null&&(G=x(Re,G,et),yt===null?ze=Re:yt.sibling=Re,yt=Re);return ft&&ms(X,et),ze}for(Re=m(Re);et<re.length;et++)ot=ce(Re,X,et,re[et],pe),ot!==null&&(a&&ot.alternate!==null&&Re.delete(ot.key===null?et:ot.key),G=x(ot,G,et),yt===null?ze=ot:yt.sibling=ot,yt=ot);return a&&Re.forEach(function(Ho){return o(X,Ho)}),ft&&ms(X,et),ze}function Be(X,G,re,pe){if(re==null)throw Error(r(151));for(var ze=null,yt=null,Re=G,et=G=0,ot=null,bt=re.next();Re!==null&&!bt.done;et++,bt=re.next()){Re.index>et?(ot=Re,Re=null):ot=Re.sibling;var Ho=se(X,Re,bt.value,pe);if(Ho===null){Re===null&&(Re=ot);break}a&&Re&&Ho.alternate===null&&o(X,Re),G=x(Ho,G,et),yt===null?ze=Ho:yt.sibling=Ho,yt=Ho,Re=ot}if(bt.done)return d(X,Re),ft&&ms(X,et),ze;if(Re===null){for(;!bt.done;et++,bt=re.next())bt=ge(X,bt.value,pe),bt!==null&&(G=x(bt,G,et),yt===null?ze=bt:yt.sibling=bt,yt=bt);return ft&&ms(X,et),ze}for(Re=m(Re);!bt.done;et++,bt=re.next())bt=ce(Re,X,et,bt.value,pe),bt!==null&&(a&&bt.alternate!==null&&Re.delete(bt.key===null?et:bt.key),G=x(bt,G,et),yt===null?ze=bt:yt.sibling=bt,yt=bt);return a&&Re.forEach(function(p8){return o(X,p8)}),ft&&ms(X,et),ze}function zt(X,G,re,pe){if(typeof re=="object"&&re!==null&&re.type===E&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case w:e:{for(var ze=re.key;G!==null;){if(G.key===ze){if(ze=re.type,ze===E){if(G.tag===7){d(X,G.sibling),pe=b(G,re.props.children),pe.return=X,X=pe;break e}}else if(G.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===C&&oc(ze)===G.type){d(X,G.sibling),pe=b(G,re.props),Of(pe,re),pe.return=X,X=pe;break e}d(X,G);break}else o(X,G);G=G.sibling}re.type===E?(pe=nc(re.props.children,X.mode,pe,re.key),pe.return=X,X=pe):(pe=Ap(re.type,re.key,re.props,null,X.mode,pe),Of(pe,re),pe.return=X,X=pe)}return T(X);case j:e:{for(ze=re.key;G!==null;){if(G.key===ze)if(G.tag===4&&G.stateNode.containerInfo===re.containerInfo&&G.stateNode.implementation===re.implementation){d(X,G.sibling),pe=b(G,re.children||[]),pe.return=X,X=pe;break e}else{d(X,G);break}else o(X,G);G=G.sibling}pe=Eb(re,X.mode,pe),pe.return=X,X=pe}return T(X);case C:return re=oc(re),zt(X,G,re,pe)}if(Z(re))return Pe(X,G,re,pe);if(L(re)){if(ze=L(re),typeof ze!="function")throw Error(r(150));return re=ze.call(re),Be(X,G,re,pe)}if(typeof re.then=="function")return zt(X,G,Rp(re),pe);if(re.$$typeof===R)return zt(X,G,Cp(X,re),pe);Dp(X,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,G!==null&&G.tag===6?(d(X,G.sibling),pe=b(G,re),pe.return=X,X=pe):(d(X,G),pe=wb(re,X.mode,pe),pe.return=X,X=pe),T(X)):d(X,G)}return function(X,G,re,pe){try{Pf=0;var ze=zt(X,G,re,pe);return Du=null,ze}catch(Re){if(Re===Ru||Re===Op)throw Re;var yt=li(29,Re,null,X.mode);return yt.lanes=pe,yt.return=X,yt}}}var cc=FS(!0),HS=FS(!1),To=!1;function kb(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mb(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Co(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Po(a,o,d){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Et&2)!==0){var b=m.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),m.pending=o,o=Np(a),TS(a,null,d),o}return jp(a,m,o,d),Np(a)}function If(a,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var m=o.lanes;m&=a.pendingLanes,d|=m,o.lanes=d,Bl(a,d)}}function zb(a,o){var d=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var b=null,x=null;if(d=d.firstBaseUpdate,d!==null){do{var T={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};x===null?b=x=T:x=x.next=T,d=d.next}while(d!==null);x===null?b=x=o:x=x.next=o}else b=x=o;d={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=o:a.next=o,d.lastBaseUpdate=o}var Lb=!1;function Rf(){if(Lb){var a=Iu;if(a!==null)throw a}}function Df(a,o,d,m){Lb=!1;var b=a.updateQueue;To=!1;var x=b.firstBaseUpdate,T=b.lastBaseUpdate,V=b.shared.pending;if(V!==null){b.shared.pending=null;var K=V,ie=K.next;K.next=null,T===null?x=ie:T.next=ie,T=K;var fe=a.alternate;fe!==null&&(fe=fe.updateQueue,V=fe.lastBaseUpdate,V!==T&&(V===null?fe.firstBaseUpdate=ie:V.next=ie,fe.lastBaseUpdate=K))}if(x!==null){var ge=b.baseState;T=0,fe=ie=K=null,V=x;do{var se=V.lane&-536870913,ce=se!==V.lane;if(ce?(st&se)===se:(m&se)===se){se!==0&&se===Ou&&(Lb=!0),fe!==null&&(fe=fe.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Pe=a,Be=V;se=o;var zt=d;switch(Be.tag){case 1:if(Pe=Be.payload,typeof Pe=="function"){ge=Pe.call(zt,ge,se);break e}ge=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Be.payload,se=typeof Pe=="function"?Pe.call(zt,ge,se):Pe,se==null)break e;ge=v({},ge,se);break e;case 2:To=!0}}se=V.callback,se!==null&&(a.flags|=64,ce&&(a.flags|=8192),ce=b.callbacks,ce===null?b.callbacks=[se]:ce.push(se))}else ce={lane:se,tag:V.tag,payload:V.payload,callback:V.callback,next:null},fe===null?(ie=fe=ce,K=ge):fe=fe.next=ce,T|=se;if(V=V.next,V===null){if(V=b.shared.pending,V===null)break;ce=V,V=ce.next,ce.next=null,b.lastBaseUpdate=ce,b.shared.pending=null}}while(!0);fe===null&&(K=ge),b.baseState=K,b.firstBaseUpdate=ie,b.lastBaseUpdate=fe,x===null&&(b.shared.lanes=0),ko|=T,a.lanes=T,a.memoizedState=ge}}function KS(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function GS(a,o){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)KS(d[a],o)}var ku=H(null),kp=H(0);function WS(a,o){a=Ns,ye(kp,a),ye(ku,o),Ns=a|o.baseLanes}function Vb(){ye(kp,Ns),ye(ku,ku.current)}function Ub(){Ns=kp.current,ae(ku),ae(kp)}var ci=H(null),ki=null;function Oo(a){var o=a.alternate;ye(bn,bn.current&1),ye(ci,a),ki===null&&(o===null||ku.current!==null||o.memoizedState!==null)&&(ki=a)}function qb(a){ye(bn,bn.current),ye(ci,a),ki===null&&(ki=a)}function QS(a){a.tag===22?(ye(bn,bn.current),ye(ci,a),ki===null&&(ki=a)):Io()}function Io(){ye(bn,bn.current),ye(ci,ci.current)}function ui(a){ae(ci),ki===a&&(ki=null),ae(bn)}var bn=H(0);function Mp(a){for(var o=a;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||G_(d)||W_(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var gs=0,Je=null,kt=null,Pn=null,zp=!1,Mu=!1,uc=!1,Lp=0,kf=0,zu=null,aq=0;function on(){throw Error(r(321))}function Bb(a,o){if(o===null)return!1;for(var d=0;d<o.length&&d<a.length;d++)if(!oi(a[d],o[d]))return!1;return!0}function $b(a,o,d,m,b,x){return gs=x,Je=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,B.H=a===null||a.memoizedState===null?IT:i_,uc=!1,x=d(m,b),uc=!1,Mu&&(x=XS(o,d,m,b)),YS(a),x}function YS(a){B.H=Lf;var o=kt!==null&&kt.next!==null;if(gs=0,Pn=kt=Je=null,zp=!1,kf=0,zu=null,o)throw Error(r(300));a===null||On||(a=a.dependencies,a!==null&&Tp(a)&&(On=!0))}function XS(a,o,d,m){Je=a;var b=0;do{if(Mu&&(zu=null),kf=0,Mu=!1,25<=b)throw Error(r(301));if(b+=1,Pn=kt=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}B.H=RT,x=o(d,m)}while(Mu);return x}function sq(){var a=B.H,o=a.useState()[0];return o=typeof o.then=="function"?Mf(o):o,a=a.useState()[0],(kt!==null?kt.memoizedState:null)!==a&&(Je.flags|=1024),o}function Fb(){var a=Lp!==0;return Lp=0,a}function Hb(a,o,d){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~d}function Kb(a){if(zp){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}zp=!1}gs=0,Pn=kt=Je=null,Mu=!1,kf=Lp=0,zu=null}function Pr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?Je.memoizedState=Pn=a:Pn=Pn.next=a,Pn}function _n(){if(kt===null){var a=Je.alternate;a=a!==null?a.memoizedState:null}else a=kt.next;var o=Pn===null?Je.memoizedState:Pn.next;if(o!==null)Pn=o,kt=a;else{if(a===null)throw Je.alternate===null?Error(r(467)):Error(r(310));kt=a,a={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Pn===null?Je.memoizedState=Pn=a:Pn=Pn.next=a}return Pn}function Vp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mf(a){var o=kf;return kf+=1,zu===null&&(zu=[]),a=qS(zu,a,o),o=Je,(Pn===null?o.memoizedState:Pn.next)===null&&(o=o.alternate,B.H=o===null||o.memoizedState===null?IT:i_),a}function Up(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Mf(a);if(a.$$typeof===R)return dr(a)}throw Error(r(438,String(a)))}function Gb(a){var o=null,d=Je.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var m=Je.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=Vp(),Je.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(a),m=0;m<a;m++)d[m]=q;return o.index++,d}function ys(a,o){return typeof o=="function"?o(a):o}function qp(a){var o=_n();return Wb(o,kt,a)}function Wb(a,o,d){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var b=a.baseQueue,x=m.pending;if(x!==null){if(b!==null){var T=b.next;b.next=x.next,x.next=T}o.baseQueue=b=x,m.pending=null}if(x=a.baseState,b===null)a.memoizedState=x;else{o=b.next;var V=T=null,K=null,ie=o,fe=!1;do{var ge=ie.lane&-536870913;if(ge!==ie.lane?(st&ge)===ge:(gs&ge)===ge){var se=ie.revertLane;if(se===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),ge===Ou&&(fe=!0);else if((gs&se)===se){ie=ie.next,se===Ou&&(fe=!0);continue}else ge={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},K===null?(V=K=ge,T=x):K=K.next=ge,Je.lanes|=se,ko|=se;ge=ie.action,uc&&d(x,ge),x=ie.hasEagerState?ie.eagerState:d(x,ge)}else se={lane:ge,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},K===null?(V=K=se,T=x):K=K.next=se,Je.lanes|=ge,ko|=ge;ie=ie.next}while(ie!==null&&ie!==o);if(K===null?T=x:K.next=V,!oi(x,a.memoizedState)&&(On=!0,fe&&(d=Iu,d!==null)))throw d;a.memoizedState=x,a.baseState=T,a.baseQueue=K,m.lastRenderedState=x}return b===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function Qb(a){var o=_n(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var m=d.dispatch,b=d.pending,x=o.memoizedState;if(b!==null){d.pending=null;var T=b=b.next;do x=a(x,T.action),T=T.next;while(T!==b);oi(x,o.memoizedState)||(On=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),d.lastRenderedState=x}return[x,m]}function ZS(a,o,d){var m=Je,b=_n(),x=ft;if(x){if(d===void 0)throw Error(r(407));d=d()}else d=o();var T=!oi((kt||b).memoizedState,d);if(T&&(b.memoizedState=d,On=!0),b=b.queue,Zb(tT.bind(null,m,b,a),[a]),b.getSnapshot!==o||T||Pn!==null&&Pn.memoizedState.tag&1){if(m.flags|=2048,Lu(9,{destroy:void 0},eT.bind(null,m,b,d,o),null),Ut===null)throw Error(r(349));x||(gs&127)!==0||JS(m,o,d)}return d}function JS(a,o,d){a.flags|=16384,a={getSnapshot:o,value:d},o=Je.updateQueue,o===null?(o=Vp(),Je.updateQueue=o,o.stores=[a]):(d=o.stores,d===null?o.stores=[a]:d.push(a))}function eT(a,o,d,m){o.value=d,o.getSnapshot=m,nT(o)&&rT(a)}function tT(a,o,d){return d(function(){nT(o)&&rT(a)})}function nT(a){var o=a.getSnapshot;a=a.value;try{var d=o();return!oi(a,d)}catch{return!0}}function rT(a){var o=tc(a,2);o!==null&&Xr(o,a,2)}function Yb(a){var o=Pr();if(typeof a=="function"){var d=a;if(a=d(),uc){$r(!0);try{d()}finally{$r(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:a},o}function iT(a,o,d,m){return a.baseState=d,Wb(a,kt,typeof m=="function"?m:ys)}function oq(a,o,d,m,b){if(Fp(a))throw Error(r(485));if(a=o.action,a!==null){var x={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){x.listeners.push(T)}};B.T!==null?d(!0):x.isTransition=!1,m(x),d=o.pending,d===null?(x.next=o.pending=x,aT(o,x)):(x.next=d.next,o.pending=d.next=x)}}function aT(a,o){var d=o.action,m=o.payload,b=a.state;if(o.isTransition){var x=B.T,T={};B.T=T;try{var V=d(b,m),K=B.S;K!==null&&K(T,V),sT(a,o,V)}catch(ie){Xb(a,o,ie)}finally{x!==null&&T.types!==null&&(x.types=T.types),B.T=x}}else try{x=d(b,m),sT(a,o,x)}catch(ie){Xb(a,o,ie)}}function sT(a,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){oT(a,o,m)},function(m){return Xb(a,o,m)}):oT(a,o,d)}function oT(a,o,d){o.status="fulfilled",o.value=d,lT(o),a.state=d,o=a.pending,o!==null&&(d=o.next,d===o?a.pending=null:(d=d.next,o.next=d,aT(a,d)))}function Xb(a,o,d){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=d,lT(o),o=o.next;while(o!==m)}a.action=null}function lT(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function cT(a,o){return o}function uT(a,o){if(ft){var d=Ut.formState;if(d!==null){e:{var m=Je;if(ft){if(Kt){t:{for(var b=Kt,x=Di;b.nodeType!==8;){if(!x){b=null;break t}if(b=Mi(b.nextSibling),b===null){b=null;break t}}x=b.data,b=x==="F!"||x==="F"?b:null}if(b){Kt=Mi(b.nextSibling),m=b.data==="F!";break e}}Ao(m)}m=!1}m&&(o=d[0])}}return d=Pr(),d.memoizedState=d.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cT,lastRenderedState:o},d.queue=m,d=CT.bind(null,Je,m),m.dispatch=d,m=Yb(!1),x=r_.bind(null,Je,!1,m.queue),m=Pr(),b={state:o,dispatch:null,action:a,pending:null},m.queue=b,d=oq.bind(null,Je,b,x,d),b.dispatch=d,m.memoizedState=a,[o,d,!1]}function dT(a){var o=_n();return fT(o,kt,a)}function fT(a,o,d){if(o=Wb(a,o,cT)[0],a=qp(ys)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Mf(o)}catch(T){throw T===Ru?Op:T}else m=o;o=_n();var b=o.queue,x=b.dispatch;return d!==o.memoizedState&&(Je.flags|=2048,Lu(9,{destroy:void 0},lq.bind(null,b,d),null)),[m,x,a]}function lq(a,o){a.action=o}function hT(a){var o=_n(),d=kt;if(d!==null)return fT(o,d,a);_n(),o=o.memoizedState,d=_n();var m=d.queue.dispatch;return d.memoizedState=a,[o,m,!1]}function Lu(a,o,d,m){return a={tag:a,create:d,deps:m,inst:o,next:null},o=Je.updateQueue,o===null&&(o=Vp(),Je.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=a.next=a:(m=d.next,d.next=a,a.next=m,o.lastEffect=a),a}function mT(){return _n().memoizedState}function Bp(a,o,d,m){var b=Pr();Je.flags|=a,b.memoizedState=Lu(1|o,{destroy:void 0},d,m===void 0?null:m)}function $p(a,o,d,m){var b=_n();m=m===void 0?null:m;var x=b.memoizedState.inst;kt!==null&&m!==null&&Bb(m,kt.memoizedState.deps)?b.memoizedState=Lu(o,x,d,m):(Je.flags|=a,b.memoizedState=Lu(1|o,x,d,m))}function pT(a,o){Bp(8390656,8,a,o)}function Zb(a,o){$p(2048,8,a,o)}function cq(a){Je.flags|=4;var o=Je.updateQueue;if(o===null)o=Vp(),Je.updateQueue=o,o.events=[a];else{var d=o.events;d===null?o.events=[a]:d.push(a)}}function vT(a){var o=_n().memoizedState;return cq({ref:o,nextImpl:a}),function(){if((Et&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function gT(a,o){return $p(4,2,a,o)}function yT(a,o){return $p(4,4,a,o)}function bT(a,o){if(typeof o=="function"){a=a();var d=o(a);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function _T(a,o,d){d=d!=null?d.concat([a]):null,$p(4,4,bT.bind(null,o,a),d)}function Jb(){}function xT(a,o){var d=_n();o=o===void 0?null:o;var m=d.memoizedState;return o!==null&&Bb(o,m[1])?m[0]:(d.memoizedState=[a,o],a)}function wT(a,o){var d=_n();o=o===void 0?null:o;var m=d.memoizedState;if(o!==null&&Bb(o,m[1]))return m[0];if(m=a(),uc){$r(!0);try{a()}finally{$r(!1)}}return d.memoizedState=[m,o],m}function e_(a,o,d){return d===void 0||(gs&1073741824)!==0&&(st&261930)===0?a.memoizedState=o:(a.memoizedState=d,a=EC(),Je.lanes|=a,ko|=a,d)}function ET(a,o,d,m){return oi(d,o)?d:ku.current!==null?(a=e_(a,d,m),oi(a,o)||(On=!0),a):(gs&42)===0||(gs&1073741824)!==0&&(st&261930)===0?(On=!0,a.memoizedState=d):(a=EC(),Je.lanes|=a,ko|=a,o)}function jT(a,o,d,m,b){var x=J.p;J.p=x!==0&&8>x?x:8;var T=B.T,V={};B.T=V,r_(a,!1,o,d);try{var K=b(),ie=B.S;if(ie!==null&&ie(V,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var fe=iq(K,m);zf(a,o,fe,hi(a))}else zf(a,o,m,hi(a))}catch(ge){zf(a,o,{then:function(){},status:"rejected",reason:ge},hi())}finally{J.p=x,T!==null&&V.types!==null&&(T.types=V.types),B.T=T}}function uq(){}function t_(a,o,d,m){if(a.tag!==5)throw Error(r(476));var b=NT(a).queue;jT(a,b,o,he,d===null?uq:function(){return AT(a),d(m)})}function NT(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:he},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:d},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function AT(a){var o=NT(a);o.next===null&&(o=a.alternate.memoizedState),zf(a,o.next.queue,{},hi())}function n_(){return dr(eh)}function ST(){return _n().memoizedState}function TT(){return _n().memoizedState}function dq(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var d=hi();a=Co(d);var m=Po(o,a,d);m!==null&&(Xr(m,o,d),If(m,o,d)),o={cache:Ob()},a.payload=o;return}o=o.return}}function fq(a,o,d){var m=hi();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Fp(a)?PT(o,d):(d=_b(a,o,d,m),d!==null&&(Xr(d,a,m),OT(d,o,m)))}function CT(a,o,d){var m=hi();zf(a,o,d,m)}function zf(a,o,d,m){var b={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Fp(a))PT(o,b);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var T=o.lastRenderedState,V=x(T,d);if(b.hasEagerState=!0,b.eagerState=V,oi(V,T))return jp(a,o,b,0),Ut===null&&Ep(),!1}catch{}if(d=_b(a,o,b,m),d!==null)return Xr(d,a,m),OT(d,o,m),!0}return!1}function r_(a,o,d,m){if(m={lane:2,revertLane:k_(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Fp(a)){if(o)throw Error(r(479))}else o=_b(a,d,m,2),o!==null&&Xr(o,a,2)}function Fp(a){var o=a.alternate;return a===Je||o!==null&&o===Je}function PT(a,o){Mu=zp=!0;var d=a.pending;d===null?o.next=o:(o.next=d.next,d.next=o),a.pending=o}function OT(a,o,d){if((d&4194048)!==0){var m=o.lanes;m&=a.pendingLanes,d|=m,o.lanes=d,Bl(a,d)}}var Lf={readContext:dr,use:Up,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on,useHostTransitionStatus:on,useFormState:on,useActionState:on,useOptimistic:on,useMemoCache:on,useCacheRefresh:on};Lf.useEffectEvent=on;var IT={readContext:dr,use:Up,useCallback:function(a,o){return Pr().memoizedState=[a,o===void 0?null:o],a},useContext:dr,useEffect:pT,useImperativeHandle:function(a,o,d){d=d!=null?d.concat([a]):null,Bp(4194308,4,bT.bind(null,o,a),d)},useLayoutEffect:function(a,o){return Bp(4194308,4,a,o)},useInsertionEffect:function(a,o){Bp(4,2,a,o)},useMemo:function(a,o){var d=Pr();o=o===void 0?null:o;var m=a();if(uc){$r(!0);try{a()}finally{$r(!1)}}return d.memoizedState=[m,o],m},useReducer:function(a,o,d){var m=Pr();if(d!==void 0){var b=d(o);if(uc){$r(!0);try{d(o)}finally{$r(!1)}}}else b=o;return m.memoizedState=m.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},m.queue=a,a=a.dispatch=fq.bind(null,Je,a),[m.memoizedState,a]},useRef:function(a){var o=Pr();return a={current:a},o.memoizedState=a},useState:function(a){a=Yb(a);var o=a.queue,d=CT.bind(null,Je,o);return o.dispatch=d,[a.memoizedState,d]},useDebugValue:Jb,useDeferredValue:function(a,o){var d=Pr();return e_(d,a,o)},useTransition:function(){var a=Yb(!1);return a=jT.bind(null,Je,a.queue,!0,!1),Pr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,d){var m=Je,b=Pr();if(ft){if(d===void 0)throw Error(r(407));d=d()}else{if(d=o(),Ut===null)throw Error(r(349));(st&127)!==0||JS(m,o,d)}b.memoizedState=d;var x={value:d,getSnapshot:o};return b.queue=x,pT(tT.bind(null,m,x,a),[a]),m.flags|=2048,Lu(9,{destroy:void 0},eT.bind(null,m,x,d,o),null),d},useId:function(){var a=Pr(),o=Ut.identifierPrefix;if(ft){var d=Da,m=Ra;d=(m&~(1<<32-en(m)-1)).toString(32)+d,o="_"+o+"R_"+d,d=Lp++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=aq++,o="_"+o+"r_"+d.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:n_,useFormState:uT,useActionState:uT,useOptimistic:function(a){var o=Pr();o.memoizedState=o.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=r_.bind(null,Je,!0,d),d.dispatch=o,[a,o]},useMemoCache:Gb,useCacheRefresh:function(){return Pr().memoizedState=dq.bind(null,Je)},useEffectEvent:function(a){var o=Pr(),d={impl:a};return o.memoizedState=d,function(){if((Et&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},i_={readContext:dr,use:Up,useCallback:xT,useContext:dr,useEffect:Zb,useImperativeHandle:_T,useInsertionEffect:gT,useLayoutEffect:yT,useMemo:wT,useReducer:qp,useRef:mT,useState:function(){return qp(ys)},useDebugValue:Jb,useDeferredValue:function(a,o){var d=_n();return ET(d,kt.memoizedState,a,o)},useTransition:function(){var a=qp(ys)[0],o=_n().memoizedState;return[typeof a=="boolean"?a:Mf(a),o]},useSyncExternalStore:ZS,useId:ST,useHostTransitionStatus:n_,useFormState:dT,useActionState:dT,useOptimistic:function(a,o){var d=_n();return iT(d,kt,a,o)},useMemoCache:Gb,useCacheRefresh:TT};i_.useEffectEvent=vT;var RT={readContext:dr,use:Up,useCallback:xT,useContext:dr,useEffect:Zb,useImperativeHandle:_T,useInsertionEffect:gT,useLayoutEffect:yT,useMemo:wT,useReducer:Qb,useRef:mT,useState:function(){return Qb(ys)},useDebugValue:Jb,useDeferredValue:function(a,o){var d=_n();return kt===null?e_(d,a,o):ET(d,kt.memoizedState,a,o)},useTransition:function(){var a=Qb(ys)[0],o=_n().memoizedState;return[typeof a=="boolean"?a:Mf(a),o]},useSyncExternalStore:ZS,useId:ST,useHostTransitionStatus:n_,useFormState:hT,useActionState:hT,useOptimistic:function(a,o){var d=_n();return kt!==null?iT(d,kt,a,o):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:Gb,useCacheRefresh:TT};RT.useEffectEvent=vT;function a_(a,o,d,m){o=a.memoizedState,d=d(m,o),d=d==null?o:v({},o,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var s_={enqueueSetState:function(a,o,d){a=a._reactInternals;var m=hi(),b=Co(m);b.payload=o,d!=null&&(b.callback=d),o=Po(a,b,m),o!==null&&(Xr(o,a,m),If(o,a,m))},enqueueReplaceState:function(a,o,d){a=a._reactInternals;var m=hi(),b=Co(m);b.tag=1,b.payload=o,d!=null&&(b.callback=d),o=Po(a,b,m),o!==null&&(Xr(o,a,m),If(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var d=hi(),m=Co(d);m.tag=2,o!=null&&(m.callback=o),o=Po(a,m,d),o!==null&&(Xr(o,a,d),If(o,a,d))}};function DT(a,o,d,m,b,x,T){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,x,T):o.prototype&&o.prototype.isPureReactComponent?!jf(d,m)||!jf(b,x):!0}function kT(a,o,d,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,m),o.state!==a&&s_.enqueueReplaceState(o,o.state,null)}function dc(a,o){var d=o;if("ref"in o){d={};for(var m in o)m!=="ref"&&(d[m]=o[m])}if(a=a.defaultProps){d===o&&(d=v({},d));for(var b in a)d[b]===void 0&&(d[b]=a[b])}return d}function MT(a){wp(a)}function zT(a){console.error(a)}function LT(a){wp(a)}function Hp(a,o){try{var d=a.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function VT(a,o,d){try{var m=a.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function o_(a,o,d){return d=Co(d),d.tag=3,d.payload={element:null},d.callback=function(){Hp(a,o)},d}function UT(a){return a=Co(a),a.tag=3,a}function qT(a,o,d,m){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var x=m.value;a.payload=function(){return b(x)},a.callback=function(){VT(o,d,m)}}var T=d.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(a.callback=function(){VT(o,d,m),typeof b!="function"&&(Mo===null?Mo=new Set([this]):Mo.add(this));var V=m.stack;this.componentDidCatch(m.value,{componentStack:V!==null?V:""})})}function hq(a,o,d,m,b){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=d.alternate,o!==null&&Pu(o,d,b,!0),d=ci.current,d!==null){switch(d.tag){case 31:case 13:return ki===null?rv():d.alternate===null&&ln===0&&(ln=3),d.flags&=-257,d.flags|=65536,d.lanes=b,m===Ip?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([m]):o.add(m),I_(a,m,b)),!1;case 22:return d.flags|=65536,m===Ip?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([m]):d.add(m)),I_(a,m,b)),!1}throw Error(r(435,d.tag))}return I_(a,m,b),rv(),!1}if(ft)return o=ci.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,m!==Ab&&(a=Error(r(422),{cause:m}),Sf(Oi(a,d)))):(m!==Ab&&(o=Error(r(423),{cause:m}),Sf(Oi(o,d))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,m=Oi(m,d),b=o_(a.stateNode,m,b),zb(a,b),ln!==4&&(ln=2)),!1;var x=Error(r(520),{cause:m});if(x=Oi(x,d),Kf===null?Kf=[x]:Kf.push(x),ln!==4&&(ln=2),o===null)return!0;m=Oi(m,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,a=b&-b,d.lanes|=a,a=o_(d.stateNode,m,a),zb(d,a),!1;case 1:if(o=d.type,x=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Mo===null||!Mo.has(x))))return d.flags|=65536,b&=-b,d.lanes|=b,b=UT(b),qT(b,a,d,m),zb(d,b),!1}d=d.return}while(d!==null);return!1}var l_=Error(r(461)),On=!1;function fr(a,o,d,m){o.child=a===null?HS(o,null,d,m):cc(o,a.child,d,m)}function BT(a,o,d,m,b){d=d.render;var x=o.ref;if("ref"in m){var T={};for(var V in m)V!=="ref"&&(T[V]=m[V])}else T=m;return ac(o),m=$b(a,o,d,T,x,b),V=Fb(),a!==null&&!On?(Hb(a,o,b),bs(a,o,b)):(ft&&V&&jb(o),o.flags|=1,fr(a,o,m,b),o.child)}function $T(a,o,d,m,b){if(a===null){var x=d.type;return typeof x=="function"&&!xb(x)&&x.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=x,FT(a,o,x,m,b)):(a=Ap(d.type,null,m,o,o.mode,b),a.ref=o.ref,a.return=o,o.child=a)}if(x=a.child,!v_(a,b)){var T=x.memoizedProps;if(d=d.compare,d=d!==null?d:jf,d(T,m)&&a.ref===o.ref)return bs(a,o,b)}return o.flags|=1,a=hs(x,m),a.ref=o.ref,a.return=o,o.child=a}function FT(a,o,d,m,b){if(a!==null){var x=a.memoizedProps;if(jf(x,m)&&a.ref===o.ref)if(On=!1,o.pendingProps=m=x,v_(a,b))(a.flags&131072)!==0&&(On=!0);else return o.lanes=a.lanes,bs(a,o,b)}return c_(a,o,d,m,b)}function HT(a,o,d,m){var b=m.children,x=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|d:d,a!==null){for(m=o.child=a.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;m=b&~x}else m=0,o.child=null;return KT(a,o,x,d,m)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Pp(o,x!==null?x.cachePool:null),x!==null?WS(o,x):Vb(),QS(o);else return m=o.lanes=536870912,KT(a,o,x!==null?x.baseLanes|d:d,d,m)}else x!==null?(Pp(o,x.cachePool),WS(o,x),Io(),o.memoizedState=null):(a!==null&&Pp(o,null),Vb(),Io());return fr(a,o,b,d),o.child}function Vf(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function KT(a,o,d,m,b){var x=Rb();return x=x===null?null:{parent:Cn._currentValue,pool:x},o.memoizedState={baseLanes:d,cachePool:x},a!==null&&Pp(o,null),Vb(),QS(o),a!==null&&Pu(a,o,m,!0),o.childLanes=b,null}function Kp(a,o){return o=Wp({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function GT(a,o,d){return cc(o,a.child,null,d),a=Kp(o,o.pendingProps),a.flags|=2,ui(o),o.memoizedState=null,a}function mq(a,o,d){var m=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(ft){if(m.mode==="hidden")return a=Kp(o,m),o.lanes=536870912,Vf(null,a);if(qb(o),(a=Kt)?(a=a2(a,Di),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:jo!==null?{id:Ra,overflow:Da}:null,retryLane:536870912,hydrationErrors:null},d=PS(a),d.return=o,o.child=d,ur=o,Kt=null)):a=null,a===null)throw Ao(o);return o.lanes=536870912,null}return Kp(o,m)}var x=a.memoizedState;if(x!==null){var T=x.dehydrated;if(qb(o),b)if(o.flags&256)o.flags&=-257,o=GT(a,o,d);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(On||Pu(a,o,d,!1),b=(d&a.childLanes)!==0,On||b){if(m=Ut,m!==null&&(T=sf(m,d),T!==0&&T!==x.retryLane))throw x.retryLane=T,tc(a,T),Xr(m,a,T),l_;rv(),o=GT(a,o,d)}else a=x.treeContext,Kt=Mi(T.nextSibling),ur=o,ft=!0,No=null,Di=!1,a!==null&&RS(o,a),o=Kp(o,m),o.flags|=4096;return o}return a=hs(a.child,{mode:m.mode,children:m.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Gp(a,o){var d=o.ref;if(d===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(o.flags|=4194816)}}function c_(a,o,d,m,b){return ac(o),d=$b(a,o,d,m,void 0,b),m=Fb(),a!==null&&!On?(Hb(a,o,b),bs(a,o,b)):(ft&&m&&jb(o),o.flags|=1,fr(a,o,d,b),o.child)}function WT(a,o,d,m,b,x){return ac(o),o.updateQueue=null,d=XS(o,m,d,b),YS(a),m=Fb(),a!==null&&!On?(Hb(a,o,x),bs(a,o,x)):(ft&&m&&jb(o),o.flags|=1,fr(a,o,d,x),o.child)}function QT(a,o,d,m,b){if(ac(o),o.stateNode===null){var x=Au,T=d.contextType;typeof T=="object"&&T!==null&&(x=dr(T)),x=new d(m,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=s_,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=m,x.state=o.memoizedState,x.refs={},kb(o),T=d.contextType,x.context=typeof T=="object"&&T!==null?dr(T):Au,x.state=o.memoizedState,T=d.getDerivedStateFromProps,typeof T=="function"&&(a_(o,d,T,m),x.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(T=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),T!==x.state&&s_.enqueueReplaceState(x,x.state,null),Df(o,m,x,b),Rf(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){x=o.stateNode;var V=o.memoizedProps,K=dc(d,V);x.props=K;var ie=x.context,fe=d.contextType;T=Au,typeof fe=="object"&&fe!==null&&(T=dr(fe));var ge=d.getDerivedStateFromProps;fe=typeof ge=="function"||typeof x.getSnapshotBeforeUpdate=="function",V=o.pendingProps!==V,fe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(V||ie!==T)&&kT(o,x,m,T),To=!1;var se=o.memoizedState;x.state=se,Df(o,m,x,b),Rf(),ie=o.memoizedState,V||se!==ie||To?(typeof ge=="function"&&(a_(o,d,ge,m),ie=o.memoizedState),(K=To||DT(o,d,K,m,se,ie,T))?(fe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=ie),x.props=m,x.state=ie,x.context=T,m=K):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{x=o.stateNode,Mb(a,o),T=o.memoizedProps,fe=dc(d,T),x.props=fe,ge=o.pendingProps,se=x.context,ie=d.contextType,K=Au,typeof ie=="object"&&ie!==null&&(K=dr(ie)),V=d.getDerivedStateFromProps,(ie=typeof V=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T!==ge||se!==K)&&kT(o,x,m,K),To=!1,se=o.memoizedState,x.state=se,Df(o,m,x,b),Rf();var ce=o.memoizedState;T!==ge||se!==ce||To||a!==null&&a.dependencies!==null&&Tp(a.dependencies)?(typeof V=="function"&&(a_(o,d,V,m),ce=o.memoizedState),(fe=To||DT(o,d,fe,m,se,ce,K)||a!==null&&a.dependencies!==null&&Tp(a.dependencies))?(ie||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,ce,K),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,ce,K)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||T===a.memoizedProps&&se===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&se===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ce),x.props=m,x.state=ce,x.context=K,m=fe):(typeof x.componentDidUpdate!="function"||T===a.memoizedProps&&se===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&se===a.memoizedState||(o.flags|=1024),m=!1)}return x=m,Gp(a,o),m=(o.flags&128)!==0,x||m?(x=o.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,a!==null&&m?(o.child=cc(o,a.child,null,b),o.child=cc(o,null,d,b)):fr(a,o,d,b),o.memoizedState=x.state,a=o.child):a=bs(a,o,b),a}function YT(a,o,d,m){return rc(),o.flags|=256,fr(a,o,d,m),o.child}var u_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function d_(a){return{baseLanes:a,cachePool:VS()}}function f_(a,o,d){return a=a!==null?a.childLanes&~d:0,o&&(a|=fi),a}function XT(a,o,d){var m=o.pendingProps,b=!1,x=(o.flags&128)!==0,T;if((T=x)||(T=a!==null&&a.memoizedState===null?!1:(bn.current&2)!==0),T&&(b=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,a===null){if(ft){if(b?Oo(o):Io(),(a=Kt)?(a=a2(a,Di),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:jo!==null?{id:Ra,overflow:Da}:null,retryLane:536870912,hydrationErrors:null},d=PS(a),d.return=o,o.child=d,ur=o,Kt=null)):a=null,a===null)throw Ao(o);return W_(a)?o.lanes=32:o.lanes=536870912,null}var V=m.children;return m=m.fallback,b?(Io(),b=o.mode,V=Wp({mode:"hidden",children:V},b),m=nc(m,b,d,null),V.return=o,m.return=o,V.sibling=m,o.child=V,m=o.child,m.memoizedState=d_(d),m.childLanes=f_(a,T,d),o.memoizedState=u_,Vf(null,m)):(Oo(o),h_(o,V))}var K=a.memoizedState;if(K!==null&&(V=K.dehydrated,V!==null)){if(x)o.flags&256?(Oo(o),o.flags&=-257,o=m_(a,o,d)):o.memoizedState!==null?(Io(),o.child=a.child,o.flags|=128,o=null):(Io(),V=m.fallback,b=o.mode,m=Wp({mode:"visible",children:m.children},b),V=nc(V,b,d,null),V.flags|=2,m.return=o,V.return=o,m.sibling=V,o.child=m,cc(o,a.child,null,d),m=o.child,m.memoizedState=d_(d),m.childLanes=f_(a,T,d),o.memoizedState=u_,o=Vf(null,m));else if(Oo(o),W_(V)){if(T=V.nextSibling&&V.nextSibling.dataset,T)var ie=T.dgst;T=ie,m=Error(r(419)),m.stack="",m.digest=T,Sf({value:m,source:null,stack:null}),o=m_(a,o,d)}else if(On||Pu(a,o,d,!1),T=(d&a.childLanes)!==0,On||T){if(T=Ut,T!==null&&(m=sf(T,d),m!==0&&m!==K.retryLane))throw K.retryLane=m,tc(a,m),Xr(T,a,m),l_;G_(V)||rv(),o=m_(a,o,d)}else G_(V)?(o.flags|=192,o.child=a.child,o=null):(a=K.treeContext,Kt=Mi(V.nextSibling),ur=o,ft=!0,No=null,Di=!1,a!==null&&RS(o,a),o=h_(o,m.children),o.flags|=4096);return o}return b?(Io(),V=m.fallback,b=o.mode,K=a.child,ie=K.sibling,m=hs(K,{mode:"hidden",children:m.children}),m.subtreeFlags=K.subtreeFlags&65011712,ie!==null?V=hs(ie,V):(V=nc(V,b,d,null),V.flags|=2),V.return=o,m.return=o,m.sibling=V,o.child=m,Vf(null,m),m=o.child,V=a.child.memoizedState,V===null?V=d_(d):(b=V.cachePool,b!==null?(K=Cn._currentValue,b=b.parent!==K?{parent:K,pool:K}:b):b=VS(),V={baseLanes:V.baseLanes|d,cachePool:b}),m.memoizedState=V,m.childLanes=f_(a,T,d),o.memoizedState=u_,Vf(a.child,m)):(Oo(o),d=a.child,a=d.sibling,d=hs(d,{mode:"visible",children:m.children}),d.return=o,d.sibling=null,a!==null&&(T=o.deletions,T===null?(o.deletions=[a],o.flags|=16):T.push(a)),o.child=d,o.memoizedState=null,d)}function h_(a,o){return o=Wp({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Wp(a,o){return a=li(22,a,null,o),a.lanes=0,a}function m_(a,o,d){return cc(o,a.child,null,d),a=h_(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function ZT(a,o,d){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),Cb(a.return,o,d)}function p_(a,o,d,m,b,x){var T=a.memoizedState;T===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:b,treeForkCount:x}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=m,T.tail=d,T.tailMode=b,T.treeForkCount=x)}function JT(a,o,d){var m=o.pendingProps,b=m.revealOrder,x=m.tail;m=m.children;var T=bn.current,V=(T&2)!==0;if(V?(T=T&1|2,o.flags|=128):T&=1,ye(bn,T),fr(a,o,m,d),m=ft?Af:0,!V&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&ZT(a,d,o);else if(a.tag===19)ZT(a,d,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(b){case"forwards":for(d=o.child,b=null;d!==null;)a=d.alternate,a!==null&&Mp(a)===null&&(b=d),d=d.sibling;d=b,d===null?(b=o.child,o.child=null):(b=d.sibling,d.sibling=null),p_(o,!1,b,d,x,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,b=o.child,o.child=null;b!==null;){if(a=b.alternate,a!==null&&Mp(a)===null){o.child=b;break}a=b.sibling,b.sibling=d,d=b,b=a}p_(o,!0,d,null,x,m);break;case"together":p_(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function bs(a,o,d){if(a!==null&&(o.dependencies=a.dependencies),ko|=o.lanes,(d&o.childLanes)===0)if(a!==null){if(Pu(a,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,d=hs(a,a.pendingProps),o.child=d,d.return=o;a.sibling!==null;)a=a.sibling,d=d.sibling=hs(a,a.pendingProps),d.return=o;d.sibling=null}return o.child}function v_(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Tp(a)))}function pq(a,o,d){switch(o.tag){case 3:Ve(o,o.stateNode.containerInfo),So(o,Cn,a.memoizedState.cache),rc();break;case 27:case 5:Ae(o);break;case 4:Ve(o,o.stateNode.containerInfo);break;case 10:So(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,qb(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Oo(o),o.flags|=128,null):(d&o.child.childLanes)!==0?XT(a,o,d):(Oo(o),a=bs(a,o,d),a!==null?a.sibling:null);Oo(o);break;case 19:var b=(a.flags&128)!==0;if(m=(d&o.childLanes)!==0,m||(Pu(a,o,d,!1),m=(d&o.childLanes)!==0),b){if(m)return JT(a,o,d);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ye(bn,bn.current),m)break;return null;case 22:return o.lanes=0,HT(a,o,d,o.pendingProps);case 24:So(o,Cn,a.memoizedState.cache)}return bs(a,o,d)}function eC(a,o,d){if(a!==null)if(a.memoizedProps!==o.pendingProps)On=!0;else{if(!v_(a,d)&&(o.flags&128)===0)return On=!1,pq(a,o,d);On=(a.flags&131072)!==0}else On=!1,ft&&(o.flags&1048576)!==0&&IS(o,Af,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(a=oc(o.elementType),o.type=a,typeof a=="function")xb(a)?(m=dc(a,m),o.tag=1,o=QT(null,o,a,m,d)):(o.tag=0,o=c_(null,o,a,m,d));else{if(a!=null){var b=a.$$typeof;if(b===I){o.tag=11,o=BT(null,o,a,m,d);break e}else if(b===O){o.tag=14,o=$T(null,o,a,m,d);break e}}throw o=ue(a)||a,Error(r(306,o,""))}}return o;case 0:return c_(a,o,o.type,o.pendingProps,d);case 1:return m=o.type,b=dc(m,o.pendingProps),QT(a,o,m,b,d);case 3:e:{if(Ve(o,o.stateNode.containerInfo),a===null)throw Error(r(387));m=o.pendingProps;var x=o.memoizedState;b=x.element,Mb(a,o),Df(o,m,null,d);var T=o.memoizedState;if(m=T.cache,So(o,Cn,m),m!==x.cache&&Pb(o,[Cn],d,!0),Rf(),m=T.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=YT(a,o,m,d);break e}else if(m!==b){b=Oi(Error(r(424)),o),Sf(b),o=YT(a,o,m,d);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Kt=Mi(a.firstChild),ur=o,ft=!0,No=null,Di=!0,d=HS(o,null,m,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(rc(),m===b){o=bs(a,o,d);break e}fr(a,o,m,d)}o=o.child}return o;case 26:return Gp(a,o),a===null?(d=d2(o.type,null,o.pendingProps,null))?o.memoizedState=d:ft||(d=o.type,a=o.pendingProps,m=uv(W.current).createElement(d),m[An]=o,m[Wn]=a,hr(m,d,a),Sn(m),o.stateNode=m):o.memoizedState=d2(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Ae(o),a===null&&ft&&(m=o.stateNode=l2(o.type,o.pendingProps,W.current),ur=o,Di=!0,b=Kt,Uo(o.type)?(Q_=b,Kt=Mi(m.firstChild)):Kt=b),fr(a,o,o.pendingProps.children,d),Gp(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&ft&&((b=m=Kt)&&(m=Hq(m,o.type,o.pendingProps,Di),m!==null?(o.stateNode=m,ur=o,Kt=Mi(m.firstChild),Di=!1,b=!0):b=!1),b||Ao(o)),Ae(o),b=o.type,x=o.pendingProps,T=a!==null?a.memoizedProps:null,m=x.children,F_(b,x)?m=null:T!==null&&F_(b,T)&&(o.flags|=32),o.memoizedState!==null&&(b=$b(a,o,sq,null,null,d),eh._currentValue=b),Gp(a,o),fr(a,o,m,d),o.child;case 6:return a===null&&ft&&((a=d=Kt)&&(d=Kq(d,o.pendingProps,Di),d!==null?(o.stateNode=d,ur=o,Kt=null,a=!0):a=!1),a||Ao(o)),null;case 13:return XT(a,o,d);case 4:return Ve(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=cc(o,null,m,d):fr(a,o,m,d),o.child;case 11:return BT(a,o,o.type,o.pendingProps,d);case 7:return fr(a,o,o.pendingProps,d),o.child;case 8:return fr(a,o,o.pendingProps.children,d),o.child;case 12:return fr(a,o,o.pendingProps.children,d),o.child;case 10:return m=o.pendingProps,So(o,o.type,m.value),fr(a,o,m.children,d),o.child;case 9:return b=o.type._context,m=o.pendingProps.children,ac(o),b=dr(b),m=m(b),o.flags|=1,fr(a,o,m,d),o.child;case 14:return $T(a,o,o.type,o.pendingProps,d);case 15:return FT(a,o,o.type,o.pendingProps,d);case 19:return JT(a,o,d);case 31:return mq(a,o,d);case 22:return HT(a,o,d,o.pendingProps);case 24:return ac(o),m=dr(Cn),a===null?(b=Rb(),b===null&&(b=Ut,x=Ob(),b.pooledCache=x,x.refCount++,x!==null&&(b.pooledCacheLanes|=d),b=x),o.memoizedState={parent:m,cache:b},kb(o),So(o,Cn,b)):((a.lanes&d)!==0&&(Mb(a,o),Df(o,null,null,d),Rf()),b=a.memoizedState,x=o.memoizedState,b.parent!==m?(b={parent:m,cache:m},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),So(o,Cn,m)):(m=x.cache,So(o,Cn,m),m!==b.cache&&Pb(o,[Cn],d,!0))),fr(a,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function _s(a){a.flags|=4}function g_(a,o,d,m,b){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(b&335544128)===b)if(a.stateNode.complete)a.flags|=8192;else if(SC())a.flags|=8192;else throw lc=Ip,Db}else a.flags&=-16777217}function tC(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!v2(o))if(SC())a.flags|=8192;else throw lc=Ip,Db}function Qp(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Ue():536870912,a.lanes|=o,Bu|=o)}function Uf(a,o){if(!ft)switch(a.tailMode){case"hidden":o=a.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Gt(a){var o=a.alternate!==null&&a.alternate.child===a.child,d=0,m=0;if(o)for(var b=a.child;b!==null;)d|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)d|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=m,a.childLanes=d,o}function vq(a,o,d){var m=o.pendingProps;switch(Nb(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(o),null;case 1:return Gt(o),null;case 3:return d=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),vs(Cn),oe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Cu(o)?_s(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Sb())),Gt(o),null;case 26:var b=o.type,x=o.memoizedState;return a===null?(_s(o),x!==null?(Gt(o),tC(o,x)):(Gt(o),g_(o,b,null,m,d))):x?x!==a.memoizedState?(_s(o),Gt(o),tC(o,x)):(Gt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==m&&_s(o),Gt(o),g_(o,b,a,m,d)),null;case 27:if(Q(o),d=W.current,b=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&_s(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Gt(o),null}a=we.current,Cu(o)?DS(o):(a=l2(b,m,d),o.stateNode=a,_s(o))}return Gt(o),null;case 5:if(Q(o),b=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&_s(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Gt(o),null}if(x=we.current,Cu(o))DS(o);else{var T=uv(W.current);switch(x){case 1:x=T.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:x=T.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":x=T.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":x=T.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":x=T.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof m.is=="string"?T.createElement("select",{is:m.is}):T.createElement("select"),m.multiple?x.multiple=!0:m.size&&(x.size=m.size);break;default:x=typeof m.is=="string"?T.createElement(b,{is:m.is}):T.createElement(b)}}x[An]=o,x[Wn]=m;e:for(T=o.child;T!==null;){if(T.tag===5||T.tag===6)x.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===o)break e;for(;T.sibling===null;){if(T.return===null||T.return===o)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}o.stateNode=x;e:switch(hr(x,b,m),b){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&_s(o)}}return Gt(o),g_(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,d),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&_s(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(a=W.current,Cu(o)){if(a=o.stateNode,d=o.memoizedProps,m=null,b=ur,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}a[An]=o,a=!!(a.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||XC(a.nodeValue,d)),a||Ao(o,!0)}else a=uv(a).createTextNode(m),a[An]=o,o.stateNode=a}return Gt(o),null;case 31:if(d=o.memoizedState,a===null||a.memoizedState!==null){if(m=Cu(o),d!==null){if(a===null){if(!m)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[An]=o}else rc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),a=!1}else d=Sb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return o.flags&256?(ui(o),o):(ui(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Gt(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=Cu(o),m!==null&&m.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[An]=o}else rc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),b=!1}else b=Sb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(ui(o),o):(ui(o),null)}return ui(o),(o.flags&128)!==0?(o.lanes=d,o):(d=m!==null,a=a!==null&&a.memoizedState!==null,d&&(m=o.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==b&&(m.flags|=2048)),d!==a&&d&&(o.child.flags|=8192),Qp(o,o.updateQueue),Gt(o),null);case 4:return oe(),a===null&&V_(o.stateNode.containerInfo),Gt(o),null;case 10:return vs(o.type),Gt(o),null;case 19:if(ae(bn),m=o.memoizedState,m===null)return Gt(o),null;if(b=(o.flags&128)!==0,x=m.rendering,x===null)if(b)Uf(m,!1);else{if(ln!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(x=Mp(a),x!==null){for(o.flags|=128,Uf(m,!1),a=x.updateQueue,o.updateQueue=a,Qp(o,a),o.subtreeFlags=0,a=d,d=o.child;d!==null;)CS(d,a),d=d.sibling;return ye(bn,bn.current&1|2),ft&&ms(o,m.treeForkCount),o.child}a=a.sibling}m.tail!==null&&qe()>ev&&(o.flags|=128,b=!0,Uf(m,!1),o.lanes=4194304)}else{if(!b)if(a=Mp(x),a!==null){if(o.flags|=128,b=!0,a=a.updateQueue,o.updateQueue=a,Qp(o,a),Uf(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!ft)return Gt(o),null}else 2*qe()-m.renderingStartTime>ev&&d!==536870912&&(o.flags|=128,b=!0,Uf(m,!1),o.lanes=4194304);m.isBackwards?(x.sibling=o.child,o.child=x):(a=m.last,a!==null?a.sibling=x:o.child=x,m.last=x)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=qe(),a.sibling=null,d=bn.current,ye(bn,b?d&1|2:d&1),ft&&ms(o,m.treeForkCount),a):(Gt(o),null);case 22:case 23:return ui(o),Ub(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(d&536870912)!==0&&(o.flags&128)===0&&(Gt(o),o.subtreeFlags&6&&(o.flags|=8192)):Gt(o),d=o.updateQueue,d!==null&&Qp(o,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==d&&(o.flags|=2048),a!==null&&ae(sc),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),vs(Cn),Gt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function gq(a,o){switch(Nb(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return vs(Cn),oe(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Q(o),null;case 31:if(o.memoizedState!==null){if(ui(o),o.alternate===null)throw Error(r(340));rc()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(ui(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));rc()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ae(bn),null;case 4:return oe(),null;case 10:return vs(o.type),null;case 22:case 23:return ui(o),Ub(),a!==null&&ae(sc),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return vs(Cn),null;case 25:return null;default:return null}}function nC(a,o){switch(Nb(o),o.tag){case 3:vs(Cn),oe();break;case 26:case 27:case 5:Q(o);break;case 4:oe();break;case 31:o.memoizedState!==null&&ui(o);break;case 13:ui(o);break;case 19:ae(bn);break;case 10:vs(o.type);break;case 22:case 23:ui(o),Ub(),a!==null&&ae(sc);break;case 24:vs(Cn)}}function qf(a,o){try{var d=o.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var b=m.next;d=b;do{if((d.tag&a)===a){m=void 0;var x=d.create,T=d.inst;m=x(),T.destroy=m}d=d.next}while(d!==b)}}catch(V){Pt(o,o.return,V)}}function Ro(a,o,d){try{var m=o.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var x=b.next;m=x;do{if((m.tag&a)===a){var T=m.inst,V=T.destroy;if(V!==void 0){T.destroy=void 0,b=o;var K=d,ie=V;try{ie()}catch(fe){Pt(b,K,fe)}}}m=m.next}while(m!==x)}}catch(fe){Pt(o,o.return,fe)}}function rC(a){var o=a.updateQueue;if(o!==null){var d=a.stateNode;try{GS(o,d)}catch(m){Pt(a,a.return,m)}}}function iC(a,o,d){d.props=dc(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(m){Pt(a,o,m)}}function Bf(a,o){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof d=="function"?a.refCleanup=d(m):d.current=m}}catch(b){Pt(a,o,b)}}function ka(a,o){var d=a.ref,m=a.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(b){Pt(a,o,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){Pt(a,o,b)}else d.current=null}function aC(a){var o=a.type,d=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(b){Pt(a,a.return,b)}}function y_(a,o,d){try{var m=a.stateNode;Vq(m,a.type,d,o),m[Wn]=o}catch(b){Pt(a,a.return,b)}}function sC(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Uo(a.type)||a.tag===4}function b_(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||sC(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Uo(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function __(a,o,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(a),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=Xi));else if(m!==4&&(m===27&&Uo(a.type)&&(d=a.stateNode,o=null),a=a.child,a!==null))for(__(a,o,d),a=a.sibling;a!==null;)__(a,o,d),a=a.sibling}function Yp(a,o,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?d.insertBefore(a,o):d.appendChild(a);else if(m!==4&&(m===27&&Uo(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(Yp(a,o,d),a=a.sibling;a!==null;)Yp(a,o,d),a=a.sibling}function oC(a){var o=a.stateNode,d=a.memoizedProps;try{for(var m=a.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);hr(o,m,d),o[An]=a,o[Wn]=d}catch(x){Pt(a,a.return,x)}}var xs=!1,In=!1,x_=!1,lC=typeof WeakSet=="function"?WeakSet:Set,Yn=null;function yq(a,o){if(a=a.containerInfo,B_=gv,a=_S(a),mb(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var b=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{d.nodeType,x.nodeType}catch{d=null;break e}var T=0,V=-1,K=-1,ie=0,fe=0,ge=a,se=null;t:for(;;){for(var ce;ge!==d||b!==0&&ge.nodeType!==3||(V=T+b),ge!==x||m!==0&&ge.nodeType!==3||(K=T+m),ge.nodeType===3&&(T+=ge.nodeValue.length),(ce=ge.firstChild)!==null;)se=ge,ge=ce;for(;;){if(ge===a)break t;if(se===d&&++ie===b&&(V=T),se===x&&++fe===m&&(K=T),(ce=ge.nextSibling)!==null)break;ge=se,se=ge.parentNode}ge=ce}d=V===-1||K===-1?null:{start:V,end:K}}else d=null}d=d||{start:0,end:0}}else d=null;for($_={focusedElem:a,selectionRange:d},gv=!1,Yn=o;Yn!==null;)if(o=Yn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Yn=a;else for(;Yn!==null;){switch(o=Yn,x=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)b=a[d],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,d=o,b=x.memoizedProps,x=x.memoizedState,m=d.stateNode;try{var Pe=dc(d.type,b);a=m.getSnapshotBeforeUpdate(Pe,x),m.__reactInternalSnapshotBeforeUpdate=a}catch(Be){Pt(d,d.return,Be)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,d=a.nodeType,d===9)K_(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":K_(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Yn=a;break}Yn=o.return}}function cC(a,o,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:Es(a,d),m&4&&qf(5,d);break;case 1:if(Es(a,d),m&4)if(a=d.stateNode,o===null)try{a.componentDidMount()}catch(T){Pt(d,d.return,T)}else{var b=dc(d.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(b,o,a.__reactInternalSnapshotBeforeUpdate)}catch(T){Pt(d,d.return,T)}}m&64&&rC(d),m&512&&Bf(d,d.return);break;case 3:if(Es(a,d),m&64&&(a=d.updateQueue,a!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{GS(a,o)}catch(T){Pt(d,d.return,T)}}break;case 27:o===null&&m&4&&oC(d);case 26:case 5:Es(a,d),o===null&&m&4&&aC(d),m&512&&Bf(d,d.return);break;case 12:Es(a,d);break;case 31:Es(a,d),m&4&&fC(a,d);break;case 13:Es(a,d),m&4&&hC(a,d),m&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=Sq.bind(null,d),Gq(a,d))));break;case 22:if(m=d.memoizedState!==null||xs,!m){o=o!==null&&o.memoizedState!==null||In,b=xs;var x=In;xs=m,(In=o)&&!x?js(a,d,(d.subtreeFlags&8772)!==0):Es(a,d),xs=b,In=x}break;case 30:break;default:Es(a,d)}}function uC(a){var o=a.alternate;o!==null&&(a.alternate=null,uC(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&fu(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Yt=null,Gr=!1;function ws(a,o,d){for(d=d.child;d!==null;)dC(a,o,d),d=d.sibling}function dC(a,o,d){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(an,d)}catch{}switch(d.tag){case 26:In||ka(d,o),ws(a,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:In||ka(d,o);var m=Yt,b=Gr;Uo(d.type)&&(Yt=d.stateNode,Gr=!1),ws(a,o,d),Xf(d.stateNode),Yt=m,Gr=b;break;case 5:In||ka(d,o);case 6:if(m=Yt,b=Gr,Yt=null,ws(a,o,d),Yt=m,Gr=b,Yt!==null)if(Gr)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(d.stateNode)}catch(x){Pt(d,o,x)}else try{Yt.removeChild(d.stateNode)}catch(x){Pt(d,o,x)}break;case 18:Yt!==null&&(Gr?(a=Yt,r2(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Yu(a)):r2(Yt,d.stateNode));break;case 4:m=Yt,b=Gr,Yt=d.stateNode.containerInfo,Gr=!0,ws(a,o,d),Yt=m,Gr=b;break;case 0:case 11:case 14:case 15:Ro(2,d,o),In||Ro(4,d,o),ws(a,o,d);break;case 1:In||(ka(d,o),m=d.stateNode,typeof m.componentWillUnmount=="function"&&iC(d,o,m)),ws(a,o,d);break;case 21:ws(a,o,d);break;case 22:In=(m=In)||d.memoizedState!==null,ws(a,o,d),In=m;break;default:ws(a,o,d)}}function fC(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Yu(a)}catch(d){Pt(o,o.return,d)}}}function hC(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Yu(a)}catch(d){Pt(o,o.return,d)}}function bq(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new lC),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new lC),o;default:throw Error(r(435,a.tag))}}function Xp(a,o){var d=bq(a);o.forEach(function(m){if(!d.has(m)){d.add(m);var b=Tq.bind(null,a,m);m.then(b,b)}})}function Wr(a,o){var d=o.deletions;if(d!==null)for(var m=0;m<d.length;m++){var b=d[m],x=a,T=o,V=T;e:for(;V!==null;){switch(V.tag){case 27:if(Uo(V.type)){Yt=V.stateNode,Gr=!1;break e}break;case 5:Yt=V.stateNode,Gr=!1;break e;case 3:case 4:Yt=V.stateNode.containerInfo,Gr=!0;break e}V=V.return}if(Yt===null)throw Error(r(160));dC(x,T,b),Yt=null,Gr=!1,x=b.alternate,x!==null&&(x.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)mC(o,a),o=o.sibling}var ra=null;function mC(a,o){var d=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Wr(o,a),Qr(a),m&4&&(Ro(3,a,a.return),qf(3,a),Ro(5,a,a.return));break;case 1:Wr(o,a),Qr(a),m&512&&(In||d===null||ka(d,d.return)),m&64&&xs&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var b=ra;if(Wr(o,a),Qr(a),m&512&&(In||d===null||ka(d,d.return)),m&4){var x=d!==null?d.memoizedState:null;if(m=a.memoizedState,d===null)if(m===null)if(a.stateNode===null){e:{m=a.type,d=a.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":x=b.getElementsByTagName("title")[0],(!x||x[xa]||x[An]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=b.createElement(m),b.head.insertBefore(x,b.querySelector("head > title"))),hr(x,m,d),x[An]=a,Sn(x),m=x;break e;case"link":var T=m2("link","href",b).get(m+(d.href||""));if(T){for(var V=0;V<T.length;V++)if(x=T[V],x.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&x.getAttribute("rel")===(d.rel==null?null:d.rel)&&x.getAttribute("title")===(d.title==null?null:d.title)&&x.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){T.splice(V,1);break t}}x=b.createElement(m),hr(x,m,d),b.head.appendChild(x);break;case"meta":if(T=m2("meta","content",b).get(m+(d.content||""))){for(V=0;V<T.length;V++)if(x=T[V],x.getAttribute("content")===(d.content==null?null:""+d.content)&&x.getAttribute("name")===(d.name==null?null:d.name)&&x.getAttribute("property")===(d.property==null?null:d.property)&&x.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&x.getAttribute("charset")===(d.charSet==null?null:d.charSet)){T.splice(V,1);break t}}x=b.createElement(m),hr(x,m,d),b.head.appendChild(x);break;default:throw Error(r(468,m))}x[An]=a,Sn(x),m=x}a.stateNode=m}else p2(b,a.type,a.stateNode);else a.stateNode=h2(b,m,a.memoizedProps);else x!==m?(x===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):x.count--,m===null?p2(b,a.type,a.stateNode):h2(b,m,a.memoizedProps)):m===null&&a.stateNode!==null&&y_(a,a.memoizedProps,d.memoizedProps)}break;case 27:Wr(o,a),Qr(a),m&512&&(In||d===null||ka(d,d.return)),d!==null&&m&4&&y_(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Wr(o,a),Qr(a),m&512&&(In||d===null||ka(d,d.return)),a.flags&32){b=a.stateNode;try{Kr(b,"")}catch(Pe){Pt(a,a.return,Pe)}}m&4&&a.stateNode!=null&&(b=a.memoizedProps,y_(a,b,d!==null?d.memoizedProps:b)),m&1024&&(x_=!0);break;case 6:if(Wr(o,a),Qr(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,d=a.stateNode;try{d.nodeValue=m}catch(Pe){Pt(a,a.return,Pe)}}break;case 3:if(hv=null,b=ra,ra=dv(o.containerInfo),Wr(o,a),ra=b,Qr(a),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Yu(o.containerInfo)}catch(Pe){Pt(a,a.return,Pe)}x_&&(x_=!1,pC(a));break;case 4:m=ra,ra=dv(a.stateNode.containerInfo),Wr(o,a),Qr(a),ra=m;break;case 12:Wr(o,a),Qr(a);break;case 31:Wr(o,a),Qr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Xp(a,m)));break;case 13:Wr(o,a),Qr(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Jp=qe()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Xp(a,m)));break;case 22:b=a.memoizedState!==null;var K=d!==null&&d.memoizedState!==null,ie=xs,fe=In;if(xs=ie||b,In=fe||K,Wr(o,a),In=fe,xs=ie,Qr(a),m&8192)e:for(o=a.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(d===null||K||xs||In||fc(a)),d=null,o=a;;){if(o.tag===5||o.tag===26){if(d===null){K=d=o;try{if(x=K.stateNode,b)T=x.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{V=K.stateNode;var ge=K.memoizedProps.style,se=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;V.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Pe){Pt(K,K.return,Pe)}}}else if(o.tag===6){if(d===null){K=o;try{K.stateNode.nodeValue=b?"":K.memoizedProps}catch(Pe){Pt(K,K.return,Pe)}}}else if(o.tag===18){if(d===null){K=o;try{var ce=K.stateNode;b?i2(ce,!0):i2(K.stateNode,!1)}catch(Pe){Pt(K,K.return,Pe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,Xp(a,d))));break;case 19:Wr(o,a),Qr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Xp(a,m)));break;case 30:break;case 21:break;default:Wr(o,a),Qr(a)}}function Qr(a){var o=a.flags;if(o&2){try{for(var d,m=a.return;m!==null;){if(sC(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var b=d.stateNode,x=b_(a);Yp(a,x,b);break;case 5:var T=d.stateNode;d.flags&32&&(Kr(T,""),d.flags&=-33);var V=b_(a);Yp(a,V,T);break;case 3:case 4:var K=d.stateNode.containerInfo,ie=b_(a);__(a,ie,K);break;default:throw Error(r(161))}}catch(fe){Pt(a,a.return,fe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function pC(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;pC(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Es(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)cC(a,o.alternate,o),o=o.sibling}function fc(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Ro(4,o,o.return),fc(o);break;case 1:ka(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&iC(o,o.return,d),fc(o);break;case 27:Xf(o.stateNode);case 26:case 5:ka(o,o.return),fc(o);break;case 22:o.memoizedState===null&&fc(o);break;case 30:fc(o);break;default:fc(o)}a=a.sibling}}function js(a,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,b=a,x=o,T=x.flags;switch(x.tag){case 0:case 11:case 15:js(b,x,d),qf(4,x);break;case 1:if(js(b,x,d),m=x,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ie){Pt(m,m.return,ie)}if(m=x,b=m.updateQueue,b!==null){var V=m.stateNode;try{var K=b.shared.hiddenCallbacks;if(K!==null)for(b.shared.hiddenCallbacks=null,b=0;b<K.length;b++)KS(K[b],V)}catch(ie){Pt(m,m.return,ie)}}d&&T&64&&rC(x),Bf(x,x.return);break;case 27:oC(x);case 26:case 5:js(b,x,d),d&&m===null&&T&4&&aC(x),Bf(x,x.return);break;case 12:js(b,x,d);break;case 31:js(b,x,d),d&&T&4&&fC(b,x);break;case 13:js(b,x,d),d&&T&4&&hC(b,x);break;case 22:x.memoizedState===null&&js(b,x,d),Bf(x,x.return);break;case 30:break;default:js(b,x,d)}o=o.sibling}}function w_(a,o){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Tf(d))}function E_(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Tf(a))}function ia(a,o,d,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)vC(a,o,d,m),o=o.sibling}function vC(a,o,d,m){var b=o.flags;switch(o.tag){case 0:case 11:case 15:ia(a,o,d,m),b&2048&&qf(9,o);break;case 1:ia(a,o,d,m);break;case 3:ia(a,o,d,m),b&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Tf(a)));break;case 12:if(b&2048){ia(a,o,d,m),a=o.stateNode;try{var x=o.memoizedProps,T=x.id,V=x.onPostCommit;typeof V=="function"&&V(T,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(K){Pt(o,o.return,K)}}else ia(a,o,d,m);break;case 31:ia(a,o,d,m);break;case 13:ia(a,o,d,m);break;case 23:break;case 22:x=o.stateNode,T=o.alternate,o.memoizedState!==null?x._visibility&2?ia(a,o,d,m):$f(a,o):x._visibility&2?ia(a,o,d,m):(x._visibility|=2,Vu(a,o,d,m,(o.subtreeFlags&10256)!==0||!1)),b&2048&&w_(T,o);break;case 24:ia(a,o,d,m),b&2048&&E_(o.alternate,o);break;default:ia(a,o,d,m)}}function Vu(a,o,d,m,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=a,T=o,V=d,K=m,ie=T.flags;switch(T.tag){case 0:case 11:case 15:Vu(x,T,V,K,b),qf(8,T);break;case 23:break;case 22:var fe=T.stateNode;T.memoizedState!==null?fe._visibility&2?Vu(x,T,V,K,b):$f(x,T):(fe._visibility|=2,Vu(x,T,V,K,b)),b&&ie&2048&&w_(T.alternate,T);break;case 24:Vu(x,T,V,K,b),b&&ie&2048&&E_(T.alternate,T);break;default:Vu(x,T,V,K,b)}o=o.sibling}}function $f(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=a,m=o,b=m.flags;switch(m.tag){case 22:$f(d,m),b&2048&&w_(m.alternate,m);break;case 24:$f(d,m),b&2048&&E_(m.alternate,m);break;default:$f(d,m)}o=o.sibling}}var Ff=8192;function Uu(a,o,d){if(a.subtreeFlags&Ff)for(a=a.child;a!==null;)gC(a,o,d),a=a.sibling}function gC(a,o,d){switch(a.tag){case 26:Uu(a,o,d),a.flags&Ff&&a.memoizedState!==null&&a8(d,ra,a.memoizedState,a.memoizedProps);break;case 5:Uu(a,o,d);break;case 3:case 4:var m=ra;ra=dv(a.stateNode.containerInfo),Uu(a,o,d),ra=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=Ff,Ff=16777216,Uu(a,o,d),Ff=m):Uu(a,o,d));break;default:Uu(a,o,d)}}function yC(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Hf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var m=o[d];Yn=m,_C(m,a)}yC(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)bC(a),a=a.sibling}function bC(a){switch(a.tag){case 0:case 11:case 15:Hf(a),a.flags&2048&&Ro(9,a,a.return);break;case 3:Hf(a);break;case 12:Hf(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Zp(a)):Hf(a);break;default:Hf(a)}}function Zp(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var m=o[d];Yn=m,_C(m,a)}yC(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Ro(8,o,o.return),Zp(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,Zp(o));break;default:Zp(o)}a=a.sibling}}function _C(a,o){for(;Yn!==null;){var d=Yn;switch(d.tag){case 0:case 11:case 15:Ro(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Tf(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,Yn=m;else e:for(d=a;Yn!==null;){m=Yn;var b=m.sibling,x=m.return;if(uC(m),m===d){Yn=null;break e}if(b!==null){b.return=x,Yn=b;break e}Yn=x}}}var _q={getCacheForType:function(a){var o=dr(Cn),d=o.data.get(a);return d===void 0&&(d=a(),o.data.set(a,d)),d},cacheSignal:function(){return dr(Cn).controller.signal}},xq=typeof WeakMap=="function"?WeakMap:Map,Et=0,Ut=null,rt=null,st=0,Ct=0,di=null,Do=!1,qu=!1,j_=!1,Ns=0,ln=0,ko=0,hc=0,N_=0,fi=0,Bu=0,Kf=null,Yr=null,A_=!1,Jp=0,xC=0,ev=1/0,tv=null,Mo=null,Un=0,zo=null,$u=null,As=0,S_=0,T_=null,wC=null,Gf=0,C_=null;function hi(){return(Et&2)!==0&&st!==0?st&-st:B.T!==null?k_():np()}function EC(){if(fi===0)if((st&536870912)===0||ft){var a=ls;ls<<=1,(ls&3932160)===0&&(ls=262144),fi=a}else fi=536870912;return a=ci.current,a!==null&&(a.flags|=32),fi}function Xr(a,o,d){(a===Ut&&(Ct===2||Ct===9)||a.cancelPendingCommit!==null)&&(Fu(a,0),Lo(a,st,fi,!1)),Gn(a,d),((Et&2)===0||a!==Ut)&&(a===Ut&&((Et&2)===0&&(hc|=d),ln===4&&Lo(a,st,fi,!1)),Ma(a))}function jC(a,o,d){if((Et&6)!==0)throw Error(r(327));var m=!d&&(o&127)===0&&(o&a.expiredLanes)===0||ii(a,o),b=m?jq(a,o):O_(a,o,!0),x=m;do{if(b===0){qu&&!m&&Lo(a,o,0,!1);break}else{if(d=a.current.alternate,x&&!wq(d)){b=O_(a,o,!1),x=!1;continue}if(b===2){if(x=o,a.errorRecoveryDisabledLanes&x)var T=0;else T=a.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var V=a;b=Kf;var K=V.current.memoizedState.isDehydrated;if(K&&(Fu(V,T).flags|=256),T=O_(V,T,!1),T!==2){if(j_&&!K){V.errorRecoveryDisabledLanes|=x,hc|=x,b=4;break e}x=Yr,Yr=b,x!==null&&(Yr===null?Yr=x:Yr.push.apply(Yr,x))}b=T}if(x=!1,b!==2)continue}}if(b===1){Fu(a,0),Lo(a,o,0,!0);break}e:{switch(m=a,x=b,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Lo(m,o,fi,!Do);break e;case 2:Yr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(b=Jp+300-qe(),10<b)){if(Lo(m,o,fi,!Do),yr(m,0,!0)!==0)break e;As=o,m.timeoutHandle=t2(NC.bind(null,m,d,Yr,tv,A_,o,fi,hc,Bu,Do,x,"Throttled",-0,0),b);break e}NC(m,d,Yr,tv,A_,o,fi,hc,Bu,Do,x,null,-0,0)}}break}while(!0);Ma(a)}function NC(a,o,d,m,b,x,T,V,K,ie,fe,ge,se,ce){if(a.timeoutHandle=-1,ge=o.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xi},gC(o,x,ge);var Pe=(x&62914560)===x?Jp-qe():(x&4194048)===x?xC-qe():0;if(Pe=s8(ge,Pe),Pe!==null){As=x,a.cancelPendingCommit=Pe(RC.bind(null,a,o,x,d,m,b,T,V,K,fe,ge,null,se,ce)),Lo(a,x,T,!ie);return}}RC(a,o,x,d,m,b,T,V,K)}function wq(a){for(var o=a;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var b=d[m],x=b.getSnapshot;b=b.value;try{if(!oi(x(),b))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Lo(a,o,d,m){o&=~N_,o&=~hc,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var b=o;0<b;){var x=31-en(b),T=1<<x;m[x]=-1,b&=~T}d!==0&&Fr(a,d,o)}function nv(){return(Et&6)===0?(Wf(0),!1):!0}function P_(){if(rt!==null){if(Ct===0)var a=rt.return;else a=rt,ps=ic=null,Kb(a),Du=null,Pf=0,a=rt;for(;a!==null;)nC(a.alternate,a),a=a.return;rt=null}}function Fu(a,o){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,Bq(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),As=0,P_(),Ut=a,rt=d=hs(a.current,null),st=o,Ct=0,di=null,Do=!1,qu=ii(a,o),j_=!1,Bu=fi=N_=hc=ko=ln=0,Yr=Kf=null,A_=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var b=31-en(m),x=1<<b;o|=a[b],m&=~x}return Ns=o,Ep(),d}function AC(a,o){Je=null,B.H=Lf,o===Ru||o===Op?(o=BS(),Ct=3):o===Db?(o=BS(),Ct=4):Ct=o===l_?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,di=o,rt===null&&(ln=1,Hp(a,Oi(o,a.current)))}function SC(){var a=ci.current;return a===null?!0:(st&4194048)===st?ki===null:(st&62914560)===st||(st&536870912)!==0?a===ki:!1}function TC(){var a=B.H;return B.H=Lf,a===null?Lf:a}function CC(){var a=B.A;return B.A=_q,a}function rv(){ln=4,Do||(st&4194048)!==st&&ci.current!==null||(qu=!0),(ko&134217727)===0&&(hc&134217727)===0||Ut===null||Lo(Ut,st,fi,!1)}function O_(a,o,d){var m=Et;Et|=2;var b=TC(),x=CC();(Ut!==a||st!==o)&&(tv=null,Fu(a,o)),o=!1;var T=ln;e:do try{if(Ct!==0&&rt!==null){var V=rt,K=di;switch(Ct){case 8:P_(),T=6;break e;case 3:case 2:case 9:case 6:ci.current===null&&(o=!0);var ie=Ct;if(Ct=0,di=null,Hu(a,V,K,ie),d&&qu){T=0;break e}break;default:ie=Ct,Ct=0,di=null,Hu(a,V,K,ie)}}Eq(),T=ln;break}catch(fe){AC(a,fe)}while(!0);return o&&a.shellSuspendCounter++,ps=ic=null,Et=m,B.H=b,B.A=x,rt===null&&(Ut=null,st=0,Ep()),T}function Eq(){for(;rt!==null;)PC(rt)}function jq(a,o){var d=Et;Et|=2;var m=TC(),b=CC();Ut!==a||st!==o?(tv=null,ev=qe()+500,Fu(a,o)):qu=ii(a,o);e:do try{if(Ct!==0&&rt!==null){o=rt;var x=di;t:switch(Ct){case 1:Ct=0,di=null,Hu(a,o,x,1);break;case 2:case 9:if(US(x)){Ct=0,di=null,OC(o);break}o=function(){Ct!==2&&Ct!==9||Ut!==a||(Ct=7),Ma(a)},x.then(o,o);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:US(x)?(Ct=0,di=null,OC(o)):(Ct=0,di=null,Hu(a,o,x,7));break;case 5:var T=null;switch(rt.tag){case 26:T=rt.memoizedState;case 5:case 27:var V=rt;if(T?v2(T):V.stateNode.complete){Ct=0,di=null;var K=V.sibling;if(K!==null)rt=K;else{var ie=V.return;ie!==null?(rt=ie,iv(ie)):rt=null}break t}}Ct=0,di=null,Hu(a,o,x,5);break;case 6:Ct=0,di=null,Hu(a,o,x,6);break;case 8:P_(),ln=6;break e;default:throw Error(r(462))}}Nq();break}catch(fe){AC(a,fe)}while(!0);return ps=ic=null,B.H=m,B.A=b,Et=d,rt!==null?0:(Ut=null,st=0,Ep(),ln)}function Nq(){for(;rt!==null&&!de();)PC(rt)}function PC(a){var o=eC(a.alternate,a,Ns);a.memoizedProps=a.pendingProps,o===null?iv(a):rt=o}function OC(a){var o=a,d=o.alternate;switch(o.tag){case 15:case 0:o=WT(d,o,o.pendingProps,o.type,void 0,st);break;case 11:o=WT(d,o,o.pendingProps,o.type.render,o.ref,st);break;case 5:Kb(o);default:nC(d,o),o=rt=CS(o,Ns),o=eC(d,o,Ns)}a.memoizedProps=a.pendingProps,o===null?iv(a):rt=o}function Hu(a,o,d,m){ps=ic=null,Kb(o),Du=null,Pf=0;var b=o.return;try{if(hq(a,b,o,d,st)){ln=1,Hp(a,Oi(d,a.current)),rt=null;return}}catch(x){if(b!==null)throw rt=b,x;ln=1,Hp(a,Oi(d,a.current)),rt=null;return}o.flags&32768?(ft||m===1?a=!0:qu||(st&536870912)!==0?a=!1:(Do=a=!0,(m===2||m===9||m===3||m===6)&&(m=ci.current,m!==null&&m.tag===13&&(m.flags|=16384))),IC(o,a)):iv(o)}function iv(a){var o=a;do{if((o.flags&32768)!==0){IC(o,Do);return}a=o.return;var d=vq(o.alternate,o,Ns);if(d!==null){rt=d;return}if(o=o.sibling,o!==null){rt=o;return}rt=o=a}while(o!==null);ln===0&&(ln=5)}function IC(a,o){do{var d=gq(a.alternate,a);if(d!==null){d.flags&=32767,rt=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(a=a.sibling,a!==null)){rt=a;return}rt=a=d}while(a!==null);ln=6,rt=null}function RC(a,o,d,m,b,x,T,V,K){a.cancelPendingCommit=null;do av();while(Un!==0);if((Et&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(x=o.lanes|o.childLanes,x|=bb,ql(a,d,x,T,V,K),a===Ut&&(rt=Ut=null,st=0),$u=o,zo=a,As=d,S_=x,T_=b,wC=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Cq(qr,function(){return LC(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=B.T,B.T=null,b=J.p,J.p=2,T=Et,Et|=4;try{yq(a,o,d)}finally{Et=T,J.p=b,B.T=m}}Un=1,DC(),kC(),MC()}}function DC(){if(Un===1){Un=0;var a=zo,o=$u,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=B.T,B.T=null;var m=J.p;J.p=2;var b=Et;Et|=4;try{mC(o,a);var x=$_,T=_S(a.containerInfo),V=x.focusedElem,K=x.selectionRange;if(T!==V&&V&&V.ownerDocument&&bS(V.ownerDocument.documentElement,V)){if(K!==null&&mb(V)){var ie=K.start,fe=K.end;if(fe===void 0&&(fe=ie),"selectionStart"in V)V.selectionStart=ie,V.selectionEnd=Math.min(fe,V.value.length);else{var ge=V.ownerDocument||document,se=ge&&ge.defaultView||window;if(se.getSelection){var ce=se.getSelection(),Pe=V.textContent.length,Be=Math.min(K.start,Pe),zt=K.end===void 0?Be:Math.min(K.end,Pe);!ce.extend&&Be>zt&&(T=zt,zt=Be,Be=T);var X=yS(V,Be),G=yS(V,zt);if(X&&G&&(ce.rangeCount!==1||ce.anchorNode!==X.node||ce.anchorOffset!==X.offset||ce.focusNode!==G.node||ce.focusOffset!==G.offset)){var re=ge.createRange();re.setStart(X.node,X.offset),ce.removeAllRanges(),Be>zt?(ce.addRange(re),ce.extend(G.node,G.offset)):(re.setEnd(G.node,G.offset),ce.addRange(re))}}}}for(ge=[],ce=V;ce=ce.parentNode;)ce.nodeType===1&&ge.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<ge.length;V++){var pe=ge[V];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}gv=!!B_,$_=B_=null}finally{Et=b,J.p=m,B.T=d}}a.current=o,Un=2}}function kC(){if(Un===2){Un=0;var a=zo,o=$u,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=B.T,B.T=null;var m=J.p;J.p=2;var b=Et;Et|=4;try{cC(a,o.alternate,o)}finally{Et=b,J.p=m,B.T=d}}Un=3}}function MC(){if(Un===4||Un===3){Un=0,Ie();var a=zo,o=$u,d=As,m=wC;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Un=5:(Un=0,$u=zo=null,zC(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(Mo=null),cs(d),o=o.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(an,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=B.T,b=J.p,J.p=2,B.T=null;try{for(var x=a.onRecoverableError,T=0;T<m.length;T++){var V=m[T];x(V.value,{componentStack:V.stack})}}finally{B.T=o,J.p=b}}(As&3)!==0&&av(),Ma(a),b=a.pendingLanes,(d&261930)!==0&&(b&42)!==0?a===C_?Gf++:(Gf=0,C_=a):Gf=0,Wf(0)}}function zC(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Tf(o)))}function av(){return DC(),kC(),MC(),LC()}function LC(){if(Un!==5)return!1;var a=zo,o=S_;S_=0;var d=cs(As),m=B.T,b=J.p;try{J.p=32>d?32:d,B.T=null,d=T_,T_=null;var x=zo,T=As;if(Un=0,$u=zo=null,As=0,(Et&6)!==0)throw Error(r(331));var V=Et;if(Et|=4,bC(x.current),vC(x,x.current,T,d),Et=V,Wf(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(an,x)}catch{}return!0}finally{J.p=b,B.T=m,zC(a,o)}}function VC(a,o,d){o=Oi(d,o),o=o_(a.stateNode,o,2),a=Po(a,o,2),a!==null&&(Gn(a,2),Ma(a))}function Pt(a,o,d){if(a.tag===3)VC(a,a,d);else for(;o!==null;){if(o.tag===3){VC(o,a,d);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Mo===null||!Mo.has(m))){a=Oi(d,a),d=UT(2),m=Po(o,d,2),m!==null&&(qT(d,m,o,a),Gn(m,2),Ma(m));break}}o=o.return}}function I_(a,o,d){var m=a.pingCache;if(m===null){m=a.pingCache=new xq;var b=new Set;m.set(o,b)}else b=m.get(o),b===void 0&&(b=new Set,m.set(o,b));b.has(d)||(j_=!0,b.add(d),a=Aq.bind(null,a,o,d),o.then(a,a))}function Aq(a,o,d){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,Ut===a&&(st&d)===d&&(ln===4||ln===3&&(st&62914560)===st&&300>qe()-Jp?(Et&2)===0&&Fu(a,0):N_|=d,Bu===st&&(Bu=0)),Ma(a)}function UC(a,o){o===0&&(o=Ue()),a=tc(a,o),a!==null&&(Gn(a,o),Ma(a))}function Sq(a){var o=a.memoizedState,d=0;o!==null&&(d=o.retryLane),UC(a,d)}function Tq(a,o){var d=0;switch(a.tag){case 31:case 13:var m=a.stateNode,b=a.memoizedState;b!==null&&(d=b.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),UC(a,d)}function Cq(a,o){return Rt(a,o)}var sv=null,Ku=null,R_=!1,ov=!1,D_=!1,Vo=0;function Ma(a){a!==Ku&&a.next===null&&(Ku===null?sv=Ku=a:Ku=Ku.next=a),ov=!0,R_||(R_=!0,Oq())}function Wf(a,o){if(!D_&&ov){D_=!0;do for(var d=!1,m=sv;m!==null;){if(a!==0){var b=m.pendingLanes;if(b===0)var x=0;else{var T=m.suspendedLanes,V=m.pingedLanes;x=(1<<31-en(42|a)+1)-1,x&=b&~(T&~V),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(d=!0,FC(m,x))}else x=st,x=yr(m,m===Ut?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(x&3)===0||ii(m,x)||(d=!0,FC(m,x));m=m.next}while(d);D_=!1}}function Pq(){qC()}function qC(){ov=R_=!1;var a=0;Vo!==0&&qq()&&(a=Vo);for(var o=qe(),d=null,m=sv;m!==null;){var b=m.next,x=BC(m,o);x===0?(m.next=null,d===null?sv=b:d.next=b,b===null&&(Ku=d)):(d=m,(a!==0||(x&3)!==0)&&(ov=!0)),m=b}Un!==0&&Un!==5||Wf(a),Vo!==0&&(Vo=0)}function BC(a,o){for(var d=a.suspendedLanes,m=a.pingedLanes,b=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var T=31-en(x),V=1<<T,K=b[T];K===-1?((V&d)===0||(V&m)!==0)&&(b[T]=ee(V,o)):K<=o&&(a.expiredLanes|=V),x&=~V}if(o=Ut,d=st,d=yr(a,a===o?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,d===0||a===o&&(Ct===2||Ct===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Ur(m),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||ii(a,d)){if(o=d&-d,o===a.callbackPriority)return o;switch(m!==null&&Ur(m),cs(d)){case 2:case 8:d=Vn;break;case 32:d=qr;break;case 268435456:d=Br;break;default:d=qr}return m=$C.bind(null,a),d=Rt(d,m),a.callbackPriority=o,a.callbackNode=d,o}return m!==null&&m!==null&&Ur(m),a.callbackPriority=2,a.callbackNode=null,2}function $C(a,o){if(Un!==0&&Un!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(av()&&a.callbackNode!==d)return null;var m=st;return m=yr(a,a===Ut?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(jC(a,m,o),BC(a,qe()),a.callbackNode!=null&&a.callbackNode===d?$C.bind(null,a):null)}function FC(a,o){if(av())return null;jC(a,o,!0)}function Oq(){$q(function(){(Et&6)!==0?Rt(Vt,Pq):qC()})}function k_(){if(Vo===0){var a=Ou;a===0&&(a=ji,ji<<=1,(ji&261888)===0&&(ji=256)),Vo=a}return Vo}function HC(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:vu(""+a)}function KC(a,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,a.id&&d.setAttribute("form",a.id),o.parentNode.insertBefore(d,o),a=new FormData(a),d.parentNode.removeChild(d),a}function Iq(a,o,d,m,b){if(o==="submit"&&d&&d.stateNode===b){var x=HC((b[Wn]||null).action),T=m.submitter;T&&(o=(o=T[Wn]||null)?HC(o.formAction):T.getAttribute("formAction"),o!==null&&(x=o,T=null));var V=new Ca("action","action",null,m,b);a.push({event:V,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Vo!==0){var K=T?KC(b,T):new FormData(b);t_(d,{pending:!0,data:K,method:b.method,action:x},null,K)}}else typeof x=="function"&&(V.preventDefault(),K=T?KC(b,T):new FormData(b),t_(d,{pending:!0,data:K,method:b.method,action:x},x,K))},currentTarget:b}]})}}for(var M_=0;M_<yb.length;M_++){var z_=yb[M_],Rq=z_.toLowerCase(),Dq=z_[0].toUpperCase()+z_.slice(1);na(Rq,"on"+Dq)}na(ES,"onAnimationEnd"),na(jS,"onAnimationIteration"),na(NS,"onAnimationStart"),na("dblclick","onDoubleClick"),na("focusin","onFocus"),na("focusout","onBlur"),na(Y9,"onTransitionRun"),na(X9,"onTransitionStart"),na(Z9,"onTransitionCancel"),na(AS,"onTransitionEnd"),Na("onMouseEnter",["mouseout","mouseover"]),Na("onMouseLeave",["mouseout","mouseover"]),Na("onPointerEnter",["pointerout","pointerover"]),Na("onPointerLeave",["pointerout","pointerover"]),ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ja("onBeforeInput",["compositionend","keypress","textInput","paste"]),ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kq=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qf));function GC(a,o){o=(o&4)!==0;for(var d=0;d<a.length;d++){var m=a[d],b=m.event;m=m.listeners;e:{var x=void 0;if(o)for(var T=m.length-1;0<=T;T--){var V=m[T],K=V.instance,ie=V.currentTarget;if(V=V.listener,K!==x&&b.isPropagationStopped())break e;x=V,b.currentTarget=ie;try{x(b)}catch(fe){wp(fe)}b.currentTarget=null,x=K}else for(T=0;T<m.length;T++){if(V=m[T],K=V.instance,ie=V.currentTarget,V=V.listener,K!==x&&b.isPropagationStopped())break e;x=V,b.currentTarget=ie;try{x(b)}catch(fe){wp(fe)}b.currentTarget=null,x=K}}}}function it(a,o){var d=o[du];d===void 0&&(d=o[du]=new Set);var m=a+"__bubble";d.has(m)||(WC(o,a,2,!1),d.add(m))}function L_(a,o,d){var m=0;o&&(m|=4),WC(d,a,m,o)}var lv="_reactListening"+Math.random().toString(36).slice(2);function V_(a){if(!a[lv]){a[lv]=!0,of.forEach(function(d){d!=="selectionchange"&&(kq.has(d)||L_(d,!1,a),L_(d,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[lv]||(o[lv]=!0,L_("selectionchange",!1,o))}}function WC(a,o,d,m){switch(E2(o)){case 2:var b=c8;break;case 8:b=u8;break;default:b=ex}d=b.bind(null,o,d,a),b=void 0,!Gl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),m?b!==void 0?a.addEventListener(o,d,{capture:!0,passive:b}):a.addEventListener(o,d,!0):b!==void 0?a.addEventListener(o,d,{passive:b}):a.addEventListener(o,d,!1)}function U_(a,o,d,m,b){var x=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var T=m.tag;if(T===3||T===4){var V=m.stateNode.containerInfo;if(V===b)break;if(T===4)for(T=m.return;T!==null;){var K=T.tag;if((K===3||K===4)&&T.stateNode.containerInfo===b)return;T=T.return}for(;V!==null;){if(T=wa(V),T===null)return;if(K=T.tag,K===5||K===6||K===26||K===27){m=x=T;continue e}V=V.parentNode}}m=m.return}_o(function(){var ie=x,fe=Si(d),ge=[];e:{var se=SS.get(a);if(se!==void 0){var ce=Ca,Pe=a;switch(a){case"keypress":if(Ql(d)===0)break e;case"keydown":case"keyup":ce=bp;break;case"focusin":Pe="focus",ce=Xl;break;case"focusout":Pe="blur",ce=Xl;break;case"beforeblur":case"afterblur":ce=Xl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=_f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=up;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=A;break;case ES:case jS:case NS:ce=fp;break;case AS:ce=F;break;case"scroll":case"scrollend":ce=bf;break;case"wheel":ce=le;break;case"copy":case"cut":case"paste":ce=hp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=fs;break;case"toggle":case"beforetoggle":ce=Ze}var Be=(o&4)!==0,zt=!Be&&(a==="scroll"||a==="scrollend"),X=Be?se!==null?se+"Capture":null:se;Be=[];for(var G=ie,re;G!==null;){var pe=G;if(re=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||re===null||X===null||(pe=Zi(G,X),pe!=null&&Be.push(Yf(G,pe,re))),zt)break;G=G.return}0<Be.length&&(se=new ce(se,Pe,null,d,fe),ge.push({event:se,listeners:Be}))}}if((o&7)===0){e:{if(se=a==="mouseover"||a==="pointerover",ce=a==="mouseout"||a==="pointerout",se&&d!==vf&&(Pe=d.relatedTarget||d.fromElement)&&(wa(Pe)||Pe[_a]))break e;if((ce||se)&&(se=fe.window===fe?fe:(se=fe.ownerDocument)?se.defaultView||se.parentWindow:window,ce?(Pe=d.relatedTarget||d.toElement,ce=ie,Pe=Pe?wa(Pe):null,Pe!==null&&(zt=s(Pe),Be=Pe.tag,Pe!==zt||Be!==5&&Be!==27&&Be!==6)&&(Pe=null)):(ce=null,Pe=ie),ce!==Pe)){if(Be=_f,pe="onMouseLeave",X="onMouseEnter",G="mouse",(a==="pointerout"||a==="pointerover")&&(Be=fs,pe="onPointerLeave",X="onPointerEnter",G="pointer"),zt=ce==null?se:ai(ce),re=Pe==null?se:ai(Pe),se=new Be(pe,G+"leave",ce,d,fe),se.target=zt,se.relatedTarget=re,pe=null,wa(fe)===ie&&(Be=new Be(X,G+"enter",Pe,d,fe),Be.target=re,Be.relatedTarget=zt,pe=Be),zt=pe,ce&&Pe)t:{for(Be=Mq,X=ce,G=Pe,re=0,pe=X;pe;pe=Be(pe))re++;pe=0;for(var ze=G;ze;ze=Be(ze))pe++;for(;0<re-pe;)X=Be(X),re--;for(;0<pe-re;)G=Be(G),pe--;for(;re--;){if(X===G||G!==null&&X===G.alternate){Be=X;break t}X=Be(X),G=Be(G)}Be=null}else Be=null;ce!==null&&QC(ge,se,ce,Be,!1),Pe!==null&&zt!==null&&QC(ge,zt,Pe,Be,!0)}}e:{if(se=ie?ai(ie):window,ce=se.nodeName&&se.nodeName.toLowerCase(),ce==="select"||ce==="input"&&se.type==="file")var yt=fS;else if(uS(se))if(hS)yt=G9;else{yt=H9;var Re=F9}else ce=se.nodeName,!ce||ce.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ie&&pu(ie.elementType)&&(yt=fS):yt=K9;if(yt&&(yt=yt(a,ie))){dS(ge,yt,d,fe);break e}Re&&Re(a,se,ie),a==="focusout"&&ie&&se.type==="number"&&ie.memoizedProps.value!=null&&hf(se,"number",se.value)}switch(Re=ie?ai(ie):window,a){case"focusin":(uS(Re)||Re.contentEditable==="true")&&(Eu=Re,pb=ie,Nf=null);break;case"focusout":Nf=pb=Eu=null;break;case"mousedown":vb=!0;break;case"contextmenu":case"mouseup":case"dragend":vb=!1,xS(ge,d,fe);break;case"selectionchange":if(Q9)break;case"keydown":case"keyup":xS(ge,d,fe)}var et;if(wt)e:{switch(a){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else wu?Zl(a,d)&&(ot="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(ot="onCompositionStart");ot&&(Ia&&d.locale!=="ko"&&(wu||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&wu&&(et=yf()):(Ta=fe,gf="value"in Ta?Ta.value:Ta.textContent,wu=!0)),Re=cv(ie,ot),0<Re.length&&(ot=new Oa(ot,a,null,d,fe),ge.push({event:ot,listeners:Re}),et?ot.data=et:(et=xu(d),et!==null&&(ot.data=et)))),(et=Ci?U9(a,d):q9(a,d))&&(ot=cv(ie,"onBeforeInput"),0<ot.length&&(Re=new Oa("onBeforeInput","beforeinput",null,d,fe),ge.push({event:Re,listeners:ot}),Re.data=et)),Iq(ge,a,ie,d,fe)}GC(ge,o)})}function Yf(a,o,d){return{instance:a,listener:o,currentTarget:d}}function cv(a,o){for(var d=o+"Capture",m=[];a!==null;){var b=a,x=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||x===null||(b=Zi(a,d),b!=null&&m.unshift(Yf(a,b,x)),b=Zi(a,o),b!=null&&m.push(Yf(a,b,x))),a.tag===3)return m;a=a.return}return[]}function Mq(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function QC(a,o,d,m,b){for(var x=o._reactName,T=[];d!==null&&d!==m;){var V=d,K=V.alternate,ie=V.stateNode;if(V=V.tag,K!==null&&K===m)break;V!==5&&V!==26&&V!==27||ie===null||(K=ie,b?(ie=Zi(d,x),ie!=null&&T.unshift(Yf(d,ie,K))):b||(ie=Zi(d,x),ie!=null&&T.push(Yf(d,ie,K)))),d=d.return}T.length!==0&&a.push({event:o,listeners:T})}var zq=/\r\n?/g,Lq=/\u0000|\uFFFD/g;function YC(a){return(typeof a=="string"?a:""+a).replace(zq,`
`).replace(Lq,"")}function XC(a,o){return o=YC(o),YC(a)===o}function Mt(a,o,d,m,b,x){switch(d){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Kr(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Kr(a,""+m);break;case"className":si(a,"class",m);break;case"tabIndex":si(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":si(a,d,m);break;case"style":pf(a,m,x);break;case"data":if(o!=="object"){si(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||d!=="href")){a.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=vu(""+m),a.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(d==="formAction"?(o!=="input"&&Mt(a,o,"name",b.name,b,null),Mt(a,o,"formEncType",b.formEncType,b,null),Mt(a,o,"formMethod",b.formMethod,b,null),Mt(a,o,"formTarget",b.formTarget,b,null)):(Mt(a,o,"encType",b.encType,b,null),Mt(a,o,"method",b.method,b,null),Mt(a,o,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=vu(""+m),a.setAttribute(d,m);break;case"onClick":m!=null&&(a.onclick=Xi);break;case"onScroll":m!=null&&it("scroll",a);break;case"onScrollEnd":m!=null&&it("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}d=vu(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""+m):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":m===!0?a.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,m):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(d,m):a.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(d):a.setAttribute(d,m);break;case"popover":it("beforetoggle",a),it("toggle",a),hu(a,"popover",m);break;case"xlinkActuate":Tn(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Tn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Tn(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Tn(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Tn(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Tn(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Tn(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Tn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Tn(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":hu(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=cp.get(d)||d,hu(a,d,m))}}function q_(a,o,d,m,b,x){switch(d){case"style":pf(a,m,x);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof m=="string"?Kr(a,m):(typeof m=="number"||typeof m=="bigint")&&Kr(a,""+m);break;case"onScroll":m!=null&&it("scroll",a);break;case"onScrollEnd":m!=null&&it("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lf.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),o=d.slice(2,b?d.length-7:void 0),x=a[Wn]||null,x=x!=null?x[d]:null,typeof x=="function"&&a.removeEventListener(o,x,b),typeof m=="function")){typeof x!="function"&&x!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(o,m,b);break e}d in a?a[d]=m:m===!0?a.setAttribute(d,""):hu(a,d,m)}}}function hr(a,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",a),it("load",a);var m=!1,b=!1,x;for(x in d)if(d.hasOwnProperty(x)){var T=d[x];if(T!=null)switch(x){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Mt(a,o,x,T,d,null)}}b&&Mt(a,o,"srcSet",d.srcSet,d,null),m&&Mt(a,o,"src",d.src,d,null);return;case"input":it("invalid",a);var V=x=T=b=null,K=null,ie=null;for(m in d)if(d.hasOwnProperty(m)){var fe=d[m];if(fe!=null)switch(m){case"name":b=fe;break;case"type":T=fe;break;case"checked":K=fe;break;case"defaultChecked":ie=fe;break;case"value":x=fe;break;case"defaultValue":V=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,o));break;default:Mt(a,o,m,fe,d,null)}}sp(a,x,V,K,ie,T,b,!1);return;case"select":it("invalid",a),m=T=x=null;for(b in d)if(d.hasOwnProperty(b)&&(V=d[b],V!=null))switch(b){case"value":x=V;break;case"defaultValue":T=V;break;case"multiple":m=V;default:Mt(a,o,b,V,d,null)}o=x,d=T,a.multiple=!!m,o!=null?vo(a,!!m,o,!1):d!=null&&vo(a,!!m,d,!0);return;case"textarea":it("invalid",a),x=b=m=null;for(T in d)if(d.hasOwnProperty(T)&&(V=d[T],V!=null))switch(T){case"value":m=V;break;case"defaultValue":b=V;break;case"children":x=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:Mt(a,o,T,V,d,null)}go(a,m,b,x);return;case"option":for(K in d)d.hasOwnProperty(K)&&(m=d[K],m!=null)&&(K==="selected"?a.selected=m&&typeof m!="function"&&typeof m!="symbol":Mt(a,o,K,m,d,null));return;case"dialog":it("beforetoggle",a),it("toggle",a),it("cancel",a),it("close",a);break;case"iframe":case"object":it("load",a);break;case"video":case"audio":for(m=0;m<Qf.length;m++)it(Qf[m],a);break;case"image":it("error",a),it("load",a);break;case"details":it("toggle",a);break;case"embed":case"source":case"link":it("error",a),it("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in d)if(d.hasOwnProperty(ie)&&(m=d[ie],m!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Mt(a,o,ie,m,d,null)}return;default:if(pu(o)){for(fe in d)d.hasOwnProperty(fe)&&(m=d[fe],m!==void 0&&q_(a,o,fe,m,d,void 0));return}}for(V in d)d.hasOwnProperty(V)&&(m=d[V],m!=null&&Mt(a,o,V,m,d,null))}function Vq(a,o,d,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,x=null,T=null,V=null,K=null,ie=null,fe=null;for(ce in d){var ge=d[ce];if(d.hasOwnProperty(ce)&&ge!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":K=ge;default:m.hasOwnProperty(ce)||Mt(a,o,ce,null,m,ge)}}for(var se in m){var ce=m[se];if(ge=d[se],m.hasOwnProperty(se)&&(ce!=null||ge!=null))switch(se){case"type":x=ce;break;case"name":b=ce;break;case"checked":ie=ce;break;case"defaultChecked":fe=ce;break;case"value":T=ce;break;case"defaultValue":V=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,o));break;default:ce!==ge&&Mt(a,o,se,ce,m,ge)}}mu(a,T,V,K,ie,fe,x,b);return;case"select":ce=T=V=se=null;for(x in d)if(K=d[x],d.hasOwnProperty(x)&&K!=null)switch(x){case"value":break;case"multiple":ce=K;default:m.hasOwnProperty(x)||Mt(a,o,x,null,m,K)}for(b in m)if(x=m[b],K=d[b],m.hasOwnProperty(b)&&(x!=null||K!=null))switch(b){case"value":se=x;break;case"defaultValue":V=x;break;case"multiple":T=x;default:x!==K&&Mt(a,o,b,x,m,K)}o=V,d=T,m=ce,se!=null?vo(a,!!d,se,!1):!!m!=!!d&&(o!=null?vo(a,!!d,o,!0):vo(a,!!d,d?[]:"",!1));return;case"textarea":ce=se=null;for(V in d)if(b=d[V],d.hasOwnProperty(V)&&b!=null&&!m.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Mt(a,o,V,null,m,b)}for(T in m)if(b=m[T],x=d[T],m.hasOwnProperty(T)&&(b!=null||x!=null))switch(T){case"value":se=b;break;case"defaultValue":ce=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==x&&Mt(a,o,T,b,m,x)}op(a,se,ce);return;case"option":for(var Pe in d)se=d[Pe],d.hasOwnProperty(Pe)&&se!=null&&!m.hasOwnProperty(Pe)&&(Pe==="selected"?a.selected=!1:Mt(a,o,Pe,null,m,se));for(K in m)se=m[K],ce=d[K],m.hasOwnProperty(K)&&se!==ce&&(se!=null||ce!=null)&&(K==="selected"?a.selected=se&&typeof se!="function"&&typeof se!="symbol":Mt(a,o,K,se,m,ce));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in d)se=d[Be],d.hasOwnProperty(Be)&&se!=null&&!m.hasOwnProperty(Be)&&Mt(a,o,Be,null,m,se);for(ie in m)if(se=m[ie],ce=d[ie],m.hasOwnProperty(ie)&&se!==ce&&(se!=null||ce!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:Mt(a,o,ie,se,m,ce)}return;default:if(pu(o)){for(var zt in d)se=d[zt],d.hasOwnProperty(zt)&&se!==void 0&&!m.hasOwnProperty(zt)&&q_(a,o,zt,void 0,m,se);for(fe in m)se=m[fe],ce=d[fe],!m.hasOwnProperty(fe)||se===ce||se===void 0&&ce===void 0||q_(a,o,fe,se,m,ce);return}}for(var X in d)se=d[X],d.hasOwnProperty(X)&&se!=null&&!m.hasOwnProperty(X)&&Mt(a,o,X,null,m,se);for(ge in m)se=m[ge],ce=d[ge],!m.hasOwnProperty(ge)||se===ce||se==null&&ce==null||Mt(a,o,ge,se,m,ce)}function ZC(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Uq(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var b=d[m],x=b.transferSize,T=b.initiatorType,V=b.duration;if(x&&V&&ZC(T)){for(T=0,V=b.responseEnd,m+=1;m<d.length;m++){var K=d[m],ie=K.startTime;if(ie>V)break;var fe=K.transferSize,ge=K.initiatorType;fe&&ZC(ge)&&(K=K.responseEnd,T+=fe*(K<V?1:(V-ie)/(K-ie)))}if(--m,o+=8*(x+T)/(b.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var B_=null,$_=null;function uv(a){return a.nodeType===9?a:a.ownerDocument}function JC(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e2(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function F_(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var H_=null;function qq(){var a=window.event;return a&&a.type==="popstate"?a===H_?!1:(H_=a,!0):(H_=null,!1)}var t2=typeof setTimeout=="function"?setTimeout:void 0,Bq=typeof clearTimeout=="function"?clearTimeout:void 0,n2=typeof Promise=="function"?Promise:void 0,$q=typeof queueMicrotask=="function"?queueMicrotask:typeof n2<"u"?function(a){return n2.resolve(null).then(a).catch(Fq)}:t2;function Fq(a){setTimeout(function(){throw a})}function Uo(a){return a==="head"}function r2(a,o){var d=o,m=0;do{var b=d.nextSibling;if(a.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"||d==="/&"){if(m===0){a.removeChild(b),Yu(o);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")Xf(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,Xf(d);for(var x=d.firstChild;x;){var T=x.nextSibling,V=x.nodeName;x[xa]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&x.rel.toLowerCase()==="stylesheet"||d.removeChild(x),x=T}}else d==="body"&&Xf(a.ownerDocument.body);d=b}while(d);Yu(o)}function i2(a,o){var d=a;a=0;do{var m=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=m}while(d)}function K_(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":K_(d),fu(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function Hq(a,o,d,m){for(;a.nodeType===1;){var b=d;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[xa])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var x=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=Mi(a.nextSibling),a===null)break}return null}function Kq(a,o,d){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Mi(a.nextSibling),a===null))return null;return a}function a2(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Mi(a.nextSibling),a===null))return null;return a}function G_(a){return a.data==="$?"||a.data==="$~"}function W_(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function Gq(a,o){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||d.readyState!=="loading")o();else{var m=function(){o(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Mi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Q_=null;function s2(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(o===0)return Mi(a.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}a=a.nextSibling}return null}function o2(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return a;o--}else d!=="/$"&&d!=="/&"||o++}a=a.previousSibling}return null}function l2(a,o,d){switch(o=uv(d),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Xf(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);fu(a)}var zi=new Map,c2=new Set;function dv(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ss=J.d;J.d={f:Wq,r:Qq,D:Yq,C:Xq,L:Zq,m:Jq,X:t8,S:e8,M:n8};function Wq(){var a=Ss.f(),o=nv();return a||o}function Qq(a){var o=Ai(a);o!==null&&o.tag===5&&o.type==="form"?AT(o):Ss.r(a)}var Gu=typeof document>"u"?null:document;function u2(a,o,d){var m=Gu;if(m&&typeof o=="string"&&o){var b=Hr(o);b='link[rel="'+a+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),c2.has(b)||(c2.add(b),a={rel:a,crossOrigin:d,href:o},m.querySelector(b)===null&&(o=m.createElement("link"),hr(o,"link",a),Sn(o),m.head.appendChild(o)))}}function Yq(a){Ss.D(a),u2("dns-prefetch",a,null)}function Xq(a,o){Ss.C(a,o),u2("preconnect",a,o)}function Zq(a,o,d){Ss.L(a,o,d);var m=Gu;if(m&&a&&o){var b='link[rel="preload"][as="'+Hr(o)+'"]';o==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+Hr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+Hr(d.imageSizes)+'"]')):b+='[href="'+Hr(a)+'"]';var x=b;switch(o){case"style":x=Wu(a);break;case"script":x=Qu(a)}zi.has(x)||(a=v({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:a,as:o},d),zi.set(x,a),m.querySelector(b)!==null||o==="style"&&m.querySelector(Zf(x))||o==="script"&&m.querySelector(Jf(x))||(o=m.createElement("link"),hr(o,"link",a),Sn(o),m.head.appendChild(o)))}}function Jq(a,o){Ss.m(a,o);var d=Gu;if(d&&a){var m=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+Hr(m)+'"][href="'+Hr(a)+'"]',x=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Qu(a)}if(!zi.has(x)&&(a=v({rel:"modulepreload",href:a},o),zi.set(x,a),d.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Jf(x)))return}m=d.createElement("link"),hr(m,"link",a),Sn(m),d.head.appendChild(m)}}}function e8(a,o,d){Ss.S(a,o,d);var m=Gu;if(m&&a){var b=Ea(m).hoistableStyles,x=Wu(a);o=o||"default";var T=b.get(x);if(!T){var V={loading:0,preload:null};if(T=m.querySelector(Zf(x)))V.loading=5;else{a=v({rel:"stylesheet",href:a,"data-precedence":o},d),(d=zi.get(x))&&Y_(a,d);var K=T=m.createElement("link");Sn(K),hr(K,"link",a),K._p=new Promise(function(ie,fe){K.onload=ie,K.onerror=fe}),K.addEventListener("load",function(){V.loading|=1}),K.addEventListener("error",function(){V.loading|=2}),V.loading|=4,fv(T,o,m)}T={type:"stylesheet",instance:T,count:1,state:V},b.set(x,T)}}}function t8(a,o){Ss.X(a,o);var d=Gu;if(d&&a){var m=Ea(d).hoistableScripts,b=Qu(a),x=m.get(b);x||(x=d.querySelector(Jf(b)),x||(a=v({src:a,async:!0},o),(o=zi.get(b))&&X_(a,o),x=d.createElement("script"),Sn(x),hr(x,"link",a),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(b,x))}}function n8(a,o){Ss.M(a,o);var d=Gu;if(d&&a){var m=Ea(d).hoistableScripts,b=Qu(a),x=m.get(b);x||(x=d.querySelector(Jf(b)),x||(a=v({src:a,async:!0,type:"module"},o),(o=zi.get(b))&&X_(a,o),x=d.createElement("script"),Sn(x),hr(x,"link",a),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(b,x))}}function d2(a,o,d,m){var b=(b=W.current)?dv(b):null;if(!b)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=Wu(d.href),d=Ea(b).hoistableStyles,m=d.get(o),m||(m={type:"style",instance:null,count:0,state:null},d.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=Wu(d.href);var x=Ea(b).hoistableStyles,T=x.get(a);if(T||(b=b.ownerDocument||b,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,T),(x=b.querySelector(Zf(a)))&&!x._p&&(T.instance=x,T.state.loading=5),zi.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},zi.set(a,d),x||r8(b,a,d,T.state))),o&&m===null)throw Error(r(528,""));return T}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Qu(d),d=Ea(b).hoistableScripts,m=d.get(o),m||(m={type:"script",instance:null,count:0,state:null},d.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Wu(a){return'href="'+Hr(a)+'"'}function Zf(a){return'link[rel="stylesheet"]['+a+"]"}function f2(a){return v({},a,{"data-precedence":a.precedence,precedence:null})}function r8(a,o,d,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),hr(o,"link",d),Sn(o),a.head.appendChild(o))}function Qu(a){return'[src="'+Hr(a)+'"]'}function Jf(a){return"script[async]"+a}function h2(a,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+Hr(d.href)+'"]');if(m)return o.instance=m,Sn(m),m;var b=v({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Sn(m),hr(m,"style",b),fv(m,d.precedence,a),o.instance=m;case"stylesheet":b=Wu(d.href);var x=a.querySelector(Zf(b));if(x)return o.state.loading|=4,o.instance=x,Sn(x),x;m=f2(d),(b=zi.get(b))&&Y_(m,b),x=(a.ownerDocument||a).createElement("link"),Sn(x);var T=x;return T._p=new Promise(function(V,K){T.onload=V,T.onerror=K}),hr(x,"link",m),o.state.loading|=4,fv(x,d.precedence,a),o.instance=x;case"script":return x=Qu(d.src),(b=a.querySelector(Jf(x)))?(o.instance=b,Sn(b),b):(m=d,(b=zi.get(x))&&(m=v({},d),X_(m,b)),a=a.ownerDocument||a,b=a.createElement("script"),Sn(b),hr(b,"link",m),a.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,fv(m,d.precedence,a));return o.instance}function fv(a,o,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,x=b,T=0;T<m.length;T++){var V=m[T];if(V.dataset.precedence===o)x=V;else if(x!==b)break}x?x.parentNode.insertBefore(a,x.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(a,o.firstChild))}function Y_(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function X_(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var hv=null;function m2(a,o,d){if(hv===null){var m=new Map,b=hv=new Map;b.set(d,m)}else b=hv,m=b.get(d),m||(m=new Map,b.set(d,m));if(m.has(a))return m;for(m.set(a,null),d=d.getElementsByTagName(a),b=0;b<d.length;b++){var x=d[b];if(!(x[xa]||x[An]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var T=x.getAttribute(o)||"";T=a+T;var V=m.get(T);V?V.push(x):m.set(T,[x])}}return m}function p2(a,o,d){a=a.ownerDocument||a,a.head.insertBefore(d,o==="title"?a.querySelector("head > title"):null)}function i8(a,o,d){if(d===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function v2(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function a8(a,o,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var b=Wu(m.href),x=o.querySelector(Zf(b));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=mv.bind(a),o.then(a,a)),d.state.loading|=4,d.instance=x,Sn(x);return}x=o.ownerDocument||o,m=f2(m),(b=zi.get(b))&&Y_(m,b),x=x.createElement("link"),Sn(x);var T=x;T._p=new Promise(function(V,K){T.onload=V,T.onerror=K}),hr(x,"link",m),d.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=mv.bind(a),o.addEventListener("load",d),o.addEventListener("error",d))}}var Z_=0;function s8(a,o){return a.stylesheets&&a.count===0&&vv(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var m=setTimeout(function(){if(a.stylesheets&&vv(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+o);0<a.imgBytes&&Z_===0&&(Z_=62500*Uq());var b=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&vv(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>Z_?50:800)+o);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(b)}}:null}function mv(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vv(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var pv=null;function vv(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,pv=new Map,o.forEach(o8,a),pv=null,mv.call(a))}function o8(a,o){if(!(o.state.loading&4)){var d=pv.get(a);if(d)var m=d.get(null);else{d=new Map,pv.set(a,d);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<b.length;x++){var T=b[x];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(d.set(T.dataset.precedence,T),m=T)}m&&d.set(null,m)}b=o.instance,T=b.getAttribute("data-precedence"),x=d.get(T)||m,x===m&&d.set(null,b),d.set(T,b),this.count++,m=mv.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),x?x.parentNode.insertBefore(b,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),o.state.loading|=4}}var eh={$$typeof:R,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function l8(a,o,d,m,b,x,T,V,K){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.hiddenUpdates=mt(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=x,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function g2(a,o,d,m,b,x,T,V,K,ie,fe,ge){return a=new l8(a,o,d,T,K,ie,fe,ge,V),o=1,x===!0&&(o|=24),x=li(3,null,null,o),a.current=x,x.stateNode=a,o=Ob(),o.refCount++,a.pooledCache=o,o.refCount++,x.memoizedState={element:m,isDehydrated:d,cache:o},kb(x),a}function y2(a){return a?(a=Au,a):Au}function b2(a,o,d,m,b,x){b=y2(b),m.context===null?m.context=b:m.pendingContext=b,m=Co(o),m.payload={element:d},x=x===void 0?null:x,x!==null&&(m.callback=x),d=Po(a,m,o),d!==null&&(Xr(d,a,o),If(d,a,o))}function _2(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<o?d:o}}function J_(a,o){_2(a,o),(a=a.alternate)&&_2(a,o)}function x2(a){if(a.tag===13||a.tag===31){var o=tc(a,67108864);o!==null&&Xr(o,a,67108864),J_(a,67108864)}}function w2(a){if(a.tag===13||a.tag===31){var o=hi();o=$l(o);var d=tc(a,o);d!==null&&Xr(d,a,o),J_(a,o)}}var gv=!0;function c8(a,o,d,m){var b=B.T;B.T=null;var x=J.p;try{J.p=2,ex(a,o,d,m)}finally{J.p=x,B.T=b}}function u8(a,o,d,m){var b=B.T;B.T=null;var x=J.p;try{J.p=8,ex(a,o,d,m)}finally{J.p=x,B.T=b}}function ex(a,o,d,m){if(gv){var b=tx(m);if(b===null)U_(a,o,m,yv,d),j2(a,m);else if(f8(b,a,o,d,m))m.stopPropagation();else if(j2(a,m),o&4&&-1<d8.indexOf(a)){for(;b!==null;){var x=Ai(b);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var T=Ni(x.pendingLanes);if(T!==0){var V=x;for(V.pendingLanes|=2,V.entangledLanes|=2;T;){var K=1<<31-en(T);V.entanglements[1]|=K,T&=~K}Ma(x),(Et&6)===0&&(ev=qe()+500,Wf(0))}}break;case 31:case 13:V=tc(x,2),V!==null&&Xr(V,x,2),nv(),J_(x,2)}if(x=tx(m),x===null&&U_(a,o,m,yv,d),x===b)break;b=x}b!==null&&m.stopPropagation()}else U_(a,o,m,null,d)}}function tx(a){return a=Si(a),nx(a)}var yv=null;function nx(a){if(yv=null,a=wa(a),a!==null){var o=s(a);if(o===null)a=null;else{var d=o.tag;if(d===13){if(a=c(o),a!==null)return a;a=null}else if(d===31){if(a=u(o),a!==null)return a;a=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return yv=a,null}function E2(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ge()){case Vt:return 2;case Vn:return 8;case qr:case ho:return 32;case Br:return 268435456;default:return 32}default:return 32}}var rx=!1,qo=null,Bo=null,$o=null,th=new Map,nh=new Map,Fo=[],d8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j2(a,o){switch(a){case"focusin":case"focusout":qo=null;break;case"dragenter":case"dragleave":Bo=null;break;case"mouseover":case"mouseout":$o=null;break;case"pointerover":case"pointerout":th.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":nh.delete(o.pointerId)}}function rh(a,o,d,m,b,x){return a===null||a.nativeEvent!==x?(a={blockedOn:o,domEventName:d,eventSystemFlags:m,nativeEvent:x,targetContainers:[b]},o!==null&&(o=Ai(o),o!==null&&x2(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),a)}function f8(a,o,d,m,b){switch(o){case"focusin":return qo=rh(qo,a,o,d,m,b),!0;case"dragenter":return Bo=rh(Bo,a,o,d,m,b),!0;case"mouseover":return $o=rh($o,a,o,d,m,b),!0;case"pointerover":var x=b.pointerId;return th.set(x,rh(th.get(x)||null,a,o,d,m,b)),!0;case"gotpointercapture":return x=b.pointerId,nh.set(x,rh(nh.get(x)||null,a,o,d,m,b)),!0}return!1}function N2(a){var o=wa(a.target);if(o!==null){var d=s(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){a.blockedOn=o,Qi(a.priority,function(){w2(d)});return}}else if(o===31){if(o=u(d),o!==null){a.blockedOn=o,Qi(a.priority,function(){w2(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function bv(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var d=tx(a.nativeEvent);if(d===null){d=a.nativeEvent;var m=new d.constructor(d.type,d);vf=m,d.target.dispatchEvent(m),vf=null}else return o=Ai(d),o!==null&&x2(o),a.blockedOn=d,!1;o.shift()}return!0}function A2(a,o,d){bv(a)&&d.delete(o)}function h8(){rx=!1,qo!==null&&bv(qo)&&(qo=null),Bo!==null&&bv(Bo)&&(Bo=null),$o!==null&&bv($o)&&($o=null),th.forEach(A2),nh.forEach(A2)}function _v(a,o){a.blockedOn===o&&(a.blockedOn=null,rx||(rx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,h8)))}var xv=null;function S2(a){xv!==a&&(xv=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){xv===a&&(xv=null);for(var o=0;o<a.length;o+=3){var d=a[o],m=a[o+1],b=a[o+2];if(typeof m!="function"){if(nx(m||d)===null)continue;break}var x=Ai(d);x!==null&&(a.splice(o,3),o-=3,t_(x,{pending:!0,data:b,method:d.method,action:m},m,b))}}))}function Yu(a){function o(K){return _v(K,a)}qo!==null&&_v(qo,a),Bo!==null&&_v(Bo,a),$o!==null&&_v($o,a),th.forEach(o),nh.forEach(o);for(var d=0;d<Fo.length;d++){var m=Fo[d];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Fo.length&&(d=Fo[0],d.blockedOn===null);)N2(d),d.blockedOn===null&&Fo.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var b=d[m],x=d[m+1],T=b[Wn]||null;if(typeof x=="function")T||S2(d);else if(T){var V=null;if(x&&x.hasAttribute("formAction")){if(b=x,T=x[Wn]||null)V=T.formAction;else if(nx(b)!==null)continue}else V=T.action;typeof V=="function"?d[m+1]=V:(d.splice(m,3),m-=3),S2(d)}}}function T2(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(T){return b=T})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,b=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function ix(a){this._internalRoot=a}wv.prototype.render=ix.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var d=o.current,m=hi();b2(d,m,a,o,null,null)},wv.prototype.unmount=ix.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;b2(a.current,2,null,a,null,null),nv(),o[_a]=null}};function wv(a){this._internalRoot=a}wv.prototype.unstable_scheduleHydration=function(a){if(a){var o=np();a={blockedOn:null,target:a,priority:o};for(var d=0;d<Fo.length&&o!==0&&o<Fo[d].priority;d++);Fo.splice(d,0,a),d===0&&N2(a)}};var C2=e.version;if(C2!=="19.2.4")throw Error(r(527,C2,"19.2.4"));J.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var m8={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ev=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ev.isDisabled&&Ev.supportsFiber)try{an=Ev.inject(m8),St=Ev}catch{}}return ah.createRoot=function(a,o){if(!i(a))throw Error(r(299));var d=!1,m="",b=MT,x=zT,T=LT;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError)),o=g2(a,1,!1,null,null,d,m,null,b,x,T,T2),a[_a]=o.current,V_(a),new ix(o)},ah.hydrateRoot=function(a,o,d){if(!i(a))throw Error(r(299));var m=!1,b="",x=MT,T=zT,V=LT,K=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(x=d.onUncaughtError),d.onCaughtError!==void 0&&(T=d.onCaughtError),d.onRecoverableError!==void 0&&(V=d.onRecoverableError),d.formState!==void 0&&(K=d.formState)),o=g2(a,1,!0,o,d??null,m,b,K,x,T,V,T2),o.context=y2(null),d=o.current,m=hi(),m=$l(m),b=Co(m),b.callback=null,Po(d,b,m),d=m,o.current.lanes=d,Gn(o,d),Ma(o),a[_a]=o.current,V_(a),new wv(o)},ah.version="19.2.4",ah}var V2;function j8(){if(V2)return ox.exports;V2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ox.exports=E8(),ox.exports}var N8=j8();const A8=is(N8);var nj=tz();function Uh(){return Uh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uh.apply(this,arguments)}var il;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(il||(il={}));const U2="popstate";function S8(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:c,hash:u}=r.location;return vw("",{pathname:s,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:vg(i)}return C8(e,n,null,t)}function jn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rj(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function T8(){return Math.random().toString(36).substr(2,8)}function q2(t,e){return{usr:t.state,key:t.key,idx:e}}function vw(t,e,n,r){return n===void 0&&(n=null),Uh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Vd(e):e,{state:n,key:e&&e.key||r||T8()})}function vg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Vd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function C8(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,c=i.history,u=il.Pop,f=null,h=p();h==null&&(h=0,c.replaceState(Uh({},c.state,{idx:h}),""));function p(){return(c.state||{idx:null}).idx}function v(){u=il.Pop;let N=p(),S=N==null?null:N-h;h=N,f&&f({action:u,location:E.location,delta:S})}function y(N,S){u=il.Push;let D=vw(E.location,N,S);h=p()+1;let R=q2(D,h),I=E.createHref(D);try{c.pushState(R,"",I)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(I)}s&&f&&f({action:u,location:E.location,delta:1})}function w(N,S){u=il.Replace;let D=vw(E.location,N,S);h=p();let R=q2(D,h),I=E.createHref(D);c.replaceState(R,"",I),s&&f&&f({action:u,location:E.location,delta:0})}function j(N){let S=i.location.origin!=="null"?i.location.origin:i.location.href,D=typeof N=="string"?N:vg(N);return D=D.replace(/ $/,"%20"),jn(S,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,S)}let E={get action(){return u},get location(){return t(i,c)},listen(N){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(U2,v),f=N,()=>{i.removeEventListener(U2,v),f=null}},createHref(N){return e(i,N)},createURL:j,encodeLocation(N){let S=j(N);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:w,go(N){return c.go(N)}};return E}var B2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(B2||(B2={}));function P8(t,e,n){return n===void 0&&(n="/"),O8(t,e,n)}function O8(t,e,n,r){let i=typeof e=="string"?Vd(e):e,s=ij(i.pathname||"/",n);if(s==null)return null;let c=nz(t);I8(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=F8(s);u=q8(c[f],h)}return u}function nz(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,c,u)=>{let f={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};f.relativePath.startsWith("/")&&(jn(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let h=ll([r,f.relativePath]),p=n.concat(f);s.children&&s.children.length>0&&(jn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),nz(s.children,e,p,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:V8(h,s.index),routesMeta:p})};return t.forEach((s,c)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,c);else for(let f of rz(s.path))i(s,c,f)}),e}function rz(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let c=rz(r.join("/")),u=[];return u.push(...c.map(f=>f===""?s:[s,f].join("/"))),i&&u.push(...c),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function I8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:U8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const R8=/^:[\w-]+$/,D8=3,k8=2,M8=1,z8=10,L8=-2,$2=t=>t==="*";function V8(t,e){let n=t.split("/"),r=n.length;return n.some($2)&&(r+=L8),e&&(r+=k8),n.filter(i=>!$2(i)).reduce((i,s)=>i+(R8.test(s)?D8:s===""?M8:z8),r)}function U8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function q8(t,e,n){let{routesMeta:r}=t,i={},s="/",c=[];for(let u=0;u<r.length;++u){let f=r[u],h=u===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",v=B8({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),y=f.route;if(!v)return null;Object.assign(i,v.params),c.push({params:i,pathname:ll([s,v.pathname]),pathnameBase:Q8(ll([s,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(s=ll([s,v.pathnameBase]))}return c}function B8(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],c=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,p,v)=>{let{paramName:y,isOptional:w}=p;if(y==="*"){let E=u[v]||"";c=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const j=u[v];return w&&!j?h[y]=void 0:h[y]=(j||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:c,pattern:t}}function $8(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),rj(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function F8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rj(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ij(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const H8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K8=t=>H8.test(t);function G8(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Vd(t):t,s;if(n)if(K8(n))s=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),rj(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+n))}n.startsWith("/")?s=F2(n.substring(1),"/"):s=F2(n,e)}else s=e;return{pathname:s,search:Y8(r),hash:X8(i)}}function F2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function dx(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function W8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function aj(t,e){let n=W8(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function sj(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Vd(t):(i=Uh({},t),jn(!i.pathname||!i.pathname.includes("?"),dx("?","pathname","search",i)),jn(!i.pathname||!i.pathname.includes("#"),dx("#","pathname","hash",i)),jn(!i.search||!i.search.includes("#"),dx("#","search","hash",i)));let s=t===""||i.pathname==="",c=s?"/":i.pathname,u;if(c==null)u=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),v-=1;i.pathname=y.join("/")}u=v>=0?e[v]:"/"}let f=G8(i,u),h=c&&c!=="/"&&c.endsWith("/"),p=(s||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}const ll=t=>t.join("/").replace(/\/\/+/g,"/"),Q8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Y8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,X8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Z8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const iz=["post","put","patch","delete"];new Set(iz);const J8=["get",...iz];new Set(J8);function qh(){return qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qh.apply(this,arguments)}const oj=_.createContext(null),eB=_.createContext(null),Sl=_.createContext(null),Vy=_.createContext(null),eo=_.createContext({outlet:null,matches:[],isDataRoute:!1}),az=_.createContext(null);function tB(t,e){let{relative:n}=e===void 0?{}:e;Ud()||jn(!1);let{basename:r,navigator:i}=_.useContext(Sl),{hash:s,pathname:c,search:u}=lz(t,{relative:n}),f=c;return r!=="/"&&(f=c==="/"?r:ll([r,c])),i.createHref({pathname:f,search:u,hash:s})}function Ud(){return _.useContext(Vy)!=null}function Tl(){return Ud()||jn(!1),_.useContext(Vy).location}function sz(t){_.useContext(Sl).static||_.useLayoutEffect(t)}function to(){let{isDataRoute:t}=_.useContext(eo);return t?mB():nB()}function nB(){Ud()||jn(!1);let t=_.useContext(oj),{basename:e,future:n,navigator:r}=_.useContext(Sl),{matches:i}=_.useContext(eo),{pathname:s}=Tl(),c=JSON.stringify(aj(i,n.v7_relativeSplatPath)),u=_.useRef(!1);return sz(()=>{u.current=!0}),_.useCallback(function(h,p){if(p===void 0&&(p={}),!u.current)return;if(typeof h=="number"){r.go(h);return}let v=sj(h,JSON.parse(c),s,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ll([e,v.pathname])),(p.replace?r.replace:r.push)(v,p.state,p)},[e,r,c,s,t])}function oz(){let{matches:t}=_.useContext(eo),e=t[t.length-1];return e?e.params:{}}function lz(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=_.useContext(Sl),{matches:i}=_.useContext(eo),{pathname:s}=Tl(),c=JSON.stringify(aj(i,r.v7_relativeSplatPath));return _.useMemo(()=>sj(t,JSON.parse(c),s,n==="path"),[t,c,s,n])}function rB(t,e){return iB(t,e)}function iB(t,e,n,r){Ud()||jn(!1);let{navigator:i}=_.useContext(Sl),{matches:s}=_.useContext(eo),c=s[s.length-1],u=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let h=Tl(),p;if(e){var v;let N=typeof e=="string"?Vd(e):e;f==="/"||(v=N.pathname)!=null&&v.startsWith(f)||jn(!1),p=N}else p=h;let y=p.pathname||"/",w=y;if(f!=="/"){let N=f.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(N.length).join("/")}let j=P8(t,{pathname:w}),E=cB(j&&j.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:ll([f,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?f:ll([f,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,n,r);return e&&E?_.createElement(Vy.Provider,{value:{location:qh({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:il.Pop}},E):E}function aB(){let t=hB(),e=Z8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,null)}const sB=_.createElement(aB,null);class oB extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(eo.Provider,{value:this.props.routeContext},_.createElement(az.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lB(t){let{routeContext:e,match:n,children:r}=t,i=_.useContext(oj);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(eo.Provider,{value:e},r)}function cB(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let p=c.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);p>=0||jn(!1),c=c.slice(0,Math.min(c.length,p+1))}let f=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<c.length;p++){let v=c[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=p),v.route.id){let{loaderData:y,errors:w}=n,j=v.route.loader&&y[v.route.id]===void 0&&(!w||w[v.route.id]===void 0);if(v.route.lazy||j){f=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((p,v,y)=>{let w,j=!1,E=null,N=null;n&&(w=u&&v.route.id?u[v.route.id]:void 0,E=v.route.errorElement||sB,f&&(h<0&&y===0?(pB("route-fallback"),j=!0,N=null):h===y&&(j=!0,N=v.route.hydrateFallbackElement||null)));let S=e.concat(c.slice(0,y+1)),D=()=>{let R;return w?R=E:j?R=N:v.route.Component?R=_.createElement(v.route.Component,null):v.route.element?R=v.route.element:R=p,_.createElement(lB,{match:v,routeContext:{outlet:p,matches:S,isDataRoute:n!=null},children:R})};return n&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?_.createElement(oB,{location:n.location,revalidation:n.revalidation,component:E,error:w,children:D(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):D()},null)}var cz=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(cz||{}),uz=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(uz||{});function uB(t){let e=_.useContext(oj);return e||jn(!1),e}function dB(t){let e=_.useContext(eB);return e||jn(!1),e}function fB(t){let e=_.useContext(eo);return e||jn(!1),e}function dz(t){let e=fB(),n=e.matches[e.matches.length-1];return n.route.id||jn(!1),n.route.id}function hB(){var t;let e=_.useContext(az),n=dB(),r=dz();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function mB(){let{router:t}=uB(cz.UseNavigateStable),e=dz(uz.UseNavigateStable),n=_.useRef(!1);return sz(()=>{n.current=!0}),_.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,qh({fromRouteId:e},s)))},[t,e])}const H2={};function pB(t,e,n){H2[t]||(H2[t]=!0)}function vB(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function gB(t){let{to:e,replace:n,state:r,relative:i}=t;Ud()||jn(!1);let{future:s,static:c}=_.useContext(Sl),{matches:u}=_.useContext(eo),{pathname:f}=Tl(),h=to(),p=sj(e,aj(u,s.v7_relativeSplatPath),f,i==="path"),v=JSON.stringify(p);return _.useEffect(()=>h(JSON.parse(v),{replace:n,state:r,relative:i}),[h,v,i,n,r]),null}function qn(t){jn(!1)}function yB(t){let{basename:e="/",children:n=null,location:r,navigationType:i=il.Pop,navigator:s,static:c=!1,future:u}=t;Ud()&&jn(!1);let f=e.replace(/^\/*/,"/"),h=_.useMemo(()=>({basename:f,navigator:s,static:c,future:qh({v7_relativeSplatPath:!1},u)}),[f,u,s,c]);typeof r=="string"&&(r=Vd(r));let{pathname:p="/",search:v="",hash:y="",state:w=null,key:j="default"}=r,E=_.useMemo(()=>{let N=ij(p,f);return N==null?null:{location:{pathname:N,search:v,hash:y,state:w,key:j},navigationType:i}},[f,p,v,y,w,j,i]);return E==null?null:_.createElement(Sl.Provider,{value:h},_.createElement(Vy.Provider,{children:n,value:E}))}function bB(t){let{children:e,location:n}=t;return rB(gw(e),n)}new Promise(()=>{});function gw(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let s=[...e,i];if(r.type===_.Fragment){n.push.apply(n,gw(r.props.children,s));return}r.type!==qn&&jn(!1),!r.props.index||!r.props.children||jn(!1);let c={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=gw(r.props.children,s)),n.push(c)}),n}function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yw.apply(this,arguments)}function _B(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function xB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wB(t,e){return t.button===0&&(!e||e==="_self")&&!xB(t)}const EB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jB="6";try{window.__reactRouterVersion=jB}catch{}const NB="startTransition",K2=ez[NB];function AB(t){let{basename:e,children:n,future:r,window:i}=t,s=_.useRef();s.current==null&&(s.current=S8({window:i,v5Compat:!0}));let c=s.current,[u,f]=_.useState({action:c.action,location:c.location}),{v7_startTransition:h}=r||{},p=_.useCallback(v=>{h&&K2?K2(()=>f(v)):f(v)},[f,h]);return _.useLayoutEffect(()=>c.listen(p),[c,p]),_.useEffect(()=>vB(r),[r]),_.createElement(yB,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:c,future:r})}const SB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,We=_.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:c,state:u,target:f,to:h,preventScrollReset:p,viewTransition:v}=e,y=_B(e,EB),{basename:w}=_.useContext(Sl),j,E=!1;if(typeof h=="string"&&TB.test(h)&&(j=h,SB))try{let R=new URL(window.location.href),I=h.startsWith("//")?new URL(R.protocol+h):new URL(h),$=ij(I.pathname,w);I.origin===R.origin&&$!=null?h=$+I.search+I.hash:E=!0}catch{}let N=tB(h,{relative:i}),S=CB(h,{replace:c,state:u,target:f,preventScrollReset:p,relative:i,viewTransition:v});function D(R){r&&r(R),R.defaultPrevented||S(R)}return _.createElement("a",yw({},y,{href:j||N,onClick:E||s?r:D,ref:n,target:f}))});var G2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(G2||(G2={}));var W2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(W2||(W2={}));function CB(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:c,viewTransition:u}=e===void 0?{}:e,f=to(),h=Tl(),p=lz(t,{relative:c});return _.useCallback(v=>{if(wB(v,n)){v.preventDefault();let y=r!==void 0?r:vg(h)===vg(p);f(t,{replace:y,state:i,preventScrollReset:s,relative:c,viewTransition:u})}},[h,f,p,r,i,n,t,s,c,u])}const PB=()=>{};var Q2={};const fz=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},OB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],c=t[n++],u=t[n++],f=((i&7)<<18|(s&63)<<12|(c&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|c&63)}}return e.join("")},hz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],c=i+1<t.length,u=c?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,p=s>>2,v=(s&3)<<4|u>>4;let y=(u&15)<<2|h>>6,w=h&63;f||(w=64,c||(y=64)),r.push(n[p],n[v],n[y],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fz(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||h==null||v==null)throw new IB;const y=s<<2|u>>4;if(r.push(y),h!==64){const w=u<<4&240|h>>2;if(r.push(w),v!==64){const j=h<<6&192|v;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RB=function(t){const e=fz(t);return hz.encodeByteArray(e,!0)},gg=function(t){return RB(t).replace(/\./g,"")},mz=function(t){try{return hz.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function DB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const kB=()=>DB().__FIREBASE_DEFAULTS__,MB=()=>{if(typeof process>"u"||typeof Q2>"u")return;const t=Q2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mz(t[1]);return e&&JSON.parse(e)},Uy=()=>{try{return PB()||kB()||MB()||zB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pz=t=>Uy()?.emulatorHosts?.[t],vz=t=>{const e=pz(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gz=()=>Uy()?.config,yz=t=>Uy()?.[`_${t}`];class LB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Cl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lj(t){return(await fetch(t,{credentials:"include"})).ok}function bz(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[gg(JSON.stringify(n)),gg(JSON.stringify(c)),""].join(".")}const Ph={};function VB(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ph))Ph[e]?t.emulator.push(e):t.prod.push(e);return t}function UB(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Y2=!1;function cj(t,e){if(typeof window>"u"||typeof document>"u"||!Cl(window.location.host)||Ph[t]===e||Ph[t]||Y2)return;Ph[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=VB().prod.length>0;function c(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,w){y.setAttribute("width","24"),y.setAttribute("id",w),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{Y2=!0,c()},y}function p(y,w){y.setAttribute("id",w),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function v(){const y=UB(r),w=n("text"),j=document.getElementById(w)||document.createElement("span"),E=n("learnmore"),N=document.getElementById(E)||document.createElement("a"),S=n("preprendIcon"),D=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const R=y.element;u(R),p(N,E);const I=h();f(D,S),R.append(D,j,N,I),document.body.appendChild(R)}s?(j.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Sr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sr())}function BB(){const t=Uy()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $B(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KB(){const t=Sr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GB(){return!BB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WB(){try{return typeof indexedDB=="object"}catch{return!1}}function QB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const YB="FirebaseError";class as extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YB,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vm.prototype.create)}}class vm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],c=s?XB(s,r):"Error",u=`${this.serviceName}: ${c} (${i}).`;return new as(i,u,r)}}function XB(t,e){return t.replace(ZB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ZB=/\{\$([^}]+)}/g;function JB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],c=e[i];if(X2(s)&&X2(c)){if(!Vc(s,c))return!1}else if(s!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function X2(t){return t!==null&&typeof t=="object"}function gm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _h(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function xh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function e$(t,e){const n=new t$(t,e);return n.subscribe.bind(n)}class t${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");n$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=fx),i.error===void 0&&(i.error=fx),i.complete===void 0&&(i.complete=fx);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function n$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fx(){}function Ft(t){return t&&t._delegate?t._delegate:t}class vl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const vc="[DEFAULT]";let r$=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new LB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a$(e))try{this.getOrInitializeService({instanceIdentifier:vc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=vc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vc){return this.instances.has(e)}getOptions(e=vc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&c.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:i$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vc){return this.component?this.component.multipleInstances?e:vc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function i$(t){return t===vc?void 0:t}function a$(t){return t.instantiationMode==="EAGER"}class s${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new r$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const o$={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},l$=lt.INFO,c$={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},u$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=c$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uj{constructor(e){this.name=e,this._logLevel=l$,this._logHandler=u$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?o$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const d$=(t,e)=>e.some(n=>t instanceof n);let Z2,J2;function f$(){return Z2||(Z2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h$(){return J2||(J2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _z=new WeakMap,bw=new WeakMap,xz=new WeakMap,hx=new WeakMap,dj=new WeakMap;function m$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",c)},s=()=>{n(cl(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&_z.set(n,t)}).catch(()=>{}),dj.set(e,t),e}function p$(t){if(bw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",c),t.removeEventListener("abort",c)},s=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",c),t.addEventListener("abort",c)});bw.set(t,e)}let _w={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xz.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function v$(t){_w=t(_w)}function g$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mx(this),e,...n);return xz.set(r,e.sort?e.sort():[e]),cl(r)}:h$().includes(t)?function(...e){return t.apply(mx(this),e),cl(_z.get(this))}:function(...e){return cl(t.apply(mx(this),e))}}function y$(t){return typeof t=="function"?g$(t):(t instanceof IDBTransaction&&p$(t),d$(t,f$())?new Proxy(t,_w):t)}function cl(t){if(t instanceof IDBRequest)return m$(t);if(hx.has(t))return hx.get(t);const e=y$(t);return e!==t&&(hx.set(t,e),dj.set(e,t)),e}const mx=t=>dj.get(t);function b$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const c=indexedDB.open(t,e),u=cl(c);return r&&c.addEventListener("upgradeneeded",f=>{r(cl(c.result),f.oldVersion,f.newVersion,cl(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const _$=["get","getKey","getAll","getAllKeys","count"],x$=["put","add","delete","clear"],px=new Map;function eP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(px.get(e))return px.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=x$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_$.includes(n)))return;const s=async function(c,...u){const f=this.transaction(c,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&f.done]))[0]};return px.set(e,s),s}v$(t=>({...t,get:(e,n,r)=>eP(e,n)||t.get(e,n,r),has:(e,n)=>!!eP(e,n)||t.has(e,n)}));class w${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(E$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function E$(t){return t.getComponent()?.type==="VERSION"}const xw="@firebase/app",tP="0.14.7";const Bs=new uj("@firebase/app"),j$="@firebase/app-compat",N$="@firebase/analytics-compat",A$="@firebase/analytics",S$="@firebase/app-check-compat",T$="@firebase/app-check",C$="@firebase/auth",P$="@firebase/auth-compat",O$="@firebase/database",I$="@firebase/data-connect",R$="@firebase/database-compat",D$="@firebase/functions",k$="@firebase/functions-compat",M$="@firebase/installations",z$="@firebase/installations-compat",L$="@firebase/messaging",V$="@firebase/messaging-compat",U$="@firebase/performance",q$="@firebase/performance-compat",B$="@firebase/remote-config",$$="@firebase/remote-config-compat",F$="@firebase/storage",H$="@firebase/storage-compat",K$="@firebase/firestore",G$="@firebase/ai",W$="@firebase/firestore-compat",Q$="firebase",Y$="12.8.0";const ww="[DEFAULT]",X$={[xw]:"fire-core",[j$]:"fire-core-compat",[A$]:"fire-analytics",[N$]:"fire-analytics-compat",[T$]:"fire-app-check",[S$]:"fire-app-check-compat",[C$]:"fire-auth",[P$]:"fire-auth-compat",[O$]:"fire-rtdb",[I$]:"fire-data-connect",[R$]:"fire-rtdb-compat",[D$]:"fire-fn",[k$]:"fire-fn-compat",[M$]:"fire-iid",[z$]:"fire-iid-compat",[L$]:"fire-fcm",[V$]:"fire-fcm-compat",[U$]:"fire-perf",[q$]:"fire-perf-compat",[B$]:"fire-rc",[$$]:"fire-rc-compat",[F$]:"fire-gcs",[H$]:"fire-gcs-compat",[K$]:"fire-fst",[W$]:"fire-fst-compat",[G$]:"fire-vertex","fire-js":"fire-js",[Q$]:"fire-js-all"};const yg=new Map,Z$=new Map,Ew=new Map;function nP(t,e){try{t.container.addComponent(e)}catch(n){Bs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Uc(t){const e=t.name;if(Ew.has(e))return Bs.debug(`There were multiple attempts to register component ${e}.`),!1;Ew.set(e,t);for(const n of yg.values())nP(n,t);for(const n of Z$.values())nP(n,t);return!0}function qy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mi(t){return t==null?!1:t.settings!==void 0}const J$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ul=new vm("app","Firebase",J$);class e7{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ul.create("app-deleted",{appName:this._name})}}const ru=Y$;function wz(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ww,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ul.create("bad-app-name",{appName:String(i)});if(n||(n=gz()),!n)throw ul.create("no-options");const s=yg.get(i);if(s){if(Vc(n,s.options)&&Vc(r,s.config))return s;throw ul.create("duplicate-app",{appName:i})}const c=new s$(i);for(const f of Ew.values())c.addComponent(f);const u=new e7(n,r,c);return yg.set(i,u),u}function fj(t=ww){const e=yg.get(t);if(!e&&t===ww&&gz())return wz();if(!e)throw ul.create("no-app",{appName:t});return e}function Ha(t,e,n){let r=X$[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bs.warn(c.join(" "));return}Uc(new vl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const t7="firebase-heartbeat-database",n7=1,Bh="firebase-heartbeat-store";let vx=null;function Ez(){return vx||(vx=b$(t7,n7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ul.create("idb-open",{originalErrorMessage:t.message})})),vx}async function r7(t){try{const n=(await Ez()).transaction(Bh),r=await n.objectStore(Bh).get(jz(t));return await n.done,r}catch(e){if(e instanceof as)Bs.warn(e.message);else{const n=ul.create("idb-get",{originalErrorMessage:e?.message});Bs.warn(n.message)}}}async function rP(t,e){try{const r=(await Ez()).transaction(Bh,"readwrite");await r.objectStore(Bh).put(e,jz(t)),await r.done}catch(n){if(n instanceof as)Bs.warn(n.message);else{const r=ul.create("idb-set",{originalErrorMessage:n?.message});Bs.warn(r.message)}}}function jz(t){return`${t.name}!${t.options.appId}`}const i7=1024,a7=30;class s7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new l7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=iP();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>a7){const i=c7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Bs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=iP(),{heartbeatsToSend:n,unsentEntries:r}=o7(this._heartbeatsCache.heartbeats),i=gg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Bs.warn(e),""}}}function iP(){return new Date().toISOString().substring(0,10)}function o7(t,e=i7){const n=[];let r=t.slice();for(const i of t){const s=n.find(c=>c.agent===i.agent);if(s){if(s.dates.push(i.date),aP(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),aP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class l7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WB()?QB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await r7(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function aP(t){return gg(JSON.stringify({version:2,heartbeats:t})).length}function c7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function u7(t){Uc(new vl("platform-logger",e=>new w$(e),"PRIVATE")),Uc(new vl("heartbeat",e=>new s7(e),"PRIVATE")),Ha(xw,tP,t),Ha(xw,tP,"esm2020"),Ha("fire-js","")}u7("");function Nz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d7=Nz,Az=new vm("auth","Firebase",Nz());const bg=new uj("@firebase/auth");function f7(t,...e){bg.logLevel<=lt.WARN&&bg.warn(`Auth (${ru}): ${t}`,...e)}function Jv(t,...e){bg.logLevel<=lt.ERROR&&bg.error(`Auth (${ru}): ${t}`,...e)}function ha(t,...e){throw hj(t,...e)}function Ka(t,...e){return hj(t,...e)}function Sz(t,e,n){const r={...d7(),[e]:n};return new vm("auth","Firebase",r).create(e,{appName:t.name})}function zs(t){return Sz(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hj(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Az.create(t,...e)}function He(t,e,...n){if(!t)throw hj(e,...n)}function Os(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jv(e),new Error(e)}function $s(t,e){t||Os(e)}function jw(){return typeof self<"u"&&self.location?.href||""}function h7(){return sP()==="http:"||sP()==="https:"}function sP(){return typeof self<"u"&&self.location?.protocol||null}function m7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h7()||FB()||"connection"in navigator)?navigator.onLine:!0}function p7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class ym{constructor(e,n){this.shortDelay=e,this.longDelay=n,$s(n>e,"Short delay should be less than long delay!"),this.isMobile=qB()||HB()}get(){return m7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mj(t,e){$s(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Tz{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const v7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const g7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],y7=new ym(3e4,6e4);function Pl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function no(t,e,n,r,i={}){return Cz(t,i,async()=>{let s={},c={};r&&(e==="GET"?c=r:s={body:JSON.stringify(r)});const u=gm({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return $B()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Cl(t.emulatorConfig.host)&&(h.credentials="include"),Tz.fetch()(await Pz(t,t.config.apiHost,n,u),h)})}async function Cz(t,e,n){t._canInitEmulator=!1;const r={...v7,...e};try{const i=new _7(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const c=await s.json();if("needConfirmation"in c)throw jv(t,"account-exists-with-different-credential",c);if(s.ok&&!("errorMessage"in c))return c;{const u=s.ok?c.errorMessage:c.error.message,[f,h]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw jv(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw jv(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw jv(t,"user-disabled",c);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Sz(t,p,h);ha(t,p)}}catch(i){if(i instanceof as)throw i;ha(t,"network-request-failed",{message:String(i)})}}async function bm(t,e,n,r,i={}){const s=await no(t,e,n,r,i);return"mfaPendingCredential"in s&&ha(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Pz(t,e,n,r){const i=`${e}${n}?${r}`,s=t,c=s.config.emulator?mj(t.config,i):`${t.config.apiScheme}://${i}`;return g7.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(c).toString():c}function b7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ka(this.auth,"network-request-failed")),y7.get())})}}function jv(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ka(t,e,r);return i.customData._tokenResponse=n,i}function oP(t){return t!==void 0&&t.enterprise!==void 0}class x7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return b7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function w7(t,e){return no(t,"GET","/v2/recaptchaConfig",Pl(t,e))}async function E7(t,e){return no(t,"POST","/v1/accounts:delete",e)}async function _g(t,e){return no(t,"POST","/v1/accounts:lookup",e)}function Oh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function j7(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),i=pj(r);He(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,c=s?.sign_in_provider;return{claims:i,token:r,authTime:Oh(gx(i.auth_time)),issuedAtTime:Oh(gx(i.iat)),expirationTime:Oh(gx(i.exp)),signInProvider:c||null,signInSecondFactor:s?.sign_in_second_factor||null}}function gx(t){return Number(t)*1e3}function pj(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jv("JWT malformed, contained fewer than 3 sections"),null;try{const i=mz(n);return i?JSON.parse(i):(Jv("Failed to decode base64 JWT payload"),null)}catch(i){return Jv("Caught error parsing JWT payload as JSON",i?.toString()),null}}function lP(t){const e=pj(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ed(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof as&&N7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function N7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class A7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Nw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oh(this.lastLoginAt),this.creationTime=Oh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xg(t){const e=t.auth,n=await t.getIdToken(),r=await Ed(t,_g(e,{idToken:n}));He(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?Oz(i.providerUserInfo):[],c=T7(t.providerData,s),u=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!c?.length,h=u?f:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new Nw(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function S7(t){const e=Ft(t);await xg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function T7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Oz(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function C7(t,e){const n=await Cz(t,{},async()=>{const r=gm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,c=await Pz(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return t.emulatorConfig&&Cl(t.emulatorConfig.host)&&(f.credentials="include"),Tz.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function P7(t,e){return no(t,"POST","/v2/accounts:revokeToken",Pl(t,e))}class pd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=lP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await C7(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,c=new pd;return r&&(He(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(He(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),s&&(He(typeof s=="number","internal-error",{appName:e}),c.expirationTime=s),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pd,this.toJSON())}_performRefresh(){return Os("not implemented")}}function Ko(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ua{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new A7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Nw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ed(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return j7(this,e)}reload(){return S7(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ua({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mi(this.auth.app))return Promise.reject(zs(this.auth));const e=await this.getIdToken();return await Ed(this,E7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,c=n.photoURL??void 0,u=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:v,emailVerified:y,isAnonymous:w,providerData:j,stsTokenManager:E}=n;He(v&&E,e,"internal-error");const N=pd.fromJSON(this.name,E);He(typeof v=="string",e,"internal-error"),Ko(r,e.name),Ko(i,e.name),He(typeof y=="boolean",e,"internal-error"),He(typeof w=="boolean",e,"internal-error"),Ko(s,e.name),Ko(c,e.name),Ko(u,e.name),Ko(f,e.name),Ko(h,e.name),Ko(p,e.name);const S=new ua({uid:v,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:w,photoURL:c,phoneNumber:s,tenantId:u,stsTokenManager:N,createdAt:h,lastLoginAt:p});return j&&Array.isArray(j)&&(S.providerData=j.map(D=>({...D}))),f&&(S._redirectEventId=f),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new pd;i.updateFromServerResponse(n);const s=new ua({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await xg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];He(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Oz(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!s?.length,u=new pd;u.updateFromIdToken(r);const f=new ua({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:c}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Nw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(f,h),f}}const cP=new Map;function Is(t){$s(t instanceof Function,"Expected a class definition");let e=cP.get(t);return e?($s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cP.set(t,e),e)}class Iz{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Iz.type="NONE";const uP=Iz;function eg(t,e,n){return`firebase:${t}:${e}:${n}`}class vd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=eg(this.userKey,i.apiKey,s),this.fullPersistenceKey=eg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _g(this.auth,{idToken:e}).catch(()=>{});return n?ua._fromGetAccountInfoResponse(this.auth,n,e):null}return ua._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new vd(Is(uP),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Is(uP);const c=eg(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const p=await h._get(c);if(p){let v;if(typeof p=="string"){const y=await _g(e,{idToken:p}).catch(()=>{});if(!y)break;v=await ua._fromGetAccountInfoResponse(e,y,p)}else v=ua._fromJSON(e,p);h!==s&&(u=v),s=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new vd(s,e,r):(s=f[0],u&&await s._set(c,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(c)}catch{}})),new vd(s,e,r))}}function dP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Mz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Rz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lz(e))return"Blackberry";if(Vz(e))return"Webos";if(Dz(e))return"Safari";if((e.includes("chrome/")||kz(e))&&!e.includes("edge/"))return"Chrome";if(zz(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Rz(t=Sr()){return/firefox\//i.test(t)}function Dz(t=Sr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kz(t=Sr()){return/crios\//i.test(t)}function Mz(t=Sr()){return/iemobile/i.test(t)}function zz(t=Sr()){return/android/i.test(t)}function Lz(t=Sr()){return/blackberry/i.test(t)}function Vz(t=Sr()){return/webos/i.test(t)}function vj(t=Sr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function O7(t=Sr()){return vj(t)&&!!window.navigator?.standalone}function I7(){return KB()&&document.documentMode===10}function Uz(t=Sr()){return vj(t)||zz(t)||Vz(t)||Lz(t)||/windows phone/i.test(t)||Mz(t)}function qz(t,e=[]){let n;switch(t){case"Browser":n=dP(Sr());break;case"Worker":n=`${dP(Sr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ru}/${r}`}class R7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((c,u)=>{try{const f=e(s);c(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function D7(t,e={}){return no(t,"GET","/v2/passwordPolicy",Pl(t,e))}const k7=6;class M7{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??k7,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class z7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fP(this),this.idTokenSubscription=new fP(this),this.beforeStateQueue=new R7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Az,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Is(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vd.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _g(this,{idToken:e}),r=await ua._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(mi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,c=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=p7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mi(this.app))return Promise.reject(zs(this));const n=e?Ft(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mi(this.app)?Promise.reject(zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mi(this.app)?Promise.reject(zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await D7(this),n=new M7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await P7(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Is(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await vd.create(this,[Is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(u,this,"internal-error"),u.then(()=>{c||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&f7(`Error while retrieving App Check token: ${e.error}`),e?.token}}function iu(t){return Ft(t)}class fP{constructor(e){this.auth=e,this.observer=null,this.addObserver=e$(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let By={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function L7(t){By=t}function Bz(t){return By.loadJS(t)}function V7(){return By.recaptchaEnterpriseScript}function U7(){return By.gapiScript}function q7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class B7{constructor(){this.enterprise=new $7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class $7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const F7="recaptcha-enterprise",$z="NO_RECAPTCHA";class H7{constructor(e){this.type=F7,this.auth=iu(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(c,u)=>{w7(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new x7(f);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,c(h.siteKey)}}).catch(f=>{u(f)})})}function i(s,c,u){const f=window.grecaptcha;oP(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(h=>{c(h)}).catch(()=>{c($z)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new B7().execute("siteKey",{action:"verify"}):new Promise((s,c)=>{r(this.auth).then(u=>{if(!n&&oP(window.grecaptcha))i(u,s,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=V7();f.length!==0&&(f+=u),Bz(f).then(()=>{i(u,s,c)}).catch(h=>{c(h)})}}).catch(u=>{c(u)})})}}async function hP(t,e,n,r=!1,i=!1){const s=new H7(t);let c;if(i)c=$z;else try{c=await s.verify(n)}catch{c=await s.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Aw(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await hP(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await hP(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(s)})}function K7(t,e){const n=qy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Vc(s,e??{}))return i;ha(i,"already-initialized")}return n.initialize({options:e})}function G7(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Is);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function W7(t,e,n){const r=iu(t);He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Fz(e),{host:c,port:u}=Q7(e),f=u===null?"":`:${u}`,h={url:`${s}//${c}${f}/`},p=Object.freeze({host:c,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){He(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),He(Vc(h,r.config.emulator)&&Vc(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Cl(c)?(lj(`${s}//${c}${f}`),cj("Auth",!0)):Y7()}function Fz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Q7(t){const e=Fz(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:mP(r.substr(s.length+1))}}else{const[s,c]=r.split(":");return{host:s,port:mP(c)}}}function mP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Y7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class gj{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Os("not implemented")}_getIdTokenResponse(e){return Os("not implemented")}_linkToIdToken(e,n){return Os("not implemented")}_getReauthenticationResolver(e){return Os("not implemented")}}async function X7(t,e){return no(t,"POST","/v1/accounts:signUp",e)}async function Z7(t,e){return bm(t,"POST","/v1/accounts:signInWithPassword",Pl(t,e))}async function J7(t,e){return bm(t,"POST","/v1/accounts:signInWithEmailLink",Pl(t,e))}async function eF(t,e){return bm(t,"POST","/v1/accounts:signInWithEmailLink",Pl(t,e))}class $h extends gj{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new $h(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new $h(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Aw(e,n,"signInWithPassword",Z7);case"emailLink":return J7(e,{email:this._email,oobCode:this._password});default:ha(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Aw(e,r,"signUpPassword",X7);case"emailLink":return eF(e,{idToken:n,email:this._email,oobCode:this._password});default:ha(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function gd(t,e){return bm(t,"POST","/v1/accounts:signInWithIdp",Pl(t,e))}const tF="http://localhost";class qc extends gj{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ha("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const c=new qc(r,i);return c.idToken=s.idToken||void 0,c.accessToken=s.accessToken||void 0,c.secret=s.secret,c.nonce=s.nonce,c.pendingToken=s.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return gd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gd(e,n)}buildRequest(){const e={requestUri:tF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gm(n)}return e}}function nF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rF(t){const e=_h(xh(t)).link,n=e?_h(xh(e)).deep_link_id:null,r=_h(xh(t)).deep_link_id;return(r?_h(xh(r)).link:null)||r||n||e||t}class yj{constructor(e){const n=_h(xh(e)),r=n.apiKey??null,i=n.oobCode??null,s=nF(n.mode??null);He(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=rF(e);try{return new yj(n)}catch{return null}}}class qd{constructor(){this.providerId=qd.PROVIDER_ID}static credential(e,n){return $h._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=yj.parseLink(n);return He(r,"argument-error"),$h._fromEmailAndCode(e,r.code,r.tenantId)}}qd.PROVIDER_ID="password";qd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Hz{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _m extends Hz{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zo extends _m{constructor(){super("facebook.com")}static credential(e){return qc._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zo.credentialFromTaggedObject(e)}static credentialFromError(e){return Zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zo.credential(e.oauthAccessToken)}catch{return null}}}Zo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zo.PROVIDER_ID="facebook.com";class Jo extends _m{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qc._fromParams({providerId:Jo.PROVIDER_ID,signInMethod:Jo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jo.credentialFromTaggedObject(e)}static credentialFromError(e){return Jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Jo.credential(n,r)}catch{return null}}}Jo.GOOGLE_SIGN_IN_METHOD="google.com";Jo.PROVIDER_ID="google.com";class el extends _m{constructor(){super("github.com")}static credential(e){return qc._fromParams({providerId:el.PROVIDER_ID,signInMethod:el.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return el.credentialFromTaggedObject(e)}static credentialFromError(e){return el.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return el.credential(e.oauthAccessToken)}catch{return null}}}el.GITHUB_SIGN_IN_METHOD="github.com";el.PROVIDER_ID="github.com";class tl extends _m{constructor(){super("twitter.com")}static credential(e,n){return qc._fromParams({providerId:tl.PROVIDER_ID,signInMethod:tl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return tl.credentialFromTaggedObject(e)}static credentialFromError(e){return tl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return tl.credential(n,r)}catch{return null}}}tl.TWITTER_SIGN_IN_METHOD="twitter.com";tl.PROVIDER_ID="twitter.com";async function iF(t,e){return bm(t,"POST","/v1/accounts:signUp",Pl(t,e))}class Bc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ua._fromIdTokenResponse(e,r,i),c=pP(r);return new Bc({user:s,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=pP(r);return new Bc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function pP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class wg extends as{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new wg(e,n,r,i)}}function Kz(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wg._fromErrorAndOperation(t,s,e,r):s})}async function aF(t,e,n=!1){const r=await Ed(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bc._forOperation(t,"link",r)}async function sF(t,e,n=!1){const{auth:r}=t;if(mi(r.app))return Promise.reject(zs(r));const i="reauthenticate";try{const s=await Ed(t,Kz(r,i,e,t),n);He(s.idToken,r,"internal-error");const c=pj(s.idToken);He(c,r,"internal-error");const{sub:u}=c;return He(t.uid===u,r,"user-mismatch"),Bc._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ha(r,"user-mismatch"),s}}async function Gz(t,e,n=!1){if(mi(t.app))return Promise.reject(zs(t));const r="signIn",i=await Kz(t,r,e),s=await Bc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function oF(t,e){return Gz(iu(t),e)}async function Wz(t){const e=iu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lF(t,e,n){if(mi(t.app))return Promise.reject(zs(t));const r=iu(t),c=await Aw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iF).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Wz(t),f}),u=await Bc._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(u.user),u}function cF(t,e,n){return mi(t.app)?Promise.reject(zs(t)):oF(Ft(t),qd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Wz(t),r})}async function uF(t,e){return no(t,"POST","/v1/accounts:update",e)}async function dF(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ft(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Ed(r,uF(r.auth,s));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const u=r.providerData.find(({providerId:f})=>f==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function fF(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function hF(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function mF(t,e,n,r){return Ft(t).onAuthStateChanged(e,n,r)}function pF(t){return Ft(t).signOut()}const Eg="__sak";class Qz{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eg,"1"),this.storage.removeItem(Eg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const vF=1e3,gF=10;class Yz extends Qz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Uz(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,u,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);I7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,gF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Yz.type="LOCAL";const yF=Yz;class Xz extends Qz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Xz.type="SESSION";const Zz=Xz;function bF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class $y{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new $y(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,c=this.handlersMap[i];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(c).map(async h=>h(n.origin,s)),f=await bF(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$y.receivers=[];function bj(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class _F{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,c;return new Promise((u,f)=>{const h=bj("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(v){const y=v;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(y.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ga(){return window}function xF(t){Ga().location.href=t}function Jz(){return typeof Ga().WorkerGlobalScope<"u"&&typeof Ga().importScripts=="function"}async function wF(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EF(){return navigator?.serviceWorker?.controller||null}function jF(){return Jz()?self:null}const e4="firebaseLocalStorageDb",NF=1,jg="firebaseLocalStorage",t4="fbase_key";class xm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fy(t,e){return t.transaction([jg],e?"readwrite":"readonly").objectStore(jg)}function AF(){const t=indexedDB.deleteDatabase(e4);return new xm(t).toPromise()}function Sw(){const t=indexedDB.open(e4,NF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jg,{keyPath:t4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jg)?e(r):(r.close(),await AF(),e(await Sw()))})})}async function vP(t,e,n){const r=Fy(t,!0).put({[t4]:e,value:n});return new xm(r).toPromise()}async function SF(t,e){const n=Fy(t,!1).get(e),r=await new xm(n).toPromise();return r===void 0?null:r.value}function gP(t,e){const n=Fy(t,!0).delete(e);return new xm(n).toPromise()}const TF=800,CF=3;class n4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>CF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$y._getInstance(jF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wF(),!this.activeServiceWorker)return;this.sender=new _F(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sw();return await vP(e,Eg,"1"),await gP(e,Eg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>SF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Fy(i,!1).getAll();return new xm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n4.type="LOCAL";const PF=n4;new ym(3e4,6e4);function OF(t,e){return e?Is(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class _j extends gj{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IF(t){return Gz(t.auth,new _j(t),t.bypassAuthState)}function RF(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),sF(n,new _j(t),t.bypassAuthState)}async function DF(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),aF(n,new _j(t),t.bypassAuthState)}class r4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:c,type:u}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IF;case"linkViaPopup":case"linkViaRedirect":return DF;case"reauthViaPopup":case"reauthViaRedirect":return RF;default:ha(this.auth,"internal-error")}}resolve(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kF=new ym(2e3,1e4);class cd extends r4{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,cd.currentPopupAction&&cd.currentPopupAction.cancel(),cd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){$s(this.filter.length===1,"Popup operations only handle one event");const e=bj();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ka(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ka(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cd.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ka(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kF.get())};e()}}cd.currentPopupAction=null;const MF="pendingRedirect",tg=new Map;class zF extends r4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=tg.get(this.auth._key());if(!e){try{const r=await LF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}tg.set(this.auth._key(),e)}return this.bypassAuthState||tg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LF(t,e){const n=qF(e),r=UF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function VF(t,e){tg.set(t._key(),e)}function UF(t){return Is(t._redirectPersistence)}function qF(t){return eg(MF,t.config.apiKey,t.name)}async function BF(t,e,n=!1){if(mi(t.app))return Promise.reject(zs(t));const r=iu(t),i=OF(r,e),c=await new zF(r,i,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const $F=600*1e3;class FF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!i4(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ka(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$F&&this.cachedEventUids.clear(),this.cachedEventUids.has(yP(e))}saveEventToCache(e){this.cachedEventUids.add(yP(e)),this.lastProcessedEventTime=Date.now()}}function yP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function i4({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function HF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i4(t);default:return!1}}async function KF(t,e={}){return no(t,"GET","/v1/projects",e)}const GF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WF=/^https?/;async function QF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await KF(t);for(const n of e)try{if(YF(n))return}catch{}ha(t,"unauthorized-domain")}function YF(t){const e=jw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!WF.test(n))return!1;if(GF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const XF=new ym(3e4,6e4);function bP(){const t=Ga().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ZF(t){return new Promise((e,n)=>{function r(){bP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bP(),n(Ka(t,"network-request-failed"))},timeout:XF.get()})}if(Ga().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ga().gapi?.load)r();else{const i=q7("iframefcb");return Ga()[i]=()=>{gapi.load?r():n(Ka(t,"network-request-failed"))},Bz(`${U7()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw ng=null,e})}let ng=null;function JF(t){return ng=ng||ZF(t),ng}const eH=new ym(5e3,15e3),tH="__/auth/iframe",nH="emulator/auth/iframe",rH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aH(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?mj(e,nH):`https://${t.config.authDomain}/${tH}`,r={apiKey:e.apiKey,appName:t.name,v:ru},i=iH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${gm(r).slice(1)}`}async function sH(t){const e=await JF(t),n=Ga().gapi;return He(n,t,"internal-error"),e.open({where:document.body,url:aH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const c=Ka(t,"network-request-failed"),u=Ga().setTimeout(()=>{s(c)},eH.get());function f(){Ga().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{s(c)})}))}const oH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lH=500,cH=600,uH="_blank",dH="http://localhost";class _P{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fH(t,e,n,r=lH,i=cH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...oH,width:r.toString(),height:i.toString(),top:s,left:c},h=Sr().toLowerCase();n&&(u=kz(h)?uH:n),Rz(h)&&(e=e||dH,f.scrollbars="yes");const p=Object.entries(f).reduce((y,[w,j])=>`${y}${w}=${j},`,"");if(O7(h)&&u!=="_self")return hH(e||"",u),new _P(null);const v=window.open(e||"",u,p);He(v,t,"popup-blocked");try{v.focus()}catch{}return new _P(v)}function hH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const mH="__/auth/handler",pH="emulator/auth/handler",vH=encodeURIComponent("fac");async function xP(t,e,n,r,i,s){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ru,eventId:i};if(e instanceof Hz){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",JB(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries({}))c[p]=v}if(e instanceof _m){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(c.scopes=p.join(","))}t.tenantId&&(c.tid=t.tenantId);const u=c;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const f=await t._getAppCheckToken(),h=f?`#${vH}=${encodeURIComponent(f)}`:"";return`${gH(t)}?${gm(u).slice(1)}${h}`}function gH({config:t}){return t.emulator?mj(t,pH):`https://${t.authDomain}/${mH}`}const yx="webStorageSupport";class yH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zz,this._completeRedirectFn=BF,this._overrideRedirectResult=VF}async _openPopup(e,n,r,i){$s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await xP(e,n,r,jw(),i);return fH(e,s,bj())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await xP(e,n,r,jw(),i);return xF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):($s(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await sH(e),r=new FF(e);return n.register("authEvent",i=>(He(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yx,{type:yx},i=>{const s=i?.[0]?.[yx];s!==void 0&&n(!!s),ha(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Uz()||Dz()||vj()}}const bH=yH;var wP="@firebase/auth",EP="1.12.0";class _H{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wH(t){Uc(new vl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=r.options;He(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qz(t)},h=new z7(r,i,s,f);return G7(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Uc(new vl("auth-internal",e=>{const n=iu(e.getProvider("auth").getImmediate());return(r=>new _H(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ha(wP,EP,xH(t)),Ha(wP,EP,"esm2020")}const EH=300,jH=yz("authIdTokenMaxAge")||EH;let jP=null;const NH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jH)return;const i=n?.token;jP!==i&&(jP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function AH(t=fj()){const e=qy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=K7(t,{popupRedirectResolver:bH,persistence:[PF,yF,Zz]}),r=yz("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const c=NH(s.toString());hF(n,c,()=>c(n.currentUser)),fF(n,u=>c(u))}}const i=pz("auth");return i&&W7(n,`http://${i}`),n}function SH(){return document.getElementsByTagName("head")?.[0]??document}L7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ka("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",SH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wH("Browser");var NP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dl,a4;(function(){var t;function e(O,C){function k(){}k.prototype=C.prototype,O.F=C.prototype,O.prototype=new k,O.prototype.constructor=O,O.D=function(q,U,L){for(var M=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)M[ue-2]=arguments[ue];return C.prototype[U].apply(q,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,C,k){k||(k=0);const q=Array(16);if(typeof C=="string")for(var U=0;U<16;++U)q[U]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(U=0;U<16;++U)q[U]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=O.g[0],k=O.g[1],U=O.g[2];let L=O.g[3],M;M=C+(L^k&(U^L))+q[0]+3614090360&4294967295,C=k+(M<<7&4294967295|M>>>25),M=L+(U^C&(k^U))+q[1]+3905402710&4294967295,L=C+(M<<12&4294967295|M>>>20),M=U+(k^L&(C^k))+q[2]+606105819&4294967295,U=L+(M<<17&4294967295|M>>>15),M=k+(C^U&(L^C))+q[3]+3250441966&4294967295,k=U+(M<<22&4294967295|M>>>10),M=C+(L^k&(U^L))+q[4]+4118548399&4294967295,C=k+(M<<7&4294967295|M>>>25),M=L+(U^C&(k^U))+q[5]+1200080426&4294967295,L=C+(M<<12&4294967295|M>>>20),M=U+(k^L&(C^k))+q[6]+2821735955&4294967295,U=L+(M<<17&4294967295|M>>>15),M=k+(C^U&(L^C))+q[7]+4249261313&4294967295,k=U+(M<<22&4294967295|M>>>10),M=C+(L^k&(U^L))+q[8]+1770035416&4294967295,C=k+(M<<7&4294967295|M>>>25),M=L+(U^C&(k^U))+q[9]+2336552879&4294967295,L=C+(M<<12&4294967295|M>>>20),M=U+(k^L&(C^k))+q[10]+4294925233&4294967295,U=L+(M<<17&4294967295|M>>>15),M=k+(C^U&(L^C))+q[11]+2304563134&4294967295,k=U+(M<<22&4294967295|M>>>10),M=C+(L^k&(U^L))+q[12]+1804603682&4294967295,C=k+(M<<7&4294967295|M>>>25),M=L+(U^C&(k^U))+q[13]+4254626195&4294967295,L=C+(M<<12&4294967295|M>>>20),M=U+(k^L&(C^k))+q[14]+2792965006&4294967295,U=L+(M<<17&4294967295|M>>>15),M=k+(C^U&(L^C))+q[15]+1236535329&4294967295,k=U+(M<<22&4294967295|M>>>10),M=C+(U^L&(k^U))+q[1]+4129170786&4294967295,C=k+(M<<5&4294967295|M>>>27),M=L+(k^U&(C^k))+q[6]+3225465664&4294967295,L=C+(M<<9&4294967295|M>>>23),M=U+(C^k&(L^C))+q[11]+643717713&4294967295,U=L+(M<<14&4294967295|M>>>18),M=k+(L^C&(U^L))+q[0]+3921069994&4294967295,k=U+(M<<20&4294967295|M>>>12),M=C+(U^L&(k^U))+q[5]+3593408605&4294967295,C=k+(M<<5&4294967295|M>>>27),M=L+(k^U&(C^k))+q[10]+38016083&4294967295,L=C+(M<<9&4294967295|M>>>23),M=U+(C^k&(L^C))+q[15]+3634488961&4294967295,U=L+(M<<14&4294967295|M>>>18),M=k+(L^C&(U^L))+q[4]+3889429448&4294967295,k=U+(M<<20&4294967295|M>>>12),M=C+(U^L&(k^U))+q[9]+568446438&4294967295,C=k+(M<<5&4294967295|M>>>27),M=L+(k^U&(C^k))+q[14]+3275163606&4294967295,L=C+(M<<9&4294967295|M>>>23),M=U+(C^k&(L^C))+q[3]+4107603335&4294967295,U=L+(M<<14&4294967295|M>>>18),M=k+(L^C&(U^L))+q[8]+1163531501&4294967295,k=U+(M<<20&4294967295|M>>>12),M=C+(U^L&(k^U))+q[13]+2850285829&4294967295,C=k+(M<<5&4294967295|M>>>27),M=L+(k^U&(C^k))+q[2]+4243563512&4294967295,L=C+(M<<9&4294967295|M>>>23),M=U+(C^k&(L^C))+q[7]+1735328473&4294967295,U=L+(M<<14&4294967295|M>>>18),M=k+(L^C&(U^L))+q[12]+2368359562&4294967295,k=U+(M<<20&4294967295|M>>>12),M=C+(k^U^L)+q[5]+4294588738&4294967295,C=k+(M<<4&4294967295|M>>>28),M=L+(C^k^U)+q[8]+2272392833&4294967295,L=C+(M<<11&4294967295|M>>>21),M=U+(L^C^k)+q[11]+1839030562&4294967295,U=L+(M<<16&4294967295|M>>>16),M=k+(U^L^C)+q[14]+4259657740&4294967295,k=U+(M<<23&4294967295|M>>>9),M=C+(k^U^L)+q[1]+2763975236&4294967295,C=k+(M<<4&4294967295|M>>>28),M=L+(C^k^U)+q[4]+1272893353&4294967295,L=C+(M<<11&4294967295|M>>>21),M=U+(L^C^k)+q[7]+4139469664&4294967295,U=L+(M<<16&4294967295|M>>>16),M=k+(U^L^C)+q[10]+3200236656&4294967295,k=U+(M<<23&4294967295|M>>>9),M=C+(k^U^L)+q[13]+681279174&4294967295,C=k+(M<<4&4294967295|M>>>28),M=L+(C^k^U)+q[0]+3936430074&4294967295,L=C+(M<<11&4294967295|M>>>21),M=U+(L^C^k)+q[3]+3572445317&4294967295,U=L+(M<<16&4294967295|M>>>16),M=k+(U^L^C)+q[6]+76029189&4294967295,k=U+(M<<23&4294967295|M>>>9),M=C+(k^U^L)+q[9]+3654602809&4294967295,C=k+(M<<4&4294967295|M>>>28),M=L+(C^k^U)+q[12]+3873151461&4294967295,L=C+(M<<11&4294967295|M>>>21),M=U+(L^C^k)+q[15]+530742520&4294967295,U=L+(M<<16&4294967295|M>>>16),M=k+(U^L^C)+q[2]+3299628645&4294967295,k=U+(M<<23&4294967295|M>>>9),M=C+(U^(k|~L))+q[0]+4096336452&4294967295,C=k+(M<<6&4294967295|M>>>26),M=L+(k^(C|~U))+q[7]+1126891415&4294967295,L=C+(M<<10&4294967295|M>>>22),M=U+(C^(L|~k))+q[14]+2878612391&4294967295,U=L+(M<<15&4294967295|M>>>17),M=k+(L^(U|~C))+q[5]+4237533241&4294967295,k=U+(M<<21&4294967295|M>>>11),M=C+(U^(k|~L))+q[12]+1700485571&4294967295,C=k+(M<<6&4294967295|M>>>26),M=L+(k^(C|~U))+q[3]+2399980690&4294967295,L=C+(M<<10&4294967295|M>>>22),M=U+(C^(L|~k))+q[10]+4293915773&4294967295,U=L+(M<<15&4294967295|M>>>17),M=k+(L^(U|~C))+q[1]+2240044497&4294967295,k=U+(M<<21&4294967295|M>>>11),M=C+(U^(k|~L))+q[8]+1873313359&4294967295,C=k+(M<<6&4294967295|M>>>26),M=L+(k^(C|~U))+q[15]+4264355552&4294967295,L=C+(M<<10&4294967295|M>>>22),M=U+(C^(L|~k))+q[6]+2734768916&4294967295,U=L+(M<<15&4294967295|M>>>17),M=k+(L^(U|~C))+q[13]+1309151649&4294967295,k=U+(M<<21&4294967295|M>>>11),M=C+(U^(k|~L))+q[4]+4149444226&4294967295,C=k+(M<<6&4294967295|M>>>26),M=L+(k^(C|~U))+q[11]+3174756917&4294967295,L=C+(M<<10&4294967295|M>>>22),M=U+(C^(L|~k))+q[2]+718787259&4294967295,U=L+(M<<15&4294967295|M>>>17),M=k+(L^(U|~C))+q[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(U+(M<<21&4294967295|M>>>11))&4294967295,O.g[2]=O.g[2]+U&4294967295,O.g[3]=O.g[3]+L&4294967295}r.prototype.v=function(O,C){C===void 0&&(C=O.length);const k=C-this.blockSize,q=this.C;let U=this.h,L=0;for(;L<C;){if(U==0)for(;L<=k;)i(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<C;)if(q[U++]=O.charCodeAt(L++),U==this.blockSize){i(this,q),U=0;break}}else for(;L<C;)if(q[U++]=O[L++],U==this.blockSize){i(this,q),U=0;break}}this.h=U,this.o+=C},r.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;C=this.o*8;for(var k=O.length-8;k<O.length;++k)O[k]=C&255,C/=256;for(this.v(O),O=Array(16),C=0,k=0;k<4;++k)for(let q=0;q<32;q+=8)O[C++]=this.g[k]>>>q&255;return O};function s(O,C){var k=u;return Object.prototype.hasOwnProperty.call(k,O)?k[O]:k[O]=C(O)}function c(O,C){this.h=C;const k=[];let q=!0;for(let U=O.length-1;U>=0;U--){const L=O[U]|0;q&&L==C||(k[U]=L,q=!1)}this.g=k}var u={};function f(O){return-128<=O&&O<128?s(O,function(C){return new c([C|0],C<0?-1:0)}):new c([O|0],O<0?-1:0)}function h(O){if(isNaN(O)||!isFinite(O))return v;if(O<0)return N(h(-O));const C=[];let k=1;for(let q=0;O>=k;q++)C[q]=O/k|0,k*=4294967296;return new c(C,0)}function p(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return N(p(O.substring(1),C));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=h(Math.pow(C,8));let q=v;for(let L=0;L<O.length;L+=8){var U=Math.min(8,O.length-L);const M=parseInt(O.substring(L,L+U),C);U<8?(U=h(Math.pow(C,U)),q=q.j(U).add(h(M))):(q=q.j(k),q=q.add(h(M)))}return q}var v=f(0),y=f(1),w=f(16777216);t=c.prototype,t.m=function(){if(E(this))return-N(this).m();let O=0,C=1;for(let k=0;k<this.g.length;k++){const q=this.i(k);O+=(q>=0?q:4294967296+q)*C,C*=4294967296}return O},t.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(j(this))return"0";if(E(this))return"-"+N(this).toString(O);const C=h(Math.pow(O,6));var k=this;let q="";for(;;){const U=I(k,C).g;k=S(k,U.j(C));let L=((k.g.length>0?k.g[0]:k.h)>>>0).toString(O);if(k=U,j(k))return L+q;for(;L.length<6;)L="0"+L;q=L+q}},t.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function j(O){if(O.h!=0)return!1;for(let C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function E(O){return O.h==-1}t.l=function(O){return O=S(this,O),E(O)?-1:j(O)?0:1};function N(O){const C=O.g.length,k=[];for(let q=0;q<C;q++)k[q]=~O.g[q];return new c(k,~O.h).add(y)}t.abs=function(){return E(this)?N(this):this},t.add=function(O){const C=Math.max(this.g.length,O.g.length),k=[];let q=0;for(let U=0;U<=C;U++){let L=q+(this.i(U)&65535)+(O.i(U)&65535),M=(L>>>16)+(this.i(U)>>>16)+(O.i(U)>>>16);q=M>>>16,L&=65535,M&=65535,k[U]=M<<16|L}return new c(k,k[k.length-1]&-2147483648?-1:0)};function S(O,C){return O.add(N(C))}t.j=function(O){if(j(this)||j(O))return v;if(E(this))return E(O)?N(this).j(N(O)):N(N(this).j(O));if(E(O))return N(this.j(N(O)));if(this.l(w)<0&&O.l(w)<0)return h(this.m()*O.m());const C=this.g.length+O.g.length,k=[];for(var q=0;q<2*C;q++)k[q]=0;for(q=0;q<this.g.length;q++)for(let U=0;U<O.g.length;U++){const L=this.i(q)>>>16,M=this.i(q)&65535,ue=O.i(U)>>>16,Z=O.i(U)&65535;k[2*q+2*U]+=M*Z,D(k,2*q+2*U),k[2*q+2*U+1]+=L*Z,D(k,2*q+2*U+1),k[2*q+2*U+1]+=M*ue,D(k,2*q+2*U+1),k[2*q+2*U+2]+=L*ue,D(k,2*q+2*U+2)}for(O=0;O<C;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=C;O<2*C;O++)k[O]=0;return new c(k,0)};function D(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function R(O,C){this.g=O,this.h=C}function I(O,C){if(j(C))throw Error("division by zero");if(j(O))return new R(v,v);if(E(O))return C=I(N(O),C),new R(N(C.g),N(C.h));if(E(C))return C=I(O,N(C)),new R(N(C.g),C.h);if(O.g.length>30){if(E(O)||E(C))throw Error("slowDivide_ only works with positive integers.");for(var k=y,q=C;q.l(O)<=0;)k=$(k),q=$(q);var U=z(k,1),L=z(q,1);for(q=z(q,2),k=z(k,2);!j(q);){var M=L.add(q);M.l(O)<=0&&(U=U.add(k),L=M),q=z(q,1),k=z(k,1)}return C=S(O,U.j(C)),new R(U,C)}for(U=v;O.l(C)>=0;){for(k=Math.max(1,Math.floor(O.m()/C.m())),q=Math.ceil(Math.log(k)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),L=h(k),M=L.j(C);E(M)||M.l(O)>0;)k-=q,L=h(k),M=L.j(C);j(L)&&(L=y),U=U.add(L),O=S(O,M)}return new R(U,O)}t.B=function(O){return I(this,O).h},t.and=function(O){const C=Math.max(this.g.length,O.g.length),k=[];for(let q=0;q<C;q++)k[q]=this.i(q)&O.i(q);return new c(k,this.h&O.h)},t.or=function(O){const C=Math.max(this.g.length,O.g.length),k=[];for(let q=0;q<C;q++)k[q]=this.i(q)|O.i(q);return new c(k,this.h|O.h)},t.xor=function(O){const C=Math.max(this.g.length,O.g.length),k=[];for(let q=0;q<C;q++)k[q]=this.i(q)^O.i(q);return new c(k,this.h^O.h)};function $(O){const C=O.g.length+1,k=[];for(let q=0;q<C;q++)k[q]=O.i(q)<<1|O.i(q-1)>>>31;return new c(k,O.h)}function z(O,C){const k=C>>5;C%=32;const q=O.g.length-k,U=[];for(let L=0;L<q;L++)U[L]=C>0?O.i(L+k)>>>C|O.i(L+k+1)<<32-C:O.i(L+k);return new c(U,O.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,a4=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=h,c.fromString=p,dl=c}).apply(typeof NP<"u"?NP:typeof self<"u"?self:typeof window<"u"?window:{});var Nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var s4,wh,o4,rg,Tw,l4,c4,u4;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nv=="object"&&Nv];for(var A=0;A<g.length;++A){var P=g[A];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(g,A){if(A)e:{var P=r;g=g.split(".");for(var F=0;F<g.length-1;F++){var ne=g[F];if(!(ne in P))break e;P=P[ne]}g=g[g.length-1],F=P[g],A=A(F),A!=F&&A!=null&&e(P,g,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(A){var P=[],F;for(F in A)Object.prototype.hasOwnProperty.call(A,F)&&P.push([F,A[F]]);return P}});var s=s||{},c=this||self;function u(g){var A=typeof g;return A=="object"&&g!=null||A=="function"}function f(g,A,P){return g.call.apply(g.bind,arguments)}function h(g,A,P){return h=f,h.apply(null,arguments)}function p(g,A){var P=Array.prototype.slice.call(arguments,1);return function(){var F=P.slice();return F.push.apply(F,arguments),g.apply(this,F)}}function v(g,A){function P(){}P.prototype=A.prototype,g.Z=A.prototype,g.prototype=new P,g.prototype.constructor=g,g.Ob=function(F,ne,le){for(var je=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)je[Ze-2]=arguments[Ze];return A.prototype[ne].apply(F,je)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function w(g){const A=g.length;if(A>0){const P=Array(A);for(let F=0;F<A;F++)P[F]=g[F];return P}return[]}function j(g,A){for(let F=1;F<arguments.length;F++){const ne=arguments[F];var P=typeof ne;if(P=P!="object"?P:ne?Array.isArray(ne)?"array":P:"null",P=="array"||P=="object"&&typeof ne.length=="number"){P=g.length||0;const le=ne.length||0;g.length=P+le;for(let je=0;je<le;je++)g[P+je]=ne[je]}else g.push(ne)}}class E{constructor(A,P){this.i=A,this.j=P,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function N(g){c.setTimeout(()=>{throw g},0)}function S(){var g=O;let A=null;return g.g&&(A=g.g,g.g=g.g.next,g.g||(g.h=null),A.next=null),A}class D{constructor(){this.h=this.g=null}add(A,P){const F=R.get();F.set(A,P),this.h?this.h.next=F:this.g=F,this.h=F}}var R=new E(()=>new I,g=>g.reset());class I{constructor(){this.next=this.g=this.h=null}set(A,P){this.h=A,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let $,z=!1,O=new D,C=()=>{const g=Promise.resolve(void 0);$=()=>{g.then(k)}};function k(){for(var g;g=S();){try{g.h.call(g.g)}catch(P){N(P)}var A=R;A.j(g),A.h<100&&(A.h++,g.next=A.g,A.g=g)}z=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(g,A){this.type=g,this.g=this.target=A,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,A=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const P=()=>{};c.addEventListener("test",P,A),c.removeEventListener("test",P,A)}catch{}return g})();function M(g){return/^[\s\xa0]*$/.test(g)}function ue(g,A){U.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,A)}v(ue,U),ue.prototype.init=function(g,A){const P=this.type=g.type,F=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=A,A=g.relatedTarget,A||(P=="mouseover"?A=g.fromElement:P=="mouseout"&&(A=g.toElement)),this.relatedTarget=A,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Z="closure_listenable_"+(Math.random()*1e6|0),B=0;function J(g,A,P,F,ne){this.listener=g,this.proxy=null,this.src=A,this.type=P,this.capture=!!F,this.ha=ne,this.key=++B,this.da=this.fa=!1}function he(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ee(g,A,P){for(const F in g)A.call(P,g[F],F,g)}function xe(g,A){for(const P in g)A.call(void 0,g[P],P,g)}function H(g){const A={};for(const P in g)A[P]=g[P];return A}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(g,A){let P,F;for(let ne=1;ne<arguments.length;ne++){F=arguments[ne];for(P in F)g[P]=F[P];for(let le=0;le<ae.length;le++)P=ae[le],Object.prototype.hasOwnProperty.call(F,P)&&(g[P]=F[P])}}function we(g){this.src=g,this.g={},this.h=0}we.prototype.add=function(g,A,P,F,ne){const le=g.toString();g=this.g[le],g||(g=this.g[le]=[],this.h++);const je=W(g,A,F,ne);return je>-1?(A=g[je],P||(A.fa=!1)):(A=new J(A,this.src,le,!!F,ne),A.fa=P,g.push(A)),A};function Y(g,A){const P=A.type;if(P in g.g){var F=g.g[P],ne=Array.prototype.indexOf.call(F,A,void 0),le;(le=ne>=0)&&Array.prototype.splice.call(F,ne,1),le&&(he(A),g.g[P].length==0&&(delete g.g[P],g.h--))}}function W(g,A,P,F){for(let ne=0;ne<g.length;++ne){const le=g[ne];if(!le.da&&le.listener==A&&le.capture==!!P&&le.ha==F)return ne}return-1}var _e="closure_lm_"+(Math.random()*1e6|0),Ve={};function oe(g,A,P,F,ne){if(Array.isArray(A)){for(let le=0;le<A.length;le++)oe(g,A[le],P,F,ne);return null}return P=gr(P),g&&g[Z]?g.J(A,P,u(F)?!!F.capture:!1,ne):Ae(g,A,P,!1,F,ne)}function Ae(g,A,P,F,ne,le){if(!A)throw Error("Invalid event type");const je=u(ne)?!!ne.capture:!!ne;let Ze=dt(g);if(Ze||(g[_e]=Ze=new we(g)),P=Ze.add(A,P,F,je,le),P.proxy)return P;if(F=Q(),P.proxy=F,F.src=g,F.listener=P,g.addEventListener)L||(ne=je),ne===void 0&&(ne=!1),g.addEventListener(A.toString(),F,ne);else if(g.attachEvent)g.attachEvent($e(A.toString()),F);else if(g.addListener&&g.removeListener)g.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Q(){function g(P){return A.call(g.src,g.listener,P)}const A=at;return g}function ve(g,A,P,F,ne){if(Array.isArray(A))for(var le=0;le<A.length;le++)ve(g,A[le],P,F,ne);else F=u(F)?!!F.capture:!!F,P=gr(P),g&&g[Z]?(g=g.i,le=String(A).toString(),le in g.g&&(A=g.g[le],P=W(A,P,F,ne),P>-1&&(he(A[P]),Array.prototype.splice.call(A,P,1),A.length==0&&(delete g.g[le],g.h--)))):g&&(g=dt(g))&&(A=g.g[A.toString()],g=-1,A&&(g=W(A,P,F,ne)),(P=g>-1?A[g]:null)&&ke(P))}function ke(g){if(typeof g!="number"&&g&&!g.da){var A=g.src;if(A&&A[Z])Y(A.i,g);else{var P=g.type,F=g.proxy;A.removeEventListener?A.removeEventListener(P,F,g.capture):A.detachEvent?A.detachEvent($e(P),F):A.addListener&&A.removeListener&&A.removeListener(F),(P=dt(A))?(Y(P,g),P.h==0&&(P.src=null,A[_e]=null)):he(g)}}}function $e(g){return g in Ve?Ve[g]:Ve[g]="on"+g}function at(g,A){if(g.da)g=!0;else{A=new ue(A,this);const P=g.listener,F=g.ha||g.src;g.fa&&ke(g),g=P.call(F,A)}return g}function dt(g){return g=g[_e],g instanceof we?g:null}var vt="__closure_events_fn_"+(Math.random()*1e9>>>0);function gr(g){return typeof g=="function"?g:(g[vt]||(g[vt]=function(A){return g.handleEvent(A)}),g[vt])}function It(){q.call(this),this.i=new we(this),this.M=this,this.G=null}v(It,q),It.prototype[Z]=!0,It.prototype.removeEventListener=function(g,A,P,F){ve(this,g,A,P,F)};function Rt(g,A){var P,F=g.G;if(F)for(P=[];F;F=F.G)P.push(F);if(g=g.M,F=A.type||A,typeof A=="string")A=new U(A,g);else if(A instanceof U)A.target=A.target||g;else{var ne=A;A=new U(F,g),ye(A,ne)}ne=!0;let le,je;if(P)for(je=P.length-1;je>=0;je--)le=A.g=P[je],ne=Ur(le,F,!0,A)&&ne;if(le=A.g=g,ne=Ur(le,F,!0,A)&&ne,ne=Ur(le,F,!1,A)&&ne,P)for(je=0;je<P.length;je++)le=A.g=P[je],ne=Ur(le,F,!1,A)&&ne}It.prototype.N=function(){if(It.Z.N.call(this),this.i){var g=this.i;for(const A in g.g){const P=g.g[A];for(let F=0;F<P.length;F++)he(P[F]);delete g.g[A],g.h--}}this.G=null},It.prototype.J=function(g,A,P,F){return this.i.add(String(g),A,!1,P,F)},It.prototype.K=function(g,A,P,F){return this.i.add(String(g),A,!0,P,F)};function Ur(g,A,P,F){if(A=g.i.g[String(A)],!A)return!0;A=A.concat();let ne=!0;for(let le=0;le<A.length;++le){const je=A[le];if(je&&!je.da&&je.capture==P){const Ze=je.listener,yn=je.ha||je.src;je.fa&&Y(g.i,je),ne=Ze.call(yn,F)!==!1&&ne}}return ne&&!F.defaultPrevented}function de(g,A){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=h(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:c.setTimeout(g,A||0)}function Ie(g){g.g=de(()=>{g.g=null,g.i&&(g.i=!1,Ie(g))},g.l);const A=g.h;g.h=null,g.m.apply(null,A)}class qe extends q{constructor(A,P){super(),this.m=A,this.l=P,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Ie(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ge(g){q.call(this),this.h=g,this.g={}}v(Ge,q);var Vt=[];function Vn(g){Ee(g.g,function(A,P){this.g.hasOwnProperty(P)&&ke(A)},g),g.g={}}Ge.prototype.N=function(){Ge.Z.N.call(this),Vn(this)},Ge.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qr=c.JSON.stringify,ho=c.JSON.parse,Br=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function Wi(){}function cu(){}var an={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function St(){U.call(this,"d")}v(St,U);function $r(){U.call(this,"c")}v($r,U);var en={},Ul=null;function mo(){return Ul=Ul||new It}en.Ia="serverreachability";function uu(g){U.call(this,en.Ia,g)}v(uu,U);function ji(g){const A=mo();Rt(A,new uu(A))}en.STAT_EVENT="statevent";function ls(g,A){U.call(this,en.STAT_EVENT,g),this.stat=A}v(ls,U);function sn(g){const A=mo();Rt(A,new ls(A,g))}en.Ja="timingevent";function Ni(g,A){U.call(this,en.Ja,g),this.size=A}v(Ni,U);function yr(g,A){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},A)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function ee(g,A,P,F,ne,le){g.info(function(){if(g.g)if(le){var je="",Ze=le.split("&");for(let wt=0;wt<Ze.length;wt++){var yn=Ze[wt].split("=");if(yn.length>1){const Qt=yn[0];yn=yn[1];const Ci=Qt.split("_");je=Ci.length>=2&&Ci[1]=="type"?je+(Qt+"="+yn+"&"):je+(Qt+"=redacted&")}}}else je=null;else je=le;return"XMLHTTP REQ ("+F+") [attempt "+ne+"]: "+A+`
`+P+`
`+je})}function Ue(g,A,P,F,ne,le,je){g.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+ne+"]: "+A+`
`+P+`
`+le+" "+je})}function mt(g,A,P,F){g.info(function(){return"XMLHTTP TEXT ("+A+"): "+ql(g,P)+(F?" "+F:"")})}function Gn(g,A){g.info(function(){return"TIMEOUT: "+A})}ii.prototype.info=function(){};function ql(g,A){if(!g.g)return A;if(!A)return null;try{const le=JSON.parse(A);if(le){for(g=0;g<le.length;g++)if(Array.isArray(le[g])){var P=le[g];if(!(P.length<2)){var F=P[1];if(Array.isArray(F)&&!(F.length<1)){var ne=F[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(let je=1;je<F.length;je++)F[je]=""}}}}return qr(le)}catch{return A}}var Fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},sf;function $l(){}v($l,Wi),$l.prototype.g=function(){return new XMLHttpRequest},sf=new $l;function cs(g){return encodeURIComponent(String(g))}function np(g){var A=1;g=g.split(":");const P=[];for(;A>0&&g.length;)P.push(g.shift()),A--;return g.length&&P.push(g.join(":")),P}function Qi(g,A,P,F){this.j=g,this.i=A,this.l=P,this.S=F||1,this.V=new Ge(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yi}function Yi(){this.i=null,this.g="",this.h=!1}var An={},Wn={};function _a(g,A,P){g.M=1,g.A=Fl(Tn(A)),g.u=P,g.R=!0,du(g,null)}function du(g,A){g.F=Date.now(),xa(g),g.B=Tn(g.A);var P=g.B,F=g.S;Array.isArray(F)||(F=[String(F)]),pu(P.i,"t",F),g.C=0,P=g.j.L,g.h=new Yi,g.g=gp(g.j,P?A:null,!g.u),g.P>0&&(g.O=new qe(h(g.Y,g,g.g),g.P)),A=g.V,P=g.g,F=g.ba;var ne="readystatechange";Array.isArray(ne)||(ne&&(Vt[0]=ne.toString()),ne=Vt);for(let le=0;le<ne.length;le++){const je=oe(P,ne[le],F||A.handleEvent,!1,A.h||A);if(!je)break;A.g[je.key]=je}A=g.J?H(g.J):{},g.u?(g.v||(g.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,A)):(g.v="GET",g.g.ea(g.B,g.v,null,A)),ji(),ee(g.i,g.v,g.B,g.l,g.S,g.u)}Qi.prototype.ba=function(g){g=g.target;const A=this.O;A&&Ji(g)==3?A.j():this.Y(g)},Qi.prototype.Y=function(g){try{if(g==this.g)e:{const Ze=Ji(this.g),yn=this.g.ya(),wt=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||cr(this.g)))){this.K||Ze!=4||yn==7||(yn==8||wt<=0?ji(3):ji(2)),wa(this);var A=this.g.ca();this.X=A;var P=db(this);if(this.o=A==200,Ue(this.i,this.v,this.B,this.l,this.S,Ze,A),this.o){if(this.U&&!this.L){t:{if(this.g){var F,ne=this.g;if((F=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(F)){var le=F;break t}}le=null}if(g=le)mt(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ea(this,g);else{this.o=!1,this.m=3,sn(12),ai(this),Ai(this);break e}}if(this.R){g=!0;let Qt;for(;!this.K&&this.C<P.length;)if(Qt=ip(this,P),Qt==Wn){Ze==4&&(this.m=4,sn(14),g=!1),mt(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==An){this.m=4,sn(15),mt(this.i,this.l,P,"[Invalid Chunk]"),g=!1;break}else mt(this.i,this.l,Qt,null),Ea(this,Qt);if(rp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||P.length!=0||this.h.h||(this.m=1,sn(16),g=!1),this.o=this.o&&g,!g)mt(this.i,this.l,P,"[Invalid Chunked Response]"),ai(this),Ai(this);else if(P.length>0&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.aa&&!je.P&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),xf(je),je.P=!0,sn(11))}}else mt(this.i,this.l,P,null),Ea(this,P);Ze==4&&ai(this),this.o&&!this.K&&(Ze==4?hp(this.j,this):(this.o=!1,xa(this)))}else ds(this.g),A==400&&P.indexOf("Unknown SID")>0?(this.m=3,sn(12)):(this.m=0,sn(13)),ai(this),Ai(this)}}}catch{}};function db(g){if(!rp(g))return g.g.la();const A=cr(g.g);if(A==="")return"";let P="";const F=A.length,ne=Ji(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return ai(g),Ai(g),"";g.h.i=new c.TextDecoder}for(let le=0;le<F;le++)g.h.h=!0,P+=g.h.i.decode(A[le],{stream:!(ne&&le==F-1)});return A.length=0,g.h.g+=P,g.C=0,g.h.g}function rp(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function ip(g,A){var P=g.C,F=A.indexOf(`
`,P);return F==-1?Wn:(P=Number(A.substring(P,F)),isNaN(P)?An:(F+=1,F+P>A.length?Wn:(A=A.slice(F,F+P),g.C=F+P,A)))}Qi.prototype.cancel=function(){this.K=!0,ai(this)};function xa(g){g.T=Date.now()+g.H,fu(g,g.H)}function fu(g,A){if(g.D!=null)throw Error("WatchDog timer not null");g.D=yr(h(g.aa,g),A)}function wa(g){g.D&&(c.clearTimeout(g.D),g.D=null)}Qi.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Gn(this.i,this.B),this.M!=2&&(ji(),sn(17)),ai(this),this.m=2,Ai(this)):fu(this,this.T-g)};function Ai(g){g.j.I==0||g.K||hp(g.j,g)}function ai(g){wa(g);var A=g.O;A&&typeof A.dispose=="function"&&A.dispose(),g.O=null,Vn(g.V),g.g&&(A=g.g,g.g=null,A.abort(),A.dispose())}function Ea(g,A){try{var P=g.j;if(P.I!=0&&(P.g==g||Na(P.h,g))){if(!g.L&&Na(P.h,g)&&P.I==3){try{var F=P.Ba.g.parse(A)}catch{F=null}if(Array.isArray(F)&&F.length==3){var ne=F;if(ne[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<g.F)_u(P),wo(P);else break e;Xl(P),sn(18)}}else P.xa=ne[1],0<P.xa-P.K&&ne[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=yr(h(P.Va,P),6e3));ja(P.h)<=1&&P.ta&&(P.ta=void 0)}else Oa(P,11)}else if((g.L||P.g==g)&&_u(P),!M(A))for(ne=P.Ba.g.parse(A),A=0;A<ne.length;A++){let wt=ne[A];const Qt=wt[0];if(!(Qt<=P.K))if(P.K=Qt,wt=wt[1],P.I==2)if(wt[0]=="c"){P.M=wt[1],P.ba=wt[2];const Ci=wt[3];Ci!=null&&(P.ka=Ci,P.j.info("VER="+P.ka));const Ia=wt[4];Ia!=null&&(P.za=Ia,P.j.info("SVER="+P.za));const ea=wt[5];ea!=null&&typeof ea=="number"&&ea>0&&(F=1.5*ea,P.O=F,P.j.info("backChannelRequestTimeoutMs_="+F)),F=P;const ta=g.g;if(ta){const Zl=ta.g?ta.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zl){var le=F.h;le.g||Zl.indexOf("spdy")==-1&&Zl.indexOf("quic")==-1&&Zl.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(cf(le,le.h),le.h=null))}if(F.G){const xu=ta.g?ta.g.getResponseHeader("X-HTTP-Session-Id"):null;xu&&(F.wa=xu,Tt(F.J,F.G,xu))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-g.F,P.j.info("Handshake RTT: "+P.T+"ms")),F=P;var je=g;if(F.na=vp(F,F.L?F.ba:null,F.W),je.L){uf(F.h,je);var Ze=je,yn=F.O;yn&&(Ze.H=yn),Ze.D&&(wa(Ze),xa(Ze)),F.g=je}else dp(F);P.i.length>0&&Pa(P)}else wt[0]!="stop"&&wt[0]!="close"||Oa(P,7);else P.I==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?Oa(P,7):bf(P):wt[0]!="noop"&&P.l&&P.l.qa(wt),P.A=0)}}ji(4)}catch{}}var Sn=class{constructor(g,A){this.g=g,this.map=A}};function of(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lf(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function ja(g){return g.h?1:g.g?g.g.size:0}function Na(g,A){return g.h?g.h==A:g.g?g.g.has(A):!1}function cf(g,A){g.g?g.g.add(A):g.h=A}function uf(g,A){g.h&&g.h==A?g.h=null:g.g&&g.g.has(A)&&g.g.delete(A)}of.prototype.cancel=function(){if(this.i=df(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function df(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let A=g.i;for(const P of g.g.values())A=A.concat(P.G);return A}return w(g.i)}var ap=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hu(g,A){if(g){g=g.split("&");for(let P=0;P<g.length;P++){const F=g[P].indexOf("=");let ne,le=null;F>=0?(ne=g[P].substring(0,F),le=g[P].substring(F+1)):ne=g[P],A(ne,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function si(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;g instanceof si?(this.l=g.l,Qn(this,g.j),this.o=g.o,this.g=g.g,po(this,g.u),this.h=g.h,ff(this,cp(g.i)),this.m=g.m):g&&(A=String(g).match(ap))?(this.l=!1,Qn(this,A[1]||"",!0),this.o=Aa(A[2]||""),this.g=Aa(A[3]||"",!0),po(this,A[4]),this.h=Aa(A[5]||"",!0),ff(this,A[6]||"",!0),this.m=Aa(A[7]||"")):(this.l=!1,this.i=new go(null,this.l))}si.prototype.toString=function(){const g=[];var A=this.j;A&&g.push(Hl(A,mu,!0),":");var P=this.g;return(P||A=="file")&&(g.push("//"),(A=this.o)&&g.push(Hl(A,mu,!0),"@"),g.push(cs(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&g.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&g.push("/"),g.push(Hl(P,P.charAt(0)=="/"?hf:sp,!0))),(P=this.i.toString())&&g.push("?",P),(P=this.m)&&g.push("#",Hl(P,op)),g.join("")},si.prototype.resolve=function(g){const A=Tn(this);let P=!!g.j;P?Qn(A,g.j):P=!!g.o,P?A.o=g.o:P=!!g.g,P?A.g=g.g:P=g.u!=null;var F=g.h;if(P)po(A,g.u);else if(P=!!g.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var ne=A.h.lastIndexOf("/");ne!=-1&&(F=A.h.slice(0,ne+1)+F)}if(ne=F,ne==".."||ne==".")F="";else if(ne.indexOf("./")!=-1||ne.indexOf("/.")!=-1){F=ne.lastIndexOf("/",0)==0,ne=ne.split("/");const le=[];for(let je=0;je<ne.length;){const Ze=ne[je++];Ze=="."?F&&je==ne.length&&le.push(""):Ze==".."?((le.length>1||le.length==1&&le[0]!="")&&le.pop(),F&&je==ne.length&&le.push("")):(le.push(Ze),F=!0)}F=le.join("/")}else F=ne}return P?A.h=F:P=g.i.toString()!=="",P?ff(A,cp(g.i)):P=!!g.m,P&&(A.m=g.m),A};function Tn(g){return new si(g)}function Qn(g,A,P){g.j=P?Aa(A,!0):A,g.j&&(g.j=g.j.replace(/:$/,""))}function po(g,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);g.u=A}else g.u=null}function ff(g,A,P){A instanceof go?(g.i=A,vu(g.i,g.l)):(P||(A=Hl(A,vo)),g.i=new go(A,g.l))}function Tt(g,A,P){g.i.set(A,P)}function Fl(g){return Tt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Aa(g,A){return g?A?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Hl(g,A,P){return typeof g=="string"?(g=encodeURI(g).replace(A,Hr),P&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Hr(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var mu=/[#\/\?@]/g,sp=/[#\?:]/g,hf=/[#\?]/g,vo=/[#\?@]/g,op=/#/g;function go(g,A){this.h=this.g=null,this.i=g||null,this.j=!!A}function Kr(g){g.g||(g.g=new Map,g.h=0,g.i&&hu(g.i,function(A,P){g.add(decodeURIComponent(A.replace(/\+/g," ")),P)}))}t=go.prototype,t.add=function(g,A){Kr(this),this.i=null,g=yo(this,g);let P=this.g.get(g);return P||this.g.set(g,P=[]),P.push(A),this.h+=1,this};function lp(g,A){Kr(g),A=yo(g,A),g.g.has(A)&&(g.i=null,g.h-=g.g.get(A).length,g.g.delete(A))}function mf(g,A){return Kr(g),A=yo(g,A),g.g.has(A)}t.forEach=function(g,A){Kr(this),this.g.forEach(function(P,F){P.forEach(function(ne){g.call(A,ne,F,this)},this)},this)};function pf(g,A){Kr(g);let P=[];if(typeof A=="string")mf(g,A)&&(P=P.concat(g.g.get(yo(g,A))));else for(g=Array.from(g.g.values()),A=0;A<g.length;A++)P=P.concat(g[A]);return P}t.set=function(g,A){return Kr(this),this.i=null,g=yo(this,g),mf(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[A]),this.h+=1,this},t.get=function(g,A){return g?(g=pf(this,g),g.length>0?String(g[0]):A):A};function pu(g,A,P){lp(g,A),P.length>0&&(g.i=null,g.g.set(yo(g,A),w(P)),g.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],A=Array.from(this.g.keys());for(let F=0;F<A.length;F++){var P=A[F];const ne=cs(P);P=pf(this,P);for(let le=0;le<P.length;le++){let je=ne;P[le]!==""&&(je+="="+cs(P[le])),g.push(je)}}return this.i=g.join("&")};function cp(g){const A=new go;return A.i=g.i,g.g&&(A.g=new Map(g.g),A.h=g.h),A}function yo(g,A){return A=String(A),g.j&&(A=A.toLowerCase()),A}function vu(g,A){A&&!g.j&&(Kr(g),g.i=null,g.g.forEach(function(P,F){const ne=F.toLowerCase();F!=ne&&(lp(this,F),pu(this,ne,P))},g)),g.j=A}function Xi(g,A){const P=new ii;if(c.Image){const F=new Image;F.onload=p(Si,P,"TestLoadImage: loaded",!0,A,F),F.onerror=p(Si,P,"TestLoadImage: error",!1,A,F),F.onabort=p(Si,P,"TestLoadImage: abort",!1,A,F),F.ontimeout=p(Si,P,"TestLoadImage: timeout",!1,A,F),c.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=g}else A(!1)}function vf(g,A){const P=new ii,F=new AbortController,ne=setTimeout(()=>{F.abort(),Si(P,"TestPingServer: timeout",!1,A)},1e4);fetch(g,{signal:F.signal}).then(le=>{clearTimeout(ne),le.ok?Si(P,"TestPingServer: ok",!0,A):Si(P,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(ne),Si(P,"TestPingServer: error",!1,A)})}function Si(g,A,P,F,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),F(P)}catch{}}function bo(){this.g=new Br}function Sa(g){this.i=g.Sb||null,this.h=g.ab||!1}v(Sa,Wi),Sa.prototype.g=function(){return new Kl(this.i,this.h)};function Kl(g,A){It.call(this),this.H=g,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Kl,It),t=Kl.prototype,t.open=function(g,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=A,this.readyState=1,Zi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(A.body=g),(this.H||c).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_o(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Zi(this)),this.g&&(this.readyState=3,Zi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;gu(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function gu(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var A=g.value?g.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!g.done}))&&(this.response=this.responseText+=A)}g.done?_o(this):Zi(this),this.readyState==3&&gu(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,_o(this))},t.Na=function(g){this.g&&(this.response=g,_o(this))},t.ga=function(){this.g&&_o(this)};function _o(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Zi(g)}t.setRequestHeader=function(g,A){this.A.append(g,A)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],A=this.h.entries();for(var P=A.next();!P.done;)P=P.value,g.push(P[0]+": "+P[1]),P=A.next();return g.join(`\r
`)};function Zi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Kl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Ti(g){let A="";return Ee(g,function(P,F){A+=F,A+=":",A+=P,A+=`\r
`}),A}function Gl(g,A,P){e:{for(F in P){var F=!1;break e}F=!0}F||(P=Ti(P),typeof g=="string"?P!=null&&cs(P):Tt(g,A,P))}function Dt(g){It.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Dt,It);var Ta=/^https?$/i,gf=["POST","PUT"];t=Dt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,A,P,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);A=A?A.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():sf.g(),this.g.onreadystatechange=y(h(this.Ca,this));try{this.B=!0,this.g.open(A,String(g),!0),this.B=!1}catch(le){Wl(this,le);return}if(g=P||"",P=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var ne in F)P.set(ne,F[ne]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const le of F.keys())P.set(le,F.get(le));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(P.keys()).find(le=>le.toLowerCase()=="content-type"),ne=c.FormData&&g instanceof c.FormData,!(Array.prototype.indexOf.call(gf,A,void 0)>=0)||F||ne||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,je]of P)this.g.setRequestHeader(le,je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(le){Wl(this,le)}};function Wl(g,A){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=A,g.o=5,yf(g),us(g)}function yf(g){g.A||(g.A=!0,Rt(g,"complete"),Rt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,Rt(this,"complete"),Rt(this,"abort"),us(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),us(this,!0)),Dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ql(this):this.Xa())},t.Xa=function(){Ql(this)};function Ql(g){if(g.h&&typeof s<"u"){if(g.v&&Ji(g)==4)setTimeout(g.Ca.bind(g),0);else if(Rt(g,"readystatechange"),Ji(g)==4){g.h=!1;try{const le=g.ca();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var P;if(!(P=A)){var F;if(F=le===0){let je=String(g.D).match(ap)[1]||null;!je&&c.self&&c.self.location&&(je=c.self.location.protocol.slice(0,-1)),F=!Ta.test(je?je.toLowerCase():"")}P=F}if(P)Rt(g,"complete"),Rt(g,"success");else{g.o=6;try{var ne=Ji(g)>2?g.g.statusText:""}catch{ne=""}g.l=ne+" ["+g.ca()+"]",yf(g)}}finally{us(g)}}}}function us(g,A){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const P=g.g;g.g=null,A||Rt(g,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ji(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Ji(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var A=this.g.responseText;return g&&A.indexOf(g)==0&&(A=A.substring(g.length)),ho(A)}};function cr(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ds(g){const A={};g=(g.g&&Ji(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<g.length;F++){if(M(g[F]))continue;var P=np(g[F]);const ne=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const le=A[ne]||[];A[ne]=le,le.push(P)}xe(A,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ca(g,A,P){return P&&P.internalChannelParams&&P.internalChannelParams[g]||A}function xo(g){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ca("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ca("baseRetryDelayMs",5e3,g),this.Za=Ca("retryDelaySeedMs",1e4,g),this.Ta=Ca("forwardChannelMaxRetries",2,g),this.va=Ca("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new of(g&&g.concurrentRequestLimit),this.Ba=new bo,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=xo.prototype,t.ka=8,t.I=1,t.connect=function(g,A,P,F){sn(0),this.W=g,this.H=A||{},P&&F!==void 0&&(this.H.OSID=P,this.H.OAID=F),this.F=this.X,this.J=vp(this,null,this.W),Pa(this)};function bf(g){if(yu(g),g.I==3){var A=g.V++,P=Tn(g.J);if(Tt(P,"SID",g.M),Tt(P,"RID",A),Tt(P,"TYPE","terminate"),Yl(g,P),A=new Qi(g,g.j,A),A.M=2,A.A=Fl(Tn(P)),P=!1,c.navigator&&c.navigator.sendBeacon)try{P=c.navigator.sendBeacon(A.A.toString(),"")}catch{}!P&&c.Image&&(new Image().src=A.A,P=!0),P||(A.g=gp(A.j,null),A.g.ea(A.A)),A.F=Date.now(),xa(A)}pp(g)}function wo(g){g.g&&(xf(g),g.g.cancel(),g.g=null)}function yu(g){wo(g),g.v&&(c.clearTimeout(g.v),g.v=null),_u(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&c.clearTimeout(g.m),g.m=null)}function Pa(g){if(!lf(g.h)&&!g.m){g.m=!0;var A=g.Ea;$||C(),z||($(),z=!0),O.add(A,g),g.D=0}}function bu(g,A){return ja(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=A.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=yr(h(g.Ea,g,A),mp(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const ne=new Qi(this,this.j,g);let le=this.o;if(this.U&&(le?(le=H(le),ye(le,this.U)):le=this.U),this.u!==null||this.R||(ne.J=le,le=null),this.S)e:{for(var A=0,P=0;P<this.i.length;P++){t:{var F=this.i[P];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(A+=F,A>4096){A=P;break e}if(A===4096||P===this.i.length-1){A=P+1;break e}}A=1e3}else A=1e3;A=up(this,ne,A),P=Tn(this.J),Tt(P,"RID",g),Tt(P,"CVER",22),this.G&&Tt(P,"X-HTTP-Session-Id",this.G),Yl(this,P),le&&(this.R?A="headers="+cs(Ti(le))+"&"+A:this.u&&Gl(P,this.u,le)),cf(this.h,ne),this.Ra&&Tt(P,"TYPE","init"),this.S?(Tt(P,"$req",A),Tt(P,"SID","null"),ne.U=!0,_a(ne,P,null)):_a(ne,P,A),this.I=2}}else this.I==3&&(g?_f(this,g):this.i.length==0||lf(this.h)||_f(this))};function _f(g,A){var P;A?P=A.l:P=g.V++;const F=Tn(g.J);Tt(F,"SID",g.M),Tt(F,"RID",P),Tt(F,"AID",g.K),Yl(g,F),g.u&&g.o&&Gl(F,g.u,g.o),P=new Qi(g,g.j,P,g.D+1),g.u===null&&(P.J=g.o),A&&(g.i=A.G.concat(g.i)),A=up(g,P,1e3),P.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),cf(g.h,P),_a(P,F,A)}function Yl(g,A){g.H&&Ee(g.H,function(P,F){Tt(A,F,P)}),g.l&&Ee({},function(P,F){Tt(A,F,P)})}function up(g,A,P){P=Math.min(g.i.length,P);const F=g.l?h(g.l.Ka,g.l,g):null;e:{var ne=g.i;let Ze=-1;for(;;){const yn=["count="+P];Ze==-1?P>0?(Ze=ne[0].g,yn.push("ofs="+Ze)):Ze=0:yn.push("ofs="+Ze);let wt=!0;for(let Qt=0;Qt<P;Qt++){var le=ne[Qt].g;const Ci=ne[Qt].map;if(le-=Ze,le<0)Ze=Math.max(0,ne[Qt].g-100),wt=!1;else try{le="req"+le+"_"||"";try{var je=Ci instanceof Map?Ci:Object.entries(Ci);for(const[Ia,ea]of je){let ta=ea;u(ea)&&(ta=qr(ea)),yn.push(le+Ia+"="+encodeURIComponent(ta))}}catch(Ia){throw yn.push(le+"type="+encodeURIComponent("_badmap")),Ia}}catch{F&&F(Ci)}}if(wt){je=yn.join("&");break e}}je=void 0}return g=g.i.splice(0,P),A.G=g,je}function dp(g){if(!g.g&&!g.v){g.Y=1;var A=g.Da;$||C(),z||($(),z=!0),O.add(A,g),g.A=0}}function Xl(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=yr(h(g.Da,g),mp(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,fp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=yr(h(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,sn(10),wo(this),fp(this))};function xf(g){g.B!=null&&(c.clearTimeout(g.B),g.B=null)}function fp(g){g.g=new Qi(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var A=Tn(g.na);Tt(A,"RID","rpc"),Tt(A,"SID",g.M),Tt(A,"AID",g.K),Tt(A,"CI",g.F?"0":"1"),!g.F&&g.ia&&Tt(A,"TO",g.ia),Tt(A,"TYPE","xmlhttp"),Yl(g,A),g.u&&g.o&&Gl(A,g.u,g.o),g.O&&(g.g.H=g.O);var P=g.g;g=g.ba,P.M=1,P.A=Fl(Tn(A)),P.u=null,P.R=!0,du(P,g)}t.Va=function(){this.C!=null&&(this.C=null,wo(this),Xl(this),sn(19))};function _u(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function hp(g,A){var P=null;if(g.g==A){_u(g),xf(g),g.g=null;var F=2}else if(Na(g.h,A))P=A.G,uf(g.h,A),F=1;else return;if(g.I!=0){if(A.o)if(F==1){P=A.u?A.u.length:0,A=Date.now()-A.F;var ne=g.D;F=mo(),Rt(F,new Ni(F,P)),Pa(g)}else dp(g);else if(ne=A.m,ne==3||ne==0&&A.X>0||!(F==1&&bu(g,A)||F==2&&Xl(g)))switch(P&&P.length>0&&(A=g.h,A.i=A.i.concat(P)),ne){case 1:Oa(g,5);break;case 4:Oa(g,10);break;case 3:Oa(g,6);break;default:Oa(g,2)}}}function mp(g,A){let P=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(P*=2),P*A}function Oa(g,A){if(g.j.info("Error code "+A),A==2){var P=h(g.bb,g),F=g.Ua;const ne=!F;F=new si(F||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Qn(F,"https"),Fl(F),ne?Xi(F.toString(),P):vf(F.toString(),P)}else sn(2);g.I=0,g.l&&g.l.pa(A),pp(g),yu(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function pp(g){if(g.I=0,g.ja=[],g.l){const A=df(g.h);(A.length!=0||g.i.length!=0)&&(j(g.ja,A),j(g.ja,g.i),g.h.i.length=0,w(g.i),g.i.length=0),g.l.oa()}}function vp(g,A,P){var F=P instanceof si?Tn(P):new si(P);if(F.g!="")A&&(F.g=A+"."+F.g),po(F,F.u);else{var ne=c.location;F=ne.protocol,A=A?A+"."+ne.hostname:ne.hostname,ne=+ne.port;const le=new si(null);F&&Qn(le,F),A&&(le.g=A),ne&&po(le,ne),P&&(le.h=P),F=le}return P=g.G,A=g.wa,P&&A&&Tt(F,P,A),Tt(F,"VER",g.ka),Yl(g,F),F}function gp(g,A,P){if(A&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=g.Aa&&!g.ma?new Dt(new Sa({ab:P})):new Dt(g.ma),A.Fa(g.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yp(){}t=yp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Eo(){}Eo.prototype.g=function(g,A){return new Cr(g,A)};function Cr(g,A){It.call(this),this.g=new xo(A),this.l=g,this.h=A&&A.messageUrlParams||null,g=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(g?g["X-WebChannel-Content-Type"]=A.messageContentType:g={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(g?g["X-WebChannel-Client-Profile"]=A.sa:g={"X-WebChannel-Client-Profile":A.sa}),this.g.U=g,(g=A&&A.Qb)&&!M(g)&&(this.g.u=g),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!M(A)&&(this.g.G=A,g=this.h,g!==null&&A in g&&(g=this.h,A in g&&delete g[A])),this.j=new fs(this)}v(Cr,It),Cr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Cr.prototype.close=function(){bf(this.g)},Cr.prototype.o=function(g){var A=this.g;if(typeof g=="string"){var P={};P.__data__=g,g=P}else this.v&&(P={},P.__data__=qr(g),g=P);A.i.push(new Sn(A.Ya++,g)),A.I==3&&Pa(A)},Cr.prototype.N=function(){this.g.l=null,delete this.j,bf(this.g),delete this.g,Cr.Z.N.call(this)};function bp(g){St.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var A=g.__sm__;if(A){e:{for(const P in A){g=P;break e}g=void 0}(this.i=g)&&(g=this.i,A=A!==null&&g in A?A[g]:void 0),this.data=A}else this.data=g}v(bp,St);function _p(){$r.call(this),this.status=1}v(_p,$r);function fs(g){this.g=g}v(fs,yp),fs.prototype.ra=function(){Rt(this.g,"a")},fs.prototype.qa=function(g){Rt(this.g,new bp(g))},fs.prototype.pa=function(g){Rt(this.g,new _p)},fs.prototype.oa=function(){Rt(this.g,"b")},Eo.prototype.createWebChannel=Eo.prototype.g,Cr.prototype.send=Cr.prototype.o,Cr.prototype.open=Cr.prototype.m,Cr.prototype.close=Cr.prototype.close,u4=function(){return new Eo},c4=function(){return mo()},l4=en,Tw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fr.NO_ERROR=0,Fr.TIMEOUT=8,Fr.HTTP_ERROR=6,rg=Fr,Bl.COMPLETE="complete",o4=Bl,cu.EventType=an,an.OPEN="a",an.CLOSE="b",an.ERROR="c",an.MESSAGE="d",It.prototype.listen=It.prototype.J,wh=cu,Dt.prototype.listenOnce=Dt.prototype.K,Dt.prototype.getLastError=Dt.prototype.Ha,Dt.prototype.getLastErrorCode=Dt.prototype.ya,Dt.prototype.getStatus=Dt.prototype.ca,Dt.prototype.getResponseJson=Dt.prototype.La,Dt.prototype.getResponseText=Dt.prototype.la,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Fa,s4=Dt}).apply(typeof Nv<"u"?Nv:typeof self<"u"?self:typeof window<"u"?window:{});let Er=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Er.UNAUTHENTICATED=new Er(null),Er.GOOGLE_CREDENTIALS=new Er("google-credentials-uid"),Er.FIRST_PARTY=new Er("first-party-uid"),Er.MOCK_USER=new Er("mock-user");let Bd="12.8.0";function TH(t){Bd=t}const $c=new uj("@firebase/firestore");function rd(){return $c.logLevel}function Te(t,...e){if($c.logLevel<=lt.DEBUG){const n=e.map(xj);$c.debug(`Firestore (${Bd}): ${t}`,...n)}}function Fs(t,...e){if($c.logLevel<=lt.ERROR){const n=e.map(xj);$c.error(`Firestore (${Bd}): ${t}`,...n)}}function Fc(t,...e){if($c.logLevel<=lt.WARN){const n=e.map(xj);$c.warn(`Firestore (${Bd}): ${t}`,...n)}}function xj(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ke(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,d4(t,r,n)}function d4(t,e,n){let r=`FIRESTORE (${Bd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fs(r),new Error(r)}function At(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||d4(e,i,r)}function Xe(t,e){return t}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends as{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ls{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class f4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Er.UNAUTHENTICATED)))}shutdown(){}}class CH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class PH{constructor(e){this.t=e,this.currentUser=Er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){At(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new Ls;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ls,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ls)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string",31837,{l:r}),new f4(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string",2055,{h:e}),new Er(e)}}class OH{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Er.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class IH{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new OH(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Er.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RH{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){At(this.o===void 0,3512);const r=s=>{s.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.m;return this.m=s.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new AP(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(At(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new AP(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function DH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Hy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=DH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ct(t,e){return t<e?-1:t>e?1:0}function Cw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return bx(i)===bx(s)?ct(i,s):bx(i)?1:-1}return ct(t.length,e.length)}const kH=55296,MH=57343;function bx(t){const e=t.charCodeAt(0);return e>=kH&&e<=MH}function jd(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const SP="__name__";class Ua{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ke(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ke(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ua.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ua?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ua.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ct(e.length,n.length)}static compareSegments(e,n){const r=Ua.isNumericId(e),i=Ua.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ua.extractNumericId(e).compare(Ua.extractNumericId(n)):Cw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return dl.fromString(e.substring(4,e.length-2))}}class $t extends Ua{construct(e,n,r){return new $t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new $t(n)}static emptyPath(){return new $t([])}}const zH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends Ua{construct(e,n,r){return new tr(e,n,r)}static isValidIdentifier(e){return zH.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===SP}static keyField(){return new tr([SP])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ne(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ne(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ne(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(c=!c,i++):u!=="."||c?(r+=u,i++):(s(),i++)}if(s(),c)throw new Ne(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(n)}static emptyPath(){return new tr([])}}class Me{constructor(e){this.path=e}static fromPath(e){return new Me($t.fromString(e))}static fromName(e){return new Me($t.fromString(e).popFirst(5))}static empty(){return new Me($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new $t(e.slice()))}}function m4(t,e,n){if(!n)throw new Ne(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function p4(t,e,n,r){if(e===!0&&r===!0)throw new Ne(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TP(t){if(!Me.isDocumentKey(t))throw new Ne(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function CP(t){if(Me.isDocumentKey(t))throw new Ne(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function v4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ky(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ke(12329,{type:typeof t})}function wi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ky(t);throw new Ne(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function LH(t,e){if(e<=0)throw new Ne(me.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function kn(t,e){const n={typeString:t};return e&&(n.value=e),n}function wm(t,e){if(!v4(t))throw new Ne(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(i&&typeof c!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&c!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ne(me.INVALID_ARGUMENT,n);return!0}const PP=-62135596800,OP=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*OP);return new nt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<PP)throw new Ne(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/OP}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wm(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-PP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:kn("string",nt._jsonSchemaVersion),seconds:kn("number"),nanoseconds:kn("number")};class Qe{static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new nt(0,0))}static max(){return new Qe(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fh=-1;function VH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Qe.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new gl(i,Me.empty(),e)}function UH(t){return new gl(t.readTime,t.key,Fh)}class gl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new gl(Qe.min(),Me.empty(),Fh)}static max(){return new gl(Qe.max(),Me.empty(),Fh)}}function qH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}const BH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $H{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function $d(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==BH)throw t;Te("LocalStore","Unexpectedly lost primary lease")}class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new be(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof be?n:be.resolve(n)}catch(n){return be.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):be.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):be.reject(n)}static resolve(e){return new be(((n,r)=>{n(e)}))}static reject(e){return new be(((n,r)=>{r(e)}))}static waitFor(e){return new be(((n,r)=>{let i=0,s=0,c=!1;e.forEach((u=>{++i,u.next((()=>{++s,c&&s===i&&n()}),(f=>r(f)))})),c=!0,s===i&&n()}))}static or(e){let n=be.resolve(!1);for(const r of e)n=n.next((i=>i?be.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new be(((r,i)=>{const s=e.length,c=new Array(s);let u=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((p=>{c[h]=p,++u,u===s&&r(c)}),(p=>i(p)))}}))}static doWhile(e,n){return new be(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function FH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fd(t){return t.name==="IndexedDbTransactionError"}class Gy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gy.ce=-1;const wj=-1;function Wy(t){return t==null}function Ng(t){return t===0&&1/t==-1/0}function HH(t){return typeof t=="number"&&Number.isInteger(t)&&!Ng(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const g4="";function KH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=IP(e)),e=GH(t.get(n),e);return IP(e)}function GH(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case g4:n+="";break;default:n+=s}}return n}function IP(t){return t+g4+""}function RP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ol(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function y4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class nn{constructor(e,n){this.comparator=e,this.root=n||vr.EMPTY}insert(e,n){return new nn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vr.BLACK,null,null))}remove(e){return new nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Av(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Av(this.root,e,this.comparator,!1)}getReverseIterator(){return new Av(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Av(this.root,e,this.comparator,!0)}}class Av{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??vr.RED,this.left=i??vr.EMPTY,this.right=s??vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new vr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ke(27949);return e+(this.isRed()?0:1)}}vr.EMPTY=null,vr.RED=!0,vr.BLACK=!1;vr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke(57766)}get value(){throw Ke(16141)}get color(){throw Ke(16727)}get left(){throw Ke(29726)}get right(){throw Ke(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new vr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $n{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new DP(this.data.getIterator())}getIteratorFrom(e){return new DP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof $n)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new $n(this.comparator);return n.data=e,n}}class DP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class gi{constructor(e){this.fields=e,e.sort(tr.comparator)}static empty(){return new gi([])}unionWith(e){let n=new $n(tr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jd(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class b4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new b4("Invalid base64 string: "+s):s}})(e);return new rr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let c=0;c<i.length;++c)s+=String.fromCharCode(i[c]);return s})(e);return new rr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rr.EMPTY_BYTE_STRING=new rr("");const WH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yl(t){if(At(!!t,39018),typeof t=="string"){let e=0;const n=WH.exec(t);if(At(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wn(t.seconds),nanos:wn(t.nanos)}}function wn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bl(t){return typeof t=="string"?rr.fromBase64String(t):rr.fromUint8Array(t)}const _4="server_timestamp",x4="__type__",w4="__previous_value__",E4="__local_write_time__";function Ej(t){return(t?.mapValue?.fields||{})[x4]?.stringValue===_4}function Qy(t){const e=t.mapValue.fields[w4];return Ej(e)?Qy(e):e}function Hh(t){const e=yl(t.mapValue.fields[E4].timestampValue);return new nt(e.seconds,e.nanos)}class QH{constructor(e,n,r,i,s,c,u,f,h,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p,this.apiKey=v}}const Ag="(default)";class Nd{constructor(e,n){this.projectId=e,this.database=n||Ag}static empty(){return new Nd("","")}get isDefaultDatabase(){return this.database===Ag}isEqual(e){return e instanceof Nd&&e.projectId===this.projectId&&e.database===this.database}}function YH(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ne(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nd(t.options.projectId,e)}const j4="__type__",XH="__max__",Sv={mapValue:{}},N4="__vector__",Sg="value";function _l(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ej(t)?4:JH(t)?9007199254740991:ZH(t)?10:11:Ke(28295,{value:t})}function Za(t,e){if(t===e)return!0;const n=_l(t);if(n!==_l(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hh(t).isEqual(Hh(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const c=yl(i.timestampValue),u=yl(s.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return bl(i.bytesValue).isEqual(bl(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return wn(i.geoPointValue.latitude)===wn(s.geoPointValue.latitude)&&wn(i.geoPointValue.longitude)===wn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return wn(i.integerValue)===wn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const c=wn(i.doubleValue),u=wn(s.doubleValue);return c===u?Ng(c)===Ng(u):isNaN(c)&&isNaN(u)}return!1})(t,e);case 9:return jd(t.arrayValue.values||[],e.arrayValue.values||[],Za);case 10:case 11:return(function(i,s){const c=i.mapValue.fields||{},u=s.mapValue.fields||{};if(RP(c)!==RP(u))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(u[f]===void 0||!Za(c[f],u[f])))return!1;return!0})(t,e);default:return Ke(52216,{left:t})}}function Kh(t,e){return(t.values||[]).find((n=>Za(n,e)))!==void 0}function Ad(t,e){if(t===e)return 0;const n=_l(t),r=_l(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(s,c){const u=wn(s.integerValue||s.doubleValue),f=wn(c.integerValue||c.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return kP(t.timestampValue,e.timestampValue);case 4:return kP(Hh(t),Hh(e));case 5:return Cw(t.stringValue,e.stringValue);case 6:return(function(s,c){const u=bl(s),f=bl(c);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,c){const u=s.split("/"),f=c.split("/");for(let h=0;h<u.length&&h<f.length;h++){const p=ct(u[h],f[h]);if(p!==0)return p}return ct(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,c){const u=ct(wn(s.latitude),wn(c.latitude));return u!==0?u:ct(wn(s.longitude),wn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return MP(t.arrayValue,e.arrayValue);case 10:return(function(s,c){const u=s.fields||{},f=c.fields||{},h=u[Sg]?.arrayValue,p=f[Sg]?.arrayValue,v=ct(h?.values?.length||0,p?.values?.length||0);return v!==0?v:MP(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,c){if(s===Sv.mapValue&&c===Sv.mapValue)return 0;if(s===Sv.mapValue)return 1;if(c===Sv.mapValue)return-1;const u=s.fields||{},f=Object.keys(u),h=c.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let v=0;v<f.length&&v<p.length;++v){const y=Cw(f[v],p[v]);if(y!==0)return y;const w=Ad(u[f[v]],h[p[v]]);if(w!==0)return w}return ct(f.length,p.length)})(t.mapValue,e.mapValue);default:throw Ke(23264,{he:n})}}function kP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=yl(t),r=yl(e),i=ct(n.seconds,r.seconds);return i!==0?i:ct(n.nanos,r.nanos)}function MP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ad(n[i],r[i]);if(s)return s}return ct(n.length,r.length)}function Sd(t){return Pw(t)}function Pw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=yl(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return bl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Me.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Pw(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const c of r)s?s=!1:i+=",",i+=`${c}:${Pw(n.fields[c])}`;return i+"}"})(t.mapValue):Ke(61005,{value:t})}function ig(t){switch(_l(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qy(t);return e?16+ig(e):16;case 5:return 2*t.stringValue.length;case 6:return bl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+ig(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Ol(r.fields,((s,c)=>{i+=s.length+ig(c)})),i})(t.mapValue);default:throw Ke(13486,{value:t})}}function zP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ow(t){return!!t&&"integerValue"in t}function jj(t){return!!t&&"arrayValue"in t}function LP(t){return!!t&&"nullValue"in t}function VP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ag(t){return!!t&&"mapValue"in t}function ZH(t){return(t?.mapValue?.fields||{})[j4]?.stringValue===N4}function Ih(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ol(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ih(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ih(t.arrayValue.values[n]);return e}return{...t}}function JH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===XH}class Jr{constructor(e){this.value=e}static empty(){return new Jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ag(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ih(n)}setAll(e){let n=tr.emptyPath(),r={},i=[];e.forEach(((c,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}c?r[u.lastSegment()]=Ih(c):i.push(u.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ag(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Za(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ag(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ol(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Jr(Ih(this.value))}}function A4(t){const e=[];return Ol(t.fields,((n,r)=>{const i=new tr([n]);if(ag(r)){const s=A4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const c of s)e.push(i.child(c))}else e.push(i)})),new gi(e)}class jr{constructor(e,n,r,i,s,c,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=c,this.documentState=u}static newInvalidDocument(e){return new jr(e,0,Qe.min(),Qe.min(),Qe.min(),Jr.empty(),0)}static newFoundDocument(e,n,r,i){return new jr(e,1,n,Qe.min(),r,i,0)}static newNoDocument(e,n){return new jr(e,2,n,Qe.min(),Qe.min(),Jr.empty(),0)}static newUnknownDocument(e,n){return new jr(e,3,n,Qe.min(),Qe.min(),Jr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Tg{constructor(e,n){this.position=e,this.inclusive=n}}function UP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],c=t.position[i];if(s.field.isKeyField()?r=Me.comparator(Me.fromName(c.referenceValue),n.key):r=Ad(c,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function qP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Za(t.position[n],e.position[n]))return!1;return!0}class Gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function eK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class S4{}class Dn extends S4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nK(e,n,r):n==="array-contains"?new aK(e,r):n==="in"?new sK(e,r):n==="not-in"?new oK(e,r):n==="array-contains-any"?new lK(e,r):new Dn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rK(e,r):new iK(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ad(n,this.value)):n!==null&&_l(this.value)===_l(n)&&this.matchesComparison(Ad(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ma extends S4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ma(e,n)}matches(e){return T4(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function T4(t){return t.op==="and"}function C4(t){return tK(t)&&T4(t)}function tK(t){for(const e of t.filters)if(e instanceof ma)return!1;return!0}function Iw(t){if(t instanceof Dn)return t.field.canonicalString()+t.op.toString()+Sd(t.value);if(C4(t))return t.filters.map((e=>Iw(e))).join(",");{const e=t.filters.map((n=>Iw(n))).join(",");return`${t.op}(${e})`}}function P4(t,e){return t instanceof Dn?(function(r,i){return i instanceof Dn&&r.op===i.op&&r.field.isEqual(i.field)&&Za(r.value,i.value)})(t,e):t instanceof ma?(function(r,i){return i instanceof ma&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,c,u)=>s&&P4(c,i.filters[u])),!0):!1})(t,e):void Ke(19439)}function O4(t){return t instanceof Dn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Sd(n.value)}`})(t):t instanceof ma?(function(n){return n.op.toString()+" {"+n.getFilters().map(O4).join(" ,")+"}"})(t):"Filter"}class nK extends Dn{constructor(e,n,r){super(e,n,r),this.key=Me.fromName(r.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class rK extends Dn{constructor(e,n){super(e,"in",n),this.keys=I4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class iK extends Dn{constructor(e,n){super(e,"not-in",n),this.keys=I4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function I4(t,e){return(e.arrayValue?.values||[]).map((n=>Me.fromName(n.referenceValue)))}class aK extends Dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jj(n)&&Kh(n.arrayValue,this.value)}}class sK extends Dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kh(this.value.arrayValue,n)}}class oK extends Dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kh(this.value.arrayValue,n)}}class lK extends Dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jj(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Kh(this.value.arrayValue,r)))}}class cK{constructor(e,n=null,r=[],i=[],s=null,c=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=c,this.endAt=u,this.Te=null}}function BP(t,e=null,n=[],r=[],i=null,s=null,c=null){return new cK(t,e,n,r,i,s,c)}function Nj(t){const e=Xe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Iw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Wy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Sd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Sd(r))).join(",")),e.Te=n}return e.Te}function Aj(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!P4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qP(t.startAt,e.startAt)&&qP(t.endAt,e.endAt)}function Rw(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Hd{constructor(e,n=null,r=[],i=[],s=null,c="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=c,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function uK(t,e,n,r,i,s,c,u){return new Hd(t,e,n,r,i,s,c,u)}function Sj(t){return new Hd(t)}function $P(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dK(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function R4(t){return t.collectionGroup!==null}function Rh(t){const e=Xe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new $n(tr.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Gh(s,r))})),n.has(tr.keyField().canonicalString())||e.Ie.push(new Gh(tr.keyField(),r))}return e.Ie}function Wa(t){const e=Xe(t);return e.Ee||(e.Ee=fK(e,Rh(t))),e.Ee}function fK(t,e){if(t.limitType==="F")return BP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Gh(i.field,s)}));const n=t.endAt?new Tg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Tg(t.startAt.position,t.startAt.inclusive):null;return BP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Dw(t,e){const n=t.filters.concat([e]);return new Hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hK(t,e){const n=t.explicitOrderBy.concat([e]);return new Hd(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Cg(t,e,n){return new Hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yy(t,e){return Aj(Wa(t),Wa(e))&&t.limitType===e.limitType}function D4(t){return`${Nj(Wa(t))}|lt:${t.limitType}`}function id(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>O4(i))).join(", ")}]`),Wy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Sd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Sd(i))).join(",")),`Target(${r})`})(Wa(t))}; limitType=${t.limitType})`}function Xy(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Me.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Rh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(c,u,f){const h=UP(c,u,f);return c.inclusive?h<=0:h<0})(r.startAt,Rh(r),i)||r.endAt&&!(function(c,u,f){const h=UP(c,u,f);return c.inclusive?h>=0:h>0})(r.endAt,Rh(r),i))})(t,e)}function mK(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function k4(t){return(e,n)=>{let r=!1;for(const i of Rh(t)){const s=pK(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function pK(t,e,n){const r=t.field.isKeyField()?Me.comparator(e.key,n.key):(function(s,c,u){const f=c.data.field(s),h=u.data.field(s);return f!==null&&h!==null?Ad(f,h):Ke(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ke(19790,{direction:t.dir})}}class au{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ol(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return y4(this.inner)}size(){return this.innerSize}}const vK=new nn(Me.comparator);function Hs(){return vK}const M4=new nn(Me.comparator);function Eh(...t){let e=M4;for(const n of t)e=e.insert(n.key,n);return e}function z4(t){let e=M4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function jc(){return Dh()}function L4(){return Dh()}function Dh(){return new au((t=>t.toString()),((t,e)=>t.isEqual(e)))}const gK=new nn(Me.comparator),yK=new $n(Me.comparator);function ut(...t){let e=yK;for(const n of t)e=e.add(n);return e}const bK=new $n(ct);function _K(){return bK}function Tj(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ng(e)?"-0":e}}function V4(t){return{integerValue:""+t}}function xK(t,e){return HH(e)?V4(e):Tj(t,e)}class Zy{constructor(){this._=void 0}}function wK(t,e,n){return t instanceof Wh?(function(i,s){const c={fields:{[x4]:{stringValue:_4},[E4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ej(s)&&(s=Qy(s)),s&&(c.fields[w4]=s),{mapValue:c}})(n,e):t instanceof Qh?q4(t,e):t instanceof Yh?B4(t,e):(function(i,s){const c=U4(i,s),u=FP(c)+FP(i.Ae);return Ow(c)&&Ow(i.Ae)?V4(u):Tj(i.serializer,u)})(t,e)}function EK(t,e,n){return t instanceof Qh?q4(t,e):t instanceof Yh?B4(t,e):n}function U4(t,e){return t instanceof Pg?(function(r){return Ow(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Wh extends Zy{}class Qh extends Zy{constructor(e){super(),this.elements=e}}function q4(t,e){const n=$4(e);for(const r of t.elements)n.some((i=>Za(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Yh extends Zy{constructor(e){super(),this.elements=e}}function B4(t,e){let n=$4(e);for(const r of t.elements)n=n.filter((i=>!Za(i,r)));return{arrayValue:{values:n}}}class Pg extends Zy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function FP(t){return wn(t.integerValue||t.doubleValue)}function $4(t){return jj(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class jK{constructor(e,n){this.field=e,this.transform=n}}function NK(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Qh&&i instanceof Qh||r instanceof Yh&&i instanceof Yh?jd(r.elements,i.elements,Za):r instanceof Pg&&i instanceof Pg?Za(r.Ae,i.Ae):r instanceof Wh&&i instanceof Wh})(t.transform,e.transform)}class AK{constructor(e,n){this.version=e,this.transformResults=n}}class kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jy{}function F4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new e0(t.key,kr.none()):new Em(t.key,t.data,kr.none());{const n=t.data,r=Jr.empty();let i=new $n(tr.comparator);for(let s of e.fields)if(!i.has(s)){let c=n.field(s);c===null&&s.length>1&&(s=s.popLast(),c=n.field(s)),c===null?r.delete(s):r.set(s,c),i=i.add(s)}return new Il(t.key,r,new gi(i.toArray()),kr.none())}}function SK(t,e,n){t instanceof Em?(function(i,s,c){const u=i.value.clone(),f=KP(i.fieldTransforms,s,c.transformResults);u.setAll(f),s.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(t,e,n):t instanceof Il?(function(i,s,c){if(!sg(i.precondition,s))return void s.convertToUnknownDocument(c.version);const u=KP(i.fieldTransforms,s,c.transformResults),f=s.data;f.setAll(H4(i)),f.setAll(u),s.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,c){s.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function kh(t,e,n,r){return t instanceof Em?(function(s,c,u,f){if(!sg(s.precondition,c))return u;const h=s.value.clone(),p=GP(s.fieldTransforms,f,c);return h.setAll(p),c.convertToFoundDocument(c.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof Il?(function(s,c,u,f){if(!sg(s.precondition,c))return u;const h=GP(s.fieldTransforms,f,c),p=c.data;return p.setAll(H4(s)),p.setAll(h),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(s,c,u){return sg(s.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u})(t,e,n)}function TK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=U4(r.transform,i||null);s!=null&&(n===null&&(n=Jr.empty()),n.set(r.field,s))}return n||null}function HP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&jd(r,i,((s,c)=>NK(s,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Em extends Jy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Il extends Jy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function H4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function KP(t,e,n){const r=new Map;At(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],c=s.transform,u=e.data.field(s.field);r.set(s.field,EK(c,u,n[i]))}return r}function GP(t,e,n){const r=new Map;for(const i of t){const s=i.transform,c=n.data.field(i.field);r.set(i.field,wK(s,c,e))}return r}class e0 extends Jy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CK extends Jy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PK{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&SK(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=L4();return this.mutations.forEach((i=>{const s=e.get(i.key),c=s.overlayedDocument;let u=this.applyToLocalView(c,s.mutatedFields);u=n.has(i.key)?null:u;const f=F4(c,u);f!==null&&r.set(i.key,f),c.isValidDocument()||c.convertToNoDocument(Qe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ut())}isEqual(e){return this.batchId===e.batchId&&jd(this.mutations,e.mutations,((n,r)=>HP(n,r)))&&jd(this.baseMutations,e.baseMutations,((n,r)=>HP(n,r)))}}class Cj{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){At(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return gK})();const s=e.mutations;for(let c=0;c<s.length;c++)i=i.insert(s[c].key,r[c].version);return new Cj(e,n,r,i)}}class OK{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class IK{constructor(e,n){this.count=e,this.unchangedNames=n}}var Rn,pt;function RK(t){switch(t){case me.OK:return Ke(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Ke(15467,{code:t})}}function K4(t){if(t===void 0)return Fs("GRPC error has no .code"),me.UNKNOWN;switch(t){case Rn.OK:return me.OK;case Rn.CANCELLED:return me.CANCELLED;case Rn.UNKNOWN:return me.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return me.INTERNAL;case Rn.UNAVAILABLE:return me.UNAVAILABLE;case Rn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Rn.NOT_FOUND:return me.NOT_FOUND;case Rn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Rn.ABORTED:return me.ABORTED;case Rn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Rn.DATA_LOSS:return me.DATA_LOSS;default:return Ke(39323,{code:t})}}(pt=Rn||(Rn={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";function DK(){return new TextEncoder}const kK=new dl([4294967295,4294967295],0);function WP(t){const e=DK().encode(t),n=new a4;return n.update(e),new Uint8Array(n.digest())}function QP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new dl([n,r],0),new dl([i,s],0)]}class Pj{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jh(`Invalid padding: ${n}`);if(r<0)throw new jh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=dl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(dl.fromNumber(r)));return i.compare(kK)===1&&(i=new dl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=WP(e),[r,i]=QP(n);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,i,s);if(!this.we(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new Pj(s,i,n);return r.forEach((u=>c.insert(u))),c}insert(e){if(this.ge===0)return;const n=WP(e),[r,i]=QP(n);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,i,s);this.be(c)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class jh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class t0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,jm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t0(Qe.min(),i,new nn(ct),Hs(),ut())}}class jm{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jm(r,n,ut(),ut(),ut())}}class og{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class G4{constructor(e,n){this.targetId=e,this.Ce=n}}class W4{constructor(e,n,r=rr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YP{constructor(){this.ve=0,this.Fe=XP(),this.Me=rr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ut(),n=ut(),r=ut();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ke(38017,{changeType:s})}})),new jm(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=XP()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,At(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class MK{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hs(),this.He=Tv(),this.Je=Tv(),this.Ze=new nn(ct)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Rw(s))if(r===0){const c=new Me(s.path);this.et(n,c,jr.newNoDocument(c,Qe.min()))}else At(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const u=this.ut(e),f=u?this.ct(u,e,c):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let c,u;try{c=bl(r).toUint8Array()}catch(f){if(f instanceof b4)return Fc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new Pj(c,i,s)}catch(f){return Fc(f instanceof jh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const c=this.Ge.ht(),u=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,c)=>{const u=this.ot(c);if(u){if(s.current&&Rw(u.target)){const f=new Me(u.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,jr.newNoDocument(f,e))}s.Be&&(n.set(c,s.ke()),s.Ke())}}));let r=ut();this.Je.forEach(((s,c)=>{let u=!0;c.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,c)=>c.setReadTime(e)));const i=new t0(e,n,this.Ze,this.je,r);return this.je=Hs(),this.He=Tv(),this.Je=Tv(),this.Ze=new nn(ct),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new YP,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new $n(ct),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new $n(ct),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YP),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Tv(){return new nn(Me.comparator)}function XP(){return new nn(Me.comparator)}const zK={asc:"ASCENDING",desc:"DESCENDING"},LK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VK={and:"AND",or:"OR"};class UK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kw(t,e){return t.useProto3Json||Wy(e)?e:{value:e}}function Og(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qK(t,e){return Og(t,e.toTimestamp())}function Qa(t){return At(!!t,49232),Qe.fromTimestamp((function(n){const r=yl(n);return new nt(r.seconds,r.nanos)})(t))}function Oj(t,e){return Mw(t,e).canonicalString()}function Mw(t,e){const n=(function(i){return new $t(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Y4(t){const e=$t.fromString(t);return At(tL(e),10190,{key:e.toString()}),e}function zw(t,e){return Oj(t.databaseId,e.path)}function _x(t,e){const n=Y4(e);if(n.get(1)!==t.databaseId.projectId)throw new Ne(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ne(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(Z4(n))}function X4(t,e){return Oj(t.databaseId,e)}function BK(t){const e=Y4(t);return e.length===4?$t.emptyPath():Z4(e)}function Lw(t){return new $t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Z4(t){return At(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ZP(t,e,n){return{name:zw(t,e),fields:n.value.mapValue.fields}}function $K(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ke(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(At(p===void 0||typeof p=="string",58123),rr.fromBase64String(p||"")):(At(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),rr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,u=c&&(function(h){const p=h.code===void 0?me.UNKNOWN:K4(h.code);return new Ne(p,h.message||"")})(c);n=new W4(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_x(t,r.document.name),s=Qa(r.document.updateTime),c=r.document.createTime?Qa(r.document.createTime):Qe.min(),u=new Jr({mapValue:{fields:r.document.fields}}),f=jr.newFoundDocument(i,s,c,u),h=r.targetIds||[],p=r.removedTargetIds||[];n=new og(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_x(t,r.document),s=r.readTime?Qa(r.readTime):Qe.min(),c=jr.newNoDocument(i,s),u=r.removedTargetIds||[];n=new og([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_x(t,r.document),s=r.removedTargetIds||[];n=new og([],s,i,null)}else{if(!("filter"in e))return Ke(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,c=new IK(i,s),u=r.targetId;n=new G4(u,c)}}return n}function FK(t,e){let n;if(e instanceof Em)n={update:ZP(t,e.key,e.value)};else if(e instanceof e0)n={delete:zw(t,e.key)};else if(e instanceof Il)n={update:ZP(t,e.key,e.data),updateMask:JK(e.fieldMask)};else{if(!(e instanceof CK))return Ke(16599,{dt:e.type});n={verify:zw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,c){const u=c.transform;if(u instanceof Wh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Qh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Yh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Pg)return{fieldPath:c.field.canonicalString(),increment:u.Ae};throw Ke(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:qK(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ke(27497)})(t,e.precondition)),n}function HK(t,e){return t&&t.length>0?(At(e!==void 0,14353),t.map((n=>(function(i,s){let c=i.updateTime?Qa(i.updateTime):Qa(s);return c.isEqual(Qe.min())&&(c=Qa(s)),new AK(c,i.transformResults||[])})(n,e)))):[]}function KK(t,e){return{documents:[X4(t,e.path)]}}function GK(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=X4(t,i);const s=(function(h){if(h.length!==0)return eL(ma.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const c=(function(h){if(h.length!==0)return h.map((p=>(function(y){return{field:ad(y.field),direction:YK(y.dir)}})(p)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const u=kw(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function WK(t){let e=BK(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){At(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(v){const y=J4(v);return y instanceof ma&&C4(y)?y.getFilters():[y]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((y=>(function(j){return new Gh(sd(j.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(y)))})(n.orderBy));let u=null;n.limit&&(u=(function(v){let y;return y=typeof v=="object"?v.value:v,Wy(y)?null:y})(n.limit));let f=null;n.startAt&&(f=(function(v){const y=!!v.before,w=v.values||[];return new Tg(w,y)})(n.startAt));let h=null;return n.endAt&&(h=(function(v){const y=!v.before,w=v.values||[];return new Tg(w,y)})(n.endAt)),uK(e,i,c,s,u,"F",f,h)}function QK(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function J4(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=sd(n.unaryFilter.field);return Dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=sd(n.unaryFilter.field);return Dn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=sd(n.unaryFilter.field);return Dn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=sd(n.unaryFilter.field);return Dn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ke(61313);default:return Ke(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Dn.create(sd(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ke(58110);default:return Ke(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ma.create(n.compositeFilter.filters.map((r=>J4(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ke(1026)}})(n.compositeFilter.op))})(t):Ke(30097,{filter:t})}function YK(t){return zK[t]}function XK(t){return LK[t]}function ZK(t){return VK[t]}function ad(t){return{fieldPath:t.canonicalString()}}function sd(t){return tr.fromServerFormat(t.fieldPath)}function eL(t){return t instanceof Dn?(function(n){if(n.op==="=="){if(VP(n.value))return{unaryFilter:{field:ad(n.field),op:"IS_NAN"}};if(LP(n.value))return{unaryFilter:{field:ad(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VP(n.value))return{unaryFilter:{field:ad(n.field),op:"IS_NOT_NAN"}};if(LP(n.value))return{unaryFilter:{field:ad(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ad(n.field),op:XK(n.op),value:n.value}}})(t):t instanceof ma?(function(n){const r=n.getFilters().map((i=>eL(i)));return r.length===1?r[0]:{compositeFilter:{op:ZK(n.op),filters:r}}})(t):Ke(54877,{filter:t})}function JK(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function tL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function nL(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class al{constructor(e,n,r,i,s=Qe.min(),c=Qe.min(),u=rr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new al(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class eG{constructor(e){this.yt=e}}function tG(t){const e=WK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cg(e,e.limit,"L"):e}class nG{constructor(){this.Sn=new rG}addToCollectionParentIndex(e,n){return this.Sn.add(n),be.resolve()}getCollectionParents(e,n){return be.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return be.resolve()}deleteFieldIndex(e,n){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,n){return be.resolve()}getDocumentsMatchingTarget(e,n){return be.resolve(null)}getIndexType(e,n){return be.resolve(0)}getFieldIndexes(e,n){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,n){return be.resolve(gl.min())}getMinOffsetFromCollectionGroup(e,n){return be.resolve(gl.min())}updateCollectionGroup(e,n,r){return be.resolve()}updateIndexEntries(e,n){return be.resolve()}}class rG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $n($t.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $n($t.comparator)).toArray()}}const JP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rL=41943040;class Zr{static withCacheSize(e){return new Zr(e,Zr.DEFAULT_COLLECTION_PERCENTILE,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Zr.DEFAULT_COLLECTION_PERCENTILE=10,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zr.DEFAULT=new Zr(rL,Zr.DEFAULT_COLLECTION_PERCENTILE,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zr.DISABLED=new Zr(-1,0,0);class Td{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Td(0)}static ar(){return new Td(-1)}}const eO="LruGarbageCollector",iG=1048576;function tO([t,e],[n,r]){const i=ct(t,n);return i===0?ct(e,r):i}class aG{constructor(e){this.Pr=e,this.buffer=new $n(tO),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Te(eO,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fd(n)?Te(eO,"Ignoring IndexedDB error during garbage collection: ",n):await $d(n)}await this.Ar(3e5)}))}}class oG{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return be.resolve(Gy.ce);const r=new aG(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(JP)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JP):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,c,u,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,c=Date.now(),this.nthSequenceNumber(e,i)))).next((v=>(r=v,u=Date.now(),this.removeTargets(e,r,n)))).next((v=>(s=v,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(h=Date.now(),rd()<=lt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${i} in `+(u-c)+`ms
	Removed ${s} targets in `+(f-u)+`ms
	Removed ${v} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:v}))))}}function lG(t,e){return new oG(t,e)}class cG{constructor(){this.changes=new au((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?be.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class dG{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&kh(r.mutation,i,gi.empty(),nt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ut()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ut()){const i=jc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let c=Eh();return s.forEach(((u,f)=>{c=c.insert(u,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=jc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ut())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((c,u)=>{n.set(c,u)}))}))}computeViews(e,n,r,i){let s=Hs();const c=Dh(),u=(function(){return Dh()})();return n.forEach(((f,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Il)?s=s.insert(h.key,h):p!==void 0?(c.set(h.key,p.mutation.getFieldMask()),kh(p.mutation,h,p.mutation.getFieldMask(),nt.now())):c.set(h.key,gi.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,p)=>c.set(h,p))),n.forEach(((h,p)=>u.set(h,new uG(p,c.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Dh();let i=new nn(((c,u)=>c-u)),s=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const u of c)u.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||gi.empty();p=u.applyToLocalView(h,p),r.set(f,p);const v=(i.get(u.batchId)||ut()).add(f);i=i.insert(u.batchId,v)}))})).next((()=>{const c=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),h=f.key,p=f.value,v=L4();p.forEach((y=>{if(!s.has(y)){const w=F4(n.get(y),r.get(y));w!==null&&v.set(y,w),s=s.add(y)}})),c.push(this.documentOverlayCache.saveOverlays(e,h,v))}return be.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return dK(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):R4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const c=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):be.resolve(jc());let u=Fh,f=s;return c.next((h=>be.forEach(h,((p,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),s.get(p)?be.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{f=f.insert(p,y)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,ut()))).next((p=>({batchId:u,changes:z4(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next((r=>{let i=Eh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let c=Eh();return this.indexManager.getCollectionParents(e,s).next((u=>be.forEach(u,(f=>{const h=(function(v,y){return new Hd(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((v,y)=>{c=c.insert(v,y)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(s=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((c=>{s.forEach(((f,h)=>{const p=h.getKey();c.get(p)===null&&(c=c.insert(p,jr.newInvalidDocument(p)))}));let u=Eh();return c.forEach(((f,h)=>{const p=s.get(f);p!==void 0&&kh(p.mutation,h,gi.empty(),nt.now()),Xy(n,h)&&(u=u.insert(f,h))})),u}))}}class fG{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return be.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Qa(i.createTime)}})(n)),be.resolve()}getNamedQuery(e,n){return be.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:tG(i.bundledQuery),readTime:Qa(i.readTime)}})(n)),be.resolve()}}class hG{constructor(){this.overlays=new nn(Me.comparator),this.Lr=new Map}getOverlay(e,n){return be.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jc();return be.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.bt(e,n,s)})),be.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Lr.delete(r)),be.resolve()}getOverlaysForCollection(e,n,r){const i=jc(),s=n.length+1,c=new Me(n.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const f=u.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return be.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new nn(((h,p)=>h-p));const c=this.overlays.getIterator();for(;c.hasNext();){const h=c.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=jc(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=jc(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=i)););return be.resolve(u)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new OK(n,r));let s=this.Lr.get(n);s===void 0&&(s=ut(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}class mG{constructor(){this.sessionToken=rr.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,be.resolve()}}class Ij{constructor(){this.kr=new $n(Jn.Kr),this.qr=new $n(Jn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Jn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Jn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Me(new $t([])),r=new Jn(n,e),i=new Jn(n,e+1),s=[];return this.qr.forEachInRange([r,i],(c=>{this.Wr(c),s.push(c.key)})),s}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Me(new $t([])),r=new Jn(n,e),i=new Jn(n,e+1);let s=ut();return this.qr.forEachInRange([r,i],(c=>{s=s.add(c.key)})),s}containsKey(e){const n=new Jn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Jn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Me.comparator(e.key,n.key)||ct(e.Hr,n.Hr)}static Ur(e,n){return ct(e.Hr,n.Hr)||Me.comparator(e.key,n.key)}}class pG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new $n(Jn.Kr)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new PK(s,n,r,i);this.mutationQueue.push(c);for(const u of i)this.Jr=this.Jr.add(new Jn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return be.resolve(c)}lookupMutationBatch(e,n){return be.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return be.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?wj:this.Yn-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Jn(n,0),i=new Jn(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],(c=>{const u=this.Zr(c.Hr);s.push(u)})),be.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $n(ct);return n.forEach((i=>{const s=new Jn(i,0),c=new Jn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,c],(u=>{r=r.add(u.Hr)}))})),be.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Me.isDocumentKey(s)||(s=s.child(""));const c=new Jn(new Me(s),0);let u=new $n(ct);return this.Jr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(f.Hr)),!0)}),c),be.resolve(this.Yr(u))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){At(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return be.forEach(n.mutations,(i=>{const s=new Jn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Jn(n,0),i=this.Jr.firstAfterOrEqual(r);return be.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class vG{constructor(e){this.ti=e,this.docs=(function(){return new nn(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,c=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return be.resolve(r?r.document.mutableCopy():jr.newInvalidDocument(n))}getEntries(e,n){let r=Hs();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():jr.newInvalidDocument(i))})),be.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Hs();const c=n.path,u=new Me(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!c.isPrefixOf(h.path))break;h.path.length>c.length+1||qH(UH(p),r)<=0||(i.has(p.key)||Xy(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return be.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ke(9500)}ni(e,n){return be.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new gG(this)}getSize(e){return be.resolve(this.size)}}class gG extends cG{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),be.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class yG{constructor(e){this.persistence=e,this.ri=new au((n=>Nj(n)),Aj),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.ii=0,this.si=new Ij,this.targetCount=0,this.oi=Td._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),be.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Td(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,be.resolve()}updateTargetData(e,n){return this.lr(n),be.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach(((c,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ri.delete(c),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),be.waitFor(s).next((()=>i))}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return be.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),be.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((c=>{s.push(i.markPotentiallyOrphaned(e,c))})),be.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),be.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return be.resolve(r)}containsKey(e,n){return be.resolve(this.si.containsKey(n))}}class iL{constructor(e,n){this._i={},this.overlays={},this.ai=new Gy(0),this.ui=!1,this.ui=!0,this.ci=new mG,this.referenceDelegate=e(this),this.li=new yG(this),this.indexManager=new nG,this.remoteDocumentCache=(function(i){return new vG(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new eG(n),this.Pi=new fG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new pG(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new bG(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((s=>this.referenceDelegate.Ii(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ei(e,n){return be.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class bG extends $H{constructor(e){super(),this.currentSequenceNumber=e}}class Rj{constructor(e){this.persistence=e,this.Ri=new Ij,this.Ai=null}static Vi(e){return new Rj(e)}get di(){if(this.Ai)return this.Ai;throw Ke(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),be.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),be.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),be.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.di.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.di,(r=>{const i=Me.fromPath(r);return this.mi(e,i).next((s=>{s||n.removeEntry(i,Qe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return be.or([()=>be.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ig{constructor(e,n){this.persistence=e,this.fi=new au((r=>KH(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=lG(this,n)}static Vi(e,n){return new Ig(e,n)}Ti(){}Ii(e){return be.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return be.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((s=>s?be.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,(c=>this.wr(e,c,n).next((u=>{u||(r++,s.removeEntry(c,Qe.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),be.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),be.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),be.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),be.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ig(e.data.value)),n}wr(e,n,r){return be.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return be.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Dj{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=ut(),i=ut();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Dj(e,n.fromCache,r,i)}}class _G{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xG{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return GB()?8:FH(Sr())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next((c=>{s.result=c})).next((()=>{if(!s.result)return this.ps(e,n,i,r).next((c=>{s.result=c}))})).next((()=>{if(s.result)return;const c=new _G;return this.ys(e,n,c).next((u=>{if(s.result=u,this.As)return this.ws(e,n,c,u.size)}))})).next((()=>s.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(rd()<=lt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",id(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),be.resolve()):(rd()<=lt.DEBUG&&Te("QueryEngine","Query:",id(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(rd()<=lt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",id(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wa(n))):be.resolve())}gs(e,n){if($P(n))return be.resolve(null);let r=Wa(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Cg(n,null,"F"),r=Wa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const c=ut(...s);return this.fs.getDocuments(e,c).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.bs(n,u);return this.Ss(n,h,c,f.readTime)?this.gs(e,Cg(n,null,"F")):this.Ds(e,h,n,f)}))))})))))}ps(e,n,r,i){return $P(n)||i.isEqual(Qe.min())?be.resolve(null):this.fs.getDocuments(e,r).next((s=>{const c=this.bs(n,s);return this.Ss(n,c,r,i)?be.resolve(null):(rd()<=lt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),id(n)),this.Ds(e,c,n,VH(i,Fh)).next((u=>u)))}))}bs(e,n){let r=new $n(k4(e));return n.forEach(((i,s)=>{Xy(e,s)&&(r=r.add(s))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return rd()<=lt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",id(n)),this.fs.getDocumentsMatchingQuery(e,n,gl.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((c=>{s=s.insert(c.key,c)})),s)))}}const kj="LocalStore",wG=3e8;class EG{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new nn(ct),this.Fs=new au((s=>Nj(s)),Aj),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dG(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function jG(t,e,n,r){return new EG(t,e,n,r)}async function aL(t,e){const n=Xe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const c=[],u=[];let f=ut();for(const h of i){c.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of s){u.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ns:h,removedBatchIds:c,addedBatchIds:u})))}))}))}function NG(t,e){const n=Xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return(function(u,f,h,p){const v=h.batch,y=v.keys();let w=be.resolve();return y.forEach((j=>{w=w.next((()=>p.getEntry(f,j))).next((E=>{const N=h.docVersions.get(j);At(N!==null,48541),E.version.compareTo(N)<0&&(v.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),p.addEntry(E)))}))})),w.next((()=>u.mutationQueue.removeMutationBatch(f,v)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=ut();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(f=f.add(u.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function sL(t){const e=Xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function AG(t,e){const n=Xe(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const u=[];e.targetChanges.forEach(((p,v)=>{const y=i.get(v);if(!y)return;u.push(n.li.removeMatchingKeys(s,p.removedDocuments,v).next((()=>n.li.addMatchingKeys(s,p.addedDocuments,v))));let w=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(rr.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),i=i.insert(v,w),(function(E,N,S){return E.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=wG?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(y,w,p)&&u.push(n.li.updateTargetData(s,w))}));let f=Hs(),h=ut();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),u.push(SG(s,c,e.documentUpdates).next((p=>{f=p.Bs,h=p.Ls}))),!r.isEqual(Qe.min())){const p=n.li.getLastRemoteSnapshotVersion(s).next((v=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(p)}return be.waitFor(u).next((()=>c.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.vs=i,s)))}function SG(t,e,n){let r=ut(),i=ut();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let c=Hs();return n.forEach(((u,f)=>{const h=s.get(u);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(Qe.min())?(e.removeEntry(u,f.readTime),c=c.insert(u,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),c=c.insert(u,f)):Te(kj,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",f.version)})),{Bs:c,Ls:i}}))}function TG(t,e){const n=Xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=wj),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function CG(t,e){const n=Xe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((s=>s?(i=s,be.resolve(i)):n.li.allocateTargetId(r).next((c=>(i=new al(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Vw(t,e,n){const r=Xe(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Fd(c))throw c;Te(kj,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function nO(t,e,n){const r=Xe(t);let i=Qe.min(),s=ut();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,h,p){const v=Xe(f),y=v.Fs.get(p);return y!==void 0?be.resolve(v.vs.get(y)):v.li.getTargetData(h,p)})(r,c,Wa(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,u.targetId).next((f=>{s=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,n?i:Qe.min(),n?s:ut()))).next((u=>(PG(r,mK(e),u),{documents:u,ks:s})))))}function PG(t,e,n){let r=t.Ms.get(e)||Qe.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Ms.set(e,r)}class rO{constructor(){this.activeTargetIds=_K()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OG{constructor(){this.vo=new rO,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new rO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class IG{Mo(e){}shutdown(){}}const iO="ConnectivityMonitor";class aO{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Te(iO,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Te(iO,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cv=null;function Uw(){return Cv===null?Cv=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cv++,"0x"+Cv.toString(16)}const xx="RestConnection",RG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class DG{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Ag?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const c=Uw(),u=this.Qo(e,n.toUriEncodedString());Te(xx,`Sending RPC '${e}' ${c}:`,u,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,i,s);const{host:h}=new URL(u),p=Cl(h);return this.zo(e,u,f,r,p).then((v=>(Te(xx,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw Fc(xx,`RPC '${e}' ${c} failed with error: `,v,"url: ",u,"request:",r),v}))}jo(e,n,r,i,s,c){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}Qo(e,n){const r=RG[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class kG{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const _r="WebChannelConnection",sh=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class yd extends DG{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!yd.c_){const e=c4();sh(e,l4.STAT_EVENT,(n=>{n.stat===Tw.PROXY?Te(_r,"STAT_EVENT: detected buffering proxy"):n.stat===Tw.NOPROXY&&Te(_r,"STAT_EVENT: detected no buffering proxy")})),yd.c_=!0}}zo(e,n,r,i,s){const c=Uw();return new Promise(((u,f)=>{const h=new s4;h.setWithCredentials(!0),h.listenOnce(o4.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case rg.NO_ERROR:const v=h.getResponseJson();Te(_r,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),u(v);break;case rg.TIMEOUT:Te(_r,`RPC '${e}' ${c} timed out`),f(new Ne(me.DEADLINE_EXCEEDED,"Request time out"));break;case rg.HTTP_ERROR:const y=h.getStatus();if(Te(_r,`RPC '${e}' ${c} failed with status:`,y,"response text:",h.getResponseText()),y>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const j=w?.error;if(j&&j.status&&j.message){const E=(function(S){const D=S.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(D)>=0?D:me.UNKNOWN})(j.status);f(new Ne(E,j.message))}else f(new Ne(me.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Ne(me.UNAVAILABLE,"Connection failed."));break;default:Ke(9055,{l_:e,streamId:c,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Te(_r,`RPC '${e}' ${c} completed.`)}}));const p=JSON.stringify(i);Te(_r,`RPC '${e}' ${c} sending request:`,i),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=Uw(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");Te(_r,`Creating RPC '${e}' stream ${i}: ${h}`,u);const p=c.createWebChannel(h,u);this.I_(p);let v=!1,y=!1;const w=new kG({Ho:j=>{y?Te(_r,`Not sending because RPC '${e}' stream ${i} is closed:`,j):(v||(Te(_r,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),Te(_r,`RPC '${e}' stream ${i} sending:`,j),p.send(j))},Jo:()=>p.close()});return sh(p,wh.EventType.OPEN,(()=>{y||(Te(_r,`RPC '${e}' stream ${i} transport opened.`),w.i_())})),sh(p,wh.EventType.CLOSE,(()=>{y||(y=!0,Te(_r,`RPC '${e}' stream ${i} transport closed`),w.o_(),this.E_(p))})),sh(p,wh.EventType.ERROR,(j=>{y||(y=!0,Fc(_r,`RPC '${e}' stream ${i} transport errored. Name:`,j.name,"Message:",j.message),w.o_(new Ne(me.UNAVAILABLE,"The operation could not be completed")))})),sh(p,wh.EventType.MESSAGE,(j=>{if(!y){const E=j.data[0];At(!!E,16349);const N=E,S=N?.error||N[0]?.error;if(S){Te(_r,`RPC '${e}' stream ${i} received error:`,S);const D=S.status;let R=(function(z){const O=Rn[z];if(O!==void 0)return K4(O)})(D),I=S.message;R===void 0&&(R=me.INTERNAL,I="Unknown error status: "+D+" with message "+S.message),y=!0,w.o_(new Ne(R,I)),p.close()}else Te(_r,`RPC '${e}' stream ${i} received:`,E),w.__(E)}})),yd.u_(),setTimeout((()=>{w.s_()}),0),w}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return u4()}}function MG(t){return new yd(t)}function wx(){return typeof document<"u"?document:null}function n0(t){return new UK(t,!0)}yd.c_=!1;class oL{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const sO="PersistentStream";class lL{constructor(e,n,r,i,s,c,u,f){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oL(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(Fs(n.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ne(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(sO,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Te(sO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zG extends lL{constructor(e,n,r,i,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$K(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Qe.min();const c=s.targetChange;return c.targetIds&&c.targetIds.length?Qe.min():c.readTime?Qa(c.readTime):Qe.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Lw(this.serializer),n.addTarget=(function(s,c){let u;const f=c.target;if(u=Rw(f)?{documents:KK(s,f)}:{query:GK(s,f).ft},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=Q4(s,c.resumeToken);const h=kw(s,c.expectedCount);h!==null&&(u.expectedCount=h)}else if(c.snapshotVersion.compareTo(Qe.min())>0){u.readTime=Og(s,c.snapshotVersion.toTimestamp());const h=kw(s,c.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const r=QK(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Lw(this.serializer),n.removeTarget=e,this.K_(n)}}class LG extends lL{constructor(e,n,r,i,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return At(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){At(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=HK(e.writeResults,e.commitTime),r=Qa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Lw(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>FK(this.serializer,r)))};this.K_(n)}}class VG{}class UG extends VG{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ne(me.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,c])=>this.connection.Wo(e,Mw(n,r),i,s,c))).catch((s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(me.UNKNOWN,s.toString())}))}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.jo(e,Mw(n,r),i,c,u,s))).catch((c=>{throw c.name==="FirebaseError"?(c.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ne(me.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function qG(t,e,n,r){return new UG(t,e,n,r)}class BG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fs(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Hc="RemoteStore";class $G{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{su(this)&&(Te(Hc,"Restarting streams for network reachability change."),await(async function(f){const h=Xe(f);h.Ea.add(4),await Nm(h),h.Va.set("Unknown"),h.Ea.delete(4),await r0(h)})(this))}))})),this.Va=new BG(r,i)}}async function r0(t){if(su(t))for(const e of t.Ra)await e(!0)}async function Nm(t){for(const e of t.Ra)await e(!1)}function cL(t,e){const n=Xe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Vj(n)?Lj(n):Kd(n).O_()&&zj(n,e))}function Mj(t,e){const n=Xe(t),r=Kd(n);n.Ia.delete(e),r.O_()&&uL(n,e),n.Ia.size===0&&(r.O_()?r.L_():su(n)&&n.Va.set("Unknown"))}function zj(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Kd(t).Z_(e)}function uL(t,e){t.da.$e(e),Kd(t).X_(e)}function Lj(t){t.da=new MK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Kd(t).start(),t.Va.ua()}function Vj(t){return su(t)&&!Kd(t).x_()&&t.Ia.size>0}function su(t){return Xe(t).Ea.size===0}function dL(t){t.da=void 0}async function FG(t){t.Va.set("Online")}async function HG(t){t.Ia.forEach(((e,n)=>{zj(t,e)}))}async function KG(t,e){dL(t),Vj(t)?(t.Va.ha(e),Lj(t)):t.Va.set("Unknown")}async function GG(t,e,n){if(t.Va.set("Online"),e instanceof W4&&e.state===2&&e.cause)try{await(async function(i,s){const c=s.cause;for(const u of s.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,c),i.Ia.delete(u),i.da.removeTarget(u))})(t,e)}catch(r){Te(Hc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rg(t,r)}else if(e instanceof og?t.da.Xe(e):e instanceof G4?t.da.st(e):t.da.tt(e),!n.isEqual(Qe.min()))try{const r=await sL(t.localStore);n.compareTo(r)>=0&&await(function(s,c){const u=s.da.Tt(c);return u.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(f.resumeToken,c))}})),u.targetMismatches.forEach(((f,h)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(rr.EMPTY_BYTE_STRING,p.snapshotVersion)),uL(s,f);const v=new al(p.target,f,h,p.sequenceNumber);zj(s,v)})),s.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Te(Hc,"Failed to raise snapshot:",r),await Rg(t,r)}}async function Rg(t,e,n){if(!Fd(e))throw e;t.Ea.add(1),await Nm(t),t.Va.set("Offline"),n||(n=()=>sL(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te(Hc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await r0(t)}))}function fL(t,e){return e().catch((n=>Rg(t,n,e)))}async function i0(t){const e=Xe(t),n=xl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wj;for(;WG(e);)try{const i=await TG(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,QG(e,i)}catch(i){await Rg(e,i)}hL(e)&&mL(e)}function WG(t){return su(t)&&t.Ta.length<10}function QG(t,e){t.Ta.push(e);const n=xl(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function hL(t){return su(t)&&!xl(t).x_()&&t.Ta.length>0}function mL(t){xl(t).start()}async function YG(t){xl(t).ra()}async function XG(t){const e=xl(t);for(const n of t.Ta)e.ea(n.mutations)}async function ZG(t,e,n){const r=t.Ta.shift(),i=Cj.from(r,e,n);await fL(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await i0(t)}async function JG(t,e){e&&xl(t).Y_&&await(async function(r,i){if((function(c){return RK(c)&&c!==me.ABORTED})(i.code)){const s=r.Ta.shift();xl(r).B_(),await fL(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await i0(r)}})(t,e),hL(t)&&mL(t)}async function oO(t,e){const n=Xe(t);n.asyncQueue.verifyOperationInProgress(),Te(Hc,"RemoteStore received new credentials");const r=su(n);n.Ea.add(3),await Nm(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await r0(n)}async function eW(t,e){const n=Xe(t);e?(n.Ea.delete(2),await r0(n)):e||(n.Ea.add(2),await Nm(n),n.Va.set("Unknown"))}function Kd(t){return t.ma||(t.ma=(function(n,r,i){const s=Xe(n);return s.sa(),new zG(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:FG.bind(null,t),Yo:HG.bind(null,t),t_:KG.bind(null,t),J_:GG.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Vj(t)?Lj(t):t.Va.set("Unknown")):(await t.ma.stop(),dL(t))}))),t.ma}function xl(t){return t.fa||(t.fa=(function(n,r,i){const s=Xe(n);return s.sa(),new LG(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:YG.bind(null,t),t_:JG.bind(null,t),ta:XG.bind(null,t),na:ZG.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await i0(t)):(await t.fa.stop(),t.Ta.length>0&&(Te(Hc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Uj{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const c=Date.now()+r,u=new Uj(e,n,c,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qj(t,e){if(Fs("AsyncQueue",`${e}: ${t}`),Fd(t))return new Ne(me.UNAVAILABLE,`${e}: ${t}`);throw t}class bd{static emptySet(e){return new bd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Me.comparator(n.key,r.key):(n,r)=>Me.comparator(n.key,r.key),this.keyedMap=Eh(),this.sortedSet=new nn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class lO{constructor(){this.ga=new nn(Me.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ke(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Cd{constructor(e,n,r,i,s,c,u,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const c=[];return n.forEach((u=>{c.push({type:0,doc:u})})),new Cd(e,n,bd.emptySet(n),c,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class tW{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class nW{constructor(){this.queries=cO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Xe(n),s=i.queries;i.queries=cO(),s.forEach(((c,u)=>{for(const f of u.ba)f.onError(r)}))})(this,new Ne(me.ABORTED,"Firestore shutting down"))}}function cO(){return new au((t=>D4(t)),Yy)}async function pL(t,e){const n=Xe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new tW,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const u=qj(c,`Initialization of query '${id(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Bj(n)}async function vL(t,e){const n=Xe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const c=s.ba.indexOf(e);c>=0&&(s.ba.splice(c,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function rW(t,e){const n=Xe(t);let r=!1;for(const i of e){const s=i.query,c=n.queries.get(s);if(c){for(const u of c.ba)u.Fa(i)&&(r=!0);c.wa=i}}r&&Bj(n)}function iW(t,e,n){const r=Xe(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function Bj(t){t.Ca.forEach((e=>{e.next()}))}var qw,uO;(uO=qw||(qw={})).Ma="default",uO.Cache="cache";class gL{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Cd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Cd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qw.Cache}}class yL{constructor(e){this.key=e}}class bL{constructor(e){this.key=e}}class aW{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ut(),this.mutatedKeys=ut(),this.eu=k4(e),this.tu=new bd(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new lO,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,c=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,v)=>{const y=i.get(p),w=Xy(this.query,v)?v:null,j=!!y&&this.mutatedKeys.has(y.key),E=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let N=!1;y&&w?y.data.isEqual(w.data)?j!==E&&(r.track({type:3,doc:w}),N=!0):this.su(y,w)||(r.track({type:2,doc:w}),N=!0,(f&&this.eu(w,f)>0||h&&this.eu(w,h)<0)&&(u=!0)):!y&&w?(r.track({type:0,doc:w}),N=!0):y&&!w&&(r.track({type:1,doc:y}),N=!0,(f||h)&&(u=!0)),N&&(w?(c=c.add(w),s=E?s.add(p):s.delete(p)):(c=c.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:c,iu:r,Ss:u,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((p,v)=>(function(w,j){const E=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke(20277,{Vt:N})}};return E(w)-E(j)})(p.type,v.type)||this.eu(p.doc,v.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Ya.size===0&&this.current&&!i?1:0,h=f!==this.Xa;return this.Xa=f,c.length!==0||h?{snapshot:new Cd(this.query,e.tu,s,c,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lO,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new bL(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new yL(r))})),n}cu(e){this.Za=e.ks,this.Ya=ut();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Cd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const $j="SyncEngine";class sW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class oW{constructor(e){this.key=e,this.hu=!1}}class lW{constructor(e,n,r,i,s,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new au((u=>D4(u)),Yy),this.Iu=new Map,this.Eu=new Set,this.Ru=new nn(Me.comparator),this.Au=new Map,this.Vu=new Ij,this.du={},this.mu=new Map,this.fu=Td.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cW(t,e,n=!0){const r=NL(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await _L(r,e,n,!0),i}async function uW(t,e){const n=NL(t);await _L(n,e,!0,!1)}async function _L(t,e,n,r){const i=await CG(t.localStore,Wa(e)),s=i.targetId,c=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await dW(t,e,s,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&cL(t.remoteStore,i),u}async function dW(t,e,n,r,i){t.pu=(v,y,w)=>(async function(E,N,S,D){let R=N.view.ru(S);R.Ss&&(R=await nO(E.localStore,N.query,!1).then((({documents:O})=>N.view.ru(O,R))));const I=D&&D.targetChanges.get(N.targetId),$=D&&D.targetMismatches.get(N.targetId)!=null,z=N.view.applyChanges(R,E.isPrimaryClient,I,$);return fO(E,N.targetId,z.au),z.snapshot})(t,v,y,w);const s=await nO(t.localStore,e,!0),c=new aW(e,s.ks),u=c.ru(s.documents),f=jm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=c.applyChanges(u,t.isPrimaryClient,f);fO(t,n,h.au);const p=new sW(e,n,c);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function fW(t,e,n){const r=Xe(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((c=>!Yy(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Vw(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Mj(r.remoteStore,i.targetId),Bw(r,i.targetId)})).catch($d)):(Bw(r,i.targetId),await Vw(r.localStore,i.targetId,!0))}async function hW(t,e){const n=Xe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Mj(n.remoteStore,r.targetId))}async function mW(t,e,n){const r=xW(t);try{const i=await(function(c,u){const f=Xe(c),h=nt.now(),p=u.reduce(((w,j)=>w.add(j.key)),ut());let v,y;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let j=Hs(),E=ut();return f.xs.getEntries(w,p).next((N=>{j=N,j.forEach(((S,D)=>{D.isValidDocument()||(E=E.add(S))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,j))).next((N=>{v=N;const S=[];for(const D of u){const R=TK(D,v.get(D.key).overlayedDocument);R!=null&&S.push(new Il(D.key,R,A4(R.value.mapValue),kr.exists(!0)))}return f.mutationQueue.addMutationBatch(w,h,S,u)})).next((N=>{y=N;const S=N.applyToLocalDocumentSet(v,E);return f.documentOverlayCache.saveOverlays(w,N.batchId,S)}))})).then((()=>({batchId:y.batchId,changes:z4(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,u,f){let h=c.du[c.currentUser.toKey()];h||(h=new nn(ct)),h=h.insert(u,f),c.du[c.currentUser.toKey()]=h})(r,i.batchId,n),await Am(r,i.changes),await i0(r.remoteStore)}catch(i){const s=qj(i,"Failed to persist write");n.reject(s)}}async function xL(t,e){const n=Xe(t);try{const r=await AG(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const c=n.Au.get(s);c&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.hu=!0:i.modifiedDocuments.size>0?At(c.hu,14607):i.removedDocuments.size>0&&(At(c.hu,42227),c.hu=!1))})),await Am(n,r,e)}catch(r){await $d(r)}}function dO(t,e,n){const r=Xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,c)=>{const u=c.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(c,u){const f=Xe(c);f.onlineState=u;let h=!1;f.queries.forEach(((p,v)=>{for(const y of v.ba)y.va(u)&&(h=!0)})),h&&Bj(f)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pW(t,e,n){const r=Xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let c=new nn(Me.comparator);c=c.insert(s,jr.newNoDocument(s,Qe.min()));const u=ut().add(s),f=new t0(Qe.min(),new Map,new nn(ct),c,u);await xL(r,f),r.Ru=r.Ru.remove(s),r.Au.delete(e),Fj(r)}else await Vw(r.localStore,e,!1).then((()=>Bw(r,e,n))).catch($d)}async function vW(t,e){const n=Xe(t),r=e.batch.batchId;try{const i=await NG(n.localStore,e);EL(n,r,null),wL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Am(n,i)}catch(i){await $d(i)}}async function gW(t,e,n){const r=Xe(t);try{const i=await(function(c,u){const f=Xe(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,u).next((v=>(At(v!==null,37113),p=v.keys(),f.mutationQueue.removeMutationBatch(h,v)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);EL(r,e,n),wL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Am(r,i)}catch(i){await $d(i)}}function wL(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function EL(t,e,n){const r=Xe(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function Bw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||jL(t,r)}))}function jL(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Mj(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Fj(t))}function fO(t,e,n){for(const r of n)r instanceof yL?(t.Vu.addReference(r.key,e),yW(t,r)):r instanceof bL?(Te($j,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||jL(t,r.key)):Ke(19791,{wu:r})}function yW(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Te($j,"New document in limbo: "+n),t.Eu.add(r),Fj(t))}function Fj(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Me($t.fromString(e)),r=t.fu.next();t.Au.set(r,new oW(n)),t.Ru=t.Ru.insert(n,r),cL(t.remoteStore,new al(Wa(Sj(n.path)),r,"TargetPurposeLimboResolution",Gy.ce))}}async function Am(t,e,n){const r=Xe(t),i=[],s=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{c.push(r.pu(f,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(h){i.push(h);const p=Dj.Es(f.targetId,h);s.push(p)}})))})),await Promise.all(c),r.Pu.J_(i),await(async function(f,h){const p=Xe(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>be.forEach(h,(y=>be.forEach(y.Ts,(w=>p.persistence.referenceDelegate.addReference(v,y.targetId,w))).next((()=>be.forEach(y.Is,(w=>p.persistence.referenceDelegate.removeReference(v,y.targetId,w)))))))))}catch(v){if(!Fd(v))throw v;Te(kj,"Failed to update sequence numbers: "+v)}for(const v of h){const y=v.targetId;if(!v.fromCache){const w=p.vs.get(y),j=w.snapshotVersion,E=w.withLastLimboFreeSnapshotVersion(j);p.vs=p.vs.insert(y,E)}}})(r.localStore,s))}async function bW(t,e){const n=Xe(t);if(!n.currentUser.isEqual(e)){Te($j,"User change. New user:",e.toKey());const r=await aL(n.localStore,e);n.currentUser=e,(function(s,c){s.mu.forEach((u=>{u.forEach((f=>{f.reject(new Ne(me.CANCELLED,c))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Am(n,r.Ns)}}function _W(t,e){const n=Xe(t),r=n.Au.get(e);if(r&&r.hu)return ut().add(r.key);{let i=ut();const s=n.Iu.get(e);if(!s)return i;for(const c of s){const u=n.Tu.get(c);i=i.unionWith(u.view.nu)}return i}}function NL(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_W.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pW.bind(null,e),e.Pu.J_=rW.bind(null,e.eventManager),e.Pu.yu=iW.bind(null,e.eventManager),e}function xW(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gW.bind(null,e),e}class Dg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=n0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return jG(this.persistence,new xG,e.initialUser,this.serializer)}Cu(e){return new iL(Rj.Vi,this.serializer)}Du(e){return new OG}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dg.provider={build:()=>new Dg};class wW extends Dg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){At(this.persistence.referenceDelegate instanceof Ig,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sG(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Zr.withCacheSize(this.cacheSizeBytes):Zr.DEFAULT;return new iL((r=>Ig.Vi(r,n)),this.serializer)}}class $w{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bW.bind(null,this.syncEngine),await eW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nW})()}createDatastore(e){const n=n0(e.databaseInfo.databaseId),r=MG(e.databaseInfo);return qG(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,c,u){return new $G(r,i,s,c,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>dO(this.syncEngine,n,0)),(function(){return aO.v()?new aO:new IG})())}createSyncEngine(e,n){return(function(i,s,c,u,f,h,p){const v=new lW(i,s,c,u,f,h);return p&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Xe(n);Te(Hc,"RemoteStore shutting down."),r.Ea.add(5),await Nm(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}$w.provider={build:()=>new $w};class AL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const wl="FirestoreClient";class EW{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Er.UNAUTHENTICATED,this.clientId=Hy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async c=>{Te(wl,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Te(wl,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=qj(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ex(t,e){t.asyncQueue.verifyOperationInProgress(),Te(wl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await aL(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function hO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jW(t);Te(wl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>oO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>oO(e.remoteStore,i))),t._onlineComponents=e}async function jW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(wl,"Using user provided OfflineComponentProvider");try{await Ex(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Fc("Error using user provided cache. Falling back to memory cache: "+n),await Ex(t,new Dg)}}else Te(wl,"Using default OfflineComponentProvider"),await Ex(t,new wW(void 0));return t._offlineComponents}async function SL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(wl,"Using user provided OnlineComponentProvider"),await hO(t,t._uninitializedComponentsProvider._online)):(Te(wl,"Using default OnlineComponentProvider"),await hO(t,new $w))),t._onlineComponents}function NW(t){return SL(t).then((e=>e.syncEngine))}async function TL(t){const e=await SL(t),n=e.eventManager;return n.onListen=cW.bind(null,e.syncEngine),n.onUnlisten=fW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hW.bind(null,e.syncEngine),n}function AW(t,e,n={}){const r=new Ls;return t.asyncQueue.enqueueAndForget((async()=>(function(s,c,u,f,h){const p=new AL({next:y=>{p.Nu(),c.enqueueAndForget((()=>vL(s,v)));const w=y.docs.has(u);!w&&y.fromCache?h.reject(new Ne(me.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&f&&f.source==="server"?h.reject(new Ne(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),v=new gL(Sj(u.path),p,{includeMetadataChanges:!0,Ka:!0});return pL(s,v)})(await TL(t),t.asyncQueue,e,n,r))),r.promise}function SW(t,e,n={}){const r=new Ls;return t.asyncQueue.enqueueAndForget((async()=>(function(s,c,u,f,h){const p=new AL({next:y=>{p.Nu(),c.enqueueAndForget((()=>vL(s,v))),y.fromCache&&f.source==="server"?h.reject(new Ne(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),v=new gL(u,p,{includeMetadataChanges:!0,Ka:!0});return pL(s,v)})(await TL(t),t.asyncQueue,e,n,r))),r.promise}function TW(t,e){const n=new Ls;return t.asyncQueue.enqueueAndForget((async()=>mW(await NW(t),e,n))),n.promise}function CL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const CW="ComponentProvider",mO=new Map;function PW(t,e,n,r,i){return new QH(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,CL(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const PL="firestore.googleapis.com",pO=!0;class vO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PL,this.ssl=pO}else this.host=e.host,this.ssl=e.ssl??pO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iG)throw new Ne(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}p4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CL(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ne(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ne(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ne(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class a0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new h4;switch(r.type){case"firstParty":return new IH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=mO.get(n);r&&(Te(CW,"Removing Datastore"),mO.delete(n),r.terminate())})(this),Promise.resolve()}}function OL(t,e,n,r={}){t=wi(t,a0);const i=Cl(e),s=t._getSettings(),c={...s,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(lj(`https://${u}`),cj("Firestore",!0)),s.host!==PL&&s.host!==u&&Fc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:u,ssl:i,emulatorOptions:r};if(!Vc(f,c)&&(t._setSettings(f),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Er.MOCK_USER;else{h=bz(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ne(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Er(v)}t._authCredentials=new CH(new f4(h,p))}}class ro{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ro(this.firestore,e,this._query)}}class fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}toJSON(){return{type:fn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(wm(n,fn._jsonSchema))return new fn(e,r||null,new Me($t.fromString(n.referencePath)))}}fn._jsonSchemaVersion="firestore/documentReference/1.0",fn._jsonSchema={type:kn("string",fn._jsonSchemaVersion),referencePath:kn("string")};class Vs extends ro{constructor(e,n,r){super(e,n,Sj(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new Me(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function Nn(t,e,...n){if(t=Ft(t),m4("collection","path",e),t instanceof a0){const r=$t.fromString(e,...n);return CP(r),new Vs(t,null,r)}{if(!(t instanceof fn||t instanceof Vs))throw new Ne(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return CP(r),new Vs(t.firestore,null,r)}}function _t(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=Hy.newId()),m4("doc","path",e),t instanceof a0){const r=$t.fromString(e,...n);return TP(r),new fn(t,null,new Me(r))}{if(!(t instanceof fn||t instanceof Vs))throw new Ne(me.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return TP(r),new fn(t.firestore,t instanceof Vs?t.converter:null,new Me(r))}}const gO="AsyncQueue";class yO{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oL(this,"async_queue_retry"),this._c=()=>{const r=wx();r&&Te(gO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=wx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=wx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ls;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Fd(e))throw e;Te(gO,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Fs("INTERNAL UNHANDLED ERROR: ",bO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Uj.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Ke(47125,{Pc:bO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function bO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class io extends a0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new yO,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yO(e),this._firestoreClient=void 0,await e}}}function IL(t,e){const n=typeof t=="object"?t:fj(),r=typeof t=="string"?t:Ag,i=qy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=vz("firestore");s&&OL(i,...s)}return i}function Sm(t){if(t._terminated)throw new Ne(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||OW(t),t._firestoreClient}function OW(t){const e=t._freezeSettings(),n=PW(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new EW(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class pi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pi(rr.fromBase64String(e))}catch(n){throw new Ne(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pi(rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wm(e,pi._jsonSchema))return pi.fromBase64String(e.bytes)}}pi._jsonSchemaVersion="firestore/bytes/1.0",pi._jsonSchema={type:kn("string",pi._jsonSchemaVersion),bytes:kn("string")};class Tm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cm{constructor(e){this._methodName=e}}class da{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:da._jsonSchemaVersion}}static fromJSON(e){if(wm(e,da._jsonSchema))return new da(e.latitude,e.longitude)}}da._jsonSchemaVersion="firestore/geoPoint/1.0",da._jsonSchema={type:kn("string",da._jsonSchemaVersion),latitude:kn("number"),longitude:kn("number")};class $i{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wm(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $i(e.vectorValues);throw new Ne(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:kn("string",$i._jsonSchemaVersion),vectorValues:kn("object")};const IW=/^__.*__$/;class RW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Il(e,this.data,this.fieldMask,n,this.fieldTransforms):new Em(e,this.data,n,this.fieldTransforms)}}class RL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Il(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke(40011,{dataSource:t})}}class Hj{constructor(e,n,r,i,s,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Hj({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return kg(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(DL(this.dataSource)&&IW.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class DW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||n0(e)}createContext(e,n,r,i=!1){return new Hj({dataSource:e,methodName:n,targetDoc:r,path:tr.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pm(t){const e=t._freezeSettings(),n=n0(t._databaseId);return new DW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Kj(t,e,n,r,i,s={}){const c=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);Wj("Data must be an object, but it was:",c,r);const u=zL(r,c);let f,h;if(s.merge)f=new gi(c.fieldMask),h=c.fieldTransforms;else if(s.mergeFields){const p=[];for(const v of s.mergeFields){const y=Kc(e,v,n);if(!c.contains(y))throw new Ne(me.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);UL(p,y)||p.push(y)}f=new gi(p),h=c.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,h=c.fieldTransforms;return new RW(new Jr(u),f,h)}class s0 extends Cm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof s0}}class Gj extends Cm{_toFieldTransform(e){return new jK(e.path,new Wh)}isEqual(e){return e instanceof Gj}}function kL(t,e,n,r){const i=t.createContext(1,e,n);Wj("Data must be an object, but it was:",i,r);const s=[],c=Jr.empty();Ol(r,((f,h)=>{const p=VL(e,f,n);h=Ft(h);const v=i.childContextForFieldPath(p);if(h instanceof s0)s.push(p);else{const y=Om(h,v);y!=null&&(s.push(p),c.set(p,y))}}));const u=new gi(s);return new RL(c,u,i.fieldTransforms)}function ML(t,e,n,r,i,s){const c=t.createContext(1,e,n),u=[Kc(e,r,n)],f=[i];if(s.length%2!=0)throw new Ne(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)u.push(Kc(e,s[y])),f.push(s[y+1]);const h=[],p=Jr.empty();for(let y=u.length-1;y>=0;--y)if(!UL(h,u[y])){const w=u[y];let j=f[y];j=Ft(j);const E=c.childContextForFieldPath(w);if(j instanceof s0)h.push(w);else{const N=Om(j,E);N!=null&&(h.push(w),p.set(w,N))}}const v=new gi(h);return new RL(p,v,c.fieldTransforms)}function kW(t,e,n,r=!1){return Om(n,t.createContext(r?4:3,e))}function Om(t,e){if(LL(t=Ft(t)))return Wj("Unsupported field value:",e,t),zL(t,e);if(t instanceof Cm)return(function(r,i){if(!DL(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const s=[];let c=0;for(const u of r){let f=Om(u,i.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),c++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xK(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=nt.fromDate(r);return{timestampValue:Og(i.serializer,s)}}if(r instanceof nt){const s=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Og(i.serializer,s)}}if(r instanceof da)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pi)return{bytesValue:Q4(i.serializer,r._byteString)};if(r instanceof fn){const s=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(s))throw i.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Oj(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $i)return(function(c,u){const f=c instanceof $i?c.toArray():c;return{mapValue:{fields:{[j4]:{stringValue:N4},[Sg]:{arrayValue:{values:f.map((p=>{if(typeof p!="number")throw u.createError("VectorValues must only contain numeric values.");return Tj(u.serializer,p)}))}}}}}})(r,i);if(nL(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Ky(r)}`)})(t,e)}function zL(t,e){const n={};return y4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ol(t,((r,i)=>{const s=Om(i,e.childContextForField(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function LL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof da||t instanceof pi||t instanceof fn||t instanceof Cm||t instanceof $i||nL(t))}function Wj(t,e,n){if(!LL(n)||!v4(n)){const r=Ky(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Kc(t,e,n){if((e=Ft(e))instanceof Tm)return e._internalPath;if(typeof e=="string")return VL(t,e);throw kg("Field path arguments must be of type string or ",t,!1,void 0,n)}const MW=new RegExp("[~\\*/\\[\\]]");function VL(t,e,n){if(e.search(MW)>=0)throw kg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tm(...e.split("."))._internalPath}catch{throw kg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kg(t,e,n,r,i){const s=r&&!r.isEmpty(),c=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(s||c)&&(f+=" (found",s&&(f+=` in field ${r}`),c&&(f+=` in document ${i}`),f+=")"),new Ne(me.INVALID_ARGUMENT,u+t+f)}function UL(t,e){return t.some((n=>n.isEqual(e)))}class qL{convertValue(e,n="none"){switch(_l(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ol(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Sg].arrayValue?.values?.map((r=>wn(r.doubleValue)));return new $i(n)}convertGeoPoint(e){return new da(wn(e.latitude),wn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hh(e));default:return null}}convertTimestamp(e){const n=yl(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$t.fromString(e);At(tL(r),9688,{name:e});const i=new Nd(r.get(1),r.get(3)),s=new Me(r.popFirst(5));return i.isEqual(n)||Fs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class BL extends qL{constructor(e){super(),this.firestore=e}convertBytes(e){return new pi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function Mn(){return new Gj("serverTimestamp")}const _O="@firebase/firestore",xO="4.10.0";class $L{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Kc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zW extends $L{data(){return super.data()}}function LW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qj{}class o0 extends Qj{}function ir(t,e,...n){let r=[];e instanceof Qj&&r.push(e),r=r.concat(n),(function(s){const c=s.filter((f=>f instanceof l0)).length,u=s.filter((f=>f instanceof Im)).length;if(c>1||c>0&&u>0)throw new Ne(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Im extends o0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Im(e,n,r)}_apply(e){const n=this._parse(e);return FL(e._query,n),new ro(e.firestore,e.converter,Dw(e._query,n))}_parse(e){const n=Pm(e.firestore);return(function(s,c,u,f,h,p,v){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ne(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){EO(v,p);const j=[];for(const E of v)j.push(wO(f,s,E));y={arrayValue:{values:j}}}else y=wO(f,s,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||EO(v,p),y=kW(u,c,v,p==="in"||p==="not-in");return Dn.create(h,p,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function tn(t,e,n){const r=e,i=Kc("where",t);return Im._create(i,r,n)}class l0 extends Qj{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new l0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ma.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let c=i;const u=s.getFlattenedFilters();for(const f of u)FL(c,f),c=Dw(c,f)})(e._query,n),new ro(e.firestore,e.converter,Dw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class c0 extends o0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new c0(e,n)}_apply(e){const n=(function(i,s,c){if(i.startAt!==null)throw new Ne(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ne(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gh(s,c)})(e._query,this._field,this._direction);return new ro(e.firestore,e.converter,hK(e._query,n))}}function Fi(t,e="asc"){const n=e,r=Kc("orderBy",t);return c0._create(r,n)}class u0 extends o0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new u0(e,n,r)}_apply(e){return new ro(e.firestore,e.converter,Cg(e._query,this._limit,this._limitType))}}function Pd(t){return LH("limit",t),u0._create("limit",t,"F")}function wO(t,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new Ne(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!R4(e)&&n.indexOf("/")!==-1)throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($t.fromString(n));if(!Me.isDocumentKey(r))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zP(t,new Me(r))}if(n instanceof fn)return zP(t,n._key);throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ky(n)}.`)}function EO(t,e){if(!Array.isArray(t)||t.length===0)throw new Ne(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FL(t,e){const n=(function(i,s){for(const c of i)for(const u of c.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ne(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Yj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ud{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fl extends $L{constructor(e,n,r,i,s,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Kc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=fl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fl._jsonSchemaVersion="firestore/documentSnapshot/1.0",fl._jsonSchema={type:kn("string",fl._jsonSchemaVersion),bundleSource:kn("string","DocumentSnapshot"),bundleName:kn("string"),bundle:kn("string")};class Mh extends fl{data(e={}){return super.data(e)}}class Ic{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ud(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Mh(this._firestore,this._userDataWriter,r.key,r,new ud(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((u=>{const f=new Mh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ud(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const f=new Mh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ud(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return u.type!==0&&(h=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),p=c.indexOf(u.doc.key)),{type:VW(u.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ic._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke(61501,{type:t})}}Ic._jsonSchemaVersion="firestore/querySnapshot/1.0",Ic._jsonSchema={type:kn("string",Ic._jsonSchemaVersion),bundleSource:kn("string","QuerySnapshot"),bundleName:kn("string"),bundle:kn("string")};class HL{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Pm(e)}set(e,n,r){this._verifyNotCommitted();const i=jx(e,this._firestore),s=Yj(i.converter,n,r),c=Kj(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(c.toMutation(i._key,kr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=jx(e,this._firestore);let c;return c=typeof(n=Ft(n))=="string"||n instanceof Tm?ML(this._dataReader,"WriteBatch.update",s._key,n,r,i):kL(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(c.toMutation(s._key,kr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=jx(e,this._firestore);return this._mutations=this._mutations.concat(new e0(n._key,kr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function jx(t,e){if((t=Ft(t)).firestore!==e)throw new Ne(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function pa(t){t=wi(t,fn);const e=wi(t.firestore,io),n=Sm(e);return AW(n,t._key).then((r=>UW(e,t,r)))}function ar(t){t=wi(t,ro);const e=wi(t.firestore,io),n=Sm(e),r=new BL(e);return LW(t._query),SW(n,t._query).then((i=>new Ic(e,r,t,i)))}function KL(t,e,n){t=wi(t,fn);const r=wi(t.firestore,io),i=Yj(t.converter,e,n),s=Pm(r);return Gd(r,[Kj(s,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,kr.none())])}function Mr(t,e,n,...r){t=wi(t,fn);const i=wi(t.firestore,io),s=Pm(i);let c;return c=typeof(e=Ft(e))=="string"||e instanceof Tm?ML(s,"updateDoc",t._key,e,n,r):kL(s,"updateDoc",t._key,e),Gd(i,[c.toMutation(t._key,kr.exists(!0))])}function Rm(t){return Gd(wi(t.firestore,io),[new e0(t._key,kr.none())])}function Rl(t,e){const n=wi(t.firestore,io),r=_t(t),i=Yj(t.converter,e),s=Pm(t.firestore);return Gd(n,[Kj(s,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,kr.exists(!1))]).then((()=>r))}function Gd(t,e){const n=Sm(t);return TW(n,e)}function UW(t,e,n){const r=n.docs.get(e._key),i=new BL(t);return new fl(t,i,e._key,r,new ud(n.hasPendingWrites,n.fromCache),e.converter)}function Xh(t){return t=wi(t,io),Sm(t),new HL(t,(e=>Gd(t,e)))}(function(e,n=!0){TH(ru),Uc(new vl("firestore",((r,{instanceIdentifier:i,options:s})=>{const c=r.getProvider("app").getImmediate(),u=new io(new PH(r.getProvider("auth-internal")),new RH(c,r.getProvider("app-check-internal")),YH(c,i),c);return s={useFetchStreams:n,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),Ha(_O,xO,e),Ha(_O,xO,"esm2020")})();const GL=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:qL,Bytes:pi,CollectionReference:Vs,DocumentReference:fn,DocumentSnapshot:fl,FieldPath:Tm,FieldValue:Cm,Firestore:io,FirestoreError:Ne,GeoPoint:da,Query:ro,QueryCompositeFilterConstraint:l0,QueryConstraint:o0,QueryDocumentSnapshot:Mh,QueryFieldFilterConstraint:Im,QueryLimitConstraint:u0,QueryOrderByConstraint:c0,QuerySnapshot:Ic,SnapshotMetadata:ud,Timestamp:nt,VectorValue:$i,WriteBatch:HL,_AutoId:Hy,_ByteString:rr,_DatabaseId:Nd,_DocumentKey:Me,_EmptyAuthCredentialsProvider:h4,_FieldPath:tr,_cast:wi,_logWarn:Fc,_validateIsNotUsedTogether:p4,addDoc:Rl,collection:Nn,connectFirestoreEmulator:OL,deleteDoc:Rm,doc:_t,ensureFirestoreConfigured:Sm,executeWrite:Gd,getDoc:pa,getDocs:ar,getFirestore:IL,limit:Pd,orderBy:Fi,query:ir,serverTimestamp:Mn,setDoc:KL,updateDoc:Mr,where:tn,writeBatch:Xh},Symbol.toStringTag,{value:"Module"}));var qW="firebase",BW="12.8.0";Ha(qW,BW,"app");const WL="firebasestorage.googleapis.com",QL="storageBucket",$W=120*1e3,FW=600*1e3;class pn extends as{constructor(e,n,r=0){super(Nx(e),`Firebase Storage: ${n} (${Nx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Nx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var hn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(hn||(hn={}));function Nx(t){return"storage/"+t}function Xj(){const t="An unknown error occurred, please check the error payload for server response.";return new pn(hn.UNKNOWN,t)}function HW(t){return new pn(hn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function KW(t){return new pn(hn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function GW(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pn(hn.UNAUTHENTICATED,t)}function WW(){return new pn(hn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function QW(t){return new pn(hn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function YW(){return new pn(hn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function XW(){return new pn(hn.CANCELED,"User canceled the upload/download.")}function ZW(t){return new pn(hn.INVALID_URL,"Invalid URL '"+t+"'.")}function JW(t){return new pn(hn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function eQ(){return new pn(hn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+QL+"' property when initializing the app?")}function tQ(){return new pn(hn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function nQ(){return new pn(hn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function rQ(t){return new pn(hn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Fw(t){return new pn(hn.INVALID_ARGUMENT,t)}function YL(){return new pn(hn.APP_DELETED,"The Firebase app was deleted.")}function iQ(t){return new pn(hn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zh(t,e){return new pn(hn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function oh(t){throw new pn(hn.INTERNAL_ERROR,"Internal error: "+t)}class yi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yi.makeFromUrl(e,n)}catch{return new yi(e,"")}if(r.path==="")return r;throw JW(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const c="(/(.*))?$",u=new RegExp("^gs://"+i+c,"i"),f={bucket:1,path:3};function h(I){I.path_=decodeURIComponent(I.path)}const p="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",w=new RegExp(`^https?://${v}/${p}/b/${i}/o${y}`,"i"),j={bucket:1,path:3},E=n===WL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",S=new RegExp(`^https?://${E}/${i}/${N}`,"i"),R=[{regex:u,indices:f,postModify:s},{regex:w,indices:j,postModify:h},{regex:S,indices:{bucket:1,path:2},postModify:h}];for(let I=0;I<R.length;I++){const $=R[I],z=$.regex.exec(e);if(z){const O=z[$.indices.bucket];let C=z[$.indices.path];C||(C=""),r=new yi(O,C),$.postModify(r);break}}if(r==null)throw ZW(e);return r}}class aQ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function sQ(t,e,n){let r=1,i=null,s=null,c=!1,u=0;function f(){return u===2}let h=!1;function p(...N){h||(h=!0,e.apply(null,N))}function v(N){i=setTimeout(()=>{i=null,t(w,f())},N)}function y(){s&&clearTimeout(s)}function w(N,...S){if(h){y();return}if(N){y(),p.call(null,N,...S);return}if(f()||c){y(),p.call(null,N,...S);return}r<64&&(r*=2);let R;u===1?(u=2,R=0):R=(r+Math.random())*1e3,v(R)}let j=!1;function E(N){j||(j=!0,y(),!h&&(i!==null?(N||(u=2),clearTimeout(i),v(0)):N||(u=1)))}return v(0),s=setTimeout(()=>{c=!0,E(!0)},n),E}function oQ(t){t(!1)}function lQ(t){return t!==void 0}function cQ(t){return typeof t=="object"&&!Array.isArray(t)}function Zj(t){return typeof t=="string"||t instanceof String}function jO(t){return Jj()&&t instanceof Blob}function Jj(){return typeof Blob<"u"}function NO(t,e,n,r){if(r<e)throw Fw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Fw(`Invalid value for '${t}'. Expected ${n} or less.`)}function d0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function XL(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Rc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Rc||(Rc={}));function uQ(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}class dQ{constructor(e,n,r,i,s,c,u,f,h,p,v,y=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=u,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=v,this.retry=y,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,E)=>{this.resolve_=j,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Pv(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const c=u=>{const f=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const u=s.getErrorCode()===Rc.NO_ERROR,f=s.getStatus();if(!u||uQ(f,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Rc.ABORT;r(!1,new Pv(!1,null,p));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new Pv(h,s))})},n=(r,i)=>{const s=this.resolve_,c=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());lQ(f)?s(f):s()}catch(f){c(f)}else if(u!==null){const f=Xj();f.serverResponse=u.getErrorText(),this.errorCallback_?c(this.errorCallback_(u,f)):c(f)}else if(i.canceled){const f=this.appDelete_?YL():XW();c(f)}else{const f=YW();c(f)}};this.canceled_?n(!1,new Pv(!1,null,!0)):this.backoffId_=sQ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&oQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Pv{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function fQ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function hQ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mQ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function pQ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function vQ(t,e,n,r,i,s,c=!0,u=!1){const f=XL(t.urlParams),h=t.url+f,p=Object.assign({},t.headers);return mQ(p,e),fQ(p,n),hQ(p,s),pQ(p,r),new dQ(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,c,u)}function gQ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function yQ(...t){const e=gQ();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Jj())return new Blob(t);throw new pn(hn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function bQ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function _Q(t){if(typeof atob>"u")throw rQ("base-64");return atob(t)}const Ba={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ax{constructor(e,n){this.data=e,this.contentType=n||null}}function xQ(t,e){switch(t){case Ba.RAW:return new Ax(ZL(e));case Ba.BASE64:case Ba.BASE64URL:return new Ax(JL(t,e));case Ba.DATA_URL:return new Ax(EQ(e),jQ(e))}throw Xj()}function ZL(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,c=t.charCodeAt(++n);r=65536|(s&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function wQ(t){let e;try{e=decodeURIComponent(t)}catch{throw zh(Ba.DATA_URL,"Malformed data URL.")}return ZL(e)}function JL(t,e){switch(t){case Ba.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw zh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ba.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw zh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=_Q(e)}catch(i){throw i.message.includes("polyfill")?i:zh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class e3{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw zh(Ba.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=NQ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function EQ(t){const e=new e3(t);return e.base64?JL(Ba.BASE64,e.rest):wQ(e.rest)}function jQ(t){return new e3(t).contentType}function NQ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class nl{constructor(e,n){let r=0,i="";jO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(jO(this.data_)){const r=this.data_,i=bQ(r,e,n);return i===null?null:new nl(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new nl(r,!0)}}static getBlob(...e){if(Jj()){const n=e.map(r=>r instanceof nl?r.data_:r);return new nl(yQ.apply(null,n))}else{const n=e.map(c=>Zj(c)?xQ(Ba.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(c=>{for(let u=0;u<c.length;u++)i[s++]=c[u]}),new nl(i,!0)}}uploadData(){return this.data_}}function t3(t){let e;try{e=JSON.parse(t)}catch{return null}return cQ(e)?e:null}function AQ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function SQ(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function n3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function TQ(t,e){return e}class Or{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||TQ}}let Ov=null;function CQ(t){return!Zj(t)||t.length<2?t:n3(t)}function r3(){if(Ov)return Ov;const t=[];t.push(new Or("bucket")),t.push(new Or("generation")),t.push(new Or("metageneration")),t.push(new Or("name","fullPath",!0));function e(s,c){return CQ(c)}const n=new Or("name");n.xform=e,t.push(n);function r(s,c){return c!==void 0?Number(c):c}const i=new Or("size");return i.xform=r,t.push(i),t.push(new Or("timeCreated")),t.push(new Or("updated")),t.push(new Or("md5Hash",null,!0)),t.push(new Or("cacheControl",null,!0)),t.push(new Or("contentDisposition",null,!0)),t.push(new Or("contentEncoding",null,!0)),t.push(new Or("contentLanguage",null,!0)),t.push(new Or("contentType",null,!0)),t.push(new Or("metadata","customMetadata",!0)),Ov=t,Ov}function PQ(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new yi(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function OQ(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const c=n[s];r[c.local]=c.xform(r,e[c.server])}return PQ(r,t),r}function i3(t,e,n){const r=t3(e);return r===null?null:OQ(t,r,n)}function IQ(t,e,n,r){const i=t3(e);if(i===null||!Zj(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const c=encodeURIComponent;return s.split(",").map(h=>{const p=t.bucket,v=t.fullPath,y="/b/"+c(p)+"/o/"+c(v),w=d0(y,n,r),j=XL({alt:"media",token:h});return w+j})[0]}function RQ(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class eN{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function a3(t){if(!t)throw Xj()}function DQ(t,e){function n(r,i){const s=i3(t,i,e);return a3(s!==null),s}return n}function kQ(t,e){function n(r,i){const s=i3(t,i,e);return a3(s!==null),IQ(s,i,t.host,t._protocol)}return n}function s3(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=WW():i=GW():n.getStatus()===402?i=KW(t.bucket):n.getStatus()===403?i=QW(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function o3(t){const e=s3(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=HW(t.path)),s.serverResponse=i.serverResponse,s}return n}function MQ(t,e,n){const r=e.fullServerUrl(),i=d0(r,t.host,t._protocol),s="GET",c=t.maxOperationRetryTime,u=new eN(i,s,kQ(t,n),c);return u.errorHandler=o3(e),u}function zQ(t,e){const n=e.fullServerUrl(),r=d0(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function c(f,h){}const u=new eN(r,i,c,s);return u.successCodes=[200,204],u.errorHandler=o3(e),u}function LQ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function VQ(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=LQ(null,e)),r}function UQ(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function u(){let R="";for(let I=0;I<2;I++)R=R+Math.random().toString().slice(2);return R}const f=u();c["Content-Type"]="multipart/related; boundary="+f;const h=VQ(e,r,i),p=RQ(h,n),v="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+h.contentType+`\r
\r
`,y=`\r
--`+f+"--",w=nl.getBlob(v,r,y);if(w===null)throw tQ();const j={name:h.fullPath},E=d0(s,t.host,t._protocol),N="POST",S=t.maxUploadRetryTime,D=new eN(E,N,DQ(t,n),S);return D.urlParams=j,D.headers=c,D.body=w.uploadData(),D.errorHandler=s3(e),D}class qQ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Rc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Rc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Rc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw oh("cannot .send() more than once");if(Cl(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const c in s)s.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,s[c].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw oh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw oh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw oh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw oh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class BQ extends qQ{initXhr(){this.xhr_.responseType="text"}}function tN(){return new BQ}class Gc{constructor(e,n){this._service=e,n instanceof yi?this._location=n:this._location=yi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Gc(e,n)}get root(){const e=new yi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return n3(this._location.path)}get storage(){return this._service}get parent(){const e=AQ(this._location.path);if(e===null)return null;const n=new yi(this._location.bucket,e);return new Gc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw iQ(e)}}function $Q(t,e,n){t._throwIfRoot("uploadBytes");const r=UQ(t.storage,t._location,r3(),new nl(e,!0),n);return t.storage.makeRequestWithTokens(r,tN).then(i=>({metadata:i,ref:t}))}function FQ(t){t._throwIfRoot("getDownloadURL");const e=MQ(t.storage,t._location,r3());return t.storage.makeRequestWithTokens(e,tN).then(n=>{if(n===null)throw nQ();return n})}function HQ(t){t._throwIfRoot("deleteObject");const e=zQ(t.storage,t._location);return t.storage.makeRequestWithTokens(e,tN)}function KQ(t,e){const n=SQ(t._location.path,e),r=new yi(t._location.bucket,n);return new Gc(t.storage,r)}function GQ(t){return/^[A-Za-z]+:\/\//.test(t)}function WQ(t,e){return new Gc(t,e)}function l3(t,e){if(t instanceof nN){const n=t;if(n._bucket==null)throw eQ();const r=new Gc(n,n._bucket);return e!=null?l3(r,e):r}else return e!==void 0?KQ(t,e):t}function QQ(t,e){if(e&&GQ(e)){if(t instanceof nN)return WQ(t,e);throw Fw("To use ref(service, url), the first argument must be a Storage instance.")}else return l3(t,e)}function AO(t,e){const n=e?.[QL];return n==null?null:yi.makeFromBucketSpec(n,t)}function YQ(t,e,n,r={}){t.host=`${e}:${n}`;const i=Cl(e);i&&(lj(`https://${t.host}/b`),cj("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:bz(s,t.app.options.projectId))}class nN{constructor(e,n,r,i,s,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=c,this._bucket=null,this._host=WL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$W,this._maxUploadRetryTime=FW,this._requests=new Set,i!=null?this._bucket=yi.makeFromBucketSpec(i,this._host):this._bucket=AO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yi.makeFromBucketSpec(this._url,e):this._bucket=AO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gc(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new aQ(YL());{const c=vQ(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const SO="@firebase/storage",TO="0.14.0";const c3="storage";function XQ(t,e,n){return t=Ft(t),$Q(t,e,n)}function ZQ(t){return t=Ft(t),FQ(t)}function JQ(t){return t=Ft(t),HQ(t)}function CO(t,e){return t=Ft(t),QQ(t,e)}function eY(t=fj(),e){t=Ft(t);const r=qy(t,c3).getImmediate({identifier:e}),i=vz("storage");return i&&tY(r,...i),r}function tY(t,e,n,r={}){YQ(t,e,n,r)}function nY(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new nN(n,r,i,e,ru)}function rY(){Uc(new vl(c3,nY,"PUBLIC").setMultipleInstances(!0)),Ha(SO,TO,""),Ha(SO,TO,"esm2020")}rY();const iY={apiKey:"AIzaSyDgk_1graNBFkIURTJnyLZTZ1nyxi7slUo",authDomain:"pedaclic.firebaseapp.com",projectId:"pedaclic",storageBucket:"pedaclic.firebasestorage.app",messagingSenderId:"863649621890",appId:"1:863649621890:web:6ab56a8c8db111e3a9119b"},rN=wz(iY),Nh=AH(rN),Le=IL(rN),Hw=eY(rN),u3=Object.freeze(Object.defineProperty({__proto__:null,auth:Nh,db:Le,storage:Hw},Symbol.toStringTag,{value:"Module"})),PO={"auth/email-already-in-use":"Cette adresse email est dj utilise.","auth/invalid-email":"Adresse email invalide.","auth/operation-not-allowed":"Opration non autorise.","auth/weak-password":"Le mot de passe doit contenir au moins 6 caractres.","auth/user-disabled":"Ce compte a t dsactiv.","auth/user-not-found":"Aucun compte associ  cette adresse email.","auth/wrong-password":"Mot de passe incorrect.","auth/too-many-requests":"Trop de tentatives. Veuillez ressayer plus tard.","auth/network-request-failed":"Erreur de connexion. Vrifiez votre connexion internet.",default:"Une erreur est survenue. Veuillez ressayer."},OO=t=>PO[t]||PO.default,d3=_.createContext(null),aY=({children:t})=>{const[e,n]=_.useState(null),[r,i]=_.useState(!0),s=async y=>{try{const w=await pa(_t(Le,"users",y));if(w.exists()){const j=w.data();return{uid:y,email:j.email,displayName:j.displayName,role:j.role,isPremium:j.isPremium||!1,subscriptionEnd:j.subscriptionEnd?.toDate()||null,photoURL:j.photoURL,createdAt:j.createdAt?.toDate()||new Date,lastLogin:j.lastLogin?.toDate()}}return null}catch(w){return console.error("Erreur lors de la rcupration des donnes utilisateur:",w),null}},c=async(y,w)=>{const j=_t(Le,"users",y.uid);(await pa(j)).exists()?await Mr(j,{lastLogin:Mn()}):await KL(j,{email:y.email,displayName:y.displayName||w?.displayName||"",role:w?.role||"eleve",isPremium:!1,photoURL:y.photoURL,createdAt:Mn(),lastLogin:Mn()})},u=async(y,w)=>{try{const j=await cF(Nh,y,w);await c(j.user)}catch(j){throw new Error(OO(j.code))}},f=async y=>{try{if(y.password!==y.confirmPassword)throw new Error("Les mots de passe ne correspondent pas.");const w=await lF(Nh,y.email,y.password);await dF(w.user,{displayName:y.displayName}),await c(w.user,{displayName:y.displayName,role:y.role})}catch(w){throw w.message?w:new Error(OO(w.code))}},h=async()=>{try{await pF(Nh),n(null)}catch{throw new Error("Erreur lors de la dconnexion.")}},p=async y=>{if(!e)throw new Error("Aucun utilisateur connect.");try{const w=_t(Le,"users",e.uid);await Mr(w,{...y,updatedAt:Mn()}),n(j=>j?{...j,...y}:null)}catch{throw new Error("Erreur lors de la mise  jour du profil.")}};_.useEffect(()=>{const y=mF(Nh,async w=>{if(w){const j=await s(w.uid);n(j)}else n(null);i(!1)});return()=>y()},[]);const v={currentUser:e,loading:r,login:u,register:f,logout:h,updateProfile:p};return l.jsx(d3.Provider,{value:v,children:r?l.jsxs("div",{className:"loading-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Chargement..."})]}):t})},ni=()=>{const t=_.useContext(d3);if(!t)throw new Error("useAuth doit tre utilis  l'intrieur d'un AuthProvider");return t},iN=({children:t,allowedRoles:e,requirePremium:n=!1})=>{const{currentUser:r,loading:i}=ni();return i?l.jsxs("div",{className:"loading-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Vrification des autorisations..."})]}):r?e&&!e.includes(r.role)?l.jsxs("div",{className:"error-container",children:[l.jsx("h2",{children:"Accs non autoris"}),l.jsx("p",{children:"Vous n'avez pas les permissions ncessaires pour accder  cette page."}),l.jsx("a",{href:"/",className:"btn btn-primary",children:"Retour  l'accueil"})]}):n&&!r.isPremium?l.jsxs("div",{className:"error-container premium-required",children:[l.jsx("h2",{children:"Contenu Premium"}),l.jsx("p",{children:"Cette ressource est rserve aux abonns Premium."}),l.jsxs("div",{className:"premium-cta",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"2 000 FCFA/mois"})," ou ",l.jsx("strong",{children:"20 000 FCFA/an"})]}),l.jsx("a",{href:"/premium",className:"btn btn-premium",children:"Devenir Premium"})]})]}):l.jsx(l.Fragment,{children:t}):l.jsxs("div",{className:"error-container",children:[l.jsx("h2",{children:"Accs refus"}),l.jsx("p",{children:"Vous devez tre connect pour accder  cette page."}),l.jsx("a",{href:"/connexion",className:"btn btn-primary",children:"Se connecter"})]})},Xu=({children:t})=>l.jsx(iN,{allowedRoles:["admin"],children:t}),sY=({children:t})=>l.jsx(iN,{allowedRoles:["admin","prof"],children:t});const oY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lY=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),IO=t=>{const e=lY(t);return e.charAt(0).toUpperCase()+e.slice(1)},f3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),cY=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var uY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const dY=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:c,...u},f)=>_.createElement("svg",{ref:f,...uY,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:f3("lucide",i),...!s&&!cY(u)&&{"aria-hidden":"true"},...u},[...c.map(([h,p])=>_.createElement(h,p)),...Array.isArray(s)?s:[s]]));const De=(t,e)=>{const n=_.forwardRef(({className:r,...i},s)=>_.createElement(dY,{ref:s,iconNode:e,className:f3(`lucide-${oY(IO(t))}`,`lucide-${t}`,r),...i}));return n.displayName=IO(t),n};const fY=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Sx=De("arrow-left",fY);const hY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],gc=De("arrow-right",hY);const mY=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ya=De("award",mY);const pY=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Rr=De("book-open",pY);const vY=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Tx=De("calendar",vY);const gY=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],sa=De("chart-column",gY);const yY=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Mg=De("chevron-down",yY);const bY=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],RO=De("chevron-left",bY);const _Y=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Kw=De("chevron-up",_Y);const xY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zg=De("circle-alert",xY);const wY=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xn=De("circle-check-big",wY);const EY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],lg=De("circle-question-mark",EY);const jY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Gw=De("circle-x",jY);const NY=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],lh=De("clipboard-list",NY);const AY=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],El=De("clock",AY);const SY=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],TY=De("copy",SY);const CY=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ah=De("crown",CY);const PY=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zh=De("eye",PY);const OY=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],IY=De("facebook",OY);const RY=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],DY=De("file-text",RY);const kY=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],h3=De("funnel",kY);const MY=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Od=De("graduation-cap",MY);const zY=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],LY=De("grip-vertical",zY);const VY=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],UY=De("heart",VY);const qY=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Ww=De("house",qY);const BY=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],$Y=De("instagram",BY);const FY=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Lg=De("layout-dashboard",FY);const HY=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],KY=De("linkedin",HY);const GY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Qw=De("lock",GY);const WY=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],DO=De("log-out",WY);const QY=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],YY=De("mail",QY);const XY=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ZY=De("map-pin",XY);const JY=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],eX=De("menu",JY);const tX=[["path",{d:"M5 12h14",key:"1ays0h"}]],Yw=De("minus",tX);const nX=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],rX=De("pen-line",nX);const iX=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],aX=De("phone",iX);const sX=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Lh=De("play",sX);const oX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Iv=De("plus",oX);const lX=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Xw=De("refresh-cw",lX);const cX=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],uX=De("rotate-ccw",cX);const dX=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],fX=De("save",dX);const hX=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],aN=De("search",hX);const mX=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pX=De("settings",mX);const vX=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],sN=De("shield",vX);const gX=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],bi=De("star",gX);const yX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],dd=De("target",yX);const bX=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],_X=De("timer",bX);const xX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kO=De("trash-2",xX);const wX=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Zw=De("trending-down",wX);const EX=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Jh=De("trending-up",EX);const jX=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ch=De("triangle-alert",jX);const NX=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],m3=De("trophy",NX);const AX=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],SX=De("twitter",AX);const TX=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],CX=De("user-check",TX);const PX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],OX=De("user-x",PX);const IX=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],RX=De("user",IX);const DX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sl=De("users",DX);const kX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Dc=De("x",kX);const MX=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],zX=De("youtube",MX);const LX=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],p3=De("zap",LX),VX=()=>{const{currentUser:t,logout:e,loading:n}=ni(),r=to(),i=Tl(),[s,c]=_.useState(!1),[u,f]=_.useState(!1),[h,p]=_.useState(!1),v=_.useRef(null),y=[{path:"/",label:"Accueil",icon:l.jsx(Ww,{size:18})},{path:"/disciplines",label:"Disciplines",icon:l.jsx(Rr,{size:18})},{path:"/quiz",label:"Quiz",icon:l.jsx(Od,{size:18}),requireAuth:!0,requirePremium:!0},{path:t?.role==="eleve"?"/eleve/dashboard":t?.role==="prof"?"/prof/dashboard":"/admin",label:"Tableau de bord",icon:l.jsx(Lg,{size:18}),requireAuth:!0},{path:"/parent/dashboard",label:"Espace Parent",icon:l.jsx(sa,{size:18}),requireAuth:!0,requireRole:["parent"]}];_.useEffect(()=>{const I=$=>{v.current&&!v.current.contains($.target)&&f(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]),_.useEffect(()=>{c(!1),f(!1)},[i.pathname]),_.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]);const w=async()=>{try{p(!0),await e(),f(!1),r("/")}catch(I){console.error("Erreur lors de la dconnexion:",I)}finally{p(!1)}},j=()=>{c(!s)},E=()=>{f(!u)},N=I=>!(I.requireAuth&&!t||I.requirePremium&&t&&!t.isPremium||I.requireRole&&t&&!I.requireRole.includes(t.role)),S=I=>I==="/"?i.pathname==="/":i.pathname.startsWith(I),D=I=>({admin:"Administrateur",prof:"Professeur",eleve:"lve",parent:"Parent"})[I]||I,R=()=>t?t.displayName?t.displayName.split(" ").map($=>$[0]).join("").toUpperCase().slice(0,2):t.email[0].toUpperCase():"?";return l.jsxs("header",{className:"header",children:[l.jsxs("div",{className:"header__container",children:[l.jsxs(We,{to:"/",className:"header__logo",children:[l.jsx(Od,{className:"header__logo-icon",size:32}),l.jsxs("div",{className:"header__logo-text",children:[l.jsx("span",{className:"header__logo-name",children:"PedaClic"}),l.jsx("span",{className:"header__logo-tagline",children:"L'cole en un clic"})]})]}),l.jsx("nav",{className:"header__nav header__nav--desktop",children:l.jsx("ul",{className:"header__nav-list",children:y.map(I=>N(I)&&l.jsx("li",{className:"header__nav-item",children:l.jsxs(We,{to:I.path,className:`header__nav-link ${S(I.path)?"header__nav-link--active":""}`,children:[I.icon,l.jsx("span",{children:I.label}),I.requirePremium&&l.jsx(Ah,{size:14,className:"header__premium-badge"})]})},I.path))})}),l.jsxs("div",{className:"header__actions",children:[n?l.jsx("div",{className:"header__loading",children:l.jsx("div",{className:"header__spinner"})}):t?l.jsxs("div",{className:"header__user",ref:v,children:[t.isPremium&&l.jsxs("span",{className:"header__premium-tag",children:[l.jsx(Ah,{size:14}),"Premium"]}),l.jsxs("button",{className:"header__user-button",onClick:E,"aria-expanded":u,"aria-haspopup":"true",children:[l.jsx("div",{className:"header__avatar",children:t.photoURL?l.jsx("img",{src:t.photoURL,alt:t.displayName||"Avatar",className:"header__avatar-img"}):l.jsx("span",{className:"header__avatar-initials",children:R()})}),l.jsx("span",{className:"header__user-name",children:t.displayName||t.email.split("@")[0]}),l.jsx(Mg,{size:16,className:`header__chevron ${u?"header__chevron--open":""}`})]}),u&&l.jsxs("div",{className:"header__dropdown",children:[l.jsxs("div",{className:"header__dropdown-header",children:[l.jsx("p",{className:"header__dropdown-email",children:t.email}),l.jsx("span",{className:`header__dropdown-role header__dropdown-role--${t.role}`,children:D(t.role)})]}),l.jsx("div",{className:"header__dropdown-divider"}),l.jsxs("nav",{className:"header__dropdown-nav",children:[l.jsxs(We,{to:t.role==="eleve"?"/eleve/dashboard":t.role==="prof"?"/prof/dashboard":"/admin",className:"header__dropdown-link",children:[l.jsx(Lg,{size:18}),l.jsx("span",{children:"Tableau de bord"})]}),t.role==="eleve"&&l.jsxs(We,{to:"/eleve/suivi",className:"header__dropdown-link",children:[l.jsx(sa,{size:18}),l.jsx("span",{children:"Mes points  amliorer"})]}),t.role==="parent"&&l.jsxs(We,{to:"/parent/dashboard",className:"header__dropdown-link",children:[l.jsx(sa,{size:18}),l.jsx("span",{children:"Espace Parent"})]}),l.jsxs(We,{to:"/profil",className:"header__dropdown-link",children:[l.jsx(RX,{size:18}),l.jsx("span",{children:"Mon profil"})]}),t.role==="admin"&&l.jsxs(We,{to:"/admin",className:"header__dropdown-link",children:[l.jsx(pX,{size:18}),l.jsx("span",{children:"Administration"})]}),!t.isPremium&&l.jsxs(We,{to:"/premium",className:"header__dropdown-link header__dropdown-link--premium",children:[l.jsx(Ah,{size:18}),l.jsx("span",{children:"Passer Premium"})]})]}),l.jsx("div",{className:"header__dropdown-divider"}),l.jsxs("button",{className:"header__dropdown-logout",onClick:w,disabled:h,children:[l.jsx(DO,{size:18}),l.jsx("span",{children:h?"Dconnexion...":"Se dconnecter"})]})]})]}):l.jsxs("div",{className:"header__auth-buttons",children:[l.jsx(We,{to:"/connexion",className:"header__btn header__btn--outline",children:"Connexion"}),l.jsx(We,{to:"/inscription",className:"header__btn header__btn--primary",children:"S'inscrire"})]}),l.jsx("button",{className:"header__mobile-toggle",onClick:j,"aria-label":s?"Fermer le menu":"Ouvrir le menu","aria-expanded":s,children:s?l.jsx(Dc,{size:24}):l.jsx(eX,{size:24})})]})]}),l.jsxs("div",{className:`header__mobile-menu ${s?"header__mobile-menu--open":""}`,children:[l.jsx("div",{className:"header__mobile-overlay",onClick:()=>c(!1)}),l.jsxs("div",{className:"header__mobile-content",children:[l.jsx("nav",{className:"header__mobile-nav",children:l.jsx("ul",{className:"header__mobile-list",children:y.map(I=>N(I)&&l.jsx("li",{className:"header__mobile-item",children:l.jsxs(We,{to:I.path,className:`header__mobile-link ${S(I.path)?"header__mobile-link--active":""}`,children:[I.icon,l.jsx("span",{children:I.label}),I.requirePremium&&l.jsx(Ah,{size:14,className:"header__premium-badge"})]})},I.path))})}),!t&&l.jsxs("div",{className:"header__mobile-auth",children:[l.jsx(We,{to:"/connexion",className:"header__btn header__btn--outline header__btn--block",children:"Connexion"}),l.jsx(We,{to:"/inscription",className:"header__btn header__btn--primary header__btn--block",children:"S'inscrire"})]}),t&&l.jsxs("div",{className:"header__mobile-user",children:[l.jsxs("div",{className:"header__mobile-user-info",children:[l.jsx("div",{className:"header__avatar header__avatar--large",children:t.photoURL?l.jsx("img",{src:t.photoURL,alt:t.displayName||"Avatar",className:"header__avatar-img"}):l.jsx("span",{className:"header__avatar-initials",children:R()})}),l.jsxs("div",{className:"header__mobile-user-details",children:[l.jsx("p",{className:"header__mobile-user-name",children:t.displayName||t.email.split("@")[0]}),l.jsx("p",{className:"header__mobile-user-email",children:t.email})]})]}),l.jsxs("button",{className:"header__mobile-logout",onClick:w,disabled:h,children:[l.jsx(DO,{size:18}),l.jsx("span",{children:h?"Dconnexion...":"Se dconnecter"})]})]})]})]})]})},UX=()=>{const t=new Date().getFullYear(),e=[{label:"Accueil",path:"/"},{label:"Disciplines",path:"/disciplines"},{label:"Quiz Premium",path:"/quiz"},{label:"Tarifs",path:"/premium"},{label:"Tableau de bord",path:"/dashboard"}],n=[{label:"Cours en ligne",path:"/disciplines"},{label:"Exercices corrigs",path:"/disciplines"},{label:"Annales examens",path:"/disciplines"},{label:"Fiches de rvision",path:"/disciplines"}],r=[{name:"Facebook",url:"https://facebook.com/pedaclic",icon:l.jsx(IY,{size:20})},{name:"Twitter",url:"https://twitter.com/pedaclic",icon:l.jsx(SX,{size:20})},{name:"Instagram",url:"https://instagram.com/pedaclic",icon:l.jsx($Y,{size:20})},{name:"LinkedIn",url:"https://linkedin.com/company/pedaclic",icon:l.jsx(KY,{size:20})},{name:"YouTube",url:"https://youtube.com/@pedaclic",icon:l.jsx(zX,{size:20})}];return l.jsxs("footer",{className:"footer",children:[l.jsx("div",{className:"footer__main",children:l.jsxs("div",{className:"footer__container",children:[l.jsxs("div",{className:"footer__column footer__column--about",children:[l.jsxs(We,{to:"/",className:"footer__logo",children:[l.jsx(Od,{className:"footer__logo-icon",size:36}),l.jsxs("div",{className:"footer__logo-text",children:[l.jsx("span",{className:"footer__logo-name",children:"PedaClic"}),l.jsx("span",{className:"footer__logo-tagline",children:"L'cole en un clic"})]})]}),l.jsx("p",{className:"footer__description",children:"PedaClic est la plateforme ducative de rfrence au Sngal. Nous accompagnons les lves du collge au lyce avec des cours, exercices et quiz de qualit."}),l.jsxs("div",{className:"footer__stats",children:[l.jsxs("div",{className:"footer__stat",children:[l.jsx(Rr,{size:18}),l.jsx("span",{children:"500+ cours"})]}),l.jsxs("div",{className:"footer__stat",children:[l.jsx(sl,{size:18}),l.jsx("span",{children:"10 000+ lves"})]})]})]}),l.jsxs("div",{className:"footer__column",children:[l.jsxs("h3",{className:"footer__title",children:[l.jsx("span",{className:"footer__title-icon",children:""}),"Plateforme"]}),l.jsx("nav",{className:"footer__nav",children:l.jsx("ul",{className:"footer__list",children:e.map((i,s)=>l.jsx("li",{className:"footer__item",children:l.jsx(We,{to:i.path,className:"footer__link",children:i.label})},s))})})]}),l.jsxs("div",{className:"footer__column",children:[l.jsxs("h3",{className:"footer__title",children:[l.jsx("span",{className:"footer__title-icon",children:""}),"Ressources"]}),l.jsx("nav",{className:"footer__nav",children:l.jsx("ul",{className:"footer__list",children:n.map((i,s)=>l.jsx("li",{className:"footer__item",children:l.jsx(We,{to:i.path,className:"footer__link",children:i.label})},s))})})]}),l.jsxs("div",{className:"footer__column",children:[l.jsxs("h3",{className:"footer__title",children:[l.jsx("span",{className:"footer__title-icon",children:""}),"Contact"]}),l.jsxs("div",{className:"footer__contact",children:[l.jsxs("a",{href:"mailto:contact@pedaclic.sn",className:"footer__contact-item",children:[l.jsx(YY,{size:16,className:"footer__contact-icon"}),l.jsx("span",{children:"contact@pedaclic.sn"})]}),l.jsxs("a",{href:"tel:+221770000000",className:"footer__contact-item",children:[l.jsx(aX,{size:16,className:"footer__contact-icon"}),l.jsx("span",{children:"+221 77 000 00 00"})]}),l.jsxs("div",{className:"footer__contact-item",children:[l.jsx(ZY,{size:16,className:"footer__contact-icon"}),l.jsx("span",{children:"Dakar, Sngal"})]})]}),l.jsxs("div",{className:"footer__social",children:[l.jsx("h4",{className:"footer__social-title",children:"Suivez-nous"}),l.jsx("div",{className:"footer__social-links",children:r.map((i,s)=>l.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"footer__social-link",title:i.name,children:i.icon},s))})]})]})]})}),l.jsx("div",{className:"footer__bottom",children:l.jsxs("div",{className:"footer__container footer__bottom-content",children:[l.jsxs("p",{className:"footer__copyright",children:[" ",t," PedaClic. Tous droits rservs."]}),l.jsxs("p",{className:"footer__made-with",children:["Fait avec ",l.jsx(UY,{size:14,className:"footer__heart"})," au Sngal "]}),l.jsxs("nav",{className:"footer__legal",children:[l.jsxs(We,{to:"/mentions-legales",className:"footer__legal-link",children:[l.jsx(DY,{size:14})," Mentions lgales"]}),l.jsxs(We,{to:"/confidentialite",className:"footer__legal-link",children:[l.jsx(sN,{size:14})," Confidentialit"]}),l.jsxs(We,{to:"/aide",className:"footer__legal-link",children:[l.jsx(lg,{size:14})," Aide"]})]})]})})]})},Ts=({children:t,hideHeader:e=!1,hideFooter:n=!1,className:r=""})=>l.jsxs("div",{className:"layout",children:[!e&&l.jsx(VX,{}),l.jsx("main",{className:`layout__main ${e?"":"layout__main--with-header"} ${r}`,children:t}),!n&&l.jsx(UX,{})]}),qX=()=>{const{currentUser:t}=ni();return l.jsxs("div",{className:"home-page",children:[l.jsxs("section",{className:"home-page__hero",children:[l.jsxs("div",{className:"home-page__hero-content",children:[l.jsxs("div",{className:"home-page__hero-badge",children:[l.jsx(bi,{size:14}),l.jsx("span",{children:"Plateforme N1 au Sngal"})]}),l.jsxs("h1",{className:"home-page__hero-title",children:["Russis tes examens avec",l.jsx("span",{className:"home-page__hero-highlight",children:" PedaClic"})]}),l.jsx("p",{className:"home-page__hero-subtitle",children:"La plateforme ducative qui accompagne les lves sngalais du collge au lyce avec des cours, exercices et quiz de qualit."}),l.jsx("div",{className:"home-page__hero-cta",children:t?l.jsxs(We,{to:t.role==="eleve"?"/eleve/dashboard":t.role==="prof"?"/prof/dashboard":"/admin",className:"home-page__btn home-page__btn--primary",children:["  Accder  mon espace",l.jsx(gc,{size:20})]}):l.jsxs(l.Fragment,{children:[l.jsxs(We,{to:"/register",className:"home-page__btn home-page__btn--primary",children:["Commencer gratuitement",l.jsx(gc,{size:20})]}),l.jsxs(We,{to:"/disciplines",className:"home-page__btn home-page__btn--outline",children:[l.jsx(Lh,{size:18}),"Dcouvrir les cours"]})]})}),l.jsxs("div",{className:"home-page__hero-stats",children:[l.jsxs("div",{className:"home-page__hero-stat",children:[l.jsx("strong",{children:"10 000+"}),l.jsx("span",{children:"lves inscrits"})]}),l.jsxs("div",{className:"home-page__hero-stat",children:[l.jsx("strong",{children:"500+"}),l.jsx("span",{children:"Cours disponibles"})]}),l.jsxs("div",{className:"home-page__hero-stat",children:[l.jsx("strong",{children:"95%"}),l.jsx("span",{children:"Taux de russite"})]})]})]}),l.jsx("div",{className:"home-page__hero-image",children:l.jsxs("div",{className:"home-page__hero-illustration",children:[l.jsx(Od,{size:120}),l.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--1",children:""}),l.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--2",children:""}),l.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--3",children:""})]})})]}),l.jsx("section",{className:"home-page__levels",children:l.jsxs("div",{className:"home-page__container",children:[l.jsx("h2",{className:"home-page__section-title",children:"Tous les niveaux, toutes les matires"}),l.jsx("p",{className:"home-page__section-subtitle",children:"Du collge au lyce, prpare tes examens avec confiance"}),l.jsxs("div",{className:"home-page__levels-grid",children:[l.jsxs(We,{to:"/disciplines?niveau=college",className:"home-page__level-card",children:[l.jsx("div",{className:"home-page__level-icon home-page__level-icon--college",children:""}),l.jsx("h3",{children:"Collge"}),l.jsx("p",{children:"6me  3me"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx(xn,{size:16})," Prparation au BFEM"]}),l.jsxs("li",{children:[l.jsx(xn,{size:16})," 9 matires disponibles"]}),l.jsxs("li",{children:[l.jsx(xn,{size:16})," Exercices corrigs"]})]}),l.jsxs("span",{className:"home-page__level-link",children:["Voir les cours ",l.jsx(gc,{size:16})]})]}),l.jsxs(We,{to:"/disciplines?niveau=lycee",className:"home-page__level-card",children:[l.jsx("div",{className:"home-page__level-icon home-page__level-icon--lycee",children:""}),l.jsx("h3",{children:"Lyce"}),l.jsx("p",{children:"2nde  Terminale"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx(xn,{size:16})," Prparation au BAC"]}),l.jsxs("li",{children:[l.jsx(xn,{size:16})," 12 matires disponibles"]}),l.jsxs("li",{children:[l.jsx(xn,{size:16})," Annales d'examens"]})]}),l.jsxs("span",{className:"home-page__level-link",children:["Voir les cours ",l.jsx(gc,{size:16})]})]})]})]})}),l.jsx("section",{className:"home-page__features",children:l.jsxs("div",{className:"home-page__container",children:[l.jsx("h2",{className:"home-page__section-title",children:"Pourquoi choisir PedaClic ?"}),l.jsx("p",{className:"home-page__section-subtitle",children:"Des outils modernes pour une ducation de qualit"}),l.jsxs("div",{className:"home-page__features-grid",children:[l.jsxs("div",{className:"home-page__feature-card",children:[l.jsx("div",{className:"home-page__feature-icon",children:l.jsx(Rr,{size:28})}),l.jsx("h3",{children:"Cours complets"}),l.jsx("p",{children:"Des cours structurs et conformes au programme sngalais, rdigs par des enseignants expriments."})]}),l.jsxs("div",{className:"home-page__feature-card",children:[l.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--secondary",children:l.jsx(p3,{size:28})}),l.jsx("h3",{children:"Quiz interactifs"}),l.jsx("p",{children:"Testez vos connaissances avec des quiz adapts  chaque niveau et obtenez un feedback instantan."})]}),l.jsxs("div",{className:"home-page__feature-card",children:[l.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--warning",children:l.jsx(m3,{size:28})}),l.jsx("h3",{children:"Suivi de progression"}),l.jsx("p",{children:"Visualisez vos progrs et identifiez vos points faibles pour cibler vos rvisions."})]}),l.jsxs("div",{className:"home-page__feature-card",children:[l.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--success",children:l.jsx(sN,{size:28})}),l.jsx("h3",{children:"Contenu vrifi"}),l.jsx("p",{children:"Tous nos contenus sont valids par des professeurs certifis pour garantir leur qualit."})]}),l.jsxs("div",{className:"home-page__feature-card",children:[l.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--info",children:l.jsx(El,{size:28})}),l.jsx("h3",{children:"Accessible 24/7"}),l.jsx("p",{children:"tudiez  votre rythme, o que vous soyez, sur ordinateur, tablette ou smartphone."})]}),l.jsxs("div",{className:"home-page__feature-card",children:[l.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--premium",children:l.jsx(Ya,{size:28})}),l.jsx("h3",{children:"Certificats"}),l.jsx("p",{children:"Obtenez des certificats de russite pour valoriser vos comptences acquises."})]})]})]})}),l.jsx("section",{className:"home-page__premium",children:l.jsx("div",{className:"home-page__container",children:l.jsxs("div",{className:"home-page__premium-content",children:[l.jsxs("div",{className:"home-page__premium-text",children:[l.jsx("span",{className:"home-page__premium-badge",children:" Premium"}),l.jsx("h2",{children:"Passez  la vitesse suprieure"}),l.jsxs("p",{children:["Accdez  tous les quiz, exercices corrigs et ressources exclusives pour seulement ",l.jsx("strong",{children:"2 000 FCFA/mois"}),"."]}),l.jsxs("ul",{className:"home-page__premium-features",children:[l.jsxs("li",{children:[l.jsx(xn,{size:18})," Quiz illimits dans toutes les matires"]}),l.jsxs("li",{children:[l.jsx(xn,{size:18})," Corrections dtailles des exercices"]}),l.jsxs("li",{children:[l.jsx(xn,{size:18})," Annales des examens (BFEM, BAC)"]}),l.jsxs("li",{children:[l.jsx(xn,{size:18})," Support prioritaire"]})]}),l.jsxs(We,{to:"/premium",className:"home-page__btn home-page__btn--premium",children:["Dcouvrir Premium",l.jsx(gc,{size:20})]})]}),l.jsx("div",{className:"home-page__premium-pricing",children:l.jsxs("div",{className:"home-page__pricing-card",children:[l.jsx("span",{className:"home-page__pricing-popular",children:"Plus populaire"}),l.jsx("h3",{children:"Abonnement Annuel"}),l.jsxs("div",{className:"home-page__pricing-price",children:[l.jsx("span",{className:"home-page__pricing-amount",children:"20 000"}),l.jsx("span",{className:"home-page__pricing-currency",children:"FCFA"}),l.jsx("span",{className:"home-page__pricing-period",children:"/an"})]}),l.jsx("p",{className:"home-page__pricing-save",children:"conomisez 4 000 FCFA vs mensuel"}),l.jsx(We,{to:"/premium",className:"home-page__btn home-page__btn--primary home-page__btn--block",children:"Choisir ce plan"})]})})]})})}),l.jsx("section",{className:"home-page__testimonials",children:l.jsxs("div",{className:"home-page__container",children:[l.jsx("h2",{className:"home-page__section-title",children:"Ce qu'en disent nos lves"}),l.jsxs("div",{className:"home-page__testimonials-grid",children:[l.jsxs("div",{className:"home-page__testimonial-card",children:[l.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>l.jsx(bi,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),l.jsx("p",{className:"home-page__testimonial-text",children:`"Grce  PedaClic, j'ai obtenu mon BFEM avec mention. Les quiz m'ont vraiment aid  me prparer !"`}),l.jsxs("div",{className:"home-page__testimonial-author",children:[l.jsx("div",{className:"home-page__testimonial-avatar",children:"FA"}),l.jsxs("div",{children:[l.jsx("strong",{children:"Fatou Adara"}),l.jsx("span",{children:"lve en 3me - Dakar"})]})]})]}),l.jsxs("div",{className:"home-page__testimonial-card",children:[l.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>l.jsx(bi,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),l.jsx("p",{className:"home-page__testimonial-text",children:`"Les cours de maths sont trs bien expliqus. J'ai enfin compris les quations du second degr !"`}),l.jsxs("div",{className:"home-page__testimonial-author",children:[l.jsx("div",{className:"home-page__testimonial-avatar",children:"MD"}),l.jsxs("div",{children:[l.jsx("strong",{children:"Moussa Diallo"}),l.jsx("span",{children:"lve en Terminale S - This"})]})]})]}),l.jsxs("div",{className:"home-page__testimonial-card",children:[l.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>l.jsx(bi,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),l.jsx("p",{className:"home-page__testimonial-text",children:`"Je recommande PedaClic  tous les parents. Ma fille a beaucoup progress depuis qu'elle l'utilise."`}),l.jsxs("div",{className:"home-page__testimonial-author",children:[l.jsx("div",{className:"home-page__testimonial-avatar",children:"AN"}),l.jsxs("div",{children:[l.jsx("strong",{children:"Aminata Ndiaye"}),l.jsx("span",{children:"Parent d'lve - Saint-Louis"})]})]})]})]})]})}),l.jsx("section",{className:"home-page__final-cta",children:l.jsxs("div",{className:"home-page__container",children:[l.jsx("h2",{children:"Prt  russir ?"}),l.jsx("p",{children:"Rejoignez les milliers d'lves qui font confiance  PedaClic"}),!t&&l.jsxs(We,{to:"/register",className:"home-page__btn home-page__btn--large",children:["Crer mon compte gratuit",l.jsx(gc,{size:24})]})]})})]})},BX=()=>{const{login:t}=ni(),e=to(),r=Tl().state?.from||"/",[i,s]=_.useState({email:"",password:""}),[c,u]=_.useState(!1),[f,h]=_.useState(""),[p,v]=_.useState(!1),y=E=>{const{name:N,value:S}=E.target;s(D=>({...D,[N]:S})),f&&h("")},w=()=>i.email.trim()?i.password?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)?!0:(h("Veuillez entrer une adresse email valide."),!1):(h("Veuillez entrer votre mot de passe."),!1):(h("Veuillez entrer votre adresse email."),!1),j=async E=>{if(E.preventDefault(),!!w()){u(!0),h("");try{await t(i.email,i.password),e(r,{replace:!0})}catch(N){N instanceof Error?h(N.message):h("Une erreur est survenue lors de la connexion.")}finally{u(!1)}}};return l.jsx("div",{className:"auth-page",children:l.jsxs("div",{className:"auth-container",children:[l.jsxs("div",{className:"auth-card",children:[l.jsxs("div",{className:"auth-header",children:[l.jsxs(We,{to:"/",className:"auth-logo",children:[l.jsx("div",{className:"auth-logo__icon",children:l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),l.jsx("span",{children:"PedaClic"})]}),l.jsx("h1",{className:"auth-title",children:"Connexion"}),l.jsx("p",{className:"auth-subtitle",children:"Accdez  votre espace d'apprentissage"})]}),f&&l.jsxs("div",{className:"auth-error",children:[l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("path",{d:"M12 8v4M12 16h.01"})]}),l.jsx("span",{children:f})]}),l.jsxs("form",{onSubmit:j,className:"auth-form",children:[l.jsxs("div",{className:"auth-field",children:[l.jsx("label",{htmlFor:"email",className:"auth-label",children:"Adresse email"}),l.jsxs("div",{className:"auth-input-wrapper",children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),l.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:y,placeholder:"exemple@email.com",className:"auth-input",autoComplete:"email",disabled:c})]})]}),l.jsxs("div",{className:"auth-field",children:[l.jsx("label",{htmlFor:"password",className:"auth-label",children:"Mot de passe"}),l.jsxs("div",{className:"auth-input-wrapper",children:[l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:[l.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",strokeWidth:"2"}),l.jsx("path",{strokeWidth:"2",d:"M7 11V7a5 5 0 0110 0v4"})]}),l.jsx("input",{type:p?"text":"password",id:"password",name:"password",value:i.password,onChange:y,placeholder:"Votre mot de passe",className:"auth-input",autoComplete:"current-password",disabled:c}),l.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>v(!p),"aria-label":p?"Masquer le mot de passe":"Afficher le mot de passe",children:p?l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),l.jsx("div",{className:"auth-forgot",children:l.jsx(We,{to:"/mot-de-passe-oublie",className:"auth-forgot-link",children:"Mot de passe oubli ?"})}),l.jsx("button",{type:"submit",className:"auth-button",disabled:c,children:c?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"auth-button-spinner"}),"Connexion en cours..."]}):"Se connecter"})]}),l.jsx("div",{className:"auth-divider",children:l.jsx("span",{children:"ou"})}),l.jsxs("p",{className:"auth-switch",children:["Pas encore de compte ?"," ",l.jsx(We,{to:"/inscription",className:"auth-switch-link",children:"Crer un compte"})]})]}),l.jsxs("div",{className:"auth-welcome",children:[l.jsx("h2",{children:"Bienvenue sur PedaClic !"}),l.jsx("p",{children:"L'cole en un clic - Accdez  des milliers de cours, exercices et quiz."}),l.jsxs("ul",{className:"auth-features",children:[l.jsxs("li",{children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Cours du programme sngalais"]}),l.jsxs("li",{children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Exercices interactifs"]}),l.jsxs("li",{children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quiz pour tester vos connaissances"]}),l.jsxs("li",{children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Suivi de progression"]})]})]})]})})},$X=()=>{const{register:t}=ni(),e=to(),[n,r]=_.useState({email:"",password:"",confirmPassword:"",displayName:"",role:"eleve"}),[i,s]=_.useState(!1),[c,u]=_.useState(""),[f,h]=_.useState(!1),[p,v]=_.useState(!1),[y,w]=_.useState(!1),j=S=>{const{name:D,value:R}=S.target;r(I=>({...I,[D]:R})),c&&u("")},E=()=>n.displayName.trim()?n.displayName.trim().length<2?(u("Le nom doit contenir au moins 2 caractres."),!1):n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?n.password?n.password.length<6?(u("Le mot de passe doit contenir au moins 6 caractres."),!1):n.password!==n.confirmPassword?(u("Les mots de passe ne correspondent pas."),!1):y?!0:(u("Veuillez accepter les conditions d'utilisation."),!1):(u("Veuillez entrer un mot de passe."),!1):(u("Veuillez entrer une adresse email valide."),!1):(u("Veuillez entrer votre adresse email."),!1):(u("Veuillez entrer votre nom complet."),!1),N=async S=>{if(S.preventDefault(),!!E()){s(!0),u("");try{await t(n),e("/disciplines",{replace:!0})}catch(D){D instanceof Error?u(D.message):u("Une erreur est survenue lors de l'inscription.")}finally{s(!1)}}};return l.jsx("div",{className:"auth-page",children:l.jsxs("div",{className:"auth-container",children:[l.jsxs("div",{className:"auth-card auth-card--register",children:[l.jsxs("div",{className:"auth-header",children:[l.jsxs(We,{to:"/",className:"auth-logo",children:[l.jsx("div",{className:"auth-logo__icon",children:l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),l.jsx("span",{children:"PedaClic"})]}),l.jsx("h1",{className:"auth-title",children:"Crer un compte"}),l.jsx("p",{className:"auth-subtitle",children:"Rejoignez PedaClic et commencez  apprendre"})]}),c&&l.jsxs("div",{className:"auth-error",children:[l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("path",{d:"M12 8v4M12 16h.01"})]}),l.jsx("span",{children:c})]}),l.jsxs("form",{onSubmit:N,className:"auth-form",children:[l.jsxs("div",{className:"auth-field",children:[l.jsx("label",{htmlFor:"displayName",className:"auth-label",children:"Nom complet"}),l.jsxs("div",{className:"auth-input-wrapper",children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),l.jsx("input",{type:"text",id:"displayName",name:"displayName",value:n.displayName,onChange:j,placeholder:"Amadou Diallo",className:"auth-input",autoComplete:"name",disabled:i})]})]}),l.jsxs("div",{className:"auth-field",children:[l.jsx("label",{htmlFor:"email",className:"auth-label",children:"Adresse email"}),l.jsxs("div",{className:"auth-input-wrapper",children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),l.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:j,placeholder:"exemple@email.com",className:"auth-input",autoComplete:"email",disabled:i})]})]}),l.jsxs("div",{className:"auth-field",children:[l.jsx("label",{className:"auth-label",children:"Je suis :"}),l.jsxs("div",{className:"auth-role-selector",children:[l.jsxs("label",{className:`auth-role-option ${n.role==="eleve"?"auth-role-option--selected":""}`,children:[l.jsx("input",{type:"radio",name:"role",value:"eleve",checked:n.role==="eleve",onChange:j,className:"auth-role-input",disabled:i}),l.jsxs("div",{className:"auth-role-content",children:[l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l9-5-9-5-9 5 9 5z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"})]}),l.jsx("span",{children:"lve"})]})]}),l.jsxs("label",{className:`auth-role-option ${n.role==="prof"?"auth-role-option--selected":""}`,children:[l.jsx("input",{type:"radio",name:"role",value:"prof",checked:n.role==="prof",onChange:j,className:"auth-role-input",disabled:i}),l.jsxs("div",{className:"auth-role-content",children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),l.jsx("span",{children:"Professeur"})]})]}),l.jsxs("label",{className:`auth-role-option ${n.role==="parent"?"auth-role-option--selected":""}`,children:[l.jsx("input",{type:"radio",name:"role",value:"parent",checked:n.role==="parent",onChange:j,className:"auth-role-input",disabled:i}),l.jsxs("div",{className:"auth-role-content",children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),l.jsx("span",{children:"Parent d'lve"})]})]})]})]}),l.jsxs("div",{className:"auth-field",children:[l.jsx("label",{htmlFor:"password",className:"auth-label",children:"Mot de passe"}),l.jsxs("div",{className:"auth-input-wrapper",children:[l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:[l.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",strokeWidth:"2"}),l.jsx("path",{strokeWidth:"2",d:"M7 11V7a5 5 0 0110 0v4"})]}),l.jsx("input",{type:f?"text":"password",id:"password",name:"password",value:n.password,onChange:j,placeholder:"Minimum 6 caractres",className:"auth-input",autoComplete:"new-password",disabled:i}),l.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>h(!f),"aria-label":f?"Masquer":"Afficher",children:f?l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),l.jsx("p",{className:"auth-hint",children:"Au moins 6 caractres avec des lettres et des chiffres"})]}),l.jsxs("div",{className:"auth-field",children:[l.jsx("label",{htmlFor:"confirmPassword",className:"auth-label",children:"Confirmer le mot de passe"}),l.jsxs("div",{className:"auth-input-wrapper",children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),l.jsx("input",{type:p?"text":"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:j,placeholder:"Retapez votre mot de passe",className:"auth-input",autoComplete:"new-password",disabled:i}),l.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>v(!p),"aria-label":p?"Masquer":"Afficher",children:p?l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),l.jsx("div",{className:"auth-checkbox-field",children:l.jsxs("label",{className:"auth-checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:y,onChange:S=>w(S.target.checked),className:"auth-checkbox",disabled:i}),l.jsx("span",{className:"auth-checkbox-custom"}),l.jsxs("span",{children:["J'accepte les"," ",l.jsx(We,{to:"/cgu",target:"_blank",className:"auth-link",children:"conditions d'utilisation"})," ","et la"," ",l.jsx(We,{to:"/confidentialite",target:"_blank",className:"auth-link",children:"politique de confidentialit"})]})]})}),l.jsx("button",{type:"submit",className:"auth-button",disabled:i,children:i?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"auth-button-spinner"}),"Cration du compte..."]}):"Crer mon compte"})]}),l.jsx("div",{className:"auth-divider",children:l.jsx("span",{children:"ou"})}),l.jsxs("p",{className:"auth-switch",children:["Dj un compte ?"," ",l.jsx(We,{to:"/connexion",className:"auth-switch-link",children:"Se connecter"})]})]}),l.jsxs("div",{className:"auth-welcome auth-welcome--register",children:[l.jsx("h2",{children:"Rejoignez la communaut PedaClic"}),l.jsx("p",{children:"Des milliers d'lves et professeurs sngalais nous font dj confiance."}),l.jsxs("div",{className:"auth-stats",children:[l.jsxs("div",{className:"auth-stat",children:[l.jsx("span",{className:"auth-stat-number",children:"10 000+"}),l.jsx("span",{className:"auth-stat-label",children:"lves inscrits"})]}),l.jsxs("div",{className:"auth-stat",children:[l.jsx("span",{className:"auth-stat-number",children:"500+"}),l.jsx("span",{className:"auth-stat-label",children:"Cours disponibles"})]}),l.jsxs("div",{className:"auth-stat",children:[l.jsx("span",{className:"auth-stat-number",children:"95%"}),l.jsx("span",{className:"auth-stat-label",children:"Taux de satisfaction"})]})]}),l.jsxs("div",{className:"auth-testimonial",children:[l.jsx("p",{className:"auth-testimonial-text",children:`"Grce  PedaClic, j'ai amlior mes notes en mathmatiques de 4 points !"`}),l.jsx("p",{className:"auth-testimonial-author",children:" Fatou N., lve de 3me  Dakar"})]})]})]})})},FX=()=>{const[t,e]=_.useState([]),[n,r]=_.useState([]),[i,s]=_.useState(!0),[c,u]=_.useState(null),[f,h]=_.useState("tous"),[p,v]=_.useState("");_.useEffect(()=>{(async()=>{try{s(!0);const j=ir(Nn(Le,"disciplines"),Fi("ordre","asc")),N=(await ar(j)).docs.map(S=>({id:S.id,...S.data()}));e(N),r(N),u(null)}catch(j){console.error("Erreur chargement disciplines:",j),u("Impossible de charger les disciplines. Veuillez ressayer.")}finally{s(!1)}})()},[]),_.useEffect(()=>{let w=t;if(f!=="tous"&&(w=w.filter(j=>j.niveau===f)),p.trim()){const j=p.toLowerCase();w=w.filter(E=>E.nom.toLowerCase().includes(j)||E.description.toLowerCase().includes(j)||E.classe.toLowerCase().includes(j))}r(w)},[t,f,p]);const y={tous:t.length,college:t.filter(w=>w.niveau==="college").length,lycee:t.filter(w=>w.niveau==="lycee").length};return i?l.jsx("div",{style:Fe.container,children:l.jsxs("div",{style:Fe.loadingContainer,children:[l.jsx("div",{style:Fe.spinner}),l.jsx("p",{style:Fe.loadingText,children:"Chargement des disciplines..."})]})}):c?l.jsx("div",{style:Fe.container,children:l.jsxs("div",{style:Fe.errorContainer,children:[l.jsx("span",{style:Fe.errorIcon,children:""}),l.jsx("h2",{style:Fe.errorTitle,children:"Erreur"}),l.jsx("p",{style:Fe.errorText,children:c}),l.jsx("button",{onClick:()=>window.location.reload(),style:Fe.retryButton,children:" Ressayer"})]})}):l.jsxs("div",{style:Fe.container,children:[l.jsx("header",{style:Fe.header,children:l.jsxs("div",{style:Fe.headerContent,children:[l.jsx(We,{to:"/",style:Fe.backLink,children:" Accueil"}),l.jsx("h1",{style:Fe.title,children:" Nos Disciplines"}),l.jsx("p",{style:Fe.subtitle,children:"Dcouvrez toutes les matires disponibles sur PedaClic, de la 6me  la Terminale."})]})}),l.jsx("div",{style:Fe.filtersSection,children:l.jsxs("div",{style:Fe.filtersContainer,children:[l.jsxs("div",{style:Fe.searchBox,children:[l.jsx("span",{style:Fe.searchIcon,children:""}),l.jsx("input",{type:"text",placeholder:"Rechercher une discipline...",value:p,onChange:w=>v(w.target.value),style:Fe.searchInput}),p&&l.jsx("button",{onClick:()=>v(""),style:Fe.clearSearch,children:""})]}),l.jsxs("div",{style:Fe.niveauFilters,children:[l.jsxs("button",{onClick:()=>h("tous"),style:{...Fe.filterButton,...f==="tous"?Fe.filterButtonActive:{}},children:[" Tous (",y.tous,")"]}),l.jsxs("button",{onClick:()=>h("college"),style:{...Fe.filterButton,...f==="college"?Fe.filterButtonActive:{}},children:[" Collge (",y.college,")"]}),l.jsxs("button",{onClick:()=>h("lycee"),style:{...Fe.filterButton,...f==="lycee"?Fe.filterButtonActive:{}},children:[" Lyce (",y.lycee,")"]})]})]})}),l.jsx("main",{style:Fe.main,children:n.length===0?l.jsxs("div",{style:Fe.emptyState,children:[l.jsx("span",{style:Fe.emptyIcon,children:""}),l.jsx("h3",{style:Fe.emptyTitle,children:"Aucune discipline trouve"}),l.jsx("p",{style:Fe.emptyText,children:"Essayez de modifier vos critres de recherche."}),l.jsx("button",{onClick:()=>{h("tous"),v("")},style:Fe.resetButton,children:"Rinitialiser les filtres"})]}):l.jsx("div",{style:Fe.grid,children:n.map(w=>l.jsx(HX,{discipline:w},w.id))})}),l.jsxs("footer",{style:Fe.footer,children:[l.jsx("p",{children:" PedaClic - L'cole en un clic"}),l.jsxs("p",{style:Fe.footerSubtext,children:[t.length," disciplines disponibles  6me  Terminale"]})]})]})},HX=({discipline:t})=>{const e=t.niveau==="college"?"Collge":"Lyce",n=t.niveau==="college"?"":"";return l.jsxs(We,{to:`/disciplines/${t.id}`,style:Fe.card,className:"discipline-card",children:[l.jsx("div",{style:{...Fe.cardIcon,backgroundColor:t.couleur||"#2563eb"},children:l.jsx("span",{style:Fe.cardEmoji,children:t.icone||""})}),l.jsxs("div",{style:Fe.cardContent,children:[l.jsx("h3",{style:Fe.cardTitle,children:t.nom}),l.jsxs("div",{style:Fe.cardMeta,children:[l.jsxs("span",{style:Fe.cardBadge,children:[n," ",e]}),l.jsxs("span",{style:Fe.cardBadge,children:[" ",t.classe]}),l.jsxs("span",{style:Fe.cardBadge,children:[" Coef. ",t.coefficient]})]}),l.jsx("p",{style:Fe.cardDescription,children:t.description})]}),l.jsx("div",{style:Fe.cardArrow,children:""})]})},Fe={container:{minHeight:"100vh",backgroundColor:"#f3f4f6",fontFamily:"system-ui, -apple-system, sans-serif"},header:{background:"linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%)",color:"white",padding:"2rem 1rem 3rem"},headerContent:{maxWidth:"1200px",margin:"0 auto"},backLink:{color:"rgba(255,255,255,0.8)",textDecoration:"none",fontSize:"0.9rem",display:"inline-block",marginBottom:"1rem"},title:{fontSize:"2.5rem",fontWeight:"700",margin:"0 0 0.5rem 0"},subtitle:{fontSize:"1.1rem",opacity:.9,margin:0,maxWidth:"600px"},filtersSection:{backgroundColor:"white",borderBottom:"1px solid #e5e7eb",padding:"1rem",position:"sticky",top:0,zIndex:10,boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},filtersContainer:{maxWidth:"1200px",margin:"0 auto",display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"center",justifyContent:"space-between"},searchBox:{display:"flex",alignItems:"center",backgroundColor:"#f3f4f6",borderRadius:"8px",padding:"0.5rem 1rem",flex:"1",maxWidth:"400px",minWidth:"200px"},searchIcon:{marginRight:"0.5rem",fontSize:"1rem"},searchInput:{border:"none",background:"transparent",flex:1,fontSize:"1rem",outline:"none"},clearSearch:{background:"none",border:"none",cursor:"pointer",color:"#6b7280",fontSize:"1rem",padding:"0 0.25rem"},niveauFilters:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},filterButton:{padding:"0.5rem 1rem",borderRadius:"20px",border:"1px solid #e5e7eb",backgroundColor:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.2s",color:"#374151"},filterButtonActive:{backgroundColor:"#2563eb",borderColor:"#2563eb",color:"white"},main:{maxWidth:"1200px",margin:"0 auto",padding:"2rem 1rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"1.5rem"},card:{display:"flex",alignItems:"flex-start",gap:"1rem",backgroundColor:"white",borderRadius:"12px",padding:"1.5rem",textDecoration:"none",color:"inherit",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",transition:"all 0.2s ease",border:"1px solid #e5e7eb"},cardIcon:{width:"60px",height:"60px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},cardEmoji:{fontSize:"1.75rem"},cardContent:{flex:1,minWidth:0},cardTitle:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",margin:"0 0 0.5rem 0"},cardMeta:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"0.75rem"},cardBadge:{fontSize:"0.75rem",padding:"0.25rem 0.5rem",backgroundColor:"#f3f4f6",borderRadius:"4px",color:"#6b7280"},cardDescription:{fontSize:"0.9rem",color:"#6b7280",margin:0,lineHeight:"1.5",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},cardArrow:{color:"#9ca3af",fontSize:"1.25rem",alignSelf:"center",transition:"transform 0.2s"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh"},spinner:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTopColor:"#2563eb",borderRadius:"50%",animation:"spin 1s linear infinite"},loadingText:{marginTop:"1rem",color:"#6b7280"},errorContainer:{textAlign:"center",padding:"4rem 2rem"},errorIcon:{fontSize:"4rem"},errorTitle:{color:"#dc2626",margin:"1rem 0 0.5rem"},errorText:{color:"#6b7280",marginBottom:"1.5rem"},retryButton:{padding:"0.75rem 1.5rem",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem"},emptyState:{textAlign:"center",padding:"4rem 2rem",backgroundColor:"white",borderRadius:"12px"},emptyIcon:{fontSize:"4rem"},emptyTitle:{color:"#1f2937",margin:"1rem 0 0.5rem"},emptyText:{color:"#6b7280",marginBottom:"1.5rem"},resetButton:{padding:"0.75rem 1.5rem",backgroundColor:"#f3f4f6",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"8px",cursor:"pointer",fontSize:"1rem"},footer:{textAlign:"center",padding:"2rem",backgroundColor:"#1f2937",color:"white",marginTop:"2rem"},footerSubtext:{fontSize:"0.85rem",opacity:.7,marginTop:"0.5rem"}},KX=()=>l.jsx("style",{children:`
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .discipline-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 24px rgba(0,0,0,0.15) !important;
      border-color: #2563eb !important;
    }
    
    .discipline-card:hover .card-arrow {
      transform: translateX(4px);
    }
  `}),GX=()=>l.jsxs(l.Fragment,{children:[l.jsx(KX,{}),l.jsx(FX,{})]}),v3={cours:{icon:"",label:"Cours",color:"#2563eb",bgColor:"#dbeafe"},exercice:{icon:"",label:"Exercice",color:"#059669",bgColor:"#d1fae5"},video:{icon:"",label:"Vido",color:"#dc2626",bgColor:"#fee2e2"},document:{icon:"",label:"Document",color:"#7c3aed",bgColor:"#ede9fe"},quiz:{icon:"",label:"Quiz",color:"#ea580c",bgColor:"#ffedd5"}},WX=t=>{if(!t||t<=0)return null;if(t<60)return`${t} min`;const e=Math.floor(t/60),n=t%60;return n>0?`${e}h${n.toString().padStart(2,"0")}`:`${e}h`},MO=(t,e)=>t.length<=e?t:t.slice(0,e).trim()+"...",QX=({resource:t,compact:e=!1,onClick:n,className:r=""})=>{const i=v3[t.type],s=WX(t.dureeEstimee),c=u=>{n&&(u.preventDefault(),n(t))};return e?l.jsxs(We,{to:`/resources/${t.id}`,className:`resource-card resource-card--compact ${r}`,onClick:c,"aria-label":`${i.label}: ${t.titre}`,children:[l.jsx("span",{className:"resource-card__icon",style:{backgroundColor:i.bgColor},title:i.label,children:i.icon}),l.jsx("span",{className:"resource-card__title",children:MO(t.titre,50)}),l.jsx("span",{className:`resource-card__badge ${t.isPremium?"resource-card__badge--premium":"resource-card__badge--free"}`,children:t.isPremium?"":""})]}):l.jsxs(We,{to:`/resources/${t.id}`,className:`resource-card ${r}`,onClick:c,"aria-label":`${i.label}: ${t.titre}`,children:[l.jsxs("div",{className:"resource-card__header",children:[l.jsx("div",{className:"resource-card__type-icon",style:{backgroundColor:i.bgColor},children:i.icon}),l.jsx("span",{className:"resource-card__type-badge",style:{color:i.color,backgroundColor:i.bgColor},children:i.label}),l.jsx("div",{className:"resource-card__spacer"}),l.jsx("span",{className:`resource-card__status ${t.isPremium?"resource-card__status--premium":"resource-card__status--free"}`,children:t.isPremium?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"resource-card__status-icon",children:""}),l.jsx("span",{children:"Premium"})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"resource-card__status-icon",children:""}),l.jsx("span",{children:"Gratuit"})]})})]}),l.jsxs("div",{className:"resource-card__content",children:[l.jsx("h4",{className:"resource-card__title",children:t.titre}),t.description&&l.jsx("p",{className:"resource-card__description",children:MO(t.description,120)})]}),l.jsxs("div",{className:"resource-card__footer",children:[s&&l.jsxs("span",{className:"resource-card__meta",children:[l.jsx("span",{className:"resource-card__meta-icon",children:""}),s]}),t.tags&&t.tags.length>0&&l.jsxs("div",{className:"resource-card__tags",children:[t.tags.slice(0,3).map((u,f)=>l.jsx("span",{className:"resource-card__tag",children:u},f)),t.tags.length>3&&l.jsxs("span",{className:"resource-card__tag resource-card__tag--more",children:["+",t.tags.length-3]})]}),t.fichierURL&&l.jsx("span",{className:"resource-card__file-indicator",title:"Fichier attach",children:""}),l.jsx("span",{className:"resource-card__arrow",children:""})]})]})},YX=t=>{const e={total:t.length,premium:0,gratuit:0,parType:{cours:0,exercice:0,video:0,document:0,quiz:0}};return t.forEach(n=>{n.isPremium?e.premium++:e.gratuit++,e.parType.hasOwnProperty(n.type)&&e.parType[n.type]++}),e},XX=t=>{const e={cours:1,exercice:2,video:3,document:4,quiz:5};return[...t].sort((n,r)=>n.ordre!==r.ordre?n.ordre-r.ordre:e[n.type]-e[r.type])},ZX=({chapterName:t,chapterNumber:e,resources:n,isExpanded:r,onToggle:i,className:s=""})=>{const c=_.useMemo(()=>YX(n),[n]),u=_.useMemo(()=>XX(n),[n]),f=_.useMemo(()=>["cours","exercice","video","document","quiz"].filter(v=>c.parType[v]>0).map(v=>({type:v,count:c.parType[v],config:v3[v]})),[c]),h=c.premium>0;return l.jsxs("div",{className:`chapter-card ${r?"chapter-card--expanded":""} ${s}`,children:[l.jsxs("button",{type:"button",className:"chapter-card__header",onClick:i,"aria-expanded":r,"aria-controls":`chapter-content-${e}`,children:[l.jsx("div",{className:"chapter-card__number",children:l.jsx("span",{children:e})}),l.jsxs("div",{className:"chapter-card__info",children:[l.jsx("h3",{className:"chapter-card__title",children:t}),l.jsx("div",{className:"chapter-card__type-summary",children:f.map(({type:p,count:v,config:y})=>l.jsxs("span",{className:"chapter-card__type-count",title:`${v} ${y.label.toLowerCase()}${v>1?"s":""}`,children:[l.jsx("span",{className:"chapter-card__type-icon",children:y.icon}),l.jsx("span",{children:v})]},p))})]}),l.jsxs("div",{className:"chapter-card__badges",children:[l.jsxs("span",{className:"chapter-card__count-badge",children:[c.total," ressource",c.total>1?"s":""]}),h&&l.jsxs("span",{className:"chapter-card__premium-badge",title:`${c.premium} contenu(s) premium`,children:[" ",c.premium]})]}),l.jsx("div",{className:`chapter-card__chevron ${r?"chapter-card__chevron--open":""}`,children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),l.jsxs("div",{id:`chapter-content-${e}`,className:`chapter-card__content ${r?"chapter-card__content--visible":""}`,"aria-hidden":!r,children:[l.jsxs("div",{className:"chapter-card__progress",children:[l.jsx("div",{className:"chapter-card__progress-bar",children:l.jsx("div",{className:"chapter-card__progress-fill",style:{width:"0%"}})}),l.jsxs("span",{className:"chapter-card__progress-text",children:["0/",c.total," termin",c.total>1?"s":""]})]}),l.jsx("div",{className:"chapter-card__resources",children:u.length>0?u.map(p=>l.jsx(QX,{resource:p,className:"chapter-card__resource"},p.id)):l.jsxs("div",{className:"chapter-card__empty",children:[l.jsx("span",{className:"chapter-card__empty-icon",children:""}),l.jsx("p",{children:"Aucune ressource dans ce chapitre"})]})}),l.jsxs("div",{className:"chapter-card__stats",children:[l.jsxs("div",{className:"chapter-card__stat",children:[l.jsx("span",{className:"chapter-card__stat-value",children:c.total}),l.jsx("span",{className:"chapter-card__stat-label",children:"Total"})]}),l.jsxs("div",{className:"chapter-card__stat",children:[l.jsx("span",{className:"chapter-card__stat-value chapter-card__stat-value--premium",children:c.premium}),l.jsx("span",{className:"chapter-card__stat-label",children:"Premium"})]}),l.jsxs("div",{className:"chapter-card__stat",children:[l.jsx("span",{className:"chapter-card__stat-value chapter-card__stat-value--free",children:c.gratuit}),l.jsx("span",{className:"chapter-card__stat-label",children:"Gratuit"})]})]})]})]})},Cx=()=>l.jsx("div",{className:"chapter-card chapter-card--skeleton",children:l.jsxs("div",{className:"chapter-card__header",children:[l.jsx("div",{className:"skeleton skeleton--number"}),l.jsxs("div",{className:"chapter-card__info",children:[l.jsx("div",{className:"skeleton skeleton--title",style:{width:"60%"}}),l.jsx("div",{className:"skeleton skeleton--meta",style:{width:"40%"}})]}),l.jsx("div",{className:"skeleton skeleton--badge",style:{width:"100px"}}),l.jsx("div",{className:"skeleton skeleton--chevron"})]})}),JX="modulepreload",eZ=function(t){return"/"+t},zO={},Vg=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let h=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var c=h;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");i=h(n.map(p=>{if(p=eZ(p),p in zO)return;zO[p]=!0;const v=p.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":JX,v||(w.as="script"),w.crossOrigin="",w.href=p,f&&w.setAttribute("nonce",f),document.head.appendChild(w),v)return new Promise((j,E)=>{w.addEventListener("load",j),w.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${p}`)))})}))}function s(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return i.then(u=>{for(const f of u||[])f.status==="rejected"&&s(f.reason);return e().catch(s)})},mc="ressources",tZ="ressources",LO=t=>{const e=t.data();return{id:t.id,disciplineId:e.disciplineId,titre:e.titre,type:e.type,contenu:e.contenu,description:e.description,isPremium:e.isPremium||!1,ordre:e.ordre||0,chapitre:e.chapitre,fichierURL:e.fichierURL,dureeEstimee:e.dureeEstimee,tags:e.tags||[],auteurId:e.auteurId,createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()}},nZ=t=>{const e=Date.now(),n=t.split(".").pop();return`${t.replace(/\.[^/.]+$/,"").replace(/[^a-zA-Z0-9]/g,"_")}_${e}.${n}`},Wo={async getAll(t,e){try{const n=[Fi("ordre","asc")];t?.disciplineId&&n.unshift(tn("disciplineId","==",t.disciplineId)),t?.chapitreId&&n.unshift(tn("chapitre","==",t.chapitreId)),t?.type&&n.unshift(tn("type","==",t.type)),t?.isPremium!==void 0&&n.unshift(tn("isPremium","==",t.isPremium)),t?.auteurId&&n.unshift(tn("auteurId","==",t.auteurId)),e&&n.push(Pd(e));const r=ir(Nn(Le,mc),...n);return(await ar(r)).docs.map(LO)}catch(n){throw console.error("Erreur lors de la rcupration des ressources:",n),new Error("Impossible de rcuprer les ressources")}},async getById(t){try{const e=_t(Le,mc,t),n=await pa(e);return n.exists()?LO(n):null}catch(e){throw console.error("Erreur lors de la rcupration de la ressource:",e),new Error("Impossible de rcuprer la ressource")}},async getByDiscipline(t){return this.getAll({disciplineId:t})},async getByChapitre(t){return this.getAll({chapitreId:t})},async getByType(t){return this.getAll({type:t})},async getPremium(){return this.getAll({isPremium:!0})},async getFree(){return this.getAll({isPremium:!1})},async create(t,e){try{return(await Rl(Nn(Le,mc),{...t,auteurId:e,createdAt:Mn(),updatedAt:Mn()})).id}catch(n){throw console.error("Erreur lors de la cration de la ressource:",n),new Error("Impossible de crer la ressource")}},async update(t,e){try{const n=_t(Le,mc,t);await Mr(n,{...e,updatedAt:Mn()})}catch(n){throw console.error("Erreur lors de la mise  jour de la ressource:",n),new Error("Impossible de mettre  jour la ressource")}},async delete(t){try{const e=await this.getById(t);e?.fichierURL&&await this.deleteFile(e.fichierURL);const n=_t(Le,mc,t);await Rm(n)}catch(e){throw console.error("Erreur lors de la suppression de la ressource:",e),new Error("Impossible de supprimer la ressource")}},async deleteByDiscipline(t){try{const e=await this.getByDiscipline(t),n=Xh(Le);for(const r of e){r.fichierURL&&await this.deleteFile(r.fichierURL);const i=_t(Le,mc,r.id);n.delete(i)}await n.commit()}catch(e){throw console.error("Erreur lors de la suppression des ressources:",e),new Error("Impossible de supprimer les ressources")}},async uploadFile(t,e){try{const n=nZ(t.name),r=`${tZ}/${e}/${n}`,i=CO(Hw,r);return await XQ(i,t),await ZQ(i)}catch(n){throw console.error("Erreur lors de l'upload du fichier:",n),new Error("Impossible d'uploader le fichier")}},async deleteFile(t){try{const e=CO(Hw,t);await JQ(e)}catch(e){console.warn("Fichier non trouv ou dj supprim:",e)}},async reorder(t,e){try{const n=Xh(Le);e.forEach((r,i)=>{const s=_t(Le,mc,r);n.update(s,{ordre:i+1,updatedAt:Mn()})}),await n.commit()}catch(n){throw console.error("Erreur lors de la rorganisation des ressources:",n),new Error("Impossible de rorganiser les ressources")}},async togglePremium(t,e){await this.update(t,{isPremium:e})},async countByType(t){return(await this.getByType(t)).length},async getStats(){try{const t=await this.getAll(),e={total:t.length,premium:t.filter(n=>n.isPremium).length,gratuit:t.filter(n=>!n.isPremium).length,parType:{cours:0,exercice:0,video:0,document:0,quiz:0}};return t.forEach(n=>{e.parType[n.type]!==void 0&&e.parType[n.type]++}),e}catch(t){throw console.error("Erreur lors du calcul des statistiques:",t),new Error("Impossible de calculer les statistiques")}}},rZ=async t=>{const{collection:e,query:n,where:r,getDocs:i,orderBy:s}=await Vg(async()=>{const{collection:h,query:p,where:v,getDocs:y,orderBy:w}=await Promise.resolve().then(()=>GL);return{collection:h,query:p,where:v,getDocs:y,orderBy:w}},void 0),{db:c}=await Vg(async()=>{const{db:h}=await Promise.resolve().then(()=>u3);return{db:h}},void 0),u=n(e(c,"ressources"),r("chapitreId","==",t),s("ordre","asc"));return(await i(u)).docs.map(h=>({id:h.id,...h.data()}))},iZ=async t=>{const{collection:e,query:n,where:r,getDocs:i}=await Vg(async()=>{const{collection:f,query:h,where:p,getDocs:v}=await Promise.resolve().then(()=>GL);return{collection:f,query:h,where:p,getDocs:v}},void 0),{db:s}=await Vg(async()=>{const{db:f}=await Promise.resolve().then(()=>u3);return{db:f}},void 0),c=n(e(s,"ressources"),r("disciplineId","==",t));return(await i(c)).size},VO=[{value:"all",label:"Tous",icon:""},{value:"cours",label:"Cours",icon:""},{value:"exercice",label:"Exercices",icon:""},{value:"video",label:"Vidos",icon:""},{value:"document",label:"Documents",icon:""},{value:"quiz",label:"Quiz",icon:""}],aZ={college:"Collge",lycee:"Lyce"},sZ={"6eme":"6me","5eme":"5me","4eme":"4me","3eme":"3me","2nde":"Seconde","1ere":"Premire",Terminale:"Terminale"},oZ=()=>{const{id:t}=oz(),[e,n]=_.useState(null),[r,i]=_.useState(new Map),[s,c]=_.useState(null),[u,f]=_.useState(new Set),[h,p]=_.useState("all"),[v,y]=_.useState(!0),[w,j]=_.useState(null);_.useEffect(()=>{(async()=>{if(!t){j("ID de discipline manquant"),y(!1);return}y(!0),j(null);try{const O=_t(Le,"disciplines",t),C=await pa(O);if(!C.exists()){j("Discipline non trouve"),y(!1);return}const k=C.data(),q={id:C.id,nom:k.nom,niveau:k.niveau,classe:k.classe,ordre:k.ordre||0,coefficient:k.coefficient,couleur:k.couleur,icone:k.icone,description:k.description,createdAt:k.createdAt?.toDate()||new Date,updatedAt:k.updatedAt?.toDate()};n(q);const U=await rZ(t);if(U.success&&U.data){i(U.data);const M=Array.from(U.data.keys())[0];M&&f(new Set([M]))}const L=await iZ(t);L.success&&L.data&&c(L.data)}catch(O){console.error("Erreur chargement discipline:",O),j("Erreur lors du chargement des donnes")}finally{y(!1)}})()},[t]);const E=_.useMemo(()=>{if(h==="all")return r;const z=new Map;return r.forEach((O,C)=>{const k=O.filter(q=>q.type===h);k.length>0&&z.set(C,k)}),z},[r,h]),N=_.useMemo(()=>{const z={all:0};return r.forEach(O=>{z.all+=O.length,O.forEach(C=>{z[C.type]=(z[C.type]||0)+1})}),z},[r]),S=_.useCallback(z=>{f(O=>{const C=new Set(O);return C.has(z)?C.delete(z):C.add(z),C})},[]),D=_.useCallback(()=>{const z=new Set(E.keys());f(z)},[E]),R=_.useCallback(()=>{f(new Set)},[]);if(v)return l.jsxs("div",{className:"discipline-detail",children:[l.jsx("div",{className:"discipline-detail__header discipline-detail__header--skeleton",children:l.jsxs("div",{className:"container",children:[l.jsx("div",{className:"skeleton skeleton--title",style:{width:"200px",height:"40px"}}),l.jsx("div",{className:"skeleton skeleton--text",style:{width:"300px",marginTop:"16px"}})]})}),l.jsx("div",{className:"discipline-detail__filters",children:l.jsx("div",{className:"container",children:l.jsx("div",{className:"discipline-detail__filter-bar",children:[1,2,3,4,5].map(z=>l.jsx("div",{className:"skeleton skeleton--button",style:{width:"100px",height:"40px"}},z))})})}),l.jsx("div",{className:"discipline-detail__content",children:l.jsxs("div",{className:"container",children:[l.jsx(Cx,{}),l.jsx(Cx,{}),l.jsx(Cx,{})]})})]});if(w||!e)return l.jsx("div",{className:"discipline-detail",children:l.jsx("div",{className:"discipline-detail__error",children:l.jsx("div",{className:"container",children:l.jsxs("div",{className:"error-box",children:[l.jsx("span",{className:"error-box__icon",children:""}),l.jsx("h2",{className:"error-box__title",children:w||"Discipline non trouve"}),l.jsx("p",{className:"error-box__message",children:"La discipline demande n'existe pas ou a t supprime."}),l.jsx(We,{to:"/disciplines",className:"error-box__link",children:" Retour aux disciplines"})]})})})});const I=Array.from(E.entries()),$=Array.from(r.keys()).length;return l.jsxs("div",{className:"discipline-detail",children:[l.jsx("header",{className:"discipline-detail__header",children:l.jsxs("div",{className:"container",children:[l.jsxs("nav",{className:"discipline-detail__breadcrumb","aria-label":"Fil d'ariane",children:[l.jsx(We,{to:"/",children:"Accueil"}),l.jsx("span",{className:"discipline-detail__breadcrumb-separator",children:"/"}),l.jsx(We,{to:"/disciplines",children:"Disciplines"}),l.jsx("span",{className:"discipline-detail__breadcrumb-separator",children:"/"}),l.jsx("span",{className:"discipline-detail__breadcrumb-current",children:e.nom})]}),l.jsxs("div",{className:"discipline-detail__title-section",children:[e.icone&&l.jsx("span",{className:"discipline-detail__icon",children:e.icone}),l.jsxs("div",{className:"discipline-detail__title-info",children:[l.jsx("h1",{className:"discipline-detail__title",children:e.nom}),l.jsxs("div",{className:"discipline-detail__meta",children:[l.jsx("span",{className:"discipline-detail__niveau",children:aZ[e.niveau]||e.niveau}),l.jsx("span",{className:"discipline-detail__separator",children:""}),l.jsx("span",{className:"discipline-detail__classe",children:sZ[e.classe]||e.classe}),e.coefficient&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"discipline-detail__separator",children:""}),l.jsxs("span",{className:"discipline-detail__coefficient",children:["Coef. ",e.coefficient]})]})]})]})]}),s&&l.jsxs("div",{className:"discipline-detail__stats",children:[l.jsxs("div",{className:"discipline-detail__stat",children:[l.jsx("span",{className:"discipline-detail__stat-value",children:$}),l.jsxs("span",{className:"discipline-detail__stat-label",children:["Chapitre",$>1?"s":""]})]}),l.jsxs("div",{className:"discipline-detail__stat",children:[l.jsx("span",{className:"discipline-detail__stat-value",children:s.total}),l.jsxs("span",{className:"discipline-detail__stat-label",children:["Ressource",s.total>1?"s":""]})]}),l.jsxs("div",{className:"discipline-detail__stat discipline-detail__stat--free",children:[l.jsx("span",{className:"discipline-detail__stat-value",children:s.gratuit}),l.jsxs("span",{className:"discipline-detail__stat-label",children:["Gratuit",s.gratuit>1?"s":""]})]}),l.jsxs("div",{className:"discipline-detail__stat discipline-detail__stat--premium",children:[l.jsx("span",{className:"discipline-detail__stat-value",children:s.premium}),l.jsx("span",{className:"discipline-detail__stat-label",children:"Premium"})]})]}),e.description&&l.jsx("p",{className:"discipline-detail__description",children:e.description})]})}),l.jsx("section",{className:"discipline-detail__filters",children:l.jsx("div",{className:"container",children:l.jsxs("div",{className:"discipline-detail__filter-bar",children:[l.jsx("div",{className:"discipline-detail__type-filters",children:VO.map(z=>{const O=N[z.value]||0,C=h===z.value,k=z.value!=="all"&&O===0;return l.jsxs("button",{type:"button",className:`discipline-detail__filter-btn ${C?"discipline-detail__filter-btn--active":""}`,onClick:()=>p(z.value),disabled:k,"aria-pressed":C,children:[l.jsx("span",{className:"discipline-detail__filter-icon",children:z.icon}),l.jsx("span",{className:"discipline-detail__filter-label",children:z.label}),l.jsx("span",{className:"discipline-detail__filter-count",children:O})]},z.value)})}),l.jsxs("div",{className:"discipline-detail__chapter-actions",children:[l.jsxs("button",{type:"button",className:"discipline-detail__expand-btn",onClick:D,title:"Tout dplier",children:[l.jsx("span",{children:""})," Tout dplier"]}),l.jsxs("button",{type:"button",className:"discipline-detail__collapse-btn",onClick:R,title:"Tout replier",children:[l.jsx("span",{children:""})," Tout replier"]})]})]})})}),l.jsx("main",{className:"discipline-detail__content",children:l.jsx("div",{className:"container",children:I.length>0?l.jsx("div",{className:"discipline-detail__chapters",children:I.map(([z,O],C)=>l.jsx(ZX,{chapterName:z,chapterNumber:C+1,resources:O,isExpanded:u.has(z),onToggle:()=>S(z)},z))}):l.jsxs("div",{className:"discipline-detail__empty",children:[l.jsx("span",{className:"discipline-detail__empty-icon",children:""}),l.jsx("h3",{className:"discipline-detail__empty-title",children:h==="all"?"Aucune ressource disponible":`Aucun(e) ${VO.find(z=>z.value===h)?.label.toLowerCase()} disponible`}),l.jsx("p",{className:"discipline-detail__empty-message",children:h==="all"?"Cette discipline ne contient pas encore de ressources pdagogiques.":"Essayez de changer de filtre ou revenez plus tard."}),h!=="all"&&l.jsx("button",{type:"button",className:"discipline-detail__reset-filter",onClick:()=>p("all"),children:"Afficher toutes les ressources"})]})})}),s&&s.premium>0&&l.jsx("aside",{className:"discipline-detail__premium-banner",children:l.jsx("div",{className:"container",children:l.jsxs("div",{className:"premium-banner",children:[l.jsxs("div",{className:"premium-banner__content",children:[l.jsx("span",{className:"premium-banner__icon",children:""}),l.jsxs("div",{className:"premium-banner__text",children:[l.jsxs("strong",{children:[s.premium," ressource",s.premium>1?"s":""," Premium"]}),l.jsx("span",{children:"Accdez  tout le contenu pour seulement 2 000 FCFA/mois"})]})]}),l.jsx(We,{to:"/premium",className:"premium-banner__cta",children:"Devenir Premium"})]})})})]})},Px=[{id:"mensuel",nom:"Mensuel",prix:2e3,duree:"1 mois"},{id:"annuel",nom:"Annuel",prix:2e4,prixOriginal:24e3,duree:"12 mois",economie:"4 000 FCFA",popular:!0}],lZ=[{icone:"",titre:"Accs illimit",description:"Tous les cours de la 6me  la Terminale, sans restriction."},{icone:"",titre:"Vidos explicatives",description:"Des cours en vido par des professeurs expriments."},{icone:"",titre:"Exercices corrigs",description:"Des milliers d'exercices avec corrections dtailles."},{icone:"",titre:"Suivi de progression",description:"Tableau de bord personnel pour suivre vos rsultats."},{icone:"",titre:"Quiz interactifs",description:"Testez vos connaissances avec des quiz par matire."},{icone:"",titre:"Support prioritaire",description:"Assistance rapide pour toutes vos questions."},{icone:"",titre:"Accs mobile",description:"Apprenez partout, sur tlphone ou tablette."},{icone:"",titre:"Mises  jour",description:"Nouveaux contenus ajouts rgulirement."}],cZ=[{question:"Comment fonctionne l'abonnement Premium ?",reponse:"Une fois votre paiement effectu via Wave, Orange Money ou carte bancaire, votre compte est instantanment mis  niveau. Vous avez accs  tous les contenus Premium pendant la dure de votre abonnement."},{question:"Puis-je annuler mon abonnement ?",reponse:"Oui, vous pouvez annuler  tout moment depuis votre espace personnel. Vous conservez l'accs Premium jusqu' la fin de la priode paye."},{question:"L'abonnement se renouvelle-t-il automatiquement ?",reponse:"Non, chez PedaClic, il n'y a pas de renouvellement automatique. Vous dcidez quand renouveler votre abonnement."},{question:"Quels moyens de paiement acceptez-vous ?",reponse:"Nous acceptons Wave, Orange Money, Free Money et les cartes bancaires (Visa, Mastercard) via notre partenaire PayTech."},{question:"Puis-je partager mon compte Premium ?",reponse:"Chaque compte Premium est personnel et li  une adresse email. Le partage de compte est interdit pour garantir un suivi de progression personnalis."}],uZ=()=>{const{currentUser:t}=ni(),e=Tl(),n=to(),[r,i]=_.useState("annuel"),[s,c]=_.useState(!1),[u,f]=_.useState(null),[h,p]=_.useState(null);e.state?.from;const v=()=>!t||!t.isPremium?!1:t.subscriptionEnd?(t.subscriptionEnd instanceof Date?t.subscriptionEnd:new Date(t.subscriptionEnd))>new Date:!0,y=async()=>{if(!t){n("/connexion",{state:{from:"/premium"}});return}if(v()){f("Vous tes dj abonn Premium !");return}try{c(!0),f(null);const E=Px.find(I=>I.id===r);if(!E)throw new Error("Plan invalide");const N=await Rl(Nn(Le,"transactions"),{userId:t.uid,userEmail:t.email,planType:r,montant:E.prix,devise:"XOF",statut:"pending",dateTransaction:Mn(),createdAt:Mn()}),S={apiKey:"your_paytech_key",apiSecret:"demo_api_secret",item_name:`PedaClic Premium ${E.nom}`,item_price:E.prix,currency:"XOF",ref_command:N.id,success_url:`${window.location.origin}/premium/success?ref=${N.id}`,cancel_url:`${window.location.origin}/premium/cancel?ref=${N.id}`,ipn_url:"/api/paytech/ipn",custom_field:JSON.stringify({userId:t.uid,planType:r,transactionId:N.id}),env:"test"},R=await(await fetch("https://paytech.sn/api/payment/request-payment",{method:"POST",headers:{"Content-Type":"application/json",API_KEY:S.apiKey,API_SECRET:S.apiSecret},body:JSON.stringify({item_name:S.item_name,item_price:S.item_price,currency:S.currency,ref_command:S.ref_command,command_name:`Abonnement Premium ${E.nom} - ${t.email}`,env:S.env,ipn_url:S.ipn_url,success_url:S.success_url,cancel_url:S.cancel_url,custom_field:S.custom_field})})).json();if(R.success===1&&R.redirect_url)window.location.href=R.redirect_url;else{console.log("Mode dmo PayTech - Simulation de paiement");const I=new Date,$=new Date(I);r==="mensuel"?$.setMonth($.getMonth()+1):$.setFullYear($.getFullYear()+1),await Mr(_t(Le,"users",t.uid),{isPremium:!0,subscriptionEnd:$,subscriptionPlan:r,updatedAt:Mn()}),await Mr(_t(Le,"transactions",N.id),{statut:"success",paytechTransactionId:"DEMO_"+Date.now(),dateExpiration:$,updatedAt:Mn()}),n("/premium/success",{state:{plan:E.nom,montant:E.prix,expiration:$.toLocaleDateString("fr-FR")}})}}catch(E){console.error("Erreur paiement:",E),f("Une erreur est survenue lors du paiement. Veuillez ressayer.")}finally{c(!1)}},w=E=>{p(h===E?null:E)},j=E=>E.toLocaleString("fr-FR")+" FCFA";if(v()){const E=t?.subscriptionEnd instanceof Date?t.subscriptionEnd:new Date(t?.subscriptionEnd||Date.now());return l.jsx("div",{className:"premium-page",children:l.jsx("div",{className:"container",children:l.jsxs("div",{className:"premium-already",children:[l.jsx("span",{className:"premium-already__icon",children:""}),l.jsx("h1",{children:"Vous tes dj Premium !"}),l.jsxs("p",{children:["Votre abonnement est actif jusqu'au"," ",l.jsx("strong",{children:E.toLocaleDateString("fr-FR")})]}),l.jsxs("div",{className:"premium-already__actions",children:[l.jsx(We,{to:"/disciplines",className:"btn btn--primary",children:"Accder aux cours"}),l.jsx(We,{to:"/dashboard",className:"btn btn--outline",children:"Mon tableau de bord"})]})]})})})}return l.jsxs("div",{className:"premium-page",children:[l.jsx("section",{className:"premium-hero",children:l.jsxs("div",{className:"container",children:[l.jsx("span",{className:"premium-hero__badge",children:" Premium"}),l.jsxs("h1",{className:"premium-hero__title",children:["Dbloquez tout le potentiel de ",l.jsx("span",{children:"PedaClic"})]}),l.jsx("p",{className:"premium-hero__subtitle",children:"Accdez  tous les cours, exercices corrigs, vidos et quiz de la 6me  la Terminale. Russissez vos examens !"})]})}),l.jsx("section",{className:"premium-pricing",children:l.jsxs("div",{className:"container",children:[l.jsx("h2",{className:"section-title",children:"Choisissez votre formule"}),l.jsx("div",{className:"pricing-cards",children:Px.map(E=>l.jsxs("div",{className:`pricing-card ${r===E.id?"pricing-card--selected":""} ${E.popular?"pricing-card--popular":""}`,onClick:()=>i(E.id),children:[E.popular&&l.jsx("span",{className:"pricing-card__badge",children:"Le plus populaire"}),l.jsxs("div",{className:"pricing-card__header",children:[l.jsx("h3",{className:"pricing-card__name",children:E.nom}),l.jsx("p",{className:"pricing-card__duration",children:E.duree})]}),l.jsxs("div",{className:"pricing-card__price",children:[E.prixOriginal&&l.jsx("span",{className:"pricing-card__original",children:j(E.prixOriginal)}),l.jsx("span",{className:"pricing-card__amount",children:j(E.prix)}),E.id==="mensuel"&&l.jsx("span",{className:"pricing-card__period",children:"/mois"})]}),E.economie&&l.jsxs("p",{className:"pricing-card__savings",children:["conomisez ",E.economie]}),l.jsx("div",{className:"pricing-card__radio",children:l.jsx("span",{className:`radio-dot ${r===E.id?"radio-dot--active":""}`})})]},E.id))}),l.jsxs("div",{className:"pricing-cta",children:[u&&l.jsxs("div",{className:"pricing-error",children:[l.jsx("span",{children:""})," ",u]}),t?l.jsx("button",{className:"btn btn--premium btn--lg",onClick:y,disabled:s,children:s?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"spinner-sm"}),"Traitement en cours..."]}):l.jsxs(l.Fragment,{children:["Payer ",j(Px.find(E=>E.id===r)?.prix||0)]})}):l.jsxs("div",{className:"pricing-login",children:[l.jsx("p",{children:"Connectez-vous pour souscrire  Premium"}),l.jsx(We,{to:"/connexion",state:{from:"/premium"},className:"btn btn--primary btn--lg",children:"Se connecter"}),l.jsxs("p",{className:"pricing-login__register",children:["Pas encore inscrit ?"," ",l.jsx(We,{to:"/inscription",state:{from:"/premium"},children:"Crer un compte"})]})]}),l.jsxs("div",{className:"payment-methods",children:[l.jsx("p",{children:"Paiement scuris par"}),l.jsxs("div",{className:"payment-methods__logos",children:[l.jsx("span",{className:"payment-logo",children:" Orange Money"}),l.jsx("span",{className:"payment-logo",children:" Wave"}),l.jsx("span",{className:"payment-logo",children:" Free Money"}),l.jsx("span",{className:"payment-logo",children:" Carte bancaire"})]})]})]})]})}),l.jsx("section",{className:"premium-features",children:l.jsxs("div",{className:"container",children:[l.jsx("h2",{className:"section-title",children:"Tout ce que vous obtenez"}),l.jsx("p",{className:"section-subtitle",children:"Un accs complet  toutes les ressources pdagogiques"}),l.jsx("div",{className:"features-grid",children:lZ.map((E,N)=>l.jsxs("div",{className:"feature-card",children:[l.jsx("span",{className:"feature-card__icon",children:E.icone}),l.jsx("h3",{className:"feature-card__title",children:E.titre}),l.jsx("p",{className:"feature-card__description",children:E.description})]},N))})]})}),l.jsx("section",{className:"premium-comparison",children:l.jsxs("div",{className:"container",children:[l.jsx("h2",{className:"section-title",children:"Gratuit vs Premium"}),l.jsxs("div",{className:"comparison-table",children:[l.jsxs("div",{className:"comparison-header",children:[l.jsx("div",{className:"comparison-feature",children:"Fonctionnalits"}),l.jsx("div",{className:"comparison-free",children:"Gratuit"}),l.jsx("div",{className:"comparison-premium",children:"Premium"})]}),[{feature:"Cours de base",free:!0,premium:!0},{feature:"Exercices avec corrections",free:!1,premium:!0},{feature:"Vidos explicatives",free:!1,premium:!0},{feature:"Quiz interactifs",free:!1,premium:!0},{feature:"Suivi de progression",free:!1,premium:!0},{feature:"Tlchargement de documents",free:!1,premium:!0},{feature:"Support prioritaire",free:!1,premium:!0},{feature:"Accs mobile optimis",free:!0,premium:!0}].map((E,N)=>l.jsxs("div",{className:"comparison-row",children:[l.jsx("div",{className:"comparison-feature",children:E.feature}),l.jsx("div",{className:"comparison-free",children:E.free?l.jsx("span",{className:"check",children:""}):l.jsx("span",{className:"cross",children:""})}),l.jsx("div",{className:"comparison-premium",children:l.jsx("span",{className:"check check--premium",children:""})})]},N))]})]})}),l.jsx("section",{className:"premium-testimonials",children:l.jsxs("div",{className:"container",children:[l.jsx("h2",{className:"section-title",children:"Ils ont choisi Premium"}),l.jsxs("div",{className:"testimonials-grid",children:[l.jsxs("div",{className:"testimonial-card",children:[l.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),l.jsx("p",{className:"testimonial-card__text",children:`"Grce  PedaClic Premium, j'ai eu 16/20 au BFEM. Les exercices corrigs m'ont beaucoup aid !"`}),l.jsxs("div",{className:"testimonial-card__author",children:[l.jsx("div",{className:"testimonial-card__avatar",children:"AN"}),l.jsxs("div",{children:[l.jsx("p",{className:"testimonial-card__name",children:"Aminata Ndiaye"}),l.jsx("p",{className:"testimonial-card__info",children:"3me - Dakar"})]})]})]}),l.jsxs("div",{className:"testimonial-card",children:[l.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),l.jsx("p",{className:"testimonial-card__text",children:'"Les vidos sont trs bien expliques. Je comprends mieux les maths maintenant. Merci PedaClic !"'}),l.jsxs("div",{className:"testimonial-card__author",children:[l.jsx("div",{className:"testimonial-card__avatar",children:"IF"}),l.jsxs("div",{children:[l.jsx("p",{className:"testimonial-card__name",children:"Ibrahima Fall"}),l.jsx("p",{className:"testimonial-card__info",children:"Terminale S - This"})]})]})]}),l.jsxs("div",{className:"testimonial-card",children:[l.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),l.jsx("p",{className:"testimonial-card__text",children:`"20 000 FCFA pour l'anne, c'est vraiment abordable. Mon fils a accs  tout ce dont il a besoin."`}),l.jsxs("div",{className:"testimonial-card__author",children:[l.jsx("div",{className:"testimonial-card__avatar",children:"FD"}),l.jsxs("div",{children:[l.jsx("p",{className:"testimonial-card__name",children:"Fatou Diop"}),l.jsx("p",{className:"testimonial-card__info",children:"Parent d'lve - Saint-Louis"})]})]})]})]})]})}),l.jsx("section",{className:"premium-faq",children:l.jsxs("div",{className:"container",children:[l.jsx("h2",{className:"section-title",children:"Questions frquentes"}),l.jsx("div",{className:"faq-list",children:cZ.map((E,N)=>l.jsxs("div",{className:`faq-item ${h===N?"faq-item--open":""}`,children:[l.jsxs("button",{className:"faq-item__question",onClick:()=>w(N),"aria-expanded":h===N,children:[l.jsx("span",{children:E.question}),l.jsx("span",{className:"faq-item__icon",children:h===N?"":"+"})]}),h===N&&l.jsx("div",{className:"faq-item__answer",children:l.jsx("p",{children:E.reponse})})]},N))})]})}),l.jsx("section",{className:"premium-cta-final",children:l.jsxs("div",{className:"container",children:[l.jsx("h2",{children:"Prt  russir vos examens ?"}),l.jsx("p",{children:"Rejoignez des milliers d'lves sngalais qui ont choisi PedaClic Premium"}),l.jsx("button",{className:"btn btn--white btn--lg",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"Commencer maintenant"})]})})]})},dZ=[{title:"Principal",items:[{id:"dashboard",label:"Tableau de bord",icon:"",href:"/admin"},{id:"disciplines",label:"Disciplines",icon:"",href:"/admin/disciplines"},{id:"chapitres",label:"Chapitres",icon:"",href:"/admin/chapitres"},{id:"ressources",label:"Ressources",icon:"",href:"/admin/ressources"}]},{title:"valuation",items:[{id:"quiz",label:"Quiz",icon:"",href:"/admin/quiz"},{id:"resultats",label:"Rsultats",icon:"",href:"/admin/resultats"}]},{title:"Utilisateurs",items:[{id:"utilisateurs",label:"Tous les utilisateurs",icon:"",href:"/admin/utilisateurs"},{id:"premium",label:"Abonns Premium",icon:"",href:"/admin/premium"}]},{title:"Paramtres",items:[{id:"settings",label:"Configuration",icon:"",href:"/admin/settings"}]}],Zu=({children:t,currentPage:e="dashboard"})=>{const{currentUser:n,logout:r}=ni(),[i,s]=_.useState(!0),[c,u]=_.useState(!1),f=async()=>{try{u(!0),await r(),window.location.href="/connexion"}catch(v){console.error("Erreur lors de la dconnexion:",v),u(!1)}},h=()=>n?.displayName?n.displayName.split(" ").map(v=>v[0]).join("").toUpperCase().slice(0,2):"AD",p=()=>{switch(n?.role){case"admin":return"Administrateur";case"prof":return"Professeur";case"eleve":return"lve";default:return"Utilisateur"}};return l.jsxs("div",{className:"admin-layout",children:[l.jsxs("aside",{className:`admin-sidebar ${i?"":"admin-sidebar--collapsed"}`,children:[l.jsx("header",{className:"admin-sidebar__header",children:l.jsxs("a",{href:"/",className:"admin-sidebar__logo",children:[l.jsx("div",{className:"admin-sidebar__logo-icon",children:""}),l.jsx("span",{children:"PedaClic"})]})}),l.jsx("nav",{className:"admin-sidebar__nav",children:dZ.map((v,y)=>l.jsxs("div",{className:"admin-nav__section",children:[l.jsx("h3",{className:"admin-nav__title",children:v.title}),l.jsx("ul",{className:"admin-nav__list",children:v.items.map(w=>l.jsx("li",{className:"admin-nav__item",children:l.jsxs("a",{href:w.href,className:`admin-nav__link ${e===w.id?"admin-nav__link--active":""}`,children:[l.jsx("span",{className:"admin-nav__icon",children:w.icon}),l.jsx("span",{className:"admin-nav__label",children:w.label})]})},w.id))})]},y))}),l.jsx("footer",{className:"admin-sidebar__footer",children:l.jsxs("div",{className:"admin-user",children:[l.jsx("div",{className:"admin-user__avatar",children:h()}),l.jsxs("div",{className:"admin-user__info",children:[l.jsx("div",{className:"admin-user__name",children:n?.displayName||"Administrateur"}),l.jsx("div",{className:"admin-user__role",children:p()})]}),l.jsx("button",{onClick:f,disabled:c,className:"admin-logout-btn",title:"Se dconnecter",children:c?"...":""})]})})]}),l.jsxs("main",{className:"admin-content",children:[l.jsx("button",{className:"admin-sidebar-toggle",onClick:()=>s(!i),"aria-label":"Toggle sidebar",children:""}),t]}),l.jsx("style",{children:`
        /* Bouton de dconnexion */
        .admin-logout-btn {
          width: 36px;
          height: 36px;
          border: none;
          background: rgba(255, 255, 255, 0.1);
          color: white;
          border-radius: var(--radius-md);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all var(--transition-base);
          font-size: var(--text-lg);
        }

        .admin-logout-btn:hover {
          background: rgba(255, 255, 255, 0.2);
        }

        .admin-logout-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        /* Bouton toggle sidebar (mobile) */
        .admin-sidebar-toggle {
          display: none;
          position: fixed;
          top: var(--spacing-md);
          left: var(--spacing-md);
          z-index: var(--z-fixed);
          width: 44px;
          height: 44px;
          border: none;
          background: var(--color-primary);
          color: white;
          border-radius: var(--radius-md);
          cursor: pointer;
          font-size: var(--text-xl);
        }

        @media (max-width: 768px) {
          .admin-sidebar-toggle {
            display: flex;
            align-items: center;
            justify-content: center;
          }

          .admin-sidebar {
            transform: translateX(-100%);
            transition: transform var(--transition-base);
          }

          .admin-sidebar:not(.admin-sidebar--collapsed) {
            transform: translateX(0);
          }

          .admin-content {
            padding-top: calc(var(--spacing-xl) + 44px);
          }
        }

        /* Animation de la sidebar */
        .admin-sidebar--collapsed {
          width: 80px;
        }

        .admin-sidebar--collapsed .admin-nav__label,
        .admin-sidebar--collapsed .admin-nav__title,
        .admin-sidebar--collapsed .admin-sidebar__logo span,
        .admin-sidebar--collapsed .admin-user__info {
          display: none;
        }

        .admin-sidebar--collapsed .admin-sidebar__logo {
          justify-content: center;
        }
      `})]})},uh="disciplines",UO=t=>{const e=t.data();return{id:t.id,nom:e.nom,niveau:e.niveau,classe:e.classe,ordre:e.ordre,coefficient:e.coefficient,couleur:e.couleur,icone:e.icone,description:e.description,createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()}},Rs={async getAll(t){try{const e=[Fi("ordre","asc")];t?.niveau&&e.unshift(tn("niveau","==",t.niveau)),t?.classe&&e.unshift(tn("classe","==",t.classe));const n=ir(Nn(Le,uh),...e);return(await ar(n)).docs.map(UO)}catch(e){throw console.error("Erreur lors de la rcupration des disciplines:",e),new Error("Impossible de rcuprer les disciplines")}},async getById(t){try{const e=_t(Le,uh,t),n=await pa(e);return n.exists()?UO(n):null}catch(e){throw console.error("Erreur lors de la rcupration de la discipline:",e),new Error("Impossible de rcuprer la discipline")}},async getByNiveau(t){return this.getAll({niveau:t})},async getByClasse(t){return this.getAll({classe:t})},async create(t){try{return(await Rl(Nn(Le,uh),{...t,createdAt:Mn(),updatedAt:Mn()})).id}catch(e){throw console.error("Erreur lors de la cration de la discipline:",e),new Error("Impossible de crer la discipline")}},async update(t,e){try{const n=_t(Le,uh,t);await Mr(n,{...e,updatedAt:Mn()})}catch(n){throw console.error("Erreur lors de la mise  jour de la discipline:",n),new Error("Impossible de mettre  jour la discipline")}},async delete(t){try{const e=_t(Le,uh,t);await Rm(e)}catch(e){throw console.error("Erreur lors de la suppression de la discipline:",e),new Error("Impossible de supprimer la discipline")}},async exists(t){return await this.getById(t)!==null},async countByNiveau(t){return(await this.getByNiveau(t)).length}},Go="chapitres",Ox=t=>{const e=t.data();return{id:t.id,disciplineId:e.disciplineId,numero:e.numero,titre:e.titre,description:e.description,objectifs:e.objectifs||[],dureeEstimee:e.dureeEstimee,isPremium:e.isPremium||!1,actif:e.actif!==!1,createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()}},Qo={async getByDiscipline(t){try{const e=ir(Nn(Le,Go),tn("disciplineId","==",t),Fi("numero","asc"));return(await ar(e)).docs.map(Ox)}catch(e){throw console.error("Erreur lors de la rcupration des chapitres:",e),new Error("Impossible de rcuprer les chapitres")}},async getAll(){try{const t=ir(Nn(Le,Go),Fi("numero","asc"));return(await ar(t)).docs.map(Ox)}catch(t){throw console.error("Erreur lors de la rcupration des chapitres:",t),new Error("Impossible de rcuprer les chapitres")}},async getById(t){try{const e=_t(Le,Go,t),n=await pa(e);return n.exists()?Ox(n):null}catch(e){throw console.error("Erreur lors de la rcupration du chapitre:",e),new Error("Impossible de rcuprer le chapitre")}},async create(t){try{return(await Rl(Nn(Le,Go),{...t,actif:t.actif!==!1,createdAt:Mn(),updatedAt:Mn()})).id}catch(e){throw console.error("Erreur lors de la cration du chapitre:",e),new Error("Impossible de crer le chapitre")}},async update(t,e){try{const n=_t(Le,Go,t);await Mr(n,{...e,updatedAt:Mn()})}catch(n){throw console.error("Erreur lors de la mise  jour du chapitre:",n),new Error("Impossible de mettre  jour le chapitre")}},async delete(t){try{const e=_t(Le,Go,t);await Rm(e)}catch(e){throw console.error("Erreur lors de la suppression du chapitre:",e),new Error("Impossible de supprimer le chapitre")}},async deleteByDiscipline(t){try{const e=await this.getByDiscipline(t),n=Xh(Le);e.forEach(r=>{const i=_t(Le,Go,r.id);n.delete(i)}),await n.commit()}catch(e){throw console.error("Erreur lors de la suppression des chapitres:",e),new Error("Impossible de supprimer les chapitres")}},async reorder(t,e){try{const n=Xh(Le);e.forEach((r,i)=>{const s=_t(Le,Go,r);n.update(s,{numero:i+1,updatedAt:Mn()})}),await n.commit()}catch(n){throw console.error("Erreur lors de la rorganisation des chapitres:",n),new Error("Impossible de rorganiser les chapitres")}},async toggleActive(t,e){await this.update(t,{actif:e})},async countByDiscipline(t){return(await this.getByDiscipline(t)).length},async getNextNumero(t){return await this.countByDiscipline(t)+1}},fZ=()=>{const{currentUser:t}=ni(),[e,n]=_.useState({totalDisciplines:0,totalChapitres:0,totalRessources:0,ressourcesPremium:0,ressourcesGratuites:0,ressourcesParType:{cours:0,exercice:0,video:0,document:0,quiz:0}}),[r,i]=_.useState(!0),[s,c]=_.useState(null);return _.useEffect(()=>{(async()=>{try{i(!0),c(null);const[f,h,p]=await Promise.all([Rs.getAll(),Qo.getAll(),Wo.getStats()]);n({totalDisciplines:f.length,totalChapitres:h.length,totalRessources:p.total,ressourcesPremium:p.premium,ressourcesGratuites:p.gratuit,ressourcesParType:p.parType})}catch(f){console.error("Erreur lors du chargement des statistiques:",f),c("Impossible de charger les statistiques")}finally{i(!1)}})()},[]),l.jsxs("div",{className:"admin-dashboard",children:[l.jsx("header",{className:"admin-page-header",children:l.jsxs("div",{className:"admin-page-header__info",children:[l.jsx("h1",{className:"admin-page-header__title",children:"Tableau de bord"}),l.jsxs("p",{className:"admin-page-header__subtitle",children:["Bienvenue, ",t?.displayName||"Administrateur"," ! Grez votre contenu pdagogique depuis cette interface."]})]})}),s&&l.jsxs("div",{className:"alert alert--error",children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:s})})]}),r?l.jsxs("div",{className:"loading-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Chargement des statistiques..."})]}):l.jsxs(l.Fragment,{children:[l.jsxs("section",{className:"stats-grid",children:[l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-card__icon stat-card__icon--primary",children:""}),l.jsxs("div",{className:"stat-card__content",children:[l.jsx("div",{className:"stat-card__value",children:e.totalDisciplines}),l.jsx("div",{className:"stat-card__label",children:"Disciplines"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-card__icon stat-card__icon--secondary",children:""}),l.jsxs("div",{className:"stat-card__content",children:[l.jsx("div",{className:"stat-card__value",children:e.totalChapitres}),l.jsx("div",{className:"stat-card__label",children:"Chapitres"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-card__icon stat-card__icon--info",children:""}),l.jsxs("div",{className:"stat-card__content",children:[l.jsx("div",{className:"stat-card__value",children:e.totalRessources}),l.jsx("div",{className:"stat-card__label",children:"Ressources"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-card__icon stat-card__icon--warning",children:""}),l.jsxs("div",{className:"stat-card__content",children:[l.jsx("div",{className:"stat-card__value",children:e.ressourcesPremium}),l.jsx("div",{className:"stat-card__label",children:"Ressources Premium"})]})]})]}),l.jsxs("section",{className:"content-card",children:[l.jsx("div",{className:"content-card__header",children:l.jsx("h2",{children:"Rpartition des ressources par type"})}),l.jsx("div",{className:"content-card__body",children:l.jsxs("div",{className:"resource-type-grid",children:[l.jsxs("div",{className:"resource-type-item",children:[l.jsx("div",{className:"resource-item__icon resource-item__icon--cours",children:""}),l.jsxs("div",{className:"resource-type-info",children:[l.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.cours}),l.jsx("span",{className:"resource-type-label",children:"Cours"})]})]}),l.jsxs("div",{className:"resource-type-item",children:[l.jsx("div",{className:"resource-item__icon resource-item__icon--exercice",children:""}),l.jsxs("div",{className:"resource-type-info",children:[l.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.exercice}),l.jsx("span",{className:"resource-type-label",children:"Exercices"})]})]}),l.jsxs("div",{className:"resource-type-item",children:[l.jsx("div",{className:"resource-item__icon resource-item__icon--video",children:""}),l.jsxs("div",{className:"resource-type-info",children:[l.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.video}),l.jsx("span",{className:"resource-type-label",children:"Vidos"})]})]}),l.jsxs("div",{className:"resource-type-item",children:[l.jsx("div",{className:"resource-item__icon resource-item__icon--document",children:""}),l.jsxs("div",{className:"resource-type-info",children:[l.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.document}),l.jsx("span",{className:"resource-type-label",children:"Documents"})]})]}),l.jsxs("div",{className:"resource-type-item",children:[l.jsx("div",{className:"resource-item__icon resource-item__icon--quiz",children:""}),l.jsxs("div",{className:"resource-type-info",children:[l.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.quiz}),l.jsx("span",{className:"resource-type-label",children:"Quiz"})]})]})]})})]}),l.jsxs("section",{className:"content-card",style:{marginTop:"var(--spacing-xl)"},children:[l.jsx("div",{className:"content-card__header",children:l.jsx("h2",{children:"Actions rapides"})}),l.jsx("div",{className:"content-card__body",children:l.jsxs("div",{className:"quick-actions-grid",children:[l.jsxs("a",{href:"/admin/disciplines",className:"quick-action-card",children:[l.jsx("div",{className:"quick-action-icon",children:""}),l.jsxs("div",{className:"quick-action-content",children:[l.jsx("h3",{children:"Grer les disciplines"}),l.jsx("p",{children:"Ajouter, modifier ou supprimer des matires"})]})]}),l.jsxs("a",{href:"/admin/chapitres",className:"quick-action-card",children:[l.jsx("div",{className:"quick-action-icon",children:""}),l.jsxs("div",{className:"quick-action-content",children:[l.jsx("h3",{children:"Grer les chapitres"}),l.jsx("p",{children:"Organiser le contenu par chapitres"})]})]}),l.jsxs("a",{href:"/admin/ressources",className:"quick-action-card",children:[l.jsx("div",{className:"quick-action-icon",children:""}),l.jsxs("div",{className:"quick-action-content",children:[l.jsx("h3",{children:"Grer les ressources"}),l.jsx("p",{children:"Cours, exercices, vidos et documents"})]})]}),l.jsxs("a",{href:"/admin/utilisateurs",className:"quick-action-card",children:[l.jsx("div",{className:"quick-action-icon",children:""}),l.jsxs("div",{className:"quick-action-content",children:[l.jsx("h3",{children:"Grer les utilisateurs"}),l.jsx("p",{children:"lves, professeurs et administrateurs"})]})]})]})})]})]}),l.jsx("style",{children:`
        /* Grille des types de ressources */
        .resource-type-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
          gap: var(--spacing-lg);
        }

        .resource-type-item {
          display: flex;
          align-items: center;
          gap: var(--spacing-md);
          padding: var(--spacing-md);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-lg);
        }

        .resource-type-info {
          display: flex;
          flex-direction: column;
        }

        .resource-type-value {
          font-size: var(--text-2xl);
          font-weight: var(--font-bold);
          color: var(--color-text);
        }

        .resource-type-label {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        /* Actions rapides */
        .quick-actions-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
          gap: var(--spacing-lg);
        }

        .quick-action-card {
          display: flex;
          align-items: flex-start;
          gap: var(--spacing-lg);
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          text-decoration: none;
          color: inherit;
          transition: all var(--transition-base);
        }

        .quick-action-card:hover {
          border-color: var(--color-primary);
          box-shadow: var(--shadow-md);
          transform: translateY(-2px);
        }

        .quick-action-icon {
          font-size: 2rem;
          line-height: 1;
        }

        .quick-action-content h3 {
          font-size: var(--text-base);
          font-weight: var(--font-semibold);
          margin-bottom: var(--spacing-xs);
          color: var(--color-text);
        }

        .quick-action-content p {
          font-size: var(--text-sm);
          color: var(--color-text-light);
          margin: 0;
        }

        @media (max-width: 768px) {
          .resource-type-grid,
          .quick-actions-grid {
            grid-template-columns: 1fr;
          }
        }
      `})]})},qO=[{value:"college",label:"Collge"},{value:"lycee",label:"Lyce"}],Rv={college:[{value:"6eme",label:"6me"},{value:"5eme",label:"5me"},{value:"4eme",label:"4me"},{value:"3eme",label:"3me"}],lycee:[{value:"2nde",label:"Seconde"},{value:"1ere",label:"Premire"},{value:"Terminale",label:"Terminale"}]},hZ=[{value:"#2563eb",label:"Bleu"},{value:"#059669",label:"Vert"},{value:"#dc2626",label:"Rouge"},{value:"#7c3aed",label:"Violet"},{value:"#ea580c",label:"Orange"},{value:"#0891b2",label:"Cyan"},{value:"#be185d",label:"Rose"},{value:"#4b5563",label:"Gris"}],Ix={nom:"",niveau:"college",classe:"6eme",ordre:1,coefficient:1,couleur:"#2563eb",icone:"",description:""},mZ=()=>{const[t,e]=_.useState([]),[n,r]=_.useState([]),[i,s]=_.useState(!0),[c,u]=_.useState(!1),[f,h]=_.useState(null),[p,v]=_.useState(null),[y,w]=_.useState(null),[j,E]=_.useState(!1),[N,S]=_.useState(!1),[D,R]=_.useState(null),[I,$]=_.useState(null),[z,O]=_.useState(Ix),[C,k]=_.useState({}),[q,U]=_.useState(""),[L,M]=_.useState(""),[ue,Z]=_.useState(""),B=_.useCallback(async()=>{try{s(!0),v(null);const W=await Rs.getAll();e(W),r(W)}catch(W){console.error("Erreur lors du chargement:",W),v("Impossible de charger les disciplines. Veuillez ressayer.")}finally{s(!1)}},[]);_.useEffect(()=>{B()},[B]),_.useEffect(()=>{let W=[...t];if(q&&(W=W.filter(_e=>_e.niveau===q)),L&&(W=W.filter(_e=>_e.classe===L)),ue){const _e=ue.toLowerCase();W=W.filter(Ve=>Ve.nom.toLowerCase().includes(_e)||Ve.description?.toLowerCase().includes(_e))}r(W)},[t,q,L,ue]);const J=()=>{const W={};return z.nom.trim()?z.nom.length<2&&(W.nom="Le nom doit contenir au moins 2 caractres"):W.nom="Le nom de la discipline est requis",z.niveau||(W.niveau="Veuillez slectionner un niveau"),z.classe||(W.classe="Veuillez slectionner une classe"),z.ordre<1&&(W.ordre="L'ordre doit tre suprieur  0"),k(W),Object.keys(W).length===0},he=()=>{R(null),O(Ix),k({}),E(!0)},Ee=W=>{R(W),O({nom:W.nom,niveau:W.niveau,classe:W.classe,ordre:W.ordre,coefficient:W.coefficient,couleur:W.couleur,icone:W.icone,description:W.description}),k({}),E(!0)},xe=W=>{$(W),S(!0)},H=()=>{E(!1),S(!1),R(null),$(null),O(Ix),k({})},ae=W=>{const{name:_e,value:Ve,type:oe}=W.target;if(_e==="niveau"){const Ae=Ve;O(Q=>({...Q,niveau:Ae,classe:Rv[Ae][0].value}))}else O(Ae=>({...Ae,[_e]:oe==="number"?Number(Ve):Ve}));C[_e]&&k(Ae=>({...Ae,[_e]:void 0}))},ye=async W=>{if(W.preventDefault(),!!J())try{u(!0),v(null),D?(await Rs.update(D.id,z),w("Discipline modifie avec succs !")):(await Rs.create(z),w("Discipline cre avec succs !")),H(),await B(),setTimeout(()=>w(null),3e3)}catch(_e){console.error("Erreur lors de la sauvegarde:",_e),v("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{u(!1)}},we=async()=>{if(I)try{h(I.id),await Rs.delete(I.id),w("Discipline supprime avec succs !"),H(),await B(),setTimeout(()=>w(null),3e3)}catch(W){console.error("Erreur lors de la suppression:",W),v("Erreur lors de la suppression. Veuillez ressayer.")}finally{h(null)}},Y=W=>{for(const _e of Object.values(Rv)){const Ve=_e.find(oe=>oe.value===W);if(Ve)return Ve.label}return W};return l.jsxs("div",{className:"discipline-manager",children:[l.jsxs("header",{className:"admin-page-header",children:[l.jsxs("div",{className:"admin-page-header__info",children:[l.jsx("h1",{className:"admin-page-header__title",children:"Gestion des Disciplines"}),l.jsx("p",{className:"admin-page-header__subtitle",children:"Grez les matires enseignes sur PedaClic"})]}),l.jsx("div",{className:"admin-page-header__actions",children:l.jsxs("button",{onClick:he,className:"btn btn--primary",children:[l.jsx("span",{children:""}),"Nouvelle discipline"]})})]}),p&&l.jsxs("div",{className:"alert alert--error",children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:p})}),l.jsx("button",{onClick:()=>v(null),className:"alert__close",children:""})]}),y&&l.jsxs("div",{className:"alert alert--success",children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:y})})]}),l.jsxs("div",{className:"admin-table-container",children:[l.jsxs("div",{className:"admin-table-header",children:[l.jsxs("h2",{className:"admin-table-title",children:["Liste des disciplines (",n.length,")"]}),l.jsxs("div",{className:"admin-table-actions",children:[l.jsxs("div",{className:"search-input",children:[l.jsx("span",{className:"search-input__icon",children:""}),l.jsx("input",{type:"text",className:"search-input__field",placeholder:"Rechercher...",value:ue,onChange:W=>Z(W.target.value)})]}),l.jsxs("select",{className:"form-select",value:q,onChange:W=>U(W.target.value),style:{width:"auto"},children:[l.jsx("option",{value:"",children:"Tous les niveaux"}),qO.map(W=>l.jsx("option",{value:W.value,children:W.label},W.value))]}),l.jsxs("select",{className:"form-select",value:L,onChange:W=>M(W.target.value),style:{width:"auto"},disabled:!q,children:[l.jsx("option",{value:"",children:"Toutes les classes"}),q&&Rv[q].map(W=>l.jsx("option",{value:W.value,children:W.label},W.value))]})]})]}),i?l.jsxs("div",{className:"loading-container",style:{padding:"var(--spacing-2xl)"},children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Chargement des disciplines..."})]}):n.length===0?l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state__icon",children:""}),l.jsx("h3",{className:"empty-state__title",children:"Aucune discipline trouve"}),l.jsx("p",{className:"empty-state__message",children:ue||q||L?"Aucune discipline ne correspond aux critres de recherche.":"Commencez par crer votre premire discipline."}),!ue&&!q&&!L&&l.jsx("button",{onClick:he,className:"btn btn--primary",children:"Crer une discipline"})]}):l.jsxs("table",{className:"admin-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Discipline"}),l.jsx("th",{children:"Niveau"}),l.jsx("th",{children:"Classe"}),l.jsx("th",{children:"Coefficient"}),l.jsx("th",{children:"Ordre"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:n.map(W=>l.jsxs("tr",{children:[l.jsx("td",{children:l.jsxs("div",{className:"table-cell-icon",children:[l.jsx("div",{className:"table-icon",style:{backgroundColor:`${W.couleur}20`,color:W.couleur},children:W.icone||""}),l.jsxs("div",{children:[l.jsx("strong",{children:W.nom}),W.description&&l.jsx("div",{className:"text-muted text-sm",children:W.description})]})]})}),l.jsx("td",{children:l.jsx("span",{className:`badge badge--${W.niveau==="college"?"primary":"secondary"}`,children:W.niveau==="college"?"Collge":"Lyce"})}),l.jsx("td",{children:Y(W.classe)}),l.jsx("td",{children:W.coefficient||"-"}),l.jsx("td",{children:W.ordre}),l.jsx("td",{children:l.jsxs("div",{className:"table-actions",children:[l.jsx("button",{onClick:()=>Ee(W),className:"table-action-btn table-action-btn--edit",title:"Modifier",children:""}),l.jsx("button",{onClick:()=>xe(W),className:"table-action-btn table-action-btn--delete",title:"Supprimer",disabled:f===W.id,children:f===W.id?"":""})]})})]},W.id))})]})]}),j&&l.jsx("div",{className:"modal-overlay",onClick:H,children:l.jsxs("div",{className:"modal modal--lg",onClick:W=>W.stopPropagation(),children:[l.jsxs("div",{className:"modal__header",children:[l.jsx("h2",{className:"modal__title",children:D?"Modifier la discipline":"Nouvelle discipline"}),l.jsx("button",{onClick:H,className:"modal__close",children:""})]}),l.jsxs("form",{onSubmit:ye,children:[l.jsxs("div",{className:"modal__body",children:[l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",style:{flex:2},children:[l.jsx("label",{className:"form-label form-label--required",children:"Nom de la discipline"}),l.jsx("input",{type:"text",name:"nom",className:`form-input ${C.nom?"form-input--error":""}`,placeholder:"Ex: Mathmatiques, Franais, SVT...",value:z.nom,onChange:ae}),C.nom&&l.jsx("span",{className:"form-error",children:C.nom})]}),l.jsxs("div",{className:"form-group",style:{flex:1},children:[l.jsx("label",{className:"form-label",children:"Icne"}),l.jsx("input",{type:"text",name:"icone",className:"form-input",placeholder:"",value:z.icone||"",onChange:ae,maxLength:4}),l.jsx("span",{className:"form-helper",children:"Emoji uniquement"})]})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label form-label--required",children:"Niveau"}),l.jsx("select",{name:"niveau",className:`form-select ${C.niveau?"form-select--error":""}`,value:z.niveau,onChange:ae,children:qO.map(W=>l.jsx("option",{value:W.value,children:W.label},W.value))}),C.niveau&&l.jsx("span",{className:"form-error",children:C.niveau})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label form-label--required",children:"Classe"}),l.jsx("select",{name:"classe",className:`form-select ${C.classe?"form-select--error":""}`,value:z.classe,onChange:ae,children:Rv[z.niveau].map(W=>l.jsx("option",{value:W.value,children:W.label},W.value))}),C.classe&&l.jsx("span",{className:"form-error",children:C.classe})]})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Coefficient"}),l.jsx("input",{type:"number",name:"coefficient",className:"form-input",min:"1",max:"10",value:z.coefficient||1,onChange:ae}),l.jsx("span",{className:"form-helper",children:"Pour les calculs de moyennes"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label form-label--required",children:"Ordre d'affichage"}),l.jsx("input",{type:"number",name:"ordre",className:`form-input ${C.ordre?"form-input--error":""}`,min:"1",value:z.ordre,onChange:ae}),C.ordre&&l.jsx("span",{className:"form-error",children:C.ordre})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Couleur"}),l.jsx("div",{className:"color-picker",children:hZ.map(W=>l.jsx("button",{type:"button",className:`color-option ${z.couleur===W.value?"color-option--active":""}`,style:{backgroundColor:W.value},onClick:()=>O(_e=>({..._e,couleur:W.value})),title:W.label,children:z.couleur===W.value&&""},W.value))})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Description (optionnel)"}),l.jsx("textarea",{name:"description",className:"form-textarea",placeholder:"Description courte de la discipline...",rows:3,value:z.description||"",onChange:ae})]})]}),l.jsxs("div",{className:"modal__footer",children:[l.jsx("button",{type:"button",onClick:H,className:"btn btn--outline",disabled:c,children:"Annuler"}),l.jsx("button",{type:"submit",className:"btn btn--primary",disabled:c,children:c?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"spinner-small"}),"Enregistrement..."]}):D?"Mettre  jour":"Crer la discipline"})]})]})]})}),N&&I&&l.jsx("div",{className:"modal-overlay",onClick:H,children:l.jsxs("div",{className:"modal",onClick:W=>W.stopPropagation(),children:[l.jsxs("div",{className:"modal__header",children:[l.jsx("h2",{className:"modal__title",children:"Confirmer la suppression"}),l.jsx("button",{onClick:H,className:"modal__close",children:""})]}),l.jsxs("div",{className:"modal__body",children:[l.jsxs("p",{children:["tes-vous sr de vouloir supprimer la discipline",l.jsxs("strong",{children:[" ",I.nom]})," ?"]}),l.jsxs("div",{className:"alert alert--warning",style:{marginTop:"var(--spacing-md)"},children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:"Cette action est irrversible. Tous les chapitres et ressources associs devront tre supprims manuellement."})})]})]}),l.jsxs("div",{className:"modal__footer",children:[l.jsx("button",{onClick:H,className:"btn btn--outline",disabled:f!==null,children:"Annuler"}),l.jsx("button",{onClick:we,className:"btn btn--danger",disabled:f!==null,children:f?"Suppression...":"Supprimer"})]})]})}),l.jsx("style",{children:`
        /* Ligne de formulaire */
        .form-row {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: var(--spacing-lg);
        }

        @media (max-width: 600px) {
          .form-row {
            grid-template-columns: 1fr;
          }
        }

        /* Slecteur de couleur */
        .color-picker {
          display: flex;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
        }

        .color-option {
          width: 36px;
          height: 36px;
          border: 2px solid transparent;
          border-radius: var(--radius-md);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-weight: bold;
          transition: all var(--transition-base);
        }

        .color-option:hover {
          transform: scale(1.1);
        }

        .color-option--active {
          border-color: var(--color-text);
          box-shadow: 0 0 0 2px white, 0 0 0 4px var(--color-text);
        }

        /* Fermer l'alerte */
        .alert__close {
          background: none;
          border: none;
          cursor: pointer;
          font-size: var(--text-lg);
          opacity: 0.7;
          transition: opacity var(--transition-base);
        }

        .alert__close:hover {
          opacity: 1;
        }

        /* Spinner petit pour les boutons */
        .spinner-small {
          width: 16px;
          height: 16px;
          border: 2px solid rgba(255, 255, 255, 0.3);
          border-top-color: white;
          border-radius: 50%;
          animation: spin 0.8s linear infinite;
        }

        /* Ajustement du form-select */
        .form-select {
          min-width: 150px;
        }
      `})]})},BO={numero:1,titre:"",description:"",objectifs:[],dureeEstimee:void 0,isPremium:!1,actif:!0},pZ=()=>{const[t,e]=_.useState([]),[n,r]=_.useState([]),[i,s]=_.useState(""),[c,u]=_.useState(!0),[f,h]=_.useState(!1),[p,v]=_.useState(!1),[y,w]=_.useState(null),[j,E]=_.useState(null),[N,S]=_.useState(null),[D,R]=_.useState(!1),[I,$]=_.useState(!1),[z,O]=_.useState(null),[C,k]=_.useState(null),[q,U]=_.useState({...BO,disciplineId:""}),[L,M]=_.useState({}),[ue,Z]=_.useState(""),B=_.useCallback(async()=>{try{u(!0);const Q=await Rs.getAll();e(Q),Q.length>0&&!i&&s(Q[0].id)}catch(Q){console.error("Erreur lors du chargement des disciplines:",Q),E("Impossible de charger les disciplines.")}finally{u(!1)}},[i]),J=_.useCallback(async()=>{if(!i){r([]);return}try{h(!0);const Q=await Qo.getByDiscipline(i);r(Q)}catch(Q){console.error("Erreur lors du chargement des chapitres:",Q),E("Impossible de charger les chapitres.")}finally{h(!1)}},[i]);_.useEffect(()=>{B()},[B]),_.useEffect(()=>{J()},[J]);const he=()=>{const Q={};return q.disciplineId||(Q.disciplineId="Veuillez slectionner une discipline"),q.titre.trim()?q.titre.length<3&&(Q.titre="Le titre doit contenir au moins 3 caractres"):Q.titre="Le titre du chapitre est requis",q.numero<1&&(Q.numero="Le numro doit tre suprieur  0"),M(Q),Object.keys(Q).length===0},Ee=Q=>{s(Q),E(null)},xe=async()=>{const Q=await Qo.getNextNumero(i);O(null),U({...BO,disciplineId:i,numero:Q}),M({}),Z(""),R(!0)},H=Q=>{O(Q),U({disciplineId:Q.disciplineId,numero:Q.numero,titre:Q.titre,description:Q.description,objectifs:Q.objectifs||[],dureeEstimee:Q.dureeEstimee,isPremium:Q.isPremium,actif:Q.actif}),M({}),Z(""),R(!0)},ae=Q=>{k(Q),$(!0)},ye=()=>{R(!1),$(!1),O(null),k(null),M({}),Z("")},we=Q=>{const{name:ve,value:ke,type:$e}=Q.target,at=Q.target.checked;U(dt=>({...dt,[ve]:$e==="checkbox"?at:$e==="number"?Number(ke):ke})),L[ve]&&M(dt=>({...dt,[ve]:void 0}))},Y=()=>{ue.trim()&&(U(Q=>({...Q,objectifs:[...Q.objectifs||[],ue.trim()]})),Z(""))},W=Q=>{U(ve=>({...ve,objectifs:(ve.objectifs||[]).filter((ke,$e)=>$e!==Q)}))},_e=async Q=>{if(Q.preventDefault(),!!he())try{v(!0),E(null),z?(await Qo.update(z.id,q),S("Chapitre modifi avec succs !")):(await Qo.create(q),S("Chapitre cr avec succs !")),ye(),await J(),setTimeout(()=>S(null),3e3)}catch(ve){console.error("Erreur lors de la sauvegarde:",ve),E("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{v(!1)}},Ve=async()=>{if(C)try{w(C.id),await Qo.delete(C.id),S("Chapitre supprim avec succs !"),ye(),await J(),setTimeout(()=>S(null),3e3)}catch(Q){console.error("Erreur lors de la suppression:",Q),E("Erreur lors de la suppression. Veuillez ressayer.")}finally{w(null)}},oe=async Q=>{try{await Qo.toggleActive(Q.id,!Q.actif),await J(),S(Q.actif?"Chapitre dsactiv":"Chapitre activ"),setTimeout(()=>S(null),2e3)}catch{E("Erreur lors de la mise  jour")}},Ae=Q=>{const ve=t.find(ke=>ke.id===Q);return ve?ve.nom:"Non trouve"};return l.jsxs("div",{className:"chapitre-manager",children:[l.jsxs("header",{className:"admin-page-header",children:[l.jsxs("div",{className:"admin-page-header__info",children:[l.jsx("h1",{className:"admin-page-header__title",children:"Gestion des Chapitres"}),l.jsx("p",{className:"admin-page-header__subtitle",children:"Organisez le contenu pdagogique par chapitres"})]}),l.jsx("div",{className:"admin-page-header__actions",children:l.jsxs("button",{onClick:xe,className:"btn btn--primary",disabled:!i||c,children:[l.jsx("span",{children:""}),"Nouveau chapitre"]})})]}),j&&l.jsxs("div",{className:"alert alert--error",children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:j})}),l.jsx("button",{onClick:()=>E(null),className:"alert__close",children:""})]}),N&&l.jsxs("div",{className:"alert alert--success",children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:N})})]}),l.jsx("div",{className:"content-card",style:{marginBottom:"var(--spacing-lg)"},children:l.jsx("div",{className:"content-card__body",children:l.jsxs("div",{className:"discipline-selector",children:[l.jsx("label",{className:"form-label",children:"Slectionner une discipline :"}),c?l.jsx("p",{className:"text-muted",children:"Chargement des disciplines..."}):t.length===0?l.jsxs("p",{className:"text-muted",children:["Aucune discipline disponible.",l.jsx("a",{href:"/admin/disciplines",children:" Crer une discipline"})]}):l.jsx("div",{className:"discipline-tabs",children:t.map(Q=>l.jsxs("button",{className:`discipline-tab ${i===Q.id?"discipline-tab--active":""}`,onClick:()=>Ee(Q.id),style:{"--discipline-color":Q.couleur||"#2563eb"},children:[l.jsx("span",{className:"discipline-tab__icon",children:Q.icone||""}),l.jsx("span",{className:"discipline-tab__name",children:Q.nom}),l.jsx("span",{className:"discipline-tab__class",children:Q.classe})]},Q.id))})]})})}),l.jsxs("div",{className:"admin-table-container",children:[l.jsx("div",{className:"admin-table-header",children:l.jsxs("h2",{className:"admin-table-title",children:["Chapitres ",i&&`- ${Ae(i)}`,n.length>0&&` (${n.length})`]})}),f?l.jsxs("div",{className:"loading-container",style:{padding:"var(--spacing-2xl)"},children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Chargement des chapitres..."})]}):i?n.length===0?l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state__icon",children:""}),l.jsx("h3",{className:"empty-state__title",children:"Aucun chapitre"}),l.jsx("p",{className:"empty-state__message",children:"Cette discipline n'a pas encore de chapitres."}),l.jsx("button",{onClick:xe,className:"btn btn--primary",children:"Crer le premier chapitre"})]}):l.jsx("div",{className:"chapitres-list",children:n.map(Q=>l.jsxs("div",{className:`chapitre-card ${Q.actif?"":"chapitre-card--inactive"}`,children:[l.jsx("div",{className:"chapitre-card__number",children:Q.numero}),l.jsxs("div",{className:"chapitre-card__content",children:[l.jsxs("h3",{className:"chapitre-card__title",children:[Q.titre,Q.isPremium&&l.jsx("span",{className:"badge badge--premium",children:"Premium"}),!Q.actif&&l.jsx("span",{className:"badge badge--warning",children:"Inactif"})]}),Q.description&&l.jsx("p",{className:"chapitre-card__description",children:Q.description}),l.jsxs("div",{className:"chapitre-card__meta",children:[Q.dureeEstimee&&l.jsxs("span",{children:[" ",Q.dureeEstimee,"h estime"]}),Q.objectifs&&Q.objectifs.length>0&&l.jsxs("span",{children:[" ",Q.objectifs.length," objectif(s)"]})]})]}),l.jsxs("div",{className:"chapitre-card__actions",children:[l.jsx("button",{onClick:()=>oe(Q),className:`table-action-btn ${Q.actif?"table-action-btn--view":"table-action-btn--edit"}`,title:Q.actif?"Dsactiver":"Activer",children:Q.actif?"":""}),l.jsx("button",{onClick:()=>H(Q),className:"table-action-btn table-action-btn--edit",title:"Modifier",children:""}),l.jsx("button",{onClick:()=>ae(Q),className:"table-action-btn table-action-btn--delete",title:"Supprimer",disabled:y===Q.id,children:y===Q.id?"":""})]})]},Q.id))}):l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state__icon",children:""}),l.jsx("h3",{className:"empty-state__title",children:"Slectionnez une discipline"}),l.jsx("p",{className:"empty-state__message",children:"Choisissez une discipline ci-dessus pour voir ses chapitres."})]})]}),D&&l.jsx("div",{className:"modal-overlay",onClick:ye,children:l.jsxs("div",{className:"modal modal--lg",onClick:Q=>Q.stopPropagation(),children:[l.jsxs("div",{className:"modal__header",children:[l.jsx("h2",{className:"modal__title",children:z?"Modifier le chapitre":"Nouveau chapitre"}),l.jsx("button",{onClick:ye,className:"modal__close",children:""})]}),l.jsxs("form",{onSubmit:_e,children:[l.jsxs("div",{className:"modal__body",children:[!z&&l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label form-label--required",children:"Discipline"}),l.jsxs("select",{name:"disciplineId",className:`form-select ${L.disciplineId?"form-select--error":""}`,value:q.disciplineId,onChange:we,children:[l.jsx("option",{value:"",children:"Slectionner une discipline"}),t.map(Q=>l.jsxs("option",{value:Q.id,children:[Q.icone," ",Q.nom," (",Q.classe,")"]},Q.id))]}),L.disciplineId&&l.jsx("span",{className:"form-error",children:L.disciplineId})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",style:{flex:"0 0 100px"},children:[l.jsx("label",{className:"form-label form-label--required",children:"N"}),l.jsx("input",{type:"number",name:"numero",className:`form-input ${L.numero?"form-input--error":""}`,min:"1",value:q.numero,onChange:we}),L.numero&&l.jsx("span",{className:"form-error",children:L.numero})]}),l.jsxs("div",{className:"form-group",style:{flex:1},children:[l.jsx("label",{className:"form-label form-label--required",children:"Titre du chapitre"}),l.jsx("input",{type:"text",name:"titre",className:`form-input ${L.titre?"form-input--error":""}`,placeholder:"Ex: Les fractions, La Rvolution franaise...",value:q.titre,onChange:we}),L.titre&&l.jsx("span",{className:"form-error",children:L.titre})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Description"}),l.jsx("textarea",{name:"description",className:"form-textarea",rows:3,placeholder:"Description du chapitre...",value:q.description||"",onChange:we})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Objectifs pdagogiques"}),l.jsxs("div",{className:"objectifs-input",children:[l.jsx("input",{type:"text",className:"form-input",placeholder:"Ajouter un objectif...",value:ue,onChange:Q=>Z(Q.target.value),onKeyPress:Q=>Q.key==="Enter"&&(Q.preventDefault(),Y())}),l.jsx("button",{type:"button",onClick:Y,className:"btn btn--outline btn--sm",children:"Ajouter"})]}),q.objectifs&&q.objectifs.length>0&&l.jsx("ul",{className:"objectifs-list",children:q.objectifs.map((Q,ve)=>l.jsxs("li",{className:"objectif-item",children:[l.jsxs("span",{children:[" ",Q]}),l.jsx("button",{type:"button",onClick:()=>W(ve),className:"objectif-remove",children:""})]},ve))})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Dure estime (heures)"}),l.jsx("input",{type:"number",name:"dureeEstimee",className:"form-input",min:"0",step:"0.5",placeholder:"Ex: 2",value:q.dureeEstimee||"",onChange:we})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Options"}),l.jsxs("div",{className:"form-options",children:[l.jsxs("label",{className:"form-checkbox",children:[l.jsx("input",{type:"checkbox",name:"isPremium",checked:q.isPremium,onChange:we}),l.jsx("span",{children:"Contenu Premium "})]}),l.jsxs("label",{className:"form-checkbox",children:[l.jsx("input",{type:"checkbox",name:"actif",checked:q.actif!==!1,onChange:we}),l.jsx("span",{children:"Chapitre actif"})]})]})]})]})]}),l.jsxs("div",{className:"modal__footer",children:[l.jsx("button",{type:"button",onClick:ye,className:"btn btn--outline",disabled:p,children:"Annuler"}),l.jsx("button",{type:"submit",className:"btn btn--primary",disabled:p,children:p?"Enregistrement...":z?"Mettre  jour":"Crer le chapitre"})]})]})]})}),I&&C&&l.jsx("div",{className:"modal-overlay",onClick:ye,children:l.jsxs("div",{className:"modal",onClick:Q=>Q.stopPropagation(),children:[l.jsxs("div",{className:"modal__header",children:[l.jsx("h2",{className:"modal__title",children:"Confirmer la suppression"}),l.jsx("button",{onClick:ye,className:"modal__close",children:""})]}),l.jsxs("div",{className:"modal__body",children:[l.jsxs("p",{children:["Supprimer le chapitre ",l.jsxs("strong",{children:[C.numero,". ",C.titre]})," ?"]}),l.jsxs("div",{className:"alert alert--warning",style:{marginTop:"var(--spacing-md)"},children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:"Les ressources associes ne seront pas supprimes automatiquement."})})]})]}),l.jsxs("div",{className:"modal__footer",children:[l.jsx("button",{onClick:ye,className:"btn btn--outline",children:"Annuler"}),l.jsx("button",{onClick:Ve,className:"btn btn--danger",disabled:y!==null,children:y?"Suppression...":"Supprimer"})]})]})}),l.jsx("style",{children:`
        /* Slecteur de discipline */
        .discipline-tabs {
          display: flex;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
          margin-top: var(--spacing-md);
        }

        .discipline-tab {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          padding: var(--spacing-sm) var(--spacing-md);
          border: 2px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: white;
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .discipline-tab:hover {
          border-color: var(--discipline-color, var(--color-primary));
        }

        .discipline-tab--active {
          border-color: var(--discipline-color, var(--color-primary));
          background: color-mix(in srgb, var(--discipline-color, var(--color-primary)) 10%, white);
        }

        .discipline-tab__icon {
          font-size: var(--text-lg);
        }

        .discipline-tab__name {
          font-weight: var(--font-medium);
        }

        .discipline-tab__class {
          font-size: var(--text-xs);
          color: var(--color-text-light);
          background: var(--color-bg-secondary);
          padding: 2px 6px;
          border-radius: var(--radius-sm);
        }

        /* Liste des chapitres */
        .chapitres-list {
          display: flex;
          flex-direction: column;
          gap: var(--spacing-md);
          padding: var(--spacing-lg);
        }

        .chapitre-card {
          display: flex;
          align-items: center;
          gap: var(--spacing-lg);
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          transition: all var(--transition-base);
        }

        .chapitre-card:hover {
          border-color: var(--color-primary);
          box-shadow: var(--shadow-md);
        }

        .chapitre-card--inactive {
          opacity: 0.6;
          background: var(--color-bg-tertiary);
        }

        .chapitre-card__number {
          width: 48px;
          height: 48px;
          background: var(--color-primary);
          color: white;
          border-radius: var(--radius-md);
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: var(--text-xl);
          font-weight: var(--font-bold);
          flex-shrink: 0;
        }

        .chapitre-card__content {
          flex: 1;
          min-width: 0;
        }

        .chapitre-card__title {
          font-size: var(--text-base);
          font-weight: var(--font-semibold);
          margin-bottom: var(--spacing-xs);
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
        }

        .chapitre-card__description {
          font-size: var(--text-sm);
          color: var(--color-text-light);
          margin: 0 0 var(--spacing-sm);
        }

        .chapitre-card__meta {
          display: flex;
          gap: var(--spacing-lg);
          font-size: var(--text-xs);
          color: var(--color-text-lighter);
        }

        .chapitre-card__actions {
          display: flex;
          gap: var(--spacing-sm);
        }

        /* Formulaire: Ligne */
        .form-row {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: var(--spacing-lg);
        }

        @media (max-width: 600px) {
          .form-row {
            grid-template-columns: 1fr;
          }
        }

        /* Objectifs */
        .objectifs-input {
          display: flex;
          gap: var(--spacing-sm);
        }

        .objectifs-list {
          list-style: none;
          margin-top: var(--spacing-md);
        }

        .objectif-item {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: var(--spacing-sm) var(--spacing-md);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-md);
          margin-bottom: var(--spacing-xs);
        }

        .objectif-remove {
          background: none;
          border: none;
          cursor: pointer;
          color: var(--color-error);
          opacity: 0.7;
        }

        .objectif-remove:hover {
          opacity: 1;
        }

        /* Options */
        .form-options {
          display: flex;
          flex-direction: column;
          gap: var(--spacing-sm);
          margin-top: var(--spacing-sm);
        }
      `})]})},Dv=[{value:"cours",label:"Cours",icon:"",color:"#2563eb"},{value:"exercice",label:"Exercice",icon:"",color:"#10b981"},{value:"video",label:"Vido",icon:"",color:"#ef4444"},{value:"document",label:"Document",icon:"",color:"#f59e0b"},{value:"quiz",label:"Quiz",icon:"",color:"#8b5cf6"}],kv={cours:[".pdf",".doc",".docx",".ppt",".pptx"],exercice:[".pdf",".doc",".docx"],video:[".mp4",".webm",".mov",".avi"],document:[".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx"],quiz:[".json",".pdf"]},Rx=50,$O={titre:"",type:"cours",description:"",contenu:"",chapitreId:"",ordre:1,isPremium:!1,actif:!0,tags:[],duree:void 0,urlExterne:""},vZ=()=>{const{currentUser:t}=ni(),[e,n]=_.useState([]),[r,i]=_.useState([]),[s,c]=_.useState([]),[u,f]=_.useState([]),[h,p]=_.useState(""),[v,y]=_.useState(""),[w,j]=_.useState(""),[E,N]=_.useState(""),[S,D]=_.useState(""),[R,I]=_.useState(!0),[$,z]=_.useState(!1),[O,C]=_.useState(!1),[k,q]=_.useState(!1),[U,L]=_.useState(null),[M,ue]=_.useState(!1),[Z,B]=_.useState(0),[J,he]=_.useState(null),[Ee,xe]=_.useState(null),[H,ae]=_.useState(!1),[ye,we]=_.useState(!1),[Y,W]=_.useState(!1),[_e,Ve]=_.useState(null),[oe,Ae]=_.useState(null),[Q,ve]=_.useState(null),[ke,$e]=_.useState({...$O,disciplineId:""}),[at,dt]=_.useState({}),[vt,gr]=_.useState(null),[It,Rt]=_.useState(null),Ur=_.useRef(null),[de,Ie]=_.useState(""),qe=_.useCallback(async()=>{try{I(!0);const ee=await Rs.getAll();n(ee),ee.length>0&&!h&&p(ee[0].id)}catch(ee){console.error("Erreur lors du chargement des disciplines:",ee),he("Impossible de charger les disciplines.")}finally{I(!1)}},[h]),Ge=_.useCallback(async()=>{if(!h){i([]);return}try{z(!0);const ee=await Qo.getByDiscipline(h);i(ee)}catch(ee){console.error("Erreur lors du chargement des chapitres:",ee)}finally{z(!1)}},[h]),Vt=_.useCallback(async()=>{if(!h){c([]),f([]);return}try{C(!0);const ee=await Wo.getByDiscipline(h);c(ee),f(ee)}catch(ee){console.error("Erreur lors du chargement des ressources:",ee),he("Impossible de charger les ressources.")}finally{C(!1)}},[h]);_.useEffect(()=>{qe()},[qe]),_.useEffect(()=>{Ge()},[Ge]),_.useEffect(()=>{Vt()},[Vt]),_.useEffect(()=>{let ee=[...s];if(v&&(ee=ee.filter(Ue=>Ue.chapitreId===v)),w&&(ee=ee.filter(Ue=>Ue.type===w)),E==="premium"?ee=ee.filter(Ue=>Ue.isPremium):E==="free"&&(ee=ee.filter(Ue=>!Ue.isPremium)),S){const Ue=S.toLowerCase();ee=ee.filter(mt=>mt.titre.toLowerCase().includes(Ue)||mt.description?.toLowerCase().includes(Ue)||mt.tags?.some(Gn=>Gn.toLowerCase().includes(Ue)))}f(ee)},[s,v,w,E,S]);const Vn=()=>{const ee={};if(ke.disciplineId||(ee.disciplineId="Veuillez slectionner une discipline"),ke.titre.trim()?ke.titre.length<3&&(ee.titre="Le titre doit contenir au moins 3 caractres"):ee.titre="Le titre est requis",ke.type||(ee.type="Veuillez slectionner un type de ressource"),vt){const Ue="."+vt.name.split(".").pop()?.toLowerCase(),mt=kv[ke.type];mt.includes(Ue)||(ee.fichier=`Extension non autorise. Extensions acceptes : ${mt.join(", ")}`),vt.size/(1024*1024)>Rx&&(ee.fichier=`Le fichier est trop volumineux (max ${Rx} Mo)`)}return dt(ee),Object.keys(ee).length===0},qr=ee=>{p(ee),y(""),he(null)},ho=()=>{Ve(null),$e({...$O,disciplineId:h}),dt({}),gr(null),Rt(null),Ie(""),ae(!0)},Br=ee=>{Ve(ee),$e({disciplineId:ee.disciplineId,titre:ee.titre,type:ee.type,description:ee.description,contenu:ee.contenu,chapitreId:ee.chapitreId||"",ordre:ee.ordre,isPremium:ee.isPremium,actif:ee.actif,tags:ee.tags||[],duree:ee.duree,urlExterne:ee.urlExterne||""}),dt({}),gr(null),Rt(ee.fichierUrl||null),Ie(""),ae(!0)},Wi=ee=>{ve(ee),W(!0)},cu=ee=>{Ae(ee),we(!0)},an=()=>{ae(!1),we(!1),W(!1),Ve(null),Ae(null),ve(null),dt({}),gr(null),Rt(null),Ie("")},St=ee=>{const{name:Ue,value:mt,type:Gn}=ee.target,ql=ee.target.checked;$e(Fr=>({...Fr,[Ue]:Gn==="checkbox"?ql:Gn==="number"?Number(mt):mt})),at[Ue]&&dt(Fr=>({...Fr,[Ue]:void 0}))},$r=ee=>{const Ue=ee.target.files?.[0];if(Ue)if(gr(Ue),dt(mt=>({...mt,fichier:void 0})),Ue.type.startsWith("image/")||Ue.type.startsWith("video/")){const mt=new FileReader;mt.onloadend=()=>{Rt(mt.result)},mt.readAsDataURL(Ue)}else Rt(null)},en=()=>{gr(null),Rt(null),Ur.current&&(Ur.current.value="")},Ul=()=>{de.trim()&&!ke.tags?.includes(de.trim())&&($e(ee=>({...ee,tags:[...ee.tags||[],de.trim()]})),Ie(""))},mo=ee=>{$e(Ue=>({...Ue,tags:(Ue.tags||[]).filter((mt,Gn)=>Gn!==ee)}))},uu=async ee=>{if(ee.preventDefault(),!!Vn())try{q(!0),he(null);let Ue=_e?.fichierUrl,mt=_e?.fichierNom;if(vt){ue(!0);const ql=_e?.id||`temp_${Date.now()}`,Fr=await Wo.uploadFile(vt,ql,Bl=>B(Bl));Ue=Fr.url,mt=Fr.nom,ue(!1)}const Gn={...ke,fichierUrl:Ue,fichierNom:mt,auteurId:t?.uid};_e?(await Wo.update(_e.id,Gn),xe("Ressource modifie avec succs !")):(await Wo.create(Gn),xe("Ressource cre avec succs !")),an(),await Vt(),setTimeout(()=>xe(null),3e3)}catch(Ue){console.error("Erreur lors de la sauvegarde:",Ue),he("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{q(!1),ue(!1),B(0)}},ji=async()=>{if(oe)try{L(oe.id),oe.fichierUrl&&await Wo.deleteFile(oe.fichierUrl),await Wo.delete(oe.id),xe("Ressource supprime avec succs !"),an(),await Vt(),setTimeout(()=>xe(null),3e3)}catch(ee){console.error("Erreur lors de la suppression:",ee),he("Erreur lors de la suppression. Veuillez ressayer.")}finally{L(null)}},ls=async ee=>{try{await Wo.togglePremium(ee.id,!ee.isPremium),await Vt(),xe(ee.isPremium?"Ressource passe en gratuit":"Ressource passe en Premium"),setTimeout(()=>xe(null),2e3)}catch{he("Erreur lors de la mise  jour")}},sn=ee=>{const Ue=e.find(mt=>mt.id===ee);return Ue?Ue.nom:"Non trouve"},Ni=ee=>{const Ue=r.find(mt=>mt.id===ee);return Ue?`${Ue.numero}. ${Ue.titre}`:""},yr=ee=>Dv.find(Ue=>Ue.value===ee)||Dv[0],ii=ee=>ee<1024?ee+" o":ee<1024*1024?(ee/1024).toFixed(1)+" Ko":(ee/(1024*1024)).toFixed(1)+" Mo";return l.jsxs("div",{className:"resource-manager",children:[l.jsxs("header",{className:"admin-page-header",children:[l.jsxs("div",{className:"admin-page-header__info",children:[l.jsx("h1",{className:"admin-page-header__title",children:"Gestion des Ressources"}),l.jsx("p",{className:"admin-page-header__subtitle",children:"Grez les cours, exercices, vidos et documents pdagogiques"})]}),l.jsx("div",{className:"admin-page-header__actions",children:l.jsxs("button",{onClick:ho,className:"btn btn--primary",disabled:!h||R,children:[l.jsx("span",{children:""}),"Nouvelle ressource"]})})]}),J&&l.jsxs("div",{className:"alert alert--error",children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:J})}),l.jsx("button",{onClick:()=>he(null),className:"alert__close",children:""})]}),Ee&&l.jsxs("div",{className:"alert alert--success",children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:Ee})})]}),l.jsx("div",{className:"content-card",style:{marginBottom:"var(--spacing-lg)"},children:l.jsx("div",{className:"content-card__body",children:l.jsxs("div",{className:"discipline-selector",children:[l.jsx("label",{className:"form-label",children:"Slectionner une discipline :"}),R?l.jsx("p",{className:"text-muted",children:"Chargement des disciplines..."}):e.length===0?l.jsxs("p",{className:"text-muted",children:["Aucune discipline disponible.",l.jsx("a",{href:"/admin/disciplines",children:" Crer une discipline"})]}):l.jsx("div",{className:"discipline-tabs",children:e.map(ee=>l.jsxs("button",{className:`discipline-tab ${h===ee.id?"discipline-tab--active":""}`,onClick:()=>qr(ee.id),style:{"--discipline-color":ee.couleur||"#2563eb"},children:[l.jsx("span",{className:"discipline-tab__icon",children:ee.icone||""}),l.jsx("span",{className:"discipline-tab__name",children:ee.nom}),l.jsx("span",{className:"discipline-tab__class",children:ee.classe})]},ee.id))})]})})}),l.jsxs("div",{className:"admin-table-container",children:[l.jsxs("div",{className:"admin-table-header",children:[l.jsxs("h2",{className:"admin-table-title",children:["Ressources ",h&&`- ${sn(h)}`,u.length>0&&` (${u.length})`]}),l.jsxs("div",{className:"admin-table-actions",children:[l.jsxs("div",{className:"search-input",children:[l.jsx("span",{className:"search-input__icon",children:""}),l.jsx("input",{type:"text",className:"search-input__field",placeholder:"Rechercher...",value:S,onChange:ee=>D(ee.target.value)})]}),l.jsxs("select",{className:"form-select form-select--sm",value:v,onChange:ee=>y(ee.target.value),disabled:$||r.length===0,children:[l.jsx("option",{value:"",children:"Tous les chapitres"}),r.map(ee=>l.jsxs("option",{value:ee.id,children:[ee.numero,". ",ee.titre]},ee.id))]}),l.jsxs("select",{className:"form-select form-select--sm",value:w,onChange:ee=>j(ee.target.value),children:[l.jsx("option",{value:"",children:"Tous les types"}),Dv.map(ee=>l.jsxs("option",{value:ee.value,children:[ee.icon," ",ee.label]},ee.value))]}),l.jsxs("select",{className:"form-select form-select--sm",value:E,onChange:ee=>N(ee.target.value),children:[l.jsx("option",{value:"",children:"Tous"}),l.jsx("option",{value:"premium",children:" Premium"}),l.jsx("option",{value:"free",children:"Gratuit"})]})]})]}),O?l.jsxs("div",{className:"loading-container",style:{padding:"var(--spacing-2xl)"},children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Chargement des ressources..."})]}):h?u.length===0?l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state__icon",children:""}),l.jsx("h3",{className:"empty-state__title",children:"Aucune ressource"}),l.jsx("p",{className:"empty-state__message",children:S||w||E||v?"Aucune ressource ne correspond aux critres de recherche.":"Cette discipline n'a pas encore de ressources."}),!S&&!w&&!E&&!v&&l.jsx("button",{onClick:ho,className:"btn btn--primary",children:"Crer la premire ressource"})]}):l.jsx("div",{className:"resource-list",style:{padding:"var(--spacing-lg)"},children:u.map(ee=>{const Ue=yr(ee.type);return l.jsxs("div",{className:"resource-item",children:[l.jsx("div",{className:`resource-item__icon resource-item__icon--${ee.type}`,style:{backgroundColor:`${Ue.color}15`,color:Ue.color},children:Ue.icon}),l.jsxs("div",{className:"resource-item__content",children:[l.jsxs("div",{className:"resource-item__title",children:[ee.titre,ee.isPremium&&l.jsx("span",{className:"badge badge--premium",children:"Premium"}),!ee.actif&&l.jsx("span",{className:"badge badge--warning",children:"Inactif"})]}),l.jsxs("div",{className:"resource-item__meta",children:[l.jsx("span",{children:Ue.label}),ee.chapitreId&&l.jsxs("span",{children:[" ",Ni(ee.chapitreId)]}),ee.duree&&l.jsxs("span",{children:[" ",ee.duree," min"]}),ee.fichierNom&&l.jsxs("span",{children:[" ",ee.fichierNom]}),ee.tags&&ee.tags.length>0&&l.jsxs("span",{children:[" ",ee.tags.join(", ")]})]})]}),l.jsxs("div",{className:"resource-item__actions",children:[l.jsx("button",{onClick:()=>ls(ee),className:`table-action-btn ${ee.isPremium?"table-action-btn--warning":"table-action-btn--view"}`,title:ee.isPremium?"Passer en gratuit":"Passer en Premium",children:ee.isPremium?"":""}),(ee.fichierUrl||ee.urlExterne)&&l.jsx("button",{onClick:()=>Wi(ee),className:"table-action-btn table-action-btn--view",title:"Prvisualiser",children:""}),l.jsx("button",{onClick:()=>Br(ee),className:"table-action-btn table-action-btn--edit",title:"Modifier",children:""}),l.jsx("button",{onClick:()=>cu(ee),className:"table-action-btn table-action-btn--delete",title:"Supprimer",disabled:U===ee.id,children:U===ee.id?"":""})]})]},ee.id)})}):l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state__icon",children:""}),l.jsx("h3",{className:"empty-state__title",children:"Slectionnez une discipline"}),l.jsx("p",{className:"empty-state__message",children:"Choisissez une discipline ci-dessus pour voir ses ressources."})]})]}),H&&l.jsx("div",{className:"modal-overlay",onClick:an,children:l.jsxs("div",{className:"modal modal--xl",onClick:ee=>ee.stopPropagation(),children:[l.jsxs("div",{className:"modal__header",children:[l.jsx("h2",{className:"modal__title",children:_e?"Modifier la ressource":"Nouvelle ressource"}),l.jsx("button",{onClick:an,className:"modal__close",children:""})]}),l.jsxs("form",{onSubmit:uu,children:[l.jsxs("div",{className:"modal__body",children:[!_e&&l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label form-label--required",children:"Discipline"}),l.jsxs("select",{name:"disciplineId",className:`form-select ${at.disciplineId?"form-select--error":""}`,value:ke.disciplineId,onChange:St,children:[l.jsx("option",{value:"",children:"Slectionner une discipline"}),e.map(ee=>l.jsxs("option",{value:ee.id,children:[ee.icone," ",ee.nom," (",ee.classe,")"]},ee.id))]}),at.disciplineId&&l.jsx("span",{className:"form-error",children:at.disciplineId})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",style:{flex:2},children:[l.jsx("label",{className:"form-label form-label--required",children:"Titre"}),l.jsx("input",{type:"text",name:"titre",className:`form-input ${at.titre?"form-input--error":""}`,placeholder:"Ex: Introduction aux fractions",value:ke.titre,onChange:St}),at.titre&&l.jsx("span",{className:"form-error",children:at.titre})]}),l.jsxs("div",{className:"form-group",style:{flex:1},children:[l.jsx("label",{className:"form-label form-label--required",children:"Type"}),l.jsx("select",{name:"type",className:`form-select ${at.type?"form-select--error":""}`,value:ke.type,onChange:St,children:Dv.map(ee=>l.jsxs("option",{value:ee.value,children:[ee.icon," ",ee.label]},ee.value))}),at.type&&l.jsx("span",{className:"form-error",children:at.type})]})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Chapitre (optionnel)"}),l.jsxs("select",{name:"chapitreId",className:"form-select",value:ke.chapitreId||"",onChange:St,disabled:$,children:[l.jsx("option",{value:"",children:"Aucun chapitre"}),r.map(ee=>l.jsxs("option",{value:ee.id,children:[ee.numero,". ",ee.titre]},ee.id))]})]}),l.jsxs("div",{className:"form-group",style:{flex:"0 0 120px"},children:[l.jsx("label",{className:"form-label",children:"Ordre"}),l.jsx("input",{type:"number",name:"ordre",className:"form-input",min:"1",value:ke.ordre,onChange:St})]}),l.jsxs("div",{className:"form-group",style:{flex:"0 0 120px"},children:[l.jsx("label",{className:"form-label",children:"Dure (min)"}),l.jsx("input",{type:"number",name:"duree",className:"form-input",min:"0",placeholder:"Ex: 30",value:ke.duree||"",onChange:St})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Description"}),l.jsx("textarea",{name:"description",className:"form-textarea",rows:3,placeholder:"Description de la ressource...",value:ke.description||"",onChange:St})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{className:"form-label",children:["Fichier",l.jsxs("span",{className:"form-helper",style:{marginLeft:"var(--spacing-sm)"},children:["(",kv[ke.type].join(", ")," - max ",Rx," Mo)"]})]}),l.jsxs("div",{className:"file-upload",children:[l.jsx("input",{ref:Ur,type:"file",accept:kv[ke.type].join(","),onChange:$r,className:"file-upload__input",id:"file-input"}),!vt&&!It?l.jsxs("label",{htmlFor:"file-input",className:"file-upload__dropzone",children:[l.jsx("div",{className:"file-upload__icon",children:""}),l.jsx("p",{className:"file-upload__text",children:"Cliquez ou glissez un fichier ici"}),l.jsx("p",{className:"file-upload__hint",children:kv[ke.type].join(", ")})]}):l.jsxs("div",{className:"file-upload__preview",children:[vt?.type.startsWith("image/")&&It&&l.jsx("img",{src:It,alt:"Aperu",className:"file-preview__image"}),vt?.type.startsWith("video/")&&It&&l.jsx("video",{src:It,controls:!0,className:"file-preview__video"}),!vt?.type.startsWith("image/")&&!vt?.type.startsWith("video/")&&l.jsx("div",{className:"file-preview__document",children:l.jsx("span",{className:"file-preview__icon",children:yr(ke.type).icon})}),l.jsxs("div",{className:"file-preview__info",children:[l.jsx("p",{className:"file-preview__name",children:vt?.name||_e?.fichierNom}),vt&&l.jsx("p",{className:"file-preview__size",children:ii(vt.size)})]}),l.jsx("button",{type:"button",onClick:en,className:"file-preview__remove",children:""})]})]}),at.fichier&&l.jsx("span",{className:"form-error",children:at.fichier}),M&&l.jsxs("div",{className:"upload-progress",children:[l.jsx("div",{className:"upload-progress__bar",style:{width:`${Z}%`}}),l.jsxs("span",{className:"upload-progress__text",children:[Z,"%"]})]})]}),ke.type==="video"&&l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"URL externe (YouTube, Vimeo...)"}),l.jsx("input",{type:"url",name:"urlExterne",className:"form-input",placeholder:"https://www.youtube.com/watch?v=...",value:ke.urlExterne||"",onChange:St}),l.jsx("span",{className:"form-helper",children:"Alternative  l'upload de fichier"})]}),ke.type==="cours"&&l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Contenu du cours"}),l.jsx("textarea",{name:"contenu",className:"form-textarea",rows:6,placeholder:"Saisissez le contenu du cours ici...",value:ke.contenu||"",onChange:St}),l.jsx("span",{className:"form-helper",children:"Optionnel si vous uploadez un fichier"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Tags"}),l.jsxs("div",{className:"tags-input",children:[l.jsx("input",{type:"text",className:"form-input",placeholder:"Ajouter un tag...",value:de,onChange:ee=>Ie(ee.target.value),onKeyPress:ee=>ee.key==="Enter"&&(ee.preventDefault(),Ul())}),l.jsx("button",{type:"button",onClick:Ul,className:"btn btn--outline btn--sm",children:"Ajouter"})]}),ke.tags&&ke.tags.length>0&&l.jsx("div",{className:"tags-list",children:ke.tags.map((ee,Ue)=>l.jsxs("span",{className:"tag",children:[ee,l.jsx("button",{type:"button",onClick:()=>mo(Ue),className:"tag__remove",children:""})]},Ue))})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Options"}),l.jsxs("div",{className:"form-options",children:[l.jsxs("label",{className:"form-checkbox",children:[l.jsx("input",{type:"checkbox",name:"isPremium",checked:ke.isPremium,onChange:St}),l.jsx("span",{children:"Contenu Premium "})]}),l.jsxs("label",{className:"form-checkbox",children:[l.jsx("input",{type:"checkbox",name:"actif",checked:ke.actif!==!1,onChange:St}),l.jsx("span",{children:"Ressource active"})]})]})]})]}),l.jsxs("div",{className:"modal__footer",children:[l.jsx("button",{type:"button",onClick:an,className:"btn btn--outline",disabled:k||M,children:"Annuler"}),l.jsx("button",{type:"submit",className:"btn btn--primary",disabled:k||M,children:k||M?M?`Upload ${Z}%...`:"Enregistrement...":_e?"Mettre  jour":"Crer la ressource"})]})]})]})}),Y&&Q&&l.jsx("div",{className:"modal-overlay",onClick:an,children:l.jsxs("div",{className:"modal modal--xl",onClick:ee=>ee.stopPropagation(),children:[l.jsxs("div",{className:"modal__header",children:[l.jsxs("h2",{className:"modal__title",children:[yr(Q.type).icon," ",Q.titre]}),l.jsx("button",{onClick:an,className:"modal__close",children:""})]}),l.jsxs("div",{className:"modal__body",children:[Q.type==="video"&&Q.urlExterne?l.jsx("div",{className:"preview-video",children:l.jsx("iframe",{src:Q.urlExterne.replace("watch?v=","embed/"),title:Q.titre,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):Q.fichierUrl?l.jsx("div",{className:"preview-file",children:Q.fichierUrl.match(/\.(jpg|jpeg|png|gif|webp)$/i)?l.jsx("img",{src:Q.fichierUrl,alt:Q.titre}):Q.fichierUrl.match(/\.(mp4|webm)$/i)?l.jsx("video",{src:Q.fichierUrl,controls:!0}):Q.fichierUrl.match(/\.pdf$/i)?l.jsx("iframe",{src:Q.fichierUrl,title:Q.titre}):l.jsxs("div",{className:"preview-download",children:[l.jsx("span",{className:"preview-download__icon",children:yr(Q.type).icon}),l.jsx("p",{children:Q.fichierNom}),l.jsx("a",{href:Q.fichierUrl,target:"_blank",rel:"noopener noreferrer",className:"btn btn--primary",children:"Tlcharger"})]})}):Q.contenu?l.jsx("div",{className:"preview-content",children:l.jsx("p",{children:Q.contenu})}):l.jsx("div",{className:"preview-empty",children:l.jsx("p",{children:"Aucun contenu  prvisualiser"})}),l.jsxs("div",{className:"preview-info",children:[Q.description&&l.jsx("p",{className:"preview-description",children:Q.description}),l.jsxs("div",{className:"preview-meta",children:[l.jsxs("span",{children:["Type : ",yr(Q.type).label]}),Q.duree&&l.jsxs("span",{children:["Dure : ",Q.duree," min"]}),Q.isPremium&&l.jsx("span",{className:"badge badge--premium",children:"Premium"})]})]})]})]})}),ye&&oe&&l.jsx("div",{className:"modal-overlay",onClick:an,children:l.jsxs("div",{className:"modal",onClick:ee=>ee.stopPropagation(),children:[l.jsxs("div",{className:"modal__header",children:[l.jsx("h2",{className:"modal__title",children:"Confirmer la suppression"}),l.jsx("button",{onClick:an,className:"modal__close",children:""})]}),l.jsxs("div",{className:"modal__body",children:[l.jsxs("p",{children:["Supprimer la ressource ",l.jsx("strong",{children:oe.titre})," ?"]}),oe.fichierUrl&&l.jsxs("div",{className:"alert alert--warning",style:{marginTop:"var(--spacing-md)"},children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:"Le fichier associ sera galement supprim de faon permanente."})})]})]}),l.jsxs("div",{className:"modal__footer",children:[l.jsx("button",{onClick:an,className:"btn btn--outline",children:"Annuler"}),l.jsx("button",{onClick:ji,className:"btn btn--danger",disabled:U!==null,children:U?"Suppression...":"Supprimer"})]})]})}),l.jsx("style",{children:`
        /* ==================== SLECTEUR DE DISCIPLINE ==================== */
        
        .discipline-tabs {
          display: flex;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
          margin-top: var(--spacing-md);
        }

        .discipline-tab {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          padding: var(--spacing-sm) var(--spacing-md);
          border: 2px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: white;
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .discipline-tab:hover {
          border-color: var(--discipline-color, var(--color-primary));
        }

        .discipline-tab--active {
          border-color: var(--discipline-color, var(--color-primary));
          background: color-mix(in srgb, var(--discipline-color, var(--color-primary)) 10%, white);
        }

        .discipline-tab__icon {
          font-size: var(--text-lg);
        }

        .discipline-tab__name {
          font-weight: var(--font-medium);
        }

        .discipline-tab__class {
          font-size: var(--text-xs);
          color: var(--color-text-light);
          background: var(--color-bg-secondary);
          padding: 2px 6px;
          border-radius: var(--radius-sm);
        }

        /* ==================== FORMULAIRE ==================== */
        
        .form-row {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: var(--spacing-lg);
        }

        .form-options {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-lg);
          margin-top: var(--spacing-sm);
        }

        .form-select--sm {
          padding: var(--spacing-sm) var(--spacing-md);
          font-size: var(--text-sm);
          min-width: 140px;
        }

        /* ==================== UPLOAD DE FICHIER ==================== */
        
        .file-upload {
          position: relative;
        }

        .file-upload__input {
          position: absolute;
          opacity: 0;
          pointer-events: none;
        }

        .file-upload__dropzone {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: var(--spacing-xl);
          border: 2px dashed var(--color-border);
          border-radius: var(--radius-lg);
          background: var(--color-bg-secondary);
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .file-upload__dropzone:hover {
          border-color: var(--color-primary);
          background: rgba(37, 99, 235, 0.05);
        }

        .file-upload__icon {
          font-size: 48px;
          margin-bottom: var(--spacing-md);
        }

        .file-upload__text {
          font-weight: var(--font-medium);
          margin-bottom: var(--spacing-xs);
        }

        .file-upload__hint {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        .file-upload__preview {
          display: flex;
          align-items: center;
          gap: var(--spacing-lg);
          padding: var(--spacing-md);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: var(--color-bg-secondary);
        }

        .file-preview__image,
        .file-preview__video {
          width: 120px;
          height: 80px;
          object-fit: cover;
          border-radius: var(--radius-md);
        }

        .file-preview__document {
          width: 80px;
          height: 80px;
          background: white;
          border: 1px solid var(--color-border);
          border-radius: var(--radius-md);
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .file-preview__icon {
          font-size: 32px;
        }

        .file-preview__info {
          flex: 1;
        }

        .file-preview__name {
          font-weight: var(--font-medium);
          margin-bottom: var(--spacing-xs);
          word-break: break-all;
        }

        .file-preview__size {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        .file-preview__remove {
          width: 32px;
          height: 32px;
          border: none;
          background: var(--color-error);
          color: white;
          border-radius: 50%;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all var(--transition-base);
        }

        .file-preview__remove:hover {
          background: #dc2626;
          transform: scale(1.1);
        }

        /* ==================== BARRE DE PROGRESSION ==================== */
        
        .upload-progress {
          margin-top: var(--spacing-md);
          height: 8px;
          background: var(--color-bg-tertiary);
          border-radius: var(--radius-full);
          overflow: hidden;
          position: relative;
        }

        .upload-progress__bar {
          height: 100%;
          background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
          border-radius: var(--radius-full);
          transition: width var(--transition-base);
        }

        .upload-progress__text {
          position: absolute;
          right: var(--spacing-sm);
          top: 50%;
          transform: translateY(-50%);
          font-size: var(--text-xs);
          font-weight: var(--font-semibold);
          color: var(--color-text);
        }

        /* ==================== TAGS ==================== */
        
        .tags-input {
          display: flex;
          gap: var(--spacing-sm);
        }

        .tags-list {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-sm);
          margin-top: var(--spacing-md);
        }

        .tag {
          display: inline-flex;
          align-items: center;
          gap: var(--spacing-xs);
          padding: var(--spacing-xs) var(--spacing-sm);
          background: var(--color-bg-tertiary);
          border-radius: var(--radius-full);
          font-size: var(--text-sm);
          color: var(--color-text);
        }

        .tag__remove {
          width: 18px;
          height: 18px;
          border: none;
          background: transparent;
          color: var(--color-text-light);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
          transition: all var(--transition-base);
        }

        .tag__remove:hover {
          background: var(--color-error);
          color: white;
        }

        /* ==================== PRVISUALISATION ==================== */
        
        .preview-video {
          position: relative;
          padding-bottom: 56.25%;
          height: 0;
          overflow: hidden;
          border-radius: var(--radius-lg);
        }

        .preview-video iframe {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          border: none;
        }

        .preview-file {
          text-align: center;
        }

        .preview-file img,
        .preview-file video {
          max-width: 100%;
          max-height: 60vh;
          border-radius: var(--radius-lg);
        }

        .preview-file iframe {
          width: 100%;
          height: 60vh;
          border: none;
          border-radius: var(--radius-lg);
        }

        .preview-download {
          padding: var(--spacing-2xl);
          text-align: center;
        }

        .preview-download__icon {
          font-size: 64px;
          display: block;
          margin-bottom: var(--spacing-lg);
        }

        .preview-content {
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-lg);
          white-space: pre-wrap;
        }

        .preview-empty {
          padding: var(--spacing-2xl);
          text-align: center;
          color: var(--color-text-light);
        }

        .preview-info {
          margin-top: var(--spacing-lg);
          padding-top: var(--spacing-lg);
          border-top: 1px solid var(--color-border);
        }

        .preview-description {
          color: var(--color-text-light);
          margin-bottom: var(--spacing-md);
        }

        .preview-meta {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-lg);
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        /* ==================== RESSOURCES - AFFICHAGE CARTE ==================== */
        
        .resource-item__title {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
        }

        /* ==================== ACTION WARNING ==================== */
        
        .table-action-btn--warning {
          color: var(--color-warning);
        }

        /* ==================== RESPONSIVE ==================== */
        
        @media (max-width: 768px) {
          .form-row {
            grid-template-columns: 1fr;
          }

          .admin-table-actions {
            flex-direction: column;
            align-items: stretch;
          }

          .search-input__field {
            width: 100%;
          }

          .file-upload__preview {
            flex-direction: column;
            text-align: center;
          }

          .preview-meta {
            flex-direction: column;
            gap: var(--spacing-sm);
          }
        }
      `})]})},g3=Nn(Le,"quizzes"),y3=async t=>{try{let e=ir(g3,Fi("titre","asc"));t?.disciplineId;let r=(await ar(e)).docs.map(i=>({id:i.id,...i.data()}));return t?.isPremium,t?.difficulte,r}catch(e){throw console.error("Erreur lors de la rcupration des quiz :",e),e}},gZ=async t=>{try{const e=await pa(_t(Le,"quizzes",t));return e.exists()?{id:e.id,...e.data()}:null}catch(e){throw console.error("Erreur lors de la rcupration du quiz :",e),e}},yZ=async t=>{try{return(await Rl(g3,{...t,createdAt:nt.now(),updatedAt:nt.now()})).id}catch(e){throw console.error("Erreur lors de la cration du quiz :",e),e}},bZ=async(t,e)=>{try{await Mr(_t(Le,"quizzes",t),{...e,updatedAt:nt.now()})}catch(n){throw console.error("Erreur lors de la mise  jour du quiz :",n),n}},_Z=async t=>{try{await Rm(_t(Le,"quizzes",t))}catch(e){throw console.error("Erreur lors de la suppression du quiz :",e),e}},xZ=()=>`q_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,FO=()=>({id:xZ(),question:"",options:["","","",""],reponseCorrecte:0,explication:"",difficulte:"moyen",points:1}),HO=t=>{const e=t.questions||[],n=e.reduce((i,s)=>i+(s.points||1),0),r={facile:e.filter(i=>i.difficulte==="facile").length,moyen:e.filter(i=>i.difficulte==="moyen").length,difficile:e.filter(i=>i.difficulte==="difficile").length};return{nombreQuestions:e.length,totalPoints:n,parDifficulte:r,duree:t.duree||0}},wZ=()=>{const[t,e]=_.useState([]),[n,r]=_.useState([]),[i,s]=_.useState(!0),[c,u]=_.useState(null),[f,h]=_.useState(null),[p,v]=_.useState(""),[y,w]=_.useState(""),[j,E]=_.useState(""),[N,S]=_.useState(""),[D,R]=_.useState(!1),[I,$]=_.useState("list"),[z,O]=_.useState(null),[C,k]=_.useState({disciplineId:"",titre:"",questions:[],duree:15,isPremium:!1,noteMinimale:50}),[q,U]=_.useState(null),[L,M]=_.useState(!1),[ue,Z]=_.useState(null),[B,J]=_.useState(null),[he,Ee]=_.useState({}),[xe,H]=_.useState(!1),ae=_.useCallback(async()=>{s(!0),u(null);try{const[de,Ie]=await Promise.all([y3(),Rs.getAll()]);e(de),r(Ie.map(qe=>({id:qe.id,nom:qe.nom||qe.name||qe.id})))}catch(de){u("Erreur lors du chargement des donnes."),console.error(de)}finally{s(!1)}},[]);_.useEffect(()=>{ae()},[ae]),_.useEffect(()=>{if(f){const de=setTimeout(()=>h(null),4e3);return()=>clearTimeout(de)}},[f]);const ye=t.filter(de=>{if(p){const Ie=p.toLowerCase();if(!de.titre.toLowerCase().includes(Ie))return!1}return!(y&&de.disciplineId!==y||j==="true"&&!de.isPremium||j==="false"&&de.isPremium||N&&!de.questions?.some(qe=>qe.difficulte===N))}),we=()=>{O(null),k({disciplineId:"",titre:"",questions:[FO()],duree:15,isPremium:!1,noteMinimale:50}),U(null),$("form")},Y=de=>{O(de),k({disciplineId:de.disciplineId,titre:de.titre,questions:de.questions||[],duree:de.duree||15,isPremium:de.isPremium||!1,noteMinimale:de.noteMinimale||50}),U(null),$("form")},W=async()=>{if(!C.titre.trim()){u("Le titre du quiz est obligatoire.");return}if(!C.disciplineId){u("Veuillez slectionner une discipline.");return}if(C.questions.length===0){u("Le quiz doit contenir au moins une question.");return}for(let de=0;de<C.questions.length;de++){const Ie=C.questions[de];if(!Ie.question.trim()){u(`La question ${de+1} n'a pas d'nonc.`);return}if(Ie.options.filter(Ge=>!Ge.trim()).length>0){u(`La question ${de+1} a des options vides.`);return}}M(!0),u(null);try{z?(await bZ(z.id,C),h("Quiz mis  jour avec succs !")):(await yZ(C),h("Quiz cr avec succs !")),await ae(),$("list")}catch(de){u("Erreur lors de la sauvegarde du quiz."),console.error(de)}finally{M(!1)}},_e=async de=>{try{await _Z(de),h("Quiz supprim avec succs."),Z(null),await ae()}catch(Ie){u("Erreur lors de la suppression du quiz."),console.error(Ie)}},Ve=()=>{const de=FO();k(Ie=>({...Ie,questions:[...Ie.questions,de]})),U(de.id)},oe=de=>{const Ie=C.questions.find(Vn=>Vn.id===de);if(!Ie)return;const qe={...Ie,id:`q_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,question:`${Ie.question} (copie)`},Ge=C.questions.findIndex(Vn=>Vn.id===de),Vt=[...C.questions];Vt.splice(Ge+1,0,qe),k(Vn=>({...Vn,questions:Vt})),U(qe.id)},Ae=de=>{k(Ie=>({...Ie,questions:Ie.questions.filter(qe=>qe.id!==de)})),q===de&&U(null)},Q=(de,Ie,qe)=>{k(Ge=>({...Ge,questions:Ge.questions.map(Vt=>Vt.id===de?{...Vt,[Ie]:qe}:Vt)}))},ve=(de,Ie,qe)=>{k(Ge=>({...Ge,questions:Ge.questions.map(Vt=>Vt.id===de?{...Vt,options:Vt.options.map((Vn,qr)=>qr===Ie?qe:Vn)}:Vt)}))},ke=de=>{J(de),Ee({}),H(!1),$("preview")},$e=(de,Ie)=>{xe||Ee(qe=>({...qe,[de]:Ie}))},at=()=>{H(!0)},dt=de=>n.find(Ie=>Ie.id===de)?.nom||de,vt=({level:de})=>{const Ie={facile:"quiz-badge-facile",moyen:"quiz-badge-moyen",difficile:"quiz-badge-difficile"};return l.jsx("span",{className:`quiz-badge ${Ie[de]||"quiz-badge-moyen"}`,children:de.charAt(0).toUpperCase()+de.slice(1)})},gr=()=>l.jsxs(l.Fragment,{children:[c&&l.jsxs("div",{className:"admin-message admin-message-error",children:[l.jsx(zg,{size:18}),l.jsx("span",{children:c}),l.jsx("button",{onClick:()=>u(null),className:"admin-message-close",children:l.jsx(Dc,{size:16})})]}),f&&l.jsxs("div",{className:"admin-message admin-message-success",children:[l.jsx(xn,{size:18}),l.jsx("span",{children:f})]})]}),It=()=>l.jsxs("div",{className:"quiz-manager",children:[l.jsxs("div",{className:"admin-header",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"admin-title",children:[l.jsx(Rr,{size:24})," Gestion des Quiz"]}),l.jsxs("p",{className:"admin-subtitle",children:[t.length," quiz au total  ",ye.length," affich(s)"]})]}),l.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:we,children:[l.jsx(Iv,{size:18})," Nouveau Quiz"]})]}),l.jsxs("div",{className:"admin-toolbar",children:[l.jsxs("div",{className:"admin-search-wrapper",children:[l.jsx(aN,{size:18,className:"admin-search-icon"}),l.jsx("input",{type:"text",className:"admin-search-input",placeholder:"Rechercher un quiz...",value:p,onChange:de=>v(de.target.value)})]}),l.jsxs("button",{className:`admin-btn admin-btn-outline ${D?"active":""}`,onClick:()=>R(!D),children:[l.jsx(h3,{size:16})," Filtres",D?l.jsx(Kw,{size:14}):l.jsx(Mg,{size:14})]})]}),D&&l.jsxs("div",{className:"admin-filters-panel",children:[l.jsxs("div",{className:"admin-filter-group",children:[l.jsx("label",{className:"admin-filter-label",children:"Discipline"}),l.jsxs("select",{className:"admin-select",value:y,onChange:de=>w(de.target.value),children:[l.jsx("option",{value:"",children:"Toutes les disciplines"}),n.map(de=>l.jsx("option",{value:de.id,children:de.nom},de.id))]})]}),l.jsxs("div",{className:"admin-filter-group",children:[l.jsx("label",{className:"admin-filter-label",children:"Accs"}),l.jsxs("select",{className:"admin-select",value:j,onChange:de=>E(de.target.value),children:[l.jsx("option",{value:"",children:"Tous"}),l.jsx("option",{value:"false",children:"Gratuit"}),l.jsx("option",{value:"true",children:"Premium"})]})]}),l.jsxs("div",{className:"admin-filter-group",children:[l.jsx("label",{className:"admin-filter-label",children:"Difficult"}),l.jsxs("select",{className:"admin-select",value:N,onChange:de=>S(de.target.value),children:[l.jsx("option",{value:"",children:"Toutes"}),l.jsx("option",{value:"facile",children:"Facile"}),l.jsx("option",{value:"moyen",children:"Moyen"}),l.jsx("option",{value:"difficile",children:"Difficile"})]})]}),l.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{w(""),E(""),S(""),v("")},children:"Rinitialiser"})]}),i?l.jsxs("div",{className:"admin-loading",children:[l.jsx("div",{className:"admin-spinner"}),l.jsx("p",{children:"Chargement des quiz..."})]}):ye.length===0?l.jsxs("div",{className:"admin-empty-state",children:[l.jsx(lg,{size:48}),l.jsx("h3",{children:"Aucun quiz trouv"}),l.jsx("p",{children:t.length===0?"Crez votre premier quiz pour vos lves.":"Aucun quiz ne correspond  vos filtres."}),t.length===0&&l.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:we,children:[l.jsx(Iv,{size:18})," Crer un quiz"]})]}):l.jsx("div",{className:"quiz-grid",children:ye.map(de=>{const Ie=HO(de);return l.jsxs("div",{className:"quiz-card",children:[l.jsxs("div",{className:"quiz-card-header",children:[l.jsxs("div",{className:"quiz-card-title-row",children:[l.jsx("h3",{className:"quiz-card-title",children:de.titre}),de.isPremium&&l.jsxs("span",{className:"quiz-badge quiz-badge-premium",children:[l.jsx(bi,{size:12})," Premium"]})]}),l.jsx("span",{className:"quiz-card-discipline",children:dt(de.disciplineId)})]}),l.jsxs("div",{className:"quiz-card-stats",children:[l.jsxs("div",{className:"quiz-stat",children:[l.jsx(lg,{size:14}),l.jsxs("span",{children:[Ie.nombreQuestions," question(s)"]})]}),l.jsxs("div",{className:"quiz-stat",children:[l.jsx(Ya,{size:14}),l.jsxs("span",{children:[Ie.totalPoints," pts"]})]}),l.jsxs("div",{className:"quiz-stat",children:[l.jsx(El,{size:14}),l.jsxs("span",{children:[Ie.duree," min"]})]})]}),l.jsxs("div",{className:"quiz-card-difficulty",children:[Ie.parDifficulte.facile>0&&l.jsx(vt,{level:"facile"}),Ie.parDifficulte.moyen>0&&l.jsx(vt,{level:"moyen"}),Ie.parDifficulte.difficile>0&&l.jsx(vt,{level:"difficile"})]}),l.jsxs("div",{className:"quiz-card-actions",children:[l.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>ke(de),title:"Prvisualiser",children:[l.jsx(Zh,{size:14})," Aperu"]}),l.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>Y(de),title:"Modifier",children:[l.jsx(rX,{size:14})," Modifier"]}),ue===de.id?l.jsxs("div",{className:"quiz-delete-confirm",children:[l.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-danger",onClick:()=>_e(de.id),children:"Confirmer"}),l.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-ghost",onClick:()=>Z(null),children:"Annuler"})]}):l.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-danger-outline",onClick:()=>Z(de.id),title:"Supprimer",children:l.jsx(kO,{size:14})})]})]},de.id)})})]}),Rt=()=>l.jsxs("div",{className:"quiz-manager",children:[l.jsxs("div",{className:"admin-header",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"admin-title",children:[l.jsx(Rr,{size:24}),z?"Modifier le quiz":"Nouveau quiz"]}),l.jsxs("p",{className:"admin-subtitle",children:[C.questions.length," question(s) ajoute(s)"]})]}),l.jsxs("div",{className:"admin-header-actions",children:[l.jsxs("button",{className:"admin-btn admin-btn-ghost",onClick:()=>$("list"),children:[l.jsx(Dc,{size:18})," Annuler"]}),l.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:W,disabled:L,children:[l.jsx(fX,{size:18})," ",L?"Enregistrement...":"Enregistrer"]})]})]}),l.jsxs("div",{className:"admin-card quiz-form-section",children:[l.jsx("h3",{className:"quiz-form-section-title",children:"Informations gnrales"}),l.jsxs("div",{className:"quiz-form-grid",children:[l.jsxs("div",{className:"admin-form-group quiz-form-full",children:[l.jsx("label",{className:"admin-label",children:"Titre du quiz *"}),l.jsx("input",{type:"text",className:"admin-input",placeholder:"Ex : Quiz - Les Misrables, Chapitre 1",value:C.titre,onChange:de=>k(Ie=>({...Ie,titre:de.target.value}))})]}),l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Discipline *"}),l.jsxs("select",{className:"admin-select",value:C.disciplineId,onChange:de=>k(Ie=>({...Ie,disciplineId:de.target.value})),children:[l.jsx("option",{value:"",children:"-- Slectionner --"}),n.map(de=>l.jsx("option",{value:de.id,children:de.nom},de.id))]})]}),l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Dure (minutes)"}),l.jsx("input",{type:"number",className:"admin-input",min:1,max:180,value:C.duree,onChange:de=>k(Ie=>({...Ie,duree:parseInt(de.target.value)||15}))})]}),l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Note minimale (%)"}),l.jsx("input",{type:"number",className:"admin-input",min:0,max:100,value:C.noteMinimale,onChange:de=>k(Ie=>({...Ie,noteMinimale:parseInt(de.target.value)||50}))})]}),l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Accs"}),l.jsxs("div",{className:`quiz-toggle ${C.isPremium?"quiz-toggle-active":""}`,onClick:()=>k(de=>({...de,isPremium:!de.isPremium})),children:[l.jsx(bi,{size:16}),l.jsx("span",{children:C.isPremium?"Premium (2 000 FCFA/mois)":"Gratuit"})]})]})]})]}),l.jsxs("div",{className:"admin-card quiz-form-section",children:[l.jsxs("div",{className:"quiz-questions-header",children:[l.jsxs("h3",{className:"quiz-form-section-title",children:["Questions (",C.questions.length,")"]}),l.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-primary",onClick:Ve,children:[l.jsx(Iv,{size:14})," Ajouter une question"]})]}),C.questions.length===0?l.jsxs("div",{className:"admin-empty-state",style:{padding:"2rem"},children:[l.jsx(lg,{size:36}),l.jsx("p",{children:'Aucune question. Cliquez sur "Ajouter une question" pour commencer.'})]}):l.jsx("div",{className:"quiz-questions-list",children:C.questions.map((de,Ie)=>l.jsxs("div",{className:`quiz-question-item ${q===de.id?"expanded":""}`,children:[l.jsxs("div",{className:"quiz-question-header",onClick:()=>U(q===de.id?null:de.id),children:[l.jsxs("div",{className:"quiz-question-header-left",children:[l.jsx(LY,{size:16,className:"quiz-grip-icon"}),l.jsxs("span",{className:"quiz-question-number",children:["Q",Ie+1]}),l.jsx("span",{className:"quiz-question-preview",children:de.question||"Question sans nonc..."})]}),l.jsxs("div",{className:"quiz-question-header-right",children:[l.jsx(vt,{level:de.difficulte||"moyen"}),l.jsxs("span",{className:"quiz-question-points",children:[de.points," pt(s)"]}),q===de.id?l.jsx(Kw,{size:16}):l.jsx(Mg,{size:16})]})]}),q===de.id&&l.jsxs("div",{className:"quiz-question-body",children:[l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"nonc de la question *"}),l.jsx("textarea",{className:"admin-textarea",rows:2,placeholder:"Ex : Quel est le personnage principal du roman ?",value:de.question,onChange:qe=>Q(de.id,"question",qe.target.value)})]}),l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Options de rponse (cliquez sur la bonne rponse)"}),l.jsx("div",{className:"quiz-options-grid",children:de.options.map((qe,Ge)=>l.jsxs("div",{className:`quiz-option-item ${de.reponseCorrecte===Ge?"quiz-option-correct":""}`,children:[l.jsx("button",{type:"button",className:`quiz-option-radio ${de.reponseCorrecte===Ge?"active":""}`,onClick:()=>Q(de.id,"reponseCorrecte",Ge),title:de.reponseCorrecte===Ge?"Bonne rponse":"Marquer comme bonne rponse",children:de.reponseCorrecte===Ge?l.jsx(xn,{size:16}):l.jsx("span",{className:"quiz-option-letter",children:String.fromCharCode(65+Ge)})}),l.jsx("input",{type:"text",className:"admin-input",placeholder:`Option ${String.fromCharCode(65+Ge)}`,value:qe,onChange:Vt=>ve(de.id,Ge,Vt.target.value)})]},Ge))})]}),l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Explication (affiche aprs rponse)"}),l.jsx("textarea",{className:"admin-textarea",rows:2,placeholder:"Ex : Jean Valjean est le protagoniste du roman de Victor Hugo...",value:de.explication,onChange:qe=>Q(de.id,"explication",qe.target.value)})]}),l.jsxs("div",{className:"quiz-question-meta",children:[l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Difficult"}),l.jsxs("select",{className:"admin-select",value:de.difficulte,onChange:qe=>Q(de.id,"difficulte",qe.target.value),children:[l.jsx("option",{value:"facile",children:"Facile"}),l.jsx("option",{value:"moyen",children:"Moyen"}),l.jsx("option",{value:"difficile",children:"Difficile"})]})]}),l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Points"}),l.jsx("input",{type:"number",className:"admin-input",min:1,max:10,value:de.points,onChange:qe=>Q(de.id,"points",parseInt(qe.target.value)||1)})]})]}),l.jsxs("div",{className:"quiz-question-actions",children:[l.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>oe(de.id),children:[l.jsx(TY,{size:14})," Dupliquer"]}),l.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-danger-outline",onClick:()=>Ae(de.id),children:[l.jsx(kO,{size:14})," Supprimer"]})]})]})]},de.id))}),C.questions.length>0&&l.jsx("div",{className:"quiz-add-question-bottom",children:l.jsxs("button",{className:"admin-btn admin-btn-outline",onClick:Ve,children:[l.jsx(Iv,{size:16})," Ajouter une question"]})})]})]}),Ur=()=>{if(!B)return null;const de=HO(B);let Ie=0,qe=0;return xe&&B.questions.forEach(Ge=>{qe+=Ge.points||1,he[Ge.id]===Ge.reponseCorrecte&&(Ie+=Ge.points||1)}),l.jsxs("div",{className:"quiz-manager",children:[l.jsxs("div",{className:"admin-header",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"admin-title",children:[l.jsx(Zh,{size:24})," Prvisualisation : ",B.titre]}),l.jsxs("p",{className:"admin-subtitle",children:[dt(B.disciplineId),"  ",de.nombreQuestions," questions  ",de.duree," min"]})]}),l.jsxs("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{$("list"),J(null)},children:[l.jsx(Dc,{size:18})," Fermer"]})]}),xe&&l.jsxs("div",{className:`quiz-preview-score ${Ie/qe>=(B.noteMinimale||50)/100?"success":"fail"}`,children:[l.jsx(Ya,{size:32}),l.jsxs("div",{children:[l.jsxs("h3",{children:["Score : ",Ie,"/",qe," (",Math.round(Ie/qe*100),"%)"]}),l.jsxs("p",{children:["Note minimale : ",B.noteMinimale||50,"% "," ",Ie/qe>=(B.noteMinimale||50)/100?" Russi !":" Non russi"]})]})]}),l.jsx("div",{className:"quiz-preview-questions",children:B.questions.map((Ge,Vt)=>{const Vn=he[Ge.id],qr=Vn===Ge.reponseCorrecte;return l.jsxs("div",{className:"admin-card quiz-preview-question",children:[l.jsxs("div",{className:"quiz-preview-question-header",children:[l.jsxs("span",{className:"quiz-question-number",children:["Q",Vt+1]}),l.jsx(vt,{level:Ge.difficulte||"moyen"}),l.jsxs("span",{className:"quiz-question-points",children:[Ge.points," pt(s)"]})]}),l.jsx("p",{className:"quiz-preview-question-text",children:Ge.question}),l.jsx("div",{className:"quiz-preview-options",children:Ge.options.map((ho,Br)=>{let Wi="quiz-preview-option";return xe?Br===Ge.reponseCorrecte?Wi+=" correct":Br===Vn&&!qr&&(Wi+=" incorrect"):Vn===Br&&(Wi+=" selected"),l.jsxs("button",{className:Wi,onClick:()=>$e(Ge.id,Br),disabled:xe,children:[l.jsx("span",{className:"quiz-preview-option-letter",children:String.fromCharCode(65+Br)}),l.jsx("span",{children:ho}),xe&&Br===Ge.reponseCorrecte&&l.jsx(xn,{size:16,className:"quiz-preview-check"})]},Br)})}),xe&&Ge.explication&&l.jsxs("div",{className:"quiz-preview-explication",children:[l.jsx("strong",{children:"Explication :"})," ",Ge.explication]})]},Ge.id)})}),!xe&&l.jsx("div",{className:"quiz-preview-submit",children:l.jsxs("button",{className:"admin-btn admin-btn-primary admin-btn-lg",onClick:at,disabled:Object.keys(he).length<B.questions.length,children:[l.jsx(xn,{size:18})," Soumettre (",Object.keys(he).length,"/",B.questions.length,")"]})})]})};return l.jsxs("div",{className:"admin-container",children:[gr(),I==="list"&&It(),I==="form"&&Rt(),I==="preview"&&Ur()]})},b3=Nn(Le,"users"),EZ=Nn(Le,"quizResults"),jZ=async t=>{try{let e=ir(b3,Fi("displayName","asc"));t?.role;let r=(await ar(e)).docs.map(i=>({uid:i.id,...i.data()}));return t?.isPremium,t?.isActive,t?.search,r}catch(e){throw console.error("Erreur lors de la rcupration des utilisateurs :",e),e}},NZ=async(t,e)=>{try{await Mr(_t(Le,"users",t),{role:e,updatedAt:nt.now()})}catch(n){throw console.error("Erreur lors de la mise  jour du rle :",n),n}},AZ=async(t,e)=>{try{const n={isPremium:e,updatedAt:nt.now()};if(e){const r=new Date;r.setDate(r.getDate()+30),n.subscriptionEnd=nt.fromDate(r)}else n.subscriptionEnd=null;await Mr(_t(Le,"users",t),n)}catch(n){throw console.error("Erreur lors de la mise  jour du statut Premium :",n),n}},SZ=async(t,e)=>{try{await Mr(_t(Le,"users",t),{isActive:e,updatedAt:nt.now()})}catch(n){throw console.error("Erreur lors du changement de statut du compte :",n),n}},TZ=async t=>{try{const e=ir(EZ,tn("userId","==",t)),r=(await ar(e)).docs.map(f=>({id:f.id,...f.data()})),i=r.length,s=r.filter(f=>f.reussi).length,c=i>0?Math.round(r.reduce((f,h)=>f+h.score,0)/i):0,u=r.length>0?new Date(Math.max(...r.map(f=>{const h=f.datePassage;return h?.toDate?h.toDate().getTime():new Date(h).getTime()}))):null;return{totalQuizPasses:i,scoresMoyens:c,quizReussis:s,dernierQuiz:u}}catch(e){return console.error("Erreur lors du calcul des statistiques :",e),{totalQuizPasses:0,scoresMoyens:0,quizReussis:0,dernierQuiz:null}}},CZ=async()=>{try{const e=(await ar(b3)).docs.map(n=>n.data());return{total:e.length,admins:e.filter(n=>n.role==="admin").length,profs:e.filter(n=>n.role==="prof").length,eleves:e.filter(n=>n.role==="eleve").length,premium:e.filter(n=>n.isPremium).length,actifs:e.filter(n=>n.isActive!==!1).length}}catch(t){throw console.error("Erreur lors du calcul des stats globales :",t),t}},PZ=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(null),[i,s]=_.useState(!0),[c,u]=_.useState(null),[f,h]=_.useState(null),[p,v]=_.useState(""),[y,w]=_.useState(""),[j,E]=_.useState(""),[N,S]=_.useState(""),[D,R]=_.useState(!1),[I,$]=_.useState(null),[z,O]=_.useState(null),[C,k]=_.useState(!1),[q,U]=_.useState(null),[L,M]=_.useState(null),ue=_.useCallback(async()=>{s(!0),u(null);try{const[Y,W]=await Promise.all([jZ(),CZ()]);e(Y),r(W)}catch(Y){u("Erreur lors du chargement des utilisateurs."),console.error(Y)}finally{s(!1)}},[]);_.useEffect(()=>{ue()},[ue]),_.useEffect(()=>{if(f){const Y=setTimeout(()=>h(null),4e3);return()=>clearTimeout(Y)}},[f]);const Z=t.filter(Y=>{if(p){const W=p.toLowerCase();if(!Y.displayName?.toLowerCase().includes(W)&&!Y.email?.toLowerCase().includes(W))return!1}return!(y&&Y.role!==y||j==="true"&&!Y.isPremium||j==="false"&&Y.isPremium||N==="true"&&Y.isActive===!1||N==="false"&&Y.isActive!==!1)}),B=async Y=>{$(Y),k(!0);try{const W=await TZ(Y.uid);O(W)}catch(W){console.error("Erreur lors du chargement des statistiques :",W),O(null)}finally{k(!1)}},J=async()=>{if(L){U(L.userId);try{switch(L.type){case"role":await NZ(L.userId,L.value),h("Rle mis  jour avec succs.");break;case"premium":await AZ(L.userId,L.value),h(L.value?"Statut Premium activ (30 jours).":"Statut Premium dsactiv.");break;case"active":await SZ(L.userId,L.value),h(L.value?"Compte ractiv.":"Compte dsactiv.");break}await ue()}catch(Y){u("Erreur lors de l'excution de l'action."),console.error(Y)}finally{U(null),M(null)}}},he=({role:Y})=>{const W={admin:{icon:l.jsx(sN,{size:12}),className:"user-badge-admin",label:"Admin"},prof:{icon:l.jsx(Od,{size:12}),className:"user-badge-prof",label:"Professeur"},eleve:{icon:l.jsx(Rr,{size:12}),className:"user-badge-eleve",label:"lve"}},_e=W[Y]||W.eleve;return l.jsxs("span",{className:`user-badge ${_e.className}`,children:[_e.icon," ",_e.label]})},Ee=Y=>Y?(Y?.toDate?Y.toDate():new Date(Y)).toLocaleDateString("fr-SN",{day:"2-digit",month:"short",year:"numeric"}):"N/A",xe=Y=>Y?Y.charAt(0).toUpperCase():"?",H=()=>l.jsxs(l.Fragment,{children:[c&&l.jsxs("div",{className:"admin-message admin-message-error",children:[l.jsx(zg,{size:18}),l.jsx("span",{children:c}),l.jsx("button",{onClick:()=>u(null),className:"admin-message-close",children:l.jsx(Dc,{size:16})})]}),f&&l.jsxs("div",{className:"admin-message admin-message-success",children:[l.jsx(xn,{size:18}),l.jsx("span",{children:f})]})]}),ae=()=>{if(!n)return null;const Y=[{label:"Total",value:n.total,icon:l.jsx(sl,{size:20}),color:"stat-blue"},{label:"lves",value:n.eleves,icon:l.jsx(Rr,{size:20}),color:"stat-green"},{label:"Professeurs",value:n.profs,icon:l.jsx(Od,{size:20}),color:"stat-purple"},{label:"Premium",value:n.premium,icon:l.jsx(bi,{size:20}),color:"stat-gold"}];return l.jsx("div",{className:"user-stats-grid",children:Y.map(W=>l.jsxs("div",{className:`user-stat-card ${W.color}`,children:[l.jsx("div",{className:"user-stat-icon",children:W.icon}),l.jsxs("div",{className:"user-stat-info",children:[l.jsx("span",{className:"user-stat-value",children:W.value}),l.jsx("span",{className:"user-stat-label",children:W.label})]})]},W.label))})},ye=()=>L?l.jsx("div",{className:"admin-modal-overlay",onClick:()=>M(null),children:l.jsxs("div",{className:"admin-modal",onClick:Y=>Y.stopPropagation(),children:[l.jsxs("div",{className:"admin-modal-header",children:[l.jsx("h3",{children:"Confirmer l'action"}),l.jsx("button",{className:"admin-modal-close",onClick:()=>M(null),children:l.jsx(Dc,{size:20})})]}),l.jsx("div",{className:"admin-modal-body",children:l.jsx("p",{children:L.label})}),l.jsxs("div",{className:"admin-modal-footer",children:[l.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>M(null),children:"Annuler"}),l.jsx("button",{className:"admin-btn admin-btn-primary",onClick:J,disabled:q===L.userId,children:q===L.userId?"En cours...":"Confirmer"})]})]})}):null,we=()=>I?l.jsx("div",{className:"admin-modal-overlay",onClick:()=>$(null),children:l.jsxs("div",{className:"admin-modal admin-modal-lg",onClick:Y=>Y.stopPropagation(),children:[l.jsxs("div",{className:"admin-modal-header",children:[l.jsx("h3",{children:"Dtail de l'utilisateur"}),l.jsx("button",{className:"admin-modal-close",onClick:()=>$(null),children:l.jsx(Dc,{size:20})})]}),l.jsxs("div",{className:"admin-modal-body",children:[l.jsxs("div",{className:"user-detail-profile",children:[l.jsx("div",{className:"user-detail-avatar",children:xe(I.displayName)}),l.jsxs("div",{className:"user-detail-info",children:[l.jsx("h4",{children:I.displayName||"Sans nom"}),l.jsx("p",{children:I.email}),l.jsxs("div",{className:"user-detail-badges",children:[l.jsx(he,{role:I.role}),I.isPremium&&l.jsxs("span",{className:"user-badge user-badge-premium",children:[l.jsx(bi,{size:12})," Premium"]}),l.jsx("span",{className:`user-badge ${I.isActive!==!1?"user-badge-active":"user-badge-inactive"}`,children:I.isActive!==!1?"Actif":"Dsactiv"})]})]})]}),l.jsxs("div",{className:"user-detail-dates",children:[l.jsxs("div",{children:[l.jsx("span",{className:"user-detail-date-label",children:"Inscription"}),l.jsx("span",{children:Ee(I.createdAt)})]}),I.isPremium&&I.subscriptionEnd&&l.jsxs("div",{children:[l.jsx("span",{className:"user-detail-date-label",children:"Premium jusqu'au"}),l.jsx("span",{children:Ee(I.subscriptionEnd)})]})]}),l.jsxs("div",{className:"user-detail-stats-section",children:[l.jsxs("h4",{children:[l.jsx(sa,{size:18})," Statistiques"]}),C?l.jsxs("div",{className:"admin-loading",style:{padding:"1rem"},children:[l.jsx("div",{className:"admin-spinner"}),l.jsx("p",{children:"Chargement des statistiques..."})]}):z?l.jsxs("div",{className:"user-detail-stats-grid",children:[l.jsxs("div",{className:"user-detail-stat",children:[l.jsx(Rr,{size:20}),l.jsx("span",{className:"user-detail-stat-value",children:z.totalQuizPasses}),l.jsx("span",{className:"user-detail-stat-label",children:"Quiz passs"})]}),l.jsxs("div",{className:"user-detail-stat",children:[l.jsx(Jh,{size:20}),l.jsxs("span",{className:"user-detail-stat-value",children:[z.scoresMoyens,"%"]}),l.jsx("span",{className:"user-detail-stat-label",children:"Score moyen"})]}),l.jsxs("div",{className:"user-detail-stat",children:[l.jsx(Ya,{size:20}),l.jsx("span",{className:"user-detail-stat-value",children:z.quizReussis}),l.jsx("span",{className:"user-detail-stat-label",children:"Quiz russis"})]}),l.jsxs("div",{className:"user-detail-stat",children:[l.jsx(El,{size:20}),l.jsx("span",{className:"user-detail-stat-value",children:z.dernierQuiz?Ee(z.dernierQuiz):"Aucun"}),l.jsx("span",{className:"user-detail-stat-label",children:"Dernier quiz"})]})]}):l.jsx("p",{className:"user-detail-no-stats",children:"Aucune statistique disponible."})]})]})]})}):null;return l.jsxs("div",{className:"admin-container",children:[H(),ye(),we(),l.jsxs("div",{className:"user-manager",children:[l.jsxs("div",{className:"admin-header",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"admin-title",children:[l.jsx(sl,{size:24})," Gestion des Utilisateurs"]}),l.jsxs("p",{className:"admin-subtitle",children:[t.length," utilisateur(s) au total  ",Z.length," affich(s)"]})]}),l.jsxs("button",{className:"admin-btn admin-btn-outline",onClick:ue,children:[l.jsx(Xw,{size:16})," Actualiser"]})]}),ae(),l.jsxs("div",{className:"admin-toolbar",children:[l.jsxs("div",{className:"admin-search-wrapper",children:[l.jsx(aN,{size:18,className:"admin-search-icon"}),l.jsx("input",{type:"text",className:"admin-search-input",placeholder:"Rechercher par nom ou email...",value:p,onChange:Y=>v(Y.target.value)})]}),l.jsxs("button",{className:`admin-btn admin-btn-outline ${D?"active":""}`,onClick:()=>R(!D),children:[l.jsx(h3,{size:16})," Filtres",D?l.jsx(Kw,{size:14}):l.jsx(Mg,{size:14})]})]}),D&&l.jsxs("div",{className:"admin-filters-panel",children:[l.jsxs("div",{className:"admin-filter-group",children:[l.jsx("label",{className:"admin-filter-label",children:"Rle"}),l.jsxs("select",{className:"admin-select",value:y,onChange:Y=>w(Y.target.value),children:[l.jsx("option",{value:"",children:"Tous les rles"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"prof",children:"Professeur"}),l.jsx("option",{value:"eleve",children:"lve"})]})]}),l.jsxs("div",{className:"admin-filter-group",children:[l.jsx("label",{className:"admin-filter-label",children:"Abonnement"}),l.jsxs("select",{className:"admin-select",value:j,onChange:Y=>E(Y.target.value),children:[l.jsx("option",{value:"",children:"Tous"}),l.jsx("option",{value:"true",children:"Premium"}),l.jsx("option",{value:"false",children:"Gratuit"})]})]}),l.jsxs("div",{className:"admin-filter-group",children:[l.jsx("label",{className:"admin-filter-label",children:"Statut"}),l.jsxs("select",{className:"admin-select",value:N,onChange:Y=>S(Y.target.value),children:[l.jsx("option",{value:"",children:"Tous"}),l.jsx("option",{value:"true",children:"Actifs"}),l.jsx("option",{value:"false",children:"Dsactivs"})]})]}),l.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{w(""),E(""),S(""),v("")},children:"Rinitialiser"})]}),i?l.jsxs("div",{className:"admin-loading",children:[l.jsx("div",{className:"admin-spinner"}),l.jsx("p",{children:"Chargement des utilisateurs..."})]}):Z.length===0?l.jsxs("div",{className:"admin-empty-state",children:[l.jsx(sl,{size:48}),l.jsx("h3",{children:"Aucun utilisateur trouv"}),l.jsx("p",{children:t.length===0?"Aucun utilisateur n'est encore inscrit.":"Aucun utilisateur ne correspond  vos filtres."})]}):l.jsx("div",{className:"user-table-wrapper",children:l.jsxs("table",{className:"user-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Utilisateur"}),l.jsx("th",{children:"Rle"}),l.jsx("th",{children:"Abonnement"}),l.jsx("th",{children:"Statut"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:Z.map(Y=>l.jsxs("tr",{className:Y.isActive===!1?"user-row-inactive":"",children:[l.jsx("td",{children:l.jsxs("div",{className:"user-cell-info",children:[l.jsx("div",{className:"user-avatar-sm",children:xe(Y.displayName)}),l.jsxs("div",{children:[l.jsx("span",{className:"user-cell-name",children:Y.displayName||"Sans nom"}),l.jsx("span",{className:"user-cell-email",children:Y.email})]})]})}),l.jsx("td",{children:l.jsxs("select",{className:"admin-select admin-select-sm",value:Y.role,onChange:W=>M({type:"role",userId:Y.uid,value:W.target.value,label:`Changer le rle de "${Y.displayName||Y.email}" en "${W.target.value}" ?`}),children:[l.jsx("option",{value:"eleve",children:"lve"}),l.jsx("option",{value:"prof",children:"Professeur"}),l.jsx("option",{value:"admin",children:"Admin"})]})}),l.jsx("td",{children:l.jsx("button",{className:`user-premium-toggle ${Y.isPremium?"active":""}`,onClick:()=>M({type:"premium",userId:Y.uid,value:!Y.isPremium,label:Y.isPremium?`Dsactiver le statut Premium de "${Y.displayName||Y.email}" ?`:`Activer le statut Premium de "${Y.displayName||Y.email}" pour 30 jours ?`}),disabled:q===Y.uid,children:Y.isPremium?l.jsxs(l.Fragment,{children:[l.jsx(Ah,{size:14})," Premium"]}):l.jsxs(l.Fragment,{children:[l.jsx(bi,{size:14})," Gratuit"]})})}),l.jsx("td",{children:l.jsx("button",{className:`user-status-toggle ${Y.isActive!==!1?"active":"inactive"}`,onClick:()=>M({type:"active",userId:Y.uid,value:Y.isActive===!1,label:Y.isActive===!1?`Ractiver le compte de "${Y.displayName||Y.email}" ?`:`Dsactiver le compte de "${Y.displayName||Y.email}" ?`}),disabled:q===Y.uid,children:Y.isActive!==!1?l.jsxs(l.Fragment,{children:[l.jsx(CX,{size:14})," Actif"]}):l.jsxs(l.Fragment,{children:[l.jsx(OX,{size:14})," Dsactiv"]})})}),l.jsx("td",{children:l.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>B(Y),title:"Voir les statistiques",children:[l.jsx(Zh,{size:14})," Dtail"]})})]},Y.uid))})]})})]})]})},_3=Nn(Le,"quiz_results"),OZ=async t=>{try{return(await Rl(_3,{...t,datePassage:nt.now()})).id}catch(e){throw console.error("Erreur lors de la sauvegarde du rsultat :",e),e}},f0=async(t,e)=>{try{let n=ir(_3,tn("userId","==",t),Fi("datePassage","desc"));return e&&(n=ir(n,Pd(e))),(await ar(n)).docs.map(i=>({id:i.id,...i.data()}))}catch(n){throw console.error("Erreur lors de la rcupration de l'historique :",n),n}},IZ=async t=>{try{const e=await f0(t);if(e.length===0)return{totalQuizPasses:0,totalQuizReussis:0,moyenneGenerale:0,tempsTotal:0,meilleurScore:0,serieReussites:0,meilleureSerieReussites:0};const n=e.reduce((p,v)=>p+v.pourcentage,0),r=Math.round(n/e.length),i=Math.max(...e.map(p=>p.pourcentage)),s=e.reduce((p,v)=>p+(v.tempsEcoule||0),0),c=e.filter(p=>p.reussi).length;let u=0,f=0;for(const p of e)p.reussi?(u++,f=Math.max(f,u)):(e.find(v=>!v.reussi),f=Math.max(f,u),u=0);let h=0;for(const p of e)if(p.reussi)h++;else break;return{totalQuizPasses:e.length,totalQuizReussis:c,moyenneGenerale:r,tempsTotal:s,meilleurScore:i,serieReussites:h,meilleureSerieReussites:Math.max(f,h)}}catch(e){return console.error("Erreur lors du calcul des stats :",e),{totalQuizPasses:0,totalQuizReussis:0,moyenneGenerale:0,tempsTotal:0,meilleurScore:0,serieReussites:0,meilleureSerieReussites:0}}},RZ=async t=>{try{const e=await f0(t);if(e.length===0)return[];const n={};for(const r of e){const i=r.disciplineId;n[i]||(n[i]=[]),n[i].push(r)}return Object.entries(n).map(([r,i])=>{const s=Math.round(i.reduce((v,y)=>v+y.pourcentage,0)/i.length),c=Math.max(...i.map(v=>v.pourcentage)),u=i[0].pourcentage,f=i.filter(v=>v.reussi).length,h=i.reduce((v,y)=>v+(y.tempsEcoule||0),0);let p="stable";if(i.length>=4){const v=i.slice(0,3),y=i.slice(3,6),w=v.reduce((E,N)=>E+N.pourcentage,0)/v.length,j=y.reduce((E,N)=>E+N.pourcentage,0)/y.length;w-j>5?p="up":j-w>5&&(p="down")}return{disciplineId:r,disciplineNom:i[0].disciplineNom||r,nombreQuiz:i.length,moyenne:s,meilleurScore:c,dernierScore:u,quizReussis:f,tempsTotal:h,tendance:p}})}catch(e){return console.error("Erreur lors du calcul de la progression par discipline :",e),[]}},DZ=async(t,e)=>{try{return(await f0(t,e||20)).reverse().map(r=>({date:(r.datePassage?.toDate?r.datePassage.toDate():new Date(r.datePassage)).toLocaleDateString("fr-SN",{day:"2-digit",month:"2-digit"}),score:r.pourcentage,discipline:r.disciplineNom||r.disciplineId}))}catch(n){return console.error("Erreur lors de la rcupration des donnes temporelles :",n),[]}},kZ=(t,e)=>[{id:"premier_quiz",nom:"Premier pas",description:"Passer votre premier quiz",icone:"",condition:"1 quiz pass",obtenu:t.totalQuizPasses>=1},{id:"dix_quiz",nom:"Explorateur",description:"Passer 10 quiz",icone:"",condition:"10 quiz passs",obtenu:t.totalQuizPasses>=10},{id:"vingt_cinq_quiz",nom:"Assidu",description:"Passer 25 quiz",icone:"",condition:"25 quiz passs",obtenu:t.totalQuizPasses>=25},{id:"cinquante_quiz",nom:"Champion",description:"Passer 50 quiz",icone:"",condition:"50 quiz passs",obtenu:t.totalQuizPasses>=50},{id:"score_parfait",nom:"Score parfait",description:"Obtenir 100%  un quiz",icone:"",condition:"100%  un quiz",obtenu:t.meilleurScore>=100},{id:"moyenne_80",nom:"Excellent",description:"Maintenir une moyenne de 80%+",icone:"",condition:"Moyenne  80%",obtenu:t.moyenneGenerale>=80&&t.totalQuizPasses>=5},{id:"moyenne_60",nom:"Bon lve",description:"Maintenir une moyenne de 60%+",icone:"",condition:"Moyenne  60%",obtenu:t.moyenneGenerale>=60&&t.totalQuizPasses>=5},{id:"serie_3",nom:"En forme",description:"3 quiz russis d'affile",icone:"",condition:"Srie de 3 russites",obtenu:t.meilleureSerieReussites>=3},{id:"serie_5",nom:"Imbattable",description:"5 quiz russis d'affile",icone:"",condition:"Srie de 5 russites",obtenu:t.meilleureSerieReussites>=5},{id:"serie_10",nom:"Lgende",description:"10 quiz russis d'affile",icone:"",condition:"Srie de 10 russites",obtenu:t.meilleureSerieReussites>=10},{id:"multi_3",nom:"Polyvalent",description:"Passer des quiz dans 3 disciplines",icone:"",condition:"3 disciplines diffrentes",obtenu:e.length>=3},{id:"multi_5",nom:"Touche--tout",description:"Passer des quiz dans 5 disciplines",icone:"",condition:"5 disciplines diffrentes",obtenu:e.length>=5}],x3=t=>{if(t<60)return`${t} s`;const e=Math.floor(t/60),n=t%60;return n>0?`${e} min ${n.toString().padStart(2,"0")} s`:`${e} min`},od=t=>t>=80?"#10b981":t>=60?"#3b82f6":t>=40?"#f59e0b":"#ef4444",w3=t=>t>=80?"Excellent":t>=60?"Bien":t>=40?"Passable":" amliorer",MZ=()=>{const{quizId:t}=oz(),e=to(),{currentUser:n}=ni(),[r,i]=_.useState(null),[s,c]=_.useState(""),[u,f]=_.useState(!0),[h,p]=_.useState(null),[v,y]=_.useState("intro"),[w,j]=_.useState(0),[E,N]=_.useState({}),[S,D]=_.useState(0),[R,I]=_.useState(0),$=_.useRef(null),[z,O]=_.useState(0),[C,k]=_.useState(0),[q,U]=_.useState(0),[L,M]=_.useState(!1),[ue,Z]=_.useState(!1);_.useEffect(()=>{(async()=>{if(!t){p("ID du quiz manquant."),f(!1);return}try{const W=await gZ(t);if(!W){p("Quiz introuvable."),f(!1);return}i(W),D(W.duree*60);try{const Ve=(await Rs.getAll()).find(oe=>oe.id===W.disciplineId);c(Ve?.nom||Ve?.name||W.disciplineId)}catch{c(W.disciplineId)}}catch(W){p("Erreur lors du chargement du quiz."),console.error(W)}finally{f(!1)}})()},[t]),_.useEffect(()=>{if(v==="playing")return $.current=setInterval(()=>{D(Y=>Y<=1?(clearInterval($.current),Ee(),0):Y-1),I(Y=>Y+1)},1e3),()=>{$.current&&clearInterval($.current)}},[v]);const B=()=>{y("playing"),j(0),N({}),I(0),r&&D(r.duree*60)},J=(Y,W)=>{N(_e=>({..._e,[Y]:W}))},he=Y=>{r&&Y>=0&&Y<r.questions.length&&j(Y)},Ee=_.useCallback(async()=>{if(!r||!n||v==="review")return;$.current&&clearInterval($.current);let Y=0,W=0,_e=0;r.questions.forEach(Ae=>{const Q=Ae.points||1;W+=Q,E[Ae.id]===Ae.reponseCorrecte&&(Y+=Q,_e++)});const Ve=W>0?Math.round(Y/W*100):0,oe=Ve>=(r.noteMinimale||50);O(Y),k(W),U(_e),y("review"),M(!0);try{const Ae={quizId:r.id,quizTitre:r.titre,disciplineId:r.disciplineId,disciplineNom:s,userId:n.uid,reponses:r.questions.map(Q=>E[Q.id]??-1),tempsEcoule:R,score:Y,totalPoints:W,pourcentage:Ve,reussi:oe,nombreQuestions:r.questions.length,bonnesReponses:_e};await OZ(Ae),Z(!0)}catch(Ae){console.error("Erreur lors de la sauvegarde :",Ae)}finally{M(!1)}},[r,n,E,R,s,v]),xe=Y=>{const W=Math.floor(Y/60),_e=Y%60;return`${W.toString().padStart(2,"0")}:${_e.toString().padStart(2,"0")}`},H=()=>{if(!r)return"";const Y=r.duree*60,W=S/Y;return W<=.1?"timer-critical":W<=.25?"timer-warning":""},ae=Object.keys(E).length;if(u)return l.jsxs("div",{className:"quiz-player-loading",children:[l.jsx("div",{className:"admin-spinner"}),l.jsx("p",{children:"Chargement du quiz..."})]});if(h||!r)return l.jsxs("div",{className:"quiz-player-error",children:[l.jsx(zg,{size:48}),l.jsx("h3",{children:h||"Quiz introuvable"}),l.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>e("/eleve/dashboard"),children:[l.jsx(Ww,{size:18})," Retour au tableau de bord"]})]});if(r.isPremium&&!n?.isPremium)return l.jsx("div",{className:"quiz-player-locked",children:l.jsxs("div",{className:"qp-locked-card",children:[l.jsx(Qw,{size:48}),l.jsx("h3",{children:"Quiz Premium"}),l.jsx("p",{children:"Ce quiz est rserv aux abonns Premium."}),l.jsxs("p",{className:"qp-locked-price",children:[" partir de ",l.jsx("strong",{children:"2 000 FCFA/mois"})]}),l.jsxs("div",{className:"qp-locked-actions",children:[l.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>e("/premium"),children:[l.jsx(bi,{size:18})," Devenir Premium"]}),l.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:()=>e("/eleve/dashboard"),children:[l.jsx(Sx,{size:18})," Retour"]})]})]})});if(v==="intro")return l.jsx("div",{className:"quiz-player-intro",children:l.jsxs("div",{className:"qp-intro-card",children:[l.jsxs("div",{className:"qp-intro-header",children:[l.jsxs("button",{className:"qp-back-btn",onClick:()=>e(-1),children:[l.jsx(Sx,{size:20})," Retour"]}),r.isPremium&&l.jsxs("span",{className:"qp-badge qp-badge-premium",children:[l.jsx(bi,{size:12})," Premium"]})]}),l.jsxs("div",{className:"qp-intro-content",children:[l.jsx("h1",{className:"qp-intro-title",children:r.titre}),l.jsx("span",{className:"qp-intro-discipline",children:s}),l.jsxs("div",{className:"qp-intro-stats",children:[l.jsxs("div",{className:"qp-intro-stat",children:[l.jsx(Rr,{size:20}),l.jsxs("div",{children:[l.jsx("span",{className:"qp-intro-stat-value",children:r.questions.length}),l.jsx("span",{className:"qp-intro-stat-label",children:"Questions"})]})]}),l.jsxs("div",{className:"qp-intro-stat",children:[l.jsx(El,{size:20}),l.jsxs("div",{children:[l.jsxs("span",{className:"qp-intro-stat-value",children:[r.duree," min"]}),l.jsx("span",{className:"qp-intro-stat-label",children:"Dure"})]})]}),l.jsxs("div",{className:"qp-intro-stat",children:[l.jsx(Ya,{size:20}),l.jsxs("div",{children:[l.jsxs("span",{className:"qp-intro-stat-value",children:[r.noteMinimale||50,"%"]}),l.jsx("span",{className:"qp-intro-stat-label",children:"Note min."})]})]})]}),l.jsxs("div",{className:"qp-intro-instructions",children:[l.jsx("h3",{children:"Instructions"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Rpondez  toutes les questions dans le temps imparti"}),l.jsx("li",{children:"Chaque question a une seule bonne rponse"}),l.jsx("li",{children:"Vous pouvez naviguer entre les questions"}),l.jsx("li",{children:"Le quiz est soumis automatiquement quand le temps est coul"}),l.jsxs("li",{children:["Il faut obtenir au moins ",r.noteMinimale||50,"% pour russir"]})]})]})]}),l.jsxs("button",{className:"qp-btn qp-btn-start",onClick:B,children:[l.jsx(Lh,{size:20})," Commencer le quiz"]})]})});if(v==="playing"){const Y=r.questions[w];return l.jsxs("div",{className:"quiz-player-game",children:[l.jsxs("div",{className:"qp-game-header",children:[l.jsxs("div",{className:"qp-game-info",children:[l.jsx("span",{className:"qp-game-title",children:r.titre}),l.jsx("span",{className:"qp-game-discipline",children:s})]}),l.jsxs("div",{className:`qp-timer ${H()}`,children:[l.jsx(_X,{size:18}),l.jsx("span",{children:xe(S)})]})]}),l.jsx("div",{className:"qp-progress-bar",children:l.jsx("div",{className:"qp-progress-fill",style:{width:`${(w+1)/r.questions.length*100}%`}})}),l.jsxs("div",{className:"qp-game-content",children:[l.jsxs("div",{className:"qp-question-header",children:[l.jsxs("span",{className:"qp-question-number",children:["Question ",w+1,"/",r.questions.length]}),l.jsxs("span",{className:"qp-question-points",children:[Y.points||1," pt(s)"]})]}),l.jsx("h2",{className:"qp-question-text",children:Y.question}),l.jsx("div",{className:"qp-options-list",children:Y.options.map((W,_e)=>l.jsxs("button",{className:`qp-option ${E[Y.id]===_e?"selected":""}`,onClick:()=>J(Y.id,_e),children:[l.jsx("span",{className:"qp-option-letter",children:String.fromCharCode(65+_e)}),l.jsx("span",{className:"qp-option-text",children:W}),E[Y.id]===_e&&l.jsx(xn,{size:18,className:"qp-option-check"})]},_e))})]}),l.jsxs("div",{className:"qp-game-footer",children:[l.jsx("div",{className:"qp-question-indicators",children:r.questions.map((W,_e)=>l.jsx("button",{className:`qp-indicator ${_e===w?"active":""} ${E[W.id]!==void 0?"answered":""}`,onClick:()=>he(_e),children:_e+1},W.id))}),l.jsxs("div",{className:"qp-nav-buttons",children:[l.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:()=>he(w-1),disabled:w===0,children:[l.jsx(Sx,{size:16})," Prcdent"]}),w<r.questions.length-1?l.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>he(w+1),children:["Suivant ",l.jsx(gc,{size:16})]}):l.jsxs("button",{className:"qp-btn qp-btn-submit",onClick:Ee,disabled:ae<r.questions.length,children:[l.jsx(xn,{size:16}),"Soumettre (",ae,"/",r.questions.length,")"]})]})]})]})}const ye=C>0?Math.round(z/C*100):0,we=ye>=(r.noteMinimale||50);return l.jsxs("div",{className:"quiz-player-review",children:[l.jsxs("div",{className:`qp-score-card ${we?"success":"fail"}`,children:[l.jsx("div",{className:"qp-score-icon",children:we?l.jsx(Ya,{size:48}):l.jsx(zg,{size:48})}),l.jsx("h2",{className:"qp-score-title",children:we?"Flicitations ! ":"Continuez vos efforts ! "}),l.jsxs("div",{className:"qp-score-circle",style:{borderColor:od(ye)},children:[l.jsxs("span",{className:"qp-score-value",children:[ye,"%"]}),l.jsx("span",{className:"qp-score-label",children:w3(ye)})]}),l.jsxs("div",{className:"qp-score-details",children:[l.jsxs("div",{className:"qp-score-detail",children:[l.jsxs("span",{children:[q,"/",r.questions.length]}),l.jsx("small",{children:"Bonnes rponses"})]}),l.jsxs("div",{className:"qp-score-detail",children:[l.jsxs("span",{children:[z,"/",C]}),l.jsx("small",{children:"Points"})]}),l.jsxs("div",{className:"qp-score-detail",children:[l.jsx("span",{children:x3(R)}),l.jsx("small",{children:"Temps"})]})]}),L&&l.jsx("p",{className:"qp-saving",children:"Sauvegarde en cours..."}),ue&&l.jsx("p",{className:"qp-saved",children:" Rsultat sauvegard"})]}),l.jsxs("div",{className:"qp-review-actions",children:[l.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>e("/eleve/dashboard"),children:[l.jsx(Ww,{size:18})," Tableau de bord"]}),l.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:B,children:[l.jsx(uX,{size:18})," Recommencer"]})]}),l.jsxs("div",{className:"qp-review-questions",children:[l.jsx("h3",{className:"qp-review-title",children:"Correction dtaille"}),r.questions.map((Y,W)=>{const _e=E[Y.id],Ve=_e===Y.reponseCorrecte;return l.jsxs("div",{className:`qp-review-question ${Ve?"correct":"incorrect"}`,children:[l.jsxs("div",{className:"qp-review-question-header",children:[l.jsxs("span",{className:"qp-review-q-number",children:["Q",W+1]}),Ve?l.jsxs("span",{className:"qp-review-badge correct",children:[l.jsx(xn,{size:14})," Correct"]}):l.jsxs("span",{className:"qp-review-badge incorrect",children:[l.jsx(Gw,{size:14})," Incorrect"]}),l.jsxs("span",{className:"qp-review-q-points",children:[Ve?Y.points||1:0,"/",Y.points||1," pt(s)"]})]}),l.jsx("p",{className:"qp-review-q-text",children:Y.question}),l.jsx("div",{className:"qp-review-options",children:Y.options.map((oe,Ae)=>{let Q="qp-review-option";return Ae===Y.reponseCorrecte&&(Q+=" correct-answer"),Ae===_e&&!Ve&&(Q+=" wrong-answer"),l.jsxs("div",{className:Q,children:[l.jsx("span",{className:"qp-review-option-letter",children:String.fromCharCode(65+Ae)}),l.jsx("span",{children:oe}),Ae===Y.reponseCorrecte&&l.jsx(xn,{size:14,className:"qp-review-check"}),Ae===_e&&!Ve&&l.jsx(Gw,{size:14,className:"qp-review-x"})]},Ae)})}),Y.explication&&l.jsxs("div",{className:"qp-review-explication",children:[l.jsx("strong",{children:" Explication :"})," ",Y.explication]})]},Y.id)})]})]})};function E3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=E3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=E3(t))&&(r&&(r+=" "),r+=e);return r}var zZ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function oN(t){if(typeof t!="string")return!1;var e=zZ;return e.includes(t)}var LZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],VZ=new Set(LZ);function j3(t){return typeof t!="string"?!1:VZ.has(t)}function N3(t){return typeof t=="string"&&t.startsWith("data-")}function zr(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(j3(n)||N3(n))&&(e[n]=t[n]);return e}function Wc(t){if(t==null)return null;if(_.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return zr(e)}return typeof t=="object"&&!Array.isArray(t)?zr(t):null}function Tr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(j3(n)||N3(n)||oN(n))&&(e[n]=t[n]);return e}function UZ(t){return t==null?null:_.isValidElement(t)?Tr(t.props):typeof t=="object"&&!Array.isArray(t)?Tr(t):null}var qZ=["children","width","height","viewBox","className","style","title","desc"];function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jw.apply(null,arguments)}function BZ(t,e){if(t==null)return{};var n,r,i=$Z(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $Z(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lN=_.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:c,style:u,title:f,desc:h}=t,p=BZ(t,qZ),v=s||{width:r,height:i,x:0,y:0},y=gt("recharts-surface",c);return _.createElement("svg",Jw({},Tr(p),{className:y,width:r,height:i,style:u,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:e}),_.createElement("title",null,f),_.createElement("desc",null,h),n)}),FZ=["children","className"];function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eE.apply(null,arguments)}function HZ(t,e){if(t==null)return{};var n,r,i=KZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mn=_.forwardRef((t,e)=>{var{children:n,className:r}=t,i=HZ(t,FZ),s=gt("recharts-layer",r);return _.createElement("g",eE({className:s},Tr(i),{ref:e}),n)}),A3=_.createContext(null),GZ=()=>_.useContext(A3);function Bt(t){return function(){return t}}const S3=Math.cos,Ug=Math.sin,ya=Math.sqrt,qg=Math.PI,h0=2*qg,tE=Math.PI,nE=2*tE,yc=1e-6,WZ=nE-yc;function T3(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function QZ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return T3;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class YZ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?T3:QZ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,c){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+c}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,u=this._y1,f=r-e,h=i-n,p=c-e,v=u-n,y=p*p+v*v;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>yc)if(!(Math.abs(v*f-h*p)>yc)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-c,j=i-u,E=f*f+h*h,N=w*w+j*j,S=Math.sqrt(E),D=Math.sqrt(y),R=s*Math.tan((tE-Math.acos((E+y-N)/(2*S*D)))/2),I=R/D,$=R/S;Math.abs(I-1)>yc&&this._append`L${e+I*p},${n+I*v}`,this._append`A${s},${s},0,0,${+(v*w>p*j)},${this._x1=e+$*f},${this._y1=n+$*h}`}}arc(e,n,r,i,s,c){if(e=+e,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),h=e+u,p=n+f,v=1^c,y=c?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>yc||Math.abs(this._y1-p)>yc)&&this._append`L${h},${p}`,r&&(y<0&&(y=y%nE+nE),y>WZ?this._append`A${r},${r},0,1,${v},${e-u},${n-f}A${r},${r},0,1,${v},${this._x1=h},${this._y1=p}`:y>yc&&this._append`A${r},${r},0,${+(y>=tE)},${v},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function cN(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new YZ(e)}function uN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function C3(t){this._context=t}C3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function m0(t){return new C3(t)}function P3(t){return t[0]}function O3(t){return t[1]}function I3(t,e){var n=Bt(!0),r=null,i=m0,s=null,c=cN(u);t=typeof t=="function"?t:t===void 0?P3:Bt(t),e=typeof e=="function"?e:e===void 0?O3:Bt(e);function u(f){var h,p=(f=uN(f)).length,v,y=!1,w;for(r==null&&(s=i(w=c())),h=0;h<=p;++h)!(h<p&&n(v=f[h],h,f))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+t(v,h,f),+e(v,h,f));if(w)return s=null,w+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Bt(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Bt(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Bt(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(s=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=s=null:s=i(r=f),u):r},u}function Mv(t,e,n){var r=null,i=Bt(!0),s=null,c=m0,u=null,f=cN(h);t=typeof t=="function"?t:t===void 0?P3:Bt(+t),e=typeof e=="function"?e:Bt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?O3:Bt(+n);function h(v){var y,w,j,E=(v=uN(v)).length,N,S=!1,D,R=new Array(E),I=new Array(E);for(s==null&&(u=c(D=f())),y=0;y<=E;++y){if(!(y<E&&i(N=v[y],y,v))===S)if(S=!S)w=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=y-1;j>=w;--j)u.point(R[j],I[j]);u.lineEnd(),u.areaEnd()}S&&(R[y]=+t(N,y,v),I[y]=+e(N,y,v),u.point(r?+r(N,y,v):R[y],n?+n(N,y,v):I[y]))}if(D)return u=null,D+""||null}function p(){return I3().defined(i).curve(c).context(s)}return h.x=function(v){return arguments.length?(t=typeof v=="function"?v:Bt(+v),r=null,h):t},h.x0=function(v){return arguments.length?(t=typeof v=="function"?v:Bt(+v),h):t},h.x1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:Bt(+v),h):r},h.y=function(v){return arguments.length?(e=typeof v=="function"?v:Bt(+v),n=null,h):e},h.y0=function(v){return arguments.length?(e=typeof v=="function"?v:Bt(+v),h):e},h.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:Bt(+v),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(v){return arguments.length?(i=typeof v=="function"?v:Bt(!!v),h):i},h.curve=function(v){return arguments.length?(c=v,s!=null&&(u=c(s)),h):c},h.context=function(v){return arguments.length?(v==null?s=u=null:u=c(s=v),h):s},h}class R3{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function XZ(t){return new R3(t,!0)}function ZZ(t){return new R3(t,!1)}const dN={draw(t,e){const n=ya(e/qg);t.moveTo(n,0),t.arc(0,0,n,0,h0)}},JZ={draw(t,e){const n=ya(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},D3=ya(1/3),eJ=D3*2,tJ={draw(t,e){const n=ya(e/eJ),r=n*D3;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},nJ={draw(t,e){const n=ya(e),r=-n/2;t.rect(r,r,n,n)}},rJ=.8908130915292852,k3=Ug(qg/10)/Ug(7*qg/10),iJ=Ug(h0/10)*k3,aJ=-S3(h0/10)*k3,sJ={draw(t,e){const n=ya(e*rJ),r=iJ*n,i=aJ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const c=h0*s/5,u=S3(c),f=Ug(c);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},Dx=ya(3),oJ={draw(t,e){const n=-ya(e/(Dx*3));t.moveTo(0,n*2),t.lineTo(-Dx*n,-n),t.lineTo(Dx*n,-n),t.closePath()}},Li=-.5,Vi=ya(3)/2,rE=1/ya(12),lJ=(rE/2+1)*3,cJ={draw(t,e){const n=ya(e/lJ),r=n/2,i=n*rE,s=r,c=n*rE+n,u=-s,f=c;t.moveTo(r,i),t.lineTo(s,c),t.lineTo(u,f),t.lineTo(Li*r-Vi*i,Vi*r+Li*i),t.lineTo(Li*s-Vi*c,Vi*s+Li*c),t.lineTo(Li*u-Vi*f,Vi*u+Li*f),t.lineTo(Li*r+Vi*i,Li*i-Vi*r),t.lineTo(Li*s+Vi*c,Li*c-Vi*s),t.lineTo(Li*u+Vi*f,Li*f-Vi*u),t.closePath()}};function uJ(t,e){let n=null,r=cN(i);t=typeof t=="function"?t:Bt(t||dN),e=typeof e=="function"?e:Bt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Bt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Bt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Bg(){}function $g(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function M3(t){this._context=t}M3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$g(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dJ(t){return new M3(t)}function z3(t){this._context=t}z3.prototype={areaStart:Bg,areaEnd:Bg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fJ(t){return new z3(t)}function L3(t){this._context=t}L3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:$g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hJ(t){return new L3(t)}function V3(t){this._context=t}V3.prototype={areaStart:Bg,areaEnd:Bg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function mJ(t){return new V3(t)}function KO(t){return t<0?-1:1}function GO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),c=(n-t._y1)/(i||r<0&&-0),u=(s*i+c*r)/(r+i);return(KO(s)+KO(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(u))||0}function WO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function kx(t,e,n){var r=t._x0,i=t._y0,s=t._x1,c=t._y1,u=(s-r)/3;t._context.bezierCurveTo(r+u,i+u*e,s-u,c-u*n,s,c)}function Fg(t){this._context=t}Fg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kx(this,this._t0,WO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,kx(this,WO(this,n=GO(this,t,e)),n);break;default:kx(this,this._t0,n=GO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function U3(t){this._context=new q3(t)}(U3.prototype=Object.create(Fg.prototype)).point=function(t,e){Fg.prototype.point.call(this,e,t)};function q3(t){this._context=t}q3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function pJ(t){return new Fg(t)}function vJ(t){return new U3(t)}function B3(t){this._context=t}B3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=QO(t),i=QO(e),s=0,c=1;c<n;++s,++c)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function QO(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),c=new Array(n);for(i[0]=0,s[0]=2,c[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,c[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,c[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,c[e]-=r*c[e-1];for(i[n-1]=c[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(c[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function gJ(t){return new B3(t)}function p0(t,e){this._context=t,this._t=e}p0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function yJ(t){return new p0(t,.5)}function bJ(t){return new p0(t,0)}function _J(t){return new p0(t,1)}function Qc(t,e){if((c=t.length)>1)for(var n=1,r,i,s=t[e[0]],c,u=s.length;n<c;++n)for(i=s,s=t[e[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function iE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function xJ(t,e){return t[e]}function wJ(t){const e=[];return e.key=t,e}function EJ(){var t=Bt([]),e=iE,n=Qc,r=xJ;function i(s){var c=Array.from(t.apply(this,arguments),wJ),u,f=c.length,h=-1,p;for(const v of s)for(u=0,++h;u<f;++u)(c[u][h]=[0,+r(v,c[u].key,h,s)]).data=v;for(u=0,p=uN(e(c));u<f;++u)c[p[u]].index=u;return n(c,p),c}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Bt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Bt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?iE:typeof s=="function"?s:Bt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Qc,i):n},i}function jJ(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,c;i<s;++i){for(c=n=0;n<r;++n)c+=t[n][i][1]||0;if(c)for(n=0;n<r;++n)t[n][i][1]/=c}Qc(t,e)}}function NJ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var c=0,u=0;c<i;++c)u+=t[c][n][1]||0;r[n][1]+=r[n][0]=-u/2}Qc(t,e)}}function AJ(t,e){if(!(!((c=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,c;r<s;++r){for(var u=0,f=0,h=0;u<c;++u){for(var p=t[e[u]],v=p[r][1]||0,y=p[r-1][1]||0,w=(v-y)/2,j=0;j<u;++j){var E=t[e[j]],N=E[r][1]||0,S=E[r-1][1]||0;w+=N-S}f+=v,h+=w*v}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,Qc(t,e)}}var Mx={},zx={},YO;function SJ(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(zx)),zx}var Lx={},XO;function $3(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Lx)),Lx}var Vx={},ZO;function fN(){return ZO||(ZO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Vx)),Vx}var Ux={},qx={},JO;function TJ(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(qx)),qx}var eI;function hN(){return eI||(eI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TJ(),n=fN();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],c=i.length;if(c===0)return s;let u=0,f="",h="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),u++);u<c;){const v=i[u];h?v==="\\"&&u+1<c?(u++,f+=i[u]):v===h?h="":f+=v:p?v==='"'||v==="'"?h=v:v==="]"?(p=!1,s.push(f),f=""):f+=v:v==="["?(p=!0,f&&(s.push(f),f="")):v==="."?f&&(s.push(f),f=""):f+=v,u++}return f&&s.push(f),s}t.toPath=r})(Ux)),Ux}var tI;function mN(){return tI||(tI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SJ(),n=$3(),r=fN(),i=hN();function s(u,f,h){if(u==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=u[f];return p===void 0?n.isDeepKey(f)?s(u,i.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=u[f];return p===void 0?h:p}default:{if(Array.isArray(f))return c(u,f,h);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=u[f];return p===void 0?h:p}}}function c(u,f,h){if(f.length===0)return h;let p=u;for(let v=0;v<f.length;v++){if(p==null||e.isUnsafeProperty(f[v]))return h;p=p[f[v]]}return p===void 0?h:p}t.get=s})(Mx)),Mx}var Bx,nI;function CJ(){return nI||(nI=1,Bx=mN().get),Bx}var PJ=CJ();const Yc=is(PJ);var OJ=4;function ol(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:OJ,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function un(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,c)=>{var u=n[c-1];return typeof u=="string"?i+u+s:u!==void 0?i+ol(u)+s:i+s},"")}var nr=t=>t===0?0:t>0?1:-1,va=t=>typeof t=="number"&&t!=+t,Xc=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Se=t=>(typeof t=="number"||t instanceof Number)&&!va(t),Ja=t=>Se(t)||typeof t=="string",IJ=0,em=t=>{var e=++IJ;return"".concat(t||"").concat(e)},Ar=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(e)&&typeof e!="string")return r;var s;if(Xc(e)){if(n==null)return r;var c=e.indexOf("%");s=n*parseFloat(e.slice(0,c))/100}else s=+e;return va(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},F3=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function jt(t,e,n){return Se(t)&&Se(e)?ol(t+n*(e-t)):e}function H3(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Yc(r,e))===n)}var Jt=t=>t===null||typeof t>"u",Dm=t=>Jt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function ei(t){return t!=null}function Dl(){}var RJ=["type","size","sizeType"];function aE(){return aE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aE.apply(null,arguments)}function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){DJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DJ(t,e,n){return(e=kJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kJ(t){var e=MJ(t,"string");return typeof e=="symbol"?e:e+""}function MJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zJ(t,e){if(t==null)return{};var n,r,i=LJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function LJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var K3={symbolCircle:dN,symbolCross:JZ,symbolDiamond:tJ,symbolSquare:nJ,symbolStar:sJ,symbolTriangle:oJ,symbolWye:cJ},VJ=Math.PI/180,UJ=t=>{var e="symbol".concat(Dm(t));return K3[e]||dN},qJ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*VJ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},BJ=(t,e)=>{K3["symbol".concat(Dm(t))]=e},pN=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=zJ(t,RJ),s=iI(iI({},i),{},{type:e,size:n,sizeType:r}),c="circle";typeof e=="string"&&(c=e);var u=()=>{var y=UJ(c),w=uJ().type(y).size(qJ(n,r,c)),j=w();if(j!==null)return j},{className:f,cx:h,cy:p}=s,v=Tr(s);return Se(h)&&Se(p)&&Se(n)?_.createElement("path",aE({},v,{className:gt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};pN.registerSymbol=BJ;var G3=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,vN=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{oN(i)&&(r[i]=(s=>n[i](n,s)))}),r},$J=(t,e,n)=>r=>(t(e,n,r),null),km=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];oN(i)&&typeof s=="function"&&(r||(r={}),r[i]=$J(s,e,n))}),r};function aI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aI(Object(n),!0).forEach(function(r){HJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HJ(t,e,n){return(e=KJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KJ(t){var e=GJ(t,"string");return typeof e=="symbol"?e:e+""}function GJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vn(t,e){var n=FJ({},t),r=e,i=Object.keys(e),s=i.reduce((c,u)=>(c[u]===void 0&&r[u]!==void 0&&(c[u]=r[u]),c),n);return s}function Hg(){return Hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hg.apply(null,arguments)}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){QJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QJ(t,e,n){return(e=YJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YJ(t){var e=XJ(t,"string");return typeof e=="symbol"?e:e+""}function XJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qi=32,ZJ={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function JJ(t){var{data:e,iconType:n,inactiveColor:r}=t,i=qi/2,s=qi/6,c=qi/3,u=e.inactive?r:e.color,f=n??e.type;if(f==="none")return null;if(f==="plainline"){var h;return _.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(h=e.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:qi,y2:i,className:"recharts-legend-icon"})}if(f==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(qi,"M").concat(2*c,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return _.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(qi/8,"h").concat(qi,"v").concat(qi*3/4,"h").concat(-qi,"z"),className:"recharts-legend-icon"});if(_.isValidElement(e.legendIcon)){var p=WJ({},e);return delete p.legendIcon,_.cloneElement(e.legendIcon,p)}return _.createElement(pN,{fill:u,cx:i,cy:i,size:qi,sizeType:"diameter",type:f})}function eee(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:c}=t,u={x:0,y:0,width:qi,height:qi},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((p,v)=>{var y=p.formatter||i,w=gt({"recharts-legend-item":!0,["legend-item-".concat(v)]:!0,inactive:p.inactive});if(p.type==="none")return null;var j=p.inactive?s:p.color,E=y?y(p.value,p,v):p.value;return _.createElement("li",Hg({className:w,style:f,key:"legend-item-".concat(v)},km(t,p,v)),_.createElement(lN,{width:n,height:n,viewBox:u,style:h,"aria-label":"".concat(E," legend icon")},_.createElement(JJ,{data:p,iconType:c,inactiveColor:s})),_.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},E))})}var tee=t=>{var e=vn(t,ZJ),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:s},_.createElement(eee,Hg({},e,{payload:n})))},$x={},Fx={},oI;function nee(){return oI||(oI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const c=n[s],u=r(c,s,n);i.has(u)||i.set(u,c)}return Array.from(i.values())}t.uniqBy=e})(Fx)),Fx}var Hx={},lI;function ree(){return lI||(lI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(Hx)),Hx}var Kx={},cI;function W3(){return cI||(cI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Kx)),Kx}var Gx={},Wx={},Qx={},uI;function iee(){return uI||(uI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Qx)),Qx}var dI;function gN(){return dI||(dI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iee();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Wx)),Wx}var Yx={},fI;function aee(){return fI||(fI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Yx)),Yx}var hI;function see(){return hI||(hI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gN(),n=aee();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Gx)),Gx}var Xx={},Zx={},mI;function oee(){return mI||(mI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mN();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Zx)),Zx}var Jx={},e1={},t1={},n1={},pI;function Q3(){return pI||(pI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(n1)),n1}var r1={},vI;function Y3(){return vI||(vI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(r1)),r1}var i1={},gI;function X3(){return gI||(gI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(i1)),i1}var yI;function lee(){return yI||(yI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q3(),n=Y3(),r=X3();function i(p,v,y){return typeof y!="function"?i(p,v,()=>{}):s(p,v,function w(j,E,N,S,D,R){const I=y(j,E,N,S,D,R);return I!==void 0?!!I:s(j,E,w,R)},new Map)}function s(p,v,y,w){if(v===p)return!0;switch(typeof v){case"object":return c(p,v,y,w);case"function":return Object.keys(v).length>0?s(p,{...v},y,w):r.isEqualsSameValueZero(p,v);default:return e.isObject(p)?typeof v=="string"?v==="":!0:r.isEqualsSameValueZero(p,v)}}function c(p,v,y,w){if(v==null)return!0;if(Array.isArray(v))return f(p,v,y,w);if(v instanceof Map)return u(p,v,y,w);if(v instanceof Set)return h(p,v,y,w);const j=Object.keys(v);if(p==null||n.isPrimitive(p))return j.length===0;if(j.length===0)return!0;if(w?.has(v))return w.get(v)===p;w?.set(v,p);try{for(let E=0;E<j.length;E++){const N=j[E];if(!n.isPrimitive(p)&&!(N in p)||v[N]===void 0&&p[N]!==void 0||v[N]===null&&p[N]!==null||!y(p[N],v[N],N,p,v,w))return!1}return!0}finally{w?.delete(v)}}function u(p,v,y,w){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[j,E]of v.entries()){const N=p.get(j);if(y(N,E,j,p,v,w)===!1)return!1}return!0}function f(p,v,y,w){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const j=new Set;for(let E=0;E<v.length;E++){const N=v[E];let S=!1;for(let D=0;D<p.length;D++){if(j.has(D))continue;const R=p[D];let I=!1;if(y(R,N,E,p,v,w)&&(I=!0),I){j.add(D),S=!0;break}}if(!S)return!1}return!0}function h(p,v,y,w){return v.size===0?!0:p instanceof Set?f([...p],[...v],y,w):!1}t.isMatchWith=i,t.isSetMatch=h})(t1)),t1}var bI;function Z3(){return bI||(bI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lee();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(e1)),e1}var a1={},s1={},o1={},_I;function cee(){return _I||(_I=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(o1)),o1}var l1={},xI;function yN(){return xI||(xI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(l1)),l1}var c1={},wI;function J3(){return wI||(wI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",c="[object Symbol]",u="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",v="[object Function]",y="[object ArrayBuffer]",w="[object Object]",j="[object Error]",E="[object DataView]",N="[object Uint8Array]",S="[object Uint8ClampedArray]",D="[object Uint16Array]",R="[object Uint32Array]",I="[object BigUint64Array]",$="[object Int8Array]",z="[object Int16Array]",O="[object Int32Array]",C="[object BigInt64Array]",k="[object Float32Array]",q="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=y,t.arrayTag=p,t.bigInt64ArrayTag=C,t.bigUint64ArrayTag=I,t.booleanTag=i,t.dataViewTag=E,t.dateTag=u,t.errorTag=j,t.float32ArrayTag=k,t.float64ArrayTag=q,t.functionTag=v,t.int16ArrayTag=z,t.int32ArrayTag=O,t.int8ArrayTag=$,t.mapTag=f,t.numberTag=r,t.objectTag=w,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=c,t.uint16ArrayTag=D,t.uint32ArrayTag=R,t.uint8ArrayTag=N,t.uint8ClampedArrayTag=S})(c1)),c1}var u1={},EI;function uee(){return EI||(EI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(u1)),u1}var jI;function e6(){return jI||(jI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cee(),n=yN(),r=J3(),i=Y3(),s=uee();function c(p,v){return u(p,void 0,p,new Map,v)}function u(p,v,y,w=new Map,j=void 0){const E=j?.(p,v,y,w);if(E!==void 0)return E;if(i.isPrimitive(p))return p;if(w.has(p))return w.get(p);if(Array.isArray(p)){const N=new Array(p.length);w.set(p,N);for(let S=0;S<p.length;S++)N[S]=u(p[S],S,y,w,j);return Object.hasOwn(p,"index")&&(N.index=p.index),Object.hasOwn(p,"input")&&(N.input=p.input),N}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const N=new RegExp(p.source,p.flags);return N.lastIndex=p.lastIndex,N}if(p instanceof Map){const N=new Map;w.set(p,N);for(const[S,D]of p)N.set(S,u(D,S,y,w,j));return N}if(p instanceof Set){const N=new Set;w.set(p,N);for(const S of p)N.add(u(S,void 0,y,w,j));return N}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const N=new(Object.getPrototypeOf(p)).constructor(p.length);w.set(p,N);for(let S=0;S<p.length;S++)N[S]=u(p[S],S,y,w,j);return N}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const N=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return w.set(p,N),f(N,p,y,w,j),N}if(typeof File<"u"&&p instanceof File){const N=new File([p],p.name,{type:p.type});return w.set(p,N),f(N,p,y,w,j),N}if(typeof Blob<"u"&&p instanceof Blob){const N=new Blob([p],{type:p.type});return w.set(p,N),f(N,p,y,w,j),N}if(p instanceof Error){const N=new p.constructor;return w.set(p,N),N.message=p.message,N.name=p.name,N.stack=p.stack,N.cause=p.cause,f(N,p,y,w,j),N}if(p instanceof Boolean){const N=new Boolean(p.valueOf());return w.set(p,N),f(N,p,y,w,j),N}if(p instanceof Number){const N=new Number(p.valueOf());return w.set(p,N),f(N,p,y,w,j),N}if(p instanceof String){const N=new String(p.valueOf());return w.set(p,N),f(N,p,y,w,j),N}if(typeof p=="object"&&h(p)){const N=Object.create(Object.getPrototypeOf(p));return w.set(p,N),f(N,p,y,w,j),N}return p}function f(p,v,y=p,w,j){const E=[...Object.keys(v),...e.getSymbols(v)];for(let N=0;N<E.length;N++){const S=E[N],D=Object.getOwnPropertyDescriptor(p,S);(D==null||D.writable)&&(p[S]=u(v[S],S,y,w,j))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=c,t.cloneDeepWithImpl=u,t.copyProperties=f})(s1)),s1}var NI;function dee(){return NI||(NI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=e6();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(a1)),a1}var AI;function fee(){return AI||(AI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z3(),n=dee();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(Jx)),Jx}var d1={},f1={},h1={},SI;function hee(){return SI||(SI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=e6(),n=yN(),r=J3();function i(s,c){return e.cloneDeepWith(s,(u,f,h,p)=>{const v=c?.(u,f,h,p);if(v!==void 0)return v;if(typeof s=="object"){if(n.getTag(s)===r.objectTag&&typeof s.constructor!="function"){const y={};return p.set(s,y),e.copyProperties(y,s,h,p),y}switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const y=new s.constructor(s?.valueOf());return e.copyProperties(y,s),y}case r.argumentsTag:{const y={};return e.copyProperties(y,s),y.length=s.length,y[Symbol.iterator]=s[Symbol.iterator],y}default:return}}})}t.cloneDeepWith=i})(h1)),h1}var TI;function mee(){return TI||(TI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hee();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(f1)),f1}var m1={},p1={},CI;function t6(){return CI||(CI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(p1)),p1}var v1={},PI;function pee(){return PI||(PI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yN();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(v1)),v1}var OI;function vee(){return OI||(OI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$3(),n=t6(),r=pee(),i=hN();function s(c,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&c?.[u]==null?f=i.toPath(u):f=[u],f.length===0)return!1;let h=c;for(let p=0;p<f.length;p++){const v=f[p];if((h==null||!Object.hasOwn(h,v))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(v)&&v<h.length))return!1;h=h[v]}return!0}t.has=s})(m1)),m1}var II;function gee(){return II||(II=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z3(),n=fN(),r=mee(),i=mN(),s=vee();function c(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(h){const p=i.get(h,u);return p===void 0?s.has(h,u):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=c})(d1)),d1}var RI;function yee(){return RI||(RI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W3(),n=oee(),r=fee(),i=gee();function s(c){if(c==null)return e.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}t.iteratee=s})(Xx)),Xx}var DI;function bee(){return DI||(DI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nee(),n=ree(),r=W3(),i=see(),s=yee();function c(u,f=r.identity){return i.isArrayLikeObject(u)?e.uniqBy(Array.from(u),n.ary(s.iteratee(f),1)):[]}t.uniqBy=c})($x)),$x}var g1,kI;function _ee(){return kI||(kI=1,g1=bee().uniqBy),g1}var xee=_ee();const MI=is(xee);function n6(t,e,n){return e===!0?MI(t,n):typeof e=="function"?MI(t,e):t}var y1={exports:{}},b1={},_1={exports:{}},x1={};var zI;function wee(){if(zI)return x1;zI=1;var t=Ld();function e(v,y){return v===y&&(v!==0||1/v===1/y)||v!==v&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,c=t.useDebugValue;function u(v,y){var w=y(),j=r({inst:{value:w,getSnapshot:y}}),E=j[0].inst,N=j[1];return s(function(){E.value=w,E.getSnapshot=y,f(E)&&N({inst:E})},[v,w,y]),i(function(){return f(E)&&N({inst:E}),v(function(){f(E)&&N({inst:E})})},[v]),c(w),w}function f(v){var y=v.getSnapshot;v=v.value;try{var w=y();return!n(v,w)}catch{return!0}}function h(v,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return x1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,x1}var LI;function Eee(){return LI||(LI=1,_1.exports=wee()),_1.exports}var VI;function jee(){if(VI)return b1;VI=1;var t=Ld(),e=Eee();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,c=t.useEffect,u=t.useMemo,f=t.useDebugValue;return b1.useSyncExternalStoreWithSelector=function(h,p,v,y,w){var j=s(null);if(j.current===null){var E={hasValue:!1,value:null};j.current=E}else E=j.current;j=u(function(){function S(z){if(!D){if(D=!0,R=z,z=y(z),w!==void 0&&E.hasValue){var O=E.value;if(w(O,z))return I=O}return I=z}if(O=I,r(R,z))return O;var C=y(z);return w!==void 0&&w(O,C)?(R=z,O):(R=z,I=C)}var D=!1,R,I,$=v===void 0?null:v;return[function(){return S(p())},$===null?void 0:function(){return S($())}]},[p,v,y,w]);var N=i(h,j[0],j[1]);return c(function(){E.hasValue=!0,E.value=N},[N]),f(N),N},b1}var UI;function Nee(){return UI||(UI=1,y1.exports=jee()),y1.exports}var Aee=Nee(),bN=_.createContext(null),See=t=>t,Ht=()=>{var t=_.useContext(bN);return t?t.store.dispatch:See},cg=()=>{},Tee=()=>cg,Cee=(t,e)=>t===e;function Oe(t){var e=_.useContext(bN),n=_.useMemo(()=>e?r=>{if(r!=null)return t(r)}:cg,[e,t]);return Aee.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Tee,e?e.store.getState:cg,e?e.store.getState:cg,n,Cee)}function Pee(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Oee(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Iee(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var qI=t=>Array.isArray(t)?t:[t];function Ree(t){const e=Array.isArray(t[0])?t[0]:t;return Iee(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Dee(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var kee=class{constructor(t){this.value=t}deref(){return this.value}},Mee=typeof WeakRef<"u"?WeakRef:kee,zee=0,BI=1;function zv(){return{s:zee,v:void 0,o:null,p:null}}function r6(t,e={}){let n=zv();const{resultEqualityCheck:r}=e;let i,s=0;function c(){let u=n;const{length:f}=arguments;for(let v=0,y=f;v<y;v++){const w=arguments[v];if(typeof w=="function"||typeof w=="object"&&w!==null){let j=u.o;j===null&&(u.o=j=new WeakMap);const E=j.get(w);E===void 0?(u=zv(),j.set(w,u)):u=E}else{let j=u.p;j===null&&(u.p=j=new Map);const E=j.get(w);E===void 0?(u=zv(),j.set(w,u)):u=E}}const h=u;let p;if(u.s===BI)p=u.v;else if(p=t.apply(null,arguments),s++,r){const v=i?.deref?.()??i;v!=null&&r(v,p)&&(p=v,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new Mee(p):p}return h.s=BI,h.v=p,p}return c.clearCache=()=>{n=zv(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function Lee(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,c=0,u,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),Pee(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:v,memoizeOptions:y=[],argsMemoize:w=r6,argsMemoizeOptions:j=[]}=p,E=qI(y),N=qI(j),S=Ree(i),D=v(function(){return s++,h.apply(null,arguments)},...E),R=w(function(){c++;const $=Dee(S,arguments);return u=D.apply(null,$),u},...N);return Object.assign(R,{resultFunc:h,memoizedResultFunc:D,dependencies:S,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:v,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var te=Lee(r6),Vee=Object.assign((t,e=te)=>{Oee(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((c,u,f)=>(c[n[f]]=u,c),{}))},{withTypes:()=>Vee}),w1={},E1={},j1={},$I;function Uee(){return $I||($I=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const c=e(r),u=e(i);if(c===u&&c===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?u-c:c-u}return 0};t.compareValues=n})(j1)),j1}var N1={},A1={},FI;function i6(){return FI||(FI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(A1)),A1}var HI;function qee(){return HI||(HI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i6(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||c!=null&&Object.hasOwn(c,s)}t.isKey=i})(N1)),N1}var KI;function Bee(){return KI||(KI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Uee(),n=qee(),r=hN();function i(s,c,u,f){if(s==null)return[];u=f?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(w=>String(w));const h=(w,j)=>{let E=w;for(let N=0;N<j.length&&E!=null;++N)E=E[j[N]];return E},p=(w,j)=>j==null||w==null?j:typeof w=="object"&&"key"in w?Object.hasOwn(j,w.key)?j[w.key]:h(j,w.path):typeof w=="function"?w(j):Array.isArray(w)?h(j,w):typeof j=="object"?j[w]:j,v=c.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return s.map(w=>({original:w,criteria:v.map(j=>p(j,w))})).slice().sort((w,j)=>{for(let E=0;E<v.length;E++){const N=e.compareValues(w.criteria[E],j.criteria[E],u[E]);if(N!==0)return N}return 0}).map(w=>w.original)}t.orderBy=i})(E1)),E1}var S1={},GI;function $ee(){return GI||(GI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),c=(u,f)=>{for(let h=0;h<u.length;h++){const p=u[h];Array.isArray(p)&&f<s?c(p,f+1):i.push(p)}};return c(n,0),i}t.flatten=e})(S1)),S1}var T1={},WI;function a6(){return WI||(WI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t6(),n=gN(),r=Q3(),i=X3();function s(c,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.isEqualsSameValueZero(f[u],c):!1}t.isIterateeCall=s})(T1)),T1}var QI;function Fee(){return QI||(QI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bee(),n=$ee(),r=a6();function i(s,...c){const u=c.length;return u>1&&r.isIterateeCall(s,c[0],c[1])?c=[]:u>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),e.orderBy(s,n.flatten(c),["asc"])}t.sortBy=i})(w1)),w1}var C1,YI;function Hee(){return YI||(YI=1,C1=Fee().sortBy),C1}var Kee=Hee();const v0=is(Kee);var s6=t=>t.legend.settings,Gee=t=>t.legend.size,Wee=t=>t.legend.payload,Qee=te([Wee,s6],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?v0(r,n):r});function Yee(){return Oe(Qee)}var Lv=1;function o6(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-e.height)>Lv||Math.abs(c.left-e.left)>Lv||Math.abs(c.top-e.top)>Lv||Math.abs(c.width-e.width)>Lv)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function mr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Xee=typeof Symbol=="function"&&Symbol.observable||"@@observable",XI=Xee,P1=()=>Math.random().toString(36).substring(7).split("").join("."),Zee={INIT:`@@redux/INIT${P1()}`,REPLACE:`@@redux/REPLACE${P1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${P1()}`},Kg=Zee;function _N(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function l6(t,e,n){if(typeof t!="function")throw new Error(mr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(mr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(mr(1));return n(l6)(t,e)}let r=t,i=e,s=new Map,c=s,u=0,f=!1;function h(){c===s&&(c=new Map,s.forEach((N,S)=>{c.set(S,N)}))}function p(){if(f)throw new Error(mr(3));return i}function v(N){if(typeof N!="function")throw new Error(mr(4));if(f)throw new Error(mr(5));let S=!0;h();const D=u++;return c.set(D,N),function(){if(S){if(f)throw new Error(mr(6));S=!1,h(),c.delete(D),s=null}}}function y(N){if(!_N(N))throw new Error(mr(7));if(typeof N.type>"u")throw new Error(mr(8));if(typeof N.type!="string")throw new Error(mr(17));if(f)throw new Error(mr(9));try{f=!0,i=r(i,N)}finally{f=!1}return(s=c).forEach(D=>{D()}),N}function w(N){if(typeof N!="function")throw new Error(mr(10));r=N,y({type:Kg.REPLACE})}function j(){const N=v;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(mr(11));function D(){const I=S;I.next&&I.next(p())}return D(),{unsubscribe:N(D)}},[XI](){return this}}}return y({type:Kg.INIT}),{dispatch:y,subscribe:v,getState:p,replaceReducer:w,[XI]:j}}function Jee(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Kg.INIT})>"u")throw new Error(mr(12));if(typeof n(void 0,{type:Kg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mr(13))})}function c6(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const c=e[s];typeof t[c]=="function"&&(n[c]=t[c])}const r=Object.keys(n);let i;try{Jee(n)}catch(s){i=s}return function(c={},u){if(i)throw i;let f=!1;const h={};for(let p=0;p<r.length;p++){const v=r[p],y=n[v],w=c[v],j=y(w,u);if(typeof j>"u")throw u&&u.type,new Error(mr(14));h[v]=j,f=f||j!==w}return f=f||r.length!==Object.keys(c).length,f?h:c}}function Gg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function ete(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(mr(15))};const c={getState:i.getState,dispatch:(f,...h)=>s(f,...h)},u=t.map(f=>f(c));return s=Gg(...u)(i.dispatch),{...i,dispatch:s}}}function u6(t){return _N(t)&&"type"in t&&typeof t.type=="string"}var d6=Symbol.for("immer-nothing"),ZI=Symbol.for("immer-draftable"),Lr=Symbol.for("immer-state");function oa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var _i=Object,Id=_i.getPrototypeOf,Wg="constructor",g0="prototype",sE="configurable",Qg="enumerable",ug="writable",tm="value",Ks=t=>!!t&&!!t[Lr];function ga(t){return t?f6(t)||b0(t)||!!t[ZI]||!!t[Wg]?.[ZI]||_0(t)||x0(t):!1}var tte=_i[g0][Wg].toString(),JI=new WeakMap;function f6(t){if(!t||!xN(t))return!1;const e=Id(t);if(e===null||e===_i[g0])return!0;const n=_i.hasOwnProperty.call(e,Wg)&&e[Wg];if(n===Object)return!0;if(!ld(n))return!1;let r=JI.get(n);return r===void 0&&(r=Function.toString.call(n),JI.set(n,r)),r===tte}function y0(t,e,n=!0){Mm(t)===0?(n?Reflect.ownKeys(t):_i.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Mm(t){const e=t[Lr];return e?e.type_:b0(t)?1:_0(t)?2:x0(t)?3:0}var eR=(t,e,n=Mm(t))=>n===2?t.has(e):_i[g0].hasOwnProperty.call(t,e),oE=(t,e,n=Mm(t))=>n===2?t.get(e):t[e],Yg=(t,e,n,r=Mm(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function nte(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var b0=Array.isArray,_0=t=>t instanceof Map,x0=t=>t instanceof Set,xN=t=>typeof t=="object",ld=t=>typeof t=="function",O1=t=>typeof t=="boolean";function rte(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Cs=t=>t.copy_||t.base_,wN=t=>t.modified_?t.copy_:t.base_;function lE(t,e){if(_0(t))return new Map(t);if(x0(t))return new Set(t);if(b0(t))return Array[g0].slice.call(t);const n=f6(t);if(e===!0||e==="class_only"&&!n){const r=_i.getOwnPropertyDescriptors(t);delete r[Lr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const c=i[s],u=r[c];u[ug]===!1&&(u[ug]=!0,u[sE]=!0),(u.get||u.set)&&(r[c]={[sE]:!0,[ug]:!0,[Qg]:u[Qg],[tm]:t[c]})}return _i.create(Id(t),r)}else{const r=Id(t);if(r!==null&&n)return{...t};const i=_i.create(r);return _i.assign(i,t)}}function EN(t,e=!1){return w0(t)||Ks(t)||!ga(t)||(Mm(t)>1&&_i.defineProperties(t,{set:Vv,add:Vv,clear:Vv,delete:Vv}),_i.freeze(t),e&&y0(t,(n,r)=>{EN(r,!0)},!1)),t}function ite(){oa(2)}var Vv={[tm]:ite};function w0(t){return t===null||!xN(t)?!0:_i.isFrozen(t)}var Xg="MapSet",cE="Patches",tR="ArrayMethods",h6={};function Zc(t){const e=h6[t];return e||oa(0,t),e}var nR=t=>!!h6[t],nm,m6=()=>nm,ate=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:nR(Xg)?Zc(Xg):void 0,arrayMethodsPlugin_:nR(tR)?Zc(tR):void 0});function rR(t,e){e&&(t.patchPlugin_=Zc(cE),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function uE(t){dE(t),t.drafts_.forEach(ste),t.drafts_=null}function dE(t){t===nm&&(nm=t.parent_)}var iR=t=>nm=ate(nm,t);function ste(t){const e=t[Lr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function aR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Lr].modified_&&(uE(e),oa(4)),ga(t)&&(t=sR(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Lr].base_,t,e)}else t=sR(e,n);return ote(e,t,!0),uE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==d6?t:void 0}function sR(t,e){if(w0(e))return e;const n=e[Lr];if(!n)return Zg(e,t.handledSet_,t);if(!E0(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);g6(n,t)}return n.copy_}function ote(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&EN(e,n)}function p6(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var E0=(t,e)=>t.scope_===e,lte=[];function v6(t,e,n,r){const i=Cs(t),s=t.type_;if(r!==void 0&&oE(i,r,s)===e){Yg(i,r,n,s);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;y0(i,(f,h)=>{if(Ks(h)){const p=u.get(h)||[];p.push(f),u.set(h,p)}})}const c=t.draftLocations_.get(e)??lte;for(const u of c)Yg(i,u,n,s)}function cte(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!E0(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const c=wN(s);v6(t,s.draft_??s,c,n),g6(s,i)})}function g6(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}p6(t)}}function ute(t,e,n){const{scope_:r}=t;if(Ks(n)){const i=n[Lr];E0(i,r)&&i.callbacks_.push(function(){dg(t);const c=wN(i);v6(t,n,c,e)})}else ga(n)&&t.callbacks_.push(function(){const s=Cs(t);t.type_===3?s.has(n)&&Zg(n,r.handledSet_,r):oE(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Zg(oE(t.copy_,e,t.type_),r.handledSet_,r)})}function Zg(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ks(t)||e.has(t)||!ga(t)||w0(t)||(e.add(t),y0(t,(r,i)=>{if(Ks(i)){const s=i[Lr];if(E0(s,n)){const c=wN(s);Yg(t,r,c,t.type_),p6(s)}}else ga(i)&&Zg(i,e,n)})),t}function dte(t,e){const n=b0(t),r={type_:n?1:0,scope_:e?e.scope_:m6(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=Jg;n&&(i=[r],s=rm);const{revoke:c,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=c,[u,r]}var Jg={get(t,e){if(e===Lr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Cs(t);if(!eR(i,e,t.type_))return fte(t,i,e);const s=i[e];if(t.finalized_||!ga(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&rte(e))return s;if(s===I1(t.base_,e)){dg(t);const c=t.type_===1?+e:e,u=hE(t.scope_,s,t,c);return t.copy_[c]=u}return s},has(t,e){return e in Cs(t)},ownKeys(t){return Reflect.ownKeys(Cs(t))},set(t,e,n){const r=y6(Cs(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=I1(Cs(t),e),s=i?.[Lr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(nte(n,i)&&(n!==void 0||eR(t.base_,e,t.type_)))return!0;dg(t),fE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),ute(t,e,n)),!0},deleteProperty(t,e){return dg(t),I1(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),fE(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Cs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[ug]:!0,[sE]:t.type_!==1||e!=="length",[Qg]:r[Qg],[tm]:n[e]}},defineProperty(){oa(11)},getPrototypeOf(t){return Id(t.base_)},setPrototypeOf(){oa(12)}},rm={};for(let t in Jg){let e=Jg[t];rm[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}rm.deleteProperty=function(t,e){return rm.set.call(this,t,e,void 0)};rm.set=function(t,e,n){return Jg.set.call(this,t[0],e,n,t[0])};function I1(t,e){const n=t[Lr];return(n?Cs(n):t)[e]}function fte(t,e,n){const r=y6(e,n);return r?tm in r?r[tm]:r.get?.call(t.draft_):void 0}function y6(t,e){if(!(e in t))return;let n=Id(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Id(n)}}function fE(t){t.modified_||(t.modified_=!0,t.parent_&&fE(t.parent_))}function dg(t){t.copy_||(t.assigned_=new Map,t.copy_=lE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var hte=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(ld(n)&&!ld(r)){const c=r;r=n;const u=this;return function(h=c,...p){return u.produce(h,v=>r.call(this,v,...p))}}ld(r)||oa(6),i!==void 0&&!ld(i)&&oa(7);let s;if(ga(n)){const c=iR(this),u=hE(c,n,void 0);let f=!0;try{s=r(u),f=!1}finally{f?uE(c):dE(c)}return rR(c,i),aR(s,c)}else if(!n||!xN(n)){if(s=r(n),s===void 0&&(s=n),s===d6&&(s=void 0),this.autoFreeze_&&EN(s,!0),i){const c=[],u=[];Zc(cE).generateReplacementPatches_(n,s,{patches_:c,inversePatches_:u}),i(c,u)}return s}else oa(1,n)},this.produceWithPatches=(n,r)=>{if(ld(n))return(u,...f)=>this.produceWithPatches(u,h=>n(h,...f));let i,s;return[this.produce(n,r,(u,f)=>{i=u,s=f}),i,s]},O1(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),O1(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),O1(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ga(e)||oa(8),Ks(e)&&(e=fa(e));const n=iR(this),r=hE(n,e,void 0);return r[Lr].isManual_=!0,dE(n),r}finishDraft(e,n){const r=e&&e[Lr];(!r||!r.isManual_)&&oa(9);const{scope_:i}=r;return rR(i,n),aR(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=Zc(cE).applyPatches_;return Ks(e)?i(e,n):this.produce(e,s=>i(s,n))}};function hE(t,e,n,r){const[i,s]=_0(e)?Zc(Xg).proxyMap_(e,n):x0(e)?Zc(Xg).proxySet_(e,n):dte(e,n);return(n?.scope_??m6()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?cte(n,s,r):s.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),i}function fa(t){return Ks(t)||oa(10,t),b6(t)}function b6(t){if(!ga(t)||w0(t))return t;const e=t[Lr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=lE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=lE(t,!0);return y0(n,(i,s)=>{Yg(n,i,b6(s))},r),e&&(e.finalized_=!1),n}var mte=new hte,_6=mte.produce;function x6(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var pte=x6(),vte=x6,gte=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Gg:Gg.apply(null,arguments)};function Hi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(xi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>u6(r)&&r.type===t,n}var w6=class Sh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Sh.prototype)}static get[Symbol.species](){return Sh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Sh(...e[0].concat(this)):new Sh(...e.concat(this))}};function oR(t){return ga(t)?_6(t,()=>{}):t}function Uv(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function yte(t){return typeof t=="boolean"}var bte=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let c=new w6;return n&&(yte(n)?c.push(pte):c.push(vte(n.extraArgument))),c},E6="RTK_autoBatch",Xt=()=>t=>({payload:t,meta:{[E6]:!0}}),lR=t=>e=>{setTimeout(e,t)},j6=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,c=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:lR(10):t.type==="callback"?t.queueNotification:lR(t.timeout),h=()=>{c=!1,s&&(s=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const v=()=>i&&p(),y=r.subscribe(v);return u.add(p),()=>{y(),u.delete(p)}},dispatch(p){try{return i=!p?.meta?.[E6],s=!i,s&&(c||(c=!0,f(h))),r.dispatch(p)}finally{i=!0}}})},_te=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new w6(t);return r&&i.push(j6(typeof r=="object"?r:void 0)),i};function xte(t){const e=bte(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:c=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(_N(n))u=c6(n);else throw new Error(xi(1));let f;typeof r=="function"?f=r(e):f=e();let h=Gg;i&&(h=gte({trace:!1,...typeof i=="object"&&i}));const p=ete(...f),v=_te(p);let y=typeof c=="function"?c(v):v();const w=h(...y);return l6(u,s,w)}function N6(t){const e={},n=[];let r;const i={addCase(s,c){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(xi(28));if(u in e)throw new Error(xi(29));return e[u]=c,i},addAsyncThunk(s,c){return c.pending&&(e[s.pending.type]=c.pending),c.rejected&&(e[s.rejected.type]=c.rejected),c.fulfilled&&(e[s.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:s.settled,reducer:c.settled}),i},addMatcher(s,c){return n.push({matcher:s,reducer:c}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function wte(t){return typeof t=="function"}function Ete(t,e){let[n,r,i]=N6(e),s;if(wte(t))s=()=>oR(t());else{const u=oR(t);s=()=>u}function c(u=s(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,v)=>{if(v)if(Ks(p)){const w=v(p,f);return w===void 0?p:w}else{if(ga(p))return _6(p,y=>v(y,f));{const y=v(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},u)}return c.getInitialState=s,c}var jte="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Nte=(t=21)=>{let e="",n=t;for(;n--;)e+=jte[Math.random()*64|0];return e},Ate=Symbol.for("rtk-slice-createasyncthunk");function Ste(t,e){return`${t}/${e}`}function Tte({creators:t}={}){const e=t?.asyncThunk?.[Ate];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(xi(11));const c=(typeof r.reducers=="function"?r.reducers(Pte()):r.reducers)||{},u=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(R,I){const $=typeof R=="string"?R:R.type;if(!$)throw new Error(xi(12));if($ in f.sliceCaseReducersByType)throw new Error(xi(13));return f.sliceCaseReducersByType[$]=I,h},addMatcher(R,I){return f.sliceMatchers.push({matcher:R,reducer:I}),h},exposeAction(R,I){return f.actionCreators[R]=I,h},exposeCaseReducer(R,I){return f.sliceCaseReducersByName[R]=I,h}};u.forEach(R=>{const I=c[R],$={reducerName:R,type:Ste(i,R),createNotation:typeof r.reducers=="function"};Ite(I)?Dte($,I,h,e):Ote($,I,h)});function p(){const[R={},I=[],$=void 0]=typeof r.extraReducers=="function"?N6(r.extraReducers):[r.extraReducers],z={...R,...f.sliceCaseReducersByType};return Ete(r.initialState,O=>{for(let C in z)O.addCase(C,z[C]);for(let C of f.sliceMatchers)O.addMatcher(C.matcher,C.reducer);for(let C of I)O.addMatcher(C.matcher,C.reducer);$&&O.addDefaultCase($)})}const v=R=>R,y=new Map,w=new WeakMap;let j;function E(R,I){return j||(j=p()),j(R,I)}function N(){return j||(j=p()),j.getInitialState()}function S(R,I=!1){function $(O){let C=O[R];return typeof C>"u"&&I&&(C=Uv(w,$,N)),C}function z(O=v){const C=Uv(y,I,()=>new WeakMap);return Uv(C,O,()=>{const k={};for(const[q,U]of Object.entries(r.selectors??{}))k[q]=Cte(U,O,()=>Uv(w,O,N),I);return k})}return{reducerPath:R,getSelectors:z,get selectors(){return z($)},selectSlice:$}}const D={name:i,reducer:E,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:N,...S(s),injectInto(R,{reducerPath:I,...$}={}){const z=I??s;return R.inject({reducerPath:z,reducer:E},$),{...D,...S(z,!0)}}};return D}}function Cte(t,e,n,r){function i(s,...c){let u=e(s);return typeof u>"u"&&r&&(u=n()),t(u,...c)}return i.unwrapped=t,i}var ri=Tte();function Pte(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Ote({type:t,reducerName:e,createNotation:n},r,i){let s,c;if("reducer"in r){if(n&&!Rte(r))throw new Error(xi(17));s=r.reducer,c=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,c?Hi(t,c):Hi(t))}function Ite(t){return t._reducerDefinitionType==="asyncThunk"}function Rte(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Dte({type:t,reducerName:e},n,r,i){if(!i)throw new Error(xi(18));const{payloadCreator:s,fulfilled:c,pending:u,rejected:f,settled:h,options:p}=n,v=i(t,s,p);r.exposeAction(e,v),c&&r.addCase(v.fulfilled,c),u&&r.addCase(v.pending,u),f&&r.addCase(v.rejected,f),h&&r.addMatcher(v.settled,h),r.exposeCaseReducer(e,{fulfilled:c||qv,pending:u||qv,rejected:f||qv,settled:h||qv})}function qv(){}var kte="task",A6="listener",S6="completed",jN="cancelled",Mte=`task-${jN}`,zte=`task-${S6}`,mE=`${A6}-${jN}`,Lte=`${A6}-${S6}`,j0=class{constructor(t){this.code=t,this.message=`${kte} ${jN} (reason: ${t})`}name="TaskAbortError";message},NN=(t,e)=>{if(typeof t!="function")throw new TypeError(xi(32))},ey=()=>{},T6=(t,e=ey)=>(t.catch(e),t),C6=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),kc=t=>{if(t.aborted)throw new j0(t.reason)};function P6(t,e){let n=ey;return new Promise((r,i)=>{const s=()=>i(new j0(t.reason));if(t.aborted){s();return}n=C6(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=ey})}var Vte=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof j0?"cancelled":"rejected",error:n}}finally{e?.()}},ty=t=>e=>T6(P6(t,e).then(n=>(kc(t),n))),O6=t=>{const e=ty(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:_d}=Object,cR={},N0="listenerMiddleware",Ute=(t,e)=>{const n=r=>C6(t,()=>r.abort(t.reason));return(r,i)=>{NN(r);const s=new AbortController;n(s);const c=Vte(async()=>{kc(t),kc(s.signal);const u=await r({pause:ty(s.signal),delay:O6(s.signal),signal:s.signal});return kc(s.signal),u},()=>s.abort(zte));return i?.autoJoin&&e.push(c.catch(ey)),{result:ty(t)(c),cancel(){s.abort(Mte)}}}},qte=(t,e)=>{const n=async(r,i)=>{kc(e);let s=()=>{};const u=[new Promise((f,h)=>{let p=t({predicate:r,effect:(v,y)=>{y.unsubscribe(),f([v,y.getState(),y.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await P6(e,Promise.race(u));return kc(e),f}finally{s()}};return(r,i)=>T6(n(r,i))},I6=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Hi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(xi(21));return NN(s),{predicate:i,type:e,effect:s}},R6=_d(t=>{const{type:e,predicate:n,effect:r}=I6(t);return{id:Nte(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(xi(22))}}},{withTypes:()=>R6}),uR=(t,e)=>{const{type:n,effect:r,predicate:i}=I6(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},pE=t=>{t.pending.forEach(e=>{e.abort(mE)})},Bte=(t,e)=>()=>{for(const n of e.keys())pE(n);t.clear()},dR=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},D6=_d(Hi(`${N0}/add`),{withTypes:()=>D6}),$te=Hi(`${N0}/removeAll`),k6=_d(Hi(`${N0}/remove`),{withTypes:()=>k6}),Fte=(...t)=>{console.error(`${N0}/error`,...t)},zm=(t={})=>{const e=new Map,n=new Map,r=w=>{const j=n.get(w)??0;n.set(w,j+1)},i=w=>{const j=n.get(w)??1;j===1?n.delete(w):n.set(w,j-1)},{extra:s,onError:c=Fte}=t;NN(c);const u=w=>(w.unsubscribe=()=>e.delete(w.id),e.set(w.id,w),j=>{w.unsubscribe(),j?.cancelActive&&pE(w)}),f=w=>{const j=uR(e,w)??R6(w);return u(j)};_d(f,{withTypes:()=>f});const h=w=>{const j=uR(e,w);return j&&(j.unsubscribe(),w.cancelActive&&pE(j)),!!j};_d(h,{withTypes:()=>h});const p=async(w,j,E,N)=>{const S=new AbortController,D=qte(f,S.signal),R=[];try{w.pending.add(S),r(w),await Promise.resolve(w.effect(j,_d({},E,{getOriginalState:N,condition:(I,$)=>D(I,$).then(Boolean),take:D,delay:O6(S.signal),pause:ty(S.signal),extra:s,signal:S.signal,fork:Ute(S.signal,R),unsubscribe:w.unsubscribe,subscribe:()=>{e.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((I,$,z)=>{I!==S&&(I.abort(mE),z.delete(I))})},cancel:()=>{S.abort(mE),w.pending.delete(S)},throwIfCancelled:()=>{kc(S.signal)}})))}catch(I){I instanceof j0||dR(c,I,{raisedBy:"effect"})}finally{await Promise.all(R),S.abort(Lte),i(w),w.pending.delete(S)}},v=Bte(e,n);return{middleware:w=>j=>E=>{if(!u6(E))return j(E);if(D6.match(E))return f(E.payload);if($te.match(E)){v();return}if(k6.match(E))return h(E.payload);let N=w.getState();const S=()=>{if(N===cR)throw new Error(xi(23));return N};let D;try{if(D=j(E),e.size>0){const R=w.getState(),I=Array.from(e.values());for(const $ of I){let z=!1;try{z=$.predicate(E,R,N)}catch(O){z=!1,dR(c,O,{raisedBy:"predicate"})}z&&p($,E,w,S)}}}finally{N=cR}return D},startListening:f,stopListening:h,clearListeners:v}};function xi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Hte={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},M6=ri({name:"chartLayout",initialState:Hte,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Kte,setLayout:Gte,setChartSize:Wte,setScale:Qte}=M6.actions,Yte=M6.reducer;function z6(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function tt(t){return Number.isFinite(t)}function es(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){Xte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xte(t,e,n){return(e=Zte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zte(t){var e=Jte(t,"string");return typeof e=="symbol"?e:e+""}function Jte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nt(t,e,n){return Jt(t)||Jt(e)?n:Ja(e)?Yc(t,e,n):typeof e=="function"?e(t):n}var ene=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:c,layout:u}=e;if((u==="vertical"||u==="horizontal"&&c==="middle")&&s!=="center"&&Se(t[s]))return fd(fd({},t),{},{[s]:t[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&c!=="middle"&&Se(t[c]))return fd(fd({},t),{},{[c]:t[c]+(i||0)})}return t},ba=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",L6=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,s,c=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(s=!0),u.coordinate));return i||c.push(e),s||c.push(n),c},V6=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:c,realScaleType:u,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:v,niceTicks:y,axisType:w}=t;if(!c)return null;var j=u==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,E=i==="category"&&c.bandwidth?c.bandwidth()/j:0;if(E=w==="angleAxis"&&s&&s.length>=2?nr(s[0]-s[1])*2*E:E,v||y){var N=(v||y||[]).map((S,D)=>{var R=r?r.indexOf(S):S,I=c.map(R);return tt(I)?{coordinate:I+E,value:S,offset:E,index:D}:null}).filter(ei);return N}return f&&h?h.map((S,D)=>{var R=c.map(S);return tt(R)?{coordinate:R+E,value:S,index:D,offset:E}:null}).filter(ei):c.ticks&&p!=null?c.ticks(p).map((S,D)=>{var R=c.map(S);return tt(R)?{coordinate:R+E,value:S,index:D,offset:E}:null}).filter(ei):c.domain().map((S,D)=>{var R=c.map(S);return tt(R)?{coordinate:R+E,value:r?r[S]:S,index:D,offset:E}:null}).filter(ei)},tne=(t,e)=>{if(!e||e.length!==2||!Se(e[0])||!Se(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Se(t[0])||t[0]<n)&&(i[0]=n),(!Se(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},nne=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,c=0,u=0;u<n;++u){var f=t[u],h=f?.[i];if(h!=null){var p=h[1],v=h[0],y=va(p)?v:p;y>=0?(h[0]=s,s+=y,h[1]=s):(h[0]=c,c+=y,h[1]=c)}}}},rne=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,c=0;c<n;++c){var u=t[c],f=u?.[i];if(f!=null){var h=va(f[1])?f[0]:f[1];h>=0?(f[0]=s,s+=h,f[1]=s):(f[0]=0,f[1]=0)}}}},ine={sign:nne,expand:jJ,none:Qc,silhouette:NJ,wiggle:AJ,positive:rne},ane=(t,e,n)=>{var r,i=(r=ine[n])!==null&&r!==void 0?r:Qc,s=EJ().keys(e).value((u,f)=>Number(Nt(u,f,0))).order(iE).offset(i),c=s(t);return c.forEach((u,f)=>{u.forEach((h,p)=>{var v=Nt(t[p],e[f],0);Array.isArray(v)&&v.length===2&&Se(v[0])&&Se(v[1])&&(h[0]=v[0],h[1]=v[1])})}),c};function U6(t){return t==null?void 0:String(t)}function ny(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:c}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Jt(i[e.dataKey])){var u=H3(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n!=null&&n[s]?n[s].coordinate+r/2:null}var f=Nt(i,Jt(c)?e.dataKey:c),h=e.scale.map(f);return Se(h)?h:null}var hR=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:c}=t;if(e.type==="category")return n[c]?n[c].coordinate+r:null;var u=Nt(s,e.dataKey,e.scale.domain()[c]);if(Jt(u))return null;var f=e.scale.map(u);return Se(f)?f-i/2+r:null},sne=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},one=t=>{var e=t.flat(2).filter(Se);return[Math.min(...e),Math.max(...e)]},lne=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],cne=(t,e,n)=>{if(t!=null)return lne(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:c}=s,u=c.reduce((f,h)=>{var p=z6(h,e,n),v=one(p);return!tt(v[0])||!tt(v[1])?f:[Math.min(f[0],v[0]),Math.max(f[1],v[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},mR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jl=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=v0(e,p=>p.coordinate),s=1/0,c=1,u=i.length;c<u;c++){var f=i[c],h=i[c-1];s=Math.min((f?.coordinate||0)-(h?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function vR(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return fd(fd({},e),{},{dataKey:n,payload:r,value:i,name:s})}function kl(t,e){if(t)return String(t);if(typeof e=="string")return e}var une=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},dne=(t,e)=>e==="centric"?t.angle:t.radius,ao=t=>t.layout.width,so=t=>t.layout.height,fne=t=>t.layout.scale,q6=t=>t.layout.margin,A0=te(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),S0=te(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),B6="data-recharts-item-index",$6="data-recharts-item-id",Lm=60;function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hne(t,e,n){return(e=mne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mne(t){var e=pne(t,"string");return typeof e=="symbol"?e:e+""}function pne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vne=t=>t.brush.height;function gne(t){var e=S0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Lm;return n+i}return n},0)}function yne(t){var e=S0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Lm;return n+i}return n},0)}function bne(t){var e=A0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function _ne(t){var e=A0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Fn=te([ao,so,q6,vne,gne,yne,bne,_ne,s6,Gee],(t,e,n,r,i,s,c,u,f,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},v={top:(n.top||0)+c,bottom:(n.bottom||0)+u},y=Bv(Bv({},v),p),w=y.bottom;y.bottom+=r,y=ene(y,f,h);var j=t-y.left-y.right,E=e-y.top-y.bottom;return Bv(Bv({brushBottom:w},y),{},{width:Math.max(j,0),height:Math.max(E,0)})}),xne=te(Fn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),AN=te(ao,so,(t,e)=>({x:0,y:0,width:t,height:e})),wne=_.createContext(null),sr=()=>_.useContext(wne)!=null,T0=t=>t.brush,C0=te([T0,Fn,q6],(t,e,n)=>({height:t.height,x:Se(t.x)?t.x:e.left,y:Se(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Se(t.width)?t.width:e.width})),R1={},D1={},k1={},yR;function Ene(){return yR||(yR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let c,u=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{u!==null&&(n.apply(c,u),c=void 0,u=null)},v=()=>{h&&p(),E()};let y=null;const w=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,v()},r)},j=()=>{y!==null&&(clearTimeout(y),y=null)},E=()=>{j(),c=void 0,u=null},N=()=>{p()},S=function(...D){if(i?.aborted)return;c=this,u=D;const R=y==null;w(),f&&R&&p()};return S.schedule=w,S.cancel=E,S.flush=N,i?.addEventListener("abort",E,{once:!0}),S}t.debounce=e})(k1)),k1}var bR;function jne(){return bR||(bR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ene();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:u=!0,maxWait:f}=s,h=Array(2);c&&(h[0]="leading"),u&&(h[1]="trailing");let p,v=null;const y=e.debounce(function(...E){p=r.apply(this,E),v=null},i,{edges:h}),w=function(...E){return f!=null&&(v===null&&(v=Date.now()),Date.now()-v>=f)?(p=r.apply(this,E),v=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,E),p)},j=()=>(y.flush(),p);return w.cancel=y.cancel,w.flush=j,w}t.debounce=n})(D1)),D1}var _R;function Nne(){return _R||(_R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jne();function n(r,i=0,s={}){const{leading:c=!0,trailing:u=!0}=s;return e.debounce(r,i,{leading:c,maxWait:i,trailing:u})}t.throttle=n})(R1)),R1}var M1,xR;function Ane(){return xR||(xR=1,M1=Nne().throttle),M1}var Sne=Ane();const Tne=is(Sne);var ry=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(n.replace(/%s/g,()=>i[c++]))}},$a={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},F6=(t,e,n)=>{var{width:r=$a.width,height:i=$a.height,aspect:s,maxHeight:c}=n,u=Xc(r)?t:Number(r),f=Xc(i)?e:Number(i);return s&&s>0&&(u?f=u/s:f&&(u=f*s),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:u,calculatedHeight:f}},Cne={width:0,height:0,overflow:"visible"},Pne={width:0,overflowX:"visible"},One={height:0,overflowY:"visible"},Ine={},Rne=t=>{var{width:e,height:n}=t,r=Xc(e),i=Xc(n);return r&&i?Cne:r?Pne:i?One:Ine};function Dne(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i=$a.width,s=$a.height):i===void 0?i=r&&r>0?void 0:$a.width:s===void 0&&(s=r&&r>0?void 0:$a.height),{width:i,height:s}}function vE(){return vE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vE.apply(null,arguments)}function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ER(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){kne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kne(t,e,n){return(e=Mne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mne(t){var e=zne(t,"string");return typeof e=="symbol"?e:e+""}function zne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H6=_.createContext($a.initialDimension);function Lne(t){return es(t.width)&&es(t.height)}function K6(t){var{children:e,width:n,height:r}=t,i=_.useMemo(()=>({width:n,height:r}),[n,r]);return Lne(i)?_.createElement(H6.Provider,{value:i},e):null}var SN=()=>_.useContext(H6),Vne=_.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=$a.initialDimension,width:i,height:s,minWidth:c=$a.minWidth,minHeight:u,maxHeight:f,children:h,debounce:p=$a.debounce,id:v,className:y,onResize:w,style:j={}}=t,E=_.useRef(null),N=_.useRef();N.current=w,_.useImperativeHandle(e,()=>E.current);var[S,D]=_.useState({containerWidth:r.width,containerHeight:r.height}),R=_.useCallback((C,k)=>{D(q=>{var U=Math.round(C),L=Math.round(k);return q.containerWidth===U&&q.containerHeight===L?q:{containerWidth:U,containerHeight:L}})},[]);_.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Dl;var C=L=>{var M,ue=L[0];if(ue!=null){var{width:Z,height:B}=ue.contentRect;R(Z,B),(M=N.current)===null||M===void 0||M.call(N,Z,B)}};p>0&&(C=Tne(C,p,{trailing:!0,leading:!1}));var k=new ResizeObserver(C),{width:q,height:U}=E.current.getBoundingClientRect();return R(q,U),k.observe(E.current),()=>{k.disconnect()}},[R,p]);var{containerWidth:I,containerHeight:$}=S;ry(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:z,calculatedHeight:O}=F6(I,$,{width:i,height:s,aspect:n,maxHeight:f});return ry(z!=null&&z>0||O!=null&&O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,O,i,s,c,u,n),_.createElement("div",{id:v?"".concat(v):void 0,className:gt("recharts-responsive-container",y),style:ER(ER({},j),{},{width:i,height:s,minWidth:c,minHeight:u,maxHeight:f}),ref:E},_.createElement("div",{style:Rne({width:i,height:s})},_.createElement(K6,{width:z,height:O},h)))}),xc=_.forwardRef((t,e)=>{var n=SN();if(es(n.width)&&es(n.height))return t.children;var{width:r,height:i}=Dne({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:c}=F6(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Se(s)&&Se(c)?_.createElement(K6,{width:s,height:c},t.children):_.createElement(Vne,vE({},t,{width:r,height:i,ref:e}))});function TN(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var P0=()=>{var t,e=sr(),n=Oe(xne),r=Oe(C0),i=(t=Oe(T0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Une={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},G6=()=>{var t;return(t=Oe(Fn))!==null&&t!==void 0?t:Une},CN=()=>Oe(ao),PN=()=>Oe(so),qne=()=>Oe(t=>t.layout.margin),ht=t=>t.layout.layoutType,Ml=()=>Oe(ht),ON=()=>{var t=Ml();if(t==="horizontal"||t==="vertical")return t},W6=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},Bne=()=>{var t=Ml();return t!==void 0},Vm=t=>{var e=Ht(),n=sr(),{width:r,height:i}=t,s=SN(),c=r,u=i;return s&&(c=s.width>0?s.width:r,u=s.height>0?s.height:i),_.useEffect(()=>{!n&&es(c)&&es(u)&&e(Wte({width:c,height:u}))},[e,n,c,u]),null},Q6=Symbol.for("immer-nothing"),jR=Symbol.for("immer-draftable"),Ei=Symbol.for("immer-state");function la(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var im=Object.getPrototypeOf;function Rd(t){return!!t&&!!t[Ei]}function Jc(t){return t?Y6(t)||Array.isArray(t)||!!t[jR]||!!t.constructor?.[jR]||Um(t)||I0(t):!1}var $ne=Object.prototype.constructor.toString(),NR=new WeakMap;function Y6(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=NR.get(n);return r===void 0&&(r=Function.toString.call(n),NR.set(n,r)),r===$ne}function iy(t,e,n=!0){O0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function O0(t){const e=t[Ei];return e?e.type_:Array.isArray(t)?1:Um(t)?2:I0(t)?3:0}function gE(t,e){return O0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function X6(t,e,n){const r=O0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Fne(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Um(t){return t instanceof Map}function I0(t){return t instanceof Set}function bc(t){return t.copy_||t.base_}function yE(t,e){if(Um(t))return new Map(t);if(I0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Y6(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ei];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const c=i[s],u=r[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[c]})}return Object.create(im(t),r)}else{const r=im(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function IN(t,e=!1){return R0(t)||Rd(t)||!Jc(t)||(O0(t)>1&&Object.defineProperties(t,{set:$v,add:$v,clear:$v,delete:$v}),Object.freeze(t),e&&Object.values(t).forEach(n=>IN(n,!0))),t}function Hne(){la(2)}var $v={value:Hne};function R0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Kne={};function eu(t){const e=Kne[t];return e||la(0,t),e}var am;function Z6(){return am}function Gne(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function AR(t,e){e&&(eu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function bE(t){_E(t),t.drafts_.forEach(Wne),t.drafts_=null}function _E(t){t===am&&(am=t.parent_)}function SR(t){return am=Gne(am,t)}function Wne(t){const e=t[Ei];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function TR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ei].modified_&&(bE(e),la(4)),Jc(t)&&(t=ay(e,t),e.parent_||sy(e,t)),e.patches_&&eu("Patches").generateReplacementPatches_(n[Ei].base_,t,e.patches_,e.inversePatches_)):t=ay(e,n,[]),bE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Q6?t:void 0}function ay(t,e,n){if(R0(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Ei];if(!i)return iy(e,(s,c)=>CR(t,i,e,s,c,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return sy(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let c=s,u=!1;i.type_===3&&(c=new Set(s),s.clear(),u=!0),iy(c,(f,h)=>CR(t,i,s,f,h,n,u),r),sy(t,s,!1),n&&t.patches_&&eu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function CR(t,e,n,r,i,s,c){if(i==null||typeof i!="object"&&!c)return;const u=R0(i);if(!(u&&!c)){if(Rd(i)){const f=s&&e&&e.type_!==3&&!gE(e.assigned_,r)?s.concat(r):void 0,h=ay(t,i,f);if(X6(n,r,h),Rd(h))t.canAutoFreeze_=!1;else return}else c&&n.add(i);if(Jc(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;ay(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Um(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&sy(t,i)}}}function sy(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&IN(e,n)}function Qne(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Z6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=RN;n&&(i=[r],s=sm);const{revoke:c,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=c,u}var RN={get(t,e){if(e===Ei)return t;const n=bc(t);if(!gE(n,e))return Yne(t,n,e);const r=n[e];return t.finalized_||!Jc(r)?r:r===z1(t.base_,e)?(L1(t),t.copy_[e]=wE(r,t)):r},has(t,e){return e in bc(t)},ownKeys(t){return Reflect.ownKeys(bc(t))},set(t,e,n){const r=J6(bc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=z1(bc(t),e),s=i?.[Ei];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Fne(n,i)&&(n!==void 0||gE(t.base_,e)))return!0;L1(t),xE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return z1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,L1(t),xE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=bc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){la(11)},getPrototypeOf(t){return im(t.base_)},setPrototypeOf(){la(12)}},sm={};iy(RN,(t,e)=>{sm[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});sm.deleteProperty=function(t,e){return sm.set.call(this,t,e,void 0)};sm.set=function(t,e,n){return RN.set.call(this,t[0],e,n,t[0])};function z1(t,e){const n=t[Ei];return(n?bc(n):t)[e]}function Yne(t,e,n){const r=J6(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function J6(t,e){if(!(e in t))return;let n=im(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=im(n)}}function xE(t){t.modified_||(t.modified_=!0,t.parent_&&xE(t.parent_))}function L1(t){t.copy_||(t.copy_=yE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Xne=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const c=this;return function(f=s,...h){return c.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&la(6),r!==void 0&&typeof r!="function"&&la(7);let i;if(Jc(e)){const s=SR(this),c=wE(e,void 0);let u=!0;try{i=n(c),u=!1}finally{u?bE(s):_E(s)}return AR(s,r),TR(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Q6&&(i=void 0),this.autoFreeze_&&IN(i,!0),r){const s=[],c=[];eu("Patches").generateReplacementPatches_(e,i,s,c),r(s,c)}return i}else la(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...u)=>this.produceWithPatches(c,f=>e(f,...u));let r,i;return[this.produce(e,n,(c,u)=>{r=c,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Jc(t)||la(8),Rd(t)&&(t=Zne(t));const e=SR(this),n=wE(t,void 0);return n[Ei].isManual_=!0,_E(e),n}finishDraft(t,e){const n=t&&t[Ei];(!n||!n.isManual_)&&la(9);const{scope_:r}=n;return AR(r,e),TR(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=eu("Patches").applyPatches_;return Rd(t)?r(t,e):this.produce(t,i=>r(i,e))}};function wE(t,e){const n=Um(t)?eu("MapSet").proxyMap_(t,e):I0(t)?eu("MapSet").proxySet_(t,e):Qne(t,e);return(e?e.scope_:Z6()).drafts_.push(n),n}function Zne(t){return Rd(t)||la(10,t),e5(t)}function e5(t){if(!Jc(t)||R0(t))return t;const e=t[Ei];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=yE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=yE(t,!0);return iy(n,(i,s)=>{X6(n,i,e5(s))},r),e&&(e.finalized_=!1),n}var Jne=new Xne;Jne.produce;var ere={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},t5=ri({name:"legend",initialState:ere,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Xt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=fa(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Xt()},removeLegendPayload:{reducer(t,e){var n=fa(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Xt()}}}),{setLegendSize:PR,setLegendSettings:tre,addLegendPayload:n5,replaceLegendPayload:r5,removeLegendPayload:i5}=t5.actions,nre=t5.reducer,rre=["contextPayload"];function EE(){return EE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EE.apply(null,arguments)}function OR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(n),!0).forEach(function(r){ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ire(t,e,n){return(e=are(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function are(t){var e=sre(t,"string");return typeof e=="symbol"?e:e+""}function sre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ore(t,e){if(t==null)return{};var n,r,i=lre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cre(t){return t.value}function ure(t){var{contextPayload:e}=t,n=ore(t,rre),r=n6(e,t.payloadUniqBy,cre),i=Dd(Dd({},n),{},{payload:r});return _.isValidElement(t.content)?_.cloneElement(t.content,i):typeof t.content=="function"?_.createElement(t.content,i):_.createElement(tee,i)}function dre(t,e,n,r,i,s){var{layout:c,align:u,verticalAlign:f}=e,h,p;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&c==="vertical"?h={left:((r||0)-s.width)/2}:h=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(f==="middle"?p={top:((i||0)-s.height)/2}:p=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Dd(Dd({},h),p)}function fre(t){var e=Ht();return _.useEffect(()=>{e(tre(t))},[e,t]),null}function hre(t){var e=Ht();return _.useEffect(()=>(e(PR(t)),()=>{e(PR({width:0,height:0}))}),[e,t]),null}function mre(t,e,n,r){return t==="vertical"&&e!=null?{height:e}:t==="horizontal"?{width:n||r}:null}var pre={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function jE(t){var e=vn(t,pre),n=Yee(),r=GZ(),i=qne(),{width:s,height:c,wrapperStyle:u,portal:f}=e,[h,p]=o6([n]),v=CN(),y=PN();if(v==null||y==null)return null;var w=v-(i?.left||0)-(i?.right||0),j=mre(e.layout,c,s,w),E=f?u:Dd(Dd({position:"absolute",width:j?.width||s||"auto",height:j?.height||c||"auto"},dre(u,e,i,v,y,h)),u),N=f??r;if(N==null||n==null)return null;var S=_.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:p},_.createElement(fre,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!f&&_.createElement(hre,{width:h.width,height:h.height}),_.createElement(ure,EE({},e,j,{margin:i,chartWidth:v,chartHeight:y,contextPayload:n})));return nj.createPortal(S,N)}jE.displayName="Legend";function NE(){return NE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NE.apply(null,arguments)}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){vre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vre(t,e,n){return(e=gre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gre(t){var e=yre(t,"string");return typeof e=="symbol"?e:e+""}function yre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bre(t){return Array.isArray(t)&&Ja(t[0])&&Ja(t[1])?t.join(" ~ "):t}var Ju={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},_re=t=>{var{separator:e=Ju.separator,contentStyle:n,itemStyle:r,labelStyle:i=Ju.labelStyle,payload:s,formatter:c,itemSorter:u,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:v,accessibilityLayer:y=Ju.accessibilityLayer}=t,w=()=>{if(s&&s.length){var $={padding:0,margin:0},z=(u?v0(s,u):s).map((O,C)=>{if(O.type==="none")return null;var k=O.formatter||c||bre,{value:q,name:U}=O,L=q,M=U;if(k){var ue=k(q,U,O,C,s);if(Array.isArray(ue))[L,M]=ue;else if(ue!=null)L=ue;else return null}var Z=dh(dh({},Ju.itemStyle),{},{color:O.color||Ju.itemStyle.color},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:Z},Ja(M)?_.createElement("span",{className:"recharts-tooltip-item-name"},M):null,Ja(M)?_.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,_.createElement("span",{className:"recharts-tooltip-item-value"},L),_.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:$},z)}return null},j=dh(dh({},Ju.contentStyle),n),E=dh({margin:0},i),N=!Jt(p),S=N?p:"",D=gt("recharts-default-tooltip",f),R=gt("recharts-tooltip-label",h);N&&v&&s!==void 0&&s!==null&&(S=v(p,s));var I=y?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",NE({className:D,style:j},I),_.createElement("p",{className:R,style:E},_.isValidElement(S)?S:"".concat(S)),w())},fh="recharts-tooltip-wrapper",xre={visibility:"hidden"};function wre(t){var{coordinate:e,translateX:n,translateY:r}=t;return gt(fh,{["".concat(fh,"-right")]:Se(n)&&e&&Se(e.x)&&n>=e.x,["".concat(fh,"-left")]:Se(n)&&e&&Se(e.x)&&n<e.x,["".concat(fh,"-bottom")]:Se(r)&&e&&Se(e.y)&&r>=e.y,["".concat(fh,"-top")]:Se(r)&&e&&Se(e.y)&&r<e.y})}function RR(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:s,reverseDirection:c,tooltipDimension:u,viewBox:f,viewBoxDimension:h}=t;if(s&&Se(s[r]))return s[r];var p=n[r]-u-(i>0?i:0),v=n[r]+i;if(e[r])return c[r]?p:v;var y=f[r];if(y==null)return 0;if(c[r]){var w=p,j=y;return w<j?Math.max(v,y):Math.max(p,y)}if(h==null)return 0;var E=v+u,N=y+h;return E>N?Math.max(p,y):Math.max(v,y)}function Ere(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function jre(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:s,reverseDirection:c,tooltipBox:u,useTranslate3d:f,viewBox:h}=t,p,v,y;return u.height>0&&u.width>0&&n?(v=RR({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:s,reverseDirection:c,tooltipDimension:u.width,viewBox:h,viewBoxDimension:h.width}),y=RR({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:s,reverseDirection:c,tooltipDimension:u.height,viewBox:h,viewBoxDimension:h.height}),p=Ere({translateX:v,translateY:y,useTranslate3d:f})):p=xre,{cssProperties:p,cssClasses:wre({translateX:v,translateY:y,coordinate:n})}}function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){AE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AE(t,e,n){return(e=Nre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nre(t){var e=Are(t,"string");return typeof e=="symbol"?e:e+""}function Are(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Sre extends _.PureComponent{constructor(){super(...arguments),AE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),AE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:c,hasPayload:u,isAnimationActive:f,offset:h,position:p,reverseDirection:v,useTranslate3d:y,viewBox:w,wrapperStyle:j,lastBoundingBox:E,innerRef:N,hasPortalFromProps:S}=this.props,D=typeof h=="number"?h:h.x,R=typeof h=="number"?h:h.y,{cssClasses:I,cssProperties:$}=jre({allowEscapeViewBox:n,coordinate:c,offsetLeft:D,offsetTop:R,position:p,reverseDirection:v,tooltipBox:{height:E.height,width:E.width},useTranslate3d:y,viewBox:w}),z=S?{}:Fv(Fv({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},$),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),O=Fv(Fv({},z),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},j);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:O,ref:N},s)}}var a5=()=>{var t;return(t=Oe(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(null,arguments)}function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){Tre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tre(t,e,n){return(e=Cre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cre(t){var e=Pre(t,"string");return typeof e=="symbol"?e:e+""}function Pre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zR={curveBasisClosed:fJ,curveBasisOpen:hJ,curveBasis:dJ,curveBumpX:XZ,curveBumpY:ZZ,curveLinearClosed:mJ,curveLinear:m0,curveMonotoneX:pJ,curveMonotoneY:vJ,curveNatural:gJ,curveStep:yJ,curveStepAfter:_J,curveStepBefore:bJ},oy=t=>tt(t.x)&&tt(t.y),LR=t=>t.base!=null&&oy(t.base)&&oy(t),hh=t=>t.x,mh=t=>t.y,Ore=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Dm(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=zR["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return zR[n]||m0},VR={connectNulls:!1,type:"linear"},Ire=t=>{var{type:e=VR.type,points:n=[],baseLine:r,layout:i,connectNulls:s=VR.connectNulls}=t,c=Ore(e,i),u=s?n.filter(oy):n;if(Array.isArray(r)){var f,h=n.map((j,E)=>MR(MR({},j),{},{base:r[E]}));i==="vertical"?f=Mv().y(mh).x1(hh).x0(j=>j.base.x):f=Mv().x(hh).y1(mh).y0(j=>j.base.y);var p=f.defined(LR).curve(c),v=s?h.filter(LR):h;return p(v)}var y;i==="vertical"&&Se(r)?y=Mv().y(mh).x1(hh).x0(r):Se(r)?y=Mv().x(hh).y1(mh).y0(r):y=I3().x(hh).y(mh);var w=y.defined(oy).curve(c);return w(u)},xd=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=Ml();if((!n||!n.length)&&!r)return null;var c={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},u=n&&n.length?Ire(c):r;return _.createElement("path",SE({},zr(t),vN(t),{className:gt("recharts-curve",e),d:u===null?void 0:u,ref:i}))},Rre=["x","y","top","left","width","height","className"];function TE(){return TE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TE.apply(null,arguments)}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){kre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kre(t,e,n){return(e=Mre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mre(t){var e=zre(t,"string");return typeof e=="symbol"?e:e+""}function zre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lre(t,e){if(t==null)return{};var n,r,i=Vre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ure=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),qre=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:c=0,className:u}=t,f=Lre(t,Rre),h=Dre({x:e,y:n,top:r,left:i,width:s,height:c},f);return!Se(e)||!Se(n)||!Se(s)||!Se(c)||!Se(r)||!Se(i)?null:_.createElement("path",TE({},Tr(h),{className:gt("recharts-cross",u),d:Ure(e,n,s,c,r,i)}))};function Bre(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){$re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $re(t,e,n){return(e=Fre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fre(t){var e=Hre(t,"string");return typeof e=="symbol"?e:e+""}function Hre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kre=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),s5=(t,e,n)=>t.map(r=>"".concat(Kre(r)," ").concat(e,"ms ").concat(n)).join(","),Gre=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),om=(t,e)=>Object.keys(e).reduce((n,r)=>BR(BR({},n),{},{[r]:t(r,e[r])}),{});function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){Wre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wre(t,e,n){return(e=Qre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qre(t){var e=Yre(t,"string");return typeof e=="symbol"?e:e+""}function Yre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ly=(t,e,n)=>t+(e-t)*n,CE=t=>{var{from:e,to:n}=t;return e!==n},o5=(t,e,n)=>{var r=om((i,s)=>{if(CE(s)){var[c,u]=t(s.from,s.to,s.velocity);return Bn(Bn({},s),{},{from:c,velocity:u})}return s},e);return n<1?om((i,s)=>CE(s)&&r[i]!=null?Bn(Bn({},s),{},{velocity:ly(s.velocity,r[i].velocity,n),from:ly(s.from,r[i].from,n)}):s,e):o5(t,r,n-1)};function Xre(t,e,n,r,i,s){var c,u=r.reduce((y,w)=>Bn(Bn({},y),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),f=()=>om((y,w)=>w.from,u),h=()=>!Object.values(u).filter(CE).length,p=null,v=y=>{c||(c=y);var w=y-c,j=w/n.dt;u=o5(n,u,j),i(Bn(Bn(Bn({},t),e),f())),c=y,h()||(p=s.setTimeout(v))};return()=>(p=s.setTimeout(v),()=>{var y;(y=p)===null||y===void 0||y()})}function Zre(t,e,n,r,i,s,c){var u=null,f=i.reduce((v,y)=>{var w=t[y],j=e[y];return w==null||j==null?v:Bn(Bn({},v),{},{[y]:[w,j]})},{}),h,p=v=>{h||(h=v);var y=(v-h)/r,w=om((E,N)=>ly(...N,n(y)),f);if(s(Bn(Bn(Bn({},t),e),w)),y<1)u=c.setTimeout(p);else{var j=om((E,N)=>ly(...N,n(1)),f);s(Bn(Bn(Bn({},t),e),j))}};return()=>(u=c.setTimeout(p),()=>{var v;(v=u)===null||v===void 0||v()})}const Jre=(t,e,n,r,i,s)=>{var c=Gre(t,e);return n==null?()=>(i(Bn(Bn({},t),e)),()=>{}):n.isStepper===!0?Xre(t,e,n,c,i,s):Zre(t,e,n,r,c,i,s)};var cy=1e-4,l5=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],c5=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),FR=(t,e)=>n=>{var r=l5(t,e);return c5(r,n)},eie=(t,e)=>n=>{var r=l5(t,e),i=[...r.map((s,c)=>s*c).slice(1),0];return c5(i,n)},tie=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},nie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=tie(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},rie=(t,e,n,r)=>{var i=FR(t,n),s=FR(e,r),c=eie(t,n),u=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,v=p,y=0;y<8;++y){var w=i(v)-p,j=c(v);if(Math.abs(w-p)<cy||j<cy)return s(v);v=u(v-w/j)}return s(v)};return f.isStepper=!1,f},HR=function(){return rie(...nie(...arguments))},iie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(c,u,f)=>{var h=-(c-u)*n,p=f*r,v=f+(h-p)*i/1e3,y=f*i/1e3+c;return Math.abs(y-u)<cy&&Math.abs(v)<cy?[u,0]:[y,v]};return s.isStepper=!0,s.dt=i,s},aie=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return HR(t);case"spring":return iie();default:if(t.split("(")[0]==="cubic-bezier")return HR(t)}return typeof t=="function"?t:null};function sie(t){var e,n=()=>null,r=!1,i=null,s=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var u=c,[f,...h]=u;if(typeof f=="number"){i=t.setTimeout(s.bind(null,h),f);return}s(f),i=t.setTimeout(s.bind(null,h));return}typeof c=="string"&&(e=c,n(e)),typeof c=="object"&&(e=c,n(e)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,i&&(i(),i=null),s(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>t}}class oie{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=c=>{c-r>=n?e(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function lie(){return sie(new oie)}var cie=_.createContext(lie);function uie(t,e){var n=_.useContext(cie);return _.useMemo(()=>e??n(t),[t,e,n])}var die=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),qm={isSsr:die()},fie={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},KR={t:0},V1={t:1};function Wd(t){var e=vn(t,fie),{isActive:n,canBegin:r,duration:i,easing:s,begin:c,onAnimationEnd:u,onAnimationStart:f,children:h}=e,p=n==="auto"?!qm.isSsr:n,v=uie(e.animationId,e.animationManager),[y,w]=_.useState(p?KR:V1),j=_.useRef(null);return _.useEffect(()=>{p||w(V1)},[p]),_.useEffect(()=>{if(!p||!r)return Dl;var E=Jre(KR,V1,aie(s),i,w,v.getTimeoutController()),N=()=>{j.current=E()};return v.start([f,c,N,i,u]),()=>{v.stop(),j.current&&j.current(),u()}},[p,r,i,s,c,f,u,v]),h(y.t)}function Qd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(em(e)),r=_.useRef(t);return r.current!==t&&(n.current=em(e),r.current=t),n.current}var hie=["radius"],mie=["radius"],GR,WR,QR,YR,XR,ZR,JR,eD,tD,nD;function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){pie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pie(t,e,n){return(e=vie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vie(t){var e=gie(t,"string");return typeof e=="symbol"?e:e+""}function gie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uy(){return uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uy.apply(null,arguments)}function aD(t,e){if(t==null)return{};var n,r,i=yie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function za(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var sD=(t,e,n,r,i)=>{var s=ol(n),c=ol(r),u=Math.min(Math.abs(s)/2,Math.abs(c)/2),f=c>=0?1:-1,h=s>=0?1:-1,p=c>=0&&s>=0||c<0&&s<0?1:0,v;if(u>0&&Array.isArray(i)){for(var y=[0,0,0,0],w=0,j=4;w<j;w++){var E,N=(E=i[w])!==null&&E!==void 0?E:0;y[w]=N>u?u:N}v=un(GR||(GR=za(["M",",",""])),t,e+f*y[0]),y[0]>0&&(v+=un(WR||(WR=za(["A ",",",",0,0,",",",",",""])),y[0],y[0],p,t+h*y[0],e)),v+=un(QR||(QR=za(["L ",",",""])),t+n-h*y[1],e),y[1]>0&&(v+=un(YR||(YR=za(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],p,t+n,e+f*y[1])),v+=un(XR||(XR=za(["L ",",",""])),t+n,e+r-f*y[2]),y[2]>0&&(v+=un(ZR||(ZR=za(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],p,t+n-h*y[2],e+r)),v+=un(JR||(JR=za(["L ",",",""])),t+h*y[3],e+r),y[3]>0&&(v+=un(eD||(eD=za(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],p,t,e+r-f*y[3])),v+="Z"}else if(u>0&&i===+i&&i>0){var S=Math.min(u,i);v=un(tD||(tD=za(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+f*S,S,S,p,t+h*S,e,t+n-h*S,e,S,S,p,t+n,e+f*S,t+n,e+r-f*S,S,S,p,t+n-h*S,e+r,t+h*S,e+r,S,S,p,t,e+r-f*S)}else v=un(nD||(nD=za(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return v},oD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},u5=t=>{var e=vn(t,oD),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var J=n.current.getTotalLength();J&&i(J)}catch{}},[]);var{x:s,y:c,width:u,height:f,radius:h,className:p}=e,{animationEasing:v,animationDuration:y,animationBegin:w,isAnimationActive:j,isUpdateAnimationActive:E}=e,N=_.useRef(u),S=_.useRef(f),D=_.useRef(s),R=_.useRef(c),I=_.useMemo(()=>({x:s,y:c,width:u,height:f,radius:h}),[s,c,u,f,h]),$=Qd(I,"rectangle-");if(s!==+s||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var z=gt("recharts-rectangle",p);if(!E){var O=Tr(e),{radius:C}=O,k=aD(O,hie);return _.createElement("path",uy({},k,{x:ol(s),y:ol(c),width:ol(u),height:ol(f),radius:typeof h=="number"?h:void 0,className:z,d:sD(s,c,u,f,h)}))}var q=N.current,U=S.current,L=D.current,M=R.current,ue="0px ".concat(r===-1?1:r,"px"),Z="".concat(r,"px 0px"),B=s5(["strokeDasharray"],y,typeof v=="string"?v:oD.animationEasing);return _.createElement(Wd,{animationId:$,key:$,canBegin:r>0,duration:y,easing:v,isActive:E,begin:w},J=>{var he=jt(q,u,J),Ee=jt(U,f,J),xe=jt(L,s,J),H=jt(M,c,J);n.current&&(N.current=he,S.current=Ee,D.current=xe,R.current=H);var ae;j?J>0?ae={transition:B,strokeDasharray:Z}:ae={strokeDasharray:ue}:ae={strokeDasharray:Z};var ye=Tr(e),{radius:we}=ye,Y=aD(ye,mie);return _.createElement("path",uy({},Y,{radius:typeof h=="number"?h:void 0,className:z,d:sD(xe,H,he,Ee,h),ref:n,style:iD(iD({},ae),e.style)}))})};function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){bie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bie(t,e,n){return(e=_ie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ie(t){var e=xie(t,"string");return typeof e=="symbol"?e:e+""}function xie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dy=Math.PI/180,wie=t=>t*180/Math.PI,zn=(t,e,n,r)=>({x:t+Math.cos(-dy*r)*n,y:e+Math.sin(-dy*r)*n}),d5=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Eie=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},jie=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,c=Eie({x:n,y:r},{x:i,y:s});if(c<=0)return{radius:c,angle:0};var u=(n-i)/c,f=Math.acos(u);return r>s&&(f=2*Math.PI-f),{radius:c,angle:wie(f),angleInRadian:f}},Nie=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},Aie=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),c=Math.min(i,s);return t+c*360},Sie=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=jie({x:n,y:r},e),{innerRadius:c,outerRadius:u}=e;if(i<c||i>u||i===0)return null;var{startAngle:f,endAngle:h}=Nie(e),p=s,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?cD(cD({},e),{},{radius:i,angle:Aie(p,e)}):null};function f5(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,c=zn(e,n,r,i),u=zn(e,n,r,s);return{points:[c,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var uD,dD,fD,hD,mD,pD,vD;function PE(){return PE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PE.apply(null,arguments)}function Nc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Tie=(t,e)=>{var n=nr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Hv=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:c,cornerRadius:u,cornerIsExternal:f}=t,h=u*(c?1:-1)+r,p=Math.asin(u/h)/dy,v=f?i:i+s*p,y=zn(e,n,h,v),w=zn(e,n,r,v),j=f?i-s*p:i,E=zn(e,n,h*Math.cos(p*dy),j);return{center:y,circleTangency:w,lineTangency:E,theta:p}},h5=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:c}=t,u=Tie(s,c),f=s+u,h=zn(e,n,i,s),p=zn(e,n,i,f),v=un(uD||(uD=Nc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(u)>180),+(s>f),p.x,p.y);if(r>0){var y=zn(e,n,r,s),w=zn(e,n,r,f);v+=un(dD||(dD=Nc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),w.x,w.y,r,r,+(Math.abs(u)>180),+(s<=f),y.x,y.y)}else v+=un(fD||(fD=Nc(["L ",","," Z"])),e,n);return v},Cie=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:h}=t,p=nr(h-f),{circleTangency:v,lineTangency:y,theta:w}=Hv({cx:e,cy:n,radius:i,angle:f,sign:p,cornerRadius:s,cornerIsExternal:u}),{circleTangency:j,lineTangency:E,theta:N}=Hv({cx:e,cy:n,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:u}),S=u?Math.abs(f-h):Math.abs(f-h)-w-N;if(S<0)return c?un(hD||(hD=Nc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,s,s,s*2,s,s,-s*2):h5({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var D=un(mD||(mD=Nc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,s,s,+(p<0),v.x,v.y,i,i,+(S>180),+(p<0),j.x,j.y,s,s,+(p<0),E.x,E.y);if(r>0){var{circleTangency:R,lineTangency:I,theta:$}=Hv({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:z,lineTangency:O,theta:C}=Hv({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),k=u?Math.abs(f-h):Math.abs(f-h)-$-C;if(k<0&&s===0)return"".concat(D,"L").concat(e,",").concat(n,"Z");D+=un(pD||(pD=Nc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),O.x,O.y,s,s,+(p<0),z.x,z.y,r,r,+(k>180),+(p>0),R.x,R.y,s,s,+(p<0),I.x,I.y)}else D+=un(vD||(vD=Nc(["L",",","Z"])),e,n);return D},Pie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},m5=t=>{var e=vn(t,Pie),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:p,className:v}=e;if(s<i||h===p)return null;var y=gt("recharts-sector",v),w=s-i,j=Ar(c,w,0,!0),E;return j>0&&Math.abs(h-p)<360?E=Cie({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(j,w/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:p}):E=h5({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),_.createElement("path",PE({},Tr(e),{className:y,d:E}))};function Oie(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(G3(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:c,angle:u}=e,f=zn(r,i,s,u),h=zn(r,i,c,u);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return f5(e)}}var U1={},q1={},B1={},gD;function Iie(){return gD||(gD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i6();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(B1)),B1}var yD;function Rie(){return yD||(yD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Iie();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(q1)),q1}var bD;function Die(){return bD||(bD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a6(),n=Rie();function r(i,s,c){c&&typeof c!="number"&&e.isIterateeCall(i,s,c)&&(s=c=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),c=c===void 0?i<s?1:-1:n.toFinite(c);const u=Math.max(Math.ceil((s-i)/(c||1)),0),f=new Array(u);for(let h=0;h<u;h++)f[h]=i,i+=c;return f}t.range=r})(U1)),U1}var $1,_D;function kie(){return _D||(_D=1,$1=Die().range),$1}var Mie=kie();const p5=is(Mie);function hl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zie(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function DN(t){let e,n,r;t.length!==2?(e=hl,n=(u,f)=>hl(t(u),f),r=(u,f)=>t(u)-f):(e=t===hl||t===zie?t:Lie,n=t,r=t);function i(u,f,h=0,p=u.length){if(h<p){if(e(f,f)!==0)return p;do{const v=h+p>>>1;n(u[v],f)<0?h=v+1:p=v}while(h<p)}return h}function s(u,f,h=0,p=u.length){if(h<p){if(e(f,f)!==0)return p;do{const v=h+p>>>1;n(u[v],f)<=0?h=v+1:p=v}while(h<p)}return h}function c(u,f,h=0,p=u.length){const v=i(u,f,h,p-1);return v>h&&r(u[v-1],f)>-r(u[v],f)?v-1:v}return{left:i,center:c,right:s}}function Lie(){return 0}function v5(t){return t===null?NaN:+t}function*Vie(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Uie=DN(hl),Bm=Uie.right;DN(v5).center;class xD extends Map{constructor(e,n=$ie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(wD(this,e))}has(e){return super.has(wD(this,e))}set(e,n){return super.set(qie(this,e),n)}delete(e){return super.delete(Bie(this,e))}}function wD({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function qie({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Bie({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function $ie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Fie(t=hl){if(t===hl)return g5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function g5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Hie=Math.sqrt(50),Kie=Math.sqrt(10),Gie=Math.sqrt(2);function fy(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),c=s>=Hie?10:s>=Kie?5:s>=Gie?2:1;let u,f,h;return i<0?(h=Math.pow(10,-i)/c,u=Math.round(t*h),f=Math.round(e*h),u/h<t&&++u,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*c,u=Math.round(t/h),f=Math.round(e/h),u*h<t&&++u,f*h>e&&--f),f<u&&.5<=n&&n<2?fy(t,e,n*2):[u,f,h]}function OE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,c]=r?fy(e,t,n):fy(t,e,n);if(!(s>=i))return[];const u=s-i+1,f=new Array(u);if(r)if(c<0)for(let h=0;h<u;++h)f[h]=(s-h)/-c;else for(let h=0;h<u;++h)f[h]=(s-h)*c;else if(c<0)for(let h=0;h<u;++h)f[h]=(i+h)/-c;else for(let h=0;h<u;++h)f[h]=(i+h)*c;return f}function IE(t,e,n){return e=+e,t=+t,n=+n,fy(t,e,n)[2]}function RE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?IE(e,t,n):IE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ED(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function jD(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function y5(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?g5:Fie(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),v=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*v*(f-v)/f)*(h-f/2<0?-1:1),w=Math.max(n,Math.floor(e-h*v/f+y)),j=Math.min(r,Math.floor(e+(f-h)*v/f+y));y5(t,e,w,j,i)}const s=t[e];let c=n,u=r;for(ph(t,n,e),i(t[r],s)>0&&ph(t,n,r);c<u;){for(ph(t,c,u),++c,--u;i(t[c],s)<0;)++c;for(;i(t[u],s)>0;)--u}i(t[n],s)===0?ph(t,n,u):(++u,ph(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function ph(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Wie(t,e,n){if(t=Float64Array.from(Vie(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return jD(t);if(e>=1)return ED(t);var r,i=(r-1)*e,s=Math.floor(i),c=ED(y5(t,s).subarray(0,s+1)),u=jD(t.subarray(s+1));return c+(u-c)*(i-s)}}function Qie(t,e,n=v5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),c=+n(t[s],s,t),u=+n(t[s+1],s+1,t);return c+(u-c)*(i-s)}}function Yie(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Gi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function oo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const DE=Symbol("implicit");function kN(){var t=new xD,e=[],n=[],r=DE;function i(s){let c=t.get(s);if(c===void 0){if(r!==DE)return r;t.set(s,c=e.push(s)-1)}return n[c%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new xD;for(const c of s)t.has(c)||t.set(c,e.push(c)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return kN(e,n).unknown(r)},Gi.apply(i,arguments),i}function MN(){var t=kN().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,c,u=!1,f=0,h=0,p=.5;delete t.unknown;function v(){var y=e().length,w=i<r,j=w?i:r,E=w?r:i;s=(E-j)/Math.max(1,y-f+h*2),u&&(s=Math.floor(s)),j+=(E-j-s*(y-f))*p,c=s*(1-f),u&&(j=Math.round(j),c=Math.round(c));var N=Yie(y).map(function(S){return j+s*S});return n(w?N.reverse():N)}return t.domain=function(y){return arguments.length?(e(y),v()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,v()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,u=!0,v()},t.bandwidth=function(){return c},t.step=function(){return s},t.round=function(y){return arguments.length?(u=!!y,v()):u},t.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),v()):f},t.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),v()):f},t.paddingOuter=function(y){return arguments.length?(h=+y,v()):h},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),v()):p},t.copy=function(){return MN(e(),[r,i]).round(u).paddingInner(f).paddingOuter(h).align(p)},Gi.apply(v(),arguments)}function b5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return b5(e())},t}function Xie(){return b5(MN.apply(null,arguments).paddingInner(1))}function zN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function _5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function $m(){}var lm=.7,hy=1/lm,wd="\\s*([+-]?\\d+)\\s*",cm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zie=/^#([0-9a-f]{3,8})$/,Jie=new RegExp(`^rgb\\(${wd},${wd},${wd}\\)$`),eae=new RegExp(`^rgb\\(${Xa},${Xa},${Xa}\\)$`),tae=new RegExp(`^rgba\\(${wd},${wd},${wd},${cm}\\)$`),nae=new RegExp(`^rgba\\(${Xa},${Xa},${Xa},${cm}\\)$`),rae=new RegExp(`^hsl\\(${cm},${Xa},${Xa}\\)$`),iae=new RegExp(`^hsla\\(${cm},${Xa},${Xa},${cm}\\)$`),ND={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zN($m,um,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:AD,formatHex:AD,formatHex8:aae,formatHsl:sae,formatRgb:SD,toString:SD});function AD(){return this.rgb().formatHex()}function aae(){return this.rgb().formatHex8()}function sae(){return x5(this).formatHsl()}function SD(){return this.rgb().formatRgb()}function um(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Zie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?TD(e):n===3?new ti(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Kv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Kv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Jie.exec(t))?new ti(e[1],e[2],e[3],1):(e=eae.exec(t))?new ti(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=tae.exec(t))?Kv(e[1],e[2],e[3],e[4]):(e=nae.exec(t))?Kv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=rae.exec(t))?OD(e[1],e[2]/100,e[3]/100,1):(e=iae.exec(t))?OD(e[1],e[2]/100,e[3]/100,e[4]):ND.hasOwnProperty(t)?TD(ND[t]):t==="transparent"?new ti(NaN,NaN,NaN,0):null}function TD(t){return new ti(t>>16&255,t>>8&255,t&255,1)}function Kv(t,e,n,r){return r<=0&&(t=e=n=NaN),new ti(t,e,n,r)}function oae(t){return t instanceof $m||(t=um(t)),t?(t=t.rgb(),new ti(t.r,t.g,t.b,t.opacity)):new ti}function kE(t,e,n,r){return arguments.length===1?oae(t):new ti(t,e,n,r??1)}function ti(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}zN(ti,kE,_5($m,{brighter(t){return t=t==null?hy:Math.pow(hy,t),new ti(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?lm:Math.pow(lm,t),new ti(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ti(Mc(this.r),Mc(this.g),Mc(this.b),my(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CD,formatHex:CD,formatHex8:lae,formatRgb:PD,toString:PD}));function CD(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}`}function lae(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}${Ac((isNaN(this.opacity)?1:this.opacity)*255)}`}function PD(){const t=my(this.opacity);return`${t===1?"rgb(":"rgba("}${Mc(this.r)}, ${Mc(this.g)}, ${Mc(this.b)}${t===1?")":`, ${t})`}`}function my(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Mc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ac(t){return t=Mc(t),(t<16?"0":"")+t.toString(16)}function OD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ca(t,e,n,r)}function x5(t){if(t instanceof ca)return new ca(t.h,t.s,t.l,t.opacity);if(t instanceof $m||(t=um(t)),!t)return new ca;if(t instanceof ca)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),c=NaN,u=s-i,f=(s+i)/2;return u?(e===s?c=(n-r)/u+(n<r)*6:n===s?c=(r-e)/u+2:c=(e-n)/u+4,u/=f<.5?s+i:2-s-i,c*=60):u=f>0&&f<1?0:c,new ca(c,u,f,t.opacity)}function cae(t,e,n,r){return arguments.length===1?x5(t):new ca(t,e,n,r??1)}function ca(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}zN(ca,cae,_5($m,{brighter(t){return t=t==null?hy:Math.pow(hy,t),new ca(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?lm:Math.pow(lm,t),new ca(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ti(F1(t>=240?t-240:t+120,i,r),F1(t,i,r),F1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ca(ID(this.h),Gv(this.s),Gv(this.l),my(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=my(this.opacity);return`${t===1?"hsl(":"hsla("}${ID(this.h)}, ${Gv(this.s)*100}%, ${Gv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ID(t){return t=(t||0)%360,t<0?t+360:t}function Gv(t){return Math.max(0,Math.min(1,t||0))}function F1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const LN=t=>()=>t;function uae(t,e){return function(n){return t+n*e}}function dae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fae(t){return(t=+t)==1?w5:function(e,n){return n-e?dae(e,n,t):LN(isNaN(e)?n:e)}}function w5(t,e){var n=e-t;return n?uae(t,n):LN(isNaN(t)?e:t)}const RD=(function t(e){var n=fae(e);function r(i,s){var c=n((i=kE(i)).r,(s=kE(s)).r),u=n(i.g,s.g),f=n(i.b,s.b),h=w5(i.opacity,s.opacity);return function(p){return i.r=c(p),i.g=u(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=t,r})(1);function hae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function mae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),c;for(c=0;c<r;++c)i[c]=Yd(t[c],e[c]);for(;c<n;++c)s[c]=e[c];return function(u){for(c=0;c<r;++c)s[c]=i[c](u);return s}}function vae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function py(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function gae(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Yd(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var ME=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,H1=new RegExp(ME.source,"g");function yae(t){return function(){return t}}function bae(t){return function(e){return t(e)+""}}function _ae(t,e){var n=ME.lastIndex=H1.lastIndex=0,r,i,s,c=-1,u=[],f=[];for(t=t+"",e=e+"";(r=ME.exec(t))&&(i=H1.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),u[c]?u[c]+=s:u[++c]=s),(r=r[0])===(i=i[0])?u[c]?u[c]+=i:u[++c]=i:(u[++c]=null,f.push({i:c,x:py(r,i)})),n=H1.lastIndex;return n<e.length&&(s=e.slice(n),u[c]?u[c]+=s:u[++c]=s),u.length<2?f[0]?bae(f[0].x):yae(e):(e=f.length,function(h){for(var p=0,v;p<e;++p)u[(v=f[p]).i]=v.x(h);return u.join("")})}function Yd(t,e){var n=typeof e,r;return e==null||n==="boolean"?LN(e):(n==="number"?py:n==="string"?(r=um(e))?(e=r,RD):_ae:e instanceof um?RD:e instanceof Date?vae:mae(e)?hae:Array.isArray(e)?pae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?gae:py)(t,e)}function VN(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function xae(t,e){e===void 0&&(e=t,t=Yd);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(c){var u=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return s[u](c-u)}}function wae(t){return function(){return t}}function vy(t){return+t}var DD=[0,1];function Dr(t){return t}function zE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:wae(isNaN(e)?NaN:.5)}function Eae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function jae(t,e,n){var r=t[0],i=t[1],s=e[0],c=e[1];return i<r?(r=zE(i,r),s=n(c,s)):(r=zE(r,i),s=n(s,c)),function(u){return s(r(u))}}function Nae(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),c=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<r;)i[c]=zE(t[c],t[c+1]),s[c]=n(e[c],e[c+1]);return function(u){var f=Bm(t,u,1,r)-1;return s[f](i[f](u))}}function Fm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function D0(){var t=DD,e=DD,n=Yd,r,i,s,c=Dr,u,f,h;function p(){var y=Math.min(t.length,e.length);return c!==Dr&&(c=Eae(t[0],t[y-1])),u=y>2?Nae:jae,f=h=null,v}function v(y){return y==null||isNaN(y=+y)?s:(f||(f=u(t.map(r),e,n)))(r(c(y)))}return v.invert=function(y){return c(i((h||(h=u(e,t.map(r),py)))(y)))},v.domain=function(y){return arguments.length?(t=Array.from(y,vy),p()):t.slice()},v.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},v.rangeRound=function(y){return e=Array.from(y),n=VN,p()},v.clamp=function(y){return arguments.length?(c=y?!0:Dr,p()):c!==Dr},v.interpolate=function(y){return arguments.length?(n=y,p()):n},v.unknown=function(y){return arguments.length?(s=y,v):s},function(y,w){return r=y,i=w,p()}}function UN(){return D0()(Dr,Dr)}function Aae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function gy(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function kd(t){return t=gy(Math.abs(t)),t?t[1]:NaN}function Sae(t,e){return function(n,r){for(var i=n.length,s=[],c=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),s.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[c=(c+1)%t.length];return s.reverse().join(e)}}function Tae(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Cae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dm(t){if(!(e=Cae.exec(t)))throw new Error("invalid format: "+t);var e;return new qN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}dm.prototype=qN.prototype;function qN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}qN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pae(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var yy;function Oae(t,e){var n=gy(t,e);if(!n)return yy=void 0,t.toPrecision(e);var r=n[0],i=n[1],s=i-(yy=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=r.length;return s===c?r:s>c?r+new Array(s-c+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+gy(t,Math.max(0,e+s-1))[0]}function kD(t,e){var n=gy(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const MD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Aae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>kD(t*100,e),r:kD,s:Oae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function zD(t){return t}var LD=Array.prototype.map,VD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Iae(t){var e=t.grouping===void 0||t.thousands===void 0?zD:Sae(LD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?zD:Tae(LD.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(v,y){v=dm(v);var w=v.fill,j=v.align,E=v.sign,N=v.symbol,S=v.zero,D=v.width,R=v.comma,I=v.precision,$=v.trim,z=v.type;z==="n"?(R=!0,z="g"):MD[z]||(I===void 0&&(I=12),$=!0,z="g"),(S||w==="0"&&j==="=")&&(S=!0,w="0",j="=");var O=(y&&y.prefix!==void 0?y.prefix:"")+(N==="$"?n:N==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():""),C=(N==="$"?r:/[%p]/.test(z)?c:"")+(y&&y.suffix!==void 0?y.suffix:""),k=MD[z],q=/[defgprs%]/.test(z);I=I===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function U(L){var M=O,ue=C,Z,B,J;if(z==="c")ue=k(L)+ue,L="";else{L=+L;var he=L<0||1/L<0;if(L=isNaN(L)?f:k(Math.abs(L),I),$&&(L=Pae(L)),he&&+L==0&&E!=="+"&&(he=!1),M=(he?E==="("?E:u:E==="-"||E==="("?"":E)+M,ue=(z==="s"&&!isNaN(L)&&yy!==void 0?VD[8+yy/3]:"")+ue+(he&&E==="("?")":""),q){for(Z=-1,B=L.length;++Z<B;)if(J=L.charCodeAt(Z),48>J||J>57){ue=(J===46?i+L.slice(Z+1):L.slice(Z))+ue,L=L.slice(0,Z);break}}}R&&!S&&(L=e(L,1/0));var Ee=M.length+L.length+ue.length,xe=Ee<D?new Array(D-Ee+1).join(w):"";switch(R&&S&&(L=e(xe+L,xe.length?D-ue.length:1/0),xe=""),j){case"<":L=M+L+ue+xe;break;case"=":L=M+xe+L+ue;break;case"^":L=xe.slice(0,Ee=xe.length>>1)+M+L+ue+xe.slice(Ee);break;default:L=xe+M+L+ue;break}return s(L)}return U.toString=function(){return v+""},U}function p(v,y){var w=Math.max(-8,Math.min(8,Math.floor(kd(y)/3)))*3,j=Math.pow(10,-w),E=h((v=dm(v),v.type="f",v),{suffix:VD[8+w/3]});return function(N){return E(j*N)}}return{format:h,formatPrefix:p}}var Wv,BN,E5;Rae({thousands:",",grouping:[3],currency:["$",""]});function Rae(t){return Wv=Iae(t),BN=Wv.format,E5=Wv.formatPrefix,Wv}function Dae(t){return Math.max(0,-kd(Math.abs(t)))}function kae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kd(e)/3)))*3-kd(Math.abs(t)))}function Mae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,kd(e)-kd(t))+1}function j5(t,e,n,r){var i=RE(t,e,n),s;switch(r=dm(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=kae(i,c))&&(r.precision=s),E5(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Mae(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Dae(i))&&(r.precision=s-(r.type==="%")*2);break}}return BN(r)}function zl(t){var e=t.domain;return t.ticks=function(n){var r=e();return OE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return j5(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,c=r[i],u=r[s],f,h,p=10;for(u<c&&(h=c,c=u,u=h,h=i,i=s,s=h);p-- >0;){if(h=IE(c,u,n),h===f)return r[i]=c,r[s]=u,e(r);if(h>0)c=Math.floor(c/h)*h,u=Math.ceil(u/h)*h;else if(h<0)c=Math.ceil(c*h)/h,u=Math.floor(u*h)/h;else break;f=h}return t},t}function N5(){var t=UN();return t.copy=function(){return Fm(t,N5())},Gi.apply(t,arguments),zl(t)}function A5(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,vy),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return A5(t).unknown(e)},t=arguments.length?Array.from(t,vy):[0,1],zl(n)}function S5(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],c;return s<i&&(c=n,n=r,r=c,c=i,i=s,s=c),t[n]=e.floor(i),t[r]=e.ceil(s),t}function UD(t){return Math.log(t)}function qD(t){return Math.exp(t)}function zae(t){return-Math.log(-t)}function Lae(t){return-Math.exp(-t)}function Vae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Uae(t){return t===10?Vae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function qae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function BD(t){return(e,n)=>-t(-e,n)}function $N(t){const e=t(UD,qD),n=e.domain;let r=10,i,s;function c(){return i=qae(r),s=Uae(r),n()[0]<0?(i=BD(i),s=BD(s),t(zae,Lae)):t(UD,qD),e}return e.base=function(u){return arguments.length?(r=+u,c()):r},e.domain=function(u){return arguments.length?(n(u),c()):n()},e.ticks=u=>{const f=n();let h=f[0],p=f[f.length-1];const v=p<h;v&&([h,p]=[p,h]);let y=i(h),w=i(p),j,E;const N=u==null?10:+u;let S=[];if(!(r%1)&&w-y<N){if(y=Math.floor(y),w=Math.ceil(w),h>0){for(;y<=w;++y)for(j=1;j<r;++j)if(E=y<0?j/s(-y):j*s(y),!(E<h)){if(E>p)break;S.push(E)}}else for(;y<=w;++y)for(j=r-1;j>=1;--j)if(E=y>0?j/s(-y):j*s(y),!(E<h)){if(E>p)break;S.push(E)}S.length*2<N&&(S=OE(h,p,N))}else S=OE(y,w,Math.min(w-y,N)).map(s);return v?S.reverse():S},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=dm(f)).precision==null&&(f.trim=!0),f=BN(f)),u===1/0)return f;const h=Math.max(1,r*u/e.ticks().length);return p=>{let v=p/s(Math.round(i(p)));return v*r<r-.5&&(v*=r),v<=h?f(p):""}},e.nice=()=>n(S5(n(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),e}function T5(){const t=$N(D0()).domain([1,10]);return t.copy=()=>Fm(t,T5()).base(t.base()),Gi.apply(t,arguments),t}function $D(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function FD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function FN(t){var e=1,n=t($D(e),FD(e));return n.constant=function(r){return arguments.length?t($D(e=+r),FD(e)):e},zl(n)}function C5(){var t=FN(D0());return t.copy=function(){return Fm(t,C5()).constant(t.constant())},Gi.apply(t,arguments)}function HD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Bae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function $ae(t){return t<0?-t*t:t*t}function HN(t){var e=t(Dr,Dr),n=1;function r(){return n===1?t(Dr,Dr):n===.5?t(Bae,$ae):t(HD(n),HD(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},zl(e)}function KN(){var t=HN(D0());return t.copy=function(){return Fm(t,KN()).exponent(t.exponent())},Gi.apply(t,arguments),t}function Fae(){return KN.apply(null,arguments).exponent(.5)}function KD(t){return Math.sign(t)*t*t}function Hae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function P5(){var t=UN(),e=[0,1],n=!1,r;function i(s){var c=Hae(t(s));return isNaN(c)?r:n?Math.round(c):c}return i.invert=function(s){return t.invert(KD(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,vy)).map(KD)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return P5(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Gi.apply(i,arguments),zl(i)}function O5(){var t=[],e=[],n=[],r;function i(){var c=0,u=Math.max(1,e.length);for(n=new Array(u-1);++c<u;)n[c-1]=Qie(t,c/u);return s}function s(c){return c==null||isNaN(c=+c)?r:e[Bm(n,c)]}return s.invertExtent=function(c){var u=e.indexOf(c);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},s.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let u of c)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(hl),i()},s.range=function(c){return arguments.length?(e=Array.from(c),i()):e.slice()},s.unknown=function(c){return arguments.length?(r=c,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return O5().domain(t).range(e).unknown(r)},Gi.apply(s,arguments)}function I5(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function c(f){return f!=null&&f<=f?i[Bm(r,f,0,n)]:s}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return c}return c.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},c.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},c.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},c.unknown=function(f){return arguments.length&&(s=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return I5().domain([t,e]).range(i).unknown(s)},Gi.apply(zl(c),arguments)}function R5(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Bm(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var c=e.indexOf(s);return[t[c-1],t[c]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return R5().domain(t).range(e).unknown(n)},Gi.apply(i,arguments)}const K1=new Date,G1=new Date;function Hn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const c=i(s),u=i.ceil(s);return s-c<u-s?c:u},i.offset=(s,c)=>(e(s=new Date(+s),c==null?1:Math.floor(c)),s),i.range=(s,c,u)=>{const f=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<c)||!(u>0))return f;let h;do f.push(h=new Date(+s)),e(s,u),t(s);while(h<s&&s<c);return f},i.filter=s=>Hn(c=>{if(c>=c)for(;t(c),!s(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;e(c,-1),!s(c););else for(;--u>=0;)for(;e(c,1),!s(c););}),n&&(i.count=(s,c)=>(K1.setTime(+s),G1.setTime(+c),t(K1),t(G1),Math.floor(n(K1,G1))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?c=>r(c)%s===0:c=>i.count(0,c)%s===0):i)),i}const by=Hn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);by.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Hn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):by);by.range;const Ds=1e3,Bi=Ds*60,ks=Bi*60,Gs=ks*24,GN=Gs*7,GD=Gs*30,W1=Gs*365,Sc=Hn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ds)},(t,e)=>(e-t)/Ds,t=>t.getUTCSeconds());Sc.range;const WN=Hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ds)},(t,e)=>{t.setTime(+t+e*Bi)},(t,e)=>(e-t)/Bi,t=>t.getMinutes());WN.range;const QN=Hn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Bi)},(t,e)=>(e-t)/Bi,t=>t.getUTCMinutes());QN.range;const YN=Hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ds-t.getMinutes()*Bi)},(t,e)=>{t.setTime(+t+e*ks)},(t,e)=>(e-t)/ks,t=>t.getHours());YN.range;const XN=Hn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ks)},(t,e)=>(e-t)/ks,t=>t.getUTCHours());XN.range;const Hm=Hn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Bi)/Gs,t=>t.getDate()-1);Hm.range;const k0=Hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gs,t=>t.getUTCDate()-1);k0.range;const D5=Hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gs,t=>Math.floor(t/Gs));D5.range;function ou(t){return Hn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Bi)/GN)}const M0=ou(0),_y=ou(1),Kae=ou(2),Gae=ou(3),Md=ou(4),Wae=ou(5),Qae=ou(6);M0.range;_y.range;Kae.range;Gae.range;Md.range;Wae.range;Qae.range;function lu(t){return Hn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/GN)}const z0=lu(0),xy=lu(1),Yae=lu(2),Xae=lu(3),zd=lu(4),Zae=lu(5),Jae=lu(6);z0.range;xy.range;Yae.range;Xae.range;zd.range;Zae.range;Jae.range;const ZN=Hn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ZN.range;const JN=Hn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());JN.range;const Ws=Hn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ws.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Hn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ws.range;const Qs=Hn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Hn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Qs.range;function k5(t,e,n,r,i,s){const c=[[Sc,1,Ds],[Sc,5,5*Ds],[Sc,15,15*Ds],[Sc,30,30*Ds],[s,1,Bi],[s,5,5*Bi],[s,15,15*Bi],[s,30,30*Bi],[i,1,ks],[i,3,3*ks],[i,6,6*ks],[i,12,12*ks],[r,1,Gs],[r,2,2*Gs],[n,1,GN],[e,1,GD],[e,3,3*GD],[t,1,W1]];function u(h,p,v){const y=p<h;y&&([h,p]=[p,h]);const w=v&&typeof v.range=="function"?v:f(h,p,v),j=w?w.range(h,+p+1):[];return y?j.reverse():j}function f(h,p,v){const y=Math.abs(p-h)/v,w=DN(([,,N])=>N).right(c,y);if(w===c.length)return t.every(RE(h/W1,p/W1,v));if(w===0)return by.every(Math.max(RE(h,p,v),1));const[j,E]=c[y/c[w-1][2]<c[w][2]/y?w-1:w];return j.every(E)}return[u,f]}const[ese,tse]=k5(Qs,JN,z0,D5,XN,QN),[nse,rse]=k5(Ws,ZN,M0,Hm,YN,WN);function Q1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Y1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function vh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ise(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,c=t.shortDays,u=t.months,f=t.shortMonths,h=gh(i),p=yh(i),v=gh(s),y=yh(s),w=gh(c),j=yh(c),E=gh(u),N=yh(u),S=gh(f),D=yh(f),R={a:J,A:he,b:Ee,B:xe,c:null,d:JD,e:JD,f:Sse,g:zse,G:Vse,H:jse,I:Nse,j:Ase,L:M5,m:Tse,M:Cse,p:H,q:ae,Q:nk,s:rk,S:Pse,u:Ose,U:Ise,V:Rse,w:Dse,W:kse,x:null,X:null,y:Mse,Y:Lse,Z:Use,"%":tk},I={a:ye,A:we,b:Y,B:W,c:null,d:ek,e:ek,f:Fse,g:eoe,G:noe,H:qse,I:Bse,j:$se,L:L5,m:Hse,M:Kse,p:_e,q:Ve,Q:nk,s:rk,S:Gse,u:Wse,U:Qse,V:Yse,w:Xse,W:Zse,x:null,X:null,y:Jse,Y:toe,Z:roe,"%":tk},$={a:q,A:U,b:L,B:M,c:ue,d:XD,e:XD,f:_se,g:YD,G:QD,H:ZD,I:ZD,j:vse,L:bse,m:pse,M:gse,p:k,q:mse,Q:wse,s:Ese,S:yse,u:cse,U:use,V:dse,w:lse,W:fse,x:Z,X:B,y:YD,Y:QD,Z:hse,"%":xse};R.x=z(n,R),R.X=z(r,R),R.c=z(e,R),I.x=z(n,I),I.X=z(r,I),I.c=z(e,I);function z(oe,Ae){return function(Q){var ve=[],ke=-1,$e=0,at=oe.length,dt,vt,gr;for(Q instanceof Date||(Q=new Date(+Q));++ke<at;)oe.charCodeAt(ke)===37&&(ve.push(oe.slice($e,ke)),(vt=WD[dt=oe.charAt(++ke)])!=null?dt=oe.charAt(++ke):vt=dt==="e"?" ":"0",(gr=Ae[dt])&&(dt=gr(Q,vt)),ve.push(dt),$e=ke+1);return ve.push(oe.slice($e,ke)),ve.join("")}}function O(oe,Ae){return function(Q){var ve=vh(1900,void 0,1),ke=C(ve,oe,Q+="",0),$e,at;if(ke!=Q.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(Ae&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?($e=Y1(vh(ve.y,0,1)),at=$e.getUTCDay(),$e=at>4||at===0?xy.ceil($e):xy($e),$e=k0.offset($e,(ve.V-1)*7),ve.y=$e.getUTCFullYear(),ve.m=$e.getUTCMonth(),ve.d=$e.getUTCDate()+(ve.w+6)%7):($e=Q1(vh(ve.y,0,1)),at=$e.getDay(),$e=at>4||at===0?_y.ceil($e):_y($e),$e=Hm.offset($e,(ve.V-1)*7),ve.y=$e.getFullYear(),ve.m=$e.getMonth(),ve.d=$e.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),at="Z"in ve?Y1(vh(ve.y,0,1)).getUTCDay():Q1(vh(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(at+5)%7:ve.w+ve.U*7-(at+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,Y1(ve)):Q1(ve)}}function C(oe,Ae,Q,ve){for(var ke=0,$e=Ae.length,at=Q.length,dt,vt;ke<$e;){if(ve>=at)return-1;if(dt=Ae.charCodeAt(ke++),dt===37){if(dt=Ae.charAt(ke++),vt=$[dt in WD?Ae.charAt(ke++):dt],!vt||(ve=vt(oe,Q,ve))<0)return-1}else if(dt!=Q.charCodeAt(ve++))return-1}return ve}function k(oe,Ae,Q){var ve=h.exec(Ae.slice(Q));return ve?(oe.p=p.get(ve[0].toLowerCase()),Q+ve[0].length):-1}function q(oe,Ae,Q){var ve=w.exec(Ae.slice(Q));return ve?(oe.w=j.get(ve[0].toLowerCase()),Q+ve[0].length):-1}function U(oe,Ae,Q){var ve=v.exec(Ae.slice(Q));return ve?(oe.w=y.get(ve[0].toLowerCase()),Q+ve[0].length):-1}function L(oe,Ae,Q){var ve=S.exec(Ae.slice(Q));return ve?(oe.m=D.get(ve[0].toLowerCase()),Q+ve[0].length):-1}function M(oe,Ae,Q){var ve=E.exec(Ae.slice(Q));return ve?(oe.m=N.get(ve[0].toLowerCase()),Q+ve[0].length):-1}function ue(oe,Ae,Q){return C(oe,e,Ae,Q)}function Z(oe,Ae,Q){return C(oe,n,Ae,Q)}function B(oe,Ae,Q){return C(oe,r,Ae,Q)}function J(oe){return c[oe.getDay()]}function he(oe){return s[oe.getDay()]}function Ee(oe){return f[oe.getMonth()]}function xe(oe){return u[oe.getMonth()]}function H(oe){return i[+(oe.getHours()>=12)]}function ae(oe){return 1+~~(oe.getMonth()/3)}function ye(oe){return c[oe.getUTCDay()]}function we(oe){return s[oe.getUTCDay()]}function Y(oe){return f[oe.getUTCMonth()]}function W(oe){return u[oe.getUTCMonth()]}function _e(oe){return i[+(oe.getUTCHours()>=12)]}function Ve(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var Ae=z(oe+="",R);return Ae.toString=function(){return oe},Ae},parse:function(oe){var Ae=O(oe+="",!1);return Ae.toString=function(){return oe},Ae},utcFormat:function(oe){var Ae=z(oe+="",I);return Ae.toString=function(){return oe},Ae},utcParse:function(oe){var Ae=O(oe+="",!0);return Ae.toString=function(){return oe},Ae}}}var WD={"-":"",_:" ",0:"0"},or=/^\s*\d+/,ase=/^%/,sse=/[\\^$*+?|[\]().{}]/g;function xt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function ose(t){return t.replace(sse,"\\$&")}function gh(t){return new RegExp("^(?:"+t.map(ose).join("|")+")","i")}function yh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function lse(t,e,n){var r=or.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function cse(t,e,n){var r=or.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function use(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function dse(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function fse(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function QD(t,e,n){var r=or.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function YD(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function hse(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function mse(t,e,n){var r=or.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function pse(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function XD(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function vse(t,e,n){var r=or.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ZD(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function gse(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function yse(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function bse(t,e,n){var r=or.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function _se(t,e,n){var r=or.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function xse(t,e,n){var r=ase.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function wse(t,e,n){var r=or.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ese(t,e,n){var r=or.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function JD(t,e){return xt(t.getDate(),e,2)}function jse(t,e){return xt(t.getHours(),e,2)}function Nse(t,e){return xt(t.getHours()%12||12,e,2)}function Ase(t,e){return xt(1+Hm.count(Ws(t),t),e,3)}function M5(t,e){return xt(t.getMilliseconds(),e,3)}function Sse(t,e){return M5(t,e)+"000"}function Tse(t,e){return xt(t.getMonth()+1,e,2)}function Cse(t,e){return xt(t.getMinutes(),e,2)}function Pse(t,e){return xt(t.getSeconds(),e,2)}function Ose(t){var e=t.getDay();return e===0?7:e}function Ise(t,e){return xt(M0.count(Ws(t)-1,t),e,2)}function z5(t){var e=t.getDay();return e>=4||e===0?Md(t):Md.ceil(t)}function Rse(t,e){return t=z5(t),xt(Md.count(Ws(t),t)+(Ws(t).getDay()===4),e,2)}function Dse(t){return t.getDay()}function kse(t,e){return xt(_y.count(Ws(t)-1,t),e,2)}function Mse(t,e){return xt(t.getFullYear()%100,e,2)}function zse(t,e){return t=z5(t),xt(t.getFullYear()%100,e,2)}function Lse(t,e){return xt(t.getFullYear()%1e4,e,4)}function Vse(t,e){var n=t.getDay();return t=n>=4||n===0?Md(t):Md.ceil(t),xt(t.getFullYear()%1e4,e,4)}function Use(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+xt(e/60|0,"0",2)+xt(e%60,"0",2)}function ek(t,e){return xt(t.getUTCDate(),e,2)}function qse(t,e){return xt(t.getUTCHours(),e,2)}function Bse(t,e){return xt(t.getUTCHours()%12||12,e,2)}function $se(t,e){return xt(1+k0.count(Qs(t),t),e,3)}function L5(t,e){return xt(t.getUTCMilliseconds(),e,3)}function Fse(t,e){return L5(t,e)+"000"}function Hse(t,e){return xt(t.getUTCMonth()+1,e,2)}function Kse(t,e){return xt(t.getUTCMinutes(),e,2)}function Gse(t,e){return xt(t.getUTCSeconds(),e,2)}function Wse(t){var e=t.getUTCDay();return e===0?7:e}function Qse(t,e){return xt(z0.count(Qs(t)-1,t),e,2)}function V5(t){var e=t.getUTCDay();return e>=4||e===0?zd(t):zd.ceil(t)}function Yse(t,e){return t=V5(t),xt(zd.count(Qs(t),t)+(Qs(t).getUTCDay()===4),e,2)}function Xse(t){return t.getUTCDay()}function Zse(t,e){return xt(xy.count(Qs(t)-1,t),e,2)}function Jse(t,e){return xt(t.getUTCFullYear()%100,e,2)}function eoe(t,e){return t=V5(t),xt(t.getUTCFullYear()%100,e,2)}function toe(t,e){return xt(t.getUTCFullYear()%1e4,e,4)}function noe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?zd(t):zd.ceil(t),xt(t.getUTCFullYear()%1e4,e,4)}function roe(){return"+0000"}function tk(){return"%"}function nk(t){return+t}function rk(t){return Math.floor(+t/1e3)}var ed,U5,q5;ioe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ioe(t){return ed=ise(t),U5=ed.format,ed.parse,q5=ed.utcFormat,ed.utcParse,ed}function aoe(t){return new Date(t)}function soe(t){return t instanceof Date?+t:+new Date(+t)}function eA(t,e,n,r,i,s,c,u,f,h){var p=UN(),v=p.invert,y=p.domain,w=h(".%L"),j=h(":%S"),E=h("%I:%M"),N=h("%I %p"),S=h("%a %d"),D=h("%b %d"),R=h("%B"),I=h("%Y");function $(z){return(f(z)<z?w:u(z)<z?j:c(z)<z?E:s(z)<z?N:r(z)<z?i(z)<z?S:D:n(z)<z?R:I)(z)}return p.invert=function(z){return new Date(v(z))},p.domain=function(z){return arguments.length?y(Array.from(z,soe)):y().map(aoe)},p.ticks=function(z){var O=y();return t(O[0],O[O.length-1],z??10)},p.tickFormat=function(z,O){return O==null?$:h(O)},p.nice=function(z){var O=y();return(!z||typeof z.range!="function")&&(z=e(O[0],O[O.length-1],z??10)),z?y(S5(O,z)):p},p.copy=function(){return Fm(p,eA(t,e,n,r,i,s,c,u,f,h))},p}function ooe(){return Gi.apply(eA(nse,rse,Ws,ZN,M0,Hm,YN,WN,Sc,U5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function loe(){return Gi.apply(eA(ese,tse,Qs,JN,z0,k0,XN,QN,Sc,q5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function L0(){var t=0,e=1,n,r,i,s,c=Dr,u=!1,f;function h(v){return v==null||isNaN(v=+v)?f:c(i===0?.5:(v=(s(v)-n)*i,u?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([t,e]=v,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(v){return arguments.length?(u=!!v,h):u},h.interpolator=function(v){return arguments.length?(c=v,h):c};function p(v){return function(y){var w,j;return arguments.length?([w,j]=y,c=v(w,j),h):[c(0),c(1)]}}return h.range=p(Yd),h.rangeRound=p(VN),h.unknown=function(v){return arguments.length?(f=v,h):f},function(v){return s=v,n=v(t),r=v(e),i=n===r?0:1/(r-n),h}}function Ll(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function B5(){var t=zl(L0()(Dr));return t.copy=function(){return Ll(t,B5())},oo.apply(t,arguments)}function $5(){var t=$N(L0()).domain([1,10]);return t.copy=function(){return Ll(t,$5()).base(t.base())},oo.apply(t,arguments)}function F5(){var t=FN(L0());return t.copy=function(){return Ll(t,F5()).constant(t.constant())},oo.apply(t,arguments)}function tA(){var t=HN(L0());return t.copy=function(){return Ll(t,tA()).exponent(t.exponent())},oo.apply(t,arguments)}function coe(){return tA.apply(null,arguments).exponent(.5)}function H5(){var t=[],e=Dr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Bm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(hl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Wie(t,s/r))},n.copy=function(){return H5(e).domain(t)},oo.apply(n,arguments)}function V0(){var t=0,e=.5,n=1,r=1,i,s,c,u,f,h=Dr,p,v=!1,y;function w(E){return isNaN(E=+E)?y:(E=.5+((E=+p(E))-s)*(r*E<r*s?u:f),h(v?Math.max(0,Math.min(1,E)):E))}w.domain=function(E){return arguments.length?([t,e,n]=E,i=p(t=+t),s=p(e=+e),c=p(n=+n),u=i===s?0:.5/(s-i),f=s===c?0:.5/(c-s),r=s<i?-1:1,w):[t,e,n]},w.clamp=function(E){return arguments.length?(v=!!E,w):v},w.interpolator=function(E){return arguments.length?(h=E,w):h};function j(E){return function(N){var S,D,R;return arguments.length?([S,D,R]=N,h=xae(E,[S,D,R]),w):[h(0),h(.5),h(1)]}}return w.range=j(Yd),w.rangeRound=j(VN),w.unknown=function(E){return arguments.length?(y=E,w):y},function(E){return p=E,i=E(t),s=E(e),c=E(n),u=i===s?0:.5/(s-i),f=s===c?0:.5/(c-s),r=s<i?-1:1,w}}function K5(){var t=zl(V0()(Dr));return t.copy=function(){return Ll(t,K5())},oo.apply(t,arguments)}function G5(){var t=$N(V0()).domain([.1,1,10]);return t.copy=function(){return Ll(t,G5()).base(t.base())},oo.apply(t,arguments)}function W5(){var t=FN(V0());return t.copy=function(){return Ll(t,W5()).constant(t.constant())},oo.apply(t,arguments)}function nA(){var t=HN(V0());return t.copy=function(){return Ll(t,nA()).exponent(t.exponent())},oo.apply(t,arguments)}function uoe(){return nA.apply(null,arguments).exponent(.5)}const Th=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:MN,scaleDiverging:K5,scaleDivergingLog:G5,scaleDivergingPow:nA,scaleDivergingSqrt:uoe,scaleDivergingSymlog:W5,scaleIdentity:A5,scaleImplicit:DE,scaleLinear:N5,scaleLog:T5,scaleOrdinal:kN,scalePoint:Xie,scalePow:KN,scaleQuantile:O5,scaleQuantize:I5,scaleRadial:P5,scaleSequential:B5,scaleSequentialLog:$5,scaleSequentialPow:tA,scaleSequentialQuantile:H5,scaleSequentialSqrt:coe,scaleSequentialSymlog:F5,scaleSqrt:Fae,scaleSymlog:C5,scaleThreshold:R5,scaleTime:ooe,scaleUtc:loe,tickFormat:j5},Symbol.toStringTag,{value:"Module"}));var lo=t=>t.chartData,U0=te([lo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),rA=(t,e,n,r)=>r?U0(t):lo(t),Q5=(t,e,n)=>n?U0(t):lo(t);function Ys(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(tt(e)&&tt(n))return!0}return!1}function ik(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Y5(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(tt(n))i=n;else if(typeof n=="function")return;if(tt(r))s=r;else if(typeof r=="function")return;var c=[i,s];if(Ys(c))return c}}function doe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Ys(r))return ik(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,c,u;if(i==="auto")e!=null&&(c=Math.min(...e));else if(Se(i))c=i;else if(typeof i=="function")try{e!=null&&(c=i(e?.[0]))}catch{}else if(typeof i=="string"&&mR.test(i)){var f=mR.exec(i);if(f==null||f[1]==null||e==null)c=void 0;else{var h=+f[1];c=e[0]-h}}else c=e?.[0];if(s==="auto")e!=null&&(u=Math.max(...e));else if(Se(s))u=s;else if(typeof s=="function")try{e!=null&&(u=s(e?.[1]))}catch{}else if(typeof s=="string"&&pR.test(s)){var p=pR.exec(s);if(p==null||p[1]==null||e==null)u=void 0;else{var v=+p[1];u=e[1]+v}}else u=e?.[1];var y=[c,u];if(Ys(y))return e==null?y:ik(y,e,n)}}}var Xd=1e9,foe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},aA,Zt=!0,Ki="[DecimalError] ",zc=Ki+"Invalid argument: ",iA=Ki+"Exponent out of range: ",Zd=Math.floor,_c=Math.pow,hoe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vi,er=1e7,Wt=7,X5=9007199254740991,wy=Zd(X5/Wt),Ce={};Ce.absoluteValue=Ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ce.comparedTo=Ce.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Wt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ce.dividedBy=Ce.div=function(t){return Us(this,new this.constructor(t))};Ce.dividedToIntegerBy=Ce.idiv=function(t){var e=this,n=e.constructor;return qt(Us(e,new n(t),0,1),n.precision)};Ce.equals=Ce.eq=function(t){return!this.cmp(t)};Ce.exponent=function(){return Ln(this)};Ce.greaterThan=Ce.gt=function(t){return this.cmp(t)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(t){return this.cmp(t)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(t){return this.cmp(t)<0};Ce.lessThanOrEqualTo=Ce.lte=function(t){return this.cmp(t)<1};Ce.logarithm=Ce.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(vi))throw Error(Ki+"NaN");if(n.s<1)throw Error(Ki+(n.s?"NaN":"-Infinity"));return n.eq(vi)?new r(0):(Zt=!1,e=Us(fm(n,s),fm(t,s),s),Zt=!0,qt(e,i))};Ce.minus=Ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eV(e,t):Z5(e,(t.s=-t.s,t))};Ce.modulo=Ce.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ki+"NaN");return n.s?(Zt=!1,e=Us(n,t,0,1).times(t),Zt=!0,n.minus(e)):qt(new r(n),i)};Ce.naturalExponential=Ce.exp=function(){return J5(this)};Ce.naturalLogarithm=Ce.ln=function(){return fm(this)};Ce.negated=Ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ce.plus=Ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Z5(e,t):eV(e,(t.s=-t.s,t))};Ce.precision=Ce.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(zc+t);if(e=Ln(i)+1,r=i.d.length-1,n=r*Wt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ce.squareRoot=Ce.sqrt=function(){var t,e,n,r,i,s,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Ki+"NaN")}for(t=Ln(u),Zt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Fa(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Zd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=c=n+3;;)if(s=r,r=s.plus(Us(u,s,c+2)).times(.5),Fa(s.d).slice(0,c)===(e=Fa(r.d)).slice(0,c)){if(e=e.slice(c-3,c+1),i==c&&e=="4999"){if(qt(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(e!="9999")break;c+=4}return Zt=!0,qt(r,n)};Ce.times=Ce.mul=function(t){var e,n,r,i,s,c,u,f,h,p=this,v=p.constructor,y=p.d,w=(t=new v(t)).d;if(!p.s||!t.s)return new v(0);for(t.s*=p.s,n=p.e+t.e,f=y.length,h=w.length,f<h&&(s=y,y=w,w=s,c=f,f=h,h=c),s=[],c=f+h,r=c;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)u=s[i]+w[r]*y[i-r-1]+e,s[i--]=u%er|0,e=u/er|0;s[i]=(s[i]+e)%er|0}for(;!s[--c];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Zt?qt(t,v.precision):t};Ce.toDecimalPlaces=Ce.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ts(t,0,Xd),e===void 0?e=r.rounding:ts(e,0,8),qt(n,t+Ln(n)+1,e))};Ce.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=tu(r,!0):(ts(t,0,Xd),e===void 0?e=i.rounding:ts(e,0,8),r=qt(new i(r),t+1,e),n=tu(r,!0,t+1)),n};Ce.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?tu(i):(ts(t,0,Xd),e===void 0?e=s.rounding:ts(e,0,8),r=qt(new s(i),t+Ln(i)+1,e),n=tu(r.abs(),!1,t+Ln(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ce.toInteger=Ce.toint=function(){var t=this,e=t.constructor;return qt(new e(t),Ln(t)+1,e.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(t){var e,n,r,i,s,c,u=this,f=u.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(vi);if(u=new f(u),!u.s){if(t.s<1)throw Error(Ki+"Infinity");return u}if(u.eq(vi))return u;if(r=f.precision,t.eq(vi))return qt(u,r);if(e=t.e,n=t.d.length-1,c=e>=n,s=u.s,c){if((n=p<0?-p:p)<=X5){for(i=new f(vi),e=Math.ceil(r/Wt+4),Zt=!1;n%2&&(i=i.times(u),sk(i.d,e)),n=Zd(n/2),n!==0;)u=u.times(u),sk(u.d,e);return Zt=!0,t.s<0?new f(vi).div(i):qt(i,r)}}else if(s<0)throw Error(Ki+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Zt=!1,i=t.times(fm(u,r+h)),Zt=!0,i=J5(i),i.s=s,i};Ce.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Ln(i),r=tu(i,n<=s.toExpNeg||n>=s.toExpPos)):(ts(t,1,Xd),e===void 0?e=s.rounding:ts(e,0,8),i=qt(new s(i),t,e),n=Ln(i),r=tu(i,t<=n||n<=s.toExpNeg,t)),r};Ce.toSignificantDigits=Ce.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ts(t,1,Xd),e===void 0?e=r.rounding:ts(e,0,8)),qt(new r(n),t,e)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ln(t),n=t.constructor;return tu(t,e<=n.toExpNeg||e>=n.toExpPos)};function Z5(t,e){var n,r,i,s,c,u,f,h,p=t.constructor,v=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Zt?qt(e,v):e;if(f=t.d,h=e.d,c=t.e,i=e.e,f=f.slice(),s=c-i,s){for(s<0?(r=f,s=-s,u=h.length):(r=h,i=c,u=f.length),c=Math.ceil(v/Wt),u=c>u?c+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=f.length,s=h.length,u-s<0&&(s=u,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/er|0,f[s]%=er;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,Zt?qt(e,v):e}function ts(t,e,n){if(t!==~~t||t<e||t>n)throw Error(zc+t)}function Fa(t){var e,n,r,i=t.length-1,s="",c=t[0];if(i>0){for(s+=c,e=1;e<i;e++)r=t[e]+"",n=Wt-r.length,n&&(s+=Yo(n)),s+=r;c=t[e],r=c+"",n=Wt-r.length,n&&(s+=Yo(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Us=(function(){function t(r,i){var s,c=0,u=r.length;for(r=r.slice();u--;)s=r[u]*i+c,r[u]=s%er|0,c=s/er|0;return c&&r.unshift(c),r}function e(r,i,s,c){var u,f;if(s!=c)f=s>c?1:-1;else for(u=f=0;u<s;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,s){for(var c=0;s--;)r[s]-=c,c=r[s]<i[s]?1:0,r[s]=c*er+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,c){var u,f,h,p,v,y,w,j,E,N,S,D,R,I,$,z,O,C,k=r.constructor,q=r.s==i.s?1:-1,U=r.d,L=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Ki+"Division by zero");for(f=r.e-i.e,O=L.length,$=U.length,w=new k(q),j=w.d=[],h=0;L[h]==(U[h]||0);)++h;if(L[h]>(U[h]||0)&&--f,s==null?D=s=k.precision:c?D=s+(Ln(r)-Ln(i))+1:D=s,D<0)return new k(0);if(D=D/Wt+2|0,h=0,O==1)for(p=0,L=L[0],D++;(h<$||p)&&D--;h++)R=p*er+(U[h]||0),j[h]=R/L|0,p=R%L|0;else{for(p=er/(L[0]+1)|0,p>1&&(L=t(L,p),U=t(U,p),O=L.length,$=U.length),I=O,E=U.slice(0,O),N=E.length;N<O;)E[N++]=0;C=L.slice(),C.unshift(0),z=L[0],L[1]>=er/2&&++z;do p=0,u=e(L,E,O,N),u<0?(S=E[0],O!=N&&(S=S*er+(E[1]||0)),p=S/z|0,p>1?(p>=er&&(p=er-1),v=t(L,p),y=v.length,N=E.length,u=e(v,E,y,N),u==1&&(p--,n(v,O<y?C:L,y))):(p==0&&(u=p=1),v=L.slice()),y=v.length,y<N&&v.unshift(0),n(E,v,N),u==-1&&(N=E.length,u=e(L,E,O,N),u<1&&(p++,n(E,O<N?C:L,N))),N=E.length):u===0&&(p++,E=[0]),j[h++]=p,u&&E[0]?E[N++]=U[I]||0:(E=[U[I]],N=1);while((I++<$||E[0]!==void 0)&&D--)}return j[0]||j.shift(),w.e=f,qt(w,c?s+Ln(w)+1:s)}})();function J5(t,e){var n,r,i,s,c,u,f=0,h=0,p=t.constructor,v=p.precision;if(Ln(t)>16)throw Error(iA+Ln(t));if(!t.s)return new p(vi);for(Zt=!1,u=v,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),h+=5;for(r=Math.log(_c(2,h))/Math.LN10*2+5|0,u+=r,n=i=s=new p(vi),p.precision=u;;){if(i=qt(i.times(t),u),n=n.times(++f),c=s.plus(Us(i,n,u)),Fa(c.d).slice(0,u)===Fa(s.d).slice(0,u)){for(;h--;)s=qt(s.times(s),u);return p.precision=v,e==null?(Zt=!0,qt(s,v)):s}s=c}}function Ln(t){for(var e=t.e*Wt,n=t.d[0];n>=10;n/=10)e++;return e}function X1(t,e,n){if(e>t.LN10.sd())throw Zt=!0,n&&(t.precision=n),Error(Ki+"LN10 precision limit exceeded");return qt(new t(t.LN10),e)}function Yo(t){for(var e="";t--;)e+="0";return e}function fm(t,e){var n,r,i,s,c,u,f,h,p,v=1,y=10,w=t,j=w.d,E=w.constructor,N=E.precision;if(w.s<1)throw Error(Ki+(w.s?"NaN":"-Infinity"));if(w.eq(vi))return new E(0);if(e==null?(Zt=!1,h=N):h=e,w.eq(10))return e==null&&(Zt=!0),X1(E,h);if(h+=y,E.precision=h,n=Fa(j),r=n.charAt(0),s=Ln(w),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=Fa(w.d),r=n.charAt(0),v++;s=Ln(w),r>1?(w=new E("0."+n),s++):w=new E(r+"."+n.slice(1))}else return f=X1(E,h+2,N).times(s+""),w=fm(new E(r+"."+n.slice(1)),h-y).plus(f),E.precision=N,e==null?(Zt=!0,qt(w,N)):w;for(u=c=w=Us(w.minus(vi),w.plus(vi),h),p=qt(w.times(w),h),i=3;;){if(c=qt(c.times(p),h),f=u.plus(Us(c,new E(i),h)),Fa(f.d).slice(0,h)===Fa(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(X1(E,h+2,N).times(s+""))),u=Us(u,new E(v),h),E.precision=N,e==null?(Zt=!0,qt(u,N)):u;u=f,i+=2}}function ak(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Zd(n/Wt),t.d=[],r=(n+1)%Wt,n<0&&(r+=Wt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Wt;r<i;)t.d.push(+e.slice(r,r+=Wt));e=e.slice(r),r=Wt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Zt&&(t.e>wy||t.e<-wy))throw Error(iA+n)}else t.s=0,t.e=0,t.d=[0];return t}function qt(t,e,n){var r,i,s,c,u,f,h,p,v=t.d;for(c=1,s=v[0];s>=10;s/=10)c++;if(r=e-c,r<0)r+=Wt,i=e,h=v[p=0];else{if(p=Math.ceil((r+1)/Wt),s=v.length,p>=s)return t;for(h=s=v[p],c=1;s>=10;s/=10)c++;r%=Wt,i=r-Wt+c}if(n!==void 0&&(s=_c(10,c-i-1),u=h/s%10|0,f=e<0||v[p+1]!==void 0||h%s,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?h/_c(10,c-i):0:v[p-1])%10&1||n==(t.s<0?8:7))),e<1||!v[0])return f?(s=Ln(t),v.length=1,e=e-s-1,v[0]=_c(10,(Wt-e%Wt)%Wt),t.e=Zd(-e/Wt)||0):(v.length=1,v[0]=t.e=t.s=0),t;if(r==0?(v.length=p,s=1,p--):(v.length=p+1,s=_c(10,Wt-r),v[p]=i>0?(h/_c(10,c-i)%_c(10,i)|0)*s:0),f)for(;;)if(p==0){(v[0]+=s)==er&&(v[0]=1,++t.e);break}else{if(v[p]+=s,v[p]!=er)break;v[p--]=0,s=1}for(r=v.length;v[--r]===0;)v.pop();if(Zt&&(t.e>wy||t.e<-wy))throw Error(iA+Ln(t));return t}function eV(t,e){var n,r,i,s,c,u,f,h,p,v,y=t.constructor,w=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Zt?qt(e,w):e;if(f=t.d,v=e.d,r=e.e,h=t.e,f=f.slice(),c=h-r,c){for(p=c<0,p?(n=f,c=-c,u=v.length):(n=v,r=h,u=f.length),i=Math.max(Math.ceil(w/Wt),u)+2,c>i&&(c=i,n.length=1),n.reverse(),i=c;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=v.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(f[i]!=v[i]){p=f[i]<v[i];break}c=0}for(p&&(n=f,f=v,v=n,e.s=-e.s),u=f.length,i=v.length-u;i>0;--i)f[u++]=0;for(i=v.length;i>c;){if(f[--i]<v[i]){for(s=i;s&&f[--s]===0;)f[s]=er-1;--f[s],f[i]+=er}f[i]-=v[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Zt?qt(e,w):e):new y(0)}function tu(t,e,n){var r,i=Ln(t),s=Fa(t.d),c=s.length;return e?(n&&(r=n-c)>0?s=s.charAt(0)+"."+s.slice(1)+Yo(r):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Yo(-i-1)+s,n&&(r=n-c)>0&&(s+=Yo(r))):i>=c?(s+=Yo(i+1-c),n&&(r=n-i-1)>0&&(s=s+"."+Yo(r))):((r=i+1)<c&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-c)>0&&(i+1===c&&(s+="."),s+=Yo(r))),t.s<0?"-"+s:s}function sk(t,e){if(t.length>e)return t.length=e,!0}function tV(t){var e,n,r;function i(s){var c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,s instanceof i){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(zc+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return ak(c,s.toString())}else if(typeof s!="string")throw Error(zc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,hoe.test(s))ak(c,s);else throw Error(zc+s)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=tV,i.config=i.set=moe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function moe(t){if(!t||typeof t!="object")throw Error(Ki+"Object expected");var e,n,r,i=["precision",1,Xd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Zd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(zc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(zc+n+": "+r);return this}var aA=tV(foe);vi=new aA(1);const Ot=aA;function nV(t){var e;return t===0?e=1:e=Math.floor(new Ot(t).abs().log(10).toNumber())+1,e}function rV(t,e,n){for(var r=new Ot(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var iV=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},aV=(t,e,n)=>{if(t.lte(0))return new Ot(0);var r=nV(t.toNumber()),i=new Ot(10).pow(r),s=t.div(i),c=r!==1?.05:.1,u=new Ot(Math.ceil(s.div(c).toNumber())).add(n).mul(c),f=u.mul(i);return e?new Ot(f.toNumber()):new Ot(Math.ceil(f.toNumber()))},poe=(t,e,n)=>{var r=new Ot(1),i=new Ot(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Ot(10).pow(nV(t)-1),i=new Ot(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ot(Math.floor(t)))}else t===0?i=new Ot(Math.floor((e-1)/2)):n||(i=new Ot(Math.floor(t)));for(var c=Math.floor((e-1)/2),u=[],f=0;f<e;f++)u.push(i.add(new Ot(f-c).mul(r)).toNumber());return u},sV=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ot(0),tickMin:new Ot(0),tickMax:new Ot(0)};var c=aV(new Ot(n).sub(e).div(r-1),i,s),u;e<=0&&n>=0?u=new Ot(0):(u=new Ot(e).add(n).div(2),u=u.sub(new Ot(u).mod(c)));var f=Math.ceil(u.sub(e).div(c).toNumber()),h=Math.ceil(new Ot(n).sub(u).div(c).toNumber()),p=f+h+1;return p>r?sV(e,n,r,i,s+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:c,tickMin:u.sub(new Ot(f).mul(c)),tickMax:u.add(new Ot(h).mul(c))})},voe=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[u,f]=iV([n,r]);if(u===-1/0||f===1/0){var h=f===1/0?[u,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),f];return n>r?h.reverse():h}if(u===f)return poe(u,i,s);var{step:p,tickMin:v,tickMax:y}=sV(u,f,c,s,0),w=rV(v,y.add(new Ot(.1).mul(p)),p);return n>r?w.reverse():w},goe=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,u]=iV([r,i]);if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var f=Math.max(n,2),h=aV(new Ot(u).sub(c).div(f-1),s,0),p=[...rV(new Ot(c),new Ot(u),h),u];return s===!1&&(p=p.map(v=>Math.round(v))),r>i?p.reverse():p},oV=t=>t.rootProps.maxBarSize,yoe=t=>t.rootProps.barGap,lV=t=>t.rootProps.barCategoryGap,boe=t=>t.rootProps.barSize,Km=t=>t.rootProps.stackOffset,cV=t=>t.rootProps.reverseStackOrder,sA=t=>t.options.chartName,oA=t=>t.rootProps.syncId,uV=t=>t.rootProps.syncMethod,lA=t=>t.options.eventEmitter,_oe=t=>t.rootProps.baseValue,En={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},pc={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},La={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},q0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function B0(t,e,n){if(n!=="auto")return n;if(t!=null)return ba(t,e)?"category":"number"}function ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ey(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(n),!0).forEach(function(r){xoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xoe(t,e,n){return(e=woe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function woe(t){var e=Eoe(t,"string");return typeof e=="symbol"?e:e+""}function Eoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lk={allowDataOverflow:pc.allowDataOverflow,allowDecimals:pc.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:pc.angleAxisId,includeHidden:!1,name:void 0,reversed:pc.reversed,scale:pc.scale,tick:pc.tick,tickCount:void 0,ticks:void 0,type:pc.type,unit:void 0},ck={allowDataOverflow:La.allowDataOverflow,allowDecimals:La.allowDecimals,allowDuplicatedCategory:La.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:La.radiusAxisId,includeHidden:La.includeHidden,name:void 0,reversed:La.reversed,scale:La.scale,tick:La.tick,tickCount:La.tickCount,ticks:void 0,type:La.type,unit:void 0},joe=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},cA=te([joe,W6],(t,e)=>{var n;if(t!=null)return t;var r=(n=B0(e,"angleAxis",lk.type))!==null&&n!==void 0?n:"category";return Ey(Ey({},lk),{},{type:r})}),Noe=(t,e)=>t.polarAxis.radiusAxis[e],uA=te([Noe,W6],(t,e)=>{var n;if(t!=null)return t;var r=(n=B0(e,"radiusAxis",ck.type))!==null&&n!==void 0?n:"category";return Ey(Ey({},ck),{},{type:r})}),$0=t=>t.polarOptions,dA=te([ao,so,Fn],d5),dV=te([$0,dA],(t,e)=>{if(t!=null)return Ar(t.innerRadius,e,0)}),fV=te([$0,dA],(t,e)=>{if(t!=null)return Ar(t.outerRadius,e,e*.8)}),Aoe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},hV=te([$0],Aoe);te([cA,hV],q0);var mV=te([dA,dV,fV],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});te([uA,mV],q0);var pV=te([ht,$0,dV,fV,ao,so],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:c,cy:u,startAngle:f,endAngle:h}=e;return{cx:Ar(c,i,i/2),cy:Ar(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),rn=(t,e)=>e,Gm=(t,e,n)=>n;function F0(t){return t?.id}function vV(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,c=new Map;return t.forEach(u=>{var f,h=(f=u.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=F0(u);h.forEach((v,y)=>{var w=s==null||i?y:String(Nt(v,s,null)),j=Nt(v,u.dataKey,0),E;c.has(w)?E=c.get(w):E={},Object.assign(E,{[p]:j}),c.set(w,E)})}}),Array.from(c.values())}function H0(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var K0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function G0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Soe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var lr=t=>{var e=ht(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Jd=t=>t.tooltip.settings.axisId;function Toe(t){if(t in Th)return Th[t]();var e="scale".concat(Dm(t));if(e in Th)return Th[e]()}function uk(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(s){function c(){return s.apply(this,arguments)}return c.toString=function(){return s.toString()},c})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(s){var c=i[0],u=i[1];return c<=u?s>=c&&s<=u:s>=u&&s<=c},bandwidth:n?()=>n.call(t):void 0,ticks:e?s=>e.call(t,s):void 0,map:(s,c)=>{var u=t(s);if(u!=null){if(t.bandwidth&&c!==null&&c!==void 0&&c.position){var f=t.bandwidth();switch(c.position){case"middle":u+=f/2;break;case"end":u+=f;break}}return u}}}}function dk(t,e,n){if(typeof t=="function")return uk(t.copy().domain(e).range(n));if(t!=null){var r=Toe(t);if(r!=null)return r.domain(e).range(n),uk(r)}}var gV=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Ys(e)){for(var n,r,i=0;i<e.length;i++){var s=e[i];tt(s)&&((n===void 0||s<n)&&(n=s),(r===void 0||s>r)&&(r=s))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){Coe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Coe(t,e,n){return(e=Poe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Poe(t){var e=Ooe(t,"string");return typeof e=="symbol"?e:e+""}function Ooe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LE=[0,"auto"],Xn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},yV=(t,e)=>t.cartesianAxis.xAxis[e],co=(t,e)=>{var n=yV(t,e);return n??Xn},Zn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:LE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Lm},bV=(t,e)=>t.cartesianAxis.yAxis[e],uo=(t,e)=>{var n=bV(t,e);return n??Zn},Ioe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},fA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Ioe},gn=(t,e,n)=>{switch(e){case"xAxis":return co(t,n);case"yAxis":return uo(t,n);case"zAxis":return fA(t,n);case"angleAxis":return cA(t,n);case"radiusAxis":return uA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Roe=(t,e,n)=>{switch(e){case"xAxis":return co(t,n);case"yAxis":return uo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ef=(t,e,n)=>{switch(e){case"xAxis":return co(t,n);case"yAxis":return uo(t,n);case"angleAxis":return cA(t,n);case"radiusAxis":return uA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},_V=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function hA(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Wm=t=>t.graphicalItems.cartesianItems,Doe=te([rn,Gm],hA),mA=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Qm=te([Wm,gn,Doe],mA,{memoizeOptions:{resultEqualityCheck:G0}}),xV=te([Qm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(H0)),wV=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),koe=te([Qm],wV),pA=t=>t.map(e=>e.data).filter(Boolean).flat(1),Moe=te([Qm],pA,{memoizeOptions:{resultEqualityCheck:G0}}),vA=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},gA=te([Moe,rA],vA),yA=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Nt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Nt(i,r)}))):t.map(r=>({value:r})),W0=te([gA,gn,Qm],yA);function EV(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function fg(t){if(Ja(t)||t instanceof Date){var e=Number(t);if(tt(e))return e}}function hk(t){if(Array.isArray(t)){var e=[fg(t[0]),fg(t[1])];return Ys(e)?e:void 0}var n=fg(t);if(n!=null)return[n,n]}function Xs(t){return t.map(fg).filter(ei)}function zoe(t,e,n){return!n||typeof e!="number"||va(e)?[]:n.length?Xs(n.flatMap(r=>{var i=Nt(t,r.dataKey),s,c;if(Array.isArray(i)?[s,c]=i:s=c=i,!(!tt(s)||!tt(c)))return[e-s,e+c]})):[]}var Kn=t=>{var e=lr(t),n=Jd(t);return ef(t,e,n)},Ym=te([Kn],t=>t?.dataKey),Loe=te([xV,rA,Kn],vV),jV=(t,e,n,r)=>{var i={},s=e.reduce((c,u)=>{if(u.stackId==null)return c;var f=c[u.stackId];return f==null&&(f=[]),f.push(u),c[u.stackId]=f,c},i);return Object.fromEntries(Object.entries(s).map(c=>{var[u,f]=c,h=r?[...f].reverse():f,p=h.map(F0);return[u,{stackedData:ane(t,p,n),graphicalItems:h}]}))},Ny=te([Loe,xV,Km,cV],jV),NV=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var c=cne(t,i,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},Voe=te([gn],t=>t.allowDataOverflow),bA=t=>{var e;if(t==null||!("domain"in t))return LE;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Xs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:LE},_A=te([gn],bA),xA=te([_A,Voe],Y5),Uoe=te([Ny,lo,rn,xA],NV,{memoizeOptions:{resultEqualityCheck:K0}}),Q0=t=>t.errorBars,qoe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>EV(n,r)),Ay=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),c=Math.min(...s),u=Math.max(...s);return[c,u]}},wA=(t,e,n,r,i)=>{var s,c;if(n.length>0&&t.forEach(u=>{n.forEach(f=>{var h,p,v=(h=r[f.id])===null||h===void 0?void 0:h.filter(S=>EV(i,S)),y=Nt(u,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),w=zoe(u,y,v);if(w.length>=2){var j=Math.min(...w),E=Math.max(...w);(s==null||j<s)&&(s=j),(c==null||E>c)&&(c=E)}var N=hk(y);N!=null&&(s=s==null?N[0]:Math.min(s,N[0]),c=c==null?N[1]:Math.max(c,N[1]))})}),e?.dataKey!=null&&t.forEach(u=>{var f=hk(Nt(u,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),tt(s)&&tt(c))return[s,c]},Boe=te([gA,gn,koe,Q0,rn],wA,{memoizeOptions:{resultEqualityCheck:K0}});function $oe(t){var{value:e}=t;if(Ja(e)||e instanceof Date)return e}var Foe=(t,e,n)=>{var r=t.map($oe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&F3(r))?p5(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},AV=t=>t.referenceElements.dots,tf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Hoe=te([AV,rn,Gm],tf),SV=t=>t.referenceElements.areas,Koe=te([SV,rn,Gm],tf),TV=t=>t.referenceElements.lines,Goe=te([TV,rn,Gm],tf),CV=(t,e)=>{if(t!=null){var n=Xs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Woe=te(Hoe,rn,CV),PV=(t,e)=>{if(t!=null){var n=Xs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Qoe=te([Koe,rn],PV);function Yoe(t){var e;if(t.x!=null)return Xs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Xs(n)}function Xoe(t){var e;if(t.y!=null)return Xs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Xs(n)}var OV=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Yoe(r):Xoe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Zoe=te([Goe,rn],OV),Joe=te(Woe,Zoe,Qoe,(t,e,n)=>Ay(t,n,e)),EA=(t,e,n,r,i,s,c,u)=>{if(n!=null)return n;var f=c==="vertical"&&u==="xAxis"||c==="horizontal"&&u==="yAxis",h=f?Ay(r,s,i):Ay(s,i);return doe(e,h,t.allowDataOverflow)},ele=te([gn,_A,xA,Uoe,Boe,Joe,ht,rn],EA,{memoizeOptions:{resultEqualityCheck:K0}}),tle=[0,1],jA=(t,e,n,r,i,s,c)=>{if(!((t==null||n==null||n.length===0)&&c===void 0)){var{dataKey:u,type:f}=t,h=ba(e,s);if(h&&u==null){var p;return p5(0,(p=n?.length)!==null&&p!==void 0?p:0)}return f==="category"?Foe(r,t,h):i==="expand"?tle:c}},NA=te([gn,ht,gA,W0,Km,rn,ele],jA);function nle(t){return t in Th}var IV=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var s="scale".concat(Dm(r));return nle(s)?s:"point"}}},Vl=te([gn,_V,sA],IV);function AA(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?dk(t.scale,n,r):dk(e,n,r)}var SA=(t,e,n)=>{var r=bA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ys(t))return voe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Ys(t))return goe(t,e.tickCount,e.allowDecimals)}},TA=te([NA,ef,Vl],SA),CA=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Ys(e)&&Array.isArray(n)&&n.length>0){var i,s,c=e[0],u=(i=n[0])!==null&&i!==void 0?i:0,f=e[1],h=(s=n[n.length-1])!==null&&s!==void 0?s:0;return[Math.min(c,u),Math.max(f,h)]}return e},rle=te([gn,NA,TA,rn],CA),ile=te(W0,gn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Xs(t.map(v=>v.value))).sort((v,y)=>v-y),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var c=s-i;if(c===0)return 1/0;for(var u=0;u<r.length-1;u++){var f=r[u],h=r[u+1];if(!(f==null||h==null)){var p=h-f;n=Math.min(n,p)}}return n/c}}),RV=te(ile,ht,lV,Fn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!tt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var c=Ar(n,t*s),u=t*s/2;return u-c-(u-c)/s*c}return 0}),ale=(t,e,n)=>{var r=co(t,e);return r==null||typeof r.padding!="string"?0:RV(t,"xAxis",e,n,r.padding)},sle=(t,e,n)=>{var r=uo(t,e);return r==null||typeof r.padding!="string"?0:RV(t,"yAxis",e,n,r.padding)},ole=te(co,ale,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),lle=te(uo,sle,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),cle=te([Fn,ole,C0,T0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),ule=te([Fn,ht,lle,C0,T0,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:c}=i;return s?[r.height-c.bottom,c.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Xm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return cle(t,n,r);case"yAxis":return ule(t,n,r);case"zAxis":return(i=fA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return hV(t);case"radiusAxis":return mV(t,n);default:return}},DV=te([gn,Xm],q0),dle=te([Vl,rle],gV),Y0=te([gn,Vl,dle,DV],AA);te([Qm,Q0,rn],qoe);function kV(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var X0=(t,e)=>e,Z0=(t,e,n)=>n,fle=te(A0,X0,Z0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(kV)),hle=te(S0,X0,Z0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(kV)),MV=(t,e)=>({width:t.width,height:e.height}),mle=(t,e)=>{var n=typeof e.width=="number"?e.width:Lm;return{width:n,height:t.height}},zV=te(Fn,co,MV),ple=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},vle=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},gle=te(so,Fn,fle,X0,Z0,(t,e,n,r,i)=>{var s={},c;return n.forEach(u=>{var f=MV(e,u);c==null&&(c=ple(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;s[u.id]=c-Number(h)*f.height,c+=(h?-1:1)*f.height}),s}),yle=te(ao,Fn,hle,X0,Z0,(t,e,n,r,i)=>{var s={},c;return n.forEach(u=>{var f=mle(e,u);c==null&&(c=vle(e,r,t));var h=r==="left"&&!i||r==="right"&&i;s[u.id]=c-Number(h)*f.width,c+=(h?-1:1)*f.width}),s}),ble=(t,e)=>{var n=co(t,e);if(n!=null)return gle(t,n.orientation,n.mirror)},_le=te([Fn,co,ble,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),xle=(t,e)=>{var n=uo(t,e);if(n!=null)return yle(t,n.orientation,n.mirror)},wle=te([Fn,uo,xle,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),LV=te(Fn,uo,(t,e)=>{var n=typeof e.width=="number"?e.width:Lm;return{width:n,height:t.height}}),mk=(t,e,n)=>{switch(e){case"xAxis":return zV(t,n).width;case"yAxis":return LV(t,n).height;default:return}},VV=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:c}=n,u=ba(t,r),f=e.map(h=>h.value);if(c&&u&&s==="category"&&i&&F3(f))return f}},PA=te([ht,W0,gn,rn],VV),UV=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,c=ba(t,r);if(c&&(i==="number"||s!=="auto"))return e.map(u=>u.value)}},OA=te([ht,W0,ef,rn],UV),pk=te([ht,Roe,Vl,Y0,PA,OA,Xm,TA,rn],(t,e,n,r,i,s,c,u,f)=>{if(e!=null){var h=ba(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:u,range:c,realScaleType:n,scale:r}}}),Ele=(t,e,n,r,i,s,c,u,f)=>{if(!(e==null||r==null)){var h=ba(t,f),{type:p,ticks:v,tickCount:y}=e,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,j=p==="category"&&r.bandwidth?r.bandwidth()/w:0;j=f==="angleAxis"&&s!=null&&s.length>=2?nr(s[0]-s[1])*2*j:j;var E=v||i;return E?E.map((N,S)=>{var D=c?c.indexOf(N):N,R=r.map(D);return tt(R)?{index:S,coordinate:R+j,value:N,offset:j}:null}).filter(ei):h&&u?u.map((N,S)=>{var D=r.map(N);return tt(D)?{coordinate:D+j,value:N,index:S,offset:j}:null}).filter(ei):r.ticks?r.ticks(y).map((N,S)=>{var D=r.map(N);return tt(D)?{coordinate:D+j,value:N,index:S,offset:j}:null}).filter(ei):r.domain().map((N,S)=>{var D=r.map(N);return tt(D)?{coordinate:D+j,value:c?c[N]:N,index:S,offset:j}:null}).filter(ei)}},qV=te([ht,ef,Vl,Y0,TA,Xm,PA,OA,rn],Ele),jle=(t,e,n,r,i,s,c)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=ba(t,c),{tickCount:f}=e,h=0;return h=c==="angleAxis"&&r?.length>=2?nr(r[0]-r[1])*2*h:h,u&&s?s.map((p,v)=>{var y=n.map(p);return tt(y)?{coordinate:y+h,value:p,index:v,offset:h}:null}).filter(ei):n.ticks?n.ticks(f).map((p,v)=>{var y=n.map(p);return tt(y)?{coordinate:y+h,value:p,index:v,offset:h}:null}).filter(ei):n.domain().map((p,v)=>{var y=n.map(p);return tt(y)?{coordinate:y+h,value:i?i[p]:p,index:v,offset:h}:null}).filter(ei)}},ns=te([ht,ef,Y0,Xm,PA,OA,rn],jle),rs=te(gn,Y0,(t,e)=>{if(!(t==null||e==null))return jy(jy({},t),{},{scale:e})}),Nle=te([gn,Vl,NA,DV],AA);te((t,e,n)=>fA(t,n),Nle,(t,e)=>{if(!(t==null||e==null))return jy(jy({},t),{},{scale:e})});var Ale=te([ht,A0,S0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),BV=t=>t.options.defaultTooltipEventType,$V=t=>t.options.validateTooltipEventTypes;function FV(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function IA(t,e){var n=BV(t),r=$V(t);return FV(e,n,r)}function Sle(t){return Oe(e=>IA(e,t))}var HV=(t,e)=>{var n,r=Number(e);if(!(va(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Tle=t=>t.tooltip.settings,rl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Cle={itemInteraction:{click:rl,hover:rl},axisInteraction:{click:rl,hover:rl},keyboardInteraction:rl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},KV=ri({name:"tooltip",initialState:Cle,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Xt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=fa(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Xt()},removeTooltipEntrySettings:{reducer(t,e){var n=fa(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Xt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:Ple,replaceTooltipEntrySettings:Ole,removeTooltipEntrySettings:Ile,setTooltipSettingsState:Rle,setActiveMouseOverItemIndex:GV,mouseLeaveItem:Dle,mouseLeaveChart:WV,setActiveClickItemIndex:kle,setMouseOverAxisIndex:QV,setMouseClickAxisIndex:Mle,setSyncInteraction:VE,setKeyboardInteraction:UE}=KV.actions,zle=KV.reducer;function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){Lle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lle(t,e,n){return(e=Vle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vle(t){var e=Ule(t,"string");return typeof e=="symbol"?e:e+""}function Ule(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qle(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Ble(t){return t.index!=null}var YV=(t,e,n,r)=>{if(e==null)return rl;var i=qle(t,e,n);if(i==null)return rl;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Ble(i)){if(s)return Qv(Qv({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Qv(Qv({},rl),{},{coordinate:i.coordinate})};function $le(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Fle(t,e){var n=$le(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),c=Math.max(r,i);return n>=s&&n<=c}function Hle(t,e,n){if(n==null||e==null)return!0;var r=Nt(t,e);return r==null||!Ys(n)?!0:Fle(r,n)}var RA=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!tt(s))return i;var c=0,u=1/0;e.length>0&&(u=e.length-1);var f=Math.max(c,Math.min(s,u)),h=e[f];return h==null||Hle(h,n,r)?String(f):null},XV=(t,e,n,r,i,s,c)=>{if(s!=null){var u=c[0],f=u?.getPosition(s);if(f!=null)return f;var h=i?.[Number(s)];if(h)return n==="horizontal"?{x:h.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:h.coordinate}}},ZV=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(c=>{var u;return((u=c.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},JV=t=>t.options.tooltipPayloadSearcher,nf=t=>t.tooltip;function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){Kle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kle(t,e,n){return(e=Gle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gle(t){var e=Wle(t,"string");return typeof e=="symbol"?e:e+""}function Wle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qle(t,e){return t??e}var eU=(t,e,n,r,i,s,c)=>{if(!(e==null||s==null)){var{chartData:u,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,v=[];return t.reduce((y,w)=>{var j,{dataDefinedOnItem:E,settings:N}=w,S=Qle(E,u),D=Array.isArray(S)?z6(S,h,p):S,R=(j=N?.dataKey)!==null&&j!==void 0?j:r,I=N?.nameKey,$;if(r&&Array.isArray(D)&&!Array.isArray(D[0])&&c==="axis"?$=H3(D,r,i):$=s(D,e,f,I),Array.isArray($))$.forEach(O=>{var C=yk(yk({},N),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});y.push(vR({tooltipEntrySettings:C,dataKey:O.dataKey,payload:O.payload,value:Nt(O.payload,O.dataKey),name:O.name}))});else{var z;y.push(vR({tooltipEntrySettings:N,dataKey:R,payload:$,value:Nt($,R),name:(z=Nt($,I))!==null&&z!==void 0?z:N?.name}))}return y},v)}},DA=te([Kn,_V,sA],IV),Yle=te([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Xle=te([lr,Jd],hA),rf=te([Yle,Kn,Xle],mA,{memoizeOptions:{resultEqualityCheck:G0}}),Zle=te([rf],t=>t.filter(H0)),Jle=te([rf],pA,{memoizeOptions:{resultEqualityCheck:G0}}),af=te([Jle,lo],vA),ece=te([Zle,lo,Kn],vV),kA=te([af,Kn,rf],yA),tU=te([Kn],bA),tce=te([Kn],t=>t.allowDataOverflow),nU=te([tU,tce],Y5),nce=te([rf],t=>t.filter(H0)),rce=te([ece,nce,Km,cV],jV),ice=te([rce,lo,lr,nU],NV),ace=te([rf],wV),sce=te([af,Kn,ace,Q0,lr],wA,{memoizeOptions:{resultEqualityCheck:K0}}),oce=te([AV,lr,Jd],tf),lce=te([oce,lr],CV),cce=te([SV,lr,Jd],tf),uce=te([cce,lr],PV),dce=te([TV,lr,Jd],tf),fce=te([dce,lr],OV),hce=te([lce,fce,uce],Ay),mce=te([Kn,tU,nU,ice,sce,hce,ht,lr],EA),Zm=te([Kn,ht,af,kA,Km,lr,mce],jA),pce=te([Zm,Kn,DA],SA),vce=te([Kn,Zm,pce,lr],CA),rU=t=>{var e=lr(t),n=Jd(t),r=!1;return Xm(t,e,n,r)},iU=te([Kn,rU],q0),aU=te([Kn,DA,vce,iU],AA),gce=te([ht,kA,Kn,lr],VV),yce=te([ht,kA,Kn,lr],UV),bce=(t,e,n,r,i,s,c,u)=>{if(e){var{type:f}=e,h=ba(t,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,v=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return v=u==="angleAxis"&&i!=null&&i?.length>=2?nr(i[0]-i[1])*2*v:v,h&&c?c.map((y,w)=>{var j=r.map(y);return tt(j)?{coordinate:j+v,value:y,index:w,offset:v}:null}).filter(ei):r.domain().map((y,w)=>{var j=r.map(y);return tt(j)?{coordinate:j+v,value:s?s[y]:y,index:w,offset:v}:null}).filter(ei)}}},fo=te([ht,Kn,DA,aU,rU,gce,yce,lr],bce),MA=te([BV,$V,Tle],(t,e,n)=>FV(n.shared,t,e)),sU=t=>t.tooltip.settings.trigger,zA=t=>t.tooltip.settings.defaultIndex,Jm=te([nf,MA,sU,zA],YV),Nl=te([Jm,af,Ym,Zm],RA),oU=te([fo,Nl],HV),LA=te([Jm],t=>{if(t)return t.dataKey}),_ce=te([Jm],t=>{if(t)return t.graphicalItemId}),lU=te([nf,MA,sU,zA],ZV),xce=te([ao,so,ht,Fn,fo,zA,lU],XV),wce=te([Jm,xce],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Ece=te([Jm],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),jce=te([lU,Nl,lo,Ym,oU,JV,MA],eU),Nce=te([jce],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(n),!0).forEach(function(r){Ace(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ace(t,e,n){return(e=Sce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sce(t){var e=Tce(t,"string");return typeof e=="symbol"?e:e+""}function Tce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cce=()=>Oe(Kn),Pce=()=>{var t=Cce(),e=Oe(fo),n=Oe(aU);return jl(!t||!n?void 0:_k(_k({},t),{},{scale:n}),e)};function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(r){Oce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oce(t,e,n){return(e=Ice(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ice(t){var e=Rce(t,"string");return typeof e=="symbol"?e:e+""}function Rce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dce=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},kce=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:c}=r;return td(td(td({},r),zn(r.cx,r.cy,c,s)),{},{angle:s,radius:c})}var u=i.coordinate,{angle:f}=r;return td(td(td({},r),zn(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Mce(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var cU=(t,e,n,r,i)=>{var s,c=(s=e?.length)!==null&&s!==void 0?s:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<c;u++){var f,h,p,v,y,w=u>0?(f=n[u-1])===null||f===void 0?void 0:f.coordinate:(h=n[c-1])===null||h===void 0?void 0:h.coordinate,j=(p=n[u])===null||p===void 0?void 0:p.coordinate,E=u>=c-1?(v=n[0])===null||v===void 0?void 0:v.coordinate:(y=n[u+1])===null||y===void 0?void 0:y.coordinate,N=void 0;if(!(w==null||j==null||E==null))if(nr(j-w)!==nr(E-j)){var S=[];if(nr(E-j)===nr(i[1]-i[0])){N=E;var D=j+i[1]-i[0];S[0]=Math.min(D,(D+w)/2),S[1]=Math.max(D,(D+w)/2)}else{N=w;var R=E+i[1]-i[0];S[0]=Math.min(j,(R+j)/2),S[1]=Math.max(j,(R+j)/2)}var I=[Math.min(j,(N+j)/2),Math.max(j,(N+j)/2)];if(t>I[0]&&t<=I[1]||t>=S[0]&&t<=S[1]){var $;return($=n[u])===null||$===void 0?void 0:$.index}}else{var z=Math.min(w,E),O=Math.max(w,E);if(t>(z+j)/2&&t<=(O+j)/2){var C;return(C=n[u])===null||C===void 0?void 0:C.index}}}else if(e)for(var k=0;k<c;k++){var q=e[k];if(q!=null){var U=e[k+1],L=e[k-1];if(k===0&&U!=null&&t<=(q.coordinate+U.coordinate)/2||k===c-1&&L!=null&&t>(q.coordinate+L.coordinate)/2||k>0&&k<c-1&&L!=null&&U!=null&&t>(q.coordinate+L.coordinate)/2&&t<=(q.coordinate+U.coordinate)/2)return q.index}}return-1},uU=()=>Oe(sA),VA=(t,e)=>e,dU=(t,e,n)=>n,UA=(t,e,n,r)=>r,zce=te(fo,t=>v0(t,e=>e.coordinate)),qA=te([nf,VA,dU,UA],YV),BA=te([qA,af,Ym,Zm],RA),Lce=(t,e,n)=>{if(e!=null){var r=nf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},fU=te([nf,VA,dU,UA],ZV),Sy=te([ao,so,ht,Fn,fo,UA,fU],XV),Vce=te([qA,Sy],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),hU=te([fo,BA],HV),Uce=te([fU,BA,lo,Ym,hU,JV,VA],eU),qce=te([qA,BA],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Bce=(t,e,n,r,i,s,c)=>{if(!(!t||!n||!r||!i)&&Mce(t,c)){var u=une(t,e),f=cU(u,s,i,n,r),h=Dce(e,i,f,t);return{activeIndex:String(f),activeCoordinate:h}}},$ce=(t,e,n,r,i,s,c)=>{if(!(!t||!r||!i||!s||!n)){var u=Sie(t,n);if(u){var f=dne(u,e),h=cU(f,c,s,r,i),p=kce(e,s,h,u);return{activeIndex:String(h),activeCoordinate:p}}}},Fce=(t,e,n,r,i,s,c,u)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?Bce(t,e,r,i,s,c,u):$ce(t,e,n,r,i,s,c)},Hce=te(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Kce=te(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(En)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Soe}});function wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(n),!0).forEach(function(r){Gce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gce(t,e,n){return(e=Wce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wce(t){var e=Qce(t,"string");return typeof e=="symbol"?e:e+""}function Qce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yce={},Xce={zIndexMap:Object.values(En).reduce((t,e)=>Ek(Ek({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Yce)},Zce=new Set(Object.values(En));function Jce(t){return Zce.has(t)}var mU=ri({name:"zIndex",initialState:Xce,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Xt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Jce(n)&&delete t.zIndexMap[n])},prepare:Xt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Xt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Xt()}}}),{registerZIndexPortal:eue,unregisterZIndexPortal:tue,registerZIndexPortalElement:nue,unregisterZIndexPortalElement:rue}=mU.actions,iue=mU.reducer;function Vr(t){var{zIndex:e,children:n}=t,r=Bne(),i=r&&e!==void 0&&e!==0,s=sr(),c=Ht();_.useLayoutEffect(()=>i?(c(eue({zIndex:e})),()=>{c(tue({zIndex:e}))}):Dl,[c,e,i]);var u=Oe(f=>Hce(f,e,s));return i?u?nj.createPortal(n,u):null:n}function qE(){return qE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qE.apply(null,arguments)}function jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(n),!0).forEach(function(r){aue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aue(t,e,n){return(e=sue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sue(t){var e=oue(t,"string");return typeof e=="symbol"?e:e+""}function oue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lue(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return _.isValidElement(e)?_.cloneElement(e,r):_.createElement(n,r)}function cue(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:c,layout:u,cursor:f,tooltipEventType:h,chartName:p}=t,v=n,y=r,w=i;if(!f||!v||p!=="ScatterChart"&&h!=="axis")return null;var j,E,N;if(p==="ScatterChart")j=v,E=qre,N=En.cursorLine;else if(p==="BarChart")j=Bre(u,v,s,c),E=u5,N=En.cursorRectangle;else if(u==="radial"&&G3(v)){var{cx:S,cy:D,radius:R,startAngle:I,endAngle:$}=f5(v);j={cx:S,cy:D,startAngle:I,endAngle:$,innerRadius:R,outerRadius:R},E=m5,N=En.cursorLine}else j={points:Oie(u,v,s)},E=xd,N=En.cursorLine;var z=typeof f=="object"&&"className"in f?f.className:void 0,O=Yv(Yv(Yv(Yv({stroke:"#ccc",pointerEvents:"none"},s),j),Wc(f)),{},{payload:y,payloadIndex:w,className:gt("recharts-tooltip-cursor",z)});return _.createElement(Vr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:N},_.createElement(lue,{cursor:f,cursorComp:E,cursorProps:O}))}function uue(t){var e=Pce(),n=G6(),r=Ml(),i=uU();return e==null||n==null||r==null||i==null?null:_.createElement(cue,qE({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var pU=_.createContext(null),due=()=>_.useContext(pU),Z1={exports:{}},Nk;function fue(){return Nk||(Nk=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,v,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new i(p,v||f,y),j=n?n+h:h;return f._events[j]?f._events[j].fn?f._events[j]=[f._events[j],w]:f._events[j].push(w):(f._events[j]=w,f._eventsCount++),f}function c(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,v;if(this._eventsCount===0)return h;for(v in p=this._events)e.call(p,v)&&h.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=n?n+h:h,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var y=0,w=v.length,j=new Array(w);y<w;y++)j[y]=v[y].fn;return j},u.prototype.listenerCount=function(h){var p=n?n+h:h,v=this._events[p];return v?v.fn?1:v.length:0},u.prototype.emit=function(h,p,v,y,w,j){var E=n?n+h:h;if(!this._events[E])return!1;var N=this._events[E],S=arguments.length,D,R;if(N.fn){switch(N.once&&this.removeListener(h,N.fn,void 0,!0),S){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,p),!0;case 3:return N.fn.call(N.context,p,v),!0;case 4:return N.fn.call(N.context,p,v,y),!0;case 5:return N.fn.call(N.context,p,v,y,w),!0;case 6:return N.fn.call(N.context,p,v,y,w,j),!0}for(R=1,D=new Array(S-1);R<S;R++)D[R-1]=arguments[R];N.fn.apply(N.context,D)}else{var I=N.length,$;for(R=0;R<I;R++)switch(N[R].once&&this.removeListener(h,N[R].fn,void 0,!0),S){case 1:N[R].fn.call(N[R].context);break;case 2:N[R].fn.call(N[R].context,p);break;case 3:N[R].fn.call(N[R].context,p,v);break;case 4:N[R].fn.call(N[R].context,p,v,y);break;default:if(!D)for($=1,D=new Array(S-1);$<S;$++)D[$-1]=arguments[$];N[R].fn.apply(N[R].context,D)}}return!0},u.prototype.on=function(h,p,v){return s(this,h,p,v,!1)},u.prototype.once=function(h,p,v){return s(this,h,p,v,!0)},u.prototype.removeListener=function(h,p,v,y){var w=n?n+h:h;if(!this._events[w])return this;if(!p)return c(this,w),this;var j=this._events[w];if(j.fn)j.fn===p&&(!y||j.once)&&(!v||j.context===v)&&c(this,w);else{for(var E=0,N=[],S=j.length;E<S;E++)(j[E].fn!==p||y&&!j[E].once||v&&j[E].context!==v)&&N.push(j[E]);N.length?this._events[w]=N.length===1?N[0]:N:c(this,w)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(Z1)),Z1.exports}var hue=fue();const mue=is(hue);var hm=new mue,BE="recharts.syncEvent.tooltip",Ak="recharts.syncEvent.brush",J0=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!va(n))return t[n]}},pue={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},vU=ri({name:"options",initialState:pue,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),vue=vU.reducer,{createEventEmitter:gue}=vU.actions;function yue(t){return t.tooltip.syncInteraction}var bue={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},gU=ri({name:"chartData",initialState:bue,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:Sk,setDataStartEndIndexes:_ue,setComputedData:O0e}=gU.actions,xue=gU.reducer,wue=["x","y"];function Tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(n),!0).forEach(function(r){Eue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eue(t,e,n){return(e=jue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jue(t){var e=Nue(t,"string");return typeof e=="symbol"?e:e+""}function Nue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aue(t,e){if(t==null)return{};var n,r,i=Sue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tue(){var t=Oe(oA),e=Oe(lA),n=Ht(),r=Oe(uV),i=Oe(fo),s=Ml(),c=P0(),u=Oe(f=>f.rootProps.className);_.useEffect(()=>{if(t==null)return Dl;var f=(h,p,v)=>{if(e!==v&&t===h){if(r==="index"){var y;if(c&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate&&p.payload.sourceViewBox){var w=p.payload.coordinate,{x:j,y:E}=w,N=Aue(w,wue),{x:S,y:D,width:R,height:I}=p.payload.sourceViewBox,$=nd(nd({},N),{},{x:c.x+(R?(j-S)/R:0)*c.width,y:c.y+(I?(E-D)/I:0)*c.height});n(nd(nd({},p),{},{payload:nd(nd({},p.payload),{},{coordinate:$})}))}else n(p);return}if(i!=null){var z;if(typeof r=="function"){var O={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},C=r(i,O);z=i[C]}else r==="value"&&(z=i.find(B=>String(B.value)===p.payload.label));var{coordinate:k}=p.payload;if(z==null||p.payload.active===!1||k==null||c==null){n(VE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:q,y:U}=k,L=Math.min(q,c.x+c.width),M=Math.min(U,c.y+c.height),ue={x:s==="horizontal"?z.coordinate:L,y:s==="horizontal"?M:z.coordinate},Z=VE({active:p.payload.active,coordinate:ue,dataKey:p.payload.dataKey,index:String(z.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(Z)}}};return hm.on(BE,f),()=>{hm.off(BE,f)}},[u,n,e,t,r,i,s,c])}function Cue(){var t=Oe(oA),e=Oe(lA),n=Ht();_.useEffect(()=>{if(t==null)return Dl;var r=(i,s,c)=>{e!==c&&t===i&&n(_ue(s))};return hm.on(Ak,r),()=>{hm.off(Ak,r)}},[n,e,t])}function Pue(){var t=Ht();_.useEffect(()=>{t(gue())},[t]),Tue(),Cue()}function Oue(t,e,n,r,i,s){var c=Oe(w=>Lce(w,t,e)),u=Oe(lA),f=Oe(oA),h=Oe(uV),p=Oe(yue),v=p?.active,y=P0();_.useEffect(()=>{if(!v&&f!=null&&u!=null){var w=VE({active:s,coordinate:n,dataKey:c,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});hm.emit(BE,f,w,u)}},[v,n,c,i,r,u,f,h,s,y])}function Ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(n),!0).forEach(function(r){Iue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iue(t,e,n){return(e=Rue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rue(t){var e=Due(t,"string");return typeof e=="symbol"?e:e+""}function Due(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kue(t){return t.dataKey}function Mue(t,e){return _.isValidElement(t)?_.cloneElement(t,e):typeof t=="function"?_.createElement(t,e):_.createElement(_re,e)}var Ok=[],zue={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function wc(t){var e,n,r=vn(t,zue),{active:i,allowEscapeViewBox:s,animationDuration:c,animationEasing:u,content:f,filterNull:h,isAnimationActive:p,offset:v,payloadUniqBy:y,position:w,reverseDirection:j,useTranslate3d:E,wrapperStyle:N,cursor:S,shared:D,trigger:R,defaultIndex:I,portal:$,axisId:z}=r,O=Ht(),C=typeof I=="number"?String(I):I;_.useEffect(()=>{O(Rle({shared:D,trigger:R,axisId:z,active:i,defaultIndex:C}))},[O,D,R,z,i,C]);var k=P0(),q=a5(),U=Sle(D),{activeIndex:L,isActive:M}=(e=Oe(_e=>qce(_e,U,R,C)))!==null&&e!==void 0?e:{},ue=Oe(_e=>Uce(_e,U,R,C)),Z=Oe(_e=>hU(_e,U,R,C)),B=Oe(_e=>Vce(_e,U,R,C)),J=ue,he=due(),Ee=(n=i??M)!==null&&n!==void 0?n:!1,[xe,H]=o6([J,Ee]),ae=U==="axis"?Z:void 0;Oue(U,R,B,ae,L,Ee);var ye=$??he;if(ye==null||k==null||U==null)return null;var we=J??Ok;Ee||(we=Ok),h&&we.length&&(we=n6(we.filter(_e=>_e.value!=null&&(_e.hide!==!0||r.includeHidden)),y,kue));var Y=we.length>0,W=_.createElement(Sre,{allowEscapeViewBox:s,animationDuration:c,animationEasing:u,isAnimationActive:p,active:Ee,coordinate:B,hasPayload:Y,offset:v,position:w,reverseDirection:j,useTranslate3d:E,viewBox:k,wrapperStyle:N,lastBoundingBox:xe,innerRef:H,hasPortalFromProps:!!$},Mue(f,Pk(Pk({},r),{},{payload:we,label:ae,active:Ee,activeIndex:L,coordinate:B,accessibilityLayer:q})));return _.createElement(_.Fragment,null,nj.createPortal(W,ye),Ee&&_.createElement(uue,{cursor:S,tooltipEventType:U,coordinate:B,payload:we,index:L}))}var ml=t=>null;ml.displayName="Cell";function Lue(t,e,n){return(e=Vue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vue(t){var e=Uue(t,"string");return typeof e=="symbol"?e:e+""}function Uue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class que{constructor(e){Lue(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(n),!0).forEach(function(r){$ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ue(t,e,n){return(e=Fue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fue(t){var e=Hue(t,"string");return typeof e=="symbol"?e:e+""}function Hue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kue={cacheSize:2e3,enableCache:!0},yU=Bue({},Kue),Rk=new que(yU.cacheSize),Gue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Dk="recharts_measurement_span";function Wue(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",c=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(c,"|").concat(u)}var kk=(t,e)=>{try{var n=document.getElementById(Dk);n||(n=document.createElement("span"),n.setAttribute("id",Dk),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Gue,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Vh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||qm.isSsr)return{width:0,height:0};if(!yU.enableCache)return kk(e,n);var r=Wue(e,n),i=Rk.get(r);if(i)return i;var s=kk(e,n);return Rk.set(r,s),s},bU;function Que(t,e,n){return(e=Yue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yue(t){var e=Xue(t,"string");return typeof e=="symbol"?e:e+""}function Xue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Jue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ede={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tde=["cm","mm","pt","pc","in","Q","px"];function nde(t){return tde.includes(t)}var hd="NaN";function rde(t,e){return t*ede[e]}class pr{static parse(e){var n,[,r,i]=(n=Jue.exec(e))!==null&&n!==void 0?n:[];return r==null?pr.NaN:new pr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,va(e)&&(this.unit=""),n!==""&&!Zue.test(n)&&(this.num=NaN,this.unit=""),nde(n)&&(this.num=rde(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new pr(NaN,""):new pr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new pr(NaN,""):new pr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new pr(NaN,""):new pr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new pr(NaN,""):new pr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return va(this.num)}}bU=pr;Que(pr,"NaN",new bU(NaN,""));function _U(t){if(t==null||t.includes(hd))return hd;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=Mk.exec(e))!==null&&n!==void 0?n:[],c=pr.parse(r??""),u=pr.parse(s??""),f=i==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return hd;e=e.replace(Mk,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,v,y]=(h=zk.exec(e))!==null&&h!==void 0?h:[],w=pr.parse(p??""),j=pr.parse(y??""),E=v==="+"?w.add(j):w.subtract(j);if(E.isNaN())return hd;e=e.replace(zk,E.toString())}return e}var Lk=/\(([^()]*)\)/;function ide(t){for(var e=t,n;(n=Lk.exec(e))!=null;){var[,r]=n;e=e.replace(Lk,_U(r))}return e}function ade(t){var e=t.replace(/\s+/g,"");return e=ide(e),e=_U(e),e}function sde(t){try{return ade(t)}catch{return hd}}function J1(t){var e=sde(t.slice(5,-1));return e===hd?"":e}var ode=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],lde=["dx","dy","angle","className","breakAll"];function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$E.apply(null,arguments)}function Vk(t,e){if(t==null)return{};var n,r,i=cde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xU=/[ \f\n\r\t\v\u2028\u2029]+/,wU=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Jt(e)||(n?i=e.toString().split(""):i=e.toString().split(xU));var s=i.map(u=>({word:u,width:Vh(u,r).width})),c=n?0:Vh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function ude(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var EU=(t,e,n,r)=>t.reduce((i,s)=>{var{word:c,width:u}=s,f=i[i.length-1];if(f&&u!=null&&(e==null||r||f.width+u+n<Number(e)))f.words.push(c),f.width+=u+n;else{var h={words:[c],width:u};i.push(h)}return i},[]),jU=t=>t.reduce((e,n)=>e.width>n.width?e:n),dde="",Uk=(t,e,n,r,i,s,c,u)=>{var f=t.slice(0,e),h=wU({breakAll:n,style:r,children:f+dde});if(!h)return[!1,[]];var p=EU(h.wordsWithComputedWidth,s,c,u),v=p.length>i||jU(p).width>Number(s);return[v,p]},fde=(t,e,n,r,i)=>{var{maxLines:s,children:c,style:u,breakAll:f}=t,h=Se(s),p=String(c),v=EU(e,r,n,i);if(!h||i)return v;var y=v.length>s||jU(v).width>Number(r);if(!y)return v;for(var w=0,j=p.length-1,E=0,N;w<=j&&E<=p.length-1;){var S=Math.floor((w+j)/2),D=S-1,[R,I]=Uk(p,D,f,u,s,r,n,i),[$]=Uk(p,S,f,u,s,r,n,i);if(!R&&!$&&(w=S+1),R&&$&&(j=S-1),!R&&$){N=I;break}E++}return N||v},qk=t=>{var e=Jt(t)?[]:t.toString().split(xU);return[{words:e,width:void 0}]},hde=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:c}=t;if((e||n)&&!qm.isSsr){var u,f,h=wU({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:v}=h;u=p,f=v}else return qk(r);return fde({breakAll:s,children:r,maxLines:c,style:i},u,f,e,!!n)}return qk(r)},NU="#808080",mde={angle:0,breakAll:!1,capHeight:"0.71em",fill:NU,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},eb=_.forwardRef((t,e)=>{var n=vn(t,mde),{x:r,y:i,lineHeight:s,capHeight:c,fill:u,scaleToFit:f,textAnchor:h,verticalAnchor:p}=n,v=Vk(n,ode),y=_.useMemo(()=>hde({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width}),[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),{dx:w,dy:j,angle:E,className:N,breakAll:S}=v,D=Vk(v,lde);if(!Ja(r)||!Ja(i)||y.length===0)return null;var R=Number(r)+(Se(w)?w:0),I=Number(i)+(Se(j)?j:0);if(!tt(R)||!tt(I))return null;var $;switch(p){case"start":$=J1("calc(".concat(c,")"));break;case"middle":$=J1("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:$=J1("calc(".concat(y.length-1," * -").concat(s,")"));break}var z=[],O=y[0];if(f&&O!=null){var C=O.width,{width:k}=v;z.push("scale(".concat(Se(k)&&Se(C)?k/C:1,")"))}return E&&z.push("rotate(".concat(E,", ").concat(R,", ").concat(I,")")),z.length&&(D.transform=z.join(" ")),_.createElement("text",$E({},Tr(D),{ref:e,x:R,y:I,className:gt("recharts-text",N),textAnchor:h,fill:u.includes("url")?NU:u}),y.map((q,U)=>{var L=q.words.join(S?"":" ");return _.createElement("tspan",{x:R,dy:U===0?$:s,key:"".concat(L,"-").concat(U)},L)}))});eb.displayName="Text";function Bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(n),!0).forEach(function(r){pde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pde(t,e,n){return(e=vde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vde(t){var e=gde(t,"string");return typeof e=="symbol"?e:e+""}function gde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yde=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:s,y:c,height:u,upperWidth:f,lowerWidth:h}=TN(e),p=s,v=s+(f-h)/2,y=(p+v)/2,w=(f+h)/2,j=p+f/2,E=u>=0?1:-1,N=E*r,S=E>0?"end":"start",D=E>0?"start":"end",R=f>=0?1:-1,I=R*r,$=R>0?"end":"start",z=R>0?"start":"end",O=i;if(n==="top"){var C={x:p+f/2,y:c-N,horizontalAnchor:"middle",verticalAnchor:S};return O&&(C.height=Math.max(c-O.y,0),C.width=f),C}if(n==="bottom"){var k={x:v+h/2,y:c+u+N,horizontalAnchor:"middle",verticalAnchor:D};return O&&(k.height=Math.max(O.y+O.height-(c+u),0),k.width=h),k}if(n==="left"){var q={x:y-I,y:c+u/2,horizontalAnchor:$,verticalAnchor:"middle"};return O&&(q.width=Math.max(q.x-O.x,0),q.height=u),q}if(n==="right"){var U={x:y+w+I,y:c+u/2,horizontalAnchor:z,verticalAnchor:"middle"};return O&&(U.width=Math.max(O.x+O.width-U.x,0),U.height=u),U}var L=O?{width:w,height:u}:{};return n==="insideLeft"?Va({x:y+I,y:c+u/2,horizontalAnchor:z,verticalAnchor:"middle"},L):n==="insideRight"?Va({x:y+w-I,y:c+u/2,horizontalAnchor:$,verticalAnchor:"middle"},L):n==="insideTop"?Va({x:p+f/2,y:c+N,horizontalAnchor:"middle",verticalAnchor:D},L):n==="insideBottom"?Va({x:v+h/2,y:c+u-N,horizontalAnchor:"middle",verticalAnchor:S},L):n==="insideTopLeft"?Va({x:p+I,y:c+N,horizontalAnchor:z,verticalAnchor:D},L):n==="insideTopRight"?Va({x:p+f-I,y:c+N,horizontalAnchor:$,verticalAnchor:D},L):n==="insideBottomLeft"?Va({x:v+I,y:c+u-N,horizontalAnchor:z,verticalAnchor:S},L):n==="insideBottomRight"?Va({x:v+h-I,y:c+u-N,horizontalAnchor:$,verticalAnchor:S},L):n&&typeof n=="object"&&(Se(n.x)||Xc(n.x))&&(Se(n.y)||Xc(n.y))?Va({x:s+Ar(n.x,w),y:c+Ar(n.y,u),horizontalAnchor:"end",verticalAnchor:"end"},L):Va({x:j,y:c+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},L)},bde=["labelRef"],_de=["content"];function $k(t,e){if(t==null)return{};var n,r,i=xde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ch(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(n),!0).forEach(function(r){wde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wde(t,e,n){return(e=Ede(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ede(t){var e=jde(t,"string");return typeof e=="symbol"?e:e+""}function jde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ps(){return Ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ps.apply(null,arguments)}var AU=_.createContext(null),Nde=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:c,children:u}=t,f=_.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:c}),[e,n,r,i,s,c]);return _.createElement(AU.Provider,{value:f},u)},SU=()=>{var t=_.useContext(AU),e=P0();return t||(e?TN(e):void 0)},Ade=_.createContext(null),Sde=()=>{var t=_.useContext(Ade),e=Oe(pV);return t||e},Tde=t=>{var{value:e,formatter:n}=t,r=Jt(t.children)?e:t.children;return typeof n=="function"?n(r):r},$A=t=>t!=null&&typeof t=="function",Cde=(t,e)=>{var n=nr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Pde=(t,e,n,r,i)=>{var{offset:s,className:c}=t,{cx:u,cy:f,innerRadius:h,outerRadius:p,startAngle:v,endAngle:y,clockWise:w}=i,j=(h+p)/2,E=Cde(v,y),N=E>=0?1:-1,S,D;switch(e){case"insideStart":S=v+N*s,D=w;break;case"insideEnd":S=y-N*s,D=!w;break;case"end":S=y+N*s,D=w;break;default:throw new Error("Unsupported position ".concat(e))}D=E<=0?D:!D;var R=zn(u,f,j,S),I=zn(u,f,j,S+(D?1:-1)*359),$="M".concat(R.x,",").concat(R.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(D?0:1,`,
    `).concat(I.x,",").concat(I.y),z=Jt(t.id)?em("recharts-radial-line-"):t.id;return _.createElement("text",Ps({},r,{dominantBaseline:"central",className:gt("recharts-radial-bar-label",c)}),_.createElement("defs",null,_.createElement("path",{id:z,d:$})),_.createElement("textPath",{xlinkHref:"#".concat(z)},n))},Ode=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:c,startAngle:u,endAngle:f}=t,h=(u+f)/2;if(n==="outside"){var{x:p,y:v}=zn(r,i,c+e,h);return{x:p,y:v,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(s+c)/2,{x:w,y:j}=zn(r,i,y,h);return{x:w,y:j,textAnchor:"middle",verticalAnchor:"middle"}},hg=t=>t!=null&&"cx"in t&&Se(t.cx),Ide={angle:0,offset:5,zIndex:En.label,position:"middle",textBreakAll:!1};function Rde(t){if(!hg(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Xo(t){var e=vn(t,Ide),{viewBox:n,parentViewBox:r,position:i,value:s,children:c,content:u,className:f="",textBreakAll:h,labelRef:p}=e,v=Sde(),y=SU(),w=i==="center"?y:v??y,j,E,N;n==null?j=w:hg(n)?j=n:j=TN(n);var S=Rde(j);if(!j||Jt(s)&&Jt(c)&&!_.isValidElement(u)&&typeof u!="function")return null;var D=Ch(Ch({},e),{},{viewBox:j});if(_.isValidElement(u)){var{labelRef:R}=D,I=$k(D,bde);return _.cloneElement(u,I)}if(typeof u=="function"){var{content:$}=D,z=$k(D,_de);if(E=_.createElement(u,z),_.isValidElement(E))return E}else E=Tde(e);var O=Tr(e);if(hg(j)){if(i==="insideStart"||i==="insideEnd"||i==="end")return Pde(e,i,E,O,j);N=Ode(j,e.offset,e.position)}else{if(!S)return null;var C=yde({viewBox:S,position:i,offset:e.offset,parentViewBox:hg(r)?void 0:r});N=Ch(Ch({x:C.x,y:C.y,textAnchor:C.horizontalAnchor,verticalAnchor:C.verticalAnchor},C.width!==void 0?{width:C.width}:{}),C.height!==void 0?{height:C.height}:{})}return _.createElement(Vr,{zIndex:e.zIndex},_.createElement(eb,Ps({ref:p,className:gt("recharts-label",f)},O,N,{textAnchor:ude(O.textAnchor)?O.textAnchor:N.textAnchor,breakAll:h}),E))}Xo.displayName="Label";var Dde=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?_.createElement(Xo,Ps({key:"label-implicit"},r)):Ja(t)?_.createElement(Xo,Ps({key:"label-implicit",value:t},r)):_.isValidElement(t)?t.type===Xo?_.cloneElement(t,Ch({key:"label-implicit"},r)):_.createElement(Xo,Ps({key:"label-implicit",content:t},r)):$A(t)?_.createElement(Xo,Ps({key:"label-implicit",content:t},r)):t&&typeof t=="object"?_.createElement(Xo,Ps({},t,{key:"label-implicit"},r)):null};function kde(t){var{label:e,labelRef:n}=t,r=SU();return Dde(e,r,n)||null}var ew={},tw={},Hk;function Mde(){return Hk||(Hk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(tw)),tw}var nw={},Kk;function zde(){return Kk||(Kk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(nw)),nw}var Gk;function Lde(){return Gk||(Gk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mde(),n=zde(),r=gN();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(ew)),ew}var rw,Wk;function Vde(){return Wk||(Wk=1,rw=Lde().last),rw}var Ude=Vde();const qde=is(Ude);var Bde=["valueAccessor"],$de=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ty(){return Ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ty.apply(null,arguments)}function Qk(t,e){if(t==null)return{};var n,r,i=Fde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hde=t=>Array.isArray(t.value)?qde(t.value):t.value,TU=_.createContext(void 0),FA=TU.Provider,CU=_.createContext(void 0),Kde=CU.Provider;function Gde(){return _.useContext(TU)}function Wde(){return _.useContext(CU)}function mg(t){var{valueAccessor:e=Hde}=t,n=Qk(t,Bde),{dataKey:r,clockWise:i,id:s,textBreakAll:c,zIndex:u}=n,f=Qk(n,$de),h=Gde(),p=Wde(),v=h||p;return!v||!v.length?null:_.createElement(Vr,{zIndex:u??En.label},_.createElement(mn,{className:"recharts-label-list"},v.map((y,w)=>{var j,E=Jt(r)?e(y,w):Nt(y.payload,r),N=Jt(s)?{}:{id:"".concat(s,"-").concat(w)};return _.createElement(Xo,Ty({key:"label-".concat(w)},Tr(y),f,N,{fill:(j=n.fill)!==null&&j!==void 0?j:y.fill,parentViewBox:y.parentViewBox,value:E,textBreakAll:c,viewBox:y.viewBox,index:w,zIndex:0}))})))}mg.displayName="LabelList";function tb(t){var{label:e}=t;return e?e===!0?_.createElement(mg,{key:"labelList-implicit"}):_.isValidElement(e)||$A(e)?_.createElement(mg,{key:"labelList-implicit",content:e}):typeof e=="object"?_.createElement(mg,Ty({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function FE(){return FE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FE.apply(null,arguments)}var PU=t=>{var{cx:e,cy:n,r,className:i}=t,s=gt("recharts-dot",i);return Se(e)&&Se(n)&&Se(r)?_.createElement("circle",FE({},zr(t),vN(t),{className:s,cx:e,cy:n,r})):null},OU=t=>t.graphicalItems.polarItems,Qde=te([rn,Gm],hA),nb=te([OU,gn,Qde],mA),Yde=te([nb],pA),rb=te([Yde,U0],vA),Xde=te([rb,gn,nb],yA);te([rb,gn,nb],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,c=Nt(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:Nt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var Yk=()=>{},Zde=te([rb,gn,nb,Q0,rn],wA),Jde=te([gn,_A,xA,Yk,Zde,Yk,ht,rn],EA),IU=te([gn,ht,rb,Xde,Km,rn,Jde],jA),efe=te([IU,ef,Vl],SA),tfe=te([gn,IU,efe,rn],CA);te([Vl,tfe],gV);var nfe={radiusAxis:{},angleAxis:{}},RU=ri({name:"polarAxis",initialState:nfe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:I0e,removeRadiusAxis:R0e,addAngleAxis:D0e,removeAngleAxis:k0e}=RU.actions,rfe=RU.reducer;function DU(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}function Xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(n),!0).forEach(function(r){ife(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ife(t,e,n){return(e=afe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function afe(t){var e=sfe(t,"string");return typeof e=="symbol"?e:e+""}function sfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ofe=(t,e)=>e,HA=te([OU,ofe],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),lfe=[],KA=(t,e,n)=>n?.length===0?lfe:n,kU=te([U0,HA,KA],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>Zk(Zk({},e.presentationProps),s.props))),i!=null)return i}}),cfe=te([kU,HA,KA],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,c=Nt(r,e.nameKey,e.name),u;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:kl(c,e.dataKey),color:u,payload:r,type:e.legendType}})}),ufe=te([kU,HA,KA,Fn],(t,e,n,r)=>{if(!(e==null||t==null))return dhe({offset:r,pieSettings:e,displayedData:t,cells:n})}),iw={exports:{}},Lt={};var Jk;function dfe(){if(Jk)return Lt;Jk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function j(E){if(typeof E=="object"&&E!==null){var N=E.$$typeof;switch(N){case t:switch(E=E.type,E){case n:case i:case r:case f:case h:case y:return E;default:switch(E=E&&E.$$typeof,E){case c:case u:case v:case p:return E;case s:return E;default:return N}}case e:return N}}}return Lt.ContextConsumer=s,Lt.ContextProvider=c,Lt.Element=t,Lt.ForwardRef=u,Lt.Fragment=n,Lt.Lazy=v,Lt.Memo=p,Lt.Portal=e,Lt.Profiler=i,Lt.StrictMode=r,Lt.Suspense=f,Lt.SuspenseList=h,Lt.isContextConsumer=function(E){return j(E)===s},Lt.isContextProvider=function(E){return j(E)===c},Lt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Lt.isForwardRef=function(E){return j(E)===u},Lt.isFragment=function(E){return j(E)===n},Lt.isLazy=function(E){return j(E)===v},Lt.isMemo=function(E){return j(E)===p},Lt.isPortal=function(E){return j(E)===e},Lt.isProfiler=function(E){return j(E)===i},Lt.isStrictMode=function(E){return j(E)===r},Lt.isSuspense=function(E){return j(E)===f},Lt.isSuspenseList=function(E){return j(E)===h},Lt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===f||E===h||typeof E=="object"&&E!==null&&(E.$$typeof===v||E.$$typeof===p||E.$$typeof===c||E.$$typeof===s||E.$$typeof===u||E.$$typeof===w||E.getModuleId!==void 0)},Lt.typeOf=j,Lt}var eM;function ffe(){return eM||(eM=1,iw.exports=dfe()),iw.exports}var hfe=ffe(),tM=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",nM=null,aw=null,MU=t=>{if(t===nM&&Array.isArray(aw))return aw;var e=[];return _.Children.forEach(t,n=>{Jt(n)||(hfe.isFragment(n)?e=e.concat(MU(n.props.children)):e.push(n))}),aw=e,nM=t,e};function GA(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>tM(i)):r=[tM(e)],MU(t).forEach(i=>{var s=Yc(i,"type.displayName")||Yc(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var WA=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,sw={},rM;function mfe(){return rM||(rM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(sw)),sw}var ow,iM;function pfe(){return iM||(iM=1,ow=mfe().isPlainObject),ow}var vfe=pfe();const gfe=is(vfe);var aM,sM,oM,lM,cM;function uM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(n),!0).forEach(function(r){yfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yfe(t,e,n){return(e=bfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bfe(t){var e=_fe(t,"string");return typeof e=="symbol"?e:e+""}function _fe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cy.apply(null,arguments)}function bh(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var fM=(t,e,n,r,i)=>{var s=n-r,c;return c=un(aM||(aM=bh(["M ",",",""])),t,e),c+=un(sM||(sM=bh(["L ",",",""])),t+n,e),c+=un(oM||(oM=bh(["L ",",",""])),t+n-s/2,e+i),c+=un(lM||(lM=bh(["L ",",",""])),t+n-s/2-r,e+i),c+=un(cM||(cM=bh(["L ",","," Z"])),t,e),c},xfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wfe=t=>{var e=vn(t,xfe),{x:n,y:r,upperWidth:i,lowerWidth:s,height:c,className:u}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:v}=e,y=_.useRef(null),[w,j]=_.useState(-1),E=_.useRef(i),N=_.useRef(s),S=_.useRef(c),D=_.useRef(n),R=_.useRef(r),I=Qd(t,"trapezoid-");if(_.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var ue=y.current.getTotalLength();ue&&j(ue)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||c!==+c||i===0&&s===0||c===0)return null;var $=gt("recharts-trapezoid",u);if(!v)return _.createElement("g",null,_.createElement("path",Cy({},Tr(e),{className:$,d:fM(n,r,i,s,c)})));var z=E.current,O=N.current,C=S.current,k=D.current,q=R.current,U="0px ".concat(w===-1?1:w,"px"),L="".concat(w,"px 0px"),M=s5(["strokeDasharray"],h,f);return _.createElement(Wd,{animationId:I,key:I,canBegin:w>0,duration:h,easing:f,isActive:v,begin:p},ue=>{var Z=jt(z,i,ue),B=jt(O,s,ue),J=jt(C,c,ue),he=jt(k,n,ue),Ee=jt(q,r,ue);y.current&&(E.current=Z,N.current=B,S.current=J,D.current=he,R.current=Ee);var xe=ue>0?{transition:M,strokeDasharray:L}:{strokeDasharray:U};return _.createElement("path",Cy({},Tr(e),{className:$,d:fM(he,Ee,Z,B,J),ref:y,style:dM(dM({},xe),e.style)}))})},Efe=["option","shapeType","activeClassName"];function jfe(t,e){if(t==null)return{};var n,r,i=Nfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Py(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(r){Afe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Afe(t,e,n){return(e=Sfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sfe(t){var e=Tfe(t,"string");return typeof e=="symbol"?e:e+""}function Tfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cfe(t,e){return Py(Py({},e),t)}function Pfe(t,e){return t==="symbols"}function mM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return _.createElement(u5,n);case"trapezoid":return _.createElement(wfe,n);case"sector":return _.createElement(m5,n);case"symbols":if(Pfe(e))return _.createElement(pN,n);break;case"curve":return _.createElement(xd,n);default:return null}}function Ofe(t){return _.isValidElement(t)?t.props:t}function QA(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=jfe(t,Efe),s;if(_.isValidElement(e))s=_.cloneElement(e,Py(Py({},i),Ofe(e)));else if(typeof e=="function")s=e(i,i.index);else if(gfe(e)&&typeof e!="boolean"){var c=Cfe(e,i);s=_.createElement(mM,{shapeType:n,elementProps:c})}else{var u=i;s=_.createElement(mM,{shapeType:n,elementProps:u})}return i.isActive?_.createElement(mn,{className:r},s):s}var YA=(t,e,n)=>{var r=Ht();return(i,s)=>c=>{t?.(i,s,c),r(GV({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},XA=t=>{var e=Ht();return(n,r)=>i=>{t?.(n,r,i),e(Dle())}},ZA=(t,e,n)=>{var r=Ht();return(i,s)=>c=>{t?.(i,s,c),r(kle({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function ib(t){var{tooltipEntrySettings:e}=t,n=Ht(),r=sr(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(Ple(e)):i.current!==e&&n(Ole({prev:i.current,next:e})),i.current=e)},[e,n,r]),_.useLayoutEffect(()=>()=>{i.current&&(n(Ile(i.current)),i.current=null)},[n]),null}function JA(t){var{legendPayload:e}=t,n=Ht(),r=sr(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(n5(e)):i.current!==e&&n(r5({prev:i.current,next:e})),i.current=e)},[n,r,e]),_.useLayoutEffect(()=>()=>{i.current&&(n(i5(i.current)),i.current=null)},[n]),null}function Ife(t){var{legendPayload:e}=t,n=Ht(),r=Oe(ht),i=_.useRef(null);return _.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(n5(e)):i.current!==e&&n(r5({prev:i.current,next:e})),i.current=e)},[n,r,e]),_.useLayoutEffect(()=>()=>{i.current&&(n(i5(i.current)),i.current=null)},[n]),null}var lw,Rfe=()=>{var[t]=_.useState(()=>em("uid-"));return t},Dfe=(lw=ez.useId)!==null&&lw!==void 0?lw:Rfe;function kfe(t,e){var n=Dfe();return e||(t?"".concat(t,"-").concat(n):n)}var Mfe=_.createContext(void 0),ab=t=>{var{id:e,type:n,children:r}=t,i=kfe("recharts-".concat(n),e);return _.createElement(Mfe.Provider,{value:i},r(i))},zfe={cartesianItems:[],polarItems:[]},zU=ri({name:"graphicalItems",initialState:zfe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Xt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=fa(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Xt()},removeCartesianGraphicalItem:{reducer(t,e){var n=fa(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Xt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Xt()},removePolarGraphicalItem:{reducer(t,e){var n=fa(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Xt()}}}),{addCartesianGraphicalItem:Lfe,replaceCartesianGraphicalItem:Vfe,removeCartesianGraphicalItem:Ufe,addPolarGraphicalItem:qfe,removePolarGraphicalItem:Bfe}=zU.actions,$fe=zU.reducer,Ffe=t=>{var e=Ht(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(Lfe(t)):n.current!==t&&e(Vfe({prev:n.current,next:t})),n.current=t},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(e(Ufe(n.current)),n.current=null)},[e]),null},eS=_.memo(Ffe);function Hfe(t){var e=Ht();return _.useLayoutEffect(()=>(e(qfe(t)),()=>{e(Bfe(t))}),[e,t]),null}var Kfe=["key"],Gfe=["onMouseEnter","onClick","onMouseLeave"],Wfe=["id"],Qfe=["id"];function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){Yfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yfe(t,e,n){return(e=Xfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xfe(t){var e=Zfe(t,"string");return typeof e=="symbol"?e:e+""}function Zfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Al.apply(null,arguments)}function sb(t,e){if(t==null)return{};var n,r,i=Jfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ehe(t){var e=_.useMemo(()=>GA(t.children,ml),[t.children]),n=Oe(r=>cfe(r,t.id,e));return n==null?null:_.createElement(Ife,{legendPayload:n})}var the=_.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:c,name:u,hide:f,tooltipType:h,id:p}=t,v={dataDefinedOnItem:r.map(y=>y.tooltipPayload),getPosition:y=>{var w;return(w=r[Number(y)])===null||w===void 0?void 0:w.tooltipPosition},settings:{stroke:i,strokeWidth:s,fill:c,dataKey:e,nameKey:n,name:kl(u,e),hide:f,type:h,color:c,unit:"",graphicalItemId:p}};return _.createElement(ib,{tooltipEntrySettings:v})}),nhe=(t,e)=>t>e?"start":t<e?"end":"middle",rhe=(t,e,n)=>Ar(typeof e=="function"?e(t):e,n,n*.8),ihe=(t,e,n)=>{var{top:r,left:i,width:s,height:c}=e,u=d5(s,c),f=i+Ar(t.cx,s,s/2),h=r+Ar(t.cy,c,c/2),p=Ar(t.innerRadius,u,0),v=rhe(n,t.outerRadius,u),y=t.maxRadius||Math.sqrt(s*s+c*c)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:v,maxRadius:y}},ahe=(t,e)=>{var n=nr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},she=(t,e)=>{if(_.isValidElement(t))return _.cloneElement(t,e);if(typeof t=="function")return t(e);var n=gt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=sb(e,Kfe);return _.createElement(xd,Al({},i,{type:"linear",className:n}))},ohe=(t,e,n)=>{if(_.isValidElement(t))return _.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),_.isValidElement(r)))return r;var i=gt("recharts-pie-label-text",DU(t));return _.createElement(eb,Al({},e,{alignmentBaseline:"middle",className:i}),r)};function lhe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:c}=n;if(!r||!i||!e)return null;var u=zr(n),f=Wc(i),h=Wc(s),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,v=e.map((y,w)=>{var j=(y.startAngle+y.endAngle)/2,E=zn(y.cx,y.cy,y.outerRadius+p,j),N=dn(dn(dn(dn({},u),y),{},{stroke:"none"},f),{},{index:w,textAnchor:nhe(E.x,y.cx)},E),S=dn(dn(dn(dn({},u),y),{},{fill:"none",stroke:y.fill},h),{},{index:w,points:[zn(y.cx,y.cy,y.outerRadius,j),E],key:"line"});return _.createElement(Vr,{zIndex:En.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(w)},_.createElement(mn,null,s&&she(s,S),ohe(i,N,Nt(y,c))))});return _.createElement(mn,{className:"recharts-pie-labels"},v)}function che(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?_.createElement(tb,{label:i}):_.createElement(lhe,{sectors:e,props:n,showLabels:r})}function uhe(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:s,id:c}=t,u=Oe(Nl),f=Oe(LA),h=Oe(_ce),{onMouseEnter:p,onClick:v,onMouseLeave:y}=i,w=sb(i,Gfe),j=YA(p,i.dataKey,c),E=XA(y),N=ZA(v,i.dataKey,c);return e==null||e.length===0?null:_.createElement(_.Fragment,null,e.map((S,D)=>{if(S?.startAngle===0&&S?.endAngle===0&&e.length!==1)return null;var R=h==null||h===c,I=String(D)===u&&(f==null||i.dataKey===f)&&R,$=u?r:null,z=n&&I?n:$,O=dn(dn({},S),{},{stroke:S.stroke,tabIndex:-1,[B6]:D,[$6]:c});return _.createElement(mn,Al({key:"sector-".concat(S?.startAngle,"-").concat(S?.endAngle,"-").concat(S.midAngle,"-").concat(D),tabIndex:-1,className:"recharts-pie-sector"},km(w,S,D),{onMouseEnter:j(S,D),onMouseLeave:E(S,D),onClick:N(S,D)}),_.createElement(QA,Al({option:s??z,index:D,shapeType:"sector",isActive:I},O)))}))}function dhe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:c,startAngle:u,endAngle:f,dataKey:h,nameKey:p,tooltipType:v}=n,y=Math.abs(n.minAngle),w=ahe(u,f),j=Math.abs(w),E=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,N=r.filter(z=>Nt(z,h,0)!==0).length,S=(j>=360?N:N-1)*E,D=j-N*y-S,R=r.reduce((z,O)=>{var C=Nt(O,h,0);return z+(Se(C)?C:0)},0),I;if(R>0){var $;I=r.map((z,O)=>{var C=Nt(z,h,0),k=Nt(z,p,O),q=ihe(n,s,z),U=(Se(C)?C:0)/R,L,M=dn(dn({},z),i&&i[O]&&i[O].props);O?L=$.endAngle+nr(w)*E*(C!==0?1:0):L=u;var ue=L+nr(w)*((C!==0?y:0)+U*D),Z=(L+ue)/2,B=(q.innerRadius+q.outerRadius)/2,J=[{name:k,value:C,payload:M,dataKey:h,type:v,graphicalItemId:n.id}],he=zn(q.cx,q.cy,B,Z);return $=dn(dn(dn(dn({},n.presentationProps),{},{percent:U,cornerRadius:typeof c=="string"?parseFloat(c):c,name:k,tooltipPayload:J,midAngle:Z,middleRadius:B,tooltipPosition:he},M),q),{},{value:C,dataKey:h,startAngle:L,endAngle:ue,payload:M,paddingAngle:nr(w)*E}),$})}return I}function fhe(t){var{showLabels:e,sectors:n,children:r}=t,i=_.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return _.createElement(Kde,{value:e?i:void 0},r)}function hhe(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:s,animationBegin:c,animationDuration:u,animationEasing:f,activeShape:h,inactiveShape:p,onAnimationStart:v,onAnimationEnd:y}=e,w=Qd(e,"recharts-pie-"),j=n.current,[E,N]=_.useState(!1),S=_.useCallback(()=>{typeof y=="function"&&y(),N(!1)},[y]),D=_.useCallback(()=>{typeof v=="function"&&v(),N(!0)},[v]);return _.createElement(fhe,{showLabels:!E,sectors:i},_.createElement(Wd,{animationId:w,begin:c,duration:u,isActive:s,easing:f,onAnimationStart:D,onAnimationEnd:S,key:w},R=>{var I,$=[],z=i&&i[0],O=(I=z?.startAngle)!==null&&I!==void 0?I:0;return i?.forEach((C,k)=>{var q=j&&j[k],U=k>0?Yc(C,"paddingAngle",0):0;if(q){var L=jt(q.endAngle-q.startAngle,C.endAngle-C.startAngle,R),M=dn(dn({},C),{},{startAngle:O+U,endAngle:O+L+U});$.push(M),O=M.endAngle}else{var{endAngle:ue,startAngle:Z}=C,B=jt(0,ue-Z,R),J=dn(dn({},C),{},{startAngle:O+U,endAngle:O+B+U});$.push(J),O=J.endAngle}}),n.current=$,_.createElement(mn,null,_.createElement(uhe,{sectors:$,activeShape:h,inactiveShape:p,allOtherPieProps:e,shape:e.shape,id:r}))}),_.createElement(che,{showLabels:!E,sectors:i,props:e}),e.children)}var mhe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:En.area};function phe(t){var{id:e}=t,n=sb(t,Wfe),{hide:r,className:i,rootTabIndex:s}=t,c=_.useMemo(()=>GA(t.children,ml),[t.children]),u=Oe(p=>ufe(p,e,c)),f=_.useRef(null),h=gt("recharts-pie",i);return r||u==null?(f.current=null,_.createElement(mn,{tabIndex:s,className:h})):_.createElement(Vr,{zIndex:t.zIndex},_.createElement(the,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:u,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),_.createElement(mn,{tabIndex:s,className:h},_.createElement(hhe,{props:dn(dn({},n),{},{sectors:u}),previousSectorsRef:f,id:e})))}function LU(t){var e=vn(t,mhe),{id:n}=e,r=sb(e,Qfe),i=zr(r);return _.createElement(ab,{id:n,type:"pie"},s=>_.createElement(_.Fragment,null,_.createElement(Hfe,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),_.createElement(ehe,Al({},r,{id:s})),_.createElement(phe,Al({},r,{id:s}))))}LU.displayName="Pie";var vhe=["points"];function vM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(n),!0).forEach(function(r){ghe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ghe(t,e,n){return(e=yhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yhe(t){var e=bhe(t,"string");return typeof e=="symbol"?e:e+""}function bhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oy(){return Oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oy.apply(null,arguments)}function _he(t,e){if(t==null)return{};var n,r,i=xhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function whe(t){var{option:e,dotProps:n,className:r}=t;if(_.isValidElement(e))return _.cloneElement(e,n);if(typeof e=="function")return e(n);var i=gt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:c}=s,u=_he(s,vhe);return _.createElement(PU,Oy({},u,{className:i}))}function Ehe(t,e){return t==null?!1:e?!0:t.length===1}function VU(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:c,needClip:u,clipPathId:f,zIndex:h=En.scatter}=t;if(!Ehe(e,n))return null;var p=WA(n),v=UZ(n),y=e.map((j,E)=>{var N,S,D=cw(cw(cw({r:3},c),v),{},{index:E,cx:(N=j.x)!==null&&N!==void 0?N:void 0,cy:(S=j.y)!==null&&S!==void 0?S:void 0,dataKey:s,value:j.value,payload:j.payload,points:e});return _.createElement(whe,{key:"dot-".concat(E),option:n,dotProps:D,className:i})}),w={};return u&&f!=null&&(w.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),_.createElement(Vr,{zIndex:h},_.createElement(mn,Oy({className:r},w),y))}function gM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(n),!0).forEach(function(r){jhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jhe(t,e,n){return(e=Nhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nhe(t){var e=Ahe(t,"string");return typeof e=="symbol"?e:e+""}function Ahe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UU=0,She={xAxis:{},yAxis:{},zAxis:{}},qU=ri({name:"cartesianAxis",initialState:She,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Xt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Xt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Xt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Xt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Xt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Xt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Xt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Xt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Xt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s,c=i.widthHistory||[];if(c.length===3&&c[0]===c[2]&&r===c[1]&&r!==i.width&&Math.abs(r-((s=c[0])!==null&&s!==void 0?s:0))<=1)return;var u=[...c,r].slice(-3);t.yAxis[n]=yM(yM({},i),{},{width:r,widthHistory:u})}}}}),{addXAxis:The,replaceXAxis:Che,removeXAxis:Phe,addYAxis:Ohe,replaceYAxis:Ihe,removeYAxis:Rhe,addZAxis:M0e,replaceZAxis:z0e,removeZAxis:L0e,updateYAxisWidth:Dhe}=qU.actions,khe=qU.reducer,Mhe=te([Fn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),zhe=te([Mhe,ao,so],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),ob=()=>Oe(zhe),Lhe=()=>Oe(Nce);function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){Vhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vhe(t,e,n){return(e=Uhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uhe(t){var e=qhe(t,"string");return typeof e=="symbol"?e:e+""}function qhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bhe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:c}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=uw(uw(uw({},u),Wc(i)),vN(i)),h;return _.isValidElement(i)?h=_.cloneElement(i,f):typeof i=="function"?h=i(f):h=_.createElement(PU,f),_.createElement(mn,{className:"recharts-active-dot",clipPath:c},h)};function HE(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:c=En.activeDot}=t,u=Oe(Nl),f=Lhe();if(e==null||f==null)return null;var h=e.find(p=>f.includes(p.payload));return Jt(h)?null:_.createElement(Vr,{zIndex:c},_.createElement(Bhe,{point:h,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var _M=(t,e,n)=>{var r=n??t;if(!Jt(r))return Ar(r,e,0)},$he=(t,e,n)=>{var r={},i=t.filter(H0),s=t.filter(h=>h.stackId==null),c=i.reduce((h,p)=>{var v=h[p.stackId];return v==null&&(v=[]),v.push(p),h[p.stackId]=v,h},r),u=Object.entries(c).map(h=>{var p,[v,y]=h,w=y.map(E=>E.dataKey),j=_M(e,n,(p=y[0])===null||p===void 0?void 0:p.barSize);return{stackId:v,dataKeys:w,barSize:j}}),f=s.map(h=>{var p=[h.dataKey].filter(y=>y!=null),v=_M(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:v}});return[...u,...f]};function xM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(n),!0).forEach(function(r){Fhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fhe(t,e,n){return(e=Hhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hhe(t){var e=Khe(t,"string");return typeof e=="symbol"?e:e+""}function Khe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ghe(t,e,n,r,i){var s,c=r.length;if(!(c<1)){var u=Ar(t,n,0,!0),f,h=[];if(tt((s=r[0])===null||s===void 0?void 0:s.barSize)){var p=!1,v=n/c,y=r.reduce((D,R)=>D+(R.barSize||0),0);y+=(c-1)*u,y>=n&&(y-=(c-1)*u,u=0),y>=n&&v>0&&(p=!0,v*=.9,y=c*v);var w=(n-y)/2>>0,j={offset:w-u,size:0};f=r.reduce((D,R)=>{var I,$={stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:j.offset+j.size+u,size:p?v:(I=R.barSize)!==null&&I!==void 0?I:0}},z=[...D,$];return j=$.position,z},h)}else{var E=Ar(e,n,0,!0);n-2*E-(c-1)*u<=0&&(u=0);var N=(n-2*E-(c-1)*u)/c;N>1&&(N>>=0);var S=tt(i)?Math.min(N,i):N;f=r.reduce((D,R,I)=>[...D,{stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:E+(N+u)*I+(N-S)/2,size:S}}],h)}return f}}var Whe=(t,e,n,r,i,s,c)=>{var u=Jt(c)?e:c,f=Ghe(n,r,i!==s?i:s,t,u);return i!==s&&f!=null&&(f=f.map(h=>Xv(Xv({},h),{},{position:Xv(Xv({},h.position),{},{offset:h.position.offset-i/2})}))),f},Qhe=(t,e)=>{var n=F0(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(c=>c.key===n)}}}},Yhe=(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}};function Xhe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&tt(t.zIndex)?t.zIndex:e}var BU=t=>{var{chartData:e}=t,n=Ht(),r=sr();return _.useEffect(()=>r?()=>{}:(n(Sk(e)),()=>{n(Sk(void 0))}),[e,n,r]),null},wM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},$U=ri({name:"brush",initialState:wM,reducers:{setBrushSettings(t,e){return e.payload==null?wM:e.payload}}}),{setBrushSettings:V0e}=$U.actions,Zhe=$U.reducer;function Jhe(t){return(t%180+180)%180}var eme=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Jhe(i),c=s*Math.PI/180,u=Math.atan(r/n),f=c>u&&c<Math.PI-u?r/Math.sin(c):n/Math.cos(c);return Math.abs(f)},tme={dots:[],areas:[],lines:[]},FU=ri({name:"referenceElements",initialState:tme,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=fa(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=fa(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=fa(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:U0e,removeDot:q0e,addArea:B0e,removeArea:$0e,addLine:F0e,removeLine:H0e}=FU.actions,nme=FU.reducer,rme=_.createContext(void 0),ime=t=>{var{children:e}=t,[n]=_.useState("".concat(em("recharts"),"-clip")),r=ob();if(r==null)return null;var{x:i,y:s,width:c,height:u}=r;return _.createElement(rme.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:s,height:u,width:c}))),e)};function HU(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function ame(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return eme(r,n)}function sme(t,e,n){var r=n==="width",{x:i,y:s,width:c,height:u}=t;return e===1?{start:r?i:s,end:r?i+c:s+u}:{start:r?i+c:s+u,end:r?i:s}}function mm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function ome(t,e){return HU(t,e+1)}function lme(t,e,n,r,i){for(var s=(r||[]).slice(),{start:c,end:u}=e,f=0,h=1,p=c,v=function(){var j=r?.[f];if(j===void 0)return{v:HU(r,h)};var E=f,N,S=()=>(N===void 0&&(N=n(j,E)),N),D=j.coordinate,R=f===0||mm(t,D,S,p,u);R||(f=0,p=c,h+=1),R&&(p=D+t*(S()/2+i),f+=h)},y;h<=s.length;)if(y=v(),y)return y.v;return[]}function cme(t,e,n,r,i){var s=(r||[]).slice(),c=s.length;if(c===0)return[];for(var{start:u,end:f}=e,h=1;h<=c;h++){for(var p=(c-1)%h,v=u,y=!0,w=function(){var I=r[E];if(I==null)return 0;var $=E,z,O=()=>(z===void 0&&(z=n(I,$)),z),C=I.coordinate,k=E===p||mm(t,C,O,v,f);if(!k)return y=!1,1;k&&(v=C+t*(O()/2+i))},j,E=p;E<c&&(j=w(),!(j!==0&&j===1));E+=h);if(y){for(var N=[],S=p;S<c;S+=h){var D=r[S];D!=null&&N.push(D)}return N}}return[]}function EM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(n),!0).forEach(function(r){ume(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ume(t,e,n){return(e=dme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dme(t){var e=fme(t,"string");return typeof e=="symbol"?e:e+""}function fme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hme(t,e,n,r,i){for(var s=(r||[]).slice(),c=s.length,{start:u}=e,{end:f}=e,h=function(y){var w=s[y];if(w==null)return 1;var j=w,E,N=()=>(E===void 0&&(E=n(w,y)),E);if(y===c-1){var S=t*(j.coordinate+t*N()/2-f);s[y]=j=wr(wr({},j),{},{tickCoord:S>0?j.coordinate-S*t:j.coordinate})}else s[y]=j=wr(wr({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var D=mm(t,j.tickCoord,N,u,f);D&&(f=j.tickCoord-t*(N()/2+i),s[y]=wr(wr({},j),{},{isShow:!0}))}},p=c-1;p>=0;p--)h(p);return s}function mme(t,e,n,r,i,s){var c=(r||[]).slice(),u=c.length,{start:f,end:h}=e;if(s){var p=r[u-1];if(p!=null){var v=n(p,u-1),y=t*(p.coordinate+t*v/2-h);if(c[u-1]=p=wr(wr({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate}),p.tickCoord!=null){var w=mm(t,p.tickCoord,()=>v,f,h);w&&(h=p.tickCoord-t*(v/2+i),c[u-1]=wr(wr({},p),{},{isShow:!0}))}}}for(var j=s?u-1:u,E=function(D){var R=c[D];if(R==null)return 1;var I=R,$,z=()=>($===void 0&&($=n(R,D)),$);if(D===0){var O=t*(I.coordinate-t*z()/2-f);c[D]=I=wr(wr({},I),{},{tickCoord:O<0?I.coordinate-O*t:I.coordinate})}else c[D]=I=wr(wr({},I),{},{tickCoord:I.coordinate});if(I.tickCoord!=null){var C=mm(t,I.tickCoord,z,f,h);C&&(f=I.tickCoord+t*(z()/2+i),c[D]=wr(wr({},I),{},{isShow:!0}))}},N=0;N<j;N++)E(N);return c}function tS(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:c,orientation:u,interval:f,tickFormatter:h,unit:p,angle:v}=t;if(!i||!i.length||!r)return[];if(Se(f)||qm.isSsr){var y;return(y=ome(i,Se(f)?f:0))!==null&&y!==void 0?y:[]}var w=[],j=u==="top"||u==="bottom"?"width":"height",E=p&&j==="width"?Vh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},N=($,z)=>{var O=typeof h=="function"?h($.value,z):$.value;return j==="width"?ame(Vh(O,{fontSize:e,letterSpacing:n}),E,v):Vh(O,{fontSize:e,letterSpacing:n})[j]},S=i[0],D=i[1],R=i.length>=2&&S!=null&&D!=null?nr(D.coordinate-S.coordinate):1,I=sme(s,R,j);return f==="equidistantPreserveStart"?lme(R,I,N,i,c):f==="equidistantPreserveEnd"?cme(R,I,N,i,c):(f==="preserveStart"||f==="preserveStartEnd"?w=mme(R,I,N,i,c,f==="preserveStartEnd"):w=hme(R,I,N,i,c),w.filter($=>$.isShow))}var pme=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,c=0;if(e){Array.from(e).forEach(p=>{if(p){var v=p.getBoundingClientRect();v.width>c&&(c=v.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+s,h=c+f+u+(n?r:0);return Math.round(h)}return 0},vme=["axisLine","width","height","className","hide","ticks","axisType"];function gme(t,e){if(t==null)return{};var n,r,i=yme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nu(){return nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nu.apply(null,arguments)}function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){bme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bme(t,e,n){return(e=_me(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _me(t){var e=xme(t,"string");return typeof e=="symbol"?e:e+""}function xme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:En.axis};function wme(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:c,axisLine:u,otherSvgProps:f}=t;if(!u)return null;var h=cn(cn(cn({},f),zr(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!c||s==="bottom"&&c);h=cn(cn({},h),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var v=+(s==="left"&&!c||s==="right"&&c);h=cn(cn({},h),{},{x1:e+v*r,y1:n,x2:e+v*r,y2:n+i})}return _.createElement("line",nu({},h,{className:gt("recharts-cartesian-axis-line",Yc(u,"className"))}))}function Eme(t,e,n,r,i,s,c,u,f){var h,p,v,y,w,j,E=u?-1:1,N=t.tickSize||c,S=Se(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,y=n+ +!u*i,v=y-E*N,j=v-E*f,w=S;break;case"left":v=y=t.coordinate,p=e+ +!u*r,h=p-E*N,w=h-E*f,j=S;break;case"right":v=y=t.coordinate,p=e+ +u*r,h=p+E*N,w=h+E*f,j=S;break;default:h=p=t.coordinate,y=n+ +u*i,v=y+E*N,j=v+E*f,w=S;break}return{line:{x1:h,y1:v,x2:p,y2:y},tick:{x:w,y:j}}}function jme(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Nme(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Ame(t){var{option:e,tickProps:n,value:r}=t,i,s=gt(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(e))i=_.cloneElement(e,cn(cn({},n),{},{className:s}));else if(typeof e=="function")i=e(cn(cn({},n),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(c=gt(c,DU(e))),i=_.createElement(eb,nu({},n,{className:c}),r)}return i}var Sme=_.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:c,unit:u,padding:f,tickTextProps:h,orientation:p,mirror:v,x:y,y:w,width:j,height:E,tickSize:N,tickMargin:S,fontSize:D,letterSpacing:R,getTicksConfig:I,events:$,axisType:z}=t,O=tS(cn(cn({},I),{},{ticks:n}),D,R),C=jme(p,v),k=Nme(p,v),q=zr(I),U=Wc(r),L={};typeof i=="object"&&(L=i);var M=cn(cn({},q),{},{fill:"none"},L),ue=O.map(J=>cn({entry:J},Eme(J,y,w,j,E,p,N,v,S))),Z=ue.map(J=>{var{entry:he,line:Ee}=J;return _.createElement(mn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(he.value,"-").concat(he.coordinate,"-").concat(he.tickCoord)},i&&_.createElement("line",nu({},M,Ee,{className:gt("recharts-cartesian-axis-tick-line",Yc(i,"className"))})))}),B=ue.map((J,he)=>{var Ee,xe,{entry:H,tick:ae}=J,ye=cn(cn(cn(cn({verticalAnchor:k},q),{},{textAnchor:C,stroke:"none",fill:s},ae),{},{index:he,payload:H,visibleTicksCount:O.length,tickFormatter:c,padding:f},h),{},{angle:(Ee=(xe=h?.angle)!==null&&xe!==void 0?xe:q.angle)!==null&&Ee!==void 0?Ee:0}),we=cn(cn({},ye),U);return _.createElement(mn,nu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},km($,H,he)),r&&_.createElement(Ame,{option:r,tickProps:we,value:"".concat(typeof c=="function"?c(H.value,he):H.value).concat(u||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(z,"-ticks")},B.length>0&&_.createElement(Vr,{zIndex:En.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(z,"-tick-labels"),ref:e},B)),Z.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(z,"-tick-lines")},Z))}),Tme=_.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:c,ticks:u,axisType:f}=t,h=gme(t,vme),[p,v]=_.useState(""),[y,w]=_.useState(""),j=_.useRef(null);_.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var N;return pme({ticks:j.current,label:(N=t.labelRef)===null||N===void 0?void 0:N.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=_.useCallback(N=>{if(N){var S=N.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=S;var D=S[0];if(D){var R=window.getComputedStyle(D),I=R.fontSize,$=R.letterSpacing;(I!==p||$!==y)&&(v(I),w($))}}},[p,y]);return c||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(Vr,{zIndex:t.zIndex},_.createElement(mn,{className:gt("recharts-cartesian-axis",s)},_.createElement(wme,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:zr(t)}),_.createElement(Sme,{ref:E,axisType:f,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),_.createElement(Nde,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},_.createElement(kde,{label:t.label,labelRef:t.labelRef}),t.children)))}),nS=_.forwardRef((t,e)=>{var n=vn(t,qs);return _.createElement(Tme,nu({},n,{ref:e}))});nS.displayName="CartesianAxis";var Cme=["x1","y1","x2","y2","key"],Pme=["offset"],Ome=["xAxisId","yAxisId"],Ime=["xAxisId","yAxisId"];function NM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NM(Object(n),!0).forEach(function(r){Rme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rme(t,e,n){return(e=Dme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dme(t){var e=kme(t,"string");return typeof e=="symbol"?e:e+""}function kme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tc.apply(null,arguments)}function Iy(t,e){if(t==null)return{};var n,r,i=Mme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zme=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:c,ry:u}=t;return _.createElement("rect",{x:r,y:i,ry:u,width:s,height:c,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function KU(t){var{option:e,lineItemProps:n}=t,r;if(_.isValidElement(e))r=_.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:c,x2:u,y2:f,key:h}=n,p=Iy(n,Cme),v=(i=zr(p))!==null&&i!==void 0?i:{},{offset:y}=v,w=Iy(v,Pme);r=_.createElement("line",Tc({},w,{x1:s,y1:c,x2:u,y2:f,fill:"none",key:h}))}return r}function Lme(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=t,u=Iy(t,Ome),f=i.map((h,p)=>{var v=Nr(Nr({},u),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return _.createElement(KU,{key:"line-".concat(p),option:r,lineItemProps:v})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Vme(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=t,u=Iy(t,Ime),f=i.map((h,p)=>{var v=Nr(Nr({},u),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return _.createElement(KU,{option:r,lineItemProps:v,key:"line-".concat(p)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Ume(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:c,horizontalPoints:u,horizontal:f=!0}=t;if(!f||!e||!e.length||u==null)return null;var h=u.map(v=>Math.round(v+i-i)).sort((v,y)=>v-y);i!==h[0]&&h.unshift(0);var p=h.map((v,y)=>{var w=h[y+1],j=w==null,E=j?i+c-v:w-v;if(E<=0)return null;var N=y%e.length;return _.createElement("rect",{key:"react-".concat(y),y:v,x:r,height:E,width:s,stroke:"none",fill:e[N],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function qme(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:c,height:u,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(v=>Math.round(v+i-i)).sort((v,y)=>v-y);i!==h[0]&&h.unshift(0);var p=h.map((v,y)=>{var w=h[y+1],j=w==null,E=j?i+c-v:w-v;if(E<=0)return null;var N=y%n.length;return _.createElement("rect",{key:"react-".concat(y),x:v,y:s,width:E,height:u,stroke:"none",fill:n[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Bme=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return L6(tS(Nr(Nr(Nr({},qs),n),{},{ticks:V6(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},$me=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return L6(tS(Nr(Nr(Nr({},qs),n),{},{ticks:V6(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},Fme={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:En.grid};function Cc(t){var e=CN(),n=PN(),r=G6(),i=Nr(Nr({},vn(t,Fme)),{},{x:Se(t.x)?t.x:r.left,y:Se(t.y)?t.y:r.top,width:Se(t.width)?t.width:r.width,height:Se(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:c,x:u,y:f,width:h,height:p,syncWithTicks:v,horizontalValues:y,verticalValues:w}=i,j=sr(),E=Oe(k=>pk(k,"xAxis",s,j)),N=Oe(k=>pk(k,"yAxis",c,j));if(!es(h)||!es(p)||!Se(u)||!Se(f))return null;var S=i.verticalCoordinatesGenerator||Bme,D=i.horizontalCoordinatesGenerator||$me,{horizontalPoints:R,verticalPoints:I}=i;if((!R||!R.length)&&typeof D=="function"){var $=y&&y.length,z=D({yAxis:N?Nr(Nr({},N),{},{ticks:$?y:N.ticks}):void 0,width:e??h,height:n??p,offset:r},$?!0:v);ry(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(R=z)}if((!I||!I.length)&&typeof S=="function"){var O=w&&w.length,C=S({xAxis:E?Nr(Nr({},E),{},{ticks:O?w:E.ticks}):void 0,width:e??h,height:n??p,offset:r},O?!0:v);ry(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(I=C)}return _.createElement(Vr,{zIndex:i.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(zme,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(Ume,Tc({},i,{horizontalPoints:R})),_.createElement(qme,Tc({},i,{verticalPoints:I})),_.createElement(Lme,Tc({},i,{offset:r,horizontalPoints:R,xAxis:E,yAxis:N})),_.createElement(Vme,Tc({},i,{offset:r,verticalPoints:I,xAxis:E,yAxis:N}))))}Cc.displayName="CartesianGrid";var Hme={},GU=ri({name:"errorBars",initialState:Hme,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:K0e,replaceErrorBar:G0e,removeErrorBar:W0e}=GU.actions,Kme=GU.reducer,Gme=["children"];function Wme(t,e){if(t==null)return{};var n,r,i=Qme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Yme={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Xme=_.createContext(Yme);function WU(t){var{children:e}=t,n=Wme(t,Gme);return _.createElement(Xme.Provider,{value:n},e)}function lb(t,e){var n,r,i=Oe(h=>co(h,t)),s=Oe(h=>uo(h,e)),c=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Xn.allowDataOverflow,u=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Zn.allowDataOverflow,f=c||u;return{needClip:f,needClipX:c,needClipY:u}}function rS(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=ob(),{needClipX:s,needClipY:c,needClip:u}=lb(e,n);if(!u||!i)return null;var{x:f,y:h,width:p,height:v}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:s?f:f-p/2,y:c?h:h-v/2,width:s?p:p*2,height:c?v:v*2}))}var QU=(t,e,n,r)=>rs(t,"xAxis",e,r),YU=(t,e,n,r)=>ns(t,"xAxis",e,r),XU=(t,e,n,r)=>rs(t,"yAxis",n,r),ZU=(t,e,n,r)=>ns(t,"yAxis",n,r),Zme=te([ht,QU,XU,YU,ZU],(t,e,n,r,i)=>ba(t,"xAxis")?jl(e,r,!1):jl(n,i,!1)),Jme=(t,e,n,r,i)=>i;function epe(t){return t.type==="line"}var tpe=te([Wm,Jme],(t,e)=>t.filter(epe).find(n=>n.id===e)),npe=te([ht,QU,XU,YU,ZU,tpe,Zme,rA],(t,e,n,r,i,s,c,u)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=u;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||c==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:v,data:y}=s,w;if(y!=null&&y.length>0?w=y:w=f?.slice(h,p+1),w!=null)return Bpe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:v,bandSize:c,displayedData:w})}});function JU(t){var e=Wc(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,c=Number(i),u=Number(s);return(Number.isNaN(c)||c<0)&&(c=n),(Number.isNaN(u)||u<0)&&(u=r),{r:c,strokeWidth:u}}return{r:n,strokeWidth:r}}var dw={exports:{}},fw={};var AM;function rpe(){if(AM)return fw;AM=1;var t=Ld();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,c=t.useMemo,u=t.useDebugValue;return fw.useSyncExternalStoreWithSelector=function(f,h,p,v,y){var w=i(null);if(w.current===null){var j={hasValue:!1,value:null};w.current=j}else j=w.current;w=c(function(){function N($){if(!S){if(S=!0,D=$,$=v($),y!==void 0&&j.hasValue){var z=j.value;if(y(z,$))return R=z}return R=$}if(z=R,n(D,$))return z;var O=v($);return y!==void 0&&y(z,O)?(D=$,z):(D=$,R=O)}var S=!1,D,R,I=p===void 0?null:p;return[function(){return N(h())},I===null?void 0:function(){return N(I())}]},[h,p,v,y]);var E=r(f,w[0],w[1]);return s(function(){j.hasValue=!0,j.value=E},[E]),u(E),E},fw}var SM;function ipe(){return SM||(SM=1,dw.exports=rpe()),dw.exports}ipe();function ape(t){t()}function spe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){ape(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var TM={notify(){},get:()=>[]};function ope(t,e){let n,r=TM,i=0,s=!1;function c(E){p();const N=r.subscribe(E);let S=!1;return()=>{S||(S=!0,N(),v())}}function u(){r.notify()}function f(){j.onStateChange&&j.onStateChange()}function h(){return s}function p(){i++,n||(n=t.subscribe(f),r=spe())}function v(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=TM)}function y(){s||(s=!0,p())}function w(){s&&(s=!1,v())}const j={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:w,getListeners:()=>r};return j}var lpe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cpe=lpe(),upe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",dpe=upe(),fpe=()=>cpe||dpe?_.useLayoutEffect:_.useEffect,hpe=fpe();function CM(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function mpe(t,e){if(CM(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!CM(t[n[i]],e[n[i]]))return!1;return!0}var ppe=Symbol.for("react-redux-context"),vpe=typeof globalThis<"u"?globalThis:{};function gpe(){if(!_.createContext)return{};const t=vpe[ppe]??=new Map;let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var ype=gpe();function bpe(t){const{children:e,context:n,serverState:r,store:i}=t,s=_.useMemo(()=>{const f=ope(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),c=_.useMemo(()=>i.getState(),[i]);hpe(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,c]);const u=n||ype;return _.createElement(u.Provider,{value:s},e)}var _pe=bpe,xpe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function wpe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function ep(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(xpe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!mpe(t[r],e[r]))return!1}else if(!wpe(t[r],e[r]))return!1;return!0}var Epe=["id"],jpe=["type","layout","connectNulls","needClip","shape"],Npe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function pm(){return pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pm.apply(null,arguments)}function PM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PM(Object(n),!0).forEach(function(r){Ape(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ape(t,e,n){return(e=Spe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Spe(t){var e=Tpe(t,"string");return typeof e=="symbol"?e:e+""}function Tpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iS(t,e){if(t==null)return{};var n,r,i=Cpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ppe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:kl(n,e),payload:t}]},Ope=_.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:c,hide:u,unit:f,tooltipType:h,id:p}=t,v={dataDefinedOnItem:n,getPosition:Dl,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:kl(c,e),hide:u,type:h,color:r,unit:f,graphicalItemId:p}};return _.createElement(ib,{tooltipEntrySettings:v})}),e9=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Ipe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Rpe=(t,e,n)=>{var r=n.reduce((w,j)=>w+j);if(!r)return e9(e,t);for(var i=Math.floor(t/r),s=t%r,c=e-t,u=[],f=0,h=0;f<n.length;h+=(p=n[f])!==null&&p!==void 0?p:0,++f){var p,v=n[f];if(v!=null&&h+v>s){u=[...n.slice(0,f),s-h];break}}var y=u.length%2===0?[0,c]:[c];return[...Ipe(n,i),...u,...y].map(w=>"".concat(w,"px")).join(", ")};function Dpe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:c}=r,{id:u}=r,f=iS(r,Epe),h=zr(f);return _.createElement(VU,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:c,clipPathId:e})}function kpe(t){var{showLabels:e,children:n,points:r}=t,i=_.useMemo(()=>r?.map(s=>{var c,u,f={x:(c=s.x)!==null&&c!==void 0?c:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return qa(qa({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[r]);return _.createElement(FA,{value:e?i:void 0},n)}function OM(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:c,layout:u,connectNulls:f,needClip:h,shape:p}=s,v=iS(s,jpe),y=qa(qa({},Tr(v)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:c,layout:u,connectNulls:f,strokeDasharray:i??s.strokeDasharray});return _.createElement(_.Fragment,null,r?.length>1&&_.createElement(QA,pm({shapeType:"curve",option:p},y,{pathRef:n})),_.createElement(Dpe,{points:r,clipPathId:e,props:s}))}function Mpe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function zpe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:c,strokeDasharray:u,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:v,animateNewValues:y,width:w,height:j,onAnimationEnd:E,onAnimationStart:N}=n,S=i.current,D=Qd(c,"recharts-line-"),R=_.useRef(D),[I,$]=_.useState(!1),z=!I,O=_.useCallback(()=>{typeof E=="function"&&E(),$(!1)},[E]),C=_.useCallback(()=>{typeof N=="function"&&N(),$(!0)},[N]),k=Mpe(r.current),q=_.useRef(0);R.current!==D&&(q.current=s.current,R.current=D);var U=q.current;return _.createElement(kpe,{points:c,showLabels:z},n.children,_.createElement(Wd,{animationId:D,begin:h,duration:p,isActive:f,easing:v,onAnimationEnd:O,onAnimationStart:C,key:D},L=>{var M=jt(U,k+U,L),ue=Math.min(M,k),Z;if(f)if(u){var B="".concat(u).split(/[,\s]+/gim).map(Ee=>parseFloat(Ee));Z=Rpe(ue,k,B)}else Z=e9(k,ue);else Z=u==null?void 0:String(u);if(L>0&&k>0&&(i.current=c,s.current=Math.max(s.current,ue)),S){var J=S.length/c.length,he=L===1?c:c.map((Ee,xe)=>{var H=Math.floor(xe*J);if(S[H]){var ae=S[H];return qa(qa({},Ee),{},{x:jt(ae.x,Ee.x,L),y:jt(ae.y,Ee.y,L)})}return y?qa(qa({},Ee),{},{x:jt(w*2,Ee.x,L),y:jt(j/2,Ee.y,L)}):qa(qa({},Ee),{},{x:Ee.x,y:Ee.y})});return i.current=he,_.createElement(OM,{props:n,points:he,clipPathId:e,pathRef:r,strokeDasharray:Z})}return _.createElement(OM,{props:n,points:c,clipPathId:e,pathRef:r,strokeDasharray:Z})}),_.createElement(tb,{label:n.label}))}function Lpe(t){var{clipPathId:e,props:n}=t,r=_.useRef(null),i=_.useRef(0),s=_.useRef(null);return _.createElement(zpe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var Vpe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Nt(t.payload,e)}};class Upe extends _.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:c,top:u,left:f,width:h,height:p,id:v,needClip:y,zIndex:w}=this.props;if(e)return null;var j=gt("recharts-line",i),E=v,{r:N,strokeWidth:S}=JU(n),D=WA(n),R=N*2+S,I=y?"url(#clipPath-".concat(D?"":"dots-").concat(E,")"):void 0;return _.createElement(Vr,{zIndex:w},_.createElement(mn,{className:j},y&&_.createElement("defs",null,_.createElement(rS,{clipPathId:E,xAxisId:s,yAxisId:c}),!D&&_.createElement("clipPath",{id:"clipPath-dots-".concat(E)},_.createElement("rect",{x:f-R/2,y:u-R/2,width:h+R,height:p+R}))),_.createElement(WU,{xAxisId:s,yAxisId:c,data:r,dataPointFormatter:Vpe,errorBarOffset:0},_.createElement(Lpe,{props:this.props,clipPathId:E}))),_.createElement(HE,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:I}))}}var t9={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:En.line,type:"linear"};function qpe(t){var e=vn(t,t9),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:c,connectNulls:u,dot:f,hide:h,isAnimationActive:p,label:v,legendType:y,xAxisId:w,yAxisId:j,id:E}=e,N=iS(e,Npe),{needClip:S}=lb(w,j),D=ob(),R=Ml(),I=sr(),$=Oe(q=>npe(q,w,j,I,E));if(R!=="horizontal"&&R!=="vertical"||$==null||D==null)return null;var{height:z,width:O,x:C,y:k}=D;return _.createElement(Upe,pm({},N,{id:E,connectNulls:u,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:c,isAnimationActive:p,hide:h,label:v,legendType:y,xAxisId:w,yAxisId:j,points:$,layout:R,height:z,width:O,left:C,top:k,needClip:S}))}function Bpe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:c,bandSize:u,displayedData:f}=t;return f.map((h,p)=>{var v=Nt(h,c);if(e==="horizontal"){var y=ny({axis:n,ticks:i,bandSize:u,entry:h,index:p}),w=Jt(v)?null:r.scale.map(v);return{x:y,y:w??null,value:v,payload:h}}var j=Jt(v)?null:n.scale.map(v),E=ny({axis:r,ticks:s,bandSize:u,entry:h,index:p});return j==null||E==null?null:{x:j,y:E,value:v,payload:h}}).filter(Boolean)}function $pe(t){var e=vn(t,t9),n=sr();return _.createElement(ab,{id:e.id,type:"line"},r=>_.createElement(_.Fragment,null,_.createElement(JA,{legendPayload:Ppe(e)}),_.createElement(Ope,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),_.createElement(eS,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),_.createElement(qpe,pm({},e,{id:r}))))}var n9=_.memo($pe,ep);n9.displayName="Line";function ss(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:UU}function os(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:UU}var r9=(t,e,n)=>rs(t,"xAxis",ss(t,e),n),i9=(t,e,n)=>ns(t,"xAxis",ss(t,e),n),a9=(t,e,n)=>rs(t,"yAxis",os(t,e),n),s9=(t,e,n)=>ns(t,"yAxis",os(t,e),n),Fpe=te([ht,r9,a9,i9,s9],(t,e,n,r,i)=>ba(t,"xAxis")?jl(e,r,!1):jl(n,i,!1)),Hpe=(t,e)=>e,o9=te([Wm,Hpe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),l9=t=>{var e=ht(t),n=ba(e,"xAxis");return n?"yAxis":"xAxis"},Kpe=(t,e)=>{var n=l9(t);return n==="yAxis"?os(t,e):ss(t,e)},Gpe=(t,e,n)=>Ny(t,l9(t),Kpe(t,e),n),Wpe=te([o9,Gpe],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=F0(t);if(!(r==null||i==null)){var s=(n=e[r])===null||n===void 0?void 0:n.stackedData,c=s?.find(u=>u.key===i);if(c!=null)return c.map(u=>[u[0],u[1]])}}}),Qpe=te([ht,r9,a9,i9,s9,Wpe,Q5,Fpe,o9,_oe],(t,e,n,r,i,s,c,u,f,h)=>{var{chartData:p,dataStartIndex:v,dataEndIndex:y}=c;if(!(f==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:w}=f,j;if(w&&w.length>0?j=w:j=p?.slice(v,y+1),j!=null)return mve({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:v,areaSettings:f,stackedData:s,displayedData:j,chartBaseValue:h,bandSize:u})}}),Ype=["id"],Xpe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Lc(){return Lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lc.apply(null,arguments)}function c9(t,e){if(t==null)return{};var n,r,i=Zpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function IM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function md(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(n),!0).forEach(function(r){Jpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jpe(t,e,n){return(e=eve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eve(t){var e=tve(t,"string");return typeof e=="symbol"?e:e+""}function tve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ry(t,e){return t&&t!=="none"?t:e}var nve=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:c}=t;return[{inactive:c,dataKey:e,type:s,color:Ry(r,i),value:kl(n,e),payload:t}]},rve=_.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:c,hide:u,unit:f,tooltipType:h,id:p}=t,v={dataDefinedOnItem:n,getPosition:Dl,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:kl(c,e),hide:u,type:h,color:Ry(r,s),unit:f,graphicalItemId:p}};return _.createElement(ib,{tooltipEntrySettings:v})});function ive(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:c}=r,u=zr(r);return _.createElement(VU,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:u,needClip:i,clipPathId:e})}function ave(t){var{showLabels:e,children:n,points:r}=t,i=r.map(s=>{var c,u,f={x:(c=s.x)!==null&&c!==void 0?c:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return md(md({},f),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return _.createElement(FA,{value:e?i:void 0},n)}function RM(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s}=t,{layout:c,type:u,stroke:f,connectNulls:h,isRange:p}=s,{id:v}=s,y=c9(s,Ype),w=zr(y),j=Tr(y);return _.createElement(_.Fragment,null,e?.length>1&&_.createElement(mn,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},_.createElement(xd,Lc({},j,{id:v,points:e,connectNulls:h,type:u,baseLine:n,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&_.createElement(xd,Lc({},w,{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:e})),f!=="none"&&p&&_.createElement(xd,Lc({},w,{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:n}))),_.createElement(ive,{points:e,props:y,clipPathId:i}))}function sve(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:c}=t,u=(e=s[0])===null||e===void 0?void 0:e.y,f=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!tt(u)||!tt(f))return null;var h=r*Math.abs(u-f),p=Math.max(...s.map(v=>v.x||0));return Se(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(v=>v.x||0),p)),Se(p)?_.createElement("rect",{x:0,y:u<f?u:u-h,width:p+(c?parseInt("".concat(c),10):1),height:Math.floor(h)}):null}function ove(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:c}=t,u=(e=s[0])===null||e===void 0?void 0:e.x,f=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!tt(u)||!tt(f))return null;var h=r*Math.abs(u-f),p=Math.max(...s.map(v=>v.y||0));return Se(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(v=>v.y||0),p)),Se(p)?_.createElement("rect",{x:u<f?u:u-h,y:0,width:h,height:Math.floor(p+(c?parseInt("".concat(c),10):1))}):null}function lve(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?_.createElement(sve,{alpha:e,points:r,baseLine:i,strokeWidth:s}):_.createElement(ove,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function cve(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:c,baseLine:u,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:v,onAnimationStart:y,onAnimationEnd:w}=r,j=_.useMemo(()=>({points:c,baseLine:u}),[c,u]),E=Qd(j,"recharts-area-"),N=ON(),[S,D]=_.useState(!1),R=!S,I=_.useCallback(()=>{typeof w=="function"&&w(),D(!1)},[w]),$=_.useCallback(()=>{typeof y=="function"&&y(),D(!0)},[y]);if(N==null)return null;var z=i.current,O=s.current;return _.createElement(ave,{showLabels:R,points:c},r.children,_.createElement(Wd,{animationId:E,begin:h,duration:p,isActive:f,easing:v,onAnimationEnd:I,onAnimationStart:$,key:E},C=>{if(z){var k=z.length/c.length,q=C===1?c:c.map((L,M)=>{var ue=Math.floor(M*k);if(z[ue]){var Z=z[ue];return md(md({},L),{},{x:jt(Z.x,L.x,C),y:jt(Z.y,L.y,C)})}return L}),U;return Se(u)?U=jt(O,u,C):Jt(u)||va(u)?U=jt(O,0,C):U=u.map((L,M)=>{var ue=Math.floor(M*k);if(Array.isArray(O)&&O[ue]){var Z=O[ue];return md(md({},L),{},{x:jt(Z.x,L.x,C),y:jt(Z.y,L.y,C)})}return L}),C>0&&(i.current=q,s.current=U),_.createElement(RM,{points:q,baseLine:U,needClip:e,clipPathId:n,props:r})}return C>0&&(i.current=c,s.current=u),_.createElement(mn,null,f&&_.createElement("defs",null,_.createElement("clipPath",{id:"animationClipPath-".concat(n)},_.createElement(lve,{alpha:C,points:c,baseLine:u,layout:N,strokeWidth:r.strokeWidth}))),_.createElement(mn,{clipPath:"url(#animationClipPath-".concat(n,")")},_.createElement(RM,{points:c,baseLine:u,needClip:e,clipPathId:n,props:r})))}),_.createElement(tb,{label:r.label}))}function uve(t){var{needClip:e,clipPathId:n,props:r}=t,i=_.useRef(null),s=_.useRef();return _.createElement(cve,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class dve extends _.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:s,left:c,needClip:u,xAxisId:f,yAxisId:h,width:p,height:v,id:y,baseLine:w,zIndex:j}=this.props;if(e)return null;var E=gt("recharts-area",i),N=y,{r:S,strokeWidth:D}=JU(n),R=WA(n),I=S*2+D,$=u?"url(#clipPath-".concat(R?"":"dots-").concat(N,")"):void 0;return _.createElement(Vr,{zIndex:j},_.createElement(mn,{className:E},u&&_.createElement("defs",null,_.createElement(rS,{clipPathId:N,xAxisId:f,yAxisId:h}),!R&&_.createElement("clipPath",{id:"clipPath-dots-".concat(N)},_.createElement("rect",{x:c-I/2,y:s-I/2,width:p+I,height:v+I}))),_.createElement(uve,{needClip:u,clipPathId:N,props:this.props})),_.createElement(HE,{points:r,mainColor:Ry(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:$}),this.props.isRange&&Array.isArray(w)&&_.createElement(HE,{points:w,mainColor:Ry(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:$}))}}var u9={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:En.area};function fve(t){var e,n=vn(t,u9),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:c,connectNulls:u,dot:f,fill:h,fillOpacity:p,hide:v,isAnimationActive:y,legendType:w,stroke:j,xAxisId:E,yAxisId:N}=n,S=c9(n,Xpe),D=Ml(),R=uU(),{needClip:I}=lb(E,N),$=sr(),{points:z,isRange:O,baseLine:C}=(e=Oe(ue=>Qpe(ue,t.id,$)))!==null&&e!==void 0?e:{},k=ob();if(D!=="horizontal"&&D!=="vertical"||k==null||R!=="AreaChart"&&R!=="ComposedChart")return null;var{height:q,width:U,x:L,y:M}=k;return!z||!z.length?null:_.createElement(dve,Lc({},S,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:c,baseLine:C,connectNulls:u,dot:f,fill:h,fillOpacity:p,height:q,hide:v,layout:D,isAnimationActive:y==="auto"?!qm.isSsr:y,isRange:O,legendType:w,needClip:I,points:z,stroke:j,width:U,left:L,top:M,xAxisId:E,yAxisId:N}))}var hve=(t,e,n,r,i)=>{var s=n??e;if(Se(s))return s;var c=t==="horizontal"?i:r,u=c.scale.domain();if(c.type==="number"){var f=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return s==="dataMin"?h:s==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]};function mve(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:c,xAxis:u,yAxis:f,displayedData:h,dataStartIndex:p,xAxisTicks:v,yAxisTicks:y,bandSize:w}=t,j=i&&i.length,E=hve(s,c,n,u,f),N=s==="horizontal",S=!1,D=h.map((I,$)=>{var z,O,C,k;if(j)k=i[p+$];else{var q=Nt(I,r);Array.isArray(q)?(k=q,S=!0):k=[E,q]}var U=(z=(O=k)===null||O===void 0?void 0:O[1])!==null&&z!==void 0?z:null,L=U==null||j&&!e&&Nt(I,r)==null;if(N){var M;return{x:ny({axis:u,ticks:v,bandSize:w,entry:I,index:$}),y:L?null:(M=f.scale.map(U))!==null&&M!==void 0?M:null,value:k,payload:I}}return{x:L?null:(C=u.scale.map(U))!==null&&C!==void 0?C:null,y:ny({axis:f,ticks:y,bandSize:w,entry:I,index:$}),value:k,payload:I}}),R;return j||S?R=D.map(I=>{var $,z=Array.isArray(I.value)?I.value[0]:null;if(N){var O;return{x:I.x,y:z!=null&&I.y!=null&&(O=f.scale.map(z))!==null&&O!==void 0?O:null,payload:I.payload}}return{x:z!=null&&($=u.scale.map(z))!==null&&$!==void 0?$:null,y:I.y,payload:I.payload}}):R=N?f.scale.map(E):u.scale.map(E),{points:D,baseLine:R??0,isRange:S}}function pve(t){var e=vn(t,u9),n=sr();return _.createElement(ab,{id:e.id,type:"area"},r=>_.createElement(_.Fragment,null,_.createElement(JA,{legendPayload:nve(e)}),_.createElement(rve,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),_.createElement(eS,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:U6(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),_.createElement(fve,Lc({},e,{id:r}))))}var KE=_.memo(pve,ep);KE.displayName="Area";var vve="Invariant failed";function gve(t,e){throw new Error(vve)}function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GE.apply(null,arguments)}function Dy(t){return _.createElement(QA,GE({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var yve=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Se(e))return e;var s=Se(r)||Jt(r);return s?e(r,i):(s||gve(),n)}},bve=(t,e,n)=>n,_ve=(t,e)=>e,tp=te([Wm,_ve],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),xve=te([tp],t=>t?.maxBarSize),wve=(t,e,n,r)=>r,Eve=te([ht,Wm,ss,os,bve],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),jve=(t,e,n)=>{var r=ht(t),i=ss(t,e),s=os(t,e);if(!(i==null||s==null))return r==="horizontal"?Ny(t,"yAxis",s,n):Ny(t,"xAxis",i,n)},Nve=(t,e)=>{var n=ht(t),r=ss(t,e),i=os(t,e);if(!(r==null||i==null))return n==="horizontal"?mk(t,"xAxis",r):mk(t,"yAxis",i)},Ave=te([Eve,boe,Nve],$he),Sve=(t,e,n)=>{var r,i,s=tp(t,e);if(s==null)return 0;var c=ss(t,e),u=os(t,e);if(c==null||u==null)return 0;var f=ht(t),h=oV(t),{maxBarSize:p}=s,v=Jt(p)?h:p,y,w;return f==="horizontal"?(y=rs(t,"xAxis",c,n),w=ns(t,"xAxis",c,n)):(y=rs(t,"yAxis",u,n),w=ns(t,"yAxis",u,n)),(r=(i=jl(y,w,!0))!==null&&i!==void 0?i:v)!==null&&r!==void 0?r:0},d9=(t,e,n)=>{var r=ht(t),i=ss(t,e),s=os(t,e);if(!(i==null||s==null)){var c,u;return r==="horizontal"?(c=rs(t,"xAxis",i,n),u=ns(t,"xAxis",i,n)):(c=rs(t,"yAxis",s,n),u=ns(t,"yAxis",s,n)),jl(c,u)}},Tve=te([Ave,oV,yoe,lV,Sve,d9,xve],Whe),Cve=(t,e,n)=>{var r=ss(t,e);if(r!=null)return rs(t,"xAxis",r,n)},Pve=(t,e,n)=>{var r=os(t,e);if(r!=null)return rs(t,"yAxis",r,n)},Ove=(t,e,n)=>{var r=ss(t,e);if(r!=null)return ns(t,"xAxis",r,n)},Ive=(t,e,n)=>{var r=os(t,e);if(r!=null)return ns(t,"yAxis",r,n)},Rve=te([Tve,tp],Yhe),Dve=te([jve,tp],Qhe),kve=te([Fn,AN,Cve,Pve,Ove,Ive,Rve,ht,Q5,d9,Dve,tp,wve],(t,e,n,r,i,s,c,u,f,h,p,v,y)=>{var{chartData:w,dataStartIndex:j,dataEndIndex:E}=f;if(!(v==null||c==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||s==null||h==null)){var{data:N}=v,S;if(N!=null&&N.length>0?S=N:S=w?.slice(j,E+1),S!=null)return cge({layout:u,barSettings:v,pos:c,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:S,offset:t,cells:y,dataStartIndex:j})}}),Mve=["index"];function WE(){return WE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WE.apply(null,arguments)}function zve(t,e){if(t==null)return{};var n,r,i=Lve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var f9=_.createContext(void 0),Vve=t=>{var e=_.useContext(f9);if(e!=null)return e.stackId;if(t!=null)return U6(t)},Uve=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),qve=t=>{var e=_.useContext(f9);if(e!=null){var{stackId:n}=e;return"url(#".concat(Uve(n,t),")")}},h9=t=>{var{index:e}=t,n=zve(t,Mve),r=qve(e);return _.createElement(mn,WE({className:"recharts-bar-stack-layer",clipPath:r},n))},Bve=["onMouseEnter","onMouseLeave","onClick"],$ve=["value","background","tooltipPosition"],Fve=["id"],Hve=["onMouseEnter","onClick","onMouseLeave"];function Zs(){return Zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zs.apply(null,arguments)}function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){Kve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kve(t,e,n){return(e=Gve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gve(t){var e=Wve(t,"string");return typeof e=="symbol"?e:e+""}function Wve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ky(t,e){if(t==null)return{};var n,r,i=Qve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Yve=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:kl(n,e),payload:t}]},Xve=_.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:c,unit:u,tooltipType:f,id:h}=t,p={dataDefinedOnItem:void 0,getPosition:Dl,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:kl(s,e),hide:c,type:f,color:i,unit:u,graphicalItemId:h}};return _.createElement(ib,{tooltipEntrySettings:p})});function Zve(t){var e=Oe(Nl),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:c,onMouseLeave:u,onClick:f}=s,h=ky(s,Bve),p=YA(c,r,s.id),v=XA(u),y=ZA(f,r,s.id);if(!i||n==null)return null;var w=Wc(i);return _.createElement(Vr,{zIndex:Xhe(i,En.barBackground)},n.map((j,E)=>{var{value:N,background:S,tooltipPosition:D}=j,R=ky(j,$ve);if(!S)return null;var I=p(j,E),$=v(j,E),z=y(j,E),O=Ir(Ir(Ir(Ir(Ir({option:i,isActive:String(E)===e},R),{},{fill:"#eee"},S),w),km(h,j,E)),{},{onMouseEnter:I,onMouseLeave:$,onClick:z,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return _.createElement(Dy,Zs({key:"background-bar-".concat(E)},O))}))}function Jve(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var c={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Ir(Ir({},c),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:c,fill:s.fill})});return _.createElement(FA,{value:e?i:void 0},n)}function ege(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:c}=t,u=Oe(Nl),f=Oe(LA),h=n&&String(s)===u&&(f==null||c===f),p=h?n:e;return h?_.createElement(Vr,{zIndex:En.activeBar},_.createElement(h9,{index:s},_.createElement(Dy,Zs({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:c})))):_.createElement(Dy,Zs({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:c}))}function tge(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return _.createElement(Dy,Zs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function nge(t){var e,{data:n,props:r}=t,i=(e=zr(r))!==null&&e!==void 0?e:{},{id:s}=i,c=ky(i,Fve),{shape:u,dataKey:f,activeBar:h}=r,{onMouseEnter:p,onClick:v,onMouseLeave:y}=r,w=ky(r,Hve),j=YA(p,f,s),E=XA(y),N=ZA(v,f,s);return n?_.createElement(_.Fragment,null,n.map((S,D)=>_.createElement(h9,Zs({index:D,key:"rectangle-".concat(S?.x,"-").concat(S?.y,"-").concat(S?.value,"-").concat(D),className:"recharts-bar-rectangle"},km(w,S,D),{onMouseEnter:j(S,D),onMouseLeave:E(S,D),onClick:N(S,D)}),h?_.createElement(ege,{shape:u,activeBar:h,baseProps:c,entry:S,index:D,dataKey:f}):_.createElement(tge,{shape:u,baseProps:c,entry:S,index:D,dataKey:f})))):null}function rge(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:c,animationDuration:u,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,v=n.current,y=Qd(e,"recharts-bar-"),[w,j]=_.useState(!1),E=!w,N=_.useCallback(()=>{typeof h=="function"&&h(),j(!1)},[h]),S=_.useCallback(()=>{typeof p=="function"&&p(),j(!0)},[p]);return _.createElement(Jve,{showLabels:E,rects:r},_.createElement(Wd,{animationId:y,begin:c,duration:u,isActive:s,easing:f,onAnimationEnd:N,onAnimationStart:S,key:y},D=>{var R=D===1?r:r?.map((I,$)=>{var z=v&&v[$];if(z)return Ir(Ir({},I),{},{x:jt(z.x,I.x,D),y:jt(z.y,I.y,D),width:jt(z.width,I.width,D),height:jt(z.height,I.height,D)});if(i==="horizontal"){var O=jt(0,I.height,D),C=jt(I.stackedBarStart,I.y,D);return Ir(Ir({},I),{},{y:C,height:O})}var k=jt(0,I.width,D),q=jt(I.stackedBarStart,I.x,D);return Ir(Ir({},I),{},{width:k,x:q})});return D>0&&(n.current=R??null),R==null?null:_.createElement(mn,null,_.createElement(nge,{props:e,data:R}))}),_.createElement(tb,{label:e.label}),e.children)}function ige(t){var e=_.useRef(null);return _.createElement(rge,{previousRectanglesRef:e,props:t})}var m9=0,age=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Nt(t,e)}};class sge extends _.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:c,needClip:u,background:f,id:h}=this.props;if(e||n==null)return null;var p=gt("recharts-bar",i),v=h;return _.createElement(mn,{className:p,id:h},u&&_.createElement("defs",null,_.createElement(rS,{clipPathId:v,xAxisId:s,yAxisId:c})),_.createElement(mn,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(v,")"):void 0},_.createElement(Zve,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),_.createElement(ige,this.props)))}}var oge={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:m9,xAxisId:0,yAxisId:0,zIndex:En.bar};function lge(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:c,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:p}=t,{needClip:v}=lb(e,n),y=Ml(),w=sr(),j=GA(t.children,ml),E=Oe(D=>kve(D,t.id,w,j));if(y!=="vertical"&&y!=="horizontal")return null;var N,S=E?.[0];return S==null||S.height==null||S.width==null?N=0:N=y==="vertical"?S.height/2:S.width/2,_.createElement(WU,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:age,errorBarOffset:N},_.createElement(sge,Zs({},t,{layout:y,needClip:v,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:c,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function cge(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:c,yAxis:u,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:v,offset:y,cells:w,parentViewBox:j,dataStartIndex:E}=t,N=e==="horizontal"?u:c,S=p?N.scale.domain():null,D=sne({numericAxis:N}),R=N.scale.map(D);return v.map((I,$)=>{var z,O,C,k,q,U;if(p){var L=p[$+E];if(L==null)return null;z=tne(L,S)}else z=Nt(I,n),Array.isArray(z)||(z=[D,z]);var M=yve(r,m9)(z[1],$);if(e==="horizontal"){var ue,Z=u.scale.map(z[0]),B=u.scale.map(z[1]);if(Z==null||B==null)return null;O=hR({axis:c,ticks:f,bandSize:s,offset:i.offset,entry:I,index:$}),C=(ue=B??Z)!==null&&ue!==void 0?ue:void 0,k=i.size;var J=Z-B;if(q=va(J)?0:J,U={x:O,y:y.top,width:k,height:y.height},Math.abs(M)>0&&Math.abs(q)<Math.abs(M)){var he=nr(q||M)*(Math.abs(M)-Math.abs(q));C-=he,q+=he}}else{var Ee=c.scale.map(z[0]),xe=c.scale.map(z[1]);if(Ee==null||xe==null)return null;if(O=Ee,C=hR({axis:u,ticks:h,bandSize:s,offset:i.offset,entry:I,index:$}),k=xe-Ee,q=i.size,U={x:y.left,y:C,width:y.width,height:q},Math.abs(M)>0&&Math.abs(k)<Math.abs(M)){var H=nr(k||M)*(Math.abs(M)-Math.abs(k));k+=H}}if(O==null||C==null||k==null||q==null)return null;var ae=Ir(Ir({},I),{},{stackedBarStart:R,x:O,y:C,width:k,height:q,value:p?z:z[1],payload:I,background:U,tooltipPosition:{x:O+k/2,y:C+q/2},parentViewBox:j},w&&w[$]&&w[$].props);return ae}).filter(Boolean)}function uge(t){var e=vn(t,oge),n=Vve(e.stackId),r=sr();return _.createElement(ab,{id:e.id,type:"bar"},i=>_.createElement(_.Fragment,null,_.createElement(JA,{legendPayload:Yve(e)}),_.createElement(Xve,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),_.createElement(eS,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),_.createElement(Vr,{zIndex:e.zIndex},_.createElement(lge,Zs({},e,{id:i})))))}var Ec=_.memo(uge,ep);Ec.displayName="Bar";var dge=["domain","range"],fge=["domain","range"];function kM(t,e){if(t==null)return{};var n,r,i=hge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function MM(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function p9(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=kM(t,dge),{domain:s,range:c}=e,u=kM(e,fge);return!MM(n,s)||!MM(r,c)?!1:ep(i,u)}var mge=["type"],pge=["dangerouslySetInnerHTML","ticks","scale"],vge=["id","scale"];function QE(){return QE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QE.apply(null,arguments)}function zM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zM(Object(n),!0).forEach(function(r){gge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gge(t,e,n){return(e=yge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yge(t){var e=bge(t,"string");return typeof e=="symbol"?e:e+""}function bge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YE(t,e){if(t==null)return{};var n,r,i=_ge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _ge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xge(t){var e=Ht(),n=_.useRef(null),r=ON(),{type:i}=t,s=YE(t,mge),c=B0(r,"xAxis",i),u=_.useMemo(()=>{if(c!=null)return LM(LM({},s),{},{type:c})},[s,c]);return _.useLayoutEffect(()=>{u!=null&&(n.current===null?e(The(u)):n.current!==u&&e(Che({prev:n.current,next:u})),n.current=u)},[u,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(Phe(n.current)),n.current=null)},[e]),null}var wge=t=>{var{xAxisId:e,className:n}=t,r=Oe(AN),i=sr(),s="xAxis",c=Oe(S=>qV(S,s,e,i)),u=Oe(S=>zV(S,e)),f=Oe(S=>_le(S,e)),h=Oe(S=>yV(S,e));if(u==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:v,scale:y}=t,w=YE(t,pge),{id:j,scale:E}=h,N=YE(h,vge);return _.createElement(nS,QE({},w,N,{x:f.x,y:f.y,width:u.width,height:u.height,className:gt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:c,axisType:s}))},Ege={allowDataOverflow:Xn.allowDataOverflow,allowDecimals:Xn.allowDecimals,allowDuplicatedCategory:Xn.allowDuplicatedCategory,angle:Xn.angle,axisLine:qs.axisLine,height:Xn.height,hide:!1,includeHidden:Xn.includeHidden,interval:Xn.interval,label:!1,minTickGap:Xn.minTickGap,mirror:Xn.mirror,orientation:Xn.orientation,padding:Xn.padding,reversed:Xn.reversed,scale:Xn.scale,tick:Xn.tick,tickCount:Xn.tickCount,tickLine:qs.tickLine,tickSize:qs.tickSize,type:Xn.type,xAxisId:0},jge=t=>{var e=vn(t,Ege);return _.createElement(_.Fragment,null,_.createElement(xge,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),_.createElement(wge,e))},Pc=_.memo(jge,p9);Pc.displayName="XAxis";var Nge=["type"],Age=["dangerouslySetInnerHTML","ticks","scale"],Sge=["id","scale"];function XE(){return XE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XE.apply(null,arguments)}function VM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(n),!0).forEach(function(r){Tge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tge(t,e,n){return(e=Cge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cge(t){var e=Pge(t,"string");return typeof e=="symbol"?e:e+""}function Pge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZE(t,e){if(t==null)return{};var n,r,i=Oge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Oge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ige(t){var e=Ht(),n=_.useRef(null),r=ON(),{type:i}=t,s=ZE(t,Nge),c=B0(r,"yAxis",i),u=_.useMemo(()=>{if(c!=null)return UM(UM({},s),{},{type:c})},[c,s]);return _.useLayoutEffect(()=>{u!=null&&(n.current===null?e(Ohe(u)):n.current!==u&&e(Ihe({prev:n.current,next:u})),n.current=u)},[u,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(Rhe(n.current)),n.current=null)},[e]),null}function Rge(t){var{yAxisId:e,className:n,width:r,label:i}=t,s=_.useRef(null),c=_.useRef(null),u=Oe(AN),f=sr(),h=Ht(),p="yAxis",v=Oe(z=>LV(z,e)),y=Oe(z=>wle(z,e)),w=Oe(z=>qV(z,p,e,f)),j=Oe(z=>bV(z,e));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!v||$A(i)||_.isValidElement(i)||j==null)){var z=s.current;if(z){var O=z.getCalculatedWidth();Math.round(v.width)!==Math.round(O)&&h(Dhe({id:e,width:O}))}}},[w,v,h,i,e,r,j]),v==null||y==null||j==null)return null;var{dangerouslySetInnerHTML:E,ticks:N,scale:S}=t,D=ZE(t,Age),{id:R,scale:I}=j,$=ZE(j,Sge);return _.createElement(nS,XE({},D,$,{ref:s,labelRef:c,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:gt("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:w,axisType:p}))}var Dge={allowDataOverflow:Zn.allowDataOverflow,allowDecimals:Zn.allowDecimals,allowDuplicatedCategory:Zn.allowDuplicatedCategory,angle:Zn.angle,axisLine:qs.axisLine,hide:!1,includeHidden:Zn.includeHidden,interval:Zn.interval,label:!1,minTickGap:Zn.minTickGap,mirror:Zn.mirror,orientation:Zn.orientation,padding:Zn.padding,reversed:Zn.reversed,scale:Zn.scale,tick:Zn.tick,tickCount:Zn.tickCount,tickLine:qs.tickLine,tickSize:qs.tickSize,type:Zn.type,width:Zn.width,yAxisId:0},kge=t=>{var e=vn(t,Dge);return _.createElement(_.Fragment,null,_.createElement(Ige,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),_.createElement(Rge,e))},Oc=_.memo(kge,p9);Oc.displayName="YAxis";var Mge=(t,e)=>e,aS=te([Mge,ht,pV,lr,iU,fo,zce,Fn],Fce),sS=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},v9=Hi("mouseClick"),g9=zm();g9.startListening({actionCreator:v9,effect:(t,e)=>{var n=t.payload,r=aS(e.getState(),sS(n));r?.activeIndex!=null&&e.dispatch(Mle({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var JE=Hi("mouseMove"),y9=zm(),Zv=null;y9.startListening({actionCreator:JE,effect:(t,e)=>{var n=t.payload;Zv!==null&&cancelAnimationFrame(Zv);var r=sS(n);Zv=requestAnimationFrame(()=>{var i=e.getState(),s=IA(i,i.tooltip.settings.shared);if(s==="axis"){var c=aS(i,r);c?.activeIndex!=null?e.dispatch(QV({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):e.dispatch(WV())}Zv=null})}});function zge(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var qM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},b9=ri({name:"rootProps",initialState:qM,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:qM.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Lge=b9.reducer,{updateOptions:Vge}=b9.actions,Uge=null,qge={updatePolarOptions:(t,e)=>e.payload},_9=ri({name:"polarOptions",initialState:Uge,reducers:qge}),{updatePolarOptions:Bge}=_9.actions,$ge=_9.reducer,x9=Hi("keyDown"),w9=Hi("focus"),oS=zm();oS.startListening({actionCreator:x9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=RA(i,af(n),Ym(n),Zm(n)),u=c==null?-1:Number(c);if(!(!Number.isFinite(u)||u<0)){var f=fo(n);if(s==="Enter"){var h=Sy(n,"axis","hover",String(i.index));e.dispatch(UE({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var p=Ale(n),v=p==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,w=u+y*v;if(!(f==null||w>=f.length||w<0)){var j=Sy(n,"axis","hover",String(w));e.dispatch(UE({active:!0,activeIndex:w.toString(),activeCoordinate:j}))}}}}}});oS.startListening({actionCreator:w9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",c=Sy(n,"axis","hover",String(s));e.dispatch(UE({active:!0,activeIndex:s,activeCoordinate:c}))}}}});var Ui=Hi("externalEvent"),E9=zm(),hw=new Map;E9.startListening({actionCreator:Ui,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=hw.get(i);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var u=e.getState(),f={activeCoordinate:wce(u),activeDataKey:LA(u),activeIndex:Nl(u),activeLabel:oU(u),activeTooltipIndex:Nl(u),isTooltipActive:Ece(u)};n(f,r)}finally{hw.delete(i)}});hw.set(i,c)}}});var Fge=te([nf],t=>t.tooltipItemPayloads),Hge=te([Fge,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(s=>s.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),j9=Hi("touchMove"),N9=zm();N9.startListening({actionCreator:j9,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=IA(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var c=aS(r,sS({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));c?.activeIndex!=null&&e.dispatch(QV({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(i==="item"){var u,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(B6),v=(u=h.getAttribute($6))!==null&&u!==void 0?u:void 0,y=rf(r).find(E=>E.id===v);if(p==null||y==null||v==null)return;var{dataKey:w}=y,j=Hge(r,p,v);e.dispatch(GV({activeDataKey:w,activeIndex:p,activeCoordinate:j,activeGraphicalItemId:v}))}}}});var Kge=c6({brush:Zhe,cartesianAxis:khe,chartData:xue,errorBars:Kme,graphicalItems:$fe,layout:Yte,legend:nre,options:vue,polarAxis:rfe,polarOptions:$ge,referenceElements:nme,rootProps:Lge,tooltip:zle,zIndex:iue}),Gge=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return xte({reducer:Kge,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([g9.middleware,y9.middleware,oS.middleware,E9.middleware,N9.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(j6({type:"raf"}))},devTools:{serialize:{replacer:zge},name:"recharts-".concat(n)}})};function A9(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=sr(),s=_.useRef(null);if(i)return n;s.current==null&&(s.current=Gge(e,r));var c=bN;return _.createElement(_pe,{context:c,store:s.current},n)}function Wge(t){var{layout:e,margin:n}=t,r=Ht(),i=sr();return _.useEffect(()=>{i||(r(Gte(e)),r(Kte(n)))},[r,i,e,n]),null}var S9=_.memo(Wge,ep);function T9(t){var e=Ht();return _.useEffect(()=>{e(Vge(t))},[e,t]),null}function BM(t){var{zIndex:e,isPanorama:n}=t,r=_.useRef(null),i=Ht();return _.useLayoutEffect(()=>(r.current&&i(nue({zIndex:e,element:r.current,isPanorama:n})),()=>{i(rue({zIndex:e,isPanorama:n}))}),[i,e,n]),_.createElement("g",{tabIndex:-1,ref:r})}function $M(t){var{children:e,isPanorama:n}=t,r=Oe(Kce);if(!r||r.length===0)return e;var i=r.filter(c=>c<0),s=r.filter(c=>c>0);return _.createElement(_.Fragment,null,i.map(c=>_.createElement(BM,{key:c,zIndex:c,isPanorama:n})),e,s.map(c=>_.createElement(BM,{key:c,zIndex:c,isPanorama:n})))}var Qge=["children"];function Yge(t,e){if(t==null)return{};var n,r,i=Xge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function My(){return My=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},My.apply(null,arguments)}var Zge={width:"100%",height:"100%",display:"block"},Jge=_.forwardRef((t,e)=>{var n=CN(),r=PN(),i=a5();if(!es(n)||!es(r))return null;var{children:s,otherAttributes:c,title:u,desc:f}=t,h,p;return c!=null&&(typeof c.tabIndex=="number"?h=c.tabIndex:h=i?0:void 0,typeof c.role=="string"?p=c.role:p=i?"application":void 0),_.createElement(lN,My({},c,{title:u,desc:f,role:p,tabIndex:h,width:n,height:r,style:Zge,ref:e}),s)}),eye=t=>{var{children:e}=t,n=Oe(C0);if(!n)return null;var{width:r,height:i,y:s,x:c}=n;return _.createElement(lN,{width:r,height:i,x:c,y:s},e)},FM=_.forwardRef((t,e)=>{var{children:n}=t,r=Yge(t,Qge),i=sr();return i?_.createElement(eye,null,_.createElement($M,{isPanorama:!0},n)):_.createElement(Jge,My({ref:e},r),_.createElement($M,{isPanorama:!1},n))});function tye(){var t=Ht(),[e,n]=_.useState(null),r=Oe(fne);return _.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;tt(s)&&s!==r&&t(Qte(s))}},[e,t,r]),n}function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nye(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(n),!0).forEach(function(r){rye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rye(t,e,n){return(e=iye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iye(t){var e=aye(t,"string");return typeof e=="symbol"?e:e+""}function aye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pl(){return pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pl.apply(null,arguments)}var sye=()=>(Pue(),null);function zy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var oye=_.forwardRef((t,e)=>{var n,r,i=_.useRef(null),[s,c]=_.useState({containerWidth:zy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:zy((r=t.style)===null||r===void 0?void 0:r.height)}),u=_.useCallback((h,p)=>{c(v=>{var y=Math.round(h),w=Math.round(p);return v.containerWidth===y&&v.containerHeight===w?v:{containerWidth:y,containerHeight:w}})},[]),f=_.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:v}=h.getBoundingClientRect();u(p,v);var y=j=>{var E=j[0];if(E!=null){var{width:N,height:S}=E.contentRect;u(N,S)}},w=new ResizeObserver(y);w.observe(h),i.current=w}},[e,u]);return _.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[u]),_.createElement(_.Fragment,null,_.createElement(Vm,{width:s.containerWidth,height:s.containerHeight}),_.createElement("div",pl({ref:f},t)))}),lye=_.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=_.useState({containerWidth:zy(n),containerHeight:zy(r)}),c=_.useCallback((f,h)=>{s(p=>{var v=Math.round(f),y=Math.round(h);return p.containerWidth===v&&p.containerHeight===y?p:{containerWidth:v,containerHeight:y}})},[]),u=_.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();c(h,p)}},[e,c]);return _.createElement(_.Fragment,null,_.createElement(Vm,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",pl({ref:u},t)))}),cye=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return _.createElement(_.Fragment,null,_.createElement(Vm,{width:n,height:r}),_.createElement("div",pl({ref:e},t)))}),uye=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?_.createElement(lye,pl({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?_.createElement(cye,pl({},t,{width:n,height:r,ref:e})):_.createElement(_.Fragment,null,_.createElement(Vm,{width:n,height:r}),_.createElement("div",pl({ref:e},t)))});function dye(t){return t?oye:uye}var fye=_.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:c,onDoubleClick:u,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:v,onMouseUp:y,onTouchEnd:w,onTouchMove:j,onTouchStart:E,style:N,width:S,responsive:D,dispatchTouchEvents:R=!0}=t,I=_.useRef(null),$=Ht(),[z,O]=_.useState(null),[C,k]=_.useState(null),q=tye(),U=SN(),L=U?.width>0?U.width:S,M=U?.height>0?U.height:i,ue=_.useCallback(oe=>{q(oe),typeof e=="function"&&e(oe),O(oe),k(oe),oe!=null&&(I.current=oe)},[q,e,O,k]),Z=_.useCallback(oe=>{$(v9(oe)),$(Ui({handler:s,reactEvent:oe}))},[$,s]),B=_.useCallback(oe=>{$(JE(oe)),$(Ui({handler:h,reactEvent:oe}))},[$,h]),J=_.useCallback(oe=>{$(WV()),$(Ui({handler:p,reactEvent:oe}))},[$,p]),he=_.useCallback(oe=>{$(JE(oe)),$(Ui({handler:v,reactEvent:oe}))},[$,v]),Ee=_.useCallback(()=>{$(w9())},[$]),xe=_.useCallback(oe=>{$(x9(oe.key))},[$]),H=_.useCallback(oe=>{$(Ui({handler:c,reactEvent:oe}))},[$,c]),ae=_.useCallback(oe=>{$(Ui({handler:u,reactEvent:oe}))},[$,u]),ye=_.useCallback(oe=>{$(Ui({handler:f,reactEvent:oe}))},[$,f]),we=_.useCallback(oe=>{$(Ui({handler:y,reactEvent:oe}))},[$,y]),Y=_.useCallback(oe=>{$(Ui({handler:E,reactEvent:oe}))},[$,E]),W=_.useCallback(oe=>{R&&$(j9(oe)),$(Ui({handler:j,reactEvent:oe}))},[$,R,j]),_e=_.useCallback(oe=>{$(Ui({handler:w,reactEvent:oe}))},[$,w]),Ve=dye(D);return _.createElement(pU.Provider,{value:z},_.createElement(A3.Provider,{value:C},_.createElement(Ve,{width:L??N?.width,height:M??N?.height,className:gt("recharts-wrapper",r),style:nye({position:"relative",cursor:"default",width:L,height:M},N),onClick:Z,onContextMenu:H,onDoubleClick:ae,onFocus:Ee,onKeyDown:xe,onMouseDown:ye,onMouseEnter:B,onMouseLeave:J,onMouseMove:he,onMouseUp:we,onTouchEnd:_e,onTouchMove:W,onTouchStart:Y,ref:ue},_.createElement(sye,null),n)))}),hye=["width","height","responsive","children","className","style","compact","title","desc"];function mye(t,e){if(t==null)return{};var n,r,i=pye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var C9=_.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:c,style:u,compact:f,title:h,desc:p}=t,v=mye(t,hye),y=zr(v);return f?_.createElement(_.Fragment,null,_.createElement(Vm,{width:n,height:r}),_.createElement(FM,{otherAttributes:y,title:h,desc:p},s)):_.createElement(fye,{className:c,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},_.createElement(FM,{otherAttributes:y,title:h,desc:p,ref:e},_.createElement(ime,null,s)))});function ej(){return ej=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ej.apply(null,arguments)}var vye={top:5,right:5,bottom:5,left:5},gye={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:vye,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},lS=_.forwardRef(function(e,n){var r,i=vn(e.categoricalChartProps,gye),{chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return _.createElement(A9,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},_.createElement(BU,{chartData:h.data}),_.createElement(S9,{layout:i.layout,margin:i.margin}),_.createElement(T9,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(C9,ej({},i,{ref:n})))}),yye=["axis"],bye=_.forwardRef((t,e)=>_.createElement(lS,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:yye,tooltipPayloadSearcher:J0,categoricalChartProps:t,ref:e})),_ye=["axis","item"],pg=_.forwardRef((t,e)=>_.createElement(lS,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_ye,tooltipPayloadSearcher:J0,categoricalChartProps:t,ref:e}));function xye(t){var e=Ht();return _.useEffect(()=>{e(Bge(t))},[e,t]),null}var wye=["layout"];function tj(){return tj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tj.apply(null,arguments)}function Eye(t,e){if(t==null)return{};var n,r,i=jye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Nye={top:5,right:5,bottom:5,left:5},P9={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Nye,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Aye=_.forwardRef(function(e,n){var r,i=vn(e.categoricalChartProps,P9),{layout:s}=i,c=Eye(i,wye),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,v={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return _.createElement(A9,{preloadedState:{options:v},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},_.createElement(BU,{chartData:i.data}),_.createElement(S9,{layout:s,margin:i.margin}),_.createElement(T9,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(xye,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),_.createElement(C9,tj({},c,{ref:n})))});function KM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(n),!0).forEach(function(r){Sye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sye(t,e,n){return(e=Tye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tye(t){var e=Cye(t,"string");return typeof e=="symbol"?e:e+""}function Cye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pye=["item"],Oye=GM(GM({},P9),{},{layout:"centric",startAngle:0,endAngle:360}),Iye=_.forwardRef((t,e)=>{var n=vn(t,Oye);return _.createElement(Aye,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Pye,tooltipPayloadSearcher:J0,categoricalChartProps:n,ref:e})}),Rye=["axis"],Dye=_.forwardRef((t,e)=>_.createElement(lS,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Rye,tooltipPayloadSearcher:J0,categoricalChartProps:t,ref:e}));const kye=8,Mye=12,zye=14,Lye=1;function cS(t){return t instanceof nt?t.toDate():t instanceof Date?t:t?.seconds?new Date(t.seconds*1e3):new Date(t)}function WM(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}function cb(){const t=new Date,e=t.getDay(),n=e===0?-6:1-e,r=new Date(t);return r.setDate(t.getDate()+n),r.setHours(0,0,0,0),r}function Vye(){const t=cb(),e=new Date(t);return e.setDate(t.getDate()+6),e.setHours(23,59,59,999),e}function mw(t,e){return Math.floor(Math.abs(e.getTime()-t.getTime())/864e5)}async function ub(t){try{const e=ir(Nn(Le,"quiz_results"),tn("userId","==",t),Fi("datePassage","desc"));return(await ar(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Erreur rcupration rsultats lve:",e),[]}}async function Uye(t){try{const e=await ub(t);if(e.length===0)return[];const n=new Map;e.forEach(s=>{const c=s.disciplineId;n.has(c)||n.set(c,[]),n.get(c).push(s)});const r=[];n.forEach((s,c)=>{if(s.length<Lye)return;const u=s.map(N=>N.pourcentage/100*20),f=u.reduce((N,S)=>N+S,0)/u.length;if(f>=zye)return;let h="stable";if(u.length>=3){const N=u.slice(0,2),S=u.slice(2,4),D=N.reduce(($,z)=>$+z,0)/N.length,R=S.reduce(($,z)=>$+z,0)/S.length,I=D-R;I>1.5?h="hausse":I<-1.5&&(h="baisse")}let p="modere";f<kye?p="critique":f<Mye&&(p="important");const v=u[0],y=Math.max(...u),w=Math.min(...u),j=cS(s[0].datePassage),E=s[0].disciplineNom||"Discipline inconnue";r.push({id:`lacune_${c}`,disciplineId:c,disciplineNom:E,moyenne:Math.round(f*10)/10,nombreQuiz:s.length,tendance:h,niveauUrgence:p,dernierQuizDate:j,scoreDetails:{dernierScore:Math.round(v*10)/10,meilleurScore:Math.round(y*10)/10,pireScore:Math.round(w*10)/10}})});const i={critique:0,important:1,modere:2};return r.sort((s,c)=>{const u=i[s.niveauUrgence]-i[c.niveauUrgence];return u!==0?u:s.moyenne-c.moyenne}),r}catch(e){return console.error("Erreur dtection lacunes:",e),[]}}function qye(t){const e=[];let n=1;return t.forEach(r=>{const{id:i,disciplineNom:s,niveauUrgence:c,moyenne:u,tendance:f}=r;switch(c){case"critique":e.push({id:`reco_cours_${i}`,lacuneId:i,type:"revoir_cours",titre:` Revoir les cours de ${s}`,description:`Ta moyenne est de ${u}/20 en ${s}. Il est important de reprendre les bases. Consulte les cours disponibles et prends des notes.`,disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date}),e.push({id:`reco_quiz_${i}`,lacuneId:i,type:"refaire_quiz",titre:` Refaire les quiz de ${s}`,description:"Aprs avoir rvis, refais les quiz pour vrifier ta comprhension. Vise au moins 12/20 !",disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date});break;case"important":e.push({id:`reco_exercice_${i}`,lacuneId:i,type:"exercice_cible",titre:` Exercices cibls en ${s}`,description:`Avec ${u}/20 de moyenne, concentre-toi sur les exercices pratiques. ${f==="hausse"?"Tu progresses, continue !":"Un effort supplmentaire est ncessaire."}`,disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date}),e.push({id:`reco_cours2_${i}`,lacuneId:i,type:"revoir_cours",titre:` Rviser les points cls en ${s}`,description:"Identifie les concepts qui te posent problme et revois-les attentivement.",disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date});break;case"modere":e.push({id:`reco_consolider_${i}`,lacuneId:i,type:"refaire_quiz",titre:` Consolider tes acquis en ${s}`,description:`Tu es proche du niveau attendu (${u}/20). Un quiz supplmentaire devrait suffire pour atteindre 14/20 !`,disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date});break}}),e}async function Bye(t){try{const e=await ub(t);if(e.length===0)return{userId:t,streakActuel:0,meilleurStreak:0,dernierJourActif:null,totalJoursActifs:0,semaineCourante:[!1,!1,!1,!1,!1,!1,!1],historiqueHebdo:[]};const n=new Set;e.forEach(E=>{const N=cS(E.datePassage),S=`${N.getFullYear()}-${N.getMonth()}-${N.getDate()}`;n.add(S)});const r=Array.from(n).map(E=>{const[N,S,D]=E.split("-").map(Number);return new Date(N,S,D)}).sort((E,N)=>N.getTime()-E.getTime()),i=r.length,s=r[0];let c=0;const u=new Date;u.setHours(0,0,0,0);const f=r[0];if(mw(f,u)<=1){c=1;for(let E=1;E<r.length&&mw(r[E],r[E-1])===1;E++)c++}let p=0,v=1;for(let E=1;E<r.length;E++)mw(r[E],r[E-1])===1?v++:(p=Math.max(p,v),v=1);p=Math.max(p,v,c);const y=cb(),w=[];for(let E=0;E<7;E++){const N=new Date(y);N.setDate(y.getDate()+E);const S=r.some(D=>WM(D,N));w.push(S)}const j=[];for(let E=0;E<4;E++){const N=new Date(y);N.setDate(y.getDate()-E*7);let S=0;for(let R=0;R<7;R++){const I=new Date(N);I.setDate(N.getDate()+R),r.some($=>WM($,I))&&S++}const D=Math.ceil((N.getDate()+new Date(N.getFullYear(),N.getMonth(),1).getDay())/7);j.push({semaine:E===0?"Cette sem.":`Sem. -${E}`,joursActifs:S})}return{userId:t,streakActuel:c,meilleurStreak:p,dernierJourActif:s,totalJoursActifs:i,semaineCourante:w,historiqueHebdo:j.reverse()}}catch(e){return console.error("Erreur calcul streak:",e),{userId:t,streakActuel:0,meilleurStreak:0,dernierJourActif:null,totalJoursActifs:0,semaineCourante:[!1,!1,!1,!1,!1,!1,!1],historiqueHebdo:[]}}}function $ye(t,e,n){const r=[],i=cb(),s=Vye(),c=e.length>2?5:3;if(r.push({id:`obj_quiz_${t}_${i.getTime()}`,userId:t,titre:`Passer ${c} quiz cette semaine`,description:`Entrane-toi en passant au moins ${c} quiz pour progresser dans tes matires.`,type:"quiz_count",cible:c,progression:0,statut:"en_cours",dateDebut:i,dateFin:s,recompense:' Badge "Travailleur"'}),e.length>0){const f=e[0],h=Math.min(f.moyenne+3,14);r.push({id:`obj_score_${t}_${i.getTime()}`,userId:t,titre:`Atteindre ${Math.round(h)}/20 en ${f.disciplineNom}`,description:`Ta moyenne actuelle est de ${f.moyenne}/20. Vise ${Math.round(h)}/20 lors de ton prochain quiz !`,type:"score_min",cible:Math.round(h),progression:Math.round(f.moyenne),statut:"en_cours",disciplineId:f.disciplineId,disciplineNom:f.disciplineNom,dateDebut:i,dateFin:s,recompense:' Badge "En progrs"'})}const u=n.streakActuel>=5?7:n.streakActuel+2;return r.push({id:`obj_streak_${t}_${i.getTime()}`,userId:t,titre:`Maintenir un streak de ${u} jours`,description:`Tu es actuellement  ${n.streakActuel} jour(s) conscutif(s). Continue !`,type:"streak",cible:u,progression:n.streakActuel,statut:n.streakActuel>=u?"atteint":"en_cours",dateDebut:i,dateFin:s,recompense:' Badge "Flamme"'}),r}function Fye(t,e,n,r){let i=0;if(r.length>0){const v=r.reduce((y,w)=>y+w.pourcentage/100*20,0)/r.length;i=Math.min(v/20*100,100)}let s=100;const c=t.filter(v=>v.niveauUrgence==="critique").length,u=t.filter(v=>v.niveauUrgence==="important").length;s-=c*25,s-=u*15,s=Math.max(s,0);const f=Math.min(e.streakActuel/7*100,100);let h=0;n.length>0&&(h=n.filter(y=>y.statut==="atteint").length/n.length*100);const p=i*.4+s*.25+f*.2+h*.15;return Math.round(Math.min(Math.max(p,0),100))}function Hye(t,e,n){const r=cb(),i=e.filter(s=>cS(s.datePassage)>=r);return t.map(s=>{const c={...s};switch(s.type){case"quiz_count":c.progression=i.length;break;case"score_min":if(s.disciplineId){const u=i.filter(f=>f.disciplineId===s.disciplineId);if(u.length>0){const f=Math.max(...u.map(h=>h.pourcentage));c.progression=Math.round(f/100*20)}}break;case"streak":c.progression=n.streakActuel;break}return c.progression>=c.cible&&(c.statut="atteint"),c})}async function O9(t){try{const e=await Uye(t),n=qye(e),r=await Bye(t);let i=$ye(t,e,r);const s=await ub(t);i=Hye(i,s,r);const c=Fye(e,r,i,s);return{lacunes:e,recommandations:n,streak:r,objectifs:i,scoreGlobal:c}}catch(e){return console.error("Erreur suivi complet:",e),{lacunes:[],recommandations:[],streak:{userId:t,streakActuel:0,meilleurStreak:0,dernierJourActif:null,totalJoursActifs:0,semaineCourante:[!1,!1,!1,!1,!1,!1,!1],historiqueHebdo:[]},objectifs:[],scoreGlobal:0}}}function Ly(t){switch(t){case"critique":return"#ef4444";case"important":return"#f59e0b";case"modere":return"#eab308";case"info":return"#10b981";default:return"#6b7280"}}function I9(t){switch(t){case"critique":return"Critique";case"important":return"Important";case"modere":return"Modr";case"info":return"Info";default:return"Inconnu"}}function R9(t){switch(t){case"hausse":return"";case"baisse":return"";case"stable":return"";default:return""}}function Kye(t){return t>=80?"Excellent travail ! Continue comme a, tu es sur la bonne voie ! ":t>=60?"Bon travail ! Quelques efforts supplmentaires et tu seras au top ! ":t>=40?"Tu peux faire mieux ! Suis les recommandations pour progresser. ":t>=20?"Courage ! Chaque effort compte. Commence par les recommandations prioritaires. ":"C'est le moment de se lancer ! Passe ton premier quiz pour commencer. "}function Gye(t){return t.cible===0?0:Math.min(Math.round(t.progression/t.cible*100),100)}const Wye="PEDA",Qye=4,Yye=5,Xye=40,D9=5;function Ms(t){return t instanceof nt?t.toDate():t instanceof Date?t:t?.seconds?new Date(t.seconds*1e3):new Date(t)}function k9(t){const e=new Date,n=e.getDay(),r=n===0?-6:1-n,i=new Date(e);return i.setDate(e.getDate()+r),i.setHours(0,0,0,0),i}function Zye(t){const e=k9(),n=new Date(e);return n.setDate(e.getDate()+6),n.setHours(23,59,59,999),n}function QM(t){const e=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"];return`${t.getDate()} ${e[t.getMonth()]}`}function M9(t,e){return Math.floor(Math.abs(e.getTime()-t.getTime())/864e5)}async function Jye(t){try{const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let n="",r="";for(let c=0;c<Qye;c++)n+=e.charAt(Math.floor(Math.random()*e.length)),r+=e.charAt(Math.floor(Math.random()*e.length));const i=`${Wye}-${n}-${r}`,s=_t(Le,"users",t);return await Mr(s,{codeParent:i,codeParentGenere:new Date}),i}catch(e){throw console.error("Erreur gnration code invitation:",e),new Error("Impossible de gnrer le code d'invitation")}}async function e0e(t){try{const e=_t(Le,"users",t),n=await pa(e);if(!n.exists())throw new Error("lve introuvable");const r=n.data();return r.codeParent?r.codeParent:await Jye(t)}catch(e){throw console.error("Erreur rcupration code invitation:",e),new Error("Impossible de rcuprer le code d'invitation")}}async function t0e(t,e){try{const n=e.trim().toUpperCase(),r=Nn(Le,"users"),i=ir(r,tn("codeParent","==",n),tn("role","==","eleve"),Pd(1)),s=await ar(i);if(s.empty)throw new Error("Code d'invitation invalide. Vrifiez le code et ressayez.");const c=s.docs[0],u=c.data(),f=c.id,h=Nn(Le,"liens_parent_enfant"),p=ir(h,tn("parentId","==",t),tn("enfantId","==",f),tn("statut","==","actif"),Pd(1));if(!(await ar(p)).empty)throw new Error("Cet enfant est dj li  votre compte.");const y={parentId:t,enfantId:f,enfantNom:u.displayName||u.email,enfantEmail:u.email,enfantClasse:u.classe||void 0,codeInvitation:n,statut:"actif",dateCreation:new Date};return{id:(await Rl(h,y)).id,...y}}catch(n){throw console.error("Erreur liaison parent-enfant:",n),n}}async function n0e(t){try{const e=Nn(Le,"liens_parent_enfant"),n=ir(e,tn("parentId","==",t),tn("statut","==","actif"),Fi("dateCreation","desc"));return(await ar(n)).docs.map(i=>({id:i.id,...i.data(),dateCreation:Ms(i.data().dateCreation),dateDerniereConsultation:i.data().dateDerniereConsultation?Ms(i.data().dateDerniereConsultation):void 0}))}catch(e){return console.error("Erreur rcupration enfants lis:",e),[]}}async function r0e(t,e){try{const n=_t(Le,"liens_parent_enfant",t),r=await pa(n);if(!r.exists())throw new Error("Lien introuvable");if(r.data().parentId!==e)throw new Error("Action non autorise");await Mr(n,{statut:"revoque",dateRevocation:new Date})}catch(n){throw console.error("Erreur rvocation lien:",n),n}}async function i0e(t,e){try{const n=Nn(Le,"liens_parent_enfant"),r=ir(n,tn("parentId","==",t),tn("enfantId","==",e),tn("statut","==","actif"),Pd(1)),i=await ar(r);if(i.empty)throw new Error("Vous n'tes pas autoris  consulter le suivi de cet enfant.");const s=_t(Le,"users",e),c=await pa(s);if(!c.exists())throw new Error("Profil de l'enfant introuvable.");const u=c.data(),f=await O9(e),h=await ub(e),p=h.slice(0,D9).map(j=>({quizTitre:j.quizTitre||"Quiz",disciplineNom:j.disciplineNom||"Discipline",pourcentage:j.pourcentage,noteSur20:Math.round(j.pourcentage/100*20*10)/10,reussi:j.reussi,datePassage:Ms(j.datePassage)})),v=await a0e(t,e,u.displayName||u.email,f.lacunes,f.streak,f.scoreGlobal,h),y=s0e(e,u.displayName||u.email,f,h),w=i.docs[0];return await Mr(_t(Le,"liens_parent_enfant",w.id),{dateDerniereConsultation:new Date}),{enfant:{id:e,nom:u.displayName||u.email,email:u.email,classe:u.classe||void 0,derniereConnexion:u.lastLogin?Ms(u.lastLogin):void 0},scoreGlobal:f.scoreGlobal,streak:{actuel:f.streak.streakActuel,meilleur:f.streak.meilleurStreak,semaineCourante:f.streak.semaineCourante},lacunes:f.lacunes.map(j=>({disciplineNom:j.disciplineNom,moyenne:j.moyenne,niveauUrgence:j.niveauUrgence,tendance:j.tendance})),objectifs:f.objectifs.map(j=>({titre:j.titre,progression:j.progression,cible:j.cible,statut:j.statut})),derniersQuiz:p,resume:y,alertes:v}}catch(n){throw console.error("Erreur dashboard parent:",n),n}}async function a0e(t,e,n,r,i,s,c){const u=[],f=new Date;if(r.filter(p=>p.niveauUrgence==="critique").forEach(p=>{u.push({id:`alerte_parent_lacune_${p.id}`,parentId:t,enfantId:e,enfantNom:n,type:"lacune_critique",niveau:"critique",titre:` Alerte critique en ${p.disciplineNom}`,message:`${n} a une moyenne de ${p.moyenne}/20 en ${p.disciplineNom}. Un suivi rapproch est recommand.`,lue:!1,dateCreation:f})}),i.dernierJourActif){const p=M9(Ms(i.dernierJourActif),f);p>=Yye&&u.push({id:`alerte_parent_inactif_${e}`,parentId:t,enfantId:e,enfantNom:n,type:"inactivite",niveau:"important",titre:` ${n} est inactif`,message:`${n} n'a pas utilis PedaClic depuis ${p} jours. Un petit encouragement pourrait aider !`,lue:!1,dateCreation:f})}else c.length===0&&u.push({id:`alerte_parent_jamais_actif_${e}`,parentId:t,enfantId:e,enfantNom:n,type:"inactivite",niveau:"modere",titre:` ${n} n'a pas encore commenc`,message:`${n} n'a pas encore pass de quiz sur PedaClic. Encouragez-le  commencer !`,lue:!1,dateCreation:f});s<Xye&&c.length>0&&u.push({id:`alerte_parent_score_${e}`,parentId:t,enfantId:e,enfantNom:n,type:"score_bas",niveau:"important",titre:` Score global bas : ${s}/100`,message:`Le score de sant global de ${n} est de ${s}/100. Des efforts supplmentaires sont ncessaires dans plusieurs matires.`,lue:!1,dateCreation:f}),r.filter(p=>p.tendance==="hausse").forEach(p=>{u.push({id:`alerte_parent_progression_${p.id}`,parentId:t,enfantId:e,enfantNom:n,type:"progression",niveau:"info",titre:` Progression en ${p.disciplineNom}`,message:`Bonne nouvelle ! ${n} montre une tendance  la hausse en ${p.disciplineNom}.`,lue:!1,dateCreation:f})}),i.streakActuel>=5&&u.push({id:`alerte_parent_streak_${e}`,parentId:t,enfantId:e,enfantNom:n,type:"objectif_atteint",niveau:"info",titre:` Streak de ${i.streakActuel} jours !`,message:`Flicitations ! ${n} maintient un streak de ${i.streakActuel} jours conscutifs de travail.`,lue:!1,dateCreation:f});const h={critique:0,important:1,modere:2,info:3};return u.sort((p,v)=>h[p.niveau]-h[v.niveau]),u}function s0e(t,e,n,r){const i=k9(),s=Zye(),c=new Date(i);c.setDate(c.getDate()-7);const u=new Date(s);u.setDate(u.getDate()-7);const f=r.filter(I=>{const $=Ms(I.datePassage);return $>=i&&$<=s}),h=r.filter(I=>{const $=Ms(I.datePassage);return $>=c&&$<=u}),p=f.slice(0,D9).map(I=>({quizTitre:I.quizTitre||"Quiz",disciplineNom:I.disciplineNom||"Discipline",pourcentage:I.pourcentage,noteSur20:Math.round(I.pourcentage/100*20*10)/10,reussi:I.reussi,datePassage:Ms(I.datePassage)})),v=o0e(f,h),y=new Set;f.forEach(I=>{const $=Ms(I.datePassage);y.add(`${$.getFullYear()}-${$.getMonth()}-${$.getDate()}`)});const w=f.reduce((I,$)=>I+($.tempsEcoule||5),0);let j=0;if(h.length>0){const I=h.reduce(($,z)=>$+z.pourcentage,0)/h.length;j=Math.round(I)}let E="stable";const N=n.scoreGlobal-j;N>5?E="hausse":N<-5&&(E="baisse");const S=n.lacunes.filter(I=>I.niveauUrgence==="critique"||I.niveauUrgence==="important").map(I=>I.disciplineNom),D=n.objectifs.filter(I=>I.statut==="atteint").length,R=`${QM(i)} - ${QM(s)} ${s.getFullYear()}`;return{enfantId:t,enfantNom:e,semaine:R,dateDebut:i,dateFin:s,scoreGlobal:n.scoreGlobal,scoreGlobalPrecedent:j,evolutionScore:E,nombreQuizSemaine:f.length,tempsEstimeMinutes:Math.round(w),joursActifsSemaine:y.size,streakActuel:n.streak.streakActuel,derniersQuiz:p,evolutionDisciplines:v,lacunesCritiques:n.lacunes.filter(I=>I.niveauUrgence==="critique").length,lacunesImportantes:n.lacunes.filter(I=>I.niveauUrgence==="important").length,disciplinesEnDifficulte:S,objectifsAtteints:D,objectifsTotal:n.objectifs.length}}function o0e(t,e){const n=new Map;t.forEach(s=>{n.has(s.disciplineId)||n.set(s.disciplineId,{scores:[],nom:s.disciplineNom||"Discipline"}),n.get(s.disciplineId).scores.push(s.pourcentage)});const r=new Map;e.forEach(s=>{r.has(s.disciplineId)||r.set(s.disciplineId,[]),r.get(s.disciplineId).push(s.pourcentage)});const i=[];return n.forEach((s,c)=>{const u=s.scores.reduce((j,E)=>j+E,0)/s.scores.length,f=r.get(c)||[],h=f.length>0?f.reduce((j,E)=>j+E,0)/f.length:u,p=Math.round(u/100*20*10)/10,v=Math.round(h/100*20*10)/10,y=Math.round((p-v)*10)/10;let w="stable";y>1?w="hausse":y<-1&&(w="baisse"),i.push({disciplineNom:s.nom,disciplineId:c,moyenneSemainePrecedente:v,moyenneSemaineCourante:p,evolution:w,ecart:y})}),i}function l0e(t){return Ly(t)}function c0e(t){return{lacune_critique:"Lacune critique",inactivite:"Inactivit",streak_perdu:"Streak perdu",objectif_atteint:"Objectif atteint",progression:"Progression",score_bas:"Score bas",nouveau_quiz:"Nouveau quiz"}[t]||"Alerte"}function YM(t){switch(t){case"hausse":return"";case"baisse":return"";case"stable":return"";default:return""}}function u0e(t){return t>=80?"Votre enfant fait un excellent travail ! Continuez  l'encourager. ":t>=60?"De bons rsultats ! Quelques efforts supplmentaires et ce sera parfait. ":t>=40?"Des progrs sont possibles. Encouragez votre enfant  suivre les recommandations. ":t>=20?"Votre enfant a besoin de soutien. Un suivi rgulier est recommand. ":"Il est temps de commencer ! Encouragez votre enfant  passer ses premiers quiz. "}function pw(t){const n=M9(t,new Date);return n===0?"Aujourd'hui":n===1?"Hier":n<7?`Il y a ${n} jours`:n<30?`Il y a ${Math.floor(n/7)} semaine(s)`:`Il y a ${Math.floor(n/30)} mois`}const d0e=()=>{const t=to(),{currentUser:e}=ni(),[n,r]=_.useState(null),[i,s]=_.useState([]),[c,u]=_.useState([]),[f,h]=_.useState([]),[p,v]=_.useState([]),[y,w]=_.useState([]),[j,E]=_.useState(!0),[N,S]=_.useState("overview"),[D,R]=_.useState(null),[I,$]=_.useState(!1),[z,O]=_.useState(!1),C=async()=>{if(e){$(!0);try{const M=await e0e(e.uid);R(M)}catch(M){console.error("Erreur gnration code parent :",M)}finally{$(!1)}}},k=()=>{D&&(navigator.clipboard.writeText(D),O(!0),setTimeout(()=>O(!1),2e3))};if(_.useEffect(()=>{(async()=>{if(e){E(!0);try{const[ue,Z,B,J,he]=await Promise.all([IZ(e.uid),RZ(e.uid),DZ(e.uid,20),f0(e.uid,10),y3().catch(()=>[])]);r(ue),s(Z),u(B),h(J),v(he);const Ee=kZ(ue,Z);w(Ee)}catch(ue){console.error("Erreur chargement dashboard :",ue)}finally{E(!1)}}})()},[e]),j)return l.jsxs("div",{className:"sd-loading",children:[l.jsx("div",{className:"admin-spinner"}),l.jsx("p",{children:"Chargement de votre tableau de bord..."})]});const q=y.filter(M=>M.obtenu),U=y.length,L=e?.displayName||e?.email?.split("@")[0]||"lve";return l.jsxs("div",{className:"student-dashboard",children:[l.jsxs("div",{className:"sd-welcome",children:[l.jsxs("div",{className:"sd-welcome-text",children:[l.jsxs("h1",{children:["Bienvenue, ",L," "]}),l.jsx("p",{children:n&&n.totalQuizPasses>0?`Vous avez pass ${n.totalQuizPasses} quiz${n.totalQuizPasses>1,""} avec une moyenne de ${n.moyenneGenerale}%. Continuez !`:"Commencez par passer votre premier quiz pour suivre votre progression !"})]}),e?.isPremium&&l.jsxs("span",{className:"sd-premium-badge",children:[l.jsx(bi,{size:14})," Premium"]})]}),l.jsxs("div",{className:"sd-stats-grid",children:[l.jsxs("div",{className:"sd-stat-card",children:[l.jsx("div",{className:"sd-stat-icon",style:{background:"#eff6ff",color:"#3b82f6"},children:l.jsx(Rr,{size:22})}),l.jsxs("div",{className:"sd-stat-content",children:[l.jsx("span",{className:"sd-stat-value",children:n?.totalQuizPasses||0}),l.jsx("span",{className:"sd-stat-label",children:"Quiz passs"})]})]}),l.jsxs("div",{className:"sd-stat-card",children:[l.jsx("div",{className:"sd-stat-icon",style:{background:"#f0fdf4",color:"#10b981"},children:l.jsx(dd,{size:22})}),l.jsxs("div",{className:"sd-stat-content",children:[l.jsxs("span",{className:"sd-stat-value",style:{color:od(n?.moyenneGenerale||0)},children:[n?.moyenneGenerale||0,"%"]}),l.jsx("span",{className:"sd-stat-label",children:"Moyenne gnrale"})]})]}),l.jsxs("div",{className:"sd-stat-card",children:[l.jsx("div",{className:"sd-stat-icon",style:{background:"#fefce8",color:"#f59e0b"},children:l.jsx(m3,{size:22})}),l.jsxs("div",{className:"sd-stat-content",children:[l.jsxs("span",{className:"sd-stat-value",children:[n?.meilleurScore||0,"%"]}),l.jsx("span",{className:"sd-stat-label",children:"Meilleur score"})]})]}),l.jsxs("div",{className:"sd-stat-card",children:[l.jsx("div",{className:"sd-stat-icon",style:{background:"#fef2f2",color:"#ef4444"},children:l.jsx(p3,{size:22})}),l.jsxs("div",{className:"sd-stat-content",children:[l.jsx("span",{className:"sd-stat-value",children:n?.serieReussites||0}),l.jsx("span",{className:"sd-stat-label",children:"Srie en cours "})]})]})]}),l.jsxs("div",{className:"sd-chart-card",style:{marginBottom:"1.5rem"},children:[l.jsx("h3",{className:"sd-section-title",children:" Code Parent"}),l.jsx("p",{style:{color:"#6b7280",fontSize:"0.9rem",marginBottom:"1rem"},children:"Partagez ce code avec vos parents pour qu'ils puissent suivre votre progression depuis leur Espace Parent."}),D?l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[l.jsx("span",{style:{fontFamily:"monospace",fontSize:"1.4rem",fontWeight:700,letterSpacing:"0.1em",background:"#eff6ff",color:"#2563eb",padding:"0.75rem 1.5rem",borderRadius:"12px",border:"2px dashed #93c5fd",userSelect:"all"},children:D}),l.jsx("button",{className:"sd-btn",onClick:k,style:{display:"inline-flex",alignItems:"center",gap:"0.4rem",background:z?"#10b981":"#f3f4f6",color:z?"#fff":"#374151",border:"none",padding:"0.6rem 1rem",borderRadius:"8px",cursor:"pointer",fontWeight:500,transition:"all 0.2s"},children:z?" Copi !":" Copier"})]}):l.jsx("button",{className:"sd-btn sd-btn-primary",onClick:C,disabled:I,style:{display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:I?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"admin-spinner",style:{width:"16px",height:"16px"}}),"Gnration..."]}):l.jsx(l.Fragment,{children:" Gnrer mon code"})})]}),l.jsxs("div",{className:"sd-tabs",children:[l.jsxs("button",{className:`sd-tab ${N==="overview"?"active":""}`,onClick:()=>S("overview"),children:[l.jsx(sa,{size:16})," Vue d'ensemble"]}),l.jsxs("button",{className:`sd-tab ${N==="history"?"active":""}`,onClick:()=>S("history"),children:[l.jsx(Tx,{size:16})," Historique"]}),l.jsxs("button",{className:`sd-tab ${N==="badges"?"active":""}`,onClick:()=>S("badges"),children:[l.jsx(Ya,{size:16})," Badges (",q.length,"/",U,")"]})]}),N==="overview"&&l.jsxs("div",{className:"sd-overview",children:[c.length>1&&l.jsxs("div",{className:"sd-chart-card",children:[l.jsxs("h3",{className:"sd-section-title",children:[l.jsx(Jh,{size:18})," volution de vos scores"]}),l.jsx("div",{className:"sd-chart-container",children:l.jsx(xc,{width:"100%",height:280,children:l.jsxs(bye,{data:c,children:[l.jsx(Cc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),l.jsx(Pc,{dataKey:"date",tick:{fontSize:12,fill:"#6b7280"},tickLine:!1}),l.jsx(Oc,{domain:[0,100],tick:{fontSize:12,fill:"#6b7280"},tickLine:!1,unit:"%"}),l.jsx(wc,{formatter:M=>[`${M}%`,"Score"],labelFormatter:M=>`Date : ${M}`,contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb",boxShadow:"0 4px 6px rgba(0,0,0,0.07)"}}),l.jsx(n9,{type:"monotone",dataKey:"score",stroke:"#3b82f6",strokeWidth:2.5,dot:{r:4,fill:"#3b82f6",stroke:"#fff",strokeWidth:2},activeDot:{r:6}})]})})})]}),i.length>0&&l.jsxs("div",{className:"sd-chart-card",children:[l.jsxs("h3",{className:"sd-section-title",children:[l.jsx(sa,{size:18})," Progression par discipline"]}),l.jsx("div",{className:"sd-chart-container",children:l.jsx(xc,{width:"100%",height:280,children:l.jsxs(pg,{data:i,layout:"vertical",children:[l.jsx(Cc,{strokeDasharray:"3 3",stroke:"#e5e7eb",horizontal:!1}),l.jsx(Pc,{type:"number",domain:[0,100],tick:{fontSize:12,fill:"#6b7280"},unit:"%"}),l.jsx(Oc,{type:"category",dataKey:"disciplineNom",width:120,tick:{fontSize:12,fill:"#374151"}}),l.jsx(wc,{formatter:M=>[`${M}%`,"Moyenne"],contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb",boxShadow:"0 4px 6px rgba(0,0,0,0.07)"}}),l.jsx(Ec,{dataKey:"moyenne",radius:[0,6,6,0],barSize:24,children:i.map((M,ue)=>l.jsx(ml,{fill:od(M.moyenne)},ue))})]})})}),l.jsx("div",{className:"sd-disc-list",children:i.map(M=>l.jsxs("div",{className:"sd-disc-card",children:[l.jsxs("div",{className:"sd-disc-header",children:[l.jsx("span",{className:"sd-disc-name",children:M.disciplineNom}),l.jsxs("span",{className:"sd-disc-tendance",children:[M.tendance==="up"&&l.jsx(Jh,{size:16,className:"tendance-up"}),M.tendance==="down"&&l.jsx(Zw,{size:16,className:"tendance-down"}),M.tendance==="stable"&&l.jsx(Yw,{size:16,className:"tendance-stable"})]})]}),l.jsxs("div",{className:"sd-disc-stats",children:[l.jsxs("div",{className:"sd-disc-stat",children:[l.jsxs("span",{className:"sd-disc-stat-value",style:{color:od(M.moyenne)},children:[M.moyenne,"%"]}),l.jsx("span",{className:"sd-disc-stat-label",children:"Moyenne"})]}),l.jsxs("div",{className:"sd-disc-stat",children:[l.jsx("span",{className:"sd-disc-stat-value",children:M.nombreQuiz}),l.jsx("span",{className:"sd-disc-stat-label",children:"Quiz"})]}),l.jsxs("div",{className:"sd-disc-stat",children:[l.jsxs("span",{className:"sd-disc-stat-value",children:[M.meilleurScore,"%"]}),l.jsx("span",{className:"sd-disc-stat-label",children:"Meilleur"})]}),l.jsxs("div",{className:"sd-disc-stat",children:[l.jsxs("span",{className:"sd-disc-stat-value",children:[M.quizReussis,"/",M.nombreQuiz]}),l.jsx("span",{className:"sd-disc-stat-label",children:"Russis"})]})]}),l.jsx("div",{className:"sd-disc-bar",children:l.jsx("div",{className:"sd-disc-bar-fill",style:{width:`${M.moyenne}%`,background:od(M.moyenne)}})})]},M.disciplineId))})]}),p.length>0&&l.jsxs("div",{className:"sd-chart-card",children:[l.jsxs("h3",{className:"sd-section-title",children:[l.jsx(Lh,{size:18})," Quiz disponibles"]}),l.jsx("div",{className:"sd-quiz-grid",children:p.slice(0,6).map(M=>{const ue=M.isPremium&&!e?.isPremium;return l.jsxs("div",{className:`sd-quiz-card ${ue?"locked":""}`,onClick:()=>!ue&&t(`/quiz/${M.id}`),children:[M.isPremium&&l.jsxs("span",{className:"sd-quiz-badge-premium",children:[ue?l.jsx(Qw,{size:10}):l.jsx(bi,{size:10})," Premium"]}),l.jsx("h4",{className:"sd-quiz-title",children:M.titre}),l.jsxs("div",{className:"sd-quiz-meta",children:[l.jsxs("span",{children:[l.jsx(Rr,{size:12})," ",M.questions.length," questions"]}),l.jsxs("span",{children:[l.jsx(El,{size:12})," ",M.duree," min"]})]}),!ue&&l.jsxs("button",{className:"sd-quiz-play-btn",children:[l.jsx(Lh,{size:14})," Commencer"]}),ue&&l.jsxs("button",{className:"sd-quiz-unlock-btn",onClick:Z=>{Z.stopPropagation(),t("/premium")},children:[l.jsx(Qw,{size:14})," Dbloquer"]})]},M.id)})})]}),n&&n.totalQuizPasses===0&&l.jsxs("div",{className:"sd-empty-state",children:[l.jsx(dd,{size:48}),l.jsx("h3",{children:"Commencez votre parcours !"}),l.jsx("p",{children:"Passez votre premier quiz pour voir votre progression ici."}),p.length>0&&l.jsxs("button",{className:"sd-btn sd-btn-primary",onClick:()=>t(`/quiz/${p[0].id}`),children:[l.jsx(Lh,{size:18})," Passer un quiz"]})]})]}),N==="history"&&l.jsx("div",{className:"sd-history",children:f.length===0?l.jsxs("div",{className:"sd-empty-state",children:[l.jsx(Tx,{size:48}),l.jsx("h3",{children:"Aucun quiz pass"}),l.jsx("p",{children:"Votre historique apparatra ici aprs avoir pass des quiz."})]}):l.jsx("div",{className:"sd-history-list",children:f.map(M=>{const ue=M.datePassage?.toDate?M.datePassage.toDate():new Date(M.datePassage);return l.jsxs("div",{className:`sd-history-item ${M.reussi?"success":"fail"}`,children:[l.jsx("div",{className:`sd-history-icon ${M.reussi?"success":"fail"}`,children:M.reussi?l.jsx(xn,{size:20}):l.jsx(Gw,{size:20})}),l.jsxs("div",{className:"sd-history-content",children:[l.jsxs("div",{className:"sd-history-top",children:[l.jsx("span",{className:"sd-history-title",children:M.quizTitre}),l.jsx("span",{className:"sd-history-discipline",children:M.disciplineNom})]}),l.jsxs("div",{className:"sd-history-meta",children:[l.jsxs("span",{children:[l.jsx(Tx,{size:12}),ue.toLocaleDateString("fr-SN",{day:"2-digit",month:"long",year:"numeric"})]}),l.jsxs("span",{children:[l.jsx(El,{size:12})," ",x3(M.tempsEcoule)]}),l.jsxs("span",{children:[l.jsx(xn,{size:12})," ",M.bonnesReponses,"/",M.nombreQuestions]})]})]}),l.jsxs("div",{className:"sd-history-score",style:{color:od(M.pourcentage)},children:[l.jsxs("span",{className:"sd-history-score-value",children:[M.pourcentage,"%"]}),l.jsx("span",{className:"sd-history-score-label",children:w3(M.pourcentage)})]})]},M.id)})})}),N==="badges"&&l.jsxs("div",{className:"sd-badges",children:[l.jsxs("div",{className:"sd-badges-summary",children:[l.jsxs("div",{className:"sd-badges-circle",children:[l.jsx("span",{className:"sd-badges-count",children:q.length}),l.jsxs("span",{className:"sd-badges-total",children:["/ ",U]})]}),l.jsx("p",{children:"badges obtenus"}),l.jsx("div",{className:"sd-badges-progress",children:l.jsx("div",{className:"sd-badges-progress-fill",style:{width:`${q.length/U*100}%`}})})]}),l.jsx("div",{className:"sd-badges-grid",children:y.map(M=>l.jsxs("div",{className:`sd-badge-card ${M.obtenu?"obtained":"locked"}`,children:[l.jsx("span",{className:"sd-badge-icon",children:M.icone}),l.jsx("h4",{className:"sd-badge-name",children:M.nom}),l.jsx("p",{className:"sd-badge-description",children:M.description}),l.jsx("span",{className:"sd-badge-condition",children:M.condition}),M.obtenu&&l.jsx("span",{className:"sd-badge-obtained-tag",children:" Obtenu"})]},M.id))})]})]})},f0e=()=>{const{currentUser:t}=ni(),e=to(),[n,r]=_.useState(null),[i,s]=_.useState(!0),[c,u]=_.useState(null),f=["L","M","M","J","V","S","D"],h=_.useCallback(async()=>{if(t?.uid)try{s(!0),u(null);const R=await O9(t.uid);r(R)}catch(R){console.error("Erreur chargement suivi:",R),u("Impossible de charger ton suivi. Vrifie ta connexion et ressaie.")}finally{s(!1)}},[t?.uid]);_.useEffect(()=>{h()},[h]);const p=(()=>{const R=new Date().getDay();return R===0?6:R-1})();if(i)return l.jsx("div",{className:"suivi-page",children:l.jsx("div",{className:"suivi-container",children:l.jsxs("div",{className:"suivi-loading",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{className:"suivi-loading-text",children:"Analyse de ta progression en cours..."})]})})});if(c)return l.jsx("div",{className:"suivi-page",children:l.jsx("div",{className:"suivi-container",children:l.jsxs("div",{className:"suivi-error",children:[l.jsx("p",{className:"suivi-error-title",children:" Erreur de chargement"}),l.jsx("p",{className:"suivi-error-text",children:c}),l.jsx("button",{className:"suivi-btn-retry",onClick:h,children:" Ressayer"})]})})});if(!n)return null;const{lacunes:v,recommandations:y,streak:w,objectifs:j,scoreGlobal:E}=n,N=2*Math.PI*40,S=N-E/100*N,D=E>=60?"#10b981":E>=30?"#f59e0b":"#ef4444";return l.jsx("div",{className:"suivi-page",children:l.jsxs("div",{className:"suivi-container",children:[l.jsx("div",{className:"suivi-header",children:l.jsxs("div",{className:"suivi-header-content",children:[l.jsxs("div",{children:[l.jsx("h1",{children:" Mes points  amliorer"}),l.jsx("p",{className:"suivi-motivation",children:Kye(E)})]}),l.jsxs("div",{className:"score-global-circle",children:[l.jsxs("svg",{className:"score-circle-svg",viewBox:"0 0 100 100",children:[l.jsx("circle",{className:"score-circle-bg",cx:"50",cy:"50",r:"40"}),l.jsx("circle",{className:"score-circle-progress",cx:"50",cy:"50",r:"40",stroke:D,strokeDasharray:N,strokeDashoffset:S}),l.jsx("text",{className:"score-circle-text",x:"50",y:"50",children:E})]}),l.jsx("span",{className:"score-global-label",children:"Score global"})]})]})}),l.jsxs("div",{className:"streak-card",children:[l.jsxs("div",{className:"streak-header",children:[l.jsx("span",{className:"streak-flamme",children:w.streakActuel>0?"":""}),l.jsxs("div",{children:[l.jsx("div",{className:"streak-nombre",children:w.streakActuel}),l.jsx("div",{className:"streak-label",children:w.streakActuel<=1?"jour conscutif":"jours conscutifs"})]})]}),l.jsx("div",{className:"streak-semaine",children:f.map((R,I)=>l.jsxs("div",{className:"streak-jour",children:[l.jsx("span",{className:"streak-jour-label",children:R}),l.jsx("div",{className:`streak-jour-indicateur ${w.semaineCourante[I]?"actif":"inactif"} ${I===p?"aujourd-hui":""}`,children:w.semaineCourante[I]?"":""})]},I))}),l.jsxs("div",{className:"streak-stats",children:[l.jsxs("div",{className:"streak-stat",children:[l.jsx("span",{className:"streak-stat-icon",children:""}),l.jsx("span",{className:"streak-stat-value",children:w.meilleurStreak}),l.jsx("span",{className:"streak-stat-label",children:"record"})]}),l.jsxs("div",{className:"streak-stat",children:[l.jsx("span",{className:"streak-stat-icon",children:""}),l.jsx("span",{className:"streak-stat-value",children:w.totalJoursActifs}),l.jsx("span",{className:"streak-stat-label",children:"jours actifs au total"})]}),w.dernierJourActif&&l.jsxs("div",{className:"streak-stat",children:[l.jsx("span",{className:"streak-stat-icon",children:""}),l.jsxs("span",{className:"streak-stat-label",children:["Dernier quiz : ",new Date(w.dernierJourActif).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})]})]})]})]}),l.jsxs("h2",{className:"suivi-section-title",children:[" Objectifs de la semaine",l.jsx("span",{className:"suivi-section-badge",children:j.length})]}),j.length>0?l.jsx("div",{className:"objectifs-grid",children:j.map(R=>{const I=Gye(R);return l.jsxs("div",{className:`objectif-card ${R.statut==="atteint"?"atteint":""}`,children:[l.jsxs("div",{className:"objectif-header",children:[l.jsx("span",{className:"objectif-titre",children:R.titre}),R.recompense&&l.jsx("span",{className:"objectif-recompense",children:R.recompense})]}),l.jsx("p",{className:"objectif-description",children:R.description}),l.jsxs("div",{className:"objectif-progress",children:[l.jsxs("div",{className:"objectif-progress-labels",children:[l.jsxs("span",{className:"objectif-progress-value",children:[R.progression," / ",R.cible]}),l.jsxs("span",{className:"objectif-progress-cible",children:[I,"%"]})]}),l.jsx("div",{className:"objectif-progress-track",children:l.jsx("div",{className:`objectif-progress-fill ${R.statut==="atteint"?"atteint":""}`,style:{width:`${I}%`}})})]}),l.jsx("p",{className:`objectif-statut ${R.statut}`,children:R.statut==="atteint"?" Objectif atteint !":R.statut==="en_cours"?" En cours...":" Non commenc"})]},R.id)})}):l.jsxs("div",{className:"suivi-empty",children:[l.jsx("div",{className:"suivi-empty-icon",children:""}),l.jsx("p",{className:"suivi-empty-title",children:"Pas encore d'objectifs"}),l.jsx("p",{className:"suivi-empty-text",children:"Passe ton premier quiz pour dbloquer tes objectifs hebdomadaires !"})]}),l.jsxs("h2",{className:"suivi-section-title",children:[" Points faibles dtects",v.length>0&&l.jsx("span",{className:"suivi-section-badge",children:v.length})]}),v.length>0?l.jsx("div",{className:"lacunes-grid",children:v.map(R=>l.jsxs("div",{className:`lacune-card ${R.niveauUrgence}`,children:[l.jsxs("div",{className:"lacune-card-header",children:[l.jsx("span",{className:"lacune-discipline",children:R.disciplineNom}),l.jsx("span",{className:`lacune-badge ${R.niveauUrgence}`,children:I9(R.niveauUrgence)})]}),l.jsxs("div",{className:"lacune-score-bar",children:[l.jsxs("div",{className:"lacune-score-labels",children:[l.jsxs("span",{className:"lacune-score-value",style:{color:Ly(R.niveauUrgence)},children:[R.moyenne,"/20"]}),l.jsx("span",{className:"lacune-score-objectif",children:"Objectif : 14/20"})]}),l.jsx("div",{className:"lacune-progress-track",children:l.jsx("div",{className:`lacune-progress-fill ${R.niveauUrgence}`,style:{width:`${R.moyenne/20*100}%`}})})]}),l.jsxs("div",{className:"lacune-details",children:[l.jsxs("span",{className:"lacune-detail-tag",children:[R9(R.tendance)," ",R.tendance]}),l.jsxs("span",{className:"lacune-detail-tag",children:[" ",R.nombreQuiz," quiz"]}),l.jsxs("span",{className:"lacune-detail-tag",children:["Dernier : ",R.scoreDetails.dernierScore,"/20"]})]})]},R.id))}):l.jsxs("div",{className:"suivi-empty",children:[l.jsx("div",{className:"suivi-empty-icon",children:""}),l.jsx("p",{className:"suivi-empty-title",children:"Aucune lacune dtecte !"}),l.jsx("p",{className:"suivi-empty-text",children:E>0?"Toutes tes moyennes sont au-dessus de 14/20. Bravo, continue !":"Passe des quiz pour que l'analyse puisse commencer."}),l.jsx("button",{className:"suivi-cta-btn",onClick:()=>e("/disciplines"),style:{marginTop:"1rem"},children:" Voir les disciplines"})]}),y.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("h2",{className:"suivi-section-title",children:[" Recommandations personnalises",l.jsx("span",{className:"suivi-section-badge",children:y.length})]}),l.jsx("div",{className:"recommandations-list",children:y.map(R=>l.jsxs("div",{className:"recommandation-card",children:[l.jsx("div",{className:"recommandation-priorite",children:R.priorite}),l.jsxs("div",{className:"recommandation-content",children:[l.jsx("p",{className:"recommandation-titre",children:R.titre}),l.jsx("p",{className:"recommandation-description",children:R.description}),l.jsx("span",{className:"recommandation-discipline-tag",children:R.disciplineNom})]})]},R.id))})]}),l.jsx("div",{style:{textAlign:"center",marginTop:"1rem",marginBottom:"2rem"},children:l.jsx("button",{className:"suivi-cta-btn",onClick:()=>e("/disciplines"),children:" Passer un quiz maintenant"})})]})})};function Js(t){return t instanceof nt?t.toDate():t instanceof Date?t:t?.seconds?new nt(t.seconds,t.nanoseconds||0).toDate():new Date(t)}function xr(t){return t.toFixed(1)+"%"}function XM(t){const e=Math.floor(t/60),n=Math.round(t%60);return e===0?`${n}s`:`${e}min ${n}s`}function aa(t){return t>=80?"#10b981":t>=60?"#3b82f6":t>=40?"#f59e0b":"#ef4444"}function h0e(t){return t>=80?"Excellent":t>=60?"Bien":t>=40?"Passable":"En difficult"}function z9(t){if(t.length<4)return"stable";const e=[...t].sort((f,h)=>Js(h.datePassage).getTime()-Js(f.datePassage).getTime()),n=Math.floor(e.length/2),r=e.slice(0,n),i=e.slice(n),s=r.reduce((f,h)=>f+h.pourcentage,0)/r.length,c=i.reduce((f,h)=>f+h.pourcentage,0)/i.length,u=s-c;return u>5?"hausse":u<-5?"baisse":"stable"}async function m0e(){try{const t=Nn(Le,"quiz_results"),e=ir(t,Fi("datePassage","desc"));return(await ar(e)).docs.map(r=>{const i=r.data();return{id:r.id,quizId:i.quizId||"",quizTitre:i.quizTitre||"Quiz sans titre",disciplineId:i.disciplineId||"",disciplineNom:i.disciplineNom||"Non dfinie",userId:i.userId||"",score:i.score||0,totalPoints:i.totalPoints||0,pourcentage:i.pourcentage||0,reponses:i.reponses||[],tempsEcoule:i.tempsEcoule||0,datePassage:Js(i.datePassage),reussi:i.reussi||!1,nombreQuestions:i.nombreQuestions||0,bonnesReponses:i.bonnesReponses||0}})}catch(t){return console.error("Erreur rcupration quiz_results:",t),[]}}async function p0e(){try{const t=Nn(Le,"users"),e=ir(t,tn("role","==","eleve"));return(await ar(e)).docs.map(r=>{const i=r.data();return{uid:r.id,displayName:i.displayName||"lve sans nom",email:i.email||""}})}catch(t){return console.error("Erreur rcupration lves:",t),[]}}function v0e(t,e){if(t.length===0)return{totalEleves:e,totalQuizPasses:0,moyenneGenerale:0,tauxReussite:0,elevesEnDifficulte:0,quizAujourdHui:0,tendanceMoyenne:"stable"};const r=t.reduce((v,y)=>v+y.pourcentage,0)/t.length,s=t.filter(v=>v.reussi).length/t.length*100,c=new Map;t.forEach(v=>{const y=c.get(v.userId)||[];y.push(v.pourcentage),c.set(v.userId,y)});let u=0;c.forEach(v=>{v.reduce((w,j)=>w+j,0)/v.length<40&&u++});const f=new Date;f.setHours(0,0,0,0);const h=t.filter(v=>Js(v.datePassage).getTime()>=f.getTime()).length,p=z9(t);return{totalEleves:e,totalQuizPasses:t.length,moyenneGenerale:r,tauxReussite:s,elevesEnDifficulte:u,quizAujourdHui:h,tendanceMoyenne:p}}function L9(t,e){const n=new Map;return t.forEach(r=>{const i=n.get(r.userId)||[];i.push(r),n.set(r.userId,i)}),e.map(r=>{const i=n.get(r.uid)||[];if(i.length===0)return{userId:r.uid,displayName:r.displayName,email:r.email,totalQuiz:0,moyenne:0,tauxReussite:0,dernierQuiz:null,enDifficulte:!1,progression:"stable",disciplinesActives:[]};const s=i.reduce((p,v)=>p+v.pourcentage,0)/i.length,u=i.filter(p=>p.reussi).length/i.length*100,f=i.reduce((p,v)=>{const y=Js(v.datePassage);return y>p?y:p},new Date(0)),h=new Set(i.map(p=>p.disciplineNom));return{userId:r.uid,displayName:r.displayName,email:r.email,totalQuiz:i.length,moyenne:s,tauxReussite:u,dernierQuiz:f.getTime()>0?f:null,enDifficulte:s<40&&i.length>=2,progression:z9(i),disciplinesActives:Array.from(h)}})}function g0e(t){const e=new Map;t.forEach(r=>{const i=e.get(r.disciplineId)||[];i.push(r),e.set(r.disciplineId,i)});const n=[];return e.forEach((r,i)=>{const s=new Set(r.map(h=>h.userId)),c=r.reduce((h,p)=>h+p.pourcentage,0)/r.length,u=r.filter(h=>h.reussi).length,f=r.map(h=>h.pourcentage);n.push({disciplineId:i,disciplineNom:r[0]?.disciplineNom||"Non dfinie",totalQuiz:r.length,nombreEleves:s.size,moyenne:c,tauxReussite:u/r.length*100,meilleureNote:Math.max(...f),pireNote:Math.min(...f)})}),n.sort((r,i)=>i.totalQuiz-r.totalQuiz)}function y0e(t){const e=new Map;t.forEach(r=>{const i=e.get(r.quizId)||[];i.push(r),e.set(r.quizId,i)});const n=[];return e.forEach((r,i)=>{const s=r.reduce((v,y)=>v+y.pourcentage,0)/r.length,c=r.filter(v=>v.reussi).length,u=r.map(v=>v.pourcentage),f=r.reduce((v,y)=>v+y.tempsEcoule,0)/r.length,h=r.map(v=>Js(v.datePassage)),p=h.length>0?h.reduce((v,y)=>v>y?v:y):null;n.push({quizId:i,quizTitre:r[0]?.quizTitre||"Quiz sans titre",disciplineNom:r[0]?.disciplineNom||"Non dfinie",totalPassages:r.length,moyenneScore:s,tauxReussite:c/r.length*100,tempsEcouleMoyen:f,meilleureNote:Math.max(...u),pireNote:Math.min(...u),dernierPassage:p})}),n.sort((r,i)=>i.totalPassages-r.totalPassages)}function b0e(t,e){return L9(t,e).filter(r=>r.enDifficulte).map(r=>{const i=t.filter(u=>u.userId===r.userId),s=new Map;i.forEach(u=>{const f=s.get(u.disciplineNom)||[];f.push(u.pourcentage),s.set(u.disciplineNom,f)});const c=[];return s.forEach((u,f)=>{u.reduce((p,v)=>p+v,0)/u.length<40&&c.push(f)}),{userId:r.userId,displayName:r.displayName,email:r.email,moyenne:r.moyenne,totalQuiz:r.totalQuiz,disciplinesFaibles:c,dernierQuiz:r.dernierQuiz}}).sort((r,i)=>r.moyenne-i.moyenne)}function _0e(t,e=30){const n=new Date,r=[];for(let i=e-1;i>=0;i--){const s=new Date(n);s.setDate(n.getDate()-i),s.setHours(0,0,0,0);const c=new Date(s);c.setHours(23,59,59,999);const u=t.filter(p=>{const v=Js(p.datePassage);return v>=s&&v<=c}),f=u.length>0?u.reduce((p,v)=>p+v.pourcentage,0)/u.length:0,h=`${String(s.getDate()).padStart(2,"0")}/${String(s.getMonth()+1).padStart(2,"0")}`;r.push({date:h,moyenne:Math.round(f*10)/10,nombreQuiz:u.length})}return r}function x0e(t,e){return t.filter(n=>n.userId===e).sort((n,r)=>Js(r.datePassage).getTime()-Js(n.datePassage).getTime())}function w0e(t,e){const n=t.filter(s=>s.userId===e),r=new Map;n.forEach(s=>{const c=r.get(s.disciplineNom)||[];c.push(s.pourcentage),r.set(s.disciplineNom,c)});const i=[];return r.forEach((s,c)=>{i.push({discipline:c,moyenne:Math.round(s.reduce((u,f)=>u+f,0)/s.length*10)/10,nombreQuiz:s.length})}),i.sort((s,c)=>c.moyenne-s.moyenne)}const ZM=["#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6","#ec4899"],E0e=()=>{const{currentUser:t}=ni(),[e,n]=_.useState("overview"),[r,i]=_.useState(!0),[s,c]=_.useState(null),[u,f]=_.useState([]),[h,p]=_.useState([]),[v,y]=_.useState(null),[w,j]=_.useState(""),[E,N]=_.useState("all");_.useEffect(()=>{S()},[]);const S=async()=>{try{i(!0),c(null);const[B,J]=await Promise.all([m0e(),p0e()]);f(B),p(J)}catch(B){console.error("Erreur chargement dashboard prof:",B),c("Impossible de charger les donnes. Veuillez ressayer.")}finally{i(!1)}},D=_.useMemo(()=>v0e(u,h.length),[u,h]),R=_.useMemo(()=>L9(u,h),[u,h]),I=_.useMemo(()=>g0e(u),[u]),$=_.useMemo(()=>y0e(u),[u]),z=_.useMemo(()=>b0e(u,h),[u,h]),O=_.useMemo(()=>_0e(u),[u]),C=_.useMemo(()=>{const B=new Set(u.map(J=>J.disciplineNom));return Array.from(B).sort()},[u]),k=_.useMemo(()=>{let B=[...R];if(w.trim()){const J=w.toLowerCase();B=B.filter(he=>he.displayName.toLowerCase().includes(J)||he.email.toLowerCase().includes(J))}return E!=="all"&&(B=B.filter(J=>J.disciplinesActives.includes(E))),B},[R,w,E]);if(r)return l.jsxs("div",{className:"prof-loading",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Chargement du tableau de bord..."})]});if(s)return l.jsxs("div",{className:"prof-error",children:[l.jsx(ch,{size:48,color:"#ef4444"}),l.jsx("h2",{children:"Erreur de chargement"}),l.jsx("p",{children:s}),l.jsxs("button",{className:"prof-btn prof-btn-primary",onClick:S,children:[l.jsx(Xw,{size:16}),"Ressayer"]})]});return l.jsxs("div",{className:"prof-dashboard",children:[l.jsxs("header",{className:"prof-header",children:[l.jsxs("div",{className:"prof-header-left",children:[l.jsxs("h1",{className:"prof-title",children:[l.jsx(Lg,{size:28}),"Tableau de bord Professeur"]}),l.jsxs("p",{className:"prof-subtitle",children:["Bienvenue, ",t?.displayName||"Professeur",". Suivez la progression de vos lves."]})]}),l.jsx("div",{className:"prof-header-right",children:l.jsxs("button",{className:"prof-btn prof-btn-outline",onClick:S,title:"Rafrachir les donnes",children:[l.jsx(Xw,{size:16}),"Actualiser"]})})]}),l.jsxs("nav",{className:"prof-tabs",children:[l.jsxs("button",{className:`prof-tab ${e==="overview"?"prof-tab-active":""}`,onClick:()=>{n("overview"),y(null)},children:[l.jsx(Lg,{size:18}),l.jsx("span",{children:"Vue d'ensemble"})]}),l.jsxs("button",{className:`prof-tab ${e==="disciplines"?"prof-tab-active":""}`,onClick:()=>{n("disciplines"),y(null)},children:[l.jsx(Rr,{size:18}),l.jsx("span",{children:"Par discipline"})]}),l.jsxs("button",{className:`prof-tab ${e==="eleves"?"prof-tab-active":""}`,onClick:()=>{n("eleves"),y(null)},children:[l.jsx(sl,{size:18}),l.jsx("span",{children:"Par lve"}),z.length>0&&l.jsx("span",{className:"prof-tab-badge",children:z.length})]}),l.jsxs("button",{className:`prof-tab ${e==="quiz"?"prof-tab-active":""}`,onClick:()=>{n("quiz"),y(null)},children:[l.jsx(lh,{size:18}),l.jsx("span",{children:"Par quiz"})]}),l.jsxs("button",{className:`prof-tab ${e==="alertes"?"prof-tab-active":""}`,onClick:()=>{n("alertes"),y(null)},children:[l.jsx(ch,{size:18}),l.jsx("span",{children:"Alertes"}),z.length>0&&l.jsx("span",{className:"prof-tab-badge prof-tab-badge-danger",children:z.length})]})]}),l.jsxs("main",{className:"prof-content",children:[e==="overview"&&q(),e==="disciplines"&&U(),e==="eleves"&&L(),e==="quiz"&&ue(),e==="alertes"&&Z()]})]});function q(){return l.jsxs("div",{className:"prof-overview",children:[l.jsxs("div",{className:"prof-stats-grid",children:[l.jsxs("div",{className:"prof-stat-card",children:[l.jsx("div",{className:"prof-stat-icon prof-stat-icon-blue",children:l.jsx(sl,{size:24})}),l.jsxs("div",{className:"prof-stat-info",children:[l.jsx("span",{className:"prof-stat-value",children:D.totalEleves}),l.jsx("span",{className:"prof-stat-label",children:"lves inscrits"})]})]}),l.jsxs("div",{className:"prof-stat-card",children:[l.jsx("div",{className:"prof-stat-icon prof-stat-icon-green",children:l.jsx(lh,{size:24})}),l.jsxs("div",{className:"prof-stat-info",children:[l.jsx("span",{className:"prof-stat-value",children:D.totalQuizPasses}),l.jsx("span",{className:"prof-stat-label",children:"Quiz passs"})]})]}),l.jsxs("div",{className:"prof-stat-card",children:[l.jsx("div",{className:"prof-stat-icon prof-stat-icon-purple",children:l.jsx(Ya,{size:24})}),l.jsxs("div",{className:"prof-stat-info",children:[l.jsx("span",{className:"prof-stat-value",style:{color:aa(D.moyenneGenerale)},children:xr(D.moyenneGenerale)}),l.jsxs("span",{className:"prof-stat-label",children:["Moyenne gnrale",D.tendanceMoyenne==="hausse"&&l.jsx(Jh,{size:14,color:"#10b981",style:{marginLeft:6}}),D.tendanceMoyenne==="baisse"&&l.jsx(Zw,{size:14,color:"#ef4444",style:{marginLeft:6}}),D.tendanceMoyenne==="stable"&&l.jsx(Yw,{size:14,color:"#6b7280",style:{marginLeft:6}})]})]})]}),l.jsxs("div",{className:"prof-stat-card",children:[l.jsx("div",{className:"prof-stat-icon prof-stat-icon-orange",children:l.jsx(dd,{size:24})}),l.jsxs("div",{className:"prof-stat-info",children:[l.jsx("span",{className:"prof-stat-value",children:xr(D.tauxReussite)}),l.jsx("span",{className:"prof-stat-label",children:"Taux de russite"})]})]}),l.jsxs("div",{className:"prof-stat-card",children:[l.jsx("div",{className:`prof-stat-icon ${D.elevesEnDifficulte>0?"prof-stat-icon-red":"prof-stat-icon-green"}`,children:l.jsx(ch,{size:24})}),l.jsxs("div",{className:"prof-stat-info",children:[l.jsx("span",{className:"prof-stat-value",children:D.elevesEnDifficulte}),l.jsx("span",{className:"prof-stat-label",children:"lves en difficult"})]})]}),l.jsxs("div",{className:"prof-stat-card",children:[l.jsx("div",{className:"prof-stat-icon prof-stat-icon-blue",children:l.jsx(El,{size:24})}),l.jsxs("div",{className:"prof-stat-info",children:[l.jsx("span",{className:"prof-stat-value",children:D.quizAujourdHui}),l.jsx("span",{className:"prof-stat-label",children:"Quiz aujourd'hui"})]})]})]}),l.jsxs("div",{className:"prof-chart-card",children:[l.jsxs("h3",{className:"prof-chart-title",children:[l.jsx(sa,{size:20}),"Progression des 30 derniers jours"]}),O.some(B=>B.nombreQuiz>0)?l.jsx(xc,{width:"100%",height:300,children:l.jsxs(Dye,{data:O,children:[l.jsx(Cc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),l.jsx(Pc,{dataKey:"date",tick:{fontSize:11,fill:"#6b7280"},interval:4}),l.jsx(Oc,{domain:[0,100],tick:{fontSize:11,fill:"#6b7280"},tickFormatter:B=>`${B}%`}),l.jsx(wc,{formatter:(B,J)=>J==="moyenne"?[`${B.toFixed(1)}%`,"Moyenne"]:[B,"Quiz passs"],contentStyle:{borderRadius:8,border:"1px solid #e5e7eb"}}),l.jsx(jE,{}),l.jsx(KE,{type:"monotone",dataKey:"moyenne",name:"Moyenne (%)",stroke:"#3b82f6",fill:"#3b82f680",strokeWidth:2}),l.jsx(KE,{type:"monotone",dataKey:"nombreQuiz",name:"Nombre de quiz",stroke:"#10b981",fill:"#10b98140",strokeWidth:1})]})}):l.jsxs("div",{className:"prof-empty-chart",children:[l.jsx(sa,{size:48,color:"#d1d5db"}),l.jsx("p",{children:"Aucune activit sur les 30 derniers jours"})]})]}),I.length>0&&l.jsxs("div",{className:"prof-chart-card",children:[l.jsxs("h3",{className:"prof-chart-title",children:[l.jsx(Rr,{size:20}),"Rpartition des quiz par discipline"]}),l.jsx(xc,{width:"100%",height:300,children:l.jsxs(Iye,{children:[l.jsx(LU,{data:I.map(B=>({name:B.disciplineNom,value:B.totalQuiz})),cx:"50%",cy:"50%",outerRadius:100,label:({name:B,percent:J})=>`${B} (${(J*100).toFixed(0)}%)`,labelLine:!0,dataKey:"value",children:I.map((B,J)=>l.jsx(ml,{fill:ZM[J%ZM.length]},J))}),l.jsx(wc,{})]})})]})]})}function U(){return I.length===0?l.jsxs("div",{className:"prof-empty",children:[l.jsx(Rr,{size:48,color:"#d1d5db"}),l.jsx("h3",{children:"Aucune donne disponible"}),l.jsx("p",{children:"Les statistiques par discipline apparatront lorsque des lves auront pass des quiz."})]}):l.jsxs("div",{className:"prof-disciplines",children:[l.jsx("div",{className:"prof-disc-grid",children:I.map(B=>l.jsxs("div",{className:"prof-disc-card",children:[l.jsxs("div",{className:"prof-disc-header",children:[l.jsx("h3",{className:"prof-disc-nom",children:B.disciplineNom}),l.jsx("span",{className:"prof-disc-badge",style:{backgroundColor:aa(B.moyenne)},children:h0e(B.moyenne)})]}),l.jsxs("div",{className:"prof-disc-stats",children:[l.jsxs("div",{className:"prof-disc-stat",children:[l.jsx("span",{className:"prof-disc-stat-val",children:B.nombreEleves}),l.jsx("span",{className:"prof-disc-stat-label",children:"lves"})]}),l.jsxs("div",{className:"prof-disc-stat",children:[l.jsx("span",{className:"prof-disc-stat-val",children:B.totalQuiz}),l.jsx("span",{className:"prof-disc-stat-label",children:"Quiz passs"})]}),l.jsxs("div",{className:"prof-disc-stat",children:[l.jsx("span",{className:"prof-disc-stat-val",style:{color:aa(B.moyenne)},children:xr(B.moyenne)}),l.jsx("span",{className:"prof-disc-stat-label",children:"Moyenne"})]}),l.jsxs("div",{className:"prof-disc-stat",children:[l.jsx("span",{className:"prof-disc-stat-val",children:xr(B.tauxReussite)}),l.jsx("span",{className:"prof-disc-stat-label",children:"Russite"})]})]}),l.jsx("div",{className:"prof-progress-bar",children:l.jsx("div",{className:"prof-progress-fill",style:{width:`${Math.min(B.moyenne,100)}%`,backgroundColor:aa(B.moyenne)}})}),l.jsxs("div",{className:"prof-disc-range",children:[l.jsxs("span",{children:["Min: ",xr(B.pireNote)]}),l.jsxs("span",{children:["Max: ",xr(B.meilleureNote)]})]})]},B.disciplineId))}),l.jsxs("div",{className:"prof-chart-card",children:[l.jsxs("h3",{className:"prof-chart-title",children:[l.jsx(sa,{size:20}),"Comparaison des moyennes par discipline"]}),l.jsx(xc,{width:"100%",height:300,children:l.jsxs(pg,{data:I,children:[l.jsx(Cc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),l.jsx(Pc,{dataKey:"disciplineNom",tick:{fontSize:11,fill:"#6b7280"},angle:-20,textAnchor:"end",height:60}),l.jsx(Oc,{domain:[0,100],tick:{fontSize:11,fill:"#6b7280"},tickFormatter:B=>`${B}%`}),l.jsx(wc,{formatter:B=>[`${B.toFixed(1)}%`],contentStyle:{borderRadius:8,border:"1px solid #e5e7eb"}}),l.jsx(Ec,{dataKey:"moyenne",name:"Moyenne (%)",radius:[4,4,0,0],children:I.map((B,J)=>l.jsx(ml,{fill:aa(B.moyenne)},J))}),l.jsx(Ec,{dataKey:"tauxReussite",name:"Russite (%)",fill:"#60a5fa",radius:[4,4,0,0]})]})})]})]})}function L(){return v?M(v):l.jsxs("div",{className:"prof-eleves",children:[l.jsxs("div",{className:"prof-filters",children:[l.jsxs("div",{className:"prof-search-box",children:[l.jsx(aN,{size:18,className:"prof-search-icon"}),l.jsx("input",{type:"text",className:"prof-search-input",placeholder:"Rechercher un lve (nom ou email)...",value:w,onChange:B=>j(B.target.value)})]}),l.jsxs("select",{className:"prof-select",value:E,onChange:B=>N(B.target.value),children:[l.jsx("option",{value:"all",children:"Toutes les disciplines"}),C.map(B=>l.jsx("option",{value:B,children:B},B))]}),l.jsxs("span",{className:"prof-filter-count",children:[k.length," lve",k.length>1?"s":""]})]}),k.length===0?l.jsxs("div",{className:"prof-empty",children:[l.jsx(sl,{size:48,color:"#d1d5db"}),l.jsx("h3",{children:"Aucun lve trouv"}),l.jsx("p",{children:"Aucun rsultat ne correspond  votre recherche."})]}):l.jsx("div",{className:"prof-table-wrapper",children:l.jsxs("table",{className:"prof-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"lve"}),l.jsx("th",{children:"Quiz passs"}),l.jsx("th",{children:"Moyenne"}),l.jsx("th",{children:"Russite"}),l.jsx("th",{children:"Tendance"}),l.jsx("th",{children:"Dernier quiz"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:k.map(B=>l.jsxs("tr",{className:B.enDifficulte?"prof-row-danger":"",children:[l.jsx("td",{children:l.jsxs("div",{className:"prof-eleve-cell",children:[l.jsx("span",{className:"prof-eleve-name",children:B.displayName}),l.jsx("span",{className:"prof-eleve-email",children:B.email})]})}),l.jsx("td",{className:"prof-td-center",children:B.totalQuiz}),l.jsx("td",{className:"prof-td-center",children:l.jsx("span",{style:{color:aa(B.moyenne),fontWeight:600},children:B.totalQuiz>0?xr(B.moyenne):""})}),l.jsx("td",{className:"prof-td-center",children:B.totalQuiz>0?xr(B.tauxReussite):""}),l.jsxs("td",{className:"prof-td-center",children:[B.progression==="hausse"&&l.jsx(Jh,{size:18,color:"#10b981"}),B.progression==="baisse"&&l.jsx(Zw,{size:18,color:"#ef4444"}),B.progression==="stable"&&l.jsx(Yw,{size:18,color:"#6b7280"})]}),l.jsx("td",{className:"prof-td-center",children:B.dernierQuiz?B.dernierQuiz.toLocaleDateString("fr-FR"):""}),l.jsx("td",{className:"prof-td-center",children:l.jsxs("button",{className:"prof-btn prof-btn-sm",onClick:()=>y(B.userId),title:"Voir le dtail",children:[l.jsx(Zh,{size:14}),"Dtail"]})})]},B.userId))})]})})]})}function M(B){const J=R.find(xe=>xe.userId===B),he=x0e(u,B),Ee=w0e(u,B);return J?l.jsxs("div",{className:"prof-detail-eleve",children:[l.jsxs("button",{className:"prof-btn prof-btn-outline prof-mb-lg",onClick:()=>y(null),children:[l.jsx(RO,{size:16}),"Retour  la liste"]}),l.jsxs("div",{className:"prof-detail-header",children:[l.jsx("div",{className:"prof-detail-avatar",children:J.displayName.charAt(0).toUpperCase()}),l.jsxs("div",{className:"prof-detail-info",children:[l.jsx("h2",{children:J.displayName}),l.jsx("p",{className:"prof-detail-email",children:J.email}),J.enDifficulte&&l.jsxs("span",{className:"prof-badge-danger",children:[l.jsx(ch,{size:14}),"En difficult"]})]})]}),l.jsxs("div",{className:"prof-stats-grid prof-stats-grid-4",children:[l.jsxs("div",{className:"prof-stat-card",children:[l.jsx("div",{className:"prof-stat-icon prof-stat-icon-blue",children:l.jsx(lh,{size:20})}),l.jsxs("div",{className:"prof-stat-info",children:[l.jsx("span",{className:"prof-stat-value",children:J.totalQuiz}),l.jsx("span",{className:"prof-stat-label",children:"Quiz passs"})]})]}),l.jsxs("div",{className:"prof-stat-card",children:[l.jsx("div",{className:"prof-stat-icon prof-stat-icon-purple",children:l.jsx(Ya,{size:20})}),l.jsxs("div",{className:"prof-stat-info",children:[l.jsx("span",{className:"prof-stat-value",style:{color:aa(J.moyenne)},children:xr(J.moyenne)}),l.jsx("span",{className:"prof-stat-label",children:"Moyenne"})]})]}),l.jsxs("div",{className:"prof-stat-card",children:[l.jsx("div",{className:"prof-stat-icon prof-stat-icon-green",children:l.jsx(dd,{size:20})}),l.jsxs("div",{className:"prof-stat-info",children:[l.jsx("span",{className:"prof-stat-value",children:xr(J.tauxReussite)}),l.jsx("span",{className:"prof-stat-label",children:"Russite"})]})]}),l.jsxs("div",{className:"prof-stat-card",children:[l.jsx("div",{className:"prof-stat-icon prof-stat-icon-orange",children:l.jsx(Rr,{size:20})}),l.jsxs("div",{className:"prof-stat-info",children:[l.jsx("span",{className:"prof-stat-value",children:J.disciplinesActives.length}),l.jsx("span",{className:"prof-stat-label",children:"Disciplines"})]})]})]}),Ee.length>0&&l.jsxs("div",{className:"prof-chart-card",children:[l.jsxs("h3",{className:"prof-chart-title",children:[l.jsx(sa,{size:20}),"Performance par discipline"]}),l.jsx(xc,{width:"100%",height:250,children:l.jsxs(pg,{data:Ee,children:[l.jsx(Cc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),l.jsx(Pc,{dataKey:"discipline",tick:{fontSize:11,fill:"#6b7280"}}),l.jsx(Oc,{domain:[0,100],tickFormatter:xe=>`${xe}%`,tick:{fontSize:11,fill:"#6b7280"}}),l.jsx(wc,{formatter:xe=>[`${xe.toFixed(1)}%`,"Moyenne"],contentStyle:{borderRadius:8,border:"1px solid #e5e7eb"}}),l.jsx(Ec,{dataKey:"moyenne",name:"Moyenne",radius:[4,4,0,0],children:Ee.map((xe,H)=>l.jsx(ml,{fill:aa(xe.moyenne)},H))})]})})]}),l.jsxs("div",{className:"prof-chart-card",children:[l.jsxs("h3",{className:"prof-chart-title",children:[l.jsx(lh,{size:20}),"Historique des quiz (",he.length,")"]}),he.length===0?l.jsx("p",{className:"prof-text-muted",children:"Aucun quiz pass."}):l.jsx("div",{className:"prof-table-wrapper",children:l.jsxs("table",{className:"prof-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Quiz"}),l.jsx("th",{children:"Discipline"}),l.jsx("th",{children:"Score"}),l.jsx("th",{children:"Rsultat"}),l.jsx("th",{children:"Temps"}),l.jsx("th",{children:"Date"})]})}),l.jsx("tbody",{children:he.map(xe=>l.jsxs("tr",{children:[l.jsx("td",{children:xe.quizTitre}),l.jsx("td",{children:xe.disciplineNom}),l.jsxs("td",{children:[l.jsx("span",{style:{color:aa(xe.pourcentage),fontWeight:600},children:xr(xe.pourcentage)}),l.jsxs("span",{className:"prof-text-small",children:[" (",xe.bonnesReponses,"/",xe.nombreQuestions,")"]})]}),l.jsx("td",{children:l.jsx("span",{className:`prof-badge ${xe.reussi?"prof-badge-success":"prof-badge-fail"}`,children:xe.reussi?"Russi":"chou"})}),l.jsx("td",{children:XM(xe.tempsEcoule)}),l.jsx("td",{children:xe.datePassage.toLocaleDateString("fr-FR")})]},xe.id))})]})})]})]}):l.jsxs("div",{className:"prof-empty",children:[l.jsx("p",{children:"lve introuvable."}),l.jsxs("button",{className:"prof-btn prof-btn-outline",onClick:()=>y(null),children:[l.jsx(RO,{size:16})," Retour"]})]})}function ue(){return $.length===0?l.jsxs("div",{className:"prof-empty",children:[l.jsx(lh,{size:48,color:"#d1d5db"}),l.jsx("h3",{children:"Aucun quiz analys"}),l.jsx("p",{children:"Les analyses apparatront quand des lves auront pass des quiz."})]}):l.jsxs("div",{className:"prof-quiz-section",children:[l.jsx("div",{className:"prof-quiz-grid",children:$.map(B=>l.jsxs("div",{className:"prof-quiz-card",children:[l.jsxs("div",{className:"prof-quiz-header",children:[l.jsx("h3",{className:"prof-quiz-titre",children:B.quizTitre}),l.jsx("span",{className:"prof-quiz-discipline",children:B.disciplineNom})]}),l.jsxs("div",{className:"prof-quiz-stats",children:[l.jsxs("div",{className:"prof-quiz-stat",children:[l.jsx(sl,{size:16}),l.jsxs("span",{children:[B.totalPassages," passage",B.totalPassages>1?"s":""]})]}),l.jsxs("div",{className:"prof-quiz-stat",children:[l.jsx(Ya,{size:16}),l.jsxs("span",{style:{color:aa(B.moyenneScore)},children:["Moy: ",xr(B.moyenneScore)]})]}),l.jsxs("div",{className:"prof-quiz-stat",children:[l.jsx(dd,{size:16}),l.jsxs("span",{children:["Russite: ",xr(B.tauxReussite)]})]}),l.jsxs("div",{className:"prof-quiz-stat",children:[l.jsx(El,{size:16}),l.jsxs("span",{children:["Temps moy: ",XM(B.tempsEcouleMoyen)]})]})]}),l.jsx("div",{className:"prof-progress-bar",children:l.jsx("div",{className:"prof-progress-fill",style:{width:`${Math.min(B.tauxReussite,100)}%`,backgroundColor:aa(B.tauxReussite)}})}),l.jsxs("div",{className:"prof-disc-range",children:[l.jsxs("span",{children:["Min: ",xr(B.pireNote)]}),l.jsxs("span",{children:["Max: ",xr(B.meilleureNote)]})]}),B.dernierPassage&&l.jsxs("p",{className:"prof-quiz-date",children:["Dernier passage : ",B.dernierPassage.toLocaleDateString("fr-FR")]})]},B.quizId))}),l.jsxs("div",{className:"prof-chart-card",children:[l.jsxs("h3",{className:"prof-chart-title",children:[l.jsx(sa,{size:20}),"Comparaison des quiz"]}),l.jsx(xc,{width:"100%",height:300,children:l.jsxs(pg,{data:$.slice(0,10),layout:"vertical",children:[l.jsx(Cc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),l.jsx(Pc,{type:"number",domain:[0,100],tickFormatter:B=>`${B}%`,tick:{fontSize:11}}),l.jsx(Oc,{type:"category",dataKey:"quizTitre",width:150,tick:{fontSize:11,fill:"#6b7280"}}),l.jsx(wc,{formatter:B=>[`${B.toFixed(1)}%`],contentStyle:{borderRadius:8,border:"1px solid #e5e7eb"}}),l.jsx(jE,{}),l.jsx(Ec,{dataKey:"moyenneScore",name:"Moyenne (%)",fill:"#3b82f6",radius:[0,4,4,0]}),l.jsx(Ec,{dataKey:"tauxReussite",name:"Russite (%)",fill:"#10b981",radius:[0,4,4,0]})]})})]})]})}function Z(){return z.length===0?l.jsxs("div",{className:"prof-empty prof-empty-success",children:[l.jsx(dd,{size:48,color:"#10b981"}),l.jsx("h3",{children:"Aucune alerte !"}),l.jsx("p",{children:"Tous les lves ont une moyenne suprieure  40%. Flicitations !"})]}):l.jsxs("div",{className:"prof-alertes",children:[l.jsxs("div",{className:"prof-alerte-banner",children:[l.jsx(ch,{size:20}),l.jsxs("span",{children:[l.jsxs("strong",{children:[z.length," lve",z.length>1?"s":""]})," en difficult (moyenne infrieure  40% sur au moins 2 quiz)"]})]}),l.jsx("div",{className:"prof-alertes-list",children:z.map(B=>l.jsxs("div",{className:"prof-alerte-card",children:[l.jsxs("div",{className:"prof-alerte-left",children:[l.jsx("div",{className:"prof-alerte-avatar",children:B.displayName.charAt(0).toUpperCase()}),l.jsxs("div",{className:"prof-alerte-info",children:[l.jsx("h4",{children:B.displayName}),l.jsx("p",{className:"prof-alerte-email",children:B.email})]})]}),l.jsxs("div",{className:"prof-alerte-stats",children:[l.jsxs("div",{className:"prof-alerte-stat",children:[l.jsx("span",{className:"prof-alerte-stat-label",children:"Moyenne"}),l.jsx("span",{className:"prof-alerte-stat-val",style:{color:"#ef4444"},children:xr(B.moyenne)})]}),l.jsxs("div",{className:"prof-alerte-stat",children:[l.jsx("span",{className:"prof-alerte-stat-label",children:"Quiz passs"}),l.jsx("span",{className:"prof-alerte-stat-val",children:B.totalQuiz})]})]}),l.jsxs("div",{className:"prof-alerte-disciplines",children:[l.jsx("span",{className:"prof-alerte-disc-label",children:"Disciplines en difficult :"}),l.jsx("div",{className:"prof-alerte-disc-tags",children:B.disciplinesFaibles.map(J=>l.jsx("span",{className:"prof-alerte-disc-tag",children:J},J))})]}),l.jsxs("button",{className:"prof-btn prof-btn-sm prof-btn-outline",onClick:()=>{y(B.userId),n("eleves")},children:[l.jsx(Zh,{size:14}),"Voir le dtail"]})]},B.userId))})]})}},j0e=()=>{const{currentUser:t}=ni(),e=t?.uid||"",n=t?.displayName||"Parent",[r,i]=_.useState([]),[s,c]=_.useState(null),[u,f]=_.useState(null),[h,p]=_.useState(!0),[v,y]=_.useState(!1),[w,j]=_.useState(null),[E,N]=_.useState(!1),[S,D]=_.useState(""),[R,I]=_.useState(!1),[$,z]=_.useState(null),[O,C]=_.useState(null),[k,q]=_.useState("apercu");_.useEffect(()=>{U()},[e]),_.useEffect(()=>{s&&L(s)},[s]);const U=async()=>{try{p(!0),j(null);const Z=await n0e(e);i(Z),Z.length===1&&c(Z[0].enfantId)}catch(Z){j("Erreur lors du chargement des enfants."),console.error(Z)}finally{p(!1)}},L=async Z=>{try{y(!0),j(null);const B=await i0e(e,Z);f(B)}catch(B){j(B.message||"Erreur lors du chargement du suivi."),f(null)}finally{y(!1)}},M=async Z=>{if(Z.preventDefault(),z(null),C(null),!S.trim()){z("Veuillez saisir le code d'invitation.");return}try{I(!0);const B=await t0e(e,S);C(`${B.enfantNom} a t ajout avec succs !`),D(""),N(!1),await U(),c(B.enfantId)}catch(B){z(B.message||"Erreur lors de la liaison.")}finally{I(!1)}},ue=async Z=>{if(window.confirm(`tes-vous sr de vouloir retirer ${Z.enfantNom} de votre suivi ? Cette action est irrversible.`))try{await r0e(Z.id,e),s===Z.enfantId&&(c(null),f(null)),await U()}catch(J){j(J.message||"Erreur lors de la suppression.")}};return h?l.jsxs("div",{className:"parent-loading",children:[l.jsx("div",{className:"parent-spinner"}),l.jsx("p",{children:"Chargement de votre espace parent..."})]}):l.jsxs("div",{className:"parent-dashboard",children:[l.jsxs("header",{className:"parent-header",children:[l.jsxs("div",{className:"parent-header-info",children:[l.jsx("h1",{className:"parent-titre",children:" Espace Parent"}),l.jsxs("p",{className:"parent-bienvenue",children:["Bienvenue, ",l.jsx("strong",{children:n}),"  Suivez la progression de vos enfants"]})]}),l.jsx("button",{className:"parent-btn parent-btn-primary",onClick:()=>{N(!E),z(null),C(null)},children:" Ajouter un enfant"})]}),w&&l.jsxs("div",{className:"parent-alerte parent-alerte-erreur",children:[l.jsxs("span",{children:[" ",w]}),l.jsx("button",{onClick:()=>j(null),children:""})]}),O&&l.jsxs("div",{className:"parent-alerte parent-alerte-succes",children:[l.jsxs("span",{children:[" ",O]}),l.jsx("button",{onClick:()=>C(null),children:""})]}),E&&l.jsxs("div",{className:"parent-form-liaison",children:[l.jsx("h3",{children:" Lier un enfant  votre compte"}),l.jsx("p",{className:"parent-form-aide",children:"Demandez le code d'invitation  votre enfant. Il peut le trouver dans son profil sur PedaClic (format: PEDA-XXXX-XXXX)."}),l.jsxs("form",{onSubmit:M,className:"parent-form",children:[l.jsxs("div",{className:"parent-form-group",children:[l.jsx("label",{htmlFor:"code-invitation",children:"Code d'invitation"}),l.jsx("input",{id:"code-invitation",type:"text",placeholder:"PEDA-XXXX-XXXX",value:S,onChange:Z=>D(Z.target.value.toUpperCase()),maxLength:14,disabled:R,className:"parent-input"})]}),$&&l.jsxs("p",{className:"parent-form-erreur",children:[" ",$]}),l.jsxs("div",{className:"parent-form-actions",children:[l.jsx("button",{type:"submit",className:"parent-btn parent-btn-primary",disabled:R,children:R?"Vrification...":" Valider"}),l.jsx("button",{type:"button",className:"parent-btn parent-btn-secondary",onClick:()=>N(!1),children:"Annuler"})]})]})]}),r.length===0?l.jsxs("div",{className:"parent-empty-state",children:[l.jsx("div",{className:"parent-empty-icon",children:""}),l.jsx("h2",{children:"Aucun enfant li"}),l.jsx("p",{children:"Cliquez sur  Ajouter un enfant  et saisissez le code d'invitation de votre enfant pour commencer  suivre sa progression."}),l.jsx("button",{className:"parent-btn parent-btn-primary",onClick:()=>N(!0),children:" Ajouter mon premier enfant"})]}):l.jsxs("div",{className:"parent-content",children:[l.jsxs("aside",{className:"parent-sidebar",children:[l.jsx("h3",{className:"parent-sidebar-titre",children:"Mes enfants"}),l.jsx("ul",{className:"parent-enfants-liste",children:r.map(Z=>l.jsxs("li",{className:`parent-enfant-card ${s===Z.enfantId?"parent-enfant-actif":""}`,onClick:()=>c(Z.enfantId),children:[l.jsx("div",{className:"parent-enfant-avatar",children:Z.enfantNom.charAt(0).toUpperCase()}),l.jsxs("div",{className:"parent-enfant-info",children:[l.jsx("span",{className:"parent-enfant-nom",children:Z.enfantNom}),Z.enfantClasse&&l.jsx("span",{className:"parent-enfant-classe",children:Z.enfantClasse})]}),l.jsx("button",{className:"parent-enfant-supprimer",onClick:B=>{B.stopPropagation(),ue(Z)},title:"Retirer cet enfant",children:""})]},Z.id))})]}),l.jsx("main",{className:"parent-main",children:s?v?l.jsxs("div",{className:"parent-loading",children:[l.jsx("div",{className:"parent-spinner"}),l.jsx("p",{children:"Chargement du suivi..."})]}):u?l.jsxs("div",{className:"parent-dashboard-detail",children:[l.jsxs("div",{className:"parent-enfant-header",children:[l.jsxs("div",{className:"parent-enfant-header-info",children:[l.jsx("h2",{children:u.enfant.nom}),u.enfant.classe&&l.jsx("span",{className:"parent-badge",children:u.enfant.classe}),u.enfant.derniereConnexion&&l.jsxs("span",{className:"parent-derniere-connexion",children:["Dernire connexion : ",pw(u.enfant.derniereConnexion)]})]}),l.jsx("p",{className:"parent-message-motivation",children:u0e(u.scoreGlobal)})]}),l.jsxs("div",{className:"parent-indicateurs",children:[l.jsxs("div",{className:"parent-card parent-card-score",children:[l.jsx("div",{className:"parent-card-icon",children:""}),l.jsxs("div",{className:"parent-card-content",children:[l.jsx("span",{className:"parent-card-label",children:"Score Global"}),l.jsxs("span",{className:`parent-card-value parent-score-${u.scoreGlobal>=60?"bon":u.scoreGlobal>=40?"moyen":"bas"}`,children:[u.scoreGlobal,"/100"]})]})]}),l.jsxs("div",{className:"parent-card parent-card-streak",children:[l.jsx("div",{className:"parent-card-icon",children:""}),l.jsxs("div",{className:"parent-card-content",children:[l.jsx("span",{className:"parent-card-label",children:"Streak"}),l.jsxs("span",{className:"parent-card-value",children:[u.streak.actuel," jour",u.streak.actuel>1?"s":""]})]})]}),l.jsxs("div",{className:"parent-card parent-card-lacunes",children:[l.jsx("div",{className:"parent-card-icon",children:""}),l.jsxs("div",{className:"parent-card-content",children:[l.jsx("span",{className:"parent-card-label",children:"Lacunes"}),l.jsxs("span",{className:"parent-card-value",children:[u.lacunes.length," matire",u.lacunes.length>1?"s":""]})]})]}),l.jsxs("div",{className:"parent-card parent-card-objectifs",children:[l.jsx("div",{className:"parent-card-icon",children:""}),l.jsxs("div",{className:"parent-card-content",children:[l.jsx("span",{className:"parent-card-label",children:"Objectifs"}),l.jsxs("span",{className:"parent-card-value",children:[u.objectifs.filter(Z=>Z.statut==="atteint").length,"/",u.objectifs.length]})]})]})]}),l.jsxs("div",{className:"parent-section parent-section-semaine",children:[l.jsx("h3",{children:" Activit de la semaine"}),l.jsx("div",{className:"parent-semaine-jours",children:["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map((Z,B)=>l.jsxs("div",{className:`parent-jour ${u.streak.semaineCourante[B]?"parent-jour-actif":"parent-jour-inactif"}`,children:[l.jsx("span",{className:"parent-jour-label",children:Z}),l.jsx("span",{className:"parent-jour-icon",children:u.streak.semaineCourante[B]?"":""})]},Z))})]}),l.jsxs("div",{className:"parent-onglets",children:[l.jsx("button",{className:`parent-onglet ${k==="apercu"?"parent-onglet-actif":""}`,onClick:()=>q("apercu"),children:" Aperu"}),l.jsxs("button",{className:`parent-onglet ${k==="lacunes"?"parent-onglet-actif":""}`,onClick:()=>q("lacunes"),children:[" Lacunes (",u.lacunes.length,")"]}),l.jsxs("button",{className:`parent-onglet ${k==="alertes"?"parent-onglet-actif":""}`,onClick:()=>q("alertes"),children:[" Alertes (",u.alertes.length,")"]}),l.jsx("button",{className:`parent-onglet ${k==="resume"?"parent-onglet-actif":""}`,onClick:()=>q("resume"),children:" Rsum"})]}),l.jsxs("div",{className:"parent-onglet-contenu",children:[k==="apercu"&&l.jsxs("div",{className:"parent-tab-apercu",children:[l.jsxs("div",{className:"parent-section",children:[l.jsx("h3",{children:" Derniers quiz passs"}),u.derniersQuiz.length===0?l.jsx("p",{className:"parent-vide",children:"Aucun quiz pass rcemment."}):l.jsx("div",{className:"parent-quiz-liste",children:u.derniersQuiz.map((Z,B)=>l.jsxs("div",{className:`parent-quiz-item ${Z.reussi?"parent-quiz-reussi":"parent-quiz-echoue"}`,children:[l.jsxs("div",{className:"parent-quiz-info",children:[l.jsx("span",{className:"parent-quiz-discipline",children:Z.disciplineNom}),l.jsx("span",{className:"parent-quiz-titre",children:Z.quizTitre})]}),l.jsxs("div",{className:"parent-quiz-score",children:[l.jsxs("span",{className:`parent-quiz-note ${Z.reussi?"note-ok":"note-ko"}`,children:[Z.noteSur20,"/20"]}),l.jsx("span",{className:"parent-quiz-statut",children:Z.reussi?" Russi":" chou"})]}),l.jsx("span",{className:"parent-quiz-date",children:pw(Z.datePassage)})]},B))})]}),l.jsxs("div",{className:"parent-section",children:[l.jsx("h3",{children:" Objectifs de la semaine"}),u.objectifs.length===0?l.jsx("p",{className:"parent-vide",children:"Aucun objectif cette semaine."}):l.jsx("div",{className:"parent-objectifs-liste",children:u.objectifs.map((Z,B)=>l.jsxs("div",{className:"parent-objectif-item",children:[l.jsxs("div",{className:"parent-objectif-header",children:[l.jsx("span",{className:"parent-objectif-titre",children:Z.titre}),l.jsx("span",{className:`parent-objectif-statut parent-statut-${Z.statut}`,children:Z.statut==="atteint"?" Atteint":Z.statut==="en_cours"?" En cours":Z.statut==="echoue"?" chou":" Non commenc"})]}),l.jsx("div",{className:"parent-progress-bar",children:l.jsx("div",{className:`parent-progress-fill parent-progress-${Z.statut}`,style:{width:`${Math.min(Z.progression/Z.cible*100,100)}%`}})}),l.jsxs("span",{className:"parent-objectif-detail",children:[Z.progression,"/",Z.cible]})]},B))})]})]}),k==="lacunes"&&l.jsx("div",{className:"parent-tab-lacunes",children:u.lacunes.length===0?l.jsxs("div",{className:"parent-vide-section",children:[l.jsx("span",{className:"parent-vide-icon",children:""}),l.jsx("p",{children:"Aucune lacune dtecte ! Votre enfant est sur la bonne voie."})]}):l.jsx("div",{className:"parent-lacunes-liste",children:u.lacunes.map((Z,B)=>l.jsxs("div",{className:"parent-lacune-item",style:{borderLeftColor:Ly(Z.niveauUrgence)},children:[l.jsxs("div",{className:"parent-lacune-header",children:[l.jsx("span",{className:"parent-lacune-discipline",children:Z.disciplineNom}),l.jsx("span",{className:"parent-lacune-badge",style:{backgroundColor:Ly(Z.niveauUrgence),color:"#fff"},children:I9(Z.niveauUrgence)})]}),l.jsxs("div",{className:"parent-lacune-details",children:[l.jsxs("span",{className:"parent-lacune-moyenne",children:["Moyenne : ",l.jsxs("strong",{children:[Z.moyenne,"/20"]})]}),l.jsxs("span",{className:"parent-lacune-tendance",children:["Tendance : ",R9(Z.tendance)," ",Z.tendance==="hausse"?"En hausse":Z.tendance==="baisse"?"En baisse":"Stable"]})]}),l.jsx("p",{className:"parent-lacune-conseil",children:Z.niveauUrgence==="critique"?" Intervention recommande : discutez avec votre enfant et envisagez un soutien scolaire.":Z.niveauUrgence==="important"?" Encouragez votre enfant  rviser cette matire rgulirement.":" Quelques rvisions suffiront pour consolider les acquis."})]},B))})}),k==="alertes"&&l.jsx("div",{className:"parent-tab-alertes",children:u.alertes.length===0?l.jsxs("div",{className:"parent-vide-section",children:[l.jsx("span",{className:"parent-vide-icon",children:""}),l.jsx("p",{children:"Aucune alerte pour le moment. Tout va bien !"})]}):l.jsx("div",{className:"parent-alertes-liste",children:u.alertes.map((Z,B)=>l.jsxs("div",{className:`parent-alerte-item parent-alerte-${Z.niveau}`,children:[l.jsxs("div",{className:"parent-alerte-header",children:[l.jsx("span",{className:"parent-alerte-titre",children:Z.titre}),l.jsx("span",{className:"parent-alerte-badge",style:{backgroundColor:l0e(Z.niveau),color:"#fff"},children:c0e(Z.type)})]}),l.jsx("p",{className:"parent-alerte-message",children:Z.message}),l.jsx("span",{className:"parent-alerte-date",children:pw(Z.dateCreation)})]},B))})}),k==="resume"&&u.resume&&l.jsxs("div",{className:"parent-tab-resume",children:[l.jsxs("div",{className:"parent-resume-header",children:[l.jsxs("h3",{children:[" Rsum : ",u.resume.semaine]}),l.jsxs("span",{className:"parent-resume-evolution",children:["Score : ",u.resume.scoreGlobal,"/100"," ",YM(u.resume.evolutionScore)]})]}),l.jsxs("div",{className:"parent-resume-stats",children:[l.jsxs("div",{className:"parent-resume-stat",children:[l.jsx("span",{className:"parent-resume-stat-value",children:u.resume.nombreQuizSemaine}),l.jsx("span",{className:"parent-resume-stat-label",children:"Quiz passs"})]}),l.jsxs("div",{className:"parent-resume-stat",children:[l.jsxs("span",{className:"parent-resume-stat-value",children:[u.resume.joursActifsSemaine,"/7"]}),l.jsx("span",{className:"parent-resume-stat-label",children:"Jours actifs"})]}),l.jsxs("div",{className:"parent-resume-stat",children:[l.jsxs("span",{className:"parent-resume-stat-value",children:[u.resume.tempsEstimeMinutes," min"]}),l.jsx("span",{className:"parent-resume-stat-label",children:"Temps d'tude"})]}),l.jsxs("div",{className:"parent-resume-stat",children:[l.jsxs("span",{className:"parent-resume-stat-value",children:[u.resume.objectifsAtteints,"/",u.resume.objectifsTotal]}),l.jsx("span",{className:"parent-resume-stat-label",children:"Objectifs atteints"})]})]}),u.resume.evolutionDisciplines.length>0&&l.jsxs("div",{className:"parent-section",children:[l.jsx("h4",{children:" volution par matire"}),l.jsx("div",{className:"parent-evolution-liste",children:u.resume.evolutionDisciplines.map((Z,B)=>l.jsxs("div",{className:"parent-evolution-item",children:[l.jsx("span",{className:"parent-evolution-discipline",children:Z.disciplineNom}),l.jsxs("div",{className:"parent-evolution-scores",children:[l.jsxs("span",{className:"parent-evolution-prec",children:[Z.moyenneSemainePrecedente,"/20"]}),l.jsx("span",{className:"parent-evolution-fleche",children:YM(Z.evolution)}),l.jsxs("span",{className:"parent-evolution-courante",children:[Z.moyenneSemaineCourante,"/20"]}),l.jsxs("span",{className:`parent-evolution-ecart ${Z.ecart>0?"ecart-positif":Z.ecart<0?"ecart-negatif":""}`,children:["(",Z.ecart>0?"+":"",Z.ecart,")"]})]})]},B))})]}),u.resume.disciplinesEnDifficulte.length>0&&l.jsxs("div",{className:"parent-section parent-section-warning",children:[l.jsx("h4",{children:" Matires ncessitant une attention"}),l.jsx("ul",{className:"parent-disciplines-difficulte",children:u.resume.disciplinesEnDifficulte.map((Z,B)=>l.jsx("li",{children:Z},B))})]})]}),k==="resume"&&!u.resume&&l.jsxs("div",{className:"parent-vide-section",children:[l.jsx("span",{className:"parent-vide-icon",children:""}),l.jsx("p",{children:"Le rsum sera disponible une fois que votre enfant aura pass des quiz."})]})]})]}):l.jsxs("div",{className:"parent-erreur-dashboard",children:[l.jsx("p",{children:" Impossible de charger le suivi. Veuillez ressayer."}),l.jsx("button",{className:"parent-btn parent-btn-primary",onClick:()=>s&&L(s),children:" Ressayer"})]}):l.jsx("div",{className:"parent-select-enfant",children:l.jsx("p",{children:" Slectionnez un enfant dans la liste pour voir son suivi."})})})]})]})},N0e=()=>l.jsx(aY,{children:l.jsxs(bB,{children:[l.jsx(qn,{path:"/",element:l.jsx(Ts,{children:l.jsx(qX,{})})}),l.jsx(qn,{path:"/disciplines",element:l.jsx(Ts,{children:l.jsx(GX,{})})}),l.jsx(qn,{path:"/disciplines/:id",element:l.jsx(Ts,{children:l.jsx(oZ,{})})}),l.jsx(qn,{path:"/premium",element:l.jsx(Ts,{children:l.jsx(uZ,{})})}),l.jsx(qn,{path:"/connexion",element:l.jsx(BX,{})}),l.jsx(qn,{path:"/inscription",element:l.jsx($X,{})}),l.jsx(qn,{path:"/admin",element:l.jsx(Xu,{children:l.jsx(Zu,{currentPage:"dashboard",children:l.jsx(fZ,{})})})}),l.jsx(qn,{path:"/admin/disciplines",element:l.jsx(Xu,{children:l.jsx(Zu,{currentPage:"disciplines",children:l.jsx(mZ,{})})})}),l.jsx(qn,{path:"/admin/chapitres",element:l.jsx(Xu,{children:l.jsx(Zu,{currentPage:"chapitres",children:l.jsx(pZ,{})})})}),l.jsx(qn,{path:"/admin/ressources",element:l.jsx(Xu,{children:l.jsx(Zu,{currentPage:"ressources",children:l.jsx(vZ,{})})})}),l.jsx(qn,{path:"/admin/quiz",element:l.jsx(Xu,{children:l.jsx(Zu,{currentPage:"quiz",children:l.jsx(wZ,{})})})}),l.jsx(qn,{path:"/admin/utilisateurs",element:l.jsx(Xu,{children:l.jsx(Zu,{currentPage:"utilisateurs",children:l.jsx(PZ,{})})})}),l.jsx(qn,{path:"/eleve/dashboard",element:l.jsx(Ts,{children:l.jsx(d0e,{})})}),l.jsx(qn,{path:"/eleve/suivi",element:l.jsx(Ts,{children:l.jsx(f0e,{})})}),l.jsx(qn,{path:"/quiz/:quizId",element:l.jsx(Ts,{children:l.jsx(MZ,{})})}),l.jsx(qn,{path:"/parent/dashboard",element:l.jsx(iN,{allowedRoles:["parent","admin"],children:l.jsx(Ts,{children:l.jsx(j0e,{})})})}),l.jsx(qn,{path:"/prof/dashboard",element:l.jsx(sY,{children:l.jsx(Ts,{children:l.jsx(E0e,{})})})}),l.jsx(qn,{path:"*",element:l.jsx(gB,{to:"/",replace:!0})})]})}),V9=document.getElementById("root");if(!V9)throw new Error("L'lment #root n'existe pas");const A0e=A8.createRoot(V9);A0e.render(l.jsx(JM.StrictMode,{children:l.jsx(AB,{children:l.jsx(N0e,{})})}));
//# sourceMappingURL=index-BseAZnqf.js.map
