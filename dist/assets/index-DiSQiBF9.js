function e8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ns(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ex={exports:{}},nh={};var w2;function t8(){if(w2)return nh;w2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var d in i)d!=="key"&&(s[d]=i[d])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return nh.Fragment=e,nh.jsx=n,nh.jsxs=n,nh}var E2;function n8(){return E2||(E2=1,ex.exports=t8()),ex.exports}var c=n8(),tx={exports:{}},Qe={};var j2;function r8(){if(j2)return Qe;j2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),y=Symbol.iterator;function w(H){return H===null||typeof H!="object"?null:(H=y&&H[y]||H["@@iterator"],typeof H=="function"?H:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function T(H,ie,ge){this.props=H,this.context=ie,this.refs=A,this.updater=ge||j}T.prototype.isReactComponent={},T.prototype.setState=function(H,ie){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ie,"setState")},T.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function k(){}k.prototype=T.prototype;function M(H,ie,ge){this.props=H,this.context=ie,this.refs=A,this.updater=ge||j}var R=M.prototype=new k;R.constructor=M,E(R,T.prototype),R.isPureReactComponent=!0;var L=Array.isArray;function D(){}var O={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function I(H,ie,ge){var xe=ge.ref;return{$$typeof:t,type:H,key:ie,ref:xe!==void 0?xe:null,props:ge}}function B(H,ie){return I(H.type,ie,H.props)}function U(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function z(H){var ie={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ge){return ie[ge]})}var q=/\/+/g;function pe(H,ie){return typeof H=="object"&&H!==null&&H.key!=null?z(""+H.key):ie.toString(36)}function Ee(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(D,D):(H.status="pending",H.then(function(ie){H.status==="pending"&&(H.status="fulfilled",H.value=ie)},function(ie){H.status==="pending"&&(H.status="rejected",H.reason=ie)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function F(H,ie,ge,xe,Y){var W=typeof H;(W==="undefined"||W==="boolean")&&(H=null);var be=!1;if(H===null)be=!0;else switch(W){case"bigint":case"string":case"number":be=!0;break;case"object":switch(H.$$typeof){case t:case e:be=!0;break;case p:return be=H._init,F(be(H._payload),ie,ge,xe,Y)}}if(be)return Y=Y(H),be=xe===""?"."+pe(H,0):xe,L(Y)?(ge="",be!=null&&(ge=be.replace(q,"$&/")+"/"),F(Y,ie,ge,"",function(Se){return Se})):Y!=null&&(U(Y)&&(Y=B(Y,ge+(Y.key==null||H&&H.key===Y.key?"":(""+Y.key).replace(q,"$&/")+"/")+be)),ie.push(Y)),1;be=0;var Le=xe===""?".":xe+":";if(L(H))for(var se=0;se<H.length;se++)xe=H[se],W=Le+pe(xe,se),be+=F(xe,ie,ge,W,Y);else if(se=w(H),typeof se=="function")for(H=se.call(H),se=0;!(xe=H.next()).done;)xe=xe.value,W=Le+pe(xe,se++),be+=F(xe,ie,ge,W,Y);else if(W==="object"){if(typeof H.then=="function")return F(Ee(H),ie,ge,xe,Y);throw ie=String(H),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return be}function J(H,ie,ge){if(H==null)return H;var xe=[],Y=0;return F(H,xe,"","",function(W){return ie.call(ge,W,Y++)}),xe}function fe(H){if(H._status===-1){var ie=H._result;ie=ie(),ie.then(function(ge){(H._status===0||H._status===-1)&&(H._status=1,H._result=ge)},function(ge){(H._status===0||H._status===-1)&&(H._status=2,H._result=ge)}),H._status===-1&&(H._status=0,H._result=ie)}if(H._status===1)return H._result.default;throw H._result}var we=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},_e={map:J,forEach:function(H,ie,ge){J(H,function(){ie.apply(this,arguments)},ge)},count:function(H){var ie=0;return J(H,function(){ie++}),ie},toArray:function(H){return J(H,function(ie){return ie})||[]},only:function(H){if(!U(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Qe.Activity=v,Qe.Children=_e,Qe.Component=T,Qe.Fragment=n,Qe.Profiler=i,Qe.PureComponent=M,Qe.StrictMode=r,Qe.Suspense=f,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(H){return O.H.useMemoCache(H)}},Qe.cache=function(H){return function(){return H.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(H,ie,ge){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var xe=E({},H.props),Y=H.key;if(ie!=null)for(W in ie.key!==void 0&&(Y=""+ie.key),ie)!P.call(ie,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&ie.ref===void 0||(xe[W]=ie[W]);var W=arguments.length-2;if(W===1)xe.children=ge;else if(1<W){for(var be=Array(W),Le=0;Le<W;Le++)be[Le]=arguments[Le+2];xe.children=be}return I(H.type,Y,xe)},Qe.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},Qe.createElement=function(H,ie,ge){var xe,Y={},W=null;if(ie!=null)for(xe in ie.key!==void 0&&(W=""+ie.key),ie)P.call(ie,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(Y[xe]=ie[xe]);var be=arguments.length-2;if(be===1)Y.children=ge;else if(1<be){for(var Le=Array(be),se=0;se<be;se++)Le[se]=arguments[se+2];Y.children=Le}if(H&&H.defaultProps)for(xe in be=H.defaultProps,be)Y[xe]===void 0&&(Y[xe]=be[xe]);return I(H,W,Y)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(H){return{$$typeof:d,render:H}},Qe.isValidElement=U,Qe.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:fe}},Qe.memo=function(H,ie){return{$$typeof:h,type:H,compare:ie===void 0?null:ie}},Qe.startTransition=function(H){var ie=O.T,ge={};O.T=ge;try{var xe=H(),Y=O.S;Y!==null&&Y(ge,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(D,we)}catch(W){we(W)}finally{ie!==null&&ge.types!==null&&(ie.types=ge.types),O.T=ie}},Qe.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Qe.use=function(H){return O.H.use(H)},Qe.useActionState=function(H,ie,ge){return O.H.useActionState(H,ie,ge)},Qe.useCallback=function(H,ie){return O.H.useCallback(H,ie)},Qe.useContext=function(H){return O.H.useContext(H)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(H,ie){return O.H.useDeferredValue(H,ie)},Qe.useEffect=function(H,ie){return O.H.useEffect(H,ie)},Qe.useEffectEvent=function(H){return O.H.useEffectEvent(H)},Qe.useId=function(){return O.H.useId()},Qe.useImperativeHandle=function(H,ie,ge){return O.H.useImperativeHandle(H,ie,ge)},Qe.useInsertionEffect=function(H,ie){return O.H.useInsertionEffect(H,ie)},Qe.useLayoutEffect=function(H,ie){return O.H.useLayoutEffect(H,ie)},Qe.useMemo=function(H,ie){return O.H.useMemo(H,ie)},Qe.useOptimistic=function(H,ie){return O.H.useOptimistic(H,ie)},Qe.useReducer=function(H,ie,ge){return O.H.useReducer(H,ie,ge)},Qe.useRef=function(H){return O.H.useRef(H)},Qe.useState=function(H){return O.H.useState(H)},Qe.useSyncExternalStore=function(H,ie,ge){return O.H.useSyncExternalStore(H,ie,ge)},Qe.useTransition=function(){return O.H.useTransition()},Qe.version="19.2.4",Qe}var A2;function Md(){return A2||(A2=1,tx.exports=r8()),tx.exports}var _=Md();const BM=ns(_),$M=e8({__proto__:null,default:BM},[_]);var nx={exports:{}},rh={},rx={exports:{}},ix={};var S2;function i8(){return S2||(S2=1,(function(t){function e(F,J){var fe=F.length;F.push(J);e:for(;0<fe;){var we=fe-1>>>1,_e=F[we];if(0<i(_e,J))F[we]=J,F[fe]=_e,fe=we;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var J=F[0],fe=F.pop();if(fe!==J){F[0]=fe;e:for(var we=0,_e=F.length,H=_e>>>1;we<H;){var ie=2*(we+1)-1,ge=F[ie],xe=ie+1,Y=F[xe];if(0>i(ge,fe))xe<_e&&0>i(Y,ge)?(F[we]=Y,F[xe]=fe,we=xe):(F[we]=ge,F[ie]=fe,we=ie);else if(xe<_e&&0>i(Y,fe))F[we]=Y,F[xe]=fe,we=xe;else break e}}return J}function i(F,J){var fe=F.sortIndex-J.sortIndex;return fe!==0?fe:F.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var f=[],h=[],p=1,v=null,y=3,w=!1,j=!1,E=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function R(F){for(var J=n(h);J!==null;){if(J.callback===null)r(h);else if(J.startTime<=F)r(h),J.sortIndex=J.expirationTime,e(f,J);else break;J=n(h)}}function L(F){if(E=!1,R(F),!j)if(n(f)!==null)j=!0,D||(D=!0,z());else{var J=n(h);J!==null&&Ee(L,J.startTime-F)}}var D=!1,O=-1,P=5,I=-1;function B(){return A?!0:!(t.unstable_now()-I<P)}function U(){if(A=!1,D){var F=t.unstable_now();I=F;var J=!0;try{e:{j=!1,E&&(E=!1,k(O),O=-1),w=!0;var fe=y;try{t:{for(R(F),v=n(f);v!==null&&!(v.expirationTime>F&&B());){var we=v.callback;if(typeof we=="function"){v.callback=null,y=v.priorityLevel;var _e=we(v.expirationTime<=F);if(F=t.unstable_now(),typeof _e=="function"){v.callback=_e,R(F),J=!0;break t}v===n(f)&&r(f),R(F)}else r(f);v=n(f)}if(v!==null)J=!0;else{var H=n(h);H!==null&&Ee(L,H.startTime-F),J=!1}}break e}finally{v=null,y=fe,w=!1}J=void 0}}finally{J?z():D=!1}}}var z;if(typeof M=="function")z=function(){M(U)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,pe=q.port2;q.port1.onmessage=U,z=function(){pe.postMessage(null)}}else z=function(){T(U,0)};function Ee(F,J){O=T(function(){F(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(F){switch(y){case 1:case 2:case 3:var J=3;break;default:J=y}var fe=y;y=J;try{return F()}finally{y=fe}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(F,J){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var fe=y;y=F;try{return J()}finally{y=fe}},t.unstable_scheduleCallback=function(F,J,fe){var we=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?we+fe:we):fe=we,F){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=fe+_e,F={id:p++,callback:J,priorityLevel:F,startTime:fe,expirationTime:_e,sortIndex:-1},fe>we?(F.sortIndex=fe,e(h,F),n(f)===null&&F===n(h)&&(E?(k(O),O=-1):E=!0,Ee(L,fe-we))):(F.sortIndex=_e,e(f,F),j||w||(j=!0,D||(D=!0,z()))),F},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(F){var J=y;return function(){var fe=y;y=J;try{return F.apply(this,arguments)}finally{y=fe}}}})(ix)),ix}var N2;function a8(){return N2||(N2=1,rx.exports=i8()),rx.exports}var ax={exports:{}},pr={};var T2;function s8(){if(T2)return pr;T2=1;var t=Md();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:f,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return pr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},pr.flushSync=function(f){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=p,r.d.f()}},pr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},pr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},pr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,v=d(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:w}):p==="script"&&r.d.X(f,{crossOrigin:v,integrity:y,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},pr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},pr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,v=d(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},pr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},pr.requestFormReset=function(f){r.d.r(f)},pr.unstable_batchedUpdates=function(f,h){return f(h)},pr.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},pr.useFormStatus=function(){return l.H.useHostTransitionStatus()},pr.version="19.2.4",pr}var C2;function FM(){if(C2)return ax.exports;C2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ax.exports=s8(),ax.exports}var P2;function o8(){if(P2)return rh;P2=1;var t=a8(),e=Md(),n=FM();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,m=o;;){var b=u.return;if(b===null)break;var x=b.alternate;if(x===null){if(m=b.return,m!==null){u=m;continue}break}if(b.child===x.child){for(x=b.child;x;){if(x===u)return f(b),a;if(x===m)return f(b),o;x=x.sibling}throw Error(r(188))}if(u.return!==m.return)u=b,m=x;else{for(var N=!1,V=b.child;V;){if(V===u){N=!0,u=b,m=x;break}if(V===m){N=!0,m=b,u=x;break}V=V.sibling}if(!N){for(V=x.child;V;){if(V===u){N=!0,u=x,m=b;break}if(V===m){N=!0,m=x,u=b;break}V=V.sibling}if(!N)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),M=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function z(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var q=Symbol.for("react.client.reference");function pe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===q?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case L:return"Suspense";case D:return"SuspenseList";case I:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case j:return"Portal";case M:return a.displayName||"Context";case k:return(a._context.displayName||"Context")+".Consumer";case R:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return o=a.displayName||null,o!==null?o:pe(a.type)||"Memo";case P:o=a._payload,a=a._init;try{return pe(a(o))}catch{}}return null}var Ee=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},we=[],_e=-1;function H(a){return{current:a}}function ie(a){0>_e||(a.current=we[_e],we[_e]=null,_e--)}function ge(a,o){_e++,we[_e]=a.current,a.current=o}var xe=H(null),Y=H(null),W=H(null),be=H(null);function Le(a,o){switch(ge(W,o),ge(Y,a),ge(xe,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?HC(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=HC(o),a=KC(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ie(xe),ge(xe,a)}function se(){ie(xe),ie(Y),ie(W)}function Se(a){a.memoizedState!==null&&ge(be,a);var o=xe.current,u=KC(o,a.type);o!==u&&(ge(Y,a),ge(xe,u))}function Q(a){Y.current===a&&(ie(xe),ie(Y)),be.current===a&&(ie(be),Zf._currentValue=fe)}var me,De;function Be(a){if(me===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);me=o&&o[1]||"",De=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+a+De}var it=!1;function dt(a,o){if(!a||it)return"";it=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(le){var ae=le}Reflect.construct(a,[],ve)}else{try{ve.call()}catch(le){ae=le}a.call(ve.prototype)}}else{try{throw Error()}catch(le){ae=le}(ve=a())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(le){if(le&&ae&&typeof le.stack=="string")return[le.stack,ae.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),N=x[0],V=x[1];if(N&&V){var K=N.split(`
`),re=V.split(`
`);for(b=m=0;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;for(;b<re.length&&!re[b].includes("DetermineComponentFrameRoot");)b++;if(m===K.length||b===re.length)for(m=K.length-1,b=re.length-1;1<=m&&0<=b&&K[m]!==re[b];)b--;for(;1<=m&&0<=b;m--,b--)if(K[m]!==re[b]){if(m!==1||b!==1)do if(m--,b--,0>b||K[m]!==re[b]){var ue=`
`+K[m].replace(" at new "," at ");return a.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",a.displayName)),ue}while(1<=m&&0<=b);break}}}finally{it=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Be(u):""}function vt(a,o){switch(a.tag){case 26:case 27:case 5:return Be(a.type);case 16:return Be("Lazy");case 13:return a.child!==o&&o!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return dt(a.type,!1);case 11:return dt(a.type.render,!1);case 1:return dt(a.type,!0);case 31:return Be("Activity");default:return""}}function hr(a){try{var o="",u=null;do o+=vt(a,u),u=a,a=a.return;while(a);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Ot=Object.prototype.hasOwnProperty,It=t.unstable_scheduleCallback,Mr=t.unstable_cancelCallback,ce=t.unstable_shouldYield,Ie=t.unstable_requestPaint,Ue=t.unstable_now,Ke=t.unstable_getCurrentPriorityLevel,Lt=t.unstable_ImmediatePriority,zn=t.unstable_UserBlockingPriority,zr=t.unstable_NormalPriority,oo=t.unstable_LowPriority,Lr=t.unstable_IdlePriority,Gi=t.log,lu=t.unstable_setDisableYieldValue,rn=null,St=null;function Vr(a){if(typeof Gi=="function"&&lu(a),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(rn,a)}catch{}}var en=Math.clz32?Math.clz32:cu,zl=Math.log,lo=Math.LN2;function cu(a){return a>>>=0,a===0?32:31-(zl(a)/lo|0)|0}var xi=256,ss=262144,an=4194304;function wi(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function mr(a,o,u){var m=a.pendingLanes;if(m===0)return 0;var b=0,x=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var V=m&134217727;return V!==0?(m=V&~x,m!==0?b=wi(m):(N&=V,N!==0?b=wi(N):u||(u=V&~a,u!==0&&(b=wi(u))))):(V=m&~x,V!==0?b=wi(V):N!==0?b=wi(N):u||(u=m&~a,u!==0&&(b=wi(u)))),b===0?0:o!==0&&o!==b&&(o&x)===0&&(x=b&-b,u=o&-o,x>=u||x===32&&(u&4194048)!==0)?o:b}function Jr(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Z(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ve(){var a=an;return an<<=1,(an&62914560)===0&&(an=4194304),a}function mt(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Fn(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Ll(a,o,u,m,b,x){var N=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var V=a.entanglements,K=a.expirationTimes,re=a.hiddenUpdates;for(u=N&~u;0<u;){var ue=31-en(u),ve=1<<ue;V[ue]=0,K[ue]=-1;var ae=re[ue];if(ae!==null)for(re[ue]=null,ue=0;ue<ae.length;ue++){var le=ae[ue];le!==null&&(le.lane&=-536870913)}u&=~ve}m!==0&&Ur(a,m,0),x!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=x&~(N&~o))}function Ur(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-en(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|u&261930}function Vl(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var m=31-en(u),b=1<<m;b&o|a[m]&o&&(a[m]|=o),u&=~b}}function rf(a,o){var u=o&-o;return u=(u&42)!==0?1:Ul(u),(u&(a.suspendedLanes|o))!==0?0:u}function Ul(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function os(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ep(){var a=J.p;return a!==0?a:(a=window.event,a===void 0?32:p2(a.type))}function Wi(a,o){var u=J.p;try{return J.p=a,o()}finally{J.p=u}}var Qi=Math.random().toString(36).slice(2),jn="__reactFiber$"+Qi,Hn="__reactProps$"+Qi,ga="__reactContainer$"+Qi,uu="__reactEvents$"+Qi,sb="__reactListeners$"+Qi,tp="__reactHandles$"+Qi,np="__reactResources$"+Qi,ya="__reactMarker$"+Qi;function du(a){delete a[jn],delete a[Hn],delete a[uu],delete a[sb],delete a[tp]}function ba(a){var o=a[jn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[ga]||u[jn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=JC(a);a!==null;){if(u=a[jn])return u;a=JC(a)}return o}a=u,u=a.parentNode}return null}function Ei(a){if(a=a[jn]||a[ga]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function ei(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function _a(a){var o=a[np];return o||(o=a[np]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function An(a){a[ya]=!0}var af=new Set,sf={};function xa(a,o){wa(a,o),wa(a+"Capture",o)}function wa(a,o){for(sf[a]=o,a=0;a<o.length;a++)af.add(o[a])}var of=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lf={},cf={};function rp(a){return Ot.call(cf,a)?!0:Ot.call(lf,a)?!1:of.test(a)?cf[a]=!0:(lf[a]=!0,!1)}function fu(a,o,u){if(rp(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function ti(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function Sn(a,o,u,m){if(m===null)a.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+m)}}function Kn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function co(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function uf(a,o,u){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var b=m.get,x=m.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return b.call(this)},set:function(N){u=""+N,x.call(this,N)}}),Object.defineProperty(a,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Nt(a){if(!a._valueTracker){var o=co(a)?"checked":"value";a._valueTracker=uf(a,o,""+a[o])}}function ql(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return a&&(m=co(a)?a.checked?"true":"false":a.value),a=m,a!==u?(o.setValue(a),!0):!1}function Ea(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Bl=/[\n"\\]/g;function qr(a){return a.replace(Bl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function hu(a,o,u,m,b,x,N,V){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),o!=null?N==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Kn(o)):a.value!==""+Kn(o)&&(a.value=""+Kn(o)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),o!=null?df(a,N,Kn(o)):u!=null?df(a,N,Kn(u)):m!=null&&a.removeAttribute("value"),b==null&&x!=null&&(a.defaultChecked=!!x),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?a.name=""+Kn(V):a.removeAttribute("name")}function ip(a,o,u,m,b,x,N,V){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),o!=null||u!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){Nt(a);return}u=u!=null?""+Kn(u):"",o=o!=null?""+Kn(o):u,V||o===a.value||(a.value=o),a.defaultValue=o}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=V?a.checked:!!m,a.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N),Nt(a)}function df(a,o,u){o==="number"&&Ea(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function uo(a,o,u,m){if(a=a.options,o){o={};for(var b=0;b<u.length;b++)o["$"+u[b]]=!0;for(u=0;u<a.length;u++)b=o.hasOwnProperty("$"+a[u].value),a[u].selected!==b&&(a[u].selected=b),b&&m&&(a[u].defaultSelected=!0)}else{for(u=""+Kn(u),o=null,b=0;b<a.length;b++){if(a[b].value===u){a[b].selected=!0,m&&(a[b].defaultSelected=!0);return}o!==null||a[b].disabled||(o=a[b])}o!==null&&(o.selected=!0)}}function ap(a,o,u){if(o!=null&&(o=""+Kn(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+Kn(u):""}function fo(a,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(r(92));if(Ee(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=Kn(o),a.defaultValue=u,m=a.textContent,m===u&&m!==""&&m!==null&&(a.value=m),Nt(a)}function Br(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var sp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ff(a,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,u):typeof u!="number"||u===0||sp.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function hf(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var b in o)m=o[b],o.hasOwnProperty(b)&&u[b]!==m&&ff(a,b,m)}else for(var x in o)o.hasOwnProperty(x)&&ff(a,x,o[x])}function mu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var op=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ho=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pu(a){return ho.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Yi(){}var mf=null;function ji(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var mo=null,ja=null;function $l(a){var o=Ei(a);if(o&&(a=o.stateNode)){var u=a[Hn]||null;e:switch(a=o.stateNode,o.type){case"input":if(hu(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+qr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==a&&m.form===a.form){var b=m[Hn]||null;if(!b)throw Error(r(90));hu(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===a.form&&ql(m)}break e;case"textarea":ap(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&uo(a,!!u.multiple,o,!1)}}}var vu=!1;function po(a,o,u){if(vu)return a(o,u);vu=!0;try{var m=a(o);return m}finally{if(vu=!1,(mo!==null||ja!==null)&&(ev(),mo&&(o=mo,a=ja,ja=mo=null,$l(o),a)))for(o=0;o<a.length;o++)$l(a[o])}}function Xi(a,o){var u=a.stateNode;if(u===null)return null;var m=u[Hn]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fl=!1;if(Ai)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){Fl=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{Fl=!1}var Aa=null,pf=null,Hl=null;function vf(){if(Hl)return Hl;var a,o=pf,u=o.length,m,b="value"in Aa?Aa.value:Aa.textContent,x=b.length;for(a=0;a<u&&o[a]===b[a];a++);var N=u-a;for(m=1;m<=N&&o[u-m]===b[x-m];m++);return Hl=b.slice(a,1<m?1-m:void 0)}function Kl(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function ls(){return!0}function Zi(){return!1}function ir(a){function o(u,m,b,x,N){this._reactName=u,this._targetInst=b,this.type=m,this.nativeEvent=x,this.target=N,this.currentTarget=null;for(var V in a)a.hasOwnProperty(V)&&(u=a[V],this[V]=u?u(x):x[V]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ls:Zi,this.isPropagationStopped=Zi,this}return v(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),o}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=ir(cs),vo=v({},cs,{view:0,detail:0}),gf=ir(vo),go,gu,Na,yu=v({},vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Na&&(Na&&a.type==="mousemove"?(go=a.screenX-Na.screenX,gu=a.screenY-Na.screenY):gu=go=0,Na=a),go)},movementY:function(a){return"movementY"in a?a.movementY:gu}}),yf=ir(yu),Gl=v({},yu,{dataTransfer:0}),lp=ir(Gl),cp=v({},vo,{relatedTarget:0}),Wl=ir(cp),bf=v({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),up=ir(bf),bu=v({},cs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),dp=ir(bu),fp=v({},cs,{data:0}),Ta=ir(fp),hp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vp(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=pp[a])?!!o[a]:!1}function yo(){return vp}var Sr=v({},vo,{key:function(a){if(a.key){var o=hp[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Kl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?mp[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yo,charCode:function(a){return a.type==="keypress"?Kl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Kl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),gp=ir(Sr),yp=v({},yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),us=ir(yp),g=v({},vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yo}),S=ir(g),C=v({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),$=ir(C),te=v({},yu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),oe=ir(te),je=v({},cs,{newState:0,oldState:0}),Ze=ir(je),gn=[9,13,27,32],xt=Ai&&"CompositionEvent"in window,Qt=null;Ai&&"documentMode"in document&&(Qt=document.documentMode);var Si=Ai&&"TextEvent"in window&&!Qt,Ca=Ai&&(!xt||Qt&&8<Qt&&11>=Qt),Ji=" ",ea=!1;function Ql(a,o){switch(a){case"keyup":return gn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _u(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var xu=!1;function jU(a,o){switch(a){case"compositionend":return _u(o);case"keypress":return o.which!==32?null:(ea=!0,Ji);case"textInput":return a=o.data,a===Ji&&ea?null:a;default:return null}}function AU(a,o){if(xu)return a==="compositionend"||!xt&&Ql(a,o)?(a=vf(),Hl=pf=Aa=null,xu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ca&&o.locale!=="ko"?null:o.data;default:return null}}var SU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nN(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!SU[a.type]:o==="textarea"}function rN(a,o,u,m){mo?ja?ja.push(m):ja=[m]:mo=m,o=ov(o,"onChange"),0<o.length&&(u=new Sa("onChange","change",null,u,m),a.push({event:u,listeners:o}))}var _f=null,xf=null;function NU(a){VC(a,0)}function bp(a){var o=ei(a);if(ql(o))return a}function iN(a,o){if(a==="change")return o}var aN=!1;if(Ai){var ob;if(Ai){var lb="oninput"in document;if(!lb){var sN=document.createElement("div");sN.setAttribute("oninput","return;"),lb=typeof sN.oninput=="function"}ob=lb}else ob=!1;aN=ob&&(!document.documentMode||9<document.documentMode)}function oN(){_f&&(_f.detachEvent("onpropertychange",lN),xf=_f=null)}function lN(a){if(a.propertyName==="value"&&bp(xf)){var o=[];rN(o,xf,a,ji(a)),po(NU,o)}}function TU(a,o,u){a==="focusin"?(oN(),_f=o,xf=u,_f.attachEvent("onpropertychange",lN)):a==="focusout"&&oN()}function CU(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return bp(xf)}function PU(a,o){if(a==="click")return bp(o)}function OU(a,o){if(a==="input"||a==="change")return bp(o)}function IU(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var ni=typeof Object.is=="function"?Object.is:IU;function wf(a,o){if(ni(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var b=u[m];if(!Ot.call(o,b)||!ni(a[b],o[b]))return!1}return!0}function cN(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function uN(a,o){var u=cN(a);a=0;for(var m;u;){if(u.nodeType===3){if(m=a+u.textContent.length,a<=o&&m>=o)return{node:u,offset:o-a};a=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=cN(u)}}function dN(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?dN(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function fN(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Ea(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Ea(a.document)}return o}function cb(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var RU=Ai&&"documentMode"in document&&11>=document.documentMode,wu=null,ub=null,Ef=null,db=!1;function hN(a,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;db||wu==null||wu!==Ea(m)||(m=wu,"selectionStart"in m&&cb(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ef&&wf(Ef,m)||(Ef=m,m=ov(ub,"onSelect"),0<m.length&&(o=new Sa("onSelect","select",null,o,u),a.push({event:o,listeners:m}),o.target=wu)))}function Yl(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var Eu={animationend:Yl("Animation","AnimationEnd"),animationiteration:Yl("Animation","AnimationIteration"),animationstart:Yl("Animation","AnimationStart"),transitionrun:Yl("Transition","TransitionRun"),transitionstart:Yl("Transition","TransitionStart"),transitioncancel:Yl("Transition","TransitionCancel"),transitionend:Yl("Transition","TransitionEnd")},fb={},mN={};Ai&&(mN=document.createElement("div").style,"AnimationEvent"in window||(delete Eu.animationend.animation,delete Eu.animationiteration.animation,delete Eu.animationstart.animation),"TransitionEvent"in window||delete Eu.transitionend.transition);function Xl(a){if(fb[a])return fb[a];if(!Eu[a])return a;var o=Eu[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in mN)return fb[a]=o[u];return a}var pN=Xl("animationend"),vN=Xl("animationiteration"),gN=Xl("animationstart"),kU=Xl("transitionrun"),DU=Xl("transitionstart"),MU=Xl("transitioncancel"),yN=Xl("transitionend"),bN=new Map,hb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hb.push("scrollEnd");function ta(a,o){bN.set(a,o),xa(o,[a])}var _p=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Ni=[],ju=0,mb=0;function xp(){for(var a=ju,o=mb=ju=0;o<a;){var u=Ni[o];Ni[o++]=null;var m=Ni[o];Ni[o++]=null;var b=Ni[o];Ni[o++]=null;var x=Ni[o];if(Ni[o++]=null,m!==null&&b!==null){var N=m.pending;N===null?b.next=b:(b.next=N.next,N.next=b),m.pending=b}x!==0&&_N(u,b,x)}}function wp(a,o,u,m){Ni[ju++]=a,Ni[ju++]=o,Ni[ju++]=u,Ni[ju++]=m,mb|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function pb(a,o,u,m){return wp(a,o,u,m),Ep(a)}function Zl(a,o){return wp(a,null,null,o),Ep(a)}function _N(a,o,u){a.lanes|=u;var m=a.alternate;m!==null&&(m.lanes|=u);for(var b=!1,x=a.return;x!==null;)x.childLanes|=u,m=x.alternate,m!==null&&(m.childLanes|=u),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(b=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,b&&o!==null&&(b=31-en(u),a=x.hiddenUpdates,m=a[b],m===null?a[b]=[o]:m.push(o),o.lane=u|536870912),x):null}function Ep(a){if(50<Hf)throw Hf=0,j_=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Au={};function zU(a,o,u,m){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(a,o,u,m){return new zU(a,o,u,m)}function vb(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ds(a,o){var u=a.alternate;return u===null?(u=ri(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function xN(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function jp(a,o,u,m,b,x){var N=0;if(m=a,typeof a=="function")vb(a)&&(N=1);else if(typeof a=="string")N=Bq(a,u,xe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case I:return a=ri(31,u,o,b),a.elementType=I,a.lanes=x,a;case E:return Jl(u.children,b,x,o);case A:N=8,b|=24;break;case T:return a=ri(12,u,o,b|2),a.elementType=T,a.lanes=x,a;case L:return a=ri(13,u,o,b),a.elementType=L,a.lanes=x,a;case D:return a=ri(19,u,o,b),a.elementType=D,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case M:N=10;break e;case k:N=9;break e;case R:N=11;break e;case O:N=14;break e;case P:N=16,m=null;break e}N=29,u=Error(r(130,a===null?"null":typeof a,"")),m=null}return o=ri(N,u,o,b),o.elementType=a,o.type=m,o.lanes=x,o}function Jl(a,o,u,m){return a=ri(7,a,m,o),a.lanes=u,a}function gb(a,o,u){return a=ri(6,a,null,o),a.lanes=u,a}function wN(a){var o=ri(18,null,null,0);return o.stateNode=a,o}function yb(a,o,u){return o=ri(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var EN=new WeakMap;function Ti(a,o){if(typeof a=="object"&&a!==null){var u=EN.get(a);return u!==void 0?u:(o={value:a,source:o,stack:hr(o)},EN.set(a,o),o)}return{value:a,source:o,stack:hr(o)}}var Su=[],Nu=0,Ap=null,jf=0,Ci=[],Pi=0,bo=null,Pa=1,Oa="";function fs(a,o){Su[Nu++]=jf,Su[Nu++]=Ap,Ap=a,jf=o}function jN(a,o,u){Ci[Pi++]=Pa,Ci[Pi++]=Oa,Ci[Pi++]=bo,bo=a;var m=Pa;a=Oa;var b=32-en(m)-1;m&=~(1<<b),u+=1;var x=32-en(o)+b;if(30<x){var N=b-b%5;x=(m&(1<<N)-1).toString(32),m>>=N,b-=N,Pa=1<<32-en(o)+b|u<<b|m,Oa=x+a}else Pa=1<<x|u<<b|m,Oa=a}function bb(a){a.return!==null&&(fs(a,1),jN(a,1,0))}function _b(a){for(;a===Ap;)Ap=Su[--Nu],Su[Nu]=null,jf=Su[--Nu],Su[Nu]=null;for(;a===bo;)bo=Ci[--Pi],Ci[Pi]=null,Oa=Ci[--Pi],Ci[Pi]=null,Pa=Ci[--Pi],Ci[Pi]=null}function AN(a,o){Ci[Pi++]=Pa,Ci[Pi++]=Oa,Ci[Pi++]=bo,Pa=o.id,Oa=o.overflow,bo=a}var ar=null,Kt=null,ft=!1,_o=null,Oi=!1,xb=Error(r(519));function xo(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Af(Ti(o,a)),xb}function SN(a){var o=a.stateNode,u=a.type,m=a.memoizedProps;switch(o[jn]=a,o[Hn]=m,u){case"dialog":rt("cancel",o),rt("close",o);break;case"iframe":case"object":case"embed":rt("load",o);break;case"video":case"audio":for(u=0;u<Gf.length;u++)rt(Gf[u],o);break;case"source":rt("error",o);break;case"img":case"image":case"link":rt("error",o),rt("load",o);break;case"details":rt("toggle",o);break;case"input":rt("invalid",o),ip(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":rt("invalid",o);break;case"textarea":rt("invalid",o),fo(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||$C(o.textContent,u)?(m.popover!=null&&(rt("beforetoggle",o),rt("toggle",o)),m.onScroll!=null&&rt("scroll",o),m.onScrollEnd!=null&&rt("scrollend",o),m.onClick!=null&&(o.onclick=Yi),o=!0):o=!1,o||xo(a,!0)}function NN(a){for(ar=a.return;ar;)switch(ar.tag){case 5:case 31:case 13:Oi=!1;return;case 27:case 3:Oi=!0;return;default:ar=ar.return}}function Tu(a){if(a!==ar)return!1;if(!ft)return NN(a),ft=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||V_(a.type,a.memoizedProps)),u=!u),u&&Kt&&xo(a),NN(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Kt=ZC(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Kt=ZC(a)}else o===27?(o=Kt,Do(a.type)?(a=F_,F_=null,Kt=a):Kt=o):Kt=ar?Ri(a.stateNode.nextSibling):null;return!0}function ec(){Kt=ar=null,ft=!1}function wb(){var a=_o;return a!==null&&(Kr===null?Kr=a:Kr.push.apply(Kr,a),_o=null),a}function Af(a){_o===null?_o=[a]:_o.push(a)}var Eb=H(null),tc=null,hs=null;function wo(a,o,u){ge(Eb,o._currentValue),o._currentValue=u}function ms(a){a._currentValue=Eb.current,ie(Eb)}function jb(a,o,u){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===u)break;a=a.return}}function Ab(a,o,u,m){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var x=b.dependencies;if(x!==null){var N=b.child;x=x.firstContext;e:for(;x!==null;){var V=x;x=b;for(var K=0;K<o.length;K++)if(V.context===o[K]){x.lanes|=u,V=x.alternate,V!==null&&(V.lanes|=u),jb(x.return,u,a),m||(N=null);break e}x=V.next}}else if(b.tag===18){if(N=b.return,N===null)throw Error(r(341));N.lanes|=u,x=N.alternate,x!==null&&(x.lanes|=u),jb(N,u,a),N=null}else N=b.child;if(N!==null)N.return=b;else for(N=b;N!==null;){if(N===a){N=null;break}if(b=N.sibling,b!==null){b.return=N.return,N=b;break}N=N.return}b=N}}function Cu(a,o,u,m){a=null;for(var b=o,x=!1;b!==null;){if(!x){if((b.flags&524288)!==0)x=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var N=b.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var V=b.type;ni(b.pendingProps.value,N.value)||(a!==null?a.push(V):a=[V])}}else if(b===be.current){if(N=b.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(Zf):a=[Zf])}b=b.return}a!==null&&Ab(o,a,u,m),o.flags|=262144}function Sp(a){for(a=a.firstContext;a!==null;){if(!ni(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function nc(a){tc=a,hs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function sr(a){return TN(tc,a)}function Np(a,o){return tc===null&&nc(a),TN(a,o)}function TN(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},hs===null){if(a===null)throw Error(r(308));hs=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else hs=hs.next=o;return u}var LU=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},VU=t.unstable_scheduleCallback,UU=t.unstable_NormalPriority,Nn={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sb(){return{controller:new LU,data:new Map,refCount:0}}function Sf(a){a.refCount--,a.refCount===0&&VU(UU,function(){a.controller.abort()})}var Nf=null,Nb=0,Pu=0,Ou=null;function qU(a,o){if(Nf===null){var u=Nf=[];Nb=0,Pu=P_(),Ou={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Nb++,o.then(CN,CN),o}function CN(){if(--Nb===0&&Nf!==null){Ou!==null&&(Ou.status="fulfilled");var a=Nf;Nf=null,Pu=0,Ou=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function BU(a,o){var u=[],m={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var b=0;b<u.length;b++)(0,u[b])(o)},function(b){for(m.status="rejected",m.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),m}var PN=F.S;F.S=function(a,o){hC=Ue(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&qU(a,o),PN!==null&&PN(a,o)};var rc=H(null);function Tb(){var a=rc.current;return a!==null?a:Vt.pooledCache}function Tp(a,o){o===null?ge(rc,rc.current):ge(rc,o.pool)}function ON(){var a=Tb();return a===null?null:{parent:Nn._currentValue,pool:a}}var Iu=Error(r(460)),Cb=Error(r(474)),Cp=Error(r(542)),Pp={then:function(){}};function IN(a){return a=a.status,a==="fulfilled"||a==="rejected"}function RN(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Yi,Yi),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,DN(a),a;default:if(typeof o.status=="string")o.then(Yi,Yi);else{if(a=Vt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=m}},function(m){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,DN(a),a}throw ac=o,Iu}}function ic(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(ac=u,Iu):u}}var ac=null;function kN(){if(ac===null)throw Error(r(459));var a=ac;return ac=null,a}function DN(a){if(a===Iu||a===Cp)throw Error(r(483))}var Ru=null,Tf=0;function Op(a){var o=Tf;return Tf+=1,Ru===null&&(Ru=[]),RN(Ru,a,o)}function Cf(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Ip(a,o){throw o.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function MN(a){function o(X,G){if(a){var ne=X.deletions;ne===null?(X.deletions=[G],X.flags|=16):ne.push(G)}}function u(X,G){if(!a)return null;for(;G!==null;)o(X,G),G=G.sibling;return null}function m(X){for(var G=new Map;X!==null;)X.key!==null?G.set(X.key,X):G.set(X.index,X),X=X.sibling;return G}function b(X,G){return X=ds(X,G),X.index=0,X.sibling=null,X}function x(X,G,ne){return X.index=ne,a?(ne=X.alternate,ne!==null?(ne=ne.index,ne<G?(X.flags|=67108866,G):ne):(X.flags|=67108866,G)):(X.flags|=1048576,G)}function N(X){return a&&X.alternate===null&&(X.flags|=67108866),X}function V(X,G,ne,he){return G===null||G.tag!==6?(G=gb(ne,X.mode,he),G.return=X,G):(G=b(G,ne),G.return=X,G)}function K(X,G,ne,he){var ze=ne.type;return ze===E?ue(X,G,ne.props.children,he,ne.key):G!==null&&(G.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===P&&ic(ze)===G.type)?(G=b(G,ne.props),Cf(G,ne),G.return=X,G):(G=jp(ne.type,ne.key,ne.props,null,X.mode,he),Cf(G,ne),G.return=X,G)}function re(X,G,ne,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==ne.containerInfo||G.stateNode.implementation!==ne.implementation?(G=yb(ne,X.mode,he),G.return=X,G):(G=b(G,ne.children||[]),G.return=X,G)}function ue(X,G,ne,he,ze){return G===null||G.tag!==7?(G=Jl(ne,X.mode,he,ze),G.return=X,G):(G=b(G,ne),G.return=X,G)}function ve(X,G,ne){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=gb(""+G,X.mode,ne),G.return=X,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return ne=jp(G.type,G.key,G.props,null,X.mode,ne),Cf(ne,G),ne.return=X,ne;case j:return G=yb(G,X.mode,ne),G.return=X,G;case P:return G=ic(G),ve(X,G,ne)}if(Ee(G)||z(G))return G=Jl(G,X.mode,ne,null),G.return=X,G;if(typeof G.then=="function")return ve(X,Op(G),ne);if(G.$$typeof===M)return ve(X,Np(X,G),ne);Ip(X,G)}return null}function ae(X,G,ne,he){var ze=G!==null?G.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ze!==null?null:V(X,G,""+ne,he);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:return ne.key===ze?K(X,G,ne,he):null;case j:return ne.key===ze?re(X,G,ne,he):null;case P:return ne=ic(ne),ae(X,G,ne,he)}if(Ee(ne)||z(ne))return ze!==null?null:ue(X,G,ne,he,null);if(typeof ne.then=="function")return ae(X,G,Op(ne),he);if(ne.$$typeof===M)return ae(X,G,Np(X,ne),he);Ip(X,ne)}return null}function le(X,G,ne,he,ze){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return X=X.get(ne)||null,V(G,X,""+he,ze);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case w:return X=X.get(he.key===null?ne:he.key)||null,K(G,X,he,ze);case j:return X=X.get(he.key===null?ne:he.key)||null,re(G,X,he,ze);case P:return he=ic(he),le(X,G,ne,he,ze)}if(Ee(he)||z(he))return X=X.get(ne)||null,ue(G,X,he,ze,null);if(typeof he.then=="function")return le(X,G,ne,Op(he),ze);if(he.$$typeof===M)return le(X,G,ne,Np(G,he),ze);Ip(G,he)}return null}function Pe(X,G,ne,he){for(var ze=null,yt=null,Re=G,et=G=0,st=null;Re!==null&&et<ne.length;et++){Re.index>et?(st=Re,Re=null):st=Re.sibling;var bt=ae(X,Re,ne[et],he);if(bt===null){Re===null&&(Re=st);break}a&&Re&&bt.alternate===null&&o(X,Re),G=x(bt,G,et),yt===null?ze=bt:yt.sibling=bt,yt=bt,Re=st}if(et===ne.length)return u(X,Re),ft&&fs(X,et),ze;if(Re===null){for(;et<ne.length;et++)Re=ve(X,ne[et],he),Re!==null&&(G=x(Re,G,et),yt===null?ze=Re:yt.sibling=Re,yt=Re);return ft&&fs(X,et),ze}for(Re=m(Re);et<ne.length;et++)st=le(Re,X,et,ne[et],he),st!==null&&(a&&st.alternate!==null&&Re.delete(st.key===null?et:st.key),G=x(st,G,et),yt===null?ze=st:yt.sibling=st,yt=st);return a&&Re.forEach(function(Uo){return o(X,Uo)}),ft&&fs(X,et),ze}function qe(X,G,ne,he){if(ne==null)throw Error(r(151));for(var ze=null,yt=null,Re=G,et=G=0,st=null,bt=ne.next();Re!==null&&!bt.done;et++,bt=ne.next()){Re.index>et?(st=Re,Re=null):st=Re.sibling;var Uo=ae(X,Re,bt.value,he);if(Uo===null){Re===null&&(Re=st);break}a&&Re&&Uo.alternate===null&&o(X,Re),G=x(Uo,G,et),yt===null?ze=Uo:yt.sibling=Uo,yt=Uo,Re=st}if(bt.done)return u(X,Re),ft&&fs(X,et),ze;if(Re===null){for(;!bt.done;et++,bt=ne.next())bt=ve(X,bt.value,he),bt!==null&&(G=x(bt,G,et),yt===null?ze=bt:yt.sibling=bt,yt=bt);return ft&&fs(X,et),ze}for(Re=m(Re);!bt.done;et++,bt=ne.next())bt=le(Re,X,et,bt.value,he),bt!==null&&(a&&bt.alternate!==null&&Re.delete(bt.key===null?et:bt.key),G=x(bt,G,et),yt===null?ze=bt:yt.sibling=bt,yt=bt);return a&&Re.forEach(function(Jq){return o(X,Jq)}),ft&&fs(X,et),ze}function Mt(X,G,ne,he){if(typeof ne=="object"&&ne!==null&&ne.type===E&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:e:{for(var ze=ne.key;G!==null;){if(G.key===ze){if(ze=ne.type,ze===E){if(G.tag===7){u(X,G.sibling),he=b(G,ne.props.children),he.return=X,X=he;break e}}else if(G.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===P&&ic(ze)===G.type){u(X,G.sibling),he=b(G,ne.props),Cf(he,ne),he.return=X,X=he;break e}u(X,G);break}else o(X,G);G=G.sibling}ne.type===E?(he=Jl(ne.props.children,X.mode,he,ne.key),he.return=X,X=he):(he=jp(ne.type,ne.key,ne.props,null,X.mode,he),Cf(he,ne),he.return=X,X=he)}return N(X);case j:e:{for(ze=ne.key;G!==null;){if(G.key===ze)if(G.tag===4&&G.stateNode.containerInfo===ne.containerInfo&&G.stateNode.implementation===ne.implementation){u(X,G.sibling),he=b(G,ne.children||[]),he.return=X,X=he;break e}else{u(X,G);break}else o(X,G);G=G.sibling}he=yb(ne,X.mode,he),he.return=X,X=he}return N(X);case P:return ne=ic(ne),Mt(X,G,ne,he)}if(Ee(ne))return Pe(X,G,ne,he);if(z(ne)){if(ze=z(ne),typeof ze!="function")throw Error(r(150));return ne=ze.call(ne),qe(X,G,ne,he)}if(typeof ne.then=="function")return Mt(X,G,Op(ne),he);if(ne.$$typeof===M)return Mt(X,G,Np(X,ne),he);Ip(X,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,G!==null&&G.tag===6?(u(X,G.sibling),he=b(G,ne),he.return=X,X=he):(u(X,G),he=gb(ne,X.mode,he),he.return=X,X=he),N(X)):u(X,G)}return function(X,G,ne,he){try{Tf=0;var ze=Mt(X,G,ne,he);return Ru=null,ze}catch(Re){if(Re===Iu||Re===Cp)throw Re;var yt=ri(29,Re,null,X.mode);return yt.lanes=he,yt.return=X,yt}}}var sc=MN(!0),zN=MN(!1),Eo=!1;function Pb(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ob(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function jo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ao(a,o,u){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(wt&2)!==0){var b=m.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),m.pending=o,o=Ep(a),_N(a,null,u),o}return wp(a,m,o,u),Ep(a)}function Pf(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=a.pendingLanes,u|=m,o.lanes=u,Vl(a,u)}}function Ib(a,o){var u=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var b=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};x===null?b=x=N:x=x.next=N,u=u.next}while(u!==null);x===null?b=x=o:x=x.next=o}else b=x=o;u={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var Rb=!1;function Of(){if(Rb){var a=Ou;if(a!==null)throw a}}function If(a,o,u,m){Rb=!1;var b=a.updateQueue;Eo=!1;var x=b.firstBaseUpdate,N=b.lastBaseUpdate,V=b.shared.pending;if(V!==null){b.shared.pending=null;var K=V,re=K.next;K.next=null,N===null?x=re:N.next=re,N=K;var ue=a.alternate;ue!==null&&(ue=ue.updateQueue,V=ue.lastBaseUpdate,V!==N&&(V===null?ue.firstBaseUpdate=re:V.next=re,ue.lastBaseUpdate=K))}if(x!==null){var ve=b.baseState;N=0,ue=re=K=null,V=x;do{var ae=V.lane&-536870913,le=ae!==V.lane;if(le?(at&ae)===ae:(m&ae)===ae){ae!==0&&ae===Pu&&(Rb=!0),ue!==null&&(ue=ue.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Pe=a,qe=V;ae=o;var Mt=u;switch(qe.tag){case 1:if(Pe=qe.payload,typeof Pe=="function"){ve=Pe.call(Mt,ve,ae);break e}ve=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=qe.payload,ae=typeof Pe=="function"?Pe.call(Mt,ve,ae):Pe,ae==null)break e;ve=v({},ve,ae);break e;case 2:Eo=!0}}ae=V.callback,ae!==null&&(a.flags|=64,le&&(a.flags|=8192),le=b.callbacks,le===null?b.callbacks=[ae]:le.push(ae))}else le={lane:ae,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ue===null?(re=ue=le,K=ve):ue=ue.next=le,N|=ae;if(V=V.next,V===null){if(V=b.shared.pending,V===null)break;le=V,V=le.next,le.next=null,b.lastBaseUpdate=le,b.shared.pending=null}}while(!0);ue===null&&(K=ve),b.baseState=K,b.firstBaseUpdate=re,b.lastBaseUpdate=ue,x===null&&(b.shared.lanes=0),Po|=N,a.lanes=N,a.memoizedState=ve}}function LN(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function VN(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)LN(u[a],o)}var ku=H(null),Rp=H(0);function UN(a,o){a=Es,ge(Rp,a),ge(ku,o),Es=a|o.baseLanes}function kb(){ge(Rp,Es),ge(ku,ku.current)}function Db(){Es=Rp.current,ie(ku),ie(Rp)}var ii=H(null),Ii=null;function So(a){var o=a.alternate;ge(yn,yn.current&1),ge(ii,a),Ii===null&&(o===null||ku.current!==null||o.memoizedState!==null)&&(Ii=a)}function Mb(a){ge(yn,yn.current),ge(ii,a),Ii===null&&(Ii=a)}function qN(a){a.tag===22?(ge(yn,yn.current),ge(ii,a),Ii===null&&(Ii=a)):No()}function No(){ge(yn,yn.current),ge(ii,ii.current)}function ai(a){ie(ii),Ii===a&&(Ii=null),ie(yn)}var yn=H(0);function kp(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||B_(u)||$_(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ps=0,Je=null,kt=null,Tn=null,Dp=!1,Du=!1,oc=!1,Mp=0,Rf=0,Mu=null,$U=0;function sn(){throw Error(r(321))}function zb(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!ni(a[u],o[u]))return!1;return!0}function Lb(a,o,u,m,b,x){return ps=x,Je=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,F.H=a===null||a.memoizedState===null?jT:Jb,oc=!1,x=u(m,b),oc=!1,Du&&(x=$N(o,u,m,b)),BN(a),x}function BN(a){F.H=Mf;var o=kt!==null&&kt.next!==null;if(ps=0,Tn=kt=Je=null,Dp=!1,Rf=0,Mu=null,o)throw Error(r(300));a===null||Cn||(a=a.dependencies,a!==null&&Sp(a)&&(Cn=!0))}function $N(a,o,u,m){Je=a;var b=0;do{if(Du&&(Mu=null),Rf=0,Du=!1,25<=b)throw Error(r(301));if(b+=1,Tn=kt=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}F.H=AT,x=o(u,m)}while(Du);return x}function FU(){var a=F.H,o=a.useState()[0];return o=typeof o.then=="function"?kf(o):o,a=a.useState()[0],(kt!==null?kt.memoizedState:null)!==a&&(Je.flags|=1024),o}function Vb(){var a=Mp!==0;return Mp=0,a}function Ub(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function qb(a){if(Dp){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Dp=!1}ps=0,Tn=kt=Je=null,Du=!1,Rf=Mp=0,Mu=null}function Nr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Je.memoizedState=Tn=a:Tn=Tn.next=a,Tn}function bn(){if(kt===null){var a=Je.alternate;a=a!==null?a.memoizedState:null}else a=kt.next;var o=Tn===null?Je.memoizedState:Tn.next;if(o!==null)Tn=o,kt=a;else{if(a===null)throw Je.alternate===null?Error(r(467)):Error(r(310));kt=a,a={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Tn===null?Je.memoizedState=Tn=a:Tn=Tn.next=a}return Tn}function zp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kf(a){var o=Rf;return Rf+=1,Mu===null&&(Mu=[]),a=RN(Mu,a,o),o=Je,(Tn===null?o.memoizedState:Tn.next)===null&&(o=o.alternate,F.H=o===null||o.memoizedState===null?jT:Jb),a}function Lp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return kf(a);if(a.$$typeof===M)return sr(a)}throw Error(r(438,String(a)))}function Bb(a){var o=null,u=Je.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=Je.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=zp(),Je.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),m=0;m<a;m++)u[m]=B;return o.index++,u}function vs(a,o){return typeof o=="function"?o(a):o}function Vp(a){var o=bn();return $b(o,kt,a)}function $b(a,o,u){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var b=a.baseQueue,x=m.pending;if(x!==null){if(b!==null){var N=b.next;b.next=x.next,x.next=N}o.baseQueue=b=x,m.pending=null}if(x=a.baseState,b===null)a.memoizedState=x;else{o=b.next;var V=N=null,K=null,re=o,ue=!1;do{var ve=re.lane&-536870913;if(ve!==re.lane?(at&ve)===ve:(ps&ve)===ve){var ae=re.revertLane;if(ae===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),ve===Pu&&(ue=!0);else if((ps&ae)===ae){re=re.next,ae===Pu&&(ue=!0);continue}else ve={lane:0,revertLane:re.revertLane,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},K===null?(V=K=ve,N=x):K=K.next=ve,Je.lanes|=ae,Po|=ae;ve=re.action,oc&&u(x,ve),x=re.hasEagerState?re.eagerState:u(x,ve)}else ae={lane:ve,revertLane:re.revertLane,gesture:re.gesture,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},K===null?(V=K=ae,N=x):K=K.next=ae,Je.lanes|=ve,Po|=ve;re=re.next}while(re!==null&&re!==o);if(K===null?N=x:K.next=V,!ni(x,a.memoizedState)&&(Cn=!0,ue&&(u=Ou,u!==null)))throw u;a.memoizedState=x,a.baseState=N,a.baseQueue=K,m.lastRenderedState=x}return b===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function Fb(a){var o=bn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var m=u.dispatch,b=u.pending,x=o.memoizedState;if(b!==null){u.pending=null;var N=b=b.next;do x=a(x,N.action),N=N.next;while(N!==b);ni(x,o.memoizedState)||(Cn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),u.lastRenderedState=x}return[x,m]}function FN(a,o,u){var m=Je,b=bn(),x=ft;if(x){if(u===void 0)throw Error(r(407));u=u()}else u=o();var N=!ni((kt||b).memoizedState,u);if(N&&(b.memoizedState=u,Cn=!0),b=b.queue,Gb(GN.bind(null,m,b,a),[a]),b.getSnapshot!==o||N||Tn!==null&&Tn.memoizedState.tag&1){if(m.flags|=2048,zu(9,{destroy:void 0},KN.bind(null,m,b,u,o),null),Vt===null)throw Error(r(349));x||(ps&127)!==0||HN(m,o,u)}return u}function HN(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=Je.updateQueue,o===null?(o=zp(),Je.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function KN(a,o,u,m){o.value=u,o.getSnapshot=m,WN(o)&&QN(a)}function GN(a,o,u){return u(function(){WN(o)&&QN(a)})}function WN(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!ni(a,u)}catch{return!0}}function QN(a){var o=Zl(a,2);o!==null&&Gr(o,a,2)}function Hb(a){var o=Nr();if(typeof a=="function"){var u=a;if(a=u(),oc){Vr(!0);try{u()}finally{Vr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:a},o}function YN(a,o,u,m){return a.baseState=u,$b(a,kt,typeof m=="function"?m:vs)}function HU(a,o,u,m,b){if(Bp(a))throw Error(r(485));if(a=o.action,a!==null){var x={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){x.listeners.push(N)}};F.T!==null?u(!0):x.isTransition=!1,m(x),u=o.pending,u===null?(x.next=o.pending=x,XN(o,x)):(x.next=u.next,o.pending=u.next=x)}}function XN(a,o){var u=o.action,m=o.payload,b=a.state;if(o.isTransition){var x=F.T,N={};F.T=N;try{var V=u(b,m),K=F.S;K!==null&&K(N,V),ZN(a,o,V)}catch(re){Kb(a,o,re)}finally{x!==null&&N.types!==null&&(x.types=N.types),F.T=x}}else try{x=u(b,m),ZN(a,o,x)}catch(re){Kb(a,o,re)}}function ZN(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){JN(a,o,m)},function(m){return Kb(a,o,m)}):JN(a,o,u)}function JN(a,o,u){o.status="fulfilled",o.value=u,eT(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,XN(a,u)))}function Kb(a,o,u){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,eT(o),o=o.next;while(o!==m)}a.action=null}function eT(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function tT(a,o){return o}function nT(a,o){if(ft){var u=Vt.formState;if(u!==null){e:{var m=Je;if(ft){if(Kt){t:{for(var b=Kt,x=Oi;b.nodeType!==8;){if(!x){b=null;break t}if(b=Ri(b.nextSibling),b===null){b=null;break t}}x=b.data,b=x==="F!"||x==="F"?b:null}if(b){Kt=Ri(b.nextSibling),m=b.data==="F!";break e}}xo(m)}m=!1}m&&(o=u[0])}}return u=Nr(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tT,lastRenderedState:o},u.queue=m,u=xT.bind(null,Je,m),m.dispatch=u,m=Hb(!1),x=Zb.bind(null,Je,!1,m.queue),m=Nr(),b={state:o,dispatch:null,action:a,pending:null},m.queue=b,u=HU.bind(null,Je,b,x,u),b.dispatch=u,m.memoizedState=a,[o,u,!1]}function rT(a){var o=bn();return iT(o,kt,a)}function iT(a,o,u){if(o=$b(a,o,tT)[0],a=Vp(vs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=kf(o)}catch(N){throw N===Iu?Cp:N}else m=o;o=bn();var b=o.queue,x=b.dispatch;return u!==o.memoizedState&&(Je.flags|=2048,zu(9,{destroy:void 0},KU.bind(null,b,u),null)),[m,x,a]}function KU(a,o){a.action=o}function aT(a){var o=bn(),u=kt;if(u!==null)return iT(o,u,a);bn(),o=o.memoizedState,u=bn();var m=u.queue.dispatch;return u.memoizedState=a,[o,m,!1]}function zu(a,o,u,m){return a={tag:a,create:u,deps:m,inst:o,next:null},o=Je.updateQueue,o===null&&(o=zp(),Je.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(m=u.next,u.next=a,a.next=m,o.lastEffect=a),a}function sT(){return bn().memoizedState}function Up(a,o,u,m){var b=Nr();Je.flags|=a,b.memoizedState=zu(1|o,{destroy:void 0},u,m===void 0?null:m)}function qp(a,o,u,m){var b=bn();m=m===void 0?null:m;var x=b.memoizedState.inst;kt!==null&&m!==null&&zb(m,kt.memoizedState.deps)?b.memoizedState=zu(o,x,u,m):(Je.flags|=a,b.memoizedState=zu(1|o,x,u,m))}function oT(a,o){Up(8390656,8,a,o)}function Gb(a,o){qp(2048,8,a,o)}function GU(a){Je.flags|=4;var o=Je.updateQueue;if(o===null)o=zp(),Je.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function lT(a){var o=bn().memoizedState;return GU({ref:o,nextImpl:a}),function(){if((wt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function cT(a,o){return qp(4,2,a,o)}function uT(a,o){return qp(4,4,a,o)}function dT(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function fT(a,o,u){u=u!=null?u.concat([a]):null,qp(4,4,dT.bind(null,o,a),u)}function Wb(){}function hT(a,o){var u=bn();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&zb(o,m[1])?m[0]:(u.memoizedState=[a,o],a)}function mT(a,o){var u=bn();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&zb(o,m[1]))return m[0];if(m=a(),oc){Vr(!0);try{a()}finally{Vr(!1)}}return u.memoizedState=[m,o],m}function Qb(a,o,u){return u===void 0||(ps&1073741824)!==0&&(at&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=pC(),Je.lanes|=a,Po|=a,u)}function pT(a,o,u,m){return ni(u,o)?u:ku.current!==null?(a=Qb(a,u,m),ni(a,o)||(Cn=!0),a):(ps&42)===0||(ps&1073741824)!==0&&(at&261930)===0?(Cn=!0,a.memoizedState=u):(a=pC(),Je.lanes|=a,Po|=a,o)}function vT(a,o,u,m,b){var x=J.p;J.p=x!==0&&8>x?x:8;var N=F.T,V={};F.T=V,Zb(a,!1,o,u);try{var K=b(),re=F.S;if(re!==null&&re(V,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ue=BU(K,m);Df(a,o,ue,li(a))}else Df(a,o,m,li(a))}catch(ve){Df(a,o,{then:function(){},status:"rejected",reason:ve},li())}finally{J.p=x,N!==null&&V.types!==null&&(N.types=V.types),F.T=N}}function WU(){}function Yb(a,o,u,m){if(a.tag!==5)throw Error(r(476));var b=gT(a).queue;vT(a,b,o,fe,u===null?WU:function(){return yT(a),u(m)})}function gT(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:fe},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function yT(a){var o=gT(a);o.next===null&&(o=a.alternate.memoizedState),Df(a,o.next.queue,{},li())}function Xb(){return sr(Zf)}function bT(){return bn().memoizedState}function _T(){return bn().memoizedState}function QU(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=li();a=jo(u);var m=Ao(o,a,u);m!==null&&(Gr(m,o,u),Pf(m,o,u)),o={cache:Sb()},a.payload=o;return}o=o.return}}function YU(a,o,u){var m=li();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Bp(a)?wT(o,u):(u=pb(a,o,u,m),u!==null&&(Gr(u,a,m),ET(u,o,m)))}function xT(a,o,u){var m=li();Df(a,o,u,m)}function Df(a,o,u,m){var b={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Bp(a))wT(o,b);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var N=o.lastRenderedState,V=x(N,u);if(b.hasEagerState=!0,b.eagerState=V,ni(V,N))return wp(a,o,b,0),Vt===null&&xp(),!1}catch{}if(u=pb(a,o,b,m),u!==null)return Gr(u,a,m),ET(u,o,m),!0}return!1}function Zb(a,o,u,m){if(m={lane:2,revertLane:P_(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Bp(a)){if(o)throw Error(r(479))}else o=pb(a,u,m,2),o!==null&&Gr(o,a,2)}function Bp(a){var o=a.alternate;return a===Je||o!==null&&o===Je}function wT(a,o){Du=Dp=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function ET(a,o,u){if((u&4194048)!==0){var m=o.lanes;m&=a.pendingLanes,u|=m,o.lanes=u,Vl(a,u)}}var Mf={readContext:sr,use:Lp,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useInsertionEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useSyncExternalStore:sn,useId:sn,useHostTransitionStatus:sn,useFormState:sn,useActionState:sn,useOptimistic:sn,useMemoCache:sn,useCacheRefresh:sn};Mf.useEffectEvent=sn;var jT={readContext:sr,use:Lp,useCallback:function(a,o){return Nr().memoizedState=[a,o===void 0?null:o],a},useContext:sr,useEffect:oT,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Up(4194308,4,dT.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Up(4194308,4,a,o)},useInsertionEffect:function(a,o){Up(4,2,a,o)},useMemo:function(a,o){var u=Nr();o=o===void 0?null:o;var m=a();if(oc){Vr(!0);try{a()}finally{Vr(!1)}}return u.memoizedState=[m,o],m},useReducer:function(a,o,u){var m=Nr();if(u!==void 0){var b=u(o);if(oc){Vr(!0);try{u(o)}finally{Vr(!1)}}}else b=o;return m.memoizedState=m.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},m.queue=a,a=a.dispatch=YU.bind(null,Je,a),[m.memoizedState,a]},useRef:function(a){var o=Nr();return a={current:a},o.memoizedState=a},useState:function(a){a=Hb(a);var o=a.queue,u=xT.bind(null,Je,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Wb,useDeferredValue:function(a,o){var u=Nr();return Qb(u,a,o)},useTransition:function(){var a=Hb(!1);return a=vT.bind(null,Je,a.queue,!0,!1),Nr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var m=Je,b=Nr();if(ft){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Vt===null)throw Error(r(349));(at&127)!==0||HN(m,o,u)}b.memoizedState=u;var x={value:u,getSnapshot:o};return b.queue=x,oT(GN.bind(null,m,x,a),[a]),m.flags|=2048,zu(9,{destroy:void 0},KN.bind(null,m,x,u,o),null),u},useId:function(){var a=Nr(),o=Vt.identifierPrefix;if(ft){var u=Oa,m=Pa;u=(m&~(1<<32-en(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Mp++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=$U++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:Xb,useFormState:nT,useActionState:nT,useOptimistic:function(a){var o=Nr();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Zb.bind(null,Je,!0,u),u.dispatch=o,[a,o]},useMemoCache:Bb,useCacheRefresh:function(){return Nr().memoizedState=QU.bind(null,Je)},useEffectEvent:function(a){var o=Nr(),u={impl:a};return o.memoizedState=u,function(){if((wt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Jb={readContext:sr,use:Lp,useCallback:hT,useContext:sr,useEffect:Gb,useImperativeHandle:fT,useInsertionEffect:cT,useLayoutEffect:uT,useMemo:mT,useReducer:Vp,useRef:sT,useState:function(){return Vp(vs)},useDebugValue:Wb,useDeferredValue:function(a,o){var u=bn();return pT(u,kt.memoizedState,a,o)},useTransition:function(){var a=Vp(vs)[0],o=bn().memoizedState;return[typeof a=="boolean"?a:kf(a),o]},useSyncExternalStore:FN,useId:bT,useHostTransitionStatus:Xb,useFormState:rT,useActionState:rT,useOptimistic:function(a,o){var u=bn();return YN(u,kt,a,o)},useMemoCache:Bb,useCacheRefresh:_T};Jb.useEffectEvent=lT;var AT={readContext:sr,use:Lp,useCallback:hT,useContext:sr,useEffect:Gb,useImperativeHandle:fT,useInsertionEffect:cT,useLayoutEffect:uT,useMemo:mT,useReducer:Fb,useRef:sT,useState:function(){return Fb(vs)},useDebugValue:Wb,useDeferredValue:function(a,o){var u=bn();return kt===null?Qb(u,a,o):pT(u,kt.memoizedState,a,o)},useTransition:function(){var a=Fb(vs)[0],o=bn().memoizedState;return[typeof a=="boolean"?a:kf(a),o]},useSyncExternalStore:FN,useId:bT,useHostTransitionStatus:Xb,useFormState:aT,useActionState:aT,useOptimistic:function(a,o){var u=bn();return kt!==null?YN(u,kt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Bb,useCacheRefresh:_T};AT.useEffectEvent=lT;function e_(a,o,u,m){o=a.memoizedState,u=u(m,o),u=u==null?o:v({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var t_={enqueueSetState:function(a,o,u){a=a._reactInternals;var m=li(),b=jo(m);b.payload=o,u!=null&&(b.callback=u),o=Ao(a,b,m),o!==null&&(Gr(o,a,m),Pf(o,a,m))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var m=li(),b=jo(m);b.tag=1,b.payload=o,u!=null&&(b.callback=u),o=Ao(a,b,m),o!==null&&(Gr(o,a,m),Pf(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=li(),m=jo(u);m.tag=2,o!=null&&(m.callback=o),o=Ao(a,m,u),o!==null&&(Gr(o,a,u),Pf(o,a,u))}};function ST(a,o,u,m,b,x,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,x,N):o.prototype&&o.prototype.isPureReactComponent?!wf(u,m)||!wf(b,x):!0}function NT(a,o,u,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==a&&t_.enqueueReplaceState(o,o.state,null)}function lc(a,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(a=a.defaultProps){u===o&&(u=v({},u));for(var b in a)u[b]===void 0&&(u[b]=a[b])}return u}function TT(a){_p(a)}function CT(a){console.error(a)}function PT(a){_p(a)}function $p(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function OT(a,o,u){try{var m=a.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function n_(a,o,u){return u=jo(u),u.tag=3,u.payload={element:null},u.callback=function(){$p(a,o)},u}function IT(a){return a=jo(a),a.tag=3,a}function RT(a,o,u,m){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var x=m.value;a.payload=function(){return b(x)},a.callback=function(){OT(o,u,m)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){OT(o,u,m),typeof b!="function"&&(Oo===null?Oo=new Set([this]):Oo.add(this));var V=m.stack;this.componentDidCatch(m.value,{componentStack:V!==null?V:""})})}function XU(a,o,u,m,b){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&Cu(o,u,b,!0),u=ii.current,u!==null){switch(u.tag){case 31:case 13:return Ii===null?tv():u.alternate===null&&on===0&&(on=3),u.flags&=-257,u.flags|=65536,u.lanes=b,m===Pp?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),N_(a,m,b)),!1;case 22:return u.flags|=65536,m===Pp?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),N_(a,m,b)),!1}throw Error(r(435,u.tag))}return N_(a,m,b),tv(),!1}if(ft)return o=ii.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,m!==xb&&(a=Error(r(422),{cause:m}),Af(Ti(a,u)))):(m!==xb&&(o=Error(r(423),{cause:m}),Af(Ti(o,u))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,m=Ti(m,u),b=n_(a.stateNode,m,b),Ib(a,b),on!==4&&(on=2)),!1;var x=Error(r(520),{cause:m});if(x=Ti(x,u),Ff===null?Ff=[x]:Ff.push(x),on!==4&&(on=2),o===null)return!0;m=Ti(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=b&-b,u.lanes|=a,a=n_(u.stateNode,m,a),Ib(u,a),!1;case 1:if(o=u.type,x=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Oo===null||!Oo.has(x))))return u.flags|=65536,b&=-b,u.lanes|=b,b=IT(b),RT(b,a,u,m),Ib(u,b),!1}u=u.return}while(u!==null);return!1}var r_=Error(r(461)),Cn=!1;function or(a,o,u,m){o.child=a===null?zN(o,null,u,m):sc(o,a.child,u,m)}function kT(a,o,u,m,b){u=u.render;var x=o.ref;if("ref"in m){var N={};for(var V in m)V!=="ref"&&(N[V]=m[V])}else N=m;return nc(o),m=Lb(a,o,u,N,x,b),V=Vb(),a!==null&&!Cn?(Ub(a,o,b),gs(a,o,b)):(ft&&V&&bb(o),o.flags|=1,or(a,o,m,b),o.child)}function DT(a,o,u,m,b){if(a===null){var x=u.type;return typeof x=="function"&&!vb(x)&&x.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=x,MT(a,o,x,m,b)):(a=jp(u.type,null,m,o,o.mode,b),a.ref=o.ref,a.return=o,o.child=a)}if(x=a.child,!d_(a,b)){var N=x.memoizedProps;if(u=u.compare,u=u!==null?u:wf,u(N,m)&&a.ref===o.ref)return gs(a,o,b)}return o.flags|=1,a=ds(x,m),a.ref=o.ref,a.return=o,o.child=a}function MT(a,o,u,m,b){if(a!==null){var x=a.memoizedProps;if(wf(x,m)&&a.ref===o.ref)if(Cn=!1,o.pendingProps=m=x,d_(a,b))(a.flags&131072)!==0&&(Cn=!0);else return o.lanes=a.lanes,gs(a,o,b)}return i_(a,o,u,m,b)}function zT(a,o,u,m){var b=m.children,x=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|u:u,a!==null){for(m=o.child=a.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;m=b&~x}else m=0,o.child=null;return LT(a,o,x,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Tp(o,x!==null?x.cachePool:null),x!==null?UN(o,x):kb(),qN(o);else return m=o.lanes=536870912,LT(a,o,x!==null?x.baseLanes|u:u,u,m)}else x!==null?(Tp(o,x.cachePool),UN(o,x),No(),o.memoizedState=null):(a!==null&&Tp(o,null),kb(),No());return or(a,o,b,u),o.child}function zf(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function LT(a,o,u,m,b){var x=Tb();return x=x===null?null:{parent:Nn._currentValue,pool:x},o.memoizedState={baseLanes:u,cachePool:x},a!==null&&Tp(o,null),kb(),qN(o),a!==null&&Cu(a,o,m,!0),o.childLanes=b,null}function Fp(a,o){return o=Kp({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function VT(a,o,u){return sc(o,a.child,null,u),a=Fp(o,o.pendingProps),a.flags|=2,ai(o),o.memoizedState=null,a}function ZU(a,o,u){var m=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(ft){if(m.mode==="hidden")return a=Fp(o,m),o.lanes=536870912,zf(null,a);if(Mb(o),(a=Kt)?(a=XC(a,Oi),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:bo!==null?{id:Pa,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},u=wN(a),u.return=o,o.child=u,ar=o,Kt=null)):a=null,a===null)throw xo(o);return o.lanes=536870912,null}return Fp(o,m)}var x=a.memoizedState;if(x!==null){var N=x.dehydrated;if(Mb(o),b)if(o.flags&256)o.flags&=-257,o=VT(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Cn||Cu(a,o,u,!1),b=(u&a.childLanes)!==0,Cn||b){if(m=Vt,m!==null&&(N=rf(m,u),N!==0&&N!==x.retryLane))throw x.retryLane=N,Zl(a,N),Gr(m,a,N),r_;tv(),o=VT(a,o,u)}else a=x.treeContext,Kt=Ri(N.nextSibling),ar=o,ft=!0,_o=null,Oi=!1,a!==null&&AN(o,a),o=Fp(o,m),o.flags|=4096;return o}return a=ds(a.child,{mode:m.mode,children:m.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Hp(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function i_(a,o,u,m,b){return nc(o),u=Lb(a,o,u,m,void 0,b),m=Vb(),a!==null&&!Cn?(Ub(a,o,b),gs(a,o,b)):(ft&&m&&bb(o),o.flags|=1,or(a,o,u,b),o.child)}function UT(a,o,u,m,b,x){return nc(o),o.updateQueue=null,u=$N(o,m,u,b),BN(a),m=Vb(),a!==null&&!Cn?(Ub(a,o,x),gs(a,o,x)):(ft&&m&&bb(o),o.flags|=1,or(a,o,u,x),o.child)}function qT(a,o,u,m,b){if(nc(o),o.stateNode===null){var x=Au,N=u.contextType;typeof N=="object"&&N!==null&&(x=sr(N)),x=new u(m,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=t_,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=m,x.state=o.memoizedState,x.refs={},Pb(o),N=u.contextType,x.context=typeof N=="object"&&N!==null?sr(N):Au,x.state=o.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(e_(o,u,N,m),x.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(N=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),N!==x.state&&t_.enqueueReplaceState(x,x.state,null),If(o,m,x,b),Of(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){x=o.stateNode;var V=o.memoizedProps,K=lc(u,V);x.props=K;var re=x.context,ue=u.contextType;N=Au,typeof ue=="object"&&ue!==null&&(N=sr(ue));var ve=u.getDerivedStateFromProps;ue=typeof ve=="function"||typeof x.getSnapshotBeforeUpdate=="function",V=o.pendingProps!==V,ue||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(V||re!==N)&&NT(o,x,m,N),Eo=!1;var ae=o.memoizedState;x.state=ae,If(o,m,x,b),Of(),re=o.memoizedState,V||ae!==re||Eo?(typeof ve=="function"&&(e_(o,u,ve,m),re=o.memoizedState),(K=Eo||ST(o,u,K,m,ae,re,N))?(ue||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=re),x.props=m,x.state=re,x.context=N,m=K):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{x=o.stateNode,Ob(a,o),N=o.memoizedProps,ue=lc(u,N),x.props=ue,ve=o.pendingProps,ae=x.context,re=u.contextType,K=Au,typeof re=="object"&&re!==null&&(K=sr(re)),V=u.getDerivedStateFromProps,(re=typeof V=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(N!==ve||ae!==K)&&NT(o,x,m,K),Eo=!1,ae=o.memoizedState,x.state=ae,If(o,m,x,b),Of();var le=o.memoizedState;N!==ve||ae!==le||Eo||a!==null&&a.dependencies!==null&&Sp(a.dependencies)?(typeof V=="function"&&(e_(o,u,V,m),le=o.memoizedState),(ue=Eo||ST(o,u,ue,m,ae,le,K)||a!==null&&a.dependencies!==null&&Sp(a.dependencies))?(re||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,le,K),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,le,K)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=le),x.props=m,x.state=le,x.context=K,m=ue):(typeof x.componentDidUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(o.flags|=1024),m=!1)}return x=m,Hp(a,o),m=(o.flags&128)!==0,x||m?(x=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,a!==null&&m?(o.child=sc(o,a.child,null,b),o.child=sc(o,null,u,b)):or(a,o,u,b),o.memoizedState=x.state,a=o.child):a=gs(a,o,b),a}function BT(a,o,u,m){return ec(),o.flags|=256,or(a,o,u,m),o.child}var a_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function s_(a){return{baseLanes:a,cachePool:ON()}}function o_(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=oi),a}function $T(a,o,u){var m=o.pendingProps,b=!1,x=(o.flags&128)!==0,N;if((N=x)||(N=a!==null&&a.memoizedState===null?!1:(yn.current&2)!==0),N&&(b=!0,o.flags&=-129),N=(o.flags&32)!==0,o.flags&=-33,a===null){if(ft){if(b?So(o):No(),(a=Kt)?(a=XC(a,Oi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:bo!==null?{id:Pa,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},u=wN(a),u.return=o,o.child=u,ar=o,Kt=null)):a=null,a===null)throw xo(o);return $_(a)?o.lanes=32:o.lanes=536870912,null}var V=m.children;return m=m.fallback,b?(No(),b=o.mode,V=Kp({mode:"hidden",children:V},b),m=Jl(m,b,u,null),V.return=o,m.return=o,V.sibling=m,o.child=V,m=o.child,m.memoizedState=s_(u),m.childLanes=o_(a,N,u),o.memoizedState=a_,zf(null,m)):(So(o),l_(o,V))}var K=a.memoizedState;if(K!==null&&(V=K.dehydrated,V!==null)){if(x)o.flags&256?(So(o),o.flags&=-257,o=c_(a,o,u)):o.memoizedState!==null?(No(),o.child=a.child,o.flags|=128,o=null):(No(),V=m.fallback,b=o.mode,m=Kp({mode:"visible",children:m.children},b),V=Jl(V,b,u,null),V.flags|=2,m.return=o,V.return=o,m.sibling=V,o.child=m,sc(o,a.child,null,u),m=o.child,m.memoizedState=s_(u),m.childLanes=o_(a,N,u),o.memoizedState=a_,o=zf(null,m));else if(So(o),$_(V)){if(N=V.nextSibling&&V.nextSibling.dataset,N)var re=N.dgst;N=re,m=Error(r(419)),m.stack="",m.digest=N,Af({value:m,source:null,stack:null}),o=c_(a,o,u)}else if(Cn||Cu(a,o,u,!1),N=(u&a.childLanes)!==0,Cn||N){if(N=Vt,N!==null&&(m=rf(N,u),m!==0&&m!==K.retryLane))throw K.retryLane=m,Zl(a,m),Gr(N,a,m),r_;B_(V)||tv(),o=c_(a,o,u)}else B_(V)?(o.flags|=192,o.child=a.child,o=null):(a=K.treeContext,Kt=Ri(V.nextSibling),ar=o,ft=!0,_o=null,Oi=!1,a!==null&&AN(o,a),o=l_(o,m.children),o.flags|=4096);return o}return b?(No(),V=m.fallback,b=o.mode,K=a.child,re=K.sibling,m=ds(K,{mode:"hidden",children:m.children}),m.subtreeFlags=K.subtreeFlags&65011712,re!==null?V=ds(re,V):(V=Jl(V,b,u,null),V.flags|=2),V.return=o,m.return=o,m.sibling=V,o.child=m,zf(null,m),m=o.child,V=a.child.memoizedState,V===null?V=s_(u):(b=V.cachePool,b!==null?(K=Nn._currentValue,b=b.parent!==K?{parent:K,pool:K}:b):b=ON(),V={baseLanes:V.baseLanes|u,cachePool:b}),m.memoizedState=V,m.childLanes=o_(a,N,u),o.memoizedState=a_,zf(a.child,m)):(So(o),u=a.child,a=u.sibling,u=ds(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,a!==null&&(N=o.deletions,N===null?(o.deletions=[a],o.flags|=16):N.push(a)),o.child=u,o.memoizedState=null,u)}function l_(a,o){return o=Kp({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Kp(a,o){return a=ri(22,a,null,o),a.lanes=0,a}function c_(a,o,u){return sc(o,a.child,null,u),a=l_(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function FT(a,o,u){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),jb(a.return,o,u)}function u_(a,o,u,m,b,x){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:b,treeForkCount:x}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=u,N.tailMode=b,N.treeForkCount=x)}function HT(a,o,u){var m=o.pendingProps,b=m.revealOrder,x=m.tail;m=m.children;var N=yn.current,V=(N&2)!==0;if(V?(N=N&1|2,o.flags|=128):N&=1,ge(yn,N),or(a,o,m,u),m=ft?jf:0,!V&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&FT(a,u,o);else if(a.tag===19)FT(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(b){case"forwards":for(u=o.child,b=null;u!==null;)a=u.alternate,a!==null&&kp(a)===null&&(b=u),u=u.sibling;u=b,u===null?(b=o.child,o.child=null):(b=u.sibling,u.sibling=null),u_(o,!1,b,u,x,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,b=o.child,o.child=null;b!==null;){if(a=b.alternate,a!==null&&kp(a)===null){o.child=b;break}a=b.sibling,b.sibling=u,u=b,b=a}u_(o,!0,u,null,x,m);break;case"together":u_(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function gs(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Po|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(Cu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=ds(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=ds(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function d_(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Sp(a)))}function JU(a,o,u){switch(o.tag){case 3:Le(o,o.stateNode.containerInfo),wo(o,Nn,a.memoizedState.cache),ec();break;case 27:case 5:Se(o);break;case 4:Le(o,o.stateNode.containerInfo);break;case 10:wo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Mb(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(So(o),o.flags|=128,null):(u&o.child.childLanes)!==0?$T(a,o,u):(So(o),a=gs(a,o,u),a!==null?a.sibling:null);So(o);break;case 19:var b=(a.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(Cu(a,o,u,!1),m=(u&o.childLanes)!==0),b){if(m)return HT(a,o,u);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ge(yn,yn.current),m)break;return null;case 22:return o.lanes=0,zT(a,o,u,o.pendingProps);case 24:wo(o,Nn,a.memoizedState.cache)}return gs(a,o,u)}function KT(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)Cn=!0;else{if(!d_(a,u)&&(o.flags&128)===0)return Cn=!1,JU(a,o,u);Cn=(a.flags&131072)!==0}else Cn=!1,ft&&(o.flags&1048576)!==0&&jN(o,jf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(a=ic(o.elementType),o.type=a,typeof a=="function")vb(a)?(m=lc(a,m),o.tag=1,o=qT(null,o,a,m,u)):(o.tag=0,o=i_(null,o,a,m,u));else{if(a!=null){var b=a.$$typeof;if(b===R){o.tag=11,o=kT(null,o,a,m,u);break e}else if(b===O){o.tag=14,o=DT(null,o,a,m,u);break e}}throw o=pe(a)||a,Error(r(306,o,""))}}return o;case 0:return i_(a,o,o.type,o.pendingProps,u);case 1:return m=o.type,b=lc(m,o.pendingProps),qT(a,o,m,b,u);case 3:e:{if(Le(o,o.stateNode.containerInfo),a===null)throw Error(r(387));m=o.pendingProps;var x=o.memoizedState;b=x.element,Ob(a,o),If(o,m,null,u);var N=o.memoizedState;if(m=N.cache,wo(o,Nn,m),m!==x.cache&&Ab(o,[Nn],u,!0),Of(),m=N.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:N.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=BT(a,o,m,u);break e}else if(m!==b){b=Ti(Error(r(424)),o),Af(b),o=BT(a,o,m,u);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Kt=Ri(a.firstChild),ar=o,ft=!0,_o=null,Oi=!0,u=zN(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ec(),m===b){o=gs(a,o,u);break e}or(a,o,m,u)}o=o.child}return o;case 26:return Hp(a,o),a===null?(u=r2(o.type,null,o.pendingProps,null))?o.memoizedState=u:ft||(u=o.type,a=o.pendingProps,m=lv(W.current).createElement(u),m[jn]=o,m[Hn]=a,lr(m,u,a),An(m),o.stateNode=m):o.memoizedState=r2(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Se(o),a===null&&ft&&(m=o.stateNode=e2(o.type,o.pendingProps,W.current),ar=o,Oi=!0,b=Kt,Do(o.type)?(F_=b,Kt=Ri(m.firstChild)):Kt=b),or(a,o,o.pendingProps.children,u),Hp(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&ft&&((b=m=Kt)&&(m=Cq(m,o.type,o.pendingProps,Oi),m!==null?(o.stateNode=m,ar=o,Kt=Ri(m.firstChild),Oi=!1,b=!0):b=!1),b||xo(o)),Se(o),b=o.type,x=o.pendingProps,N=a!==null?a.memoizedProps:null,m=x.children,V_(b,x)?m=null:N!==null&&V_(b,N)&&(o.flags|=32),o.memoizedState!==null&&(b=Lb(a,o,FU,null,null,u),Zf._currentValue=b),Hp(a,o),or(a,o,m,u),o.child;case 6:return a===null&&ft&&((a=u=Kt)&&(u=Pq(u,o.pendingProps,Oi),u!==null?(o.stateNode=u,ar=o,Kt=null,a=!0):a=!1),a||xo(o)),null;case 13:return $T(a,o,u);case 4:return Le(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=sc(o,null,m,u):or(a,o,m,u),o.child;case 11:return kT(a,o,o.type,o.pendingProps,u);case 7:return or(a,o,o.pendingProps,u),o.child;case 8:return or(a,o,o.pendingProps.children,u),o.child;case 12:return or(a,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,wo(o,o.type,m.value),or(a,o,m.children,u),o.child;case 9:return b=o.type._context,m=o.pendingProps.children,nc(o),b=sr(b),m=m(b),o.flags|=1,or(a,o,m,u),o.child;case 14:return DT(a,o,o.type,o.pendingProps,u);case 15:return MT(a,o,o.type,o.pendingProps,u);case 19:return HT(a,o,u);case 31:return ZU(a,o,u);case 22:return zT(a,o,u,o.pendingProps);case 24:return nc(o),m=sr(Nn),a===null?(b=Tb(),b===null&&(b=Vt,x=Sb(),b.pooledCache=x,x.refCount++,x!==null&&(b.pooledCacheLanes|=u),b=x),o.memoizedState={parent:m,cache:b},Pb(o),wo(o,Nn,b)):((a.lanes&u)!==0&&(Ob(a,o),If(o,null,null,u),Of()),b=a.memoizedState,x=o.memoizedState,b.parent!==m?(b={parent:m,cache:m},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),wo(o,Nn,m)):(m=x.cache,wo(o,Nn,m),m!==b.cache&&Ab(o,[Nn],u,!0))),or(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ys(a){a.flags|=4}function f_(a,o,u,m,b){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(b&335544128)===b)if(a.stateNode.complete)a.flags|=8192;else if(bC())a.flags|=8192;else throw ac=Pp,Cb}else a.flags&=-16777217}function GT(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!l2(o))if(bC())a.flags|=8192;else throw ac=Pp,Cb}function Gp(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Ve():536870912,a.lanes|=o,qu|=o)}function Lf(a,o){if(!ft)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Gt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,m=0;if(o)for(var b=a.child;b!==null;)u|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)u|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=m,a.childLanes=u,o}function eq(a,o,u){var m=o.pendingProps;switch(_b(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(o),null;case 1:return Gt(o),null;case 3:return u=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),ms(Nn),se(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Tu(o)?ys(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,wb())),Gt(o),null;case 26:var b=o.type,x=o.memoizedState;return a===null?(ys(o),x!==null?(Gt(o),GT(o,x)):(Gt(o),f_(o,b,null,m,u))):x?x!==a.memoizedState?(ys(o),Gt(o),GT(o,x)):(Gt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==m&&ys(o),Gt(o),f_(o,b,a,m,u)),null;case 27:if(Q(o),u=W.current,b=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&ys(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Gt(o),null}a=xe.current,Tu(o)?SN(o):(a=e2(b,m,u),o.stateNode=a,ys(o))}return Gt(o),null;case 5:if(Q(o),b=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&ys(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Gt(o),null}if(x=xe.current,Tu(o))SN(o);else{var N=lv(W.current);switch(x){case 1:x=N.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:x=N.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":x=N.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":x=N.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":x=N.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof m.is=="string"?N.createElement("select",{is:m.is}):N.createElement("select"),m.multiple?x.multiple=!0:m.size&&(x.size=m.size);break;default:x=typeof m.is=="string"?N.createElement(b,{is:m.is}):N.createElement(b)}}x[jn]=o,x[Hn]=m;e:for(N=o.child;N!==null;){if(N.tag===5||N.tag===6)x.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===o)break e;for(;N.sibling===null;){if(N.return===null||N.return===o)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}o.stateNode=x;e:switch(lr(x,b,m),b){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ys(o)}}return Gt(o),f_(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&ys(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(a=W.current,Tu(o)){if(a=o.stateNode,u=o.memoizedProps,m=null,b=ar,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}a[jn]=o,a=!!(a.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||$C(a.nodeValue,u)),a||xo(o,!0)}else a=lv(a).createTextNode(m),a[jn]=o,o.stateNode=a}return Gt(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(m=Tu(o),u!==null){if(a===null){if(!m)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[jn]=o}else ec(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),a=!1}else u=wb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(ai(o),o):(ai(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Gt(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=Tu(o),m!==null&&m.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[jn]=o}else ec(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),b=!1}else b=wb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(ai(o),o):(ai(o),null)}return ai(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,a=a!==null&&a.memoizedState!==null,u&&(m=o.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==b&&(m.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),Gp(o,o.updateQueue),Gt(o),null);case 4:return se(),a===null&&k_(o.stateNode.containerInfo),Gt(o),null;case 10:return ms(o.type),Gt(o),null;case 19:if(ie(yn),m=o.memoizedState,m===null)return Gt(o),null;if(b=(o.flags&128)!==0,x=m.rendering,x===null)if(b)Lf(m,!1);else{if(on!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(x=kp(a),x!==null){for(o.flags|=128,Lf(m,!1),a=x.updateQueue,o.updateQueue=a,Gp(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)xN(u,a),u=u.sibling;return ge(yn,yn.current&1|2),ft&&fs(o,m.treeForkCount),o.child}a=a.sibling}m.tail!==null&&Ue()>Zp&&(o.flags|=128,b=!0,Lf(m,!1),o.lanes=4194304)}else{if(!b)if(a=kp(x),a!==null){if(o.flags|=128,b=!0,a=a.updateQueue,o.updateQueue=a,Gp(o,a),Lf(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!ft)return Gt(o),null}else 2*Ue()-m.renderingStartTime>Zp&&u!==536870912&&(o.flags|=128,b=!0,Lf(m,!1),o.lanes=4194304);m.isBackwards?(x.sibling=o.child,o.child=x):(a=m.last,a!==null?a.sibling=x:o.child=x,m.last=x)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Ue(),a.sibling=null,u=yn.current,ge(yn,b?u&1|2:u&1),ft&&fs(o,m.treeForkCount),a):(Gt(o),null);case 22:case 23:return ai(o),Db(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(Gt(o),o.subtreeFlags&6&&(o.flags|=8192)):Gt(o),u=o.updateQueue,u!==null&&Gp(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),a!==null&&ie(rc),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),ms(Nn),Gt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function tq(a,o){switch(_b(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return ms(Nn),se(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Q(o),null;case 31:if(o.memoizedState!==null){if(ai(o),o.alternate===null)throw Error(r(340));ec()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(ai(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));ec()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ie(yn),null;case 4:return se(),null;case 10:return ms(o.type),null;case 22:case 23:return ai(o),Db(),a!==null&&ie(rc),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return ms(Nn),null;case 25:return null;default:return null}}function WT(a,o){switch(_b(o),o.tag){case 3:ms(Nn),se();break;case 26:case 27:case 5:Q(o);break;case 4:se();break;case 31:o.memoizedState!==null&&ai(o);break;case 13:ai(o);break;case 19:ie(yn);break;case 10:ms(o.type);break;case 22:case 23:ai(o),Db(),a!==null&&ie(rc);break;case 24:ms(Nn)}}function Vf(a,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var b=m.next;u=b;do{if((u.tag&a)===a){m=void 0;var x=u.create,N=u.inst;m=x(),N.destroy=m}u=u.next}while(u!==b)}}catch(V){Ct(o,o.return,V)}}function To(a,o,u){try{var m=o.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var x=b.next;m=x;do{if((m.tag&a)===a){var N=m.inst,V=N.destroy;if(V!==void 0){N.destroy=void 0,b=o;var K=u,re=V;try{re()}catch(ue){Ct(b,K,ue)}}}m=m.next}while(m!==x)}}catch(ue){Ct(o,o.return,ue)}}function QT(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{VN(o,u)}catch(m){Ct(a,a.return,m)}}}function YT(a,o,u){u.props=lc(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(m){Ct(a,o,m)}}function Uf(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof u=="function"?a.refCleanup=u(m):u.current=m}}catch(b){Ct(a,o,b)}}function Ia(a,o){var u=a.ref,m=a.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(b){Ct(a,o,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){Ct(a,o,b)}else u.current=null}function XT(a){var o=a.type,u=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(b){Ct(a,a.return,b)}}function h_(a,o,u){try{var m=a.stateNode;Eq(m,a.type,u,o),m[Hn]=o}catch(b){Ct(a,a.return,b)}}function ZT(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Do(a.type)||a.tag===4}function m_(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||ZT(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Do(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function p_(a,o,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Yi));else if(m!==4&&(m===27&&Do(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(p_(a,o,u),a=a.sibling;a!==null;)p_(a,o,u),a=a.sibling}function Wp(a,o,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(m!==4&&(m===27&&Do(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Wp(a,o,u),a=a.sibling;a!==null;)Wp(a,o,u),a=a.sibling}function JT(a){var o=a.stateNode,u=a.memoizedProps;try{for(var m=a.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);lr(o,m,u),o[jn]=a,o[Hn]=u}catch(x){Ct(a,a.return,x)}}var bs=!1,Pn=!1,v_=!1,eC=typeof WeakSet=="function"?WeakSet:Set,Gn=null;function nq(a,o){if(a=a.containerInfo,z_=pv,a=fN(a),cb(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var b=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var N=0,V=-1,K=-1,re=0,ue=0,ve=a,ae=null;t:for(;;){for(var le;ve!==u||b!==0&&ve.nodeType!==3||(V=N+b),ve!==x||m!==0&&ve.nodeType!==3||(K=N+m),ve.nodeType===3&&(N+=ve.nodeValue.length),(le=ve.firstChild)!==null;)ae=ve,ve=le;for(;;){if(ve===a)break t;if(ae===u&&++re===b&&(V=N),ae===x&&++ue===m&&(K=N),(le=ve.nextSibling)!==null)break;ve=ae,ae=ve.parentNode}ve=le}u=V===-1||K===-1?null:{start:V,end:K}}else u=null}u=u||{start:0,end:0}}else u=null;for(L_={focusedElem:a,selectionRange:u},pv=!1,Gn=o;Gn!==null;)if(o=Gn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Gn=a;else for(;Gn!==null;){switch(o=Gn,x=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)b=a[u],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,u=o,b=x.memoizedProps,x=x.memoizedState,m=u.stateNode;try{var Pe=lc(u.type,b);a=m.getSnapshotBeforeUpdate(Pe,x),m.__reactInternalSnapshotBeforeUpdate=a}catch(qe){Ct(u,u.return,qe)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)q_(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":q_(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Gn=a;break}Gn=o.return}}function tC(a,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:xs(a,u),m&4&&Vf(5,u);break;case 1:if(xs(a,u),m&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(N){Ct(u,u.return,N)}else{var b=lc(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(b,o,a.__reactInternalSnapshotBeforeUpdate)}catch(N){Ct(u,u.return,N)}}m&64&&QT(u),m&512&&Uf(u,u.return);break;case 3:if(xs(a,u),m&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{VN(a,o)}catch(N){Ct(u,u.return,N)}}break;case 27:o===null&&m&4&&JT(u);case 26:case 5:xs(a,u),o===null&&m&4&&XT(u),m&512&&Uf(u,u.return);break;case 12:xs(a,u);break;case 31:xs(a,u),m&4&&iC(a,u);break;case 13:xs(a,u),m&4&&aC(a,u),m&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=dq.bind(null,u),Oq(a,u))));break;case 22:if(m=u.memoizedState!==null||bs,!m){o=o!==null&&o.memoizedState!==null||Pn,b=bs;var x=Pn;bs=m,(Pn=o)&&!x?ws(a,u,(u.subtreeFlags&8772)!==0):xs(a,u),bs=b,Pn=x}break;case 30:break;default:xs(a,u)}}function nC(a){var o=a.alternate;o!==null&&(a.alternate=null,nC(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&du(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Yt=null,$r=!1;function _s(a,o,u){for(u=u.child;u!==null;)rC(a,o,u),u=u.sibling}function rC(a,o,u){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(rn,u)}catch{}switch(u.tag){case 26:Pn||Ia(u,o),_s(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Pn||Ia(u,o);var m=Yt,b=$r;Do(u.type)&&(Yt=u.stateNode,$r=!1),_s(a,o,u),Qf(u.stateNode),Yt=m,$r=b;break;case 5:Pn||Ia(u,o);case 6:if(m=Yt,b=$r,Yt=null,_s(a,o,u),Yt=m,$r=b,Yt!==null)if($r)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(u.stateNode)}catch(x){Ct(u,o,x)}else try{Yt.removeChild(u.stateNode)}catch(x){Ct(u,o,x)}break;case 18:Yt!==null&&($r?(a=Yt,QC(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Qu(a)):QC(Yt,u.stateNode));break;case 4:m=Yt,b=$r,Yt=u.stateNode.containerInfo,$r=!0,_s(a,o,u),Yt=m,$r=b;break;case 0:case 11:case 14:case 15:To(2,u,o),Pn||To(4,u,o),_s(a,o,u);break;case 1:Pn||(Ia(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&YT(u,o,m)),_s(a,o,u);break;case 21:_s(a,o,u);break;case 22:Pn=(m=Pn)||u.memoizedState!==null,_s(a,o,u),Pn=m;break;default:_s(a,o,u)}}function iC(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Qu(a)}catch(u){Ct(o,o.return,u)}}}function aC(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Qu(a)}catch(u){Ct(o,o.return,u)}}function rq(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new eC),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new eC),o;default:throw Error(r(435,a.tag))}}function Qp(a,o){var u=rq(a);o.forEach(function(m){if(!u.has(m)){u.add(m);var b=fq.bind(null,a,m);m.then(b,b)}})}function Fr(a,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var b=u[m],x=a,N=o,V=N;e:for(;V!==null;){switch(V.tag){case 27:if(Do(V.type)){Yt=V.stateNode,$r=!1;break e}break;case 5:Yt=V.stateNode,$r=!1;break e;case 3:case 4:Yt=V.stateNode.containerInfo,$r=!0;break e}V=V.return}if(Yt===null)throw Error(r(160));rC(x,N,b),Yt=null,$r=!1,x=b.alternate,x!==null&&(x.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)sC(o,a),o=o.sibling}var na=null;function sC(a,o){var u=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Fr(o,a),Hr(a),m&4&&(To(3,a,a.return),Vf(3,a),To(5,a,a.return));break;case 1:Fr(o,a),Hr(a),m&512&&(Pn||u===null||Ia(u,u.return)),m&64&&bs&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var b=na;if(Fr(o,a),Hr(a),m&512&&(Pn||u===null||Ia(u,u.return)),m&4){var x=u!==null?u.memoizedState:null;if(m=a.memoizedState,u===null)if(m===null)if(a.stateNode===null){e:{m=a.type,u=a.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":x=b.getElementsByTagName("title")[0],(!x||x[ya]||x[jn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=b.createElement(m),b.head.insertBefore(x,b.querySelector("head > title"))),lr(x,m,u),x[jn]=a,An(x),m=x;break e;case"link":var N=s2("link","href",b).get(m+(u.href||""));if(N){for(var V=0;V<N.length;V++)if(x=N[V],x.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&x.getAttribute("rel")===(u.rel==null?null:u.rel)&&x.getAttribute("title")===(u.title==null?null:u.title)&&x.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(V,1);break t}}x=b.createElement(m),lr(x,m,u),b.head.appendChild(x);break;case"meta":if(N=s2("meta","content",b).get(m+(u.content||""))){for(V=0;V<N.length;V++)if(x=N[V],x.getAttribute("content")===(u.content==null?null:""+u.content)&&x.getAttribute("name")===(u.name==null?null:u.name)&&x.getAttribute("property")===(u.property==null?null:u.property)&&x.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&x.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(V,1);break t}}x=b.createElement(m),lr(x,m,u),b.head.appendChild(x);break;default:throw Error(r(468,m))}x[jn]=a,An(x),m=x}a.stateNode=m}else o2(b,a.type,a.stateNode);else a.stateNode=a2(b,m,a.memoizedProps);else x!==m?(x===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):x.count--,m===null?o2(b,a.type,a.stateNode):a2(b,m,a.memoizedProps)):m===null&&a.stateNode!==null&&h_(a,a.memoizedProps,u.memoizedProps)}break;case 27:Fr(o,a),Hr(a),m&512&&(Pn||u===null||Ia(u,u.return)),u!==null&&m&4&&h_(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Fr(o,a),Hr(a),m&512&&(Pn||u===null||Ia(u,u.return)),a.flags&32){b=a.stateNode;try{Br(b,"")}catch(Pe){Ct(a,a.return,Pe)}}m&4&&a.stateNode!=null&&(b=a.memoizedProps,h_(a,b,u!==null?u.memoizedProps:b)),m&1024&&(v_=!0);break;case 6:if(Fr(o,a),Hr(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,u=a.stateNode;try{u.nodeValue=m}catch(Pe){Ct(a,a.return,Pe)}}break;case 3:if(dv=null,b=na,na=cv(o.containerInfo),Fr(o,a),na=b,Hr(a),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Qu(o.containerInfo)}catch(Pe){Ct(a,a.return,Pe)}v_&&(v_=!1,oC(a));break;case 4:m=na,na=cv(a.stateNode.containerInfo),Fr(o,a),Hr(a),na=m;break;case 12:Fr(o,a),Hr(a);break;case 31:Fr(o,a),Hr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Qp(a,m)));break;case 13:Fr(o,a),Hr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Xp=Ue()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Qp(a,m)));break;case 22:b=a.memoizedState!==null;var K=u!==null&&u.memoizedState!==null,re=bs,ue=Pn;if(bs=re||b,Pn=ue||K,Fr(o,a),Pn=ue,bs=re,Hr(a),m&8192)e:for(o=a.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(u===null||K||bs||Pn||cc(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){K=u=o;try{if(x=K.stateNode,b)N=x.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{V=K.stateNode;var ve=K.memoizedProps.style,ae=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;V.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Pe){Ct(K,K.return,Pe)}}}else if(o.tag===6){if(u===null){K=o;try{K.stateNode.nodeValue=b?"":K.memoizedProps}catch(Pe){Ct(K,K.return,Pe)}}}else if(o.tag===18){if(u===null){K=o;try{var le=K.stateNode;b?YC(le,!0):YC(K.stateNode,!1)}catch(Pe){Ct(K,K.return,Pe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Qp(a,u))));break;case 19:Fr(o,a),Hr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Qp(a,m)));break;case 30:break;case 21:break;default:Fr(o,a),Hr(a)}}function Hr(a){var o=a.flags;if(o&2){try{for(var u,m=a.return;m!==null;){if(ZT(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var b=u.stateNode,x=m_(a);Wp(a,x,b);break;case 5:var N=u.stateNode;u.flags&32&&(Br(N,""),u.flags&=-33);var V=m_(a);Wp(a,V,N);break;case 3:case 4:var K=u.stateNode.containerInfo,re=m_(a);p_(a,re,K);break;default:throw Error(r(161))}}catch(ue){Ct(a,a.return,ue)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function oC(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;oC(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function xs(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)tC(a,o.alternate,o),o=o.sibling}function cc(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:To(4,o,o.return),cc(o);break;case 1:Ia(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&YT(o,o.return,u),cc(o);break;case 27:Qf(o.stateNode);case 26:case 5:Ia(o,o.return),cc(o);break;case 22:o.memoizedState===null&&cc(o);break;case 30:cc(o);break;default:cc(o)}a=a.sibling}}function ws(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,b=a,x=o,N=x.flags;switch(x.tag){case 0:case 11:case 15:ws(b,x,u),Vf(4,x);break;case 1:if(ws(b,x,u),m=x,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(re){Ct(m,m.return,re)}if(m=x,b=m.updateQueue,b!==null){var V=m.stateNode;try{var K=b.shared.hiddenCallbacks;if(K!==null)for(b.shared.hiddenCallbacks=null,b=0;b<K.length;b++)LN(K[b],V)}catch(re){Ct(m,m.return,re)}}u&&N&64&&QT(x),Uf(x,x.return);break;case 27:JT(x);case 26:case 5:ws(b,x,u),u&&m===null&&N&4&&XT(x),Uf(x,x.return);break;case 12:ws(b,x,u);break;case 31:ws(b,x,u),u&&N&4&&iC(b,x);break;case 13:ws(b,x,u),u&&N&4&&aC(b,x);break;case 22:x.memoizedState===null&&ws(b,x,u),Uf(x,x.return);break;case 30:break;default:ws(b,x,u)}o=o.sibling}}function g_(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Sf(u))}function y_(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Sf(a))}function ra(a,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)lC(a,o,u,m),o=o.sibling}function lC(a,o,u,m){var b=o.flags;switch(o.tag){case 0:case 11:case 15:ra(a,o,u,m),b&2048&&Vf(9,o);break;case 1:ra(a,o,u,m);break;case 3:ra(a,o,u,m),b&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Sf(a)));break;case 12:if(b&2048){ra(a,o,u,m),a=o.stateNode;try{var x=o.memoizedProps,N=x.id,V=x.onPostCommit;typeof V=="function"&&V(N,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(K){Ct(o,o.return,K)}}else ra(a,o,u,m);break;case 31:ra(a,o,u,m);break;case 13:ra(a,o,u,m);break;case 23:break;case 22:x=o.stateNode,N=o.alternate,o.memoizedState!==null?x._visibility&2?ra(a,o,u,m):qf(a,o):x._visibility&2?ra(a,o,u,m):(x._visibility|=2,Lu(a,o,u,m,(o.subtreeFlags&10256)!==0||!1)),b&2048&&g_(N,o);break;case 24:ra(a,o,u,m),b&2048&&y_(o.alternate,o);break;default:ra(a,o,u,m)}}function Lu(a,o,u,m,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=a,N=o,V=u,K=m,re=N.flags;switch(N.tag){case 0:case 11:case 15:Lu(x,N,V,K,b),Vf(8,N);break;case 23:break;case 22:var ue=N.stateNode;N.memoizedState!==null?ue._visibility&2?Lu(x,N,V,K,b):qf(x,N):(ue._visibility|=2,Lu(x,N,V,K,b)),b&&re&2048&&g_(N.alternate,N);break;case 24:Lu(x,N,V,K,b),b&&re&2048&&y_(N.alternate,N);break;default:Lu(x,N,V,K,b)}o=o.sibling}}function qf(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,m=o,b=m.flags;switch(m.tag){case 22:qf(u,m),b&2048&&g_(m.alternate,m);break;case 24:qf(u,m),b&2048&&y_(m.alternate,m);break;default:qf(u,m)}o=o.sibling}}var Bf=8192;function Vu(a,o,u){if(a.subtreeFlags&Bf)for(a=a.child;a!==null;)cC(a,o,u),a=a.sibling}function cC(a,o,u){switch(a.tag){case 26:Vu(a,o,u),a.flags&Bf&&a.memoizedState!==null&&$q(u,na,a.memoizedState,a.memoizedProps);break;case 5:Vu(a,o,u);break;case 3:case 4:var m=na;na=cv(a.stateNode.containerInfo),Vu(a,o,u),na=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=Bf,Bf=16777216,Vu(a,o,u),Bf=m):Vu(a,o,u));break;default:Vu(a,o,u)}}function uC(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function $f(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Gn=m,fC(m,a)}uC(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)dC(a),a=a.sibling}function dC(a){switch(a.tag){case 0:case 11:case 15:$f(a),a.flags&2048&&To(9,a,a.return);break;case 3:$f(a);break;case 12:$f(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Yp(a)):$f(a);break;default:$f(a)}}function Yp(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Gn=m,fC(m,a)}uC(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:To(8,o,o.return),Yp(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Yp(o));break;default:Yp(o)}a=a.sibling}}function fC(a,o){for(;Gn!==null;){var u=Gn;switch(u.tag){case 0:case 11:case 15:To(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Sf(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Gn=m;else e:for(u=a;Gn!==null;){m=Gn;var b=m.sibling,x=m.return;if(nC(m),m===u){Gn=null;break e}if(b!==null){b.return=x,Gn=b;break e}Gn=x}}}var iq={getCacheForType:function(a){var o=sr(Nn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return sr(Nn).controller.signal}},aq=typeof WeakMap=="function"?WeakMap:Map,wt=0,Vt=null,nt=null,at=0,Tt=0,si=null,Co=!1,Uu=!1,b_=!1,Es=0,on=0,Po=0,uc=0,__=0,oi=0,qu=0,Ff=null,Kr=null,x_=!1,Xp=0,hC=0,Zp=1/0,Jp=null,Oo=null,Ln=0,Io=null,Bu=null,js=0,w_=0,E_=null,mC=null,Hf=0,j_=null;function li(){return(wt&2)!==0&&at!==0?at&-at:F.T!==null?P_():ep()}function pC(){if(oi===0)if((at&536870912)===0||ft){var a=ss;ss<<=1,(ss&3932160)===0&&(ss=262144),oi=a}else oi=536870912;return a=ii.current,a!==null&&(a.flags|=32),oi}function Gr(a,o,u){(a===Vt&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)&&($u(a,0),Ro(a,at,oi,!1)),Fn(a,u),((wt&2)===0||a!==Vt)&&(a===Vt&&((wt&2)===0&&(uc|=u),on===4&&Ro(a,at,oi,!1)),Ra(a))}function vC(a,o,u){if((wt&6)!==0)throw Error(r(327));var m=!u&&(o&127)===0&&(o&a.expiredLanes)===0||Jr(a,o),b=m?lq(a,o):S_(a,o,!0),x=m;do{if(b===0){Uu&&!m&&Ro(a,o,0,!1);break}else{if(u=a.current.alternate,x&&!sq(u)){b=S_(a,o,!1),x=!1;continue}if(b===2){if(x=o,a.errorRecoveryDisabledLanes&x)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){o=N;e:{var V=a;b=Ff;var K=V.current.memoizedState.isDehydrated;if(K&&($u(V,N).flags|=256),N=S_(V,N,!1),N!==2){if(b_&&!K){V.errorRecoveryDisabledLanes|=x,uc|=x,b=4;break e}x=Kr,Kr=b,x!==null&&(Kr===null?Kr=x:Kr.push.apply(Kr,x))}b=N}if(x=!1,b!==2)continue}}if(b===1){$u(a,0),Ro(a,o,0,!0);break}e:{switch(m=a,x=b,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Ro(m,o,oi,!Co);break e;case 2:Kr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(b=Xp+300-Ue(),10<b)){if(Ro(m,o,oi,!Co),mr(m,0,!0)!==0)break e;js=o,m.timeoutHandle=GC(gC.bind(null,m,u,Kr,Jp,x_,o,oi,uc,qu,Co,x,"Throttled",-0,0),b);break e}gC(m,u,Kr,Jp,x_,o,oi,uc,qu,Co,x,null,-0,0)}}break}while(!0);Ra(a)}function gC(a,o,u,m,b,x,N,V,K,re,ue,ve,ae,le){if(a.timeoutHandle=-1,ve=o.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yi},cC(o,x,ve);var Pe=(x&62914560)===x?Xp-Ue():(x&4194048)===x?hC-Ue():0;if(Pe=Fq(ve,Pe),Pe!==null){js=x,a.cancelPendingCommit=Pe(AC.bind(null,a,o,x,u,m,b,N,V,K,ue,ve,null,ae,le)),Ro(a,x,N,!re);return}}AC(a,o,x,u,m,b,N,V,K)}function sq(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var b=u[m],x=b.getSnapshot;b=b.value;try{if(!ni(x(),b))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ro(a,o,u,m){o&=~__,o&=~uc,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var b=o;0<b;){var x=31-en(b),N=1<<x;m[x]=-1,b&=~N}u!==0&&Ur(a,u,o)}function ev(){return(wt&6)===0?(Kf(0),!1):!0}function A_(){if(nt!==null){if(Tt===0)var a=nt.return;else a=nt,hs=tc=null,qb(a),Ru=null,Tf=0,a=nt;for(;a!==null;)WT(a.alternate,a),a=a.return;nt=null}}function $u(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,Sq(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),js=0,A_(),Vt=a,nt=u=ds(a.current,null),at=o,Tt=0,si=null,Co=!1,Uu=Jr(a,o),b_=!1,qu=oi=__=uc=Po=on=0,Kr=Ff=null,x_=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var b=31-en(m),x=1<<b;o|=a[b],m&=~x}return Es=o,xp(),u}function yC(a,o){Je=null,F.H=Mf,o===Iu||o===Cp?(o=kN(),Tt=3):o===Cb?(o=kN(),Tt=4):Tt=o===r_?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,si=o,nt===null&&(on=1,$p(a,Ti(o,a.current)))}function bC(){var a=ii.current;return a===null?!0:(at&4194048)===at?Ii===null:(at&62914560)===at||(at&536870912)!==0?a===Ii:!1}function _C(){var a=F.H;return F.H=Mf,a===null?Mf:a}function xC(){var a=F.A;return F.A=iq,a}function tv(){on=4,Co||(at&4194048)!==at&&ii.current!==null||(Uu=!0),(Po&134217727)===0&&(uc&134217727)===0||Vt===null||Ro(Vt,at,oi,!1)}function S_(a,o,u){var m=wt;wt|=2;var b=_C(),x=xC();(Vt!==a||at!==o)&&(Jp=null,$u(a,o)),o=!1;var N=on;e:do try{if(Tt!==0&&nt!==null){var V=nt,K=si;switch(Tt){case 8:A_(),N=6;break e;case 3:case 2:case 9:case 6:ii.current===null&&(o=!0);var re=Tt;if(Tt=0,si=null,Fu(a,V,K,re),u&&Uu){N=0;break e}break;default:re=Tt,Tt=0,si=null,Fu(a,V,K,re)}}oq(),N=on;break}catch(ue){yC(a,ue)}while(!0);return o&&a.shellSuspendCounter++,hs=tc=null,wt=m,F.H=b,F.A=x,nt===null&&(Vt=null,at=0,xp()),N}function oq(){for(;nt!==null;)wC(nt)}function lq(a,o){var u=wt;wt|=2;var m=_C(),b=xC();Vt!==a||at!==o?(Jp=null,Zp=Ue()+500,$u(a,o)):Uu=Jr(a,o);e:do try{if(Tt!==0&&nt!==null){o=nt;var x=si;t:switch(Tt){case 1:Tt=0,si=null,Fu(a,o,x,1);break;case 2:case 9:if(IN(x)){Tt=0,si=null,EC(o);break}o=function(){Tt!==2&&Tt!==9||Vt!==a||(Tt=7),Ra(a)},x.then(o,o);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:IN(x)?(Tt=0,si=null,EC(o)):(Tt=0,si=null,Fu(a,o,x,7));break;case 5:var N=null;switch(nt.tag){case 26:N=nt.memoizedState;case 5:case 27:var V=nt;if(N?l2(N):V.stateNode.complete){Tt=0,si=null;var K=V.sibling;if(K!==null)nt=K;else{var re=V.return;re!==null?(nt=re,nv(re)):nt=null}break t}}Tt=0,si=null,Fu(a,o,x,5);break;case 6:Tt=0,si=null,Fu(a,o,x,6);break;case 8:A_(),on=6;break e;default:throw Error(r(462))}}cq();break}catch(ue){yC(a,ue)}while(!0);return hs=tc=null,F.H=m,F.A=b,wt=u,nt!==null?0:(Vt=null,at=0,xp(),on)}function cq(){for(;nt!==null&&!ce();)wC(nt)}function wC(a){var o=KT(a.alternate,a,Es);a.memoizedProps=a.pendingProps,o===null?nv(a):nt=o}function EC(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=UT(u,o,o.pendingProps,o.type,void 0,at);break;case 11:o=UT(u,o,o.pendingProps,o.type.render,o.ref,at);break;case 5:qb(o);default:WT(u,o),o=nt=xN(o,Es),o=KT(u,o,Es)}a.memoizedProps=a.pendingProps,o===null?nv(a):nt=o}function Fu(a,o,u,m){hs=tc=null,qb(o),Ru=null,Tf=0;var b=o.return;try{if(XU(a,b,o,u,at)){on=1,$p(a,Ti(u,a.current)),nt=null;return}}catch(x){if(b!==null)throw nt=b,x;on=1,$p(a,Ti(u,a.current)),nt=null;return}o.flags&32768?(ft||m===1?a=!0:Uu||(at&536870912)!==0?a=!1:(Co=a=!0,(m===2||m===9||m===3||m===6)&&(m=ii.current,m!==null&&m.tag===13&&(m.flags|=16384))),jC(o,a)):nv(o)}function nv(a){var o=a;do{if((o.flags&32768)!==0){jC(o,Co);return}a=o.return;var u=eq(o.alternate,o,Es);if(u!==null){nt=u;return}if(o=o.sibling,o!==null){nt=o;return}nt=o=a}while(o!==null);on===0&&(on=5)}function jC(a,o){do{var u=tq(a.alternate,a);if(u!==null){u.flags&=32767,nt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){nt=a;return}nt=a=u}while(a!==null);on=6,nt=null}function AC(a,o,u,m,b,x,N,V,K){a.cancelPendingCommit=null;do rv();while(Ln!==0);if((wt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(x=o.lanes|o.childLanes,x|=mb,Ll(a,u,x,N,V,K),a===Vt&&(nt=Vt=null,at=0),Bu=o,Io=a,js=u,w_=x,E_=b,mC=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,hq(zr,function(){return PC(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=F.T,F.T=null,b=J.p,J.p=2,N=wt,wt|=4;try{nq(a,o,u)}finally{wt=N,J.p=b,F.T=m}}Ln=1,SC(),NC(),TC()}}function SC(){if(Ln===1){Ln=0;var a=Io,o=Bu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=F.T,F.T=null;var m=J.p;J.p=2;var b=wt;wt|=4;try{sC(o,a);var x=L_,N=fN(a.containerInfo),V=x.focusedElem,K=x.selectionRange;if(N!==V&&V&&V.ownerDocument&&dN(V.ownerDocument.documentElement,V)){if(K!==null&&cb(V)){var re=K.start,ue=K.end;if(ue===void 0&&(ue=re),"selectionStart"in V)V.selectionStart=re,V.selectionEnd=Math.min(ue,V.value.length);else{var ve=V.ownerDocument||document,ae=ve&&ve.defaultView||window;if(ae.getSelection){var le=ae.getSelection(),Pe=V.textContent.length,qe=Math.min(K.start,Pe),Mt=K.end===void 0?qe:Math.min(K.end,Pe);!le.extend&&qe>Mt&&(N=Mt,Mt=qe,qe=N);var X=uN(V,qe),G=uN(V,Mt);if(X&&G&&(le.rangeCount!==1||le.anchorNode!==X.node||le.anchorOffset!==X.offset||le.focusNode!==G.node||le.focusOffset!==G.offset)){var ne=ve.createRange();ne.setStart(X.node,X.offset),le.removeAllRanges(),qe>Mt?(le.addRange(ne),le.extend(G.node,G.offset)):(ne.setEnd(G.node,G.offset),le.addRange(ne))}}}}for(ve=[],le=V;le=le.parentNode;)le.nodeType===1&&ve.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<ve.length;V++){var he=ve[V];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}pv=!!z_,L_=z_=null}finally{wt=b,J.p=m,F.T=u}}a.current=o,Ln=2}}function NC(){if(Ln===2){Ln=0;var a=Io,o=Bu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=F.T,F.T=null;var m=J.p;J.p=2;var b=wt;wt|=4;try{tC(a,o.alternate,o)}finally{wt=b,J.p=m,F.T=u}}Ln=3}}function TC(){if(Ln===4||Ln===3){Ln=0,Ie();var a=Io,o=Bu,u=js,m=mC;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ln=5:(Ln=0,Bu=Io=null,CC(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(Oo=null),os(u),o=o.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(rn,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=F.T,b=J.p,J.p=2,F.T=null;try{for(var x=a.onRecoverableError,N=0;N<m.length;N++){var V=m[N];x(V.value,{componentStack:V.stack})}}finally{F.T=o,J.p=b}}(js&3)!==0&&rv(),Ra(a),b=a.pendingLanes,(u&261930)!==0&&(b&42)!==0?a===j_?Hf++:(Hf=0,j_=a):Hf=0,Kf(0)}}function CC(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Sf(o)))}function rv(){return SC(),NC(),TC(),PC()}function PC(){if(Ln!==5)return!1;var a=Io,o=w_;w_=0;var u=os(js),m=F.T,b=J.p;try{J.p=32>u?32:u,F.T=null,u=E_,E_=null;var x=Io,N=js;if(Ln=0,Bu=Io=null,js=0,(wt&6)!==0)throw Error(r(331));var V=wt;if(wt|=4,dC(x.current),lC(x,x.current,N,u),wt=V,Kf(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(rn,x)}catch{}return!0}finally{J.p=b,F.T=m,CC(a,o)}}function OC(a,o,u){o=Ti(u,o),o=n_(a.stateNode,o,2),a=Ao(a,o,2),a!==null&&(Fn(a,2),Ra(a))}function Ct(a,o,u){if(a.tag===3)OC(a,a,u);else for(;o!==null;){if(o.tag===3){OC(o,a,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Oo===null||!Oo.has(m))){a=Ti(u,a),u=IT(2),m=Ao(o,u,2),m!==null&&(RT(u,m,o,a),Fn(m,2),Ra(m));break}}o=o.return}}function N_(a,o,u){var m=a.pingCache;if(m===null){m=a.pingCache=new aq;var b=new Set;m.set(o,b)}else b=m.get(o),b===void 0&&(b=new Set,m.set(o,b));b.has(u)||(b_=!0,b.add(u),a=uq.bind(null,a,o,u),o.then(a,a))}function uq(a,o,u){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Vt===a&&(at&u)===u&&(on===4||on===3&&(at&62914560)===at&&300>Ue()-Xp?(wt&2)===0&&$u(a,0):__|=u,qu===at&&(qu=0)),Ra(a)}function IC(a,o){o===0&&(o=Ve()),a=Zl(a,o),a!==null&&(Fn(a,o),Ra(a))}function dq(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),IC(a,u)}function fq(a,o){var u=0;switch(a.tag){case 31:case 13:var m=a.stateNode,b=a.memoizedState;b!==null&&(u=b.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),IC(a,u)}function hq(a,o){return It(a,o)}var iv=null,Hu=null,T_=!1,av=!1,C_=!1,ko=0;function Ra(a){a!==Hu&&a.next===null&&(Hu===null?iv=Hu=a:Hu=Hu.next=a),av=!0,T_||(T_=!0,pq())}function Kf(a,o){if(!C_&&av){C_=!0;do for(var u=!1,m=iv;m!==null;){if(a!==0){var b=m.pendingLanes;if(b===0)var x=0;else{var N=m.suspendedLanes,V=m.pingedLanes;x=(1<<31-en(42|a)+1)-1,x&=b&~(N&~V),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(u=!0,MC(m,x))}else x=at,x=mr(m,m===Vt?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(x&3)===0||Jr(m,x)||(u=!0,MC(m,x));m=m.next}while(u);C_=!1}}function mq(){RC()}function RC(){av=T_=!1;var a=0;ko!==0&&Aq()&&(a=ko);for(var o=Ue(),u=null,m=iv;m!==null;){var b=m.next,x=kC(m,o);x===0?(m.next=null,u===null?iv=b:u.next=b,b===null&&(Hu=u)):(u=m,(a!==0||(x&3)!==0)&&(av=!0)),m=b}Ln!==0&&Ln!==5||Kf(a),ko!==0&&(ko=0)}function kC(a,o){for(var u=a.suspendedLanes,m=a.pingedLanes,b=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var N=31-en(x),V=1<<N,K=b[N];K===-1?((V&u)===0||(V&m)!==0)&&(b[N]=Z(V,o)):K<=o&&(a.expiredLanes|=V),x&=~V}if(o=Vt,u=at,u=mr(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,u===0||a===o&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Mr(m),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Jr(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(m!==null&&Mr(m),os(u)){case 2:case 8:u=zn;break;case 32:u=zr;break;case 268435456:u=Lr;break;default:u=zr}return m=DC.bind(null,a),u=It(u,m),a.callbackPriority=o,a.callbackNode=u,o}return m!==null&&m!==null&&Mr(m),a.callbackPriority=2,a.callbackNode=null,2}function DC(a,o){if(Ln!==0&&Ln!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(rv()&&a.callbackNode!==u)return null;var m=at;return m=mr(a,a===Vt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(vC(a,m,o),kC(a,Ue()),a.callbackNode!=null&&a.callbackNode===u?DC.bind(null,a):null)}function MC(a,o){if(rv())return null;vC(a,o,!0)}function pq(){Nq(function(){(wt&6)!==0?It(Lt,mq):RC()})}function P_(){if(ko===0){var a=Pu;a===0&&(a=xi,xi<<=1,(xi&261888)===0&&(xi=256)),ko=a}return ko}function zC(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:pu(""+a)}function LC(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function vq(a,o,u,m,b){if(o==="submit"&&u&&u.stateNode===b){var x=zC((b[Hn]||null).action),N=m.submitter;N&&(o=(o=N[Hn]||null)?zC(o.formAction):N.getAttribute("formAction"),o!==null&&(x=o,N=null));var V=new Sa("action","action",null,m,b);a.push({event:V,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ko!==0){var K=N?LC(b,N):new FormData(b);Yb(u,{pending:!0,data:K,method:b.method,action:x},null,K)}}else typeof x=="function"&&(V.preventDefault(),K=N?LC(b,N):new FormData(b),Yb(u,{pending:!0,data:K,method:b.method,action:x},x,K))},currentTarget:b}]})}}for(var O_=0;O_<hb.length;O_++){var I_=hb[O_],gq=I_.toLowerCase(),yq=I_[0].toUpperCase()+I_.slice(1);ta(gq,"on"+yq)}ta(pN,"onAnimationEnd"),ta(vN,"onAnimationIteration"),ta(gN,"onAnimationStart"),ta("dblclick","onDoubleClick"),ta("focusin","onFocus"),ta("focusout","onBlur"),ta(kU,"onTransitionRun"),ta(DU,"onTransitionStart"),ta(MU,"onTransitionCancel"),ta(yN,"onTransitionEnd"),wa("onMouseEnter",["mouseout","mouseover"]),wa("onMouseLeave",["mouseout","mouseover"]),wa("onPointerEnter",["pointerout","pointerover"]),wa("onPointerLeave",["pointerout","pointerover"]),xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xa("onBeforeInput",["compositionend","keypress","textInput","paste"]),xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bq=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gf));function VC(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var m=a[u],b=m.event;m=m.listeners;e:{var x=void 0;if(o)for(var N=m.length-1;0<=N;N--){var V=m[N],K=V.instance,re=V.currentTarget;if(V=V.listener,K!==x&&b.isPropagationStopped())break e;x=V,b.currentTarget=re;try{x(b)}catch(ue){_p(ue)}b.currentTarget=null,x=K}else for(N=0;N<m.length;N++){if(V=m[N],K=V.instance,re=V.currentTarget,V=V.listener,K!==x&&b.isPropagationStopped())break e;x=V,b.currentTarget=re;try{x(b)}catch(ue){_p(ue)}b.currentTarget=null,x=K}}}}function rt(a,o){var u=o[uu];u===void 0&&(u=o[uu]=new Set);var m=a+"__bubble";u.has(m)||(UC(o,a,2,!1),u.add(m))}function R_(a,o,u){var m=0;o&&(m|=4),UC(u,a,m,o)}var sv="_reactListening"+Math.random().toString(36).slice(2);function k_(a){if(!a[sv]){a[sv]=!0,af.forEach(function(u){u!=="selectionchange"&&(bq.has(u)||R_(u,!1,a),R_(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[sv]||(o[sv]=!0,R_("selectionchange",!1,o))}}function UC(a,o,u,m){switch(p2(o)){case 2:var b=Gq;break;case 8:b=Wq;break;default:b=Q_}u=b.bind(null,o,u,a),b=void 0,!Fl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),m?b!==void 0?a.addEventListener(o,u,{capture:!0,passive:b}):a.addEventListener(o,u,!0):b!==void 0?a.addEventListener(o,u,{passive:b}):a.addEventListener(o,u,!1)}function D_(a,o,u,m,b){var x=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var V=m.stateNode.containerInfo;if(V===b)break;if(N===4)for(N=m.return;N!==null;){var K=N.tag;if((K===3||K===4)&&N.stateNode.containerInfo===b)return;N=N.return}for(;V!==null;){if(N=ba(V),N===null)return;if(K=N.tag,K===5||K===6||K===26||K===27){m=x=N;continue e}V=V.parentNode}}m=m.return}po(function(){var re=x,ue=ji(u),ve=[];e:{var ae=bN.get(a);if(ae!==void 0){var le=Sa,Pe=a;switch(a){case"keypress":if(Kl(u)===0)break e;case"keydown":case"keyup":le=gp;break;case"focusin":Pe="focus",le=Wl;break;case"focusout":Pe="blur",le=Wl;break;case"beforeblur":case"afterblur":le=Wl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=lp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=S;break;case pN:case vN:case gN:le=up;break;case yN:le=$;break;case"scroll":case"scrollend":le=gf;break;case"wheel":le=oe;break;case"copy":case"cut":case"paste":le=dp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=us;break;case"toggle":case"beforetoggle":le=Ze}var qe=(o&4)!==0,Mt=!qe&&(a==="scroll"||a==="scrollend"),X=qe?ae!==null?ae+"Capture":null:ae;qe=[];for(var G=re,ne;G!==null;){var he=G;if(ne=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ne===null||X===null||(he=Xi(G,X),he!=null&&qe.push(Wf(G,he,ne))),Mt)break;G=G.return}0<qe.length&&(ae=new le(ae,Pe,null,u,ue),ve.push({event:ae,listeners:qe}))}}if((o&7)===0){e:{if(ae=a==="mouseover"||a==="pointerover",le=a==="mouseout"||a==="pointerout",ae&&u!==mf&&(Pe=u.relatedTarget||u.fromElement)&&(ba(Pe)||Pe[ga]))break e;if((le||ae)&&(ae=ue.window===ue?ue:(ae=ue.ownerDocument)?ae.defaultView||ae.parentWindow:window,le?(Pe=u.relatedTarget||u.toElement,le=re,Pe=Pe?ba(Pe):null,Pe!==null&&(Mt=s(Pe),qe=Pe.tag,Pe!==Mt||qe!==5&&qe!==27&&qe!==6)&&(Pe=null)):(le=null,Pe=re),le!==Pe)){if(qe=yf,he="onMouseLeave",X="onMouseEnter",G="mouse",(a==="pointerout"||a==="pointerover")&&(qe=us,he="onPointerLeave",X="onPointerEnter",G="pointer"),Mt=le==null?ae:ei(le),ne=Pe==null?ae:ei(Pe),ae=new qe(he,G+"leave",le,u,ue),ae.target=Mt,ae.relatedTarget=ne,he=null,ba(ue)===re&&(qe=new qe(X,G+"enter",Pe,u,ue),qe.target=ne,qe.relatedTarget=Mt,he=qe),Mt=he,le&&Pe)t:{for(qe=_q,X=le,G=Pe,ne=0,he=X;he;he=qe(he))ne++;he=0;for(var ze=G;ze;ze=qe(ze))he++;for(;0<ne-he;)X=qe(X),ne--;for(;0<he-ne;)G=qe(G),he--;for(;ne--;){if(X===G||G!==null&&X===G.alternate){qe=X;break t}X=qe(X),G=qe(G)}qe=null}else qe=null;le!==null&&qC(ve,ae,le,qe,!1),Pe!==null&&Mt!==null&&qC(ve,Mt,Pe,qe,!0)}}e:{if(ae=re?ei(re):window,le=ae.nodeName&&ae.nodeName.toLowerCase(),le==="select"||le==="input"&&ae.type==="file")var yt=iN;else if(nN(ae))if(aN)yt=OU;else{yt=CU;var Re=TU}else le=ae.nodeName,!le||le.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?re&&mu(re.elementType)&&(yt=iN):yt=PU;if(yt&&(yt=yt(a,re))){rN(ve,yt,u,ue);break e}Re&&Re(a,ae,re),a==="focusout"&&re&&ae.type==="number"&&re.memoizedProps.value!=null&&df(ae,"number",ae.value)}switch(Re=re?ei(re):window,a){case"focusin":(nN(Re)||Re.contentEditable==="true")&&(wu=Re,ub=re,Ef=null);break;case"focusout":Ef=ub=wu=null;break;case"mousedown":db=!0;break;case"contextmenu":case"mouseup":case"dragend":db=!1,hN(ve,u,ue);break;case"selectionchange":if(RU)break;case"keydown":case"keyup":hN(ve,u,ue)}var et;if(xt)e:{switch(a){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else xu?Ql(a,u)&&(st="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(st="onCompositionStart");st&&(Ca&&u.locale!=="ko"&&(xu||st!=="onCompositionStart"?st==="onCompositionEnd"&&xu&&(et=vf()):(Aa=ue,pf="value"in Aa?Aa.value:Aa.textContent,xu=!0)),Re=ov(re,st),0<Re.length&&(st=new Ta(st,a,null,u,ue),ve.push({event:st,listeners:Re}),et?st.data=et:(et=_u(u),et!==null&&(st.data=et)))),(et=Si?jU(a,u):AU(a,u))&&(st=ov(re,"onBeforeInput"),0<st.length&&(Re=new Ta("onBeforeInput","beforeinput",null,u,ue),ve.push({event:Re,listeners:st}),Re.data=et)),vq(ve,a,re,u,ue)}VC(ve,o)})}function Wf(a,o,u){return{instance:a,listener:o,currentTarget:u}}function ov(a,o){for(var u=o+"Capture",m=[];a!==null;){var b=a,x=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||x===null||(b=Xi(a,u),b!=null&&m.unshift(Wf(a,b,x)),b=Xi(a,o),b!=null&&m.push(Wf(a,b,x))),a.tag===3)return m;a=a.return}return[]}function _q(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function qC(a,o,u,m,b){for(var x=o._reactName,N=[];u!==null&&u!==m;){var V=u,K=V.alternate,re=V.stateNode;if(V=V.tag,K!==null&&K===m)break;V!==5&&V!==26&&V!==27||re===null||(K=re,b?(re=Xi(u,x),re!=null&&N.unshift(Wf(u,re,K))):b||(re=Xi(u,x),re!=null&&N.push(Wf(u,re,K)))),u=u.return}N.length!==0&&a.push({event:o,listeners:N})}var xq=/\r\n?/g,wq=/\u0000|\uFFFD/g;function BC(a){return(typeof a=="string"?a:""+a).replace(xq,`
`).replace(wq,"")}function $C(a,o){return o=BC(o),BC(a)===o}function Dt(a,o,u,m,b,x){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Br(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Br(a,""+m);break;case"className":ti(a,"class",m);break;case"tabIndex":ti(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(a,u,m);break;case"style":hf(a,m,x);break;case"data":if(o!=="object"){ti(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=pu(""+m),a.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(u==="formAction"?(o!=="input"&&Dt(a,o,"name",b.name,b,null),Dt(a,o,"formEncType",b.formEncType,b,null),Dt(a,o,"formMethod",b.formMethod,b,null),Dt(a,o,"formTarget",b.formTarget,b,null)):(Dt(a,o,"encType",b.encType,b,null),Dt(a,o,"method",b.method,b,null),Dt(a,o,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=pu(""+m),a.setAttribute(u,m);break;case"onClick":m!=null&&(a.onclick=Yi);break;case"onScroll":m!=null&&rt("scroll",a);break;case"onScrollEnd":m!=null&&rt("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}u=pu(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""+m):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":m===!0?a.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,m):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(u,m):a.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(u):a.setAttribute(u,m);break;case"popover":rt("beforetoggle",a),rt("toggle",a),fu(a,"popover",m);break;case"xlinkActuate":Sn(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Sn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Sn(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Sn(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Sn(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Sn(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Sn(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Sn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Sn(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":fu(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=op.get(u)||u,fu(a,u,m))}}function M_(a,o,u,m,b,x){switch(u){case"style":hf(a,m,x);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof m=="string"?Br(a,m):(typeof m=="number"||typeof m=="bigint")&&Br(a,""+m);break;case"onScroll":m!=null&&rt("scroll",a);break;case"onScrollEnd":m!=null&&rt("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Yi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sf.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),o=u.slice(2,b?u.length-7:void 0),x=a[Hn]||null,x=x!=null?x[u]:null,typeof x=="function"&&a.removeEventListener(o,x,b),typeof m=="function")){typeof x!="function"&&x!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,m,b);break e}u in a?a[u]=m:m===!0?a.setAttribute(u,""):fu(a,u,m)}}}function lr(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",a),rt("load",a);var m=!1,b=!1,x;for(x in u)if(u.hasOwnProperty(x)){var N=u[x];if(N!=null)switch(x){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Dt(a,o,x,N,u,null)}}b&&Dt(a,o,"srcSet",u.srcSet,u,null),m&&Dt(a,o,"src",u.src,u,null);return;case"input":rt("invalid",a);var V=x=N=b=null,K=null,re=null;for(m in u)if(u.hasOwnProperty(m)){var ue=u[m];if(ue!=null)switch(m){case"name":b=ue;break;case"type":N=ue;break;case"checked":K=ue;break;case"defaultChecked":re=ue;break;case"value":x=ue;break;case"defaultValue":V=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,o));break;default:Dt(a,o,m,ue,u,null)}}ip(a,x,V,K,re,N,b,!1);return;case"select":rt("invalid",a),m=N=x=null;for(b in u)if(u.hasOwnProperty(b)&&(V=u[b],V!=null))switch(b){case"value":x=V;break;case"defaultValue":N=V;break;case"multiple":m=V;default:Dt(a,o,b,V,u,null)}o=x,u=N,a.multiple=!!m,o!=null?uo(a,!!m,o,!1):u!=null&&uo(a,!!m,u,!0);return;case"textarea":rt("invalid",a),x=b=m=null;for(N in u)if(u.hasOwnProperty(N)&&(V=u[N],V!=null))switch(N){case"value":m=V;break;case"defaultValue":b=V;break;case"children":x=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:Dt(a,o,N,V,u,null)}fo(a,m,b,x);return;case"option":for(K in u)u.hasOwnProperty(K)&&(m=u[K],m!=null)&&(K==="selected"?a.selected=m&&typeof m!="function"&&typeof m!="symbol":Dt(a,o,K,m,u,null));return;case"dialog":rt("beforetoggle",a),rt("toggle",a),rt("cancel",a),rt("close",a);break;case"iframe":case"object":rt("load",a);break;case"video":case"audio":for(m=0;m<Gf.length;m++)rt(Gf[m],a);break;case"image":rt("error",a),rt("load",a);break;case"details":rt("toggle",a);break;case"embed":case"source":case"link":rt("error",a),rt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in u)if(u.hasOwnProperty(re)&&(m=u[re],m!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Dt(a,o,re,m,u,null)}return;default:if(mu(o)){for(ue in u)u.hasOwnProperty(ue)&&(m=u[ue],m!==void 0&&M_(a,o,ue,m,u,void 0));return}}for(V in u)u.hasOwnProperty(V)&&(m=u[V],m!=null&&Dt(a,o,V,m,u,null))}function Eq(a,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,x=null,N=null,V=null,K=null,re=null,ue=null;for(le in u){var ve=u[le];if(u.hasOwnProperty(le)&&ve!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":K=ve;default:m.hasOwnProperty(le)||Dt(a,o,le,null,m,ve)}}for(var ae in m){var le=m[ae];if(ve=u[ae],m.hasOwnProperty(ae)&&(le!=null||ve!=null))switch(ae){case"type":x=le;break;case"name":b=le;break;case"checked":re=le;break;case"defaultChecked":ue=le;break;case"value":N=le;break;case"defaultValue":V=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:le!==ve&&Dt(a,o,ae,le,m,ve)}}hu(a,N,V,K,re,ue,x,b);return;case"select":le=N=V=ae=null;for(x in u)if(K=u[x],u.hasOwnProperty(x)&&K!=null)switch(x){case"value":break;case"multiple":le=K;default:m.hasOwnProperty(x)||Dt(a,o,x,null,m,K)}for(b in m)if(x=m[b],K=u[b],m.hasOwnProperty(b)&&(x!=null||K!=null))switch(b){case"value":ae=x;break;case"defaultValue":V=x;break;case"multiple":N=x;default:x!==K&&Dt(a,o,b,x,m,K)}o=V,u=N,m=le,ae!=null?uo(a,!!u,ae,!1):!!m!=!!u&&(o!=null?uo(a,!!u,o,!0):uo(a,!!u,u?[]:"",!1));return;case"textarea":le=ae=null;for(V in u)if(b=u[V],u.hasOwnProperty(V)&&b!=null&&!m.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Dt(a,o,V,null,m,b)}for(N in m)if(b=m[N],x=u[N],m.hasOwnProperty(N)&&(b!=null||x!=null))switch(N){case"value":ae=b;break;case"defaultValue":le=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==x&&Dt(a,o,N,b,m,x)}ap(a,ae,le);return;case"option":for(var Pe in u)ae=u[Pe],u.hasOwnProperty(Pe)&&ae!=null&&!m.hasOwnProperty(Pe)&&(Pe==="selected"?a.selected=!1:Dt(a,o,Pe,null,m,ae));for(K in m)ae=m[K],le=u[K],m.hasOwnProperty(K)&&ae!==le&&(ae!=null||le!=null)&&(K==="selected"?a.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":Dt(a,o,K,ae,m,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in u)ae=u[qe],u.hasOwnProperty(qe)&&ae!=null&&!m.hasOwnProperty(qe)&&Dt(a,o,qe,null,m,ae);for(re in m)if(ae=m[re],le=u[re],m.hasOwnProperty(re)&&ae!==le&&(ae!=null||le!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:Dt(a,o,re,ae,m,le)}return;default:if(mu(o)){for(var Mt in u)ae=u[Mt],u.hasOwnProperty(Mt)&&ae!==void 0&&!m.hasOwnProperty(Mt)&&M_(a,o,Mt,void 0,m,ae);for(ue in m)ae=m[ue],le=u[ue],!m.hasOwnProperty(ue)||ae===le||ae===void 0&&le===void 0||M_(a,o,ue,ae,m,le);return}}for(var X in u)ae=u[X],u.hasOwnProperty(X)&&ae!=null&&!m.hasOwnProperty(X)&&Dt(a,o,X,null,m,ae);for(ve in m)ae=m[ve],le=u[ve],!m.hasOwnProperty(ve)||ae===le||ae==null&&le==null||Dt(a,o,ve,ae,m,le)}function FC(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jq(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var b=u[m],x=b.transferSize,N=b.initiatorType,V=b.duration;if(x&&V&&FC(N)){for(N=0,V=b.responseEnd,m+=1;m<u.length;m++){var K=u[m],re=K.startTime;if(re>V)break;var ue=K.transferSize,ve=K.initiatorType;ue&&FC(ve)&&(K=K.responseEnd,N+=ue*(K<V?1:(V-re)/(K-re)))}if(--m,o+=8*(x+N)/(b.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var z_=null,L_=null;function lv(a){return a.nodeType===9?a:a.ownerDocument}function HC(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function KC(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function V_(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var U_=null;function Aq(){var a=window.event;return a&&a.type==="popstate"?a===U_?!1:(U_=a,!0):(U_=null,!1)}var GC=typeof setTimeout=="function"?setTimeout:void 0,Sq=typeof clearTimeout=="function"?clearTimeout:void 0,WC=typeof Promise=="function"?Promise:void 0,Nq=typeof queueMicrotask=="function"?queueMicrotask:typeof WC<"u"?function(a){return WC.resolve(null).then(a).catch(Tq)}:GC;function Tq(a){setTimeout(function(){throw a})}function Do(a){return a==="head"}function QC(a,o){var u=o,m=0;do{var b=u.nextSibling;if(a.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"||u==="/&"){if(m===0){a.removeChild(b),Qu(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")Qf(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,Qf(u);for(var x=u.firstChild;x;){var N=x.nextSibling,V=x.nodeName;x[ya]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&x.rel.toLowerCase()==="stylesheet"||u.removeChild(x),x=N}}else u==="body"&&Qf(a.ownerDocument.body);u=b}while(u);Qu(o)}function YC(a,o){var u=a;a=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=m}while(u)}function q_(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":q_(u),du(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function Cq(a,o,u,m){for(;a.nodeType===1;){var b=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[ya])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var x=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=Ri(a.nextSibling),a===null)break}return null}function Pq(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Ri(a.nextSibling),a===null))return null;return a}function XC(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Ri(a.nextSibling),a===null))return null;return a}function B_(a){return a.data==="$?"||a.data==="$~"}function $_(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function Oq(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Ri(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var F_=null;function ZC(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return Ri(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function JC(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function e2(a,o,u){switch(o=lv(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Qf(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);du(a)}var ki=new Map,t2=new Set;function cv(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var As=J.d;J.d={f:Iq,r:Rq,D:kq,C:Dq,L:Mq,m:zq,X:Vq,S:Lq,M:Uq};function Iq(){var a=As.f(),o=ev();return a||o}function Rq(a){var o=Ei(a);o!==null&&o.tag===5&&o.type==="form"?yT(o):As.r(a)}var Ku=typeof document>"u"?null:document;function n2(a,o,u){var m=Ku;if(m&&typeof o=="string"&&o){var b=qr(o);b='link[rel="'+a+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),t2.has(b)||(t2.add(b),a={rel:a,crossOrigin:u,href:o},m.querySelector(b)===null&&(o=m.createElement("link"),lr(o,"link",a),An(o),m.head.appendChild(o)))}}function kq(a){As.D(a),n2("dns-prefetch",a,null)}function Dq(a,o){As.C(a,o),n2("preconnect",a,o)}function Mq(a,o,u){As.L(a,o,u);var m=Ku;if(m&&a&&o){var b='link[rel="preload"][as="'+qr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+qr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+qr(u.imageSizes)+'"]')):b+='[href="'+qr(a)+'"]';var x=b;switch(o){case"style":x=Gu(a);break;case"script":x=Wu(a)}ki.has(x)||(a=v({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),ki.set(x,a),m.querySelector(b)!==null||o==="style"&&m.querySelector(Yf(x))||o==="script"&&m.querySelector(Xf(x))||(o=m.createElement("link"),lr(o,"link",a),An(o),m.head.appendChild(o)))}}function zq(a,o){As.m(a,o);var u=Ku;if(u&&a){var m=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+qr(m)+'"][href="'+qr(a)+'"]',x=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Wu(a)}if(!ki.has(x)&&(a=v({rel:"modulepreload",href:a},o),ki.set(x,a),u.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Xf(x)))return}m=u.createElement("link"),lr(m,"link",a),An(m),u.head.appendChild(m)}}}function Lq(a,o,u){As.S(a,o,u);var m=Ku;if(m&&a){var b=_a(m).hoistableStyles,x=Gu(a);o=o||"default";var N=b.get(x);if(!N){var V={loading:0,preload:null};if(N=m.querySelector(Yf(x)))V.loading=5;else{a=v({rel:"stylesheet",href:a,"data-precedence":o},u),(u=ki.get(x))&&H_(a,u);var K=N=m.createElement("link");An(K),lr(K,"link",a),K._p=new Promise(function(re,ue){K.onload=re,K.onerror=ue}),K.addEventListener("load",function(){V.loading|=1}),K.addEventListener("error",function(){V.loading|=2}),V.loading|=4,uv(N,o,m)}N={type:"stylesheet",instance:N,count:1,state:V},b.set(x,N)}}}function Vq(a,o){As.X(a,o);var u=Ku;if(u&&a){var m=_a(u).hoistableScripts,b=Wu(a),x=m.get(b);x||(x=u.querySelector(Xf(b)),x||(a=v({src:a,async:!0},o),(o=ki.get(b))&&K_(a,o),x=u.createElement("script"),An(x),lr(x,"link",a),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(b,x))}}function Uq(a,o){As.M(a,o);var u=Ku;if(u&&a){var m=_a(u).hoistableScripts,b=Wu(a),x=m.get(b);x||(x=u.querySelector(Xf(b)),x||(a=v({src:a,async:!0,type:"module"},o),(o=ki.get(b))&&K_(a,o),x=u.createElement("script"),An(x),lr(x,"link",a),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(b,x))}}function r2(a,o,u,m){var b=(b=W.current)?cv(b):null;if(!b)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Gu(u.href),u=_a(b).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Gu(u.href);var x=_a(b).hoistableStyles,N=x.get(a);if(N||(b=b.ownerDocument||b,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,N),(x=b.querySelector(Yf(a)))&&!x._p&&(N.instance=x,N.state.loading=5),ki.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ki.set(a,u),x||qq(b,a,u,N.state))),o&&m===null)throw Error(r(528,""));return N}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Wu(u),u=_a(b).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Gu(a){return'href="'+qr(a)+'"'}function Yf(a){return'link[rel="stylesheet"]['+a+"]"}function i2(a){return v({},a,{"data-precedence":a.precedence,precedence:null})}function qq(a,o,u,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),lr(o,"link",u),An(o),a.head.appendChild(o))}function Wu(a){return'[src="'+qr(a)+'"]'}function Xf(a){return"script[async]"+a}function a2(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+qr(u.href)+'"]');if(m)return o.instance=m,An(m),m;var b=v({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),An(m),lr(m,"style",b),uv(m,u.precedence,a),o.instance=m;case"stylesheet":b=Gu(u.href);var x=a.querySelector(Yf(b));if(x)return o.state.loading|=4,o.instance=x,An(x),x;m=i2(u),(b=ki.get(b))&&H_(m,b),x=(a.ownerDocument||a).createElement("link"),An(x);var N=x;return N._p=new Promise(function(V,K){N.onload=V,N.onerror=K}),lr(x,"link",m),o.state.loading|=4,uv(x,u.precedence,a),o.instance=x;case"script":return x=Wu(u.src),(b=a.querySelector(Xf(x)))?(o.instance=b,An(b),b):(m=u,(b=ki.get(x))&&(m=v({},u),K_(m,b)),a=a.ownerDocument||a,b=a.createElement("script"),An(b),lr(b,"link",m),a.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,uv(m,u.precedence,a));return o.instance}function uv(a,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,x=b,N=0;N<m.length;N++){var V=m[N];if(V.dataset.precedence===o)x=V;else if(x!==b)break}x?x.parentNode.insertBefore(a,x.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function H_(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function K_(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var dv=null;function s2(a,o,u){if(dv===null){var m=new Map,b=dv=new Map;b.set(u,m)}else b=dv,m=b.get(u),m||(m=new Map,b.set(u,m));if(m.has(a))return m;for(m.set(a,null),u=u.getElementsByTagName(a),b=0;b<u.length;b++){var x=u[b];if(!(x[ya]||x[jn]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var N=x.getAttribute(o)||"";N=a+N;var V=m.get(N);V?V.push(x):m.set(N,[x])}}return m}function o2(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function Bq(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function l2(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function $q(a,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var b=Gu(m.href),x=o.querySelector(Yf(b));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=fv.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=x,An(x);return}x=o.ownerDocument||o,m=i2(m),(b=ki.get(b))&&H_(m,b),x=x.createElement("link"),An(x);var N=x;N._p=new Promise(function(V,K){N.onload=V,N.onerror=K}),lr(x,"link",m),u.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=fv.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var G_=0;function Fq(a,o){return a.stylesheets&&a.count===0&&mv(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var m=setTimeout(function(){if(a.stylesheets&&mv(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+o);0<a.imgBytes&&G_===0&&(G_=62500*jq());var b=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&mv(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>G_?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(b)}}:null}function fv(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mv(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var hv=null;function mv(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,hv=new Map,o.forEach(Hq,a),hv=null,fv.call(a))}function Hq(a,o){if(!(o.state.loading&4)){var u=hv.get(a);if(u)var m=u.get(null);else{u=new Map,hv.set(a,u);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<b.length;x++){var N=b[x];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),m=N)}m&&u.set(null,m)}b=o.instance,N=b.getAttribute("data-precedence"),x=u.get(N)||m,x===m&&u.set(null,b),u.set(N,b),this.count++,m=fv.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),x?x.parentNode.insertBefore(b,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),o.state.loading|=4}}var Zf={$$typeof:M,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Kq(a,o,u,m,b,x,N,V,K){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.hiddenUpdates=mt(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=x,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function c2(a,o,u,m,b,x,N,V,K,re,ue,ve){return a=new Kq(a,o,u,N,K,re,ue,ve,V),o=1,x===!0&&(o|=24),x=ri(3,null,null,o),a.current=x,x.stateNode=a,o=Sb(),o.refCount++,a.pooledCache=o,o.refCount++,x.memoizedState={element:m,isDehydrated:u,cache:o},Pb(x),a}function u2(a){return a?(a=Au,a):Au}function d2(a,o,u,m,b,x){b=u2(b),m.context===null?m.context=b:m.pendingContext=b,m=jo(o),m.payload={element:u},x=x===void 0?null:x,x!==null&&(m.callback=x),u=Ao(a,m,o),u!==null&&(Gr(u,a,o),Pf(u,a,o))}function f2(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function W_(a,o){f2(a,o),(a=a.alternate)&&f2(a,o)}function h2(a){if(a.tag===13||a.tag===31){var o=Zl(a,67108864);o!==null&&Gr(o,a,67108864),W_(a,67108864)}}function m2(a){if(a.tag===13||a.tag===31){var o=li();o=Ul(o);var u=Zl(a,o);u!==null&&Gr(u,a,o),W_(a,o)}}var pv=!0;function Gq(a,o,u,m){var b=F.T;F.T=null;var x=J.p;try{J.p=2,Q_(a,o,u,m)}finally{J.p=x,F.T=b}}function Wq(a,o,u,m){var b=F.T;F.T=null;var x=J.p;try{J.p=8,Q_(a,o,u,m)}finally{J.p=x,F.T=b}}function Q_(a,o,u,m){if(pv){var b=Y_(m);if(b===null)D_(a,o,m,vv,u),v2(a,m);else if(Yq(b,a,o,u,m))m.stopPropagation();else if(v2(a,m),o&4&&-1<Qq.indexOf(a)){for(;b!==null;){var x=Ei(b);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var N=wi(x.pendingLanes);if(N!==0){var V=x;for(V.pendingLanes|=2,V.entangledLanes|=2;N;){var K=1<<31-en(N);V.entanglements[1]|=K,N&=~K}Ra(x),(wt&6)===0&&(Zp=Ue()+500,Kf(0))}}break;case 31:case 13:V=Zl(x,2),V!==null&&Gr(V,x,2),ev(),W_(x,2)}if(x=Y_(m),x===null&&D_(a,o,m,vv,u),x===b)break;b=x}b!==null&&m.stopPropagation()}else D_(a,o,m,null,u)}}function Y_(a){return a=ji(a),X_(a)}var vv=null;function X_(a){if(vv=null,a=ba(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=d(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return vv=a,null}function p2(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ke()){case Lt:return 2;case zn:return 8;case zr:case oo:return 32;case Lr:return 268435456;default:return 32}default:return 32}}var Z_=!1,Mo=null,zo=null,Lo=null,Jf=new Map,eh=new Map,Vo=[],Qq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v2(a,o){switch(a){case"focusin":case"focusout":Mo=null;break;case"dragenter":case"dragleave":zo=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":Jf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":eh.delete(o.pointerId)}}function th(a,o,u,m,b,x){return a===null||a.nativeEvent!==x?(a={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:x,targetContainers:[b]},o!==null&&(o=Ei(o),o!==null&&h2(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),a)}function Yq(a,o,u,m,b){switch(o){case"focusin":return Mo=th(Mo,a,o,u,m,b),!0;case"dragenter":return zo=th(zo,a,o,u,m,b),!0;case"mouseover":return Lo=th(Lo,a,o,u,m,b),!0;case"pointerover":var x=b.pointerId;return Jf.set(x,th(Jf.get(x)||null,a,o,u,m,b)),!0;case"gotpointercapture":return x=b.pointerId,eh.set(x,th(eh.get(x)||null,a,o,u,m,b)),!0}return!1}function g2(a){var o=ba(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,Wi(a.priority,function(){m2(u)});return}}else if(o===31){if(o=d(u),o!==null){a.blockedOn=o,Wi(a.priority,function(){m2(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function gv(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=Y_(a.nativeEvent);if(u===null){u=a.nativeEvent;var m=new u.constructor(u.type,u);mf=m,u.target.dispatchEvent(m),mf=null}else return o=Ei(u),o!==null&&h2(o),a.blockedOn=u,!1;o.shift()}return!0}function y2(a,o,u){gv(a)&&u.delete(o)}function Xq(){Z_=!1,Mo!==null&&gv(Mo)&&(Mo=null),zo!==null&&gv(zo)&&(zo=null),Lo!==null&&gv(Lo)&&(Lo=null),Jf.forEach(y2),eh.forEach(y2)}function yv(a,o){a.blockedOn===o&&(a.blockedOn=null,Z_||(Z_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Xq)))}var bv=null;function b2(a){bv!==a&&(bv=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){bv===a&&(bv=null);for(var o=0;o<a.length;o+=3){var u=a[o],m=a[o+1],b=a[o+2];if(typeof m!="function"){if(X_(m||u)===null)continue;break}var x=Ei(u);x!==null&&(a.splice(o,3),o-=3,Yb(x,{pending:!0,data:b,method:u.method,action:m},m,b))}}))}function Qu(a){function o(K){return yv(K,a)}Mo!==null&&yv(Mo,a),zo!==null&&yv(zo,a),Lo!==null&&yv(Lo,a),Jf.forEach(o),eh.forEach(o);for(var u=0;u<Vo.length;u++){var m=Vo[u];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Vo.length&&(u=Vo[0],u.blockedOn===null);)g2(u),u.blockedOn===null&&Vo.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var b=u[m],x=u[m+1],N=b[Hn]||null;if(typeof x=="function")N||b2(u);else if(N){var V=null;if(x&&x.hasAttribute("formAction")){if(b=x,N=x[Hn]||null)V=N.formAction;else if(X_(b)!==null)continue}else V=N.action;typeof V=="function"?u[m+1]=V:(u.splice(m,3),m-=3),b2(u)}}}function _2(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(N){return b=N})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,b=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function J_(a){this._internalRoot=a}_v.prototype.render=J_.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,m=li();d2(u,m,a,o,null,null)},_v.prototype.unmount=J_.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;d2(a.current,2,null,a,null,null),ev(),o[ga]=null}};function _v(a){this._internalRoot=a}_v.prototype.unstable_scheduleHydration=function(a){if(a){var o=ep();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Vo.length&&o!==0&&o<Vo[u].priority;u++);Vo.splice(u,0,a),u===0&&g2(a)}};var x2=e.version;if(x2!=="19.2.4")throw Error(r(527,x2,"19.2.4"));J.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var Zq={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xv.isDisabled&&xv.supportsFiber)try{rn=xv.inject(Zq),St=xv}catch{}}return rh.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,m="",b=TT,x=CT,N=PT;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError)),o=c2(a,1,!1,null,null,u,m,null,b,x,N,_2),a[ga]=o.current,k_(a),new J_(o)},rh.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var m=!1,b="",x=TT,N=CT,V=PT,K=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(V=u.onRecoverableError),u.formState!==void 0&&(K=u.formState)),o=c2(a,1,!0,o,u??null,m,b,K,x,N,V,_2),o.context=u2(null),u=o.current,m=li(),m=Ul(m),b=jo(m),b.callback=null,Ao(u,b,m),u=m,o.current.lanes=u,Fn(o,u),Ra(o),a[ga]=o.current,k_(a),new _v(o)},rh.version="19.2.4",rh}var O2;function l8(){if(O2)return nx.exports;O2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nx.exports=o8(),nx.exports}var c8=l8();const u8=ns(c8);var QE=FM();function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lh.apply(this,arguments)}var el;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(el||(el={}));const I2="popstate";function d8(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:l,hash:d}=r.location;return cw("",{pathname:s,search:l,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:mg(i)}return h8(e,n,null,t)}function En(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function YE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function f8(){return Math.random().toString(36).substr(2,8)}function R2(t,e){return{usr:t.state,key:t.key,idx:e}}function cw(t,e,n,r){return n===void 0&&(n=null),Lh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zd(e):e,{state:n,key:e&&e.key||r||f8()})}function mg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function h8(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,d=el.Pop,f=null,h=p();h==null&&(h=0,l.replaceState(Lh({},l.state,{idx:h}),""));function p(){return(l.state||{idx:null}).idx}function v(){d=el.Pop;let A=p(),T=A==null?null:A-h;h=A,f&&f({action:d,location:E.location,delta:T})}function y(A,T){d=el.Push;let k=cw(E.location,A,T);h=p()+1;let M=R2(k,h),R=E.createHref(k);try{l.pushState(M,"",R)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(R)}s&&f&&f({action:d,location:E.location,delta:1})}function w(A,T){d=el.Replace;let k=cw(E.location,A,T);h=p();let M=R2(k,h),R=E.createHref(k);l.replaceState(M,"",R),s&&f&&f({action:d,location:E.location,delta:0})}function j(A){let T=i.location.origin!=="null"?i.location.origin:i.location.href,k=typeof A=="string"?A:mg(A);return k=k.replace(/ $/,"%20"),En(T,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,T)}let E={get action(){return d},get location(){return t(i,l)},listen(A){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(I2,v),f=A,()=>{i.removeEventListener(I2,v),f=null}},createHref(A){return e(i,A)},createURL:j,encodeLocation(A){let T=j(A);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:w,go(A){return l.go(A)}};return E}var k2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(k2||(k2={}));function m8(t,e,n){return n===void 0&&(n="/"),p8(t,e,n)}function p8(t,e,n,r){let i=typeof e=="string"?zd(e):e,s=XE(i.pathname||"/",n);if(s==null)return null;let l=HM(t);v8(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=T8(s);d=A8(l[f],h)}return d}function HM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,l,d)=>{let f={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};f.relativePath.startsWith("/")&&(En(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let h=il([r,f.relativePath]),p=n.concat(f);s.children&&s.children.length>0&&(En(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),HM(s.children,e,p,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:E8(h,s.index),routesMeta:p})};return t.forEach((s,l)=>{var d;if(s.path===""||!((d=s.path)!=null&&d.includes("?")))i(s,l);else for(let f of KM(s.path))i(s,l,f)}),e}function KM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=KM(r.join("/")),d=[];return d.push(...l.map(f=>f===""?s:[s,f].join("/"))),i&&d.push(...l),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function v8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:j8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const g8=/^:[\w-]+$/,y8=3,b8=2,_8=1,x8=10,w8=-2,D2=t=>t==="*";function E8(t,e){let n=t.split("/"),r=n.length;return n.some(D2)&&(r+=w8),e&&(r+=b8),n.filter(i=>!D2(i)).reduce((i,s)=>i+(g8.test(s)?y8:s===""?_8:x8),r)}function j8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function A8(t,e,n){let{routesMeta:r}=t,i={},s="/",l=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",v=S8({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),y=f.route;if(!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:il([s,v.pathname]),pathnameBase:R8(il([s,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(s=il([s,v.pathnameBase]))}return l}function S8(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=N8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((h,p,v)=>{let{paramName:y,isOptional:w}=p;if(y==="*"){let E=d[v]||"";l=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const j=d[v];return w&&!j?h[y]=void 0:h[y]=(j||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:t}}function N8(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),YE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function T8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return YE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function XE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const C8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P8=t=>C8.test(t);function O8(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?zd(t):t,s;if(n)if(P8(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),YE(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?s=M2(n.substring(1),"/"):s=M2(n,e)}else s=e;return{pathname:s,search:k8(r),hash:D8(i)}}function M2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function sx(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function I8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ZE(t,e){let n=I8(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function JE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=zd(t):(i=Lh({},t),En(!i.pathname||!i.pathname.includes("?"),sx("?","pathname","search",i)),En(!i.pathname||!i.pathname.includes("#"),sx("#","pathname","hash",i)),En(!i.search||!i.search.includes("#"),sx("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,d;if(l==null)d=n;else{let v=e.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),v-=1;i.pathname=y.join("/")}d=v>=0?e[v]:"/"}let f=O8(i,d),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}const il=t=>t.join("/").replace(/\/\/+/g,"/"),R8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),k8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,D8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function M8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const GM=["post","put","patch","delete"];new Set(GM);const z8=["get",...GM];new Set(z8);function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(this,arguments)}const ej=_.createContext(null),L8=_.createContext(null),jl=_.createContext(null),My=_.createContext(null),Ys=_.createContext({outlet:null,matches:[],isDataRoute:!1}),WM=_.createContext(null);function V8(t,e){let{relative:n}=e===void 0?{}:e;Ld()||En(!1);let{basename:r,navigator:i}=_.useContext(jl),{hash:s,pathname:l,search:d}=XM(t,{relative:n}),f=l;return r!=="/"&&(f=l==="/"?r:il([r,l])),i.createHref({pathname:f,search:d,hash:s})}function Ld(){return _.useContext(My)!=null}function Al(){return Ld()||En(!1),_.useContext(My).location}function QM(t){_.useContext(jl).static||_.useLayoutEffect(t)}function Sl(){let{isDataRoute:t}=_.useContext(Ys);return t?Z8():U8()}function U8(){Ld()||En(!1);let t=_.useContext(ej),{basename:e,future:n,navigator:r}=_.useContext(jl),{matches:i}=_.useContext(Ys),{pathname:s}=Al(),l=JSON.stringify(ZE(i,n.v7_relativeSplatPath)),d=_.useRef(!1);return QM(()=>{d.current=!0}),_.useCallback(function(h,p){if(p===void 0&&(p={}),!d.current)return;if(typeof h=="number"){r.go(h);return}let v=JE(h,JSON.parse(l),s,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:il([e,v.pathname])),(p.replace?r.replace:r.push)(v,p.state,p)},[e,r,l,s,t])}function YM(){let{matches:t}=_.useContext(Ys),e=t[t.length-1];return e?e.params:{}}function XM(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=_.useContext(jl),{matches:i}=_.useContext(Ys),{pathname:s}=Al(),l=JSON.stringify(ZE(i,r.v7_relativeSplatPath));return _.useMemo(()=>JE(t,JSON.parse(l),s,n==="path"),[t,l,s,n])}function q8(t,e){return B8(t,e)}function B8(t,e,n,r){Ld()||En(!1);let{navigator:i}=_.useContext(jl),{matches:s}=_.useContext(Ys),l=s[s.length-1],d=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let h=Al(),p;if(e){var v;let A=typeof e=="string"?zd(e):e;f==="/"||(v=A.pathname)!=null&&v.startsWith(f)||En(!1),p=A}else p=h;let y=p.pathname||"/",w=y;if(f!=="/"){let A=f.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(A.length).join("/")}let j=m8(t,{pathname:w}),E=G8(j&&j.map(A=>Object.assign({},A,{params:Object.assign({},d,A.params),pathname:il([f,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:il([f,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,n,r);return e&&E?_.createElement(My.Provider,{value:{location:Vh({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:el.Pop}},E):E}function $8(){let t=X8(),e=M8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,null)}const F8=_.createElement($8,null);class H8 extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(Ys.Provider,{value:this.props.routeContext},_.createElement(WM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function K8(t){let{routeContext:e,match:n,children:r}=t,i=_.useContext(ej);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(Ys.Provider,{value:e},r)}function G8(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,d=(i=n)==null?void 0:i.errors;if(d!=null){let p=l.findIndex(v=>v.route.id&&d?.[v.route.id]!==void 0);p>=0||En(!1),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<l.length;p++){let v=l[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=p),v.route.id){let{loaderData:y,errors:w}=n,j=v.route.loader&&y[v.route.id]===void 0&&(!w||w[v.route.id]===void 0);if(v.route.lazy||j){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,v,y)=>{let w,j=!1,E=null,A=null;n&&(w=d&&v.route.id?d[v.route.id]:void 0,E=v.route.errorElement||F8,f&&(h<0&&y===0?(J8("route-fallback"),j=!0,A=null):h===y&&(j=!0,A=v.route.hydrateFallbackElement||null)));let T=e.concat(l.slice(0,y+1)),k=()=>{let M;return w?M=E:j?M=A:v.route.Component?M=_.createElement(v.route.Component,null):v.route.element?M=v.route.element:M=p,_.createElement(K8,{match:v,routeContext:{outlet:p,matches:T,isDataRoute:n!=null},children:M})};return n&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?_.createElement(H8,{location:n.location,revalidation:n.revalidation,component:E,error:w,children:k(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):k()},null)}var ZM=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(ZM||{}),JM=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(JM||{});function W8(t){let e=_.useContext(ej);return e||En(!1),e}function Q8(t){let e=_.useContext(L8);return e||En(!1),e}function Y8(t){let e=_.useContext(Ys);return e||En(!1),e}function e4(t){let e=Y8(),n=e.matches[e.matches.length-1];return n.route.id||En(!1),n.route.id}function X8(){var t;let e=_.useContext(WM),n=Q8(),r=e4();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Z8(){let{router:t}=W8(ZM.UseNavigateStable),e=e4(JM.UseNavigateStable),n=_.useRef(!1);return QM(()=>{n.current=!0}),_.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Vh({fromRouteId:e},s)))},[t,e])}const z2={};function J8(t,e,n){z2[t]||(z2[t]=!0)}function eB(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function tB(t){let{to:e,replace:n,state:r,relative:i}=t;Ld()||En(!1);let{future:s,static:l}=_.useContext(jl),{matches:d}=_.useContext(Ys),{pathname:f}=Al(),h=Sl(),p=JE(e,ZE(d,s.v7_relativeSplatPath),f,i==="path"),v=JSON.stringify(p);return _.useEffect(()=>h(JSON.parse(v),{replace:n,state:r,relative:i}),[h,v,i,n,r]),null}function cr(t){En(!1)}function nB(t){let{basename:e="/",children:n=null,location:r,navigationType:i=el.Pop,navigator:s,static:l=!1,future:d}=t;Ld()&&En(!1);let f=e.replace(/^\/*/,"/"),h=_.useMemo(()=>({basename:f,navigator:s,static:l,future:Vh({v7_relativeSplatPath:!1},d)}),[f,d,s,l]);typeof r=="string"&&(r=zd(r));let{pathname:p="/",search:v="",hash:y="",state:w=null,key:j="default"}=r,E=_.useMemo(()=>{let A=XE(p,f);return A==null?null:{location:{pathname:A,search:v,hash:y,state:w,key:j},navigationType:i}},[f,p,v,y,w,j,i]);return E==null?null:_.createElement(jl.Provider,{value:h},_.createElement(My.Provider,{children:n,value:E}))}function rB(t){let{children:e,location:n}=t;return q8(uw(e),n)}new Promise(()=>{});function uw(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let s=[...e,i];if(r.type===_.Fragment){n.push.apply(n,uw(r.props.children,s));return}r.type!==cr&&En(!1),!r.props.index||!r.props.children||En(!1);let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=uw(r.props.children,s)),n.push(l)}),n}function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dw.apply(this,arguments)}function iB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function aB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sB(t,e){return t.button===0&&(!e||e==="_self")&&!aB(t)}const oB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lB="6";try{window.__reactRouterVersion=lB}catch{}const cB="startTransition",L2=$M[cB];function uB(t){let{basename:e,children:n,future:r,window:i}=t,s=_.useRef();s.current==null&&(s.current=d8({window:i,v5Compat:!0}));let l=s.current,[d,f]=_.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},p=_.useCallback(v=>{h&&L2?L2(()=>f(v)):f(v)},[f,h]);return _.useLayoutEffect(()=>l.listen(p),[l,p]),_.useEffect(()=>eB(r),[r]),_.createElement(nB,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:l,future:r})}const dB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=_.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:l,state:d,target:f,to:h,preventScrollReset:p,viewTransition:v}=e,y=iB(e,oB),{basename:w}=_.useContext(jl),j,E=!1;if(typeof h=="string"&&fB.test(h)&&(j=h,dB))try{let M=new URL(window.location.href),R=h.startsWith("//")?new URL(M.protocol+h):new URL(h),L=XE(R.pathname,w);R.origin===M.origin&&L!=null?h=L+R.search+R.hash:E=!0}catch{}let A=V8(h,{relative:i}),T=hB(h,{replace:l,state:d,target:f,preventScrollReset:p,relative:i,viewTransition:v});function k(M){r&&r(M),M.defaultPrevented||T(M)}return _.createElement("a",dw({},y,{href:j||A,onClick:E||s?r:k,ref:n,target:f}))});var V2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(V2||(V2={}));var U2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(U2||(U2={}));function hB(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:l,viewTransition:d}=e===void 0?{}:e,f=Sl(),h=Al(),p=XM(t,{relative:l});return _.useCallback(v=>{if(sB(v,n)){v.preventDefault();let y=r!==void 0?r:mg(h)===mg(p);f(t,{replace:y,state:i,preventScrollReset:s,relative:l,viewTransition:d})}},[h,f,p,r,i,n,t,s,l,d])}const mB=()=>{};var q2={};const t4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],d=t[n++],f=((i&7)<<18|(s&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},n4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,d=l?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,p=s>>2,v=(s&3)<<4|d>>4;let y=(d&15)<<2|h>>6,w=h&63;f||(w=64,l||(y=64)),r.push(n[p],n[v],n[y],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||d==null||h==null||v==null)throw new vB;const y=s<<2|d>>4;if(r.push(y),h!==64){const w=d<<4&240|h>>2;if(r.push(w),v!==64){const j=h<<6&192|v;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gB=function(t){const e=t4(t);return n4.encodeByteArray(e,!0)},pg=function(t){return gB(t).replace(/\./g,"")},r4=function(t){try{return n4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bB=()=>yB().__FIREBASE_DEFAULTS__,_B=()=>{if(typeof process>"u"||typeof q2>"u")return;const t=q2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&r4(t[1]);return e&&JSON.parse(e)},zy=()=>{try{return mB()||bB()||_B()||xB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},i4=t=>zy()?.emulatorHosts?.[t],a4=t=>{const e=i4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},s4=()=>zy()?.config,o4=t=>zy()?.[`_${t}`];class wB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Nl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tj(t){return(await fetch(t,{credentials:"include"})).ok}function l4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[pg(JSON.stringify(n)),pg(JSON.stringify(l)),""].join(".")}const Th={};function EB(){const t={prod:[],emulator:[]};for(const e of Object.keys(Th))Th[e]?t.emulator.push(e):t.prod.push(e);return t}function jB(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let B2=!1;function nj(t,e){if(typeof window>"u"||typeof document>"u"||!Nl(window.location.host)||Th[t]===e||Th[t]||B2)return;Th[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=EB().prod.length>0;function l(){const y=document.getElementById(r);y&&y.remove()}function d(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,w){y.setAttribute("width","24"),y.setAttribute("id",w),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{B2=!0,l()},y}function p(y,w){y.setAttribute("id",w),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function v(){const y=jB(r),w=n("text"),j=document.getElementById(w)||document.createElement("span"),E=n("learnmore"),A=document.getElementById(E)||document.createElement("a"),T=n("preprendIcon"),k=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const M=y.element;d(M),p(A,E);const R=h();f(k,T),M.append(k,j,A,R),document.body.appendChild(M)}s?(j.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function jr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jr())}function SB(){const t=zy()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PB(){const t=jr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function OB(){return!SB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IB(){try{return typeof indexedDB=="object"}catch{return!1}}function RB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const kB="FirebaseError";class rs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kB,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mm.prototype.create)}}class mm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?DB(s,r):"Error",d=`${this.serviceName}: ${l} (${i}).`;return new rs(i,d,r)}}function DB(t,e){return t.replace(MB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const MB=/\{\$([^}]+)}/g;function zB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if($2(s)&&$2(l)){if(!zc(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $2(t){return t!==null&&typeof t=="object"}function pm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function bh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function LB(t,e){const n=new VB(t,e);return n.subscribe.bind(n)}class VB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ox),i.error===void 0&&(i.error=ox),i.complete===void 0&&(i.complete=ox);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ox(){}function Ft(t){return t&&t._delegate?t._delegate:t}class fl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const mc="[DEFAULT]";let qB=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($B(e))try{this.getOrInitializeService({instanceIdentifier:mc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=mc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mc){return this.instances.has(e)}getOptions(e=mc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(s);r===d&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mc){return this.component?this.component.multipleInstances?e:mc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function BB(t){return t===mc?void 0:t}function $B(t){return t.instantiationMode==="EAGER"}class FB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const HB={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},KB=ot.INFO,GB={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},WB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=GB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rj{constructor(e){this.name=e,this._logLevel=KB,this._logHandler=WB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const QB=(t,e)=>e.some(n=>t instanceof n);let F2,H2;function YB(){return F2||(F2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XB(){return H2||(H2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c4=new WeakMap,fw=new WeakMap,u4=new WeakMap,lx=new WeakMap,ij=new WeakMap;function ZB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(al(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&c4.set(n,t)}).catch(()=>{}),ij.set(e,t),e}function JB(t){if(fw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});fw.set(t,e)}let hw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||u4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return al(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function e7(t){hw=t(hw)}function t7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cx(this),e,...n);return u4.set(r,e.sort?e.sort():[e]),al(r)}:XB().includes(t)?function(...e){return t.apply(cx(this),e),al(c4.get(this))}:function(...e){return al(t.apply(cx(this),e))}}function n7(t){return typeof t=="function"?t7(t):(t instanceof IDBTransaction&&JB(t),QB(t,YB())?new Proxy(t,hw):t)}function al(t){if(t instanceof IDBRequest)return ZB(t);if(lx.has(t))return lx.get(t);const e=n7(t);return e!==t&&(lx.set(t,e),ij.set(e,t)),e}const cx=t=>ij.get(t);function r7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),d=al(l);return r&&l.addEventListener("upgradeneeded",f=>{r(al(l.result),f.oldVersion,f.newVersion,al(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const i7=["get","getKey","getAll","getAllKeys","count"],a7=["put","add","delete","clear"],ux=new Map;function K2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ux.get(e))return ux.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=a7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||i7.includes(n)))return;const s=async function(l,...d){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(d.shift())),(await Promise.all([h[n](...d),i&&f.done]))[0]};return ux.set(e,s),s}e7(t=>({...t,get:(e,n,r)=>K2(e,n)||t.get(e,n,r),has:(e,n)=>!!K2(e,n)||t.has(e,n)}));class s7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(o7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function o7(t){return t.getComponent()?.type==="VERSION"}const mw="@firebase/app",G2="0.14.7";const Ls=new rj("@firebase/app"),l7="@firebase/app-compat",c7="@firebase/analytics-compat",u7="@firebase/analytics",d7="@firebase/app-check-compat",f7="@firebase/app-check",h7="@firebase/auth",m7="@firebase/auth-compat",p7="@firebase/database",v7="@firebase/data-connect",g7="@firebase/database-compat",y7="@firebase/functions",b7="@firebase/functions-compat",_7="@firebase/installations",x7="@firebase/installations-compat",w7="@firebase/messaging",E7="@firebase/messaging-compat",j7="@firebase/performance",A7="@firebase/performance-compat",S7="@firebase/remote-config",N7="@firebase/remote-config-compat",T7="@firebase/storage",C7="@firebase/storage-compat",P7="@firebase/firestore",O7="@firebase/ai",I7="@firebase/firestore-compat",R7="firebase",k7="12.8.0";const pw="[DEFAULT]",D7={[mw]:"fire-core",[l7]:"fire-core-compat",[u7]:"fire-analytics",[c7]:"fire-analytics-compat",[f7]:"fire-app-check",[d7]:"fire-app-check-compat",[h7]:"fire-auth",[m7]:"fire-auth-compat",[p7]:"fire-rtdb",[v7]:"fire-data-connect",[g7]:"fire-rtdb-compat",[y7]:"fire-fn",[b7]:"fire-fn-compat",[_7]:"fire-iid",[x7]:"fire-iid-compat",[w7]:"fire-fcm",[E7]:"fire-fcm-compat",[j7]:"fire-perf",[A7]:"fire-perf-compat",[S7]:"fire-rc",[N7]:"fire-rc-compat",[T7]:"fire-gcs",[C7]:"fire-gcs-compat",[P7]:"fire-fst",[I7]:"fire-fst-compat",[O7]:"fire-vertex","fire-js":"fire-js",[R7]:"fire-js-all"};const vg=new Map,M7=new Map,vw=new Map;function W2(t,e){try{t.container.addComponent(e)}catch(n){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lc(t){const e=t.name;if(vw.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;vw.set(e,t);for(const n of vg.values())W2(n,t);for(const n of M7.values())W2(n,t);return!0}function Ly(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ci(t){return t==null?!1:t.settings!==void 0}const z7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sl=new mm("app","Firebase",z7);class L7{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sl.create("app-deleted",{appName:this._name})}}const tu=k7;function d4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:pw,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw sl.create("bad-app-name",{appName:String(i)});if(n||(n=s4()),!n)throw sl.create("no-options");const s=vg.get(i);if(s){if(zc(n,s.options)&&zc(r,s.config))return s;throw sl.create("duplicate-app",{appName:i})}const l=new FB(i);for(const f of vw.values())l.addComponent(f);const d=new L7(n,r,l);return vg.set(i,d),d}function aj(t=pw){const e=vg.get(t);if(!e&&t===pw&&s4())return d4();if(!e)throw sl.create("no-app",{appName:t});return e}function Ba(t,e,n){let r=D7[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(l.join(" "));return}Lc(new fl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const V7="firebase-heartbeat-database",U7=1,Uh="firebase-heartbeat-store";let dx=null;function f4(){return dx||(dx=r7(V7,U7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uh)}catch(n){console.warn(n)}}}}).catch(t=>{throw sl.create("idb-open",{originalErrorMessage:t.message})})),dx}async function q7(t){try{const n=(await f4()).transaction(Uh),r=await n.objectStore(Uh).get(h4(t));return await n.done,r}catch(e){if(e instanceof rs)Ls.warn(e.message);else{const n=sl.create("idb-get",{originalErrorMessage:e?.message});Ls.warn(n.message)}}}async function Q2(t,e){try{const r=(await f4()).transaction(Uh,"readwrite");await r.objectStore(Uh).put(e,h4(t)),await r.done}catch(n){if(n instanceof rs)Ls.warn(n.message);else{const r=sl.create("idb-set",{originalErrorMessage:n?.message});Ls.warn(r.message)}}}function h4(t){return`${t.name}!${t.options.appId}`}const B7=1024,$7=30;class F7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new K7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Y2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>$7){const i=G7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ls.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Y2(),{heartbeatsToSend:n,unsentEntries:r}=H7(this._heartbeatsCache.heartbeats),i=pg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ls.warn(e),""}}}function Y2(){return new Date().toISOString().substring(0,10)}function H7(t,e=B7){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),X2(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),X2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class K7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IB()?RB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await q7(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Q2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Q2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function X2(t){return pg(JSON.stringify({version:2,heartbeats:t})).length}function G7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function W7(t){Lc(new fl("platform-logger",e=>new s7(e),"PRIVATE")),Lc(new fl("heartbeat",e=>new F7(e),"PRIVATE")),Ba(mw,G2,t),Ba(mw,G2,"esm2020"),Ba("fire-js","")}W7("");function m4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q7=m4,p4=new mm("auth","Firebase",m4());const gg=new rj("@firebase/auth");function Y7(t,...e){gg.logLevel<=ot.WARN&&gg.warn(`Auth (${tu}): ${t}`,...e)}function Xv(t,...e){gg.logLevel<=ot.ERROR&&gg.error(`Auth (${tu}): ${t}`,...e)}function da(t,...e){throw sj(t,...e)}function $a(t,...e){return sj(t,...e)}function v4(t,e,n){const r={...Q7(),[e]:n};return new mm("auth","Firebase",r).create(e,{appName:t.name})}function Rs(t){return v4(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sj(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return p4.create(t,...e)}function Fe(t,e,...n){if(!t)throw sj(e,...n)}function Ts(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xv(e),new Error(e)}function Vs(t,e){t||Ts(e)}function gw(){return typeof self<"u"&&self.location?.href||""}function X7(){return Z2()==="http:"||Z2()==="https:"}function Z2(){return typeof self<"u"&&self.location?.protocol||null}function Z7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X7()||TB()||"connection"in navigator)?navigator.onLine:!0}function J7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class vm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vs(n>e,"Short delay should be less than long delay!"),this.isMobile=AB()||CB()}get(){return Z7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function oj(t,e){Vs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class g4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const e$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const t$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],n$=new vm(3e4,6e4);function Tl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Xs(t,e,n,r,i={}){return y4(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const d=pm({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return NB()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Nl(t.emulatorConfig.host)&&(h.credentials="include"),g4.fetch()(await b4(t,t.config.apiHost,n,d),h)})}async function y4(t,e,n){t._canInitEmulator=!1;const r={...e$,...e};try{const i=new i$(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw wv(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const d=s.ok?l.errorMessage:l.error.message,[f,h]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw wv(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw wv(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw wv(t,"user-disabled",l);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw v4(t,p,h);da(t,p)}}catch(i){if(i instanceof rs)throw i;da(t,"network-request-failed",{message:String(i)})}}async function gm(t,e,n,r,i={}){const s=await Xs(t,e,n,r,i);return"mfaPendingCredential"in s&&da(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function b4(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?oj(t.config,i):`${t.config.apiScheme}://${i}`;return t$.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function r$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class i${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($a(this.auth,"network-request-failed")),n$.get())})}}function wv(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=$a(t,e,r);return i.customData._tokenResponse=n,i}function J2(t){return t!==void 0&&t.enterprise!==void 0}class a${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return r$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function s$(t,e){return Xs(t,"GET","/v2/recaptchaConfig",Tl(t,e))}async function o$(t,e){return Xs(t,"POST","/v1/accounts:delete",e)}async function yg(t,e){return Xs(t,"POST","/v1/accounts:lookup",e)}function Ch(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function l$(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),i=lj(r);Fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:Ch(fx(i.auth_time)),issuedAtTime:Ch(fx(i.iat)),expirationTime:Ch(fx(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function fx(t){return Number(t)*1e3}function lj(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xv("JWT malformed, contained fewer than 3 sections"),null;try{const i=r4(n);return i?JSON.parse(i):(Xv("Failed to decode base64 JWT payload"),null)}catch(i){return Xv("Caught error parsing JWT payload as JSON",i?.toString()),null}}function eP(t){const e=lj(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rs&&c$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function c$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class u${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class yw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ch(this.lastLoginAt),this.creationTime=Ch(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bg(t){const e=t.auth,n=await t.getIdToken(),r=await wd(t,yg(e,{idToken:n}));Fe(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?_4(i.providerUserInfo):[],l=f$(t.providerData,s),d=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!l?.length,h=d?f:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new yw(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function d$(t){const e=Ft(t);await bg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function f$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _4(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function h$(t,e){const n=await y4(t,{},async()=>{const r=pm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await b4(t,i,"/v1/token",`key=${s}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return t.emulatorConfig&&Nl(t.emulatorConfig.host)&&(f.credentials="include"),g4.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function m$(t,e){return Xs(t,"POST","/v2/accounts:revokeToken",Tl(t,e))}class md{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const n=eP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await h$(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new md;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Fe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Fe(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new md,this.toJSON())}_performRefresh(){return Ts("not implemented")}}function qo(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class la{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new u$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new yw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await wd(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return l$(this,e)}reload(){return d$(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new la({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(Rs(this.auth));const e=await this.getIdToken();return await wd(this,o$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:v,emailVerified:y,isAnonymous:w,providerData:j,stsTokenManager:E}=n;Fe(v&&E,e,"internal-error");const A=md.fromJSON(this.name,E);Fe(typeof v=="string",e,"internal-error"),qo(r,e.name),qo(i,e.name),Fe(typeof y=="boolean",e,"internal-error"),Fe(typeof w=="boolean",e,"internal-error"),qo(s,e.name),qo(l,e.name),qo(d,e.name),qo(f,e.name),qo(h,e.name),qo(p,e.name);const T=new la({uid:v,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:w,photoURL:l,phoneNumber:s,tenantId:d,stsTokenManager:A,createdAt:h,lastLoginAt:p});return j&&Array.isArray(j)&&(T.providerData=j.map(k=>({...k}))),f&&(T._redirectEventId=f),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new md;i.updateFromServerResponse(n);const s=new la({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await bg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Fe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?_4(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,d=new md;d.updateFromIdToken(r);const f=new la({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new yw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(f,h),f}}const tP=new Map;function Cs(t){Vs(t instanceof Function,"Expected a class definition");let e=tP.get(t);return e?(Vs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tP.set(t,e),e)}class x4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}x4.type="NONE";const nP=x4;function Zv(t,e,n){return`firebase:${t}:${e}:${n}`}class pd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Zv(this.userKey,i.apiKey,s),this.fullPersistenceKey=Zv("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yg(this.auth,{idToken:e}).catch(()=>{});return n?la._fromGetAccountInfoResponse(this.auth,n,e):null}return la._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pd(Cs(nP),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Cs(nP);const l=Zv(r,e.config.apiKey,e.name);let d=null;for(const h of n)try{const p=await h._get(l);if(p){let v;if(typeof p=="string"){const y=await yg(e,{idToken:p}).catch(()=>{});if(!y)break;v=await la._fromGetAccountInfoResponse(e,y,p)}else v=la._fromJSON(e,p);h!==s&&(d=v),s=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new pd(s,e,r):(s=f[0],d&&await s._set(l,d.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new pd(s,e,r))}}function rP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(A4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(w4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(N4(e))return"Blackberry";if(T4(e))return"Webos";if(E4(e))return"Safari";if((e.includes("chrome/")||j4(e))&&!e.includes("edge/"))return"Chrome";if(S4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function w4(t=jr()){return/firefox\//i.test(t)}function E4(t=jr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function j4(t=jr()){return/crios\//i.test(t)}function A4(t=jr()){return/iemobile/i.test(t)}function S4(t=jr()){return/android/i.test(t)}function N4(t=jr()){return/blackberry/i.test(t)}function T4(t=jr()){return/webos/i.test(t)}function cj(t=jr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function p$(t=jr()){return cj(t)&&!!window.navigator?.standalone}function v$(){return PB()&&document.documentMode===10}function C4(t=jr()){return cj(t)||S4(t)||T4(t)||N4(t)||/windows phone/i.test(t)||A4(t)}function P4(t,e=[]){let n;switch(t){case"Browser":n=rP(jr());break;case"Worker":n=`${rP(jr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tu}/${r}`}class g${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,d)=>{try{const f=e(s);l(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function y$(t,e={}){return Xs(t,"GET","/v2/passwordPolicy",Tl(t,e))}const b$=6;class _${constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??b$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class x${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iP(this),this.idTokenSubscription=new iP(this),this.beforeStateQueue=new g$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await pd.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yg(this,{idToken:e}),r=await la._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ci(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!s||s===l)&&d?.user&&(r=d.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ci(this.app))return Promise.reject(Rs(this));const n=e?Ft(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ci(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await y$(this),n=new _$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await m$(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cs(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await pd.create(this,[Cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(d,this,"internal-error"),d.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=P4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Y7(`Error while retrieving App Check token: ${e.error}`),e?.token}}function nu(t){return Ft(t)}class iP{constructor(e){this.auth=e,this.observer=null,this.addObserver=LB(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function w$(t){Vy=t}function O4(t){return Vy.loadJS(t)}function E$(){return Vy.recaptchaEnterpriseScript}function j$(){return Vy.gapiScript}function A$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class S${constructor(){this.enterprise=new N$}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class N${ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const T$="recaptcha-enterprise",I4="NO_RECAPTCHA";class C${constructor(e){this.type=T$,this.auth=nu(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,d)=>{s$(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const h=new a$(f);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,l(h.siteKey)}}).catch(f=>{d(f)})})}function i(s,l,d){const f=window.grecaptcha;J2(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(h=>{l(h)}).catch(()=>{l(I4)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new S$().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(d=>{if(!n&&J2(window.grecaptcha))i(d,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=E$();f.length!==0&&(f+=d),O4(f).then(()=>{i(d,s,l)}).catch(h=>{l(h)})}}).catch(d=>{l(d)})})}}async function aP(t,e,n,r=!1,i=!1){const s=new C$(t);let l;if(i)l=I4;else try{l=await s.verify(n)}catch{l=await s.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,h=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:l}):Object.assign(d,{captchaResponse:l}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function bw(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await aP(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await aP(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(s)})}function P$(t,e){const n=Ly(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(zc(s,e??{}))return i;da(i,"already-initialized")}return n.initialize({options:e})}function O$(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Cs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function I$(t,e,n){const r=nu(t);Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=R4(e),{host:l,port:d}=R$(e),f=d===null?"":`:${d}`,h={url:`${s}//${l}${f}/`},p=Object.freeze({host:l,port:d,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Fe(zc(h,r.config.emulator)&&zc(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Nl(l)?(tj(`${s}//${l}${f}`),nj("Auth",!0)):k$()}function R4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function R$(t){const e=R4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:sP(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:sP(l)}}}function sP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function k$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class uj{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ts("not implemented")}_getIdTokenResponse(e){return Ts("not implemented")}_linkToIdToken(e,n){return Ts("not implemented")}_getReauthenticationResolver(e){return Ts("not implemented")}}async function D$(t,e){return Xs(t,"POST","/v1/accounts:signUp",e)}async function M$(t,e){return gm(t,"POST","/v1/accounts:signInWithPassword",Tl(t,e))}async function z$(t,e){return gm(t,"POST","/v1/accounts:signInWithEmailLink",Tl(t,e))}async function L$(t,e){return gm(t,"POST","/v1/accounts:signInWithEmailLink",Tl(t,e))}class qh extends uj{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new qh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new qh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bw(e,n,"signInWithPassword",M$);case"emailLink":return z$(e,{email:this._email,oobCode:this._password});default:da(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bw(e,r,"signUpPassword",D$);case"emailLink":return L$(e,{idToken:n,email:this._email,oobCode:this._password});default:da(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function vd(t,e){return gm(t,"POST","/v1/accounts:signInWithIdp",Tl(t,e))}const V$="http://localhost";class Vc extends uj{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):da("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new Vc(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return vd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vd(e,n)}buildRequest(){const e={requestUri:V$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pm(n)}return e}}function U$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function q$(t){const e=yh(bh(t)).link,n=e?yh(bh(e)).deep_link_id:null,r=yh(bh(t)).deep_link_id;return(r?yh(bh(r)).link:null)||r||n||e||t}class dj{constructor(e){const n=yh(bh(e)),r=n.apiKey??null,i=n.oobCode??null,s=U$(n.mode??null);Fe(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=q$(e);try{return new dj(n)}catch{return null}}}class Vd{constructor(){this.providerId=Vd.PROVIDER_ID}static credential(e,n){return qh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=dj.parseLink(n);return Fe(r,"argument-error"),qh._fromEmailAndCode(e,r.code,r.tenantId)}}Vd.PROVIDER_ID="password";Vd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class k4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ym extends k4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Go extends ym{constructor(){super("facebook.com")}static credential(e){return Vc._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Go.credential(e.oauthAccessToken)}catch{return null}}}Go.FACEBOOK_SIGN_IN_METHOD="facebook.com";Go.PROVIDER_ID="facebook.com";class Wo extends ym{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vc._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wo.credential(n,r)}catch{return null}}}Wo.GOOGLE_SIGN_IN_METHOD="google.com";Wo.PROVIDER_ID="google.com";class Qo extends ym{constructor(){super("github.com")}static credential(e){return Vc._fromParams({providerId:Qo.PROVIDER_ID,signInMethod:Qo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qo.credentialFromTaggedObject(e)}static credentialFromError(e){return Qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qo.credential(e.oauthAccessToken)}catch{return null}}}Qo.GITHUB_SIGN_IN_METHOD="github.com";Qo.PROVIDER_ID="github.com";class Yo extends ym{constructor(){super("twitter.com")}static credential(e,n){return Vc._fromParams({providerId:Yo.PROVIDER_ID,signInMethod:Yo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yo.credentialFromTaggedObject(e)}static credentialFromError(e){return Yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Yo.credential(n,r)}catch{return null}}}Yo.TWITTER_SIGN_IN_METHOD="twitter.com";Yo.PROVIDER_ID="twitter.com";async function B$(t,e){return gm(t,"POST","/v1/accounts:signUp",Tl(t,e))}class Uc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await la._fromIdTokenResponse(e,r,i),l=oP(r);return new Uc({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=oP(r);return new Uc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function oP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class _g extends rs{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_g.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new _g(e,n,r,i)}}function D4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?_g._fromErrorAndOperation(t,s,e,r):s})}async function $$(t,e,n=!1){const r=await wd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Uc._forOperation(t,"link",r)}async function F$(t,e,n=!1){const{auth:r}=t;if(ci(r.app))return Promise.reject(Rs(r));const i="reauthenticate";try{const s=await wd(t,D4(r,i,e,t),n);Fe(s.idToken,r,"internal-error");const l=lj(s.idToken);Fe(l,r,"internal-error");const{sub:d}=l;return Fe(t.uid===d,r,"user-mismatch"),Uc._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&da(r,"user-mismatch"),s}}async function M4(t,e,n=!1){if(ci(t.app))return Promise.reject(Rs(t));const r="signIn",i=await D4(t,r,e),s=await Uc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function H$(t,e){return M4(nu(t),e)}async function z4(t){const e=nu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function K$(t,e,n){if(ci(t.app))return Promise.reject(Rs(t));const r=nu(t),l=await bw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",B$).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&z4(t),f}),d=await Uc._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(d.user),d}function G$(t,e,n){return ci(t.app)?Promise.reject(Rs(t)):H$(Ft(t),Vd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&z4(t),r})}async function W$(t,e){return Xs(t,"POST","/v1/accounts:update",e)}async function Q$(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ft(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await wd(r,W$(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function Y$(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function X$(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function Z$(t,e,n,r){return Ft(t).onAuthStateChanged(e,n,r)}function J$(t){return Ft(t).signOut()}const xg="__sak";class L4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xg,"1"),this.storage.removeItem(xg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const eF=1e3,tF=10;class V4 extends L4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,d,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);v$()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,tF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},eF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}V4.type="LOCAL";const nF=V4;class U4 extends L4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}U4.type="SESSION";const q4=U4;function rF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Uy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Uy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(l).map(async h=>h(n.origin,s)),f=await rF(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uy.receivers=[];function fj(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class iF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((d,f)=>{const h=fj("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const y=v;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),d(y.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Fa(){return window}function aF(t){Fa().location.href=t}function B4(){return typeof Fa().WorkerGlobalScope<"u"&&typeof Fa().importScripts=="function"}async function sF(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oF(){return navigator?.serviceWorker?.controller||null}function lF(){return B4()?self:null}const $4="firebaseLocalStorageDb",cF=1,wg="firebaseLocalStorage",F4="fbase_key";class bm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qy(t,e){return t.transaction([wg],e?"readwrite":"readonly").objectStore(wg)}function uF(){const t=indexedDB.deleteDatabase($4);return new bm(t).toPromise()}function _w(){const t=indexedDB.open($4,cF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wg,{keyPath:F4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wg)?e(r):(r.close(),await uF(),e(await _w()))})})}async function lP(t,e,n){const r=qy(t,!0).put({[F4]:e,value:n});return new bm(r).toPromise()}async function dF(t,e){const n=qy(t,!1).get(e),r=await new bm(n).toPromise();return r===void 0?null:r.value}function cP(t,e){const n=qy(t,!0).delete(e);return new bm(n).toPromise()}const fF=800,hF=3;class H4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _w(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uy._getInstance(lF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sF(),!this.activeServiceWorker)return;this.sender=new iF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _w();return await lP(e,xg,"1"),await cP(e,xg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>lP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>dF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=qy(i,!1).getAll();return new bm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H4.type="LOCAL";const mF=H4;new vm(3e4,6e4);function pF(t,e){return e?Cs(e):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class hj extends uj{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vF(t){return M4(t.auth,new hj(t),t.bypassAuthState)}function gF(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),F$(n,new hj(t),t.bypassAuthState)}async function yF(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),$$(n,new hj(t),t.bypassAuthState)}class K4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:d}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vF;case"linkViaPopup":case"linkViaRedirect":return yF;case"reauthViaPopup":case"reauthViaRedirect":return gF;default:da(this.auth,"internal-error")}}resolve(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bF=new vm(2e3,1e4);class ld extends K4{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ld.currentPopupAction&&ld.currentPopupAction.cancel(),ld.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){Vs(this.filter.length===1,"Popup operations only handle one event");const e=fj();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($a(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($a(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ld.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($a(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bF.get())};e()}}ld.currentPopupAction=null;const _F="pendingRedirect",Jv=new Map;class xF extends K4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jv.get(this.auth._key());if(!e){try{const r=await wF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jv.set(this.auth._key(),e)}return this.bypassAuthState||Jv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wF(t,e){const n=AF(e),r=jF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function EF(t,e){Jv.set(t._key(),e)}function jF(t){return Cs(t._redirectPersistence)}function AF(t){return Zv(_F,t.config.apiKey,t.name)}async function SF(t,e,n=!1){if(ci(t.app))return Promise.reject(Rs(t));const r=nu(t),i=pF(r,e),l=await new xF(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const NF=600*1e3;class TF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!G4(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError($a(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NF&&this.cachedEventUids.clear(),this.cachedEventUids.has(uP(e))}saveEventToCache(e){this.cachedEventUids.add(uP(e)),this.lastProcessedEventTime=Date.now()}}function uP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function G4({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function CF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G4(t);default:return!1}}async function PF(t,e={}){return Xs(t,"GET","/v1/projects",e)}const OF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IF=/^https?/;async function RF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PF(t);for(const n of e)try{if(kF(n))return}catch{}da(t,"unauthorized-domain")}function kF(t){const e=gw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!IF.test(n))return!1;if(OF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const DF=new vm(3e4,6e4);function dP(){const t=Fa().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function MF(t){return new Promise((e,n)=>{function r(){dP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dP(),n($a(t,"network-request-failed"))},timeout:DF.get()})}if(Fa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fa().gapi?.load)r();else{const i=A$("iframefcb");return Fa()[i]=()=>{gapi.load?r():n($a(t,"network-request-failed"))},O4(`${j$()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw eg=null,e})}let eg=null;function zF(t){return eg=eg||MF(t),eg}const LF=new vm(5e3,15e3),VF="__/auth/iframe",UF="emulator/auth/iframe",qF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $F(t){const e=t.config;Fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?oj(e,UF):`https://${t.config.authDomain}/${VF}`,r={apiKey:e.apiKey,appName:t.name,v:tu},i=BF.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${pm(r).slice(1)}`}async function FF(t){const e=await zF(t),n=Fa().gapi;return Fe(n,t,"internal-error"),e.open({where:document.body,url:$F(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qF,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=$a(t,"network-request-failed"),d=Fa().setTimeout(()=>{s(l)},LF.get());function f(){Fa().clearTimeout(d),i(r)}r.ping(f).then(f,()=>{s(l)})}))}const HF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KF=500,GF=600,WF="_blank",QF="http://localhost";class fP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YF(t,e,n,r=KF,i=GF){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...HF,width:r.toString(),height:i.toString(),top:s,left:l},h=jr().toLowerCase();n&&(d=j4(h)?WF:n),w4(h)&&(e=e||QF,f.scrollbars="yes");const p=Object.entries(f).reduce((y,[w,j])=>`${y}${w}=${j},`,"");if(p$(h)&&d!=="_self")return XF(e||"",d),new fP(null);const v=window.open(e||"",d,p);Fe(v,t,"popup-blocked");try{v.focus()}catch{}return new fP(v)}function XF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const ZF="__/auth/handler",JF="emulator/auth/handler",eH=encodeURIComponent("fac");async function hP(t,e,n,r,i,s){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:tu,eventId:i};if(e instanceof k4){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",zB(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries({}))l[p]=v}if(e instanceof ym){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const d=l;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const f=await t._getAppCheckToken(),h=f?`#${eH}=${encodeURIComponent(f)}`:"";return`${tH(t)}?${pm(d).slice(1)}${h}`}function tH({config:t}){return t.emulator?oj(t,JF):`https://${t.authDomain}/${ZF}`}const hx="webStorageSupport";class nH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q4,this._completeRedirectFn=SF,this._overrideRedirectResult=EF}async _openPopup(e,n,r,i){Vs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await hP(e,n,r,gw(),i);return YF(e,s,fj())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await hP(e,n,r,gw(),i);return aF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Vs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await FF(e),r=new TF(e);return n.register("authEvent",i=>(Fe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hx,{type:hx},i=>{const s=i?.[0]?.[hx];s!==void 0&&n(!!s),da(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return C4()||E4()||cj()}}const rH=nH;var mP="@firebase/auth",pP="1.12.0";class iH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function aH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sH(t){Lc(new fl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;Fe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P4(t)},h=new x$(r,i,s,f);return O$(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Lc(new fl("auth-internal",e=>{const n=nu(e.getProvider("auth").getImmediate());return(r=>new iH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ba(mP,pP,aH(t)),Ba(mP,pP,"esm2020")}const oH=300,lH=o4("authIdTokenMaxAge")||oH;let vP=null;const cH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>lH)return;const i=n?.token;vP!==i&&(vP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uH(t=aj()){const e=Ly(t,"auth");if(e.isInitialized())return e.getImmediate();const n=P$(t,{popupRedirectResolver:rH,persistence:[mF,nF,q4]}),r=o4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=cH(s.toString());X$(n,l,()=>l(n.currentUser)),Y$(n,d=>l(d))}}const i=i4("auth");return i&&I$(n,`http://${i}`),n}function dH(){return document.getElementsByTagName("head")?.[0]??document}w$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=$a("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",dH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sH("Browser");var gP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ol,W4;(function(){var t;function e(O,P){function I(){}I.prototype=P.prototype,O.F=P.prototype,O.prototype=new I,O.prototype.constructor=O,O.D=function(B,U,z){for(var q=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)q[pe-2]=arguments[pe];return P.prototype[U].apply(B,q)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,P,I){I||(I=0);const B=Array(16);if(typeof P=="string")for(var U=0;U<16;++U)B[U]=P.charCodeAt(I++)|P.charCodeAt(I++)<<8|P.charCodeAt(I++)<<16|P.charCodeAt(I++)<<24;else for(U=0;U<16;++U)B[U]=P[I++]|P[I++]<<8|P[I++]<<16|P[I++]<<24;P=O.g[0],I=O.g[1],U=O.g[2];let z=O.g[3],q;q=P+(z^I&(U^z))+B[0]+3614090360&4294967295,P=I+(q<<7&4294967295|q>>>25),q=z+(U^P&(I^U))+B[1]+3905402710&4294967295,z=P+(q<<12&4294967295|q>>>20),q=U+(I^z&(P^I))+B[2]+606105819&4294967295,U=z+(q<<17&4294967295|q>>>15),q=I+(P^U&(z^P))+B[3]+3250441966&4294967295,I=U+(q<<22&4294967295|q>>>10),q=P+(z^I&(U^z))+B[4]+4118548399&4294967295,P=I+(q<<7&4294967295|q>>>25),q=z+(U^P&(I^U))+B[5]+1200080426&4294967295,z=P+(q<<12&4294967295|q>>>20),q=U+(I^z&(P^I))+B[6]+2821735955&4294967295,U=z+(q<<17&4294967295|q>>>15),q=I+(P^U&(z^P))+B[7]+4249261313&4294967295,I=U+(q<<22&4294967295|q>>>10),q=P+(z^I&(U^z))+B[8]+1770035416&4294967295,P=I+(q<<7&4294967295|q>>>25),q=z+(U^P&(I^U))+B[9]+2336552879&4294967295,z=P+(q<<12&4294967295|q>>>20),q=U+(I^z&(P^I))+B[10]+4294925233&4294967295,U=z+(q<<17&4294967295|q>>>15),q=I+(P^U&(z^P))+B[11]+2304563134&4294967295,I=U+(q<<22&4294967295|q>>>10),q=P+(z^I&(U^z))+B[12]+1804603682&4294967295,P=I+(q<<7&4294967295|q>>>25),q=z+(U^P&(I^U))+B[13]+4254626195&4294967295,z=P+(q<<12&4294967295|q>>>20),q=U+(I^z&(P^I))+B[14]+2792965006&4294967295,U=z+(q<<17&4294967295|q>>>15),q=I+(P^U&(z^P))+B[15]+1236535329&4294967295,I=U+(q<<22&4294967295|q>>>10),q=P+(U^z&(I^U))+B[1]+4129170786&4294967295,P=I+(q<<5&4294967295|q>>>27),q=z+(I^U&(P^I))+B[6]+3225465664&4294967295,z=P+(q<<9&4294967295|q>>>23),q=U+(P^I&(z^P))+B[11]+643717713&4294967295,U=z+(q<<14&4294967295|q>>>18),q=I+(z^P&(U^z))+B[0]+3921069994&4294967295,I=U+(q<<20&4294967295|q>>>12),q=P+(U^z&(I^U))+B[5]+3593408605&4294967295,P=I+(q<<5&4294967295|q>>>27),q=z+(I^U&(P^I))+B[10]+38016083&4294967295,z=P+(q<<9&4294967295|q>>>23),q=U+(P^I&(z^P))+B[15]+3634488961&4294967295,U=z+(q<<14&4294967295|q>>>18),q=I+(z^P&(U^z))+B[4]+3889429448&4294967295,I=U+(q<<20&4294967295|q>>>12),q=P+(U^z&(I^U))+B[9]+568446438&4294967295,P=I+(q<<5&4294967295|q>>>27),q=z+(I^U&(P^I))+B[14]+3275163606&4294967295,z=P+(q<<9&4294967295|q>>>23),q=U+(P^I&(z^P))+B[3]+4107603335&4294967295,U=z+(q<<14&4294967295|q>>>18),q=I+(z^P&(U^z))+B[8]+1163531501&4294967295,I=U+(q<<20&4294967295|q>>>12),q=P+(U^z&(I^U))+B[13]+2850285829&4294967295,P=I+(q<<5&4294967295|q>>>27),q=z+(I^U&(P^I))+B[2]+4243563512&4294967295,z=P+(q<<9&4294967295|q>>>23),q=U+(P^I&(z^P))+B[7]+1735328473&4294967295,U=z+(q<<14&4294967295|q>>>18),q=I+(z^P&(U^z))+B[12]+2368359562&4294967295,I=U+(q<<20&4294967295|q>>>12),q=P+(I^U^z)+B[5]+4294588738&4294967295,P=I+(q<<4&4294967295|q>>>28),q=z+(P^I^U)+B[8]+2272392833&4294967295,z=P+(q<<11&4294967295|q>>>21),q=U+(z^P^I)+B[11]+1839030562&4294967295,U=z+(q<<16&4294967295|q>>>16),q=I+(U^z^P)+B[14]+4259657740&4294967295,I=U+(q<<23&4294967295|q>>>9),q=P+(I^U^z)+B[1]+2763975236&4294967295,P=I+(q<<4&4294967295|q>>>28),q=z+(P^I^U)+B[4]+1272893353&4294967295,z=P+(q<<11&4294967295|q>>>21),q=U+(z^P^I)+B[7]+4139469664&4294967295,U=z+(q<<16&4294967295|q>>>16),q=I+(U^z^P)+B[10]+3200236656&4294967295,I=U+(q<<23&4294967295|q>>>9),q=P+(I^U^z)+B[13]+681279174&4294967295,P=I+(q<<4&4294967295|q>>>28),q=z+(P^I^U)+B[0]+3936430074&4294967295,z=P+(q<<11&4294967295|q>>>21),q=U+(z^P^I)+B[3]+3572445317&4294967295,U=z+(q<<16&4294967295|q>>>16),q=I+(U^z^P)+B[6]+76029189&4294967295,I=U+(q<<23&4294967295|q>>>9),q=P+(I^U^z)+B[9]+3654602809&4294967295,P=I+(q<<4&4294967295|q>>>28),q=z+(P^I^U)+B[12]+3873151461&4294967295,z=P+(q<<11&4294967295|q>>>21),q=U+(z^P^I)+B[15]+530742520&4294967295,U=z+(q<<16&4294967295|q>>>16),q=I+(U^z^P)+B[2]+3299628645&4294967295,I=U+(q<<23&4294967295|q>>>9),q=P+(U^(I|~z))+B[0]+4096336452&4294967295,P=I+(q<<6&4294967295|q>>>26),q=z+(I^(P|~U))+B[7]+1126891415&4294967295,z=P+(q<<10&4294967295|q>>>22),q=U+(P^(z|~I))+B[14]+2878612391&4294967295,U=z+(q<<15&4294967295|q>>>17),q=I+(z^(U|~P))+B[5]+4237533241&4294967295,I=U+(q<<21&4294967295|q>>>11),q=P+(U^(I|~z))+B[12]+1700485571&4294967295,P=I+(q<<6&4294967295|q>>>26),q=z+(I^(P|~U))+B[3]+2399980690&4294967295,z=P+(q<<10&4294967295|q>>>22),q=U+(P^(z|~I))+B[10]+4293915773&4294967295,U=z+(q<<15&4294967295|q>>>17),q=I+(z^(U|~P))+B[1]+2240044497&4294967295,I=U+(q<<21&4294967295|q>>>11),q=P+(U^(I|~z))+B[8]+1873313359&4294967295,P=I+(q<<6&4294967295|q>>>26),q=z+(I^(P|~U))+B[15]+4264355552&4294967295,z=P+(q<<10&4294967295|q>>>22),q=U+(P^(z|~I))+B[6]+2734768916&4294967295,U=z+(q<<15&4294967295|q>>>17),q=I+(z^(U|~P))+B[13]+1309151649&4294967295,I=U+(q<<21&4294967295|q>>>11),q=P+(U^(I|~z))+B[4]+4149444226&4294967295,P=I+(q<<6&4294967295|q>>>26),q=z+(I^(P|~U))+B[11]+3174756917&4294967295,z=P+(q<<10&4294967295|q>>>22),q=U+(P^(z|~I))+B[2]+718787259&4294967295,U=z+(q<<15&4294967295|q>>>17),q=I+(z^(U|~P))+B[9]+3951481745&4294967295,O.g[0]=O.g[0]+P&4294967295,O.g[1]=O.g[1]+(U+(q<<21&4294967295|q>>>11))&4294967295,O.g[2]=O.g[2]+U&4294967295,O.g[3]=O.g[3]+z&4294967295}r.prototype.v=function(O,P){P===void 0&&(P=O.length);const I=P-this.blockSize,B=this.C;let U=this.h,z=0;for(;z<P;){if(U==0)for(;z<=I;)i(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<P;)if(B[U++]=O.charCodeAt(z++),U==this.blockSize){i(this,B),U=0;break}}else for(;z<P;)if(B[U++]=O[z++],U==this.blockSize){i(this,B),U=0;break}}this.h=U,this.o+=P},r.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var P=1;P<O.length-8;++P)O[P]=0;P=this.o*8;for(var I=O.length-8;I<O.length;++I)O[I]=P&255,P/=256;for(this.v(O),O=Array(16),P=0,I=0;I<4;++I)for(let B=0;B<32;B+=8)O[P++]=this.g[I]>>>B&255;return O};function s(O,P){var I=d;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=P(O)}function l(O,P){this.h=P;const I=[];let B=!0;for(let U=O.length-1;U>=0;U--){const z=O[U]|0;B&&z==P||(I[U]=z,B=!1)}this.g=I}var d={};function f(O){return-128<=O&&O<128?s(O,function(P){return new l([P|0],P<0?-1:0)}):new l([O|0],O<0?-1:0)}function h(O){if(isNaN(O)||!isFinite(O))return v;if(O<0)return A(h(-O));const P=[];let I=1;for(let B=0;O>=I;B++)P[B]=O/I|0,I*=4294967296;return new l(P,0)}function p(O,P){if(O.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(O.charAt(0)=="-")return A(p(O.substring(1),P));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=h(Math.pow(P,8));let B=v;for(let z=0;z<O.length;z+=8){var U=Math.min(8,O.length-z);const q=parseInt(O.substring(z,z+U),P);U<8?(U=h(Math.pow(P,U)),B=B.j(U).add(h(q))):(B=B.j(I),B=B.add(h(q)))}return B}var v=f(0),y=f(1),w=f(16777216);t=l.prototype,t.m=function(){if(E(this))return-A(this).m();let O=0,P=1;for(let I=0;I<this.g.length;I++){const B=this.i(I);O+=(B>=0?B:4294967296+B)*P,P*=4294967296}return O},t.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(j(this))return"0";if(E(this))return"-"+A(this).toString(O);const P=h(Math.pow(O,6));var I=this;let B="";for(;;){const U=R(I,P).g;I=T(I,U.j(P));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(O);if(I=U,j(I))return z+B;for(;z.length<6;)z="0"+z;B=z+B}},t.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function j(O){if(O.h!=0)return!1;for(let P=0;P<O.g.length;P++)if(O.g[P]!=0)return!1;return!0}function E(O){return O.h==-1}t.l=function(O){return O=T(this,O),E(O)?-1:j(O)?0:1};function A(O){const P=O.g.length,I=[];for(let B=0;B<P;B++)I[B]=~O.g[B];return new l(I,~O.h).add(y)}t.abs=function(){return E(this)?A(this):this},t.add=function(O){const P=Math.max(this.g.length,O.g.length),I=[];let B=0;for(let U=0;U<=P;U++){let z=B+(this.i(U)&65535)+(O.i(U)&65535),q=(z>>>16)+(this.i(U)>>>16)+(O.i(U)>>>16);B=q>>>16,z&=65535,q&=65535,I[U]=q<<16|z}return new l(I,I[I.length-1]&-2147483648?-1:0)};function T(O,P){return O.add(A(P))}t.j=function(O){if(j(this)||j(O))return v;if(E(this))return E(O)?A(this).j(A(O)):A(A(this).j(O));if(E(O))return A(this.j(A(O)));if(this.l(w)<0&&O.l(w)<0)return h(this.m()*O.m());const P=this.g.length+O.g.length,I=[];for(var B=0;B<2*P;B++)I[B]=0;for(B=0;B<this.g.length;B++)for(let U=0;U<O.g.length;U++){const z=this.i(B)>>>16,q=this.i(B)&65535,pe=O.i(U)>>>16,Ee=O.i(U)&65535;I[2*B+2*U]+=q*Ee,k(I,2*B+2*U),I[2*B+2*U+1]+=z*Ee,k(I,2*B+2*U+1),I[2*B+2*U+1]+=q*pe,k(I,2*B+2*U+1),I[2*B+2*U+2]+=z*pe,k(I,2*B+2*U+2)}for(O=0;O<P;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=P;O<2*P;O++)I[O]=0;return new l(I,0)};function k(O,P){for(;(O[P]&65535)!=O[P];)O[P+1]+=O[P]>>>16,O[P]&=65535,P++}function M(O,P){this.g=O,this.h=P}function R(O,P){if(j(P))throw Error("division by zero");if(j(O))return new M(v,v);if(E(O))return P=R(A(O),P),new M(A(P.g),A(P.h));if(E(P))return P=R(O,A(P)),new M(A(P.g),P.h);if(O.g.length>30){if(E(O)||E(P))throw Error("slowDivide_ only works with positive integers.");for(var I=y,B=P;B.l(O)<=0;)I=L(I),B=L(B);var U=D(I,1),z=D(B,1);for(B=D(B,2),I=D(I,2);!j(B);){var q=z.add(B);q.l(O)<=0&&(U=U.add(I),z=q),B=D(B,1),I=D(I,1)}return P=T(O,U.j(P)),new M(U,P)}for(U=v;O.l(P)>=0;){for(I=Math.max(1,Math.floor(O.m()/P.m())),B=Math.ceil(Math.log(I)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),z=h(I),q=z.j(P);E(q)||q.l(O)>0;)I-=B,z=h(I),q=z.j(P);j(z)&&(z=y),U=U.add(z),O=T(O,q)}return new M(U,O)}t.B=function(O){return R(this,O).h},t.and=function(O){const P=Math.max(this.g.length,O.g.length),I=[];for(let B=0;B<P;B++)I[B]=this.i(B)&O.i(B);return new l(I,this.h&O.h)},t.or=function(O){const P=Math.max(this.g.length,O.g.length),I=[];for(let B=0;B<P;B++)I[B]=this.i(B)|O.i(B);return new l(I,this.h|O.h)},t.xor=function(O){const P=Math.max(this.g.length,O.g.length),I=[];for(let B=0;B<P;B++)I[B]=this.i(B)^O.i(B);return new l(I,this.h^O.h)};function L(O){const P=O.g.length+1,I=[];for(let B=0;B<P;B++)I[B]=O.i(B)<<1|O.i(B-1)>>>31;return new l(I,O.h)}function D(O,P){const I=P>>5;P%=32;const B=O.g.length-I,U=[];for(let z=0;z<B;z++)U[z]=P>0?O.i(z+I)>>>P|O.i(z+I+1)<<32-P:O.i(z+I);return new l(U,O.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,W4=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,ol=l}).apply(typeof gP<"u"?gP:typeof self<"u"?self:typeof window<"u"?window:{});var Ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Q4,_h,Y4,tg,xw,X4,Z4,J4;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ev=="object"&&Ev];for(var S=0;S<g.length;++S){var C=g[S];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(g,S){if(S)e:{var C=r;g=g.split(".");for(var $=0;$<g.length-1;$++){var te=g[$];if(!(te in C))break e;C=C[te]}g=g[g.length-1],$=C[g],S=S($),S!=$&&S!=null&&e(C,g,{configurable:!0,writable:!0,value:S})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(S){var C=[],$;for($ in S)Object.prototype.hasOwnProperty.call(S,$)&&C.push([$,S[$]]);return C}});var s=s||{},l=this||self;function d(g){var S=typeof g;return S=="object"&&g!=null||S=="function"}function f(g,S,C){return g.call.apply(g.bind,arguments)}function h(g,S,C){return h=f,h.apply(null,arguments)}function p(g,S){var C=Array.prototype.slice.call(arguments,1);return function(){var $=C.slice();return $.push.apply($,arguments),g.apply(this,$)}}function v(g,S){function C(){}C.prototype=S.prototype,g.Z=S.prototype,g.prototype=new C,g.prototype.constructor=g,g.Ob=function($,te,oe){for(var je=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)je[Ze-2]=arguments[Ze];return S.prototype[te].apply($,je)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function w(g){const S=g.length;if(S>0){const C=Array(S);for(let $=0;$<S;$++)C[$]=g[$];return C}return[]}function j(g,S){for(let $=1;$<arguments.length;$++){const te=arguments[$];var C=typeof te;if(C=C!="object"?C:te?Array.isArray(te)?"array":C:"null",C=="array"||C=="object"&&typeof te.length=="number"){C=g.length||0;const oe=te.length||0;g.length=C+oe;for(let je=0;je<oe;je++)g[C+je]=te[je]}else g.push(te)}}class E{constructor(S,C){this.i=S,this.j=C,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function A(g){l.setTimeout(()=>{throw g},0)}function T(){var g=O;let S=null;return g.g&&(S=g.g,g.g=g.g.next,g.g||(g.h=null),S.next=null),S}class k{constructor(){this.h=this.g=null}add(S,C){const $=M.get();$.set(S,C),this.h?this.h.next=$:this.g=$,this.h=$}}var M=new E(()=>new R,g=>g.reset());class R{constructor(){this.next=this.g=this.h=null}set(S,C){this.h=S,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let L,D=!1,O=new k,P=()=>{const g=Promise.resolve(void 0);L=()=>{g.then(I)}};function I(){for(var g;g=T();){try{g.h.call(g.g)}catch(C){A(C)}var S=M;S.j(g),S.h<100&&(S.h++,g.next=S.g,S.g=g)}D=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(g,S){this.type=g,this.g=this.target=S,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,S=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const C=()=>{};l.addEventListener("test",C,S),l.removeEventListener("test",C,S)}catch{}return g})();function q(g){return/^[\s\xa0]*$/.test(g)}function pe(g,S){U.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,S)}v(pe,U),pe.prototype.init=function(g,S){const C=this.type=g.type,$=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=S,S=g.relatedTarget,S||(C=="mouseover"?S=g.fromElement:C=="mouseout"&&(S=g.toElement)),this.relatedTarget=S,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),F=0;function J(g,S,C,$,te){this.listener=g,this.proxy=null,this.src=S,this.type=C,this.capture=!!$,this.ha=te,this.key=++F,this.da=this.fa=!1}function fe(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function we(g,S,C){for(const $ in g)S.call(C,g[$],$,g)}function _e(g,S){for(const C in g)S.call(void 0,g[C],C,g)}function H(g){const S={};for(const C in g)S[C]=g[C];return S}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(g,S){let C,$;for(let te=1;te<arguments.length;te++){$=arguments[te];for(C in $)g[C]=$[C];for(let oe=0;oe<ie.length;oe++)C=ie[oe],Object.prototype.hasOwnProperty.call($,C)&&(g[C]=$[C])}}function xe(g){this.src=g,this.g={},this.h=0}xe.prototype.add=function(g,S,C,$,te){const oe=g.toString();g=this.g[oe],g||(g=this.g[oe]=[],this.h++);const je=W(g,S,$,te);return je>-1?(S=g[je],C||(S.fa=!1)):(S=new J(S,this.src,oe,!!$,te),S.fa=C,g.push(S)),S};function Y(g,S){const C=S.type;if(C in g.g){var $=g.g[C],te=Array.prototype.indexOf.call($,S,void 0),oe;(oe=te>=0)&&Array.prototype.splice.call($,te,1),oe&&(fe(S),g.g[C].length==0&&(delete g.g[C],g.h--))}}function W(g,S,C,$){for(let te=0;te<g.length;++te){const oe=g[te];if(!oe.da&&oe.listener==S&&oe.capture==!!C&&oe.ha==$)return te}return-1}var be="closure_lm_"+(Math.random()*1e6|0),Le={};function se(g,S,C,$,te){if(Array.isArray(S)){for(let oe=0;oe<S.length;oe++)se(g,S[oe],C,$,te);return null}return C=hr(C),g&&g[Ee]?g.J(S,C,d($)?!!$.capture:!1,te):Se(g,S,C,!1,$,te)}function Se(g,S,C,$,te,oe){if(!S)throw Error("Invalid event type");const je=d(te)?!!te.capture:!!te;let Ze=dt(g);if(Ze||(g[be]=Ze=new xe(g)),C=Ze.add(S,C,$,je,oe),C.proxy)return C;if($=Q(),C.proxy=$,$.src=g,$.listener=C,g.addEventListener)z||(te=je),te===void 0&&(te=!1),g.addEventListener(S.toString(),$,te);else if(g.attachEvent)g.attachEvent(Be(S.toString()),$);else if(g.addListener&&g.removeListener)g.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Q(){function g(C){return S.call(g.src,g.listener,C)}const S=it;return g}function me(g,S,C,$,te){if(Array.isArray(S))for(var oe=0;oe<S.length;oe++)me(g,S[oe],C,$,te);else $=d($)?!!$.capture:!!$,C=hr(C),g&&g[Ee]?(g=g.i,oe=String(S).toString(),oe in g.g&&(S=g.g[oe],C=W(S,C,$,te),C>-1&&(fe(S[C]),Array.prototype.splice.call(S,C,1),S.length==0&&(delete g.g[oe],g.h--)))):g&&(g=dt(g))&&(S=g.g[S.toString()],g=-1,S&&(g=W(S,C,$,te)),(C=g>-1?S[g]:null)&&De(C))}function De(g){if(typeof g!="number"&&g&&!g.da){var S=g.src;if(S&&S[Ee])Y(S.i,g);else{var C=g.type,$=g.proxy;S.removeEventListener?S.removeEventListener(C,$,g.capture):S.detachEvent?S.detachEvent(Be(C),$):S.addListener&&S.removeListener&&S.removeListener($),(C=dt(S))?(Y(C,g),C.h==0&&(C.src=null,S[be]=null)):fe(g)}}}function Be(g){return g in Le?Le[g]:Le[g]="on"+g}function it(g,S){if(g.da)g=!0;else{S=new pe(S,this);const C=g.listener,$=g.ha||g.src;g.fa&&De(g),g=C.call($,S)}return g}function dt(g){return g=g[be],g instanceof xe?g:null}var vt="__closure_events_fn_"+(Math.random()*1e9>>>0);function hr(g){return typeof g=="function"?g:(g[vt]||(g[vt]=function(S){return g.handleEvent(S)}),g[vt])}function Ot(){B.call(this),this.i=new xe(this),this.M=this,this.G=null}v(Ot,B),Ot.prototype[Ee]=!0,Ot.prototype.removeEventListener=function(g,S,C,$){me(this,g,S,C,$)};function It(g,S){var C,$=g.G;if($)for(C=[];$;$=$.G)C.push($);if(g=g.M,$=S.type||S,typeof S=="string")S=new U(S,g);else if(S instanceof U)S.target=S.target||g;else{var te=S;S=new U($,g),ge(S,te)}te=!0;let oe,je;if(C)for(je=C.length-1;je>=0;je--)oe=S.g=C[je],te=Mr(oe,$,!0,S)&&te;if(oe=S.g=g,te=Mr(oe,$,!0,S)&&te,te=Mr(oe,$,!1,S)&&te,C)for(je=0;je<C.length;je++)oe=S.g=C[je],te=Mr(oe,$,!1,S)&&te}Ot.prototype.N=function(){if(Ot.Z.N.call(this),this.i){var g=this.i;for(const S in g.g){const C=g.g[S];for(let $=0;$<C.length;$++)fe(C[$]);delete g.g[S],g.h--}}this.G=null},Ot.prototype.J=function(g,S,C,$){return this.i.add(String(g),S,!1,C,$)},Ot.prototype.K=function(g,S,C,$){return this.i.add(String(g),S,!0,C,$)};function Mr(g,S,C,$){if(S=g.i.g[String(S)],!S)return!0;S=S.concat();let te=!0;for(let oe=0;oe<S.length;++oe){const je=S[oe];if(je&&!je.da&&je.capture==C){const Ze=je.listener,gn=je.ha||je.src;je.fa&&Y(g.i,je),te=Ze.call(gn,$)!==!1&&te}}return te&&!$.defaultPrevented}function ce(g,S){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=h(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:l.setTimeout(g,S||0)}function Ie(g){g.g=ce(()=>{g.g=null,g.i&&(g.i=!1,Ie(g))},g.l);const S=g.h;g.h=null,g.m.apply(null,S)}class Ue extends B{constructor(S,C){super(),this.m=S,this.l=C,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Ie(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ke(g){B.call(this),this.h=g,this.g={}}v(Ke,B);var Lt=[];function zn(g){we(g.g,function(S,C){this.g.hasOwnProperty(C)&&De(S)},g),g.g={}}Ke.prototype.N=function(){Ke.Z.N.call(this),zn(this)},Ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zr=l.JSON.stringify,oo=l.JSON.parse,Lr=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function Gi(){}function lu(){}var rn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function St(){U.call(this,"d")}v(St,U);function Vr(){U.call(this,"c")}v(Vr,U);var en={},zl=null;function lo(){return zl=zl||new Ot}en.Ia="serverreachability";function cu(g){U.call(this,en.Ia,g)}v(cu,U);function xi(g){const S=lo();It(S,new cu(S))}en.STAT_EVENT="statevent";function ss(g,S){U.call(this,en.STAT_EVENT,g),this.stat=S}v(ss,U);function an(g){const S=lo();It(S,new ss(S,g))}en.Ja="timingevent";function wi(g,S){U.call(this,en.Ja,g),this.size=S}v(wi,U);function mr(g,S){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},S)}function Jr(){this.g=!0}Jr.prototype.ua=function(){this.g=!1};function Z(g,S,C,$,te,oe){g.info(function(){if(g.g)if(oe){var je="",Ze=oe.split("&");for(let xt=0;xt<Ze.length;xt++){var gn=Ze[xt].split("=");if(gn.length>1){const Qt=gn[0];gn=gn[1];const Si=Qt.split("_");je=Si.length>=2&&Si[1]=="type"?je+(Qt+"="+gn+"&"):je+(Qt+"=redacted&")}}}else je=null;else je=oe;return"XMLHTTP REQ ("+$+") [attempt "+te+"]: "+S+`
`+C+`
`+je})}function Ve(g,S,C,$,te,oe,je){g.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+te+"]: "+S+`
`+C+`
`+oe+" "+je})}function mt(g,S,C,$){g.info(function(){return"XMLHTTP TEXT ("+S+"): "+Ll(g,C)+($?" "+$:"")})}function Fn(g,S){g.info(function(){return"TIMEOUT: "+S})}Jr.prototype.info=function(){};function Ll(g,S){if(!g.g)return S;if(!S)return null;try{const oe=JSON.parse(S);if(oe){for(g=0;g<oe.length;g++)if(Array.isArray(oe[g])){var C=oe[g];if(!(C.length<2)){var $=C[1];if(Array.isArray($)&&!($.length<1)){var te=$[0];if(te!="noop"&&te!="stop"&&te!="close")for(let je=1;je<$.length;je++)$[je]=""}}}}return zr(oe)}catch{return S}}var Ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},rf;function Ul(){}v(Ul,Gi),Ul.prototype.g=function(){return new XMLHttpRequest},rf=new Ul;function os(g){return encodeURIComponent(String(g))}function ep(g){var S=1;g=g.split(":");const C=[];for(;S>0&&g.length;)C.push(g.shift()),S--;return g.length&&C.push(g.join(":")),C}function Wi(g,S,C,$){this.j=g,this.i=S,this.l=C,this.S=$||1,this.V=new Ke(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qi}function Qi(){this.i=null,this.g="",this.h=!1}var jn={},Hn={};function ga(g,S,C){g.M=1,g.A=ql(Sn(S)),g.u=C,g.R=!0,uu(g,null)}function uu(g,S){g.F=Date.now(),ya(g),g.B=Sn(g.A);var C=g.B,$=g.S;Array.isArray($)||($=[String($)]),mu(C.i,"t",$),g.C=0,C=g.j.L,g.h=new Qi,g.g=pp(g.j,C?S:null,!g.u),g.P>0&&(g.O=new Ue(h(g.Y,g,g.g),g.P)),S=g.V,C=g.g,$=g.ba;var te="readystatechange";Array.isArray(te)||(te&&(Lt[0]=te.toString()),te=Lt);for(let oe=0;oe<te.length;oe++){const je=se(C,te[oe],$||S.handleEvent,!1,S.h||S);if(!je)break;S.g[je.key]=je}S=g.J?H(g.J):{},g.u?(g.v||(g.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,S)):(g.v="GET",g.g.ea(g.B,g.v,null,S)),xi(),Z(g.i,g.v,g.B,g.l,g.S,g.u)}Wi.prototype.ba=function(g){g=g.target;const S=this.O;S&&Zi(g)==3?S.j():this.Y(g)},Wi.prototype.Y=function(g){try{if(g==this.g)e:{const Ze=Zi(this.g),gn=this.g.ya(),xt=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||ir(this.g)))){this.K||Ze!=4||gn==7||(gn==8||xt<=0?xi(3):xi(2)),ba(this);var S=this.g.ca();this.X=S;var C=sb(this);if(this.o=S==200,Ve(this.i,this.v,this.B,this.l,this.S,Ze,S),this.o){if(this.U&&!this.L){t:{if(this.g){var $,te=this.g;if(($=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q($)){var oe=$;break t}}oe=null}if(g=oe)mt(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_a(this,g);else{this.o=!1,this.m=3,an(12),ei(this),Ei(this);break e}}if(this.R){g=!0;let Qt;for(;!this.K&&this.C<C.length;)if(Qt=np(this,C),Qt==Hn){Ze==4&&(this.m=4,an(14),g=!1),mt(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==jn){this.m=4,an(15),mt(this.i,this.l,C,"[Invalid Chunk]"),g=!1;break}else mt(this.i,this.l,Qt,null),_a(this,Qt);if(tp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||C.length!=0||this.h.h||(this.m=1,an(16),g=!1),this.o=this.o&&g,!g)mt(this.i,this.l,C,"[Invalid Chunked Response]"),ei(this),Ei(this);else if(C.length>0&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.aa&&!je.P&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),bf(je),je.P=!0,an(11))}}else mt(this.i,this.l,C,null),_a(this,C);Ze==4&&ei(this),this.o&&!this.K&&(Ze==4?dp(this.j,this):(this.o=!1,ya(this)))}else cs(this.g),S==400&&C.indexOf("Unknown SID")>0?(this.m=3,an(12)):(this.m=0,an(13)),ei(this),Ei(this)}}}catch{}};function sb(g){if(!tp(g))return g.g.la();const S=ir(g.g);if(S==="")return"";let C="";const $=S.length,te=Zi(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return ei(g),Ei(g),"";g.h.i=new l.TextDecoder}for(let oe=0;oe<$;oe++)g.h.h=!0,C+=g.h.i.decode(S[oe],{stream:!(te&&oe==$-1)});return S.length=0,g.h.g+=C,g.C=0,g.h.g}function tp(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function np(g,S){var C=g.C,$=S.indexOf(`
`,C);return $==-1?Hn:(C=Number(S.substring(C,$)),isNaN(C)?jn:($+=1,$+C>S.length?Hn:(S=S.slice($,$+C),g.C=$+C,S)))}Wi.prototype.cancel=function(){this.K=!0,ei(this)};function ya(g){g.T=Date.now()+g.H,du(g,g.H)}function du(g,S){if(g.D!=null)throw Error("WatchDog timer not null");g.D=mr(h(g.aa,g),S)}function ba(g){g.D&&(l.clearTimeout(g.D),g.D=null)}Wi.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Fn(this.i,this.B),this.M!=2&&(xi(),an(17)),ei(this),this.m=2,Ei(this)):du(this,this.T-g)};function Ei(g){g.j.I==0||g.K||dp(g.j,g)}function ei(g){ba(g);var S=g.O;S&&typeof S.dispose=="function"&&S.dispose(),g.O=null,zn(g.V),g.g&&(S=g.g,g.g=null,S.abort(),S.dispose())}function _a(g,S){try{var C=g.j;if(C.I!=0&&(C.g==g||wa(C.h,g))){if(!g.L&&wa(C.h,g)&&C.I==3){try{var $=C.Ba.g.parse(S)}catch{$=null}if(Array.isArray($)&&$.length==3){var te=$;if(te[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<g.F)bu(C),go(C);else break e;Wl(C),an(18)}}else C.xa=te[1],0<C.xa-C.K&&te[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=mr(h(C.Va,C),6e3));xa(C.h)<=1&&C.ta&&(C.ta=void 0)}else Ta(C,11)}else if((g.L||C.g==g)&&bu(C),!q(S))for(te=C.Ba.g.parse(S),S=0;S<te.length;S++){let xt=te[S];const Qt=xt[0];if(!(Qt<=C.K))if(C.K=Qt,xt=xt[1],C.I==2)if(xt[0]=="c"){C.M=xt[1],C.ba=xt[2];const Si=xt[3];Si!=null&&(C.ka=Si,C.j.info("VER="+C.ka));const Ca=xt[4];Ca!=null&&(C.za=Ca,C.j.info("SVER="+C.za));const Ji=xt[5];Ji!=null&&typeof Ji=="number"&&Ji>0&&($=1.5*Ji,C.O=$,C.j.info("backChannelRequestTimeoutMs_="+$)),$=C;const ea=g.g;if(ea){const Ql=ea.g?ea.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ql){var oe=$.h;oe.g||Ql.indexOf("spdy")==-1&&Ql.indexOf("quic")==-1&&Ql.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(of(oe,oe.h),oe.h=null))}if($.G){const _u=ea.g?ea.g.getResponseHeader("X-HTTP-Session-Id"):null;_u&&($.wa=_u,Nt($.J,$.G,_u))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-g.F,C.j.info("Handshake RTT: "+C.T+"ms")),$=C;var je=g;if($.na=mp($,$.L?$.ba:null,$.W),je.L){lf($.h,je);var Ze=je,gn=$.O;gn&&(Ze.H=gn),Ze.D&&(ba(Ze),ya(Ze)),$.g=je}else cp($);C.i.length>0&&Na(C)}else xt[0]!="stop"&&xt[0]!="close"||Ta(C,7);else C.I==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Ta(C,7):gf(C):xt[0]!="noop"&&C.l&&C.l.qa(xt),C.A=0)}}xi(4)}catch{}}var An=class{constructor(g,S){this.g=g,this.map=S}};function af(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sf(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function xa(g){return g.h?1:g.g?g.g.size:0}function wa(g,S){return g.h?g.h==S:g.g?g.g.has(S):!1}function of(g,S){g.g?g.g.add(S):g.h=S}function lf(g,S){g.h&&g.h==S?g.h=null:g.g&&g.g.has(S)&&g.g.delete(S)}af.prototype.cancel=function(){if(this.i=cf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function cf(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let S=g.i;for(const C of g.g.values())S=S.concat(C.G);return S}return w(g.i)}var rp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fu(g,S){if(g){g=g.split("&");for(let C=0;C<g.length;C++){const $=g[C].indexOf("=");let te,oe=null;$>=0?(te=g[C].substring(0,$),oe=g[C].substring($+1)):te=g[C],S(te,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function ti(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;g instanceof ti?(this.l=g.l,Kn(this,g.j),this.o=g.o,this.g=g.g,co(this,g.u),this.h=g.h,uf(this,op(g.i)),this.m=g.m):g&&(S=String(g).match(rp))?(this.l=!1,Kn(this,S[1]||"",!0),this.o=Ea(S[2]||""),this.g=Ea(S[3]||"",!0),co(this,S[4]),this.h=Ea(S[5]||"",!0),uf(this,S[6]||"",!0),this.m=Ea(S[7]||"")):(this.l=!1,this.i=new fo(null,this.l))}ti.prototype.toString=function(){const g=[];var S=this.j;S&&g.push(Bl(S,hu,!0),":");var C=this.g;return(C||S=="file")&&(g.push("//"),(S=this.o)&&g.push(Bl(S,hu,!0),"@"),g.push(os(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&g.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&g.push("/"),g.push(Bl(C,C.charAt(0)=="/"?df:ip,!0))),(C=this.i.toString())&&g.push("?",C),(C=this.m)&&g.push("#",Bl(C,ap)),g.join("")},ti.prototype.resolve=function(g){const S=Sn(this);let C=!!g.j;C?Kn(S,g.j):C=!!g.o,C?S.o=g.o:C=!!g.g,C?S.g=g.g:C=g.u!=null;var $=g.h;if(C)co(S,g.u);else if(C=!!g.h){if($.charAt(0)!="/")if(this.g&&!this.h)$="/"+$;else{var te=S.h.lastIndexOf("/");te!=-1&&($=S.h.slice(0,te+1)+$)}if(te=$,te==".."||te==".")$="";else if(te.indexOf("./")!=-1||te.indexOf("/.")!=-1){$=te.lastIndexOf("/",0)==0,te=te.split("/");const oe=[];for(let je=0;je<te.length;){const Ze=te[je++];Ze=="."?$&&je==te.length&&oe.push(""):Ze==".."?((oe.length>1||oe.length==1&&oe[0]!="")&&oe.pop(),$&&je==te.length&&oe.push("")):(oe.push(Ze),$=!0)}$=oe.join("/")}else $=te}return C?S.h=$:C=g.i.toString()!=="",C?uf(S,op(g.i)):C=!!g.m,C&&(S.m=g.m),S};function Sn(g){return new ti(g)}function Kn(g,S,C){g.j=C?Ea(S,!0):S,g.j&&(g.j=g.j.replace(/:$/,""))}function co(g,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);g.u=S}else g.u=null}function uf(g,S,C){S instanceof fo?(g.i=S,pu(g.i,g.l)):(C||(S=Bl(S,uo)),g.i=new fo(S,g.l))}function Nt(g,S,C){g.i.set(S,C)}function ql(g){return Nt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Ea(g,S){return g?S?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Bl(g,S,C){return typeof g=="string"?(g=encodeURI(g).replace(S,qr),C&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function qr(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var hu=/[#\/\?@]/g,ip=/[#\?:]/g,df=/[#\?]/g,uo=/[#\?@]/g,ap=/#/g;function fo(g,S){this.h=this.g=null,this.i=g||null,this.j=!!S}function Br(g){g.g||(g.g=new Map,g.h=0,g.i&&fu(g.i,function(S,C){g.add(decodeURIComponent(S.replace(/\+/g," ")),C)}))}t=fo.prototype,t.add=function(g,S){Br(this),this.i=null,g=ho(this,g);let C=this.g.get(g);return C||this.g.set(g,C=[]),C.push(S),this.h+=1,this};function sp(g,S){Br(g),S=ho(g,S),g.g.has(S)&&(g.i=null,g.h-=g.g.get(S).length,g.g.delete(S))}function ff(g,S){return Br(g),S=ho(g,S),g.g.has(S)}t.forEach=function(g,S){Br(this),this.g.forEach(function(C,$){C.forEach(function(te){g.call(S,te,$,this)},this)},this)};function hf(g,S){Br(g);let C=[];if(typeof S=="string")ff(g,S)&&(C=C.concat(g.g.get(ho(g,S))));else for(g=Array.from(g.g.values()),S=0;S<g.length;S++)C=C.concat(g[S]);return C}t.set=function(g,S){return Br(this),this.i=null,g=ho(this,g),ff(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[S]),this.h+=1,this},t.get=function(g,S){return g?(g=hf(this,g),g.length>0?String(g[0]):S):S};function mu(g,S,C){sp(g,S),C.length>0&&(g.i=null,g.g.set(ho(g,S),w(C)),g.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],S=Array.from(this.g.keys());for(let $=0;$<S.length;$++){var C=S[$];const te=os(C);C=hf(this,C);for(let oe=0;oe<C.length;oe++){let je=te;C[oe]!==""&&(je+="="+os(C[oe])),g.push(je)}}return this.i=g.join("&")};function op(g){const S=new fo;return S.i=g.i,g.g&&(S.g=new Map(g.g),S.h=g.h),S}function ho(g,S){return S=String(S),g.j&&(S=S.toLowerCase()),S}function pu(g,S){S&&!g.j&&(Br(g),g.i=null,g.g.forEach(function(C,$){const te=$.toLowerCase();$!=te&&(sp(this,$),mu(this,te,C))},g)),g.j=S}function Yi(g,S){const C=new Jr;if(l.Image){const $=new Image;$.onload=p(ji,C,"TestLoadImage: loaded",!0,S,$),$.onerror=p(ji,C,"TestLoadImage: error",!1,S,$),$.onabort=p(ji,C,"TestLoadImage: abort",!1,S,$),$.ontimeout=p(ji,C,"TestLoadImage: timeout",!1,S,$),l.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=g}else S(!1)}function mf(g,S){const C=new Jr,$=new AbortController,te=setTimeout(()=>{$.abort(),ji(C,"TestPingServer: timeout",!1,S)},1e4);fetch(g,{signal:$.signal}).then(oe=>{clearTimeout(te),oe.ok?ji(C,"TestPingServer: ok",!0,S):ji(C,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(te),ji(C,"TestPingServer: error",!1,S)})}function ji(g,S,C,$,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),$(C)}catch{}}function mo(){this.g=new Lr}function ja(g){this.i=g.Sb||null,this.h=g.ab||!1}v(ja,Gi),ja.prototype.g=function(){return new $l(this.i,this.h)};function $l(g,S){Ot.call(this),this.H=g,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v($l,Ot),t=$l.prototype,t.open=function(g,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=S,this.readyState=1,Xi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(S.body=g),(this.H||l).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,po(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Xi(this)),this.g&&(this.readyState=3,Xi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vu(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function vu(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var S=g.value?g.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!g.done}))&&(this.response=this.responseText+=S)}g.done?po(this):Xi(this),this.readyState==3&&vu(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,po(this))},t.Na=function(g){this.g&&(this.response=g,po(this))},t.ga=function(){this.g&&po(this)};function po(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Xi(g)}t.setRequestHeader=function(g,S){this.A.append(g,S)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],S=this.h.entries();for(var C=S.next();!C.done;)C=C.value,g.push(C[0]+": "+C[1]),C=S.next();return g.join(`\r
`)};function Xi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty($l.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Ai(g){let S="";return we(g,function(C,$){S+=$,S+=":",S+=C,S+=`\r
`}),S}function Fl(g,S,C){e:{for($ in C){var $=!1;break e}$=!0}$||(C=Ai(C),typeof g=="string"?C!=null&&os(C):Nt(g,S,C))}function Rt(g){Ot.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Rt,Ot);var Aa=/^https?$/i,pf=["POST","PUT"];t=Rt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,S,C,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);S=S?S.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():rf.g(),this.g.onreadystatechange=y(h(this.Ca,this));try{this.B=!0,this.g.open(S,String(g),!0),this.B=!1}catch(oe){Hl(this,oe);return}if(g=C||"",C=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var te in $)C.set(te,$[te]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const oe of $.keys())C.set(oe,$.get(oe));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(C.keys()).find(oe=>oe.toLowerCase()=="content-type"),te=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(pf,S,void 0)>=0)||$||te||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,je]of C)this.g.setRequestHeader(oe,je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(oe){Hl(this,oe)}};function Hl(g,S){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=S,g.o=5,vf(g),ls(g)}function vf(g){g.A||(g.A=!0,It(g,"complete"),It(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,It(this,"complete"),It(this,"abort"),ls(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),Rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Kl(this):this.Xa())},t.Xa=function(){Kl(this)};function Kl(g){if(g.h&&typeof s<"u"){if(g.v&&Zi(g)==4)setTimeout(g.Ca.bind(g),0);else if(It(g,"readystatechange"),Zi(g)==4){g.h=!1;try{const oe=g.ca();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var C;if(!(C=S)){var $;if($=oe===0){let je=String(g.D).match(rp)[1]||null;!je&&l.self&&l.self.location&&(je=l.self.location.protocol.slice(0,-1)),$=!Aa.test(je?je.toLowerCase():"")}C=$}if(C)It(g,"complete"),It(g,"success");else{g.o=6;try{var te=Zi(g)>2?g.g.statusText:""}catch{te=""}g.l=te+" ["+g.ca()+"]",vf(g)}}finally{ls(g)}}}}function ls(g,S){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const C=g.g;g.g=null,S||It(g,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Zi(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Zi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var S=this.g.responseText;return g&&S.indexOf(g)==0&&(S=S.substring(g.length)),oo(S)}};function ir(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function cs(g){const S={};g=(g.g&&Zi(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<g.length;$++){if(q(g[$]))continue;var C=ep(g[$]);const te=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const oe=S[te]||[];S[te]=oe,oe.push(C)}_e(S,function($){return $.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(g,S,C){return C&&C.internalChannelParams&&C.internalChannelParams[g]||S}function vo(g){this.za=0,this.i=[],this.j=new Jr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Sa("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Sa("baseRetryDelayMs",5e3,g),this.Za=Sa("retryDelaySeedMs",1e4,g),this.Ta=Sa("forwardChannelMaxRetries",2,g),this.va=Sa("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new af(g&&g.concurrentRequestLimit),this.Ba=new mo,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=vo.prototype,t.ka=8,t.I=1,t.connect=function(g,S,C,$){an(0),this.W=g,this.H=S||{},C&&$!==void 0&&(this.H.OSID=C,this.H.OAID=$),this.F=this.X,this.J=mp(this,null,this.W),Na(this)};function gf(g){if(gu(g),g.I==3){var S=g.V++,C=Sn(g.J);if(Nt(C,"SID",g.M),Nt(C,"RID",S),Nt(C,"TYPE","terminate"),Gl(g,C),S=new Wi(g,g.j,S),S.M=2,S.A=ql(Sn(C)),C=!1,l.navigator&&l.navigator.sendBeacon)try{C=l.navigator.sendBeacon(S.A.toString(),"")}catch{}!C&&l.Image&&(new Image().src=S.A,C=!0),C||(S.g=pp(S.j,null),S.g.ea(S.A)),S.F=Date.now(),ya(S)}hp(g)}function go(g){g.g&&(bf(g),g.g.cancel(),g.g=null)}function gu(g){go(g),g.v&&(l.clearTimeout(g.v),g.v=null),bu(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function Na(g){if(!sf(g.h)&&!g.m){g.m=!0;var S=g.Ea;L||P(),D||(L(),D=!0),O.add(S,g),g.D=0}}function yu(g,S){return xa(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=S.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=mr(h(g.Ea,g,S),fp(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const te=new Wi(this,this.j,g);let oe=this.o;if(this.U&&(oe?(oe=H(oe),ge(oe,this.U)):oe=this.U),this.u!==null||this.R||(te.J=oe,oe=null),this.S)e:{for(var S=0,C=0;C<this.i.length;C++){t:{var $=this.i[C];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(S+=$,S>4096){S=C;break e}if(S===4096||C===this.i.length-1){S=C+1;break e}}S=1e3}else S=1e3;S=lp(this,te,S),C=Sn(this.J),Nt(C,"RID",g),Nt(C,"CVER",22),this.G&&Nt(C,"X-HTTP-Session-Id",this.G),Gl(this,C),oe&&(this.R?S="headers="+os(Ai(oe))+"&"+S:this.u&&Fl(C,this.u,oe)),of(this.h,te),this.Ra&&Nt(C,"TYPE","init"),this.S?(Nt(C,"$req",S),Nt(C,"SID","null"),te.U=!0,ga(te,C,null)):ga(te,C,S),this.I=2}}else this.I==3&&(g?yf(this,g):this.i.length==0||sf(this.h)||yf(this))};function yf(g,S){var C;S?C=S.l:C=g.V++;const $=Sn(g.J);Nt($,"SID",g.M),Nt($,"RID",C),Nt($,"AID",g.K),Gl(g,$),g.u&&g.o&&Fl($,g.u,g.o),C=new Wi(g,g.j,C,g.D+1),g.u===null&&(C.J=g.o),S&&(g.i=S.G.concat(g.i)),S=lp(g,C,1e3),C.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),of(g.h,C),ga(C,$,S)}function Gl(g,S){g.H&&we(g.H,function(C,$){Nt(S,$,C)}),g.l&&we({},function(C,$){Nt(S,$,C)})}function lp(g,S,C){C=Math.min(g.i.length,C);const $=g.l?h(g.l.Ka,g.l,g):null;e:{var te=g.i;let Ze=-1;for(;;){const gn=["count="+C];Ze==-1?C>0?(Ze=te[0].g,gn.push("ofs="+Ze)):Ze=0:gn.push("ofs="+Ze);let xt=!0;for(let Qt=0;Qt<C;Qt++){var oe=te[Qt].g;const Si=te[Qt].map;if(oe-=Ze,oe<0)Ze=Math.max(0,te[Qt].g-100),xt=!1;else try{oe="req"+oe+"_"||"";try{var je=Si instanceof Map?Si:Object.entries(Si);for(const[Ca,Ji]of je){let ea=Ji;d(Ji)&&(ea=zr(Ji)),gn.push(oe+Ca+"="+encodeURIComponent(ea))}}catch(Ca){throw gn.push(oe+"type="+encodeURIComponent("_badmap")),Ca}}catch{$&&$(Si)}}if(xt){je=gn.join("&");break e}}je=void 0}return g=g.i.splice(0,C),S.G=g,je}function cp(g){if(!g.g&&!g.v){g.Y=1;var S=g.Da;L||P(),D||(L(),D=!0),O.add(S,g),g.A=0}}function Wl(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=mr(h(g.Da,g),fp(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,up(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=mr(h(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,an(10),go(this),up(this))};function bf(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function up(g){g.g=new Wi(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var S=Sn(g.na);Nt(S,"RID","rpc"),Nt(S,"SID",g.M),Nt(S,"AID",g.K),Nt(S,"CI",g.F?"0":"1"),!g.F&&g.ia&&Nt(S,"TO",g.ia),Nt(S,"TYPE","xmlhttp"),Gl(g,S),g.u&&g.o&&Fl(S,g.u,g.o),g.O&&(g.g.H=g.O);var C=g.g;g=g.ba,C.M=1,C.A=ql(Sn(S)),C.u=null,C.R=!0,uu(C,g)}t.Va=function(){this.C!=null&&(this.C=null,go(this),Wl(this),an(19))};function bu(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function dp(g,S){var C=null;if(g.g==S){bu(g),bf(g),g.g=null;var $=2}else if(wa(g.h,S))C=S.G,lf(g.h,S),$=1;else return;if(g.I!=0){if(S.o)if($==1){C=S.u?S.u.length:0,S=Date.now()-S.F;var te=g.D;$=lo(),It($,new wi($,C)),Na(g)}else cp(g);else if(te=S.m,te==3||te==0&&S.X>0||!($==1&&yu(g,S)||$==2&&Wl(g)))switch(C&&C.length>0&&(S=g.h,S.i=S.i.concat(C)),te){case 1:Ta(g,5);break;case 4:Ta(g,10);break;case 3:Ta(g,6);break;default:Ta(g,2)}}}function fp(g,S){let C=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(C*=2),C*S}function Ta(g,S){if(g.j.info("Error code "+S),S==2){var C=h(g.bb,g),$=g.Ua;const te=!$;$=new ti($||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Kn($,"https"),ql($),te?Yi($.toString(),C):mf($.toString(),C)}else an(2);g.I=0,g.l&&g.l.pa(S),hp(g),gu(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),an(2)):(this.j.info("Failed to ping google.com"),an(1))};function hp(g){if(g.I=0,g.ja=[],g.l){const S=cf(g.h);(S.length!=0||g.i.length!=0)&&(j(g.ja,S),j(g.ja,g.i),g.h.i.length=0,w(g.i),g.i.length=0),g.l.oa()}}function mp(g,S,C){var $=C instanceof ti?Sn(C):new ti(C);if($.g!="")S&&($.g=S+"."+$.g),co($,$.u);else{var te=l.location;$=te.protocol,S=S?S+"."+te.hostname:te.hostname,te=+te.port;const oe=new ti(null);$&&Kn(oe,$),S&&(oe.g=S),te&&co(oe,te),C&&(oe.h=C),$=oe}return C=g.G,S=g.wa,C&&S&&Nt($,C,S),Nt($,"VER",g.ka),Gl(g,$),$}function pp(g,S,C){if(S&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=g.Aa&&!g.ma?new Rt(new ja({ab:C})):new Rt(g.ma),S.Fa(g.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vp(){}t=vp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function yo(){}yo.prototype.g=function(g,S){return new Sr(g,S)};function Sr(g,S){Ot.call(this),this.g=new vo(S),this.l=g,this.h=S&&S.messageUrlParams||null,g=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(g?g["X-WebChannel-Content-Type"]=S.messageContentType:g={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(g?g["X-WebChannel-Client-Profile"]=S.sa:g={"X-WebChannel-Client-Profile":S.sa}),this.g.U=g,(g=S&&S.Qb)&&!q(g)&&(this.g.u=g),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!q(S)&&(this.g.G=S,g=this.h,g!==null&&S in g&&(g=this.h,S in g&&delete g[S])),this.j=new us(this)}v(Sr,Ot),Sr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sr.prototype.close=function(){gf(this.g)},Sr.prototype.o=function(g){var S=this.g;if(typeof g=="string"){var C={};C.__data__=g,g=C}else this.v&&(C={},C.__data__=zr(g),g=C);S.i.push(new An(S.Ya++,g)),S.I==3&&Na(S)},Sr.prototype.N=function(){this.g.l=null,delete this.j,gf(this.g),delete this.g,Sr.Z.N.call(this)};function gp(g){St.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var S=g.__sm__;if(S){e:{for(const C in S){g=C;break e}g=void 0}(this.i=g)&&(g=this.i,S=S!==null&&g in S?S[g]:void 0),this.data=S}else this.data=g}v(gp,St);function yp(){Vr.call(this),this.status=1}v(yp,Vr);function us(g){this.g=g}v(us,vp),us.prototype.ra=function(){It(this.g,"a")},us.prototype.qa=function(g){It(this.g,new gp(g))},us.prototype.pa=function(g){It(this.g,new yp)},us.prototype.oa=function(){It(this.g,"b")},yo.prototype.createWebChannel=yo.prototype.g,Sr.prototype.send=Sr.prototype.o,Sr.prototype.open=Sr.prototype.m,Sr.prototype.close=Sr.prototype.close,J4=function(){return new yo},Z4=function(){return lo()},X4=en,xw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,tg=Ur,Vl.COMPLETE="complete",Y4=Vl,lu.EventType=rn,rn.OPEN="a",rn.CLOSE="b",rn.ERROR="c",rn.MESSAGE="d",Ot.prototype.listen=Ot.prototype.J,_h=lu,Rt.prototype.listenOnce=Rt.prototype.K,Rt.prototype.getLastError=Rt.prototype.Ha,Rt.prototype.getLastErrorCode=Rt.prototype.ya,Rt.prototype.getStatus=Rt.prototype.ca,Rt.prototype.getResponseJson=Rt.prototype.La,Rt.prototype.getResponseText=Rt.prototype.la,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Fa,Q4=Rt}).apply(typeof Ev<"u"?Ev:typeof self<"u"?self:typeof window<"u"?window:{});let br=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};br.UNAUTHENTICATED=new br(null),br.GOOGLE_CREDENTIALS=new br("google-credentials-uid"),br.FIRST_PARTY=new br("first-party-uid"),br.MOCK_USER=new br("mock-user");let Ud="12.8.0";function fH(t){Ud=t}const qc=new rj("@firebase/firestore");function nd(){return qc.logLevel}function Te(t,...e){if(qc.logLevel<=ot.DEBUG){const n=e.map(mj);qc.debug(`Firestore (${Ud}): ${t}`,...n)}}function Us(t,...e){if(qc.logLevel<=ot.ERROR){const n=e.map(mj);qc.error(`Firestore (${Ud}): ${t}`,...n)}}function Bc(t,...e){if(qc.logLevel<=ot.WARN){const n=e.map(mj);qc.warn(`Firestore (${Ud}): ${t}`,...n)}}function mj(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function He(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ez(t,r,n)}function ez(t,e,n){let r=`FIRESTORE (${Ud}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Us(r),new Error(r)}function At(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||ez(e,i,r)}function Xe(t,e){return t}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ks{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class tz{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(br.UNAUTHENTICATED)))}shutdown(){}}class hH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class mH{constructor(e){this.t=e,this.currentUser=br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){At(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ks,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},d=f=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ks)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string",31837,{l:r}),new tz(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string",2055,{h:e}),new br(e)}}class pH{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=br.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class vH{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new pH(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(br.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gH{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ci(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){At(this.o===void 0,3512);const r=s=>{s.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,Te("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yP(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(At(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yP(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function yH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class By{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=yH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function lt(t,e){return t<e?-1:t>e?1:0}function ww(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return mx(i)===mx(s)?lt(i,s):mx(i)?1:-1}return lt(t.length,e.length)}const bH=55296,_H=57343;function mx(t){const e=t.charCodeAt(0);return e>=bH&&e<=_H}function Ed(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const bP="__name__";class za{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&He(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return za.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof za?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=za.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return lt(e.length,n.length)}static compareSegments(e,n){const r=za.isNumericId(e),i=za.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?za.extractNumericId(e).compare(za.extractNumericId(n)):ww(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ol.fromString(e.substring(4,e.length-2))}}class $t extends za{construct(e,n,r){return new $t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new $t(n)}static emptyPath(){return new $t([])}}const xH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends za{construct(e,n,r){return new Zn(e,n,r)}static isValidIdentifier(e){return xH.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bP}static keyField(){return new Zn([bP])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ae(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new Ae(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ae(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else d==="`"?(l=!l,i++):d!=="."||l?(r+=d,i++):(s(),i++)}if(s(),l)throw new Ae(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zn(n)}static emptyPath(){return new Zn([])}}class Me{constructor(e){this.path=e}static fromPath(e){return new Me($t.fromString(e))}static fromName(e){return new Me($t.fromString(e).popFirst(5))}static empty(){return new Me($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new $t(e.slice()))}}function rz(t,e,n){if(!n)throw new Ae(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iz(t,e,n,r){if(e===!0&&r===!0)throw new Ae(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _P(t){if(!Me.isDocumentKey(t))throw new Ae(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xP(t){if(Me.isDocumentKey(t))throw new Ae(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function az(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function $y(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He(12329,{type:typeof t})}function gi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$y(t);throw new Ae(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function wH(t,e){if(e<=0)throw new Ae(de.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function _m(t,e){if(!az(t))throw new Ae(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ae(de.INVALID_ARGUMENT,n);return!0}const wP=-62135596800,EP=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*EP);return new ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wP)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/EP}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_m(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:Rn("string",ct._jsonSchemaVersion),seconds:Rn("number"),nanoseconds:Rn("number")};class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new ct(0,0))}static max(){return new Ge(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bh=-1;function EH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ge.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new hl(i,Me.empty(),e)}function jH(t){return new hl(t.readTime,t.key,Bh)}class hl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new hl(Ge.min(),Me.empty(),Bh)}static max(){return new hl(Ge.max(),Me.empty(),Bh)}}function AH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:lt(t.largestBatchId,e.largestBatchId))}const SH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function qd(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==SH)throw t;Te("LocalStore","Unexpectedly lost primary lease")}class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.reject(n)}static resolve(e){return new ye(((n,r)=>{n(e)}))}static reject(e){return new ye(((n,r)=>{r(e)}))}static waitFor(e){return new ye(((n,r)=>{let i=0,s=0,l=!1;e.forEach((d=>{++i,d.next((()=>{++s,l&&s===i&&n()}),(f=>r(f)))})),l=!0,s===i&&n()}))}static or(e){let n=ye.resolve(!1);for(const r of e)n=n.next((i=>i?ye.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new ye(((r,i)=>{const s=e.length,l=new Array(s);let d=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((p=>{l[h]=p,++d,d===s&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new ye(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function TH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bd(t){return t.name==="IndexedDbTransactionError"}class Fy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fy.ce=-1;const pj=-1;function Hy(t){return t==null}function Eg(t){return t===0&&1/t==-1/0}function CH(t){return typeof t=="number"&&Number.isInteger(t)&&!Eg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const sz="";function PH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jP(e)),e=OH(t.get(n),e);return jP(e)}function OH(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case sz:n+="";break;default:n+=s}}return n}function jP(t){return t+sz+""}function AP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class tn{constructor(e,n){this.comparator=e,this.root=n||fr.EMPTY}insert(e,n){return new tn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jv(this.root,e,this.comparator,!1)}getReverseIterator(){return new jv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jv(this.root,e,this.comparator,!0)}}class jv{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??fr.RED,this.left=i??fr.EMPTY,this.right=s??fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new fr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return fr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1;fr.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new fr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Un{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new SP(this.data.getIterator())}getIteratorFrom(e){return new SP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Un(this.comparator);return n.data=e,n}}class SP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fi{constructor(e){this.fields=e,e.sort(Zn.comparator)}static empty(){return new fi([])}unionWith(e){let n=new Un(Zn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ed(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class lz extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class er{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new lz("Invalid base64 string: "+s):s}})(e);return new er(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new er(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}er.EMPTY_BYTE_STRING=new er("");const IH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ml(t){if(At(!!t,39018),typeof t=="string"){let e=0;const n=IH.exec(t);if(At(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xn(t.seconds),nanos:xn(t.nanos)}}function xn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pl(t){return typeof t=="string"?er.fromBase64String(t):er.fromUint8Array(t)}const cz="server_timestamp",uz="__type__",dz="__previous_value__",fz="__local_write_time__";function vj(t){return(t?.mapValue?.fields||{})[uz]?.stringValue===cz}function Ky(t){const e=t.mapValue.fields[dz];return vj(e)?Ky(e):e}function $h(t){const e=ml(t.mapValue.fields[fz].timestampValue);return new ct(e.seconds,e.nanos)}class RH{constructor(e,n,r,i,s,l,d,f,h,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p,this.apiKey=v}}const jg="(default)";class jd{constructor(e,n){this.projectId=e,this.database=n||jg}static empty(){return new jd("","")}get isDefaultDatabase(){return this.database===jg}isEqual(e){return e instanceof jd&&e.projectId===this.projectId&&e.database===this.database}}function kH(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ae(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jd(t.options.projectId,e)}const hz="__type__",DH="__max__",Av={mapValue:{}},mz="__vector__",Ag="value";function vl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vj(t)?4:zH(t)?9007199254740991:MH(t)?10:11:He(28295,{value:t})}function Qa(t,e){if(t===e)return!0;const n=vl(t);if(n!==vl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $h(t).isEqual($h(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=ml(i.timestampValue),d=ml(s.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return pl(i.bytesValue).isEqual(pl(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return xn(i.geoPointValue.latitude)===xn(s.geoPointValue.latitude)&&xn(i.geoPointValue.longitude)===xn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return xn(i.integerValue)===xn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=xn(i.doubleValue),d=xn(s.doubleValue);return l===d?Eg(l)===Eg(d):isNaN(l)&&isNaN(d)}return!1})(t,e);case 9:return Ed(t.arrayValue.values||[],e.arrayValue.values||[],Qa);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},d=s.mapValue.fields||{};if(AP(l)!==AP(d))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(d[f]===void 0||!Qa(l[f],d[f])))return!1;return!0})(t,e);default:return He(52216,{left:t})}}function Fh(t,e){return(t.values||[]).find((n=>Qa(n,e)))!==void 0}function Ad(t,e){if(t===e)return 0;const n=vl(t),r=vl(e);if(n!==r)return lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return lt(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const d=xn(s.integerValue||s.doubleValue),f=xn(l.integerValue||l.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return NP(t.timestampValue,e.timestampValue);case 4:return NP($h(t),$h(e));case 5:return ww(t.stringValue,e.stringValue);case 6:return(function(s,l){const d=pl(s),f=pl(l);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const d=s.split("/"),f=l.split("/");for(let h=0;h<d.length&&h<f.length;h++){const p=lt(d[h],f[h]);if(p!==0)return p}return lt(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const d=lt(xn(s.latitude),xn(l.latitude));return d!==0?d:lt(xn(s.longitude),xn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return TP(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const d=s.fields||{},f=l.fields||{},h=d[Ag]?.arrayValue,p=f[Ag]?.arrayValue,v=lt(h?.values?.length||0,p?.values?.length||0);return v!==0?v:TP(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===Av.mapValue&&l===Av.mapValue)return 0;if(s===Av.mapValue)return 1;if(l===Av.mapValue)return-1;const d=s.fields||{},f=Object.keys(d),h=l.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let v=0;v<f.length&&v<p.length;++v){const y=ww(f[v],p[v]);if(y!==0)return y;const w=Ad(d[f[v]],h[p[v]]);if(w!==0)return w}return lt(f.length,p.length)})(t.mapValue,e.mapValue);default:throw He(23264,{he:n})}}function NP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return lt(t,e);const n=ml(t),r=ml(e),i=lt(n.seconds,r.seconds);return i!==0?i:lt(n.nanos,r.nanos)}function TP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ad(n[i],r[i]);if(s)return s}return lt(n.length,r.length)}function Sd(t){return Ew(t)}function Ew(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ml(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return pl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Me.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ew(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${Ew(n.fields[l])}`;return i+"}"})(t.mapValue):He(61005,{value:t})}function ng(t){switch(vl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ky(t);return e?16+ng(e):16;case 5:return 2*t.stringValue.length;case 6:return pl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+ng(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Cl(r.fields,((s,l)=>{i+=s.length+ng(l)})),i})(t.mapValue);default:throw He(13486,{value:t})}}function CP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jw(t){return!!t&&"integerValue"in t}function gj(t){return!!t&&"arrayValue"in t}function PP(t){return!!t&&"nullValue"in t}function OP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rg(t){return!!t&&"mapValue"in t}function MH(t){return(t?.mapValue?.fields||{})[hz]?.stringValue===mz}function Ph(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Cl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ph(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ph(t.arrayValue.values[n]);return e}return{...t}}function zH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===DH}class Qr{constructor(e){this.value=e}static empty(){return new Qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ph(n)}setAll(e){let n=Zn.emptyPath(),r={},i=[];e.forEach(((l,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=d.popLast()}l?r[d.lastSegment()]=Ph(l):i.push(d.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());rg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Cl(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Qr(Ph(this.value))}}function pz(t){const e=[];return Cl(t.fields,((n,r)=>{const i=new Zn([n]);if(rg(r)){const s=pz(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new fi(e)}class _r{constructor(e,n,r,i,s,l,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=d}static newInvalidDocument(e){return new _r(e,0,Ge.min(),Ge.min(),Ge.min(),Qr.empty(),0)}static newFoundDocument(e,n,r,i){return new _r(e,1,n,Ge.min(),r,i,0)}static newNoDocument(e,n){return new _r(e,2,n,Ge.min(),Ge.min(),Qr.empty(),0)}static newUnknownDocument(e,n){return new _r(e,3,n,Ge.min(),Ge.min(),Qr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sg{constructor(e,n){this.position=e,this.inclusive=n}}function IP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Me.comparator(Me.fromName(l.referenceValue),n.key):r=Ad(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function RP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qa(t.position[n],e.position[n]))return!1;return!0}class Hh{constructor(e,n="asc"){this.field=e,this.dir=n}}function LH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class vz{}class In extends vz{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UH(e,n,r):n==="array-contains"?new $H(e,r):n==="in"?new FH(e,r):n==="not-in"?new HH(e,r):n==="array-contains-any"?new KH(e,r):new In(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qH(e,r):new BH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ad(n,this.value)):n!==null&&vl(this.value)===vl(n)&&this.matchesComparison(Ad(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fa extends vz{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fa(e,n)}matches(e){return gz(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gz(t){return t.op==="and"}function yz(t){return VH(t)&&gz(t)}function VH(t){for(const e of t.filters)if(e instanceof fa)return!1;return!0}function Aw(t){if(t instanceof In)return t.field.canonicalString()+t.op.toString()+Sd(t.value);if(yz(t))return t.filters.map((e=>Aw(e))).join(",");{const e=t.filters.map((n=>Aw(n))).join(",");return`${t.op}(${e})`}}function bz(t,e){return t instanceof In?(function(r,i){return i instanceof In&&r.op===i.op&&r.field.isEqual(i.field)&&Qa(r.value,i.value)})(t,e):t instanceof fa?(function(r,i){return i instanceof fa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,d)=>s&&bz(l,i.filters[d])),!0):!1})(t,e):void He(19439)}function _z(t){return t instanceof In?(function(n){return`${n.field.canonicalString()} ${n.op} ${Sd(n.value)}`})(t):t instanceof fa?(function(n){return n.op.toString()+" {"+n.getFilters().map(_z).join(" ,")+"}"})(t):"Filter"}class UH extends In{constructor(e,n,r){super(e,n,r),this.key=Me.fromName(r.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class qH extends In{constructor(e,n){super(e,"in",n),this.keys=xz("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class BH extends In{constructor(e,n){super(e,"not-in",n),this.keys=xz("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function xz(t,e){return(e.arrayValue?.values||[]).map((n=>Me.fromName(n.referenceValue)))}class $H extends In{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gj(n)&&Fh(n.arrayValue,this.value)}}class FH extends In{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fh(this.value.arrayValue,n)}}class HH extends In{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fh(this.value.arrayValue,n)}}class KH extends In{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gj(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Fh(this.value.arrayValue,r)))}}class GH{constructor(e,n=null,r=[],i=[],s=null,l=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=d,this.Te=null}}function kP(t,e=null,n=[],r=[],i=null,s=null,l=null){return new GH(t,e,n,r,i,s,l)}function yj(t){const e=Xe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Aw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Hy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Sd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Sd(r))).join(",")),e.Te=n}return e.Te}function bj(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!LH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bz(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RP(t.startAt,e.startAt)&&RP(t.endAt,e.endAt)}function Sw(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class $d{constructor(e,n=null,r=[],i=[],s=null,l="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function WH(t,e,n,r,i,s,l,d){return new $d(t,e,n,r,i,s,l,d)}function _j(t){return new $d(t)}function DP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QH(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function wz(t){return t.collectionGroup!==null}function Oh(t){const e=Xe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new Un(Zn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(d=d.add(h.field))}))})),d})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Hh(s,r))})),n.has(Zn.keyField().canonicalString())||e.Ie.push(new Hh(Zn.keyField(),r))}return e.Ie}function Ha(t){const e=Xe(t);return e.Ee||(e.Ee=YH(e,Oh(t))),e.Ee}function YH(t,e){if(t.limitType==="F")return kP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Hh(i.field,s)}));const n=t.endAt?new Sg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sg(t.startAt.position,t.startAt.inclusive):null;return kP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Nw(t,e){const n=t.filters.concat([e]);return new $d(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function XH(t,e){const n=t.explicitOrderBy.concat([e]);return new $d(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Ng(t,e,n){return new $d(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gy(t,e){return bj(Ha(t),Ha(e))&&t.limitType===e.limitType}function Ez(t){return`${yj(Ha(t))}|lt:${t.limitType}`}function rd(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>_z(i))).join(", ")}]`),Hy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Sd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Sd(i))).join(",")),`Target(${r})`})(Ha(t))}; limitType=${t.limitType})`}function Wy(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Me.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Oh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,d,f){const h=IP(l,d,f);return l.inclusive?h<=0:h<0})(r.startAt,Oh(r),i)||r.endAt&&!(function(l,d,f){const h=IP(l,d,f);return l.inclusive?h>=0:h>0})(r.endAt,Oh(r),i))})(t,e)}function ZH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jz(t){return(e,n)=>{let r=!1;for(const i of Oh(t)){const s=JH(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function JH(t,e,n){const r=t.field.isKeyField()?Me.comparator(e.key,n.key):(function(s,l,d){const f=l.data.field(s),h=d.data.field(s);return f!==null&&h!==null?Ad(f,h):He(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He(19790,{direction:t.dir})}}class ru{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cl(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return oz(this.inner)}size(){return this.innerSize}}const eK=new tn(Me.comparator);function qs(){return eK}const Az=new tn(Me.comparator);function xh(...t){let e=Az;for(const n of t)e=e.insert(n.key,n);return e}function Sz(t){let e=Az;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function wc(){return Ih()}function Nz(){return Ih()}function Ih(){return new ru((t=>t.toString()),((t,e)=>t.isEqual(e)))}const tK=new tn(Me.comparator),nK=new Un(Me.comparator);function ut(...t){let e=nK;for(const n of t)e=e.add(n);return e}const rK=new Un(lt);function iK(){return rK}function xj(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eg(e)?"-0":e}}function Tz(t){return{integerValue:""+t}}function aK(t,e){return CH(e)?Tz(e):xj(t,e)}class Qy{constructor(){this._=void 0}}function sK(t,e,n){return t instanceof Kh?(function(i,s){const l={fields:{[uz]:{stringValue:cz},[fz]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&vj(s)&&(s=Ky(s)),s&&(l.fields[dz]=s),{mapValue:l}})(n,e):t instanceof Gh?Pz(t,e):t instanceof Wh?Oz(t,e):(function(i,s){const l=Cz(i,s),d=MP(l)+MP(i.Ae);return jw(l)&&jw(i.Ae)?Tz(d):xj(i.serializer,d)})(t,e)}function oK(t,e,n){return t instanceof Gh?Pz(t,e):t instanceof Wh?Oz(t,e):n}function Cz(t,e){return t instanceof Tg?(function(r){return jw(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Kh extends Qy{}class Gh extends Qy{constructor(e){super(),this.elements=e}}function Pz(t,e){const n=Iz(e);for(const r of t.elements)n.some((i=>Qa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Wh extends Qy{constructor(e){super(),this.elements=e}}function Oz(t,e){let n=Iz(e);for(const r of t.elements)n=n.filter((i=>!Qa(i,r)));return{arrayValue:{values:n}}}class Tg extends Qy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function MP(t){return xn(t.integerValue||t.doubleValue)}function Iz(t){return gj(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class lK{constructor(e,n){this.field=e,this.transform=n}}function cK(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Gh&&i instanceof Gh||r instanceof Wh&&i instanceof Wh?Ed(r.elements,i.elements,Qa):r instanceof Tg&&i instanceof Tg?Qa(r.Ae,i.Ae):r instanceof Kh&&i instanceof Kh})(t.transform,e.transform)}class uK{constructor(e,n){this.version=e,this.transformResults=n}}class Ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ig(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yy{}function Rz(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xy(t.key,Ir.none()):new xm(t.key,t.data,Ir.none());{const n=t.data,r=Qr.empty();let i=new Un(Zn.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new Pl(t.key,r,new fi(i.toArray()),Ir.none())}}function dK(t,e,n){t instanceof xm?(function(i,s,l){const d=i.value.clone(),f=LP(i.fieldTransforms,s,l.transformResults);d.setAll(f),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Pl?(function(i,s,l){if(!ig(i.precondition,s))return void s.convertToUnknownDocument(l.version);const d=LP(i.fieldTransforms,s,l.transformResults),f=s.data;f.setAll(kz(i)),f.setAll(d),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Rh(t,e,n,r){return t instanceof xm?(function(s,l,d,f){if(!ig(s.precondition,l))return d;const h=s.value.clone(),p=VP(s.fieldTransforms,f,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof Pl?(function(s,l,d,f){if(!ig(s.precondition,l))return d;const h=VP(s.fieldTransforms,f,l),p=l.data;return p.setAll(kz(s)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),d===null?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(s,l,d){return ig(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d})(t,e,n)}function fK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Cz(r.transform,i||null);s!=null&&(n===null&&(n=Qr.empty()),n.set(r.field,s))}return n||null}function zP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ed(r,i,((s,l)=>cK(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xm extends Yy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pl extends Yy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function kz(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function LP(t,e,n){const r=new Map;At(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,d=e.data.field(s.field);r.set(s.field,oK(l,d,n[i]))}return r}function VP(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,sK(s,l,e))}return r}class Xy extends Yy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hK extends Yy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mK{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&dK(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Rh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Rh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Nz();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let d=this.applyToLocalView(l,s.mutatedFields);d=n.has(i.key)?null:d;const f=Rz(l,d);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Ge.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ut())}isEqual(e){return this.batchId===e.batchId&&Ed(this.mutations,e.mutations,((n,r)=>zP(n,r)))&&Ed(this.baseMutations,e.baseMutations,((n,r)=>zP(n,r)))}}class wj{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){At(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return tK})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new wj(e,n,r,i)}}class pK{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class vK{constructor(e,n){this.count=e,this.unchangedNames=n}}var On,pt;function gK(t){switch(t){case de.OK:return He(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return He(15467,{code:t})}}function Dz(t){if(t===void 0)return Us("GRPC error has no .code"),de.UNKNOWN;switch(t){case On.OK:return de.OK;case On.CANCELLED:return de.CANCELLED;case On.UNKNOWN:return de.UNKNOWN;case On.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case On.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case On.INTERNAL:return de.INTERNAL;case On.UNAVAILABLE:return de.UNAVAILABLE;case On.UNAUTHENTICATED:return de.UNAUTHENTICATED;case On.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case On.NOT_FOUND:return de.NOT_FOUND;case On.ALREADY_EXISTS:return de.ALREADY_EXISTS;case On.PERMISSION_DENIED:return de.PERMISSION_DENIED;case On.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case On.ABORTED:return de.ABORTED;case On.OUT_OF_RANGE:return de.OUT_OF_RANGE;case On.UNIMPLEMENTED:return de.UNIMPLEMENTED;case On.DATA_LOSS:return de.DATA_LOSS;default:return He(39323,{code:t})}}(pt=On||(On={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";function yK(){return new TextEncoder}const bK=new ol([4294967295,4294967295],0);function UP(t){const e=yK().encode(t),n=new W4;return n.update(e),new Uint8Array(n.digest())}function qP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ol([n,r],0),new ol([i,s],0)]}class Ej{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wh(`Invalid padding: ${n}`);if(r<0)throw new wh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ol.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ol.fromNumber(r)));return i.compare(bK)===1&&(i=new ol([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=UP(e),[r,i]=qP(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new Ej(s,i,n);return r.forEach((d=>l.insert(d))),l}insert(e){if(this.ge===0)return;const n=UP(e),[r,i]=qP(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.be(l)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zy{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zy(Ge.min(),i,new tn(lt),qs(),ut())}}class wm{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wm(r,n,ut(),ut(),ut())}}class ag{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Mz{constructor(e,n){this.targetId=e,this.Ce=n}}class zz{constructor(e,n,r=er.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class BP{constructor(){this.ve=0,this.Fe=$P(),this.Me=er.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ut(),n=ut(),r=ut();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:He(38017,{changeType:s})}})),new wm(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=$P()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,At(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class _K{constructor(e){this.Ge=e,this.ze=new Map,this.je=qs(),this.He=Sv(),this.Je=Sv(),this.Ze=new tn(lt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:He(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Sw(s))if(r===0){const l=new Me(s.path);this.et(n,l,_r.newNoDocument(l,Ge.min()))}else At(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const d=this.ut(e),f=d?this.ct(d,e,l):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,d;try{l=pl(r).toUint8Array()}catch(f){if(f instanceof lz)return Bc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Ej(l,i,s)}catch(f){return Bc(f instanceof wh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),d=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(d)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const d=this.ot(l);if(d){if(s.current&&Sw(d.target)){const f=new Me(d.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,_r.newNoDocument(f,e))}s.Be&&(n.set(l,s.ke()),s.Ke())}}));let r=ut();this.Je.forEach(((s,l)=>{let d=!0;l.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new Zy(e,n,this.Ze,this.je,r);return this.je=qs(),this.He=Sv(),this.Je=Sv(),this.Ze=new tn(lt),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new BP,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Un(lt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Un(lt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new BP),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sv(){return new tn(Me.comparator)}function $P(){return new tn(Me.comparator)}const xK={asc:"ASCENDING",desc:"DESCENDING"},wK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EK={and:"AND",or:"OR"};class jK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tw(t,e){return t.useProto3Json||Hy(e)?e:{value:e}}function Cg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lz(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AK(t,e){return Cg(t,e.toTimestamp())}function Ka(t){return At(!!t,49232),Ge.fromTimestamp((function(n){const r=ml(n);return new ct(r.seconds,r.nanos)})(t))}function jj(t,e){return Cw(t,e).canonicalString()}function Cw(t,e){const n=(function(i){return new $t(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Vz(t){const e=$t.fromString(t);return At(Fz(e),10190,{key:e.toString()}),e}function Pw(t,e){return jj(t.databaseId,e.path)}function px(t,e){const n=Vz(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(qz(n))}function Uz(t,e){return jj(t.databaseId,e)}function SK(t){const e=Vz(t);return e.length===4?$t.emptyPath():qz(e)}function Ow(t){return new $t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qz(t){return At(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function FP(t,e,n){return{name:Pw(t,e),fields:n.value.mapValue.fields}}function NK(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:He(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(At(p===void 0||typeof p=="string",58123),er.fromBase64String(p||"")):(At(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),er.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&(function(h){const p=h.code===void 0?de.UNKNOWN:Dz(h.code);return new Ae(p,h.message||"")})(l);n=new zz(r,i,s,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=px(t,r.document.name),s=Ka(r.document.updateTime),l=r.document.createTime?Ka(r.document.createTime):Ge.min(),d=new Qr({mapValue:{fields:r.document.fields}}),f=_r.newFoundDocument(i,s,l,d),h=r.targetIds||[],p=r.removedTargetIds||[];n=new ag(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=px(t,r.document),s=r.readTime?Ka(r.readTime):Ge.min(),l=_r.newNoDocument(i,s),d=r.removedTargetIds||[];n=new ag([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=px(t,r.document),s=r.removedTargetIds||[];n=new ag([],s,i,null)}else{if(!("filter"in e))return He(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new vK(i,s),d=r.targetId;n=new Mz(d,l)}}return n}function TK(t,e){let n;if(e instanceof xm)n={update:FP(t,e.key,e.value)};else if(e instanceof Xy)n={delete:Pw(t,e.key)};else if(e instanceof Pl)n={update:FP(t,e.key,e.data),updateMask:zK(e.fieldMask)};else{if(!(e instanceof hK))return He(16599,{dt:e.type});n={verify:Pw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const d=l.transform;if(d instanceof Kh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Gh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Wh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Tg)return{fieldPath:l.field.canonicalString(),increment:d.Ae};throw He(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:AK(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:He(27497)})(t,e.precondition)),n}function CK(t,e){return t&&t.length>0?(At(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Ka(i.updateTime):Ka(s);return l.isEqual(Ge.min())&&(l=Ka(s)),new uK(l,i.transformResults||[])})(n,e)))):[]}function PK(t,e){return{documents:[Uz(t,e.path)]}}function OK(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Uz(t,i);const s=(function(h){if(h.length!==0)return $z(fa.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(h){if(h.length!==0)return h.map((p=>(function(y){return{field:id(y.field),direction:kK(y.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const d=Tw(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function IK(t){let e=SK(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){At(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(v){const y=Bz(v);return y instanceof fa&&yz(y)?y.getFilters():[y]})(n.where));let l=[];n.orderBy&&(l=(function(v){return v.map((y=>(function(j){return new Hh(ad(j.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(y)))})(n.orderBy));let d=null;n.limit&&(d=(function(v){let y;return y=typeof v=="object"?v.value:v,Hy(y)?null:y})(n.limit));let f=null;n.startAt&&(f=(function(v){const y=!!v.before,w=v.values||[];return new Sg(w,y)})(n.startAt));let h=null;return n.endAt&&(h=(function(v){const y=!v.before,w=v.values||[];return new Sg(w,y)})(n.endAt)),WH(e,i,l,s,d,"F",f,h)}function RK(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Bz(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ad(n.unaryFilter.field);return In.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ad(n.unaryFilter.field);return In.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ad(n.unaryFilter.field);return In.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ad(n.unaryFilter.field);return In.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}})(t):t.fieldFilter!==void 0?(function(n){return In.create(ad(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return fa.create(n.compositeFilter.filters.map((r=>Bz(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return He(1026)}})(n.compositeFilter.op))})(t):He(30097,{filter:t})}function kK(t){return xK[t]}function DK(t){return wK[t]}function MK(t){return EK[t]}function id(t){return{fieldPath:t.canonicalString()}}function ad(t){return Zn.fromServerFormat(t.fieldPath)}function $z(t){return t instanceof In?(function(n){if(n.op==="=="){if(OP(n.value))return{unaryFilter:{field:id(n.field),op:"IS_NAN"}};if(PP(n.value))return{unaryFilter:{field:id(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(OP(n.value))return{unaryFilter:{field:id(n.field),op:"IS_NOT_NAN"}};if(PP(n.value))return{unaryFilter:{field:id(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:id(n.field),op:DK(n.op),value:n.value}}})(t):t instanceof fa?(function(n){const r=n.getFilters().map((i=>$z(i)));return r.length===1?r[0]:{compositeFilter:{op:MK(n.op),filters:r}}})(t):He(54877,{filter:t})}function zK(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Fz(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Hz(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class tl{constructor(e,n,r,i,s=Ge.min(),l=Ge.min(),d=er.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new tl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class LK{constructor(e){this.yt=e}}function VK(t){const e=IK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ng(e,e.limit,"L"):e}class UK{constructor(){this.Sn=new qK}addToCollectionParentIndex(e,n){return this.Sn.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(hl.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(hl.min())}updateCollectionGroup(e,n,r){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class qK{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Un($t.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Un($t.comparator)).toArray()}}const HP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kz=41943040;class Wr{static withCacheSize(e){return new Wr(e,Wr.DEFAULT_COLLECTION_PERCENTILE,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Wr.DEFAULT_COLLECTION_PERCENTILE=10,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wr.DEFAULT=new Wr(Kz,Wr.DEFAULT_COLLECTION_PERCENTILE,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wr.DISABLED=new Wr(-1,0,0);class Nd{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Nd(0)}static ar(){return new Nd(-1)}}const KP="LruGarbageCollector",BK=1048576;function GP([t,e],[n,r]){const i=lt(t,n);return i===0?lt(e,r):i}class $K{constructor(e){this.Pr=e,this.buffer=new Un(GP),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FK{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Te(KP,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bd(n)?Te(KP,"Ignoring IndexedDB error during garbage collection: ",n):await qd(n)}await this.Ar(3e5)}))}}class HK{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ye.resolve(Fy.ce);const r=new $K(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(HP)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HP):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,l,d,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i)))).next((v=>(r=v,d=Date.now(),this.removeTargets(e,r,n)))).next((v=>(s=v,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(h=Date.now(),nd()<=ot.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(d-l)+`ms
	Removed ${s} targets in `+(f-d)+`ms
	Removed ${v} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:v}))))}}function KK(t,e){return new HK(t,e)}class GK{constructor(){this.changes=new ru((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_r.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ye.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class WK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class QK{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Rh(r.mutation,i,fi.empty(),ct.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ut()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ut()){const i=wc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=xh();return s.forEach(((d,f)=>{l=l.insert(d,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=wc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ut())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,d)=>{n.set(l,d)}))}))}computeViews(e,n,r,i){let s=qs();const l=Ih(),d=(function(){return Ih()})();return n.forEach(((f,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Pl)?s=s.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),Rh(p.mutation,h,p.mutation.getFieldMask(),ct.now())):l.set(h.key,fi.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,p)=>l.set(h,p))),n.forEach(((h,p)=>d.set(h,new WK(p,l.get(h)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=Ih();let i=new tn(((l,d)=>l-d)),s=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const d of l)d.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||fi.empty();p=d.applyToLocalView(h,p),r.set(f,p);const v=(i.get(d.batchId)||ut()).add(f);i=i.insert(d.batchId,v)}))})).next((()=>{const l=[],d=i.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),h=f.key,p=f.value,v=Nz();p.forEach((y=>{if(!s.has(y)){const w=Rz(n.get(y),r.get(y));w!==null&&v.set(y,w),s=s.add(y)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,v))}return ye.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return QH(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wz(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ye.resolve(wc());let d=Bh,f=s;return l.next((h=>ye.forEach(h,((p,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),s.get(p)?ye.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{f=f.insert(p,y)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,ut()))).next((p=>({batchId:d,changes:Sz(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next((r=>{let i=xh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=xh();return this.indexManager.getCollectionParents(e,s).next((d=>ye.forEach(d,(f=>{const h=(function(v,y){return new $d(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((v,y)=>{l=l.insert(v,y)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((f,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,_r.newInvalidDocument(p)))}));let d=xh();return l.forEach(((f,h)=>{const p=s.get(f);p!==void 0&&Rh(p.mutation,h,fi.empty(),ct.now()),Wy(n,h)&&(d=d.insert(f,h))})),d}))}}class YK{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ye.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ka(i.createTime)}})(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:VK(i.bundledQuery),readTime:Ka(i.readTime)}})(n)),ye.resolve()}}class XK{constructor(){this.overlays=new tn(Me.comparator),this.Lr=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wc();return ye.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.bt(e,n,s)})),ye.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Lr.delete(r)),ye.resolve()}getOverlaysForCollection(e,n,r){const i=wc(),s=n.length+1,l=new Me(n.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const f=d.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new tn(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=wc(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const d=wc(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>d.set(h,p))),!(d.size()>=i)););return ye.resolve(d)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new pK(n,r));let s=this.Lr.get(n);s===void 0&&(s=ut(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}class ZK{constructor(){this.sessionToken=er.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}class Aj{constructor(){this.kr=new Un(Yn.Kr),this.qr=new Un(Yn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Yn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Yn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Me(new $t([])),r=new Yn(n,e),i=new Yn(n,e+1),s=[];return this.qr.forEachInRange([r,i],(l=>{this.Wr(l),s.push(l.key)})),s}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Me(new $t([])),r=new Yn(n,e),i=new Yn(n,e+1);let s=ut();return this.qr.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Yn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Yn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Me.comparator(e.key,n.key)||lt(e.Hr,n.Hr)}static Ur(e,n){return lt(e.Hr,n.Hr)||Me.comparator(e.key,n.key)}}class JK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Un(Yn.Kr)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new mK(s,n,r,i);this.mutationQueue.push(l);for(const d of i)this.Jr=this.Jr.add(new Yn(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ye.resolve(l)}lookupMutationBatch(e,n){return ye.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return ye.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?pj:this.Yn-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Yn(n,0),i=new Yn(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],(l=>{const d=this.Zr(l.Hr);s.push(d)})),ye.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Un(lt);return n.forEach((i=>{const s=new Yn(i,0),l=new Yn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,l],(d=>{r=r.add(d.Hr)}))})),ye.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Me.isDocumentKey(s)||(s=s.child(""));const l=new Yn(new Me(s),0);let d=new Un(lt);return this.Jr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(d=d.add(f.Hr)),!0)}),l),ye.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){At(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ye.forEach(n.mutations,(i=>{const s=new Yn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Yn(n,0),i=this.Jr.firstAfterOrEqual(r);return ye.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class eG{constructor(e){this.ti=e,this.docs=(function(){return new tn(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ye.resolve(r?r.document.mutableCopy():_r.newInvalidDocument(n))}getEntries(e,n){let r=qs();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_r.newInvalidDocument(i))})),ye.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=qs();const l=n.path,d=new Me(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||AH(jH(p),r)<=0||(i.has(p.key)||Wy(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return ye.resolve(s)}getAllFromCollectionGroup(e,n,r,i){He(9500)}ni(e,n){return ye.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new tG(this)}getSize(e){return ye.resolve(this.size)}}class tG extends GK{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),ye.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class nG{constructor(e){this.persistence=e,this.ri=new ru((n=>yj(n)),bj),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.ii=0,this.si=new Aj,this.targetCount=0,this.oi=Nd._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ye.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Nd(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.lr(n),ye.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach(((l,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.ri.delete(l),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),ye.waitFor(s).next((()=>i))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ye.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ye.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),ye.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ye.resolve(r)}containsKey(e,n){return ye.resolve(this.si.containsKey(n))}}class Gz{constructor(e,n){this._i={},this.overlays={},this.ai=new Fy(0),this.ui=!1,this.ui=!0,this.ci=new ZK,this.referenceDelegate=e(this),this.li=new nG(this),this.indexManager=new UK,this.remoteDocumentCache=(function(i){return new eG(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new LK(n),this.Pi=new YK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new XK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new JK(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new rG(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((s=>this.referenceDelegate.Ii(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ei(e,n){return ye.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class rG extends NH{constructor(e){super(),this.currentSequenceNumber=e}}class Sj{constructor(e){this.persistence=e,this.Ri=new Aj,this.Ai=null}static Vi(e){return new Sj(e)}get di(){if(this.Ai)return this.Ai;throw He(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ye.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.di.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.di,(r=>{const i=Me.fromPath(r);return this.mi(e,i).next((s=>{s||n.removeEntry(i,Ge.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ye.or([()=>ye.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Pg{constructor(e,n){this.persistence=e,this.fi=new ru((r=>PH(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=KK(this,n)}static Vi(e,n){return new Pg(e,n)}Ti(){}Ii(e){return ye.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ye.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((s=>s?ye.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,(l=>this.wr(e,l,n).next((d=>{d||(r++,s.removeEntry(l,Ge.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ye.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ye.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ye.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ng(e.data.value)),n}wr(e,n,r){return ye.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return ye.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Nj{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=ut(),i=ut();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Nj(e,n.fromCache,r,i)}}class iG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class aG{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return OB()?8:TH(jr())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ps(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new iG;return this.ys(e,n,l).next((d=>{if(s.result=d,this.As)return this.ws(e,n,l,d.size)}))})).next((()=>s.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(nd()<=ot.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",rd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ye.resolve()):(nd()<=ot.DEBUG&&Te("QueryEngine","Query:",rd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(nd()<=ot.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",rd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ha(n))):ye.resolve())}gs(e,n){if(DP(n))return ye.resolve(null);let r=Ha(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Ng(n,null,"F"),r=Ha(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=ut(...s);return this.fs.getDocuments(e,l).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.bs(n,d);return this.Ss(n,h,l,f.readTime)?this.gs(e,Ng(n,null,"F")):this.Ds(e,h,n,f)}))))})))))}ps(e,n,r,i){return DP(n)||i.isEqual(Ge.min())?ye.resolve(null):this.fs.getDocuments(e,r).next((s=>{const l=this.bs(n,s);return this.Ss(n,l,r,i)?ye.resolve(null):(nd()<=ot.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rd(n)),this.Ds(e,l,n,EH(i,Bh)).next((d=>d)))}))}bs(e,n){let r=new Un(jz(e));return n.forEach(((i,s)=>{Wy(e,s)&&(r=r.add(s))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return nd()<=ot.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",rd(n)),this.fs.getDocumentsMatchingQuery(e,n,hl.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const Tj="LocalStore",sG=3e8;class oG{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new tn(lt),this.Fs=new ru((s=>yj(s)),bj),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QK(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function lG(t,e,n,r){return new oG(t,e,n,r)}async function Wz(t,e){const n=Xe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],d=[];let f=ut();for(const h of i){l.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of s){d.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ns:h,removedBatchIds:l,addedBatchIds:d})))}))}))}function cG(t,e){const n=Xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,f,h,p){const v=h.batch,y=v.keys();let w=ye.resolve();return y.forEach((j=>{w=w.next((()=>p.getEntry(f,j))).next((E=>{const A=h.docVersions.get(j);At(A!==null,48541),E.version.compareTo(A)<0&&(v.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),p.addEntry(E)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(f,v)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=ut();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(f=f.add(d.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function Qz(t){const e=Xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function uG(t,e){const n=Xe(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const d=[];e.targetChanges.forEach(((p,v)=>{const y=i.get(v);if(!y)return;d.push(n.li.removeMatchingKeys(s,p.removedDocuments,v).next((()=>n.li.addMatchingKeys(s,p.addedDocuments,v))));let w=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(er.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),i=i.insert(v,w),(function(E,A,T){return E.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=sG?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0})(y,w,p)&&d.push(n.li.updateTargetData(s,w))}));let f=qs(),h=ut();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),d.push(dG(s,l,e.documentUpdates).next((p=>{f=p.Bs,h=p.Ls}))),!r.isEqual(Ge.min())){const p=n.li.getLastRemoteSnapshotVersion(s).next((v=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r)));d.push(p)}return ye.waitFor(d).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.vs=i,s)))}function dG(t,e,n){let r=ut(),i=ut();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=qs();return n.forEach(((d,f)=>{const h=s.get(d);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual(Ge.min())?(e.removeEntry(d,f.readTime),l=l.insert(d,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(d,f)):Te(Tj,"Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",f.version)})),{Bs:l,Ls:i}}))}function fG(t,e){const n=Xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=pj),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function hG(t,e){const n=Xe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((s=>s?(i=s,ye.resolve(i)):n.li.allocateTargetId(r).next((l=>(i=new tl(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Iw(t,e,n){const r=Xe(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Bd(l))throw l;Te(Tj,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function WP(t,e,n){const r=Xe(t);let i=Ge.min(),s=ut();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,h,p){const v=Xe(f),y=v.Fs.get(p);return y!==void 0?ye.resolve(v.vs.get(y)):v.li.getTargetData(h,p)})(r,l,Ha(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,d.targetId).next((f=>{s=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,n?i:Ge.min(),n?s:ut()))).next((d=>(mG(r,ZH(e),d),{documents:d,ks:s})))))}function mG(t,e,n){let r=t.Ms.get(e)||Ge.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Ms.set(e,r)}class QP{constructor(){this.activeTargetIds=iK()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pG{constructor(){this.vo=new QP,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new QP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vG{Mo(e){}shutdown(){}}const YP="ConnectivityMonitor";class XP{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Te(YP,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Te(YP,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nv=null;function Rw(){return Nv===null?Nv=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nv++,"0x"+Nv.toString(16)}const vx="RestConnection",gG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class yG{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===jg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const l=Rw(),d=this.Qo(e,n.toUriEncodedString());Te(vx,`Sending RPC '${e}' ${l}:`,d,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,i,s);const{host:h}=new URL(d),p=Nl(h);return this.zo(e,d,f,r,p).then((v=>(Te(vx,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw Bc(vx,`RPC '${e}' ${l} failed with error: `,v,"url: ",d,"request:",r),v}))}jo(e,n,r,i,s,l){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ud})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}Qo(e,n){const r=gG[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class bG{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const vr="WebChannelConnection",ih=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class gd extends yG{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!gd.c_){const e=Z4();ih(e,X4.STAT_EVENT,(n=>{n.stat===xw.PROXY?Te(vr,"STAT_EVENT: detected buffering proxy"):n.stat===xw.NOPROXY&&Te(vr,"STAT_EVENT: detected no buffering proxy")})),gd.c_=!0}}zo(e,n,r,i,s){const l=Rw();return new Promise(((d,f)=>{const h=new Q4;h.setWithCredentials(!0),h.listenOnce(Y4.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case tg.NO_ERROR:const v=h.getResponseJson();Te(vr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),d(v);break;case tg.TIMEOUT:Te(vr,`RPC '${e}' ${l} timed out`),f(new Ae(de.DEADLINE_EXCEEDED,"Request time out"));break;case tg.HTTP_ERROR:const y=h.getStatus();if(Te(vr,`RPC '${e}' ${l} failed with status:`,y,"response text:",h.getResponseText()),y>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const j=w?.error;if(j&&j.status&&j.message){const E=(function(T){const k=T.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(k)>=0?k:de.UNKNOWN})(j.status);f(new Ae(E,j.message))}else f(new Ae(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Ae(de.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Te(vr,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);Te(vr,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=Rw(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const h=s.join("");Te(vr,`Creating RPC '${e}' stream ${i}: ${h}`,d);const p=l.createWebChannel(h,d);this.I_(p);let v=!1,y=!1;const w=new bG({Ho:j=>{y?Te(vr,`Not sending because RPC '${e}' stream ${i} is closed:`,j):(v||(Te(vr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),Te(vr,`RPC '${e}' stream ${i} sending:`,j),p.send(j))},Jo:()=>p.close()});return ih(p,_h.EventType.OPEN,(()=>{y||(Te(vr,`RPC '${e}' stream ${i} transport opened.`),w.i_())})),ih(p,_h.EventType.CLOSE,(()=>{y||(y=!0,Te(vr,`RPC '${e}' stream ${i} transport closed`),w.o_(),this.E_(p))})),ih(p,_h.EventType.ERROR,(j=>{y||(y=!0,Bc(vr,`RPC '${e}' stream ${i} transport errored. Name:`,j.name,"Message:",j.message),w.o_(new Ae(de.UNAVAILABLE,"The operation could not be completed")))})),ih(p,_h.EventType.MESSAGE,(j=>{if(!y){const E=j.data[0];At(!!E,16349);const A=E,T=A?.error||A[0]?.error;if(T){Te(vr,`RPC '${e}' stream ${i} received error:`,T);const k=T.status;let M=(function(D){const O=On[D];if(O!==void 0)return Dz(O)})(k),R=T.message;M===void 0&&(M=de.INTERNAL,R="Unknown error status: "+k+" with message "+T.message),y=!0,w.o_(new Ae(M,R)),p.close()}else Te(vr,`RPC '${e}' stream ${i} received:`,E),w.__(E)}})),gd.u_(),setTimeout((()=>{w.s_()}),0),w}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return J4()}}function _G(t){return new gd(t)}function gx(){return typeof document<"u"?document:null}function Jy(t){return new jK(t,!0)}gd.c_=!1;class Yz{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const ZP="PersistentStream";class Xz{constructor(e,n,r,i,s,l,d,f){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Yz(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Us(n.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ae(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(ZP,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Te(ZP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xG extends Xz{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=NK(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ge.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Ge.min():l.readTime?Ka(l.readTime):Ge.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Ow(this.serializer),n.addTarget=(function(s,l){let d;const f=l.target;if(d=Sw(f)?{documents:PK(s,f)}:{query:OK(s,f).ft},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=Lz(s,l.resumeToken);const h=Tw(s,l.expectedCount);h!==null&&(d.expectedCount=h)}else if(l.snapshotVersion.compareTo(Ge.min())>0){d.readTime=Cg(s,l.snapshotVersion.toTimestamp());const h=Tw(s,l.expectedCount);h!==null&&(d.expectedCount=h)}return d})(this.serializer,e);const r=RK(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Ow(this.serializer),n.removeTarget=e,this.K_(n)}}class wG extends Xz{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return At(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){At(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=CK(e.writeResults,e.commitTime),r=Ka(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ow(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>TK(this.serializer,r)))};this.K_(n)}}class EG{}class jG extends EG{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Wo(e,Cw(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ae(de.UNKNOWN,s.toString())}))}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.jo(e,Cw(n,r),i,l,d,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ae(de.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function AG(t,e,n,r){return new jG(t,e,n,r)}class SG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Us(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $c="RemoteStore";class NG{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{iu(this)&&(Te($c,"Restarting streams for network reachability change."),await(async function(f){const h=Xe(f);h.Ea.add(4),await Em(h),h.Va.set("Unknown"),h.Ea.delete(4),await e0(h)})(this))}))})),this.Va=new SG(r,i)}}async function e0(t){if(iu(t))for(const e of t.Ra)await e(!0)}async function Em(t){for(const e of t.Ra)await e(!1)}function Zz(t,e){const n=Xe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ij(n)?Oj(n):Fd(n).O_()&&Pj(n,e))}function Cj(t,e){const n=Xe(t),r=Fd(n);n.Ia.delete(e),r.O_()&&Jz(n,e),n.Ia.size===0&&(r.O_()?r.L_():iu(n)&&n.Va.set("Unknown"))}function Pj(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fd(t).Z_(e)}function Jz(t,e){t.da.$e(e),Fd(t).X_(e)}function Oj(t){t.da=new _K({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Fd(t).start(),t.Va.ua()}function Ij(t){return iu(t)&&!Fd(t).x_()&&t.Ia.size>0}function iu(t){return Xe(t).Ea.size===0}function eL(t){t.da=void 0}async function TG(t){t.Va.set("Online")}async function CG(t){t.Ia.forEach(((e,n)=>{Pj(t,e)}))}async function PG(t,e){eL(t),Ij(t)?(t.Va.ha(e),Oj(t)):t.Va.set("Unknown")}async function OG(t,e,n){if(t.Va.set("Online"),e instanceof zz&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const d of s.targetIds)i.Ia.has(d)&&(await i.remoteSyncer.rejectListen(d,l),i.Ia.delete(d),i.da.removeTarget(d))})(t,e)}catch(r){Te($c,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Og(t,r)}else if(e instanceof ag?t.da.Xe(e):e instanceof Mz?t.da.st(e):t.da.tt(e),!n.isEqual(Ge.min()))try{const r=await Qz(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const d=s.da.Tt(l);return d.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(f.resumeToken,l))}})),d.targetMismatches.forEach(((f,h)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(er.EMPTY_BYTE_STRING,p.snapshotVersion)),Jz(s,f);const v=new tl(p.target,f,h,p.sequenceNumber);Pj(s,v)})),s.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Te($c,"Failed to raise snapshot:",r),await Og(t,r)}}async function Og(t,e,n){if(!Bd(e))throw e;t.Ea.add(1),await Em(t),t.Va.set("Offline"),n||(n=()=>Qz(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te($c,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await e0(t)}))}function tL(t,e){return e().catch((n=>Og(t,n,e)))}async function t0(t){const e=Xe(t),n=gl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:pj;for(;IG(e);)try{const i=await fG(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,RG(e,i)}catch(i){await Og(e,i)}nL(e)&&rL(e)}function IG(t){return iu(t)&&t.Ta.length<10}function RG(t,e){t.Ta.push(e);const n=gl(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function nL(t){return iu(t)&&!gl(t).x_()&&t.Ta.length>0}function rL(t){gl(t).start()}async function kG(t){gl(t).ra()}async function DG(t){const e=gl(t);for(const n of t.Ta)e.ea(n.mutations)}async function MG(t,e,n){const r=t.Ta.shift(),i=wj.from(r,e,n);await tL(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await t0(t)}async function zG(t,e){e&&gl(t).Y_&&await(async function(r,i){if((function(l){return gK(l)&&l!==de.ABORTED})(i.code)){const s=r.Ta.shift();gl(r).B_(),await tL(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await t0(r)}})(t,e),nL(t)&&rL(t)}async function JP(t,e){const n=Xe(t);n.asyncQueue.verifyOperationInProgress(),Te($c,"RemoteStore received new credentials");const r=iu(n);n.Ea.add(3),await Em(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await e0(n)}async function LG(t,e){const n=Xe(t);e?(n.Ea.delete(2),await e0(n)):e||(n.Ea.add(2),await Em(n),n.Va.set("Unknown"))}function Fd(t){return t.ma||(t.ma=(function(n,r,i){const s=Xe(n);return s.sa(),new xG(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:TG.bind(null,t),Yo:CG.bind(null,t),t_:PG.bind(null,t),J_:OG.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Ij(t)?Oj(t):t.Va.set("Unknown")):(await t.ma.stop(),eL(t))}))),t.ma}function gl(t){return t.fa||(t.fa=(function(n,r,i){const s=Xe(n);return s.sa(),new wG(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:kG.bind(null,t),t_:zG.bind(null,t),ta:DG.bind(null,t),na:MG.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await t0(t)):(await t.fa.stop(),t.Ta.length>0&&(Te($c,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Rj{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,d=new Rj(e,n,l,i,s);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kj(t,e){if(Us("AsyncQueue",`${e}: ${t}`),Bd(t))return new Ae(de.UNAVAILABLE,`${e}: ${t}`);throw t}class yd{static emptySet(e){return new yd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Me.comparator(n.key,r.key):(n,r)=>Me.comparator(n.key,r.key),this.keyedMap=xh(),this.sortedSet=new tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class eO{constructor(){this.ga=new tn(Me.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):He(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Td{constructor(e,n,r,i,s,l,d,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((d=>{l.push({type:0,doc:d})})),new Td(e,n,yd.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class VG{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class UG{constructor(){this.queries=tO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Xe(n),s=i.queries;i.queries=tO(),s.forEach(((l,d)=>{for(const f of d.ba)f.onError(r)}))})(this,new Ae(de.ABORTED,"Firestore shutting down"))}}function tO(){return new ru((t=>Ez(t)),Gy)}async function iL(t,e){const n=Xe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new VG,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const d=kj(l,`Initialization of query '${rd(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Dj(n)}async function aL(t,e){const n=Xe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.ba.indexOf(e);l>=0&&(s.ba.splice(l,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qG(t,e){const n=Xe(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const d of l.ba)d.Fa(i)&&(r=!0);l.wa=i}}r&&Dj(n)}function BG(t,e,n){const r=Xe(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function Dj(t){t.Ca.forEach((e=>{e.next()}))}var kw,nO;(nO=kw||(kw={})).Ma="default",nO.Cache="cache";class sL{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Td(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Td.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==kw.Cache}}class oL{constructor(e){this.key=e}}class lL{constructor(e){this.key=e}}class $G{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ut(),this.mutatedKeys=ut(),this.eu=jz(e),this.tu=new yd(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new eO,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,d=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,v)=>{const y=i.get(p),w=Wy(this.query,v)?v:null,j=!!y&&this.mutatedKeys.has(y.key),E=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let A=!1;y&&w?y.data.isEqual(w.data)?j!==E&&(r.track({type:3,doc:w}),A=!0):this.su(y,w)||(r.track({type:2,doc:w}),A=!0,(f&&this.eu(w,f)>0||h&&this.eu(w,h)<0)&&(d=!0)):!y&&w?(r.track({type:0,doc:w}),A=!0):y&&!w&&(r.track({type:1,doc:y}),A=!0,(f||h)&&(d=!0)),A&&(w?(l=l.add(w),s=E?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Ss:d,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,v)=>(function(w,j){const E=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Vt:A})}};return E(w)-E(j)})(p.type,v.type)||this.eu(p.doc,v.doc))),this.ou(r),i=i??!1;const d=n&&!i?this._u():[],f=this.Ya.size===0&&this.current&&!i?1:0,h=f!==this.Xa;return this.Xa=f,l.length!==0||h?{snapshot:new Td(this.query,e.tu,s,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eO,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new lL(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new oL(r))})),n}cu(e){this.Za=e.ks,this.Ya=ut();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Td.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Mj="SyncEngine";class FG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HG{constructor(e){this.key=e,this.hu=!1}}class KG{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new ru((d=>Ez(d)),Gy),this.Iu=new Map,this.Eu=new Set,this.Ru=new tn(Me.comparator),this.Au=new Map,this.Vu=new Aj,this.du={},this.mu=new Map,this.fu=Nd.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GG(t,e,n=!0){const r=mL(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await cL(r,e,n,!0),i}async function WG(t,e){const n=mL(t);await cL(n,e,!0,!1)}async function cL(t,e,n,r){const i=await hG(t.localStore,Ha(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let d;return r&&(d=await QG(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&Zz(t.remoteStore,i),d}async function QG(t,e,n,r,i){t.pu=(v,y,w)=>(async function(E,A,T,k){let M=A.view.ru(T);M.Ss&&(M=await WP(E.localStore,A.query,!1).then((({documents:O})=>A.view.ru(O,M))));const R=k&&k.targetChanges.get(A.targetId),L=k&&k.targetMismatches.get(A.targetId)!=null,D=A.view.applyChanges(M,E.isPrimaryClient,R,L);return iO(E,A.targetId,D.au),D.snapshot})(t,v,y,w);const s=await WP(t.localStore,e,!0),l=new $G(e,s.ks),d=l.ru(s.documents),f=wm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(d,t.isPrimaryClient,f);iO(t,n,h.au);const p=new FG(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function YG(t,e,n){const r=Xe(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!Gy(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Iw(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Cj(r.remoteStore,i.targetId),Dw(r,i.targetId)})).catch(qd)):(Dw(r,i.targetId),await Iw(r.localStore,i.targetId,!0))}async function XG(t,e){const n=Xe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Cj(n.remoteStore,r.targetId))}async function ZG(t,e,n){const r=aW(t);try{const i=await(function(l,d){const f=Xe(l),h=ct.now(),p=d.reduce(((w,j)=>w.add(j.key)),ut());let v,y;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let j=qs(),E=ut();return f.xs.getEntries(w,p).next((A=>{j=A,j.forEach(((T,k)=>{k.isValidDocument()||(E=E.add(T))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,j))).next((A=>{v=A;const T=[];for(const k of d){const M=fK(k,v.get(k.key).overlayedDocument);M!=null&&T.push(new Pl(k.key,M,pz(M.value.mapValue),Ir.exists(!0)))}return f.mutationQueue.addMutationBatch(w,h,T,d)})).next((A=>{y=A;const T=A.applyToLocalDocumentSet(v,E);return f.documentOverlayCache.saveOverlays(w,A.batchId,T)}))})).then((()=>({batchId:y.batchId,changes:Sz(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,d,f){let h=l.du[l.currentUser.toKey()];h||(h=new tn(lt)),h=h.insert(d,f),l.du[l.currentUser.toKey()]=h})(r,i.batchId,n),await jm(r,i.changes),await t0(r.remoteStore)}catch(i){const s=kj(i,"Failed to persist write");n.reject(s)}}async function uL(t,e){const n=Xe(t);try{const r=await uG(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?At(l.hu,14607):i.removedDocuments.size>0&&(At(l.hu,42227),l.hu=!1))})),await jm(n,r,e)}catch(r){await qd(r)}}function rO(t,e,n){const r=Xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const d=l.view.va(e);d.snapshot&&i.push(d.snapshot)})),(function(l,d){const f=Xe(l);f.onlineState=d;let h=!1;f.queries.forEach(((p,v)=>{for(const y of v.ba)y.va(d)&&(h=!0)})),h&&Dj(f)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JG(t,e,n){const r=Xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new tn(Me.comparator);l=l.insert(s,_r.newNoDocument(s,Ge.min()));const d=ut().add(s),f=new Zy(Ge.min(),new Map,new tn(lt),l,d);await uL(r,f),r.Ru=r.Ru.remove(s),r.Au.delete(e),zj(r)}else await Iw(r.localStore,e,!1).then((()=>Dw(r,e,n))).catch(qd)}async function eW(t,e){const n=Xe(t),r=e.batch.batchId;try{const i=await cG(n.localStore,e);fL(n,r,null),dL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jm(n,i)}catch(i){await qd(i)}}async function tW(t,e,n){const r=Xe(t);try{const i=await(function(l,d){const f=Xe(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,d).next((v=>(At(v!==null,37113),p=v.keys(),f.mutationQueue.removeMutationBatch(h,v)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);fL(r,e,n),dL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jm(r,i)}catch(i){await qd(i)}}function dL(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function fL(t,e,n){const r=Xe(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function Dw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||hL(t,r)}))}function hL(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Cj(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),zj(t))}function iO(t,e,n){for(const r of n)r instanceof oL?(t.Vu.addReference(r.key,e),nW(t,r)):r instanceof lL?(Te(Mj,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||hL(t,r.key)):He(19791,{wu:r})}function nW(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Te(Mj,"New document in limbo: "+n),t.Eu.add(r),zj(t))}function zj(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Me($t.fromString(e)),r=t.fu.next();t.Au.set(r,new HG(n)),t.Ru=t.Ru.insert(n,r),Zz(t.remoteStore,new tl(Ha(_j(n.path)),r,"TargetPurposeLimboResolution",Fy.ce))}}async function jm(t,e,n){const r=Xe(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{l.push(r.pu(f,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(h){i.push(h);const p=Nj.Es(f.targetId,h);s.push(p)}})))})),await Promise.all(l),r.Pu.J_(i),await(async function(f,h){const p=Xe(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ye.forEach(h,(y=>ye.forEach(y.Ts,(w=>p.persistence.referenceDelegate.addReference(v,y.targetId,w))).next((()=>ye.forEach(y.Is,(w=>p.persistence.referenceDelegate.removeReference(v,y.targetId,w)))))))))}catch(v){if(!Bd(v))throw v;Te(Tj,"Failed to update sequence numbers: "+v)}for(const v of h){const y=v.targetId;if(!v.fromCache){const w=p.vs.get(y),j=w.snapshotVersion,E=w.withLastLimboFreeSnapshotVersion(j);p.vs=p.vs.insert(y,E)}}})(r.localStore,s))}async function rW(t,e){const n=Xe(t);if(!n.currentUser.isEqual(e)){Te(Mj,"User change. New user:",e.toKey());const r=await Wz(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((d=>{d.forEach((f=>{f.reject(new Ae(de.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jm(n,r.Ns)}}function iW(t,e){const n=Xe(t),r=n.Au.get(e);if(r&&r.hu)return ut().add(r.key);{let i=ut();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const d=n.Tu.get(l);i=i.unionWith(d.view.nu)}return i}}function mL(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JG.bind(null,e),e.Pu.J_=qG.bind(null,e.eventManager),e.Pu.yu=BG.bind(null,e.eventManager),e}function aW(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tW.bind(null,e),e}class Ig{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return lG(this.persistence,new aG,e.initialUser,this.serializer)}Cu(e){return new Gz(Sj.Vi,this.serializer)}Du(e){return new pG}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ig.provider={build:()=>new Ig};class sW extends Ig{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){At(this.persistence.referenceDelegate instanceof Pg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FK(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Wr.withCacheSize(this.cacheSizeBytes):Wr.DEFAULT;return new Gz((r=>Pg.Vi(r,n)),this.serializer)}}class Mw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rW.bind(null,this.syncEngine),await LG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new UG})()}createDatastore(e){const n=Jy(e.databaseInfo.databaseId),r=_G(e.databaseInfo);return AG(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,d){return new NG(r,i,s,l,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>rO(this.syncEngine,n,0)),(function(){return XP.v()?new XP:new vG})())}createSyncEngine(e,n){return(function(i,s,l,d,f,h,p){const v=new KG(i,s,l,d,f,h);return p&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Xe(n);Te($c,"RemoteStore shutting down."),r.Ea.add(5),await Em(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mw.provider={build:()=>new Mw};class pL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const yl="FirestoreClient";class oW{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=br.UNAUTHENTICATED,this.clientId=By.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{Te(yl,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Te(yl,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=kj(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function yx(t,e){t.asyncQueue.verifyOperationInProgress(),Te(yl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Wz(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function aO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lW(t);Te(yl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>JP(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>JP(e.remoteStore,i))),t._onlineComponents=e}async function lW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(yl,"Using user provided OfflineComponentProvider");try{await yx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===de.FAILED_PRECONDITION||i.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Bc("Error using user provided cache. Falling back to memory cache: "+n),await yx(t,new Ig)}}else Te(yl,"Using default OfflineComponentProvider"),await yx(t,new sW(void 0));return t._offlineComponents}async function vL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(yl,"Using user provided OnlineComponentProvider"),await aO(t,t._uninitializedComponentsProvider._online)):(Te(yl,"Using default OnlineComponentProvider"),await aO(t,new Mw))),t._onlineComponents}function cW(t){return vL(t).then((e=>e.syncEngine))}async function gL(t){const e=await vL(t),n=e.eventManager;return n.onListen=GG.bind(null,e.syncEngine),n.onUnlisten=YG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XG.bind(null,e.syncEngine),n}function uW(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,d,f,h){const p=new pL({next:y=>{p.Nu(),l.enqueueAndForget((()=>aL(s,v)));const w=y.docs.has(d);!w&&y.fromCache?h.reject(new Ae(de.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&f&&f.source==="server"?h.reject(new Ae(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),v=new sL(_j(d.path),p,{includeMetadataChanges:!0,Ka:!0});return iL(s,v)})(await gL(t),t.asyncQueue,e,n,r))),r.promise}function dW(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,d,f,h){const p=new pL({next:y=>{p.Nu(),l.enqueueAndForget((()=>aL(s,v))),y.fromCache&&f.source==="server"?h.reject(new Ae(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),v=new sL(d,p,{includeMetadataChanges:!0,Ka:!0});return iL(s,v)})(await gL(t),t.asyncQueue,e,n,r))),r.promise}function fW(t,e){const n=new ks;return t.asyncQueue.enqueueAndForget((async()=>ZG(await cW(t),e,n))),n.promise}function yL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const hW="ComponentProvider",sO=new Map;function mW(t,e,n,r,i){return new RH(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,yL(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const bL="firestore.googleapis.com",oO=!0;class lO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bL,this.ssl=oO}else this.host=e.host,this.ssl=e.ssl??oO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Kz;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BK)throw new Ae(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yL(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ae(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ae(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ae(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class n0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new nz;switch(r.type){case"firstParty":return new vH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=sO.get(n);r&&(Te(hW,"Removing Datastore"),sO.delete(n),r.terminate())})(this),Promise.resolve()}}function _L(t,e,n,r={}){t=gi(t,n0);const i=Nl(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;i&&(tj(`https://${d}`),nj("Firestore",!0)),s.host!==bL&&s.host!==d&&Bc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:d,ssl:i,emulatorOptions:r};if(!zc(f,l)&&(t._setSettings(f),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=br.MOCK_USER;else{h=l4(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ae(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new br(v)}t._authCredentials=new hH(new tz(h,p))}}class Zs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zs(this.firestore,e,this._query)}}class dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}toJSON(){return{type:dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(_m(n,dn._jsonSchema))return new dn(e,r||null,new Me($t.fromString(n.referencePath)))}}dn._jsonSchemaVersion="firestore/documentReference/1.0",dn._jsonSchema={type:Rn("string",dn._jsonSchemaVersion),referencePath:Rn("string")};class Ds extends Zs{constructor(e,n,r){super(e,n,_j(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new Me(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function wr(t,e,...n){if(t=Ft(t),rz("collection","path",e),t instanceof n0){const r=$t.fromString(e,...n);return xP(r),new Ds(t,null,r)}{if(!(t instanceof dn||t instanceof Ds))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return xP(r),new Ds(t.firestore,null,r)}}function Ut(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=By.newId()),rz("doc","path",e),t instanceof n0){const r=$t.fromString(e,...n);return _P(r),new dn(t,null,new Me(r))}{if(!(t instanceof dn||t instanceof Ds))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return _P(r),new dn(t.firestore,t instanceof Ds?t.converter:null,new Me(r))}}const cO="AsyncQueue";class uO{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Yz(this,"async_queue_retry"),this._c=()=>{const r=gx();r&&Te(cO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=gx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Bd(e))throw e;Te(cO,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Us("INTERNAL UNHANDLED ERROR: ",dO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Rj.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&He(47125,{Pc:dO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function dO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Js extends n0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new uO,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uO(e),this._firestoreClient=void 0,await e}}}function xL(t,e){const n=typeof t=="object"?t:aj(),r=typeof t=="string"?t:jg,i=Ly(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=a4("firestore");s&&_L(i,...s)}return i}function Am(t){if(t._terminated)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pW(t),t._firestoreClient}function pW(t){const e=t._freezeSettings(),n=mW(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new oW(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class ui{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ui(er.fromBase64String(e))}catch(n){throw new Ae(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ui(er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ui._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_m(e,ui._jsonSchema))return ui.fromBase64String(e.bytes)}}ui._jsonSchemaVersion="firestore/bytes/1.0",ui._jsonSchema={type:Rn("string",ui._jsonSchemaVersion),bytes:Rn("string")};class Sm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nm{constructor(e){this._methodName=e}}class ca{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ca._jsonSchemaVersion}}static fromJSON(e){if(_m(e,ca._jsonSchema))return new ca(e.latitude,e.longitude)}}ca._jsonSchemaVersion="firestore/geoPoint/1.0",ca._jsonSchema={type:Rn("string",ca._jsonSchemaVersion),latitude:Rn("number"),longitude:Rn("number")};class qi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_m(e,qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qi(e.vectorValues);throw new Ae(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:Rn("string",qi._jsonSchemaVersion),vectorValues:Rn("object")};const vW=/^__.*__$/;class gW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Pl(e,this.data,this.fieldMask,n,this.fieldTransforms):new xm(e,this.data,n,this.fieldTransforms)}}class wL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Pl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function EL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{dataSource:t})}}class Lj{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Lj({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Rg(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(EL(this.dataSource)&&vW.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class yW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jy(e)}createContext(e,n,r,i=!1){return new Lj({dataSource:e,methodName:n,targetDoc:r,path:Zn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tm(t){const e=t._freezeSettings(),n=Jy(t._databaseId);return new yW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Vj(t,e,n,r,i,s={}){const l=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);qj("Data must be an object, but it was:",l,r);const d=SL(r,l);let f,h;if(s.merge)f=new fi(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const v of s.mergeFields){const y=Fc(e,v,n);if(!l.contains(y))throw new Ae(de.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);CL(p,y)||p.push(y)}f=new fi(p),h=l.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,h=l.fieldTransforms;return new gW(new Qr(d),f,h)}class r0 extends Nm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof r0}}class Uj extends Nm{_toFieldTransform(e){return new lK(e.path,new Kh)}isEqual(e){return e instanceof Uj}}function jL(t,e,n,r){const i=t.createContext(1,e,n);qj("Data must be an object, but it was:",i,r);const s=[],l=Qr.empty();Cl(r,((f,h)=>{const p=TL(e,f,n);h=Ft(h);const v=i.childContextForFieldPath(p);if(h instanceof r0)s.push(p);else{const y=Cm(h,v);y!=null&&(s.push(p),l.set(p,y))}}));const d=new fi(s);return new wL(l,d,i.fieldTransforms)}function AL(t,e,n,r,i,s){const l=t.createContext(1,e,n),d=[Fc(e,r,n)],f=[i];if(s.length%2!=0)throw new Ae(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)d.push(Fc(e,s[y])),f.push(s[y+1]);const h=[],p=Qr.empty();for(let y=d.length-1;y>=0;--y)if(!CL(h,d[y])){const w=d[y];let j=f[y];j=Ft(j);const E=l.childContextForFieldPath(w);if(j instanceof r0)h.push(w);else{const A=Cm(j,E);A!=null&&(h.push(w),p.set(w,A))}}const v=new fi(h);return new wL(p,v,l.fieldTransforms)}function bW(t,e,n,r=!1){return Cm(n,t.createContext(r?4:3,e))}function Cm(t,e){if(NL(t=Ft(t)))return qj("Unsupported field value:",e,t),SL(t,e);if(t instanceof Nm)return(function(r,i){if(!EL(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const d of r){let f=Cm(d,i.childContextForArray(l));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aK(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ct.fromDate(r);return{timestampValue:Cg(i.serializer,s)}}if(r instanceof ct){const s=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cg(i.serializer,s)}}if(r instanceof ca)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ui)return{bytesValue:Lz(i.serializer,r._byteString)};if(r instanceof dn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:jj(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qi)return(function(l,d){const f=l instanceof qi?l.toArray():l;return{mapValue:{fields:{[hz]:{stringValue:mz},[Ag]:{arrayValue:{values:f.map((p=>{if(typeof p!="number")throw d.createError("VectorValues must only contain numeric values.");return xj(d.serializer,p)}))}}}}}})(r,i);if(Hz(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${$y(r)}`)})(t,e)}function SL(t,e){const n={};return oz(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cl(t,((r,i)=>{const s=Cm(i,e.childContextForField(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function NL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof ca||t instanceof ui||t instanceof dn||t instanceof Nm||t instanceof qi||Hz(t))}function qj(t,e,n){if(!NL(n)||!az(n)){const r=$y(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Fc(t,e,n){if((e=Ft(e))instanceof Sm)return e._internalPath;if(typeof e=="string")return TL(t,e);throw Rg("Field path arguments must be of type string or ",t,!1,void 0,n)}const _W=new RegExp("[~\\*/\\[\\]]");function TL(t,e,n){if(e.search(_W)>=0)throw Rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sm(...e.split("."))._internalPath}catch{throw Rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rg(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Ae(de.INVALID_ARGUMENT,d+t+f)}function CL(t,e){return t.some((n=>n.isEqual(e)))}class PL{convertValue(e,n="none"){switch(vl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cl(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Ag].arrayValue?.values?.map((r=>xn(r.doubleValue)));return new qi(n)}convertGeoPoint(e){return new ca(xn(e.latitude),xn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ky(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($h(e));default:return null}}convertTimestamp(e){const n=ml(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$t.fromString(e);At(Fz(r),9688,{name:e});const i=new jd(r.get(1),r.get(3)),s=new Me(r.popFirst(5));return i.isEqual(n)||Us(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class OL extends PL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ui(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function kn(){return new Uj("serverTimestamp")}const fO="@firebase/firestore",hO="4.10.0";class IL{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Fc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xW extends IL{data(){return super.data()}}function wW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bj{}class i0 extends Bj{}function yi(t,e,...n){let r=[];e instanceof Bj&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((f=>f instanceof a0)).length,d=s.filter((f=>f instanceof Pm)).length;if(l>1||l>0&&d>0)throw new Ae(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Pm extends i0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Pm(e,n,r)}_apply(e){const n=this._parse(e);return RL(e._query,n),new Zs(e.firestore,e.converter,Nw(e._query,n))}_parse(e){const n=Tm(e.firestore);return(function(s,l,d,f,h,p,v){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){pO(v,p);const j=[];for(const E of v)j.push(mO(f,s,E));y={arrayValue:{values:j}}}else y=mO(f,s,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||pO(v,p),y=bW(d,l,v,p==="in"||p==="not-in");return In.create(h,p,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Vi(t,e,n){const r=e,i=Fc("where",t);return Pm._create(i,r,n)}class a0 extends Bj{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new a0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:fa.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const d=s.getFlattenedFilters();for(const f of d)RL(l,f),l=Nw(l,f)})(e._query,n),new Zs(e.firestore,e.converter,Nw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class s0 extends i0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new s0(e,n)}_apply(e){const n=(function(i,s,l){if(i.startAt!==null)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hh(s,l)})(e._query,this._field,this._direction);return new Zs(e.firestore,e.converter,XH(e._query,n))}}function Ya(t,e="asc"){const n=e,r=Fc("orderBy",t);return s0._create(r,n)}class o0 extends i0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new o0(e,n,r)}_apply(e){return new Zs(e.firestore,e.converter,Ng(e._query,this._limit,this._limitType))}}function $j(t){return wH("limit",t),o0._create("limit",t,"F")}function mO(t,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new Ae(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wz(e)&&n.indexOf("/")!==-1)throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($t.fromString(n));if(!Me.isDocumentKey(r))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return CP(t,new Me(r))}if(n instanceof dn)return CP(t,n._key);throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$y(n)}.`)}function pO(t,e){if(!Array.isArray(t)||t.length===0)throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RL(t,e){const n=(function(i,s){for(const l of i)for(const d of l.getFlattenedFilters())if(s.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ae(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Fj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class cd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ll extends IL{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Fc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ll._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ll._jsonSchemaVersion="firestore/documentSnapshot/1.0",ll._jsonSchema={type:Rn("string",ll._jsonSchemaVersion),bundleSource:Rn("string","DocumentSnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class kh extends ll{data(e={}){return super.data(e)}}class Pc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new cd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new kh(this._firestore,this._userDataWriter,r.key,r,new cd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((d=>{const f=new kh(i._firestore,i._userDataWriter,d.doc.key,d.doc,new cd(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>s||d.type!==3)).map((d=>{const f=new kh(i._firestore,i._userDataWriter,d.doc.key,d.doc,new cd(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return d.type!==0&&(h=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),p=l.indexOf(d.doc.key)),{type:EW(d.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=By.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function EW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:t})}}Pc._jsonSchemaVersion="firestore/querySnapshot/1.0",Pc._jsonSchema={type:Rn("string",Pc._jsonSchemaVersion),bundleSource:Rn("string","QuerySnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class kL{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Tm(e)}set(e,n,r){this._verifyNotCommitted();const i=bx(e,this._firestore),s=Fj(i.converter,n,r),l=Vj(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Ir.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=bx(e,this._firestore);let l;return l=typeof(n=Ft(n))=="string"||n instanceof Sm?AL(this._dataReader,"WriteBatch.update",s._key,n,r,i):jL(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(l.toMutation(s._key,Ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=bx(e,this._firestore);return this._mutations=this._mutations.concat(new Xy(n._key,Ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bx(t,e){if((t=Ft(t)).firestore!==e)throw new Ae(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function bl(t){t=gi(t,dn);const e=gi(t.firestore,Js),n=Am(e);return uW(n,t._key).then((r=>jW(e,t,r)))}function bi(t){t=gi(t,Zs);const e=gi(t.firestore,Js),n=Am(e),r=new OL(e);return wW(t._query),dW(n,t._query).then((i=>new Pc(e,r,t,i)))}function DL(t,e,n){t=gi(t,dn);const r=gi(t.firestore,Js),i=Fj(t.converter,e,n),s=Tm(r);return Hd(r,[Vj(s,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ir.none())])}function Bi(t,e,n,...r){t=gi(t,dn);const i=gi(t.firestore,Js),s=Tm(i);let l;return l=typeof(e=Ft(e))=="string"||e instanceof Sm?AL(s,"updateDoc",t._key,e,n,r):jL(s,"updateDoc",t._key,e),Hd(i,[l.toMutation(t._key,Ir.exists(!0))])}function Om(t){return Hd(gi(t.firestore,Js),[new Xy(t._key,Ir.none())])}function au(t,e){const n=gi(t.firestore,Js),r=Ut(t),i=Fj(t.converter,e),s=Tm(t.firestore);return Hd(n,[Vj(s,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ir.exists(!1))]).then((()=>r))}function Hd(t,e){const n=Am(t);return fW(n,e)}function jW(t,e,n){const r=n.docs.get(e._key),i=new OL(t);return new ll(t,i,e._key,r,new cd(n.hasPendingWrites,n.fromCache),e.converter)}function Qh(t){return t=gi(t,Js),Am(t),new kL(t,(e=>Hd(t,e)))}(function(e,n=!0){fH(tu),Lc(new fl("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),d=new Js(new mH(r.getProvider("auth-internal")),new gH(l,r.getProvider("app-check-internal")),kH(l,i),l);return s={useFetchStreams:n,...s},d._setSettings(s),d}),"PUBLIC").setMultipleInstances(!0)),Ba(fO,hO,e),Ba(fO,hO,"esm2020")})();const ML=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:PL,Bytes:ui,CollectionReference:Ds,DocumentReference:dn,DocumentSnapshot:ll,FieldPath:Sm,FieldValue:Nm,Firestore:Js,FirestoreError:Ae,GeoPoint:ca,Query:Zs,QueryCompositeFilterConstraint:a0,QueryConstraint:i0,QueryDocumentSnapshot:kh,QueryFieldFilterConstraint:Pm,QueryLimitConstraint:o0,QueryOrderByConstraint:s0,QuerySnapshot:Pc,SnapshotMetadata:cd,Timestamp:ct,VectorValue:qi,WriteBatch:kL,_AutoId:By,_ByteString:er,_DatabaseId:jd,_DocumentKey:Me,_EmptyAuthCredentialsProvider:nz,_FieldPath:Zn,_cast:gi,_logWarn:Bc,_validateIsNotUsedTogether:iz,addDoc:au,collection:wr,connectFirestoreEmulator:_L,deleteDoc:Om,doc:Ut,ensureFirestoreConfigured:Am,executeWrite:Hd,getDoc:bl,getDocs:bi,getFirestore:xL,limit:$j,orderBy:Ya,query:yi,serverTimestamp:kn,setDoc:DL,updateDoc:Bi,where:Vi,writeBatch:Qh},Symbol.toStringTag,{value:"Module"}));var AW="firebase",SW="12.8.0";Ba(AW,SW,"app");const zL="firebasestorage.googleapis.com",LL="storageBucket",NW=120*1e3,TW=600*1e3;class mn extends rs{constructor(e,n,r=0){super(_x(e),`Firebase Storage: ${n} (${_x(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _x(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fn||(fn={}));function _x(t){return"storage/"+t}function Hj(){const t="An unknown error occurred, please check the error payload for server response.";return new mn(fn.UNKNOWN,t)}function CW(t){return new mn(fn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function PW(t){return new mn(fn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function OW(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mn(fn.UNAUTHENTICATED,t)}function IW(){return new mn(fn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function RW(t){return new mn(fn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function kW(){return new mn(fn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DW(){return new mn(fn.CANCELED,"User canceled the upload/download.")}function MW(t){return new mn(fn.INVALID_URL,"Invalid URL '"+t+"'.")}function zW(t){return new mn(fn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function LW(){return new mn(fn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+LL+"' property when initializing the app?")}function VW(){return new mn(fn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function UW(){return new mn(fn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function qW(t){return new mn(fn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function zw(t){return new mn(fn.INVALID_ARGUMENT,t)}function VL(){return new mn(fn.APP_DELETED,"The Firebase app was deleted.")}function BW(t){return new mn(fn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Dh(t,e){return new mn(fn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ah(t){throw new mn(fn.INTERNAL_ERROR,"Internal error: "+t)}class hi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=hi.makeFromUrl(e,n)}catch{return new hi(e,"")}if(r.path==="")return r;throw zW(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const l="(/(.*))?$",d=new RegExp("^gs://"+i+l,"i"),f={bucket:1,path:3};function h(R){R.path_=decodeURIComponent(R.path)}const p="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",w=new RegExp(`^https?://${v}/${p}/b/${i}/o${y}`,"i"),j={bucket:1,path:3},E=n===zL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",T=new RegExp(`^https?://${E}/${i}/${A}`,"i"),M=[{regex:d,indices:f,postModify:s},{regex:w,indices:j,postModify:h},{regex:T,indices:{bucket:1,path:2},postModify:h}];for(let R=0;R<M.length;R++){const L=M[R],D=L.regex.exec(e);if(D){const O=D[L.indices.bucket];let P=D[L.indices.path];P||(P=""),r=new hi(O,P),L.postModify(r);break}}if(r==null)throw MW(e);return r}}class $W{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function FW(t,e,n){let r=1,i=null,s=null,l=!1,d=0;function f(){return d===2}let h=!1;function p(...A){h||(h=!0,e.apply(null,A))}function v(A){i=setTimeout(()=>{i=null,t(w,f())},A)}function y(){s&&clearTimeout(s)}function w(A,...T){if(h){y();return}if(A){y(),p.call(null,A,...T);return}if(f()||l){y(),p.call(null,A,...T);return}r<64&&(r*=2);let M;d===1?(d=2,M=0):M=(r+Math.random())*1e3,v(M)}let j=!1;function E(A){j||(j=!0,y(),!h&&(i!==null?(A||(d=2),clearTimeout(i),v(0)):A||(d=1)))}return v(0),s=setTimeout(()=>{l=!0,E(!0)},n),E}function HW(t){t(!1)}function KW(t){return t!==void 0}function GW(t){return typeof t=="object"&&!Array.isArray(t)}function Kj(t){return typeof t=="string"||t instanceof String}function vO(t){return Gj()&&t instanceof Blob}function Gj(){return typeof Blob<"u"}function gO(t,e,n,r){if(r<e)throw zw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw zw(`Invalid value for '${t}'. Expected ${n} or less.`)}function l0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function UL(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Oc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Oc||(Oc={}));function WW(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}class QW{constructor(e,n,r,i,s,l,d,f,h,p,v,y=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=d,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=v,this.retry=y,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,E)=>{this.resolve_=j,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Tv(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const l=d=>{const f=d.loaded,h=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const d=s.getErrorCode()===Oc.NO_ERROR,f=s.getStatus();if(!d||WW(f,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Oc.ABORT;r(!1,new Tv(!1,null,p));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new Tv(h,s))})},n=(r,i)=>{const s=this.resolve_,l=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());KW(f)?s(f):s()}catch(f){l(f)}else if(d!==null){const f=Hj();f.serverResponse=d.getErrorText(),this.errorCallback_?l(this.errorCallback_(d,f)):l(f)}else if(i.canceled){const f=this.appDelete_?VL():DW();l(f)}else{const f=kW();l(f)}};this.canceled_?n(!1,new Tv(!1,null,!0)):this.backoffId_=FW(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&HW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Tv{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function YW(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function XW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ZW(t,e){e&&(t["X-Firebase-GMPID"]=e)}function JW(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function eQ(t,e,n,r,i,s,l=!0,d=!1){const f=UL(t.urlParams),h=t.url+f,p=Object.assign({},t.headers);return ZW(p,e),YW(p,n),XW(p,s),JW(p,r),new QW(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,d)}function tQ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function nQ(...t){const e=tQ();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Gj())return new Blob(t);throw new mn(fn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function rQ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function iQ(t){if(typeof atob>"u")throw qW("base-64");return atob(t)}const Va={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xx{constructor(e,n){this.data=e,this.contentType=n||null}}function aQ(t,e){switch(t){case Va.RAW:return new xx(qL(e));case Va.BASE64:case Va.BASE64URL:return new xx(BL(t,e));case Va.DATA_URL:return new xx(oQ(e),lQ(e))}throw Hj()}function qL(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,l=t.charCodeAt(++n);r=65536|(s&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function sQ(t){let e;try{e=decodeURIComponent(t)}catch{throw Dh(Va.DATA_URL,"Malformed data URL.")}return qL(e)}function BL(t,e){switch(t){case Va.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Dh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Va.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Dh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=iQ(e)}catch(i){throw i.message.includes("polyfill")?i:Dh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class $L{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Dh(Va.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=cQ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function oQ(t){const e=new $L(t);return e.base64?BL(Va.BASE64,e.rest):sQ(e.rest)}function lQ(t){return new $L(t).contentType}function cQ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class Xo{constructor(e,n){let r=0,i="";vO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(vO(this.data_)){const r=this.data_,i=rQ(r,e,n);return i===null?null:new Xo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Xo(r,!0)}}static getBlob(...e){if(Gj()){const n=e.map(r=>r instanceof Xo?r.data_:r);return new Xo(nQ.apply(null,n))}else{const n=e.map(l=>Kj(l)?aQ(Va.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(l=>{for(let d=0;d<l.length;d++)i[s++]=l[d]}),new Xo(i,!0)}}uploadData(){return this.data_}}function FL(t){let e;try{e=JSON.parse(t)}catch{return null}return GW(e)?e:null}function uQ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function dQ(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function HL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function fQ(t,e){return e}class Tr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||fQ}}let Cv=null;function hQ(t){return!Kj(t)||t.length<2?t:HL(t)}function KL(){if(Cv)return Cv;const t=[];t.push(new Tr("bucket")),t.push(new Tr("generation")),t.push(new Tr("metageneration")),t.push(new Tr("name","fullPath",!0));function e(s,l){return hQ(l)}const n=new Tr("name");n.xform=e,t.push(n);function r(s,l){return l!==void 0?Number(l):l}const i=new Tr("size");return i.xform=r,t.push(i),t.push(new Tr("timeCreated")),t.push(new Tr("updated")),t.push(new Tr("md5Hash",null,!0)),t.push(new Tr("cacheControl",null,!0)),t.push(new Tr("contentDisposition",null,!0)),t.push(new Tr("contentEncoding",null,!0)),t.push(new Tr("contentLanguage",null,!0)),t.push(new Tr("contentType",null,!0)),t.push(new Tr("metadata","customMetadata",!0)),Cv=t,Cv}function mQ(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new hi(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function pQ(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const l=n[s];r[l.local]=l.xform(r,e[l.server])}return mQ(r,t),r}function GL(t,e,n){const r=FL(e);return r===null?null:pQ(t,r,n)}function vQ(t,e,n,r){const i=FL(e);if(i===null||!Kj(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const l=encodeURIComponent;return s.split(",").map(h=>{const p=t.bucket,v=t.fullPath,y="/b/"+l(p)+"/o/"+l(v),w=l0(y,n,r),j=UL({alt:"media",token:h});return w+j})[0]}function gQ(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Wj{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function WL(t){if(!t)throw Hj()}function yQ(t,e){function n(r,i){const s=GL(t,i,e);return WL(s!==null),s}return n}function bQ(t,e){function n(r,i){const s=GL(t,i,e);return WL(s!==null),vQ(s,i,t.host,t._protocol)}return n}function QL(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=IW():i=OW():n.getStatus()===402?i=PW(t.bucket):n.getStatus()===403?i=RW(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function YL(t){const e=QL(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=CW(t.path)),s.serverResponse=i.serverResponse,s}return n}function _Q(t,e,n){const r=e.fullServerUrl(),i=l0(r,t.host,t._protocol),s="GET",l=t.maxOperationRetryTime,d=new Wj(i,s,bQ(t,n),l);return d.errorHandler=YL(e),d}function xQ(t,e){const n=e.fullServerUrl(),r=l0(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function l(f,h){}const d=new Wj(r,i,l,s);return d.successCodes=[200,204],d.errorHandler=YL(e),d}function wQ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function EQ(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=wQ(null,e)),r}function jQ(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function d(){let M="";for(let R=0;R<2;R++)M=M+Math.random().toString().slice(2);return M}const f=d();l["Content-Type"]="multipart/related; boundary="+f;const h=EQ(e,r,i),p=gQ(h,n),v="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+h.contentType+`\r
\r
`,y=`\r
--`+f+"--",w=Xo.getBlob(v,r,y);if(w===null)throw VW();const j={name:h.fullPath},E=l0(s,t.host,t._protocol),A="POST",T=t.maxUploadRetryTime,k=new Wj(E,A,yQ(t,n),T);return k.urlParams=j,k.headers=l,k.body=w.uploadData(),k.errorHandler=QL(e),k}class AQ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Oc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Oc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Oc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw ah("cannot .send() more than once");if(Nl(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const l in s)s.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,s[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ah("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ah("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ah("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ah("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class SQ extends AQ{initXhr(){this.xhr_.responseType="text"}}function Qj(){return new SQ}class Hc{constructor(e,n){this._service=e,n instanceof hi?this._location=n:this._location=hi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Hc(e,n)}get root(){const e=new hi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return HL(this._location.path)}get storage(){return this._service}get parent(){const e=uQ(this._location.path);if(e===null)return null;const n=new hi(this._location.bucket,e);return new Hc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw BW(e)}}function NQ(t,e,n){t._throwIfRoot("uploadBytes");const r=jQ(t.storage,t._location,KL(),new Xo(e,!0),n);return t.storage.makeRequestWithTokens(r,Qj).then(i=>({metadata:i,ref:t}))}function TQ(t){t._throwIfRoot("getDownloadURL");const e=_Q(t.storage,t._location,KL());return t.storage.makeRequestWithTokens(e,Qj).then(n=>{if(n===null)throw UW();return n})}function CQ(t){t._throwIfRoot("deleteObject");const e=xQ(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Qj)}function PQ(t,e){const n=dQ(t._location.path,e),r=new hi(t._location.bucket,n);return new Hc(t.storage,r)}function OQ(t){return/^[A-Za-z]+:\/\//.test(t)}function IQ(t,e){return new Hc(t,e)}function XL(t,e){if(t instanceof Yj){const n=t;if(n._bucket==null)throw LW();const r=new Hc(n,n._bucket);return e!=null?XL(r,e):r}else return e!==void 0?PQ(t,e):t}function RQ(t,e){if(e&&OQ(e)){if(t instanceof Yj)return IQ(t,e);throw zw("To use ref(service, url), the first argument must be a Storage instance.")}else return XL(t,e)}function yO(t,e){const n=e?.[LL];return n==null?null:hi.makeFromBucketSpec(n,t)}function kQ(t,e,n,r={}){t.host=`${e}:${n}`;const i=Nl(e);i&&(tj(`https://${t.host}/b`),nj("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:l4(s,t.app.options.projectId))}class Yj{constructor(e,n,r,i,s,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=l,this._bucket=null,this._host=zL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=NW,this._maxUploadRetryTime=TW,this._requests=new Set,i!=null?this._bucket=hi.makeFromBucketSpec(i,this._host):this._bucket=yO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hi.makeFromBucketSpec(this._url,e):this._bucket=yO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hc(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new $W(VL());{const l=eQ(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const bO="@firebase/storage",_O="0.14.0";const ZL="storage";function DQ(t,e,n){return t=Ft(t),NQ(t,e,n)}function MQ(t){return t=Ft(t),TQ(t)}function zQ(t){return t=Ft(t),CQ(t)}function xO(t,e){return t=Ft(t),RQ(t,e)}function LQ(t=aj(),e){t=Ft(t);const r=Ly(t,ZL).getImmediate({identifier:e}),i=a4("storage");return i&&VQ(r,...i),r}function VQ(t,e,n,r={}){kQ(t,e,n,r)}function UQ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Yj(n,r,i,e,tu)}function qQ(){Lc(new fl(ZL,UQ,"PUBLIC").setMultipleInstances(!0)),Ba(bO,_O,""),Ba(bO,_O,"esm2020")}qQ();const BQ={apiKey:"AIzaSyDgk_1graNBFkIURTJnyLZTZ1nyxi7slUo",authDomain:"pedaclic.firebaseapp.com",projectId:"pedaclic",storageBucket:"pedaclic.firebasestorage.app",messagingSenderId:"863649621890",appId:"1:863649621890:web:6ab56a8c8db111e3a9119b"},Xj=d4(BQ),Eh=uH(Xj),We=xL(Xj),Lw=LQ(Xj),JL=Object.freeze(Object.defineProperty({__proto__:null,auth:Eh,db:We,storage:Lw},Symbol.toStringTag,{value:"Module"})),wO={"auth/email-already-in-use":"Cette adresse email est dj utilise.","auth/invalid-email":"Adresse email invalide.","auth/operation-not-allowed":"Opration non autorise.","auth/weak-password":"Le mot de passe doit contenir au moins 6 caractres.","auth/user-disabled":"Ce compte a t dsactiv.","auth/user-not-found":"Aucun compte associ  cette adresse email.","auth/wrong-password":"Mot de passe incorrect.","auth/too-many-requests":"Trop de tentatives. Veuillez ressayer plus tard.","auth/network-request-failed":"Erreur de connexion. Vrifiez votre connexion internet.",default:"Une erreur est survenue. Veuillez ressayer."},EO=t=>wO[t]||wO.default,e3=_.createContext(null),$Q=({children:t})=>{const[e,n]=_.useState(null),[r,i]=_.useState(!0),s=async y=>{try{const w=await bl(Ut(We,"users",y));if(w.exists()){const j=w.data();return{uid:y,email:j.email,displayName:j.displayName,role:j.role,isPremium:j.isPremium||!1,subscriptionEnd:j.subscriptionEnd?.toDate()||null,photoURL:j.photoURL,createdAt:j.createdAt?.toDate()||new Date,lastLogin:j.lastLogin?.toDate()}}return null}catch(w){return console.error("Erreur lors de la rcupration des donnes utilisateur:",w),null}},l=async(y,w)=>{const j=Ut(We,"users",y.uid);(await bl(j)).exists()?await Bi(j,{lastLogin:kn()}):await DL(j,{email:y.email,displayName:y.displayName||w?.displayName||"",role:w?.role||"eleve",isPremium:!1,photoURL:y.photoURL,createdAt:kn(),lastLogin:kn()})},d=async(y,w)=>{try{const j=await G$(Eh,y,w);await l(j.user)}catch(j){throw new Error(EO(j.code))}},f=async y=>{try{if(y.password!==y.confirmPassword)throw new Error("Les mots de passe ne correspondent pas.");const w=await K$(Eh,y.email,y.password);await Q$(w.user,{displayName:y.displayName}),await l(w.user,{displayName:y.displayName,role:y.role})}catch(w){throw w.message?w:new Error(EO(w.code))}},h=async()=>{try{await J$(Eh),n(null)}catch{throw new Error("Erreur lors de la dconnexion.")}},p=async y=>{if(!e)throw new Error("Aucun utilisateur connect.");try{const w=Ut(We,"users",e.uid);await Bi(w,{...y,updatedAt:kn()}),n(j=>j?{...j,...y}:null)}catch{throw new Error("Erreur lors de la mise  jour du profil.")}};_.useEffect(()=>{const y=Z$(Eh,async w=>{if(w){const j=await s(w.uid);n(j)}else n(null);i(!1)});return()=>y()},[]);const v={currentUser:e,loading:r,login:d,register:f,logout:h,updateProfile:p};return c.jsx(e3.Provider,{value:v,children:r?c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Chargement..."})]}):t})},Hi=()=>{const t=_.useContext(e3);if(!t)throw new Error("useAuth doit tre utilis  l'intrieur d'un AuthProvider");return t},t3=({children:t,allowedRoles:e,requirePremium:n=!1})=>{const{currentUser:r,loading:i}=Hi();return i?c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Vrification des autorisations..."})]}):r?e&&!e.includes(r.role)?c.jsxs("div",{className:"error-container",children:[c.jsx("h2",{children:"Accs non autoris"}),c.jsx("p",{children:"Vous n'avez pas les permissions ncessaires pour accder  cette page."}),c.jsx("a",{href:"/",className:"btn btn-primary",children:"Retour  l'accueil"})]}):n&&!r.isPremium?c.jsxs("div",{className:"error-container premium-required",children:[c.jsx("h2",{children:"Contenu Premium"}),c.jsx("p",{children:"Cette ressource est rserve aux abonns Premium."}),c.jsxs("div",{className:"premium-cta",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"2 000 FCFA/mois"})," ou ",c.jsx("strong",{children:"20 000 FCFA/an"})]}),c.jsx("a",{href:"/premium",className:"btn btn-premium",children:"Devenir Premium"})]})]}):c.jsx(c.Fragment,{children:t}):c.jsxs("div",{className:"error-container",children:[c.jsx("h2",{children:"Accs refus"}),c.jsx("p",{children:"Vous devez tre connect pour accder  cette page."}),c.jsx("a",{href:"/connexion",className:"btn btn-primary",children:"Se connecter"})]})},Yu=({children:t})=>c.jsx(t3,{allowedRoles:["admin"],children:t}),FQ=({children:t})=>c.jsx(t3,{allowedRoles:["admin","prof"],children:t});const HQ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KQ=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),jO=t=>{const e=KQ(t);return e.charAt(0).toUpperCase()+e.slice(1)},n3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),GQ=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var WQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const QQ=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...d},f)=>_.createElement("svg",{ref:f,...WQ,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:n3("lucide",i),...!s&&!GQ(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,p])=>_.createElement(h,p)),...Array.isArray(s)?s:[s]]));const ke=(t,e)=>{const n=_.forwardRef(({className:r,...i},s)=>_.createElement(QQ,{ref:s,iconNode:e,className:n3(`lucide-${HQ(jO(t))}`,`lucide-${t}`,r),...i}));return n.displayName=jO(t),n};const YQ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],wx=ke("arrow-left",YQ);const XQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],pc=ke("arrow-right",XQ);const ZQ=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ga=ke("award",ZQ);const JQ=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Pr=ke("book-open",JQ);const eY=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ex=ke("calendar",eY);const tY=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Zo=ke("chart-column",tY);const nY=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kg=ke("chevron-down",nY);const rY=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],AO=ke("chevron-left",rY);const iY=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Vw=ke("chevron-up",iY);const aY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Dg=ke("circle-alert",aY);const sY=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_n=ke("circle-check-big",sY);const oY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sg=ke("circle-question-mark",oY);const lY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Uw=ke("circle-x",lY);const cY=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],sh=ke("clipboard-list",cY);const uY=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_l=ke("clock",uY);const dY=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],fY=ke("copy",dY);const hY=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],jh=ke("crown",hY);const mY=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yh=ke("eye",mY);const pY=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],vY=ke("facebook",pY);const gY=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],yY=ke("file-text",gY);const bY=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],r3=ke("funnel",bY);const _Y=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Cd=ke("graduation-cap",_Y);const xY=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],wY=ke("grip-vertical",xY);const EY=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],jY=ke("heart",EY);const AY=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],qw=ke("house",AY);const SY=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],NY=ke("instagram",SY);const TY=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Mg=ke("layout-dashboard",TY);const CY=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],PY=ke("linkedin",CY);const OY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Bw=ke("lock",OY);const IY=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],SO=ke("log-out",IY);const RY=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],kY=ke("mail",RY);const DY=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],MY=ke("map-pin",DY);const zY=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],LY=ke("menu",zY);const VY=[["path",{d:"M5 12h14",key:"1ays0h"}]],$w=ke("minus",VY);const UY=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],qY=ke("pen-line",UY);const BY=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],$Y=ke("phone",BY);const FY=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Mh=ke("play",FY);const HY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pv=ke("plus",HY);const KY=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Fw=ke("refresh-cw",KY);const GY=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],WY=ke("rotate-ccw",GY);const QY=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],YY=ke("save",QY);const XY=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zj=ke("search",XY);const ZY=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],JY=ke("settings",ZY);const eX=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Jj=ke("shield",eX);const tX=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],mi=ke("star",tX);const nX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ud=ke("target",nX);const rX=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],iX=ke("timer",rX);const aX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],NO=ke("trash-2",aX);const sX=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Hw=ke("trending-down",sX);const oX=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Xh=ke("trending-up",oX);const lX=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oh=ke("triangle-alert",lX);const cX=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],i3=ke("trophy",cX);const uX=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],dX=ke("twitter",uX);const fX=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hX=ke("user-check",fX);const mX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],pX=ke("user-x",mX);const vX=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gX=ke("user",vX);const yX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],nl=ke("users",yX);const bX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ic=ke("x",bX);const _X=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],xX=ke("youtube",_X);const wX=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],a3=ke("zap",wX),EX=()=>{const{currentUser:t,logout:e,loading:n}=Hi(),r=Sl(),i=Al(),[s,l]=_.useState(!1),[d,f]=_.useState(!1),[h,p]=_.useState(!1),v=_.useRef(null),y=[{path:"/",label:"Accueil",icon:c.jsx(qw,{size:18})},{path:"/disciplines",label:"Disciplines",icon:c.jsx(Pr,{size:18})},{path:"/quiz",label:"Quiz",icon:c.jsx(Cd,{size:18}),requireAuth:!0,requirePremium:!0},{path:t?.role==="eleve"?"/eleve/dashboard":t?.role==="prof"?"/prof/dashboard":"/admin",label:"Tableau de bord",icon:c.jsx(Mg,{size:18}),requireAuth:!0}];_.useEffect(()=>{const R=L=>{v.current&&!v.current.contains(L.target)&&f(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]),_.useEffect(()=>{l(!1),f(!1)},[i.pathname]),_.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]);const w=async()=>{try{p(!0),await e(),f(!1),r("/")}catch(R){console.error("Erreur lors de la dconnexion:",R)}finally{p(!1)}},j=()=>{l(!s)},E=()=>{f(!d)},A=R=>!(R.requireAuth&&!t||R.requirePremium&&t&&!t.isPremium||R.requireRole&&t&&!R.requireRole.includes(t.role)),T=R=>R==="/"?i.pathname==="/":i.pathname.startsWith(R),k=R=>({admin:"Administrateur",prof:"Professeur",eleve:"lve"})[R]||R,M=()=>t?t.displayName?t.displayName.split(" ").map(L=>L[0]).join("").toUpperCase().slice(0,2):t.email[0].toUpperCase():"?";return c.jsxs("header",{className:"header",children:[c.jsxs("div",{className:"header__container",children:[c.jsxs(Ye,{to:"/",className:"header__logo",children:[c.jsx(Cd,{className:"header__logo-icon",size:32}),c.jsxs("div",{className:"header__logo-text",children:[c.jsx("span",{className:"header__logo-name",children:"PedaClic"}),c.jsx("span",{className:"header__logo-tagline",children:"L'cole en un clic"})]})]}),c.jsx("nav",{className:"header__nav header__nav--desktop",children:c.jsx("ul",{className:"header__nav-list",children:y.map(R=>A(R)&&c.jsx("li",{className:"header__nav-item",children:c.jsxs(Ye,{to:R.path,className:`header__nav-link ${T(R.path)?"header__nav-link--active":""}`,children:[R.icon,c.jsx("span",{children:R.label}),R.requirePremium&&c.jsx(jh,{size:14,className:"header__premium-badge"})]})},R.path))})}),c.jsxs("div",{className:"header__actions",children:[n?c.jsx("div",{className:"header__loading",children:c.jsx("div",{className:"header__spinner"})}):t?c.jsxs("div",{className:"header__user",ref:v,children:[t.isPremium&&c.jsxs("span",{className:"header__premium-tag",children:[c.jsx(jh,{size:14}),"Premium"]}),c.jsxs("button",{className:"header__user-button",onClick:E,"aria-expanded":d,"aria-haspopup":"true",children:[c.jsx("div",{className:"header__avatar",children:t.photoURL?c.jsx("img",{src:t.photoURL,alt:t.displayName||"Avatar",className:"header__avatar-img"}):c.jsx("span",{className:"header__avatar-initials",children:M()})}),c.jsx("span",{className:"header__user-name",children:t.displayName||t.email.split("@")[0]}),c.jsx(kg,{size:16,className:`header__chevron ${d?"header__chevron--open":""}`})]}),d&&c.jsxs("div",{className:"header__dropdown",children:[c.jsxs("div",{className:"header__dropdown-header",children:[c.jsx("p",{className:"header__dropdown-email",children:t.email}),c.jsx("span",{className:`header__dropdown-role header__dropdown-role--${t.role}`,children:k(t.role)})]}),c.jsx("div",{className:"header__dropdown-divider"}),c.jsxs("nav",{className:"header__dropdown-nav",children:[c.jsxs(Ye,{to:t.role==="eleve"?"/eleve/dashboard":t.role==="prof"?"/prof/dashboard":"/admin",className:"header__dropdown-link",children:[c.jsx(Mg,{size:18}),c.jsx("span",{children:"Tableau de bord"})]}),c.jsxs(Ye,{to:"/profil",className:"header__dropdown-link",children:[c.jsx(gX,{size:18}),c.jsx("span",{children:"Mon profil"})]}),t.role==="admin"&&c.jsxs(Ye,{to:"/admin",className:"header__dropdown-link",children:[c.jsx(JY,{size:18}),c.jsx("span",{children:"Administration"})]}),!t.isPremium&&c.jsxs(Ye,{to:"/premium",className:"header__dropdown-link header__dropdown-link--premium",children:[c.jsx(jh,{size:18}),c.jsx("span",{children:"Passer Premium"})]})]}),c.jsx("div",{className:"header__dropdown-divider"}),c.jsxs("button",{className:"header__dropdown-logout",onClick:w,disabled:h,children:[c.jsx(SO,{size:18}),c.jsx("span",{children:h?"Dconnexion...":"Se dconnecter"})]})]})]}):c.jsxs("div",{className:"header__auth-buttons",children:[c.jsx(Ye,{to:"/connexion",className:"header__btn header__btn--outline",children:"Connexion"}),c.jsx(Ye,{to:"/inscription",className:"header__btn header__btn--primary",children:"S'inscrire"})]}),c.jsx("button",{className:"header__mobile-toggle",onClick:j,"aria-label":s?"Fermer le menu":"Ouvrir le menu","aria-expanded":s,children:s?c.jsx(Ic,{size:24}):c.jsx(LY,{size:24})})]})]}),c.jsxs("div",{className:`header__mobile-menu ${s?"header__mobile-menu--open":""}`,children:[c.jsx("div",{className:"header__mobile-overlay",onClick:()=>l(!1)}),c.jsxs("div",{className:"header__mobile-content",children:[c.jsx("nav",{className:"header__mobile-nav",children:c.jsx("ul",{className:"header__mobile-list",children:y.map(R=>A(R)&&c.jsx("li",{className:"header__mobile-item",children:c.jsxs(Ye,{to:R.path,className:`header__mobile-link ${T(R.path)?"header__mobile-link--active":""}`,children:[R.icon,c.jsx("span",{children:R.label}),R.requirePremium&&c.jsx(jh,{size:14,className:"header__premium-badge"})]})},R.path))})}),!t&&c.jsxs("div",{className:"header__mobile-auth",children:[c.jsx(Ye,{to:"/connexion",className:"header__btn header__btn--outline header__btn--block",children:"Connexion"}),c.jsx(Ye,{to:"/inscription",className:"header__btn header__btn--primary header__btn--block",children:"S'inscrire"})]}),t&&c.jsxs("div",{className:"header__mobile-user",children:[c.jsxs("div",{className:"header__mobile-user-info",children:[c.jsx("div",{className:"header__avatar header__avatar--large",children:t.photoURL?c.jsx("img",{src:t.photoURL,alt:t.displayName||"Avatar",className:"header__avatar-img"}):c.jsx("span",{className:"header__avatar-initials",children:M()})}),c.jsxs("div",{className:"header__mobile-user-details",children:[c.jsx("p",{className:"header__mobile-user-name",children:t.displayName||t.email.split("@")[0]}),c.jsx("p",{className:"header__mobile-user-email",children:t.email})]})]}),c.jsxs("button",{className:"header__mobile-logout",onClick:w,disabled:h,children:[c.jsx(SO,{size:18}),c.jsx("span",{children:h?"Dconnexion...":"Se dconnecter"})]})]})]})]})]})},jX=()=>{const t=new Date().getFullYear(),e=[{label:"Accueil",path:"/"},{label:"Disciplines",path:"/disciplines"},{label:"Quiz Premium",path:"/quiz"},{label:"Tarifs",path:"/premium"},{label:"Tableau de bord",path:"/dashboard"}],n=[{label:"Cours en ligne",path:"/disciplines"},{label:"Exercices corrigs",path:"/disciplines"},{label:"Annales examens",path:"/disciplines"},{label:"Fiches de rvision",path:"/disciplines"}],r=[{name:"Facebook",url:"https://facebook.com/pedaclic",icon:c.jsx(vY,{size:20})},{name:"Twitter",url:"https://twitter.com/pedaclic",icon:c.jsx(dX,{size:20})},{name:"Instagram",url:"https://instagram.com/pedaclic",icon:c.jsx(NY,{size:20})},{name:"LinkedIn",url:"https://linkedin.com/company/pedaclic",icon:c.jsx(PY,{size:20})},{name:"YouTube",url:"https://youtube.com/@pedaclic",icon:c.jsx(xX,{size:20})}];return c.jsxs("footer",{className:"footer",children:[c.jsx("div",{className:"footer__main",children:c.jsxs("div",{className:"footer__container",children:[c.jsxs("div",{className:"footer__column footer__column--about",children:[c.jsxs(Ye,{to:"/",className:"footer__logo",children:[c.jsx(Cd,{className:"footer__logo-icon",size:36}),c.jsxs("div",{className:"footer__logo-text",children:[c.jsx("span",{className:"footer__logo-name",children:"PedaClic"}),c.jsx("span",{className:"footer__logo-tagline",children:"L'cole en un clic"})]})]}),c.jsx("p",{className:"footer__description",children:"PedaClic est la plateforme ducative de rfrence au Sngal. Nous accompagnons les lves du collge au lyce avec des cours, exercices et quiz de qualit."}),c.jsxs("div",{className:"footer__stats",children:[c.jsxs("div",{className:"footer__stat",children:[c.jsx(Pr,{size:18}),c.jsx("span",{children:"500+ cours"})]}),c.jsxs("div",{className:"footer__stat",children:[c.jsx(nl,{size:18}),c.jsx("span",{children:"10 000+ lves"})]})]})]}),c.jsxs("div",{className:"footer__column",children:[c.jsxs("h3",{className:"footer__title",children:[c.jsx("span",{className:"footer__title-icon",children:""}),"Plateforme"]}),c.jsx("nav",{className:"footer__nav",children:c.jsx("ul",{className:"footer__list",children:e.map((i,s)=>c.jsx("li",{className:"footer__item",children:c.jsx(Ye,{to:i.path,className:"footer__link",children:i.label})},s))})})]}),c.jsxs("div",{className:"footer__column",children:[c.jsxs("h3",{className:"footer__title",children:[c.jsx("span",{className:"footer__title-icon",children:""}),"Ressources"]}),c.jsx("nav",{className:"footer__nav",children:c.jsx("ul",{className:"footer__list",children:n.map((i,s)=>c.jsx("li",{className:"footer__item",children:c.jsx(Ye,{to:i.path,className:"footer__link",children:i.label})},s))})})]}),c.jsxs("div",{className:"footer__column",children:[c.jsxs("h3",{className:"footer__title",children:[c.jsx("span",{className:"footer__title-icon",children:""}),"Contact"]}),c.jsxs("div",{className:"footer__contact",children:[c.jsxs("a",{href:"mailto:contact@pedaclic.sn",className:"footer__contact-item",children:[c.jsx(kY,{size:16,className:"footer__contact-icon"}),c.jsx("span",{children:"contact@pedaclic.sn"})]}),c.jsxs("a",{href:"tel:+221770000000",className:"footer__contact-item",children:[c.jsx($Y,{size:16,className:"footer__contact-icon"}),c.jsx("span",{children:"+221 77 000 00 00"})]}),c.jsxs("div",{className:"footer__contact-item",children:[c.jsx(MY,{size:16,className:"footer__contact-icon"}),c.jsx("span",{children:"Dakar, Sngal"})]})]}),c.jsxs("div",{className:"footer__social",children:[c.jsx("h4",{className:"footer__social-title",children:"Suivez-nous"}),c.jsx("div",{className:"footer__social-links",children:r.map((i,s)=>c.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"footer__social-link",title:i.name,children:i.icon},s))})]})]})]})}),c.jsx("div",{className:"footer__bottom",children:c.jsxs("div",{className:"footer__container footer__bottom-content",children:[c.jsxs("p",{className:"footer__copyright",children:[" ",t," PedaClic. Tous droits rservs."]}),c.jsxs("p",{className:"footer__made-with",children:["Fait avec ",c.jsx(jY,{size:14,className:"footer__heart"})," au Sngal "]}),c.jsxs("nav",{className:"footer__legal",children:[c.jsxs(Ye,{to:"/mentions-legales",className:"footer__legal-link",children:[c.jsx(yY,{size:14})," Mentions lgales"]}),c.jsxs(Ye,{to:"/confidentialite",className:"footer__legal-link",children:[c.jsx(Jj,{size:14})," Confidentialit"]}),c.jsxs(Ye,{to:"/aide",className:"footer__legal-link",children:[c.jsx(sg,{size:14})," Aide"]})]})]})})]})},dc=({children:t,hideHeader:e=!1,hideFooter:n=!1,className:r=""})=>c.jsxs("div",{className:"layout",children:[!e&&c.jsx(EX,{}),c.jsx("main",{className:`layout__main ${e?"":"layout__main--with-header"} ${r}`,children:t}),!n&&c.jsx(jX,{})]}),AX=()=>{const{currentUser:t}=Hi();return c.jsxs("div",{className:"home-page",children:[c.jsxs("section",{className:"home-page__hero",children:[c.jsxs("div",{className:"home-page__hero-content",children:[c.jsxs("div",{className:"home-page__hero-badge",children:[c.jsx(mi,{size:14}),c.jsx("span",{children:"Plateforme N1 au Sngal"})]}),c.jsxs("h1",{className:"home-page__hero-title",children:["Russis tes examens avec",c.jsx("span",{className:"home-page__hero-highlight",children:" PedaClic"})]}),c.jsx("p",{className:"home-page__hero-subtitle",children:"La plateforme ducative qui accompagne les lves sngalais du collge au lyce avec des cours, exercices et quiz de qualit."}),c.jsx("div",{className:"home-page__hero-cta",children:t?c.jsxs(Ye,{to:t.role==="eleve"?"/eleve/dashboard":t.role==="prof"?"/prof/dashboard":"/admin",className:"home-page__btn home-page__btn--primary",children:["  Accder  mon espace",c.jsx(pc,{size:20})]}):c.jsxs(c.Fragment,{children:[c.jsxs(Ye,{to:"/register",className:"home-page__btn home-page__btn--primary",children:["Commencer gratuitement",c.jsx(pc,{size:20})]}),c.jsxs(Ye,{to:"/disciplines",className:"home-page__btn home-page__btn--outline",children:[c.jsx(Mh,{size:18}),"Dcouvrir les cours"]})]})}),c.jsxs("div",{className:"home-page__hero-stats",children:[c.jsxs("div",{className:"home-page__hero-stat",children:[c.jsx("strong",{children:"10 000+"}),c.jsx("span",{children:"lves inscrits"})]}),c.jsxs("div",{className:"home-page__hero-stat",children:[c.jsx("strong",{children:"500+"}),c.jsx("span",{children:"Cours disponibles"})]}),c.jsxs("div",{className:"home-page__hero-stat",children:[c.jsx("strong",{children:"95%"}),c.jsx("span",{children:"Taux de russite"})]})]})]}),c.jsx("div",{className:"home-page__hero-image",children:c.jsxs("div",{className:"home-page__hero-illustration",children:[c.jsx(Cd,{size:120}),c.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--1",children:""}),c.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--2",children:""}),c.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--3",children:""})]})})]}),c.jsx("section",{className:"home-page__levels",children:c.jsxs("div",{className:"home-page__container",children:[c.jsx("h2",{className:"home-page__section-title",children:"Tous les niveaux, toutes les matires"}),c.jsx("p",{className:"home-page__section-subtitle",children:"Du collge au lyce, prpare tes examens avec confiance"}),c.jsxs("div",{className:"home-page__levels-grid",children:[c.jsxs(Ye,{to:"/disciplines?niveau=college",className:"home-page__level-card",children:[c.jsx("div",{className:"home-page__level-icon home-page__level-icon--college",children:""}),c.jsx("h3",{children:"Collge"}),c.jsx("p",{children:"6me  3me"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx(_n,{size:16})," Prparation au BFEM"]}),c.jsxs("li",{children:[c.jsx(_n,{size:16})," 9 matires disponibles"]}),c.jsxs("li",{children:[c.jsx(_n,{size:16})," Exercices corrigs"]})]}),c.jsxs("span",{className:"home-page__level-link",children:["Voir les cours ",c.jsx(pc,{size:16})]})]}),c.jsxs(Ye,{to:"/disciplines?niveau=lycee",className:"home-page__level-card",children:[c.jsx("div",{className:"home-page__level-icon home-page__level-icon--lycee",children:""}),c.jsx("h3",{children:"Lyce"}),c.jsx("p",{children:"2nde  Terminale"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx(_n,{size:16})," Prparation au BAC"]}),c.jsxs("li",{children:[c.jsx(_n,{size:16})," 12 matires disponibles"]}),c.jsxs("li",{children:[c.jsx(_n,{size:16})," Annales d'examens"]})]}),c.jsxs("span",{className:"home-page__level-link",children:["Voir les cours ",c.jsx(pc,{size:16})]})]})]})]})}),c.jsx("section",{className:"home-page__features",children:c.jsxs("div",{className:"home-page__container",children:[c.jsx("h2",{className:"home-page__section-title",children:"Pourquoi choisir PedaClic ?"}),c.jsx("p",{className:"home-page__section-subtitle",children:"Des outils modernes pour une ducation de qualit"}),c.jsxs("div",{className:"home-page__features-grid",children:[c.jsxs("div",{className:"home-page__feature-card",children:[c.jsx("div",{className:"home-page__feature-icon",children:c.jsx(Pr,{size:28})}),c.jsx("h3",{children:"Cours complets"}),c.jsx("p",{children:"Des cours structurs et conformes au programme sngalais, rdigs par des enseignants expriments."})]}),c.jsxs("div",{className:"home-page__feature-card",children:[c.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--secondary",children:c.jsx(a3,{size:28})}),c.jsx("h3",{children:"Quiz interactifs"}),c.jsx("p",{children:"Testez vos connaissances avec des quiz adapts  chaque niveau et obtenez un feedback instantan."})]}),c.jsxs("div",{className:"home-page__feature-card",children:[c.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--warning",children:c.jsx(i3,{size:28})}),c.jsx("h3",{children:"Suivi de progression"}),c.jsx("p",{children:"Visualisez vos progrs et identifiez vos points faibles pour cibler vos rvisions."})]}),c.jsxs("div",{className:"home-page__feature-card",children:[c.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--success",children:c.jsx(Jj,{size:28})}),c.jsx("h3",{children:"Contenu vrifi"}),c.jsx("p",{children:"Tous nos contenus sont valids par des professeurs certifis pour garantir leur qualit."})]}),c.jsxs("div",{className:"home-page__feature-card",children:[c.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--info",children:c.jsx(_l,{size:28})}),c.jsx("h3",{children:"Accessible 24/7"}),c.jsx("p",{children:"tudiez  votre rythme, o que vous soyez, sur ordinateur, tablette ou smartphone."})]}),c.jsxs("div",{className:"home-page__feature-card",children:[c.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--premium",children:c.jsx(Ga,{size:28})}),c.jsx("h3",{children:"Certificats"}),c.jsx("p",{children:"Obtenez des certificats de russite pour valoriser vos comptences acquises."})]})]})]})}),c.jsx("section",{className:"home-page__premium",children:c.jsx("div",{className:"home-page__container",children:c.jsxs("div",{className:"home-page__premium-content",children:[c.jsxs("div",{className:"home-page__premium-text",children:[c.jsx("span",{className:"home-page__premium-badge",children:" Premium"}),c.jsx("h2",{children:"Passez  la vitesse suprieure"}),c.jsxs("p",{children:["Accdez  tous les quiz, exercices corrigs et ressources exclusives pour seulement ",c.jsx("strong",{children:"2 000 FCFA/mois"}),"."]}),c.jsxs("ul",{className:"home-page__premium-features",children:[c.jsxs("li",{children:[c.jsx(_n,{size:18})," Quiz illimits dans toutes les matires"]}),c.jsxs("li",{children:[c.jsx(_n,{size:18})," Corrections dtailles des exercices"]}),c.jsxs("li",{children:[c.jsx(_n,{size:18})," Annales des examens (BFEM, BAC)"]}),c.jsxs("li",{children:[c.jsx(_n,{size:18})," Support prioritaire"]})]}),c.jsxs(Ye,{to:"/premium",className:"home-page__btn home-page__btn--premium",children:["Dcouvrir Premium",c.jsx(pc,{size:20})]})]}),c.jsx("div",{className:"home-page__premium-pricing",children:c.jsxs("div",{className:"home-page__pricing-card",children:[c.jsx("span",{className:"home-page__pricing-popular",children:"Plus populaire"}),c.jsx("h3",{children:"Abonnement Annuel"}),c.jsxs("div",{className:"home-page__pricing-price",children:[c.jsx("span",{className:"home-page__pricing-amount",children:"20 000"}),c.jsx("span",{className:"home-page__pricing-currency",children:"FCFA"}),c.jsx("span",{className:"home-page__pricing-period",children:"/an"})]}),c.jsx("p",{className:"home-page__pricing-save",children:"conomisez 4 000 FCFA vs mensuel"}),c.jsx(Ye,{to:"/premium",className:"home-page__btn home-page__btn--primary home-page__btn--block",children:"Choisir ce plan"})]})})]})})}),c.jsx("section",{className:"home-page__testimonials",children:c.jsxs("div",{className:"home-page__container",children:[c.jsx("h2",{className:"home-page__section-title",children:"Ce qu'en disent nos lves"}),c.jsxs("div",{className:"home-page__testimonials-grid",children:[c.jsxs("div",{className:"home-page__testimonial-card",children:[c.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>c.jsx(mi,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),c.jsx("p",{className:"home-page__testimonial-text",children:`"Grce  PedaClic, j'ai obtenu mon BFEM avec mention. Les quiz m'ont vraiment aid  me prparer !"`}),c.jsxs("div",{className:"home-page__testimonial-author",children:[c.jsx("div",{className:"home-page__testimonial-avatar",children:"FA"}),c.jsxs("div",{children:[c.jsx("strong",{children:"Fatou Adara"}),c.jsx("span",{children:"lve en 3me - Dakar"})]})]})]}),c.jsxs("div",{className:"home-page__testimonial-card",children:[c.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>c.jsx(mi,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),c.jsx("p",{className:"home-page__testimonial-text",children:`"Les cours de maths sont trs bien expliqus. J'ai enfin compris les quations du second degr !"`}),c.jsxs("div",{className:"home-page__testimonial-author",children:[c.jsx("div",{className:"home-page__testimonial-avatar",children:"MD"}),c.jsxs("div",{children:[c.jsx("strong",{children:"Moussa Diallo"}),c.jsx("span",{children:"lve en Terminale S - This"})]})]})]}),c.jsxs("div",{className:"home-page__testimonial-card",children:[c.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>c.jsx(mi,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),c.jsx("p",{className:"home-page__testimonial-text",children:`"Je recommande PedaClic  tous les parents. Ma fille a beaucoup progress depuis qu'elle l'utilise."`}),c.jsxs("div",{className:"home-page__testimonial-author",children:[c.jsx("div",{className:"home-page__testimonial-avatar",children:"AN"}),c.jsxs("div",{children:[c.jsx("strong",{children:"Aminata Ndiaye"}),c.jsx("span",{children:"Parent d'lve - Saint-Louis"})]})]})]})]})]})}),c.jsx("section",{className:"home-page__final-cta",children:c.jsxs("div",{className:"home-page__container",children:[c.jsx("h2",{children:"Prt  russir ?"}),c.jsx("p",{children:"Rejoignez les milliers d'lves qui font confiance  PedaClic"}),!t&&c.jsxs(Ye,{to:"/register",className:"home-page__btn home-page__btn--large",children:["Crer mon compte gratuit",c.jsx(pc,{size:24})]})]})})]})},SX=()=>{const{login:t}=Hi(),e=Sl(),r=Al().state?.from||"/",[i,s]=_.useState({email:"",password:""}),[l,d]=_.useState(!1),[f,h]=_.useState(""),[p,v]=_.useState(!1),y=E=>{const{name:A,value:T}=E.target;s(k=>({...k,[A]:T})),f&&h("")},w=()=>i.email.trim()?i.password?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)?!0:(h("Veuillez entrer une adresse email valide."),!1):(h("Veuillez entrer votre mot de passe."),!1):(h("Veuillez entrer votre adresse email."),!1),j=async E=>{if(E.preventDefault(),!!w()){d(!0),h("");try{await t(i.email,i.password),e(r,{replace:!0})}catch(A){A instanceof Error?h(A.message):h("Une erreur est survenue lors de la connexion.")}finally{d(!1)}}};return c.jsx("div",{className:"auth-page",children:c.jsxs("div",{className:"auth-container",children:[c.jsxs("div",{className:"auth-card",children:[c.jsxs("div",{className:"auth-header",children:[c.jsxs(Ye,{to:"/",className:"auth-logo",children:[c.jsx("div",{className:"auth-logo__icon",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),c.jsx("span",{children:"PedaClic"})]}),c.jsx("h1",{className:"auth-title",children:"Connexion"}),c.jsx("p",{className:"auth-subtitle",children:"Accdez  votre espace d'apprentissage"})]}),f&&c.jsxs("div",{className:"auth-error",children:[c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("path",{d:"M12 8v4M12 16h.01"})]}),c.jsx("span",{children:f})]}),c.jsxs("form",{onSubmit:j,className:"auth-form",children:[c.jsxs("div",{className:"auth-field",children:[c.jsx("label",{htmlFor:"email",className:"auth-label",children:"Adresse email"}),c.jsxs("div",{className:"auth-input-wrapper",children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),c.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:y,placeholder:"exemple@email.com",className:"auth-input",autoComplete:"email",disabled:l})]})]}),c.jsxs("div",{className:"auth-field",children:[c.jsx("label",{htmlFor:"password",className:"auth-label",children:"Mot de passe"}),c.jsxs("div",{className:"auth-input-wrapper",children:[c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:[c.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",strokeWidth:"2"}),c.jsx("path",{strokeWidth:"2",d:"M7 11V7a5 5 0 0110 0v4"})]}),c.jsx("input",{type:p?"text":"password",id:"password",name:"password",value:i.password,onChange:y,placeholder:"Votre mot de passe",className:"auth-input",autoComplete:"current-password",disabled:l}),c.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>v(!p),"aria-label":p?"Masquer le mot de passe":"Afficher le mot de passe",children:p?c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),c.jsx("div",{className:"auth-forgot",children:c.jsx(Ye,{to:"/mot-de-passe-oublie",className:"auth-forgot-link",children:"Mot de passe oubli ?"})}),c.jsx("button",{type:"submit",className:"auth-button",disabled:l,children:l?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"auth-button-spinner"}),"Connexion en cours..."]}):"Se connecter"})]}),c.jsx("div",{className:"auth-divider",children:c.jsx("span",{children:"ou"})}),c.jsxs("p",{className:"auth-switch",children:["Pas encore de compte ?"," ",c.jsx(Ye,{to:"/inscription",className:"auth-switch-link",children:"Crer un compte"})]})]}),c.jsxs("div",{className:"auth-welcome",children:[c.jsx("h2",{children:"Bienvenue sur PedaClic !"}),c.jsx("p",{children:"L'cole en un clic - Accdez  des milliers de cours, exercices et quiz."}),c.jsxs("ul",{className:"auth-features",children:[c.jsxs("li",{children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Cours du programme sngalais"]}),c.jsxs("li",{children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Exercices interactifs"]}),c.jsxs("li",{children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quiz pour tester vos connaissances"]}),c.jsxs("li",{children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Suivi de progression"]})]})]})]})})},NX=()=>{const{register:t}=Hi(),e=Sl(),[n,r]=_.useState({email:"",password:"",confirmPassword:"",displayName:"",role:"eleve"}),[i,s]=_.useState(!1),[l,d]=_.useState(""),[f,h]=_.useState(!1),[p,v]=_.useState(!1),[y,w]=_.useState(!1),j=T=>{const{name:k,value:M}=T.target;r(R=>({...R,[k]:M})),l&&d("")},E=()=>n.displayName.trim()?n.displayName.trim().length<2?(d("Le nom doit contenir au moins 2 caractres."),!1):n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?n.password?n.password.length<6?(d("Le mot de passe doit contenir au moins 6 caractres."),!1):n.password!==n.confirmPassword?(d("Les mots de passe ne correspondent pas."),!1):y?!0:(d("Veuillez accepter les conditions d'utilisation."),!1):(d("Veuillez entrer un mot de passe."),!1):(d("Veuillez entrer une adresse email valide."),!1):(d("Veuillez entrer votre adresse email."),!1):(d("Veuillez entrer votre nom complet."),!1),A=async T=>{if(T.preventDefault(),!!E()){s(!0),d("");try{await t(n),e("/disciplines",{replace:!0})}catch(k){k instanceof Error?d(k.message):d("Une erreur est survenue lors de l'inscription.")}finally{s(!1)}}};return c.jsx("div",{className:"auth-page",children:c.jsxs("div",{className:"auth-container",children:[c.jsxs("div",{className:"auth-card auth-card--register",children:[c.jsxs("div",{className:"auth-header",children:[c.jsxs(Ye,{to:"/",className:"auth-logo",children:[c.jsx("div",{className:"auth-logo__icon",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),c.jsx("span",{children:"PedaClic"})]}),c.jsx("h1",{className:"auth-title",children:"Crer un compte"}),c.jsx("p",{className:"auth-subtitle",children:"Rejoignez PedaClic et commencez  apprendre"})]}),l&&c.jsxs("div",{className:"auth-error",children:[c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("path",{d:"M12 8v4M12 16h.01"})]}),c.jsx("span",{children:l})]}),c.jsxs("form",{onSubmit:A,className:"auth-form",children:[c.jsxs("div",{className:"auth-field",children:[c.jsx("label",{htmlFor:"displayName",className:"auth-label",children:"Nom complet"}),c.jsxs("div",{className:"auth-input-wrapper",children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),c.jsx("input",{type:"text",id:"displayName",name:"displayName",value:n.displayName,onChange:j,placeholder:"Amadou Diallo",className:"auth-input",autoComplete:"name",disabled:i})]})]}),c.jsxs("div",{className:"auth-field",children:[c.jsx("label",{htmlFor:"email",className:"auth-label",children:"Adresse email"}),c.jsxs("div",{className:"auth-input-wrapper",children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),c.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:j,placeholder:"exemple@email.com",className:"auth-input",autoComplete:"email",disabled:i})]})]}),c.jsxs("div",{className:"auth-field",children:[c.jsx("label",{className:"auth-label",children:"Je suis :"}),c.jsxs("div",{className:"auth-role-selector",children:[c.jsxs("label",{className:`auth-role-option ${n.role==="eleve"?"auth-role-option--selected":""}`,children:[c.jsx("input",{type:"radio",name:"role",value:"eleve",checked:n.role==="eleve",onChange:j,className:"auth-role-input",disabled:i}),c.jsxs("div",{className:"auth-role-content",children:[c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l9-5-9-5-9 5 9 5z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"})]}),c.jsx("span",{children:"lve"})]})]}),c.jsxs("label",{className:`auth-role-option ${n.role==="prof"?"auth-role-option--selected":""}`,children:[c.jsx("input",{type:"radio",name:"role",value:"prof",checked:n.role==="prof",onChange:j,className:"auth-role-input",disabled:i}),c.jsxs("div",{className:"auth-role-content",children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),c.jsx("span",{children:"Professeur"})]})]})]})]}),c.jsxs("div",{className:"auth-field",children:[c.jsx("label",{htmlFor:"password",className:"auth-label",children:"Mot de passe"}),c.jsxs("div",{className:"auth-input-wrapper",children:[c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:[c.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",strokeWidth:"2"}),c.jsx("path",{strokeWidth:"2",d:"M7 11V7a5 5 0 0110 0v4"})]}),c.jsx("input",{type:f?"text":"password",id:"password",name:"password",value:n.password,onChange:j,placeholder:"Minimum 6 caractres",className:"auth-input",autoComplete:"new-password",disabled:i}),c.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>h(!f),"aria-label":f?"Masquer":"Afficher",children:f?c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),c.jsx("p",{className:"auth-hint",children:"Au moins 6 caractres avec des lettres et des chiffres"})]}),c.jsxs("div",{className:"auth-field",children:[c.jsx("label",{htmlFor:"confirmPassword",className:"auth-label",children:"Confirmer le mot de passe"}),c.jsxs("div",{className:"auth-input-wrapper",children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),c.jsx("input",{type:p?"text":"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:j,placeholder:"Retapez votre mot de passe",className:"auth-input",autoComplete:"new-password",disabled:i}),c.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>v(!p),"aria-label":p?"Masquer":"Afficher",children:p?c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),c.jsx("div",{className:"auth-checkbox-field",children:c.jsxs("label",{className:"auth-checkbox-label",children:[c.jsx("input",{type:"checkbox",checked:y,onChange:T=>w(T.target.checked),className:"auth-checkbox",disabled:i}),c.jsx("span",{className:"auth-checkbox-custom"}),c.jsxs("span",{children:["J'accepte les"," ",c.jsx(Ye,{to:"/cgu",target:"_blank",className:"auth-link",children:"conditions d'utilisation"})," ","et la"," ",c.jsx(Ye,{to:"/confidentialite",target:"_blank",className:"auth-link",children:"politique de confidentialit"})]})]})}),c.jsx("button",{type:"submit",className:"auth-button",disabled:i,children:i?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"auth-button-spinner"}),"Cration du compte..."]}):"Crer mon compte"})]}),c.jsx("div",{className:"auth-divider",children:c.jsx("span",{children:"ou"})}),c.jsxs("p",{className:"auth-switch",children:["Dj un compte ?"," ",c.jsx(Ye,{to:"/connexion",className:"auth-switch-link",children:"Se connecter"})]})]}),c.jsxs("div",{className:"auth-welcome auth-welcome--register",children:[c.jsx("h2",{children:"Rejoignez la communaut PedaClic"}),c.jsx("p",{children:"Des milliers d'lves et professeurs sngalais nous font dj confiance."}),c.jsxs("div",{className:"auth-stats",children:[c.jsxs("div",{className:"auth-stat",children:[c.jsx("span",{className:"auth-stat-number",children:"10 000+"}),c.jsx("span",{className:"auth-stat-label",children:"lves inscrits"})]}),c.jsxs("div",{className:"auth-stat",children:[c.jsx("span",{className:"auth-stat-number",children:"500+"}),c.jsx("span",{className:"auth-stat-label",children:"Cours disponibles"})]}),c.jsxs("div",{className:"auth-stat",children:[c.jsx("span",{className:"auth-stat-number",children:"95%"}),c.jsx("span",{className:"auth-stat-label",children:"Taux de satisfaction"})]})]}),c.jsxs("div",{className:"auth-testimonial",children:[c.jsx("p",{className:"auth-testimonial-text",children:`"Grce  PedaClic, j'ai amlior mes notes en mathmatiques de 4 points !"`}),c.jsx("p",{className:"auth-testimonial-author",children:" Fatou N., lve de 3me  Dakar"})]})]})]})})},TX=()=>{const[t,e]=_.useState([]),[n,r]=_.useState([]),[i,s]=_.useState(!0),[l,d]=_.useState(null),[f,h]=_.useState("tous"),[p,v]=_.useState("");_.useEffect(()=>{(async()=>{try{s(!0);const j=yi(wr(We,"disciplines"),Ya("ordre","asc")),A=(await bi(j)).docs.map(T=>({id:T.id,...T.data()}));e(A),r(A),d(null)}catch(j){console.error("Erreur chargement disciplines:",j),d("Impossible de charger les disciplines. Veuillez ressayer.")}finally{s(!1)}})()},[]),_.useEffect(()=>{let w=t;if(f!=="tous"&&(w=w.filter(j=>j.niveau===f)),p.trim()){const j=p.toLowerCase();w=w.filter(E=>E.nom.toLowerCase().includes(j)||E.description.toLowerCase().includes(j)||E.classe.toLowerCase().includes(j))}r(w)},[t,f,p]);const y={tous:t.length,college:t.filter(w=>w.niveau==="college").length,lycee:t.filter(w=>w.niveau==="lycee").length};return i?c.jsx("div",{style:$e.container,children:c.jsxs("div",{style:$e.loadingContainer,children:[c.jsx("div",{style:$e.spinner}),c.jsx("p",{style:$e.loadingText,children:"Chargement des disciplines..."})]})}):l?c.jsx("div",{style:$e.container,children:c.jsxs("div",{style:$e.errorContainer,children:[c.jsx("span",{style:$e.errorIcon,children:""}),c.jsx("h2",{style:$e.errorTitle,children:"Erreur"}),c.jsx("p",{style:$e.errorText,children:l}),c.jsx("button",{onClick:()=>window.location.reload(),style:$e.retryButton,children:" Ressayer"})]})}):c.jsxs("div",{style:$e.container,children:[c.jsx("header",{style:$e.header,children:c.jsxs("div",{style:$e.headerContent,children:[c.jsx(Ye,{to:"/",style:$e.backLink,children:" Accueil"}),c.jsx("h1",{style:$e.title,children:" Nos Disciplines"}),c.jsx("p",{style:$e.subtitle,children:"Dcouvrez toutes les matires disponibles sur PedaClic, de la 6me  la Terminale."})]})}),c.jsx("div",{style:$e.filtersSection,children:c.jsxs("div",{style:$e.filtersContainer,children:[c.jsxs("div",{style:$e.searchBox,children:[c.jsx("span",{style:$e.searchIcon,children:""}),c.jsx("input",{type:"text",placeholder:"Rechercher une discipline...",value:p,onChange:w=>v(w.target.value),style:$e.searchInput}),p&&c.jsx("button",{onClick:()=>v(""),style:$e.clearSearch,children:""})]}),c.jsxs("div",{style:$e.niveauFilters,children:[c.jsxs("button",{onClick:()=>h("tous"),style:{...$e.filterButton,...f==="tous"?$e.filterButtonActive:{}},children:[" Tous (",y.tous,")"]}),c.jsxs("button",{onClick:()=>h("college"),style:{...$e.filterButton,...f==="college"?$e.filterButtonActive:{}},children:[" Collge (",y.college,")"]}),c.jsxs("button",{onClick:()=>h("lycee"),style:{...$e.filterButton,...f==="lycee"?$e.filterButtonActive:{}},children:[" Lyce (",y.lycee,")"]})]})]})}),c.jsx("main",{style:$e.main,children:n.length===0?c.jsxs("div",{style:$e.emptyState,children:[c.jsx("span",{style:$e.emptyIcon,children:""}),c.jsx("h3",{style:$e.emptyTitle,children:"Aucune discipline trouve"}),c.jsx("p",{style:$e.emptyText,children:"Essayez de modifier vos critres de recherche."}),c.jsx("button",{onClick:()=>{h("tous"),v("")},style:$e.resetButton,children:"Rinitialiser les filtres"})]}):c.jsx("div",{style:$e.grid,children:n.map(w=>c.jsx(CX,{discipline:w},w.id))})}),c.jsxs("footer",{style:$e.footer,children:[c.jsx("p",{children:" PedaClic - L'cole en un clic"}),c.jsxs("p",{style:$e.footerSubtext,children:[t.length," disciplines disponibles  6me  Terminale"]})]})]})},CX=({discipline:t})=>{const e=t.niveau==="college"?"Collge":"Lyce",n=t.niveau==="college"?"":"";return c.jsxs(Ye,{to:`/disciplines/${t.id}`,style:$e.card,className:"discipline-card",children:[c.jsx("div",{style:{...$e.cardIcon,backgroundColor:t.couleur||"#2563eb"},children:c.jsx("span",{style:$e.cardEmoji,children:t.icone||""})}),c.jsxs("div",{style:$e.cardContent,children:[c.jsx("h3",{style:$e.cardTitle,children:t.nom}),c.jsxs("div",{style:$e.cardMeta,children:[c.jsxs("span",{style:$e.cardBadge,children:[n," ",e]}),c.jsxs("span",{style:$e.cardBadge,children:[" ",t.classe]}),c.jsxs("span",{style:$e.cardBadge,children:[" Coef. ",t.coefficient]})]}),c.jsx("p",{style:$e.cardDescription,children:t.description})]}),c.jsx("div",{style:$e.cardArrow,children:""})]})},$e={container:{minHeight:"100vh",backgroundColor:"#f3f4f6",fontFamily:"system-ui, -apple-system, sans-serif"},header:{background:"linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%)",color:"white",padding:"2rem 1rem 3rem"},headerContent:{maxWidth:"1200px",margin:"0 auto"},backLink:{color:"rgba(255,255,255,0.8)",textDecoration:"none",fontSize:"0.9rem",display:"inline-block",marginBottom:"1rem"},title:{fontSize:"2.5rem",fontWeight:"700",margin:"0 0 0.5rem 0"},subtitle:{fontSize:"1.1rem",opacity:.9,margin:0,maxWidth:"600px"},filtersSection:{backgroundColor:"white",borderBottom:"1px solid #e5e7eb",padding:"1rem",position:"sticky",top:0,zIndex:10,boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},filtersContainer:{maxWidth:"1200px",margin:"0 auto",display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"center",justifyContent:"space-between"},searchBox:{display:"flex",alignItems:"center",backgroundColor:"#f3f4f6",borderRadius:"8px",padding:"0.5rem 1rem",flex:"1",maxWidth:"400px",minWidth:"200px"},searchIcon:{marginRight:"0.5rem",fontSize:"1rem"},searchInput:{border:"none",background:"transparent",flex:1,fontSize:"1rem",outline:"none"},clearSearch:{background:"none",border:"none",cursor:"pointer",color:"#6b7280",fontSize:"1rem",padding:"0 0.25rem"},niveauFilters:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},filterButton:{padding:"0.5rem 1rem",borderRadius:"20px",border:"1px solid #e5e7eb",backgroundColor:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.2s",color:"#374151"},filterButtonActive:{backgroundColor:"#2563eb",borderColor:"#2563eb",color:"white"},main:{maxWidth:"1200px",margin:"0 auto",padding:"2rem 1rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"1.5rem"},card:{display:"flex",alignItems:"flex-start",gap:"1rem",backgroundColor:"white",borderRadius:"12px",padding:"1.5rem",textDecoration:"none",color:"inherit",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",transition:"all 0.2s ease",border:"1px solid #e5e7eb"},cardIcon:{width:"60px",height:"60px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},cardEmoji:{fontSize:"1.75rem"},cardContent:{flex:1,minWidth:0},cardTitle:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",margin:"0 0 0.5rem 0"},cardMeta:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"0.75rem"},cardBadge:{fontSize:"0.75rem",padding:"0.25rem 0.5rem",backgroundColor:"#f3f4f6",borderRadius:"4px",color:"#6b7280"},cardDescription:{fontSize:"0.9rem",color:"#6b7280",margin:0,lineHeight:"1.5",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},cardArrow:{color:"#9ca3af",fontSize:"1.25rem",alignSelf:"center",transition:"transform 0.2s"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh"},spinner:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTopColor:"#2563eb",borderRadius:"50%",animation:"spin 1s linear infinite"},loadingText:{marginTop:"1rem",color:"#6b7280"},errorContainer:{textAlign:"center",padding:"4rem 2rem"},errorIcon:{fontSize:"4rem"},errorTitle:{color:"#dc2626",margin:"1rem 0 0.5rem"},errorText:{color:"#6b7280",marginBottom:"1.5rem"},retryButton:{padding:"0.75rem 1.5rem",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem"},emptyState:{textAlign:"center",padding:"4rem 2rem",backgroundColor:"white",borderRadius:"12px"},emptyIcon:{fontSize:"4rem"},emptyTitle:{color:"#1f2937",margin:"1rem 0 0.5rem"},emptyText:{color:"#6b7280",marginBottom:"1.5rem"},resetButton:{padding:"0.75rem 1.5rem",backgroundColor:"#f3f4f6",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"8px",cursor:"pointer",fontSize:"1rem"},footer:{textAlign:"center",padding:"2rem",backgroundColor:"#1f2937",color:"white",marginTop:"2rem"},footerSubtext:{fontSize:"0.85rem",opacity:.7,marginTop:"0.5rem"}},PX=()=>c.jsx("style",{children:`
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .discipline-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 24px rgba(0,0,0,0.15) !important;
      border-color: #2563eb !important;
    }
    
    .discipline-card:hover .card-arrow {
      transform: translateX(4px);
    }
  `}),OX=()=>c.jsxs(c.Fragment,{children:[c.jsx(PX,{}),c.jsx(TX,{})]}),s3={cours:{icon:"",label:"Cours",color:"#2563eb",bgColor:"#dbeafe"},exercice:{icon:"",label:"Exercice",color:"#059669",bgColor:"#d1fae5"},video:{icon:"",label:"Vido",color:"#dc2626",bgColor:"#fee2e2"},document:{icon:"",label:"Document",color:"#7c3aed",bgColor:"#ede9fe"},quiz:{icon:"",label:"Quiz",color:"#ea580c",bgColor:"#ffedd5"}},IX=t=>{if(!t||t<=0)return null;if(t<60)return`${t} min`;const e=Math.floor(t/60),n=t%60;return n>0?`${e}h${n.toString().padStart(2,"0")}`:`${e}h`},TO=(t,e)=>t.length<=e?t:t.slice(0,e).trim()+"...",RX=({resource:t,compact:e=!1,onClick:n,className:r=""})=>{const i=s3[t.type],s=IX(t.dureeEstimee),l=d=>{n&&(d.preventDefault(),n(t))};return e?c.jsxs(Ye,{to:`/resources/${t.id}`,className:`resource-card resource-card--compact ${r}`,onClick:l,"aria-label":`${i.label}: ${t.titre}`,children:[c.jsx("span",{className:"resource-card__icon",style:{backgroundColor:i.bgColor},title:i.label,children:i.icon}),c.jsx("span",{className:"resource-card__title",children:TO(t.titre,50)}),c.jsx("span",{className:`resource-card__badge ${t.isPremium?"resource-card__badge--premium":"resource-card__badge--free"}`,children:t.isPremium?"":""})]}):c.jsxs(Ye,{to:`/resources/${t.id}`,className:`resource-card ${r}`,onClick:l,"aria-label":`${i.label}: ${t.titre}`,children:[c.jsxs("div",{className:"resource-card__header",children:[c.jsx("div",{className:"resource-card__type-icon",style:{backgroundColor:i.bgColor},children:i.icon}),c.jsx("span",{className:"resource-card__type-badge",style:{color:i.color,backgroundColor:i.bgColor},children:i.label}),c.jsx("div",{className:"resource-card__spacer"}),c.jsx("span",{className:`resource-card__status ${t.isPremium?"resource-card__status--premium":"resource-card__status--free"}`,children:t.isPremium?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"resource-card__status-icon",children:""}),c.jsx("span",{children:"Premium"})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"resource-card__status-icon",children:""}),c.jsx("span",{children:"Gratuit"})]})})]}),c.jsxs("div",{className:"resource-card__content",children:[c.jsx("h4",{className:"resource-card__title",children:t.titre}),t.description&&c.jsx("p",{className:"resource-card__description",children:TO(t.description,120)})]}),c.jsxs("div",{className:"resource-card__footer",children:[s&&c.jsxs("span",{className:"resource-card__meta",children:[c.jsx("span",{className:"resource-card__meta-icon",children:""}),s]}),t.tags&&t.tags.length>0&&c.jsxs("div",{className:"resource-card__tags",children:[t.tags.slice(0,3).map((d,f)=>c.jsx("span",{className:"resource-card__tag",children:d},f)),t.tags.length>3&&c.jsxs("span",{className:"resource-card__tag resource-card__tag--more",children:["+",t.tags.length-3]})]}),t.fichierURL&&c.jsx("span",{className:"resource-card__file-indicator",title:"Fichier attach",children:""}),c.jsx("span",{className:"resource-card__arrow",children:""})]})]})},kX=t=>{const e={total:t.length,premium:0,gratuit:0,parType:{cours:0,exercice:0,video:0,document:0,quiz:0}};return t.forEach(n=>{n.isPremium?e.premium++:e.gratuit++,e.parType.hasOwnProperty(n.type)&&e.parType[n.type]++}),e},DX=t=>{const e={cours:1,exercice:2,video:3,document:4,quiz:5};return[...t].sort((n,r)=>n.ordre!==r.ordre?n.ordre-r.ordre:e[n.type]-e[r.type])},MX=({chapterName:t,chapterNumber:e,resources:n,isExpanded:r,onToggle:i,className:s=""})=>{const l=_.useMemo(()=>kX(n),[n]),d=_.useMemo(()=>DX(n),[n]),f=_.useMemo(()=>["cours","exercice","video","document","quiz"].filter(v=>l.parType[v]>0).map(v=>({type:v,count:l.parType[v],config:s3[v]})),[l]),h=l.premium>0;return c.jsxs("div",{className:`chapter-card ${r?"chapter-card--expanded":""} ${s}`,children:[c.jsxs("button",{type:"button",className:"chapter-card__header",onClick:i,"aria-expanded":r,"aria-controls":`chapter-content-${e}`,children:[c.jsx("div",{className:"chapter-card__number",children:c.jsx("span",{children:e})}),c.jsxs("div",{className:"chapter-card__info",children:[c.jsx("h3",{className:"chapter-card__title",children:t}),c.jsx("div",{className:"chapter-card__type-summary",children:f.map(({type:p,count:v,config:y})=>c.jsxs("span",{className:"chapter-card__type-count",title:`${v} ${y.label.toLowerCase()}${v>1?"s":""}`,children:[c.jsx("span",{className:"chapter-card__type-icon",children:y.icon}),c.jsx("span",{children:v})]},p))})]}),c.jsxs("div",{className:"chapter-card__badges",children:[c.jsxs("span",{className:"chapter-card__count-badge",children:[l.total," ressource",l.total>1?"s":""]}),h&&c.jsxs("span",{className:"chapter-card__premium-badge",title:`${l.premium} contenu(s) premium`,children:[" ",l.premium]})]}),c.jsx("div",{className:`chapter-card__chevron ${r?"chapter-card__chevron--open":""}`,children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),c.jsxs("div",{id:`chapter-content-${e}`,className:`chapter-card__content ${r?"chapter-card__content--visible":""}`,"aria-hidden":!r,children:[c.jsxs("div",{className:"chapter-card__progress",children:[c.jsx("div",{className:"chapter-card__progress-bar",children:c.jsx("div",{className:"chapter-card__progress-fill",style:{width:"0%"}})}),c.jsxs("span",{className:"chapter-card__progress-text",children:["0/",l.total," termin",l.total>1?"s":""]})]}),c.jsx("div",{className:"chapter-card__resources",children:d.length>0?d.map(p=>c.jsx(RX,{resource:p,className:"chapter-card__resource"},p.id)):c.jsxs("div",{className:"chapter-card__empty",children:[c.jsx("span",{className:"chapter-card__empty-icon",children:""}),c.jsx("p",{children:"Aucune ressource dans ce chapitre"})]})}),c.jsxs("div",{className:"chapter-card__stats",children:[c.jsxs("div",{className:"chapter-card__stat",children:[c.jsx("span",{className:"chapter-card__stat-value",children:l.total}),c.jsx("span",{className:"chapter-card__stat-label",children:"Total"})]}),c.jsxs("div",{className:"chapter-card__stat",children:[c.jsx("span",{className:"chapter-card__stat-value chapter-card__stat-value--premium",children:l.premium}),c.jsx("span",{className:"chapter-card__stat-label",children:"Premium"})]}),c.jsxs("div",{className:"chapter-card__stat",children:[c.jsx("span",{className:"chapter-card__stat-value chapter-card__stat-value--free",children:l.gratuit}),c.jsx("span",{className:"chapter-card__stat-label",children:"Gratuit"})]})]})]})]})},jx=()=>c.jsx("div",{className:"chapter-card chapter-card--skeleton",children:c.jsxs("div",{className:"chapter-card__header",children:[c.jsx("div",{className:"skeleton skeleton--number"}),c.jsxs("div",{className:"chapter-card__info",children:[c.jsx("div",{className:"skeleton skeleton--title",style:{width:"60%"}}),c.jsx("div",{className:"skeleton skeleton--meta",style:{width:"40%"}})]}),c.jsx("div",{className:"skeleton skeleton--badge",style:{width:"100px"}}),c.jsx("div",{className:"skeleton skeleton--chevron"})]})}),zX="modulepreload",LX=function(t){return"/"+t},CO={},zg=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let h=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var l=h;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");i=h(n.map(p=>{if(p=LX(p),p in CO)return;CO[p]=!0;const v=p.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":zX,v||(w.as="script"),w.crossOrigin="",w.href=p,f&&w.setAttribute("nonce",f),document.head.appendChild(w),v)return new Promise((j,E)=>{w.addEventListener("load",j),w.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${p}`)))})}))}function s(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return i.then(d=>{for(const f of d||[])f.status==="rejected"&&s(f.reason);return e().catch(s)})},fc="ressources",VX="ressources",PO=t=>{const e=t.data();return{id:t.id,disciplineId:e.disciplineId,titre:e.titre,type:e.type,contenu:e.contenu,description:e.description,isPremium:e.isPremium||!1,ordre:e.ordre||0,chapitre:e.chapitre,fichierURL:e.fichierURL,dureeEstimee:e.dureeEstimee,tags:e.tags||[],auteurId:e.auteurId,createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()}},UX=t=>{const e=Date.now(),n=t.split(".").pop();return`${t.replace(/\.[^/.]+$/,"").replace(/[^a-zA-Z0-9]/g,"_")}_${e}.${n}`},$o={async getAll(t,e){try{const n=[Ya("ordre","asc")];t?.disciplineId&&n.unshift(Vi("disciplineId","==",t.disciplineId)),t?.chapitreId&&n.unshift(Vi("chapitre","==",t.chapitreId)),t?.type&&n.unshift(Vi("type","==",t.type)),t?.isPremium!==void 0&&n.unshift(Vi("isPremium","==",t.isPremium)),t?.auteurId&&n.unshift(Vi("auteurId","==",t.auteurId)),e&&n.push($j(e));const r=yi(wr(We,fc),...n);return(await bi(r)).docs.map(PO)}catch(n){throw console.error("Erreur lors de la rcupration des ressources:",n),new Error("Impossible de rcuprer les ressources")}},async getById(t){try{const e=Ut(We,fc,t),n=await bl(e);return n.exists()?PO(n):null}catch(e){throw console.error("Erreur lors de la rcupration de la ressource:",e),new Error("Impossible de rcuprer la ressource")}},async getByDiscipline(t){return this.getAll({disciplineId:t})},async getByChapitre(t){return this.getAll({chapitreId:t})},async getByType(t){return this.getAll({type:t})},async getPremium(){return this.getAll({isPremium:!0})},async getFree(){return this.getAll({isPremium:!1})},async create(t,e){try{return(await au(wr(We,fc),{...t,auteurId:e,createdAt:kn(),updatedAt:kn()})).id}catch(n){throw console.error("Erreur lors de la cration de la ressource:",n),new Error("Impossible de crer la ressource")}},async update(t,e){try{const n=Ut(We,fc,t);await Bi(n,{...e,updatedAt:kn()})}catch(n){throw console.error("Erreur lors de la mise  jour de la ressource:",n),new Error("Impossible de mettre  jour la ressource")}},async delete(t){try{const e=await this.getById(t);e?.fichierURL&&await this.deleteFile(e.fichierURL);const n=Ut(We,fc,t);await Om(n)}catch(e){throw console.error("Erreur lors de la suppression de la ressource:",e),new Error("Impossible de supprimer la ressource")}},async deleteByDiscipline(t){try{const e=await this.getByDiscipline(t),n=Qh(We);for(const r of e){r.fichierURL&&await this.deleteFile(r.fichierURL);const i=Ut(We,fc,r.id);n.delete(i)}await n.commit()}catch(e){throw console.error("Erreur lors de la suppression des ressources:",e),new Error("Impossible de supprimer les ressources")}},async uploadFile(t,e){try{const n=UX(t.name),r=`${VX}/${e}/${n}`,i=xO(Lw,r);return await DQ(i,t),await MQ(i)}catch(n){throw console.error("Erreur lors de l'upload du fichier:",n),new Error("Impossible d'uploader le fichier")}},async deleteFile(t){try{const e=xO(Lw,t);await zQ(e)}catch(e){console.warn("Fichier non trouv ou dj supprim:",e)}},async reorder(t,e){try{const n=Qh(We);e.forEach((r,i)=>{const s=Ut(We,fc,r);n.update(s,{ordre:i+1,updatedAt:kn()})}),await n.commit()}catch(n){throw console.error("Erreur lors de la rorganisation des ressources:",n),new Error("Impossible de rorganiser les ressources")}},async togglePremium(t,e){await this.update(t,{isPremium:e})},async countByType(t){return(await this.getByType(t)).length},async getStats(){try{const t=await this.getAll(),e={total:t.length,premium:t.filter(n=>n.isPremium).length,gratuit:t.filter(n=>!n.isPremium).length,parType:{cours:0,exercice:0,video:0,document:0,quiz:0}};return t.forEach(n=>{e.parType[n.type]!==void 0&&e.parType[n.type]++}),e}catch(t){throw console.error("Erreur lors du calcul des statistiques:",t),new Error("Impossible de calculer les statistiques")}}},qX=async t=>{const{collection:e,query:n,where:r,getDocs:i,orderBy:s}=await zg(async()=>{const{collection:h,query:p,where:v,getDocs:y,orderBy:w}=await Promise.resolve().then(()=>ML);return{collection:h,query:p,where:v,getDocs:y,orderBy:w}},void 0),{db:l}=await zg(async()=>{const{db:h}=await Promise.resolve().then(()=>JL);return{db:h}},void 0),d=n(e(l,"ressources"),r("chapitreId","==",t),s("ordre","asc"));return(await i(d)).docs.map(h=>({id:h.id,...h.data()}))},BX=async t=>{const{collection:e,query:n,where:r,getDocs:i}=await zg(async()=>{const{collection:f,query:h,where:p,getDocs:v}=await Promise.resolve().then(()=>ML);return{collection:f,query:h,where:p,getDocs:v}},void 0),{db:s}=await zg(async()=>{const{db:f}=await Promise.resolve().then(()=>JL);return{db:f}},void 0),l=n(e(s,"ressources"),r("disciplineId","==",t));return(await i(l)).size},OO=[{value:"all",label:"Tous",icon:""},{value:"cours",label:"Cours",icon:""},{value:"exercice",label:"Exercices",icon:""},{value:"video",label:"Vidos",icon:""},{value:"document",label:"Documents",icon:""},{value:"quiz",label:"Quiz",icon:""}],$X={college:"Collge",lycee:"Lyce"},FX={"6eme":"6me","5eme":"5me","4eme":"4me","3eme":"3me","2nde":"Seconde","1ere":"Premire",Terminale:"Terminale"},HX=()=>{const{id:t}=YM(),[e,n]=_.useState(null),[r,i]=_.useState(new Map),[s,l]=_.useState(null),[d,f]=_.useState(new Set),[h,p]=_.useState("all"),[v,y]=_.useState(!0),[w,j]=_.useState(null);_.useEffect(()=>{(async()=>{if(!t){j("ID de discipline manquant"),y(!1);return}y(!0),j(null);try{const O=Ut(We,"disciplines",t),P=await bl(O);if(!P.exists()){j("Discipline non trouve"),y(!1);return}const I=P.data(),B={id:P.id,nom:I.nom,niveau:I.niveau,classe:I.classe,ordre:I.ordre||0,coefficient:I.coefficient,couleur:I.couleur,icone:I.icone,description:I.description,createdAt:I.createdAt?.toDate()||new Date,updatedAt:I.updatedAt?.toDate()};n(B);const U=await qX(t);if(U.success&&U.data){i(U.data);const q=Array.from(U.data.keys())[0];q&&f(new Set([q]))}const z=await BX(t);z.success&&z.data&&l(z.data)}catch(O){console.error("Erreur chargement discipline:",O),j("Erreur lors du chargement des donnes")}finally{y(!1)}})()},[t]);const E=_.useMemo(()=>{if(h==="all")return r;const D=new Map;return r.forEach((O,P)=>{const I=O.filter(B=>B.type===h);I.length>0&&D.set(P,I)}),D},[r,h]),A=_.useMemo(()=>{const D={all:0};return r.forEach(O=>{D.all+=O.length,O.forEach(P=>{D[P.type]=(D[P.type]||0)+1})}),D},[r]),T=_.useCallback(D=>{f(O=>{const P=new Set(O);return P.has(D)?P.delete(D):P.add(D),P})},[]),k=_.useCallback(()=>{const D=new Set(E.keys());f(D)},[E]),M=_.useCallback(()=>{f(new Set)},[]);if(v)return c.jsxs("div",{className:"discipline-detail",children:[c.jsx("div",{className:"discipline-detail__header discipline-detail__header--skeleton",children:c.jsxs("div",{className:"container",children:[c.jsx("div",{className:"skeleton skeleton--title",style:{width:"200px",height:"40px"}}),c.jsx("div",{className:"skeleton skeleton--text",style:{width:"300px",marginTop:"16px"}})]})}),c.jsx("div",{className:"discipline-detail__filters",children:c.jsx("div",{className:"container",children:c.jsx("div",{className:"discipline-detail__filter-bar",children:[1,2,3,4,5].map(D=>c.jsx("div",{className:"skeleton skeleton--button",style:{width:"100px",height:"40px"}},D))})})}),c.jsx("div",{className:"discipline-detail__content",children:c.jsxs("div",{className:"container",children:[c.jsx(jx,{}),c.jsx(jx,{}),c.jsx(jx,{})]})})]});if(w||!e)return c.jsx("div",{className:"discipline-detail",children:c.jsx("div",{className:"discipline-detail__error",children:c.jsx("div",{className:"container",children:c.jsxs("div",{className:"error-box",children:[c.jsx("span",{className:"error-box__icon",children:""}),c.jsx("h2",{className:"error-box__title",children:w||"Discipline non trouve"}),c.jsx("p",{className:"error-box__message",children:"La discipline demande n'existe pas ou a t supprime."}),c.jsx(Ye,{to:"/disciplines",className:"error-box__link",children:" Retour aux disciplines"})]})})})});const R=Array.from(E.entries()),L=Array.from(r.keys()).length;return c.jsxs("div",{className:"discipline-detail",children:[c.jsx("header",{className:"discipline-detail__header",children:c.jsxs("div",{className:"container",children:[c.jsxs("nav",{className:"discipline-detail__breadcrumb","aria-label":"Fil d'ariane",children:[c.jsx(Ye,{to:"/",children:"Accueil"}),c.jsx("span",{className:"discipline-detail__breadcrumb-separator",children:"/"}),c.jsx(Ye,{to:"/disciplines",children:"Disciplines"}),c.jsx("span",{className:"discipline-detail__breadcrumb-separator",children:"/"}),c.jsx("span",{className:"discipline-detail__breadcrumb-current",children:e.nom})]}),c.jsxs("div",{className:"discipline-detail__title-section",children:[e.icone&&c.jsx("span",{className:"discipline-detail__icon",children:e.icone}),c.jsxs("div",{className:"discipline-detail__title-info",children:[c.jsx("h1",{className:"discipline-detail__title",children:e.nom}),c.jsxs("div",{className:"discipline-detail__meta",children:[c.jsx("span",{className:"discipline-detail__niveau",children:$X[e.niveau]||e.niveau}),c.jsx("span",{className:"discipline-detail__separator",children:""}),c.jsx("span",{className:"discipline-detail__classe",children:FX[e.classe]||e.classe}),e.coefficient&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"discipline-detail__separator",children:""}),c.jsxs("span",{className:"discipline-detail__coefficient",children:["Coef. ",e.coefficient]})]})]})]})]}),s&&c.jsxs("div",{className:"discipline-detail__stats",children:[c.jsxs("div",{className:"discipline-detail__stat",children:[c.jsx("span",{className:"discipline-detail__stat-value",children:L}),c.jsxs("span",{className:"discipline-detail__stat-label",children:["Chapitre",L>1?"s":""]})]}),c.jsxs("div",{className:"discipline-detail__stat",children:[c.jsx("span",{className:"discipline-detail__stat-value",children:s.total}),c.jsxs("span",{className:"discipline-detail__stat-label",children:["Ressource",s.total>1?"s":""]})]}),c.jsxs("div",{className:"discipline-detail__stat discipline-detail__stat--free",children:[c.jsx("span",{className:"discipline-detail__stat-value",children:s.gratuit}),c.jsxs("span",{className:"discipline-detail__stat-label",children:["Gratuit",s.gratuit>1?"s":""]})]}),c.jsxs("div",{className:"discipline-detail__stat discipline-detail__stat--premium",children:[c.jsx("span",{className:"discipline-detail__stat-value",children:s.premium}),c.jsx("span",{className:"discipline-detail__stat-label",children:"Premium"})]})]}),e.description&&c.jsx("p",{className:"discipline-detail__description",children:e.description})]})}),c.jsx("section",{className:"discipline-detail__filters",children:c.jsx("div",{className:"container",children:c.jsxs("div",{className:"discipline-detail__filter-bar",children:[c.jsx("div",{className:"discipline-detail__type-filters",children:OO.map(D=>{const O=A[D.value]||0,P=h===D.value,I=D.value!=="all"&&O===0;return c.jsxs("button",{type:"button",className:`discipline-detail__filter-btn ${P?"discipline-detail__filter-btn--active":""}`,onClick:()=>p(D.value),disabled:I,"aria-pressed":P,children:[c.jsx("span",{className:"discipline-detail__filter-icon",children:D.icon}),c.jsx("span",{className:"discipline-detail__filter-label",children:D.label}),c.jsx("span",{className:"discipline-detail__filter-count",children:O})]},D.value)})}),c.jsxs("div",{className:"discipline-detail__chapter-actions",children:[c.jsxs("button",{type:"button",className:"discipline-detail__expand-btn",onClick:k,title:"Tout dplier",children:[c.jsx("span",{children:""})," Tout dplier"]}),c.jsxs("button",{type:"button",className:"discipline-detail__collapse-btn",onClick:M,title:"Tout replier",children:[c.jsx("span",{children:""})," Tout replier"]})]})]})})}),c.jsx("main",{className:"discipline-detail__content",children:c.jsx("div",{className:"container",children:R.length>0?c.jsx("div",{className:"discipline-detail__chapters",children:R.map(([D,O],P)=>c.jsx(MX,{chapterName:D,chapterNumber:P+1,resources:O,isExpanded:d.has(D),onToggle:()=>T(D)},D))}):c.jsxs("div",{className:"discipline-detail__empty",children:[c.jsx("span",{className:"discipline-detail__empty-icon",children:""}),c.jsx("h3",{className:"discipline-detail__empty-title",children:h==="all"?"Aucune ressource disponible":`Aucun(e) ${OO.find(D=>D.value===h)?.label.toLowerCase()} disponible`}),c.jsx("p",{className:"discipline-detail__empty-message",children:h==="all"?"Cette discipline ne contient pas encore de ressources pdagogiques.":"Essayez de changer de filtre ou revenez plus tard."}),h!=="all"&&c.jsx("button",{type:"button",className:"discipline-detail__reset-filter",onClick:()=>p("all"),children:"Afficher toutes les ressources"})]})})}),s&&s.premium>0&&c.jsx("aside",{className:"discipline-detail__premium-banner",children:c.jsx("div",{className:"container",children:c.jsxs("div",{className:"premium-banner",children:[c.jsxs("div",{className:"premium-banner__content",children:[c.jsx("span",{className:"premium-banner__icon",children:""}),c.jsxs("div",{className:"premium-banner__text",children:[c.jsxs("strong",{children:[s.premium," ressource",s.premium>1?"s":""," Premium"]}),c.jsx("span",{children:"Accdez  tout le contenu pour seulement 2 000 FCFA/mois"})]})]}),c.jsx(Ye,{to:"/premium",className:"premium-banner__cta",children:"Devenir Premium"})]})})})]})},Ax=[{id:"mensuel",nom:"Mensuel",prix:2e3,duree:"1 mois"},{id:"annuel",nom:"Annuel",prix:2e4,prixOriginal:24e3,duree:"12 mois",economie:"4 000 FCFA",popular:!0}],KX=[{icone:"",titre:"Accs illimit",description:"Tous les cours de la 6me  la Terminale, sans restriction."},{icone:"",titre:"Vidos explicatives",description:"Des cours en vido par des professeurs expriments."},{icone:"",titre:"Exercices corrigs",description:"Des milliers d'exercices avec corrections dtailles."},{icone:"",titre:"Suivi de progression",description:"Tableau de bord personnel pour suivre vos rsultats."},{icone:"",titre:"Quiz interactifs",description:"Testez vos connaissances avec des quiz par matire."},{icone:"",titre:"Support prioritaire",description:"Assistance rapide pour toutes vos questions."},{icone:"",titre:"Accs mobile",description:"Apprenez partout, sur tlphone ou tablette."},{icone:"",titre:"Mises  jour",description:"Nouveaux contenus ajouts rgulirement."}],GX=[{question:"Comment fonctionne l'abonnement Premium ?",reponse:"Une fois votre paiement effectu via Wave, Orange Money ou carte bancaire, votre compte est instantanment mis  niveau. Vous avez accs  tous les contenus Premium pendant la dure de votre abonnement."},{question:"Puis-je annuler mon abonnement ?",reponse:"Oui, vous pouvez annuler  tout moment depuis votre espace personnel. Vous conservez l'accs Premium jusqu' la fin de la priode paye."},{question:"L'abonnement se renouvelle-t-il automatiquement ?",reponse:"Non, chez PedaClic, il n'y a pas de renouvellement automatique. Vous dcidez quand renouveler votre abonnement."},{question:"Quels moyens de paiement acceptez-vous ?",reponse:"Nous acceptons Wave, Orange Money, Free Money et les cartes bancaires (Visa, Mastercard) via notre partenaire PayTech."},{question:"Puis-je partager mon compte Premium ?",reponse:"Chaque compte Premium est personnel et li  une adresse email. Le partage de compte est interdit pour garantir un suivi de progression personnalis."}],WX=()=>{const{currentUser:t}=Hi(),e=Al(),n=Sl(),[r,i]=_.useState("annuel"),[s,l]=_.useState(!1),[d,f]=_.useState(null),[h,p]=_.useState(null);e.state?.from;const v=()=>!t||!t.isPremium?!1:t.subscriptionEnd?(t.subscriptionEnd instanceof Date?t.subscriptionEnd:new Date(t.subscriptionEnd))>new Date:!0,y=async()=>{if(!t){n("/connexion",{state:{from:"/premium"}});return}if(v()){f("Vous tes dj abonn Premium !");return}try{l(!0),f(null);const E=Ax.find(R=>R.id===r);if(!E)throw new Error("Plan invalide");const A=await au(wr(We,"transactions"),{userId:t.uid,userEmail:t.email,planType:r,montant:E.prix,devise:"XOF",statut:"pending",dateTransaction:kn(),createdAt:kn()}),T={apiKey:"your_paytech_key",apiSecret:"demo_api_secret",item_name:`PedaClic Premium ${E.nom}`,item_price:E.prix,currency:"XOF",ref_command:A.id,success_url:`${window.location.origin}/premium/success?ref=${A.id}`,cancel_url:`${window.location.origin}/premium/cancel?ref=${A.id}`,ipn_url:"/api/paytech/ipn",custom_field:JSON.stringify({userId:t.uid,planType:r,transactionId:A.id}),env:"test"},M=await(await fetch("https://paytech.sn/api/payment/request-payment",{method:"POST",headers:{"Content-Type":"application/json",API_KEY:T.apiKey,API_SECRET:T.apiSecret},body:JSON.stringify({item_name:T.item_name,item_price:T.item_price,currency:T.currency,ref_command:T.ref_command,command_name:`Abonnement Premium ${E.nom} - ${t.email}`,env:T.env,ipn_url:T.ipn_url,success_url:T.success_url,cancel_url:T.cancel_url,custom_field:T.custom_field})})).json();if(M.success===1&&M.redirect_url)window.location.href=M.redirect_url;else{console.log("Mode dmo PayTech - Simulation de paiement");const R=new Date,L=new Date(R);r==="mensuel"?L.setMonth(L.getMonth()+1):L.setFullYear(L.getFullYear()+1),await Bi(Ut(We,"users",t.uid),{isPremium:!0,subscriptionEnd:L,subscriptionPlan:r,updatedAt:kn()}),await Bi(Ut(We,"transactions",A.id),{statut:"success",paytechTransactionId:"DEMO_"+Date.now(),dateExpiration:L,updatedAt:kn()}),n("/premium/success",{state:{plan:E.nom,montant:E.prix,expiration:L.toLocaleDateString("fr-FR")}})}}catch(E){console.error("Erreur paiement:",E),f("Une erreur est survenue lors du paiement. Veuillez ressayer.")}finally{l(!1)}},w=E=>{p(h===E?null:E)},j=E=>E.toLocaleString("fr-FR")+" FCFA";if(v()){const E=t?.subscriptionEnd instanceof Date?t.subscriptionEnd:new Date(t?.subscriptionEnd||Date.now());return c.jsx("div",{className:"premium-page",children:c.jsx("div",{className:"container",children:c.jsxs("div",{className:"premium-already",children:[c.jsx("span",{className:"premium-already__icon",children:""}),c.jsx("h1",{children:"Vous tes dj Premium !"}),c.jsxs("p",{children:["Votre abonnement est actif jusqu'au"," ",c.jsx("strong",{children:E.toLocaleDateString("fr-FR")})]}),c.jsxs("div",{className:"premium-already__actions",children:[c.jsx(Ye,{to:"/disciplines",className:"btn btn--primary",children:"Accder aux cours"}),c.jsx(Ye,{to:"/dashboard",className:"btn btn--outline",children:"Mon tableau de bord"})]})]})})})}return c.jsxs("div",{className:"premium-page",children:[c.jsx("section",{className:"premium-hero",children:c.jsxs("div",{className:"container",children:[c.jsx("span",{className:"premium-hero__badge",children:" Premium"}),c.jsxs("h1",{className:"premium-hero__title",children:["Dbloquez tout le potentiel de ",c.jsx("span",{children:"PedaClic"})]}),c.jsx("p",{className:"premium-hero__subtitle",children:"Accdez  tous les cours, exercices corrigs, vidos et quiz de la 6me  la Terminale. Russissez vos examens !"})]})}),c.jsx("section",{className:"premium-pricing",children:c.jsxs("div",{className:"container",children:[c.jsx("h2",{className:"section-title",children:"Choisissez votre formule"}),c.jsx("div",{className:"pricing-cards",children:Ax.map(E=>c.jsxs("div",{className:`pricing-card ${r===E.id?"pricing-card--selected":""} ${E.popular?"pricing-card--popular":""}`,onClick:()=>i(E.id),children:[E.popular&&c.jsx("span",{className:"pricing-card__badge",children:"Le plus populaire"}),c.jsxs("div",{className:"pricing-card__header",children:[c.jsx("h3",{className:"pricing-card__name",children:E.nom}),c.jsx("p",{className:"pricing-card__duration",children:E.duree})]}),c.jsxs("div",{className:"pricing-card__price",children:[E.prixOriginal&&c.jsx("span",{className:"pricing-card__original",children:j(E.prixOriginal)}),c.jsx("span",{className:"pricing-card__amount",children:j(E.prix)}),E.id==="mensuel"&&c.jsx("span",{className:"pricing-card__period",children:"/mois"})]}),E.economie&&c.jsxs("p",{className:"pricing-card__savings",children:["conomisez ",E.economie]}),c.jsx("div",{className:"pricing-card__radio",children:c.jsx("span",{className:`radio-dot ${r===E.id?"radio-dot--active":""}`})})]},E.id))}),c.jsxs("div",{className:"pricing-cta",children:[d&&c.jsxs("div",{className:"pricing-error",children:[c.jsx("span",{children:""})," ",d]}),t?c.jsx("button",{className:"btn btn--premium btn--lg",onClick:y,disabled:s,children:s?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"spinner-sm"}),"Traitement en cours..."]}):c.jsxs(c.Fragment,{children:["Payer ",j(Ax.find(E=>E.id===r)?.prix||0)]})}):c.jsxs("div",{className:"pricing-login",children:[c.jsx("p",{children:"Connectez-vous pour souscrire  Premium"}),c.jsx(Ye,{to:"/connexion",state:{from:"/premium"},className:"btn btn--primary btn--lg",children:"Se connecter"}),c.jsxs("p",{className:"pricing-login__register",children:["Pas encore inscrit ?"," ",c.jsx(Ye,{to:"/inscription",state:{from:"/premium"},children:"Crer un compte"})]})]}),c.jsxs("div",{className:"payment-methods",children:[c.jsx("p",{children:"Paiement scuris par"}),c.jsxs("div",{className:"payment-methods__logos",children:[c.jsx("span",{className:"payment-logo",children:" Orange Money"}),c.jsx("span",{className:"payment-logo",children:" Wave"}),c.jsx("span",{className:"payment-logo",children:" Free Money"}),c.jsx("span",{className:"payment-logo",children:" Carte bancaire"})]})]})]})]})}),c.jsx("section",{className:"premium-features",children:c.jsxs("div",{className:"container",children:[c.jsx("h2",{className:"section-title",children:"Tout ce que vous obtenez"}),c.jsx("p",{className:"section-subtitle",children:"Un accs complet  toutes les ressources pdagogiques"}),c.jsx("div",{className:"features-grid",children:KX.map((E,A)=>c.jsxs("div",{className:"feature-card",children:[c.jsx("span",{className:"feature-card__icon",children:E.icone}),c.jsx("h3",{className:"feature-card__title",children:E.titre}),c.jsx("p",{className:"feature-card__description",children:E.description})]},A))})]})}),c.jsx("section",{className:"premium-comparison",children:c.jsxs("div",{className:"container",children:[c.jsx("h2",{className:"section-title",children:"Gratuit vs Premium"}),c.jsxs("div",{className:"comparison-table",children:[c.jsxs("div",{className:"comparison-header",children:[c.jsx("div",{className:"comparison-feature",children:"Fonctionnalits"}),c.jsx("div",{className:"comparison-free",children:"Gratuit"}),c.jsx("div",{className:"comparison-premium",children:"Premium"})]}),[{feature:"Cours de base",free:!0,premium:!0},{feature:"Exercices avec corrections",free:!1,premium:!0},{feature:"Vidos explicatives",free:!1,premium:!0},{feature:"Quiz interactifs",free:!1,premium:!0},{feature:"Suivi de progression",free:!1,premium:!0},{feature:"Tlchargement de documents",free:!1,premium:!0},{feature:"Support prioritaire",free:!1,premium:!0},{feature:"Accs mobile optimis",free:!0,premium:!0}].map((E,A)=>c.jsxs("div",{className:"comparison-row",children:[c.jsx("div",{className:"comparison-feature",children:E.feature}),c.jsx("div",{className:"comparison-free",children:E.free?c.jsx("span",{className:"check",children:""}):c.jsx("span",{className:"cross",children:""})}),c.jsx("div",{className:"comparison-premium",children:c.jsx("span",{className:"check check--premium",children:""})})]},A))]})]})}),c.jsx("section",{className:"premium-testimonials",children:c.jsxs("div",{className:"container",children:[c.jsx("h2",{className:"section-title",children:"Ils ont choisi Premium"}),c.jsxs("div",{className:"testimonials-grid",children:[c.jsxs("div",{className:"testimonial-card",children:[c.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),c.jsx("p",{className:"testimonial-card__text",children:`"Grce  PedaClic Premium, j'ai eu 16/20 au BFEM. Les exercices corrigs m'ont beaucoup aid !"`}),c.jsxs("div",{className:"testimonial-card__author",children:[c.jsx("div",{className:"testimonial-card__avatar",children:"AN"}),c.jsxs("div",{children:[c.jsx("p",{className:"testimonial-card__name",children:"Aminata Ndiaye"}),c.jsx("p",{className:"testimonial-card__info",children:"3me - Dakar"})]})]})]}),c.jsxs("div",{className:"testimonial-card",children:[c.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),c.jsx("p",{className:"testimonial-card__text",children:'"Les vidos sont trs bien expliques. Je comprends mieux les maths maintenant. Merci PedaClic !"'}),c.jsxs("div",{className:"testimonial-card__author",children:[c.jsx("div",{className:"testimonial-card__avatar",children:"IF"}),c.jsxs("div",{children:[c.jsx("p",{className:"testimonial-card__name",children:"Ibrahima Fall"}),c.jsx("p",{className:"testimonial-card__info",children:"Terminale S - This"})]})]})]}),c.jsxs("div",{className:"testimonial-card",children:[c.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),c.jsx("p",{className:"testimonial-card__text",children:`"20 000 FCFA pour l'anne, c'est vraiment abordable. Mon fils a accs  tout ce dont il a besoin."`}),c.jsxs("div",{className:"testimonial-card__author",children:[c.jsx("div",{className:"testimonial-card__avatar",children:"FD"}),c.jsxs("div",{children:[c.jsx("p",{className:"testimonial-card__name",children:"Fatou Diop"}),c.jsx("p",{className:"testimonial-card__info",children:"Parent d'lve - Saint-Louis"})]})]})]})]})]})}),c.jsx("section",{className:"premium-faq",children:c.jsxs("div",{className:"container",children:[c.jsx("h2",{className:"section-title",children:"Questions frquentes"}),c.jsx("div",{className:"faq-list",children:GX.map((E,A)=>c.jsxs("div",{className:`faq-item ${h===A?"faq-item--open":""}`,children:[c.jsxs("button",{className:"faq-item__question",onClick:()=>w(A),"aria-expanded":h===A,children:[c.jsx("span",{children:E.question}),c.jsx("span",{className:"faq-item__icon",children:h===A?"":"+"})]}),h===A&&c.jsx("div",{className:"faq-item__answer",children:c.jsx("p",{children:E.reponse})})]},A))})]})}),c.jsx("section",{className:"premium-cta-final",children:c.jsxs("div",{className:"container",children:[c.jsx("h2",{children:"Prt  russir vos examens ?"}),c.jsx("p",{children:"Rejoignez des milliers d'lves sngalais qui ont choisi PedaClic Premium"}),c.jsx("button",{className:"btn btn--white btn--lg",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"Commencer maintenant"})]})})]})},QX=[{title:"Principal",items:[{id:"dashboard",label:"Tableau de bord",icon:"",href:"/admin"},{id:"disciplines",label:"Disciplines",icon:"",href:"/admin/disciplines"},{id:"chapitres",label:"Chapitres",icon:"",href:"/admin/chapitres"},{id:"ressources",label:"Ressources",icon:"",href:"/admin/ressources"}]},{title:"valuation",items:[{id:"quiz",label:"Quiz",icon:"",href:"/admin/quiz"},{id:"resultats",label:"Rsultats",icon:"",href:"/admin/resultats"}]},{title:"Utilisateurs",items:[{id:"utilisateurs",label:"Tous les utilisateurs",icon:"",href:"/admin/utilisateurs"},{id:"premium",label:"Abonns Premium",icon:"",href:"/admin/premium"}]},{title:"Paramtres",items:[{id:"settings",label:"Configuration",icon:"",href:"/admin/settings"}]}],Xu=({children:t,currentPage:e="dashboard"})=>{const{currentUser:n,logout:r}=Hi(),[i,s]=_.useState(!0),[l,d]=_.useState(!1),f=async()=>{try{d(!0),await r(),window.location.href="/connexion"}catch(v){console.error("Erreur lors de la dconnexion:",v),d(!1)}},h=()=>n?.displayName?n.displayName.split(" ").map(v=>v[0]).join("").toUpperCase().slice(0,2):"AD",p=()=>{switch(n?.role){case"admin":return"Administrateur";case"prof":return"Professeur";case"eleve":return"lve";default:return"Utilisateur"}};return c.jsxs("div",{className:"admin-layout",children:[c.jsxs("aside",{className:`admin-sidebar ${i?"":"admin-sidebar--collapsed"}`,children:[c.jsx("header",{className:"admin-sidebar__header",children:c.jsxs("a",{href:"/",className:"admin-sidebar__logo",children:[c.jsx("div",{className:"admin-sidebar__logo-icon",children:""}),c.jsx("span",{children:"PedaClic"})]})}),c.jsx("nav",{className:"admin-sidebar__nav",children:QX.map((v,y)=>c.jsxs("div",{className:"admin-nav__section",children:[c.jsx("h3",{className:"admin-nav__title",children:v.title}),c.jsx("ul",{className:"admin-nav__list",children:v.items.map(w=>c.jsx("li",{className:"admin-nav__item",children:c.jsxs("a",{href:w.href,className:`admin-nav__link ${e===w.id?"admin-nav__link--active":""}`,children:[c.jsx("span",{className:"admin-nav__icon",children:w.icon}),c.jsx("span",{className:"admin-nav__label",children:w.label})]})},w.id))})]},y))}),c.jsx("footer",{className:"admin-sidebar__footer",children:c.jsxs("div",{className:"admin-user",children:[c.jsx("div",{className:"admin-user__avatar",children:h()}),c.jsxs("div",{className:"admin-user__info",children:[c.jsx("div",{className:"admin-user__name",children:n?.displayName||"Administrateur"}),c.jsx("div",{className:"admin-user__role",children:p()})]}),c.jsx("button",{onClick:f,disabled:l,className:"admin-logout-btn",title:"Se dconnecter",children:l?"...":""})]})})]}),c.jsxs("main",{className:"admin-content",children:[c.jsx("button",{className:"admin-sidebar-toggle",onClick:()=>s(!i),"aria-label":"Toggle sidebar",children:""}),t]}),c.jsx("style",{children:`
        /* Bouton de dconnexion */
        .admin-logout-btn {
          width: 36px;
          height: 36px;
          border: none;
          background: rgba(255, 255, 255, 0.1);
          color: white;
          border-radius: var(--radius-md);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all var(--transition-base);
          font-size: var(--text-lg);
        }

        .admin-logout-btn:hover {
          background: rgba(255, 255, 255, 0.2);
        }

        .admin-logout-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        /* Bouton toggle sidebar (mobile) */
        .admin-sidebar-toggle {
          display: none;
          position: fixed;
          top: var(--spacing-md);
          left: var(--spacing-md);
          z-index: var(--z-fixed);
          width: 44px;
          height: 44px;
          border: none;
          background: var(--color-primary);
          color: white;
          border-radius: var(--radius-md);
          cursor: pointer;
          font-size: var(--text-xl);
        }

        @media (max-width: 768px) {
          .admin-sidebar-toggle {
            display: flex;
            align-items: center;
            justify-content: center;
          }

          .admin-sidebar {
            transform: translateX(-100%);
            transition: transform var(--transition-base);
          }

          .admin-sidebar:not(.admin-sidebar--collapsed) {
            transform: translateX(0);
          }

          .admin-content {
            padding-top: calc(var(--spacing-xl) + 44px);
          }
        }

        /* Animation de la sidebar */
        .admin-sidebar--collapsed {
          width: 80px;
        }

        .admin-sidebar--collapsed .admin-nav__label,
        .admin-sidebar--collapsed .admin-nav__title,
        .admin-sidebar--collapsed .admin-sidebar__logo span,
        .admin-sidebar--collapsed .admin-user__info {
          display: none;
        }

        .admin-sidebar--collapsed .admin-sidebar__logo {
          justify-content: center;
        }
      `})]})},lh="disciplines",IO=t=>{const e=t.data();return{id:t.id,nom:e.nom,niveau:e.niveau,classe:e.classe,ordre:e.ordre,coefficient:e.coefficient,couleur:e.couleur,icone:e.icone,description:e.description,createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()}},Ps={async getAll(t){try{const e=[Ya("ordre","asc")];t?.niveau&&e.unshift(Vi("niveau","==",t.niveau)),t?.classe&&e.unshift(Vi("classe","==",t.classe));const n=yi(wr(We,lh),...e);return(await bi(n)).docs.map(IO)}catch(e){throw console.error("Erreur lors de la rcupration des disciplines:",e),new Error("Impossible de rcuprer les disciplines")}},async getById(t){try{const e=Ut(We,lh,t),n=await bl(e);return n.exists()?IO(n):null}catch(e){throw console.error("Erreur lors de la rcupration de la discipline:",e),new Error("Impossible de rcuprer la discipline")}},async getByNiveau(t){return this.getAll({niveau:t})},async getByClasse(t){return this.getAll({classe:t})},async create(t){try{return(await au(wr(We,lh),{...t,createdAt:kn(),updatedAt:kn()})).id}catch(e){throw console.error("Erreur lors de la cration de la discipline:",e),new Error("Impossible de crer la discipline")}},async update(t,e){try{const n=Ut(We,lh,t);await Bi(n,{...e,updatedAt:kn()})}catch(n){throw console.error("Erreur lors de la mise  jour de la discipline:",n),new Error("Impossible de mettre  jour la discipline")}},async delete(t){try{const e=Ut(We,lh,t);await Om(e)}catch(e){throw console.error("Erreur lors de la suppression de la discipline:",e),new Error("Impossible de supprimer la discipline")}},async exists(t){return await this.getById(t)!==null},async countByNiveau(t){return(await this.getByNiveau(t)).length}},Bo="chapitres",Sx=t=>{const e=t.data();return{id:t.id,disciplineId:e.disciplineId,numero:e.numero,titre:e.titre,description:e.description,objectifs:e.objectifs||[],dureeEstimee:e.dureeEstimee,isPremium:e.isPremium||!1,actif:e.actif!==!1,createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()}},Fo={async getByDiscipline(t){try{const e=yi(wr(We,Bo),Vi("disciplineId","==",t),Ya("numero","asc"));return(await bi(e)).docs.map(Sx)}catch(e){throw console.error("Erreur lors de la rcupration des chapitres:",e),new Error("Impossible de rcuprer les chapitres")}},async getAll(){try{const t=yi(wr(We,Bo),Ya("numero","asc"));return(await bi(t)).docs.map(Sx)}catch(t){throw console.error("Erreur lors de la rcupration des chapitres:",t),new Error("Impossible de rcuprer les chapitres")}},async getById(t){try{const e=Ut(We,Bo,t),n=await bl(e);return n.exists()?Sx(n):null}catch(e){throw console.error("Erreur lors de la rcupration du chapitre:",e),new Error("Impossible de rcuprer le chapitre")}},async create(t){try{return(await au(wr(We,Bo),{...t,actif:t.actif!==!1,createdAt:kn(),updatedAt:kn()})).id}catch(e){throw console.error("Erreur lors de la cration du chapitre:",e),new Error("Impossible de crer le chapitre")}},async update(t,e){try{const n=Ut(We,Bo,t);await Bi(n,{...e,updatedAt:kn()})}catch(n){throw console.error("Erreur lors de la mise  jour du chapitre:",n),new Error("Impossible de mettre  jour le chapitre")}},async delete(t){try{const e=Ut(We,Bo,t);await Om(e)}catch(e){throw console.error("Erreur lors de la suppression du chapitre:",e),new Error("Impossible de supprimer le chapitre")}},async deleteByDiscipline(t){try{const e=await this.getByDiscipline(t),n=Qh(We);e.forEach(r=>{const i=Ut(We,Bo,r.id);n.delete(i)}),await n.commit()}catch(e){throw console.error("Erreur lors de la suppression des chapitres:",e),new Error("Impossible de supprimer les chapitres")}},async reorder(t,e){try{const n=Qh(We);e.forEach((r,i)=>{const s=Ut(We,Bo,r);n.update(s,{numero:i+1,updatedAt:kn()})}),await n.commit()}catch(n){throw console.error("Erreur lors de la rorganisation des chapitres:",n),new Error("Impossible de rorganiser les chapitres")}},async toggleActive(t,e){await this.update(t,{actif:e})},async countByDiscipline(t){return(await this.getByDiscipline(t)).length},async getNextNumero(t){return await this.countByDiscipline(t)+1}},YX=()=>{const{currentUser:t}=Hi(),[e,n]=_.useState({totalDisciplines:0,totalChapitres:0,totalRessources:0,ressourcesPremium:0,ressourcesGratuites:0,ressourcesParType:{cours:0,exercice:0,video:0,document:0,quiz:0}}),[r,i]=_.useState(!0),[s,l]=_.useState(null);return _.useEffect(()=>{(async()=>{try{i(!0),l(null);const[f,h,p]=await Promise.all([Ps.getAll(),Fo.getAll(),$o.getStats()]);n({totalDisciplines:f.length,totalChapitres:h.length,totalRessources:p.total,ressourcesPremium:p.premium,ressourcesGratuites:p.gratuit,ressourcesParType:p.parType})}catch(f){console.error("Erreur lors du chargement des statistiques:",f),l("Impossible de charger les statistiques")}finally{i(!1)}})()},[]),c.jsxs("div",{className:"admin-dashboard",children:[c.jsx("header",{className:"admin-page-header",children:c.jsxs("div",{className:"admin-page-header__info",children:[c.jsx("h1",{className:"admin-page-header__title",children:"Tableau de bord"}),c.jsxs("p",{className:"admin-page-header__subtitle",children:["Bienvenue, ",t?.displayName||"Administrateur"," ! Grez votre contenu pdagogique depuis cette interface."]})]})}),s&&c.jsxs("div",{className:"alert alert--error",children:[c.jsx("span",{className:"alert__icon",children:""}),c.jsx("div",{className:"alert__content",children:c.jsx("p",{className:"alert__message",children:s})})]}),r?c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Chargement des statistiques..."})]}):c.jsxs(c.Fragment,{children:[c.jsxs("section",{className:"stats-grid",children:[c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-card__icon stat-card__icon--primary",children:""}),c.jsxs("div",{className:"stat-card__content",children:[c.jsx("div",{className:"stat-card__value",children:e.totalDisciplines}),c.jsx("div",{className:"stat-card__label",children:"Disciplines"})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-card__icon stat-card__icon--secondary",children:""}),c.jsxs("div",{className:"stat-card__content",children:[c.jsx("div",{className:"stat-card__value",children:e.totalChapitres}),c.jsx("div",{className:"stat-card__label",children:"Chapitres"})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-card__icon stat-card__icon--info",children:""}),c.jsxs("div",{className:"stat-card__content",children:[c.jsx("div",{className:"stat-card__value",children:e.totalRessources}),c.jsx("div",{className:"stat-card__label",children:"Ressources"})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-card__icon stat-card__icon--warning",children:""}),c.jsxs("div",{className:"stat-card__content",children:[c.jsx("div",{className:"stat-card__value",children:e.ressourcesPremium}),c.jsx("div",{className:"stat-card__label",children:"Ressources Premium"})]})]})]}),c.jsxs("section",{className:"content-card",children:[c.jsx("div",{className:"content-card__header",children:c.jsx("h2",{children:"Rpartition des ressources par type"})}),c.jsx("div",{className:"content-card__body",children:c.jsxs("div",{className:"resource-type-grid",children:[c.jsxs("div",{className:"resource-type-item",children:[c.jsx("div",{className:"resource-item__icon resource-item__icon--cours",children:""}),c.jsxs("div",{className:"resource-type-info",children:[c.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.cours}),c.jsx("span",{className:"resource-type-label",children:"Cours"})]})]}),c.jsxs("div",{className:"resource-type-item",children:[c.jsx("div",{className:"resource-item__icon resource-item__icon--exercice",children:""}),c.jsxs("div",{className:"resource-type-info",children:[c.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.exercice}),c.jsx("span",{className:"resource-type-label",children:"Exercices"})]})]}),c.jsxs("div",{className:"resource-type-item",children:[c.jsx("div",{className:"resource-item__icon resource-item__icon--video",children:""}),c.jsxs("div",{className:"resource-type-info",children:[c.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.video}),c.jsx("span",{className:"resource-type-label",children:"Vidos"})]})]}),c.jsxs("div",{className:"resource-type-item",children:[c.jsx("div",{className:"resource-item__icon resource-item__icon--document",children:""}),c.jsxs("div",{className:"resource-type-info",children:[c.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.document}),c.jsx("span",{className:"resource-type-label",children:"Documents"})]})]}),c.jsxs("div",{className:"resource-type-item",children:[c.jsx("div",{className:"resource-item__icon resource-item__icon--quiz",children:""}),c.jsxs("div",{className:"resource-type-info",children:[c.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.quiz}),c.jsx("span",{className:"resource-type-label",children:"Quiz"})]})]})]})})]}),c.jsxs("section",{className:"content-card",style:{marginTop:"var(--spacing-xl)"},children:[c.jsx("div",{className:"content-card__header",children:c.jsx("h2",{children:"Actions rapides"})}),c.jsx("div",{className:"content-card__body",children:c.jsxs("div",{className:"quick-actions-grid",children:[c.jsxs("a",{href:"/admin/disciplines",className:"quick-action-card",children:[c.jsx("div",{className:"quick-action-icon",children:""}),c.jsxs("div",{className:"quick-action-content",children:[c.jsx("h3",{children:"Grer les disciplines"}),c.jsx("p",{children:"Ajouter, modifier ou supprimer des matires"})]})]}),c.jsxs("a",{href:"/admin/chapitres",className:"quick-action-card",children:[c.jsx("div",{className:"quick-action-icon",children:""}),c.jsxs("div",{className:"quick-action-content",children:[c.jsx("h3",{children:"Grer les chapitres"}),c.jsx("p",{children:"Organiser le contenu par chapitres"})]})]}),c.jsxs("a",{href:"/admin/ressources",className:"quick-action-card",children:[c.jsx("div",{className:"quick-action-icon",children:""}),c.jsxs("div",{className:"quick-action-content",children:[c.jsx("h3",{children:"Grer les ressources"}),c.jsx("p",{children:"Cours, exercices, vidos et documents"})]})]}),c.jsxs("a",{href:"/admin/utilisateurs",className:"quick-action-card",children:[c.jsx("div",{className:"quick-action-icon",children:""}),c.jsxs("div",{className:"quick-action-content",children:[c.jsx("h3",{children:"Grer les utilisateurs"}),c.jsx("p",{children:"lves, professeurs et administrateurs"})]})]})]})})]})]}),c.jsx("style",{children:`
        /* Grille des types de ressources */
        .resource-type-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
          gap: var(--spacing-lg);
        }

        .resource-type-item {
          display: flex;
          align-items: center;
          gap: var(--spacing-md);
          padding: var(--spacing-md);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-lg);
        }

        .resource-type-info {
          display: flex;
          flex-direction: column;
        }

        .resource-type-value {
          font-size: var(--text-2xl);
          font-weight: var(--font-bold);
          color: var(--color-text);
        }

        .resource-type-label {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        /* Actions rapides */
        .quick-actions-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
          gap: var(--spacing-lg);
        }

        .quick-action-card {
          display: flex;
          align-items: flex-start;
          gap: var(--spacing-lg);
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          text-decoration: none;
          color: inherit;
          transition: all var(--transition-base);
        }

        .quick-action-card:hover {
          border-color: var(--color-primary);
          box-shadow: var(--shadow-md);
          transform: translateY(-2px);
        }

        .quick-action-icon {
          font-size: 2rem;
          line-height: 1;
        }

        .quick-action-content h3 {
          font-size: var(--text-base);
          font-weight: var(--font-semibold);
          margin-bottom: var(--spacing-xs);
          color: var(--color-text);
        }

        .quick-action-content p {
          font-size: var(--text-sm);
          color: var(--color-text-light);
          margin: 0;
        }

        @media (max-width: 768px) {
          .resource-type-grid,
          .quick-actions-grid {
            grid-template-columns: 1fr;
          }
        }
      `})]})},RO=[{value:"college",label:"Collge"},{value:"lycee",label:"Lyce"}],Ov={college:[{value:"6eme",label:"6me"},{value:"5eme",label:"5me"},{value:"4eme",label:"4me"},{value:"3eme",label:"3me"}],lycee:[{value:"2nde",label:"Seconde"},{value:"1ere",label:"Premire"},{value:"Terminale",label:"Terminale"}]},XX=[{value:"#2563eb",label:"Bleu"},{value:"#059669",label:"Vert"},{value:"#dc2626",label:"Rouge"},{value:"#7c3aed",label:"Violet"},{value:"#ea580c",label:"Orange"},{value:"#0891b2",label:"Cyan"},{value:"#be185d",label:"Rose"},{value:"#4b5563",label:"Gris"}],Nx={nom:"",niveau:"college",classe:"6eme",ordre:1,coefficient:1,couleur:"#2563eb",icone:"",description:""},ZX=()=>{const[t,e]=_.useState([]),[n,r]=_.useState([]),[i,s]=_.useState(!0),[l,d]=_.useState(!1),[f,h]=_.useState(null),[p,v]=_.useState(null),[y,w]=_.useState(null),[j,E]=_.useState(!1),[A,T]=_.useState(!1),[k,M]=_.useState(null),[R,L]=_.useState(null),[D,O]=_.useState(Nx),[P,I]=_.useState({}),[B,U]=_.useState(""),[z,q]=_.useState(""),[pe,Ee]=_.useState(""),F=_.useCallback(async()=>{try{s(!0),v(null);const W=await Ps.getAll();e(W),r(W)}catch(W){console.error("Erreur lors du chargement:",W),v("Impossible de charger les disciplines. Veuillez ressayer.")}finally{s(!1)}},[]);_.useEffect(()=>{F()},[F]),_.useEffect(()=>{let W=[...t];if(B&&(W=W.filter(be=>be.niveau===B)),z&&(W=W.filter(be=>be.classe===z)),pe){const be=pe.toLowerCase();W=W.filter(Le=>Le.nom.toLowerCase().includes(be)||Le.description?.toLowerCase().includes(be))}r(W)},[t,B,z,pe]);const J=()=>{const W={};return D.nom.trim()?D.nom.length<2&&(W.nom="Le nom doit contenir au moins 2 caractres"):W.nom="Le nom de la discipline est requis",D.niveau||(W.niveau="Veuillez slectionner un niveau"),D.classe||(W.classe="Veuillez slectionner une classe"),D.ordre<1&&(W.ordre="L'ordre doit tre suprieur  0"),I(W),Object.keys(W).length===0},fe=()=>{M(null),O(Nx),I({}),E(!0)},we=W=>{M(W),O({nom:W.nom,niveau:W.niveau,classe:W.classe,ordre:W.ordre,coefficient:W.coefficient,couleur:W.couleur,icone:W.icone,description:W.description}),I({}),E(!0)},_e=W=>{L(W),T(!0)},H=()=>{E(!1),T(!1),M(null),L(null),O(Nx),I({})},ie=W=>{const{name:be,value:Le,type:se}=W.target;if(be==="niveau"){const Se=Le;O(Q=>({...Q,niveau:Se,classe:Ov[Se][0].value}))}else O(Se=>({...Se,[be]:se==="number"?Number(Le):Le}));P[be]&&I(Se=>({...Se,[be]:void 0}))},ge=async W=>{if(W.preventDefault(),!!J())try{d(!0),v(null),k?(await Ps.update(k.id,D),w("Discipline modifie avec succs !")):(await Ps.create(D),w("Discipline cre avec succs !")),H(),await F(),setTimeout(()=>w(null),3e3)}catch(be){console.error("Erreur lors de la sauvegarde:",be),v("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{d(!1)}},xe=async()=>{if(R)try{h(R.id),await Ps.delete(R.id),w("Discipline supprime avec succs !"),H(),await F(),setTimeout(()=>w(null),3e3)}catch(W){console.error("Erreur lors de la suppression:",W),v("Erreur lors de la suppression. Veuillez ressayer.")}finally{h(null)}},Y=W=>{for(const be of Object.values(Ov)){const Le=be.find(se=>se.value===W);if(Le)return Le.label}return W};return c.jsxs("div",{className:"discipline-manager",children:[c.jsxs("header",{className:"admin-page-header",children:[c.jsxs("div",{className:"admin-page-header__info",children:[c.jsx("h1",{className:"admin-page-header__title",children:"Gestion des Disciplines"}),c.jsx("p",{className:"admin-page-header__subtitle",children:"Grez les matires enseignes sur PedaClic"})]}),c.jsx("div",{className:"admin-page-header__actions",children:c.jsxs("button",{onClick:fe,className:"btn btn--primary",children:[c.jsx("span",{children:""}),"Nouvelle discipline"]})})]}),p&&c.jsxs("div",{className:"alert alert--error",children:[c.jsx("span",{className:"alert__icon",children:""}),c.jsx("div",{className:"alert__content",children:c.jsx("p",{className:"alert__message",children:p})}),c.jsx("button",{onClick:()=>v(null),className:"alert__close",children:""})]}),y&&c.jsxs("div",{className:"alert alert--success",children:[c.jsx("span",{className:"alert__icon",children:""}),c.jsx("div",{className:"alert__content",children:c.jsx("p",{className:"alert__message",children:y})})]}),c.jsxs("div",{className:"admin-table-container",children:[c.jsxs("div",{className:"admin-table-header",children:[c.jsxs("h2",{className:"admin-table-title",children:["Liste des disciplines (",n.length,")"]}),c.jsxs("div",{className:"admin-table-actions",children:[c.jsxs("div",{className:"search-input",children:[c.jsx("span",{className:"search-input__icon",children:""}),c.jsx("input",{type:"text",className:"search-input__field",placeholder:"Rechercher...",value:pe,onChange:W=>Ee(W.target.value)})]}),c.jsxs("select",{className:"form-select",value:B,onChange:W=>U(W.target.value),style:{width:"auto"},children:[c.jsx("option",{value:"",children:"Tous les niveaux"}),RO.map(W=>c.jsx("option",{value:W.value,children:W.label},W.value))]}),c.jsxs("select",{className:"form-select",value:z,onChange:W=>q(W.target.value),style:{width:"auto"},disabled:!B,children:[c.jsx("option",{value:"",children:"Toutes les classes"}),B&&Ov[B].map(W=>c.jsx("option",{value:W.value,children:W.label},W.value))]})]})]}),i?c.jsxs("div",{className:"loading-container",style:{padding:"var(--spacing-2xl)"},children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Chargement des disciplines..."})]}):n.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-state__icon",children:""}),c.jsx("h3",{className:"empty-state__title",children:"Aucune discipline trouve"}),c.jsx("p",{className:"empty-state__message",children:pe||B||z?"Aucune discipline ne correspond aux critres de recherche.":"Commencez par crer votre premire discipline."}),!pe&&!B&&!z&&c.jsx("button",{onClick:fe,className:"btn btn--primary",children:"Crer une discipline"})]}):c.jsxs("table",{className:"admin-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Discipline"}),c.jsx("th",{children:"Niveau"}),c.jsx("th",{children:"Classe"}),c.jsx("th",{children:"Coefficient"}),c.jsx("th",{children:"Ordre"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:n.map(W=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsxs("div",{className:"table-cell-icon",children:[c.jsx("div",{className:"table-icon",style:{backgroundColor:`${W.couleur}20`,color:W.couleur},children:W.icone||""}),c.jsxs("div",{children:[c.jsx("strong",{children:W.nom}),W.description&&c.jsx("div",{className:"text-muted text-sm",children:W.description})]})]})}),c.jsx("td",{children:c.jsx("span",{className:`badge badge--${W.niveau==="college"?"primary":"secondary"}`,children:W.niveau==="college"?"Collge":"Lyce"})}),c.jsx("td",{children:Y(W.classe)}),c.jsx("td",{children:W.coefficient||"-"}),c.jsx("td",{children:W.ordre}),c.jsx("td",{children:c.jsxs("div",{className:"table-actions",children:[c.jsx("button",{onClick:()=>we(W),className:"table-action-btn table-action-btn--edit",title:"Modifier",children:""}),c.jsx("button",{onClick:()=>_e(W),className:"table-action-btn table-action-btn--delete",title:"Supprimer",disabled:f===W.id,children:f===W.id?"":""})]})})]},W.id))})]})]}),j&&c.jsx("div",{className:"modal-overlay",onClick:H,children:c.jsxs("div",{className:"modal modal--lg",onClick:W=>W.stopPropagation(),children:[c.jsxs("div",{className:"modal__header",children:[c.jsx("h2",{className:"modal__title",children:k?"Modifier la discipline":"Nouvelle discipline"}),c.jsx("button",{onClick:H,className:"modal__close",children:""})]}),c.jsxs("form",{onSubmit:ge,children:[c.jsxs("div",{className:"modal__body",children:[c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",style:{flex:2},children:[c.jsx("label",{className:"form-label form-label--required",children:"Nom de la discipline"}),c.jsx("input",{type:"text",name:"nom",className:`form-input ${P.nom?"form-input--error":""}`,placeholder:"Ex: Mathmatiques, Franais, SVT...",value:D.nom,onChange:ie}),P.nom&&c.jsx("span",{className:"form-error",children:P.nom})]}),c.jsxs("div",{className:"form-group",style:{flex:1},children:[c.jsx("label",{className:"form-label",children:"Icne"}),c.jsx("input",{type:"text",name:"icone",className:"form-input",placeholder:"",value:D.icone||"",onChange:ie,maxLength:4}),c.jsx("span",{className:"form-helper",children:"Emoji uniquement"})]})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label form-label--required",children:"Niveau"}),c.jsx("select",{name:"niveau",className:`form-select ${P.niveau?"form-select--error":""}`,value:D.niveau,onChange:ie,children:RO.map(W=>c.jsx("option",{value:W.value,children:W.label},W.value))}),P.niveau&&c.jsx("span",{className:"form-error",children:P.niveau})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label form-label--required",children:"Classe"}),c.jsx("select",{name:"classe",className:`form-select ${P.classe?"form-select--error":""}`,value:D.classe,onChange:ie,children:Ov[D.niveau].map(W=>c.jsx("option",{value:W.value,children:W.label},W.value))}),P.classe&&c.jsx("span",{className:"form-error",children:P.classe})]})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Coefficient"}),c.jsx("input",{type:"number",name:"coefficient",className:"form-input",min:"1",max:"10",value:D.coefficient||1,onChange:ie}),c.jsx("span",{className:"form-helper",children:"Pour les calculs de moyennes"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label form-label--required",children:"Ordre d'affichage"}),c.jsx("input",{type:"number",name:"ordre",className:`form-input ${P.ordre?"form-input--error":""}`,min:"1",value:D.ordre,onChange:ie}),P.ordre&&c.jsx("span",{className:"form-error",children:P.ordre})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Couleur"}),c.jsx("div",{className:"color-picker",children:XX.map(W=>c.jsx("button",{type:"button",className:`color-option ${D.couleur===W.value?"color-option--active":""}`,style:{backgroundColor:W.value},onClick:()=>O(be=>({...be,couleur:W.value})),title:W.label,children:D.couleur===W.value&&""},W.value))})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Description (optionnel)"}),c.jsx("textarea",{name:"description",className:"form-textarea",placeholder:"Description courte de la discipline...",rows:3,value:D.description||"",onChange:ie})]})]}),c.jsxs("div",{className:"modal__footer",children:[c.jsx("button",{type:"button",onClick:H,className:"btn btn--outline",disabled:l,children:"Annuler"}),c.jsx("button",{type:"submit",className:"btn btn--primary",disabled:l,children:l?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"spinner-small"}),"Enregistrement..."]}):k?"Mettre  jour":"Crer la discipline"})]})]})]})}),A&&R&&c.jsx("div",{className:"modal-overlay",onClick:H,children:c.jsxs("div",{className:"modal",onClick:W=>W.stopPropagation(),children:[c.jsxs("div",{className:"modal__header",children:[c.jsx("h2",{className:"modal__title",children:"Confirmer la suppression"}),c.jsx("button",{onClick:H,className:"modal__close",children:""})]}),c.jsxs("div",{className:"modal__body",children:[c.jsxs("p",{children:["tes-vous sr de vouloir supprimer la discipline",c.jsxs("strong",{children:[" ",R.nom]})," ?"]}),c.jsxs("div",{className:"alert alert--warning",style:{marginTop:"var(--spacing-md)"},children:[c.jsx("span",{className:"alert__icon",children:""}),c.jsx("div",{className:"alert__content",children:c.jsx("p",{className:"alert__message",children:"Cette action est irrversible. Tous les chapitres et ressources associs devront tre supprims manuellement."})})]})]}),c.jsxs("div",{className:"modal__footer",children:[c.jsx("button",{onClick:H,className:"btn btn--outline",disabled:f!==null,children:"Annuler"}),c.jsx("button",{onClick:xe,className:"btn btn--danger",disabled:f!==null,children:f?"Suppression...":"Supprimer"})]})]})}),c.jsx("style",{children:`
        /* Ligne de formulaire */
        .form-row {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: var(--spacing-lg);
        }

        @media (max-width: 600px) {
          .form-row {
            grid-template-columns: 1fr;
          }
        }

        /* Slecteur de couleur */
        .color-picker {
          display: flex;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
        }

        .color-option {
          width: 36px;
          height: 36px;
          border: 2px solid transparent;
          border-radius: var(--radius-md);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-weight: bold;
          transition: all var(--transition-base);
        }

        .color-option:hover {
          transform: scale(1.1);
        }

        .color-option--active {
          border-color: var(--color-text);
          box-shadow: 0 0 0 2px white, 0 0 0 4px var(--color-text);
        }

        /* Fermer l'alerte */
        .alert__close {
          background: none;
          border: none;
          cursor: pointer;
          font-size: var(--text-lg);
          opacity: 0.7;
          transition: opacity var(--transition-base);
        }

        .alert__close:hover {
          opacity: 1;
        }

        /* Spinner petit pour les boutons */
        .spinner-small {
          width: 16px;
          height: 16px;
          border: 2px solid rgba(255, 255, 255, 0.3);
          border-top-color: white;
          border-radius: 50%;
          animation: spin 0.8s linear infinite;
        }

        /* Ajustement du form-select */
        .form-select {
          min-width: 150px;
        }
      `})]})},kO={numero:1,titre:"",description:"",objectifs:[],dureeEstimee:void 0,isPremium:!1,actif:!0},JX=()=>{const[t,e]=_.useState([]),[n,r]=_.useState([]),[i,s]=_.useState(""),[l,d]=_.useState(!0),[f,h]=_.useState(!1),[p,v]=_.useState(!1),[y,w]=_.useState(null),[j,E]=_.useState(null),[A,T]=_.useState(null),[k,M]=_.useState(!1),[R,L]=_.useState(!1),[D,O]=_.useState(null),[P,I]=_.useState(null),[B,U]=_.useState({...kO,disciplineId:""}),[z,q]=_.useState({}),[pe,Ee]=_.useState(""),F=_.useCallback(async()=>{try{d(!0);const Q=await Ps.getAll();e(Q),Q.length>0&&!i&&s(Q[0].id)}catch(Q){console.error("Erreur lors du chargement des disciplines:",Q),E("Impossible de charger les disciplines.")}finally{d(!1)}},[i]),J=_.useCallback(async()=>{if(!i){r([]);return}try{h(!0);const Q=await Fo.getByDiscipline(i);r(Q)}catch(Q){console.error("Erreur lors du chargement des chapitres:",Q),E("Impossible de charger les chapitres.")}finally{h(!1)}},[i]);_.useEffect(()=>{F()},[F]),_.useEffect(()=>{J()},[J]);const fe=()=>{const Q={};return B.disciplineId||(Q.disciplineId="Veuillez slectionner une discipline"),B.titre.trim()?B.titre.length<3&&(Q.titre="Le titre doit contenir au moins 3 caractres"):Q.titre="Le titre du chapitre est requis",B.numero<1&&(Q.numero="Le numro doit tre suprieur  0"),q(Q),Object.keys(Q).length===0},we=Q=>{s(Q),E(null)},_e=async()=>{const Q=await Fo.getNextNumero(i);O(null),U({...kO,disciplineId:i,numero:Q}),q({}),Ee(""),M(!0)},H=Q=>{O(Q),U({disciplineId:Q.disciplineId,numero:Q.numero,titre:Q.titre,description:Q.description,objectifs:Q.objectifs||[],dureeEstimee:Q.dureeEstimee,isPremium:Q.isPremium,actif:Q.actif}),q({}),Ee(""),M(!0)},ie=Q=>{I(Q),L(!0)},ge=()=>{M(!1),L(!1),O(null),I(null),q({}),Ee("")},xe=Q=>{const{name:me,value:De,type:Be}=Q.target,it=Q.target.checked;U(dt=>({...dt,[me]:Be==="checkbox"?it:Be==="number"?Number(De):De})),z[me]&&q(dt=>({...dt,[me]:void 0}))},Y=()=>{pe.trim()&&(U(Q=>({...Q,objectifs:[...Q.objectifs||[],pe.trim()]})),Ee(""))},W=Q=>{U(me=>({...me,objectifs:(me.objectifs||[]).filter((De,Be)=>Be!==Q)}))},be=async Q=>{if(Q.preventDefault(),!!fe())try{v(!0),E(null),D?(await Fo.update(D.id,B),T("Chapitre modifi avec succs !")):(await Fo.create(B),T("Chapitre cr avec succs !")),ge(),await J(),setTimeout(()=>T(null),3e3)}catch(me){console.error("Erreur lors de la sauvegarde:",me),E("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{v(!1)}},Le=async()=>{if(P)try{w(P.id),await Fo.delete(P.id),T("Chapitre supprim avec succs !"),ge(),await J(),setTimeout(()=>T(null),3e3)}catch(Q){console.error("Erreur lors de la suppression:",Q),E("Erreur lors de la suppression. Veuillez ressayer.")}finally{w(null)}},se=async Q=>{try{await Fo.toggleActive(Q.id,!Q.actif),await J(),T(Q.actif?"Chapitre dsactiv":"Chapitre activ"),setTimeout(()=>T(null),2e3)}catch{E("Erreur lors de la mise  jour")}},Se=Q=>{const me=t.find(De=>De.id===Q);return me?me.nom:"Non trouve"};return c.jsxs("div",{className:"chapitre-manager",children:[c.jsxs("header",{className:"admin-page-header",children:[c.jsxs("div",{className:"admin-page-header__info",children:[c.jsx("h1",{className:"admin-page-header__title",children:"Gestion des Chapitres"}),c.jsx("p",{className:"admin-page-header__subtitle",children:"Organisez le contenu pdagogique par chapitres"})]}),c.jsx("div",{className:"admin-page-header__actions",children:c.jsxs("button",{onClick:_e,className:"btn btn--primary",disabled:!i||l,children:[c.jsx("span",{children:""}),"Nouveau chapitre"]})})]}),j&&c.jsxs("div",{className:"alert alert--error",children:[c.jsx("span",{className:"alert__icon",children:""}),c.jsx("div",{className:"alert__content",children:c.jsx("p",{className:"alert__message",children:j})}),c.jsx("button",{onClick:()=>E(null),className:"alert__close",children:""})]}),A&&c.jsxs("div",{className:"alert alert--success",children:[c.jsx("span",{className:"alert__icon",children:""}),c.jsx("div",{className:"alert__content",children:c.jsx("p",{className:"alert__message",children:A})})]}),c.jsx("div",{className:"content-card",style:{marginBottom:"var(--spacing-lg)"},children:c.jsx("div",{className:"content-card__body",children:c.jsxs("div",{className:"discipline-selector",children:[c.jsx("label",{className:"form-label",children:"Slectionner une discipline :"}),l?c.jsx("p",{className:"text-muted",children:"Chargement des disciplines..."}):t.length===0?c.jsxs("p",{className:"text-muted",children:["Aucune discipline disponible.",c.jsx("a",{href:"/admin/disciplines",children:" Crer une discipline"})]}):c.jsx("div",{className:"discipline-tabs",children:t.map(Q=>c.jsxs("button",{className:`discipline-tab ${i===Q.id?"discipline-tab--active":""}`,onClick:()=>we(Q.id),style:{"--discipline-color":Q.couleur||"#2563eb"},children:[c.jsx("span",{className:"discipline-tab__icon",children:Q.icone||""}),c.jsx("span",{className:"discipline-tab__name",children:Q.nom}),c.jsx("span",{className:"discipline-tab__class",children:Q.classe})]},Q.id))})]})})}),c.jsxs("div",{className:"admin-table-container",children:[c.jsx("div",{className:"admin-table-header",children:c.jsxs("h2",{className:"admin-table-title",children:["Chapitres ",i&&`- ${Se(i)}`,n.length>0&&` (${n.length})`]})}),f?c.jsxs("div",{className:"loading-container",style:{padding:"var(--spacing-2xl)"},children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Chargement des chapitres..."})]}):i?n.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-state__icon",children:""}),c.jsx("h3",{className:"empty-state__title",children:"Aucun chapitre"}),c.jsx("p",{className:"empty-state__message",children:"Cette discipline n'a pas encore de chapitres."}),c.jsx("button",{onClick:_e,className:"btn btn--primary",children:"Crer le premier chapitre"})]}):c.jsx("div",{className:"chapitres-list",children:n.map(Q=>c.jsxs("div",{className:`chapitre-card ${Q.actif?"":"chapitre-card--inactive"}`,children:[c.jsx("div",{className:"chapitre-card__number",children:Q.numero}),c.jsxs("div",{className:"chapitre-card__content",children:[c.jsxs("h3",{className:"chapitre-card__title",children:[Q.titre,Q.isPremium&&c.jsx("span",{className:"badge badge--premium",children:"Premium"}),!Q.actif&&c.jsx("span",{className:"badge badge--warning",children:"Inactif"})]}),Q.description&&c.jsx("p",{className:"chapitre-card__description",children:Q.description}),c.jsxs("div",{className:"chapitre-card__meta",children:[Q.dureeEstimee&&c.jsxs("span",{children:[" ",Q.dureeEstimee,"h estime"]}),Q.objectifs&&Q.objectifs.length>0&&c.jsxs("span",{children:[" ",Q.objectifs.length," objectif(s)"]})]})]}),c.jsxs("div",{className:"chapitre-card__actions",children:[c.jsx("button",{onClick:()=>se(Q),className:`table-action-btn ${Q.actif?"table-action-btn--view":"table-action-btn--edit"}`,title:Q.actif?"Dsactiver":"Activer",children:Q.actif?"":""}),c.jsx("button",{onClick:()=>H(Q),className:"table-action-btn table-action-btn--edit",title:"Modifier",children:""}),c.jsx("button",{onClick:()=>ie(Q),className:"table-action-btn table-action-btn--delete",title:"Supprimer",disabled:y===Q.id,children:y===Q.id?"":""})]})]},Q.id))}):c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-state__icon",children:""}),c.jsx("h3",{className:"empty-state__title",children:"Slectionnez une discipline"}),c.jsx("p",{className:"empty-state__message",children:"Choisissez une discipline ci-dessus pour voir ses chapitres."})]})]}),k&&c.jsx("div",{className:"modal-overlay",onClick:ge,children:c.jsxs("div",{className:"modal modal--lg",onClick:Q=>Q.stopPropagation(),children:[c.jsxs("div",{className:"modal__header",children:[c.jsx("h2",{className:"modal__title",children:D?"Modifier le chapitre":"Nouveau chapitre"}),c.jsx("button",{onClick:ge,className:"modal__close",children:""})]}),c.jsxs("form",{onSubmit:be,children:[c.jsxs("div",{className:"modal__body",children:[!D&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label form-label--required",children:"Discipline"}),c.jsxs("select",{name:"disciplineId",className:`form-select ${z.disciplineId?"form-select--error":""}`,value:B.disciplineId,onChange:xe,children:[c.jsx("option",{value:"",children:"Slectionner une discipline"}),t.map(Q=>c.jsxs("option",{value:Q.id,children:[Q.icone," ",Q.nom," (",Q.classe,")"]},Q.id))]}),z.disciplineId&&c.jsx("span",{className:"form-error",children:z.disciplineId})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",style:{flex:"0 0 100px"},children:[c.jsx("label",{className:"form-label form-label--required",children:"N"}),c.jsx("input",{type:"number",name:"numero",className:`form-input ${z.numero?"form-input--error":""}`,min:"1",value:B.numero,onChange:xe}),z.numero&&c.jsx("span",{className:"form-error",children:z.numero})]}),c.jsxs("div",{className:"form-group",style:{flex:1},children:[c.jsx("label",{className:"form-label form-label--required",children:"Titre du chapitre"}),c.jsx("input",{type:"text",name:"titre",className:`form-input ${z.titre?"form-input--error":""}`,placeholder:"Ex: Les fractions, La Rvolution franaise...",value:B.titre,onChange:xe}),z.titre&&c.jsx("span",{className:"form-error",children:z.titre})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Description"}),c.jsx("textarea",{name:"description",className:"form-textarea",rows:3,placeholder:"Description du chapitre...",value:B.description||"",onChange:xe})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Objectifs pdagogiques"}),c.jsxs("div",{className:"objectifs-input",children:[c.jsx("input",{type:"text",className:"form-input",placeholder:"Ajouter un objectif...",value:pe,onChange:Q=>Ee(Q.target.value),onKeyPress:Q=>Q.key==="Enter"&&(Q.preventDefault(),Y())}),c.jsx("button",{type:"button",onClick:Y,className:"btn btn--outline btn--sm",children:"Ajouter"})]}),B.objectifs&&B.objectifs.length>0&&c.jsx("ul",{className:"objectifs-list",children:B.objectifs.map((Q,me)=>c.jsxs("li",{className:"objectif-item",children:[c.jsxs("span",{children:[" ",Q]}),c.jsx("button",{type:"button",onClick:()=>W(me),className:"objectif-remove",children:""})]},me))})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Dure estime (heures)"}),c.jsx("input",{type:"number",name:"dureeEstimee",className:"form-input",min:"0",step:"0.5",placeholder:"Ex: 2",value:B.dureeEstimee||"",onChange:xe})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Options"}),c.jsxs("div",{className:"form-options",children:[c.jsxs("label",{className:"form-checkbox",children:[c.jsx("input",{type:"checkbox",name:"isPremium",checked:B.isPremium,onChange:xe}),c.jsx("span",{children:"Contenu Premium "})]}),c.jsxs("label",{className:"form-checkbox",children:[c.jsx("input",{type:"checkbox",name:"actif",checked:B.actif!==!1,onChange:xe}),c.jsx("span",{children:"Chapitre actif"})]})]})]})]})]}),c.jsxs("div",{className:"modal__footer",children:[c.jsx("button",{type:"button",onClick:ge,className:"btn btn--outline",disabled:p,children:"Annuler"}),c.jsx("button",{type:"submit",className:"btn btn--primary",disabled:p,children:p?"Enregistrement...":D?"Mettre  jour":"Crer le chapitre"})]})]})]})}),R&&P&&c.jsx("div",{className:"modal-overlay",onClick:ge,children:c.jsxs("div",{className:"modal",onClick:Q=>Q.stopPropagation(),children:[c.jsxs("div",{className:"modal__header",children:[c.jsx("h2",{className:"modal__title",children:"Confirmer la suppression"}),c.jsx("button",{onClick:ge,className:"modal__close",children:""})]}),c.jsxs("div",{className:"modal__body",children:[c.jsxs("p",{children:["Supprimer le chapitre ",c.jsxs("strong",{children:[P.numero,". ",P.titre]})," ?"]}),c.jsxs("div",{className:"alert alert--warning",style:{marginTop:"var(--spacing-md)"},children:[c.jsx("span",{className:"alert__icon",children:""}),c.jsx("div",{className:"alert__content",children:c.jsx("p",{className:"alert__message",children:"Les ressources associes ne seront pas supprimes automatiquement."})})]})]}),c.jsxs("div",{className:"modal__footer",children:[c.jsx("button",{onClick:ge,className:"btn btn--outline",children:"Annuler"}),c.jsx("button",{onClick:Le,className:"btn btn--danger",disabled:y!==null,children:y?"Suppression...":"Supprimer"})]})]})}),c.jsx("style",{children:`
        /* Slecteur de discipline */
        .discipline-tabs {
          display: flex;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
          margin-top: var(--spacing-md);
        }

        .discipline-tab {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          padding: var(--spacing-sm) var(--spacing-md);
          border: 2px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: white;
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .discipline-tab:hover {
          border-color: var(--discipline-color, var(--color-primary));
        }

        .discipline-tab--active {
          border-color: var(--discipline-color, var(--color-primary));
          background: color-mix(in srgb, var(--discipline-color, var(--color-primary)) 10%, white);
        }

        .discipline-tab__icon {
          font-size: var(--text-lg);
        }

        .discipline-tab__name {
          font-weight: var(--font-medium);
        }

        .discipline-tab__class {
          font-size: var(--text-xs);
          color: var(--color-text-light);
          background: var(--color-bg-secondary);
          padding: 2px 6px;
          border-radius: var(--radius-sm);
        }

        /* Liste des chapitres */
        .chapitres-list {
          display: flex;
          flex-direction: column;
          gap: var(--spacing-md);
          padding: var(--spacing-lg);
        }

        .chapitre-card {
          display: flex;
          align-items: center;
          gap: var(--spacing-lg);
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          transition: all var(--transition-base);
        }

        .chapitre-card:hover {
          border-color: var(--color-primary);
          box-shadow: var(--shadow-md);
        }

        .chapitre-card--inactive {
          opacity: 0.6;
          background: var(--color-bg-tertiary);
        }

        .chapitre-card__number {
          width: 48px;
          height: 48px;
          background: var(--color-primary);
          color: white;
          border-radius: var(--radius-md);
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: var(--text-xl);
          font-weight: var(--font-bold);
          flex-shrink: 0;
        }

        .chapitre-card__content {
          flex: 1;
          min-width: 0;
        }

        .chapitre-card__title {
          font-size: var(--text-base);
          font-weight: var(--font-semibold);
          margin-bottom: var(--spacing-xs);
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
        }

        .chapitre-card__description {
          font-size: var(--text-sm);
          color: var(--color-text-light);
          margin: 0 0 var(--spacing-sm);
        }

        .chapitre-card__meta {
          display: flex;
          gap: var(--spacing-lg);
          font-size: var(--text-xs);
          color: var(--color-text-lighter);
        }

        .chapitre-card__actions {
          display: flex;
          gap: var(--spacing-sm);
        }

        /* Formulaire: Ligne */
        .form-row {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: var(--spacing-lg);
        }

        @media (max-width: 600px) {
          .form-row {
            grid-template-columns: 1fr;
          }
        }

        /* Objectifs */
        .objectifs-input {
          display: flex;
          gap: var(--spacing-sm);
        }

        .objectifs-list {
          list-style: none;
          margin-top: var(--spacing-md);
        }

        .objectif-item {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: var(--spacing-sm) var(--spacing-md);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-md);
          margin-bottom: var(--spacing-xs);
        }

        .objectif-remove {
          background: none;
          border: none;
          cursor: pointer;
          color: var(--color-error);
          opacity: 0.7;
        }

        .objectif-remove:hover {
          opacity: 1;
        }

        /* Options */
        .form-options {
          display: flex;
          flex-direction: column;
          gap: var(--spacing-sm);
          margin-top: var(--spacing-sm);
        }
      `})]})},Iv=[{value:"cours",label:"Cours",icon:"",color:"#2563eb"},{value:"exercice",label:"Exercice",icon:"",color:"#10b981"},{value:"video",label:"Vido",icon:"",color:"#ef4444"},{value:"document",label:"Document",icon:"",color:"#f59e0b"},{value:"quiz",label:"Quiz",icon:"",color:"#8b5cf6"}],Rv={cours:[".pdf",".doc",".docx",".ppt",".pptx"],exercice:[".pdf",".doc",".docx"],video:[".mp4",".webm",".mov",".avi"],document:[".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx"],quiz:[".json",".pdf"]},Tx=50,DO={titre:"",type:"cours",description:"",contenu:"",chapitreId:"",ordre:1,isPremium:!1,actif:!0,tags:[],duree:void 0,urlExterne:""},eZ=()=>{const{currentUser:t}=Hi(),[e,n]=_.useState([]),[r,i]=_.useState([]),[s,l]=_.useState([]),[d,f]=_.useState([]),[h,p]=_.useState(""),[v,y]=_.useState(""),[w,j]=_.useState(""),[E,A]=_.useState(""),[T,k]=_.useState(""),[M,R]=_.useState(!0),[L,D]=_.useState(!1),[O,P]=_.useState(!1),[I,B]=_.useState(!1),[U,z]=_.useState(null),[q,pe]=_.useState(!1),[Ee,F]=_.useState(0),[J,fe]=_.useState(null),[we,_e]=_.useState(null),[H,ie]=_.useState(!1),[ge,xe]=_.useState(!1),[Y,W]=_.useState(!1),[be,Le]=_.useState(null),[se,Se]=_.useState(null),[Q,me]=_.useState(null),[De,Be]=_.useState({...DO,disciplineId:""}),[it,dt]=_.useState({}),[vt,hr]=_.useState(null),[Ot,It]=_.useState(null),Mr=_.useRef(null),[ce,Ie]=_.useState(""),Ue=_.useCallback(async()=>{try{R(!0);const Z=await Ps.getAll();n(Z),Z.length>0&&!h&&p(Z[0].id)}catch(Z){console.error("Erreur lors du chargement des disciplines:",Z),fe("Impossible de charger les disciplines.")}finally{R(!1)}},[h]),Ke=_.useCallback(async()=>{if(!h){i([]);return}try{D(!0);const Z=await Fo.getByDiscipline(h);i(Z)}catch(Z){console.error("Erreur lors du chargement des chapitres:",Z)}finally{D(!1)}},[h]),Lt=_.useCallback(async()=>{if(!h){l([]),f([]);return}try{P(!0);const Z=await $o.getByDiscipline(h);l(Z),f(Z)}catch(Z){console.error("Erreur lors du chargement des ressources:",Z),fe("Impossible de charger les ressources.")}finally{P(!1)}},[h]);_.useEffect(()=>{Ue()},[Ue]),_.useEffect(()=>{Ke()},[Ke]),_.useEffect(()=>{Lt()},[Lt]),_.useEffect(()=>{let Z=[...s];if(v&&(Z=Z.filter(Ve=>Ve.chapitreId===v)),w&&(Z=Z.filter(Ve=>Ve.type===w)),E==="premium"?Z=Z.filter(Ve=>Ve.isPremium):E==="free"&&(Z=Z.filter(Ve=>!Ve.isPremium)),T){const Ve=T.toLowerCase();Z=Z.filter(mt=>mt.titre.toLowerCase().includes(Ve)||mt.description?.toLowerCase().includes(Ve)||mt.tags?.some(Fn=>Fn.toLowerCase().includes(Ve)))}f(Z)},[s,v,w,E,T]);const zn=()=>{const Z={};if(De.disciplineId||(Z.disciplineId="Veuillez slectionner une discipline"),De.titre.trim()?De.titre.length<3&&(Z.titre="Le titre doit contenir au moins 3 caractres"):Z.titre="Le titre est requis",De.type||(Z.type="Veuillez slectionner un type de ressource"),vt){const Ve="."+vt.name.split(".").pop()?.toLowerCase(),mt=Rv[De.type];mt.includes(Ve)||(Z.fichier=`Extension non autorise. Extensions acceptes : ${mt.join(", ")}`),vt.size/(1024*1024)>Tx&&(Z.fichier=`Le fichier est trop volumineux (max ${Tx} Mo)`)}return dt(Z),Object.keys(Z).length===0},zr=Z=>{p(Z),y(""),fe(null)},oo=()=>{Le(null),Be({...DO,disciplineId:h}),dt({}),hr(null),It(null),Ie(""),ie(!0)},Lr=Z=>{Le(Z),Be({disciplineId:Z.disciplineId,titre:Z.titre,type:Z.type,description:Z.description,contenu:Z.contenu,chapitreId:Z.chapitreId||"",ordre:Z.ordre,isPremium:Z.isPremium,actif:Z.actif,tags:Z.tags||[],duree:Z.duree,urlExterne:Z.urlExterne||""}),dt({}),hr(null),It(Z.fichierUrl||null),Ie(""),ie(!0)},Gi=Z=>{me(Z),W(!0)},lu=Z=>{Se(Z),xe(!0)},rn=()=>{ie(!1),xe(!1),W(!1),Le(null),Se(null),me(null),dt({}),hr(null),It(null),Ie("")},St=Z=>{const{name:Ve,value:mt,type:Fn}=Z.target,Ll=Z.target.checked;Be(Ur=>({...Ur,[Ve]:Fn==="checkbox"?Ll:Fn==="number"?Number(mt):mt})),it[Ve]&&dt(Ur=>({...Ur,[Ve]:void 0}))},Vr=Z=>{const Ve=Z.target.files?.[0];if(Ve)if(hr(Ve),dt(mt=>({...mt,fichier:void 0})),Ve.type.startsWith("image/")||Ve.type.startsWith("video/")){const mt=new FileReader;mt.onloadend=()=>{It(mt.result)},mt.readAsDataURL(Ve)}else It(null)},en=()=>{hr(null),It(null),Mr.current&&(Mr.current.value="")},zl=()=>{ce.trim()&&!De.tags?.includes(ce.trim())&&(Be(Z=>({...Z,tags:[...Z.tags||[],ce.trim()]})),Ie(""))},lo=Z=>{Be(Ve=>({...Ve,tags:(Ve.tags||[]).filter((mt,Fn)=>Fn!==Z)}))},cu=async Z=>{if(Z.preventDefault(),!!zn())try{B(!0),fe(null);let Ve=be?.fichierUrl,mt=be?.fichierNom;if(vt){pe(!0);const Ll=be?.id||`temp_${Date.now()}`,Ur=await $o.uploadFile(vt,Ll,Vl=>F(Vl));Ve=Ur.url,mt=Ur.nom,pe(!1)}const Fn={...De,fichierUrl:Ve,fichierNom:mt,auteurId:t?.uid};be?(await $o.update(be.id,Fn),_e("Ressource modifie avec succs !")):(await $o.create(Fn),_e("Ressource cre avec succs !")),rn(),await Lt(),setTimeout(()=>_e(null),3e3)}catch(Ve){console.error("Erreur lors de la sauvegarde:",Ve),fe("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{B(!1),pe(!1),F(0)}},xi=async()=>{if(se)try{z(se.id),se.fichierUrl&&await $o.deleteFile(se.fichierUrl),await $o.delete(se.id),_e("Ressource supprime avec succs !"),rn(),await Lt(),setTimeout(()=>_e(null),3e3)}catch(Z){console.error("Erreur lors de la suppression:",Z),fe("Erreur lors de la suppression. Veuillez ressayer.")}finally{z(null)}},ss=async Z=>{try{await $o.togglePremium(Z.id,!Z.isPremium),await Lt(),_e(Z.isPremium?"Ressource passe en gratuit":"Ressource passe en Premium"),setTimeout(()=>_e(null),2e3)}catch{fe("Erreur lors de la mise  jour")}},an=Z=>{const Ve=e.find(mt=>mt.id===Z);return Ve?Ve.nom:"Non trouve"},wi=Z=>{const Ve=r.find(mt=>mt.id===Z);return Ve?`${Ve.numero}. ${Ve.titre}`:""},mr=Z=>Iv.find(Ve=>Ve.value===Z)||Iv[0],Jr=Z=>Z<1024?Z+" o":Z<1024*1024?(Z/1024).toFixed(1)+" Ko":(Z/(1024*1024)).toFixed(1)+" Mo";return c.jsxs("div",{className:"resource-manager",children:[c.jsxs("header",{className:"admin-page-header",children:[c.jsxs("div",{className:"admin-page-header__info",children:[c.jsx("h1",{className:"admin-page-header__title",children:"Gestion des Ressources"}),c.jsx("p",{className:"admin-page-header__subtitle",children:"Grez les cours, exercices, vidos et documents pdagogiques"})]}),c.jsx("div",{className:"admin-page-header__actions",children:c.jsxs("button",{onClick:oo,className:"btn btn--primary",disabled:!h||M,children:[c.jsx("span",{children:""}),"Nouvelle ressource"]})})]}),J&&c.jsxs("div",{className:"alert alert--error",children:[c.jsx("span",{className:"alert__icon",children:""}),c.jsx("div",{className:"alert__content",children:c.jsx("p",{className:"alert__message",children:J})}),c.jsx("button",{onClick:()=>fe(null),className:"alert__close",children:""})]}),we&&c.jsxs("div",{className:"alert alert--success",children:[c.jsx("span",{className:"alert__icon",children:""}),c.jsx("div",{className:"alert__content",children:c.jsx("p",{className:"alert__message",children:we})})]}),c.jsx("div",{className:"content-card",style:{marginBottom:"var(--spacing-lg)"},children:c.jsx("div",{className:"content-card__body",children:c.jsxs("div",{className:"discipline-selector",children:[c.jsx("label",{className:"form-label",children:"Slectionner une discipline :"}),M?c.jsx("p",{className:"text-muted",children:"Chargement des disciplines..."}):e.length===0?c.jsxs("p",{className:"text-muted",children:["Aucune discipline disponible.",c.jsx("a",{href:"/admin/disciplines",children:" Crer une discipline"})]}):c.jsx("div",{className:"discipline-tabs",children:e.map(Z=>c.jsxs("button",{className:`discipline-tab ${h===Z.id?"discipline-tab--active":""}`,onClick:()=>zr(Z.id),style:{"--discipline-color":Z.couleur||"#2563eb"},children:[c.jsx("span",{className:"discipline-tab__icon",children:Z.icone||""}),c.jsx("span",{className:"discipline-tab__name",children:Z.nom}),c.jsx("span",{className:"discipline-tab__class",children:Z.classe})]},Z.id))})]})})}),c.jsxs("div",{className:"admin-table-container",children:[c.jsxs("div",{className:"admin-table-header",children:[c.jsxs("h2",{className:"admin-table-title",children:["Ressources ",h&&`- ${an(h)}`,d.length>0&&` (${d.length})`]}),c.jsxs("div",{className:"admin-table-actions",children:[c.jsxs("div",{className:"search-input",children:[c.jsx("span",{className:"search-input__icon",children:""}),c.jsx("input",{type:"text",className:"search-input__field",placeholder:"Rechercher...",value:T,onChange:Z=>k(Z.target.value)})]}),c.jsxs("select",{className:"form-select form-select--sm",value:v,onChange:Z=>y(Z.target.value),disabled:L||r.length===0,children:[c.jsx("option",{value:"",children:"Tous les chapitres"}),r.map(Z=>c.jsxs("option",{value:Z.id,children:[Z.numero,". ",Z.titre]},Z.id))]}),c.jsxs("select",{className:"form-select form-select--sm",value:w,onChange:Z=>j(Z.target.value),children:[c.jsx("option",{value:"",children:"Tous les types"}),Iv.map(Z=>c.jsxs("option",{value:Z.value,children:[Z.icon," ",Z.label]},Z.value))]}),c.jsxs("select",{className:"form-select form-select--sm",value:E,onChange:Z=>A(Z.target.value),children:[c.jsx("option",{value:"",children:"Tous"}),c.jsx("option",{value:"premium",children:" Premium"}),c.jsx("option",{value:"free",children:"Gratuit"})]})]})]}),O?c.jsxs("div",{className:"loading-container",style:{padding:"var(--spacing-2xl)"},children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Chargement des ressources..."})]}):h?d.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-state__icon",children:""}),c.jsx("h3",{className:"empty-state__title",children:"Aucune ressource"}),c.jsx("p",{className:"empty-state__message",children:T||w||E||v?"Aucune ressource ne correspond aux critres de recherche.":"Cette discipline n'a pas encore de ressources."}),!T&&!w&&!E&&!v&&c.jsx("button",{onClick:oo,className:"btn btn--primary",children:"Crer la premire ressource"})]}):c.jsx("div",{className:"resource-list",style:{padding:"var(--spacing-lg)"},children:d.map(Z=>{const Ve=mr(Z.type);return c.jsxs("div",{className:"resource-item",children:[c.jsx("div",{className:`resource-item__icon resource-item__icon--${Z.type}`,style:{backgroundColor:`${Ve.color}15`,color:Ve.color},children:Ve.icon}),c.jsxs("div",{className:"resource-item__content",children:[c.jsxs("div",{className:"resource-item__title",children:[Z.titre,Z.isPremium&&c.jsx("span",{className:"badge badge--premium",children:"Premium"}),!Z.actif&&c.jsx("span",{className:"badge badge--warning",children:"Inactif"})]}),c.jsxs("div",{className:"resource-item__meta",children:[c.jsx("span",{children:Ve.label}),Z.chapitreId&&c.jsxs("span",{children:[" ",wi(Z.chapitreId)]}),Z.duree&&c.jsxs("span",{children:[" ",Z.duree," min"]}),Z.fichierNom&&c.jsxs("span",{children:[" ",Z.fichierNom]}),Z.tags&&Z.tags.length>0&&c.jsxs("span",{children:[" ",Z.tags.join(", ")]})]})]}),c.jsxs("div",{className:"resource-item__actions",children:[c.jsx("button",{onClick:()=>ss(Z),className:`table-action-btn ${Z.isPremium?"table-action-btn--warning":"table-action-btn--view"}`,title:Z.isPremium?"Passer en gratuit":"Passer en Premium",children:Z.isPremium?"":""}),(Z.fichierUrl||Z.urlExterne)&&c.jsx("button",{onClick:()=>Gi(Z),className:"table-action-btn table-action-btn--view",title:"Prvisualiser",children:""}),c.jsx("button",{onClick:()=>Lr(Z),className:"table-action-btn table-action-btn--edit",title:"Modifier",children:""}),c.jsx("button",{onClick:()=>lu(Z),className:"table-action-btn table-action-btn--delete",title:"Supprimer",disabled:U===Z.id,children:U===Z.id?"":""})]})]},Z.id)})}):c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-state__icon",children:""}),c.jsx("h3",{className:"empty-state__title",children:"Slectionnez une discipline"}),c.jsx("p",{className:"empty-state__message",children:"Choisissez une discipline ci-dessus pour voir ses ressources."})]})]}),H&&c.jsx("div",{className:"modal-overlay",onClick:rn,children:c.jsxs("div",{className:"modal modal--xl",onClick:Z=>Z.stopPropagation(),children:[c.jsxs("div",{className:"modal__header",children:[c.jsx("h2",{className:"modal__title",children:be?"Modifier la ressource":"Nouvelle ressource"}),c.jsx("button",{onClick:rn,className:"modal__close",children:""})]}),c.jsxs("form",{onSubmit:cu,children:[c.jsxs("div",{className:"modal__body",children:[!be&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label form-label--required",children:"Discipline"}),c.jsxs("select",{name:"disciplineId",className:`form-select ${it.disciplineId?"form-select--error":""}`,value:De.disciplineId,onChange:St,children:[c.jsx("option",{value:"",children:"Slectionner une discipline"}),e.map(Z=>c.jsxs("option",{value:Z.id,children:[Z.icone," ",Z.nom," (",Z.classe,")"]},Z.id))]}),it.disciplineId&&c.jsx("span",{className:"form-error",children:it.disciplineId})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",style:{flex:2},children:[c.jsx("label",{className:"form-label form-label--required",children:"Titre"}),c.jsx("input",{type:"text",name:"titre",className:`form-input ${it.titre?"form-input--error":""}`,placeholder:"Ex: Introduction aux fractions",value:De.titre,onChange:St}),it.titre&&c.jsx("span",{className:"form-error",children:it.titre})]}),c.jsxs("div",{className:"form-group",style:{flex:1},children:[c.jsx("label",{className:"form-label form-label--required",children:"Type"}),c.jsx("select",{name:"type",className:`form-select ${it.type?"form-select--error":""}`,value:De.type,onChange:St,children:Iv.map(Z=>c.jsxs("option",{value:Z.value,children:[Z.icon," ",Z.label]},Z.value))}),it.type&&c.jsx("span",{className:"form-error",children:it.type})]})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Chapitre (optionnel)"}),c.jsxs("select",{name:"chapitreId",className:"form-select",value:De.chapitreId||"",onChange:St,disabled:L,children:[c.jsx("option",{value:"",children:"Aucun chapitre"}),r.map(Z=>c.jsxs("option",{value:Z.id,children:[Z.numero,". ",Z.titre]},Z.id))]})]}),c.jsxs("div",{className:"form-group",style:{flex:"0 0 120px"},children:[c.jsx("label",{className:"form-label",children:"Ordre"}),c.jsx("input",{type:"number",name:"ordre",className:"form-input",min:"1",value:De.ordre,onChange:St})]}),c.jsxs("div",{className:"form-group",style:{flex:"0 0 120px"},children:[c.jsx("label",{className:"form-label",children:"Dure (min)"}),c.jsx("input",{type:"number",name:"duree",className:"form-input",min:"0",placeholder:"Ex: 30",value:De.duree||"",onChange:St})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Description"}),c.jsx("textarea",{name:"description",className:"form-textarea",rows:3,placeholder:"Description de la ressource...",value:De.description||"",onChange:St})]}),c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{className:"form-label",children:["Fichier",c.jsxs("span",{className:"form-helper",style:{marginLeft:"var(--spacing-sm)"},children:["(",Rv[De.type].join(", ")," - max ",Tx," Mo)"]})]}),c.jsxs("div",{className:"file-upload",children:[c.jsx("input",{ref:Mr,type:"file",accept:Rv[De.type].join(","),onChange:Vr,className:"file-upload__input",id:"file-input"}),!vt&&!Ot?c.jsxs("label",{htmlFor:"file-input",className:"file-upload__dropzone",children:[c.jsx("div",{className:"file-upload__icon",children:""}),c.jsx("p",{className:"file-upload__text",children:"Cliquez ou glissez un fichier ici"}),c.jsx("p",{className:"file-upload__hint",children:Rv[De.type].join(", ")})]}):c.jsxs("div",{className:"file-upload__preview",children:[vt?.type.startsWith("image/")&&Ot&&c.jsx("img",{src:Ot,alt:"Aperu",className:"file-preview__image"}),vt?.type.startsWith("video/")&&Ot&&c.jsx("video",{src:Ot,controls:!0,className:"file-preview__video"}),!vt?.type.startsWith("image/")&&!vt?.type.startsWith("video/")&&c.jsx("div",{className:"file-preview__document",children:c.jsx("span",{className:"file-preview__icon",children:mr(De.type).icon})}),c.jsxs("div",{className:"file-preview__info",children:[c.jsx("p",{className:"file-preview__name",children:vt?.name||be?.fichierNom}),vt&&c.jsx("p",{className:"file-preview__size",children:Jr(vt.size)})]}),c.jsx("button",{type:"button",onClick:en,className:"file-preview__remove",children:""})]})]}),it.fichier&&c.jsx("span",{className:"form-error",children:it.fichier}),q&&c.jsxs("div",{className:"upload-progress",children:[c.jsx("div",{className:"upload-progress__bar",style:{width:`${Ee}%`}}),c.jsxs("span",{className:"upload-progress__text",children:[Ee,"%"]})]})]}),De.type==="video"&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"URL externe (YouTube, Vimeo...)"}),c.jsx("input",{type:"url",name:"urlExterne",className:"form-input",placeholder:"https://www.youtube.com/watch?v=...",value:De.urlExterne||"",onChange:St}),c.jsx("span",{className:"form-helper",children:"Alternative  l'upload de fichier"})]}),De.type==="cours"&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Contenu du cours"}),c.jsx("textarea",{name:"contenu",className:"form-textarea",rows:6,placeholder:"Saisissez le contenu du cours ici...",value:De.contenu||"",onChange:St}),c.jsx("span",{className:"form-helper",children:"Optionnel si vous uploadez un fichier"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Tags"}),c.jsxs("div",{className:"tags-input",children:[c.jsx("input",{type:"text",className:"form-input",placeholder:"Ajouter un tag...",value:ce,onChange:Z=>Ie(Z.target.value),onKeyPress:Z=>Z.key==="Enter"&&(Z.preventDefault(),zl())}),c.jsx("button",{type:"button",onClick:zl,className:"btn btn--outline btn--sm",children:"Ajouter"})]}),De.tags&&De.tags.length>0&&c.jsx("div",{className:"tags-list",children:De.tags.map((Z,Ve)=>c.jsxs("span",{className:"tag",children:[Z,c.jsx("button",{type:"button",onClick:()=>lo(Ve),className:"tag__remove",children:""})]},Ve))})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Options"}),c.jsxs("div",{className:"form-options",children:[c.jsxs("label",{className:"form-checkbox",children:[c.jsx("input",{type:"checkbox",name:"isPremium",checked:De.isPremium,onChange:St}),c.jsx("span",{children:"Contenu Premium "})]}),c.jsxs("label",{className:"form-checkbox",children:[c.jsx("input",{type:"checkbox",name:"actif",checked:De.actif!==!1,onChange:St}),c.jsx("span",{children:"Ressource active"})]})]})]})]}),c.jsxs("div",{className:"modal__footer",children:[c.jsx("button",{type:"button",onClick:rn,className:"btn btn--outline",disabled:I||q,children:"Annuler"}),c.jsx("button",{type:"submit",className:"btn btn--primary",disabled:I||q,children:I||q?q?`Upload ${Ee}%...`:"Enregistrement...":be?"Mettre  jour":"Crer la ressource"})]})]})]})}),Y&&Q&&c.jsx("div",{className:"modal-overlay",onClick:rn,children:c.jsxs("div",{className:"modal modal--xl",onClick:Z=>Z.stopPropagation(),children:[c.jsxs("div",{className:"modal__header",children:[c.jsxs("h2",{className:"modal__title",children:[mr(Q.type).icon," ",Q.titre]}),c.jsx("button",{onClick:rn,className:"modal__close",children:""})]}),c.jsxs("div",{className:"modal__body",children:[Q.type==="video"&&Q.urlExterne?c.jsx("div",{className:"preview-video",children:c.jsx("iframe",{src:Q.urlExterne.replace("watch?v=","embed/"),title:Q.titre,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):Q.fichierUrl?c.jsx("div",{className:"preview-file",children:Q.fichierUrl.match(/\.(jpg|jpeg|png|gif|webp)$/i)?c.jsx("img",{src:Q.fichierUrl,alt:Q.titre}):Q.fichierUrl.match(/\.(mp4|webm)$/i)?c.jsx("video",{src:Q.fichierUrl,controls:!0}):Q.fichierUrl.match(/\.pdf$/i)?c.jsx("iframe",{src:Q.fichierUrl,title:Q.titre}):c.jsxs("div",{className:"preview-download",children:[c.jsx("span",{className:"preview-download__icon",children:mr(Q.type).icon}),c.jsx("p",{children:Q.fichierNom}),c.jsx("a",{href:Q.fichierUrl,target:"_blank",rel:"noopener noreferrer",className:"btn btn--primary",children:"Tlcharger"})]})}):Q.contenu?c.jsx("div",{className:"preview-content",children:c.jsx("p",{children:Q.contenu})}):c.jsx("div",{className:"preview-empty",children:c.jsx("p",{children:"Aucun contenu  prvisualiser"})}),c.jsxs("div",{className:"preview-info",children:[Q.description&&c.jsx("p",{className:"preview-description",children:Q.description}),c.jsxs("div",{className:"preview-meta",children:[c.jsxs("span",{children:["Type : ",mr(Q.type).label]}),Q.duree&&c.jsxs("span",{children:["Dure : ",Q.duree," min"]}),Q.isPremium&&c.jsx("span",{className:"badge badge--premium",children:"Premium"})]})]})]})]})}),ge&&se&&c.jsx("div",{className:"modal-overlay",onClick:rn,children:c.jsxs("div",{className:"modal",onClick:Z=>Z.stopPropagation(),children:[c.jsxs("div",{className:"modal__header",children:[c.jsx("h2",{className:"modal__title",children:"Confirmer la suppression"}),c.jsx("button",{onClick:rn,className:"modal__close",children:""})]}),c.jsxs("div",{className:"modal__body",children:[c.jsxs("p",{children:["Supprimer la ressource ",c.jsx("strong",{children:se.titre})," ?"]}),se.fichierUrl&&c.jsxs("div",{className:"alert alert--warning",style:{marginTop:"var(--spacing-md)"},children:[c.jsx("span",{className:"alert__icon",children:""}),c.jsx("div",{className:"alert__content",children:c.jsx("p",{className:"alert__message",children:"Le fichier associ sera galement supprim de faon permanente."})})]})]}),c.jsxs("div",{className:"modal__footer",children:[c.jsx("button",{onClick:rn,className:"btn btn--outline",children:"Annuler"}),c.jsx("button",{onClick:xi,className:"btn btn--danger",disabled:U!==null,children:U?"Suppression...":"Supprimer"})]})]})}),c.jsx("style",{children:`
        /* ==================== SLECTEUR DE DISCIPLINE ==================== */
        
        .discipline-tabs {
          display: flex;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
          margin-top: var(--spacing-md);
        }

        .discipline-tab {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          padding: var(--spacing-sm) var(--spacing-md);
          border: 2px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: white;
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .discipline-tab:hover {
          border-color: var(--discipline-color, var(--color-primary));
        }

        .discipline-tab--active {
          border-color: var(--discipline-color, var(--color-primary));
          background: color-mix(in srgb, var(--discipline-color, var(--color-primary)) 10%, white);
        }

        .discipline-tab__icon {
          font-size: var(--text-lg);
        }

        .discipline-tab__name {
          font-weight: var(--font-medium);
        }

        .discipline-tab__class {
          font-size: var(--text-xs);
          color: var(--color-text-light);
          background: var(--color-bg-secondary);
          padding: 2px 6px;
          border-radius: var(--radius-sm);
        }

        /* ==================== FORMULAIRE ==================== */
        
        .form-row {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: var(--spacing-lg);
        }

        .form-options {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-lg);
          margin-top: var(--spacing-sm);
        }

        .form-select--sm {
          padding: var(--spacing-sm) var(--spacing-md);
          font-size: var(--text-sm);
          min-width: 140px;
        }

        /* ==================== UPLOAD DE FICHIER ==================== */
        
        .file-upload {
          position: relative;
        }

        .file-upload__input {
          position: absolute;
          opacity: 0;
          pointer-events: none;
        }

        .file-upload__dropzone {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: var(--spacing-xl);
          border: 2px dashed var(--color-border);
          border-radius: var(--radius-lg);
          background: var(--color-bg-secondary);
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .file-upload__dropzone:hover {
          border-color: var(--color-primary);
          background: rgba(37, 99, 235, 0.05);
        }

        .file-upload__icon {
          font-size: 48px;
          margin-bottom: var(--spacing-md);
        }

        .file-upload__text {
          font-weight: var(--font-medium);
          margin-bottom: var(--spacing-xs);
        }

        .file-upload__hint {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        .file-upload__preview {
          display: flex;
          align-items: center;
          gap: var(--spacing-lg);
          padding: var(--spacing-md);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: var(--color-bg-secondary);
        }

        .file-preview__image,
        .file-preview__video {
          width: 120px;
          height: 80px;
          object-fit: cover;
          border-radius: var(--radius-md);
        }

        .file-preview__document {
          width: 80px;
          height: 80px;
          background: white;
          border: 1px solid var(--color-border);
          border-radius: var(--radius-md);
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .file-preview__icon {
          font-size: 32px;
        }

        .file-preview__info {
          flex: 1;
        }

        .file-preview__name {
          font-weight: var(--font-medium);
          margin-bottom: var(--spacing-xs);
          word-break: break-all;
        }

        .file-preview__size {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        .file-preview__remove {
          width: 32px;
          height: 32px;
          border: none;
          background: var(--color-error);
          color: white;
          border-radius: 50%;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all var(--transition-base);
        }

        .file-preview__remove:hover {
          background: #dc2626;
          transform: scale(1.1);
        }

        /* ==================== BARRE DE PROGRESSION ==================== */
        
        .upload-progress {
          margin-top: var(--spacing-md);
          height: 8px;
          background: var(--color-bg-tertiary);
          border-radius: var(--radius-full);
          overflow: hidden;
          position: relative;
        }

        .upload-progress__bar {
          height: 100%;
          background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
          border-radius: var(--radius-full);
          transition: width var(--transition-base);
        }

        .upload-progress__text {
          position: absolute;
          right: var(--spacing-sm);
          top: 50%;
          transform: translateY(-50%);
          font-size: var(--text-xs);
          font-weight: var(--font-semibold);
          color: var(--color-text);
        }

        /* ==================== TAGS ==================== */
        
        .tags-input {
          display: flex;
          gap: var(--spacing-sm);
        }

        .tags-list {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-sm);
          margin-top: var(--spacing-md);
        }

        .tag {
          display: inline-flex;
          align-items: center;
          gap: var(--spacing-xs);
          padding: var(--spacing-xs) var(--spacing-sm);
          background: var(--color-bg-tertiary);
          border-radius: var(--radius-full);
          font-size: var(--text-sm);
          color: var(--color-text);
        }

        .tag__remove {
          width: 18px;
          height: 18px;
          border: none;
          background: transparent;
          color: var(--color-text-light);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
          transition: all var(--transition-base);
        }

        .tag__remove:hover {
          background: var(--color-error);
          color: white;
        }

        /* ==================== PRVISUALISATION ==================== */
        
        .preview-video {
          position: relative;
          padding-bottom: 56.25%;
          height: 0;
          overflow: hidden;
          border-radius: var(--radius-lg);
        }

        .preview-video iframe {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          border: none;
        }

        .preview-file {
          text-align: center;
        }

        .preview-file img,
        .preview-file video {
          max-width: 100%;
          max-height: 60vh;
          border-radius: var(--radius-lg);
        }

        .preview-file iframe {
          width: 100%;
          height: 60vh;
          border: none;
          border-radius: var(--radius-lg);
        }

        .preview-download {
          padding: var(--spacing-2xl);
          text-align: center;
        }

        .preview-download__icon {
          font-size: 64px;
          display: block;
          margin-bottom: var(--spacing-lg);
        }

        .preview-content {
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-lg);
          white-space: pre-wrap;
        }

        .preview-empty {
          padding: var(--spacing-2xl);
          text-align: center;
          color: var(--color-text-light);
        }

        .preview-info {
          margin-top: var(--spacing-lg);
          padding-top: var(--spacing-lg);
          border-top: 1px solid var(--color-border);
        }

        .preview-description {
          color: var(--color-text-light);
          margin-bottom: var(--spacing-md);
        }

        .preview-meta {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-lg);
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        /* ==================== RESSOURCES - AFFICHAGE CARTE ==================== */
        
        .resource-item__title {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
        }

        /* ==================== ACTION WARNING ==================== */
        
        .table-action-btn--warning {
          color: var(--color-warning);
        }

        /* ==================== RESPONSIVE ==================== */
        
        @media (max-width: 768px) {
          .form-row {
            grid-template-columns: 1fr;
          }

          .admin-table-actions {
            flex-direction: column;
            align-items: stretch;
          }

          .search-input__field {
            width: 100%;
          }

          .file-upload__preview {
            flex-direction: column;
            text-align: center;
          }

          .preview-meta {
            flex-direction: column;
            gap: var(--spacing-sm);
          }
        }
      `})]})},o3=wr(We,"quizzes"),l3=async t=>{try{let e=yi(o3,Ya("titre","asc"));t?.disciplineId;let r=(await bi(e)).docs.map(i=>({id:i.id,...i.data()}));return t?.isPremium,t?.difficulte,r}catch(e){throw console.error("Erreur lors de la rcupration des quiz :",e),e}},tZ=async t=>{try{const e=await bl(Ut(We,"quizzes",t));return e.exists()?{id:e.id,...e.data()}:null}catch(e){throw console.error("Erreur lors de la rcupration du quiz :",e),e}},nZ=async t=>{try{return(await au(o3,{...t,createdAt:ct.now(),updatedAt:ct.now()})).id}catch(e){throw console.error("Erreur lors de la cration du quiz :",e),e}},rZ=async(t,e)=>{try{await Bi(Ut(We,"quizzes",t),{...e,updatedAt:ct.now()})}catch(n){throw console.error("Erreur lors de la mise  jour du quiz :",n),n}},iZ=async t=>{try{await Om(Ut(We,"quizzes",t))}catch(e){throw console.error("Erreur lors de la suppression du quiz :",e),e}},aZ=()=>`q_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,MO=()=>({id:aZ(),question:"",options:["","","",""],reponseCorrecte:0,explication:"",difficulte:"moyen",points:1}),zO=t=>{const e=t.questions||[],n=e.reduce((i,s)=>i+(s.points||1),0),r={facile:e.filter(i=>i.difficulte==="facile").length,moyen:e.filter(i=>i.difficulte==="moyen").length,difficile:e.filter(i=>i.difficulte==="difficile").length};return{nombreQuestions:e.length,totalPoints:n,parDifficulte:r,duree:t.duree||0}},sZ=()=>{const[t,e]=_.useState([]),[n,r]=_.useState([]),[i,s]=_.useState(!0),[l,d]=_.useState(null),[f,h]=_.useState(null),[p,v]=_.useState(""),[y,w]=_.useState(""),[j,E]=_.useState(""),[A,T]=_.useState(""),[k,M]=_.useState(!1),[R,L]=_.useState("list"),[D,O]=_.useState(null),[P,I]=_.useState({disciplineId:"",titre:"",questions:[],duree:15,isPremium:!1,noteMinimale:50}),[B,U]=_.useState(null),[z,q]=_.useState(!1),[pe,Ee]=_.useState(null),[F,J]=_.useState(null),[fe,we]=_.useState({}),[_e,H]=_.useState(!1),ie=_.useCallback(async()=>{s(!0),d(null);try{const[ce,Ie]=await Promise.all([l3(),Ps.getAll()]);e(ce),r(Ie.map(Ue=>({id:Ue.id,nom:Ue.nom||Ue.name||Ue.id})))}catch(ce){d("Erreur lors du chargement des donnes."),console.error(ce)}finally{s(!1)}},[]);_.useEffect(()=>{ie()},[ie]),_.useEffect(()=>{if(f){const ce=setTimeout(()=>h(null),4e3);return()=>clearTimeout(ce)}},[f]);const ge=t.filter(ce=>{if(p){const Ie=p.toLowerCase();if(!ce.titre.toLowerCase().includes(Ie))return!1}return!(y&&ce.disciplineId!==y||j==="true"&&!ce.isPremium||j==="false"&&ce.isPremium||A&&!ce.questions?.some(Ue=>Ue.difficulte===A))}),xe=()=>{O(null),I({disciplineId:"",titre:"",questions:[MO()],duree:15,isPremium:!1,noteMinimale:50}),U(null),L("form")},Y=ce=>{O(ce),I({disciplineId:ce.disciplineId,titre:ce.titre,questions:ce.questions||[],duree:ce.duree||15,isPremium:ce.isPremium||!1,noteMinimale:ce.noteMinimale||50}),U(null),L("form")},W=async()=>{if(!P.titre.trim()){d("Le titre du quiz est obligatoire.");return}if(!P.disciplineId){d("Veuillez slectionner une discipline.");return}if(P.questions.length===0){d("Le quiz doit contenir au moins une question.");return}for(let ce=0;ce<P.questions.length;ce++){const Ie=P.questions[ce];if(!Ie.question.trim()){d(`La question ${ce+1} n'a pas d'nonc.`);return}if(Ie.options.filter(Ke=>!Ke.trim()).length>0){d(`La question ${ce+1} a des options vides.`);return}}q(!0),d(null);try{D?(await rZ(D.id,P),h("Quiz mis  jour avec succs !")):(await nZ(P),h("Quiz cr avec succs !")),await ie(),L("list")}catch(ce){d("Erreur lors de la sauvegarde du quiz."),console.error(ce)}finally{q(!1)}},be=async ce=>{try{await iZ(ce),h("Quiz supprim avec succs."),Ee(null),await ie()}catch(Ie){d("Erreur lors de la suppression du quiz."),console.error(Ie)}},Le=()=>{const ce=MO();I(Ie=>({...Ie,questions:[...Ie.questions,ce]})),U(ce.id)},se=ce=>{const Ie=P.questions.find(zn=>zn.id===ce);if(!Ie)return;const Ue={...Ie,id:`q_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,question:`${Ie.question} (copie)`},Ke=P.questions.findIndex(zn=>zn.id===ce),Lt=[...P.questions];Lt.splice(Ke+1,0,Ue),I(zn=>({...zn,questions:Lt})),U(Ue.id)},Se=ce=>{I(Ie=>({...Ie,questions:Ie.questions.filter(Ue=>Ue.id!==ce)})),B===ce&&U(null)},Q=(ce,Ie,Ue)=>{I(Ke=>({...Ke,questions:Ke.questions.map(Lt=>Lt.id===ce?{...Lt,[Ie]:Ue}:Lt)}))},me=(ce,Ie,Ue)=>{I(Ke=>({...Ke,questions:Ke.questions.map(Lt=>Lt.id===ce?{...Lt,options:Lt.options.map((zn,zr)=>zr===Ie?Ue:zn)}:Lt)}))},De=ce=>{J(ce),we({}),H(!1),L("preview")},Be=(ce,Ie)=>{_e||we(Ue=>({...Ue,[ce]:Ie}))},it=()=>{H(!0)},dt=ce=>n.find(Ie=>Ie.id===ce)?.nom||ce,vt=({level:ce})=>{const Ie={facile:"quiz-badge-facile",moyen:"quiz-badge-moyen",difficile:"quiz-badge-difficile"};return c.jsx("span",{className:`quiz-badge ${Ie[ce]||"quiz-badge-moyen"}`,children:ce.charAt(0).toUpperCase()+ce.slice(1)})},hr=()=>c.jsxs(c.Fragment,{children:[l&&c.jsxs("div",{className:"admin-message admin-message-error",children:[c.jsx(Dg,{size:18}),c.jsx("span",{children:l}),c.jsx("button",{onClick:()=>d(null),className:"admin-message-close",children:c.jsx(Ic,{size:16})})]}),f&&c.jsxs("div",{className:"admin-message admin-message-success",children:[c.jsx(_n,{size:18}),c.jsx("span",{children:f})]})]}),Ot=()=>c.jsxs("div",{className:"quiz-manager",children:[c.jsxs("div",{className:"admin-header",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"admin-title",children:[c.jsx(Pr,{size:24})," Gestion des Quiz"]}),c.jsxs("p",{className:"admin-subtitle",children:[t.length," quiz au total  ",ge.length," affich(s)"]})]}),c.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:xe,children:[c.jsx(Pv,{size:18})," Nouveau Quiz"]})]}),c.jsxs("div",{className:"admin-toolbar",children:[c.jsxs("div",{className:"admin-search-wrapper",children:[c.jsx(Zj,{size:18,className:"admin-search-icon"}),c.jsx("input",{type:"text",className:"admin-search-input",placeholder:"Rechercher un quiz...",value:p,onChange:ce=>v(ce.target.value)})]}),c.jsxs("button",{className:`admin-btn admin-btn-outline ${k?"active":""}`,onClick:()=>M(!k),children:[c.jsx(r3,{size:16})," Filtres",k?c.jsx(Vw,{size:14}):c.jsx(kg,{size:14})]})]}),k&&c.jsxs("div",{className:"admin-filters-panel",children:[c.jsxs("div",{className:"admin-filter-group",children:[c.jsx("label",{className:"admin-filter-label",children:"Discipline"}),c.jsxs("select",{className:"admin-select",value:y,onChange:ce=>w(ce.target.value),children:[c.jsx("option",{value:"",children:"Toutes les disciplines"}),n.map(ce=>c.jsx("option",{value:ce.id,children:ce.nom},ce.id))]})]}),c.jsxs("div",{className:"admin-filter-group",children:[c.jsx("label",{className:"admin-filter-label",children:"Accs"}),c.jsxs("select",{className:"admin-select",value:j,onChange:ce=>E(ce.target.value),children:[c.jsx("option",{value:"",children:"Tous"}),c.jsx("option",{value:"false",children:"Gratuit"}),c.jsx("option",{value:"true",children:"Premium"})]})]}),c.jsxs("div",{className:"admin-filter-group",children:[c.jsx("label",{className:"admin-filter-label",children:"Difficult"}),c.jsxs("select",{className:"admin-select",value:A,onChange:ce=>T(ce.target.value),children:[c.jsx("option",{value:"",children:"Toutes"}),c.jsx("option",{value:"facile",children:"Facile"}),c.jsx("option",{value:"moyen",children:"Moyen"}),c.jsx("option",{value:"difficile",children:"Difficile"})]})]}),c.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{w(""),E(""),T(""),v("")},children:"Rinitialiser"})]}),i?c.jsxs("div",{className:"admin-loading",children:[c.jsx("div",{className:"admin-spinner"}),c.jsx("p",{children:"Chargement des quiz..."})]}):ge.length===0?c.jsxs("div",{className:"admin-empty-state",children:[c.jsx(sg,{size:48}),c.jsx("h3",{children:"Aucun quiz trouv"}),c.jsx("p",{children:t.length===0?"Crez votre premier quiz pour vos lves.":"Aucun quiz ne correspond  vos filtres."}),t.length===0&&c.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:xe,children:[c.jsx(Pv,{size:18})," Crer un quiz"]})]}):c.jsx("div",{className:"quiz-grid",children:ge.map(ce=>{const Ie=zO(ce);return c.jsxs("div",{className:"quiz-card",children:[c.jsxs("div",{className:"quiz-card-header",children:[c.jsxs("div",{className:"quiz-card-title-row",children:[c.jsx("h3",{className:"quiz-card-title",children:ce.titre}),ce.isPremium&&c.jsxs("span",{className:"quiz-badge quiz-badge-premium",children:[c.jsx(mi,{size:12})," Premium"]})]}),c.jsx("span",{className:"quiz-card-discipline",children:dt(ce.disciplineId)})]}),c.jsxs("div",{className:"quiz-card-stats",children:[c.jsxs("div",{className:"quiz-stat",children:[c.jsx(sg,{size:14}),c.jsxs("span",{children:[Ie.nombreQuestions," question(s)"]})]}),c.jsxs("div",{className:"quiz-stat",children:[c.jsx(Ga,{size:14}),c.jsxs("span",{children:[Ie.totalPoints," pts"]})]}),c.jsxs("div",{className:"quiz-stat",children:[c.jsx(_l,{size:14}),c.jsxs("span",{children:[Ie.duree," min"]})]})]}),c.jsxs("div",{className:"quiz-card-difficulty",children:[Ie.parDifficulte.facile>0&&c.jsx(vt,{level:"facile"}),Ie.parDifficulte.moyen>0&&c.jsx(vt,{level:"moyen"}),Ie.parDifficulte.difficile>0&&c.jsx(vt,{level:"difficile"})]}),c.jsxs("div",{className:"quiz-card-actions",children:[c.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>De(ce),title:"Prvisualiser",children:[c.jsx(Yh,{size:14})," Aperu"]}),c.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>Y(ce),title:"Modifier",children:[c.jsx(qY,{size:14})," Modifier"]}),pe===ce.id?c.jsxs("div",{className:"quiz-delete-confirm",children:[c.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-danger",onClick:()=>be(ce.id),children:"Confirmer"}),c.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-ghost",onClick:()=>Ee(null),children:"Annuler"})]}):c.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-danger-outline",onClick:()=>Ee(ce.id),title:"Supprimer",children:c.jsx(NO,{size:14})})]})]},ce.id)})})]}),It=()=>c.jsxs("div",{className:"quiz-manager",children:[c.jsxs("div",{className:"admin-header",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"admin-title",children:[c.jsx(Pr,{size:24}),D?"Modifier le quiz":"Nouveau quiz"]}),c.jsxs("p",{className:"admin-subtitle",children:[P.questions.length," question(s) ajoute(s)"]})]}),c.jsxs("div",{className:"admin-header-actions",children:[c.jsxs("button",{className:"admin-btn admin-btn-ghost",onClick:()=>L("list"),children:[c.jsx(Ic,{size:18})," Annuler"]}),c.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:W,disabled:z,children:[c.jsx(YY,{size:18})," ",z?"Enregistrement...":"Enregistrer"]})]})]}),c.jsxs("div",{className:"admin-card quiz-form-section",children:[c.jsx("h3",{className:"quiz-form-section-title",children:"Informations gnrales"}),c.jsxs("div",{className:"quiz-form-grid",children:[c.jsxs("div",{className:"admin-form-group quiz-form-full",children:[c.jsx("label",{className:"admin-label",children:"Titre du quiz *"}),c.jsx("input",{type:"text",className:"admin-input",placeholder:"Ex : Quiz - Les Misrables, Chapitre 1",value:P.titre,onChange:ce=>I(Ie=>({...Ie,titre:ce.target.value}))})]}),c.jsxs("div",{className:"admin-form-group",children:[c.jsx("label",{className:"admin-label",children:"Discipline *"}),c.jsxs("select",{className:"admin-select",value:P.disciplineId,onChange:ce=>I(Ie=>({...Ie,disciplineId:ce.target.value})),children:[c.jsx("option",{value:"",children:"-- Slectionner --"}),n.map(ce=>c.jsx("option",{value:ce.id,children:ce.nom},ce.id))]})]}),c.jsxs("div",{className:"admin-form-group",children:[c.jsx("label",{className:"admin-label",children:"Dure (minutes)"}),c.jsx("input",{type:"number",className:"admin-input",min:1,max:180,value:P.duree,onChange:ce=>I(Ie=>({...Ie,duree:parseInt(ce.target.value)||15}))})]}),c.jsxs("div",{className:"admin-form-group",children:[c.jsx("label",{className:"admin-label",children:"Note minimale (%)"}),c.jsx("input",{type:"number",className:"admin-input",min:0,max:100,value:P.noteMinimale,onChange:ce=>I(Ie=>({...Ie,noteMinimale:parseInt(ce.target.value)||50}))})]}),c.jsxs("div",{className:"admin-form-group",children:[c.jsx("label",{className:"admin-label",children:"Accs"}),c.jsxs("div",{className:`quiz-toggle ${P.isPremium?"quiz-toggle-active":""}`,onClick:()=>I(ce=>({...ce,isPremium:!ce.isPremium})),children:[c.jsx(mi,{size:16}),c.jsx("span",{children:P.isPremium?"Premium (2 000 FCFA/mois)":"Gratuit"})]})]})]})]}),c.jsxs("div",{className:"admin-card quiz-form-section",children:[c.jsxs("div",{className:"quiz-questions-header",children:[c.jsxs("h3",{className:"quiz-form-section-title",children:["Questions (",P.questions.length,")"]}),c.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-primary",onClick:Le,children:[c.jsx(Pv,{size:14})," Ajouter une question"]})]}),P.questions.length===0?c.jsxs("div",{className:"admin-empty-state",style:{padding:"2rem"},children:[c.jsx(sg,{size:36}),c.jsx("p",{children:'Aucune question. Cliquez sur "Ajouter une question" pour commencer.'})]}):c.jsx("div",{className:"quiz-questions-list",children:P.questions.map((ce,Ie)=>c.jsxs("div",{className:`quiz-question-item ${B===ce.id?"expanded":""}`,children:[c.jsxs("div",{className:"quiz-question-header",onClick:()=>U(B===ce.id?null:ce.id),children:[c.jsxs("div",{className:"quiz-question-header-left",children:[c.jsx(wY,{size:16,className:"quiz-grip-icon"}),c.jsxs("span",{className:"quiz-question-number",children:["Q",Ie+1]}),c.jsx("span",{className:"quiz-question-preview",children:ce.question||"Question sans nonc..."})]}),c.jsxs("div",{className:"quiz-question-header-right",children:[c.jsx(vt,{level:ce.difficulte||"moyen"}),c.jsxs("span",{className:"quiz-question-points",children:[ce.points," pt(s)"]}),B===ce.id?c.jsx(Vw,{size:16}):c.jsx(kg,{size:16})]})]}),B===ce.id&&c.jsxs("div",{className:"quiz-question-body",children:[c.jsxs("div",{className:"admin-form-group",children:[c.jsx("label",{className:"admin-label",children:"nonc de la question *"}),c.jsx("textarea",{className:"admin-textarea",rows:2,placeholder:"Ex : Quel est le personnage principal du roman ?",value:ce.question,onChange:Ue=>Q(ce.id,"question",Ue.target.value)})]}),c.jsxs("div",{className:"admin-form-group",children:[c.jsx("label",{className:"admin-label",children:"Options de rponse (cliquez sur la bonne rponse)"}),c.jsx("div",{className:"quiz-options-grid",children:ce.options.map((Ue,Ke)=>c.jsxs("div",{className:`quiz-option-item ${ce.reponseCorrecte===Ke?"quiz-option-correct":""}`,children:[c.jsx("button",{type:"button",className:`quiz-option-radio ${ce.reponseCorrecte===Ke?"active":""}`,onClick:()=>Q(ce.id,"reponseCorrecte",Ke),title:ce.reponseCorrecte===Ke?"Bonne rponse":"Marquer comme bonne rponse",children:ce.reponseCorrecte===Ke?c.jsx(_n,{size:16}):c.jsx("span",{className:"quiz-option-letter",children:String.fromCharCode(65+Ke)})}),c.jsx("input",{type:"text",className:"admin-input",placeholder:`Option ${String.fromCharCode(65+Ke)}`,value:Ue,onChange:Lt=>me(ce.id,Ke,Lt.target.value)})]},Ke))})]}),c.jsxs("div",{className:"admin-form-group",children:[c.jsx("label",{className:"admin-label",children:"Explication (affiche aprs rponse)"}),c.jsx("textarea",{className:"admin-textarea",rows:2,placeholder:"Ex : Jean Valjean est le protagoniste du roman de Victor Hugo...",value:ce.explication,onChange:Ue=>Q(ce.id,"explication",Ue.target.value)})]}),c.jsxs("div",{className:"quiz-question-meta",children:[c.jsxs("div",{className:"admin-form-group",children:[c.jsx("label",{className:"admin-label",children:"Difficult"}),c.jsxs("select",{className:"admin-select",value:ce.difficulte,onChange:Ue=>Q(ce.id,"difficulte",Ue.target.value),children:[c.jsx("option",{value:"facile",children:"Facile"}),c.jsx("option",{value:"moyen",children:"Moyen"}),c.jsx("option",{value:"difficile",children:"Difficile"})]})]}),c.jsxs("div",{className:"admin-form-group",children:[c.jsx("label",{className:"admin-label",children:"Points"}),c.jsx("input",{type:"number",className:"admin-input",min:1,max:10,value:ce.points,onChange:Ue=>Q(ce.id,"points",parseInt(Ue.target.value)||1)})]})]}),c.jsxs("div",{className:"quiz-question-actions",children:[c.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>se(ce.id),children:[c.jsx(fY,{size:14})," Dupliquer"]}),c.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-danger-outline",onClick:()=>Se(ce.id),children:[c.jsx(NO,{size:14})," Supprimer"]})]})]})]},ce.id))}),P.questions.length>0&&c.jsx("div",{className:"quiz-add-question-bottom",children:c.jsxs("button",{className:"admin-btn admin-btn-outline",onClick:Le,children:[c.jsx(Pv,{size:16})," Ajouter une question"]})})]})]}),Mr=()=>{if(!F)return null;const ce=zO(F);let Ie=0,Ue=0;return _e&&F.questions.forEach(Ke=>{Ue+=Ke.points||1,fe[Ke.id]===Ke.reponseCorrecte&&(Ie+=Ke.points||1)}),c.jsxs("div",{className:"quiz-manager",children:[c.jsxs("div",{className:"admin-header",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"admin-title",children:[c.jsx(Yh,{size:24})," Prvisualisation : ",F.titre]}),c.jsxs("p",{className:"admin-subtitle",children:[dt(F.disciplineId),"  ",ce.nombreQuestions," questions  ",ce.duree," min"]})]}),c.jsxs("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{L("list"),J(null)},children:[c.jsx(Ic,{size:18})," Fermer"]})]}),_e&&c.jsxs("div",{className:`quiz-preview-score ${Ie/Ue>=(F.noteMinimale||50)/100?"success":"fail"}`,children:[c.jsx(Ga,{size:32}),c.jsxs("div",{children:[c.jsxs("h3",{children:["Score : ",Ie,"/",Ue," (",Math.round(Ie/Ue*100),"%)"]}),c.jsxs("p",{children:["Note minimale : ",F.noteMinimale||50,"% "," ",Ie/Ue>=(F.noteMinimale||50)/100?" Russi !":" Non russi"]})]})]}),c.jsx("div",{className:"quiz-preview-questions",children:F.questions.map((Ke,Lt)=>{const zn=fe[Ke.id],zr=zn===Ke.reponseCorrecte;return c.jsxs("div",{className:"admin-card quiz-preview-question",children:[c.jsxs("div",{className:"quiz-preview-question-header",children:[c.jsxs("span",{className:"quiz-question-number",children:["Q",Lt+1]}),c.jsx(vt,{level:Ke.difficulte||"moyen"}),c.jsxs("span",{className:"quiz-question-points",children:[Ke.points," pt(s)"]})]}),c.jsx("p",{className:"quiz-preview-question-text",children:Ke.question}),c.jsx("div",{className:"quiz-preview-options",children:Ke.options.map((oo,Lr)=>{let Gi="quiz-preview-option";return _e?Lr===Ke.reponseCorrecte?Gi+=" correct":Lr===zn&&!zr&&(Gi+=" incorrect"):zn===Lr&&(Gi+=" selected"),c.jsxs("button",{className:Gi,onClick:()=>Be(Ke.id,Lr),disabled:_e,children:[c.jsx("span",{className:"quiz-preview-option-letter",children:String.fromCharCode(65+Lr)}),c.jsx("span",{children:oo}),_e&&Lr===Ke.reponseCorrecte&&c.jsx(_n,{size:16,className:"quiz-preview-check"})]},Lr)})}),_e&&Ke.explication&&c.jsxs("div",{className:"quiz-preview-explication",children:[c.jsx("strong",{children:"Explication :"})," ",Ke.explication]})]},Ke.id)})}),!_e&&c.jsx("div",{className:"quiz-preview-submit",children:c.jsxs("button",{className:"admin-btn admin-btn-primary admin-btn-lg",onClick:it,disabled:Object.keys(fe).length<F.questions.length,children:[c.jsx(_n,{size:18})," Soumettre (",Object.keys(fe).length,"/",F.questions.length,")"]})})]})};return c.jsxs("div",{className:"admin-container",children:[hr(),R==="list"&&Ot(),R==="form"&&It(),R==="preview"&&Mr()]})},c3=wr(We,"users"),oZ=wr(We,"quizResults"),lZ=async t=>{try{let e=yi(c3,Ya("displayName","asc"));t?.role;let r=(await bi(e)).docs.map(i=>({uid:i.id,...i.data()}));return t?.isPremium,t?.isActive,t?.search,r}catch(e){throw console.error("Erreur lors de la rcupration des utilisateurs :",e),e}},cZ=async(t,e)=>{try{await Bi(Ut(We,"users",t),{role:e,updatedAt:ct.now()})}catch(n){throw console.error("Erreur lors de la mise  jour du rle :",n),n}},uZ=async(t,e)=>{try{const n={isPremium:e,updatedAt:ct.now()};if(e){const r=new Date;r.setDate(r.getDate()+30),n.subscriptionEnd=ct.fromDate(r)}else n.subscriptionEnd=null;await Bi(Ut(We,"users",t),n)}catch(n){throw console.error("Erreur lors de la mise  jour du statut Premium :",n),n}},dZ=async(t,e)=>{try{await Bi(Ut(We,"users",t),{isActive:e,updatedAt:ct.now()})}catch(n){throw console.error("Erreur lors du changement de statut du compte :",n),n}},fZ=async t=>{try{const e=yi(oZ,Vi("userId","==",t)),r=(await bi(e)).docs.map(f=>({id:f.id,...f.data()})),i=r.length,s=r.filter(f=>f.reussi).length,l=i>0?Math.round(r.reduce((f,h)=>f+h.score,0)/i):0,d=r.length>0?new Date(Math.max(...r.map(f=>{const h=f.datePassage;return h?.toDate?h.toDate().getTime():new Date(h).getTime()}))):null;return{totalQuizPasses:i,scoresMoyens:l,quizReussis:s,dernierQuiz:d}}catch(e){return console.error("Erreur lors du calcul des statistiques :",e),{totalQuizPasses:0,scoresMoyens:0,quizReussis:0,dernierQuiz:null}}},hZ=async()=>{try{const e=(await bi(c3)).docs.map(n=>n.data());return{total:e.length,admins:e.filter(n=>n.role==="admin").length,profs:e.filter(n=>n.role==="prof").length,eleves:e.filter(n=>n.role==="eleve").length,premium:e.filter(n=>n.isPremium).length,actifs:e.filter(n=>n.isActive!==!1).length}}catch(t){throw console.error("Erreur lors du calcul des stats globales :",t),t}},mZ=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(null),[i,s]=_.useState(!0),[l,d]=_.useState(null),[f,h]=_.useState(null),[p,v]=_.useState(""),[y,w]=_.useState(""),[j,E]=_.useState(""),[A,T]=_.useState(""),[k,M]=_.useState(!1),[R,L]=_.useState(null),[D,O]=_.useState(null),[P,I]=_.useState(!1),[B,U]=_.useState(null),[z,q]=_.useState(null),pe=_.useCallback(async()=>{s(!0),d(null);try{const[Y,W]=await Promise.all([lZ(),hZ()]);e(Y),r(W)}catch(Y){d("Erreur lors du chargement des utilisateurs."),console.error(Y)}finally{s(!1)}},[]);_.useEffect(()=>{pe()},[pe]),_.useEffect(()=>{if(f){const Y=setTimeout(()=>h(null),4e3);return()=>clearTimeout(Y)}},[f]);const Ee=t.filter(Y=>{if(p){const W=p.toLowerCase();if(!Y.displayName?.toLowerCase().includes(W)&&!Y.email?.toLowerCase().includes(W))return!1}return!(y&&Y.role!==y||j==="true"&&!Y.isPremium||j==="false"&&Y.isPremium||A==="true"&&Y.isActive===!1||A==="false"&&Y.isActive!==!1)}),F=async Y=>{L(Y),I(!0);try{const W=await fZ(Y.uid);O(W)}catch(W){console.error("Erreur lors du chargement des statistiques :",W),O(null)}finally{I(!1)}},J=async()=>{if(z){U(z.userId);try{switch(z.type){case"role":await cZ(z.userId,z.value),h("Rle mis  jour avec succs.");break;case"premium":await uZ(z.userId,z.value),h(z.value?"Statut Premium activ (30 jours).":"Statut Premium dsactiv.");break;case"active":await dZ(z.userId,z.value),h(z.value?"Compte ractiv.":"Compte dsactiv.");break}await pe()}catch(Y){d("Erreur lors de l'excution de l'action."),console.error(Y)}finally{U(null),q(null)}}},fe=({role:Y})=>{const W={admin:{icon:c.jsx(Jj,{size:12}),className:"user-badge-admin",label:"Admin"},prof:{icon:c.jsx(Cd,{size:12}),className:"user-badge-prof",label:"Professeur"},eleve:{icon:c.jsx(Pr,{size:12}),className:"user-badge-eleve",label:"lve"}},be=W[Y]||W.eleve;return c.jsxs("span",{className:`user-badge ${be.className}`,children:[be.icon," ",be.label]})},we=Y=>Y?(Y?.toDate?Y.toDate():new Date(Y)).toLocaleDateString("fr-SN",{day:"2-digit",month:"short",year:"numeric"}):"N/A",_e=Y=>Y?Y.charAt(0).toUpperCase():"?",H=()=>c.jsxs(c.Fragment,{children:[l&&c.jsxs("div",{className:"admin-message admin-message-error",children:[c.jsx(Dg,{size:18}),c.jsx("span",{children:l}),c.jsx("button",{onClick:()=>d(null),className:"admin-message-close",children:c.jsx(Ic,{size:16})})]}),f&&c.jsxs("div",{className:"admin-message admin-message-success",children:[c.jsx(_n,{size:18}),c.jsx("span",{children:f})]})]}),ie=()=>{if(!n)return null;const Y=[{label:"Total",value:n.total,icon:c.jsx(nl,{size:20}),color:"stat-blue"},{label:"lves",value:n.eleves,icon:c.jsx(Pr,{size:20}),color:"stat-green"},{label:"Professeurs",value:n.profs,icon:c.jsx(Cd,{size:20}),color:"stat-purple"},{label:"Premium",value:n.premium,icon:c.jsx(mi,{size:20}),color:"stat-gold"}];return c.jsx("div",{className:"user-stats-grid",children:Y.map(W=>c.jsxs("div",{className:`user-stat-card ${W.color}`,children:[c.jsx("div",{className:"user-stat-icon",children:W.icon}),c.jsxs("div",{className:"user-stat-info",children:[c.jsx("span",{className:"user-stat-value",children:W.value}),c.jsx("span",{className:"user-stat-label",children:W.label})]})]},W.label))})},ge=()=>z?c.jsx("div",{className:"admin-modal-overlay",onClick:()=>q(null),children:c.jsxs("div",{className:"admin-modal",onClick:Y=>Y.stopPropagation(),children:[c.jsxs("div",{className:"admin-modal-header",children:[c.jsx("h3",{children:"Confirmer l'action"}),c.jsx("button",{className:"admin-modal-close",onClick:()=>q(null),children:c.jsx(Ic,{size:20})})]}),c.jsx("div",{className:"admin-modal-body",children:c.jsx("p",{children:z.label})}),c.jsxs("div",{className:"admin-modal-footer",children:[c.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>q(null),children:"Annuler"}),c.jsx("button",{className:"admin-btn admin-btn-primary",onClick:J,disabled:B===z.userId,children:B===z.userId?"En cours...":"Confirmer"})]})]})}):null,xe=()=>R?c.jsx("div",{className:"admin-modal-overlay",onClick:()=>L(null),children:c.jsxs("div",{className:"admin-modal admin-modal-lg",onClick:Y=>Y.stopPropagation(),children:[c.jsxs("div",{className:"admin-modal-header",children:[c.jsx("h3",{children:"Dtail de l'utilisateur"}),c.jsx("button",{className:"admin-modal-close",onClick:()=>L(null),children:c.jsx(Ic,{size:20})})]}),c.jsxs("div",{className:"admin-modal-body",children:[c.jsxs("div",{className:"user-detail-profile",children:[c.jsx("div",{className:"user-detail-avatar",children:_e(R.displayName)}),c.jsxs("div",{className:"user-detail-info",children:[c.jsx("h4",{children:R.displayName||"Sans nom"}),c.jsx("p",{children:R.email}),c.jsxs("div",{className:"user-detail-badges",children:[c.jsx(fe,{role:R.role}),R.isPremium&&c.jsxs("span",{className:"user-badge user-badge-premium",children:[c.jsx(mi,{size:12})," Premium"]}),c.jsx("span",{className:`user-badge ${R.isActive!==!1?"user-badge-active":"user-badge-inactive"}`,children:R.isActive!==!1?"Actif":"Dsactiv"})]})]})]}),c.jsxs("div",{className:"user-detail-dates",children:[c.jsxs("div",{children:[c.jsx("span",{className:"user-detail-date-label",children:"Inscription"}),c.jsx("span",{children:we(R.createdAt)})]}),R.isPremium&&R.subscriptionEnd&&c.jsxs("div",{children:[c.jsx("span",{className:"user-detail-date-label",children:"Premium jusqu'au"}),c.jsx("span",{children:we(R.subscriptionEnd)})]})]}),c.jsxs("div",{className:"user-detail-stats-section",children:[c.jsxs("h4",{children:[c.jsx(Zo,{size:18})," Statistiques"]}),P?c.jsxs("div",{className:"admin-loading",style:{padding:"1rem"},children:[c.jsx("div",{className:"admin-spinner"}),c.jsx("p",{children:"Chargement des statistiques..."})]}):D?c.jsxs("div",{className:"user-detail-stats-grid",children:[c.jsxs("div",{className:"user-detail-stat",children:[c.jsx(Pr,{size:20}),c.jsx("span",{className:"user-detail-stat-value",children:D.totalQuizPasses}),c.jsx("span",{className:"user-detail-stat-label",children:"Quiz passs"})]}),c.jsxs("div",{className:"user-detail-stat",children:[c.jsx(Xh,{size:20}),c.jsxs("span",{className:"user-detail-stat-value",children:[D.scoresMoyens,"%"]}),c.jsx("span",{className:"user-detail-stat-label",children:"Score moyen"})]}),c.jsxs("div",{className:"user-detail-stat",children:[c.jsx(Ga,{size:20}),c.jsx("span",{className:"user-detail-stat-value",children:D.quizReussis}),c.jsx("span",{className:"user-detail-stat-label",children:"Quiz russis"})]}),c.jsxs("div",{className:"user-detail-stat",children:[c.jsx(_l,{size:20}),c.jsx("span",{className:"user-detail-stat-value",children:D.dernierQuiz?we(D.dernierQuiz):"Aucun"}),c.jsx("span",{className:"user-detail-stat-label",children:"Dernier quiz"})]})]}):c.jsx("p",{className:"user-detail-no-stats",children:"Aucune statistique disponible."})]})]})]})}):null;return c.jsxs("div",{className:"admin-container",children:[H(),ge(),xe(),c.jsxs("div",{className:"user-manager",children:[c.jsxs("div",{className:"admin-header",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"admin-title",children:[c.jsx(nl,{size:24})," Gestion des Utilisateurs"]}),c.jsxs("p",{className:"admin-subtitle",children:[t.length," utilisateur(s) au total  ",Ee.length," affich(s)"]})]}),c.jsxs("button",{className:"admin-btn admin-btn-outline",onClick:pe,children:[c.jsx(Fw,{size:16})," Actualiser"]})]}),ie(),c.jsxs("div",{className:"admin-toolbar",children:[c.jsxs("div",{className:"admin-search-wrapper",children:[c.jsx(Zj,{size:18,className:"admin-search-icon"}),c.jsx("input",{type:"text",className:"admin-search-input",placeholder:"Rechercher par nom ou email...",value:p,onChange:Y=>v(Y.target.value)})]}),c.jsxs("button",{className:`admin-btn admin-btn-outline ${k?"active":""}`,onClick:()=>M(!k),children:[c.jsx(r3,{size:16})," Filtres",k?c.jsx(Vw,{size:14}):c.jsx(kg,{size:14})]})]}),k&&c.jsxs("div",{className:"admin-filters-panel",children:[c.jsxs("div",{className:"admin-filter-group",children:[c.jsx("label",{className:"admin-filter-label",children:"Rle"}),c.jsxs("select",{className:"admin-select",value:y,onChange:Y=>w(Y.target.value),children:[c.jsx("option",{value:"",children:"Tous les rles"}),c.jsx("option",{value:"admin",children:"Admin"}),c.jsx("option",{value:"prof",children:"Professeur"}),c.jsx("option",{value:"eleve",children:"lve"})]})]}),c.jsxs("div",{className:"admin-filter-group",children:[c.jsx("label",{className:"admin-filter-label",children:"Abonnement"}),c.jsxs("select",{className:"admin-select",value:j,onChange:Y=>E(Y.target.value),children:[c.jsx("option",{value:"",children:"Tous"}),c.jsx("option",{value:"true",children:"Premium"}),c.jsx("option",{value:"false",children:"Gratuit"})]})]}),c.jsxs("div",{className:"admin-filter-group",children:[c.jsx("label",{className:"admin-filter-label",children:"Statut"}),c.jsxs("select",{className:"admin-select",value:A,onChange:Y=>T(Y.target.value),children:[c.jsx("option",{value:"",children:"Tous"}),c.jsx("option",{value:"true",children:"Actifs"}),c.jsx("option",{value:"false",children:"Dsactivs"})]})]}),c.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{w(""),E(""),T(""),v("")},children:"Rinitialiser"})]}),i?c.jsxs("div",{className:"admin-loading",children:[c.jsx("div",{className:"admin-spinner"}),c.jsx("p",{children:"Chargement des utilisateurs..."})]}):Ee.length===0?c.jsxs("div",{className:"admin-empty-state",children:[c.jsx(nl,{size:48}),c.jsx("h3",{children:"Aucun utilisateur trouv"}),c.jsx("p",{children:t.length===0?"Aucun utilisateur n'est encore inscrit.":"Aucun utilisateur ne correspond  vos filtres."})]}):c.jsx("div",{className:"user-table-wrapper",children:c.jsxs("table",{className:"user-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Utilisateur"}),c.jsx("th",{children:"Rle"}),c.jsx("th",{children:"Abonnement"}),c.jsx("th",{children:"Statut"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:Ee.map(Y=>c.jsxs("tr",{className:Y.isActive===!1?"user-row-inactive":"",children:[c.jsx("td",{children:c.jsxs("div",{className:"user-cell-info",children:[c.jsx("div",{className:"user-avatar-sm",children:_e(Y.displayName)}),c.jsxs("div",{children:[c.jsx("span",{className:"user-cell-name",children:Y.displayName||"Sans nom"}),c.jsx("span",{className:"user-cell-email",children:Y.email})]})]})}),c.jsx("td",{children:c.jsxs("select",{className:"admin-select admin-select-sm",value:Y.role,onChange:W=>q({type:"role",userId:Y.uid,value:W.target.value,label:`Changer le rle de "${Y.displayName||Y.email}" en "${W.target.value}" ?`}),children:[c.jsx("option",{value:"eleve",children:"lve"}),c.jsx("option",{value:"prof",children:"Professeur"}),c.jsx("option",{value:"admin",children:"Admin"})]})}),c.jsx("td",{children:c.jsx("button",{className:`user-premium-toggle ${Y.isPremium?"active":""}`,onClick:()=>q({type:"premium",userId:Y.uid,value:!Y.isPremium,label:Y.isPremium?`Dsactiver le statut Premium de "${Y.displayName||Y.email}" ?`:`Activer le statut Premium de "${Y.displayName||Y.email}" pour 30 jours ?`}),disabled:B===Y.uid,children:Y.isPremium?c.jsxs(c.Fragment,{children:[c.jsx(jh,{size:14})," Premium"]}):c.jsxs(c.Fragment,{children:[c.jsx(mi,{size:14})," Gratuit"]})})}),c.jsx("td",{children:c.jsx("button",{className:`user-status-toggle ${Y.isActive!==!1?"active":"inactive"}`,onClick:()=>q({type:"active",userId:Y.uid,value:Y.isActive===!1,label:Y.isActive===!1?`Ractiver le compte de "${Y.displayName||Y.email}" ?`:`Dsactiver le compte de "${Y.displayName||Y.email}" ?`}),disabled:B===Y.uid,children:Y.isActive!==!1?c.jsxs(c.Fragment,{children:[c.jsx(hX,{size:14})," Actif"]}):c.jsxs(c.Fragment,{children:[c.jsx(pX,{size:14})," Dsactiv"]})})}),c.jsx("td",{children:c.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>F(Y),title:"Voir les statistiques",children:[c.jsx(Yh,{size:14})," Dtail"]})})]},Y.uid))})]})})]})]})},u3=wr(We,"quiz_results"),pZ=async t=>{try{return(await au(u3,{...t,datePassage:ct.now()})).id}catch(e){throw console.error("Erreur lors de la sauvegarde du rsultat :",e),e}},c0=async(t,e)=>{try{let n=yi(u3,Vi("userId","==",t),Ya("datePassage","desc"));return e&&(n=yi(n,$j(e))),(await bi(n)).docs.map(i=>({id:i.id,...i.data()}))}catch(n){throw console.error("Erreur lors de la rcupration de l'historique :",n),n}},vZ=async t=>{try{const e=await c0(t);if(e.length===0)return{totalQuizPasses:0,totalQuizReussis:0,moyenneGenerale:0,tempsTotal:0,meilleurScore:0,serieReussites:0,meilleureSerieReussites:0};const n=e.reduce((p,v)=>p+v.pourcentage,0),r=Math.round(n/e.length),i=Math.max(...e.map(p=>p.pourcentage)),s=e.reduce((p,v)=>p+(v.tempsEcoule||0),0),l=e.filter(p=>p.reussi).length;let d=0,f=0;for(const p of e)p.reussi?(d++,f=Math.max(f,d)):(e.find(v=>!v.reussi),f=Math.max(f,d),d=0);let h=0;for(const p of e)if(p.reussi)h++;else break;return{totalQuizPasses:e.length,totalQuizReussis:l,moyenneGenerale:r,tempsTotal:s,meilleurScore:i,serieReussites:h,meilleureSerieReussites:Math.max(f,h)}}catch(e){return console.error("Erreur lors du calcul des stats :",e),{totalQuizPasses:0,totalQuizReussis:0,moyenneGenerale:0,tempsTotal:0,meilleurScore:0,serieReussites:0,meilleureSerieReussites:0}}},gZ=async t=>{try{const e=await c0(t);if(e.length===0)return[];const n={};for(const r of e){const i=r.disciplineId;n[i]||(n[i]=[]),n[i].push(r)}return Object.entries(n).map(([r,i])=>{const s=Math.round(i.reduce((v,y)=>v+y.pourcentage,0)/i.length),l=Math.max(...i.map(v=>v.pourcentage)),d=i[0].pourcentage,f=i.filter(v=>v.reussi).length,h=i.reduce((v,y)=>v+(y.tempsEcoule||0),0);let p="stable";if(i.length>=4){const v=i.slice(0,3),y=i.slice(3,6),w=v.reduce((E,A)=>E+A.pourcentage,0)/v.length,j=y.reduce((E,A)=>E+A.pourcentage,0)/y.length;w-j>5?p="up":j-w>5&&(p="down")}return{disciplineId:r,disciplineNom:i[0].disciplineNom||r,nombreQuiz:i.length,moyenne:s,meilleurScore:l,dernierScore:d,quizReussis:f,tempsTotal:h,tendance:p}})}catch(e){return console.error("Erreur lors du calcul de la progression par discipline :",e),[]}},yZ=async(t,e)=>{try{return(await c0(t,e||20)).reverse().map(r=>({date:(r.datePassage?.toDate?r.datePassage.toDate():new Date(r.datePassage)).toLocaleDateString("fr-SN",{day:"2-digit",month:"2-digit"}),score:r.pourcentage,discipline:r.disciplineNom||r.disciplineId}))}catch(n){return console.error("Erreur lors de la rcupration des donnes temporelles :",n),[]}},bZ=(t,e)=>[{id:"premier_quiz",nom:"Premier pas",description:"Passer votre premier quiz",icone:"",condition:"1 quiz pass",obtenu:t.totalQuizPasses>=1},{id:"dix_quiz",nom:"Explorateur",description:"Passer 10 quiz",icone:"",condition:"10 quiz passs",obtenu:t.totalQuizPasses>=10},{id:"vingt_cinq_quiz",nom:"Assidu",description:"Passer 25 quiz",icone:"",condition:"25 quiz passs",obtenu:t.totalQuizPasses>=25},{id:"cinquante_quiz",nom:"Champion",description:"Passer 50 quiz",icone:"",condition:"50 quiz passs",obtenu:t.totalQuizPasses>=50},{id:"score_parfait",nom:"Score parfait",description:"Obtenir 100%  un quiz",icone:"",condition:"100%  un quiz",obtenu:t.meilleurScore>=100},{id:"moyenne_80",nom:"Excellent",description:"Maintenir une moyenne de 80%+",icone:"",condition:"Moyenne  80%",obtenu:t.moyenneGenerale>=80&&t.totalQuizPasses>=5},{id:"moyenne_60",nom:"Bon lve",description:"Maintenir une moyenne de 60%+",icone:"",condition:"Moyenne  60%",obtenu:t.moyenneGenerale>=60&&t.totalQuizPasses>=5},{id:"serie_3",nom:"En forme",description:"3 quiz russis d'affile",icone:"",condition:"Srie de 3 russites",obtenu:t.meilleureSerieReussites>=3},{id:"serie_5",nom:"Imbattable",description:"5 quiz russis d'affile",icone:"",condition:"Srie de 5 russites",obtenu:t.meilleureSerieReussites>=5},{id:"serie_10",nom:"Lgende",description:"10 quiz russis d'affile",icone:"",condition:"Srie de 10 russites",obtenu:t.meilleureSerieReussites>=10},{id:"multi_3",nom:"Polyvalent",description:"Passer des quiz dans 3 disciplines",icone:"",condition:"3 disciplines diffrentes",obtenu:e.length>=3},{id:"multi_5",nom:"Touche--tout",description:"Passer des quiz dans 5 disciplines",icone:"",condition:"5 disciplines diffrentes",obtenu:e.length>=5}],d3=t=>{if(t<60)return`${t} s`;const e=Math.floor(t/60),n=t%60;return n>0?`${e} min ${n.toString().padStart(2,"0")} s`:`${e} min`},sd=t=>t>=80?"#10b981":t>=60?"#3b82f6":t>=40?"#f59e0b":"#ef4444",f3=t=>t>=80?"Excellent":t>=60?"Bien":t>=40?"Passable":" amliorer",_Z=()=>{const{quizId:t}=YM(),e=Sl(),{currentUser:n}=Hi(),[r,i]=_.useState(null),[s,l]=_.useState(""),[d,f]=_.useState(!0),[h,p]=_.useState(null),[v,y]=_.useState("intro"),[w,j]=_.useState(0),[E,A]=_.useState({}),[T,k]=_.useState(0),[M,R]=_.useState(0),L=_.useRef(null),[D,O]=_.useState(0),[P,I]=_.useState(0),[B,U]=_.useState(0),[z,q]=_.useState(!1),[pe,Ee]=_.useState(!1);_.useEffect(()=>{(async()=>{if(!t){p("ID du quiz manquant."),f(!1);return}try{const W=await tZ(t);if(!W){p("Quiz introuvable."),f(!1);return}i(W),k(W.duree*60);try{const Le=(await Ps.getAll()).find(se=>se.id===W.disciplineId);l(Le?.nom||Le?.name||W.disciplineId)}catch{l(W.disciplineId)}}catch(W){p("Erreur lors du chargement du quiz."),console.error(W)}finally{f(!1)}})()},[t]),_.useEffect(()=>{if(v==="playing")return L.current=setInterval(()=>{k(Y=>Y<=1?(clearInterval(L.current),we(),0):Y-1),R(Y=>Y+1)},1e3),()=>{L.current&&clearInterval(L.current)}},[v]);const F=()=>{y("playing"),j(0),A({}),R(0),r&&k(r.duree*60)},J=(Y,W)=>{A(be=>({...be,[Y]:W}))},fe=Y=>{r&&Y>=0&&Y<r.questions.length&&j(Y)},we=_.useCallback(async()=>{if(!r||!n||v==="review")return;L.current&&clearInterval(L.current);let Y=0,W=0,be=0;r.questions.forEach(Se=>{const Q=Se.points||1;W+=Q,E[Se.id]===Se.reponseCorrecte&&(Y+=Q,be++)});const Le=W>0?Math.round(Y/W*100):0,se=Le>=(r.noteMinimale||50);O(Y),I(W),U(be),y("review"),q(!0);try{const Se={quizId:r.id,quizTitre:r.titre,disciplineId:r.disciplineId,disciplineNom:s,userId:n.uid,reponses:r.questions.map(Q=>E[Q.id]??-1),tempsEcoule:M,score:Y,totalPoints:W,pourcentage:Le,reussi:se,nombreQuestions:r.questions.length,bonnesReponses:be};await pZ(Se),Ee(!0)}catch(Se){console.error("Erreur lors de la sauvegarde :",Se)}finally{q(!1)}},[r,n,E,M,s,v]),_e=Y=>{const W=Math.floor(Y/60),be=Y%60;return`${W.toString().padStart(2,"0")}:${be.toString().padStart(2,"0")}`},H=()=>{if(!r)return"";const Y=r.duree*60,W=T/Y;return W<=.1?"timer-critical":W<=.25?"timer-warning":""},ie=Object.keys(E).length;if(d)return c.jsxs("div",{className:"quiz-player-loading",children:[c.jsx("div",{className:"admin-spinner"}),c.jsx("p",{children:"Chargement du quiz..."})]});if(h||!r)return c.jsxs("div",{className:"quiz-player-error",children:[c.jsx(Dg,{size:48}),c.jsx("h3",{children:h||"Quiz introuvable"}),c.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>e("/eleve/dashboard"),children:[c.jsx(qw,{size:18})," Retour au tableau de bord"]})]});if(r.isPremium&&!n?.isPremium)return c.jsx("div",{className:"quiz-player-locked",children:c.jsxs("div",{className:"qp-locked-card",children:[c.jsx(Bw,{size:48}),c.jsx("h3",{children:"Quiz Premium"}),c.jsx("p",{children:"Ce quiz est rserv aux abonns Premium."}),c.jsxs("p",{className:"qp-locked-price",children:[" partir de ",c.jsx("strong",{children:"2 000 FCFA/mois"})]}),c.jsxs("div",{className:"qp-locked-actions",children:[c.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>e("/premium"),children:[c.jsx(mi,{size:18})," Devenir Premium"]}),c.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:()=>e("/eleve/dashboard"),children:[c.jsx(wx,{size:18})," Retour"]})]})]})});if(v==="intro")return c.jsx("div",{className:"quiz-player-intro",children:c.jsxs("div",{className:"qp-intro-card",children:[c.jsxs("div",{className:"qp-intro-header",children:[c.jsxs("button",{className:"qp-back-btn",onClick:()=>e(-1),children:[c.jsx(wx,{size:20})," Retour"]}),r.isPremium&&c.jsxs("span",{className:"qp-badge qp-badge-premium",children:[c.jsx(mi,{size:12})," Premium"]})]}),c.jsxs("div",{className:"qp-intro-content",children:[c.jsx("h1",{className:"qp-intro-title",children:r.titre}),c.jsx("span",{className:"qp-intro-discipline",children:s}),c.jsxs("div",{className:"qp-intro-stats",children:[c.jsxs("div",{className:"qp-intro-stat",children:[c.jsx(Pr,{size:20}),c.jsxs("div",{children:[c.jsx("span",{className:"qp-intro-stat-value",children:r.questions.length}),c.jsx("span",{className:"qp-intro-stat-label",children:"Questions"})]})]}),c.jsxs("div",{className:"qp-intro-stat",children:[c.jsx(_l,{size:20}),c.jsxs("div",{children:[c.jsxs("span",{className:"qp-intro-stat-value",children:[r.duree," min"]}),c.jsx("span",{className:"qp-intro-stat-label",children:"Dure"})]})]}),c.jsxs("div",{className:"qp-intro-stat",children:[c.jsx(Ga,{size:20}),c.jsxs("div",{children:[c.jsxs("span",{className:"qp-intro-stat-value",children:[r.noteMinimale||50,"%"]}),c.jsx("span",{className:"qp-intro-stat-label",children:"Note min."})]})]})]}),c.jsxs("div",{className:"qp-intro-instructions",children:[c.jsx("h3",{children:"Instructions"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Rpondez  toutes les questions dans le temps imparti"}),c.jsx("li",{children:"Chaque question a une seule bonne rponse"}),c.jsx("li",{children:"Vous pouvez naviguer entre les questions"}),c.jsx("li",{children:"Le quiz est soumis automatiquement quand le temps est coul"}),c.jsxs("li",{children:["Il faut obtenir au moins ",r.noteMinimale||50,"% pour russir"]})]})]})]}),c.jsxs("button",{className:"qp-btn qp-btn-start",onClick:F,children:[c.jsx(Mh,{size:20})," Commencer le quiz"]})]})});if(v==="playing"){const Y=r.questions[w];return c.jsxs("div",{className:"quiz-player-game",children:[c.jsxs("div",{className:"qp-game-header",children:[c.jsxs("div",{className:"qp-game-info",children:[c.jsx("span",{className:"qp-game-title",children:r.titre}),c.jsx("span",{className:"qp-game-discipline",children:s})]}),c.jsxs("div",{className:`qp-timer ${H()}`,children:[c.jsx(iX,{size:18}),c.jsx("span",{children:_e(T)})]})]}),c.jsx("div",{className:"qp-progress-bar",children:c.jsx("div",{className:"qp-progress-fill",style:{width:`${(w+1)/r.questions.length*100}%`}})}),c.jsxs("div",{className:"qp-game-content",children:[c.jsxs("div",{className:"qp-question-header",children:[c.jsxs("span",{className:"qp-question-number",children:["Question ",w+1,"/",r.questions.length]}),c.jsxs("span",{className:"qp-question-points",children:[Y.points||1," pt(s)"]})]}),c.jsx("h2",{className:"qp-question-text",children:Y.question}),c.jsx("div",{className:"qp-options-list",children:Y.options.map((W,be)=>c.jsxs("button",{className:`qp-option ${E[Y.id]===be?"selected":""}`,onClick:()=>J(Y.id,be),children:[c.jsx("span",{className:"qp-option-letter",children:String.fromCharCode(65+be)}),c.jsx("span",{className:"qp-option-text",children:W}),E[Y.id]===be&&c.jsx(_n,{size:18,className:"qp-option-check"})]},be))})]}),c.jsxs("div",{className:"qp-game-footer",children:[c.jsx("div",{className:"qp-question-indicators",children:r.questions.map((W,be)=>c.jsx("button",{className:`qp-indicator ${be===w?"active":""} ${E[W.id]!==void 0?"answered":""}`,onClick:()=>fe(be),children:be+1},W.id))}),c.jsxs("div",{className:"qp-nav-buttons",children:[c.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:()=>fe(w-1),disabled:w===0,children:[c.jsx(wx,{size:16})," Prcdent"]}),w<r.questions.length-1?c.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>fe(w+1),children:["Suivant ",c.jsx(pc,{size:16})]}):c.jsxs("button",{className:"qp-btn qp-btn-submit",onClick:we,disabled:ie<r.questions.length,children:[c.jsx(_n,{size:16}),"Soumettre (",ie,"/",r.questions.length,")"]})]})]})]})}const ge=P>0?Math.round(D/P*100):0,xe=ge>=(r.noteMinimale||50);return c.jsxs("div",{className:"quiz-player-review",children:[c.jsxs("div",{className:`qp-score-card ${xe?"success":"fail"}`,children:[c.jsx("div",{className:"qp-score-icon",children:xe?c.jsx(Ga,{size:48}):c.jsx(Dg,{size:48})}),c.jsx("h2",{className:"qp-score-title",children:xe?"Flicitations ! ":"Continuez vos efforts ! "}),c.jsxs("div",{className:"qp-score-circle",style:{borderColor:sd(ge)},children:[c.jsxs("span",{className:"qp-score-value",children:[ge,"%"]}),c.jsx("span",{className:"qp-score-label",children:f3(ge)})]}),c.jsxs("div",{className:"qp-score-details",children:[c.jsxs("div",{className:"qp-score-detail",children:[c.jsxs("span",{children:[B,"/",r.questions.length]}),c.jsx("small",{children:"Bonnes rponses"})]}),c.jsxs("div",{className:"qp-score-detail",children:[c.jsxs("span",{children:[D,"/",P]}),c.jsx("small",{children:"Points"})]}),c.jsxs("div",{className:"qp-score-detail",children:[c.jsx("span",{children:d3(M)}),c.jsx("small",{children:"Temps"})]})]}),z&&c.jsx("p",{className:"qp-saving",children:"Sauvegarde en cours..."}),pe&&c.jsx("p",{className:"qp-saved",children:" Rsultat sauvegard"})]}),c.jsxs("div",{className:"qp-review-actions",children:[c.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>e("/eleve/dashboard"),children:[c.jsx(qw,{size:18})," Tableau de bord"]}),c.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:F,children:[c.jsx(WY,{size:18})," Recommencer"]})]}),c.jsxs("div",{className:"qp-review-questions",children:[c.jsx("h3",{className:"qp-review-title",children:"Correction dtaille"}),r.questions.map((Y,W)=>{const be=E[Y.id],Le=be===Y.reponseCorrecte;return c.jsxs("div",{className:`qp-review-question ${Le?"correct":"incorrect"}`,children:[c.jsxs("div",{className:"qp-review-question-header",children:[c.jsxs("span",{className:"qp-review-q-number",children:["Q",W+1]}),Le?c.jsxs("span",{className:"qp-review-badge correct",children:[c.jsx(_n,{size:14})," Correct"]}):c.jsxs("span",{className:"qp-review-badge incorrect",children:[c.jsx(Uw,{size:14})," Incorrect"]}),c.jsxs("span",{className:"qp-review-q-points",children:[Le?Y.points||1:0,"/",Y.points||1," pt(s)"]})]}),c.jsx("p",{className:"qp-review-q-text",children:Y.question}),c.jsx("div",{className:"qp-review-options",children:Y.options.map((se,Se)=>{let Q="qp-review-option";return Se===Y.reponseCorrecte&&(Q+=" correct-answer"),Se===be&&!Le&&(Q+=" wrong-answer"),c.jsxs("div",{className:Q,children:[c.jsx("span",{className:"qp-review-option-letter",children:String.fromCharCode(65+Se)}),c.jsx("span",{children:se}),Se===Y.reponseCorrecte&&c.jsx(_n,{size:14,className:"qp-review-check"}),Se===be&&!Le&&c.jsx(Uw,{size:14,className:"qp-review-x"})]},Se)})}),Y.explication&&c.jsxs("div",{className:"qp-review-explication",children:[c.jsx("strong",{children:" Explication :"})," ",Y.explication]})]},Y.id)})]})]})};function h3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=h3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=h3(t))&&(r&&(r+=" "),r+=e);return r}var xZ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function eA(t){if(typeof t!="string")return!1;var e=xZ;return e.includes(t)}var wZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],EZ=new Set(wZ);function m3(t){return typeof t!="string"?!1:EZ.has(t)}function p3(t){return typeof t=="string"&&t.startsWith("data-")}function Rr(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(m3(n)||p3(n))&&(e[n]=t[n]);return e}function Kc(t){if(t==null)return null;if(_.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Rr(e)}return typeof t=="object"&&!Array.isArray(t)?Rr(t):null}function Ar(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(m3(n)||p3(n)||eA(n))&&(e[n]=t[n]);return e}function jZ(t){return t==null?null:_.isValidElement(t)?Ar(t.props):typeof t=="object"&&!Array.isArray(t)?Ar(t):null}var AZ=["children","width","height","viewBox","className","style","title","desc"];function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kw.apply(null,arguments)}function SZ(t,e){if(t==null)return{};var n,r,i=NZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function NZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tA=_.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:d,title:f,desc:h}=t,p=SZ(t,AZ),v=s||{width:r,height:i,x:0,y:0},y=gt("recharts-surface",l);return _.createElement("svg",Kw({},Ar(p),{className:y,width:r,height:i,style:d,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:e}),_.createElement("title",null,f),_.createElement("desc",null,h),n)}),TZ=["children","className"];function Gw(){return Gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gw.apply(null,arguments)}function CZ(t,e){if(t==null)return{};var n,r,i=PZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function PZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hn=_.forwardRef((t,e)=>{var{children:n,className:r}=t,i=CZ(t,TZ),s=gt("recharts-layer",r);return _.createElement("g",Gw({className:s},Ar(i),{ref:e}),n)}),v3=_.createContext(null),OZ=()=>_.useContext(v3);function Bt(t){return function(){return t}}const g3=Math.cos,Lg=Math.sin,pa=Math.sqrt,Vg=Math.PI,u0=2*Vg,Ww=Math.PI,Qw=2*Ww,vc=1e-6,IZ=Qw-vc;function y3(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function RZ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return y3;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class kZ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?y3:RZ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,d=this._y1,f=r-e,h=i-n,p=l-e,v=d-n,y=p*p+v*v;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>vc)if(!(Math.abs(v*f-h*p)>vc)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-l,j=i-d,E=f*f+h*h,A=w*w+j*j,T=Math.sqrt(E),k=Math.sqrt(y),M=s*Math.tan((Ww-Math.acos((E+y-A)/(2*T*k)))/2),R=M/k,L=M/T;Math.abs(R-1)>vc&&this._append`L${e+R*p},${n+R*v}`,this._append`A${s},${s},0,0,${+(v*w>p*j)},${this._x1=e+L*f},${this._y1=n+L*h}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(i),f=r*Math.sin(i),h=e+d,p=n+f,v=1^l,y=l?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>vc||Math.abs(this._y1-p)>vc)&&this._append`L${h},${p}`,r&&(y<0&&(y=y%Qw+Qw),y>IZ?this._append`A${r},${r},0,1,${v},${e-d},${n-f}A${r},${r},0,1,${v},${this._x1=h},${this._y1=p}`:y>vc&&this._append`A${r},${r},0,${+(y>=Ww)},${v},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function nA(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new kZ(e)}function rA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function b3(t){this._context=t}b3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function d0(t){return new b3(t)}function _3(t){return t[0]}function x3(t){return t[1]}function w3(t,e){var n=Bt(!0),r=null,i=d0,s=null,l=nA(d);t=typeof t=="function"?t:t===void 0?_3:Bt(t),e=typeof e=="function"?e:e===void 0?x3:Bt(e);function d(f){var h,p=(f=rA(f)).length,v,y=!1,w;for(r==null&&(s=i(w=l())),h=0;h<=p;++h)!(h<p&&n(v=f[h],h,f))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+t(v,h,f),+e(v,h,f));if(w)return s=null,w+""||null}return d.x=function(f){return arguments.length?(t=typeof f=="function"?f:Bt(+f),d):t},d.y=function(f){return arguments.length?(e=typeof f=="function"?f:Bt(+f),d):e},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Bt(!!f),d):n},d.curve=function(f){return arguments.length?(i=f,r!=null&&(s=i(r)),d):i},d.context=function(f){return arguments.length?(f==null?r=s=null:s=i(r=f),d):r},d}function kv(t,e,n){var r=null,i=Bt(!0),s=null,l=d0,d=null,f=nA(h);t=typeof t=="function"?t:t===void 0?_3:Bt(+t),e=typeof e=="function"?e:Bt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?x3:Bt(+n);function h(v){var y,w,j,E=(v=rA(v)).length,A,T=!1,k,M=new Array(E),R=new Array(E);for(s==null&&(d=l(k=f())),y=0;y<=E;++y){if(!(y<E&&i(A=v[y],y,v))===T)if(T=!T)w=y,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),j=y-1;j>=w;--j)d.point(M[j],R[j]);d.lineEnd(),d.areaEnd()}T&&(M[y]=+t(A,y,v),R[y]=+e(A,y,v),d.point(r?+r(A,y,v):M[y],n?+n(A,y,v):R[y]))}if(k)return d=null,k+""||null}function p(){return w3().defined(i).curve(l).context(s)}return h.x=function(v){return arguments.length?(t=typeof v=="function"?v:Bt(+v),r=null,h):t},h.x0=function(v){return arguments.length?(t=typeof v=="function"?v:Bt(+v),h):t},h.x1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:Bt(+v),h):r},h.y=function(v){return arguments.length?(e=typeof v=="function"?v:Bt(+v),n=null,h):e},h.y0=function(v){return arguments.length?(e=typeof v=="function"?v:Bt(+v),h):e},h.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:Bt(+v),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(v){return arguments.length?(i=typeof v=="function"?v:Bt(!!v),h):i},h.curve=function(v){return arguments.length?(l=v,s!=null&&(d=l(s)),h):l},h.context=function(v){return arguments.length?(v==null?s=d=null:d=l(s=v),h):s},h}class E3{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function DZ(t){return new E3(t,!0)}function MZ(t){return new E3(t,!1)}const iA={draw(t,e){const n=pa(e/Vg);t.moveTo(n,0),t.arc(0,0,n,0,u0)}},zZ={draw(t,e){const n=pa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},j3=pa(1/3),LZ=j3*2,VZ={draw(t,e){const n=pa(e/LZ),r=n*j3;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},UZ={draw(t,e){const n=pa(e),r=-n/2;t.rect(r,r,n,n)}},qZ=.8908130915292852,A3=Lg(Vg/10)/Lg(7*Vg/10),BZ=Lg(u0/10)*A3,$Z=-g3(u0/10)*A3,FZ={draw(t,e){const n=pa(e*qZ),r=BZ*n,i=$Z*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=u0*s/5,d=g3(l),f=Lg(l);t.lineTo(f*n,-d*n),t.lineTo(d*r-f*i,f*r+d*i)}t.closePath()}},Cx=pa(3),HZ={draw(t,e){const n=-pa(e/(Cx*3));t.moveTo(0,n*2),t.lineTo(-Cx*n,-n),t.lineTo(Cx*n,-n),t.closePath()}},Di=-.5,Mi=pa(3)/2,Yw=1/pa(12),KZ=(Yw/2+1)*3,GZ={draw(t,e){const n=pa(e/KZ),r=n/2,i=n*Yw,s=r,l=n*Yw+n,d=-s,f=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(d,f),t.lineTo(Di*r-Mi*i,Mi*r+Di*i),t.lineTo(Di*s-Mi*l,Mi*s+Di*l),t.lineTo(Di*d-Mi*f,Mi*d+Di*f),t.lineTo(Di*r+Mi*i,Di*i-Mi*r),t.lineTo(Di*s+Mi*l,Di*l-Mi*s),t.lineTo(Di*d+Mi*f,Di*f-Mi*d),t.closePath()}};function WZ(t,e){let n=null,r=nA(i);t=typeof t=="function"?t:Bt(t||iA),e=typeof e=="function"?e:Bt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Bt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Bt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Ug(){}function qg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function S3(t){this._context=t}S3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function QZ(t){return new S3(t)}function N3(t){this._context=t}N3.prototype={areaStart:Ug,areaEnd:Ug,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:qg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function YZ(t){return new N3(t)}function T3(t){this._context=t}T3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:qg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function XZ(t){return new T3(t)}function C3(t){this._context=t}C3.prototype={areaStart:Ug,areaEnd:Ug,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ZZ(t){return new C3(t)}function LO(t){return t<0?-1:1}function VO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),d=(s*i+l*r)/(r+i);return(LO(s)+LO(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(d))||0}function UO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Px(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,d=(s-r)/3;t._context.bezierCurveTo(r+d,i+d*e,s-d,l-d*n,s,l)}function Bg(t){this._context=t}Bg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Px(this,this._t0,UO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Px(this,UO(this,n=VO(this,t,e)),n);break;default:Px(this,this._t0,n=VO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function P3(t){this._context=new O3(t)}(P3.prototype=Object.create(Bg.prototype)).point=function(t,e){Bg.prototype.point.call(this,e,t)};function O3(t){this._context=t}O3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function JZ(t){return new Bg(t)}function eJ(t){return new P3(t)}function I3(t){this._context=t}I3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=qO(t),i=qO(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function qO(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function tJ(t){return new I3(t)}function f0(t,e){this._context=t,this._t=e}f0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function nJ(t){return new f0(t,.5)}function rJ(t){return new f0(t,0)}function iJ(t){return new f0(t,1)}function Gc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,d=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<d;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Xw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function aJ(t,e){return t[e]}function sJ(t){const e=[];return e.key=t,e}function oJ(){var t=Bt([]),e=Xw,n=Gc,r=aJ;function i(s){var l=Array.from(t.apply(this,arguments),sJ),d,f=l.length,h=-1,p;for(const v of s)for(d=0,++h;d<f;++d)(l[d][h]=[0,+r(v,l[d].key,h,s)]).data=v;for(d=0,p=rA(e(l));d<f;++d)l[p[d]].index=d;return n(l,p),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Bt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Bt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?Xw:typeof s=="function"?s:Bt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Gc,i):n},i}function lJ(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}Gc(t,e)}}function cJ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,d=0;l<i;++l)d+=t[l][n][1]||0;r[n][1]+=r[n][0]=-d/2}Gc(t,e)}}function uJ(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var d=0,f=0,h=0;d<l;++d){for(var p=t[e[d]],v=p[r][1]||0,y=p[r-1][1]||0,w=(v-y)/2,j=0;j<d;++j){var E=t[e[j]],A=E[r][1]||0,T=E[r-1][1]||0;w+=A-T}f+=v,h+=w*v}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,Gc(t,e)}}var Ox={},Ix={},BO;function dJ(){return BO||(BO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Ix)),Ix}var Rx={},$O;function R3(){return $O||($O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Rx)),Rx}var kx={},FO;function aA(){return FO||(FO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(kx)),kx}var Dx={},Mx={},HO;function fJ(){return HO||(HO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Mx)),Mx}var KO;function sA(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fJ(),n=aA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let d=0,f="",h="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),d++);d<l;){const v=i[d];h?v==="\\"&&d+1<l?(d++,f+=i[d]):v===h?h="":f+=v:p?v==='"'||v==="'"?h=v:v==="]"?(p=!1,s.push(f),f=""):f+=v:v==="["?(p=!0,f&&(s.push(f),f="")):v==="."?f&&(s.push(f),f=""):f+=v,d++}return f&&s.push(f),s}t.toPath=r})(Dx)),Dx}var GO;function oA(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dJ(),n=R3(),r=aA(),i=sA();function s(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?n.isDeepKey(f)?s(d,i.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(d,f,h);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function l(d,f,h){if(f.length===0)return h;let p=d;for(let v=0;v<f.length;v++){if(p==null||e.isUnsafeProperty(f[v]))return h;p=p[f[v]]}return p===void 0?h:p}t.get=s})(Ox)),Ox}var zx,WO;function hJ(){return WO||(WO=1,zx=oA().get),zx}var mJ=hJ();const Wc=ns(mJ);var pJ=4;function rl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pJ,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function cn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,l)=>{var d=n[l-1];return typeof d=="string"?i+d+s:d!==void 0?i+rl(d)+s:i+s},"")}var Jn=t=>t===0?0:t>0?1:-1,ha=t=>typeof t=="number"&&t!=+t,Qc=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ne=t=>(typeof t=="number"||t instanceof Number)&&!ha(t),Xa=t=>Ne(t)||typeof t=="string",vJ=0,Zh=t=>{var e=++vJ;return"".concat(t||"").concat(e)},Er=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(e)&&typeof e!="string")return r;var s;if(Qc(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return ha(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},k3=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Et(t,e,n){return Ne(t)&&Ne(e)?rl(t+n*(e-t)):e}function D3(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Wc(r,e))===n)}var Jt=t=>t===null||typeof t>"u",Im=t=>Jt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Yr(t){return t!=null}function Ol(){}var gJ=["type","size","sizeType"];function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(null,arguments)}function QO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(n),!0).forEach(function(r){yJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yJ(t,e,n){return(e=bJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bJ(t){var e=_J(t,"string");return typeof e=="symbol"?e:e+""}function _J(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xJ(t,e){if(t==null)return{};var n,r,i=wJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var M3={symbolCircle:iA,symbolCross:zZ,symbolDiamond:VZ,symbolSquare:UZ,symbolStar:FZ,symbolTriangle:HZ,symbolWye:GZ},EJ=Math.PI/180,jJ=t=>{var e="symbol".concat(Im(t));return M3[e]||iA},AJ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*EJ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},SJ=(t,e)=>{M3["symbol".concat(Im(t))]=e},lA=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=xJ(t,gJ),s=YO(YO({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var d=()=>{var y=jJ(l),w=WZ().type(y).size(AJ(n,r,l)),j=w();if(j!==null)return j},{className:f,cx:h,cy:p}=s,v=Ar(s);return Ne(h)&&Ne(p)&&Ne(n)?_.createElement("path",Zw({},v,{className:gt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};lA.registerSymbol=SJ;var z3=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,cA=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{eA(i)&&(r[i]=(s=>n[i](n,s)))}),r},NJ=(t,e,n)=>r=>(t(e,n,r),null),Rm=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];eA(i)&&typeof s=="function"&&(r||(r={}),r[i]=NJ(s,e,n))}),r};function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){CJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CJ(t,e,n){return(e=PJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PJ(t){var e=OJ(t,"string");return typeof e=="symbol"?e:e+""}function OJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pn(t,e){var n=TJ({},t),r=e,i=Object.keys(e),s=i.reduce((l,d)=>(l[d]===void 0&&r[d]!==void 0&&(l[d]=r[d]),l),n);return s}function $g(){return $g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$g.apply(null,arguments)}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){RJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RJ(t,e,n){return(e=kJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kJ(t){var e=DJ(t,"string");return typeof e=="symbol"?e:e+""}function DJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Li=32,MJ={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function zJ(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Li/2,s=Li/6,l=Li/3,d=e.inactive?r:e.color,f=n??e.type;if(f==="none")return null;if(f==="plainline"){var h;return _.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(h=e.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:Li,y2:i,className:"recharts-legend-icon"})}if(f==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Li,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return _.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Li/8,"h").concat(Li,"v").concat(Li*3/4,"h").concat(-Li,"z"),className:"recharts-legend-icon"});if(_.isValidElement(e.legendIcon)){var p=IJ({},e);return delete p.legendIcon,_.cloneElement(e.legendIcon,p)}return _.createElement(lA,{fill:d,cx:i,cy:i,size:Li,sizeType:"diameter",type:f})}function LJ(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:l}=t,d={x:0,y:0,width:Li,height:Li},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((p,v)=>{var y=p.formatter||i,w=gt({"recharts-legend-item":!0,["legend-item-".concat(v)]:!0,inactive:p.inactive});if(p.type==="none")return null;var j=p.inactive?s:p.color,E=y?y(p.value,p,v):p.value;return _.createElement("li",$g({className:w,style:f,key:"legend-item-".concat(v)},Rm(t,p,v)),_.createElement(tA,{width:n,height:n,viewBox:d,style:h,"aria-label":"".concat(E," legend icon")},_.createElement(zJ,{data:p,iconType:l,inactiveColor:s})),_.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},E))})}var VJ=t=>{var e=pn(t,MJ),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:s},_.createElement(LJ,$g({},e,{payload:n})))},Lx={},Vx={},JO;function UJ(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],d=r(l,s,n);i.has(d)||i.set(d,l)}return Array.from(i.values())}t.uniqBy=e})(Vx)),Vx}var Ux={},eI;function qJ(){return eI||(eI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(Ux)),Ux}var qx={},tI;function L3(){return tI||(tI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(qx)),qx}var Bx={},$x={},Fx={},nI;function BJ(){return nI||(nI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Fx)),Fx}var rI;function uA(){return rI||(rI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BJ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})($x)),$x}var Hx={},iI;function $J(){return iI||(iI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Hx)),Hx}var aI;function FJ(){return aI||(aI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uA(),n=$J();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Bx)),Bx}var Kx={},Gx={},sI;function HJ(){return sI||(sI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oA();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Gx)),Gx}var Wx={},Qx={},Yx={},Xx={},oI;function V3(){return oI||(oI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Xx)),Xx}var Zx={},lI;function U3(){return lI||(lI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Zx)),Zx}var Jx={},cI;function q3(){return cI||(cI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(Jx)),Jx}var uI;function KJ(){return uI||(uI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V3(),n=U3(),r=q3();function i(p,v,y){return typeof y!="function"?i(p,v,()=>{}):s(p,v,function w(j,E,A,T,k,M){const R=y(j,E,A,T,k,M);return R!==void 0?!!R:s(j,E,w,M)},new Map)}function s(p,v,y,w){if(v===p)return!0;switch(typeof v){case"object":return l(p,v,y,w);case"function":return Object.keys(v).length>0?s(p,{...v},y,w):r.isEqualsSameValueZero(p,v);default:return e.isObject(p)?typeof v=="string"?v==="":!0:r.isEqualsSameValueZero(p,v)}}function l(p,v,y,w){if(v==null)return!0;if(Array.isArray(v))return f(p,v,y,w);if(v instanceof Map)return d(p,v,y,w);if(v instanceof Set)return h(p,v,y,w);const j=Object.keys(v);if(p==null||n.isPrimitive(p))return j.length===0;if(j.length===0)return!0;if(w?.has(v))return w.get(v)===p;w?.set(v,p);try{for(let E=0;E<j.length;E++){const A=j[E];if(!n.isPrimitive(p)&&!(A in p)||v[A]===void 0&&p[A]!==void 0||v[A]===null&&p[A]!==null||!y(p[A],v[A],A,p,v,w))return!1}return!0}finally{w?.delete(v)}}function d(p,v,y,w){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[j,E]of v.entries()){const A=p.get(j);if(y(A,E,j,p,v,w)===!1)return!1}return!0}function f(p,v,y,w){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const j=new Set;for(let E=0;E<v.length;E++){const A=v[E];let T=!1;for(let k=0;k<p.length;k++){if(j.has(k))continue;const M=p[k];let R=!1;if(y(M,A,E,p,v,w)&&(R=!0),R){j.add(k),T=!0;break}}if(!T)return!1}return!0}function h(p,v,y,w){return v.size===0?!0:p instanceof Set?f([...p],[...v],y,w):!1}t.isMatchWith=i,t.isSetMatch=h})(Yx)),Yx}var dI;function B3(){return dI||(dI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KJ();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Qx)),Qx}var e1={},t1={},n1={},fI;function GJ(){return fI||(fI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(n1)),n1}var r1={},hI;function dA(){return hI||(hI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(r1)),r1}var i1={},mI;function $3(){return mI||(mI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",v="[object Function]",y="[object ArrayBuffer]",w="[object Object]",j="[object Error]",E="[object DataView]",A="[object Uint8Array]",T="[object Uint8ClampedArray]",k="[object Uint16Array]",M="[object Uint32Array]",R="[object BigUint64Array]",L="[object Int8Array]",D="[object Int16Array]",O="[object Int32Array]",P="[object BigInt64Array]",I="[object Float32Array]",B="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=y,t.arrayTag=p,t.bigInt64ArrayTag=P,t.bigUint64ArrayTag=R,t.booleanTag=i,t.dataViewTag=E,t.dateTag=d,t.errorTag=j,t.float32ArrayTag=I,t.float64ArrayTag=B,t.functionTag=v,t.int16ArrayTag=D,t.int32ArrayTag=O,t.int8ArrayTag=L,t.mapTag=f,t.numberTag=r,t.objectTag=w,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=k,t.uint32ArrayTag=M,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=T})(i1)),i1}var a1={},pI;function WJ(){return pI||(pI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(a1)),a1}var vI;function F3(){return vI||(vI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GJ(),n=dA(),r=$3(),i=U3(),s=WJ();function l(p,v){return d(p,void 0,p,new Map,v)}function d(p,v,y,w=new Map,j=void 0){const E=j?.(p,v,y,w);if(E!==void 0)return E;if(i.isPrimitive(p))return p;if(w.has(p))return w.get(p);if(Array.isArray(p)){const A=new Array(p.length);w.set(p,A);for(let T=0;T<p.length;T++)A[T]=d(p[T],T,y,w,j);return Object.hasOwn(p,"index")&&(A.index=p.index),Object.hasOwn(p,"input")&&(A.input=p.input),A}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const A=new RegExp(p.source,p.flags);return A.lastIndex=p.lastIndex,A}if(p instanceof Map){const A=new Map;w.set(p,A);for(const[T,k]of p)A.set(T,d(k,T,y,w,j));return A}if(p instanceof Set){const A=new Set;w.set(p,A);for(const T of p)A.add(d(T,void 0,y,w,j));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const A=new(Object.getPrototypeOf(p)).constructor(p.length);w.set(p,A);for(let T=0;T<p.length;T++)A[T]=d(p[T],T,y,w,j);return A}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const A=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return w.set(p,A),f(A,p,y,w,j),A}if(typeof File<"u"&&p instanceof File){const A=new File([p],p.name,{type:p.type});return w.set(p,A),f(A,p,y,w,j),A}if(typeof Blob<"u"&&p instanceof Blob){const A=new Blob([p],{type:p.type});return w.set(p,A),f(A,p,y,w,j),A}if(p instanceof Error){const A=new p.constructor;return w.set(p,A),A.message=p.message,A.name=p.name,A.stack=p.stack,A.cause=p.cause,f(A,p,y,w,j),A}if(p instanceof Boolean){const A=new Boolean(p.valueOf());return w.set(p,A),f(A,p,y,w,j),A}if(p instanceof Number){const A=new Number(p.valueOf());return w.set(p,A),f(A,p,y,w,j),A}if(p instanceof String){const A=new String(p.valueOf());return w.set(p,A),f(A,p,y,w,j),A}if(typeof p=="object"&&h(p)){const A=Object.create(Object.getPrototypeOf(p));return w.set(p,A),f(A,p,y,w,j),A}return p}function f(p,v,y=p,w,j){const E=[...Object.keys(v),...e.getSymbols(v)];for(let A=0;A<E.length;A++){const T=E[A],k=Object.getOwnPropertyDescriptor(p,T);(k==null||k.writable)&&(p[T]=d(v[T],T,y,w,j))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=d,t.copyProperties=f})(t1)),t1}var gI;function QJ(){return gI||(gI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F3();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(e1)),e1}var yI;function YJ(){return yI||(yI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B3(),n=QJ();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(Wx)),Wx}var s1={},o1={},l1={},bI;function XJ(){return bI||(bI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F3(),n=dA(),r=$3();function i(s,l){return e.cloneDeepWith(s,(d,f,h,p)=>{const v=l?.(d,f,h,p);if(v!==void 0)return v;if(typeof s=="object"){if(n.getTag(s)===r.objectTag&&typeof s.constructor!="function"){const y={};return p.set(s,y),e.copyProperties(y,s,h,p),y}switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const y=new s.constructor(s?.valueOf());return e.copyProperties(y,s),y}case r.argumentsTag:{const y={};return e.copyProperties(y,s),y.length=s.length,y[Symbol.iterator]=s[Symbol.iterator],y}default:return}}})}t.cloneDeepWith=i})(l1)),l1}var _I;function ZJ(){return _I||(_I=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XJ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(o1)),o1}var c1={},u1={},xI;function H3(){return xI||(xI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(u1)),u1}var d1={},wI;function JJ(){return wI||(wI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dA();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(d1)),d1}var EI;function eee(){return EI||(EI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R3(),n=H3(),r=JJ(),i=sA();function s(l,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&e.isDeepKey(d)&&l?.[d]==null?f=i.toPath(d):f=[d],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const v=f[p];if((h==null||!Object.hasOwn(h,v))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(v)&&v<h.length))return!1;h=h[v]}return!0}t.has=s})(c1)),c1}var jI;function tee(){return jI||(jI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B3(),n=aA(),r=ZJ(),i=oA(),s=eee();function l(d,f){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(h){const p=i.get(h,d);return p===void 0?s.has(h,d):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=l})(s1)),s1}var AI;function nee(){return AI||(AI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L3(),n=HJ(),r=YJ(),i=tee();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(Kx)),Kx}var SI;function ree(){return SI||(SI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UJ(),n=qJ(),r=L3(),i=FJ(),s=nee();function l(d,f=r.identity){return i.isArrayLikeObject(d)?e.uniqBy(Array.from(d),n.ary(s.iteratee(f),1)):[]}t.uniqBy=l})(Lx)),Lx}var f1,NI;function iee(){return NI||(NI=1,f1=ree().uniqBy),f1}var aee=iee();const TI=ns(aee);function K3(t,e,n){return e===!0?TI(t,n):typeof e=="function"?TI(t,e):t}var h1={exports:{}},m1={},p1={exports:{}},v1={};var CI;function see(){if(CI)return v1;CI=1;var t=Md();function e(v,y){return v===y&&(v!==0||1/v===1/y)||v!==v&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function d(v,y){var w=y(),j=r({inst:{value:w,getSnapshot:y}}),E=j[0].inst,A=j[1];return s(function(){E.value=w,E.getSnapshot=y,f(E)&&A({inst:E})},[v,w,y]),i(function(){return f(E)&&A({inst:E}),v(function(){f(E)&&A({inst:E})})},[v]),l(w),w}function f(v){var y=v.getSnapshot;v=v.value;try{var w=y();return!n(v,w)}catch{return!0}}function h(v,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return v1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,v1}var PI;function oee(){return PI||(PI=1,p1.exports=see()),p1.exports}var OI;function lee(){if(OI)return m1;OI=1;var t=Md(),e=oee();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,d=t.useMemo,f=t.useDebugValue;return m1.useSyncExternalStoreWithSelector=function(h,p,v,y,w){var j=s(null);if(j.current===null){var E={hasValue:!1,value:null};j.current=E}else E=j.current;j=d(function(){function T(D){if(!k){if(k=!0,M=D,D=y(D),w!==void 0&&E.hasValue){var O=E.value;if(w(O,D))return R=O}return R=D}if(O=R,r(M,D))return O;var P=y(D);return w!==void 0&&w(O,P)?(M=D,O):(M=D,R=P)}var k=!1,M,R,L=v===void 0?null:v;return[function(){return T(p())},L===null?void 0:function(){return T(L())}]},[p,v,y,w]);var A=i(h,j[0],j[1]);return l(function(){E.hasValue=!0,E.value=A},[A]),f(A),A},m1}var II;function cee(){return II||(II=1,h1.exports=lee()),h1.exports}var uee=cee(),fA=_.createContext(null),dee=t=>t,Ht=()=>{var t=_.useContext(fA);return t?t.store.dispatch:dee},og=()=>{},fee=()=>og,hee=(t,e)=>t===e;function Oe(t){var e=_.useContext(fA),n=_.useMemo(()=>e?r=>{if(r!=null)return t(r)}:og,[e,t]);return uee.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:fee,e?e.store.getState:og,e?e.store.getState:og,n,hee)}function mee(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function pee(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function vee(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var RI=t=>Array.isArray(t)?t:[t];function gee(t){const e=Array.isArray(t[0])?t[0]:t;return vee(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function yee(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var bee=class{constructor(t){this.value=t}deref(){return this.value}},_ee=typeof WeakRef<"u"?WeakRef:bee,xee=0,kI=1;function Dv(){return{s:xee,v:void 0,o:null,p:null}}function G3(t,e={}){let n=Dv();const{resultEqualityCheck:r}=e;let i,s=0;function l(){let d=n;const{length:f}=arguments;for(let v=0,y=f;v<y;v++){const w=arguments[v];if(typeof w=="function"||typeof w=="object"&&w!==null){let j=d.o;j===null&&(d.o=j=new WeakMap);const E=j.get(w);E===void 0?(d=Dv(),j.set(w,d)):d=E}else{let j=d.p;j===null&&(d.p=j=new Map);const E=j.get(w);E===void 0?(d=Dv(),j.set(w,d)):d=E}}const h=d;let p;if(d.s===kI)p=d.v;else if(p=t.apply(null,arguments),s++,r){const v=i?.deref?.()??i;v!=null&&r(v,p)&&(p=v,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new _ee(p):p}return h.s=kI,h.v=p,p}return l.clearCache=()=>{n=Dv(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function wee(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,d,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),mee(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:v,memoizeOptions:y=[],argsMemoize:w=G3,argsMemoizeOptions:j=[]}=p,E=RI(y),A=RI(j),T=gee(i),k=v(function(){return s++,h.apply(null,arguments)},...E),M=w(function(){l++;const L=yee(T,arguments);return d=k.apply(null,L),d},...A);return Object.assign(M,{resultFunc:h,memoizedResultFunc:k,dependencies:T,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:v,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var ee=wee(G3),Eee=Object.assign((t,e=ee)=>{pee(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,d,f)=>(l[n[f]]=d,l),{}))},{withTypes:()=>Eee}),g1={},y1={},b1={},DI;function jee(){return DI||(DI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),d=e(i);if(l===d&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?d-l:l-d}return 0};t.compareValues=n})(b1)),b1}var _1={},x1={},MI;function W3(){return MI||(MI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(x1)),x1}var zI;function Aee(){return zI||(zI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W3(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(_1)),_1}var LI;function See(){return LI||(LI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jee(),n=Aee(),r=sA();function i(s,l,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(w=>String(w));const h=(w,j)=>{let E=w;for(let A=0;A<j.length&&E!=null;++A)E=E[j[A]];return E},p=(w,j)=>j==null||w==null?j:typeof w=="object"&&"key"in w?Object.hasOwn(j,w.key)?j[w.key]:h(j,w.path):typeof w=="function"?w(j):Array.isArray(w)?h(j,w):typeof j=="object"?j[w]:j,v=l.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return s.map(w=>({original:w,criteria:v.map(j=>p(j,w))})).slice().sort((w,j)=>{for(let E=0;E<v.length;E++){const A=e.compareValues(w.criteria[E],j.criteria[E],d[E]);if(A!==0)return A}return 0}).map(w=>w.original)}t.orderBy=i})(y1)),y1}var w1={},VI;function Nee(){return VI||(VI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<s?l(p,f+1):i.push(p)}};return l(n,0),i}t.flatten=e})(w1)),w1}var E1={},UI;function Q3(){return UI||(UI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H3(),n=uA(),r=V3(),i=q3();function s(l,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&e.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?i.isEqualsSameValueZero(f[d],l):!1}t.isIterateeCall=s})(E1)),E1}var qI;function Tee(){return qI||(qI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=See(),n=Nee(),r=Q3();function i(s,...l){const d=l.length;return d>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:d>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(g1)),g1}var j1,BI;function Cee(){return BI||(BI=1,j1=Tee().sortBy),j1}var Pee=Cee();const h0=ns(Pee);var Y3=t=>t.legend.settings,Oee=t=>t.legend.size,Iee=t=>t.legend.payload,Ree=ee([Iee,Y3],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?h0(r,n):r});function kee(){return Oe(Ree)}var Mv=1;function X3(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Mv||Math.abs(l.left-e.left)>Mv||Math.abs(l.top-e.top)>Mv||Math.abs(l.width-e.width)>Mv)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function ur(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Dee=typeof Symbol=="function"&&Symbol.observable||"@@observable",$I=Dee,A1=()=>Math.random().toString(36).substring(7).split("").join("."),Mee={INIT:`@@redux/INIT${A1()}`,REPLACE:`@@redux/REPLACE${A1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${A1()}`},Fg=Mee;function hA(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Z3(t,e,n){if(typeof t!="function")throw new Error(ur(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ur(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ur(1));return n(Z3)(t,e)}let r=t,i=e,s=new Map,l=s,d=0,f=!1;function h(){l===s&&(l=new Map,s.forEach((A,T)=>{l.set(T,A)}))}function p(){if(f)throw new Error(ur(3));return i}function v(A){if(typeof A!="function")throw new Error(ur(4));if(f)throw new Error(ur(5));let T=!0;h();const k=d++;return l.set(k,A),function(){if(T){if(f)throw new Error(ur(6));T=!1,h(),l.delete(k),s=null}}}function y(A){if(!hA(A))throw new Error(ur(7));if(typeof A.type>"u")throw new Error(ur(8));if(typeof A.type!="string")throw new Error(ur(17));if(f)throw new Error(ur(9));try{f=!0,i=r(i,A)}finally{f=!1}return(s=l).forEach(k=>{k()}),A}function w(A){if(typeof A!="function")throw new Error(ur(10));r=A,y({type:Fg.REPLACE})}function j(){const A=v;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(ur(11));function k(){const R=T;R.next&&R.next(p())}return k(),{unsubscribe:A(k)}},[$I](){return this}}}return y({type:Fg.INIT}),{dispatch:y,subscribe:v,getState:p,replaceReducer:w,[$I]:j}}function zee(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Fg.INIT})>"u")throw new Error(ur(12));if(typeof n(void 0,{type:Fg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ur(13))})}function J3(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{zee(n)}catch(s){i=s}return function(l={},d){if(i)throw i;let f=!1;const h={};for(let p=0;p<r.length;p++){const v=r[p],y=n[v],w=l[v],j=y(w,d);if(typeof j>"u")throw d&&d.type,new Error(ur(14));h[v]=j,f=f||j!==w}return f=f||r.length!==Object.keys(l).length,f?h:l}}function Hg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Lee(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(ur(15))};const l={getState:i.getState,dispatch:(f,...h)=>s(f,...h)},d=t.map(f=>f(l));return s=Hg(...d)(i.dispatch),{...i,dispatch:s}}}function e6(t){return hA(t)&&"type"in t&&typeof t.type=="string"}var t6=Symbol.for("immer-nothing"),FI=Symbol.for("immer-draftable"),kr=Symbol.for("immer-state");function aa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var pi=Object,Pd=pi.getPrototypeOf,Kg="constructor",m0="prototype",Jw="configurable",Gg="enumerable",lg="writable",Jh="value",Bs=t=>!!t&&!!t[kr];function ma(t){return t?n6(t)||v0(t)||!!t[FI]||!!t[Kg]?.[FI]||g0(t)||y0(t):!1}var Vee=pi[m0][Kg].toString(),HI=new WeakMap;function n6(t){if(!t||!mA(t))return!1;const e=Pd(t);if(e===null||e===pi[m0])return!0;const n=pi.hasOwnProperty.call(e,Kg)&&e[Kg];if(n===Object)return!0;if(!od(n))return!1;let r=HI.get(n);return r===void 0&&(r=Function.toString.call(n),HI.set(n,r)),r===Vee}function p0(t,e,n=!0){km(t)===0?(n?Reflect.ownKeys(t):pi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function km(t){const e=t[kr];return e?e.type_:v0(t)?1:g0(t)?2:y0(t)?3:0}var KI=(t,e,n=km(t))=>n===2?t.has(e):pi[m0].hasOwnProperty.call(t,e),eE=(t,e,n=km(t))=>n===2?t.get(e):t[e],Wg=(t,e,n,r=km(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Uee(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var v0=Array.isArray,g0=t=>t instanceof Map,y0=t=>t instanceof Set,mA=t=>typeof t=="object",od=t=>typeof t=="function",S1=t=>typeof t=="boolean";function qee(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Ss=t=>t.copy_||t.base_,pA=t=>t.modified_?t.copy_:t.base_;function tE(t,e){if(g0(t))return new Map(t);if(y0(t))return new Set(t);if(v0(t))return Array[m0].slice.call(t);const n=n6(t);if(e===!0||e==="class_only"&&!n){const r=pi.getOwnPropertyDescriptors(t);delete r[kr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],d=r[l];d[lg]===!1&&(d[lg]=!0,d[Jw]=!0),(d.get||d.set)&&(r[l]={[Jw]:!0,[lg]:!0,[Gg]:d[Gg],[Jh]:t[l]})}return pi.create(Pd(t),r)}else{const r=Pd(t);if(r!==null&&n)return{...t};const i=pi.create(r);return pi.assign(i,t)}}function vA(t,e=!1){return b0(t)||Bs(t)||!ma(t)||(km(t)>1&&pi.defineProperties(t,{set:zv,add:zv,clear:zv,delete:zv}),pi.freeze(t),e&&p0(t,(n,r)=>{vA(r,!0)},!1)),t}function Bee(){aa(2)}var zv={[Jh]:Bee};function b0(t){return t===null||!mA(t)?!0:pi.isFrozen(t)}var Qg="MapSet",nE="Patches",GI="ArrayMethods",r6={};function Yc(t){const e=r6[t];return e||aa(0,t),e}var WI=t=>!!r6[t],em,i6=()=>em,$ee=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:WI(Qg)?Yc(Qg):void 0,arrayMethodsPlugin_:WI(GI)?Yc(GI):void 0});function QI(t,e){e&&(t.patchPlugin_=Yc(nE),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function rE(t){iE(t),t.drafts_.forEach(Fee),t.drafts_=null}function iE(t){t===em&&(em=t.parent_)}var YI=t=>em=$ee(em,t);function Fee(t){const e=t[kr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function XI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[kr].modified_&&(rE(e),aa(4)),ma(t)&&(t=ZI(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[kr].base_,t,e)}else t=ZI(e,n);return Hee(e,t,!0),rE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==t6?t:void 0}function ZI(t,e){if(b0(e))return e;const n=e[kr];if(!n)return Yg(e,t.handledSet_,t);if(!_0(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);o6(n,t)}return n.copy_}function Hee(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&vA(e,n)}function a6(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var _0=(t,e)=>t.scope_===e,Kee=[];function s6(t,e,n,r){const i=Ss(t),s=t.type_;if(r!==void 0&&eE(i,r,s)===e){Wg(i,r,n,s);return}if(!t.draftLocations_){const d=t.draftLocations_=new Map;p0(i,(f,h)=>{if(Bs(h)){const p=d.get(h)||[];p.push(f),d.set(h,p)}})}const l=t.draftLocations_.get(e)??Kee;for(const d of l)Wg(i,d,n,s)}function Gee(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!_0(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const l=pA(s);s6(t,s.draft_??s,l,n),o6(s,i)})}function o6(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}a6(t)}}function Wee(t,e,n){const{scope_:r}=t;if(Bs(n)){const i=n[kr];_0(i,r)&&i.callbacks_.push(function(){cg(t);const l=pA(i);s6(t,n,l,e)})}else ma(n)&&t.callbacks_.push(function(){const s=Ss(t);t.type_===3?s.has(n)&&Yg(n,r.handledSet_,r):eE(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Yg(eE(t.copy_,e,t.type_),r.handledSet_,r)})}function Yg(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Bs(t)||e.has(t)||!ma(t)||b0(t)||(e.add(t),p0(t,(r,i)=>{if(Bs(i)){const s=i[kr];if(_0(s,n)){const l=pA(s);Wg(t,r,l,t.type_),a6(s)}}else ma(i)&&Yg(i,e,n)})),t}function Qee(t,e){const n=v0(t),r={type_:n?1:0,scope_:e?e.scope_:i6(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=Xg;n&&(i=[r],s=tm);const{revoke:l,proxy:d}=Proxy.revocable(i,s);return r.draft_=d,r.revoke_=l,[d,r]}var Xg={get(t,e){if(e===kr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Ss(t);if(!KI(i,e,t.type_))return Yee(t,i,e);const s=i[e];if(t.finalized_||!ma(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&qee(e))return s;if(s===N1(t.base_,e)){cg(t);const l=t.type_===1?+e:e,d=sE(t.scope_,s,t,l);return t.copy_[l]=d}return s},has(t,e){return e in Ss(t)},ownKeys(t){return Reflect.ownKeys(Ss(t))},set(t,e,n){const r=l6(Ss(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=N1(Ss(t),e),s=i?.[kr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Uee(n,i)&&(n!==void 0||KI(t.base_,e,t.type_)))return!0;cg(t),aE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Wee(t,e,n)),!0},deleteProperty(t,e){return cg(t),N1(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),aE(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ss(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[lg]:!0,[Jw]:t.type_!==1||e!=="length",[Gg]:r[Gg],[Jh]:n[e]}},defineProperty(){aa(11)},getPrototypeOf(t){return Pd(t.base_)},setPrototypeOf(){aa(12)}},tm={};for(let t in Xg){let e=Xg[t];tm[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}tm.deleteProperty=function(t,e){return tm.set.call(this,t,e,void 0)};tm.set=function(t,e,n){return Xg.set.call(this,t[0],e,n,t[0])};function N1(t,e){const n=t[kr];return(n?Ss(n):t)[e]}function Yee(t,e,n){const r=l6(e,n);return r?Jh in r?r[Jh]:r.get?.call(t.draft_):void 0}function l6(t,e){if(!(e in t))return;let n=Pd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Pd(n)}}function aE(t){t.modified_||(t.modified_=!0,t.parent_&&aE(t.parent_))}function cg(t){t.copy_||(t.assigned_=new Map,t.copy_=tE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Xee=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(od(n)&&!od(r)){const l=r;r=n;const d=this;return function(h=l,...p){return d.produce(h,v=>r.call(this,v,...p))}}od(r)||aa(6),i!==void 0&&!od(i)&&aa(7);let s;if(ma(n)){const l=YI(this),d=sE(l,n,void 0);let f=!0;try{s=r(d),f=!1}finally{f?rE(l):iE(l)}return QI(l,i),XI(s,l)}else if(!n||!mA(n)){if(s=r(n),s===void 0&&(s=n),s===t6&&(s=void 0),this.autoFreeze_&&vA(s,!0),i){const l=[],d=[];Yc(nE).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:d}),i(l,d)}return s}else aa(1,n)},this.produceWithPatches=(n,r)=>{if(od(n))return(d,...f)=>this.produceWithPatches(d,h=>n(h,...f));let i,s;return[this.produce(n,r,(d,f)=>{i=d,s=f}),i,s]},S1(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),S1(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),S1(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ma(e)||aa(8),Bs(e)&&(e=ua(e));const n=YI(this),r=sE(n,e,void 0);return r[kr].isManual_=!0,iE(n),r}finishDraft(e,n){const r=e&&e[kr];(!r||!r.isManual_)&&aa(9);const{scope_:i}=r;return QI(i,n),XI(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=Yc(nE).applyPatches_;return Bs(e)?i(e,n):this.produce(e,s=>i(s,n))}};function sE(t,e,n,r){const[i,s]=g0(e)?Yc(Qg).proxyMap_(e,n):y0(e)?Yc(Qg).proxySet_(e,n):Qee(e,n);return(n?.scope_??i6()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?Gee(n,s,r):s.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),i}function ua(t){return Bs(t)||aa(10,t),c6(t)}function c6(t){if(!ma(t)||b0(t))return t;const e=t[kr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=tE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=tE(t,!0);return p0(n,(i,s)=>{Wg(n,i,c6(s))},r),e&&(e.finalized_=!1),n}var Zee=new Xee,u6=Zee.produce;function d6(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var Jee=d6(),ete=d6,tte=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hg:Hg.apply(null,arguments)};function $i(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(vi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>e6(r)&&r.type===t,n}var f6=class Ah extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ah.prototype)}static get[Symbol.species](){return Ah}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ah(...e[0].concat(this)):new Ah(...e.concat(this))}};function JI(t){return ma(t)?u6(t,()=>{}):t}function Lv(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function nte(t){return typeof t=="boolean"}var rte=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new f6;return n&&(nte(n)?l.push(Jee):l.push(ete(n.extraArgument))),l},h6="RTK_autoBatch",Xt=()=>t=>({payload:t,meta:{[h6]:!0}}),eR=t=>e=>{setTimeout(e,t)},m6=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const d=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:eR(10):t.type==="callback"?t.queueNotification:eR(t.timeout),h=()=>{l=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const v=()=>i&&p(),y=r.subscribe(v);return d.add(p),()=>{y(),d.delete(p)}},dispatch(p){try{return i=!p?.meta?.[h6],s=!i,s&&(l||(l=!0,f(h))),r.dispatch(p)}finally{i=!0}}})},ite=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new f6(t);return r&&i.push(m6(typeof r=="object"?r:void 0)),i};function ate(t){const e=rte(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(hA(n))d=J3(n);else throw new Error(vi(1));let f;typeof r=="function"?f=r(e):f=e();let h=Hg;i&&(h=tte({trace:!1,...typeof i=="object"&&i}));const p=Lee(...f),v=ite(p);let y=typeof l=="function"?l(v):v();const w=h(...y);return Z3(d,s,w)}function p6(t){const e={},n=[];let r;const i={addCase(s,l){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(vi(28));if(d in e)throw new Error(vi(29));return e[d]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function ste(t){return typeof t=="function"}function ote(t,e){let[n,r,i]=p6(e),s;if(ste(t))s=()=>JI(t());else{const d=JI(t);s=()=>d}function l(d=s(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,v)=>{if(v)if(Bs(p)){const w=v(p,f);return w===void 0?p:w}else{if(ma(p))return u6(p,y=>v(y,f));{const y=v(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},d)}return l.getInitialState=s,l}var lte="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",cte=(t=21)=>{let e="",n=t;for(;n--;)e+=lte[Math.random()*64|0];return e},ute=Symbol.for("rtk-slice-createasyncthunk");function dte(t,e){return`${t}/${e}`}function fte({creators:t}={}){const e=t?.asyncThunk?.[ute];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(vi(11));const l=(typeof r.reducers=="function"?r.reducers(mte()):r.reducers)||{},d=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(M,R){const L=typeof M=="string"?M:M.type;if(!L)throw new Error(vi(12));if(L in f.sliceCaseReducersByType)throw new Error(vi(13));return f.sliceCaseReducersByType[L]=R,h},addMatcher(M,R){return f.sliceMatchers.push({matcher:M,reducer:R}),h},exposeAction(M,R){return f.actionCreators[M]=R,h},exposeCaseReducer(M,R){return f.sliceCaseReducersByName[M]=R,h}};d.forEach(M=>{const R=l[M],L={reducerName:M,type:dte(i,M),createNotation:typeof r.reducers=="function"};vte(R)?yte(L,R,h,e):pte(L,R,h)});function p(){const[M={},R=[],L=void 0]=typeof r.extraReducers=="function"?p6(r.extraReducers):[r.extraReducers],D={...M,...f.sliceCaseReducersByType};return ote(r.initialState,O=>{for(let P in D)O.addCase(P,D[P]);for(let P of f.sliceMatchers)O.addMatcher(P.matcher,P.reducer);for(let P of R)O.addMatcher(P.matcher,P.reducer);L&&O.addDefaultCase(L)})}const v=M=>M,y=new Map,w=new WeakMap;let j;function E(M,R){return j||(j=p()),j(M,R)}function A(){return j||(j=p()),j.getInitialState()}function T(M,R=!1){function L(O){let P=O[M];return typeof P>"u"&&R&&(P=Lv(w,L,A)),P}function D(O=v){const P=Lv(y,R,()=>new WeakMap);return Lv(P,O,()=>{const I={};for(const[B,U]of Object.entries(r.selectors??{}))I[B]=hte(U,O,()=>Lv(w,O,A),R);return I})}return{reducerPath:M,getSelectors:D,get selectors(){return D(L)},selectSlice:L}}const k={name:i,reducer:E,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:A,...T(s),injectInto(M,{reducerPath:R,...L}={}){const D=R??s;return M.inject({reducerPath:D,reducer:E},L),{...k,...T(D,!0)}}};return k}}function hte(t,e,n,r){function i(s,...l){let d=e(s);return typeof d>"u"&&r&&(d=n()),t(d,...l)}return i.unwrapped=t,i}var Zr=fte();function mte(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function pte({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!gte(r))throw new Error(vi(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?$i(t,l):$i(t))}function vte(t){return t._reducerDefinitionType==="asyncThunk"}function gte(t){return t._reducerDefinitionType==="reducerWithPrepare"}function yte({type:t,reducerName:e},n,r,i){if(!i)throw new Error(vi(18));const{payloadCreator:s,fulfilled:l,pending:d,rejected:f,settled:h,options:p}=n,v=i(t,s,p);r.exposeAction(e,v),l&&r.addCase(v.fulfilled,l),d&&r.addCase(v.pending,d),f&&r.addCase(v.rejected,f),h&&r.addMatcher(v.settled,h),r.exposeCaseReducer(e,{fulfilled:l||Vv,pending:d||Vv,rejected:f||Vv,settled:h||Vv})}function Vv(){}var bte="task",v6="listener",g6="completed",gA="cancelled",_te=`task-${gA}`,xte=`task-${g6}`,oE=`${v6}-${gA}`,wte=`${v6}-${g6}`,x0=class{constructor(t){this.code=t,this.message=`${bte} ${gA} (reason: ${t})`}name="TaskAbortError";message},yA=(t,e)=>{if(typeof t!="function")throw new TypeError(vi(32))},Zg=()=>{},y6=(t,e=Zg)=>(t.catch(e),t),b6=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Rc=t=>{if(t.aborted)throw new x0(t.reason)};function _6(t,e){let n=Zg;return new Promise((r,i)=>{const s=()=>i(new x0(t.reason));if(t.aborted){s();return}n=b6(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Zg})}var Ete=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof x0?"cancelled":"rejected",error:n}}finally{e?.()}},Jg=t=>e=>y6(_6(t,e).then(n=>(Rc(t),n))),x6=t=>{const e=Jg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:bd}=Object,tR={},w0="listenerMiddleware",jte=(t,e)=>{const n=r=>b6(t,()=>r.abort(t.reason));return(r,i)=>{yA(r);const s=new AbortController;n(s);const l=Ete(async()=>{Rc(t),Rc(s.signal);const d=await r({pause:Jg(s.signal),delay:x6(s.signal),signal:s.signal});return Rc(s.signal),d},()=>s.abort(xte));return i?.autoJoin&&e.push(l.catch(Zg)),{result:Jg(t)(l),cancel(){s.abort(_te)}}}},Ate=(t,e)=>{const n=async(r,i)=>{Rc(e);let s=()=>{};const d=[new Promise((f,h)=>{let p=t({predicate:r,effect:(v,y)=>{y.unsubscribe(),f([v,y.getState(),y.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&d.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await _6(e,Promise.race(d));return Rc(e),f}finally{s()}};return(r,i)=>y6(n(r,i))},w6=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=$i(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(vi(21));return yA(s),{predicate:i,type:e,effect:s}},E6=bd(t=>{const{type:e,predicate:n,effect:r}=w6(t);return{id:cte(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(vi(22))}}},{withTypes:()=>E6}),nR=(t,e)=>{const{type:n,effect:r,predicate:i}=w6(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},lE=t=>{t.pending.forEach(e=>{e.abort(oE)})},Ste=(t,e)=>()=>{for(const n of e.keys())lE(n);t.clear()},rR=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},j6=bd($i(`${w0}/add`),{withTypes:()=>j6}),Nte=$i(`${w0}/removeAll`),A6=bd($i(`${w0}/remove`),{withTypes:()=>A6}),Tte=(...t)=>{console.error(`${w0}/error`,...t)},Dm=(t={})=>{const e=new Map,n=new Map,r=w=>{const j=n.get(w)??0;n.set(w,j+1)},i=w=>{const j=n.get(w)??1;j===1?n.delete(w):n.set(w,j-1)},{extra:s,onError:l=Tte}=t;yA(l);const d=w=>(w.unsubscribe=()=>e.delete(w.id),e.set(w.id,w),j=>{w.unsubscribe(),j?.cancelActive&&lE(w)}),f=w=>{const j=nR(e,w)??E6(w);return d(j)};bd(f,{withTypes:()=>f});const h=w=>{const j=nR(e,w);return j&&(j.unsubscribe(),w.cancelActive&&lE(j)),!!j};bd(h,{withTypes:()=>h});const p=async(w,j,E,A)=>{const T=new AbortController,k=Ate(f,T.signal),M=[];try{w.pending.add(T),r(w),await Promise.resolve(w.effect(j,bd({},E,{getOriginalState:A,condition:(R,L)=>k(R,L).then(Boolean),take:k,delay:x6(T.signal),pause:Jg(T.signal),extra:s,signal:T.signal,fork:jte(T.signal,M),unsubscribe:w.unsubscribe,subscribe:()=>{e.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((R,L,D)=>{R!==T&&(R.abort(oE),D.delete(R))})},cancel:()=>{T.abort(oE),w.pending.delete(T)},throwIfCancelled:()=>{Rc(T.signal)}})))}catch(R){R instanceof x0||rR(l,R,{raisedBy:"effect"})}finally{await Promise.all(M),T.abort(wte),i(w),w.pending.delete(T)}},v=Ste(e,n);return{middleware:w=>j=>E=>{if(!e6(E))return j(E);if(j6.match(E))return f(E.payload);if(Nte.match(E)){v();return}if(A6.match(E))return h(E.payload);let A=w.getState();const T=()=>{if(A===tR)throw new Error(vi(23));return A};let k;try{if(k=j(E),e.size>0){const M=w.getState(),R=Array.from(e.values());for(const L of R){let D=!1;try{D=L.predicate(E,M,A)}catch(O){D=!1,rR(l,O,{raisedBy:"predicate"})}D&&p(L,E,w,T)}}}finally{A=tR}return k},startListening:f,stopListening:h,clearListeners:v}};function vi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Cte={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},S6=Zr({name:"chartLayout",initialState:Cte,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Pte,setLayout:Ote,setChartSize:Ite,setScale:Rte}=S6.actions,kte=S6.reducer;function N6(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function tt(t){return Number.isFinite(t)}function Za(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){Dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dte(t,e,n){return(e=Mte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mte(t){var e=zte(t,"string");return typeof e=="symbol"?e:e+""}function zte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jt(t,e,n){return Jt(t)||Jt(e)?n:Xa(e)?Wc(t,e,n):typeof e=="function"?e(t):n}var Lte=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:d}=e;if((d==="vertical"||d==="horizontal"&&l==="middle")&&s!=="center"&&Ne(t[s]))return dd(dd({},t),{},{[s]:t[s]+(r||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&l!=="middle"&&Ne(t[l]))return dd(dd({},t),{},{[l]:t[l]+(i||0)})}return t},va=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",T6=(t,e,n,r)=>{if(r)return t.map(d=>d.coordinate);var i,s,l=t.map(d=>(d.coordinate===e&&(i=!0),d.coordinate===n&&(s=!0),d.coordinate));return i||l.push(e),s||l.push(n),l},C6=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:v,niceTicks:y,axisType:w}=t;if(!l)return null;var j=d==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/j:0;if(E=w==="angleAxis"&&s&&s.length>=2?Jn(s[0]-s[1])*2*E:E,v||y){var A=(v||y||[]).map((T,k)=>{var M=r?r.indexOf(T):T,R=l.map(M);return tt(R)?{coordinate:R+E,value:T,offset:E,index:k}:null}).filter(Yr);return A}return f&&h?h.map((T,k)=>{var M=l.map(T);return tt(M)?{coordinate:M+E,value:T,index:k,offset:E}:null}).filter(Yr):l.ticks&&p!=null?l.ticks(p).map((T,k)=>{var M=l.map(T);return tt(M)?{coordinate:M+E,value:T,index:k,offset:E}:null}).filter(Yr):l.domain().map((T,k)=>{var M=l.map(T);return tt(M)?{coordinate:M+E,value:r?r[T]:T,index:k,offset:E}:null}).filter(Yr)},Vte=(t,e)=>{if(!e||e.length!==2||!Ne(e[0])||!Ne(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ne(t[0])||t[0]<n)&&(i[0]=n),(!Ne(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Ute=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0,d=0;d<n;++d){var f=t[d],h=f?.[i];if(h!=null){var p=h[1],v=h[0],y=ha(p)?v:p;y>=0?(h[0]=s,s+=y,h[1]=s):(h[0]=l,l+=y,h[1]=l)}}}},qte=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0;l<n;++l){var d=t[l],f=d?.[i];if(f!=null){var h=ha(f[1])?f[0]:f[1];h>=0?(f[0]=s,s+=h,f[1]=s):(f[0]=0,f[1]=0)}}}},Bte={sign:Ute,expand:lJ,none:Gc,silhouette:cJ,wiggle:uJ,positive:qte},$te=(t,e,n)=>{var r,i=(r=Bte[n])!==null&&r!==void 0?r:Gc,s=oJ().keys(e).value((d,f)=>Number(jt(d,f,0))).order(Xw).offset(i),l=s(t);return l.forEach((d,f)=>{d.forEach((h,p)=>{var v=jt(t[p],e[f],0);Array.isArray(v)&&v.length===2&&Ne(v[0])&&Ne(v[1])&&(h[0]=v[0],h[1]=v[1])})}),l};function P6(t){return t==null?void 0:String(t)}function ey(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Jt(i[e.dataKey])){var d=D3(n,"value",i[e.dataKey]);if(d)return d.coordinate+r/2}return n!=null&&n[s]?n[s].coordinate+r/2:null}var f=jt(i,Jt(l)?e.dataKey:l),h=e.scale.map(f);return Ne(h)?h:null}var aR=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var d=jt(s,e.dataKey,e.scale.domain()[l]);if(Jt(d))return null;var f=e.scale.map(d);return Ne(f)?f-i/2+r:null},Fte=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Hte=t=>{var e=t.flat(2).filter(Ne);return[Math.min(...e),Math.max(...e)]},Kte=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Gte=(t,e,n)=>{if(t!=null)return Kte(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:l}=s,d=l.reduce((f,h)=>{var p=N6(h,e,n),v=Hte(p);return!tt(v[0])||!tt(v[1])?f:[Math.min(f[0],v[0]),Math.max(f[1],v[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},sR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xl=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=h0(e,p=>p.coordinate),s=1/0,l=1,d=i.length;l<d;l++){var f=i[l],h=i[l-1];s=Math.min((f?.coordinate||0)-(h?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function lR(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return dd(dd({},e),{},{dataKey:n,payload:r,value:i,name:s})}function Il(t,e){if(t)return String(t);if(typeof e=="string")return e}var Wte=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Qte=(t,e)=>e==="centric"?t.angle:t.radius,eo=t=>t.layout.width,to=t=>t.layout.height,Yte=t=>t.layout.scale,O6=t=>t.layout.margin,E0=ee(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),j0=ee(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),I6="data-recharts-item-index",R6="data-recharts-item-id",Mm=60;function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){Xte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xte(t,e,n){return(e=Zte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zte(t){var e=Jte(t,"string");return typeof e=="symbol"?e:e+""}function Jte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ene=t=>t.brush.height;function tne(t){var e=j0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Mm;return n+i}return n},0)}function nne(t){var e=j0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Mm;return n+i}return n},0)}function rne(t){var e=E0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function ine(t){var e=E0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var qn=ee([eo,to,O6,ene,tne,nne,rne,ine,Y3,Oee],(t,e,n,r,i,s,l,d,f,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},v={top:(n.top||0)+l,bottom:(n.bottom||0)+d},y=Uv(Uv({},v),p),w=y.bottom;y.bottom+=r,y=Lte(y,f,h);var j=t-y.left-y.right,E=e-y.top-y.bottom;return Uv(Uv({brushBottom:w},y),{},{width:Math.max(j,0),height:Math.max(E,0)})}),ane=ee(qn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),bA=ee(eo,to,(t,e)=>({x:0,y:0,width:t,height:e})),sne=_.createContext(null),tr=()=>_.useContext(sne)!=null,A0=t=>t.brush,S0=ee([A0,qn,O6],(t,e,n)=>({height:t.height,x:Ne(t.x)?t.x:e.left,y:Ne(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ne(t.width)?t.width:e.width})),T1={},C1={},P1={},uR;function one(){return uR||(uR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,d=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{d!==null&&(n.apply(l,d),l=void 0,d=null)},v=()=>{h&&p(),E()};let y=null;const w=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,v()},r)},j=()=>{y!==null&&(clearTimeout(y),y=null)},E=()=>{j(),l=void 0,d=null},A=()=>{p()},T=function(...k){if(i?.aborted)return;l=this,d=k;const M=y==null;w(),f&&M&&p()};return T.schedule=w,T.cancel=E,T.flush=A,i?.addEventListener("abort",E,{once:!0}),T}t.debounce=e})(P1)),P1}var dR;function lne(){return dR||(dR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=one();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:d=!0,maxWait:f}=s,h=Array(2);l&&(h[0]="leading"),d&&(h[1]="trailing");let p,v=null;const y=e.debounce(function(...E){p=r.apply(this,E),v=null},i,{edges:h}),w=function(...E){return f!=null&&(v===null&&(v=Date.now()),Date.now()-v>=f)?(p=r.apply(this,E),v=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,E),p)},j=()=>(y.flush(),p);return w.cancel=y.cancel,w.flush=j,w}t.debounce=n})(C1)),C1}var fR;function cne(){return fR||(fR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lne();function n(r,i=0,s={}){const{leading:l=!0,trailing:d=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:d})}t.throttle=n})(T1)),T1}var O1,hR;function une(){return hR||(hR=1,O1=cne().throttle),O1}var dne=une();const fne=ns(dne);var ty=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},Ua={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},k6=(t,e,n)=>{var{width:r=Ua.width,height:i=Ua.height,aspect:s,maxHeight:l}=n,d=Qc(r)?t:Number(r),f=Qc(i)?e:Number(i);return s&&s>0&&(d?f=d/s:f&&(d=f*s),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:d,calculatedHeight:f}},hne={width:0,height:0,overflow:"visible"},mne={width:0,overflowX:"visible"},pne={height:0,overflowY:"visible"},vne={},gne=t=>{var{width:e,height:n}=t,r=Qc(e),i=Qc(n);return r&&i?hne:r?mne:i?pne:vne};function yne(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i=Ua.width,s=Ua.height):i===void 0?i=r&&r>0?void 0:Ua.width:s===void 0&&(s=r&&r>0?void 0:Ua.height),{width:i,height:s}}function cE(){return cE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cE.apply(null,arguments)}function mR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(n),!0).forEach(function(r){bne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bne(t,e,n){return(e=_ne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ne(t){var e=xne(t,"string");return typeof e=="symbol"?e:e+""}function xne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D6=_.createContext(Ua.initialDimension);function wne(t){return Za(t.width)&&Za(t.height)}function M6(t){var{children:e,width:n,height:r}=t,i=_.useMemo(()=>({width:n,height:r}),[n,r]);return wne(i)?_.createElement(D6.Provider,{value:i},e):null}var _A=()=>_.useContext(D6),Ene=_.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=Ua.initialDimension,width:i,height:s,minWidth:l=Ua.minWidth,minHeight:d,maxHeight:f,children:h,debounce:p=Ua.debounce,id:v,className:y,onResize:w,style:j={}}=t,E=_.useRef(null),A=_.useRef();A.current=w,_.useImperativeHandle(e,()=>E.current);var[T,k]=_.useState({containerWidth:r.width,containerHeight:r.height}),M=_.useCallback((P,I)=>{k(B=>{var U=Math.round(P),z=Math.round(I);return B.containerWidth===U&&B.containerHeight===z?B:{containerWidth:U,containerHeight:z}})},[]);_.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Ol;var P=z=>{var q,pe=z[0];if(pe!=null){var{width:Ee,height:F}=pe.contentRect;M(Ee,F),(q=A.current)===null||q===void 0||q.call(A,Ee,F)}};p>0&&(P=fne(P,p,{trailing:!0,leading:!1}));var I=new ResizeObserver(P),{width:B,height:U}=E.current.getBoundingClientRect();return M(B,U),I.observe(E.current),()=>{I.disconnect()}},[M,p]);var{containerWidth:R,containerHeight:L}=T;ty(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:D,calculatedHeight:O}=k6(R,L,{width:i,height:s,aspect:n,maxHeight:f});return ty(D!=null&&D>0||O!=null&&O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,O,i,s,l,d,n),_.createElement("div",{id:v?"".concat(v):void 0,className:gt("recharts-responsive-container",y),style:pR(pR({},j),{},{width:i,height:s,minWidth:l,minHeight:d,maxHeight:f}),ref:E},_.createElement("div",{style:gne({width:i,height:s})},_.createElement(M6,{width:D,height:O},h)))}),bc=_.forwardRef((t,e)=>{var n=_A();if(Za(n.width)&&Za(n.height))return t.children;var{width:r,height:i}=yne({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=k6(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ne(s)&&Ne(l)?_.createElement(M6,{width:s,height:l},t.children):_.createElement(Ene,cE({},t,{width:r,height:i,ref:e}))});function xA(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var N0=()=>{var t,e=tr(),n=Oe(ane),r=Oe(S0),i=(t=Oe(A0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},jne={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},z6=()=>{var t;return(t=Oe(qn))!==null&&t!==void 0?t:jne},wA=()=>Oe(eo),EA=()=>Oe(to),Ane=()=>Oe(t=>t.layout.margin),ht=t=>t.layout.layoutType,Rl=()=>Oe(ht),jA=()=>{var t=Rl();if(t==="horizontal"||t==="vertical")return t},L6=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},Sne=()=>{var t=Rl();return t!==void 0},zm=t=>{var e=Ht(),n=tr(),{width:r,height:i}=t,s=_A(),l=r,d=i;return s&&(l=s.width>0?s.width:r,d=s.height>0?s.height:i),_.useEffect(()=>{!n&&Za(l)&&Za(d)&&e(Ite({width:l,height:d}))},[e,n,l,d]),null},V6=Symbol.for("immer-nothing"),vR=Symbol.for("immer-draftable"),_i=Symbol.for("immer-state");function sa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var nm=Object.getPrototypeOf;function Od(t){return!!t&&!!t[_i]}function Xc(t){return t?U6(t)||Array.isArray(t)||!!t[vR]||!!t.constructor?.[vR]||Lm(t)||C0(t):!1}var Nne=Object.prototype.constructor.toString(),gR=new WeakMap;function U6(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=gR.get(n);return r===void 0&&(r=Function.toString.call(n),gR.set(n,r)),r===Nne}function ny(t,e,n=!0){T0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function T0(t){const e=t[_i];return e?e.type_:Array.isArray(t)?1:Lm(t)?2:C0(t)?3:0}function uE(t,e){return T0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function q6(t,e,n){const r=T0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Tne(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Lm(t){return t instanceof Map}function C0(t){return t instanceof Set}function gc(t){return t.copy_||t.base_}function dE(t,e){if(Lm(t))return new Map(t);if(C0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=U6(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[_i];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],d=r[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[l]})}return Object.create(nm(t),r)}else{const r=nm(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function AA(t,e=!1){return P0(t)||Od(t)||!Xc(t)||(T0(t)>1&&Object.defineProperties(t,{set:qv,add:qv,clear:qv,delete:qv}),Object.freeze(t),e&&Object.values(t).forEach(n=>AA(n,!0))),t}function Cne(){sa(2)}var qv={value:Cne};function P0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Pne={};function Zc(t){const e=Pne[t];return e||sa(0,t),e}var rm;function B6(){return rm}function One(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yR(t,e){e&&(Zc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function fE(t){hE(t),t.drafts_.forEach(Ine),t.drafts_=null}function hE(t){t===rm&&(rm=t.parent_)}function bR(t){return rm=One(rm,t)}function Ine(t){const e=t[_i];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function _R(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[_i].modified_&&(fE(e),sa(4)),Xc(t)&&(t=ry(e,t),e.parent_||iy(e,t)),e.patches_&&Zc("Patches").generateReplacementPatches_(n[_i].base_,t,e.patches_,e.inversePatches_)):t=ry(e,n,[]),fE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==V6?t:void 0}function ry(t,e,n){if(P0(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[_i];if(!i)return ny(e,(s,l)=>xR(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return iy(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,d=!1;i.type_===3&&(l=new Set(s),s.clear(),d=!0),ny(l,(f,h)=>xR(t,i,s,f,h,n,d),r),iy(t,s,!1),n&&t.patches_&&Zc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function xR(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const d=P0(i);if(!(d&&!l)){if(Od(i)){const f=s&&e&&e.type_!==3&&!uE(e.assigned_,r)?s.concat(r):void 0,h=ry(t,i,f);if(q6(n,r,h),Od(h))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Xc(i)&&!d){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&d)return;ry(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Lm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&iy(t,i)}}}function iy(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&AA(e,n)}function Rne(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:B6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=SA;n&&(i=[r],s=im);const{revoke:l,proxy:d}=Proxy.revocable(i,s);return r.draft_=d,r.revoke_=l,d}var SA={get(t,e){if(e===_i)return t;const n=gc(t);if(!uE(n,e))return kne(t,n,e);const r=n[e];return t.finalized_||!Xc(r)?r:r===I1(t.base_,e)?(R1(t),t.copy_[e]=pE(r,t)):r},has(t,e){return e in gc(t)},ownKeys(t){return Reflect.ownKeys(gc(t))},set(t,e,n){const r=$6(gc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=I1(gc(t),e),s=i?.[_i];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Tne(n,i)&&(n!==void 0||uE(t.base_,e)))return!0;R1(t),mE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return I1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,R1(t),mE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=gc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){sa(11)},getPrototypeOf(t){return nm(t.base_)},setPrototypeOf(){sa(12)}},im={};ny(SA,(t,e)=>{im[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});im.deleteProperty=function(t,e){return im.set.call(this,t,e,void 0)};im.set=function(t,e,n){return SA.set.call(this,t[0],e,n,t[0])};function I1(t,e){const n=t[_i];return(n?gc(n):t)[e]}function kne(t,e,n){const r=$6(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function $6(t,e){if(!(e in t))return;let n=nm(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=nm(n)}}function mE(t){t.modified_||(t.modified_=!0,t.parent_&&mE(t.parent_))}function R1(t){t.copy_||(t.copy_=dE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Dne=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(f=s,...h){return l.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&sa(6),r!==void 0&&typeof r!="function"&&sa(7);let i;if(Xc(e)){const s=bR(this),l=pE(e,void 0);let d=!0;try{i=n(l),d=!1}finally{d?fE(s):hE(s)}return yR(s,r),_R(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===V6&&(i=void 0),this.autoFreeze_&&AA(i,!0),r){const s=[],l=[];Zc("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else sa(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...d)=>this.produceWithPatches(l,f=>e(f,...d));let r,i;return[this.produce(e,n,(l,d)=>{r=l,i=d}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Xc(t)||sa(8),Od(t)&&(t=Mne(t));const e=bR(this),n=pE(t,void 0);return n[_i].isManual_=!0,hE(e),n}finishDraft(t,e){const n=t&&t[_i];(!n||!n.isManual_)&&sa(9);const{scope_:r}=n;return yR(r,e),_R(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Zc("Patches").applyPatches_;return Od(t)?r(t,e):this.produce(t,i=>r(i,e))}};function pE(t,e){const n=Lm(t)?Zc("MapSet").proxyMap_(t,e):C0(t)?Zc("MapSet").proxySet_(t,e):Rne(t,e);return(e?e.scope_:B6()).drafts_.push(n),n}function Mne(t){return Od(t)||sa(10,t),F6(t)}function F6(t){if(!Xc(t)||P0(t))return t;const e=t[_i];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=dE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=dE(t,!0);return ny(n,(i,s)=>{q6(n,i,F6(s))},r),e&&(e.finalized_=!1),n}var zne=new Dne;zne.produce;var Lne={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},H6=Zr({name:"legend",initialState:Lne,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Xt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ua(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Xt()},removeLegendPayload:{reducer(t,e){var n=ua(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Xt()}}}),{setLegendSize:wR,setLegendSettings:Vne,addLegendPayload:K6,replaceLegendPayload:G6,removeLegendPayload:W6}=H6.actions,Une=H6.reducer,qne=["contextPayload"];function vE(){return vE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vE.apply(null,arguments)}function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Id(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){Bne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bne(t,e,n){return(e=$ne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ne(t){var e=Fne(t,"string");return typeof e=="symbol"?e:e+""}function Fne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hne(t,e){if(t==null)return{};var n,r,i=Kne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Gne(t){return t.value}function Wne(t){var{contextPayload:e}=t,n=Hne(t,qne),r=K3(e,t.payloadUniqBy,Gne),i=Id(Id({},n),{},{payload:r});return _.isValidElement(t.content)?_.cloneElement(t.content,i):typeof t.content=="function"?_.createElement(t.content,i):_.createElement(VJ,i)}function Qne(t,e,n,r,i,s){var{layout:l,align:d,verticalAlign:f}=e,h,p;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(d==="center"&&l==="vertical"?h={left:((r||0)-s.width)/2}:h=d==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(f==="middle"?p={top:((i||0)-s.height)/2}:p=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Id(Id({},h),p)}function Yne(t){var e=Ht();return _.useEffect(()=>{e(Vne(t))},[e,t]),null}function Xne(t){var e=Ht();return _.useEffect(()=>(e(wR(t)),()=>{e(wR({width:0,height:0}))}),[e,t]),null}function Zne(t,e,n,r){return t==="vertical"&&e!=null?{height:e}:t==="horizontal"?{width:n||r}:null}var Jne={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function gE(t){var e=pn(t,Jne),n=kee(),r=OZ(),i=Ane(),{width:s,height:l,wrapperStyle:d,portal:f}=e,[h,p]=X3([n]),v=wA(),y=EA();if(v==null||y==null)return null;var w=v-(i?.left||0)-(i?.right||0),j=Zne(e.layout,l,s,w),E=f?d:Id(Id({position:"absolute",width:j?.width||s||"auto",height:j?.height||l||"auto"},Qne(d,e,i,v,y,h)),d),A=f??r;if(A==null||n==null)return null;var T=_.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:p},_.createElement(Yne,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!f&&_.createElement(Xne,{width:h.width,height:h.height}),_.createElement(Wne,vE({},e,j,{margin:i,chartWidth:v,chartHeight:y,contextPayload:n})));return QE.createPortal(T,A)}gE.displayName="Legend";function yE(){return yE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yE.apply(null,arguments)}function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ch(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){ere(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ere(t,e,n){return(e=tre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tre(t){var e=nre(t,"string");return typeof e=="symbol"?e:e+""}function nre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rre(t){return Array.isArray(t)&&Xa(t[0])&&Xa(t[1])?t.join(" ~ "):t}var Zu={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},ire=t=>{var{separator:e=Zu.separator,contentStyle:n,itemStyle:r,labelStyle:i=Zu.labelStyle,payload:s,formatter:l,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:v,accessibilityLayer:y=Zu.accessibilityLayer}=t,w=()=>{if(s&&s.length){var L={padding:0,margin:0},D=(d?h0(s,d):s).map((O,P)=>{if(O.type==="none")return null;var I=O.formatter||l||rre,{value:B,name:U}=O,z=B,q=U;if(I){var pe=I(B,U,O,P,s);if(Array.isArray(pe))[z,q]=pe;else if(pe!=null)z=pe;else return null}var Ee=ch(ch({},Zu.itemStyle),{},{color:O.color||Zu.itemStyle.color},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:Ee},Xa(q)?_.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Xa(q)?_.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,_.createElement("span",{className:"recharts-tooltip-item-value"},z),_.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:L},D)}return null},j=ch(ch({},Zu.contentStyle),n),E=ch({margin:0},i),A=!Jt(p),T=A?p:"",k=gt("recharts-default-tooltip",f),M=gt("recharts-tooltip-label",h);A&&v&&s!==void 0&&s!==null&&(T=v(p,s));var R=y?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",yE({className:k,style:j},R),_.createElement("p",{className:M,style:E},_.isValidElement(T)?T:"".concat(T)),w())},uh="recharts-tooltip-wrapper",are={visibility:"hidden"};function sre(t){var{coordinate:e,translateX:n,translateY:r}=t;return gt(uh,{["".concat(uh,"-right")]:Ne(n)&&e&&Ne(e.x)&&n>=e.x,["".concat(uh,"-left")]:Ne(n)&&e&&Ne(e.x)&&n<e.x,["".concat(uh,"-bottom")]:Ne(r)&&e&&Ne(e.y)&&r>=e.y,["".concat(uh,"-top")]:Ne(r)&&e&&Ne(e.y)&&r<e.y})}function AR(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:s,reverseDirection:l,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=t;if(s&&Ne(s[r]))return s[r];var p=n[r]-d-(i>0?i:0),v=n[r]+i;if(e[r])return l[r]?p:v;var y=f[r];if(y==null)return 0;if(l[r]){var w=p,j=y;return w<j?Math.max(v,y):Math.max(p,y)}if(h==null)return 0;var E=v+d,A=y+h;return E>A?Math.max(p,y):Math.max(v,y)}function ore(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function lre(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:s,reverseDirection:l,tooltipBox:d,useTranslate3d:f,viewBox:h}=t,p,v,y;return d.height>0&&d.width>0&&n?(v=AR({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:s,reverseDirection:l,tooltipDimension:d.width,viewBox:h,viewBoxDimension:h.width}),y=AR({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:s,reverseDirection:l,tooltipDimension:d.height,viewBox:h,viewBoxDimension:h.height}),p=ore({translateX:v,translateY:y,useTranslate3d:f})):p=are,{cssProperties:p,cssClasses:sre({translateX:v,translateY:y,coordinate:n})}}function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(r){bE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bE(t,e,n){return(e=cre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cre(t){var e=ure(t,"string");return typeof e=="symbol"?e:e+""}function ure(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dre extends _.PureComponent{constructor(){super(...arguments),bE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),bE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:v,useTranslate3d:y,viewBox:w,wrapperStyle:j,lastBoundingBox:E,innerRef:A,hasPortalFromProps:T}=this.props,k=typeof h=="number"?h:h.x,M=typeof h=="number"?h:h.y,{cssClasses:R,cssProperties:L}=lre({allowEscapeViewBox:n,coordinate:l,offsetLeft:k,offsetTop:M,position:p,reverseDirection:v,tooltipBox:{height:E.height,width:E.width},useTranslate3d:y,viewBox:w}),D=T?{}:Bv(Bv({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},L),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),O=Bv(Bv({},D),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},j);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:O,ref:A},s)}}var Q6=()=>{var t;return(t=Oe(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function _E(){return _E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_E.apply(null,arguments)}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fre(t,e,n){return(e=hre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hre(t){var e=mre(t,"string");return typeof e=="symbol"?e:e+""}function mre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CR={curveBasisClosed:YZ,curveBasisOpen:XZ,curveBasis:QZ,curveBumpX:DZ,curveBumpY:MZ,curveLinearClosed:ZZ,curveLinear:d0,curveMonotoneX:JZ,curveMonotoneY:eJ,curveNatural:tJ,curveStep:nJ,curveStepAfter:iJ,curveStepBefore:rJ},ay=t=>tt(t.x)&&tt(t.y),PR=t=>t.base!=null&&ay(t.base)&&ay(t),dh=t=>t.x,fh=t=>t.y,pre=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Im(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=CR["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return CR[n]||d0},OR={connectNulls:!1,type:"linear"},vre=t=>{var{type:e=OR.type,points:n=[],baseLine:r,layout:i,connectNulls:s=OR.connectNulls}=t,l=pre(e,i),d=s?n.filter(ay):n;if(Array.isArray(r)){var f,h=n.map((j,E)=>TR(TR({},j),{},{base:r[E]}));i==="vertical"?f=kv().y(fh).x1(dh).x0(j=>j.base.x):f=kv().x(dh).y1(fh).y0(j=>j.base.y);var p=f.defined(PR).curve(l),v=s?h.filter(PR):h;return p(v)}var y;i==="vertical"&&Ne(r)?y=kv().y(fh).x1(dh).x0(r):Ne(r)?y=kv().x(dh).y1(fh).y0(r):y=w3().x(dh).y(fh);var w=y.defined(ay).curve(l);return w(d)},_d=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=Rl();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},d=n&&n.length?vre(l):r;return _.createElement("path",_E({},Rr(t),cA(t),{className:gt("recharts-curve",e),d:d===null?void 0:d,ref:i}))},gre=["x","y","top","left","width","height","className"];function xE(){return xE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xE.apply(null,arguments)}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){bre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bre(t,e,n){return(e=_re(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _re(t){var e=xre(t,"string");return typeof e=="symbol"?e:e+""}function xre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wre(t,e){if(t==null)return{};var n,r,i=Ere(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ere(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jre=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),Are=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:d}=t,f=wre(t,gre),h=yre({x:e,y:n,top:r,left:i,width:s,height:l},f);return!Ne(e)||!Ne(n)||!Ne(s)||!Ne(l)||!Ne(r)||!Ne(i)?null:_.createElement("path",xE({},Ar(h),{className:gt("recharts-cross",d),d:jre(e,n,s,l,r,i)}))};function Sre(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){Nre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nre(t,e,n){return(e=Tre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tre(t){var e=Cre(t,"string");return typeof e=="symbol"?e:e+""}function Cre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pre=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Y6=(t,e,n)=>t.map(r=>"".concat(Pre(r)," ").concat(e,"ms ").concat(n)).join(","),Ore=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),am=(t,e)=>Object.keys(e).reduce((n,r)=>kR(kR({},n),{},{[r]:t(r,e[r])}),{});function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){Ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ire(t,e,n){return(e=Rre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rre(t){var e=kre(t,"string");return typeof e=="symbol"?e:e+""}function kre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sy=(t,e,n)=>t+(e-t)*n,wE=t=>{var{from:e,to:n}=t;return e!==n},X6=(t,e,n)=>{var r=am((i,s)=>{if(wE(s)){var[l,d]=t(s.from,s.to,s.velocity);return Vn(Vn({},s),{},{from:l,velocity:d})}return s},e);return n<1?am((i,s)=>wE(s)&&r[i]!=null?Vn(Vn({},s),{},{velocity:sy(s.velocity,r[i].velocity,n),from:sy(s.from,r[i].from,n)}):s,e):X6(t,r,n-1)};function Dre(t,e,n,r,i,s){var l,d=r.reduce((y,w)=>Vn(Vn({},y),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),f=()=>am((y,w)=>w.from,d),h=()=>!Object.values(d).filter(wE).length,p=null,v=y=>{l||(l=y);var w=y-l,j=w/n.dt;d=X6(n,d,j),i(Vn(Vn(Vn({},t),e),f())),l=y,h()||(p=s.setTimeout(v))};return()=>(p=s.setTimeout(v),()=>{var y;(y=p)===null||y===void 0||y()})}function Mre(t,e,n,r,i,s,l){var d=null,f=i.reduce((v,y)=>{var w=t[y],j=e[y];return w==null||j==null?v:Vn(Vn({},v),{},{[y]:[w,j]})},{}),h,p=v=>{h||(h=v);var y=(v-h)/r,w=am((E,A)=>sy(...A,n(y)),f);if(s(Vn(Vn(Vn({},t),e),w)),y<1)d=l.setTimeout(p);else{var j=am((E,A)=>sy(...A,n(1)),f);s(Vn(Vn(Vn({},t),e),j))}};return()=>(d=l.setTimeout(p),()=>{var v;(v=d)===null||v===void 0||v()})}const zre=(t,e,n,r,i,s)=>{var l=Ore(t,e);return n==null?()=>(i(Vn(Vn({},t),e)),()=>{}):n.isStepper===!0?Dre(t,e,n,l,i,s):Mre(t,e,n,r,l,i,s)};var oy=1e-4,Z6=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],J6=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),MR=(t,e)=>n=>{var r=Z6(t,e);return J6(r,n)},Lre=(t,e)=>n=>{var r=Z6(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return J6(i,n)},Vre=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},Ure=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Vre(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},qre=(t,e,n,r)=>{var i=MR(t,n),s=MR(e,r),l=Lre(t,n),d=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,v=p,y=0;y<8;++y){var w=i(v)-p,j=l(v);if(Math.abs(w-p)<oy||j<oy)return s(v);v=d(v-w/j)}return s(v)};return f.isStepper=!1,f},zR=function(){return qre(...Ure(...arguments))},Bre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,d,f)=>{var h=-(l-d)*n,p=f*r,v=f+(h-p)*i/1e3,y=f*i/1e3+l;return Math.abs(y-d)<oy&&Math.abs(v)<oy?[d,0]:[y,v]};return s.isStepper=!0,s.dt=i,s},$re=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zR(t);case"spring":return Bre();default:if(t.split("(")[0]==="cubic-bezier")return zR(t)}return typeof t=="function"?t:null};function Fre(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var d=l,[f,...h]=d;if(typeof f=="number"){i=t.setTimeout(s.bind(null,h),f);return}s(f),i=t.setTimeout(s.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class Hre{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function Kre(){return Fre(new Hre)}var Gre=_.createContext(Kre);function Wre(t,e){var n=_.useContext(Gre);return _.useMemo(()=>e??n(t),[t,e,n])}var Qre=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Vm={isSsr:Qre()},Yre={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},LR={t:0},k1={t:1};function Kd(t){var e=pn(t,Yre),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:d,onAnimationStart:f,children:h}=e,p=n==="auto"?!Vm.isSsr:n,v=Wre(e.animationId,e.animationManager),[y,w]=_.useState(p?LR:k1),j=_.useRef(null);return _.useEffect(()=>{p||w(k1)},[p]),_.useEffect(()=>{if(!p||!r)return Ol;var E=zre(LR,k1,$re(s),i,w,v.getTimeoutController()),A=()=>{j.current=E()};return v.start([f,l,A,i,d]),()=>{v.stop(),j.current&&j.current(),d()}},[p,r,i,s,l,f,d,v]),h(y.t)}function Gd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(Zh(e)),r=_.useRef(t);return r.current!==t&&(n.current=Zh(e),r.current=t),n.current}var Xre=["radius"],Zre=["radius"],VR,UR,qR,BR,$R,FR,HR,KR,GR,WR;function QR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(n),!0).forEach(function(r){Jre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jre(t,e,n){return(e=eie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eie(t){var e=tie(t,"string");return typeof e=="symbol"?e:e+""}function tie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ly(){return ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ly.apply(null,arguments)}function XR(t,e){if(t==null)return{};var n,r,i=nie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ka(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var ZR=(t,e,n,r,i)=>{var s=rl(n),l=rl(r),d=Math.min(Math.abs(s)/2,Math.abs(l)/2),f=l>=0?1:-1,h=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,v;if(d>0&&Array.isArray(i)){for(var y=[0,0,0,0],w=0,j=4;w<j;w++){var E,A=(E=i[w])!==null&&E!==void 0?E:0;y[w]=A>d?d:A}v=cn(VR||(VR=ka(["M",",",""])),t,e+f*y[0]),y[0]>0&&(v+=cn(UR||(UR=ka(["A ",",",",0,0,",",",",",""])),y[0],y[0],p,t+h*y[0],e)),v+=cn(qR||(qR=ka(["L ",",",""])),t+n-h*y[1],e),y[1]>0&&(v+=cn(BR||(BR=ka(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],p,t+n,e+f*y[1])),v+=cn($R||($R=ka(["L ",",",""])),t+n,e+r-f*y[2]),y[2]>0&&(v+=cn(FR||(FR=ka(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],p,t+n-h*y[2],e+r)),v+=cn(HR||(HR=ka(["L ",",",""])),t+h*y[3],e+r),y[3]>0&&(v+=cn(KR||(KR=ka(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],p,t,e+r-f*y[3])),v+="Z"}else if(d>0&&i===+i&&i>0){var T=Math.min(d,i);v=cn(GR||(GR=ka(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+f*T,T,T,p,t+h*T,e,t+n-h*T,e,T,T,p,t+n,e+f*T,t+n,e+r-f*T,T,T,p,t+n-h*T,e+r,t+h*T,e+r,T,T,p,t,e+r-f*T)}else v=cn(WR||(WR=ka(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return v},JR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},e5=t=>{var e=pn(t,JR),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var J=n.current.getTotalLength();J&&i(J)}catch{}},[]);var{x:s,y:l,width:d,height:f,radius:h,className:p}=e,{animationEasing:v,animationDuration:y,animationBegin:w,isAnimationActive:j,isUpdateAnimationActive:E}=e,A=_.useRef(d),T=_.useRef(f),k=_.useRef(s),M=_.useRef(l),R=_.useMemo(()=>({x:s,y:l,width:d,height:f,radius:h}),[s,l,d,f,h]),L=Gd(R,"rectangle-");if(s!==+s||l!==+l||d!==+d||f!==+f||d===0||f===0)return null;var D=gt("recharts-rectangle",p);if(!E){var O=Ar(e),{radius:P}=O,I=XR(O,Xre);return _.createElement("path",ly({},I,{x:rl(s),y:rl(l),width:rl(d),height:rl(f),radius:typeof h=="number"?h:void 0,className:D,d:ZR(s,l,d,f,h)}))}var B=A.current,U=T.current,z=k.current,q=M.current,pe="0px ".concat(r===-1?1:r,"px"),Ee="".concat(r,"px 0px"),F=Y6(["strokeDasharray"],y,typeof v=="string"?v:JR.animationEasing);return _.createElement(Kd,{animationId:L,key:L,canBegin:r>0,duration:y,easing:v,isActive:E,begin:w},J=>{var fe=Et(B,d,J),we=Et(U,f,J),_e=Et(z,s,J),H=Et(q,l,J);n.current&&(A.current=fe,T.current=we,k.current=_e,M.current=H);var ie;j?J>0?ie={transition:F,strokeDasharray:Ee}:ie={strokeDasharray:pe}:ie={strokeDasharray:Ee};var ge=Ar(e),{radius:xe}=ge,Y=XR(ge,Zre);return _.createElement("path",ly({},Y,{radius:typeof h=="number"?h:void 0,className:D,d:ZR(_e,H,fe,we,h),ref:n,style:YR(YR({},ie),e.style)}))})};function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){rie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rie(t,e,n){return(e=iie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iie(t){var e=aie(t,"string");return typeof e=="symbol"?e:e+""}function aie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cy=Math.PI/180,sie=t=>t*180/Math.PI,Dn=(t,e,n,r)=>({x:t+Math.cos(-cy*r)*n,y:e+Math.sin(-cy*r)*n}),t5=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},oie=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},lie=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=oie({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var d=(n-i)/l,f=Math.acos(d);return r>s&&(f=2*Math.PI-f),{radius:l,angle:sie(f),angleInRadian:f}},cie=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},uie=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},die=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=lie({x:n,y:r},e),{innerRadius:l,outerRadius:d}=e;if(i<l||i>d||i===0)return null;var{startAngle:f,endAngle:h}=cie(e),p=s,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?tk(tk({},e),{},{radius:i,angle:uie(p,e)}):null};function n5(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=Dn(e,n,r,i),d=Dn(e,n,r,s);return{points:[l,d],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var nk,rk,ik,ak,sk,ok,lk;function EE(){return EE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EE.apply(null,arguments)}function Ec(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var fie=(t,e)=>{var n=Jn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},$v=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:d,cornerIsExternal:f}=t,h=d*(l?1:-1)+r,p=Math.asin(d/h)/cy,v=f?i:i+s*p,y=Dn(e,n,h,v),w=Dn(e,n,r,v),j=f?i-s*p:i,E=Dn(e,n,h*Math.cos(p*cy),j);return{center:y,circleTangency:w,lineTangency:E,theta:p}},r5=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,d=fie(s,l),f=s+d,h=Dn(e,n,i,s),p=Dn(e,n,i,f),v=cn(nk||(nk=Ec(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(d)>180),+(s>f),p.x,p.y);if(r>0){var y=Dn(e,n,r,s),w=Dn(e,n,r,f);v+=cn(rk||(rk=Ec(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),w.x,w.y,r,r,+(Math.abs(d)>180),+(s<=f),y.x,y.y)}else v+=cn(ik||(ik=Ec(["L ",","," Z"])),e,n);return v},hie=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:d,startAngle:f,endAngle:h}=t,p=Jn(h-f),{circleTangency:v,lineTangency:y,theta:w}=$v({cx:e,cy:n,radius:i,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:j,lineTangency:E,theta:A}=$v({cx:e,cy:n,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:d}),T=d?Math.abs(f-h):Math.abs(f-h)-w-A;if(T<0)return l?cn(ak||(ak=Ec(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,s,s,s*2,s,s,-s*2):r5({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var k=cn(sk||(sk=Ec(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,s,s,+(p<0),v.x,v.y,i,i,+(T>180),+(p<0),j.x,j.y,s,s,+(p<0),E.x,E.y);if(r>0){var{circleTangency:M,lineTangency:R,theta:L}=$v({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:D,lineTangency:O,theta:P}=$v({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),I=d?Math.abs(f-h):Math.abs(f-h)-L-P;if(I<0&&s===0)return"".concat(k,"L").concat(e,",").concat(n,"Z");k+=cn(ok||(ok=Ec(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),O.x,O.y,s,s,+(p<0),D.x,D.y,r,r,+(I>180),+(p>0),M.x,M.y,s,s,+(p<0),R.x,R.y)}else k+=cn(lk||(lk=Ec(["L",",","Z"])),e,n);return k},mie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},i5=t=>{var e=pn(t,mie),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:v}=e;if(s<i||h===p)return null;var y=gt("recharts-sector",v),w=s-i,j=Er(l,w,0,!0),E;return j>0&&Math.abs(h-p)<360?E=hie({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(j,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):E=r5({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),_.createElement("path",EE({},Ar(e),{className:y,d:E}))};function pie(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(z3(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:d}=e,f=Dn(r,i,s,d),h=Dn(r,i,l,d);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return n5(e)}}var D1={},M1={},z1={},ck;function vie(){return ck||(ck=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W3();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(z1)),z1}var uk;function gie(){return uk||(uk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vie();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(M1)),M1}var dk;function yie(){return dk||(dk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q3(),n=gie();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const d=Math.max(Math.ceil((s-i)/(l||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=i,i+=l;return f}t.range=r})(D1)),D1}var L1,fk;function bie(){return fk||(fk=1,L1=yie().range),L1}var _ie=bie();const a5=ns(_ie);function cl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xie(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NA(t){let e,n,r;t.length!==2?(e=cl,n=(d,f)=>cl(t(d),f),r=(d,f)=>t(d)-f):(e=t===cl||t===xie?t:wie,n=t,r=t);function i(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const v=h+p>>>1;n(d[v],f)<0?h=v+1:p=v}while(h<p)}return h}function s(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const v=h+p>>>1;n(d[v],f)<=0?h=v+1:p=v}while(h<p)}return h}function l(d,f,h=0,p=d.length){const v=i(d,f,h,p-1);return v>h&&r(d[v-1],f)>-r(d[v],f)?v-1:v}return{left:i,center:l,right:s}}function wie(){return 0}function s5(t){return t===null?NaN:+t}function*Eie(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const jie=NA(cl),Um=jie.right;NA(s5).center;class hk extends Map{constructor(e,n=Nie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(mk(this,e))}has(e){return super.has(mk(this,e))}set(e,n){return super.set(Aie(this,e),n)}delete(e){return super.delete(Sie(this,e))}}function mk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Aie({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Sie({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Nie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Tie(t=cl){if(t===cl)return o5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function o5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Cie=Math.sqrt(50),Pie=Math.sqrt(10),Oie=Math.sqrt(2);function uy(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=Cie?10:s>=Pie?5:s>=Oie?2:1;let d,f,h;return i<0?(h=Math.pow(10,-i)/l,d=Math.round(t*h),f=Math.round(e*h),d/h<t&&++d,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*l,d=Math.round(t/h),f=Math.round(e/h),d*h<t&&++d,f*h>e&&--f),f<d&&.5<=n&&n<2?uy(t,e,n*2):[d,f,h]}function jE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?uy(e,t,n):uy(t,e,n);if(!(s>=i))return[];const d=s-i+1,f=new Array(d);if(r)if(l<0)for(let h=0;h<d;++h)f[h]=(s-h)/-l;else for(let h=0;h<d;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<d;++h)f[h]=(i+h)/-l;else for(let h=0;h<d;++h)f[h]=(i+h)*l;return f}function AE(t,e,n){return e=+e,t=+t,n=+n,uy(t,e,n)[2]}function SE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?AE(e,t,n):AE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function pk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function vk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function l5(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?o5:Tie(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),v=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*v*(f-v)/f)*(h-f/2<0?-1:1),w=Math.max(n,Math.floor(e-h*v/f+y)),j=Math.min(r,Math.floor(e+(f-h)*v/f+y));l5(t,e,w,j,i)}const s=t[e];let l=n,d=r;for(hh(t,n,e),i(t[r],s)>0&&hh(t,n,r);l<d;){for(hh(t,l,d),++l,--d;i(t[l],s)<0;)++l;for(;i(t[d],s)>0;)--d}i(t[n],s)===0?hh(t,n,d):(++d,hh(t,d,r)),d<=e&&(n=d+1),e<=d&&(r=d-1)}return t}function hh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Iie(t,e,n){if(t=Float64Array.from(Eie(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return vk(t);if(e>=1)return pk(t);var r,i=(r-1)*e,s=Math.floor(i),l=pk(l5(t,s).subarray(0,s+1)),d=vk(t.subarray(s+1));return l+(d-l)*(i-s)}}function Rie(t,e,n=s5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),d=+n(t[s+1],s+1,t);return l+(d-l)*(i-s)}}function kie(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Ki(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function no(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const NE=Symbol("implicit");function TA(){var t=new hk,e=[],n=[],r=NE;function i(s){let l=t.get(s);if(l===void 0){if(r!==NE)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new hk;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return TA(e,n).unknown(r)},Ki.apply(i,arguments),i}function CA(){var t=TA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,d=!1,f=0,h=0,p=.5;delete t.unknown;function v(){var y=e().length,w=i<r,j=w?i:r,E=w?r:i;s=(E-j)/Math.max(1,y-f+h*2),d&&(s=Math.floor(s)),j+=(E-j-s*(y-f))*p,l=s*(1-f),d&&(j=Math.round(j),l=Math.round(l));var A=kie(y).map(function(T){return j+s*T});return n(w?A.reverse():A)}return t.domain=function(y){return arguments.length?(e(y),v()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,v()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,d=!0,v()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(y){return arguments.length?(d=!!y,v()):d},t.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),v()):f},t.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),v()):f},t.paddingOuter=function(y){return arguments.length?(h=+y,v()):h},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),v()):p},t.copy=function(){return CA(e(),[r,i]).round(d).paddingInner(f).paddingOuter(h).align(p)},Ki.apply(v(),arguments)}function c5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return c5(e())},t}function Die(){return c5(CA.apply(null,arguments).paddingInner(1))}function PA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function u5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function qm(){}var sm=.7,dy=1/sm,xd="\\s*([+-]?\\d+)\\s*",om="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mie=/^#([0-9a-f]{3,8})$/,zie=new RegExp(`^rgb\\(${xd},${xd},${xd}\\)$`),Lie=new RegExp(`^rgb\\(${Wa},${Wa},${Wa}\\)$`),Vie=new RegExp(`^rgba\\(${xd},${xd},${xd},${om}\\)$`),Uie=new RegExp(`^rgba\\(${Wa},${Wa},${Wa},${om}\\)$`),qie=new RegExp(`^hsl\\(${om},${Wa},${Wa}\\)$`),Bie=new RegExp(`^hsla\\(${om},${Wa},${Wa},${om}\\)$`),gk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};PA(qm,lm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:yk,formatHex:yk,formatHex8:$ie,formatHsl:Fie,formatRgb:bk,toString:bk});function yk(){return this.rgb().formatHex()}function $ie(){return this.rgb().formatHex8()}function Fie(){return d5(this).formatHsl()}function bk(){return this.rgb().formatRgb()}function lm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Mie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?_k(e):n===3?new Xr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Fv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Fv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=zie.exec(t))?new Xr(e[1],e[2],e[3],1):(e=Lie.exec(t))?new Xr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Vie.exec(t))?Fv(e[1],e[2],e[3],e[4]):(e=Uie.exec(t))?Fv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qie.exec(t))?Ek(e[1],e[2]/100,e[3]/100,1):(e=Bie.exec(t))?Ek(e[1],e[2]/100,e[3]/100,e[4]):gk.hasOwnProperty(t)?_k(gk[t]):t==="transparent"?new Xr(NaN,NaN,NaN,0):null}function _k(t){return new Xr(t>>16&255,t>>8&255,t&255,1)}function Fv(t,e,n,r){return r<=0&&(t=e=n=NaN),new Xr(t,e,n,r)}function Hie(t){return t instanceof qm||(t=lm(t)),t?(t=t.rgb(),new Xr(t.r,t.g,t.b,t.opacity)):new Xr}function TE(t,e,n,r){return arguments.length===1?Hie(t):new Xr(t,e,n,r??1)}function Xr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}PA(Xr,TE,u5(qm,{brighter(t){return t=t==null?dy:Math.pow(dy,t),new Xr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?sm:Math.pow(sm,t),new Xr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Xr(kc(this.r),kc(this.g),kc(this.b),fy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xk,formatHex:xk,formatHex8:Kie,formatRgb:wk,toString:wk}));function xk(){return`#${jc(this.r)}${jc(this.g)}${jc(this.b)}`}function Kie(){return`#${jc(this.r)}${jc(this.g)}${jc(this.b)}${jc((isNaN(this.opacity)?1:this.opacity)*255)}`}function wk(){const t=fy(this.opacity);return`${t===1?"rgb(":"rgba("}${kc(this.r)}, ${kc(this.g)}, ${kc(this.b)}${t===1?")":`, ${t})`}`}function fy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function kc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function jc(t){return t=kc(t),(t<16?"0":"")+t.toString(16)}function Ek(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new oa(t,e,n,r)}function d5(t){if(t instanceof oa)return new oa(t.h,t.s,t.l,t.opacity);if(t instanceof qm||(t=lm(t)),!t)return new oa;if(t instanceof oa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,d=s-i,f=(s+i)/2;return d?(e===s?l=(n-r)/d+(n<r)*6:n===s?l=(r-e)/d+2:l=(e-n)/d+4,d/=f<.5?s+i:2-s-i,l*=60):d=f>0&&f<1?0:l,new oa(l,d,f,t.opacity)}function Gie(t,e,n,r){return arguments.length===1?d5(t):new oa(t,e,n,r??1)}function oa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}PA(oa,Gie,u5(qm,{brighter(t){return t=t==null?dy:Math.pow(dy,t),new oa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?sm:Math.pow(sm,t),new oa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Xr(V1(t>=240?t-240:t+120,i,r),V1(t,i,r),V1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new oa(jk(this.h),Hv(this.s),Hv(this.l),fy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=fy(this.opacity);return`${t===1?"hsl(":"hsla("}${jk(this.h)}, ${Hv(this.s)*100}%, ${Hv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function jk(t){return t=(t||0)%360,t<0?t+360:t}function Hv(t){return Math.max(0,Math.min(1,t||0))}function V1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const OA=t=>()=>t;function Wie(t,e){return function(n){return t+n*e}}function Qie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Yie(t){return(t=+t)==1?f5:function(e,n){return n-e?Qie(e,n,t):OA(isNaN(e)?n:e)}}function f5(t,e){var n=e-t;return n?Wie(t,n):OA(isNaN(t)?e:t)}const Ak=(function t(e){var n=Yie(e);function r(i,s){var l=n((i=TE(i)).r,(s=TE(s)).r),d=n(i.g,s.g),f=n(i.b,s.b),h=f5(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=d(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=t,r})(1);function Xie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Zie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Jie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=Wd(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(d){for(l=0;l<r;++l)s[l]=i[l](d);return s}}function eae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function hy(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function tae(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Wd(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var CE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,U1=new RegExp(CE.source,"g");function nae(t){return function(){return t}}function rae(t){return function(e){return t(e)+""}}function iae(t,e){var n=CE.lastIndex=U1.lastIndex=0,r,i,s,l=-1,d=[],f=[];for(t=t+"",e=e+"";(r=CE.exec(t))&&(i=U1.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),d[l]?d[l]+=s:d[++l]=s),(r=r[0])===(i=i[0])?d[l]?d[l]+=i:d[++l]=i:(d[++l]=null,f.push({i:l,x:hy(r,i)})),n=U1.lastIndex;return n<e.length&&(s=e.slice(n),d[l]?d[l]+=s:d[++l]=s),d.length<2?f[0]?rae(f[0].x):nae(e):(e=f.length,function(h){for(var p=0,v;p<e;++p)d[(v=f[p]).i]=v.x(h);return d.join("")})}function Wd(t,e){var n=typeof e,r;return e==null||n==="boolean"?OA(e):(n==="number"?hy:n==="string"?(r=lm(e))?(e=r,Ak):iae:e instanceof lm?Ak:e instanceof Date?eae:Zie(e)?Xie:Array.isArray(e)?Jie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?tae:hy)(t,e)}function IA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function aae(t,e){e===void 0&&(e=t,t=Wd);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var d=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[d](l-d)}}function sae(t){return function(){return t}}function my(t){return+t}var Sk=[0,1];function Or(t){return t}function PE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:sae(isNaN(e)?NaN:.5)}function oae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function lae(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=PE(i,r),s=n(l,s)):(r=PE(r,i),s=n(s,l)),function(d){return s(r(d))}}function cae(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=PE(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(d){var f=Um(t,d,1,r)-1;return s[f](i[f](d))}}function Bm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function O0(){var t=Sk,e=Sk,n=Wd,r,i,s,l=Or,d,f,h;function p(){var y=Math.min(t.length,e.length);return l!==Or&&(l=oae(t[0],t[y-1])),d=y>2?cae:lae,f=h=null,v}function v(y){return y==null||isNaN(y=+y)?s:(f||(f=d(t.map(r),e,n)))(r(l(y)))}return v.invert=function(y){return l(i((h||(h=d(e,t.map(r),hy)))(y)))},v.domain=function(y){return arguments.length?(t=Array.from(y,my),p()):t.slice()},v.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},v.rangeRound=function(y){return e=Array.from(y),n=IA,p()},v.clamp=function(y){return arguments.length?(l=y?!0:Or,p()):l!==Or},v.interpolate=function(y){return arguments.length?(n=y,p()):n},v.unknown=function(y){return arguments.length?(s=y,v):s},function(y,w){return r=y,i=w,p()}}function RA(){return O0()(Or,Or)}function uae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function py(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Rd(t){return t=py(Math.abs(t)),t?t[1]:NaN}function dae(t,e){return function(n,r){for(var i=n.length,s=[],l=0,d=t[0],f=0;i>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),s.push(n.substring(i-=d,i+d)),!((f+=d+1)>r));)d=t[l=(l+1)%t.length];return s.reverse().join(e)}}function fae(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var hae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cm(t){if(!(e=hae.exec(t)))throw new Error("invalid format: "+t);var e;return new kA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}cm.prototype=kA.prototype;function kA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}kA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mae(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var vy;function pae(t,e){var n=py(t,e);if(!n)return vy=void 0,t.toPrecision(e);var r=n[0],i=n[1],s=i-(vy=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+py(t,Math.max(0,e+s-1))[0]}function Nk(t,e){var n=py(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Tk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:uae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Nk(t*100,e),r:Nk,s:pae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ck(t){return t}var Pk=Array.prototype.map,Ok=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function vae(t){var e=t.grouping===void 0||t.thousands===void 0?Ck:dae(Pk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Ck:fae(Pk.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(v,y){v=cm(v);var w=v.fill,j=v.align,E=v.sign,A=v.symbol,T=v.zero,k=v.width,M=v.comma,R=v.precision,L=v.trim,D=v.type;D==="n"?(M=!0,D="g"):Tk[D]||(R===void 0&&(R=12),L=!0,D="g"),(T||w==="0"&&j==="=")&&(T=!0,w="0",j="=");var O=(y&&y.prefix!==void 0?y.prefix:"")+(A==="$"?n:A==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():""),P=(A==="$"?r:/[%p]/.test(D)?l:"")+(y&&y.suffix!==void 0?y.suffix:""),I=Tk[D],B=/[defgprs%]/.test(D);R=R===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function U(z){var q=O,pe=P,Ee,F,J;if(D==="c")pe=I(z)+pe,z="";else{z=+z;var fe=z<0||1/z<0;if(z=isNaN(z)?f:I(Math.abs(z),R),L&&(z=mae(z)),fe&&+z==0&&E!=="+"&&(fe=!1),q=(fe?E==="("?E:d:E==="-"||E==="("?"":E)+q,pe=(D==="s"&&!isNaN(z)&&vy!==void 0?Ok[8+vy/3]:"")+pe+(fe&&E==="("?")":""),B){for(Ee=-1,F=z.length;++Ee<F;)if(J=z.charCodeAt(Ee),48>J||J>57){pe=(J===46?i+z.slice(Ee+1):z.slice(Ee))+pe,z=z.slice(0,Ee);break}}}M&&!T&&(z=e(z,1/0));var we=q.length+z.length+pe.length,_e=we<k?new Array(k-we+1).join(w):"";switch(M&&T&&(z=e(_e+z,_e.length?k-pe.length:1/0),_e=""),j){case"<":z=q+z+pe+_e;break;case"=":z=q+_e+z+pe;break;case"^":z=_e.slice(0,we=_e.length>>1)+q+z+pe+_e.slice(we);break;default:z=_e+q+z+pe;break}return s(z)}return U.toString=function(){return v+""},U}function p(v,y){var w=Math.max(-8,Math.min(8,Math.floor(Rd(y)/3)))*3,j=Math.pow(10,-w),E=h((v=cm(v),v.type="f",v),{suffix:Ok[8+w/3]});return function(A){return E(j*A)}}return{format:h,formatPrefix:p}}var Kv,DA,h5;gae({thousands:",",grouping:[3],currency:["$",""]});function gae(t){return Kv=vae(t),DA=Kv.format,h5=Kv.formatPrefix,Kv}function yae(t){return Math.max(0,-Rd(Math.abs(t)))}function bae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rd(e)/3)))*3-Rd(Math.abs(t)))}function _ae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Rd(e)-Rd(t))+1}function m5(t,e,n,r){var i=SE(t,e,n),s;switch(r=cm(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=bae(i,l))&&(r.precision=s),h5(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=_ae(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=yae(i))&&(r.precision=s-(r.type==="%")*2);break}}return DA(r)}function kl(t){var e=t.domain;return t.ticks=function(n){var r=e();return jE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return m5(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],d=r[s],f,h,p=10;for(d<l&&(h=l,l=d,d=h,h=i,i=s,s=h);p-- >0;){if(h=AE(l,d,n),h===f)return r[i]=l,r[s]=d,e(r);if(h>0)l=Math.floor(l/h)*h,d=Math.ceil(d/h)*h;else if(h<0)l=Math.ceil(l*h)/h,d=Math.floor(d*h)/h;else break;f=h}return t},t}function p5(){var t=RA();return t.copy=function(){return Bm(t,p5())},Ki.apply(t,arguments),kl(t)}function v5(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,my),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return v5(t).unknown(e)},t=arguments.length?Array.from(t,my):[0,1],kl(n)}function g5(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function Ik(t){return Math.log(t)}function Rk(t){return Math.exp(t)}function xae(t){return-Math.log(-t)}function wae(t){return-Math.exp(-t)}function Eae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function jae(t){return t===10?Eae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Aae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function kk(t){return(e,n)=>-t(-e,n)}function MA(t){const e=t(Ik,Rk),n=e.domain;let r=10,i,s;function l(){return i=Aae(r),s=jae(r),n()[0]<0?(i=kk(i),s=kk(s),t(xae,wae)):t(Ik,Rk),e}return e.base=function(d){return arguments.length?(r=+d,l()):r},e.domain=function(d){return arguments.length?(n(d),l()):n()},e.ticks=d=>{const f=n();let h=f[0],p=f[f.length-1];const v=p<h;v&&([h,p]=[p,h]);let y=i(h),w=i(p),j,E;const A=d==null?10:+d;let T=[];if(!(r%1)&&w-y<A){if(y=Math.floor(y),w=Math.ceil(w),h>0){for(;y<=w;++y)for(j=1;j<r;++j)if(E=y<0?j/s(-y):j*s(y),!(E<h)){if(E>p)break;T.push(E)}}else for(;y<=w;++y)for(j=r-1;j>=1;--j)if(E=y>0?j/s(-y):j*s(y),!(E<h)){if(E>p)break;T.push(E)}T.length*2<A&&(T=jE(h,p,A))}else T=jE(y,w,Math.min(w-y,A)).map(s);return v?T.reverse():T},e.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=cm(f)).precision==null&&(f.trim=!0),f=DA(f)),d===1/0)return f;const h=Math.max(1,r*d/e.ticks().length);return p=>{let v=p/s(Math.round(i(p)));return v*r<r-.5&&(v*=r),v<=h?f(p):""}},e.nice=()=>n(g5(n(),{floor:d=>s(Math.floor(i(d))),ceil:d=>s(Math.ceil(i(d)))})),e}function y5(){const t=MA(O0()).domain([1,10]);return t.copy=()=>Bm(t,y5()).base(t.base()),Ki.apply(t,arguments),t}function Dk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Mk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function zA(t){var e=1,n=t(Dk(e),Mk(e));return n.constant=function(r){return arguments.length?t(Dk(e=+r),Mk(e)):e},kl(n)}function b5(){var t=zA(O0());return t.copy=function(){return Bm(t,b5()).constant(t.constant())},Ki.apply(t,arguments)}function zk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Sae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Nae(t){return t<0?-t*t:t*t}function LA(t){var e=t(Or,Or),n=1;function r(){return n===1?t(Or,Or):n===.5?t(Sae,Nae):t(zk(n),zk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},kl(e)}function VA(){var t=LA(O0());return t.copy=function(){return Bm(t,VA()).exponent(t.exponent())},Ki.apply(t,arguments),t}function Tae(){return VA.apply(null,arguments).exponent(.5)}function Lk(t){return Math.sign(t)*t*t}function Cae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function _5(){var t=RA(),e=[0,1],n=!1,r;function i(s){var l=Cae(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(Lk(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,my)).map(Lk)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return _5(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ki.apply(i,arguments),kl(i)}function x5(){var t=[],e=[],n=[],r;function i(){var l=0,d=Math.max(1,e.length);for(n=new Array(d-1);++l<d;)n[l-1]=Rie(t,l/d);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Um(n,l)]}return s.invertExtent=function(l){var d=e.indexOf(l);return d<0?[NaN,NaN]:[d>0?n[d-1]:t[0],d<n.length?n[d]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let d of l)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(cl),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return x5().domain(t).range(e).unknown(r)},Ki.apply(s,arguments)}function w5(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(f){return f!=null&&f<=f?i[Um(r,f,0,n)]:s}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,d()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,d()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return w5().domain([t,e]).range(i).unknown(s)},Ki.apply(kl(l),arguments)}function E5(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Um(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return E5().domain(t).range(e).unknown(n)},Ki.apply(i,arguments)}const q1=new Date,B1=new Date;function Bn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),d=i.ceil(s);return s-l<d-s?l:d},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,d)=>{const f=[];if(s=i.ceil(s),d=d==null?1:Math.floor(d),!(s<l)||!(d>0))return f;let h;do f.push(h=new Date(+s)),e(s,d),t(s);while(h<s&&s<l);return f},i.filter=s=>Bn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;e(l,-1),!s(l););else for(;--d>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(q1.setTime(+s),B1.setTime(+l),t(q1),t(B1),Math.floor(n(q1,B1))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const gy=Bn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);gy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Bn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):gy);gy.range;const Os=1e3,Ui=Os*60,Is=Ui*60,$s=Is*24,UA=$s*7,Vk=$s*30,$1=$s*365,Ac=Bn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getUTCSeconds());Ac.range;const qA=Bn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Os)},(t,e)=>{t.setTime(+t+e*Ui)},(t,e)=>(e-t)/Ui,t=>t.getMinutes());qA.range;const BA=Bn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ui)},(t,e)=>(e-t)/Ui,t=>t.getUTCMinutes());BA.range;const $A=Bn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Os-t.getMinutes()*Ui)},(t,e)=>{t.setTime(+t+e*Is)},(t,e)=>(e-t)/Is,t=>t.getHours());$A.range;const FA=Bn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Is)},(t,e)=>(e-t)/Is,t=>t.getUTCHours());FA.range;const $m=Bn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ui)/$s,t=>t.getDate()-1);$m.range;const I0=Bn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$s,t=>t.getUTCDate()-1);I0.range;const j5=Bn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$s,t=>Math.floor(t/$s));j5.range;function su(t){return Bn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ui)/UA)}const R0=su(0),yy=su(1),Pae=su(2),Oae=su(3),kd=su(4),Iae=su(5),Rae=su(6);R0.range;yy.range;Pae.range;Oae.range;kd.range;Iae.range;Rae.range;function ou(t){return Bn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/UA)}const k0=ou(0),by=ou(1),kae=ou(2),Dae=ou(3),Dd=ou(4),Mae=ou(5),zae=ou(6);k0.range;by.range;kae.range;Dae.range;Dd.range;Mae.range;zae.range;const HA=Bn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());HA.range;const KA=Bn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());KA.range;const Fs=Bn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Fs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Fs.range;const Hs=Bn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Hs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Hs.range;function A5(t,e,n,r,i,s){const l=[[Ac,1,Os],[Ac,5,5*Os],[Ac,15,15*Os],[Ac,30,30*Os],[s,1,Ui],[s,5,5*Ui],[s,15,15*Ui],[s,30,30*Ui],[i,1,Is],[i,3,3*Is],[i,6,6*Is],[i,12,12*Is],[r,1,$s],[r,2,2*$s],[n,1,UA],[e,1,Vk],[e,3,3*Vk],[t,1,$1]];function d(h,p,v){const y=p<h;y&&([h,p]=[p,h]);const w=v&&typeof v.range=="function"?v:f(h,p,v),j=w?w.range(h,+p+1):[];return y?j.reverse():j}function f(h,p,v){const y=Math.abs(p-h)/v,w=NA(([,,A])=>A).right(l,y);if(w===l.length)return t.every(SE(h/$1,p/$1,v));if(w===0)return gy.every(Math.max(SE(h,p,v),1));const[j,E]=l[y/l[w-1][2]<l[w][2]/y?w-1:w];return j.every(E)}return[d,f]}const[Lae,Vae]=A5(Hs,KA,k0,j5,FA,BA),[Uae,qae]=A5(Fs,HA,R0,$m,$A,qA);function F1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function H1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function mh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Bae(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,d=t.months,f=t.shortMonths,h=ph(i),p=vh(i),v=ph(s),y=vh(s),w=ph(l),j=vh(l),E=ph(d),A=vh(d),T=ph(f),k=vh(f),M={a:J,A:fe,b:we,B:_e,c:null,d:Hk,e:Hk,f:dse,g:xse,G:Ese,H:lse,I:cse,j:use,L:S5,m:fse,M:hse,p:H,q:ie,Q:Wk,s:Qk,S:mse,u:pse,U:vse,V:gse,w:yse,W:bse,x:null,X:null,y:_se,Y:wse,Z:jse,"%":Gk},R={a:ge,A:xe,b:Y,B:W,c:null,d:Kk,e:Kk,f:Tse,g:Lse,G:Use,H:Ase,I:Sse,j:Nse,L:T5,m:Cse,M:Pse,p:be,q:Le,Q:Wk,s:Qk,S:Ose,u:Ise,U:Rse,V:kse,w:Dse,W:Mse,x:null,X:null,y:zse,Y:Vse,Z:qse,"%":Gk},L={a:B,A:U,b:z,B:q,c:pe,d:$k,e:$k,f:ise,g:Bk,G:qk,H:Fk,I:Fk,j:ese,L:rse,m:Jae,M:tse,p:I,q:Zae,Q:sse,s:ose,S:nse,u:Gae,U:Wae,V:Qae,w:Kae,W:Yae,x:Ee,X:F,y:Bk,Y:qk,Z:Xae,"%":ase};M.x=D(n,M),M.X=D(r,M),M.c=D(e,M),R.x=D(n,R),R.X=D(r,R),R.c=D(e,R);function D(se,Se){return function(Q){var me=[],De=-1,Be=0,it=se.length,dt,vt,hr;for(Q instanceof Date||(Q=new Date(+Q));++De<it;)se.charCodeAt(De)===37&&(me.push(se.slice(Be,De)),(vt=Uk[dt=se.charAt(++De)])!=null?dt=se.charAt(++De):vt=dt==="e"?" ":"0",(hr=Se[dt])&&(dt=hr(Q,vt)),me.push(dt),Be=De+1);return me.push(se.slice(Be,De)),me.join("")}}function O(se,Se){return function(Q){var me=mh(1900,void 0,1),De=P(me,se,Q+="",0),Be,it;if(De!=Q.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(Se&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Be=H1(mh(me.y,0,1)),it=Be.getUTCDay(),Be=it>4||it===0?by.ceil(Be):by(Be),Be=I0.offset(Be,(me.V-1)*7),me.y=Be.getUTCFullYear(),me.m=Be.getUTCMonth(),me.d=Be.getUTCDate()+(me.w+6)%7):(Be=F1(mh(me.y,0,1)),it=Be.getDay(),Be=it>4||it===0?yy.ceil(Be):yy(Be),Be=$m.offset(Be,(me.V-1)*7),me.y=Be.getFullYear(),me.m=Be.getMonth(),me.d=Be.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),it="Z"in me?H1(mh(me.y,0,1)).getUTCDay():F1(mh(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(it+5)%7:me.w+me.U*7-(it+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,H1(me)):F1(me)}}function P(se,Se,Q,me){for(var De=0,Be=Se.length,it=Q.length,dt,vt;De<Be;){if(me>=it)return-1;if(dt=Se.charCodeAt(De++),dt===37){if(dt=Se.charAt(De++),vt=L[dt in Uk?Se.charAt(De++):dt],!vt||(me=vt(se,Q,me))<0)return-1}else if(dt!=Q.charCodeAt(me++))return-1}return me}function I(se,Se,Q){var me=h.exec(Se.slice(Q));return me?(se.p=p.get(me[0].toLowerCase()),Q+me[0].length):-1}function B(se,Se,Q){var me=w.exec(Se.slice(Q));return me?(se.w=j.get(me[0].toLowerCase()),Q+me[0].length):-1}function U(se,Se,Q){var me=v.exec(Se.slice(Q));return me?(se.w=y.get(me[0].toLowerCase()),Q+me[0].length):-1}function z(se,Se,Q){var me=T.exec(Se.slice(Q));return me?(se.m=k.get(me[0].toLowerCase()),Q+me[0].length):-1}function q(se,Se,Q){var me=E.exec(Se.slice(Q));return me?(se.m=A.get(me[0].toLowerCase()),Q+me[0].length):-1}function pe(se,Se,Q){return P(se,e,Se,Q)}function Ee(se,Se,Q){return P(se,n,Se,Q)}function F(se,Se,Q){return P(se,r,Se,Q)}function J(se){return l[se.getDay()]}function fe(se){return s[se.getDay()]}function we(se){return f[se.getMonth()]}function _e(se){return d[se.getMonth()]}function H(se){return i[+(se.getHours()>=12)]}function ie(se){return 1+~~(se.getMonth()/3)}function ge(se){return l[se.getUTCDay()]}function xe(se){return s[se.getUTCDay()]}function Y(se){return f[se.getUTCMonth()]}function W(se){return d[se.getUTCMonth()]}function be(se){return i[+(se.getUTCHours()>=12)]}function Le(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var Se=D(se+="",M);return Se.toString=function(){return se},Se},parse:function(se){var Se=O(se+="",!1);return Se.toString=function(){return se},Se},utcFormat:function(se){var Se=D(se+="",R);return Se.toString=function(){return se},Se},utcParse:function(se){var Se=O(se+="",!0);return Se.toString=function(){return se},Se}}}var Uk={"-":"",_:" ",0:"0"},nr=/^\s*\d+/,$ae=/^%/,Fae=/[\\^$*+?|[\]().{}]/g;function _t(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Hae(t){return t.replace(Fae,"\\$&")}function ph(t){return new RegExp("^(?:"+t.map(Hae).join("|")+")","i")}function vh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Kae(t,e,n){var r=nr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Gae(t,e,n){var r=nr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Wae(t,e,n){var r=nr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Qae(t,e,n){var r=nr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Yae(t,e,n){var r=nr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function qk(t,e,n){var r=nr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Bk(t,e,n){var r=nr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Xae(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Zae(t,e,n){var r=nr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Jae(t,e,n){var r=nr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function $k(t,e,n){var r=nr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ese(t,e,n){var r=nr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Fk(t,e,n){var r=nr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function tse(t,e,n){var r=nr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function nse(t,e,n){var r=nr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function rse(t,e,n){var r=nr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ise(t,e,n){var r=nr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ase(t,e,n){var r=$ae.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function sse(t,e,n){var r=nr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ose(t,e,n){var r=nr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Hk(t,e){return _t(t.getDate(),e,2)}function lse(t,e){return _t(t.getHours(),e,2)}function cse(t,e){return _t(t.getHours()%12||12,e,2)}function use(t,e){return _t(1+$m.count(Fs(t),t),e,3)}function S5(t,e){return _t(t.getMilliseconds(),e,3)}function dse(t,e){return S5(t,e)+"000"}function fse(t,e){return _t(t.getMonth()+1,e,2)}function hse(t,e){return _t(t.getMinutes(),e,2)}function mse(t,e){return _t(t.getSeconds(),e,2)}function pse(t){var e=t.getDay();return e===0?7:e}function vse(t,e){return _t(R0.count(Fs(t)-1,t),e,2)}function N5(t){var e=t.getDay();return e>=4||e===0?kd(t):kd.ceil(t)}function gse(t,e){return t=N5(t),_t(kd.count(Fs(t),t)+(Fs(t).getDay()===4),e,2)}function yse(t){return t.getDay()}function bse(t,e){return _t(yy.count(Fs(t)-1,t),e,2)}function _se(t,e){return _t(t.getFullYear()%100,e,2)}function xse(t,e){return t=N5(t),_t(t.getFullYear()%100,e,2)}function wse(t,e){return _t(t.getFullYear()%1e4,e,4)}function Ese(t,e){var n=t.getDay();return t=n>=4||n===0?kd(t):kd.ceil(t),_t(t.getFullYear()%1e4,e,4)}function jse(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_t(e/60|0,"0",2)+_t(e%60,"0",2)}function Kk(t,e){return _t(t.getUTCDate(),e,2)}function Ase(t,e){return _t(t.getUTCHours(),e,2)}function Sse(t,e){return _t(t.getUTCHours()%12||12,e,2)}function Nse(t,e){return _t(1+I0.count(Hs(t),t),e,3)}function T5(t,e){return _t(t.getUTCMilliseconds(),e,3)}function Tse(t,e){return T5(t,e)+"000"}function Cse(t,e){return _t(t.getUTCMonth()+1,e,2)}function Pse(t,e){return _t(t.getUTCMinutes(),e,2)}function Ose(t,e){return _t(t.getUTCSeconds(),e,2)}function Ise(t){var e=t.getUTCDay();return e===0?7:e}function Rse(t,e){return _t(k0.count(Hs(t)-1,t),e,2)}function C5(t){var e=t.getUTCDay();return e>=4||e===0?Dd(t):Dd.ceil(t)}function kse(t,e){return t=C5(t),_t(Dd.count(Hs(t),t)+(Hs(t).getUTCDay()===4),e,2)}function Dse(t){return t.getUTCDay()}function Mse(t,e){return _t(by.count(Hs(t)-1,t),e,2)}function zse(t,e){return _t(t.getUTCFullYear()%100,e,2)}function Lse(t,e){return t=C5(t),_t(t.getUTCFullYear()%100,e,2)}function Vse(t,e){return _t(t.getUTCFullYear()%1e4,e,4)}function Use(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Dd(t):Dd.ceil(t),_t(t.getUTCFullYear()%1e4,e,4)}function qse(){return"+0000"}function Gk(){return"%"}function Wk(t){return+t}function Qk(t){return Math.floor(+t/1e3)}var Ju,P5,O5;Bse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Bse(t){return Ju=Bae(t),P5=Ju.format,Ju.parse,O5=Ju.utcFormat,Ju.utcParse,Ju}function $se(t){return new Date(t)}function Fse(t){return t instanceof Date?+t:+new Date(+t)}function GA(t,e,n,r,i,s,l,d,f,h){var p=RA(),v=p.invert,y=p.domain,w=h(".%L"),j=h(":%S"),E=h("%I:%M"),A=h("%I %p"),T=h("%a %d"),k=h("%b %d"),M=h("%B"),R=h("%Y");function L(D){return(f(D)<D?w:d(D)<D?j:l(D)<D?E:s(D)<D?A:r(D)<D?i(D)<D?T:k:n(D)<D?M:R)(D)}return p.invert=function(D){return new Date(v(D))},p.domain=function(D){return arguments.length?y(Array.from(D,Fse)):y().map($se)},p.ticks=function(D){var O=y();return t(O[0],O[O.length-1],D??10)},p.tickFormat=function(D,O){return O==null?L:h(O)},p.nice=function(D){var O=y();return(!D||typeof D.range!="function")&&(D=e(O[0],O[O.length-1],D??10)),D?y(g5(O,D)):p},p.copy=function(){return Bm(p,GA(t,e,n,r,i,s,l,d,f,h))},p}function Hse(){return Ki.apply(GA(Uae,qae,Fs,HA,R0,$m,$A,qA,Ac,P5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Kse(){return Ki.apply(GA(Lae,Vae,Hs,KA,k0,I0,FA,BA,Ac,O5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function D0(){var t=0,e=1,n,r,i,s,l=Or,d=!1,f;function h(v){return v==null||isNaN(v=+v)?f:l(i===0?.5:(v=(s(v)-n)*i,d?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([t,e]=v,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(v){return arguments.length?(d=!!v,h):d},h.interpolator=function(v){return arguments.length?(l=v,h):l};function p(v){return function(y){var w,j;return arguments.length?([w,j]=y,l=v(w,j),h):[l(0),l(1)]}}return h.range=p(Wd),h.rangeRound=p(IA),h.unknown=function(v){return arguments.length?(f=v,h):f},function(v){return s=v,n=v(t),r=v(e),i=n===r?0:1/(r-n),h}}function Dl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function I5(){var t=kl(D0()(Or));return t.copy=function(){return Dl(t,I5())},no.apply(t,arguments)}function R5(){var t=MA(D0()).domain([1,10]);return t.copy=function(){return Dl(t,R5()).base(t.base())},no.apply(t,arguments)}function k5(){var t=zA(D0());return t.copy=function(){return Dl(t,k5()).constant(t.constant())},no.apply(t,arguments)}function WA(){var t=LA(D0());return t.copy=function(){return Dl(t,WA()).exponent(t.exponent())},no.apply(t,arguments)}function Gse(){return WA.apply(null,arguments).exponent(.5)}function D5(){var t=[],e=Or;function n(r){if(r!=null&&!isNaN(r=+r))return e((Um(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(cl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Iie(t,s/r))},n.copy=function(){return D5(e).domain(t)},no.apply(n,arguments)}function M0(){var t=0,e=.5,n=1,r=1,i,s,l,d,f,h=Or,p,v=!1,y;function w(E){return isNaN(E=+E)?y:(E=.5+((E=+p(E))-s)*(r*E<r*s?d:f),h(v?Math.max(0,Math.min(1,E)):E))}w.domain=function(E){return arguments.length?([t,e,n]=E,i=p(t=+t),s=p(e=+e),l=p(n=+n),d=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,w):[t,e,n]},w.clamp=function(E){return arguments.length?(v=!!E,w):v},w.interpolator=function(E){return arguments.length?(h=E,w):h};function j(E){return function(A){var T,k,M;return arguments.length?([T,k,M]=A,h=aae(E,[T,k,M]),w):[h(0),h(.5),h(1)]}}return w.range=j(Wd),w.rangeRound=j(IA),w.unknown=function(E){return arguments.length?(y=E,w):y},function(E){return p=E,i=E(t),s=E(e),l=E(n),d=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,w}}function M5(){var t=kl(M0()(Or));return t.copy=function(){return Dl(t,M5())},no.apply(t,arguments)}function z5(){var t=MA(M0()).domain([.1,1,10]);return t.copy=function(){return Dl(t,z5()).base(t.base())},no.apply(t,arguments)}function L5(){var t=zA(M0());return t.copy=function(){return Dl(t,L5()).constant(t.constant())},no.apply(t,arguments)}function QA(){var t=LA(M0());return t.copy=function(){return Dl(t,QA()).exponent(t.exponent())},no.apply(t,arguments)}function Wse(){return QA.apply(null,arguments).exponent(.5)}const Sh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:CA,scaleDiverging:M5,scaleDivergingLog:z5,scaleDivergingPow:QA,scaleDivergingSqrt:Wse,scaleDivergingSymlog:L5,scaleIdentity:v5,scaleImplicit:NE,scaleLinear:p5,scaleLog:y5,scaleOrdinal:TA,scalePoint:Die,scalePow:VA,scaleQuantile:x5,scaleQuantize:w5,scaleRadial:_5,scaleSequential:I5,scaleSequentialLog:R5,scaleSequentialPow:WA,scaleSequentialQuantile:D5,scaleSequentialSqrt:Gse,scaleSequentialSymlog:k5,scaleSqrt:Tae,scaleSymlog:b5,scaleThreshold:E5,scaleTime:Hse,scaleUtc:Kse,tickFormat:m5},Symbol.toStringTag,{value:"Module"}));var ro=t=>t.chartData,z0=ee([ro],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),YA=(t,e,n,r)=>r?z0(t):ro(t),V5=(t,e,n)=>n?z0(t):ro(t);function Ks(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(tt(e)&&tt(n))return!0}return!1}function Yk(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function U5(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(tt(n))i=n;else if(typeof n=="function")return;if(tt(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(Ks(l))return l}}function Qse(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Ks(r))return Yk(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,d;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Ne(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&sR.test(i)){var f=sR.exec(i);if(f==null||f[1]==null||e==null)l=void 0;else{var h=+f[1];l=e[0]-h}}else l=e?.[0];if(s==="auto")e!=null&&(d=Math.max(...e));else if(Ne(s))d=s;else if(typeof s=="function")try{e!=null&&(d=s(e?.[1]))}catch{}else if(typeof s=="string"&&oR.test(s)){var p=oR.exec(s);if(p==null||p[1]==null||e==null)d=void 0;else{var v=+p[1];d=e[1]+v}}else d=e?.[1];var y=[l,d];if(Ks(y))return e==null?y:Yk(y,e,n)}}}var Qd=1e9,Yse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ZA,Zt=!0,Fi="[DecimalError] ",Dc=Fi+"Invalid argument: ",XA=Fi+"Exponent out of range: ",Yd=Math.floor,yc=Math.pow,Xse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,di,Xn=1e7,Wt=7,q5=9007199254740991,_y=Yd(q5/Wt),Ce={};Ce.absoluteValue=Ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ce.comparedTo=Ce.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Wt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ce.dividedBy=Ce.div=function(t){return Ms(this,new this.constructor(t))};Ce.dividedToIntegerBy=Ce.idiv=function(t){var e=this,n=e.constructor;return qt(Ms(e,new n(t),0,1),n.precision)};Ce.equals=Ce.eq=function(t){return!this.cmp(t)};Ce.exponent=function(){return Mn(this)};Ce.greaterThan=Ce.gt=function(t){return this.cmp(t)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(t){return this.cmp(t)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(t){return this.cmp(t)<0};Ce.lessThanOrEqualTo=Ce.lte=function(t){return this.cmp(t)<1};Ce.logarithm=Ce.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(di))throw Error(Fi+"NaN");if(n.s<1)throw Error(Fi+(n.s?"NaN":"-Infinity"));return n.eq(di)?new r(0):(Zt=!1,e=Ms(um(n,s),um(t,s),s),Zt=!0,qt(e,i))};Ce.minus=Ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?F5(e,t):B5(e,(t.s=-t.s,t))};Ce.modulo=Ce.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Fi+"NaN");return n.s?(Zt=!1,e=Ms(n,t,0,1).times(t),Zt=!0,n.minus(e)):qt(new r(n),i)};Ce.naturalExponential=Ce.exp=function(){return $5(this)};Ce.naturalLogarithm=Ce.ln=function(){return um(this)};Ce.negated=Ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ce.plus=Ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?B5(e,t):F5(e,(t.s=-t.s,t))};Ce.precision=Ce.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Dc+t);if(e=Mn(i)+1,r=i.d.length-1,n=r*Wt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ce.squareRoot=Ce.sqrt=function(){var t,e,n,r,i,s,l,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Fi+"NaN")}for(t=Mn(d),Zt=!1,i=Math.sqrt(+d),i==0||i==1/0?(e=qa(d.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Yd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(s=r,r=s.plus(Ms(d,s,l+2)).times(.5),qa(s.d).slice(0,l)===(e=qa(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(qt(s,n+1,0),s.times(s).eq(d)){r=s;break}}else if(e!="9999")break;l+=4}return Zt=!0,qt(r,n)};Ce.times=Ce.mul=function(t){var e,n,r,i,s,l,d,f,h,p=this,v=p.constructor,y=p.d,w=(t=new v(t)).d;if(!p.s||!t.s)return new v(0);for(t.s*=p.s,n=p.e+t.e,f=y.length,h=w.length,f<h&&(s=y,y=w,w=s,l=f,f=h,h=l),s=[],l=f+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)d=s[i]+w[r]*y[i-r-1]+e,s[i--]=d%Xn|0,e=d/Xn|0;s[i]=(s[i]+e)%Xn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Zt?qt(t,v.precision):t};Ce.toDecimalPlaces=Ce.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ja(t,0,Qd),e===void 0?e=r.rounding:Ja(e,0,8),qt(n,t+Mn(n)+1,e))};Ce.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Jc(r,!0):(Ja(t,0,Qd),e===void 0?e=i.rounding:Ja(e,0,8),r=qt(new i(r),t+1,e),n=Jc(r,!0,t+1)),n};Ce.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Jc(i):(Ja(t,0,Qd),e===void 0?e=s.rounding:Ja(e,0,8),r=qt(new s(i),t+Mn(i)+1,e),n=Jc(r.abs(),!1,t+Mn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ce.toInteger=Ce.toint=function(){var t=this,e=t.constructor;return qt(new e(t),Mn(t)+1,e.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(t){var e,n,r,i,s,l,d=this,f=d.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(di);if(d=new f(d),!d.s){if(t.s<1)throw Error(Fi+"Infinity");return d}if(d.eq(di))return d;if(r=f.precision,t.eq(di))return qt(d,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=d.s,l){if((n=p<0?-p:p)<=q5){for(i=new f(di),e=Math.ceil(r/Wt+4),Zt=!1;n%2&&(i=i.times(d),Zk(i.d,e)),n=Yd(n/2),n!==0;)d=d.times(d),Zk(d.d,e);return Zt=!0,t.s<0?new f(di).div(i):qt(i,r)}}else if(s<0)throw Error(Fi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,d.s=1,Zt=!1,i=t.times(um(d,r+h)),Zt=!0,i=$5(i),i.s=s,i};Ce.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Mn(i),r=Jc(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ja(t,1,Qd),e===void 0?e=s.rounding:Ja(e,0,8),i=qt(new s(i),t,e),n=Mn(i),r=Jc(i,t<=n||n<=s.toExpNeg,t)),r};Ce.toSignificantDigits=Ce.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ja(t,1,Qd),e===void 0?e=r.rounding:Ja(e,0,8)),qt(new r(n),t,e)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Mn(t),n=t.constructor;return Jc(t,e<=n.toExpNeg||e>=n.toExpPos)};function B5(t,e){var n,r,i,s,l,d,f,h,p=t.constructor,v=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Zt?qt(e,v):e;if(f=t.d,h=e.d,l=t.e,i=e.e,f=f.slice(),s=l-i,s){for(s<0?(r=f,s=-s,d=h.length):(r=h,i=l,d=f.length),l=Math.ceil(v/Wt),d=l>d?l+1:d+1,s>d&&(s=d,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(d=f.length,s=h.length,d-s<0&&(s=d,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/Xn|0,f[s]%=Xn;for(n&&(f.unshift(n),++i),d=f.length;f[--d]==0;)f.pop();return e.d=f,e.e=i,Zt?qt(e,v):e}function Ja(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Dc+t)}function qa(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=Wt-r.length,n&&(s+=Ho(n)),s+=r;l=t[e],r=l+"",n=Wt-r.length,n&&(s+=Ho(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ms=(function(){function t(r,i){var s,l=0,d=r.length;for(r=r.slice();d--;)s=r[d]*i+l,r[d]=s%Xn|0,l=s/Xn|0;return l&&r.unshift(l),r}function e(r,i,s,l){var d,f;if(s!=l)f=s>l?1:-1;else for(d=f=0;d<s;d++)if(r[d]!=i[d]){f=r[d]>i[d]?1:-1;break}return f}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*Xn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var d,f,h,p,v,y,w,j,E,A,T,k,M,R,L,D,O,P,I=r.constructor,B=r.s==i.s?1:-1,U=r.d,z=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Fi+"Division by zero");for(f=r.e-i.e,O=z.length,L=U.length,w=new I(B),j=w.d=[],h=0;z[h]==(U[h]||0);)++h;if(z[h]>(U[h]||0)&&--f,s==null?k=s=I.precision:l?k=s+(Mn(r)-Mn(i))+1:k=s,k<0)return new I(0);if(k=k/Wt+2|0,h=0,O==1)for(p=0,z=z[0],k++;(h<L||p)&&k--;h++)M=p*Xn+(U[h]||0),j[h]=M/z|0,p=M%z|0;else{for(p=Xn/(z[0]+1)|0,p>1&&(z=t(z,p),U=t(U,p),O=z.length,L=U.length),R=O,E=U.slice(0,O),A=E.length;A<O;)E[A++]=0;P=z.slice(),P.unshift(0),D=z[0],z[1]>=Xn/2&&++D;do p=0,d=e(z,E,O,A),d<0?(T=E[0],O!=A&&(T=T*Xn+(E[1]||0)),p=T/D|0,p>1?(p>=Xn&&(p=Xn-1),v=t(z,p),y=v.length,A=E.length,d=e(v,E,y,A),d==1&&(p--,n(v,O<y?P:z,y))):(p==0&&(d=p=1),v=z.slice()),y=v.length,y<A&&v.unshift(0),n(E,v,A),d==-1&&(A=E.length,d=e(z,E,O,A),d<1&&(p++,n(E,O<A?P:z,A))),A=E.length):d===0&&(p++,E=[0]),j[h++]=p,d&&E[0]?E[A++]=U[R]||0:(E=[U[R]],A=1);while((R++<L||E[0]!==void 0)&&k--)}return j[0]||j.shift(),w.e=f,qt(w,l?s+Mn(w)+1:s)}})();function $5(t,e){var n,r,i,s,l,d,f=0,h=0,p=t.constructor,v=p.precision;if(Mn(t)>16)throw Error(XA+Mn(t));if(!t.s)return new p(di);for(Zt=!1,d=v,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(yc(2,h))/Math.LN10*2+5|0,d+=r,n=i=s=new p(di),p.precision=d;;){if(i=qt(i.times(t),d),n=n.times(++f),l=s.plus(Ms(i,n,d)),qa(l.d).slice(0,d)===qa(s.d).slice(0,d)){for(;h--;)s=qt(s.times(s),d);return p.precision=v,e==null?(Zt=!0,qt(s,v)):s}s=l}}function Mn(t){for(var e=t.e*Wt,n=t.d[0];n>=10;n/=10)e++;return e}function K1(t,e,n){if(e>t.LN10.sd())throw Zt=!0,n&&(t.precision=n),Error(Fi+"LN10 precision limit exceeded");return qt(new t(t.LN10),e)}function Ho(t){for(var e="";t--;)e+="0";return e}function um(t,e){var n,r,i,s,l,d,f,h,p,v=1,y=10,w=t,j=w.d,E=w.constructor,A=E.precision;if(w.s<1)throw Error(Fi+(w.s?"NaN":"-Infinity"));if(w.eq(di))return new E(0);if(e==null?(Zt=!1,h=A):h=e,w.eq(10))return e==null&&(Zt=!0),K1(E,h);if(h+=y,E.precision=h,n=qa(j),r=n.charAt(0),s=Mn(w),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=qa(w.d),r=n.charAt(0),v++;s=Mn(w),r>1?(w=new E("0."+n),s++):w=new E(r+"."+n.slice(1))}else return f=K1(E,h+2,A).times(s+""),w=um(new E(r+"."+n.slice(1)),h-y).plus(f),E.precision=A,e==null?(Zt=!0,qt(w,A)):w;for(d=l=w=Ms(w.minus(di),w.plus(di),h),p=qt(w.times(w),h),i=3;;){if(l=qt(l.times(p),h),f=d.plus(Ms(l,new E(i),h)),qa(f.d).slice(0,h)===qa(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(K1(E,h+2,A).times(s+""))),d=Ms(d,new E(v),h),E.precision=A,e==null?(Zt=!0,qt(d,A)):d;d=f,i+=2}}function Xk(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Yd(n/Wt),t.d=[],r=(n+1)%Wt,n<0&&(r+=Wt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Wt;r<i;)t.d.push(+e.slice(r,r+=Wt));e=e.slice(r),r=Wt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Zt&&(t.e>_y||t.e<-_y))throw Error(XA+n)}else t.s=0,t.e=0,t.d=[0];return t}function qt(t,e,n){var r,i,s,l,d,f,h,p,v=t.d;for(l=1,s=v[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Wt,i=e,h=v[p=0];else{if(p=Math.ceil((r+1)/Wt),s=v.length,p>=s)return t;for(h=s=v[p],l=1;s>=10;s/=10)l++;r%=Wt,i=r-Wt+l}if(n!==void 0&&(s=yc(10,l-i-1),d=h/s%10|0,f=e<0||v[p+1]!==void 0||h%s,f=n<4?(d||f)&&(n==0||n==(t.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?i>0?h/yc(10,l-i):0:v[p-1])%10&1||n==(t.s<0?8:7))),e<1||!v[0])return f?(s=Mn(t),v.length=1,e=e-s-1,v[0]=yc(10,(Wt-e%Wt)%Wt),t.e=Yd(-e/Wt)||0):(v.length=1,v[0]=t.e=t.s=0),t;if(r==0?(v.length=p,s=1,p--):(v.length=p+1,s=yc(10,Wt-r),v[p]=i>0?(h/yc(10,l-i)%yc(10,i)|0)*s:0),f)for(;;)if(p==0){(v[0]+=s)==Xn&&(v[0]=1,++t.e);break}else{if(v[p]+=s,v[p]!=Xn)break;v[p--]=0,s=1}for(r=v.length;v[--r]===0;)v.pop();if(Zt&&(t.e>_y||t.e<-_y))throw Error(XA+Mn(t));return t}function F5(t,e){var n,r,i,s,l,d,f,h,p,v,y=t.constructor,w=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Zt?qt(e,w):e;if(f=t.d,v=e.d,r=e.e,h=t.e,f=f.slice(),l=h-r,l){for(p=l<0,p?(n=f,l=-l,d=v.length):(n=v,r=h,d=f.length),i=Math.max(Math.ceil(w/Wt),d)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,d=v.length,p=i<d,p&&(d=i),i=0;i<d;i++)if(f[i]!=v[i]){p=f[i]<v[i];break}l=0}for(p&&(n=f,f=v,v=n,e.s=-e.s),d=f.length,i=v.length-d;i>0;--i)f[d++]=0;for(i=v.length;i>l;){if(f[--i]<v[i]){for(s=i;s&&f[--s]===0;)f[s]=Xn-1;--f[s],f[i]+=Xn}f[i]-=v[i]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Zt?qt(e,w):e):new y(0)}function Jc(t,e,n){var r,i=Mn(t),s=qa(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Ho(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ho(-i-1)+s,n&&(r=n-l)>0&&(s+=Ho(r))):i>=l?(s+=Ho(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Ho(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Ho(r))),t.s<0?"-"+s:s}function Zk(t,e){if(t.length>e)return t.length=e,!0}function H5(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Dc+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return Xk(l,s.toString())}else if(typeof s!="string")throw Error(Dc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,Xse.test(s))Xk(l,s);else throw Error(Dc+s)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=H5,i.config=i.set=Zse,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Zse(t){if(!t||typeof t!="object")throw Error(Fi+"Object expected");var e,n,r,i=["precision",1,Qd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Yd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Dc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Dc+n+": "+r);return this}var ZA=H5(Yse);di=new ZA(1);const Pt=ZA;function K5(t){var e;return t===0?e=1:e=Math.floor(new Pt(t).abs().log(10).toNumber())+1,e}function G5(t,e,n){for(var r=new Pt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var W5=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},Q5=(t,e,n)=>{if(t.lte(0))return new Pt(0);var r=K5(t.toNumber()),i=new Pt(10).pow(r),s=t.div(i),l=r!==1?.05:.1,d=new Pt(Math.ceil(s.div(l).toNumber())).add(n).mul(l),f=d.mul(i);return e?new Pt(f.toNumber()):new Pt(Math.ceil(f.toNumber()))},Jse=(t,e,n)=>{var r=new Pt(1),i=new Pt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Pt(10).pow(K5(t)-1),i=new Pt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Pt(Math.floor(t)))}else t===0?i=new Pt(Math.floor((e-1)/2)):n||(i=new Pt(Math.floor(t)));for(var l=Math.floor((e-1)/2),d=[],f=0;f<e;f++)d.push(i.add(new Pt(f-l).mul(r)).toNumber());return d},Y5=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Pt(0),tickMin:new Pt(0),tickMax:new Pt(0)};var l=Q5(new Pt(n).sub(e).div(r-1),i,s),d;e<=0&&n>=0?d=new Pt(0):(d=new Pt(e).add(n).div(2),d=d.sub(new Pt(d).mod(l)));var f=Math.ceil(d.sub(e).div(l).toNumber()),h=Math.ceil(new Pt(n).sub(d).div(l).toNumber()),p=f+h+1;return p>r?Y5(e,n,r,i,s+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:l,tickMin:d.sub(new Pt(f).mul(l)),tickMax:d.add(new Pt(h).mul(l))})},eoe=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[d,f]=W5([n,r]);if(d===-1/0||f===1/0){var h=f===1/0?[d,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),f];return n>r?h.reverse():h}if(d===f)return Jse(d,i,s);var{step:p,tickMin:v,tickMax:y}=Y5(d,f,l,s,0),w=G5(v,y.add(new Pt(.1).mul(p)),p);return n>r?w.reverse():w},toe=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,d]=W5([r,i]);if(l===-1/0||d===1/0)return[r,i];if(l===d)return[l];var f=Math.max(n,2),h=Q5(new Pt(d).sub(l).div(f-1),s,0),p=[...G5(new Pt(l),new Pt(d),h),d];return s===!1&&(p=p.map(v=>Math.round(v))),r>i?p.reverse():p},X5=t=>t.rootProps.maxBarSize,noe=t=>t.rootProps.barGap,Z5=t=>t.rootProps.barCategoryGap,roe=t=>t.rootProps.barSize,Fm=t=>t.rootProps.stackOffset,J5=t=>t.rootProps.reverseStackOrder,JA=t=>t.options.chartName,eS=t=>t.rootProps.syncId,eV=t=>t.rootProps.syncMethod,tS=t=>t.options.eventEmitter,ioe=t=>t.rootProps.baseValue,wn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},hc={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Da={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},L0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function V0(t,e,n){if(n!=="auto")return n;if(t!=null)return va(t,e)?"category":"number"}function Jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(n),!0).forEach(function(r){aoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aoe(t,e,n){return(e=soe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function soe(t){var e=ooe(t,"string");return typeof e=="symbol"?e:e+""}function ooe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eD={allowDataOverflow:hc.allowDataOverflow,allowDecimals:hc.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:hc.angleAxisId,includeHidden:!1,name:void 0,reversed:hc.reversed,scale:hc.scale,tick:hc.tick,tickCount:void 0,ticks:void 0,type:hc.type,unit:void 0},tD={allowDataOverflow:Da.allowDataOverflow,allowDecimals:Da.allowDecimals,allowDuplicatedCategory:Da.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Da.radiusAxisId,includeHidden:Da.includeHidden,name:void 0,reversed:Da.reversed,scale:Da.scale,tick:Da.tick,tickCount:Da.tickCount,ticks:void 0,type:Da.type,unit:void 0},loe=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},nS=ee([loe,L6],(t,e)=>{var n;if(t!=null)return t;var r=(n=V0(e,"angleAxis",eD.type))!==null&&n!==void 0?n:"category";return xy(xy({},eD),{},{type:r})}),coe=(t,e)=>t.polarAxis.radiusAxis[e],rS=ee([coe,L6],(t,e)=>{var n;if(t!=null)return t;var r=(n=V0(e,"radiusAxis",tD.type))!==null&&n!==void 0?n:"category";return xy(xy({},tD),{},{type:r})}),U0=t=>t.polarOptions,iS=ee([eo,to,qn],t5),tV=ee([U0,iS],(t,e)=>{if(t!=null)return Er(t.innerRadius,e,0)}),nV=ee([U0,iS],(t,e)=>{if(t!=null)return Er(t.outerRadius,e,e*.8)}),uoe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},rV=ee([U0],uoe);ee([nS,rV],L0);var iV=ee([iS,tV,nV],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ee([rS,iV],L0);var aV=ee([ht,U0,tV,nV,eo,to],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:d,startAngle:f,endAngle:h}=e;return{cx:Er(l,i,i/2),cy:Er(d,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),nn=(t,e)=>e,Hm=(t,e,n)=>n;function q0(t){return t?.id}function sV(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=q0(d);h.forEach((v,y)=>{var w=s==null||i?y:String(jt(v,s,null)),j=jt(v,d.dataKey,0),E;l.has(w)?E=l.get(w):E={},Object.assign(E,{[p]:j}),l.set(w,E)})}}),Array.from(l.values())}function B0(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var $0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function F0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function doe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var rr=t=>{var e=ht(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Xd=t=>t.tooltip.settings.axisId;function foe(t){if(t in Sh)return Sh[t]();var e="scale".concat(Im(t));if(e in Sh)return Sh[e]()}function nD(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(s){function l(){return s.apply(this,arguments)}return l.toString=function(){return s.toString()},l})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(s){var l=i[0],d=i[1];return l<=d?s>=l&&s<=d:s>=d&&s<=l},bandwidth:n?()=>n.call(t):void 0,ticks:e?s=>e.call(t,s):void 0,map:(s,l)=>{var d=t(s);if(d!=null){if(t.bandwidth&&l!==null&&l!==void 0&&l.position){var f=t.bandwidth();switch(l.position){case"middle":d+=f/2;break;case"end":d+=f;break}}return d}}}}function rD(t,e,n){if(typeof t=="function")return nD(t.copy().domain(e).range(n));if(t!=null){var r=foe(t);if(r!=null)return r.domain(e).range(n),nD(r)}}var oV=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Ks(e)){for(var n,r,i=0;i<e.length;i++){var s=e[i];tt(s)&&((n===void 0||s<n)&&(n=s),(r===void 0||s>r)&&(r=s))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function iD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(n),!0).forEach(function(r){hoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hoe(t,e,n){return(e=moe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function moe(t){var e=poe(t,"string");return typeof e=="symbol"?e:e+""}function poe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OE=[0,"auto"],Wn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},lV=(t,e)=>t.cartesianAxis.xAxis[e],io=(t,e)=>{var n=lV(t,e);return n??Wn},Qn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:OE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Mm},cV=(t,e)=>t.cartesianAxis.yAxis[e],ao=(t,e)=>{var n=cV(t,e);return n??Qn},voe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},aS=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??voe},vn=(t,e,n)=>{switch(e){case"xAxis":return io(t,n);case"yAxis":return ao(t,n);case"zAxis":return aS(t,n);case"angleAxis":return nS(t,n);case"radiusAxis":return rS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},goe=(t,e,n)=>{switch(e){case"xAxis":return io(t,n);case"yAxis":return ao(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Zd=(t,e,n)=>{switch(e){case"xAxis":return io(t,n);case"yAxis":return ao(t,n);case"angleAxis":return nS(t,n);case"radiusAxis":return rS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},uV=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function sS(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Km=t=>t.graphicalItems.cartesianItems,yoe=ee([nn,Hm],sS),oS=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Gm=ee([Km,vn,yoe],oS,{memoizeOptions:{resultEqualityCheck:F0}}),dV=ee([Gm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(B0)),fV=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),boe=ee([Gm],fV),lS=t=>t.map(e=>e.data).filter(Boolean).flat(1),_oe=ee([Gm],lS,{memoizeOptions:{resultEqualityCheck:F0}}),cS=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},uS=ee([_oe,YA],cS),dS=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:jt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:jt(i,r)}))):t.map(r=>({value:r})),H0=ee([uS,vn,Gm],dS);function hV(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ug(t){if(Xa(t)||t instanceof Date){var e=Number(t);if(tt(e))return e}}function aD(t){if(Array.isArray(t)){var e=[ug(t[0]),ug(t[1])];return Ks(e)?e:void 0}var n=ug(t);if(n!=null)return[n,n]}function Gs(t){return t.map(ug).filter(Yr)}function xoe(t,e,n){return!n||typeof e!="number"||ha(e)?[]:n.length?Gs(n.flatMap(r=>{var i=jt(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!tt(s)||!tt(l)))return[e-s,e+l]})):[]}var $n=t=>{var e=rr(t),n=Xd(t);return Zd(t,e,n)},Wm=ee([$n],t=>t?.dataKey),woe=ee([dV,YA,$n],sV),mV=(t,e,n,r)=>{var i={},s=e.reduce((l,d)=>{if(d.stackId==null)return l;var f=l[d.stackId];return f==null&&(f=[]),f.push(d),l[d.stackId]=f,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[d,f]=l,h=r?[...f].reverse():f,p=h.map(q0);return[d,{stackedData:$te(t,p,n),graphicalItems:h}]}))},Ey=ee([woe,dV,Fm,J5],mV),pV=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=Gte(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Eoe=ee([vn],t=>t.allowDataOverflow),fS=t=>{var e;if(t==null||!("domain"in t))return OE;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Gs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:OE},hS=ee([vn],fS),mS=ee([hS,Eoe],U5),joe=ee([Ey,ro,nn,mS],pV,{memoizeOptions:{resultEqualityCheck:$0}}),K0=t=>t.errorBars,Aoe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>hV(n,r)),jy=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),d=Math.max(...s);return[l,d]}},pS=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(d=>{n.forEach(f=>{var h,p,v=(h=r[f.id])===null||h===void 0?void 0:h.filter(T=>hV(i,T)),y=jt(d,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),w=xoe(d,y,v);if(w.length>=2){var j=Math.min(...w),E=Math.max(...w);(s==null||j<s)&&(s=j),(l==null||E>l)&&(l=E)}var A=aD(y);A!=null&&(s=s==null?A[0]:Math.min(s,A[0]),l=l==null?A[1]:Math.max(l,A[1]))})}),e?.dataKey!=null&&t.forEach(d=>{var f=aD(jt(d,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),tt(s)&&tt(l))return[s,l]},Soe=ee([uS,vn,boe,K0,nn],pS,{memoizeOptions:{resultEqualityCheck:$0}});function Noe(t){var{value:e}=t;if(Xa(e)||e instanceof Date)return e}var Toe=(t,e,n)=>{var r=t.map(Noe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&k3(r))?a5(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},vV=t=>t.referenceElements.dots,Jd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Coe=ee([vV,nn,Hm],Jd),gV=t=>t.referenceElements.areas,Poe=ee([gV,nn,Hm],Jd),yV=t=>t.referenceElements.lines,Ooe=ee([yV,nn,Hm],Jd),bV=(t,e)=>{if(t!=null){var n=Gs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Ioe=ee(Coe,nn,bV),_V=(t,e)=>{if(t!=null){var n=Gs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Roe=ee([Poe,nn],_V);function koe(t){var e;if(t.x!=null)return Gs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Gs(n)}function Doe(t){var e;if(t.y!=null)return Gs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Gs(n)}var xV=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?koe(r):Doe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Moe=ee([Ooe,nn],xV),zoe=ee(Ioe,Moe,Roe,(t,e,n)=>jy(t,n,e)),vS=(t,e,n,r,i,s,l,d)=>{if(n!=null)return n;var f=l==="vertical"&&d==="xAxis"||l==="horizontal"&&d==="yAxis",h=f?jy(r,s,i):jy(s,i);return Qse(e,h,t.allowDataOverflow)},Loe=ee([vn,hS,mS,joe,Soe,zoe,ht,nn],vS,{memoizeOptions:{resultEqualityCheck:$0}}),Voe=[0,1],gS=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:d,type:f}=t,h=va(e,s);if(h&&d==null){var p;return a5(0,(p=n?.length)!==null&&p!==void 0?p:0)}return f==="category"?Toe(r,t,h):i==="expand"?Voe:l}},yS=ee([vn,ht,uS,H0,Fm,nn,Loe],gS);function Uoe(t){return t in Sh}var wV=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var s="scale".concat(Im(r));return Uoe(s)?s:"point"}}},Ml=ee([vn,uV,JA],wV);function bS(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?rD(t.scale,n,r):rD(e,n,r)}var _S=(t,e,n)=>{var r=fS(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ks(t))return eoe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Ks(t))return toe(t,e.tickCount,e.allowDecimals)}},xS=ee([yS,Zd,Ml],_S),wS=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Ks(e)&&Array.isArray(n)&&n.length>0){var i,s,l=e[0],d=(i=n[0])!==null&&i!==void 0?i:0,f=e[1],h=(s=n[n.length-1])!==null&&s!==void 0?s:0;return[Math.min(l,d),Math.max(f,h)]}return e},qoe=ee([vn,yS,xS,nn],wS),Boe=ee(H0,vn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Gs(t.map(v=>v.value))).sort((v,y)=>v-y),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var d=0;d<r.length-1;d++){var f=r[d],h=r[d+1];if(!(f==null||h==null)){var p=h-f;n=Math.min(n,p)}}return n/l}}),EV=ee(Boe,ht,Z5,qn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!tt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=Er(n,t*s),d=t*s/2;return d-l-(d-l)/s*l}return 0}),$oe=(t,e,n)=>{var r=io(t,e);return r==null||typeof r.padding!="string"?0:EV(t,"xAxis",e,n,r.padding)},Foe=(t,e,n)=>{var r=ao(t,e);return r==null||typeof r.padding!="string"?0:EV(t,"yAxis",e,n,r.padding)},Hoe=ee(io,$oe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Koe=ee(ao,Foe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Goe=ee([qn,Hoe,S0,A0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),Woe=ee([qn,ht,Koe,S0,A0,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Qm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Goe(t,n,r);case"yAxis":return Woe(t,n,r);case"zAxis":return(i=aS(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return rV(t);case"radiusAxis":return iV(t,n);default:return}},jV=ee([vn,Qm],L0),Qoe=ee([Ml,qoe],oV),G0=ee([vn,Ml,Qoe,jV],bS);ee([Gm,K0,nn],Aoe);function AV(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var W0=(t,e)=>e,Q0=(t,e,n)=>n,Yoe=ee(E0,W0,Q0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(AV)),Xoe=ee(j0,W0,Q0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(AV)),SV=(t,e)=>({width:t.width,height:e.height}),Zoe=(t,e)=>{var n=typeof e.width=="number"?e.width:Mm;return{width:n,height:t.height}},NV=ee(qn,io,SV),Joe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},ele=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},tle=ee(to,qn,Yoe,W0,Q0,(t,e,n,r,i)=>{var s={},l;return n.forEach(d=>{var f=SV(e,d);l==null&&(l=Joe(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;s[d.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),s}),nle=ee(eo,qn,Xoe,W0,Q0,(t,e,n,r,i)=>{var s={},l;return n.forEach(d=>{var f=Zoe(e,d);l==null&&(l=ele(e,r,t));var h=r==="left"&&!i||r==="right"&&i;s[d.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),s}),rle=(t,e)=>{var n=io(t,e);if(n!=null)return tle(t,n.orientation,n.mirror)},ile=ee([qn,io,rle,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),ale=(t,e)=>{var n=ao(t,e);if(n!=null)return nle(t,n.orientation,n.mirror)},sle=ee([qn,ao,ale,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),TV=ee(qn,ao,(t,e)=>{var n=typeof e.width=="number"?e.width:Mm;return{width:n,height:t.height}}),sD=(t,e,n)=>{switch(e){case"xAxis":return NV(t,n).width;case"yAxis":return TV(t,n).height;default:return}},CV=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,d=va(t,r),f=e.map(h=>h.value);if(l&&d&&s==="category"&&i&&k3(f))return f}},ES=ee([ht,H0,vn,nn],CV),PV=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=va(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(d=>d.value)}},jS=ee([ht,H0,Zd,nn],PV),oD=ee([ht,goe,Ml,G0,ES,jS,Qm,xS,nn],(t,e,n,r,i,s,l,d,f)=>{if(e!=null){var h=va(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:d,range:l,realScaleType:n,scale:r}}}),ole=(t,e,n,r,i,s,l,d,f)=>{if(!(e==null||r==null)){var h=va(t,f),{type:p,ticks:v,tickCount:y}=e,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,j=p==="category"&&r.bandwidth?r.bandwidth()/w:0;j=f==="angleAxis"&&s!=null&&s.length>=2?Jn(s[0]-s[1])*2*j:j;var E=v||i;return E?E.map((A,T)=>{var k=l?l.indexOf(A):A,M=r.map(k);return tt(M)?{index:T,coordinate:M+j,value:A,offset:j}:null}).filter(Yr):h&&d?d.map((A,T)=>{var k=r.map(A);return tt(k)?{coordinate:k+j,value:A,index:T,offset:j}:null}).filter(Yr):r.ticks?r.ticks(y).map((A,T)=>{var k=r.map(A);return tt(k)?{coordinate:k+j,value:A,index:T,offset:j}:null}).filter(Yr):r.domain().map((A,T)=>{var k=r.map(A);return tt(k)?{coordinate:k+j,value:l?l[A]:A,index:T,offset:j}:null}).filter(Yr)}},OV=ee([ht,Zd,Ml,G0,xS,Qm,ES,jS,nn],ole),lle=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var d=va(t,l),{tickCount:f}=e,h=0;return h=l==="angleAxis"&&r?.length>=2?Jn(r[0]-r[1])*2*h:h,d&&s?s.map((p,v)=>{var y=n.map(p);return tt(y)?{coordinate:y+h,value:p,index:v,offset:h}:null}).filter(Yr):n.ticks?n.ticks(f).map((p,v)=>{var y=n.map(p);return tt(y)?{coordinate:y+h,value:p,index:v,offset:h}:null}).filter(Yr):n.domain().map((p,v)=>{var y=n.map(p);return tt(y)?{coordinate:y+h,value:i?i[p]:p,index:v,offset:h}:null}).filter(Yr)}},es=ee([ht,Zd,G0,Qm,ES,jS,nn],lle),ts=ee(vn,G0,(t,e)=>{if(!(t==null||e==null))return wy(wy({},t),{},{scale:e})}),cle=ee([vn,Ml,yS,jV],bS);ee((t,e,n)=>aS(t,n),cle,(t,e)=>{if(!(t==null||e==null))return wy(wy({},t),{},{scale:e})});var ule=ee([ht,E0,j0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),IV=t=>t.options.defaultTooltipEventType,RV=t=>t.options.validateTooltipEventTypes;function kV(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function AS(t,e){var n=IV(t),r=RV(t);return kV(e,n,r)}function dle(t){return Oe(e=>AS(e,t))}var DV=(t,e)=>{var n,r=Number(e);if(!(ha(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},fle=t=>t.tooltip.settings,Jo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},hle={itemInteraction:{click:Jo,hover:Jo},axisInteraction:{click:Jo,hover:Jo},keyboardInteraction:Jo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},MV=Zr({name:"tooltip",initialState:hle,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Xt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ua(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Xt()},removeTooltipEntrySettings:{reducer(t,e){var n=ua(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Xt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:mle,replaceTooltipEntrySettings:ple,removeTooltipEntrySettings:vle,setTooltipSettingsState:gle,setActiveMouseOverItemIndex:zV,mouseLeaveItem:yle,mouseLeaveChart:LV,setActiveClickItemIndex:ble,setMouseOverAxisIndex:VV,setMouseClickAxisIndex:_le,setSyncInteraction:IE,setKeyboardInteraction:RE}=MV.actions,xle=MV.reducer;function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){wle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wle(t,e,n){return(e=Ele(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ele(t){var e=jle(t,"string");return typeof e=="symbol"?e:e+""}function jle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ale(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Sle(t){return t.index!=null}var UV=(t,e,n,r)=>{if(e==null)return Jo;var i=Ale(t,e,n);if(i==null)return Jo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Sle(i)){if(s)return Gv(Gv({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Gv(Gv({},Jo),{},{coordinate:i.coordinate})};function Nle(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Tle(t,e){var n=Nle(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function Cle(t,e,n){if(n==null||e==null)return!0;var r=jt(t,e);return r==null||!Ks(n)?!0:Tle(r,n)}var SS=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!tt(s))return i;var l=0,d=1/0;e.length>0&&(d=e.length-1);var f=Math.max(l,Math.min(s,d)),h=e[f];return h==null||Cle(h,n,r)?String(f):null},qV=(t,e,n,r,i,s,l)=>{if(s!=null){var d=l[0],f=d?.getPosition(s);if(f!=null)return f;var h=i?.[Number(s)];if(h)return n==="horizontal"?{x:h.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:h.coordinate}}},BV=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(l=>{var d;return((d=l.settings)===null||d===void 0?void 0:d.graphicalItemId)===i})},$V=t=>t.options.tooltipPayloadSearcher,ef=t=>t.tooltip;function cD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(n),!0).forEach(function(r){Ple(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ple(t,e,n){return(e=Ole(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ole(t){var e=Ile(t,"string");return typeof e=="symbol"?e:e+""}function Ile(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rle(t,e){return t??e}var FV=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,v=[];return t.reduce((y,w)=>{var j,{dataDefinedOnItem:E,settings:A}=w,T=Rle(E,d),k=Array.isArray(T)?N6(T,h,p):T,M=(j=A?.dataKey)!==null&&j!==void 0?j:r,R=A?.nameKey,L;if(r&&Array.isArray(k)&&!Array.isArray(k[0])&&l==="axis"?L=D3(k,r,i):L=s(k,e,f,R),Array.isArray(L))L.forEach(O=>{var P=uD(uD({},A),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});y.push(lR({tooltipEntrySettings:P,dataKey:O.dataKey,payload:O.payload,value:jt(O.payload,O.dataKey),name:O.name}))});else{var D;y.push(lR({tooltipEntrySettings:A,dataKey:M,payload:L,value:jt(L,M),name:(D=jt(L,R))!==null&&D!==void 0?D:A?.name}))}return y},v)}},NS=ee([$n,uV,JA],wV),kle=ee([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Dle=ee([rr,Xd],sS),tf=ee([kle,$n,Dle],oS,{memoizeOptions:{resultEqualityCheck:F0}}),Mle=ee([tf],t=>t.filter(B0)),zle=ee([tf],lS,{memoizeOptions:{resultEqualityCheck:F0}}),nf=ee([zle,ro],cS),Lle=ee([Mle,ro,$n],sV),TS=ee([nf,$n,tf],dS),HV=ee([$n],fS),Vle=ee([$n],t=>t.allowDataOverflow),KV=ee([HV,Vle],U5),Ule=ee([tf],t=>t.filter(B0)),qle=ee([Lle,Ule,Fm,J5],mV),Ble=ee([qle,ro,rr,KV],pV),$le=ee([tf],fV),Fle=ee([nf,$n,$le,K0,rr],pS,{memoizeOptions:{resultEqualityCheck:$0}}),Hle=ee([vV,rr,Xd],Jd),Kle=ee([Hle,rr],bV),Gle=ee([gV,rr,Xd],Jd),Wle=ee([Gle,rr],_V),Qle=ee([yV,rr,Xd],Jd),Yle=ee([Qle,rr],xV),Xle=ee([Kle,Yle,Wle],jy),Zle=ee([$n,HV,KV,Ble,Fle,Xle,ht,rr],vS),Ym=ee([$n,ht,nf,TS,Fm,rr,Zle],gS),Jle=ee([Ym,$n,NS],_S),ece=ee([$n,Ym,Jle,rr],wS),GV=t=>{var e=rr(t),n=Xd(t),r=!1;return Qm(t,e,n,r)},WV=ee([$n,GV],L0),QV=ee([$n,NS,ece,WV],bS),tce=ee([ht,TS,$n,rr],CV),nce=ee([ht,TS,$n,rr],PV),rce=(t,e,n,r,i,s,l,d)=>{if(e){var{type:f}=e,h=va(t,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,v=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return v=d==="angleAxis"&&i!=null&&i?.length>=2?Jn(i[0]-i[1])*2*v:v,h&&l?l.map((y,w)=>{var j=r.map(y);return tt(j)?{coordinate:j+v,value:y,index:w,offset:v}:null}).filter(Yr):r.domain().map((y,w)=>{var j=r.map(y);return tt(j)?{coordinate:j+v,value:s?s[y]:y,index:w,offset:v}:null}).filter(Yr)}}},so=ee([ht,$n,NS,QV,GV,tce,nce,rr],rce),CS=ee([IV,RV,fle],(t,e,n)=>kV(n.shared,t,e)),YV=t=>t.tooltip.settings.trigger,PS=t=>t.tooltip.settings.defaultIndex,Xm=ee([ef,CS,YV,PS],UV),wl=ee([Xm,nf,Wm,Ym],SS),XV=ee([so,wl],DV),OS=ee([Xm],t=>{if(t)return t.dataKey}),ice=ee([Xm],t=>{if(t)return t.graphicalItemId}),ZV=ee([ef,CS,YV,PS],BV),ace=ee([eo,to,ht,qn,so,PS,ZV],qV),sce=ee([Xm,ace],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),oce=ee([Xm],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),lce=ee([ZV,wl,ro,Wm,XV,$V,CS],FV),cce=ee([lce],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function dD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(n),!0).forEach(function(r){uce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uce(t,e,n){return(e=dce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dce(t){var e=fce(t,"string");return typeof e=="symbol"?e:e+""}function fce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hce=()=>Oe($n),mce=()=>{var t=hce(),e=Oe(so),n=Oe(QV);return xl(!t||!n?void 0:fD(fD({},t),{},{scale:n}),e)};function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){pce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pce(t,e,n){return(e=vce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vce(t){var e=gce(t,"string");return typeof e=="symbol"?e:e+""}function gce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yce=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},bce=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return ed(ed(ed({},r),Dn(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var d=i.coordinate,{angle:f}=r;return ed(ed(ed({},r),Dn(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function _ce(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var JV=(t,e,n,r,i)=>{var s,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<l;d++){var f,h,p,v,y,w=d>0?(f=n[d-1])===null||f===void 0?void 0:f.coordinate:(h=n[l-1])===null||h===void 0?void 0:h.coordinate,j=(p=n[d])===null||p===void 0?void 0:p.coordinate,E=d>=l-1?(v=n[0])===null||v===void 0?void 0:v.coordinate:(y=n[d+1])===null||y===void 0?void 0:y.coordinate,A=void 0;if(!(w==null||j==null||E==null))if(Jn(j-w)!==Jn(E-j)){var T=[];if(Jn(E-j)===Jn(i[1]-i[0])){A=E;var k=j+i[1]-i[0];T[0]=Math.min(k,(k+w)/2),T[1]=Math.max(k,(k+w)/2)}else{A=w;var M=E+i[1]-i[0];T[0]=Math.min(j,(M+j)/2),T[1]=Math.max(j,(M+j)/2)}var R=[Math.min(j,(A+j)/2),Math.max(j,(A+j)/2)];if(t>R[0]&&t<=R[1]||t>=T[0]&&t<=T[1]){var L;return(L=n[d])===null||L===void 0?void 0:L.index}}else{var D=Math.min(w,E),O=Math.max(w,E);if(t>(D+j)/2&&t<=(O+j)/2){var P;return(P=n[d])===null||P===void 0?void 0:P.index}}}else if(e)for(var I=0;I<l;I++){var B=e[I];if(B!=null){var U=e[I+1],z=e[I-1];if(I===0&&U!=null&&t<=(B.coordinate+U.coordinate)/2||I===l-1&&z!=null&&t>(B.coordinate+z.coordinate)/2||I>0&&I<l-1&&z!=null&&U!=null&&t>(B.coordinate+z.coordinate)/2&&t<=(B.coordinate+U.coordinate)/2)return B.index}}return-1},e9=()=>Oe(JA),IS=(t,e)=>e,t9=(t,e,n)=>n,RS=(t,e,n,r)=>r,xce=ee(so,t=>h0(t,e=>e.coordinate)),kS=ee([ef,IS,t9,RS],UV),DS=ee([kS,nf,Wm,Ym],SS),wce=(t,e,n)=>{if(e!=null){var r=ef(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},n9=ee([ef,IS,t9,RS],BV),Ay=ee([eo,to,ht,qn,so,RS,n9],qV),Ece=ee([kS,Ay],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),r9=ee([so,DS],DV),jce=ee([n9,DS,ro,Wm,r9,$V,IS],FV),Ace=ee([kS,DS],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Sce=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&_ce(t,l)){var d=Wte(t,e),f=JV(d,s,i,n,r),h=yce(e,i,f,t);return{activeIndex:String(f),activeCoordinate:h}}},Nce=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var d=die(t,n);if(d){var f=Qte(d,e),h=JV(f,l,s,r,i),p=bce(e,s,h,d);return{activeIndex:String(h),activeCoordinate:p}}}},Tce=(t,e,n,r,i,s,l,d)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?Sce(t,e,r,i,s,l,d):Nce(t,e,n,r,i,s,l)},Cce=ee(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Pce=ee(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(wn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:doe}});function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){Oce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oce(t,e,n){return(e=Ice(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ice(t){var e=Rce(t,"string");return typeof e=="symbol"?e:e+""}function Rce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kce={},Dce={zIndexMap:Object.values(wn).reduce((t,e)=>pD(pD({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),kce)},Mce=new Set(Object.values(wn));function zce(t){return Mce.has(t)}var i9=Zr({name:"zIndex",initialState:Dce,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Xt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!zce(n)&&delete t.zIndexMap[n])},prepare:Xt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Xt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Xt()}}}),{registerZIndexPortal:Lce,unregisterZIndexPortal:Vce,registerZIndexPortalElement:Uce,unregisterZIndexPortalElement:qce}=i9.actions,Bce=i9.reducer;function Dr(t){var{zIndex:e,children:n}=t,r=Sne(),i=r&&e!==void 0&&e!==0,s=tr(),l=Ht();_.useLayoutEffect(()=>i?(l(Lce({zIndex:e})),()=>{l(Vce({zIndex:e}))}):Ol,[l,e,i]);var d=Oe(f=>Cce(f,e,s));return i?d?QE.createPortal(n,d):null:n}function kE(){return kE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kE.apply(null,arguments)}function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){$ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ce(t,e,n){return(e=Fce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fce(t){var e=Hce(t,"string");return typeof e=="symbol"?e:e+""}function Hce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kce(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return _.isValidElement(e)?_.cloneElement(e,r):_.createElement(n,r)}function Gce(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:d,cursor:f,tooltipEventType:h,chartName:p}=t,v=n,y=r,w=i;if(!f||!v||p!=="ScatterChart"&&h!=="axis")return null;var j,E,A;if(p==="ScatterChart")j=v,E=Are,A=wn.cursorLine;else if(p==="BarChart")j=Sre(d,v,s,l),E=e5,A=wn.cursorRectangle;else if(d==="radial"&&z3(v)){var{cx:T,cy:k,radius:M,startAngle:R,endAngle:L}=n5(v);j={cx:T,cy:k,startAngle:R,endAngle:L,innerRadius:M,outerRadius:M},E=i5,A=wn.cursorLine}else j={points:pie(d,v,s)},E=_d,A=wn.cursorLine;var D=typeof f=="object"&&"className"in f?f.className:void 0,O=Wv(Wv(Wv(Wv({stroke:"#ccc",pointerEvents:"none"},s),j),Kc(f)),{},{payload:y,payloadIndex:w,className:gt("recharts-tooltip-cursor",D)});return _.createElement(Dr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:A},_.createElement(Kce,{cursor:f,cursorComp:E,cursorProps:O}))}function Wce(t){var e=mce(),n=z6(),r=Rl(),i=e9();return e==null||n==null||r==null||i==null?null:_.createElement(Gce,kE({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var a9=_.createContext(null),Qce=()=>_.useContext(a9),G1={exports:{}},gD;function Yce(){return gD||(gD=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,v,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new i(p,v||f,y),j=n?n+h:h;return f._events[j]?f._events[j].fn?f._events[j]=[f._events[j],w]:f._events[j].push(w):(f._events[j]=w,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,v;if(this._eventsCount===0)return h;for(v in p=this._events)e.call(p,v)&&h.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=n?n+h:h,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var y=0,w=v.length,j=new Array(w);y<w;y++)j[y]=v[y].fn;return j},d.prototype.listenerCount=function(h){var p=n?n+h:h,v=this._events[p];return v?v.fn?1:v.length:0},d.prototype.emit=function(h,p,v,y,w,j){var E=n?n+h:h;if(!this._events[E])return!1;var A=this._events[E],T=arguments.length,k,M;if(A.fn){switch(A.once&&this.removeListener(h,A.fn,void 0,!0),T){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,p),!0;case 3:return A.fn.call(A.context,p,v),!0;case 4:return A.fn.call(A.context,p,v,y),!0;case 5:return A.fn.call(A.context,p,v,y,w),!0;case 6:return A.fn.call(A.context,p,v,y,w,j),!0}for(M=1,k=new Array(T-1);M<T;M++)k[M-1]=arguments[M];A.fn.apply(A.context,k)}else{var R=A.length,L;for(M=0;M<R;M++)switch(A[M].once&&this.removeListener(h,A[M].fn,void 0,!0),T){case 1:A[M].fn.call(A[M].context);break;case 2:A[M].fn.call(A[M].context,p);break;case 3:A[M].fn.call(A[M].context,p,v);break;case 4:A[M].fn.call(A[M].context,p,v,y);break;default:if(!k)for(L=1,k=new Array(T-1);L<T;L++)k[L-1]=arguments[L];A[M].fn.apply(A[M].context,k)}}return!0},d.prototype.on=function(h,p,v){return s(this,h,p,v,!1)},d.prototype.once=function(h,p,v){return s(this,h,p,v,!0)},d.prototype.removeListener=function(h,p,v,y){var w=n?n+h:h;if(!this._events[w])return this;if(!p)return l(this,w),this;var j=this._events[w];if(j.fn)j.fn===p&&(!y||j.once)&&(!v||j.context===v)&&l(this,w);else{for(var E=0,A=[],T=j.length;E<T;E++)(j[E].fn!==p||y&&!j[E].once||v&&j[E].context!==v)&&A.push(j[E]);A.length?this._events[w]=A.length===1?A[0]:A:l(this,w)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d})(G1)),G1.exports}var Xce=Yce();const Zce=ns(Xce);var dm=new Zce,DE="recharts.syncEvent.tooltip",yD="recharts.syncEvent.brush",Y0=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!ha(n))return t[n]}},Jce={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},s9=Zr({name:"options",initialState:Jce,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),eue=s9.reducer,{createEventEmitter:tue}=s9.actions;function nue(t){return t.tooltip.syncInteraction}var rue={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},o9=Zr({name:"chartData",initialState:rue,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:bD,setDataStartEndIndexes:iue,setComputedData:zye}=o9.actions,aue=o9.reducer,sue=["x","y"];function _D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(n),!0).forEach(function(r){oue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oue(t,e,n){return(e=lue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lue(t){var e=cue(t,"string");return typeof e=="symbol"?e:e+""}function cue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uue(t,e){if(t==null)return{};var n,r,i=due(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function due(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fue(){var t=Oe(eS),e=Oe(tS),n=Ht(),r=Oe(eV),i=Oe(so),s=Rl(),l=N0(),d=Oe(f=>f.rootProps.className);_.useEffect(()=>{if(t==null)return Ol;var f=(h,p,v)=>{if(e!==v&&t===h){if(r==="index"){var y;if(l&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate&&p.payload.sourceViewBox){var w=p.payload.coordinate,{x:j,y:E}=w,A=uue(w,sue),{x:T,y:k,width:M,height:R}=p.payload.sourceViewBox,L=td(td({},A),{},{x:l.x+(M?(j-T)/M:0)*l.width,y:l.y+(R?(E-k)/R:0)*l.height});n(td(td({},p),{},{payload:td(td({},p.payload),{},{coordinate:L})}))}else n(p);return}if(i!=null){var D;if(typeof r=="function"){var O={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},P=r(i,O);D=i[P]}else r==="value"&&(D=i.find(F=>String(F.value)===p.payload.label));var{coordinate:I}=p.payload;if(D==null||p.payload.active===!1||I==null||l==null){n(IE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:B,y:U}=I,z=Math.min(B,l.x+l.width),q=Math.min(U,l.y+l.height),pe={x:s==="horizontal"?D.coordinate:z,y:s==="horizontal"?q:D.coordinate},Ee=IE({active:p.payload.active,coordinate:pe,dataKey:p.payload.dataKey,index:String(D.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(Ee)}}};return dm.on(DE,f),()=>{dm.off(DE,f)}},[d,n,e,t,r,i,s,l])}function hue(){var t=Oe(eS),e=Oe(tS),n=Ht();_.useEffect(()=>{if(t==null)return Ol;var r=(i,s,l)=>{e!==l&&t===i&&n(iue(s))};return dm.on(yD,r),()=>{dm.off(yD,r)}},[n,e,t])}function mue(){var t=Ht();_.useEffect(()=>{t(tue())},[t]),fue(),hue()}function pue(t,e,n,r,i,s){var l=Oe(w=>wce(w,t,e)),d=Oe(tS),f=Oe(eS),h=Oe(eV),p=Oe(nue),v=p?.active,y=N0();_.useEffect(()=>{if(!v&&f!=null&&d!=null){var w=IE({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});dm.emit(DE,f,w,d)}},[v,n,l,i,r,d,f,h,s,y])}function xD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xD(Object(n),!0).forEach(function(r){vue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vue(t,e,n){return(e=gue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gue(t){var e=yue(t,"string");return typeof e=="symbol"?e:e+""}function yue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bue(t){return t.dataKey}function _ue(t,e){return _.isValidElement(t)?_.cloneElement(t,e):typeof t=="function"?_.createElement(t,e):_.createElement(ire,e)}var ED=[],xue={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function _c(t){var e,n,r=pn(t,xue),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:d,content:f,filterNull:h,isAnimationActive:p,offset:v,payloadUniqBy:y,position:w,reverseDirection:j,useTranslate3d:E,wrapperStyle:A,cursor:T,shared:k,trigger:M,defaultIndex:R,portal:L,axisId:D}=r,O=Ht(),P=typeof R=="number"?String(R):R;_.useEffect(()=>{O(gle({shared:k,trigger:M,axisId:D,active:i,defaultIndex:P}))},[O,k,M,D,i,P]);var I=N0(),B=Q6(),U=dle(k),{activeIndex:z,isActive:q}=(e=Oe(be=>Ace(be,U,M,P)))!==null&&e!==void 0?e:{},pe=Oe(be=>jce(be,U,M,P)),Ee=Oe(be=>r9(be,U,M,P)),F=Oe(be=>Ece(be,U,M,P)),J=pe,fe=Qce(),we=(n=i??q)!==null&&n!==void 0?n:!1,[_e,H]=X3([J,we]),ie=U==="axis"?Ee:void 0;pue(U,M,F,ie,z,we);var ge=L??fe;if(ge==null||I==null||U==null)return null;var xe=J??ED;we||(xe=ED),h&&xe.length&&(xe=K3(xe.filter(be=>be.value!=null&&(be.hide!==!0||r.includeHidden)),y,bue));var Y=xe.length>0,W=_.createElement(dre,{allowEscapeViewBox:s,animationDuration:l,animationEasing:d,isAnimationActive:p,active:we,coordinate:F,hasPayload:Y,offset:v,position:w,reverseDirection:j,useTranslate3d:E,viewBox:I,wrapperStyle:A,lastBoundingBox:_e,innerRef:H,hasPortalFromProps:!!L},_ue(f,wD(wD({},r),{},{payload:xe,label:ie,active:we,activeIndex:z,coordinate:F,accessibilityLayer:B})));return _.createElement(_.Fragment,null,QE.createPortal(W,ge),we&&_.createElement(Wce,{cursor:T,tooltipEventType:U,coordinate:F,payload:xe,index:z}))}var ul=t=>null;ul.displayName="Cell";function wue(t,e,n){return(e=Eue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eue(t){var e=jue(t,"string");return typeof e=="symbol"?e:e+""}function jue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Aue{constructor(e){wue(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function jD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jD(Object(n),!0).forEach(function(r){Nue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nue(t,e,n){return(e=Tue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tue(t){var e=Cue(t,"string");return typeof e=="symbol"?e:e+""}function Cue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pue={cacheSize:2e3,enableCache:!0},l9=Sue({},Pue),AD=new Aue(l9.cacheSize),Oue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},SD="recharts_measurement_span";function Iue(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",d=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(d)}var ND=(t,e)=>{try{var n=document.getElementById(SD);n||(n=document.createElement("span"),n.setAttribute("id",SD),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Oue,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},zh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Vm.isSsr)return{width:0,height:0};if(!l9.enableCache)return ND(e,n);var r=Iue(e,n),i=AD.get(r);if(i)return i;var s=ND(e,n);return AD.set(r,s),s},c9;function Rue(t,e,n){return(e=kue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kue(t){var e=Due(t,"string");return typeof e=="symbol"?e:e+""}function Due(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Lue={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Vue=["cm","mm","pt","pc","in","Q","px"];function Uue(t){return Vue.includes(t)}var fd="NaN";function que(t,e){return t*Lue[e]}class dr{static parse(e){var n,[,r,i]=(n=zue.exec(e))!==null&&n!==void 0?n:[];return r==null?dr.NaN:new dr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ha(e)&&(this.unit=""),n!==""&&!Mue.test(n)&&(this.num=NaN,this.unit=""),Uue(n)&&(this.num=que(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new dr(NaN,""):new dr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new dr(NaN,""):new dr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new dr(NaN,""):new dr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new dr(NaN,""):new dr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ha(this.num)}}c9=dr;Rue(dr,"NaN",new c9(NaN,""));function u9(t){if(t==null||t.includes(fd))return fd;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=TD.exec(e))!==null&&n!==void 0?n:[],l=dr.parse(r??""),d=dr.parse(s??""),f=i==="*"?l.multiply(d):l.divide(d);if(f.isNaN())return fd;e=e.replace(TD,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,v,y]=(h=CD.exec(e))!==null&&h!==void 0?h:[],w=dr.parse(p??""),j=dr.parse(y??""),E=v==="+"?w.add(j):w.subtract(j);if(E.isNaN())return fd;e=e.replace(CD,E.toString())}return e}var PD=/\(([^()]*)\)/;function Bue(t){for(var e=t,n;(n=PD.exec(e))!=null;){var[,r]=n;e=e.replace(PD,u9(r))}return e}function $ue(t){var e=t.replace(/\s+/g,"");return e=Bue(e),e=u9(e),e}function Fue(t){try{return $ue(t)}catch{return fd}}function W1(t){var e=Fue(t.slice(5,-1));return e===fd?"":e}var Hue=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Kue=["dx","dy","angle","className","breakAll"];function ME(){return ME=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ME.apply(null,arguments)}function OD(t,e){if(t==null)return{};var n,r,i=Gue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var d9=/[ \f\n\r\t\v\u2028\u2029]+/,f9=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Jt(e)||(n?i=e.toString().split(""):i=e.toString().split(d9));var s=i.map(d=>({word:d,width:zh(d,r).width})),l=n?0:zh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function Wue(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var h9=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:d}=s,f=i[i.length-1];if(f&&d!=null&&(e==null||r||f.width+d+n<Number(e)))f.words.push(l),f.width+=d+n;else{var h={words:[l],width:d};i.push(h)}return i},[]),m9=t=>t.reduce((e,n)=>e.width>n.width?e:n),Que="",ID=(t,e,n,r,i,s,l,d)=>{var f=t.slice(0,e),h=f9({breakAll:n,style:r,children:f+Que});if(!h)return[!1,[]];var p=h9(h.wordsWithComputedWidth,s,l,d),v=p.length>i||m9(p).width>Number(s);return[v,p]},Yue=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:d,breakAll:f}=t,h=Ne(s),p=String(l),v=h9(e,r,n,i);if(!h||i)return v;var y=v.length>s||m9(v).width>Number(r);if(!y)return v;for(var w=0,j=p.length-1,E=0,A;w<=j&&E<=p.length-1;){var T=Math.floor((w+j)/2),k=T-1,[M,R]=ID(p,k,f,d,s,r,n,i),[L]=ID(p,T,f,d,s,r,n,i);if(!M&&!L&&(w=T+1),M&&L&&(j=T-1),!M&&L){A=R;break}E++}return A||v},RD=t=>{var e=Jt(t)?[]:t.toString().split(d9);return[{words:e,width:void 0}]},Xue=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!Vm.isSsr){var d,f,h=f9({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:v}=h;d=p,f=v}else return RD(r);return Yue({breakAll:s,children:r,maxLines:l,style:i},d,f,e,!!n)}return RD(r)},p9="#808080",Zue={angle:0,breakAll:!1,capHeight:"0.71em",fill:p9,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},X0=_.forwardRef((t,e)=>{var n=pn(t,Zue),{x:r,y:i,lineHeight:s,capHeight:l,fill:d,scaleToFit:f,textAnchor:h,verticalAnchor:p}=n,v=OD(n,Hue),y=_.useMemo(()=>Xue({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width}),[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),{dx:w,dy:j,angle:E,className:A,breakAll:T}=v,k=OD(v,Kue);if(!Xa(r)||!Xa(i)||y.length===0)return null;var M=Number(r)+(Ne(w)?w:0),R=Number(i)+(Ne(j)?j:0);if(!tt(M)||!tt(R))return null;var L;switch(p){case"start":L=W1("calc(".concat(l,")"));break;case"middle":L=W1("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:L=W1("calc(".concat(y.length-1," * -").concat(s,")"));break}var D=[],O=y[0];if(f&&O!=null){var P=O.width,{width:I}=v;D.push("scale(".concat(Ne(I)&&Ne(P)?I/P:1,")"))}return E&&D.push("rotate(".concat(E,", ").concat(M,", ").concat(R,")")),D.length&&(k.transform=D.join(" ")),_.createElement("text",ME({},Ar(k),{ref:e,x:M,y:R,className:gt("recharts-text",A),textAnchor:h,fill:d.includes("url")?p9:d}),y.map((B,U)=>{var z=B.words.join(T?"":" ");return _.createElement("tspan",{x:M,dy:U===0?L:s,key:"".concat(z,"-").concat(U)},z)}))});X0.displayName="Text";function kD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kD(Object(n),!0).forEach(function(r){Jue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jue(t,e,n){return(e=ede(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ede(t){var e=tde(t,"string");return typeof e=="symbol"?e:e+""}function tde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nde=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:s,y:l,height:d,upperWidth:f,lowerWidth:h}=xA(e),p=s,v=s+(f-h)/2,y=(p+v)/2,w=(f+h)/2,j=p+f/2,E=d>=0?1:-1,A=E*r,T=E>0?"end":"start",k=E>0?"start":"end",M=f>=0?1:-1,R=M*r,L=M>0?"end":"start",D=M>0?"start":"end",O=i;if(n==="top"){var P={x:p+f/2,y:l-A,horizontalAnchor:"middle",verticalAnchor:T};return O&&(P.height=Math.max(l-O.y,0),P.width=f),P}if(n==="bottom"){var I={x:v+h/2,y:l+d+A,horizontalAnchor:"middle",verticalAnchor:k};return O&&(I.height=Math.max(O.y+O.height-(l+d),0),I.width=h),I}if(n==="left"){var B={x:y-R,y:l+d/2,horizontalAnchor:L,verticalAnchor:"middle"};return O&&(B.width=Math.max(B.x-O.x,0),B.height=d),B}if(n==="right"){var U={x:y+w+R,y:l+d/2,horizontalAnchor:D,verticalAnchor:"middle"};return O&&(U.width=Math.max(O.x+O.width-U.x,0),U.height=d),U}var z=O?{width:w,height:d}:{};return n==="insideLeft"?Ma({x:y+R,y:l+d/2,horizontalAnchor:D,verticalAnchor:"middle"},z):n==="insideRight"?Ma({x:y+w-R,y:l+d/2,horizontalAnchor:L,verticalAnchor:"middle"},z):n==="insideTop"?Ma({x:p+f/2,y:l+A,horizontalAnchor:"middle",verticalAnchor:k},z):n==="insideBottom"?Ma({x:v+h/2,y:l+d-A,horizontalAnchor:"middle",verticalAnchor:T},z):n==="insideTopLeft"?Ma({x:p+R,y:l+A,horizontalAnchor:D,verticalAnchor:k},z):n==="insideTopRight"?Ma({x:p+f-R,y:l+A,horizontalAnchor:L,verticalAnchor:k},z):n==="insideBottomLeft"?Ma({x:v+R,y:l+d-A,horizontalAnchor:D,verticalAnchor:T},z):n==="insideBottomRight"?Ma({x:v+h-R,y:l+d-A,horizontalAnchor:L,verticalAnchor:T},z):n&&typeof n=="object"&&(Ne(n.x)||Qc(n.x))&&(Ne(n.y)||Qc(n.y))?Ma({x:s+Er(n.x,w),y:l+Er(n.y,d),horizontalAnchor:"end",verticalAnchor:"end"},z):Ma({x:j,y:l+d/2,horizontalAnchor:"middle",verticalAnchor:"middle"},z)},rde=["labelRef"],ide=["content"];function DD(t,e){if(t==null)return{};var n,r,i=ade(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ade(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function MD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MD(Object(n),!0).forEach(function(r){sde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sde(t,e,n){return(e=ode(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ode(t){var e=lde(t,"string");return typeof e=="symbol"?e:e+""}function lde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ns(){return Ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ns.apply(null,arguments)}var v9=_.createContext(null),cde=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:d}=t,f=_.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return _.createElement(v9.Provider,{value:f},d)},g9=()=>{var t=_.useContext(v9),e=N0();return t||(e?xA(e):void 0)},ude=_.createContext(null),dde=()=>{var t=_.useContext(ude),e=Oe(aV);return t||e},fde=t=>{var{value:e,formatter:n}=t,r=Jt(t.children)?e:t.children;return typeof n=="function"?n(r):r},MS=t=>t!=null&&typeof t=="function",hde=(t,e)=>{var n=Jn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},mde=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:v,endAngle:y,clockWise:w}=i,j=(h+p)/2,E=hde(v,y),A=E>=0?1:-1,T,k;switch(e){case"insideStart":T=v+A*s,k=w;break;case"insideEnd":T=y-A*s,k=!w;break;case"end":T=y+A*s,k=w;break;default:throw new Error("Unsupported position ".concat(e))}k=E<=0?k:!k;var M=Dn(d,f,j,T),R=Dn(d,f,j,T+(k?1:-1)*359),L="M".concat(M.x,",").concat(M.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(k?0:1,`,
    `).concat(R.x,",").concat(R.y),D=Jt(t.id)?Zh("recharts-radial-line-"):t.id;return _.createElement("text",Ns({},r,{dominantBaseline:"central",className:gt("recharts-radial-bar-label",l)}),_.createElement("defs",null,_.createElement("path",{id:D,d:L})),_.createElement("textPath",{xlinkHref:"#".concat(D)},n))},pde=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:d,endAngle:f}=t,h=(d+f)/2;if(n==="outside"){var{x:p,y:v}=Dn(r,i,l+e,h);return{x:p,y:v,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(s+l)/2,{x:w,y:j}=Dn(r,i,y,h);return{x:w,y:j,textAnchor:"middle",verticalAnchor:"middle"}},dg=t=>t!=null&&"cx"in t&&Ne(t.cx),vde={angle:0,offset:5,zIndex:wn.label,position:"middle",textBreakAll:!1};function gde(t){if(!dg(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Ko(t){var e=pn(t,vde),{viewBox:n,parentViewBox:r,position:i,value:s,children:l,content:d,className:f="",textBreakAll:h,labelRef:p}=e,v=dde(),y=g9(),w=i==="center"?y:v??y,j,E,A;n==null?j=w:dg(n)?j=n:j=xA(n);var T=gde(j);if(!j||Jt(s)&&Jt(l)&&!_.isValidElement(d)&&typeof d!="function")return null;var k=Nh(Nh({},e),{},{viewBox:j});if(_.isValidElement(d)){var{labelRef:M}=k,R=DD(k,rde);return _.cloneElement(d,R)}if(typeof d=="function"){var{content:L}=k,D=DD(k,ide);if(E=_.createElement(d,D),_.isValidElement(E))return E}else E=fde(e);var O=Ar(e);if(dg(j)){if(i==="insideStart"||i==="insideEnd"||i==="end")return mde(e,i,E,O,j);A=pde(j,e.offset,e.position)}else{if(!T)return null;var P=nde({viewBox:T,position:i,offset:e.offset,parentViewBox:dg(r)?void 0:r});A=Nh(Nh({x:P.x,y:P.y,textAnchor:P.horizontalAnchor,verticalAnchor:P.verticalAnchor},P.width!==void 0?{width:P.width}:{}),P.height!==void 0?{height:P.height}:{})}return _.createElement(Dr,{zIndex:e.zIndex},_.createElement(X0,Ns({ref:p,className:gt("recharts-label",f)},O,A,{textAnchor:Wue(O.textAnchor)?O.textAnchor:A.textAnchor,breakAll:h}),E))}Ko.displayName="Label";var yde=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?_.createElement(Ko,Ns({key:"label-implicit"},r)):Xa(t)?_.createElement(Ko,Ns({key:"label-implicit",value:t},r)):_.isValidElement(t)?t.type===Ko?_.cloneElement(t,Nh({key:"label-implicit"},r)):_.createElement(Ko,Ns({key:"label-implicit",content:t},r)):MS(t)?_.createElement(Ko,Ns({key:"label-implicit",content:t},r)):t&&typeof t=="object"?_.createElement(Ko,Ns({},t,{key:"label-implicit"},r)):null};function bde(t){var{label:e,labelRef:n}=t,r=g9();return yde(e,r,n)||null}var Q1={},Y1={},zD;function _de(){return zD||(zD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Y1)),Y1}var X1={},LD;function xde(){return LD||(LD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(X1)),X1}var VD;function wde(){return VD||(VD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_de(),n=xde(),r=uA();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(Q1)),Q1}var Z1,UD;function Ede(){return UD||(UD=1,Z1=wde().last),Z1}var jde=Ede();const Ade=ns(jde);var Sde=["valueAccessor"],Nde=["dataKey","clockWise","id","textBreakAll","zIndex"];function Sy(){return Sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sy.apply(null,arguments)}function qD(t,e){if(t==null)return{};var n,r,i=Tde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cde=t=>Array.isArray(t.value)?Ade(t.value):t.value,y9=_.createContext(void 0),zS=y9.Provider,b9=_.createContext(void 0),Pde=b9.Provider;function Ode(){return _.useContext(y9)}function Ide(){return _.useContext(b9)}function fg(t){var{valueAccessor:e=Cde}=t,n=qD(t,Sde),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:d}=n,f=qD(n,Nde),h=Ode(),p=Ide(),v=h||p;return!v||!v.length?null:_.createElement(Dr,{zIndex:d??wn.label},_.createElement(hn,{className:"recharts-label-list"},v.map((y,w)=>{var j,E=Jt(r)?e(y,w):jt(y.payload,r),A=Jt(s)?{}:{id:"".concat(s,"-").concat(w)};return _.createElement(Ko,Sy({key:"label-".concat(w)},Ar(y),f,A,{fill:(j=n.fill)!==null&&j!==void 0?j:y.fill,parentViewBox:y.parentViewBox,value:E,textBreakAll:l,viewBox:y.viewBox,index:w,zIndex:0}))})))}fg.displayName="LabelList";function Z0(t){var{label:e}=t;return e?e===!0?_.createElement(fg,{key:"labelList-implicit"}):_.isValidElement(e)||MS(e)?_.createElement(fg,{key:"labelList-implicit",content:e}):typeof e=="object"?_.createElement(fg,Sy({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function zE(){return zE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zE.apply(null,arguments)}var _9=t=>{var{cx:e,cy:n,r,className:i}=t,s=gt("recharts-dot",i);return Ne(e)&&Ne(n)&&Ne(r)?_.createElement("circle",zE({},Rr(t),cA(t),{className:s,cx:e,cy:n,r})):null},x9=t=>t.graphicalItems.polarItems,Rde=ee([nn,Hm],sS),J0=ee([x9,vn,Rde],oS),kde=ee([J0],lS),eb=ee([kde,z0],cS),Dde=ee([eb,vn,J0],dS);ee([eb,vn,J0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,l=jt(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:jt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var BD=()=>{},Mde=ee([eb,vn,J0,K0,nn],pS),zde=ee([vn,hS,mS,BD,Mde,BD,ht,nn],vS),w9=ee([vn,ht,eb,Dde,Fm,nn,zde],gS),Lde=ee([w9,Zd,Ml],_S),Vde=ee([vn,w9,Lde,nn],wS);ee([Ml,Vde],oV);var Ude={radiusAxis:{},angleAxis:{}},E9=Zr({name:"polarAxis",initialState:Ude,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Lye,removeRadiusAxis:Vye,addAngleAxis:Uye,removeAngleAxis:qye}=E9.actions,qde=E9.reducer;function j9(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}function $D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$D(Object(n),!0).forEach(function(r){Bde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bde(t,e,n){return(e=$de(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $de(t){var e=Fde(t,"string");return typeof e=="symbol"?e:e+""}function Fde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hde=(t,e)=>e,LS=ee([x9,Hde],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Kde=[],VS=(t,e,n)=>n?.length===0?Kde:n,A9=ee([z0,LS,VS],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>FD(FD({},e.presentationProps),s.props))),i!=null)return i}}),Gde=ee([A9,LS,VS],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,l=jt(r,e.nameKey,e.name),d;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=e.fill,{value:Il(l,e.dataKey),color:d,payload:r,type:e.legendType}})}),Wde=ee([A9,LS,VS,qn],(t,e,n,r)=>{if(!(e==null||t==null))return Qfe({offset:r,pieSettings:e,displayedData:t,cells:n})}),J1={exports:{}},zt={};var HD;function Qde(){if(HD)return zt;HD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function j(E){if(typeof E=="object"&&E!==null){var A=E.$$typeof;switch(A){case t:switch(E=E.type,E){case n:case i:case r:case f:case h:case y:return E;default:switch(E=E&&E.$$typeof,E){case l:case d:case v:case p:return E;case s:return E;default:return A}}case e:return A}}}return zt.ContextConsumer=s,zt.ContextProvider=l,zt.Element=t,zt.ForwardRef=d,zt.Fragment=n,zt.Lazy=v,zt.Memo=p,zt.Portal=e,zt.Profiler=i,zt.StrictMode=r,zt.Suspense=f,zt.SuspenseList=h,zt.isContextConsumer=function(E){return j(E)===s},zt.isContextProvider=function(E){return j(E)===l},zt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},zt.isForwardRef=function(E){return j(E)===d},zt.isFragment=function(E){return j(E)===n},zt.isLazy=function(E){return j(E)===v},zt.isMemo=function(E){return j(E)===p},zt.isPortal=function(E){return j(E)===e},zt.isProfiler=function(E){return j(E)===i},zt.isStrictMode=function(E){return j(E)===r},zt.isSuspense=function(E){return j(E)===f},zt.isSuspenseList=function(E){return j(E)===h},zt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===f||E===h||typeof E=="object"&&E!==null&&(E.$$typeof===v||E.$$typeof===p||E.$$typeof===l||E.$$typeof===s||E.$$typeof===d||E.$$typeof===w||E.getModuleId!==void 0)},zt.typeOf=j,zt}var KD;function Yde(){return KD||(KD=1,J1.exports=Qde()),J1.exports}var Xde=Yde(),GD=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",WD=null,ew=null,S9=t=>{if(t===WD&&Array.isArray(ew))return ew;var e=[];return _.Children.forEach(t,n=>{Jt(n)||(Xde.isFragment(n)?e=e.concat(S9(n.props.children)):e.push(n))}),ew=e,WD=t,e};function US(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>GD(i)):r=[GD(e)],S9(t).forEach(i=>{var s=Wc(i,"type.displayName")||Wc(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var qS=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,tw={},QD;function Zde(){return QD||(QD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(tw)),tw}var nw,YD;function Jde(){return YD||(YD=1,nw=Zde().isPlainObject),nw}var efe=Jde();const tfe=ns(efe);var XD,ZD,JD,eM,tM;function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(r){nfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nfe(t,e,n){return(e=rfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rfe(t){var e=ife(t,"string");return typeof e=="symbol"?e:e+""}function ife(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ny(){return Ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ny.apply(null,arguments)}function gh(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var iM=(t,e,n,r,i)=>{var s=n-r,l;return l=cn(XD||(XD=gh(["M ",",",""])),t,e),l+=cn(ZD||(ZD=gh(["L ",",",""])),t+n,e),l+=cn(JD||(JD=gh(["L ",",",""])),t+n-s/2,e+i),l+=cn(eM||(eM=gh(["L ",",",""])),t+n-s/2-r,e+i),l+=cn(tM||(tM=gh(["L ",","," Z"])),t,e),l},afe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sfe=t=>{var e=pn(t,afe),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:d}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:v}=e,y=_.useRef(null),[w,j]=_.useState(-1),E=_.useRef(i),A=_.useRef(s),T=_.useRef(l),k=_.useRef(n),M=_.useRef(r),R=Gd(t,"trapezoid-");if(_.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var pe=y.current.getTotalLength();pe&&j(pe)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var L=gt("recharts-trapezoid",d);if(!v)return _.createElement("g",null,_.createElement("path",Ny({},Ar(e),{className:L,d:iM(n,r,i,s,l)})));var D=E.current,O=A.current,P=T.current,I=k.current,B=M.current,U="0px ".concat(w===-1?1:w,"px"),z="".concat(w,"px 0px"),q=Y6(["strokeDasharray"],h,f);return _.createElement(Kd,{animationId:R,key:R,canBegin:w>0,duration:h,easing:f,isActive:v,begin:p},pe=>{var Ee=Et(D,i,pe),F=Et(O,s,pe),J=Et(P,l,pe),fe=Et(I,n,pe),we=Et(B,r,pe);y.current&&(E.current=Ee,A.current=F,T.current=J,k.current=fe,M.current=we);var _e=pe>0?{transition:q,strokeDasharray:z}:{strokeDasharray:U};return _.createElement("path",Ny({},Ar(e),{className:L,d:iM(fe,we,Ee,F,J),ref:y,style:rM(rM({},_e),e.style)}))})},ofe=["option","shapeType","activeClassName"];function lfe(t,e){if(t==null)return{};var n,r,i=cfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function aM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ty(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(n),!0).forEach(function(r){ufe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ufe(t,e,n){return(e=dfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dfe(t){var e=ffe(t,"string");return typeof e=="symbol"?e:e+""}function ffe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hfe(t,e){return Ty(Ty({},e),t)}function mfe(t,e){return t==="symbols"}function sM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return _.createElement(e5,n);case"trapezoid":return _.createElement(sfe,n);case"sector":return _.createElement(i5,n);case"symbols":if(mfe(e))return _.createElement(lA,n);break;case"curve":return _.createElement(_d,n);default:return null}}function pfe(t){return _.isValidElement(t)?t.props:t}function BS(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=lfe(t,ofe),s;if(_.isValidElement(e))s=_.cloneElement(e,Ty(Ty({},i),pfe(e)));else if(typeof e=="function")s=e(i,i.index);else if(tfe(e)&&typeof e!="boolean"){var l=hfe(e,i);s=_.createElement(sM,{shapeType:n,elementProps:l})}else{var d=i;s=_.createElement(sM,{shapeType:n,elementProps:d})}return i.isActive?_.createElement(hn,{className:r},s):s}var $S=(t,e,n)=>{var r=Ht();return(i,s)=>l=>{t?.(i,s,l),r(zV({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},FS=t=>{var e=Ht();return(n,r)=>i=>{t?.(n,r,i),e(yle())}},HS=(t,e,n)=>{var r=Ht();return(i,s)=>l=>{t?.(i,s,l),r(ble({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function tb(t){var{tooltipEntrySettings:e}=t,n=Ht(),r=tr(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(mle(e)):i.current!==e&&n(ple({prev:i.current,next:e})),i.current=e)},[e,n,r]),_.useLayoutEffect(()=>()=>{i.current&&(n(vle(i.current)),i.current=null)},[n]),null}function KS(t){var{legendPayload:e}=t,n=Ht(),r=tr(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(K6(e)):i.current!==e&&n(G6({prev:i.current,next:e})),i.current=e)},[n,r,e]),_.useLayoutEffect(()=>()=>{i.current&&(n(W6(i.current)),i.current=null)},[n]),null}function vfe(t){var{legendPayload:e}=t,n=Ht(),r=Oe(ht),i=_.useRef(null);return _.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(K6(e)):i.current!==e&&n(G6({prev:i.current,next:e})),i.current=e)},[n,r,e]),_.useLayoutEffect(()=>()=>{i.current&&(n(W6(i.current)),i.current=null)},[n]),null}var rw,gfe=()=>{var[t]=_.useState(()=>Zh("uid-"));return t},yfe=(rw=$M.useId)!==null&&rw!==void 0?rw:gfe;function bfe(t,e){var n=yfe();return e||(t?"".concat(t,"-").concat(n):n)}var _fe=_.createContext(void 0),nb=t=>{var{id:e,type:n,children:r}=t,i=bfe("recharts-".concat(n),e);return _.createElement(_fe.Provider,{value:i},r(i))},xfe={cartesianItems:[],polarItems:[]},N9=Zr({name:"graphicalItems",initialState:xfe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Xt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ua(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Xt()},removeCartesianGraphicalItem:{reducer(t,e){var n=ua(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Xt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Xt()},removePolarGraphicalItem:{reducer(t,e){var n=ua(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Xt()}}}),{addCartesianGraphicalItem:wfe,replaceCartesianGraphicalItem:Efe,removeCartesianGraphicalItem:jfe,addPolarGraphicalItem:Afe,removePolarGraphicalItem:Sfe}=N9.actions,Nfe=N9.reducer,Tfe=t=>{var e=Ht(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(wfe(t)):n.current!==t&&e(Efe({prev:n.current,next:t})),n.current=t},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(e(jfe(n.current)),n.current=null)},[e]),null},GS=_.memo(Tfe);function Cfe(t){var e=Ht();return _.useLayoutEffect(()=>(e(Afe(t)),()=>{e(Sfe(t))}),[e,t]),null}var Pfe=["key"],Ofe=["onMouseEnter","onClick","onMouseLeave"],Ife=["id"],Rfe=["id"];function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){kfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kfe(t,e,n){return(e=Dfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dfe(t){var e=Mfe(t,"string");return typeof e=="symbol"?e:e+""}function Mfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function El(){return El=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},El.apply(null,arguments)}function rb(t,e){if(t==null)return{};var n,r,i=zfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Lfe(t){var e=_.useMemo(()=>US(t.children,ul),[t.children]),n=Oe(r=>Gde(r,t.id,e));return n==null?null:_.createElement(vfe,{legendPayload:n})}var Vfe=_.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:l,name:d,hide:f,tooltipType:h,id:p}=t,v={dataDefinedOnItem:r.map(y=>y.tooltipPayload),getPosition:y=>{var w;return(w=r[Number(y)])===null||w===void 0?void 0:w.tooltipPosition},settings:{stroke:i,strokeWidth:s,fill:l,dataKey:e,nameKey:n,name:Il(d,e),hide:f,type:h,color:l,unit:"",graphicalItemId:p}};return _.createElement(tb,{tooltipEntrySettings:v})}),Ufe=(t,e)=>t>e?"start":t<e?"end":"middle",qfe=(t,e,n)=>Er(typeof e=="function"?e(t):e,n,n*.8),Bfe=(t,e,n)=>{var{top:r,left:i,width:s,height:l}=e,d=t5(s,l),f=i+Er(t.cx,s,s/2),h=r+Er(t.cy,l,l/2),p=Er(t.innerRadius,d,0),v=qfe(n,t.outerRadius,d),y=t.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:v,maxRadius:y}},$fe=(t,e)=>{var n=Jn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Ffe=(t,e)=>{if(_.isValidElement(t))return _.cloneElement(t,e);if(typeof t=="function")return t(e);var n=gt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=rb(e,Pfe);return _.createElement(_d,El({},i,{type:"linear",className:n}))},Hfe=(t,e,n)=>{if(_.isValidElement(t))return _.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),_.isValidElement(r)))return r;var i=gt("recharts-pie-label-text",j9(t));return _.createElement(X0,El({},e,{alignmentBaseline:"middle",className:i}),r)};function Kfe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:l}=n;if(!r||!i||!e)return null;var d=Rr(n),f=Kc(i),h=Kc(s),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,v=e.map((y,w)=>{var j=(y.startAngle+y.endAngle)/2,E=Dn(y.cx,y.cy,y.outerRadius+p,j),A=un(un(un(un({},d),y),{},{stroke:"none"},f),{},{index:w,textAnchor:Ufe(E.x,y.cx)},E),T=un(un(un(un({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:w,points:[Dn(y.cx,y.cy,y.outerRadius,j),E],key:"line"});return _.createElement(Dr,{zIndex:wn.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(w)},_.createElement(hn,null,s&&Ffe(s,T),Hfe(i,A,jt(y,l))))});return _.createElement(hn,{className:"recharts-pie-labels"},v)}function Gfe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?_.createElement(Z0,{label:i}):_.createElement(Kfe,{sectors:e,props:n,showLabels:r})}function Wfe(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:s,id:l}=t,d=Oe(wl),f=Oe(OS),h=Oe(ice),{onMouseEnter:p,onClick:v,onMouseLeave:y}=i,w=rb(i,Ofe),j=$S(p,i.dataKey,l),E=FS(y),A=HS(v,i.dataKey,l);return e==null||e.length===0?null:_.createElement(_.Fragment,null,e.map((T,k)=>{if(T?.startAngle===0&&T?.endAngle===0&&e.length!==1)return null;var M=h==null||h===l,R=String(k)===d&&(f==null||i.dataKey===f)&&M,L=d?r:null,D=n&&R?n:L,O=un(un({},T),{},{stroke:T.stroke,tabIndex:-1,[I6]:k,[R6]:l});return _.createElement(hn,El({key:"sector-".concat(T?.startAngle,"-").concat(T?.endAngle,"-").concat(T.midAngle,"-").concat(k),tabIndex:-1,className:"recharts-pie-sector"},Rm(w,T,k),{onMouseEnter:j(T,k),onMouseLeave:E(T,k),onClick:A(T,k)}),_.createElement(BS,El({option:s??D,index:k,shapeType:"sector",isActive:R},O)))}))}function Qfe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:l,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:v}=n,y=Math.abs(n.minAngle),w=$fe(d,f),j=Math.abs(w),E=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,A=r.filter(D=>jt(D,h,0)!==0).length,T=(j>=360?A:A-1)*E,k=j-A*y-T,M=r.reduce((D,O)=>{var P=jt(O,h,0);return D+(Ne(P)?P:0)},0),R;if(M>0){var L;R=r.map((D,O)=>{var P=jt(D,h,0),I=jt(D,p,O),B=Bfe(n,s,D),U=(Ne(P)?P:0)/M,z,q=un(un({},D),i&&i[O]&&i[O].props);O?z=L.endAngle+Jn(w)*E*(P!==0?1:0):z=d;var pe=z+Jn(w)*((P!==0?y:0)+U*k),Ee=(z+pe)/2,F=(B.innerRadius+B.outerRadius)/2,J=[{name:I,value:P,payload:q,dataKey:h,type:v,graphicalItemId:n.id}],fe=Dn(B.cx,B.cy,F,Ee);return L=un(un(un(un({},n.presentationProps),{},{percent:U,cornerRadius:typeof l=="string"?parseFloat(l):l,name:I,tooltipPayload:J,midAngle:Ee,middleRadius:F,tooltipPosition:fe},q),B),{},{value:P,dataKey:h,startAngle:z,endAngle:pe,payload:q,paddingAngle:Jn(w)*E}),L})}return R}function Yfe(t){var{showLabels:e,sectors:n,children:r}=t,i=_.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return _.createElement(Pde,{value:e?i:void 0},r)}function Xfe(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:f,activeShape:h,inactiveShape:p,onAnimationStart:v,onAnimationEnd:y}=e,w=Gd(e,"recharts-pie-"),j=n.current,[E,A]=_.useState(!1),T=_.useCallback(()=>{typeof y=="function"&&y(),A(!1)},[y]),k=_.useCallback(()=>{typeof v=="function"&&v(),A(!0)},[v]);return _.createElement(Yfe,{showLabels:!E,sectors:i},_.createElement(Kd,{animationId:w,begin:l,duration:d,isActive:s,easing:f,onAnimationStart:k,onAnimationEnd:T,key:w},M=>{var R,L=[],D=i&&i[0],O=(R=D?.startAngle)!==null&&R!==void 0?R:0;return i?.forEach((P,I)=>{var B=j&&j[I],U=I>0?Wc(P,"paddingAngle",0):0;if(B){var z=Et(B.endAngle-B.startAngle,P.endAngle-P.startAngle,M),q=un(un({},P),{},{startAngle:O+U,endAngle:O+z+U});L.push(q),O=q.endAngle}else{var{endAngle:pe,startAngle:Ee}=P,F=Et(0,pe-Ee,M),J=un(un({},P),{},{startAngle:O+U,endAngle:O+F+U});L.push(J),O=J.endAngle}}),n.current=L,_.createElement(hn,null,_.createElement(Wfe,{sectors:L,activeShape:h,inactiveShape:p,allOtherPieProps:e,shape:e.shape,id:r}))}),_.createElement(Gfe,{showLabels:!E,sectors:i,props:e}),e.children)}var Zfe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:wn.area};function Jfe(t){var{id:e}=t,n=rb(t,Ife),{hide:r,className:i,rootTabIndex:s}=t,l=_.useMemo(()=>US(t.children,ul),[t.children]),d=Oe(p=>Wde(p,e,l)),f=_.useRef(null),h=gt("recharts-pie",i);return r||d==null?(f.current=null,_.createElement(hn,{tabIndex:s,className:h})):_.createElement(Dr,{zIndex:t.zIndex},_.createElement(Vfe,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:d,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),_.createElement(hn,{tabIndex:s,className:h},_.createElement(Xfe,{props:un(un({},n),{},{sectors:d}),previousSectorsRef:f,id:e})))}function T9(t){var e=pn(t,Zfe),{id:n}=e,r=rb(e,Rfe),i=Rr(r);return _.createElement(nb,{id:n,type:"pie"},s=>_.createElement(_.Fragment,null,_.createElement(Cfe,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),_.createElement(Lfe,El({},r,{id:s})),_.createElement(Jfe,El({},r,{id:s}))))}T9.displayName="Pie";var ehe=["points"];function lM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(n),!0).forEach(function(r){the(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function the(t,e,n){return(e=nhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nhe(t){var e=rhe(t,"string");return typeof e=="symbol"?e:e+""}function rhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cy.apply(null,arguments)}function ihe(t,e){if(t==null)return{};var n,r,i=ahe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ahe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function she(t){var{option:e,dotProps:n,className:r}=t;if(_.isValidElement(e))return _.cloneElement(e,n);if(typeof e=="function")return e(n);var i=gt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:l}=s,d=ihe(s,ehe);return _.createElement(_9,Cy({},d,{className:i}))}function ohe(t,e){return t==null?!1:e?!0:t.length===1}function C9(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:l,needClip:d,clipPathId:f,zIndex:h=wn.scatter}=t;if(!ohe(e,n))return null;var p=qS(n),v=jZ(n),y=e.map((j,E)=>{var A,T,k=iw(iw(iw({r:3},l),v),{},{index:E,cx:(A=j.x)!==null&&A!==void 0?A:void 0,cy:(T=j.y)!==null&&T!==void 0?T:void 0,dataKey:s,value:j.value,payload:j.payload,points:e});return _.createElement(she,{key:"dot-".concat(E),option:n,dotProps:k,className:i})}),w={};return d&&f!=null&&(w.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),_.createElement(Dr,{zIndex:h},_.createElement(hn,Cy({className:r},w),y))}function cM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(n),!0).forEach(function(r){lhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lhe(t,e,n){return(e=che(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function che(t){var e=uhe(t,"string");return typeof e=="symbol"?e:e+""}function uhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P9=0,dhe={xAxis:{},yAxis:{},zAxis:{}},O9=Zr({name:"cartesianAxis",initialState:dhe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Xt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Xt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Xt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Xt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Xt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Xt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Xt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Xt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Xt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s,l=i.widthHistory||[];if(l.length===3&&l[0]===l[2]&&r===l[1]&&r!==i.width&&Math.abs(r-((s=l[0])!==null&&s!==void 0?s:0))<=1)return;var d=[...l,r].slice(-3);t.yAxis[n]=uM(uM({},i),{},{width:r,widthHistory:d})}}}}),{addXAxis:fhe,replaceXAxis:hhe,removeXAxis:mhe,addYAxis:phe,replaceYAxis:vhe,removeYAxis:ghe,addZAxis:Bye,replaceZAxis:$ye,removeZAxis:Fye,updateYAxisWidth:yhe}=O9.actions,bhe=O9.reducer,_he=ee([qn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),xhe=ee([_he,eo,to],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),ib=()=>Oe(xhe),whe=()=>Oe(cce);function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(n),!0).forEach(function(r){Ehe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ehe(t,e,n){return(e=jhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jhe(t){var e=Ahe(t,"string");return typeof e=="symbol"?e:e+""}function Ahe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var She=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:l}=t;if(i===!1||e.x==null||e.y==null)return null;var d={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=aw(aw(aw({},d),Kc(i)),cA(i)),h;return _.isValidElement(i)?h=_.cloneElement(i,f):typeof i=="function"?h=i(f):h=_.createElement(_9,f),_.createElement(hn,{className:"recharts-active-dot",clipPath:l},h)};function LE(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:l=wn.activeDot}=t,d=Oe(wl),f=whe();if(e==null||f==null)return null;var h=e.find(p=>f.includes(p.payload));return Jt(h)?null:_.createElement(Dr,{zIndex:l},_.createElement(She,{point:h,childIndex:Number(d),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var fM=(t,e,n)=>{var r=n??t;if(!Jt(r))return Er(r,e,0)},Nhe=(t,e,n)=>{var r={},i=t.filter(B0),s=t.filter(h=>h.stackId==null),l=i.reduce((h,p)=>{var v=h[p.stackId];return v==null&&(v=[]),v.push(p),h[p.stackId]=v,h},r),d=Object.entries(l).map(h=>{var p,[v,y]=h,w=y.map(E=>E.dataKey),j=fM(e,n,(p=y[0])===null||p===void 0?void 0:p.barSize);return{stackId:v,dataKeys:w,barSize:j}}),f=s.map(h=>{var p=[h.dataKey].filter(y=>y!=null),v=fM(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:v}});return[...d,...f]};function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(r){The(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function The(t,e,n){return(e=Che(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Che(t){var e=Phe(t,"string");return typeof e=="symbol"?e:e+""}function Phe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ohe(t,e,n,r,i){var s,l=r.length;if(!(l<1)){var d=Er(t,n,0,!0),f,h=[];if(tt((s=r[0])===null||s===void 0?void 0:s.barSize)){var p=!1,v=n/l,y=r.reduce((k,M)=>k+(M.barSize||0),0);y+=(l-1)*d,y>=n&&(y-=(l-1)*d,d=0),y>=n&&v>0&&(p=!0,v*=.9,y=l*v);var w=(n-y)/2>>0,j={offset:w-d,size:0};f=r.reduce((k,M)=>{var R,L={stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:j.offset+j.size+d,size:p?v:(R=M.barSize)!==null&&R!==void 0?R:0}},D=[...k,L];return j=L.position,D},h)}else{var E=Er(e,n,0,!0);n-2*E-(l-1)*d<=0&&(d=0);var A=(n-2*E-(l-1)*d)/l;A>1&&(A>>=0);var T=tt(i)?Math.min(A,i):A;f=r.reduce((k,M,R)=>[...k,{stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:E+(A+d)*R+(A-T)/2,size:T}}],h)}return f}}var Ihe=(t,e,n,r,i,s,l)=>{var d=Jt(l)?e:l,f=Ohe(n,r,i!==s?i:s,t,d);return i!==s&&f!=null&&(f=f.map(h=>Qv(Qv({},h),{},{position:Qv(Qv({},h.position),{},{offset:h.position.offset-i/2})}))),f},Rhe=(t,e)=>{var n=q0(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}},khe=(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}};function Dhe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&tt(t.zIndex)?t.zIndex:e}var I9=t=>{var{chartData:e}=t,n=Ht(),r=tr();return _.useEffect(()=>r?()=>{}:(n(bD(e)),()=>{n(bD(void 0))}),[e,n,r]),null},mM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},R9=Zr({name:"brush",initialState:mM,reducers:{setBrushSettings(t,e){return e.payload==null?mM:e.payload}}}),{setBrushSettings:Hye}=R9.actions,Mhe=R9.reducer;function zhe(t){return(t%180+180)%180}var Lhe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=zhe(i),l=s*Math.PI/180,d=Math.atan(r/n),f=l>d&&l<Math.PI-d?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},Vhe={dots:[],areas:[],lines:[]},k9=Zr({name:"referenceElements",initialState:Vhe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ua(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ua(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ua(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Kye,removeDot:Gye,addArea:Wye,removeArea:Qye,addLine:Yye,removeLine:Xye}=k9.actions,Uhe=k9.reducer,qhe=_.createContext(void 0),Bhe=t=>{var{children:e}=t,[n]=_.useState("".concat(Zh("recharts"),"-clip")),r=ib();if(r==null)return null;var{x:i,y:s,width:l,height:d}=r;return _.createElement(qhe.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:s,height:d,width:l}))),e)};function D9(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function $he(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Lhe(r,n)}function Fhe(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:d}=t;return e===1?{start:r?i:s,end:r?i+l:s+d}:{start:r?i+l:s+d,end:r?i:s}}function fm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Hhe(t,e){return D9(t,e+1)}function Khe(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:d}=e,f=0,h=1,p=l,v=function(){var j=r?.[f];if(j===void 0)return{v:D9(r,h)};var E=f,A,T=()=>(A===void 0&&(A=n(j,E)),A),k=j.coordinate,M=f===0||fm(t,k,T,p,d);M||(f=0,p=l,h+=1),M&&(p=k+t*(T()/2+i),f+=h)},y;h<=s.length;)if(y=v(),y)return y.v;return[]}function Ghe(t,e,n,r,i){var s=(r||[]).slice(),l=s.length;if(l===0)return[];for(var{start:d,end:f}=e,h=1;h<=l;h++){for(var p=(l-1)%h,v=d,y=!0,w=function(){var R=r[E];if(R==null)return 0;var L=E,D,O=()=>(D===void 0&&(D=n(R,L)),D),P=R.coordinate,I=E===p||fm(t,P,O,v,f);if(!I)return y=!1,1;I&&(v=P+t*(O()/2+i))},j,E=p;E<l&&(j=w(),!(j!==0&&j===1));E+=h);if(y){for(var A=[],T=p;T<l;T+=h){var k=r[T];k!=null&&A.push(k)}return A}}return[]}function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){Whe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Whe(t,e,n){return(e=Qhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qhe(t){var e=Yhe(t,"string");return typeof e=="symbol"?e:e+""}function Yhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xhe(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:d}=e,{end:f}=e,h=function(y){var w=s[y];if(w==null)return 1;var j=w,E,A=()=>(E===void 0&&(E=n(w,y)),E);if(y===l-1){var T=t*(j.coordinate+t*A()/2-f);s[y]=j=yr(yr({},j),{},{tickCoord:T>0?j.coordinate-T*t:j.coordinate})}else s[y]=j=yr(yr({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var k=fm(t,j.tickCoord,A,d,f);k&&(f=j.tickCoord-t*(A()/2+i),s[y]=yr(yr({},j),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function Zhe(t,e,n,r,i,s){var l=(r||[]).slice(),d=l.length,{start:f,end:h}=e;if(s){var p=r[d-1];if(p!=null){var v=n(p,d-1),y=t*(p.coordinate+t*v/2-h);if(l[d-1]=p=yr(yr({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate}),p.tickCoord!=null){var w=fm(t,p.tickCoord,()=>v,f,h);w&&(h=p.tickCoord-t*(v/2+i),l[d-1]=yr(yr({},p),{},{isShow:!0}))}}}for(var j=s?d-1:d,E=function(k){var M=l[k];if(M==null)return 1;var R=M,L,D=()=>(L===void 0&&(L=n(M,k)),L);if(k===0){var O=t*(R.coordinate-t*D()/2-f);l[k]=R=yr(yr({},R),{},{tickCoord:O<0?R.coordinate-O*t:R.coordinate})}else l[k]=R=yr(yr({},R),{},{tickCoord:R.coordinate});if(R.tickCoord!=null){var P=fm(t,R.tickCoord,D,f,h);P&&(f=R.tickCoord+t*(D()/2+i),l[k]=yr(yr({},R),{},{isShow:!0}))}},A=0;A<j;A++)E(A);return l}function WS(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:d,interval:f,tickFormatter:h,unit:p,angle:v}=t;if(!i||!i.length||!r)return[];if(Ne(f)||Vm.isSsr){var y;return(y=Hhe(i,Ne(f)?f:0))!==null&&y!==void 0?y:[]}var w=[],j=d==="top"||d==="bottom"?"width":"height",E=p&&j==="width"?zh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(L,D)=>{var O=typeof h=="function"?h(L.value,D):L.value;return j==="width"?$he(zh(O,{fontSize:e,letterSpacing:n}),E,v):zh(O,{fontSize:e,letterSpacing:n})[j]},T=i[0],k=i[1],M=i.length>=2&&T!=null&&k!=null?Jn(k.coordinate-T.coordinate):1,R=Fhe(s,M,j);return f==="equidistantPreserveStart"?Khe(M,R,A,i,l):f==="equidistantPreserveEnd"?Ghe(M,R,A,i,l):(f==="preserveStart"||f==="preserveStartEnd"?w=Zhe(M,R,A,i,l,f==="preserveStartEnd"):w=Xhe(M,R,A,i,l),w.filter(L=>L.isShow))}var Jhe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(p=>{if(p){var v=p.getBoundingClientRect();v.width>l&&(l=v.width)}});var d=n?n.getBoundingClientRect().width:0,f=i+s,h=l+f+d+(n?r:0);return Math.round(h)}return 0},eme=["axisLine","width","height","className","hide","ticks","axisType"];function tme(t,e){if(t==null)return{};var n,r,i=nme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eu.apply(null,arguments)}function vM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(n),!0).forEach(function(r){rme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rme(t,e,n){return(e=ime(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ime(t){var e=ame(t,"string");return typeof e=="symbol"?e:e+""}function ame(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:wn.axis};function sme(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:d,otherSvgProps:f}=t;if(!d)return null;var h=ln(ln(ln({},f),Rr(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=ln(ln({},h),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var v=+(s==="left"&&!l||s==="right"&&l);h=ln(ln({},h),{},{x1:e+v*r,y1:n,x2:e+v*r,y2:n+i})}return _.createElement("line",eu({},h,{className:gt("recharts-cartesian-axis-line",Wc(d,"className"))}))}function ome(t,e,n,r,i,s,l,d,f){var h,p,v,y,w,j,E=d?-1:1,A=t.tickSize||l,T=Ne(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,y=n+ +!d*i,v=y-E*A,j=v-E*f,w=T;break;case"left":v=y=t.coordinate,p=e+ +!d*r,h=p-E*A,w=h-E*f,j=T;break;case"right":v=y=t.coordinate,p=e+ +d*r,h=p+E*A,w=h+E*f,j=T;break;default:h=p=t.coordinate,y=n+ +d*i,v=y+E*A,j=v+E*f,w=T;break}return{line:{x1:h,y1:v,x2:p,y2:y},tick:{x:w,y:j}}}function lme(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function cme(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function ume(t){var{option:e,tickProps:n,value:r}=t,i,s=gt(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(e))i=_.cloneElement(e,ln(ln({},n),{},{className:s}));else if(typeof e=="function")i=e(ln(ln({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=gt(l,j9(e))),i=_.createElement(X0,eu({},n,{className:l}),r)}return i}var dme=_.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:d,padding:f,tickTextProps:h,orientation:p,mirror:v,x:y,y:w,width:j,height:E,tickSize:A,tickMargin:T,fontSize:k,letterSpacing:M,getTicksConfig:R,events:L,axisType:D}=t,O=WS(ln(ln({},R),{},{ticks:n}),k,M),P=lme(p,v),I=cme(p,v),B=Rr(R),U=Kc(r),z={};typeof i=="object"&&(z=i);var q=ln(ln({},B),{},{fill:"none"},z),pe=O.map(J=>ln({entry:J},ome(J,y,w,j,E,p,A,v,T))),Ee=pe.map(J=>{var{entry:fe,line:we}=J;return _.createElement(hn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(fe.value,"-").concat(fe.coordinate,"-").concat(fe.tickCoord)},i&&_.createElement("line",eu({},q,we,{className:gt("recharts-cartesian-axis-tick-line",Wc(i,"className"))})))}),F=pe.map((J,fe)=>{var we,_e,{entry:H,tick:ie}=J,ge=ln(ln(ln(ln({verticalAnchor:I},B),{},{textAnchor:P,stroke:"none",fill:s},ie),{},{index:fe,payload:H,visibleTicksCount:O.length,tickFormatter:l,padding:f},h),{},{angle:(we=(_e=h?.angle)!==null&&_e!==void 0?_e:B.angle)!==null&&we!==void 0?we:0}),xe=ln(ln({},ge),U);return _.createElement(hn,eu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},Rm(L,H,fe)),r&&_.createElement(ume,{option:r,tickProps:xe,value:"".concat(typeof l=="function"?l(H.value,fe):H.value).concat(d||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},F.length>0&&_.createElement(Dr,{zIndex:wn.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:e},F)),Ee.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},Ee))}),fme=_.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:d,axisType:f}=t,h=tme(t,eme),[p,v]=_.useState(""),[y,w]=_.useState(""),j=_.useRef(null);_.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var A;return Jhe({ticks:j.current,label:(A=t.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=_.useCallback(A=>{if(A){var T=A.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=T;var k=T[0];if(k){var M=window.getComputedStyle(k),R=M.fontSize,L=M.letterSpacing;(R!==p||L!==y)&&(v(R),w(L))}}},[p,y]);return l||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(Dr,{zIndex:t.zIndex},_.createElement(hn,{className:gt("recharts-cartesian-axis",s)},_.createElement(sme,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Rr(t)}),_.createElement(dme,{ref:E,axisType:f,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:d,unit:t.unit,width:t.width,x:t.x,y:t.y}),_.createElement(cde,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},_.createElement(bde,{label:t.label,labelRef:t.labelRef}),t.children)))}),QS=_.forwardRef((t,e)=>{var n=pn(t,zs);return _.createElement(fme,eu({},n,{ref:e}))});QS.displayName="CartesianAxis";var hme=["x1","y1","x2","y2","key"],mme=["offset"],pme=["xAxisId","yAxisId"],vme=["xAxisId","yAxisId"];function gM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(n),!0).forEach(function(r){gme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gme(t,e,n){return(e=yme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yme(t){var e=bme(t,"string");return typeof e=="symbol"?e:e+""}function bme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sc.apply(null,arguments)}function Py(t,e){if(t==null)return{};var n,r,i=_me(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _me(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xme=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:d}=t;return _.createElement("rect",{x:r,y:i,ry:d,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function M9(t){var{option:e,lineItemProps:n}=t,r;if(_.isValidElement(e))r=_.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:l,x2:d,y2:f,key:h}=n,p=Py(n,hme),v=(i=Rr(p))!==null&&i!==void 0?i:{},{offset:y}=v,w=Py(v,mme);r=_.createElement("line",Sc({},w,{x1:s,y1:l,x2:d,y2:f,fill:"none",key:h}))}return r}function wme(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,d=Py(t,pme),f=i.map((h,p)=>{var v=xr(xr({},d),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return _.createElement(M9,{key:"line-".concat(p),option:r,lineItemProps:v})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Eme(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,d=Py(t,vme),f=i.map((h,p)=>{var v=xr(xr({},d),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return _.createElement(M9,{option:r,lineItemProps:v,key:"line-".concat(p)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function jme(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:d,horizontal:f=!0}=t;if(!f||!e||!e.length||d==null)return null;var h=d.map(v=>Math.round(v+i-i)).sort((v,y)=>v-y);i!==h[0]&&h.unshift(0);var p=h.map((v,y)=>{var w=h[y+1],j=w==null,E=j?i+l-v:w-v;if(E<=0)return null;var A=y%e.length;return _.createElement("rect",{key:"react-".concat(y),y:v,x:r,height:E,width:s,stroke:"none",fill:e[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Ame(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:d,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(v=>Math.round(v+i-i)).sort((v,y)=>v-y);i!==h[0]&&h.unshift(0);var p=h.map((v,y)=>{var w=h[y+1],j=w==null,E=j?i+l-v:w-v;if(E<=0)return null;var A=y%n.length;return _.createElement("rect",{key:"react-".concat(y),x:v,y:s,width:E,height:d,stroke:"none",fill:n[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Sme=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return T6(WS(xr(xr(xr({},zs),n),{},{ticks:C6(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},Nme=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return T6(WS(xr(xr(xr({},zs),n),{},{ticks:C6(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},Tme={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:wn.grid};function Nc(t){var e=wA(),n=EA(),r=z6(),i=xr(xr({},pn(t,Tme)),{},{x:Ne(t.x)?t.x:r.left,y:Ne(t.y)?t.y:r.top,width:Ne(t.width)?t.width:r.width,height:Ne(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:d,y:f,width:h,height:p,syncWithTicks:v,horizontalValues:y,verticalValues:w}=i,j=tr(),E=Oe(I=>oD(I,"xAxis",s,j)),A=Oe(I=>oD(I,"yAxis",l,j));if(!Za(h)||!Za(p)||!Ne(d)||!Ne(f))return null;var T=i.verticalCoordinatesGenerator||Sme,k=i.horizontalCoordinatesGenerator||Nme,{horizontalPoints:M,verticalPoints:R}=i;if((!M||!M.length)&&typeof k=="function"){var L=y&&y.length,D=k({yAxis:A?xr(xr({},A),{},{ticks:L?y:A.ticks}):void 0,width:e??h,height:n??p,offset:r},L?!0:v);ty(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(M=D)}if((!R||!R.length)&&typeof T=="function"){var O=w&&w.length,P=T({xAxis:E?xr(xr({},E),{},{ticks:O?w:E.ticks}):void 0,width:e??h,height:n??p,offset:r},O?!0:v);ty(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(R=P)}return _.createElement(Dr,{zIndex:i.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(xme,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(jme,Sc({},i,{horizontalPoints:M})),_.createElement(Ame,Sc({},i,{verticalPoints:R})),_.createElement(wme,Sc({},i,{offset:r,horizontalPoints:M,xAxis:E,yAxis:A})),_.createElement(Eme,Sc({},i,{offset:r,verticalPoints:R,xAxis:E,yAxis:A}))))}Nc.displayName="CartesianGrid";var Cme={},z9=Zr({name:"errorBars",initialState:Cme,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Zye,replaceErrorBar:Jye,removeErrorBar:e0e}=z9.actions,Pme=z9.reducer,Ome=["children"];function Ime(t,e){if(t==null)return{};var n,r,i=Rme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kme={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Dme=_.createContext(kme);function L9(t){var{children:e}=t,n=Ime(t,Ome);return _.createElement(Dme.Provider,{value:n},e)}function ab(t,e){var n,r,i=Oe(h=>io(h,t)),s=Oe(h=>ao(h,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Wn.allowDataOverflow,d=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Qn.allowDataOverflow,f=l||d;return{needClip:f,needClipX:l,needClipY:d}}function YS(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=ib(),{needClipX:s,needClipY:l,needClip:d}=ab(e,n);if(!d||!i)return null;var{x:f,y:h,width:p,height:v}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:s?f:f-p/2,y:l?h:h-v/2,width:s?p:p*2,height:l?v:v*2}))}var V9=(t,e,n,r)=>ts(t,"xAxis",e,r),U9=(t,e,n,r)=>es(t,"xAxis",e,r),q9=(t,e,n,r)=>ts(t,"yAxis",n,r),B9=(t,e,n,r)=>es(t,"yAxis",n,r),Mme=ee([ht,V9,q9,U9,B9],(t,e,n,r,i)=>va(t,"xAxis")?xl(e,r,!1):xl(n,i,!1)),zme=(t,e,n,r,i)=>i;function Lme(t){return t.type==="line"}var Vme=ee([Km,zme],(t,e)=>t.filter(Lme).find(n=>n.id===e)),Ume=ee([ht,V9,q9,U9,B9,Vme,Mme,YA],(t,e,n,r,i,s,l,d)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=d;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:v,data:y}=s,w;if(y!=null&&y.length>0?w=y:w=f?.slice(h,p+1),w!=null)return Spe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:v,bandSize:l,displayedData:w})}});function $9(t){var e=Kc(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,l=Number(i),d=Number(s);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(d)||d<0)&&(d=r),{r:l,strokeWidth:d}}return{r:n,strokeWidth:r}}var sw={exports:{}},ow={};var yM;function qme(){if(yM)return ow;yM=1;var t=Md();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,d=t.useDebugValue;return ow.useSyncExternalStoreWithSelector=function(f,h,p,v,y){var w=i(null);if(w.current===null){var j={hasValue:!1,value:null};w.current=j}else j=w.current;w=l(function(){function A(L){if(!T){if(T=!0,k=L,L=v(L),y!==void 0&&j.hasValue){var D=j.value;if(y(D,L))return M=D}return M=L}if(D=M,n(k,L))return D;var O=v(L);return y!==void 0&&y(D,O)?(k=L,D):(k=L,M=O)}var T=!1,k,M,R=p===void 0?null:p;return[function(){return A(h())},R===null?void 0:function(){return A(R())}]},[h,p,v,y]);var E=r(f,w[0],w[1]);return s(function(){j.hasValue=!0,j.value=E},[E]),d(E),E},ow}var bM;function Bme(){return bM||(bM=1,sw.exports=qme()),sw.exports}Bme();function $me(t){t()}function Fme(){let t=null,e=null;return{clear(){t=null,e=null},notify(){$me(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var _M={notify(){},get:()=>[]};function Hme(t,e){let n,r=_M,i=0,s=!1;function l(E){p();const A=r.subscribe(E);let T=!1;return()=>{T||(T=!0,A(),v())}}function d(){r.notify()}function f(){j.onStateChange&&j.onStateChange()}function h(){return s}function p(){i++,n||(n=t.subscribe(f),r=Fme())}function v(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=_M)}function y(){s||(s=!0,p())}function w(){s&&(s=!1,v())}const j={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:w,getListeners:()=>r};return j}var Kme=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gme=Kme(),Wme=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Qme=Wme(),Yme=()=>Gme||Qme?_.useLayoutEffect:_.useEffect,Xme=Yme();function xM(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Zme(t,e){if(xM(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!xM(t[n[i]],e[n[i]]))return!1;return!0}var Jme=Symbol.for("react-redux-context"),epe=typeof globalThis<"u"?globalThis:{};function tpe(){if(!_.createContext)return{};const t=epe[Jme]??=new Map;let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var npe=tpe();function rpe(t){const{children:e,context:n,serverState:r,store:i}=t,s=_.useMemo(()=>{const f=Hme(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=_.useMemo(()=>i.getState(),[i]);Xme(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const d=n||npe;return _.createElement(d.Provider,{value:s},e)}var ipe=rpe,ape=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function spe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Zm(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(ape.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Zme(t[r],e[r]))return!1}else if(!spe(t[r],e[r]))return!1;return!0}var ope=["id"],lpe=["type","layout","connectNulls","needClip","shape"],cpe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function hm(){return hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hm.apply(null,arguments)}function wM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function La(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(n),!0).forEach(function(r){upe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function upe(t,e,n){return(e=dpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dpe(t){var e=fpe(t,"string");return typeof e=="symbol"?e:e+""}function fpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XS(t,e){if(t==null)return{};var n,r,i=hpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mpe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Il(n,e),payload:t}]},ppe=_.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:d,unit:f,tooltipType:h,id:p}=t,v={dataDefinedOnItem:n,getPosition:Ol,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Il(l,e),hide:d,type:h,color:r,unit:f,graphicalItemId:p}};return _.createElement(tb,{tooltipEntrySettings:v})}),F9=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function vpe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var gpe=(t,e,n)=>{var r=n.reduce((w,j)=>w+j);if(!r)return F9(e,t);for(var i=Math.floor(t/r),s=t%r,l=e-t,d=[],f=0,h=0;f<n.length;h+=(p=n[f])!==null&&p!==void 0?p:0,++f){var p,v=n[f];if(v!=null&&h+v>s){d=[...n.slice(0,f),s-h];break}}var y=d.length%2===0?[0,l]:[l];return[...vpe(n,i),...d,...y].map(w=>"".concat(w,"px")).join(", ")};function ype(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:l}=r,{id:d}=r,f=XS(r,ope),h=Rr(f);return _.createElement(C9,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:e})}function bpe(t){var{showLabels:e,children:n,points:r}=t,i=_.useMemo(()=>r?.map(s=>{var l,d,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return La(La({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[r]);return _.createElement(zS,{value:e?i:void 0},n)}function EM(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:l,layout:d,connectNulls:f,needClip:h,shape:p}=s,v=XS(s,lpe),y=La(La({},Ar(v)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:d,connectNulls:f,strokeDasharray:i??s.strokeDasharray});return _.createElement(_.Fragment,null,r?.length>1&&_.createElement(BS,hm({shapeType:"curve",option:p},y,{pathRef:n})),_.createElement(ype,{points:r,clipPathId:e,props:s}))}function _pe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function xpe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:l,strokeDasharray:d,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:v,animateNewValues:y,width:w,height:j,onAnimationEnd:E,onAnimationStart:A}=n,T=i.current,k=Gd(l,"recharts-line-"),M=_.useRef(k),[R,L]=_.useState(!1),D=!R,O=_.useCallback(()=>{typeof E=="function"&&E(),L(!1)},[E]),P=_.useCallback(()=>{typeof A=="function"&&A(),L(!0)},[A]),I=_pe(r.current),B=_.useRef(0);M.current!==k&&(B.current=s.current,M.current=k);var U=B.current;return _.createElement(bpe,{points:l,showLabels:D},n.children,_.createElement(Kd,{animationId:k,begin:h,duration:p,isActive:f,easing:v,onAnimationEnd:O,onAnimationStart:P,key:k},z=>{var q=Et(U,I+U,z),pe=Math.min(q,I),Ee;if(f)if(d){var F="".concat(d).split(/[,\s]+/gim).map(we=>parseFloat(we));Ee=gpe(pe,I,F)}else Ee=F9(I,pe);else Ee=d==null?void 0:String(d);if(z>0&&I>0&&(i.current=l,s.current=Math.max(s.current,pe)),T){var J=T.length/l.length,fe=z===1?l:l.map((we,_e)=>{var H=Math.floor(_e*J);if(T[H]){var ie=T[H];return La(La({},we),{},{x:Et(ie.x,we.x,z),y:Et(ie.y,we.y,z)})}return y?La(La({},we),{},{x:Et(w*2,we.x,z),y:Et(j/2,we.y,z)}):La(La({},we),{},{x:we.x,y:we.y})});return i.current=fe,_.createElement(EM,{props:n,points:fe,clipPathId:e,pathRef:r,strokeDasharray:Ee})}return _.createElement(EM,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:Ee})}),_.createElement(Z0,{label:n.label}))}function wpe(t){var{clipPathId:e,props:n}=t,r=_.useRef(null),i=_.useRef(0),s=_.useRef(null);return _.createElement(xpe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var Epe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:jt(t.payload,e)}};class jpe extends _.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:l,top:d,left:f,width:h,height:p,id:v,needClip:y,zIndex:w}=this.props;if(e)return null;var j=gt("recharts-line",i),E=v,{r:A,strokeWidth:T}=$9(n),k=qS(n),M=A*2+T,R=y?"url(#clipPath-".concat(k?"":"dots-").concat(E,")"):void 0;return _.createElement(Dr,{zIndex:w},_.createElement(hn,{className:j},y&&_.createElement("defs",null,_.createElement(YS,{clipPathId:E,xAxisId:s,yAxisId:l}),!k&&_.createElement("clipPath",{id:"clipPath-dots-".concat(E)},_.createElement("rect",{x:f-M/2,y:d-M/2,width:h+M,height:p+M}))),_.createElement(L9,{xAxisId:s,yAxisId:l,data:r,dataPointFormatter:Epe,errorBarOffset:0},_.createElement(wpe,{props:this.props,clipPathId:E}))),_.createElement(LE,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:R}))}}var H9={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:wn.line,type:"linear"};function Ape(t){var e=pn(t,H9),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:d,dot:f,hide:h,isAnimationActive:p,label:v,legendType:y,xAxisId:w,yAxisId:j,id:E}=e,A=XS(e,cpe),{needClip:T}=ab(w,j),k=ib(),M=Rl(),R=tr(),L=Oe(B=>Ume(B,w,j,R,E));if(M!=="horizontal"&&M!=="vertical"||L==null||k==null)return null;var{height:D,width:O,x:P,y:I}=k;return _.createElement(jpe,hm({},A,{id:E,connectNulls:d,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:v,legendType:y,xAxisId:w,yAxisId:j,points:L,layout:M,height:D,width:O,left:P,top:I,needClip:T}))}function Spe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:l,bandSize:d,displayedData:f}=t;return f.map((h,p)=>{var v=jt(h,l);if(e==="horizontal"){var y=ey({axis:n,ticks:i,bandSize:d,entry:h,index:p}),w=Jt(v)?null:r.scale.map(v);return{x:y,y:w??null,value:v,payload:h}}var j=Jt(v)?null:n.scale.map(v),E=ey({axis:r,ticks:s,bandSize:d,entry:h,index:p});return j==null||E==null?null:{x:j,y:E,value:v,payload:h}}).filter(Boolean)}function Npe(t){var e=pn(t,H9),n=tr();return _.createElement(nb,{id:e.id,type:"line"},r=>_.createElement(_.Fragment,null,_.createElement(KS,{legendPayload:mpe(e)}),_.createElement(ppe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),_.createElement(GS,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),_.createElement(Ape,hm({},e,{id:r}))))}var K9=_.memo(Npe,Zm);K9.displayName="Line";function is(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:P9}function as(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:P9}var G9=(t,e,n)=>ts(t,"xAxis",is(t,e),n),W9=(t,e,n)=>es(t,"xAxis",is(t,e),n),Q9=(t,e,n)=>ts(t,"yAxis",as(t,e),n),Y9=(t,e,n)=>es(t,"yAxis",as(t,e),n),Tpe=ee([ht,G9,Q9,W9,Y9],(t,e,n,r,i)=>va(t,"xAxis")?xl(e,r,!1):xl(n,i,!1)),Cpe=(t,e)=>e,X9=ee([Km,Cpe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),Z9=t=>{var e=ht(t),n=va(e,"xAxis");return n?"yAxis":"xAxis"},Ppe=(t,e)=>{var n=Z9(t);return n==="yAxis"?as(t,e):is(t,e)},Ope=(t,e,n)=>Ey(t,Z9(t),Ppe(t,e),n),Ipe=ee([X9,Ope],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=q0(t);if(!(r==null||i==null)){var s=(n=e[r])===null||n===void 0?void 0:n.stackedData,l=s?.find(d=>d.key===i);if(l!=null)return l.map(d=>[d[0],d[1]])}}}),Rpe=ee([ht,G9,Q9,W9,Y9,Ipe,V5,Tpe,X9,ioe],(t,e,n,r,i,s,l,d,f,h)=>{var{chartData:p,dataStartIndex:v,dataEndIndex:y}=l;if(!(f==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||d==null)){var{data:w}=f,j;if(w&&w.length>0?j=w:j=p?.slice(v,y+1),j!=null)return Zpe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:v,areaSettings:f,stackedData:s,displayedData:j,chartBaseValue:h,bandSize:d})}}),kpe=["id"],Dpe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mc.apply(null,arguments)}function J9(t,e){if(t==null)return{};var n,r,i=Mpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){zpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zpe(t,e,n){return(e=Lpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lpe(t){var e=Vpe(t,"string");return typeof e=="symbol"?e:e+""}function Vpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oy(t,e){return t&&t!=="none"?t:e}var Upe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:l}=t;return[{inactive:l,dataKey:e,type:s,color:Oy(r,i),value:Il(n,e),payload:t}]},qpe=_.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:d,unit:f,tooltipType:h,id:p}=t,v={dataDefinedOnItem:n,getPosition:Ol,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Il(l,e),hide:d,type:h,color:Oy(r,s),unit:f,graphicalItemId:p}};return _.createElement(tb,{tooltipEntrySettings:v})});function Bpe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:l}=r,d=Rr(r);return _.createElement(C9,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:d,needClip:i,clipPathId:e})}function $pe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(s=>{var l,d,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return hd(hd({},f),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return _.createElement(zS,{value:e?i:void 0},n)}function AM(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s}=t,{layout:l,type:d,stroke:f,connectNulls:h,isRange:p}=s,{id:v}=s,y=J9(s,kpe),w=Rr(y),j=Ar(y);return _.createElement(_.Fragment,null,e?.length>1&&_.createElement(hn,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},_.createElement(_d,Mc({},j,{id:v,points:e,connectNulls:h,type:d,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&_.createElement(_d,Mc({},w,{className:"recharts-area-curve",layout:l,type:d,connectNulls:h,fill:"none",points:e})),f!=="none"&&p&&_.createElement(_d,Mc({},w,{className:"recharts-area-curve",layout:l,type:d,connectNulls:h,fill:"none",points:n}))),_.createElement(Bpe,{points:e,props:y,clipPathId:i}))}function Fpe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:l}=t,d=(e=s[0])===null||e===void 0?void 0:e.y,f=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!tt(d)||!tt(f))return null;var h=r*Math.abs(d-f),p=Math.max(...s.map(v=>v.x||0));return Ne(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(v=>v.x||0),p)),Ne(p)?_.createElement("rect",{x:0,y:d<f?d:d-h,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}function Hpe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:l}=t,d=(e=s[0])===null||e===void 0?void 0:e.x,f=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!tt(d)||!tt(f))return null;var h=r*Math.abs(d-f),p=Math.max(...s.map(v=>v.y||0));return Ne(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(v=>v.y||0),p)),Ne(p)?_.createElement("rect",{x:d<f?d:d-h,y:0,width:h,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}function Kpe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?_.createElement(Fpe,{alpha:e,points:r,baseLine:i,strokeWidth:s}):_.createElement(Hpe,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function Gpe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:l,baseLine:d,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:v,onAnimationStart:y,onAnimationEnd:w}=r,j=_.useMemo(()=>({points:l,baseLine:d}),[l,d]),E=Gd(j,"recharts-area-"),A=jA(),[T,k]=_.useState(!1),M=!T,R=_.useCallback(()=>{typeof w=="function"&&w(),k(!1)},[w]),L=_.useCallback(()=>{typeof y=="function"&&y(),k(!0)},[y]);if(A==null)return null;var D=i.current,O=s.current;return _.createElement($pe,{showLabels:M,points:l},r.children,_.createElement(Kd,{animationId:E,begin:h,duration:p,isActive:f,easing:v,onAnimationEnd:R,onAnimationStart:L,key:E},P=>{if(D){var I=D.length/l.length,B=P===1?l:l.map((z,q)=>{var pe=Math.floor(q*I);if(D[pe]){var Ee=D[pe];return hd(hd({},z),{},{x:Et(Ee.x,z.x,P),y:Et(Ee.y,z.y,P)})}return z}),U;return Ne(d)?U=Et(O,d,P):Jt(d)||ha(d)?U=Et(O,0,P):U=d.map((z,q)=>{var pe=Math.floor(q*I);if(Array.isArray(O)&&O[pe]){var Ee=O[pe];return hd(hd({},z),{},{x:Et(Ee.x,z.x,P),y:Et(Ee.y,z.y,P)})}return z}),P>0&&(i.current=B,s.current=U),_.createElement(AM,{points:B,baseLine:U,needClip:e,clipPathId:n,props:r})}return P>0&&(i.current=l,s.current=d),_.createElement(hn,null,f&&_.createElement("defs",null,_.createElement("clipPath",{id:"animationClipPath-".concat(n)},_.createElement(Kpe,{alpha:P,points:l,baseLine:d,layout:A,strokeWidth:r.strokeWidth}))),_.createElement(hn,{clipPath:"url(#animationClipPath-".concat(n,")")},_.createElement(AM,{points:l,baseLine:d,needClip:e,clipPathId:n,props:r})))}),_.createElement(Z0,{label:r.label}))}function Wpe(t){var{needClip:e,clipPathId:n,props:r}=t,i=_.useRef(null),s=_.useRef();return _.createElement(Gpe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class Qpe extends _.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:s,left:l,needClip:d,xAxisId:f,yAxisId:h,width:p,height:v,id:y,baseLine:w,zIndex:j}=this.props;if(e)return null;var E=gt("recharts-area",i),A=y,{r:T,strokeWidth:k}=$9(n),M=qS(n),R=T*2+k,L=d?"url(#clipPath-".concat(M?"":"dots-").concat(A,")"):void 0;return _.createElement(Dr,{zIndex:j},_.createElement(hn,{className:E},d&&_.createElement("defs",null,_.createElement(YS,{clipPathId:A,xAxisId:f,yAxisId:h}),!M&&_.createElement("clipPath",{id:"clipPath-dots-".concat(A)},_.createElement("rect",{x:l-R/2,y:s-R/2,width:p+R,height:v+R}))),_.createElement(Wpe,{needClip:d,clipPathId:A,props:this.props})),_.createElement(LE,{points:r,mainColor:Oy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:L}),this.props.isRange&&Array.isArray(w)&&_.createElement(LE,{points:w,mainColor:Oy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:L}))}}var eU={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:wn.area};function Ype(t){var e,n=pn(t,eU),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:d,dot:f,fill:h,fillOpacity:p,hide:v,isAnimationActive:y,legendType:w,stroke:j,xAxisId:E,yAxisId:A}=n,T=J9(n,Dpe),k=Rl(),M=e9(),{needClip:R}=ab(E,A),L=tr(),{points:D,isRange:O,baseLine:P}=(e=Oe(pe=>Rpe(pe,t.id,L)))!==null&&e!==void 0?e:{},I=ib();if(k!=="horizontal"&&k!=="vertical"||I==null||M!=="AreaChart"&&M!=="ComposedChart")return null;var{height:B,width:U,x:z,y:q}=I;return!D||!D.length?null:_.createElement(Qpe,Mc({},T,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,baseLine:P,connectNulls:d,dot:f,fill:h,fillOpacity:p,height:B,hide:v,layout:k,isAnimationActive:y==="auto"?!Vm.isSsr:y,isRange:O,legendType:w,needClip:R,points:D,stroke:j,width:U,left:z,top:q,xAxisId:E,yAxisId:A}))}var Xpe=(t,e,n,r,i)=>{var s=n??e;if(Ne(s))return s;var l=t==="horizontal"?i:r,d=l.scale.domain();if(l.type==="number"){var f=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return s==="dataMin"?h:s==="dataMax"||f<0?f:Math.max(Math.min(d[0],d[1]),0)}return s==="dataMin"?d[0]:s==="dataMax"?d[1]:d[0]};function Zpe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:l,xAxis:d,yAxis:f,displayedData:h,dataStartIndex:p,xAxisTicks:v,yAxisTicks:y,bandSize:w}=t,j=i&&i.length,E=Xpe(s,l,n,d,f),A=s==="horizontal",T=!1,k=h.map((R,L)=>{var D,O,P,I;if(j)I=i[p+L];else{var B=jt(R,r);Array.isArray(B)?(I=B,T=!0):I=[E,B]}var U=(D=(O=I)===null||O===void 0?void 0:O[1])!==null&&D!==void 0?D:null,z=U==null||j&&!e&&jt(R,r)==null;if(A){var q;return{x:ey({axis:d,ticks:v,bandSize:w,entry:R,index:L}),y:z?null:(q=f.scale.map(U))!==null&&q!==void 0?q:null,value:I,payload:R}}return{x:z?null:(P=d.scale.map(U))!==null&&P!==void 0?P:null,y:ey({axis:f,ticks:y,bandSize:w,entry:R,index:L}),value:I,payload:R}}),M;return j||T?M=k.map(R=>{var L,D=Array.isArray(R.value)?R.value[0]:null;if(A){var O;return{x:R.x,y:D!=null&&R.y!=null&&(O=f.scale.map(D))!==null&&O!==void 0?O:null,payload:R.payload}}return{x:D!=null&&(L=d.scale.map(D))!==null&&L!==void 0?L:null,y:R.y,payload:R.payload}}):M=A?f.scale.map(E):d.scale.map(E),{points:k,baseLine:M??0,isRange:T}}function Jpe(t){var e=pn(t,eU),n=tr();return _.createElement(nb,{id:e.id,type:"area"},r=>_.createElement(_.Fragment,null,_.createElement(KS,{legendPayload:Upe(e)}),_.createElement(qpe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),_.createElement(GS,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:P6(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),_.createElement(Ype,Mc({},e,{id:r}))))}var VE=_.memo(Jpe,Zm);VE.displayName="Area";var eve="Invariant failed";function tve(t,e){throw new Error(eve)}function UE(){return UE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UE.apply(null,arguments)}function Iy(t){return _.createElement(BS,UE({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var nve=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ne(e))return e;var s=Ne(r)||Jt(r);return s?e(r,i):(s||tve(),n)}},rve=(t,e,n)=>n,ive=(t,e)=>e,Jm=ee([Km,ive],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),ave=ee([Jm],t=>t?.maxBarSize),sve=(t,e,n,r)=>r,ove=ee([ht,Km,is,as,rve],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),lve=(t,e,n)=>{var r=ht(t),i=is(t,e),s=as(t,e);if(!(i==null||s==null))return r==="horizontal"?Ey(t,"yAxis",s,n):Ey(t,"xAxis",i,n)},cve=(t,e)=>{var n=ht(t),r=is(t,e),i=as(t,e);if(!(r==null||i==null))return n==="horizontal"?sD(t,"xAxis",r):sD(t,"yAxis",i)},uve=ee([ove,roe,cve],Nhe),dve=(t,e,n)=>{var r,i,s=Jm(t,e);if(s==null)return 0;var l=is(t,e),d=as(t,e);if(l==null||d==null)return 0;var f=ht(t),h=X5(t),{maxBarSize:p}=s,v=Jt(p)?h:p,y,w;return f==="horizontal"?(y=ts(t,"xAxis",l,n),w=es(t,"xAxis",l,n)):(y=ts(t,"yAxis",d,n),w=es(t,"yAxis",d,n)),(r=(i=xl(y,w,!0))!==null&&i!==void 0?i:v)!==null&&r!==void 0?r:0},tU=(t,e,n)=>{var r=ht(t),i=is(t,e),s=as(t,e);if(!(i==null||s==null)){var l,d;return r==="horizontal"?(l=ts(t,"xAxis",i,n),d=es(t,"xAxis",i,n)):(l=ts(t,"yAxis",s,n),d=es(t,"yAxis",s,n)),xl(l,d)}},fve=ee([uve,X5,noe,Z5,dve,tU,ave],Ihe),hve=(t,e,n)=>{var r=is(t,e);if(r!=null)return ts(t,"xAxis",r,n)},mve=(t,e,n)=>{var r=as(t,e);if(r!=null)return ts(t,"yAxis",r,n)},pve=(t,e,n)=>{var r=is(t,e);if(r!=null)return es(t,"xAxis",r,n)},vve=(t,e,n)=>{var r=as(t,e);if(r!=null)return es(t,"yAxis",r,n)},gve=ee([fve,Jm],khe),yve=ee([lve,Jm],Rhe),bve=ee([qn,bA,hve,mve,pve,vve,gve,ht,V5,tU,yve,Jm,sve],(t,e,n,r,i,s,l,d,f,h,p,v,y)=>{var{chartData:w,dataStartIndex:j,dataEndIndex:E}=f;if(!(v==null||l==null||e==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||i==null||s==null||h==null)){var{data:A}=v,T;if(A!=null&&A.length>0?T=A:T=w?.slice(j,E+1),T!=null)return Gve({layout:d,barSettings:v,pos:l,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:T,offset:t,cells:y,dataStartIndex:j})}}),_ve=["index"];function qE(){return qE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qE.apply(null,arguments)}function xve(t,e){if(t==null)return{};var n,r,i=wve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nU=_.createContext(void 0),Eve=t=>{var e=_.useContext(nU);if(e!=null)return e.stackId;if(t!=null)return P6(t)},jve=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),Ave=t=>{var e=_.useContext(nU);if(e!=null){var{stackId:n}=e;return"url(#".concat(jve(n,t),")")}},rU=t=>{var{index:e}=t,n=xve(t,_ve),r=Ave(e);return _.createElement(hn,qE({className:"recharts-bar-stack-layer",clipPath:r},n))},Sve=["onMouseEnter","onMouseLeave","onClick"],Nve=["value","background","tooltipPosition"],Tve=["id"],Cve=["onMouseEnter","onClick","onMouseLeave"];function Ws(){return Ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ws.apply(null,arguments)}function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){Pve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pve(t,e,n){return(e=Ove(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ove(t){var e=Ive(t,"string");return typeof e=="symbol"?e:e+""}function Ive(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ry(t,e){if(t==null)return{};var n,r,i=Rve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kve=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Il(n,e),payload:t}]},Dve=_.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:d,tooltipType:f,id:h}=t,p={dataDefinedOnItem:void 0,getPosition:Ol,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Il(s,e),hide:l,type:f,color:i,unit:d,graphicalItemId:h}};return _.createElement(tb,{tooltipEntrySettings:p})});function Mve(t){var e=Oe(wl),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:d,onClick:f}=s,h=Ry(s,Sve),p=$S(l,r,s.id),v=FS(d),y=HS(f,r,s.id);if(!i||n==null)return null;var w=Kc(i);return _.createElement(Dr,{zIndex:Dhe(i,wn.barBackground)},n.map((j,E)=>{var{value:A,background:T,tooltipPosition:k}=j,M=Ry(j,Nve);if(!T)return null;var R=p(j,E),L=v(j,E),D=y(j,E),O=Cr(Cr(Cr(Cr(Cr({option:i,isActive:String(E)===e},M),{},{fill:"#eee"},T),w),Rm(h,j,E)),{},{onMouseEnter:R,onMouseLeave:L,onClick:D,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return _.createElement(Iy,Ws({key:"background-bar-".concat(E)},O))}))}function zve(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Cr(Cr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return _.createElement(zS,{value:e?i:void 0},n)}function Lve(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,d=Oe(wl),f=Oe(OS),h=n&&String(s)===d&&(f==null||l===f),p=h?n:e;return h?_.createElement(Dr,{zIndex:wn.activeBar},_.createElement(rU,{index:s},_.createElement(Iy,Ws({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:l})))):_.createElement(Iy,Ws({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:l}))}function Vve(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return _.createElement(Iy,Ws({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function Uve(t){var e,{data:n,props:r}=t,i=(e=Rr(r))!==null&&e!==void 0?e:{},{id:s}=i,l=Ry(i,Tve),{shape:d,dataKey:f,activeBar:h}=r,{onMouseEnter:p,onClick:v,onMouseLeave:y}=r,w=Ry(r,Cve),j=$S(p,f,s),E=FS(y),A=HS(v,f,s);return n?_.createElement(_.Fragment,null,n.map((T,k)=>_.createElement(rU,Ws({index:k,key:"rectangle-".concat(T?.x,"-").concat(T?.y,"-").concat(T?.value,"-").concat(k),className:"recharts-bar-rectangle"},Rm(w,T,k),{onMouseEnter:j(T,k),onMouseLeave:E(T,k),onClick:A(T,k)}),h?_.createElement(Lve,{shape:d,activeBar:h,baseProps:l,entry:T,index:k,dataKey:f}):_.createElement(Vve,{shape:d,baseProps:l,entry:T,index:k,dataKey:f})))):null}function qve(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,v=n.current,y=Gd(e,"recharts-bar-"),[w,j]=_.useState(!1),E=!w,A=_.useCallback(()=>{typeof h=="function"&&h(),j(!1)},[h]),T=_.useCallback(()=>{typeof p=="function"&&p(),j(!0)},[p]);return _.createElement(zve,{showLabels:E,rects:r},_.createElement(Kd,{animationId:y,begin:l,duration:d,isActive:s,easing:f,onAnimationEnd:A,onAnimationStart:T,key:y},k=>{var M=k===1?r:r?.map((R,L)=>{var D=v&&v[L];if(D)return Cr(Cr({},R),{},{x:Et(D.x,R.x,k),y:Et(D.y,R.y,k),width:Et(D.width,R.width,k),height:Et(D.height,R.height,k)});if(i==="horizontal"){var O=Et(0,R.height,k),P=Et(R.stackedBarStart,R.y,k);return Cr(Cr({},R),{},{y:P,height:O})}var I=Et(0,R.width,k),B=Et(R.stackedBarStart,R.x,k);return Cr(Cr({},R),{},{width:I,x:B})});return k>0&&(n.current=M??null),M==null?null:_.createElement(hn,null,_.createElement(Uve,{props:e,data:M}))}),_.createElement(Z0,{label:e.label}),e.children)}function Bve(t){var e=_.useRef(null);return _.createElement(qve,{previousRectanglesRef:e,props:t})}var iU=0,$ve=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:jt(t,e)}};class Fve extends _.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:d,background:f,id:h}=this.props;if(e||n==null)return null;var p=gt("recharts-bar",i),v=h;return _.createElement(hn,{className:p,id:h},d&&_.createElement("defs",null,_.createElement(YS,{clipPathId:v,xAxisId:s,yAxisId:l})),_.createElement(hn,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(v,")"):void 0},_.createElement(Mve,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),_.createElement(Bve,this.props)))}}var Hve={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:iU,xAxisId:0,yAxisId:0,zIndex:wn.bar};function Kve(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=t,{needClip:v}=ab(e,n),y=Rl(),w=tr(),j=US(t.children,ul),E=Oe(k=>bve(k,t.id,w,j));if(y!=="vertical"&&y!=="horizontal")return null;var A,T=E?.[0];return T==null||T.height==null||T.width==null?A=0:A=y==="vertical"?T.height/2:T.width/2,_.createElement(L9,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:$ve,errorBarOffset:A},_.createElement(Fve,Ws({},t,{layout:y,needClip:v,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function Gve(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:v,offset:y,cells:w,parentViewBox:j,dataStartIndex:E}=t,A=e==="horizontal"?d:l,T=p?A.scale.domain():null,k=Fte({numericAxis:A}),M=A.scale.map(k);return v.map((R,L)=>{var D,O,P,I,B,U;if(p){var z=p[L+E];if(z==null)return null;D=Vte(z,T)}else D=jt(R,n),Array.isArray(D)||(D=[k,D]);var q=nve(r,iU)(D[1],L);if(e==="horizontal"){var pe,Ee=d.scale.map(D[0]),F=d.scale.map(D[1]);if(Ee==null||F==null)return null;O=aR({axis:l,ticks:f,bandSize:s,offset:i.offset,entry:R,index:L}),P=(pe=F??Ee)!==null&&pe!==void 0?pe:void 0,I=i.size;var J=Ee-F;if(B=ha(J)?0:J,U={x:O,y:y.top,width:I,height:y.height},Math.abs(q)>0&&Math.abs(B)<Math.abs(q)){var fe=Jn(B||q)*(Math.abs(q)-Math.abs(B));P-=fe,B+=fe}}else{var we=l.scale.map(D[0]),_e=l.scale.map(D[1]);if(we==null||_e==null)return null;if(O=we,P=aR({axis:d,ticks:h,bandSize:s,offset:i.offset,entry:R,index:L}),I=_e-we,B=i.size,U={x:y.left,y:P,width:y.width,height:B},Math.abs(q)>0&&Math.abs(I)<Math.abs(q)){var H=Jn(I||q)*(Math.abs(q)-Math.abs(I));I+=H}}if(O==null||P==null||I==null||B==null)return null;var ie=Cr(Cr({},R),{},{stackedBarStart:M,x:O,y:P,width:I,height:B,value:p?D:D[1],payload:R,background:U,tooltipPosition:{x:O+I/2,y:P+B/2},parentViewBox:j},w&&w[L]&&w[L].props);return ie}).filter(Boolean)}function Wve(t){var e=pn(t,Hve),n=Eve(e.stackId),r=tr();return _.createElement(nb,{id:e.id,type:"bar"},i=>_.createElement(_.Fragment,null,_.createElement(KS,{legendPayload:kve(e)}),_.createElement(Dve,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),_.createElement(GS,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),_.createElement(Dr,{zIndex:e.zIndex},_.createElement(Kve,Ws({},e,{id:i})))))}var xc=_.memo(Wve,Zm);xc.displayName="Bar";var Qve=["domain","range"],Yve=["domain","range"];function NM(t,e){if(t==null)return{};var n,r,i=Xve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function TM(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function aU(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=NM(t,Qve),{domain:s,range:l}=e,d=NM(e,Yve);return!TM(n,s)||!TM(r,l)?!1:Zm(i,d)}var Zve=["type"],Jve=["dangerouslySetInnerHTML","ticks","scale"],ege=["id","scale"];function BE(){return BE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BE.apply(null,arguments)}function CM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(n),!0).forEach(function(r){tge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tge(t,e,n){return(e=nge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nge(t){var e=rge(t,"string");return typeof e=="symbol"?e:e+""}function rge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $E(t,e){if(t==null)return{};var n,r,i=ige(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ige(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function age(t){var e=Ht(),n=_.useRef(null),r=jA(),{type:i}=t,s=$E(t,Zve),l=V0(r,"xAxis",i),d=_.useMemo(()=>{if(l!=null)return PM(PM({},s),{},{type:l})},[s,l]);return _.useLayoutEffect(()=>{d!=null&&(n.current===null?e(fhe(d)):n.current!==d&&e(hhe({prev:n.current,next:d})),n.current=d)},[d,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(mhe(n.current)),n.current=null)},[e]),null}var sge=t=>{var{xAxisId:e,className:n}=t,r=Oe(bA),i=tr(),s="xAxis",l=Oe(T=>OV(T,s,e,i)),d=Oe(T=>NV(T,e)),f=Oe(T=>ile(T,e)),h=Oe(T=>lV(T,e));if(d==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:v,scale:y}=t,w=$E(t,Jve),{id:j,scale:E}=h,A=$E(h,ege);return _.createElement(QS,BE({},w,A,{x:f.x,y:f.y,width:d.width,height:d.height,className:gt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},oge={allowDataOverflow:Wn.allowDataOverflow,allowDecimals:Wn.allowDecimals,allowDuplicatedCategory:Wn.allowDuplicatedCategory,angle:Wn.angle,axisLine:zs.axisLine,height:Wn.height,hide:!1,includeHidden:Wn.includeHidden,interval:Wn.interval,label:!1,minTickGap:Wn.minTickGap,mirror:Wn.mirror,orientation:Wn.orientation,padding:Wn.padding,reversed:Wn.reversed,scale:Wn.scale,tick:Wn.tick,tickCount:Wn.tickCount,tickLine:zs.tickLine,tickSize:zs.tickSize,type:Wn.type,xAxisId:0},lge=t=>{var e=pn(t,oge);return _.createElement(_.Fragment,null,_.createElement(age,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),_.createElement(sge,e))},Tc=_.memo(lge,aU);Tc.displayName="XAxis";var cge=["type"],uge=["dangerouslySetInnerHTML","ticks","scale"],dge=["id","scale"];function FE(){return FE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FE.apply(null,arguments)}function OM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(n),!0).forEach(function(r){fge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fge(t,e,n){return(e=hge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hge(t){var e=mge(t,"string");return typeof e=="symbol"?e:e+""}function mge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HE(t,e){if(t==null)return{};var n,r,i=pge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vge(t){var e=Ht(),n=_.useRef(null),r=jA(),{type:i}=t,s=HE(t,cge),l=V0(r,"yAxis",i),d=_.useMemo(()=>{if(l!=null)return IM(IM({},s),{},{type:l})},[l,s]);return _.useLayoutEffect(()=>{d!=null&&(n.current===null?e(phe(d)):n.current!==d&&e(vhe({prev:n.current,next:d})),n.current=d)},[d,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(ghe(n.current)),n.current=null)},[e]),null}function gge(t){var{yAxisId:e,className:n,width:r,label:i}=t,s=_.useRef(null),l=_.useRef(null),d=Oe(bA),f=tr(),h=Ht(),p="yAxis",v=Oe(D=>TV(D,e)),y=Oe(D=>sle(D,e)),w=Oe(D=>OV(D,p,e,f)),j=Oe(D=>cV(D,e));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!v||MS(i)||_.isValidElement(i)||j==null)){var D=s.current;if(D){var O=D.getCalculatedWidth();Math.round(v.width)!==Math.round(O)&&h(yhe({id:e,width:O}))}}},[w,v,h,i,e,r,j]),v==null||y==null||j==null)return null;var{dangerouslySetInnerHTML:E,ticks:A,scale:T}=t,k=HE(t,uge),{id:M,scale:R}=j,L=HE(j,dge);return _.createElement(QS,FE({},k,L,{ref:s,labelRef:l,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:gt("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:w,axisType:p}))}var yge={allowDataOverflow:Qn.allowDataOverflow,allowDecimals:Qn.allowDecimals,allowDuplicatedCategory:Qn.allowDuplicatedCategory,angle:Qn.angle,axisLine:zs.axisLine,hide:!1,includeHidden:Qn.includeHidden,interval:Qn.interval,label:!1,minTickGap:Qn.minTickGap,mirror:Qn.mirror,orientation:Qn.orientation,padding:Qn.padding,reversed:Qn.reversed,scale:Qn.scale,tick:Qn.tick,tickCount:Qn.tickCount,tickLine:zs.tickLine,tickSize:zs.tickSize,type:Qn.type,width:Qn.width,yAxisId:0},bge=t=>{var e=pn(t,yge);return _.createElement(_.Fragment,null,_.createElement(vge,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),_.createElement(gge,e))},Cc=_.memo(bge,aU);Cc.displayName="YAxis";var _ge=(t,e)=>e,ZS=ee([_ge,ht,aV,rr,WV,so,xce,qn],Tce),JS=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},sU=$i("mouseClick"),oU=Dm();oU.startListening({actionCreator:sU,effect:(t,e)=>{var n=t.payload,r=ZS(e.getState(),JS(n));r?.activeIndex!=null&&e.dispatch(_le({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var KE=$i("mouseMove"),lU=Dm(),Yv=null;lU.startListening({actionCreator:KE,effect:(t,e)=>{var n=t.payload;Yv!==null&&cancelAnimationFrame(Yv);var r=JS(n);Yv=requestAnimationFrame(()=>{var i=e.getState(),s=AS(i,i.tooltip.settings.shared);if(s==="axis"){var l=ZS(i,r);l?.activeIndex!=null?e.dispatch(VV({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(LV())}Yv=null})}});function xge(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var RM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},cU=Zr({name:"rootProps",initialState:RM,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:RM.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),wge=cU.reducer,{updateOptions:Ege}=cU.actions,jge=null,Age={updatePolarOptions:(t,e)=>e.payload},uU=Zr({name:"polarOptions",initialState:jge,reducers:Age}),{updatePolarOptions:Sge}=uU.actions,Nge=uU.reducer,dU=$i("keyDown"),fU=$i("focus"),eN=Dm();eN.startListening({actionCreator:dU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=SS(i,nf(n),Wm(n),Ym(n)),d=l==null?-1:Number(l);if(!(!Number.isFinite(d)||d<0)){var f=so(n);if(s==="Enter"){var h=Ay(n,"axis","hover",String(i.index));e.dispatch(RE({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var p=ule(n),v=p==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,w=d+y*v;if(!(f==null||w>=f.length||w<0)){var j=Ay(n,"axis","hover",String(w));e.dispatch(RE({active:!0,activeIndex:w.toString(),activeCoordinate:j}))}}}}}});eN.startListening({actionCreator:fU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=Ay(n,"axis","hover",String(s));e.dispatch(RE({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var zi=$i("externalEvent"),hU=Dm(),lw=new Map;hU.startListening({actionCreator:zi,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=lw.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var d=e.getState(),f={activeCoordinate:sce(d),activeDataKey:OS(d),activeIndex:wl(d),activeLabel:XV(d),activeTooltipIndex:wl(d),isTooltipActive:oce(d)};n(f,r)}finally{lw.delete(i)}});lw.set(i,l)}}});var Tge=ee([ef],t=>t.tooltipItemPayloads),Cge=ee([Tge,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(s=>s.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),mU=$i("touchMove"),pU=Dm();pU.startListening({actionCreator:mU,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=AS(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var l=ZS(r,JS({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(VV({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var d,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(I6),v=(d=h.getAttribute(R6))!==null&&d!==void 0?d:void 0,y=tf(r).find(E=>E.id===v);if(p==null||y==null||v==null)return;var{dataKey:w}=y,j=Cge(r,p,v);e.dispatch(zV({activeDataKey:w,activeIndex:p,activeCoordinate:j,activeGraphicalItemId:v}))}}}});var Pge=J3({brush:Mhe,cartesianAxis:bhe,chartData:aue,errorBars:Pme,graphicalItems:Nfe,layout:kte,legend:Une,options:eue,polarAxis:qde,polarOptions:Nge,referenceElements:Uhe,rootProps:wge,tooltip:xle,zIndex:Bce}),Oge=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return ate({reducer:Pge,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([oU.middleware,lU.middleware,eN.middleware,hU.middleware,pU.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(m6({type:"raf"}))},devTools:{serialize:{replacer:xge},name:"recharts-".concat(n)}})};function vU(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=tr(),s=_.useRef(null);if(i)return n;s.current==null&&(s.current=Oge(e,r));var l=fA;return _.createElement(ipe,{context:l,store:s.current},n)}function Ige(t){var{layout:e,margin:n}=t,r=Ht(),i=tr();return _.useEffect(()=>{i||(r(Ote(e)),r(Pte(n)))},[r,i,e,n]),null}var gU=_.memo(Ige,Zm);function yU(t){var e=Ht();return _.useEffect(()=>{e(Ege(t))},[e,t]),null}function kM(t){var{zIndex:e,isPanorama:n}=t,r=_.useRef(null),i=Ht();return _.useLayoutEffect(()=>(r.current&&i(Uce({zIndex:e,element:r.current,isPanorama:n})),()=>{i(qce({zIndex:e,isPanorama:n}))}),[i,e,n]),_.createElement("g",{tabIndex:-1,ref:r})}function DM(t){var{children:e,isPanorama:n}=t,r=Oe(Pce);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return _.createElement(_.Fragment,null,i.map(l=>_.createElement(kM,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>_.createElement(kM,{key:l,zIndex:l,isPanorama:n})))}var Rge=["children"];function kge(t,e){if(t==null)return{};var n,r,i=Dge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ky.apply(null,arguments)}var Mge={width:"100%",height:"100%",display:"block"},zge=_.forwardRef((t,e)=>{var n=wA(),r=EA(),i=Q6();if(!Za(n)||!Za(r))return null;var{children:s,otherAttributes:l,title:d,desc:f}=t,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),_.createElement(tA,ky({},l,{title:d,desc:f,role:p,tabIndex:h,width:n,height:r,style:Mge,ref:e}),s)}),Lge=t=>{var{children:e}=t,n=Oe(S0);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return _.createElement(tA,{width:r,height:i,x:l,y:s},e)},MM=_.forwardRef((t,e)=>{var{children:n}=t,r=kge(t,Rge),i=tr();return i?_.createElement(Lge,null,_.createElement(DM,{isPanorama:!0},n)):_.createElement(zge,ky({ref:e},r),_.createElement(DM,{isPanorama:!1},n))});function Vge(){var t=Ht(),[e,n]=_.useState(null),r=Oe(Yte);return _.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;tt(s)&&s!==r&&t(Rte(s))}},[e,t,r]),n}function zM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zM(Object(n),!0).forEach(function(r){qge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qge(t,e,n){return(e=Bge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bge(t){var e=$ge(t,"string");return typeof e=="symbol"?e:e+""}function $ge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dl.apply(null,arguments)}var Fge=()=>(mue(),null);function Dy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Hge=_.forwardRef((t,e)=>{var n,r,i=_.useRef(null),[s,l]=_.useState({containerWidth:Dy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Dy((r=t.style)===null||r===void 0?void 0:r.height)}),d=_.useCallback((h,p)=>{l(v=>{var y=Math.round(h),w=Math.round(p);return v.containerWidth===y&&v.containerHeight===w?v:{containerWidth:y,containerHeight:w}})},[]),f=_.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:v}=h.getBoundingClientRect();d(p,v);var y=j=>{var E=j[0];if(E!=null){var{width:A,height:T}=E.contentRect;d(A,T)}},w=new ResizeObserver(y);w.observe(h),i.current=w}},[e,d]);return _.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[d]),_.createElement(_.Fragment,null,_.createElement(zm,{width:s.containerWidth,height:s.containerHeight}),_.createElement("div",dl({ref:f},t)))}),Kge=_.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=_.useState({containerWidth:Dy(n),containerHeight:Dy(r)}),l=_.useCallback((f,h)=>{s(p=>{var v=Math.round(f),y=Math.round(h);return p.containerWidth===v&&p.containerHeight===y?p:{containerWidth:v,containerHeight:y}})},[]),d=_.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();l(h,p)}},[e,l]);return _.createElement(_.Fragment,null,_.createElement(zm,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",dl({ref:d},t)))}),Gge=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return _.createElement(_.Fragment,null,_.createElement(zm,{width:n,height:r}),_.createElement("div",dl({ref:e},t)))}),Wge=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?_.createElement(Kge,dl({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?_.createElement(Gge,dl({},t,{width:n,height:r,ref:e})):_.createElement(_.Fragment,null,_.createElement(zm,{width:n,height:r}),_.createElement("div",dl({ref:e},t)))});function Qge(t){return t?Hge:Wge}var Yge=_.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:v,onMouseUp:y,onTouchEnd:w,onTouchMove:j,onTouchStart:E,style:A,width:T,responsive:k,dispatchTouchEvents:M=!0}=t,R=_.useRef(null),L=Ht(),[D,O]=_.useState(null),[P,I]=_.useState(null),B=Vge(),U=_A(),z=U?.width>0?U.width:T,q=U?.height>0?U.height:i,pe=_.useCallback(se=>{B(se),typeof e=="function"&&e(se),O(se),I(se),se!=null&&(R.current=se)},[B,e,O,I]),Ee=_.useCallback(se=>{L(sU(se)),L(zi({handler:s,reactEvent:se}))},[L,s]),F=_.useCallback(se=>{L(KE(se)),L(zi({handler:h,reactEvent:se}))},[L,h]),J=_.useCallback(se=>{L(LV()),L(zi({handler:p,reactEvent:se}))},[L,p]),fe=_.useCallback(se=>{L(KE(se)),L(zi({handler:v,reactEvent:se}))},[L,v]),we=_.useCallback(()=>{L(fU())},[L]),_e=_.useCallback(se=>{L(dU(se.key))},[L]),H=_.useCallback(se=>{L(zi({handler:l,reactEvent:se}))},[L,l]),ie=_.useCallback(se=>{L(zi({handler:d,reactEvent:se}))},[L,d]),ge=_.useCallback(se=>{L(zi({handler:f,reactEvent:se}))},[L,f]),xe=_.useCallback(se=>{L(zi({handler:y,reactEvent:se}))},[L,y]),Y=_.useCallback(se=>{L(zi({handler:E,reactEvent:se}))},[L,E]),W=_.useCallback(se=>{M&&L(mU(se)),L(zi({handler:j,reactEvent:se}))},[L,M,j]),be=_.useCallback(se=>{L(zi({handler:w,reactEvent:se}))},[L,w]),Le=Qge(k);return _.createElement(a9.Provider,{value:D},_.createElement(v3.Provider,{value:P},_.createElement(Le,{width:z??A?.width,height:q??A?.height,className:gt("recharts-wrapper",r),style:Uge({position:"relative",cursor:"default",width:z,height:q},A),onClick:Ee,onContextMenu:H,onDoubleClick:ie,onFocus:we,onKeyDown:_e,onMouseDown:ge,onMouseEnter:F,onMouseLeave:J,onMouseMove:fe,onMouseUp:xe,onTouchEnd:be,onTouchMove:W,onTouchStart:Y,ref:pe},_.createElement(Fge,null),n)))}),Xge=["width","height","responsive","children","className","style","compact","title","desc"];function Zge(t,e){if(t==null)return{};var n,r,i=Jge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bU=_.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:d,compact:f,title:h,desc:p}=t,v=Zge(t,Xge),y=Rr(v);return f?_.createElement(_.Fragment,null,_.createElement(zm,{width:n,height:r}),_.createElement(MM,{otherAttributes:y,title:h,desc:p},s)):_.createElement(Yge,{className:l,style:d,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},_.createElement(MM,{otherAttributes:y,title:h,desc:p,ref:e},_.createElement(Bhe,null,s)))});function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GE.apply(null,arguments)}var eye={top:5,right:5,bottom:5,left:5},tye={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:eye,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},tN=_.forwardRef(function(e,n){var r,i=pn(e.categoricalChartProps,tye),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return _.createElement(vU,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},_.createElement(I9,{chartData:h.data}),_.createElement(gU,{layout:i.layout,margin:i.margin}),_.createElement(yU,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(bU,GE({},i,{ref:n})))}),nye=["axis"],rye=_.forwardRef((t,e)=>_.createElement(tN,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nye,tooltipPayloadSearcher:Y0,categoricalChartProps:t,ref:e})),iye=["axis","item"],hg=_.forwardRef((t,e)=>_.createElement(tN,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:iye,tooltipPayloadSearcher:Y0,categoricalChartProps:t,ref:e}));function aye(t){var e=Ht();return _.useEffect(()=>{e(Sge(t))},[e,t]),null}var sye=["layout"];function WE(){return WE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WE.apply(null,arguments)}function oye(t,e){if(t==null)return{};var n,r,i=lye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cye={top:5,right:5,bottom:5,left:5},_U={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:cye,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},uye=_.forwardRef(function(e,n){var r,i=pn(e.categoricalChartProps,_U),{layout:s}=i,l=oye(i,sye),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,v={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return _.createElement(vU,{preloadedState:{options:v},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:d},_.createElement(I9,{chartData:i.data}),_.createElement(gU,{layout:s,margin:i.margin}),_.createElement(yU,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(aye,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),_.createElement(bU,WE({},l,{ref:n})))});function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){dye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dye(t,e,n){return(e=fye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fye(t){var e=hye(t,"string");return typeof e=="symbol"?e:e+""}function hye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mye=["item"],pye=VM(VM({},_U),{},{layout:"centric",startAngle:0,endAngle:360}),vye=_.forwardRef((t,e)=>{var n=pn(t,pye);return _.createElement(uye,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:mye,tooltipPayloadSearcher:Y0,categoricalChartProps:n,ref:e})}),gye=["axis"],yye=_.forwardRef((t,e)=>_.createElement(tN,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gye,tooltipPayloadSearcher:Y0,categoricalChartProps:t,ref:e}));const bye=()=>{const t=Sl(),{currentUser:e}=Hi(),[n,r]=_.useState(null),[i,s]=_.useState([]),[l,d]=_.useState([]),[f,h]=_.useState([]),[p,v]=_.useState([]),[y,w]=_.useState([]),[j,E]=_.useState(!0),[A,T]=_.useState("overview");if(_.useEffect(()=>{(async()=>{if(e){E(!0);try{const[D,O,P,I,B]=await Promise.all([vZ(e.uid),gZ(e.uid),yZ(e.uid,20),c0(e.uid,10),l3().catch(()=>[])]);r(D),s(O),d(P),h(I),v(B);const U=bZ(D,O);w(U)}catch(D){console.error("Erreur chargement dashboard :",D)}finally{E(!1)}}})()},[e]),j)return c.jsxs("div",{className:"sd-loading",children:[c.jsx("div",{className:"admin-spinner"}),c.jsx("p",{children:"Chargement de votre tableau de bord..."})]});const k=y.filter(L=>L.obtenu),M=y.length,R=e?.displayName||e?.email?.split("@")[0]||"lve";return c.jsxs("div",{className:"student-dashboard",children:[c.jsxs("div",{className:"sd-welcome",children:[c.jsxs("div",{className:"sd-welcome-text",children:[c.jsxs("h1",{children:["Bienvenue, ",R," "]}),c.jsx("p",{children:n&&n.totalQuizPasses>0?`Vous avez pass ${n.totalQuizPasses} quiz${n.totalQuizPasses>1,""} avec une moyenne de ${n.moyenneGenerale}%. Continuez !`:"Commencez par passer votre premier quiz pour suivre votre progression !"})]}),e?.isPremium&&c.jsxs("span",{className:"sd-premium-badge",children:[c.jsx(mi,{size:14})," Premium"]})]}),c.jsxs("div",{className:"sd-stats-grid",children:[c.jsxs("div",{className:"sd-stat-card",children:[c.jsx("div",{className:"sd-stat-icon",style:{background:"#eff6ff",color:"#3b82f6"},children:c.jsx(Pr,{size:22})}),c.jsxs("div",{className:"sd-stat-content",children:[c.jsx("span",{className:"sd-stat-value",children:n?.totalQuizPasses||0}),c.jsx("span",{className:"sd-stat-label",children:"Quiz passs"})]})]}),c.jsxs("div",{className:"sd-stat-card",children:[c.jsx("div",{className:"sd-stat-icon",style:{background:"#f0fdf4",color:"#10b981"},children:c.jsx(ud,{size:22})}),c.jsxs("div",{className:"sd-stat-content",children:[c.jsxs("span",{className:"sd-stat-value",style:{color:sd(n?.moyenneGenerale||0)},children:[n?.moyenneGenerale||0,"%"]}),c.jsx("span",{className:"sd-stat-label",children:"Moyenne gnrale"})]})]}),c.jsxs("div",{className:"sd-stat-card",children:[c.jsx("div",{className:"sd-stat-icon",style:{background:"#fefce8",color:"#f59e0b"},children:c.jsx(i3,{size:22})}),c.jsxs("div",{className:"sd-stat-content",children:[c.jsxs("span",{className:"sd-stat-value",children:[n?.meilleurScore||0,"%"]}),c.jsx("span",{className:"sd-stat-label",children:"Meilleur score"})]})]}),c.jsxs("div",{className:"sd-stat-card",children:[c.jsx("div",{className:"sd-stat-icon",style:{background:"#fef2f2",color:"#ef4444"},children:c.jsx(a3,{size:22})}),c.jsxs("div",{className:"sd-stat-content",children:[c.jsx("span",{className:"sd-stat-value",children:n?.serieReussites||0}),c.jsx("span",{className:"sd-stat-label",children:"Srie en cours "})]})]})]}),c.jsxs("div",{className:"sd-tabs",children:[c.jsxs("button",{className:`sd-tab ${A==="overview"?"active":""}`,onClick:()=>T("overview"),children:[c.jsx(Zo,{size:16})," Vue d'ensemble"]}),c.jsxs("button",{className:`sd-tab ${A==="history"?"active":""}`,onClick:()=>T("history"),children:[c.jsx(Ex,{size:16})," Historique"]}),c.jsxs("button",{className:`sd-tab ${A==="badges"?"active":""}`,onClick:()=>T("badges"),children:[c.jsx(Ga,{size:16})," Badges (",k.length,"/",M,")"]})]}),A==="overview"&&c.jsxs("div",{className:"sd-overview",children:[l.length>1&&c.jsxs("div",{className:"sd-chart-card",children:[c.jsxs("h3",{className:"sd-section-title",children:[c.jsx(Xh,{size:18})," volution de vos scores"]}),c.jsx("div",{className:"sd-chart-container",children:c.jsx(bc,{width:"100%",height:280,children:c.jsxs(rye,{data:l,children:[c.jsx(Nc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),c.jsx(Tc,{dataKey:"date",tick:{fontSize:12,fill:"#6b7280"},tickLine:!1}),c.jsx(Cc,{domain:[0,100],tick:{fontSize:12,fill:"#6b7280"},tickLine:!1,unit:"%"}),c.jsx(_c,{formatter:L=>[`${L}%`,"Score"],labelFormatter:L=>`Date : ${L}`,contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb",boxShadow:"0 4px 6px rgba(0,0,0,0.07)"}}),c.jsx(K9,{type:"monotone",dataKey:"score",stroke:"#3b82f6",strokeWidth:2.5,dot:{r:4,fill:"#3b82f6",stroke:"#fff",strokeWidth:2},activeDot:{r:6}})]})})})]}),i.length>0&&c.jsxs("div",{className:"sd-chart-card",children:[c.jsxs("h3",{className:"sd-section-title",children:[c.jsx(Zo,{size:18})," Progression par discipline"]}),c.jsx("div",{className:"sd-chart-container",children:c.jsx(bc,{width:"100%",height:280,children:c.jsxs(hg,{data:i,layout:"vertical",children:[c.jsx(Nc,{strokeDasharray:"3 3",stroke:"#e5e7eb",horizontal:!1}),c.jsx(Tc,{type:"number",domain:[0,100],tick:{fontSize:12,fill:"#6b7280"},unit:"%"}),c.jsx(Cc,{type:"category",dataKey:"disciplineNom",width:120,tick:{fontSize:12,fill:"#374151"}}),c.jsx(_c,{formatter:L=>[`${L}%`,"Moyenne"],contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb",boxShadow:"0 4px 6px rgba(0,0,0,0.07)"}}),c.jsx(xc,{dataKey:"moyenne",radius:[0,6,6,0],barSize:24,children:i.map((L,D)=>c.jsx(ul,{fill:sd(L.moyenne)},D))})]})})}),c.jsx("div",{className:"sd-disc-list",children:i.map(L=>c.jsxs("div",{className:"sd-disc-card",children:[c.jsxs("div",{className:"sd-disc-header",children:[c.jsx("span",{className:"sd-disc-name",children:L.disciplineNom}),c.jsxs("span",{className:"sd-disc-tendance",children:[L.tendance==="up"&&c.jsx(Xh,{size:16,className:"tendance-up"}),L.tendance==="down"&&c.jsx(Hw,{size:16,className:"tendance-down"}),L.tendance==="stable"&&c.jsx($w,{size:16,className:"tendance-stable"})]})]}),c.jsxs("div",{className:"sd-disc-stats",children:[c.jsxs("div",{className:"sd-disc-stat",children:[c.jsxs("span",{className:"sd-disc-stat-value",style:{color:sd(L.moyenne)},children:[L.moyenne,"%"]}),c.jsx("span",{className:"sd-disc-stat-label",children:"Moyenne"})]}),c.jsxs("div",{className:"sd-disc-stat",children:[c.jsx("span",{className:"sd-disc-stat-value",children:L.nombreQuiz}),c.jsx("span",{className:"sd-disc-stat-label",children:"Quiz"})]}),c.jsxs("div",{className:"sd-disc-stat",children:[c.jsxs("span",{className:"sd-disc-stat-value",children:[L.meilleurScore,"%"]}),c.jsx("span",{className:"sd-disc-stat-label",children:"Meilleur"})]}),c.jsxs("div",{className:"sd-disc-stat",children:[c.jsxs("span",{className:"sd-disc-stat-value",children:[L.quizReussis,"/",L.nombreQuiz]}),c.jsx("span",{className:"sd-disc-stat-label",children:"Russis"})]})]}),c.jsx("div",{className:"sd-disc-bar",children:c.jsx("div",{className:"sd-disc-bar-fill",style:{width:`${L.moyenne}%`,background:sd(L.moyenne)}})})]},L.disciplineId))})]}),p.length>0&&c.jsxs("div",{className:"sd-chart-card",children:[c.jsxs("h3",{className:"sd-section-title",children:[c.jsx(Mh,{size:18})," Quiz disponibles"]}),c.jsx("div",{className:"sd-quiz-grid",children:p.slice(0,6).map(L=>{const D=L.isPremium&&!e?.isPremium;return c.jsxs("div",{className:`sd-quiz-card ${D?"locked":""}`,onClick:()=>!D&&t(`/quiz/${L.id}`),children:[L.isPremium&&c.jsxs("span",{className:"sd-quiz-badge-premium",children:[D?c.jsx(Bw,{size:10}):c.jsx(mi,{size:10})," Premium"]}),c.jsx("h4",{className:"sd-quiz-title",children:L.titre}),c.jsxs("div",{className:"sd-quiz-meta",children:[c.jsxs("span",{children:[c.jsx(Pr,{size:12})," ",L.questions.length," questions"]}),c.jsxs("span",{children:[c.jsx(_l,{size:12})," ",L.duree," min"]})]}),!D&&c.jsxs("button",{className:"sd-quiz-play-btn",children:[c.jsx(Mh,{size:14})," Commencer"]}),D&&c.jsxs("button",{className:"sd-quiz-unlock-btn",onClick:O=>{O.stopPropagation(),t("/premium")},children:[c.jsx(Bw,{size:14})," Dbloquer"]})]},L.id)})})]}),n&&n.totalQuizPasses===0&&c.jsxs("div",{className:"sd-empty-state",children:[c.jsx(ud,{size:48}),c.jsx("h3",{children:"Commencez votre parcours !"}),c.jsx("p",{children:"Passez votre premier quiz pour voir votre progression ici."}),p.length>0&&c.jsxs("button",{className:"sd-btn sd-btn-primary",onClick:()=>t(`/quiz/${p[0].id}`),children:[c.jsx(Mh,{size:18})," Passer un quiz"]})]})]}),A==="history"&&c.jsx("div",{className:"sd-history",children:f.length===0?c.jsxs("div",{className:"sd-empty-state",children:[c.jsx(Ex,{size:48}),c.jsx("h3",{children:"Aucun quiz pass"}),c.jsx("p",{children:"Votre historique apparatra ici aprs avoir pass des quiz."})]}):c.jsx("div",{className:"sd-history-list",children:f.map(L=>{const D=L.datePassage?.toDate?L.datePassage.toDate():new Date(L.datePassage);return c.jsxs("div",{className:`sd-history-item ${L.reussi?"success":"fail"}`,children:[c.jsx("div",{className:`sd-history-icon ${L.reussi?"success":"fail"}`,children:L.reussi?c.jsx(_n,{size:20}):c.jsx(Uw,{size:20})}),c.jsxs("div",{className:"sd-history-content",children:[c.jsxs("div",{className:"sd-history-top",children:[c.jsx("span",{className:"sd-history-title",children:L.quizTitre}),c.jsx("span",{className:"sd-history-discipline",children:L.disciplineNom})]}),c.jsxs("div",{className:"sd-history-meta",children:[c.jsxs("span",{children:[c.jsx(Ex,{size:12}),D.toLocaleDateString("fr-SN",{day:"2-digit",month:"long",year:"numeric"})]}),c.jsxs("span",{children:[c.jsx(_l,{size:12})," ",d3(L.tempsEcoule)]}),c.jsxs("span",{children:[c.jsx(_n,{size:12})," ",L.bonnesReponses,"/",L.nombreQuestions]})]})]}),c.jsxs("div",{className:"sd-history-score",style:{color:sd(L.pourcentage)},children:[c.jsxs("span",{className:"sd-history-score-value",children:[L.pourcentage,"%"]}),c.jsx("span",{className:"sd-history-score-label",children:f3(L.pourcentage)})]})]},L.id)})})}),A==="badges"&&c.jsxs("div",{className:"sd-badges",children:[c.jsxs("div",{className:"sd-badges-summary",children:[c.jsxs("div",{className:"sd-badges-circle",children:[c.jsx("span",{className:"sd-badges-count",children:k.length}),c.jsxs("span",{className:"sd-badges-total",children:["/ ",M]})]}),c.jsx("p",{children:"badges obtenus"}),c.jsx("div",{className:"sd-badges-progress",children:c.jsx("div",{className:"sd-badges-progress-fill",style:{width:`${k.length/M*100}%`}})})]}),c.jsx("div",{className:"sd-badges-grid",children:y.map(L=>c.jsxs("div",{className:`sd-badge-card ${L.obtenu?"obtained":"locked"}`,children:[c.jsx("span",{className:"sd-badge-icon",children:L.icone}),c.jsx("h4",{className:"sd-badge-name",children:L.nom}),c.jsx("p",{className:"sd-badge-description",children:L.description}),c.jsx("span",{className:"sd-badge-condition",children:L.condition}),L.obtenu&&c.jsx("span",{className:"sd-badge-obtained-tag",children:" Obtenu"})]},L.id))})]})]})};function Qs(t){return t instanceof ct?t.toDate():t instanceof Date?t:t?.seconds?new ct(t.seconds,t.nanoseconds||0).toDate():new Date(t)}function gr(t){return t.toFixed(1)+"%"}function UM(t){const e=Math.floor(t/60),n=Math.round(t%60);return e===0?`${n}s`:`${e}min ${n}s`}function ia(t){return t>=80?"#10b981":t>=60?"#3b82f6":t>=40?"#f59e0b":"#ef4444"}function _ye(t){return t>=80?"Excellent":t>=60?"Bien":t>=40?"Passable":"En difficult"}function xU(t){if(t.length<4)return"stable";const e=[...t].sort((f,h)=>Qs(h.datePassage).getTime()-Qs(f.datePassage).getTime()),n=Math.floor(e.length/2),r=e.slice(0,n),i=e.slice(n),s=r.reduce((f,h)=>f+h.pourcentage,0)/r.length,l=i.reduce((f,h)=>f+h.pourcentage,0)/i.length,d=s-l;return d>5?"hausse":d<-5?"baisse":"stable"}async function xye(){try{const t=wr(We,"quiz_results"),e=yi(t,Ya("datePassage","desc"));return(await bi(e)).docs.map(r=>{const i=r.data();return{id:r.id,quizId:i.quizId||"",quizTitre:i.quizTitre||"Quiz sans titre",disciplineId:i.disciplineId||"",disciplineNom:i.disciplineNom||"Non dfinie",userId:i.userId||"",score:i.score||0,totalPoints:i.totalPoints||0,pourcentage:i.pourcentage||0,reponses:i.reponses||[],tempsEcoule:i.tempsEcoule||0,datePassage:Qs(i.datePassage),reussi:i.reussi||!1,nombreQuestions:i.nombreQuestions||0,bonnesReponses:i.bonnesReponses||0}})}catch(t){return console.error("Erreur rcupration quiz_results:",t),[]}}async function wye(){try{const t=wr(We,"users"),e=yi(t,Vi("role","==","eleve"));return(await bi(e)).docs.map(r=>{const i=r.data();return{uid:r.id,displayName:i.displayName||"lve sans nom",email:i.email||""}})}catch(t){return console.error("Erreur rcupration lves:",t),[]}}function Eye(t,e){if(t.length===0)return{totalEleves:e,totalQuizPasses:0,moyenneGenerale:0,tauxReussite:0,elevesEnDifficulte:0,quizAujourdHui:0,tendanceMoyenne:"stable"};const r=t.reduce((v,y)=>v+y.pourcentage,0)/t.length,s=t.filter(v=>v.reussi).length/t.length*100,l=new Map;t.forEach(v=>{const y=l.get(v.userId)||[];y.push(v.pourcentage),l.set(v.userId,y)});let d=0;l.forEach(v=>{v.reduce((w,j)=>w+j,0)/v.length<40&&d++});const f=new Date;f.setHours(0,0,0,0);const h=t.filter(v=>Qs(v.datePassage).getTime()>=f.getTime()).length,p=xU(t);return{totalEleves:e,totalQuizPasses:t.length,moyenneGenerale:r,tauxReussite:s,elevesEnDifficulte:d,quizAujourdHui:h,tendanceMoyenne:p}}function wU(t,e){const n=new Map;return t.forEach(r=>{const i=n.get(r.userId)||[];i.push(r),n.set(r.userId,i)}),e.map(r=>{const i=n.get(r.uid)||[];if(i.length===0)return{userId:r.uid,displayName:r.displayName,email:r.email,totalQuiz:0,moyenne:0,tauxReussite:0,dernierQuiz:null,enDifficulte:!1,progression:"stable",disciplinesActives:[]};const s=i.reduce((p,v)=>p+v.pourcentage,0)/i.length,d=i.filter(p=>p.reussi).length/i.length*100,f=i.reduce((p,v)=>{const y=Qs(v.datePassage);return y>p?y:p},new Date(0)),h=new Set(i.map(p=>p.disciplineNom));return{userId:r.uid,displayName:r.displayName,email:r.email,totalQuiz:i.length,moyenne:s,tauxReussite:d,dernierQuiz:f.getTime()>0?f:null,enDifficulte:s<40&&i.length>=2,progression:xU(i),disciplinesActives:Array.from(h)}})}function jye(t){const e=new Map;t.forEach(r=>{const i=e.get(r.disciplineId)||[];i.push(r),e.set(r.disciplineId,i)});const n=[];return e.forEach((r,i)=>{const s=new Set(r.map(h=>h.userId)),l=r.reduce((h,p)=>h+p.pourcentage,0)/r.length,d=r.filter(h=>h.reussi).length,f=r.map(h=>h.pourcentage);n.push({disciplineId:i,disciplineNom:r[0]?.disciplineNom||"Non dfinie",totalQuiz:r.length,nombreEleves:s.size,moyenne:l,tauxReussite:d/r.length*100,meilleureNote:Math.max(...f),pireNote:Math.min(...f)})}),n.sort((r,i)=>i.totalQuiz-r.totalQuiz)}function Aye(t){const e=new Map;t.forEach(r=>{const i=e.get(r.quizId)||[];i.push(r),e.set(r.quizId,i)});const n=[];return e.forEach((r,i)=>{const s=r.reduce((v,y)=>v+y.pourcentage,0)/r.length,l=r.filter(v=>v.reussi).length,d=r.map(v=>v.pourcentage),f=r.reduce((v,y)=>v+y.tempsEcoule,0)/r.length,h=r.map(v=>Qs(v.datePassage)),p=h.length>0?h.reduce((v,y)=>v>y?v:y):null;n.push({quizId:i,quizTitre:r[0]?.quizTitre||"Quiz sans titre",disciplineNom:r[0]?.disciplineNom||"Non dfinie",totalPassages:r.length,moyenneScore:s,tauxReussite:l/r.length*100,tempsEcouleMoyen:f,meilleureNote:Math.max(...d),pireNote:Math.min(...d),dernierPassage:p})}),n.sort((r,i)=>i.totalPassages-r.totalPassages)}function Sye(t,e){return wU(t,e).filter(r=>r.enDifficulte).map(r=>{const i=t.filter(d=>d.userId===r.userId),s=new Map;i.forEach(d=>{const f=s.get(d.disciplineNom)||[];f.push(d.pourcentage),s.set(d.disciplineNom,f)});const l=[];return s.forEach((d,f)=>{d.reduce((p,v)=>p+v,0)/d.length<40&&l.push(f)}),{userId:r.userId,displayName:r.displayName,email:r.email,moyenne:r.moyenne,totalQuiz:r.totalQuiz,disciplinesFaibles:l,dernierQuiz:r.dernierQuiz}}).sort((r,i)=>r.moyenne-i.moyenne)}function Nye(t,e=30){const n=new Date,r=[];for(let i=e-1;i>=0;i--){const s=new Date(n);s.setDate(n.getDate()-i),s.setHours(0,0,0,0);const l=new Date(s);l.setHours(23,59,59,999);const d=t.filter(p=>{const v=Qs(p.datePassage);return v>=s&&v<=l}),f=d.length>0?d.reduce((p,v)=>p+v.pourcentage,0)/d.length:0,h=`${String(s.getDate()).padStart(2,"0")}/${String(s.getMonth()+1).padStart(2,"0")}`;r.push({date:h,moyenne:Math.round(f*10)/10,nombreQuiz:d.length})}return r}function Tye(t,e){return t.filter(n=>n.userId===e).sort((n,r)=>Qs(r.datePassage).getTime()-Qs(n.datePassage).getTime())}function Cye(t,e){const n=t.filter(s=>s.userId===e),r=new Map;n.forEach(s=>{const l=r.get(s.disciplineNom)||[];l.push(s.pourcentage),r.set(s.disciplineNom,l)});const i=[];return r.forEach((s,l)=>{i.push({discipline:l,moyenne:Math.round(s.reduce((d,f)=>d+f,0)/s.length*10)/10,nombreQuiz:s.length})}),i.sort((s,l)=>l.moyenne-s.moyenne)}const qM=["#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6","#ec4899"],Pye=()=>{const{currentUser:t}=Hi(),[e,n]=_.useState("overview"),[r,i]=_.useState(!0),[s,l]=_.useState(null),[d,f]=_.useState([]),[h,p]=_.useState([]),[v,y]=_.useState(null),[w,j]=_.useState(""),[E,A]=_.useState("all");_.useEffect(()=>{T()},[]);const T=async()=>{try{i(!0),l(null);const[F,J]=await Promise.all([xye(),wye()]);f(F),p(J)}catch(F){console.error("Erreur chargement dashboard prof:",F),l("Impossible de charger les donnes. Veuillez ressayer.")}finally{i(!1)}},k=_.useMemo(()=>Eye(d,h.length),[d,h]),M=_.useMemo(()=>wU(d,h),[d,h]),R=_.useMemo(()=>jye(d),[d]),L=_.useMemo(()=>Aye(d),[d]),D=_.useMemo(()=>Sye(d,h),[d,h]),O=_.useMemo(()=>Nye(d),[d]),P=_.useMemo(()=>{const F=new Set(d.map(J=>J.disciplineNom));return Array.from(F).sort()},[d]),I=_.useMemo(()=>{let F=[...M];if(w.trim()){const J=w.toLowerCase();F=F.filter(fe=>fe.displayName.toLowerCase().includes(J)||fe.email.toLowerCase().includes(J))}return E!=="all"&&(F=F.filter(J=>J.disciplinesActives.includes(E))),F},[M,w,E]);if(r)return c.jsxs("div",{className:"prof-loading",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Chargement du tableau de bord..."})]});if(s)return c.jsxs("div",{className:"prof-error",children:[c.jsx(oh,{size:48,color:"#ef4444"}),c.jsx("h2",{children:"Erreur de chargement"}),c.jsx("p",{children:s}),c.jsxs("button",{className:"prof-btn prof-btn-primary",onClick:T,children:[c.jsx(Fw,{size:16}),"Ressayer"]})]});return c.jsxs("div",{className:"prof-dashboard",children:[c.jsxs("header",{className:"prof-header",children:[c.jsxs("div",{className:"prof-header-left",children:[c.jsxs("h1",{className:"prof-title",children:[c.jsx(Mg,{size:28}),"Tableau de bord Professeur"]}),c.jsxs("p",{className:"prof-subtitle",children:["Bienvenue, ",t?.displayName||"Professeur",". Suivez la progression de vos lves."]})]}),c.jsx("div",{className:"prof-header-right",children:c.jsxs("button",{className:"prof-btn prof-btn-outline",onClick:T,title:"Rafrachir les donnes",children:[c.jsx(Fw,{size:16}),"Actualiser"]})})]}),c.jsxs("nav",{className:"prof-tabs",children:[c.jsxs("button",{className:`prof-tab ${e==="overview"?"prof-tab-active":""}`,onClick:()=>{n("overview"),y(null)},children:[c.jsx(Mg,{size:18}),c.jsx("span",{children:"Vue d'ensemble"})]}),c.jsxs("button",{className:`prof-tab ${e==="disciplines"?"prof-tab-active":""}`,onClick:()=>{n("disciplines"),y(null)},children:[c.jsx(Pr,{size:18}),c.jsx("span",{children:"Par discipline"})]}),c.jsxs("button",{className:`prof-tab ${e==="eleves"?"prof-tab-active":""}`,onClick:()=>{n("eleves"),y(null)},children:[c.jsx(nl,{size:18}),c.jsx("span",{children:"Par lve"}),D.length>0&&c.jsx("span",{className:"prof-tab-badge",children:D.length})]}),c.jsxs("button",{className:`prof-tab ${e==="quiz"?"prof-tab-active":""}`,onClick:()=>{n("quiz"),y(null)},children:[c.jsx(sh,{size:18}),c.jsx("span",{children:"Par quiz"})]}),c.jsxs("button",{className:`prof-tab ${e==="alertes"?"prof-tab-active":""}`,onClick:()=>{n("alertes"),y(null)},children:[c.jsx(oh,{size:18}),c.jsx("span",{children:"Alertes"}),D.length>0&&c.jsx("span",{className:"prof-tab-badge prof-tab-badge-danger",children:D.length})]})]}),c.jsxs("main",{className:"prof-content",children:[e==="overview"&&B(),e==="disciplines"&&U(),e==="eleves"&&z(),e==="quiz"&&pe(),e==="alertes"&&Ee()]})]});function B(){return c.jsxs("div",{className:"prof-overview",children:[c.jsxs("div",{className:"prof-stats-grid",children:[c.jsxs("div",{className:"prof-stat-card",children:[c.jsx("div",{className:"prof-stat-icon prof-stat-icon-blue",children:c.jsx(nl,{size:24})}),c.jsxs("div",{className:"prof-stat-info",children:[c.jsx("span",{className:"prof-stat-value",children:k.totalEleves}),c.jsx("span",{className:"prof-stat-label",children:"lves inscrits"})]})]}),c.jsxs("div",{className:"prof-stat-card",children:[c.jsx("div",{className:"prof-stat-icon prof-stat-icon-green",children:c.jsx(sh,{size:24})}),c.jsxs("div",{className:"prof-stat-info",children:[c.jsx("span",{className:"prof-stat-value",children:k.totalQuizPasses}),c.jsx("span",{className:"prof-stat-label",children:"Quiz passs"})]})]}),c.jsxs("div",{className:"prof-stat-card",children:[c.jsx("div",{className:"prof-stat-icon prof-stat-icon-purple",children:c.jsx(Ga,{size:24})}),c.jsxs("div",{className:"prof-stat-info",children:[c.jsx("span",{className:"prof-stat-value",style:{color:ia(k.moyenneGenerale)},children:gr(k.moyenneGenerale)}),c.jsxs("span",{className:"prof-stat-label",children:["Moyenne gnrale",k.tendanceMoyenne==="hausse"&&c.jsx(Xh,{size:14,color:"#10b981",style:{marginLeft:6}}),k.tendanceMoyenne==="baisse"&&c.jsx(Hw,{size:14,color:"#ef4444",style:{marginLeft:6}}),k.tendanceMoyenne==="stable"&&c.jsx($w,{size:14,color:"#6b7280",style:{marginLeft:6}})]})]})]}),c.jsxs("div",{className:"prof-stat-card",children:[c.jsx("div",{className:"prof-stat-icon prof-stat-icon-orange",children:c.jsx(ud,{size:24})}),c.jsxs("div",{className:"prof-stat-info",children:[c.jsx("span",{className:"prof-stat-value",children:gr(k.tauxReussite)}),c.jsx("span",{className:"prof-stat-label",children:"Taux de russite"})]})]}),c.jsxs("div",{className:"prof-stat-card",children:[c.jsx("div",{className:`prof-stat-icon ${k.elevesEnDifficulte>0?"prof-stat-icon-red":"prof-stat-icon-green"}`,children:c.jsx(oh,{size:24})}),c.jsxs("div",{className:"prof-stat-info",children:[c.jsx("span",{className:"prof-stat-value",children:k.elevesEnDifficulte}),c.jsx("span",{className:"prof-stat-label",children:"lves en difficult"})]})]}),c.jsxs("div",{className:"prof-stat-card",children:[c.jsx("div",{className:"prof-stat-icon prof-stat-icon-blue",children:c.jsx(_l,{size:24})}),c.jsxs("div",{className:"prof-stat-info",children:[c.jsx("span",{className:"prof-stat-value",children:k.quizAujourdHui}),c.jsx("span",{className:"prof-stat-label",children:"Quiz aujourd'hui"})]})]})]}),c.jsxs("div",{className:"prof-chart-card",children:[c.jsxs("h3",{className:"prof-chart-title",children:[c.jsx(Zo,{size:20}),"Progression des 30 derniers jours"]}),O.some(F=>F.nombreQuiz>0)?c.jsx(bc,{width:"100%",height:300,children:c.jsxs(yye,{data:O,children:[c.jsx(Nc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),c.jsx(Tc,{dataKey:"date",tick:{fontSize:11,fill:"#6b7280"},interval:4}),c.jsx(Cc,{domain:[0,100],tick:{fontSize:11,fill:"#6b7280"},tickFormatter:F=>`${F}%`}),c.jsx(_c,{formatter:(F,J)=>J==="moyenne"?[`${F.toFixed(1)}%`,"Moyenne"]:[F,"Quiz passs"],contentStyle:{borderRadius:8,border:"1px solid #e5e7eb"}}),c.jsx(gE,{}),c.jsx(VE,{type:"monotone",dataKey:"moyenne",name:"Moyenne (%)",stroke:"#3b82f6",fill:"#3b82f680",strokeWidth:2}),c.jsx(VE,{type:"monotone",dataKey:"nombreQuiz",name:"Nombre de quiz",stroke:"#10b981",fill:"#10b98140",strokeWidth:1})]})}):c.jsxs("div",{className:"prof-empty-chart",children:[c.jsx(Zo,{size:48,color:"#d1d5db"}),c.jsx("p",{children:"Aucune activit sur les 30 derniers jours"})]})]}),R.length>0&&c.jsxs("div",{className:"prof-chart-card",children:[c.jsxs("h3",{className:"prof-chart-title",children:[c.jsx(Pr,{size:20}),"Rpartition des quiz par discipline"]}),c.jsx(bc,{width:"100%",height:300,children:c.jsxs(vye,{children:[c.jsx(T9,{data:R.map(F=>({name:F.disciplineNom,value:F.totalQuiz})),cx:"50%",cy:"50%",outerRadius:100,label:({name:F,percent:J})=>`${F} (${(J*100).toFixed(0)}%)`,labelLine:!0,dataKey:"value",children:R.map((F,J)=>c.jsx(ul,{fill:qM[J%qM.length]},J))}),c.jsx(_c,{})]})})]})]})}function U(){return R.length===0?c.jsxs("div",{className:"prof-empty",children:[c.jsx(Pr,{size:48,color:"#d1d5db"}),c.jsx("h3",{children:"Aucune donne disponible"}),c.jsx("p",{children:"Les statistiques par discipline apparatront lorsque des lves auront pass des quiz."})]}):c.jsxs("div",{className:"prof-disciplines",children:[c.jsx("div",{className:"prof-disc-grid",children:R.map(F=>c.jsxs("div",{className:"prof-disc-card",children:[c.jsxs("div",{className:"prof-disc-header",children:[c.jsx("h3",{className:"prof-disc-nom",children:F.disciplineNom}),c.jsx("span",{className:"prof-disc-badge",style:{backgroundColor:ia(F.moyenne)},children:_ye(F.moyenne)})]}),c.jsxs("div",{className:"prof-disc-stats",children:[c.jsxs("div",{className:"prof-disc-stat",children:[c.jsx("span",{className:"prof-disc-stat-val",children:F.nombreEleves}),c.jsx("span",{className:"prof-disc-stat-label",children:"lves"})]}),c.jsxs("div",{className:"prof-disc-stat",children:[c.jsx("span",{className:"prof-disc-stat-val",children:F.totalQuiz}),c.jsx("span",{className:"prof-disc-stat-label",children:"Quiz passs"})]}),c.jsxs("div",{className:"prof-disc-stat",children:[c.jsx("span",{className:"prof-disc-stat-val",style:{color:ia(F.moyenne)},children:gr(F.moyenne)}),c.jsx("span",{className:"prof-disc-stat-label",children:"Moyenne"})]}),c.jsxs("div",{className:"prof-disc-stat",children:[c.jsx("span",{className:"prof-disc-stat-val",children:gr(F.tauxReussite)}),c.jsx("span",{className:"prof-disc-stat-label",children:"Russite"})]})]}),c.jsx("div",{className:"prof-progress-bar",children:c.jsx("div",{className:"prof-progress-fill",style:{width:`${Math.min(F.moyenne,100)}%`,backgroundColor:ia(F.moyenne)}})}),c.jsxs("div",{className:"prof-disc-range",children:[c.jsxs("span",{children:["Min: ",gr(F.pireNote)]}),c.jsxs("span",{children:["Max: ",gr(F.meilleureNote)]})]})]},F.disciplineId))}),c.jsxs("div",{className:"prof-chart-card",children:[c.jsxs("h3",{className:"prof-chart-title",children:[c.jsx(Zo,{size:20}),"Comparaison des moyennes par discipline"]}),c.jsx(bc,{width:"100%",height:300,children:c.jsxs(hg,{data:R,children:[c.jsx(Nc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),c.jsx(Tc,{dataKey:"disciplineNom",tick:{fontSize:11,fill:"#6b7280"},angle:-20,textAnchor:"end",height:60}),c.jsx(Cc,{domain:[0,100],tick:{fontSize:11,fill:"#6b7280"},tickFormatter:F=>`${F}%`}),c.jsx(_c,{formatter:F=>[`${F.toFixed(1)}%`],contentStyle:{borderRadius:8,border:"1px solid #e5e7eb"}}),c.jsx(xc,{dataKey:"moyenne",name:"Moyenne (%)",radius:[4,4,0,0],children:R.map((F,J)=>c.jsx(ul,{fill:ia(F.moyenne)},J))}),c.jsx(xc,{dataKey:"tauxReussite",name:"Russite (%)",fill:"#60a5fa",radius:[4,4,0,0]})]})})]})]})}function z(){return v?q(v):c.jsxs("div",{className:"prof-eleves",children:[c.jsxs("div",{className:"prof-filters",children:[c.jsxs("div",{className:"prof-search-box",children:[c.jsx(Zj,{size:18,className:"prof-search-icon"}),c.jsx("input",{type:"text",className:"prof-search-input",placeholder:"Rechercher un lve (nom ou email)...",value:w,onChange:F=>j(F.target.value)})]}),c.jsxs("select",{className:"prof-select",value:E,onChange:F=>A(F.target.value),children:[c.jsx("option",{value:"all",children:"Toutes les disciplines"}),P.map(F=>c.jsx("option",{value:F,children:F},F))]}),c.jsxs("span",{className:"prof-filter-count",children:[I.length," lve",I.length>1?"s":""]})]}),I.length===0?c.jsxs("div",{className:"prof-empty",children:[c.jsx(nl,{size:48,color:"#d1d5db"}),c.jsx("h3",{children:"Aucun lve trouv"}),c.jsx("p",{children:"Aucun rsultat ne correspond  votre recherche."})]}):c.jsx("div",{className:"prof-table-wrapper",children:c.jsxs("table",{className:"prof-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"lve"}),c.jsx("th",{children:"Quiz passs"}),c.jsx("th",{children:"Moyenne"}),c.jsx("th",{children:"Russite"}),c.jsx("th",{children:"Tendance"}),c.jsx("th",{children:"Dernier quiz"}),c.jsx("th",{children:"Action"})]})}),c.jsx("tbody",{children:I.map(F=>c.jsxs("tr",{className:F.enDifficulte?"prof-row-danger":"",children:[c.jsx("td",{children:c.jsxs("div",{className:"prof-eleve-cell",children:[c.jsx("span",{className:"prof-eleve-name",children:F.displayName}),c.jsx("span",{className:"prof-eleve-email",children:F.email})]})}),c.jsx("td",{className:"prof-td-center",children:F.totalQuiz}),c.jsx("td",{className:"prof-td-center",children:c.jsx("span",{style:{color:ia(F.moyenne),fontWeight:600},children:F.totalQuiz>0?gr(F.moyenne):""})}),c.jsx("td",{className:"prof-td-center",children:F.totalQuiz>0?gr(F.tauxReussite):""}),c.jsxs("td",{className:"prof-td-center",children:[F.progression==="hausse"&&c.jsx(Xh,{size:18,color:"#10b981"}),F.progression==="baisse"&&c.jsx(Hw,{size:18,color:"#ef4444"}),F.progression==="stable"&&c.jsx($w,{size:18,color:"#6b7280"})]}),c.jsx("td",{className:"prof-td-center",children:F.dernierQuiz?F.dernierQuiz.toLocaleDateString("fr-FR"):""}),c.jsx("td",{className:"prof-td-center",children:c.jsxs("button",{className:"prof-btn prof-btn-sm",onClick:()=>y(F.userId),title:"Voir le dtail",children:[c.jsx(Yh,{size:14}),"Dtail"]})})]},F.userId))})]})})]})}function q(F){const J=M.find(_e=>_e.userId===F),fe=Tye(d,F),we=Cye(d,F);return J?c.jsxs("div",{className:"prof-detail-eleve",children:[c.jsxs("button",{className:"prof-btn prof-btn-outline prof-mb-lg",onClick:()=>y(null),children:[c.jsx(AO,{size:16}),"Retour  la liste"]}),c.jsxs("div",{className:"prof-detail-header",children:[c.jsx("div",{className:"prof-detail-avatar",children:J.displayName.charAt(0).toUpperCase()}),c.jsxs("div",{className:"prof-detail-info",children:[c.jsx("h2",{children:J.displayName}),c.jsx("p",{className:"prof-detail-email",children:J.email}),J.enDifficulte&&c.jsxs("span",{className:"prof-badge-danger",children:[c.jsx(oh,{size:14}),"En difficult"]})]})]}),c.jsxs("div",{className:"prof-stats-grid prof-stats-grid-4",children:[c.jsxs("div",{className:"prof-stat-card",children:[c.jsx("div",{className:"prof-stat-icon prof-stat-icon-blue",children:c.jsx(sh,{size:20})}),c.jsxs("div",{className:"prof-stat-info",children:[c.jsx("span",{className:"prof-stat-value",children:J.totalQuiz}),c.jsx("span",{className:"prof-stat-label",children:"Quiz passs"})]})]}),c.jsxs("div",{className:"prof-stat-card",children:[c.jsx("div",{className:"prof-stat-icon prof-stat-icon-purple",children:c.jsx(Ga,{size:20})}),c.jsxs("div",{className:"prof-stat-info",children:[c.jsx("span",{className:"prof-stat-value",style:{color:ia(J.moyenne)},children:gr(J.moyenne)}),c.jsx("span",{className:"prof-stat-label",children:"Moyenne"})]})]}),c.jsxs("div",{className:"prof-stat-card",children:[c.jsx("div",{className:"prof-stat-icon prof-stat-icon-green",children:c.jsx(ud,{size:20})}),c.jsxs("div",{className:"prof-stat-info",children:[c.jsx("span",{className:"prof-stat-value",children:gr(J.tauxReussite)}),c.jsx("span",{className:"prof-stat-label",children:"Russite"})]})]}),c.jsxs("div",{className:"prof-stat-card",children:[c.jsx("div",{className:"prof-stat-icon prof-stat-icon-orange",children:c.jsx(Pr,{size:20})}),c.jsxs("div",{className:"prof-stat-info",children:[c.jsx("span",{className:"prof-stat-value",children:J.disciplinesActives.length}),c.jsx("span",{className:"prof-stat-label",children:"Disciplines"})]})]})]}),we.length>0&&c.jsxs("div",{className:"prof-chart-card",children:[c.jsxs("h3",{className:"prof-chart-title",children:[c.jsx(Zo,{size:20}),"Performance par discipline"]}),c.jsx(bc,{width:"100%",height:250,children:c.jsxs(hg,{data:we,children:[c.jsx(Nc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),c.jsx(Tc,{dataKey:"discipline",tick:{fontSize:11,fill:"#6b7280"}}),c.jsx(Cc,{domain:[0,100],tickFormatter:_e=>`${_e}%`,tick:{fontSize:11,fill:"#6b7280"}}),c.jsx(_c,{formatter:_e=>[`${_e.toFixed(1)}%`,"Moyenne"],contentStyle:{borderRadius:8,border:"1px solid #e5e7eb"}}),c.jsx(xc,{dataKey:"moyenne",name:"Moyenne",radius:[4,4,0,0],children:we.map((_e,H)=>c.jsx(ul,{fill:ia(_e.moyenne)},H))})]})})]}),c.jsxs("div",{className:"prof-chart-card",children:[c.jsxs("h3",{className:"prof-chart-title",children:[c.jsx(sh,{size:20}),"Historique des quiz (",fe.length,")"]}),fe.length===0?c.jsx("p",{className:"prof-text-muted",children:"Aucun quiz pass."}):c.jsx("div",{className:"prof-table-wrapper",children:c.jsxs("table",{className:"prof-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Quiz"}),c.jsx("th",{children:"Discipline"}),c.jsx("th",{children:"Score"}),c.jsx("th",{children:"Rsultat"}),c.jsx("th",{children:"Temps"}),c.jsx("th",{children:"Date"})]})}),c.jsx("tbody",{children:fe.map(_e=>c.jsxs("tr",{children:[c.jsx("td",{children:_e.quizTitre}),c.jsx("td",{children:_e.disciplineNom}),c.jsxs("td",{children:[c.jsx("span",{style:{color:ia(_e.pourcentage),fontWeight:600},children:gr(_e.pourcentage)}),c.jsxs("span",{className:"prof-text-small",children:[" (",_e.bonnesReponses,"/",_e.nombreQuestions,")"]})]}),c.jsx("td",{children:c.jsx("span",{className:`prof-badge ${_e.reussi?"prof-badge-success":"prof-badge-fail"}`,children:_e.reussi?"Russi":"chou"})}),c.jsx("td",{children:UM(_e.tempsEcoule)}),c.jsx("td",{children:_e.datePassage.toLocaleDateString("fr-FR")})]},_e.id))})]})})]})]}):c.jsxs("div",{className:"prof-empty",children:[c.jsx("p",{children:"lve introuvable."}),c.jsxs("button",{className:"prof-btn prof-btn-outline",onClick:()=>y(null),children:[c.jsx(AO,{size:16})," Retour"]})]})}function pe(){return L.length===0?c.jsxs("div",{className:"prof-empty",children:[c.jsx(sh,{size:48,color:"#d1d5db"}),c.jsx("h3",{children:"Aucun quiz analys"}),c.jsx("p",{children:"Les analyses apparatront quand des lves auront pass des quiz."})]}):c.jsxs("div",{className:"prof-quiz-section",children:[c.jsx("div",{className:"prof-quiz-grid",children:L.map(F=>c.jsxs("div",{className:"prof-quiz-card",children:[c.jsxs("div",{className:"prof-quiz-header",children:[c.jsx("h3",{className:"prof-quiz-titre",children:F.quizTitre}),c.jsx("span",{className:"prof-quiz-discipline",children:F.disciplineNom})]}),c.jsxs("div",{className:"prof-quiz-stats",children:[c.jsxs("div",{className:"prof-quiz-stat",children:[c.jsx(nl,{size:16}),c.jsxs("span",{children:[F.totalPassages," passage",F.totalPassages>1?"s":""]})]}),c.jsxs("div",{className:"prof-quiz-stat",children:[c.jsx(Ga,{size:16}),c.jsxs("span",{style:{color:ia(F.moyenneScore)},children:["Moy: ",gr(F.moyenneScore)]})]}),c.jsxs("div",{className:"prof-quiz-stat",children:[c.jsx(ud,{size:16}),c.jsxs("span",{children:["Russite: ",gr(F.tauxReussite)]})]}),c.jsxs("div",{className:"prof-quiz-stat",children:[c.jsx(_l,{size:16}),c.jsxs("span",{children:["Temps moy: ",UM(F.tempsEcouleMoyen)]})]})]}),c.jsx("div",{className:"prof-progress-bar",children:c.jsx("div",{className:"prof-progress-fill",style:{width:`${Math.min(F.tauxReussite,100)}%`,backgroundColor:ia(F.tauxReussite)}})}),c.jsxs("div",{className:"prof-disc-range",children:[c.jsxs("span",{children:["Min: ",gr(F.pireNote)]}),c.jsxs("span",{children:["Max: ",gr(F.meilleureNote)]})]}),F.dernierPassage&&c.jsxs("p",{className:"prof-quiz-date",children:["Dernier passage : ",F.dernierPassage.toLocaleDateString("fr-FR")]})]},F.quizId))}),c.jsxs("div",{className:"prof-chart-card",children:[c.jsxs("h3",{className:"prof-chart-title",children:[c.jsx(Zo,{size:20}),"Comparaison des quiz"]}),c.jsx(bc,{width:"100%",height:300,children:c.jsxs(hg,{data:L.slice(0,10),layout:"vertical",children:[c.jsx(Nc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),c.jsx(Tc,{type:"number",domain:[0,100],tickFormatter:F=>`${F}%`,tick:{fontSize:11}}),c.jsx(Cc,{type:"category",dataKey:"quizTitre",width:150,tick:{fontSize:11,fill:"#6b7280"}}),c.jsx(_c,{formatter:F=>[`${F.toFixed(1)}%`],contentStyle:{borderRadius:8,border:"1px solid #e5e7eb"}}),c.jsx(gE,{}),c.jsx(xc,{dataKey:"moyenneScore",name:"Moyenne (%)",fill:"#3b82f6",radius:[0,4,4,0]}),c.jsx(xc,{dataKey:"tauxReussite",name:"Russite (%)",fill:"#10b981",radius:[0,4,4,0]})]})})]})]})}function Ee(){return D.length===0?c.jsxs("div",{className:"prof-empty prof-empty-success",children:[c.jsx(ud,{size:48,color:"#10b981"}),c.jsx("h3",{children:"Aucune alerte !"}),c.jsx("p",{children:"Tous les lves ont une moyenne suprieure  40%. Flicitations !"})]}):c.jsxs("div",{className:"prof-alertes",children:[c.jsxs("div",{className:"prof-alerte-banner",children:[c.jsx(oh,{size:20}),c.jsxs("span",{children:[c.jsxs("strong",{children:[D.length," lve",D.length>1?"s":""]})," en difficult (moyenne infrieure  40% sur au moins 2 quiz)"]})]}),c.jsx("div",{className:"prof-alertes-list",children:D.map(F=>c.jsxs("div",{className:"prof-alerte-card",children:[c.jsxs("div",{className:"prof-alerte-left",children:[c.jsx("div",{className:"prof-alerte-avatar",children:F.displayName.charAt(0).toUpperCase()}),c.jsxs("div",{className:"prof-alerte-info",children:[c.jsx("h4",{children:F.displayName}),c.jsx("p",{className:"prof-alerte-email",children:F.email})]})]}),c.jsxs("div",{className:"prof-alerte-stats",children:[c.jsxs("div",{className:"prof-alerte-stat",children:[c.jsx("span",{className:"prof-alerte-stat-label",children:"Moyenne"}),c.jsx("span",{className:"prof-alerte-stat-val",style:{color:"#ef4444"},children:gr(F.moyenne)})]}),c.jsxs("div",{className:"prof-alerte-stat",children:[c.jsx("span",{className:"prof-alerte-stat-label",children:"Quiz passs"}),c.jsx("span",{className:"prof-alerte-stat-val",children:F.totalQuiz})]})]}),c.jsxs("div",{className:"prof-alerte-disciplines",children:[c.jsx("span",{className:"prof-alerte-disc-label",children:"Disciplines en difficult :"}),c.jsx("div",{className:"prof-alerte-disc-tags",children:F.disciplinesFaibles.map(J=>c.jsx("span",{className:"prof-alerte-disc-tag",children:J},J))})]}),c.jsxs("button",{className:"prof-btn prof-btn-sm prof-btn-outline",onClick:()=>{y(F.userId),n("eleves")},children:[c.jsx(Yh,{size:14}),"Voir le dtail"]})]},F.userId))})]})}},Oye=()=>c.jsx($Q,{children:c.jsxs(rB,{children:[c.jsx(cr,{path:"/",element:c.jsx(dc,{children:c.jsx(AX,{})})}),c.jsx(cr,{path:"/disciplines",element:c.jsx(dc,{children:c.jsx(OX,{})})}),c.jsx(cr,{path:"/disciplines/:id",element:c.jsx(dc,{children:c.jsx(HX,{})})}),c.jsx(cr,{path:"/premium",element:c.jsx(dc,{children:c.jsx(WX,{})})}),c.jsx(cr,{path:"/connexion",element:c.jsx(SX,{})}),c.jsx(cr,{path:"/inscription",element:c.jsx(NX,{})}),c.jsx(cr,{path:"/admin",element:c.jsx(Yu,{children:c.jsx(Xu,{currentPage:"dashboard",children:c.jsx(YX,{})})})}),c.jsx(cr,{path:"/admin/disciplines",element:c.jsx(Yu,{children:c.jsx(Xu,{currentPage:"disciplines",children:c.jsx(ZX,{})})})}),c.jsx(cr,{path:"/admin/chapitres",element:c.jsx(Yu,{children:c.jsx(Xu,{currentPage:"chapitres",children:c.jsx(JX,{})})})}),c.jsx(cr,{path:"/admin/ressources",element:c.jsx(Yu,{children:c.jsx(Xu,{currentPage:"ressources",children:c.jsx(eZ,{})})})}),c.jsx(cr,{path:"/admin/quiz",element:c.jsx(Yu,{children:c.jsx(Xu,{currentPage:"quiz",children:c.jsx(sZ,{})})})}),c.jsx(cr,{path:"/admin/utilisateurs",element:c.jsx(Yu,{children:c.jsx(Xu,{currentPage:"utilisateurs",children:c.jsx(mZ,{})})})}),c.jsx(cr,{path:"/eleve/dashboard",element:c.jsx(dc,{children:c.jsx(bye,{})})}),c.jsx(cr,{path:"/quiz/:quizId",element:c.jsx(dc,{children:c.jsx(_Z,{})})}),c.jsx(cr,{path:"/prof/dashboard",element:c.jsx(FQ,{children:c.jsx(dc,{children:c.jsx(Pye,{})})})}),c.jsx(cr,{path:"*",element:c.jsx(tB,{to:"/",replace:!0})})]})}),EU=document.getElementById("root");if(!EU)throw new Error("L'lment #root n'existe pas");const Iye=u8.createRoot(EU);Iye.render(c.jsx(BM.StrictMode,{children:c.jsx(uB,{children:c.jsx(Oye,{})})}));
//# sourceMappingURL=index-DiSQiBF9.js.map
