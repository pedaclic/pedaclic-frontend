function a8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ns(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tx={exports:{}},nh={};var S2;function s8(){if(S2)return nh;S2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var c=null;if(s!==void 0&&(c=""+s),i.key!==void 0&&(c=""+i.key),"key"in i){s={};for(var d in i)d!=="key"&&(s[d]=i[d])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:c,ref:i!==void 0?i:null,props:s}}return nh.Fragment=e,nh.jsx=n,nh.jsxs=n,nh}var N2;function o8(){return N2||(N2=1,tx.exports=s8()),tx.exports}var l=o8(),nx={exports:{}},Ye={};var T2;function l8(){if(T2)return Ye;T2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function w(H){return H===null||typeof H!="object"?null:(H=y&&H[y]||H["@@iterator"],typeof H=="function"?H:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function T(H,ie,ve){this.props=H,this.context=ie,this.refs=A,this.updater=ve||j}T.prototype.isReactComponent={},T.prototype.setState=function(H,ie){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ie,"setState")},T.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function k(){}k.prototype=T.prototype;function I(H,ie,ve){this.props=H,this.context=ie,this.refs=A,this.updater=ve||j}var R=I.prototype=new k;R.constructor=I,E(R,T.prototype),R.isPureReactComponent=!0;var z=Array.isArray;function M(){}var O={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function D(H,ie,ve){var xe=ve.ref;return{$$typeof:t,type:H,key:ie,ref:xe!==void 0?xe:null,props:ve}}function B(H,ie){return D(H.type,ie,H.props)}function U(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function L(H){var ie={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ve){return ie[ve]})}var q=/\/+/g;function pe(H,ie){return typeof H=="object"&&H!==null&&H.key!=null?L(""+H.key):ie.toString(36)}function Ee(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(M,M):(H.status="pending",H.then(function(ie){H.status==="pending"&&(H.status="fulfilled",H.value=ie)},function(ie){H.status==="pending"&&(H.status="rejected",H.reason=ie)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function F(H,ie,ve,xe,Y){var W=typeof H;(W==="undefined"||W==="boolean")&&(H=null);var be=!1;if(H===null)be=!0;else switch(W){case"bigint":case"string":case"number":be=!0;break;case"object":switch(H.$$typeof){case t:case e:be=!0;break;case p:return be=H._init,F(be(H._payload),ie,ve,xe,Y)}}if(be)return Y=Y(H),be=xe===""?"."+pe(H,0):xe,z(Y)?(ve="",be!=null&&(ve=be.replace(q,"$&/")+"/"),F(Y,ie,ve,"",function(Se){return Se})):Y!=null&&(U(Y)&&(Y=B(Y,ve+(Y.key==null||H&&H.key===Y.key?"":(""+Y.key).replace(q,"$&/")+"/")+be)),ie.push(Y)),1;be=0;var Le=xe===""?".":xe+":";if(z(H))for(var se=0;se<H.length;se++)xe=H[se],W=Le+pe(xe,se),be+=F(xe,ie,ve,W,Y);else if(se=w(H),typeof se=="function")for(H=se.call(H),se=0;!(xe=H.next()).done;)xe=xe.value,W=Le+pe(xe,se++),be+=F(xe,ie,ve,W,Y);else if(W==="object"){if(typeof H.then=="function")return F(Ee(H),ie,ve,xe,Y);throw ie=String(H),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return be}function J(H,ie,ve){if(H==null)return H;var xe=[],Y=0;return F(H,xe,"","",function(W){return ie.call(ve,W,Y++)}),xe}function fe(H){if(H._status===-1){var ie=H._result;ie=ie(),ie.then(function(ve){(H._status===0||H._status===-1)&&(H._status=1,H._result=ve)},function(ve){(H._status===0||H._status===-1)&&(H._status=2,H._result=ve)}),H._status===-1&&(H._status=0,H._result=ie)}if(H._status===1)return H._result.default;throw H._result}var we=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},_e={map:J,forEach:function(H,ie,ve){J(H,function(){ie.apply(this,arguments)},ve)},count:function(H){var ie=0;return J(H,function(){ie++}),ie},toArray:function(H){return J(H,function(ie){return ie})||[]},only:function(H){if(!U(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Ye.Activity=g,Ye.Children=_e,Ye.Component=T,Ye.Fragment=n,Ye.Profiler=i,Ye.PureComponent=I,Ye.StrictMode=r,Ye.Suspense=f,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(H){return O.H.useMemoCache(H)}},Ye.cache=function(H){return function(){return H.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(H,ie,ve){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var xe=E({},H.props),Y=H.key;if(ie!=null)for(W in ie.key!==void 0&&(Y=""+ie.key),ie)!P.call(ie,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&ie.ref===void 0||(xe[W]=ie[W]);var W=arguments.length-2;if(W===1)xe.children=ve;else if(1<W){for(var be=Array(W),Le=0;Le<W;Le++)be[Le]=arguments[Le+2];xe.children=be}return D(H.type,Y,xe)},Ye.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},Ye.createElement=function(H,ie,ve){var xe,Y={},W=null;if(ie!=null)for(xe in ie.key!==void 0&&(W=""+ie.key),ie)P.call(ie,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(Y[xe]=ie[xe]);var be=arguments.length-2;if(be===1)Y.children=ve;else if(1<be){for(var Le=Array(be),se=0;se<be;se++)Le[se]=arguments[se+2];Y.children=Le}if(H&&H.defaultProps)for(xe in be=H.defaultProps,be)Y[xe]===void 0&&(Y[xe]=be[xe]);return D(H,W,Y)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(H){return{$$typeof:d,render:H}},Ye.isValidElement=U,Ye.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:fe}},Ye.memo=function(H,ie){return{$$typeof:h,type:H,compare:ie===void 0?null:ie}},Ye.startTransition=function(H){var ie=O.T,ve={};O.T=ve;try{var xe=H(),Y=O.S;Y!==null&&Y(ve,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(M,we)}catch(W){we(W)}finally{ie!==null&&ve.types!==null&&(ie.types=ve.types),O.T=ie}},Ye.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ye.use=function(H){return O.H.use(H)},Ye.useActionState=function(H,ie,ve){return O.H.useActionState(H,ie,ve)},Ye.useCallback=function(H,ie){return O.H.useCallback(H,ie)},Ye.useContext=function(H){return O.H.useContext(H)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(H,ie){return O.H.useDeferredValue(H,ie)},Ye.useEffect=function(H,ie){return O.H.useEffect(H,ie)},Ye.useEffectEvent=function(H){return O.H.useEffectEvent(H)},Ye.useId=function(){return O.H.useId()},Ye.useImperativeHandle=function(H,ie,ve){return O.H.useImperativeHandle(H,ie,ve)},Ye.useInsertionEffect=function(H,ie){return O.H.useInsertionEffect(H,ie)},Ye.useLayoutEffect=function(H,ie){return O.H.useLayoutEffect(H,ie)},Ye.useMemo=function(H,ie){return O.H.useMemo(H,ie)},Ye.useOptimistic=function(H,ie){return O.H.useOptimistic(H,ie)},Ye.useReducer=function(H,ie,ve){return O.H.useReducer(H,ie,ve)},Ye.useRef=function(H){return O.H.useRef(H)},Ye.useState=function(H){return O.H.useState(H)},Ye.useSyncExternalStore=function(H,ie,ve){return O.H.useSyncExternalStore(H,ie,ve)},Ye.useTransition=function(){return O.H.useTransition()},Ye.version="19.2.4",Ye}var C2;function Md(){return C2||(C2=1,nx.exports=l8()),nx.exports}var _=Md();const GM=ns(_),WM=a8({__proto__:null,default:GM},[_]);var rx={exports:{}},rh={},ix={exports:{}},ax={};var P2;function c8(){return P2||(P2=1,(function(t){function e(F,J){var fe=F.length;F.push(J);e:for(;0<fe;){var we=fe-1>>>1,_e=F[we];if(0<i(_e,J))F[we]=J,F[fe]=_e,fe=we;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var J=F[0],fe=F.pop();if(fe!==J){F[0]=fe;e:for(var we=0,_e=F.length,H=_e>>>1;we<H;){var ie=2*(we+1)-1,ve=F[ie],xe=ie+1,Y=F[xe];if(0>i(ve,fe))xe<_e&&0>i(Y,ve)?(F[we]=Y,F[xe]=fe,we=xe):(F[we]=ve,F[ie]=fe,we=ie);else if(xe<_e&&0>i(Y,fe))F[we]=Y,F[xe]=fe,we=xe;else break e}}return J}function i(F,J){var fe=F.sortIndex-J.sortIndex;return fe!==0?fe:F.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],h=[],p=1,g=null,y=3,w=!1,j=!1,E=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function R(F){for(var J=n(h);J!==null;){if(J.callback===null)r(h);else if(J.startTime<=F)r(h),J.sortIndex=J.expirationTime,e(f,J);else break;J=n(h)}}function z(F){if(E=!1,R(F),!j)if(n(f)!==null)j=!0,M||(M=!0,L());else{var J=n(h);J!==null&&Ee(z,J.startTime-F)}}var M=!1,O=-1,P=5,D=-1;function B(){return A?!0:!(t.unstable_now()-D<P)}function U(){if(A=!1,M){var F=t.unstable_now();D=F;var J=!0;try{e:{j=!1,E&&(E=!1,k(O),O=-1),w=!0;var fe=y;try{t:{for(R(F),g=n(f);g!==null&&!(g.expirationTime>F&&B());){var we=g.callback;if(typeof we=="function"){g.callback=null,y=g.priorityLevel;var _e=we(g.expirationTime<=F);if(F=t.unstable_now(),typeof _e=="function"){g.callback=_e,R(F),J=!0;break t}g===n(f)&&r(f),R(F)}else r(f);g=n(f)}if(g!==null)J=!0;else{var H=n(h);H!==null&&Ee(z,H.startTime-F),J=!1}}break e}finally{g=null,y=fe,w=!1}J=void 0}}finally{J?L():M=!1}}}var L;if(typeof I=="function")L=function(){I(U)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,pe=q.port2;q.port1.onmessage=U,L=function(){pe.postMessage(null)}}else L=function(){T(U,0)};function Ee(F,J){O=T(function(){F(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(F){switch(y){case 1:case 2:case 3:var J=3;break;default:J=y}var fe=y;y=J;try{return F()}finally{y=fe}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(F,J){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var fe=y;y=F;try{return J()}finally{y=fe}},t.unstable_scheduleCallback=function(F,J,fe){var we=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?we+fe:we):fe=we,F){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=fe+_e,F={id:p++,callback:J,priorityLevel:F,startTime:fe,expirationTime:_e,sortIndex:-1},fe>we?(F.sortIndex=fe,e(h,F),n(f)===null&&F===n(h)&&(E?(k(O),O=-1):E=!0,Ee(z,fe-we))):(F.sortIndex=_e,e(f,F),j||w||(j=!0,M||(M=!0,L()))),F},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(F){var J=y;return function(){var fe=y;y=J;try{return F.apply(this,arguments)}finally{y=fe}}}})(ax)),ax}var O2;function u8(){return O2||(O2=1,ix.exports=c8()),ix.exports}var sx={exports:{}},gr={};var I2;function d8(){if(I2)return gr;I2=1;var t=Md();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return gr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},gr.flushSync=function(f){var h=c.T,p=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=h,r.p=p,r.d.f()}},gr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},gr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},gr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:w}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},gr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},gr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},gr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},gr.requestFormReset=function(f){r.d.r(f)},gr.unstable_batchedUpdates=function(f,h){return f(h)},gr.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},gr.useFormStatus=function(){return c.H.useHostTransitionStatus()},gr.version="19.2.4",gr}var R2;function QM(){if(R2)return sx.exports;R2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sx.exports=d8(),sx.exports}var k2;function f8(){if(k2)return rh;k2=1;var t=u8(),e=Md(),n=QM();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function c(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,m=o;;){var b=u.return;if(b===null)break;var x=b.alternate;if(x===null){if(m=b.return,m!==null){u=m;continue}break}if(b.child===x.child){for(x=b.child;x;){if(x===u)return f(b),a;if(x===m)return f(b),o;x=x.sibling}throw Error(r(188))}if(u.return!==m.return)u=b,m=x;else{for(var N=!1,V=b.child;V;){if(V===u){N=!0,u=b,m=x;break}if(V===m){N=!0,m=b,u=x;break}V=V.sibling}if(!N){for(V=x.child;V;){if(V===u){N=!0,u=x,m=b;break}if(V===m){N=!0,m=x,u=b;break}V=V.sibling}if(!N)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),I=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function L(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var q=Symbol.for("react.client.reference");function pe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===q?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case z:return"Suspense";case M:return"SuspenseList";case D:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case j:return"Portal";case I:return a.displayName||"Context";case k:return(a._context.displayName||"Context")+".Consumer";case R:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return o=a.displayName||null,o!==null?o:pe(a.type)||"Memo";case P:o=a._payload,a=a._init;try{return pe(a(o))}catch{}}return null}var Ee=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},we=[],_e=-1;function H(a){return{current:a}}function ie(a){0>_e||(a.current=we[_e],we[_e]=null,_e--)}function ve(a,o){_e++,we[_e]=a.current,a.current=o}var xe=H(null),Y=H(null),W=H(null),be=H(null);function Le(a,o){switch(ve(W,o),ve(Y,a),ve(xe,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?QC(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=QC(o),a=YC(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ie(xe),ve(xe,a)}function se(){ie(xe),ie(Y),ie(W)}function Se(a){a.memoizedState!==null&&ve(be,a);var o=xe.current,u=YC(o,a.type);o!==u&&(ve(Y,a),ve(xe,u))}function Q(a){Y.current===a&&(ie(xe),ie(Y)),be.current===a&&(ie(be),Zf._currentValue=fe)}var me,De;function Be(a){if(me===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);me=o&&o[1]||"",De=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+a+De}var at=!1;function dt(a,o){if(!a||at)return"";at=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(le){var ae=le}Reflect.construct(a,[],ge)}else{try{ge.call()}catch(le){ae=le}a.call(ge.prototype)}}else{try{throw Error()}catch(le){ae=le}(ge=a())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(le){if(le&&ae&&typeof le.stack=="string")return[le.stack,ae.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),N=x[0],V=x[1];if(N&&V){var K=N.split(`
`),re=V.split(`
`);for(b=m=0;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;for(;b<re.length&&!re[b].includes("DetermineComponentFrameRoot");)b++;if(m===K.length||b===re.length)for(m=K.length-1,b=re.length-1;1<=m&&0<=b&&K[m]!==re[b];)b--;for(;1<=m&&0<=b;m--,b--)if(K[m]!==re[b]){if(m!==1||b!==1)do if(m--,b--,0>b||K[m]!==re[b]){var ue=`
`+K[m].replace(" at new "," at ");return a.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",a.displayName)),ue}while(1<=m&&0<=b);break}}}finally{at=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Be(u):""}function gt(a,o){switch(a.tag){case 26:case 27:case 5:return Be(a.type);case 16:return Be("Lazy");case 13:return a.child!==o&&o!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return dt(a.type,!1);case 11:return dt(a.type.render,!1);case 1:return dt(a.type,!0);case 31:return Be("Activity");default:return""}}function mr(a){try{var o="",u=null;do o+=gt(a,u),u=a,a=a.return;while(a);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Ot=Object.prototype.hasOwnProperty,It=t.unstable_scheduleCallback,Mr=t.unstable_cancelCallback,ce=t.unstable_shouldYield,Ie=t.unstable_requestPaint,Ue=t.unstable_now,Ke=t.unstable_getCurrentPriorityLevel,Lt=t.unstable_ImmediatePriority,zn=t.unstable_UserBlockingPriority,zr=t.unstable_NormalPriority,co=t.unstable_LowPriority,Lr=t.unstable_IdlePriority,Gi=t.log,lu=t.unstable_setDisableYieldValue,rn=null,St=null;function Vr(a){if(typeof Gi=="function"&&lu(a),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(rn,a)}catch{}}var en=Math.clz32?Math.clz32:cu,Ll=Math.log,uo=Math.LN2;function cu(a){return a>>>=0,a===0?32:31-(Ll(a)/uo|0)|0}var Ei=256,ss=262144,an=4194304;function ji(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function pr(a,o,u){var m=a.pendingLanes;if(m===0)return 0;var b=0,x=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var V=m&134217727;return V!==0?(m=V&~x,m!==0?b=ji(m):(N&=V,N!==0?b=ji(N):u||(u=V&~a,u!==0&&(b=ji(u))))):(V=m&~x,V!==0?b=ji(V):N!==0?b=ji(N):u||(u=m&~a,u!==0&&(b=ji(u)))),b===0?0:o!==0&&o!==b&&(o&x)===0&&(x=b&-b,u=o&-o,x>=u||x===32&&(u&4194048)!==0)?o:b}function ti(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Z(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ve(){var a=an;return an<<=1,(an&62914560)===0&&(an=4194304),a}function mt(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Fn(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Vl(a,o,u,m,b,x){var N=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var V=a.entanglements,K=a.expirationTimes,re=a.hiddenUpdates;for(u=N&~u;0<u;){var ue=31-en(u),ge=1<<ue;V[ue]=0,K[ue]=-1;var ae=re[ue];if(ae!==null)for(re[ue]=null,ue=0;ue<ae.length;ue++){var le=ae[ue];le!==null&&(le.lane&=-536870913)}u&=~ge}m!==0&&Ur(a,m,0),x!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=x&~(N&~o))}function Ur(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-en(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|u&261930}function Ul(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var m=31-en(u),b=1<<m;b&o|a[m]&o&&(a[m]|=o),u&=~b}}function rf(a,o){var u=o&-o;return u=(u&42)!==0?1:ql(u),(u&(a.suspendedLanes|o))!==0?0:u}function ql(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function os(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ep(){var a=J.p;return a!==0?a:(a=window.event,a===void 0?32:b2(a.type))}function Wi(a,o){var u=J.p;try{return J.p=a,o()}finally{J.p=u}}var Qi=Math.random().toString(36).slice(2),jn="__reactFiber$"+Qi,Hn="__reactProps$"+Qi,ya="__reactContainer$"+Qi,uu="__reactEvents$"+Qi,ob="__reactListeners$"+Qi,tp="__reactHandles$"+Qi,np="__reactResources$"+Qi,ba="__reactMarker$"+Qi;function du(a){delete a[jn],delete a[Hn],delete a[uu],delete a[ob],delete a[tp]}function _a(a){var o=a[jn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[ya]||u[jn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=r2(a);a!==null;){if(u=a[jn])return u;a=r2(a)}return o}a=u,u=a.parentNode}return null}function Ai(a){if(a=a[jn]||a[ya]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function ni(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function xa(a){var o=a[np];return o||(o=a[np]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function An(a){a[ba]=!0}var af=new Set,sf={};function wa(a,o){Ea(a,o),Ea(a+"Capture",o)}function Ea(a,o){for(sf[a]=o,a=0;a<o.length;a++)af.add(o[a])}var of=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lf={},cf={};function rp(a){return Ot.call(cf,a)?!0:Ot.call(lf,a)?!1:of.test(a)?cf[a]=!0:(lf[a]=!0,!1)}function fu(a,o,u){if(rp(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function ri(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function Sn(a,o,u,m){if(m===null)a.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+m)}}function Kn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function fo(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function uf(a,o,u){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var b=m.get,x=m.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return b.call(this)},set:function(N){u=""+N,x.call(this,N)}}),Object.defineProperty(a,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Nt(a){if(!a._valueTracker){var o=fo(a)?"checked":"value";a._valueTracker=uf(a,o,""+a[o])}}function Bl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return a&&(m=fo(a)?a.checked?"true":"false":a.value),a=m,a!==u?(o.setValue(a),!0):!1}function ja(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var $l=/[\n"\\]/g;function qr(a){return a.replace($l,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function hu(a,o,u,m,b,x,N,V){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),o!=null?N==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Kn(o)):a.value!==""+Kn(o)&&(a.value=""+Kn(o)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),o!=null?df(a,N,Kn(o)):u!=null?df(a,N,Kn(u)):m!=null&&a.removeAttribute("value"),b==null&&x!=null&&(a.defaultChecked=!!x),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?a.name=""+Kn(V):a.removeAttribute("name")}function ip(a,o,u,m,b,x,N,V){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),o!=null||u!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){Nt(a);return}u=u!=null?""+Kn(u):"",o=o!=null?""+Kn(o):u,V||o===a.value||(a.value=o),a.defaultValue=o}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=V?a.checked:!!m,a.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N),Nt(a)}function df(a,o,u){o==="number"&&ja(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function ho(a,o,u,m){if(a=a.options,o){o={};for(var b=0;b<u.length;b++)o["$"+u[b]]=!0;for(u=0;u<a.length;u++)b=o.hasOwnProperty("$"+a[u].value),a[u].selected!==b&&(a[u].selected=b),b&&m&&(a[u].defaultSelected=!0)}else{for(u=""+Kn(u),o=null,b=0;b<a.length;b++){if(a[b].value===u){a[b].selected=!0,m&&(a[b].defaultSelected=!0);return}o!==null||a[b].disabled||(o=a[b])}o!==null&&(o.selected=!0)}}function ap(a,o,u){if(o!=null&&(o=""+Kn(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+Kn(u):""}function mo(a,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(r(92));if(Ee(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=Kn(o),a.defaultValue=u,m=a.textContent,m===u&&m!==""&&m!==null&&(a.value=m),Nt(a)}function Br(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var sp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ff(a,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,u):typeof u!="number"||u===0||sp.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function hf(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var b in o)m=o[b],o.hasOwnProperty(b)&&u[b]!==m&&ff(a,b,m)}else for(var x in o)o.hasOwnProperty(x)&&ff(a,x,o[x])}function mu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var op=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),po=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pu(a){return po.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Yi(){}var mf=null;function Si(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var go=null,Aa=null;function Fl(a){var o=Ai(a);if(o&&(a=o.stateNode)){var u=a[Hn]||null;e:switch(a=o.stateNode,o.type){case"input":if(hu(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+qr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==a&&m.form===a.form){var b=m[Hn]||null;if(!b)throw Error(r(90));hu(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===a.form&&Bl(m)}break e;case"textarea":ap(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&ho(a,!!u.multiple,o,!1)}}}var gu=!1;function vo(a,o,u){if(gu)return a(o,u);gu=!0;try{var m=a(o);return m}finally{if(gu=!1,(go!==null||Aa!==null)&&(eg(),go&&(o=go,a=Aa,Aa=go=null,Fl(o),a)))for(o=0;o<a.length;o++)Fl(a[o])}}function Xi(a,o){var u=a.stateNode;if(u===null)return null;var m=u[Hn]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hl=!1;if(Ni)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){Hl=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{Hl=!1}var Sa=null,pf=null,Kl=null;function gf(){if(Kl)return Kl;var a,o=pf,u=o.length,m,b="value"in Sa?Sa.value:Sa.textContent,x=b.length;for(a=0;a<u&&o[a]===b[a];a++);var N=u-a;for(m=1;m<=N&&o[u-m]===b[x-m];m++);return Kl=b.slice(a,1<m?1-m:void 0)}function Gl(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function ls(){return!0}function Zi(){return!1}function ar(a){function o(u,m,b,x,N){this._reactName=u,this._targetInst=b,this.type=m,this.nativeEvent=x,this.target=N,this.currentTarget=null;for(var V in a)a.hasOwnProperty(V)&&(u=a[V],this[V]=u?u(x):x[V]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ls:Zi,this.isPropagationStopped=Zi,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),o}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=ar(cs),yo=g({},cs,{view:0,detail:0}),vf=ar(yo),bo,vu,Ta,yu=g({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_o,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ta&&(Ta&&a.type==="mousemove"?(bo=a.screenX-Ta.screenX,vu=a.screenY-Ta.screenY):vu=bo=0,Ta=a),bo)},movementY:function(a){return"movementY"in a?a.movementY:vu}}),yf=ar(yu),Wl=g({},yu,{dataTransfer:0}),lp=ar(Wl),cp=g({},yo,{relatedTarget:0}),Ql=ar(cp),bf=g({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),up=ar(bf),bu=g({},cs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),dp=ar(bu),fp=g({},cs,{data:0}),Ca=ar(fp),hp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gp(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=pp[a])?!!o[a]:!1}function _o(){return gp}var Sr=g({},yo,{key:function(a){if(a.key){var o=hp[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Gl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?mp[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_o,charCode:function(a){return a.type==="keypress"?Gl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Gl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),vp=ar(Sr),yp=g({},yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),us=ar(yp),v=g({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_o}),S=ar(v),C=g({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),$=ar(C),te=g({},yu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),oe=ar(te),je=g({},cs,{newState:0,oldState:0}),Ze=ar(je),vn=[9,13,27,32],xt=Ni&&"CompositionEvent"in window,Qt=null;Ni&&"documentMode"in document&&(Qt=document.documentMode);var Ti=Ni&&"TextEvent"in window&&!Qt,Pa=Ni&&(!xt||Qt&&8<Qt&&11>=Qt),Ji=" ",ea=!1;function Yl(a,o){switch(a){case"keyup":return vn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _u(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var xu=!1;function C9(a,o){switch(a){case"compositionend":return _u(o);case"keypress":return o.which!==32?null:(ea=!0,Ji);case"textInput":return a=o.data,a===Ji&&ea?null:a;default:return null}}function P9(a,o){if(xu)return a==="compositionend"||!xt&&Yl(a,o)?(a=gf(),Kl=pf=Sa=null,xu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Pa&&o.locale!=="ko"?null:o.data;default:return null}}var O9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sN(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!O9[a.type]:o==="textarea"}function oN(a,o,u,m){go?Aa?Aa.push(m):Aa=[m]:go=m,o=og(o,"onChange"),0<o.length&&(u=new Na("onChange","change",null,u,m),a.push({event:u,listeners:o}))}var _f=null,xf=null;function I9(a){$C(a,0)}function bp(a){var o=ni(a);if(Bl(o))return a}function lN(a,o){if(a==="change")return o}var cN=!1;if(Ni){var lb;if(Ni){var cb="oninput"in document;if(!cb){var uN=document.createElement("div");uN.setAttribute("oninput","return;"),cb=typeof uN.oninput=="function"}lb=cb}else lb=!1;cN=lb&&(!document.documentMode||9<document.documentMode)}function dN(){_f&&(_f.detachEvent("onpropertychange",fN),xf=_f=null)}function fN(a){if(a.propertyName==="value"&&bp(xf)){var o=[];oN(o,xf,a,Si(a)),vo(I9,o)}}function R9(a,o,u){a==="focusin"?(dN(),_f=o,xf=u,_f.attachEvent("onpropertychange",fN)):a==="focusout"&&dN()}function k9(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return bp(xf)}function D9(a,o){if(a==="click")return bp(o)}function M9(a,o){if(a==="input"||a==="change")return bp(o)}function z9(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var ii=typeof Object.is=="function"?Object.is:z9;function wf(a,o){if(ii(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var b=u[m];if(!Ot.call(o,b)||!ii(a[b],o[b]))return!1}return!0}function hN(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function mN(a,o){var u=hN(a);a=0;for(var m;u;){if(u.nodeType===3){if(m=a+u.textContent.length,a<=o&&m>=o)return{node:u,offset:o-a};a=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=hN(u)}}function pN(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?pN(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function gN(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=ja(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=ja(a.document)}return o}function ub(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var L9=Ni&&"documentMode"in document&&11>=document.documentMode,wu=null,db=null,Ef=null,fb=!1;function vN(a,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;fb||wu==null||wu!==ja(m)||(m=wu,"selectionStart"in m&&ub(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ef&&wf(Ef,m)||(Ef=m,m=og(db,"onSelect"),0<m.length&&(o=new Na("onSelect","select",null,o,u),a.push({event:o,listeners:m}),o.target=wu)))}function Xl(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var Eu={animationend:Xl("Animation","AnimationEnd"),animationiteration:Xl("Animation","AnimationIteration"),animationstart:Xl("Animation","AnimationStart"),transitionrun:Xl("Transition","TransitionRun"),transitionstart:Xl("Transition","TransitionStart"),transitioncancel:Xl("Transition","TransitionCancel"),transitionend:Xl("Transition","TransitionEnd")},hb={},yN={};Ni&&(yN=document.createElement("div").style,"AnimationEvent"in window||(delete Eu.animationend.animation,delete Eu.animationiteration.animation,delete Eu.animationstart.animation),"TransitionEvent"in window||delete Eu.transitionend.transition);function Zl(a){if(hb[a])return hb[a];if(!Eu[a])return a;var o=Eu[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in yN)return hb[a]=o[u];return a}var bN=Zl("animationend"),_N=Zl("animationiteration"),xN=Zl("animationstart"),V9=Zl("transitionrun"),U9=Zl("transitionstart"),q9=Zl("transitioncancel"),wN=Zl("transitionend"),EN=new Map,mb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mb.push("scrollEnd");function ta(a,o){EN.set(a,o),wa(o,[a])}var _p=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Ci=[],ju=0,pb=0;function xp(){for(var a=ju,o=pb=ju=0;o<a;){var u=Ci[o];Ci[o++]=null;var m=Ci[o];Ci[o++]=null;var b=Ci[o];Ci[o++]=null;var x=Ci[o];if(Ci[o++]=null,m!==null&&b!==null){var N=m.pending;N===null?b.next=b:(b.next=N.next,N.next=b),m.pending=b}x!==0&&jN(u,b,x)}}function wp(a,o,u,m){Ci[ju++]=a,Ci[ju++]=o,Ci[ju++]=u,Ci[ju++]=m,pb|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function gb(a,o,u,m){return wp(a,o,u,m),Ep(a)}function Jl(a,o){return wp(a,null,null,o),Ep(a)}function jN(a,o,u){a.lanes|=u;var m=a.alternate;m!==null&&(m.lanes|=u);for(var b=!1,x=a.return;x!==null;)x.childLanes|=u,m=x.alternate,m!==null&&(m.childLanes|=u),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(b=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,b&&o!==null&&(b=31-en(u),a=x.hiddenUpdates,m=a[b],m===null?a[b]=[o]:m.push(o),o.lane=u|536870912),x):null}function Ep(a){if(50<Hf)throw Hf=0,A_=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Au={};function B9(a,o,u,m){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(a,o,u,m){return new B9(a,o,u,m)}function vb(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ds(a,o){var u=a.alternate;return u===null?(u=ai(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function AN(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function jp(a,o,u,m,b,x){var N=0;if(m=a,typeof a=="function")vb(a)&&(N=1);else if(typeof a=="string")N=Gq(a,u,xe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case D:return a=ai(31,u,o,b),a.elementType=D,a.lanes=x,a;case E:return ec(u.children,b,x,o);case A:N=8,b|=24;break;case T:return a=ai(12,u,o,b|2),a.elementType=T,a.lanes=x,a;case z:return a=ai(13,u,o,b),a.elementType=z,a.lanes=x,a;case M:return a=ai(19,u,o,b),a.elementType=M,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case I:N=10;break e;case k:N=9;break e;case R:N=11;break e;case O:N=14;break e;case P:N=16,m=null;break e}N=29,u=Error(r(130,a===null?"null":typeof a,"")),m=null}return o=ai(N,u,o,b),o.elementType=a,o.type=m,o.lanes=x,o}function ec(a,o,u,m){return a=ai(7,a,m,o),a.lanes=u,a}function yb(a,o,u){return a=ai(6,a,null,o),a.lanes=u,a}function SN(a){var o=ai(18,null,null,0);return o.stateNode=a,o}function bb(a,o,u){return o=ai(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var NN=new WeakMap;function Pi(a,o){if(typeof a=="object"&&a!==null){var u=NN.get(a);return u!==void 0?u:(o={value:a,source:o,stack:mr(o)},NN.set(a,o),o)}return{value:a,source:o,stack:mr(o)}}var Su=[],Nu=0,Ap=null,jf=0,Oi=[],Ii=0,xo=null,Oa=1,Ia="";function fs(a,o){Su[Nu++]=jf,Su[Nu++]=Ap,Ap=a,jf=o}function TN(a,o,u){Oi[Ii++]=Oa,Oi[Ii++]=Ia,Oi[Ii++]=xo,xo=a;var m=Oa;a=Ia;var b=32-en(m)-1;m&=~(1<<b),u+=1;var x=32-en(o)+b;if(30<x){var N=b-b%5;x=(m&(1<<N)-1).toString(32),m>>=N,b-=N,Oa=1<<32-en(o)+b|u<<b|m,Ia=x+a}else Oa=1<<x|u<<b|m,Ia=a}function _b(a){a.return!==null&&(fs(a,1),TN(a,1,0))}function xb(a){for(;a===Ap;)Ap=Su[--Nu],Su[Nu]=null,jf=Su[--Nu],Su[Nu]=null;for(;a===xo;)xo=Oi[--Ii],Oi[Ii]=null,Ia=Oi[--Ii],Oi[Ii]=null,Oa=Oi[--Ii],Oi[Ii]=null}function CN(a,o){Oi[Ii++]=Oa,Oi[Ii++]=Ia,Oi[Ii++]=xo,Oa=o.id,Ia=o.overflow,xo=a}var sr=null,Kt=null,ft=!1,wo=null,Ri=!1,wb=Error(r(519));function Eo(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Af(Pi(o,a)),wb}function PN(a){var o=a.stateNode,u=a.type,m=a.memoizedProps;switch(o[jn]=a,o[Hn]=m,u){case"dialog":rt("cancel",o),rt("close",o);break;case"iframe":case"object":case"embed":rt("load",o);break;case"video":case"audio":for(u=0;u<Gf.length;u++)rt(Gf[u],o);break;case"source":rt("error",o);break;case"img":case"image":case"link":rt("error",o),rt("load",o);break;case"details":rt("toggle",o);break;case"input":rt("invalid",o),ip(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":rt("invalid",o);break;case"textarea":rt("invalid",o),mo(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||GC(o.textContent,u)?(m.popover!=null&&(rt("beforetoggle",o),rt("toggle",o)),m.onScroll!=null&&rt("scroll",o),m.onScrollEnd!=null&&rt("scrollend",o),m.onClick!=null&&(o.onclick=Yi),o=!0):o=!1,o||Eo(a,!0)}function ON(a){for(sr=a.return;sr;)switch(sr.tag){case 5:case 31:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:sr=sr.return}}function Tu(a){if(a!==sr)return!1;if(!ft)return ON(a),ft=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||U_(a.type,a.memoizedProps)),u=!u),u&&Kt&&Eo(a),ON(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Kt=n2(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Kt=n2(a)}else o===27?(o=Kt,zo(a.type)?(a=H_,H_=null,Kt=a):Kt=o):Kt=sr?Di(a.stateNode.nextSibling):null;return!0}function tc(){Kt=sr=null,ft=!1}function Eb(){var a=wo;return a!==null&&(Kr===null?Kr=a:Kr.push.apply(Kr,a),wo=null),a}function Af(a){wo===null?wo=[a]:wo.push(a)}var jb=H(null),nc=null,hs=null;function jo(a,o,u){ve(jb,o._currentValue),o._currentValue=u}function ms(a){a._currentValue=jb.current,ie(jb)}function Ab(a,o,u){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===u)break;a=a.return}}function Sb(a,o,u,m){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var x=b.dependencies;if(x!==null){var N=b.child;x=x.firstContext;e:for(;x!==null;){var V=x;x=b;for(var K=0;K<o.length;K++)if(V.context===o[K]){x.lanes|=u,V=x.alternate,V!==null&&(V.lanes|=u),Ab(x.return,u,a),m||(N=null);break e}x=V.next}}else if(b.tag===18){if(N=b.return,N===null)throw Error(r(341));N.lanes|=u,x=N.alternate,x!==null&&(x.lanes|=u),Ab(N,u,a),N=null}else N=b.child;if(N!==null)N.return=b;else for(N=b;N!==null;){if(N===a){N=null;break}if(b=N.sibling,b!==null){b.return=N.return,N=b;break}N=N.return}b=N}}function Cu(a,o,u,m){a=null;for(var b=o,x=!1;b!==null;){if(!x){if((b.flags&524288)!==0)x=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var N=b.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var V=b.type;ii(b.pendingProps.value,N.value)||(a!==null?a.push(V):a=[V])}}else if(b===be.current){if(N=b.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(Zf):a=[Zf])}b=b.return}a!==null&&Sb(o,a,u,m),o.flags|=262144}function Sp(a){for(a=a.firstContext;a!==null;){if(!ii(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function rc(a){nc=a,hs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function or(a){return IN(nc,a)}function Np(a,o){return nc===null&&rc(a),IN(a,o)}function IN(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},hs===null){if(a===null)throw Error(r(308));hs=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else hs=hs.next=o;return u}var $9=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},F9=t.unstable_scheduleCallback,H9=t.unstable_NormalPriority,Nn={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nb(){return{controller:new $9,data:new Map,refCount:0}}function Sf(a){a.refCount--,a.refCount===0&&F9(H9,function(){a.controller.abort()})}var Nf=null,Tb=0,Pu=0,Ou=null;function K9(a,o){if(Nf===null){var u=Nf=[];Tb=0,Pu=O_(),Ou={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Tb++,o.then(RN,RN),o}function RN(){if(--Tb===0&&Nf!==null){Ou!==null&&(Ou.status="fulfilled");var a=Nf;Nf=null,Pu=0,Ou=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function G9(a,o){var u=[],m={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var b=0;b<u.length;b++)(0,u[b])(o)},function(b){for(m.status="rejected",m.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),m}var kN=F.S;F.S=function(a,o){vC=Ue(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&K9(a,o),kN!==null&&kN(a,o)};var ic=H(null);function Cb(){var a=ic.current;return a!==null?a:Vt.pooledCache}function Tp(a,o){o===null?ve(ic,ic.current):ve(ic,o.pool)}function DN(){var a=Cb();return a===null?null:{parent:Nn._currentValue,pool:a}}var Iu=Error(r(460)),Pb=Error(r(474)),Cp=Error(r(542)),Pp={then:function(){}};function MN(a){return a=a.status,a==="fulfilled"||a==="rejected"}function zN(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Yi,Yi),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,VN(a),a;default:if(typeof o.status=="string")o.then(Yi,Yi);else{if(a=Vt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=m}},function(m){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,VN(a),a}throw sc=o,Iu}}function ac(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(sc=u,Iu):u}}var sc=null;function LN(){if(sc===null)throw Error(r(459));var a=sc;return sc=null,a}function VN(a){if(a===Iu||a===Cp)throw Error(r(483))}var Ru=null,Tf=0;function Op(a){var o=Tf;return Tf+=1,Ru===null&&(Ru=[]),zN(Ru,a,o)}function Cf(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Ip(a,o){throw o.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function UN(a){function o(X,G){if(a){var ne=X.deletions;ne===null?(X.deletions=[G],X.flags|=16):ne.push(G)}}function u(X,G){if(!a)return null;for(;G!==null;)o(X,G),G=G.sibling;return null}function m(X){for(var G=new Map;X!==null;)X.key!==null?G.set(X.key,X):G.set(X.index,X),X=X.sibling;return G}function b(X,G){return X=ds(X,G),X.index=0,X.sibling=null,X}function x(X,G,ne){return X.index=ne,a?(ne=X.alternate,ne!==null?(ne=ne.index,ne<G?(X.flags|=67108866,G):ne):(X.flags|=67108866,G)):(X.flags|=1048576,G)}function N(X){return a&&X.alternate===null&&(X.flags|=67108866),X}function V(X,G,ne,he){return G===null||G.tag!==6?(G=yb(ne,X.mode,he),G.return=X,G):(G=b(G,ne),G.return=X,G)}function K(X,G,ne,he){var ze=ne.type;return ze===E?ue(X,G,ne.props.children,he,ne.key):G!==null&&(G.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===P&&ac(ze)===G.type)?(G=b(G,ne.props),Cf(G,ne),G.return=X,G):(G=jp(ne.type,ne.key,ne.props,null,X.mode,he),Cf(G,ne),G.return=X,G)}function re(X,G,ne,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==ne.containerInfo||G.stateNode.implementation!==ne.implementation?(G=bb(ne,X.mode,he),G.return=X,G):(G=b(G,ne.children||[]),G.return=X,G)}function ue(X,G,ne,he,ze){return G===null||G.tag!==7?(G=ec(ne,X.mode,he,ze),G.return=X,G):(G=b(G,ne),G.return=X,G)}function ge(X,G,ne){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=yb(""+G,X.mode,ne),G.return=X,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return ne=jp(G.type,G.key,G.props,null,X.mode,ne),Cf(ne,G),ne.return=X,ne;case j:return G=bb(G,X.mode,ne),G.return=X,G;case P:return G=ac(G),ge(X,G,ne)}if(Ee(G)||L(G))return G=ec(G,X.mode,ne,null),G.return=X,G;if(typeof G.then=="function")return ge(X,Op(G),ne);if(G.$$typeof===I)return ge(X,Np(X,G),ne);Ip(X,G)}return null}function ae(X,G,ne,he){var ze=G!==null?G.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ze!==null?null:V(X,G,""+ne,he);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:return ne.key===ze?K(X,G,ne,he):null;case j:return ne.key===ze?re(X,G,ne,he):null;case P:return ne=ac(ne),ae(X,G,ne,he)}if(Ee(ne)||L(ne))return ze!==null?null:ue(X,G,ne,he,null);if(typeof ne.then=="function")return ae(X,G,Op(ne),he);if(ne.$$typeof===I)return ae(X,G,Np(X,ne),he);Ip(X,ne)}return null}function le(X,G,ne,he,ze){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return X=X.get(ne)||null,V(G,X,""+he,ze);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case w:return X=X.get(he.key===null?ne:he.key)||null,K(G,X,he,ze);case j:return X=X.get(he.key===null?ne:he.key)||null,re(G,X,he,ze);case P:return he=ac(he),le(X,G,ne,he,ze)}if(Ee(he)||L(he))return X=X.get(ne)||null,ue(G,X,he,ze,null);if(typeof he.then=="function")return le(X,G,ne,Op(he),ze);if(he.$$typeof===I)return le(X,G,ne,Np(G,he),ze);Ip(G,he)}return null}function Pe(X,G,ne,he){for(var ze=null,yt=null,Re=G,et=G=0,ot=null;Re!==null&&et<ne.length;et++){Re.index>et?(ot=Re,Re=null):ot=Re.sibling;var bt=ae(X,Re,ne[et],he);if(bt===null){Re===null&&(Re=ot);break}a&&Re&&bt.alternate===null&&o(X,Re),G=x(bt,G,et),yt===null?ze=bt:yt.sibling=bt,yt=bt,Re=ot}if(et===ne.length)return u(X,Re),ft&&fs(X,et),ze;if(Re===null){for(;et<ne.length;et++)Re=ge(X,ne[et],he),Re!==null&&(G=x(Re,G,et),yt===null?ze=Re:yt.sibling=Re,yt=Re);return ft&&fs(X,et),ze}for(Re=m(Re);et<ne.length;et++)ot=le(Re,X,et,ne[et],he),ot!==null&&(a&&ot.alternate!==null&&Re.delete(ot.key===null?et:ot.key),G=x(ot,G,et),yt===null?ze=ot:yt.sibling=ot,yt=ot);return a&&Re.forEach(function(Bo){return o(X,Bo)}),ft&&fs(X,et),ze}function qe(X,G,ne,he){if(ne==null)throw Error(r(151));for(var ze=null,yt=null,Re=G,et=G=0,ot=null,bt=ne.next();Re!==null&&!bt.done;et++,bt=ne.next()){Re.index>et?(ot=Re,Re=null):ot=Re.sibling;var Bo=ae(X,Re,bt.value,he);if(Bo===null){Re===null&&(Re=ot);break}a&&Re&&Bo.alternate===null&&o(X,Re),G=x(Bo,G,et),yt===null?ze=Bo:yt.sibling=Bo,yt=Bo,Re=ot}if(bt.done)return u(X,Re),ft&&fs(X,et),ze;if(Re===null){for(;!bt.done;et++,bt=ne.next())bt=ge(X,bt.value,he),bt!==null&&(G=x(bt,G,et),yt===null?ze=bt:yt.sibling=bt,yt=bt);return ft&&fs(X,et),ze}for(Re=m(Re);!bt.done;et++,bt=ne.next())bt=le(Re,X,et,bt.value,he),bt!==null&&(a&&bt.alternate!==null&&Re.delete(bt.key===null?et:bt.key),G=x(bt,G,et),yt===null?ze=bt:yt.sibling=bt,yt=bt);return a&&Re.forEach(function(i8){return o(X,i8)}),ft&&fs(X,et),ze}function Mt(X,G,ne,he){if(typeof ne=="object"&&ne!==null&&ne.type===E&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:e:{for(var ze=ne.key;G!==null;){if(G.key===ze){if(ze=ne.type,ze===E){if(G.tag===7){u(X,G.sibling),he=b(G,ne.props.children),he.return=X,X=he;break e}}else if(G.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===P&&ac(ze)===G.type){u(X,G.sibling),he=b(G,ne.props),Cf(he,ne),he.return=X,X=he;break e}u(X,G);break}else o(X,G);G=G.sibling}ne.type===E?(he=ec(ne.props.children,X.mode,he,ne.key),he.return=X,X=he):(he=jp(ne.type,ne.key,ne.props,null,X.mode,he),Cf(he,ne),he.return=X,X=he)}return N(X);case j:e:{for(ze=ne.key;G!==null;){if(G.key===ze)if(G.tag===4&&G.stateNode.containerInfo===ne.containerInfo&&G.stateNode.implementation===ne.implementation){u(X,G.sibling),he=b(G,ne.children||[]),he.return=X,X=he;break e}else{u(X,G);break}else o(X,G);G=G.sibling}he=bb(ne,X.mode,he),he.return=X,X=he}return N(X);case P:return ne=ac(ne),Mt(X,G,ne,he)}if(Ee(ne))return Pe(X,G,ne,he);if(L(ne)){if(ze=L(ne),typeof ze!="function")throw Error(r(150));return ne=ze.call(ne),qe(X,G,ne,he)}if(typeof ne.then=="function")return Mt(X,G,Op(ne),he);if(ne.$$typeof===I)return Mt(X,G,Np(X,ne),he);Ip(X,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,G!==null&&G.tag===6?(u(X,G.sibling),he=b(G,ne),he.return=X,X=he):(u(X,G),he=yb(ne,X.mode,he),he.return=X,X=he),N(X)):u(X,G)}return function(X,G,ne,he){try{Tf=0;var ze=Mt(X,G,ne,he);return Ru=null,ze}catch(Re){if(Re===Iu||Re===Cp)throw Re;var yt=ai(29,Re,null,X.mode);return yt.lanes=he,yt.return=X,yt}}}var oc=UN(!0),qN=UN(!1),Ao=!1;function Ob(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ib(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function So(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function No(a,o,u){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(wt&2)!==0){var b=m.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),m.pending=o,o=Ep(a),jN(a,null,u),o}return wp(a,m,o,u),Ep(a)}function Pf(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=a.pendingLanes,u|=m,o.lanes=u,Ul(a,u)}}function Rb(a,o){var u=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var b=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};x===null?b=x=N:x=x.next=N,u=u.next}while(u!==null);x===null?b=x=o:x=x.next=o}else b=x=o;u={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var kb=!1;function Of(){if(kb){var a=Ou;if(a!==null)throw a}}function If(a,o,u,m){kb=!1;var b=a.updateQueue;Ao=!1;var x=b.firstBaseUpdate,N=b.lastBaseUpdate,V=b.shared.pending;if(V!==null){b.shared.pending=null;var K=V,re=K.next;K.next=null,N===null?x=re:N.next=re,N=K;var ue=a.alternate;ue!==null&&(ue=ue.updateQueue,V=ue.lastBaseUpdate,V!==N&&(V===null?ue.firstBaseUpdate=re:V.next=re,ue.lastBaseUpdate=K))}if(x!==null){var ge=b.baseState;N=0,ue=re=K=null,V=x;do{var ae=V.lane&-536870913,le=ae!==V.lane;if(le?(st&ae)===ae:(m&ae)===ae){ae!==0&&ae===Pu&&(kb=!0),ue!==null&&(ue=ue.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Pe=a,qe=V;ae=o;var Mt=u;switch(qe.tag){case 1:if(Pe=qe.payload,typeof Pe=="function"){ge=Pe.call(Mt,ge,ae);break e}ge=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=qe.payload,ae=typeof Pe=="function"?Pe.call(Mt,ge,ae):Pe,ae==null)break e;ge=g({},ge,ae);break e;case 2:Ao=!0}}ae=V.callback,ae!==null&&(a.flags|=64,le&&(a.flags|=8192),le=b.callbacks,le===null?b.callbacks=[ae]:le.push(ae))}else le={lane:ae,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ue===null?(re=ue=le,K=ge):ue=ue.next=le,N|=ae;if(V=V.next,V===null){if(V=b.shared.pending,V===null)break;le=V,V=le.next,le.next=null,b.lastBaseUpdate=le,b.shared.pending=null}}while(!0);ue===null&&(K=ge),b.baseState=K,b.firstBaseUpdate=re,b.lastBaseUpdate=ue,x===null&&(b.shared.lanes=0),Io|=N,a.lanes=N,a.memoizedState=ge}}function BN(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function $N(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)BN(u[a],o)}var ku=H(null),Rp=H(0);function FN(a,o){a=Es,ve(Rp,a),ve(ku,o),Es=a|o.baseLanes}function Db(){ve(Rp,Es),ve(ku,ku.current)}function Mb(){Es=Rp.current,ie(ku),ie(Rp)}var si=H(null),ki=null;function To(a){var o=a.alternate;ve(yn,yn.current&1),ve(si,a),ki===null&&(o===null||ku.current!==null||o.memoizedState!==null)&&(ki=a)}function zb(a){ve(yn,yn.current),ve(si,a),ki===null&&(ki=a)}function HN(a){a.tag===22?(ve(yn,yn.current),ve(si,a),ki===null&&(ki=a)):Co()}function Co(){ve(yn,yn.current),ve(si,si.current)}function oi(a){ie(si),ki===a&&(ki=null),ie(yn)}var yn=H(0);function kp(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||$_(u)||F_(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ps=0,Je=null,kt=null,Tn=null,Dp=!1,Du=!1,lc=!1,Mp=0,Rf=0,Mu=null,W9=0;function sn(){throw Error(r(321))}function Lb(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!ii(a[u],o[u]))return!1;return!0}function Vb(a,o,u,m,b,x){return ps=x,Je=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,F.H=a===null||a.memoizedState===null?TT:e_,lc=!1,x=u(m,b),lc=!1,Du&&(x=GN(o,u,m,b)),KN(a),x}function KN(a){F.H=Mf;var o=kt!==null&&kt.next!==null;if(ps=0,Tn=kt=Je=null,Dp=!1,Rf=0,Mu=null,o)throw Error(r(300));a===null||Cn||(a=a.dependencies,a!==null&&Sp(a)&&(Cn=!0))}function GN(a,o,u,m){Je=a;var b=0;do{if(Du&&(Mu=null),Rf=0,Du=!1,25<=b)throw Error(r(301));if(b+=1,Tn=kt=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}F.H=CT,x=o(u,m)}while(Du);return x}function Q9(){var a=F.H,o=a.useState()[0];return o=typeof o.then=="function"?kf(o):o,a=a.useState()[0],(kt!==null?kt.memoizedState:null)!==a&&(Je.flags|=1024),o}function Ub(){var a=Mp!==0;return Mp=0,a}function qb(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function Bb(a){if(Dp){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Dp=!1}ps=0,Tn=kt=Je=null,Du=!1,Rf=Mp=0,Mu=null}function Nr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Je.memoizedState=Tn=a:Tn=Tn.next=a,Tn}function bn(){if(kt===null){var a=Je.alternate;a=a!==null?a.memoizedState:null}else a=kt.next;var o=Tn===null?Je.memoizedState:Tn.next;if(o!==null)Tn=o,kt=a;else{if(a===null)throw Je.alternate===null?Error(r(467)):Error(r(310));kt=a,a={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Tn===null?Je.memoizedState=Tn=a:Tn=Tn.next=a}return Tn}function zp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kf(a){var o=Rf;return Rf+=1,Mu===null&&(Mu=[]),a=zN(Mu,a,o),o=Je,(Tn===null?o.memoizedState:Tn.next)===null&&(o=o.alternate,F.H=o===null||o.memoizedState===null?TT:e_),a}function Lp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return kf(a);if(a.$$typeof===I)return or(a)}throw Error(r(438,String(a)))}function $b(a){var o=null,u=Je.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=Je.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=zp(),Je.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),m=0;m<a;m++)u[m]=B;return o.index++,u}function gs(a,o){return typeof o=="function"?o(a):o}function Vp(a){var o=bn();return Fb(o,kt,a)}function Fb(a,o,u){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var b=a.baseQueue,x=m.pending;if(x!==null){if(b!==null){var N=b.next;b.next=x.next,x.next=N}o.baseQueue=b=x,m.pending=null}if(x=a.baseState,b===null)a.memoizedState=x;else{o=b.next;var V=N=null,K=null,re=o,ue=!1;do{var ge=re.lane&-536870913;if(ge!==re.lane?(st&ge)===ge:(ps&ge)===ge){var ae=re.revertLane;if(ae===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),ge===Pu&&(ue=!0);else if((ps&ae)===ae){re=re.next,ae===Pu&&(ue=!0);continue}else ge={lane:0,revertLane:re.revertLane,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},K===null?(V=K=ge,N=x):K=K.next=ge,Je.lanes|=ae,Io|=ae;ge=re.action,lc&&u(x,ge),x=re.hasEagerState?re.eagerState:u(x,ge)}else ae={lane:ge,revertLane:re.revertLane,gesture:re.gesture,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},K===null?(V=K=ae,N=x):K=K.next=ae,Je.lanes|=ge,Io|=ge;re=re.next}while(re!==null&&re!==o);if(K===null?N=x:K.next=V,!ii(x,a.memoizedState)&&(Cn=!0,ue&&(u=Ou,u!==null)))throw u;a.memoizedState=x,a.baseState=N,a.baseQueue=K,m.lastRenderedState=x}return b===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function Hb(a){var o=bn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var m=u.dispatch,b=u.pending,x=o.memoizedState;if(b!==null){u.pending=null;var N=b=b.next;do x=a(x,N.action),N=N.next;while(N!==b);ii(x,o.memoizedState)||(Cn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),u.lastRenderedState=x}return[x,m]}function WN(a,o,u){var m=Je,b=bn(),x=ft;if(x){if(u===void 0)throw Error(r(407));u=u()}else u=o();var N=!ii((kt||b).memoizedState,u);if(N&&(b.memoizedState=u,Cn=!0),b=b.queue,Wb(XN.bind(null,m,b,a),[a]),b.getSnapshot!==o||N||Tn!==null&&Tn.memoizedState.tag&1){if(m.flags|=2048,zu(9,{destroy:void 0},YN.bind(null,m,b,u,o),null),Vt===null)throw Error(r(349));x||(ps&127)!==0||QN(m,o,u)}return u}function QN(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=Je.updateQueue,o===null?(o=zp(),Je.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function YN(a,o,u,m){o.value=u,o.getSnapshot=m,ZN(o)&&JN(a)}function XN(a,o,u){return u(function(){ZN(o)&&JN(a)})}function ZN(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!ii(a,u)}catch{return!0}}function JN(a){var o=Jl(a,2);o!==null&&Gr(o,a,2)}function Kb(a){var o=Nr();if(typeof a=="function"){var u=a;if(a=u(),lc){Vr(!0);try{u()}finally{Vr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:a},o}function eT(a,o,u,m){return a.baseState=u,Fb(a,kt,typeof m=="function"?m:gs)}function Y9(a,o,u,m,b){if(Bp(a))throw Error(r(485));if(a=o.action,a!==null){var x={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){x.listeners.push(N)}};F.T!==null?u(!0):x.isTransition=!1,m(x),u=o.pending,u===null?(x.next=o.pending=x,tT(o,x)):(x.next=u.next,o.pending=u.next=x)}}function tT(a,o){var u=o.action,m=o.payload,b=a.state;if(o.isTransition){var x=F.T,N={};F.T=N;try{var V=u(b,m),K=F.S;K!==null&&K(N,V),nT(a,o,V)}catch(re){Gb(a,o,re)}finally{x!==null&&N.types!==null&&(x.types=N.types),F.T=x}}else try{x=u(b,m),nT(a,o,x)}catch(re){Gb(a,o,re)}}function nT(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){rT(a,o,m)},function(m){return Gb(a,o,m)}):rT(a,o,u)}function rT(a,o,u){o.status="fulfilled",o.value=u,iT(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,tT(a,u)))}function Gb(a,o,u){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,iT(o),o=o.next;while(o!==m)}a.action=null}function iT(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function aT(a,o){return o}function sT(a,o){if(ft){var u=Vt.formState;if(u!==null){e:{var m=Je;if(ft){if(Kt){t:{for(var b=Kt,x=Ri;b.nodeType!==8;){if(!x){b=null;break t}if(b=Di(b.nextSibling),b===null){b=null;break t}}x=b.data,b=x==="F!"||x==="F"?b:null}if(b){Kt=Di(b.nextSibling),m=b.data==="F!";break e}}Eo(m)}m=!1}m&&(o=u[0])}}return u=Nr(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aT,lastRenderedState:o},u.queue=m,u=AT.bind(null,Je,m),m.dispatch=u,m=Kb(!1),x=Jb.bind(null,Je,!1,m.queue),m=Nr(),b={state:o,dispatch:null,action:a,pending:null},m.queue=b,u=Y9.bind(null,Je,b,x,u),b.dispatch=u,m.memoizedState=a,[o,u,!1]}function oT(a){var o=bn();return lT(o,kt,a)}function lT(a,o,u){if(o=Fb(a,o,aT)[0],a=Vp(gs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=kf(o)}catch(N){throw N===Iu?Cp:N}else m=o;o=bn();var b=o.queue,x=b.dispatch;return u!==o.memoizedState&&(Je.flags|=2048,zu(9,{destroy:void 0},X9.bind(null,b,u),null)),[m,x,a]}function X9(a,o){a.action=o}function cT(a){var o=bn(),u=kt;if(u!==null)return lT(o,u,a);bn(),o=o.memoizedState,u=bn();var m=u.queue.dispatch;return u.memoizedState=a,[o,m,!1]}function zu(a,o,u,m){return a={tag:a,create:u,deps:m,inst:o,next:null},o=Je.updateQueue,o===null&&(o=zp(),Je.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(m=u.next,u.next=a,a.next=m,o.lastEffect=a),a}function uT(){return bn().memoizedState}function Up(a,o,u,m){var b=Nr();Je.flags|=a,b.memoizedState=zu(1|o,{destroy:void 0},u,m===void 0?null:m)}function qp(a,o,u,m){var b=bn();m=m===void 0?null:m;var x=b.memoizedState.inst;kt!==null&&m!==null&&Lb(m,kt.memoizedState.deps)?b.memoizedState=zu(o,x,u,m):(Je.flags|=a,b.memoizedState=zu(1|o,x,u,m))}function dT(a,o){Up(8390656,8,a,o)}function Wb(a,o){qp(2048,8,a,o)}function Z9(a){Je.flags|=4;var o=Je.updateQueue;if(o===null)o=zp(),Je.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function fT(a){var o=bn().memoizedState;return Z9({ref:o,nextImpl:a}),function(){if((wt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function hT(a,o){return qp(4,2,a,o)}function mT(a,o){return qp(4,4,a,o)}function pT(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function gT(a,o,u){u=u!=null?u.concat([a]):null,qp(4,4,pT.bind(null,o,a),u)}function Qb(){}function vT(a,o){var u=bn();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&Lb(o,m[1])?m[0]:(u.memoizedState=[a,o],a)}function yT(a,o){var u=bn();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&Lb(o,m[1]))return m[0];if(m=a(),lc){Vr(!0);try{a()}finally{Vr(!1)}}return u.memoizedState=[m,o],m}function Yb(a,o,u){return u===void 0||(ps&1073741824)!==0&&(st&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=bC(),Je.lanes|=a,Io|=a,u)}function bT(a,o,u,m){return ii(u,o)?u:ku.current!==null?(a=Yb(a,u,m),ii(a,o)||(Cn=!0),a):(ps&42)===0||(ps&1073741824)!==0&&(st&261930)===0?(Cn=!0,a.memoizedState=u):(a=bC(),Je.lanes|=a,Io|=a,o)}function _T(a,o,u,m,b){var x=J.p;J.p=x!==0&&8>x?x:8;var N=F.T,V={};F.T=V,Jb(a,!1,o,u);try{var K=b(),re=F.S;if(re!==null&&re(V,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ue=G9(K,m);Df(a,o,ue,ui(a))}else Df(a,o,m,ui(a))}catch(ge){Df(a,o,{then:function(){},status:"rejected",reason:ge},ui())}finally{J.p=x,N!==null&&V.types!==null&&(N.types=V.types),F.T=N}}function J9(){}function Xb(a,o,u,m){if(a.tag!==5)throw Error(r(476));var b=xT(a).queue;_T(a,b,o,fe,u===null?J9:function(){return wT(a),u(m)})}function xT(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:fe},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function wT(a){var o=xT(a);o.next===null&&(o=a.alternate.memoizedState),Df(a,o.next.queue,{},ui())}function Zb(){return or(Zf)}function ET(){return bn().memoizedState}function jT(){return bn().memoizedState}function eq(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=ui();a=So(u);var m=No(o,a,u);m!==null&&(Gr(m,o,u),Pf(m,o,u)),o={cache:Nb()},a.payload=o;return}o=o.return}}function tq(a,o,u){var m=ui();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Bp(a)?ST(o,u):(u=gb(a,o,u,m),u!==null&&(Gr(u,a,m),NT(u,o,m)))}function AT(a,o,u){var m=ui();Df(a,o,u,m)}function Df(a,o,u,m){var b={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Bp(a))ST(o,b);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var N=o.lastRenderedState,V=x(N,u);if(b.hasEagerState=!0,b.eagerState=V,ii(V,N))return wp(a,o,b,0),Vt===null&&xp(),!1}catch{}if(u=gb(a,o,b,m),u!==null)return Gr(u,a,m),NT(u,o,m),!0}return!1}function Jb(a,o,u,m){if(m={lane:2,revertLane:O_(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Bp(a)){if(o)throw Error(r(479))}else o=gb(a,u,m,2),o!==null&&Gr(o,a,2)}function Bp(a){var o=a.alternate;return a===Je||o!==null&&o===Je}function ST(a,o){Du=Dp=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function NT(a,o,u){if((u&4194048)!==0){var m=o.lanes;m&=a.pendingLanes,u|=m,o.lanes=u,Ul(a,u)}}var Mf={readContext:or,use:Lp,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useInsertionEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useSyncExternalStore:sn,useId:sn,useHostTransitionStatus:sn,useFormState:sn,useActionState:sn,useOptimistic:sn,useMemoCache:sn,useCacheRefresh:sn};Mf.useEffectEvent=sn;var TT={readContext:or,use:Lp,useCallback:function(a,o){return Nr().memoizedState=[a,o===void 0?null:o],a},useContext:or,useEffect:dT,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Up(4194308,4,pT.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Up(4194308,4,a,o)},useInsertionEffect:function(a,o){Up(4,2,a,o)},useMemo:function(a,o){var u=Nr();o=o===void 0?null:o;var m=a();if(lc){Vr(!0);try{a()}finally{Vr(!1)}}return u.memoizedState=[m,o],m},useReducer:function(a,o,u){var m=Nr();if(u!==void 0){var b=u(o);if(lc){Vr(!0);try{u(o)}finally{Vr(!1)}}}else b=o;return m.memoizedState=m.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},m.queue=a,a=a.dispatch=tq.bind(null,Je,a),[m.memoizedState,a]},useRef:function(a){var o=Nr();return a={current:a},o.memoizedState=a},useState:function(a){a=Kb(a);var o=a.queue,u=AT.bind(null,Je,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Qb,useDeferredValue:function(a,o){var u=Nr();return Yb(u,a,o)},useTransition:function(){var a=Kb(!1);return a=_T.bind(null,Je,a.queue,!0,!1),Nr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var m=Je,b=Nr();if(ft){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Vt===null)throw Error(r(349));(st&127)!==0||QN(m,o,u)}b.memoizedState=u;var x={value:u,getSnapshot:o};return b.queue=x,dT(XN.bind(null,m,x,a),[a]),m.flags|=2048,zu(9,{destroy:void 0},YN.bind(null,m,x,u,o),null),u},useId:function(){var a=Nr(),o=Vt.identifierPrefix;if(ft){var u=Ia,m=Oa;u=(m&~(1<<32-en(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Mp++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=W9++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:Zb,useFormState:sT,useActionState:sT,useOptimistic:function(a){var o=Nr();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Jb.bind(null,Je,!0,u),u.dispatch=o,[a,o]},useMemoCache:$b,useCacheRefresh:function(){return Nr().memoizedState=eq.bind(null,Je)},useEffectEvent:function(a){var o=Nr(),u={impl:a};return o.memoizedState=u,function(){if((wt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},e_={readContext:or,use:Lp,useCallback:vT,useContext:or,useEffect:Wb,useImperativeHandle:gT,useInsertionEffect:hT,useLayoutEffect:mT,useMemo:yT,useReducer:Vp,useRef:uT,useState:function(){return Vp(gs)},useDebugValue:Qb,useDeferredValue:function(a,o){var u=bn();return bT(u,kt.memoizedState,a,o)},useTransition:function(){var a=Vp(gs)[0],o=bn().memoizedState;return[typeof a=="boolean"?a:kf(a),o]},useSyncExternalStore:WN,useId:ET,useHostTransitionStatus:Zb,useFormState:oT,useActionState:oT,useOptimistic:function(a,o){var u=bn();return eT(u,kt,a,o)},useMemoCache:$b,useCacheRefresh:jT};e_.useEffectEvent=fT;var CT={readContext:or,use:Lp,useCallback:vT,useContext:or,useEffect:Wb,useImperativeHandle:gT,useInsertionEffect:hT,useLayoutEffect:mT,useMemo:yT,useReducer:Hb,useRef:uT,useState:function(){return Hb(gs)},useDebugValue:Qb,useDeferredValue:function(a,o){var u=bn();return kt===null?Yb(u,a,o):bT(u,kt.memoizedState,a,o)},useTransition:function(){var a=Hb(gs)[0],o=bn().memoizedState;return[typeof a=="boolean"?a:kf(a),o]},useSyncExternalStore:WN,useId:ET,useHostTransitionStatus:Zb,useFormState:cT,useActionState:cT,useOptimistic:function(a,o){var u=bn();return kt!==null?eT(u,kt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:$b,useCacheRefresh:jT};CT.useEffectEvent=fT;function t_(a,o,u,m){o=a.memoizedState,u=u(m,o),u=u==null?o:g({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var n_={enqueueSetState:function(a,o,u){a=a._reactInternals;var m=ui(),b=So(m);b.payload=o,u!=null&&(b.callback=u),o=No(a,b,m),o!==null&&(Gr(o,a,m),Pf(o,a,m))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var m=ui(),b=So(m);b.tag=1,b.payload=o,u!=null&&(b.callback=u),o=No(a,b,m),o!==null&&(Gr(o,a,m),Pf(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=ui(),m=So(u);m.tag=2,o!=null&&(m.callback=o),o=No(a,m,u),o!==null&&(Gr(o,a,u),Pf(o,a,u))}};function PT(a,o,u,m,b,x,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,x,N):o.prototype&&o.prototype.isPureReactComponent?!wf(u,m)||!wf(b,x):!0}function OT(a,o,u,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==a&&n_.enqueueReplaceState(o,o.state,null)}function cc(a,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(a=a.defaultProps){u===o&&(u=g({},u));for(var b in a)u[b]===void 0&&(u[b]=a[b])}return u}function IT(a){_p(a)}function RT(a){console.error(a)}function kT(a){_p(a)}function $p(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function DT(a,o,u){try{var m=a.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function r_(a,o,u){return u=So(u),u.tag=3,u.payload={element:null},u.callback=function(){$p(a,o)},u}function MT(a){return a=So(a),a.tag=3,a}function zT(a,o,u,m){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var x=m.value;a.payload=function(){return b(x)},a.callback=function(){DT(o,u,m)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){DT(o,u,m),typeof b!="function"&&(Ro===null?Ro=new Set([this]):Ro.add(this));var V=m.stack;this.componentDidCatch(m.value,{componentStack:V!==null?V:""})})}function nq(a,o,u,m,b){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&Cu(o,u,b,!0),u=si.current,u!==null){switch(u.tag){case 31:case 13:return ki===null?tg():u.alternate===null&&on===0&&(on=3),u.flags&=-257,u.flags|=65536,u.lanes=b,m===Pp?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),T_(a,m,b)),!1;case 22:return u.flags|=65536,m===Pp?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),T_(a,m,b)),!1}throw Error(r(435,u.tag))}return T_(a,m,b),tg(),!1}if(ft)return o=si.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,m!==wb&&(a=Error(r(422),{cause:m}),Af(Pi(a,u)))):(m!==wb&&(o=Error(r(423),{cause:m}),Af(Pi(o,u))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,m=Pi(m,u),b=r_(a.stateNode,m,b),Rb(a,b),on!==4&&(on=2)),!1;var x=Error(r(520),{cause:m});if(x=Pi(x,u),Ff===null?Ff=[x]:Ff.push(x),on!==4&&(on=2),o===null)return!0;m=Pi(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=b&-b,u.lanes|=a,a=r_(u.stateNode,m,a),Rb(u,a),!1;case 1:if(o=u.type,x=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ro===null||!Ro.has(x))))return u.flags|=65536,b&=-b,u.lanes|=b,b=MT(b),zT(b,a,u,m),Rb(u,b),!1}u=u.return}while(u!==null);return!1}var i_=Error(r(461)),Cn=!1;function lr(a,o,u,m){o.child=a===null?qN(o,null,u,m):oc(o,a.child,u,m)}function LT(a,o,u,m,b){u=u.render;var x=o.ref;if("ref"in m){var N={};for(var V in m)V!=="ref"&&(N[V]=m[V])}else N=m;return rc(o),m=Vb(a,o,u,N,x,b),V=Ub(),a!==null&&!Cn?(qb(a,o,b),vs(a,o,b)):(ft&&V&&_b(o),o.flags|=1,lr(a,o,m,b),o.child)}function VT(a,o,u,m,b){if(a===null){var x=u.type;return typeof x=="function"&&!vb(x)&&x.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=x,UT(a,o,x,m,b)):(a=jp(u.type,null,m,o,o.mode,b),a.ref=o.ref,a.return=o,o.child=a)}if(x=a.child,!f_(a,b)){var N=x.memoizedProps;if(u=u.compare,u=u!==null?u:wf,u(N,m)&&a.ref===o.ref)return vs(a,o,b)}return o.flags|=1,a=ds(x,m),a.ref=o.ref,a.return=o,o.child=a}function UT(a,o,u,m,b){if(a!==null){var x=a.memoizedProps;if(wf(x,m)&&a.ref===o.ref)if(Cn=!1,o.pendingProps=m=x,f_(a,b))(a.flags&131072)!==0&&(Cn=!0);else return o.lanes=a.lanes,vs(a,o,b)}return a_(a,o,u,m,b)}function qT(a,o,u,m){var b=m.children,x=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|u:u,a!==null){for(m=o.child=a.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;m=b&~x}else m=0,o.child=null;return BT(a,o,x,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Tp(o,x!==null?x.cachePool:null),x!==null?FN(o,x):Db(),HN(o);else return m=o.lanes=536870912,BT(a,o,x!==null?x.baseLanes|u:u,u,m)}else x!==null?(Tp(o,x.cachePool),FN(o,x),Co(),o.memoizedState=null):(a!==null&&Tp(o,null),Db(),Co());return lr(a,o,b,u),o.child}function zf(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function BT(a,o,u,m,b){var x=Cb();return x=x===null?null:{parent:Nn._currentValue,pool:x},o.memoizedState={baseLanes:u,cachePool:x},a!==null&&Tp(o,null),Db(),HN(o),a!==null&&Cu(a,o,m,!0),o.childLanes=b,null}function Fp(a,o){return o=Kp({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function $T(a,o,u){return oc(o,a.child,null,u),a=Fp(o,o.pendingProps),a.flags|=2,oi(o),o.memoizedState=null,a}function rq(a,o,u){var m=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(ft){if(m.mode==="hidden")return a=Fp(o,m),o.lanes=536870912,zf(null,a);if(zb(o),(a=Kt)?(a=t2(a,Ri),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:xo!==null?{id:Oa,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},u=SN(a),u.return=o,o.child=u,sr=o,Kt=null)):a=null,a===null)throw Eo(o);return o.lanes=536870912,null}return Fp(o,m)}var x=a.memoizedState;if(x!==null){var N=x.dehydrated;if(zb(o),b)if(o.flags&256)o.flags&=-257,o=$T(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Cn||Cu(a,o,u,!1),b=(u&a.childLanes)!==0,Cn||b){if(m=Vt,m!==null&&(N=rf(m,u),N!==0&&N!==x.retryLane))throw x.retryLane=N,Jl(a,N),Gr(m,a,N),i_;tg(),o=$T(a,o,u)}else a=x.treeContext,Kt=Di(N.nextSibling),sr=o,ft=!0,wo=null,Ri=!1,a!==null&&CN(o,a),o=Fp(o,m),o.flags|=4096;return o}return a=ds(a.child,{mode:m.mode,children:m.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Hp(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function a_(a,o,u,m,b){return rc(o),u=Vb(a,o,u,m,void 0,b),m=Ub(),a!==null&&!Cn?(qb(a,o,b),vs(a,o,b)):(ft&&m&&_b(o),o.flags|=1,lr(a,o,u,b),o.child)}function FT(a,o,u,m,b,x){return rc(o),o.updateQueue=null,u=GN(o,m,u,b),KN(a),m=Ub(),a!==null&&!Cn?(qb(a,o,x),vs(a,o,x)):(ft&&m&&_b(o),o.flags|=1,lr(a,o,u,x),o.child)}function HT(a,o,u,m,b){if(rc(o),o.stateNode===null){var x=Au,N=u.contextType;typeof N=="object"&&N!==null&&(x=or(N)),x=new u(m,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=n_,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=m,x.state=o.memoizedState,x.refs={},Ob(o),N=u.contextType,x.context=typeof N=="object"&&N!==null?or(N):Au,x.state=o.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(t_(o,u,N,m),x.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(N=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),N!==x.state&&n_.enqueueReplaceState(x,x.state,null),If(o,m,x,b),Of(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){x=o.stateNode;var V=o.memoizedProps,K=cc(u,V);x.props=K;var re=x.context,ue=u.contextType;N=Au,typeof ue=="object"&&ue!==null&&(N=or(ue));var ge=u.getDerivedStateFromProps;ue=typeof ge=="function"||typeof x.getSnapshotBeforeUpdate=="function",V=o.pendingProps!==V,ue||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(V||re!==N)&&OT(o,x,m,N),Ao=!1;var ae=o.memoizedState;x.state=ae,If(o,m,x,b),Of(),re=o.memoizedState,V||ae!==re||Ao?(typeof ge=="function"&&(t_(o,u,ge,m),re=o.memoizedState),(K=Ao||PT(o,u,K,m,ae,re,N))?(ue||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=re),x.props=m,x.state=re,x.context=N,m=K):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{x=o.stateNode,Ib(a,o),N=o.memoizedProps,ue=cc(u,N),x.props=ue,ge=o.pendingProps,ae=x.context,re=u.contextType,K=Au,typeof re=="object"&&re!==null&&(K=or(re)),V=u.getDerivedStateFromProps,(re=typeof V=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(N!==ge||ae!==K)&&OT(o,x,m,K),Ao=!1,ae=o.memoizedState,x.state=ae,If(o,m,x,b),Of();var le=o.memoizedState;N!==ge||ae!==le||Ao||a!==null&&a.dependencies!==null&&Sp(a.dependencies)?(typeof V=="function"&&(t_(o,u,V,m),le=o.memoizedState),(ue=Ao||PT(o,u,ue,m,ae,le,K)||a!==null&&a.dependencies!==null&&Sp(a.dependencies))?(re||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,le,K),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,le,K)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=le),x.props=m,x.state=le,x.context=K,m=ue):(typeof x.componentDidUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(o.flags|=1024),m=!1)}return x=m,Hp(a,o),m=(o.flags&128)!==0,x||m?(x=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,a!==null&&m?(o.child=oc(o,a.child,null,b),o.child=oc(o,null,u,b)):lr(a,o,u,b),o.memoizedState=x.state,a=o.child):a=vs(a,o,b),a}function KT(a,o,u,m){return tc(),o.flags|=256,lr(a,o,u,m),o.child}var s_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function o_(a){return{baseLanes:a,cachePool:DN()}}function l_(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=ci),a}function GT(a,o,u){var m=o.pendingProps,b=!1,x=(o.flags&128)!==0,N;if((N=x)||(N=a!==null&&a.memoizedState===null?!1:(yn.current&2)!==0),N&&(b=!0,o.flags&=-129),N=(o.flags&32)!==0,o.flags&=-33,a===null){if(ft){if(b?To(o):Co(),(a=Kt)?(a=t2(a,Ri),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:xo!==null?{id:Oa,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},u=SN(a),u.return=o,o.child=u,sr=o,Kt=null)):a=null,a===null)throw Eo(o);return F_(a)?o.lanes=32:o.lanes=536870912,null}var V=m.children;return m=m.fallback,b?(Co(),b=o.mode,V=Kp({mode:"hidden",children:V},b),m=ec(m,b,u,null),V.return=o,m.return=o,V.sibling=m,o.child=V,m=o.child,m.memoizedState=o_(u),m.childLanes=l_(a,N,u),o.memoizedState=s_,zf(null,m)):(To(o),c_(o,V))}var K=a.memoizedState;if(K!==null&&(V=K.dehydrated,V!==null)){if(x)o.flags&256?(To(o),o.flags&=-257,o=u_(a,o,u)):o.memoizedState!==null?(Co(),o.child=a.child,o.flags|=128,o=null):(Co(),V=m.fallback,b=o.mode,m=Kp({mode:"visible",children:m.children},b),V=ec(V,b,u,null),V.flags|=2,m.return=o,V.return=o,m.sibling=V,o.child=m,oc(o,a.child,null,u),m=o.child,m.memoizedState=o_(u),m.childLanes=l_(a,N,u),o.memoizedState=s_,o=zf(null,m));else if(To(o),F_(V)){if(N=V.nextSibling&&V.nextSibling.dataset,N)var re=N.dgst;N=re,m=Error(r(419)),m.stack="",m.digest=N,Af({value:m,source:null,stack:null}),o=u_(a,o,u)}else if(Cn||Cu(a,o,u,!1),N=(u&a.childLanes)!==0,Cn||N){if(N=Vt,N!==null&&(m=rf(N,u),m!==0&&m!==K.retryLane))throw K.retryLane=m,Jl(a,m),Gr(N,a,m),i_;$_(V)||tg(),o=u_(a,o,u)}else $_(V)?(o.flags|=192,o.child=a.child,o=null):(a=K.treeContext,Kt=Di(V.nextSibling),sr=o,ft=!0,wo=null,Ri=!1,a!==null&&CN(o,a),o=c_(o,m.children),o.flags|=4096);return o}return b?(Co(),V=m.fallback,b=o.mode,K=a.child,re=K.sibling,m=ds(K,{mode:"hidden",children:m.children}),m.subtreeFlags=K.subtreeFlags&65011712,re!==null?V=ds(re,V):(V=ec(V,b,u,null),V.flags|=2),V.return=o,m.return=o,m.sibling=V,o.child=m,zf(null,m),m=o.child,V=a.child.memoizedState,V===null?V=o_(u):(b=V.cachePool,b!==null?(K=Nn._currentValue,b=b.parent!==K?{parent:K,pool:K}:b):b=DN(),V={baseLanes:V.baseLanes|u,cachePool:b}),m.memoizedState=V,m.childLanes=l_(a,N,u),o.memoizedState=s_,zf(a.child,m)):(To(o),u=a.child,a=u.sibling,u=ds(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,a!==null&&(N=o.deletions,N===null?(o.deletions=[a],o.flags|=16):N.push(a)),o.child=u,o.memoizedState=null,u)}function c_(a,o){return o=Kp({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Kp(a,o){return a=ai(22,a,null,o),a.lanes=0,a}function u_(a,o,u){return oc(o,a.child,null,u),a=c_(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function WT(a,o,u){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),Ab(a.return,o,u)}function d_(a,o,u,m,b,x){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:b,treeForkCount:x}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=u,N.tailMode=b,N.treeForkCount=x)}function QT(a,o,u){var m=o.pendingProps,b=m.revealOrder,x=m.tail;m=m.children;var N=yn.current,V=(N&2)!==0;if(V?(N=N&1|2,o.flags|=128):N&=1,ve(yn,N),lr(a,o,m,u),m=ft?jf:0,!V&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&WT(a,u,o);else if(a.tag===19)WT(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(b){case"forwards":for(u=o.child,b=null;u!==null;)a=u.alternate,a!==null&&kp(a)===null&&(b=u),u=u.sibling;u=b,u===null?(b=o.child,o.child=null):(b=u.sibling,u.sibling=null),d_(o,!1,b,u,x,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,b=o.child,o.child=null;b!==null;){if(a=b.alternate,a!==null&&kp(a)===null){o.child=b;break}a=b.sibling,b.sibling=u,u=b,b=a}d_(o,!0,u,null,x,m);break;case"together":d_(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function vs(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Io|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(Cu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=ds(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=ds(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function f_(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Sp(a)))}function iq(a,o,u){switch(o.tag){case 3:Le(o,o.stateNode.containerInfo),jo(o,Nn,a.memoizedState.cache),tc();break;case 27:case 5:Se(o);break;case 4:Le(o,o.stateNode.containerInfo);break;case 10:jo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,zb(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(To(o),o.flags|=128,null):(u&o.child.childLanes)!==0?GT(a,o,u):(To(o),a=vs(a,o,u),a!==null?a.sibling:null);To(o);break;case 19:var b=(a.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(Cu(a,o,u,!1),m=(u&o.childLanes)!==0),b){if(m)return QT(a,o,u);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ve(yn,yn.current),m)break;return null;case 22:return o.lanes=0,qT(a,o,u,o.pendingProps);case 24:jo(o,Nn,a.memoizedState.cache)}return vs(a,o,u)}function YT(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)Cn=!0;else{if(!f_(a,u)&&(o.flags&128)===0)return Cn=!1,iq(a,o,u);Cn=(a.flags&131072)!==0}else Cn=!1,ft&&(o.flags&1048576)!==0&&TN(o,jf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(a=ac(o.elementType),o.type=a,typeof a=="function")vb(a)?(m=cc(a,m),o.tag=1,o=HT(null,o,a,m,u)):(o.tag=0,o=a_(null,o,a,m,u));else{if(a!=null){var b=a.$$typeof;if(b===R){o.tag=11,o=LT(null,o,a,m,u);break e}else if(b===O){o.tag=14,o=VT(null,o,a,m,u);break e}}throw o=pe(a)||a,Error(r(306,o,""))}}return o;case 0:return a_(a,o,o.type,o.pendingProps,u);case 1:return m=o.type,b=cc(m,o.pendingProps),HT(a,o,m,b,u);case 3:e:{if(Le(o,o.stateNode.containerInfo),a===null)throw Error(r(387));m=o.pendingProps;var x=o.memoizedState;b=x.element,Ib(a,o),If(o,m,null,u);var N=o.memoizedState;if(m=N.cache,jo(o,Nn,m),m!==x.cache&&Sb(o,[Nn],u,!0),Of(),m=N.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:N.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=KT(a,o,m,u);break e}else if(m!==b){b=Pi(Error(r(424)),o),Af(b),o=KT(a,o,m,u);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Kt=Di(a.firstChild),sr=o,ft=!0,wo=null,Ri=!0,u=qN(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(tc(),m===b){o=vs(a,o,u);break e}lr(a,o,m,u)}o=o.child}return o;case 26:return Hp(a,o),a===null?(u=o2(o.type,null,o.pendingProps,null))?o.memoizedState=u:ft||(u=o.type,a=o.pendingProps,m=lg(W.current).createElement(u),m[jn]=o,m[Hn]=a,cr(m,u,a),An(m),o.stateNode=m):o.memoizedState=o2(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Se(o),a===null&&ft&&(m=o.stateNode=i2(o.type,o.pendingProps,W.current),sr=o,Ri=!0,b=Kt,zo(o.type)?(H_=b,Kt=Di(m.firstChild)):Kt=b),lr(a,o,o.pendingProps.children,u),Hp(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&ft&&((b=m=Kt)&&(m=kq(m,o.type,o.pendingProps,Ri),m!==null?(o.stateNode=m,sr=o,Kt=Di(m.firstChild),Ri=!1,b=!0):b=!1),b||Eo(o)),Se(o),b=o.type,x=o.pendingProps,N=a!==null?a.memoizedProps:null,m=x.children,U_(b,x)?m=null:N!==null&&U_(b,N)&&(o.flags|=32),o.memoizedState!==null&&(b=Vb(a,o,Q9,null,null,u),Zf._currentValue=b),Hp(a,o),lr(a,o,m,u),o.child;case 6:return a===null&&ft&&((a=u=Kt)&&(u=Dq(u,o.pendingProps,Ri),u!==null?(o.stateNode=u,sr=o,Kt=null,a=!0):a=!1),a||Eo(o)),null;case 13:return GT(a,o,u);case 4:return Le(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=oc(o,null,m,u):lr(a,o,m,u),o.child;case 11:return LT(a,o,o.type,o.pendingProps,u);case 7:return lr(a,o,o.pendingProps,u),o.child;case 8:return lr(a,o,o.pendingProps.children,u),o.child;case 12:return lr(a,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,jo(o,o.type,m.value),lr(a,o,m.children,u),o.child;case 9:return b=o.type._context,m=o.pendingProps.children,rc(o),b=or(b),m=m(b),o.flags|=1,lr(a,o,m,u),o.child;case 14:return VT(a,o,o.type,o.pendingProps,u);case 15:return UT(a,o,o.type,o.pendingProps,u);case 19:return QT(a,o,u);case 31:return rq(a,o,u);case 22:return qT(a,o,u,o.pendingProps);case 24:return rc(o),m=or(Nn),a===null?(b=Cb(),b===null&&(b=Vt,x=Nb(),b.pooledCache=x,x.refCount++,x!==null&&(b.pooledCacheLanes|=u),b=x),o.memoizedState={parent:m,cache:b},Ob(o),jo(o,Nn,b)):((a.lanes&u)!==0&&(Ib(a,o),If(o,null,null,u),Of()),b=a.memoizedState,x=o.memoizedState,b.parent!==m?(b={parent:m,cache:m},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),jo(o,Nn,m)):(m=x.cache,jo(o,Nn,m),m!==b.cache&&Sb(o,[Nn],u,!0))),lr(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ys(a){a.flags|=4}function h_(a,o,u,m,b){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(b&335544128)===b)if(a.stateNode.complete)a.flags|=8192;else if(EC())a.flags|=8192;else throw sc=Pp,Pb}else a.flags&=-16777217}function XT(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!f2(o))if(EC())a.flags|=8192;else throw sc=Pp,Pb}function Gp(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Ve():536870912,a.lanes|=o,qu|=o)}function Lf(a,o){if(!ft)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Gt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,m=0;if(o)for(var b=a.child;b!==null;)u|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)u|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=m,a.childLanes=u,o}function aq(a,o,u){var m=o.pendingProps;switch(xb(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(o),null;case 1:return Gt(o),null;case 3:return u=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),ms(Nn),se(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Tu(o)?ys(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Eb())),Gt(o),null;case 26:var b=o.type,x=o.memoizedState;return a===null?(ys(o),x!==null?(Gt(o),XT(o,x)):(Gt(o),h_(o,b,null,m,u))):x?x!==a.memoizedState?(ys(o),Gt(o),XT(o,x)):(Gt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==m&&ys(o),Gt(o),h_(o,b,a,m,u)),null;case 27:if(Q(o),u=W.current,b=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&ys(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Gt(o),null}a=xe.current,Tu(o)?PN(o):(a=i2(b,m,u),o.stateNode=a,ys(o))}return Gt(o),null;case 5:if(Q(o),b=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&ys(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Gt(o),null}if(x=xe.current,Tu(o))PN(o);else{var N=lg(W.current);switch(x){case 1:x=N.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:x=N.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":x=N.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":x=N.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":x=N.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof m.is=="string"?N.createElement("select",{is:m.is}):N.createElement("select"),m.multiple?x.multiple=!0:m.size&&(x.size=m.size);break;default:x=typeof m.is=="string"?N.createElement(b,{is:m.is}):N.createElement(b)}}x[jn]=o,x[Hn]=m;e:for(N=o.child;N!==null;){if(N.tag===5||N.tag===6)x.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===o)break e;for(;N.sibling===null;){if(N.return===null||N.return===o)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}o.stateNode=x;e:switch(cr(x,b,m),b){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ys(o)}}return Gt(o),h_(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&ys(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(a=W.current,Tu(o)){if(a=o.stateNode,u=o.memoizedProps,m=null,b=sr,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}a[jn]=o,a=!!(a.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||GC(a.nodeValue,u)),a||Eo(o,!0)}else a=lg(a).createTextNode(m),a[jn]=o,o.stateNode=a}return Gt(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(m=Tu(o),u!==null){if(a===null){if(!m)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[jn]=o}else tc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),a=!1}else u=Eb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(oi(o),o):(oi(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Gt(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=Tu(o),m!==null&&m.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[jn]=o}else tc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),b=!1}else b=Eb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(oi(o),o):(oi(o),null)}return oi(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,a=a!==null&&a.memoizedState!==null,u&&(m=o.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==b&&(m.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),Gp(o,o.updateQueue),Gt(o),null);case 4:return se(),a===null&&D_(o.stateNode.containerInfo),Gt(o),null;case 10:return ms(o.type),Gt(o),null;case 19:if(ie(yn),m=o.memoizedState,m===null)return Gt(o),null;if(b=(o.flags&128)!==0,x=m.rendering,x===null)if(b)Lf(m,!1);else{if(on!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(x=kp(a),x!==null){for(o.flags|=128,Lf(m,!1),a=x.updateQueue,o.updateQueue=a,Gp(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)AN(u,a),u=u.sibling;return ve(yn,yn.current&1|2),ft&&fs(o,m.treeForkCount),o.child}a=a.sibling}m.tail!==null&&Ue()>Zp&&(o.flags|=128,b=!0,Lf(m,!1),o.lanes=4194304)}else{if(!b)if(a=kp(x),a!==null){if(o.flags|=128,b=!0,a=a.updateQueue,o.updateQueue=a,Gp(o,a),Lf(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!ft)return Gt(o),null}else 2*Ue()-m.renderingStartTime>Zp&&u!==536870912&&(o.flags|=128,b=!0,Lf(m,!1),o.lanes=4194304);m.isBackwards?(x.sibling=o.child,o.child=x):(a=m.last,a!==null?a.sibling=x:o.child=x,m.last=x)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Ue(),a.sibling=null,u=yn.current,ve(yn,b?u&1|2:u&1),ft&&fs(o,m.treeForkCount),a):(Gt(o),null);case 22:case 23:return oi(o),Mb(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(Gt(o),o.subtreeFlags&6&&(o.flags|=8192)):Gt(o),u=o.updateQueue,u!==null&&Gp(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),a!==null&&ie(ic),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),ms(Nn),Gt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function sq(a,o){switch(xb(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return ms(Nn),se(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Q(o),null;case 31:if(o.memoizedState!==null){if(oi(o),o.alternate===null)throw Error(r(340));tc()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(oi(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));tc()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ie(yn),null;case 4:return se(),null;case 10:return ms(o.type),null;case 22:case 23:return oi(o),Mb(),a!==null&&ie(ic),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return ms(Nn),null;case 25:return null;default:return null}}function ZT(a,o){switch(xb(o),o.tag){case 3:ms(Nn),se();break;case 26:case 27:case 5:Q(o);break;case 4:se();break;case 31:o.memoizedState!==null&&oi(o);break;case 13:oi(o);break;case 19:ie(yn);break;case 10:ms(o.type);break;case 22:case 23:oi(o),Mb(),a!==null&&ie(ic);break;case 24:ms(Nn)}}function Vf(a,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var b=m.next;u=b;do{if((u.tag&a)===a){m=void 0;var x=u.create,N=u.inst;m=x(),N.destroy=m}u=u.next}while(u!==b)}}catch(V){Ct(o,o.return,V)}}function Po(a,o,u){try{var m=o.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var x=b.next;m=x;do{if((m.tag&a)===a){var N=m.inst,V=N.destroy;if(V!==void 0){N.destroy=void 0,b=o;var K=u,re=V;try{re()}catch(ue){Ct(b,K,ue)}}}m=m.next}while(m!==x)}}catch(ue){Ct(o,o.return,ue)}}function JT(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{$N(o,u)}catch(m){Ct(a,a.return,m)}}}function eC(a,o,u){u.props=cc(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(m){Ct(a,o,m)}}function Uf(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof u=="function"?a.refCleanup=u(m):u.current=m}}catch(b){Ct(a,o,b)}}function Ra(a,o){var u=a.ref,m=a.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(b){Ct(a,o,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){Ct(a,o,b)}else u.current=null}function tC(a){var o=a.type,u=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(b){Ct(a,a.return,b)}}function m_(a,o,u){try{var m=a.stateNode;Tq(m,a.type,u,o),m[Hn]=o}catch(b){Ct(a,a.return,b)}}function nC(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&zo(a.type)||a.tag===4}function p_(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||nC(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&zo(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function g_(a,o,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Yi));else if(m!==4&&(m===27&&zo(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(g_(a,o,u),a=a.sibling;a!==null;)g_(a,o,u),a=a.sibling}function Wp(a,o,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(m!==4&&(m===27&&zo(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Wp(a,o,u),a=a.sibling;a!==null;)Wp(a,o,u),a=a.sibling}function rC(a){var o=a.stateNode,u=a.memoizedProps;try{for(var m=a.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);cr(o,m,u),o[jn]=a,o[Hn]=u}catch(x){Ct(a,a.return,x)}}var bs=!1,Pn=!1,v_=!1,iC=typeof WeakSet=="function"?WeakSet:Set,Gn=null;function oq(a,o){if(a=a.containerInfo,L_=pg,a=gN(a),ub(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var b=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var N=0,V=-1,K=-1,re=0,ue=0,ge=a,ae=null;t:for(;;){for(var le;ge!==u||b!==0&&ge.nodeType!==3||(V=N+b),ge!==x||m!==0&&ge.nodeType!==3||(K=N+m),ge.nodeType===3&&(N+=ge.nodeValue.length),(le=ge.firstChild)!==null;)ae=ge,ge=le;for(;;){if(ge===a)break t;if(ae===u&&++re===b&&(V=N),ae===x&&++ue===m&&(K=N),(le=ge.nextSibling)!==null)break;ge=ae,ae=ge.parentNode}ge=le}u=V===-1||K===-1?null:{start:V,end:K}}else u=null}u=u||{start:0,end:0}}else u=null;for(V_={focusedElem:a,selectionRange:u},pg=!1,Gn=o;Gn!==null;)if(o=Gn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Gn=a;else for(;Gn!==null;){switch(o=Gn,x=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)b=a[u],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,u=o,b=x.memoizedProps,x=x.memoizedState,m=u.stateNode;try{var Pe=cc(u.type,b);a=m.getSnapshotBeforeUpdate(Pe,x),m.__reactInternalSnapshotBeforeUpdate=a}catch(qe){Ct(u,u.return,qe)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)B_(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":B_(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Gn=a;break}Gn=o.return}}function aC(a,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:xs(a,u),m&4&&Vf(5,u);break;case 1:if(xs(a,u),m&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(N){Ct(u,u.return,N)}else{var b=cc(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(b,o,a.__reactInternalSnapshotBeforeUpdate)}catch(N){Ct(u,u.return,N)}}m&64&&JT(u),m&512&&Uf(u,u.return);break;case 3:if(xs(a,u),m&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{$N(a,o)}catch(N){Ct(u,u.return,N)}}break;case 27:o===null&&m&4&&rC(u);case 26:case 5:xs(a,u),o===null&&m&4&&tC(u),m&512&&Uf(u,u.return);break;case 12:xs(a,u);break;case 31:xs(a,u),m&4&&lC(a,u);break;case 13:xs(a,u),m&4&&cC(a,u),m&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=gq.bind(null,u),Mq(a,u))));break;case 22:if(m=u.memoizedState!==null||bs,!m){o=o!==null&&o.memoizedState!==null||Pn,b=bs;var x=Pn;bs=m,(Pn=o)&&!x?ws(a,u,(u.subtreeFlags&8772)!==0):xs(a,u),bs=b,Pn=x}break;case 30:break;default:xs(a,u)}}function sC(a){var o=a.alternate;o!==null&&(a.alternate=null,sC(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&du(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Yt=null,$r=!1;function _s(a,o,u){for(u=u.child;u!==null;)oC(a,o,u),u=u.sibling}function oC(a,o,u){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(rn,u)}catch{}switch(u.tag){case 26:Pn||Ra(u,o),_s(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Pn||Ra(u,o);var m=Yt,b=$r;zo(u.type)&&(Yt=u.stateNode,$r=!1),_s(a,o,u),Qf(u.stateNode),Yt=m,$r=b;break;case 5:Pn||Ra(u,o);case 6:if(m=Yt,b=$r,Yt=null,_s(a,o,u),Yt=m,$r=b,Yt!==null)if($r)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(u.stateNode)}catch(x){Ct(u,o,x)}else try{Yt.removeChild(u.stateNode)}catch(x){Ct(u,o,x)}break;case 18:Yt!==null&&($r?(a=Yt,JC(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Qu(a)):JC(Yt,u.stateNode));break;case 4:m=Yt,b=$r,Yt=u.stateNode.containerInfo,$r=!0,_s(a,o,u),Yt=m,$r=b;break;case 0:case 11:case 14:case 15:Po(2,u,o),Pn||Po(4,u,o),_s(a,o,u);break;case 1:Pn||(Ra(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&eC(u,o,m)),_s(a,o,u);break;case 21:_s(a,o,u);break;case 22:Pn=(m=Pn)||u.memoizedState!==null,_s(a,o,u),Pn=m;break;default:_s(a,o,u)}}function lC(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Qu(a)}catch(u){Ct(o,o.return,u)}}}function cC(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Qu(a)}catch(u){Ct(o,o.return,u)}}function lq(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new iC),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new iC),o;default:throw Error(r(435,a.tag))}}function Qp(a,o){var u=lq(a);o.forEach(function(m){if(!u.has(m)){u.add(m);var b=vq.bind(null,a,m);m.then(b,b)}})}function Fr(a,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var b=u[m],x=a,N=o,V=N;e:for(;V!==null;){switch(V.tag){case 27:if(zo(V.type)){Yt=V.stateNode,$r=!1;break e}break;case 5:Yt=V.stateNode,$r=!1;break e;case 3:case 4:Yt=V.stateNode.containerInfo,$r=!0;break e}V=V.return}if(Yt===null)throw Error(r(160));oC(x,N,b),Yt=null,$r=!1,x=b.alternate,x!==null&&(x.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)uC(o,a),o=o.sibling}var na=null;function uC(a,o){var u=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Fr(o,a),Hr(a),m&4&&(Po(3,a,a.return),Vf(3,a),Po(5,a,a.return));break;case 1:Fr(o,a),Hr(a),m&512&&(Pn||u===null||Ra(u,u.return)),m&64&&bs&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var b=na;if(Fr(o,a),Hr(a),m&512&&(Pn||u===null||Ra(u,u.return)),m&4){var x=u!==null?u.memoizedState:null;if(m=a.memoizedState,u===null)if(m===null)if(a.stateNode===null){e:{m=a.type,u=a.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":x=b.getElementsByTagName("title")[0],(!x||x[ba]||x[jn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=b.createElement(m),b.head.insertBefore(x,b.querySelector("head > title"))),cr(x,m,u),x[jn]=a,An(x),m=x;break e;case"link":var N=u2("link","href",b).get(m+(u.href||""));if(N){for(var V=0;V<N.length;V++)if(x=N[V],x.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&x.getAttribute("rel")===(u.rel==null?null:u.rel)&&x.getAttribute("title")===(u.title==null?null:u.title)&&x.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(V,1);break t}}x=b.createElement(m),cr(x,m,u),b.head.appendChild(x);break;case"meta":if(N=u2("meta","content",b).get(m+(u.content||""))){for(V=0;V<N.length;V++)if(x=N[V],x.getAttribute("content")===(u.content==null?null:""+u.content)&&x.getAttribute("name")===(u.name==null?null:u.name)&&x.getAttribute("property")===(u.property==null?null:u.property)&&x.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&x.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(V,1);break t}}x=b.createElement(m),cr(x,m,u),b.head.appendChild(x);break;default:throw Error(r(468,m))}x[jn]=a,An(x),m=x}a.stateNode=m}else d2(b,a.type,a.stateNode);else a.stateNode=c2(b,m,a.memoizedProps);else x!==m?(x===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):x.count--,m===null?d2(b,a.type,a.stateNode):c2(b,m,a.memoizedProps)):m===null&&a.stateNode!==null&&m_(a,a.memoizedProps,u.memoizedProps)}break;case 27:Fr(o,a),Hr(a),m&512&&(Pn||u===null||Ra(u,u.return)),u!==null&&m&4&&m_(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Fr(o,a),Hr(a),m&512&&(Pn||u===null||Ra(u,u.return)),a.flags&32){b=a.stateNode;try{Br(b,"")}catch(Pe){Ct(a,a.return,Pe)}}m&4&&a.stateNode!=null&&(b=a.memoizedProps,m_(a,b,u!==null?u.memoizedProps:b)),m&1024&&(v_=!0);break;case 6:if(Fr(o,a),Hr(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,u=a.stateNode;try{u.nodeValue=m}catch(Pe){Ct(a,a.return,Pe)}}break;case 3:if(dg=null,b=na,na=cg(o.containerInfo),Fr(o,a),na=b,Hr(a),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Qu(o.containerInfo)}catch(Pe){Ct(a,a.return,Pe)}v_&&(v_=!1,dC(a));break;case 4:m=na,na=cg(a.stateNode.containerInfo),Fr(o,a),Hr(a),na=m;break;case 12:Fr(o,a),Hr(a);break;case 31:Fr(o,a),Hr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Qp(a,m)));break;case 13:Fr(o,a),Hr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Xp=Ue()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Qp(a,m)));break;case 22:b=a.memoizedState!==null;var K=u!==null&&u.memoizedState!==null,re=bs,ue=Pn;if(bs=re||b,Pn=ue||K,Fr(o,a),Pn=ue,bs=re,Hr(a),m&8192)e:for(o=a.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(u===null||K||bs||Pn||uc(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){K=u=o;try{if(x=K.stateNode,b)N=x.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{V=K.stateNode;var ge=K.memoizedProps.style,ae=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;V.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Pe){Ct(K,K.return,Pe)}}}else if(o.tag===6){if(u===null){K=o;try{K.stateNode.nodeValue=b?"":K.memoizedProps}catch(Pe){Ct(K,K.return,Pe)}}}else if(o.tag===18){if(u===null){K=o;try{var le=K.stateNode;b?e2(le,!0):e2(K.stateNode,!1)}catch(Pe){Ct(K,K.return,Pe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Qp(a,u))));break;case 19:Fr(o,a),Hr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Qp(a,m)));break;case 30:break;case 21:break;default:Fr(o,a),Hr(a)}}function Hr(a){var o=a.flags;if(o&2){try{for(var u,m=a.return;m!==null;){if(nC(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var b=u.stateNode,x=p_(a);Wp(a,x,b);break;case 5:var N=u.stateNode;u.flags&32&&(Br(N,""),u.flags&=-33);var V=p_(a);Wp(a,V,N);break;case 3:case 4:var K=u.stateNode.containerInfo,re=p_(a);g_(a,re,K);break;default:throw Error(r(161))}}catch(ue){Ct(a,a.return,ue)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function dC(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;dC(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function xs(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)aC(a,o.alternate,o),o=o.sibling}function uc(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Po(4,o,o.return),uc(o);break;case 1:Ra(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&eC(o,o.return,u),uc(o);break;case 27:Qf(o.stateNode);case 26:case 5:Ra(o,o.return),uc(o);break;case 22:o.memoizedState===null&&uc(o);break;case 30:uc(o);break;default:uc(o)}a=a.sibling}}function ws(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,b=a,x=o,N=x.flags;switch(x.tag){case 0:case 11:case 15:ws(b,x,u),Vf(4,x);break;case 1:if(ws(b,x,u),m=x,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(re){Ct(m,m.return,re)}if(m=x,b=m.updateQueue,b!==null){var V=m.stateNode;try{var K=b.shared.hiddenCallbacks;if(K!==null)for(b.shared.hiddenCallbacks=null,b=0;b<K.length;b++)BN(K[b],V)}catch(re){Ct(m,m.return,re)}}u&&N&64&&JT(x),Uf(x,x.return);break;case 27:rC(x);case 26:case 5:ws(b,x,u),u&&m===null&&N&4&&tC(x),Uf(x,x.return);break;case 12:ws(b,x,u);break;case 31:ws(b,x,u),u&&N&4&&lC(b,x);break;case 13:ws(b,x,u),u&&N&4&&cC(b,x);break;case 22:x.memoizedState===null&&ws(b,x,u),Uf(x,x.return);break;case 30:break;default:ws(b,x,u)}o=o.sibling}}function y_(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Sf(u))}function b_(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Sf(a))}function ra(a,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)fC(a,o,u,m),o=o.sibling}function fC(a,o,u,m){var b=o.flags;switch(o.tag){case 0:case 11:case 15:ra(a,o,u,m),b&2048&&Vf(9,o);break;case 1:ra(a,o,u,m);break;case 3:ra(a,o,u,m),b&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Sf(a)));break;case 12:if(b&2048){ra(a,o,u,m),a=o.stateNode;try{var x=o.memoizedProps,N=x.id,V=x.onPostCommit;typeof V=="function"&&V(N,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(K){Ct(o,o.return,K)}}else ra(a,o,u,m);break;case 31:ra(a,o,u,m);break;case 13:ra(a,o,u,m);break;case 23:break;case 22:x=o.stateNode,N=o.alternate,o.memoizedState!==null?x._visibility&2?ra(a,o,u,m):qf(a,o):x._visibility&2?ra(a,o,u,m):(x._visibility|=2,Lu(a,o,u,m,(o.subtreeFlags&10256)!==0||!1)),b&2048&&y_(N,o);break;case 24:ra(a,o,u,m),b&2048&&b_(o.alternate,o);break;default:ra(a,o,u,m)}}function Lu(a,o,u,m,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=a,N=o,V=u,K=m,re=N.flags;switch(N.tag){case 0:case 11:case 15:Lu(x,N,V,K,b),Vf(8,N);break;case 23:break;case 22:var ue=N.stateNode;N.memoizedState!==null?ue._visibility&2?Lu(x,N,V,K,b):qf(x,N):(ue._visibility|=2,Lu(x,N,V,K,b)),b&&re&2048&&y_(N.alternate,N);break;case 24:Lu(x,N,V,K,b),b&&re&2048&&b_(N.alternate,N);break;default:Lu(x,N,V,K,b)}o=o.sibling}}function qf(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,m=o,b=m.flags;switch(m.tag){case 22:qf(u,m),b&2048&&y_(m.alternate,m);break;case 24:qf(u,m),b&2048&&b_(m.alternate,m);break;default:qf(u,m)}o=o.sibling}}var Bf=8192;function Vu(a,o,u){if(a.subtreeFlags&Bf)for(a=a.child;a!==null;)hC(a,o,u),a=a.sibling}function hC(a,o,u){switch(a.tag){case 26:Vu(a,o,u),a.flags&Bf&&a.memoizedState!==null&&Wq(u,na,a.memoizedState,a.memoizedProps);break;case 5:Vu(a,o,u);break;case 3:case 4:var m=na;na=cg(a.stateNode.containerInfo),Vu(a,o,u),na=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=Bf,Bf=16777216,Vu(a,o,u),Bf=m):Vu(a,o,u));break;default:Vu(a,o,u)}}function mC(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function $f(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Gn=m,gC(m,a)}mC(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)pC(a),a=a.sibling}function pC(a){switch(a.tag){case 0:case 11:case 15:$f(a),a.flags&2048&&Po(9,a,a.return);break;case 3:$f(a);break;case 12:$f(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Yp(a)):$f(a);break;default:$f(a)}}function Yp(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Gn=m,gC(m,a)}mC(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Po(8,o,o.return),Yp(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Yp(o));break;default:Yp(o)}a=a.sibling}}function gC(a,o){for(;Gn!==null;){var u=Gn;switch(u.tag){case 0:case 11:case 15:Po(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Sf(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Gn=m;else e:for(u=a;Gn!==null;){m=Gn;var b=m.sibling,x=m.return;if(sC(m),m===u){Gn=null;break e}if(b!==null){b.return=x,Gn=b;break e}Gn=x}}}var cq={getCacheForType:function(a){var o=or(Nn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return or(Nn).controller.signal}},uq=typeof WeakMap=="function"?WeakMap:Map,wt=0,Vt=null,nt=null,st=0,Tt=0,li=null,Oo=!1,Uu=!1,__=!1,Es=0,on=0,Io=0,dc=0,x_=0,ci=0,qu=0,Ff=null,Kr=null,w_=!1,Xp=0,vC=0,Zp=1/0,Jp=null,Ro=null,Ln=0,ko=null,Bu=null,js=0,E_=0,j_=null,yC=null,Hf=0,A_=null;function ui(){return(wt&2)!==0&&st!==0?st&-st:F.T!==null?O_():ep()}function bC(){if(ci===0)if((st&536870912)===0||ft){var a=ss;ss<<=1,(ss&3932160)===0&&(ss=262144),ci=a}else ci=536870912;return a=si.current,a!==null&&(a.flags|=32),ci}function Gr(a,o,u){(a===Vt&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)&&($u(a,0),Do(a,st,ci,!1)),Fn(a,u),((wt&2)===0||a!==Vt)&&(a===Vt&&((wt&2)===0&&(dc|=u),on===4&&Do(a,st,ci,!1)),ka(a))}function _C(a,o,u){if((wt&6)!==0)throw Error(r(327));var m=!u&&(o&127)===0&&(o&a.expiredLanes)===0||ti(a,o),b=m?hq(a,o):N_(a,o,!0),x=m;do{if(b===0){Uu&&!m&&Do(a,o,0,!1);break}else{if(u=a.current.alternate,x&&!dq(u)){b=N_(a,o,!1),x=!1;continue}if(b===2){if(x=o,a.errorRecoveryDisabledLanes&x)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){o=N;e:{var V=a;b=Ff;var K=V.current.memoizedState.isDehydrated;if(K&&($u(V,N).flags|=256),N=N_(V,N,!1),N!==2){if(__&&!K){V.errorRecoveryDisabledLanes|=x,dc|=x,b=4;break e}x=Kr,Kr=b,x!==null&&(Kr===null?Kr=x:Kr.push.apply(Kr,x))}b=N}if(x=!1,b!==2)continue}}if(b===1){$u(a,0),Do(a,o,0,!0);break}e:{switch(m=a,x=b,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Do(m,o,ci,!Oo);break e;case 2:Kr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(b=Xp+300-Ue(),10<b)){if(Do(m,o,ci,!Oo),pr(m,0,!0)!==0)break e;js=o,m.timeoutHandle=XC(xC.bind(null,m,u,Kr,Jp,w_,o,ci,dc,qu,Oo,x,"Throttled",-0,0),b);break e}xC(m,u,Kr,Jp,w_,o,ci,dc,qu,Oo,x,null,-0,0)}}break}while(!0);ka(a)}function xC(a,o,u,m,b,x,N,V,K,re,ue,ge,ae,le){if(a.timeoutHandle=-1,ge=o.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yi},hC(o,x,ge);var Pe=(x&62914560)===x?Xp-Ue():(x&4194048)===x?vC-Ue():0;if(Pe=Qq(ge,Pe),Pe!==null){js=x,a.cancelPendingCommit=Pe(CC.bind(null,a,o,x,u,m,b,N,V,K,ue,ge,null,ae,le)),Do(a,x,N,!re);return}}CC(a,o,x,u,m,b,N,V,K)}function dq(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var b=u[m],x=b.getSnapshot;b=b.value;try{if(!ii(x(),b))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Do(a,o,u,m){o&=~x_,o&=~dc,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var b=o;0<b;){var x=31-en(b),N=1<<x;m[x]=-1,b&=~N}u!==0&&Ur(a,u,o)}function eg(){return(wt&6)===0?(Kf(0),!1):!0}function S_(){if(nt!==null){if(Tt===0)var a=nt.return;else a=nt,hs=nc=null,Bb(a),Ru=null,Tf=0,a=nt;for(;a!==null;)ZT(a.alternate,a),a=a.return;nt=null}}function $u(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,Oq(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),js=0,S_(),Vt=a,nt=u=ds(a.current,null),st=o,Tt=0,li=null,Oo=!1,Uu=ti(a,o),__=!1,qu=ci=x_=dc=Io=on=0,Kr=Ff=null,w_=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var b=31-en(m),x=1<<b;o|=a[b],m&=~x}return Es=o,xp(),u}function wC(a,o){Je=null,F.H=Mf,o===Iu||o===Cp?(o=LN(),Tt=3):o===Pb?(o=LN(),Tt=4):Tt=o===i_?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,li=o,nt===null&&(on=1,$p(a,Pi(o,a.current)))}function EC(){var a=si.current;return a===null?!0:(st&4194048)===st?ki===null:(st&62914560)===st||(st&536870912)!==0?a===ki:!1}function jC(){var a=F.H;return F.H=Mf,a===null?Mf:a}function AC(){var a=F.A;return F.A=cq,a}function tg(){on=4,Oo||(st&4194048)!==st&&si.current!==null||(Uu=!0),(Io&134217727)===0&&(dc&134217727)===0||Vt===null||Do(Vt,st,ci,!1)}function N_(a,o,u){var m=wt;wt|=2;var b=jC(),x=AC();(Vt!==a||st!==o)&&(Jp=null,$u(a,o)),o=!1;var N=on;e:do try{if(Tt!==0&&nt!==null){var V=nt,K=li;switch(Tt){case 8:S_(),N=6;break e;case 3:case 2:case 9:case 6:si.current===null&&(o=!0);var re=Tt;if(Tt=0,li=null,Fu(a,V,K,re),u&&Uu){N=0;break e}break;default:re=Tt,Tt=0,li=null,Fu(a,V,K,re)}}fq(),N=on;break}catch(ue){wC(a,ue)}while(!0);return o&&a.shellSuspendCounter++,hs=nc=null,wt=m,F.H=b,F.A=x,nt===null&&(Vt=null,st=0,xp()),N}function fq(){for(;nt!==null;)SC(nt)}function hq(a,o){var u=wt;wt|=2;var m=jC(),b=AC();Vt!==a||st!==o?(Jp=null,Zp=Ue()+500,$u(a,o)):Uu=ti(a,o);e:do try{if(Tt!==0&&nt!==null){o=nt;var x=li;t:switch(Tt){case 1:Tt=0,li=null,Fu(a,o,x,1);break;case 2:case 9:if(MN(x)){Tt=0,li=null,NC(o);break}o=function(){Tt!==2&&Tt!==9||Vt!==a||(Tt=7),ka(a)},x.then(o,o);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:MN(x)?(Tt=0,li=null,NC(o)):(Tt=0,li=null,Fu(a,o,x,7));break;case 5:var N=null;switch(nt.tag){case 26:N=nt.memoizedState;case 5:case 27:var V=nt;if(N?f2(N):V.stateNode.complete){Tt=0,li=null;var K=V.sibling;if(K!==null)nt=K;else{var re=V.return;re!==null?(nt=re,ng(re)):nt=null}break t}}Tt=0,li=null,Fu(a,o,x,5);break;case 6:Tt=0,li=null,Fu(a,o,x,6);break;case 8:S_(),on=6;break e;default:throw Error(r(462))}}mq();break}catch(ue){wC(a,ue)}while(!0);return hs=nc=null,F.H=m,F.A=b,wt=u,nt!==null?0:(Vt=null,st=0,xp(),on)}function mq(){for(;nt!==null&&!ce();)SC(nt)}function SC(a){var o=YT(a.alternate,a,Es);a.memoizedProps=a.pendingProps,o===null?ng(a):nt=o}function NC(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=FT(u,o,o.pendingProps,o.type,void 0,st);break;case 11:o=FT(u,o,o.pendingProps,o.type.render,o.ref,st);break;case 5:Bb(o);default:ZT(u,o),o=nt=AN(o,Es),o=YT(u,o,Es)}a.memoizedProps=a.pendingProps,o===null?ng(a):nt=o}function Fu(a,o,u,m){hs=nc=null,Bb(o),Ru=null,Tf=0;var b=o.return;try{if(nq(a,b,o,u,st)){on=1,$p(a,Pi(u,a.current)),nt=null;return}}catch(x){if(b!==null)throw nt=b,x;on=1,$p(a,Pi(u,a.current)),nt=null;return}o.flags&32768?(ft||m===1?a=!0:Uu||(st&536870912)!==0?a=!1:(Oo=a=!0,(m===2||m===9||m===3||m===6)&&(m=si.current,m!==null&&m.tag===13&&(m.flags|=16384))),TC(o,a)):ng(o)}function ng(a){var o=a;do{if((o.flags&32768)!==0){TC(o,Oo);return}a=o.return;var u=aq(o.alternate,o,Es);if(u!==null){nt=u;return}if(o=o.sibling,o!==null){nt=o;return}nt=o=a}while(o!==null);on===0&&(on=5)}function TC(a,o){do{var u=sq(a.alternate,a);if(u!==null){u.flags&=32767,nt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){nt=a;return}nt=a=u}while(a!==null);on=6,nt=null}function CC(a,o,u,m,b,x,N,V,K){a.cancelPendingCommit=null;do rg();while(Ln!==0);if((wt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(x=o.lanes|o.childLanes,x|=pb,Vl(a,u,x,N,V,K),a===Vt&&(nt=Vt=null,st=0),Bu=o,ko=a,js=u,E_=x,j_=b,yC=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,yq(zr,function(){return kC(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=F.T,F.T=null,b=J.p,J.p=2,N=wt,wt|=4;try{oq(a,o,u)}finally{wt=N,J.p=b,F.T=m}}Ln=1,PC(),OC(),IC()}}function PC(){if(Ln===1){Ln=0;var a=ko,o=Bu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=F.T,F.T=null;var m=J.p;J.p=2;var b=wt;wt|=4;try{uC(o,a);var x=V_,N=gN(a.containerInfo),V=x.focusedElem,K=x.selectionRange;if(N!==V&&V&&V.ownerDocument&&pN(V.ownerDocument.documentElement,V)){if(K!==null&&ub(V)){var re=K.start,ue=K.end;if(ue===void 0&&(ue=re),"selectionStart"in V)V.selectionStart=re,V.selectionEnd=Math.min(ue,V.value.length);else{var ge=V.ownerDocument||document,ae=ge&&ge.defaultView||window;if(ae.getSelection){var le=ae.getSelection(),Pe=V.textContent.length,qe=Math.min(K.start,Pe),Mt=K.end===void 0?qe:Math.min(K.end,Pe);!le.extend&&qe>Mt&&(N=Mt,Mt=qe,qe=N);var X=mN(V,qe),G=mN(V,Mt);if(X&&G&&(le.rangeCount!==1||le.anchorNode!==X.node||le.anchorOffset!==X.offset||le.focusNode!==G.node||le.focusOffset!==G.offset)){var ne=ge.createRange();ne.setStart(X.node,X.offset),le.removeAllRanges(),qe>Mt?(le.addRange(ne),le.extend(G.node,G.offset)):(ne.setEnd(G.node,G.offset),le.addRange(ne))}}}}for(ge=[],le=V;le=le.parentNode;)le.nodeType===1&&ge.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<ge.length;V++){var he=ge[V];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}pg=!!L_,V_=L_=null}finally{wt=b,J.p=m,F.T=u}}a.current=o,Ln=2}}function OC(){if(Ln===2){Ln=0;var a=ko,o=Bu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=F.T,F.T=null;var m=J.p;J.p=2;var b=wt;wt|=4;try{aC(a,o.alternate,o)}finally{wt=b,J.p=m,F.T=u}}Ln=3}}function IC(){if(Ln===4||Ln===3){Ln=0,Ie();var a=ko,o=Bu,u=js,m=yC;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ln=5:(Ln=0,Bu=ko=null,RC(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(Ro=null),os(u),o=o.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(rn,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=F.T,b=J.p,J.p=2,F.T=null;try{for(var x=a.onRecoverableError,N=0;N<m.length;N++){var V=m[N];x(V.value,{componentStack:V.stack})}}finally{F.T=o,J.p=b}}(js&3)!==0&&rg(),ka(a),b=a.pendingLanes,(u&261930)!==0&&(b&42)!==0?a===A_?Hf++:(Hf=0,A_=a):Hf=0,Kf(0)}}function RC(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Sf(o)))}function rg(){return PC(),OC(),IC(),kC()}function kC(){if(Ln!==5)return!1;var a=ko,o=E_;E_=0;var u=os(js),m=F.T,b=J.p;try{J.p=32>u?32:u,F.T=null,u=j_,j_=null;var x=ko,N=js;if(Ln=0,Bu=ko=null,js=0,(wt&6)!==0)throw Error(r(331));var V=wt;if(wt|=4,pC(x.current),fC(x,x.current,N,u),wt=V,Kf(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(rn,x)}catch{}return!0}finally{J.p=b,F.T=m,RC(a,o)}}function DC(a,o,u){o=Pi(u,o),o=r_(a.stateNode,o,2),a=No(a,o,2),a!==null&&(Fn(a,2),ka(a))}function Ct(a,o,u){if(a.tag===3)DC(a,a,u);else for(;o!==null;){if(o.tag===3){DC(o,a,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ro===null||!Ro.has(m))){a=Pi(u,a),u=MT(2),m=No(o,u,2),m!==null&&(zT(u,m,o,a),Fn(m,2),ka(m));break}}o=o.return}}function T_(a,o,u){var m=a.pingCache;if(m===null){m=a.pingCache=new uq;var b=new Set;m.set(o,b)}else b=m.get(o),b===void 0&&(b=new Set,m.set(o,b));b.has(u)||(__=!0,b.add(u),a=pq.bind(null,a,o,u),o.then(a,a))}function pq(a,o,u){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Vt===a&&(st&u)===u&&(on===4||on===3&&(st&62914560)===st&&300>Ue()-Xp?(wt&2)===0&&$u(a,0):x_|=u,qu===st&&(qu=0)),ka(a)}function MC(a,o){o===0&&(o=Ve()),a=Jl(a,o),a!==null&&(Fn(a,o),ka(a))}function gq(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),MC(a,u)}function vq(a,o){var u=0;switch(a.tag){case 31:case 13:var m=a.stateNode,b=a.memoizedState;b!==null&&(u=b.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),MC(a,u)}function yq(a,o){return It(a,o)}var ig=null,Hu=null,C_=!1,ag=!1,P_=!1,Mo=0;function ka(a){a!==Hu&&a.next===null&&(Hu===null?ig=Hu=a:Hu=Hu.next=a),ag=!0,C_||(C_=!0,_q())}function Kf(a,o){if(!P_&&ag){P_=!0;do for(var u=!1,m=ig;m!==null;){if(a!==0){var b=m.pendingLanes;if(b===0)var x=0;else{var N=m.suspendedLanes,V=m.pingedLanes;x=(1<<31-en(42|a)+1)-1,x&=b&~(N&~V),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(u=!0,UC(m,x))}else x=st,x=pr(m,m===Vt?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(x&3)===0||ti(m,x)||(u=!0,UC(m,x));m=m.next}while(u);P_=!1}}function bq(){zC()}function zC(){ag=C_=!1;var a=0;Mo!==0&&Pq()&&(a=Mo);for(var o=Ue(),u=null,m=ig;m!==null;){var b=m.next,x=LC(m,o);x===0?(m.next=null,u===null?ig=b:u.next=b,b===null&&(Hu=u)):(u=m,(a!==0||(x&3)!==0)&&(ag=!0)),m=b}Ln!==0&&Ln!==5||Kf(a),Mo!==0&&(Mo=0)}function LC(a,o){for(var u=a.suspendedLanes,m=a.pingedLanes,b=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var N=31-en(x),V=1<<N,K=b[N];K===-1?((V&u)===0||(V&m)!==0)&&(b[N]=Z(V,o)):K<=o&&(a.expiredLanes|=V),x&=~V}if(o=Vt,u=st,u=pr(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,u===0||a===o&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Mr(m),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||ti(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(m!==null&&Mr(m),os(u)){case 2:case 8:u=zn;break;case 32:u=zr;break;case 268435456:u=Lr;break;default:u=zr}return m=VC.bind(null,a),u=It(u,m),a.callbackPriority=o,a.callbackNode=u,o}return m!==null&&m!==null&&Mr(m),a.callbackPriority=2,a.callbackNode=null,2}function VC(a,o){if(Ln!==0&&Ln!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(rg()&&a.callbackNode!==u)return null;var m=st;return m=pr(a,a===Vt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(_C(a,m,o),LC(a,Ue()),a.callbackNode!=null&&a.callbackNode===u?VC.bind(null,a):null)}function UC(a,o){if(rg())return null;_C(a,o,!0)}function _q(){Iq(function(){(wt&6)!==0?It(Lt,bq):zC()})}function O_(){if(Mo===0){var a=Pu;a===0&&(a=Ei,Ei<<=1,(Ei&261888)===0&&(Ei=256)),Mo=a}return Mo}function qC(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:pu(""+a)}function BC(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function xq(a,o,u,m,b){if(o==="submit"&&u&&u.stateNode===b){var x=qC((b[Hn]||null).action),N=m.submitter;N&&(o=(o=N[Hn]||null)?qC(o.formAction):N.getAttribute("formAction"),o!==null&&(x=o,N=null));var V=new Na("action","action",null,m,b);a.push({event:V,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Mo!==0){var K=N?BC(b,N):new FormData(b);Xb(u,{pending:!0,data:K,method:b.method,action:x},null,K)}}else typeof x=="function"&&(V.preventDefault(),K=N?BC(b,N):new FormData(b),Xb(u,{pending:!0,data:K,method:b.method,action:x},x,K))},currentTarget:b}]})}}for(var I_=0;I_<mb.length;I_++){var R_=mb[I_],wq=R_.toLowerCase(),Eq=R_[0].toUpperCase()+R_.slice(1);ta(wq,"on"+Eq)}ta(bN,"onAnimationEnd"),ta(_N,"onAnimationIteration"),ta(xN,"onAnimationStart"),ta("dblclick","onDoubleClick"),ta("focusin","onFocus"),ta("focusout","onBlur"),ta(V9,"onTransitionRun"),ta(U9,"onTransitionStart"),ta(q9,"onTransitionCancel"),ta(wN,"onTransitionEnd"),Ea("onMouseEnter",["mouseout","mouseover"]),Ea("onMouseLeave",["mouseout","mouseover"]),Ea("onPointerEnter",["pointerout","pointerover"]),Ea("onPointerLeave",["pointerout","pointerover"]),wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jq=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gf));function $C(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var m=a[u],b=m.event;m=m.listeners;e:{var x=void 0;if(o)for(var N=m.length-1;0<=N;N--){var V=m[N],K=V.instance,re=V.currentTarget;if(V=V.listener,K!==x&&b.isPropagationStopped())break e;x=V,b.currentTarget=re;try{x(b)}catch(ue){_p(ue)}b.currentTarget=null,x=K}else for(N=0;N<m.length;N++){if(V=m[N],K=V.instance,re=V.currentTarget,V=V.listener,K!==x&&b.isPropagationStopped())break e;x=V,b.currentTarget=re;try{x(b)}catch(ue){_p(ue)}b.currentTarget=null,x=K}}}}function rt(a,o){var u=o[uu];u===void 0&&(u=o[uu]=new Set);var m=a+"__bubble";u.has(m)||(FC(o,a,2,!1),u.add(m))}function k_(a,o,u){var m=0;o&&(m|=4),FC(u,a,m,o)}var sg="_reactListening"+Math.random().toString(36).slice(2);function D_(a){if(!a[sg]){a[sg]=!0,af.forEach(function(u){u!=="selectionchange"&&(jq.has(u)||k_(u,!1,a),k_(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[sg]||(o[sg]=!0,k_("selectionchange",!1,o))}}function FC(a,o,u,m){switch(b2(o)){case 2:var b=Zq;break;case 8:b=Jq;break;default:b=Y_}u=b.bind(null,o,u,a),b=void 0,!Hl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),m?b!==void 0?a.addEventListener(o,u,{capture:!0,passive:b}):a.addEventListener(o,u,!0):b!==void 0?a.addEventListener(o,u,{passive:b}):a.addEventListener(o,u,!1)}function M_(a,o,u,m,b){var x=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var V=m.stateNode.containerInfo;if(V===b)break;if(N===4)for(N=m.return;N!==null;){var K=N.tag;if((K===3||K===4)&&N.stateNode.containerInfo===b)return;N=N.return}for(;V!==null;){if(N=_a(V),N===null)return;if(K=N.tag,K===5||K===6||K===26||K===27){m=x=N;continue e}V=V.parentNode}}m=m.return}vo(function(){var re=x,ue=Si(u),ge=[];e:{var ae=EN.get(a);if(ae!==void 0){var le=Na,Pe=a;switch(a){case"keypress":if(Gl(u)===0)break e;case"keydown":case"keyup":le=vp;break;case"focusin":Pe="focus",le=Ql;break;case"focusout":Pe="blur",le=Ql;break;case"beforeblur":case"afterblur":le=Ql;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=lp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=S;break;case bN:case _N:case xN:le=up;break;case wN:le=$;break;case"scroll":case"scrollend":le=vf;break;case"wheel":le=oe;break;case"copy":case"cut":case"paste":le=dp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=us;break;case"toggle":case"beforetoggle":le=Ze}var qe=(o&4)!==0,Mt=!qe&&(a==="scroll"||a==="scrollend"),X=qe?ae!==null?ae+"Capture":null:ae;qe=[];for(var G=re,ne;G!==null;){var he=G;if(ne=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ne===null||X===null||(he=Xi(G,X),he!=null&&qe.push(Wf(G,he,ne))),Mt)break;G=G.return}0<qe.length&&(ae=new le(ae,Pe,null,u,ue),ge.push({event:ae,listeners:qe}))}}if((o&7)===0){e:{if(ae=a==="mouseover"||a==="pointerover",le=a==="mouseout"||a==="pointerout",ae&&u!==mf&&(Pe=u.relatedTarget||u.fromElement)&&(_a(Pe)||Pe[ya]))break e;if((le||ae)&&(ae=ue.window===ue?ue:(ae=ue.ownerDocument)?ae.defaultView||ae.parentWindow:window,le?(Pe=u.relatedTarget||u.toElement,le=re,Pe=Pe?_a(Pe):null,Pe!==null&&(Mt=s(Pe),qe=Pe.tag,Pe!==Mt||qe!==5&&qe!==27&&qe!==6)&&(Pe=null)):(le=null,Pe=re),le!==Pe)){if(qe=yf,he="onMouseLeave",X="onMouseEnter",G="mouse",(a==="pointerout"||a==="pointerover")&&(qe=us,he="onPointerLeave",X="onPointerEnter",G="pointer"),Mt=le==null?ae:ni(le),ne=Pe==null?ae:ni(Pe),ae=new qe(he,G+"leave",le,u,ue),ae.target=Mt,ae.relatedTarget=ne,he=null,_a(ue)===re&&(qe=new qe(X,G+"enter",Pe,u,ue),qe.target=ne,qe.relatedTarget=Mt,he=qe),Mt=he,le&&Pe)t:{for(qe=Aq,X=le,G=Pe,ne=0,he=X;he;he=qe(he))ne++;he=0;for(var ze=G;ze;ze=qe(ze))he++;for(;0<ne-he;)X=qe(X),ne--;for(;0<he-ne;)G=qe(G),he--;for(;ne--;){if(X===G||G!==null&&X===G.alternate){qe=X;break t}X=qe(X),G=qe(G)}qe=null}else qe=null;le!==null&&HC(ge,ae,le,qe,!1),Pe!==null&&Mt!==null&&HC(ge,Mt,Pe,qe,!0)}}e:{if(ae=re?ni(re):window,le=ae.nodeName&&ae.nodeName.toLowerCase(),le==="select"||le==="input"&&ae.type==="file")var yt=lN;else if(sN(ae))if(cN)yt=M9;else{yt=k9;var Re=R9}else le=ae.nodeName,!le||le.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?re&&mu(re.elementType)&&(yt=lN):yt=D9;if(yt&&(yt=yt(a,re))){oN(ge,yt,u,ue);break e}Re&&Re(a,ae,re),a==="focusout"&&re&&ae.type==="number"&&re.memoizedProps.value!=null&&df(ae,"number",ae.value)}switch(Re=re?ni(re):window,a){case"focusin":(sN(Re)||Re.contentEditable==="true")&&(wu=Re,db=re,Ef=null);break;case"focusout":Ef=db=wu=null;break;case"mousedown":fb=!0;break;case"contextmenu":case"mouseup":case"dragend":fb=!1,vN(ge,u,ue);break;case"selectionchange":if(L9)break;case"keydown":case"keyup":vN(ge,u,ue)}var et;if(xt)e:{switch(a){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else xu?Yl(a,u)&&(ot="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(ot="onCompositionStart");ot&&(Pa&&u.locale!=="ko"&&(xu||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&xu&&(et=gf()):(Sa=ue,pf="value"in Sa?Sa.value:Sa.textContent,xu=!0)),Re=og(re,ot),0<Re.length&&(ot=new Ca(ot,a,null,u,ue),ge.push({event:ot,listeners:Re}),et?ot.data=et:(et=_u(u),et!==null&&(ot.data=et)))),(et=Ti?C9(a,u):P9(a,u))&&(ot=og(re,"onBeforeInput"),0<ot.length&&(Re=new Ca("onBeforeInput","beforeinput",null,u,ue),ge.push({event:Re,listeners:ot}),Re.data=et)),xq(ge,a,re,u,ue)}$C(ge,o)})}function Wf(a,o,u){return{instance:a,listener:o,currentTarget:u}}function og(a,o){for(var u=o+"Capture",m=[];a!==null;){var b=a,x=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||x===null||(b=Xi(a,u),b!=null&&m.unshift(Wf(a,b,x)),b=Xi(a,o),b!=null&&m.push(Wf(a,b,x))),a.tag===3)return m;a=a.return}return[]}function Aq(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function HC(a,o,u,m,b){for(var x=o._reactName,N=[];u!==null&&u!==m;){var V=u,K=V.alternate,re=V.stateNode;if(V=V.tag,K!==null&&K===m)break;V!==5&&V!==26&&V!==27||re===null||(K=re,b?(re=Xi(u,x),re!=null&&N.unshift(Wf(u,re,K))):b||(re=Xi(u,x),re!=null&&N.push(Wf(u,re,K)))),u=u.return}N.length!==0&&a.push({event:o,listeners:N})}var Sq=/\r\n?/g,Nq=/\u0000|\uFFFD/g;function KC(a){return(typeof a=="string"?a:""+a).replace(Sq,`
`).replace(Nq,"")}function GC(a,o){return o=KC(o),KC(a)===o}function Dt(a,o,u,m,b,x){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Br(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Br(a,""+m);break;case"className":ri(a,"class",m);break;case"tabIndex":ri(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ri(a,u,m);break;case"style":hf(a,m,x);break;case"data":if(o!=="object"){ri(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=pu(""+m),a.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(u==="formAction"?(o!=="input"&&Dt(a,o,"name",b.name,b,null),Dt(a,o,"formEncType",b.formEncType,b,null),Dt(a,o,"formMethod",b.formMethod,b,null),Dt(a,o,"formTarget",b.formTarget,b,null)):(Dt(a,o,"encType",b.encType,b,null),Dt(a,o,"method",b.method,b,null),Dt(a,o,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=pu(""+m),a.setAttribute(u,m);break;case"onClick":m!=null&&(a.onclick=Yi);break;case"onScroll":m!=null&&rt("scroll",a);break;case"onScrollEnd":m!=null&&rt("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}u=pu(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""+m):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":m===!0?a.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,m):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(u,m):a.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(u):a.setAttribute(u,m);break;case"popover":rt("beforetoggle",a),rt("toggle",a),fu(a,"popover",m);break;case"xlinkActuate":Sn(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Sn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Sn(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Sn(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Sn(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Sn(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Sn(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Sn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Sn(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":fu(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=op.get(u)||u,fu(a,u,m))}}function z_(a,o,u,m,b,x){switch(u){case"style":hf(a,m,x);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof m=="string"?Br(a,m):(typeof m=="number"||typeof m=="bigint")&&Br(a,""+m);break;case"onScroll":m!=null&&rt("scroll",a);break;case"onScrollEnd":m!=null&&rt("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Yi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sf.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),o=u.slice(2,b?u.length-7:void 0),x=a[Hn]||null,x=x!=null?x[u]:null,typeof x=="function"&&a.removeEventListener(o,x,b),typeof m=="function")){typeof x!="function"&&x!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,m,b);break e}u in a?a[u]=m:m===!0?a.setAttribute(u,""):fu(a,u,m)}}}function cr(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",a),rt("load",a);var m=!1,b=!1,x;for(x in u)if(u.hasOwnProperty(x)){var N=u[x];if(N!=null)switch(x){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Dt(a,o,x,N,u,null)}}b&&Dt(a,o,"srcSet",u.srcSet,u,null),m&&Dt(a,o,"src",u.src,u,null);return;case"input":rt("invalid",a);var V=x=N=b=null,K=null,re=null;for(m in u)if(u.hasOwnProperty(m)){var ue=u[m];if(ue!=null)switch(m){case"name":b=ue;break;case"type":N=ue;break;case"checked":K=ue;break;case"defaultChecked":re=ue;break;case"value":x=ue;break;case"defaultValue":V=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,o));break;default:Dt(a,o,m,ue,u,null)}}ip(a,x,V,K,re,N,b,!1);return;case"select":rt("invalid",a),m=N=x=null;for(b in u)if(u.hasOwnProperty(b)&&(V=u[b],V!=null))switch(b){case"value":x=V;break;case"defaultValue":N=V;break;case"multiple":m=V;default:Dt(a,o,b,V,u,null)}o=x,u=N,a.multiple=!!m,o!=null?ho(a,!!m,o,!1):u!=null&&ho(a,!!m,u,!0);return;case"textarea":rt("invalid",a),x=b=m=null;for(N in u)if(u.hasOwnProperty(N)&&(V=u[N],V!=null))switch(N){case"value":m=V;break;case"defaultValue":b=V;break;case"children":x=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:Dt(a,o,N,V,u,null)}mo(a,m,b,x);return;case"option":for(K in u)u.hasOwnProperty(K)&&(m=u[K],m!=null)&&(K==="selected"?a.selected=m&&typeof m!="function"&&typeof m!="symbol":Dt(a,o,K,m,u,null));return;case"dialog":rt("beforetoggle",a),rt("toggle",a),rt("cancel",a),rt("close",a);break;case"iframe":case"object":rt("load",a);break;case"video":case"audio":for(m=0;m<Gf.length;m++)rt(Gf[m],a);break;case"image":rt("error",a),rt("load",a);break;case"details":rt("toggle",a);break;case"embed":case"source":case"link":rt("error",a),rt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in u)if(u.hasOwnProperty(re)&&(m=u[re],m!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Dt(a,o,re,m,u,null)}return;default:if(mu(o)){for(ue in u)u.hasOwnProperty(ue)&&(m=u[ue],m!==void 0&&z_(a,o,ue,m,u,void 0));return}}for(V in u)u.hasOwnProperty(V)&&(m=u[V],m!=null&&Dt(a,o,V,m,u,null))}function Tq(a,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,x=null,N=null,V=null,K=null,re=null,ue=null;for(le in u){var ge=u[le];if(u.hasOwnProperty(le)&&ge!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":K=ge;default:m.hasOwnProperty(le)||Dt(a,o,le,null,m,ge)}}for(var ae in m){var le=m[ae];if(ge=u[ae],m.hasOwnProperty(ae)&&(le!=null||ge!=null))switch(ae){case"type":x=le;break;case"name":b=le;break;case"checked":re=le;break;case"defaultChecked":ue=le;break;case"value":N=le;break;case"defaultValue":V=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:le!==ge&&Dt(a,o,ae,le,m,ge)}}hu(a,N,V,K,re,ue,x,b);return;case"select":le=N=V=ae=null;for(x in u)if(K=u[x],u.hasOwnProperty(x)&&K!=null)switch(x){case"value":break;case"multiple":le=K;default:m.hasOwnProperty(x)||Dt(a,o,x,null,m,K)}for(b in m)if(x=m[b],K=u[b],m.hasOwnProperty(b)&&(x!=null||K!=null))switch(b){case"value":ae=x;break;case"defaultValue":V=x;break;case"multiple":N=x;default:x!==K&&Dt(a,o,b,x,m,K)}o=V,u=N,m=le,ae!=null?ho(a,!!u,ae,!1):!!m!=!!u&&(o!=null?ho(a,!!u,o,!0):ho(a,!!u,u?[]:"",!1));return;case"textarea":le=ae=null;for(V in u)if(b=u[V],u.hasOwnProperty(V)&&b!=null&&!m.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Dt(a,o,V,null,m,b)}for(N in m)if(b=m[N],x=u[N],m.hasOwnProperty(N)&&(b!=null||x!=null))switch(N){case"value":ae=b;break;case"defaultValue":le=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==x&&Dt(a,o,N,b,m,x)}ap(a,ae,le);return;case"option":for(var Pe in u)ae=u[Pe],u.hasOwnProperty(Pe)&&ae!=null&&!m.hasOwnProperty(Pe)&&(Pe==="selected"?a.selected=!1:Dt(a,o,Pe,null,m,ae));for(K in m)ae=m[K],le=u[K],m.hasOwnProperty(K)&&ae!==le&&(ae!=null||le!=null)&&(K==="selected"?a.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":Dt(a,o,K,ae,m,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in u)ae=u[qe],u.hasOwnProperty(qe)&&ae!=null&&!m.hasOwnProperty(qe)&&Dt(a,o,qe,null,m,ae);for(re in m)if(ae=m[re],le=u[re],m.hasOwnProperty(re)&&ae!==le&&(ae!=null||le!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:Dt(a,o,re,ae,m,le)}return;default:if(mu(o)){for(var Mt in u)ae=u[Mt],u.hasOwnProperty(Mt)&&ae!==void 0&&!m.hasOwnProperty(Mt)&&z_(a,o,Mt,void 0,m,ae);for(ue in m)ae=m[ue],le=u[ue],!m.hasOwnProperty(ue)||ae===le||ae===void 0&&le===void 0||z_(a,o,ue,ae,m,le);return}}for(var X in u)ae=u[X],u.hasOwnProperty(X)&&ae!=null&&!m.hasOwnProperty(X)&&Dt(a,o,X,null,m,ae);for(ge in m)ae=m[ge],le=u[ge],!m.hasOwnProperty(ge)||ae===le||ae==null&&le==null||Dt(a,o,ge,ae,m,le)}function WC(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Cq(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var b=u[m],x=b.transferSize,N=b.initiatorType,V=b.duration;if(x&&V&&WC(N)){for(N=0,V=b.responseEnd,m+=1;m<u.length;m++){var K=u[m],re=K.startTime;if(re>V)break;var ue=K.transferSize,ge=K.initiatorType;ue&&WC(ge)&&(K=K.responseEnd,N+=ue*(K<V?1:(V-re)/(K-re)))}if(--m,o+=8*(x+N)/(b.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var L_=null,V_=null;function lg(a){return a.nodeType===9?a:a.ownerDocument}function QC(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function YC(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function U_(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var q_=null;function Pq(){var a=window.event;return a&&a.type==="popstate"?a===q_?!1:(q_=a,!0):(q_=null,!1)}var XC=typeof setTimeout=="function"?setTimeout:void 0,Oq=typeof clearTimeout=="function"?clearTimeout:void 0,ZC=typeof Promise=="function"?Promise:void 0,Iq=typeof queueMicrotask=="function"?queueMicrotask:typeof ZC<"u"?function(a){return ZC.resolve(null).then(a).catch(Rq)}:XC;function Rq(a){setTimeout(function(){throw a})}function zo(a){return a==="head"}function JC(a,o){var u=o,m=0;do{var b=u.nextSibling;if(a.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"||u==="/&"){if(m===0){a.removeChild(b),Qu(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")Qf(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,Qf(u);for(var x=u.firstChild;x;){var N=x.nextSibling,V=x.nodeName;x[ba]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&x.rel.toLowerCase()==="stylesheet"||u.removeChild(x),x=N}}else u==="body"&&Qf(a.ownerDocument.body);u=b}while(u);Qu(o)}function e2(a,o){var u=a;a=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=m}while(u)}function B_(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":B_(u),du(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function kq(a,o,u,m){for(;a.nodeType===1;){var b=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[ba])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var x=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=Di(a.nextSibling),a===null)break}return null}function Dq(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Di(a.nextSibling),a===null))return null;return a}function t2(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Di(a.nextSibling),a===null))return null;return a}function $_(a){return a.data==="$?"||a.data==="$~"}function F_(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function Mq(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Di(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var H_=null;function n2(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return Di(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function r2(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function i2(a,o,u){switch(o=lg(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Qf(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);du(a)}var Mi=new Map,a2=new Set;function cg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var As=J.d;J.d={f:zq,r:Lq,D:Vq,C:Uq,L:qq,m:Bq,X:Fq,S:$q,M:Hq};function zq(){var a=As.f(),o=eg();return a||o}function Lq(a){var o=Ai(a);o!==null&&o.tag===5&&o.type==="form"?wT(o):As.r(a)}var Ku=typeof document>"u"?null:document;function s2(a,o,u){var m=Ku;if(m&&typeof o=="string"&&o){var b=qr(o);b='link[rel="'+a+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),a2.has(b)||(a2.add(b),a={rel:a,crossOrigin:u,href:o},m.querySelector(b)===null&&(o=m.createElement("link"),cr(o,"link",a),An(o),m.head.appendChild(o)))}}function Vq(a){As.D(a),s2("dns-prefetch",a,null)}function Uq(a,o){As.C(a,o),s2("preconnect",a,o)}function qq(a,o,u){As.L(a,o,u);var m=Ku;if(m&&a&&o){var b='link[rel="preload"][as="'+qr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+qr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+qr(u.imageSizes)+'"]')):b+='[href="'+qr(a)+'"]';var x=b;switch(o){case"style":x=Gu(a);break;case"script":x=Wu(a)}Mi.has(x)||(a=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),Mi.set(x,a),m.querySelector(b)!==null||o==="style"&&m.querySelector(Yf(x))||o==="script"&&m.querySelector(Xf(x))||(o=m.createElement("link"),cr(o,"link",a),An(o),m.head.appendChild(o)))}}function Bq(a,o){As.m(a,o);var u=Ku;if(u&&a){var m=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+qr(m)+'"][href="'+qr(a)+'"]',x=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Wu(a)}if(!Mi.has(x)&&(a=g({rel:"modulepreload",href:a},o),Mi.set(x,a),u.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Xf(x)))return}m=u.createElement("link"),cr(m,"link",a),An(m),u.head.appendChild(m)}}}function $q(a,o,u){As.S(a,o,u);var m=Ku;if(m&&a){var b=xa(m).hoistableStyles,x=Gu(a);o=o||"default";var N=b.get(x);if(!N){var V={loading:0,preload:null};if(N=m.querySelector(Yf(x)))V.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},u),(u=Mi.get(x))&&K_(a,u);var K=N=m.createElement("link");An(K),cr(K,"link",a),K._p=new Promise(function(re,ue){K.onload=re,K.onerror=ue}),K.addEventListener("load",function(){V.loading|=1}),K.addEventListener("error",function(){V.loading|=2}),V.loading|=4,ug(N,o,m)}N={type:"stylesheet",instance:N,count:1,state:V},b.set(x,N)}}}function Fq(a,o){As.X(a,o);var u=Ku;if(u&&a){var m=xa(u).hoistableScripts,b=Wu(a),x=m.get(b);x||(x=u.querySelector(Xf(b)),x||(a=g({src:a,async:!0},o),(o=Mi.get(b))&&G_(a,o),x=u.createElement("script"),An(x),cr(x,"link",a),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(b,x))}}function Hq(a,o){As.M(a,o);var u=Ku;if(u&&a){var m=xa(u).hoistableScripts,b=Wu(a),x=m.get(b);x||(x=u.querySelector(Xf(b)),x||(a=g({src:a,async:!0,type:"module"},o),(o=Mi.get(b))&&G_(a,o),x=u.createElement("script"),An(x),cr(x,"link",a),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(b,x))}}function o2(a,o,u,m){var b=(b=W.current)?cg(b):null;if(!b)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Gu(u.href),u=xa(b).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Gu(u.href);var x=xa(b).hoistableStyles,N=x.get(a);if(N||(b=b.ownerDocument||b,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,N),(x=b.querySelector(Yf(a)))&&!x._p&&(N.instance=x,N.state.loading=5),Mi.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Mi.set(a,u),x||Kq(b,a,u,N.state))),o&&m===null)throw Error(r(528,""));return N}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Wu(u),u=xa(b).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Gu(a){return'href="'+qr(a)+'"'}function Yf(a){return'link[rel="stylesheet"]['+a+"]"}function l2(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function Kq(a,o,u,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),cr(o,"link",u),An(o),a.head.appendChild(o))}function Wu(a){return'[src="'+qr(a)+'"]'}function Xf(a){return"script[async]"+a}function c2(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+qr(u.href)+'"]');if(m)return o.instance=m,An(m),m;var b=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),An(m),cr(m,"style",b),ug(m,u.precedence,a),o.instance=m;case"stylesheet":b=Gu(u.href);var x=a.querySelector(Yf(b));if(x)return o.state.loading|=4,o.instance=x,An(x),x;m=l2(u),(b=Mi.get(b))&&K_(m,b),x=(a.ownerDocument||a).createElement("link"),An(x);var N=x;return N._p=new Promise(function(V,K){N.onload=V,N.onerror=K}),cr(x,"link",m),o.state.loading|=4,ug(x,u.precedence,a),o.instance=x;case"script":return x=Wu(u.src),(b=a.querySelector(Xf(x)))?(o.instance=b,An(b),b):(m=u,(b=Mi.get(x))&&(m=g({},u),G_(m,b)),a=a.ownerDocument||a,b=a.createElement("script"),An(b),cr(b,"link",m),a.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,ug(m,u.precedence,a));return o.instance}function ug(a,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,x=b,N=0;N<m.length;N++){var V=m[N];if(V.dataset.precedence===o)x=V;else if(x!==b)break}x?x.parentNode.insertBefore(a,x.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function K_(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function G_(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var dg=null;function u2(a,o,u){if(dg===null){var m=new Map,b=dg=new Map;b.set(u,m)}else b=dg,m=b.get(u),m||(m=new Map,b.set(u,m));if(m.has(a))return m;for(m.set(a,null),u=u.getElementsByTagName(a),b=0;b<u.length;b++){var x=u[b];if(!(x[ba]||x[jn]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var N=x.getAttribute(o)||"";N=a+N;var V=m.get(N);V?V.push(x):m.set(N,[x])}}return m}function d2(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function Gq(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function f2(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function Wq(a,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var b=Gu(m.href),x=o.querySelector(Yf(b));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=fg.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=x,An(x);return}x=o.ownerDocument||o,m=l2(m),(b=Mi.get(b))&&K_(m,b),x=x.createElement("link"),An(x);var N=x;N._p=new Promise(function(V,K){N.onload=V,N.onerror=K}),cr(x,"link",m),u.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=fg.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var W_=0;function Qq(a,o){return a.stylesheets&&a.count===0&&mg(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var m=setTimeout(function(){if(a.stylesheets&&mg(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+o);0<a.imgBytes&&W_===0&&(W_=62500*Cq());var b=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&mg(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>W_?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(b)}}:null}function fg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mg(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var hg=null;function mg(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,hg=new Map,o.forEach(Yq,a),hg=null,fg.call(a))}function Yq(a,o){if(!(o.state.loading&4)){var u=hg.get(a);if(u)var m=u.get(null);else{u=new Map,hg.set(a,u);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<b.length;x++){var N=b[x];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),m=N)}m&&u.set(null,m)}b=o.instance,N=b.getAttribute("data-precedence"),x=u.get(N)||m,x===m&&u.set(null,b),u.set(N,b),this.count++,m=fg.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),x?x.parentNode.insertBefore(b,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),o.state.loading|=4}}var Zf={$$typeof:I,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Xq(a,o,u,m,b,x,N,V,K){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.hiddenUpdates=mt(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=x,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function h2(a,o,u,m,b,x,N,V,K,re,ue,ge){return a=new Xq(a,o,u,N,K,re,ue,ge,V),o=1,x===!0&&(o|=24),x=ai(3,null,null,o),a.current=x,x.stateNode=a,o=Nb(),o.refCount++,a.pooledCache=o,o.refCount++,x.memoizedState={element:m,isDehydrated:u,cache:o},Ob(x),a}function m2(a){return a?(a=Au,a):Au}function p2(a,o,u,m,b,x){b=m2(b),m.context===null?m.context=b:m.pendingContext=b,m=So(o),m.payload={element:u},x=x===void 0?null:x,x!==null&&(m.callback=x),u=No(a,m,o),u!==null&&(Gr(u,a,o),Pf(u,a,o))}function g2(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function Q_(a,o){g2(a,o),(a=a.alternate)&&g2(a,o)}function v2(a){if(a.tag===13||a.tag===31){var o=Jl(a,67108864);o!==null&&Gr(o,a,67108864),Q_(a,67108864)}}function y2(a){if(a.tag===13||a.tag===31){var o=ui();o=ql(o);var u=Jl(a,o);u!==null&&Gr(u,a,o),Q_(a,o)}}var pg=!0;function Zq(a,o,u,m){var b=F.T;F.T=null;var x=J.p;try{J.p=2,Y_(a,o,u,m)}finally{J.p=x,F.T=b}}function Jq(a,o,u,m){var b=F.T;F.T=null;var x=J.p;try{J.p=8,Y_(a,o,u,m)}finally{J.p=x,F.T=b}}function Y_(a,o,u,m){if(pg){var b=X_(m);if(b===null)M_(a,o,m,gg,u),_2(a,m);else if(t8(b,a,o,u,m))m.stopPropagation();else if(_2(a,m),o&4&&-1<e8.indexOf(a)){for(;b!==null;){var x=Ai(b);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var N=ji(x.pendingLanes);if(N!==0){var V=x;for(V.pendingLanes|=2,V.entangledLanes|=2;N;){var K=1<<31-en(N);V.entanglements[1]|=K,N&=~K}ka(x),(wt&6)===0&&(Zp=Ue()+500,Kf(0))}}break;case 31:case 13:V=Jl(x,2),V!==null&&Gr(V,x,2),eg(),Q_(x,2)}if(x=X_(m),x===null&&M_(a,o,m,gg,u),x===b)break;b=x}b!==null&&m.stopPropagation()}else M_(a,o,m,null,u)}}function X_(a){return a=Si(a),Z_(a)}var gg=null;function Z_(a){if(gg=null,a=_a(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=c(o),a!==null)return a;a=null}else if(u===31){if(a=d(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return gg=a,null}function b2(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ke()){case Lt:return 2;case zn:return 8;case zr:case co:return 32;case Lr:return 268435456;default:return 32}default:return 32}}var J_=!1,Lo=null,Vo=null,Uo=null,Jf=new Map,eh=new Map,qo=[],e8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _2(a,o){switch(a){case"focusin":case"focusout":Lo=null;break;case"dragenter":case"dragleave":Vo=null;break;case"mouseover":case"mouseout":Uo=null;break;case"pointerover":case"pointerout":Jf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":eh.delete(o.pointerId)}}function th(a,o,u,m,b,x){return a===null||a.nativeEvent!==x?(a={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:x,targetContainers:[b]},o!==null&&(o=Ai(o),o!==null&&v2(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),a)}function t8(a,o,u,m,b){switch(o){case"focusin":return Lo=th(Lo,a,o,u,m,b),!0;case"dragenter":return Vo=th(Vo,a,o,u,m,b),!0;case"mouseover":return Uo=th(Uo,a,o,u,m,b),!0;case"pointerover":var x=b.pointerId;return Jf.set(x,th(Jf.get(x)||null,a,o,u,m,b)),!0;case"gotpointercapture":return x=b.pointerId,eh.set(x,th(eh.get(x)||null,a,o,u,m,b)),!0}return!1}function x2(a){var o=_a(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){a.blockedOn=o,Wi(a.priority,function(){y2(u)});return}}else if(o===31){if(o=d(u),o!==null){a.blockedOn=o,Wi(a.priority,function(){y2(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function vg(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=X_(a.nativeEvent);if(u===null){u=a.nativeEvent;var m=new u.constructor(u.type,u);mf=m,u.target.dispatchEvent(m),mf=null}else return o=Ai(u),o!==null&&v2(o),a.blockedOn=u,!1;o.shift()}return!0}function w2(a,o,u){vg(a)&&u.delete(o)}function n8(){J_=!1,Lo!==null&&vg(Lo)&&(Lo=null),Vo!==null&&vg(Vo)&&(Vo=null),Uo!==null&&vg(Uo)&&(Uo=null),Jf.forEach(w2),eh.forEach(w2)}function yg(a,o){a.blockedOn===o&&(a.blockedOn=null,J_||(J_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,n8)))}var bg=null;function E2(a){bg!==a&&(bg=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){bg===a&&(bg=null);for(var o=0;o<a.length;o+=3){var u=a[o],m=a[o+1],b=a[o+2];if(typeof m!="function"){if(Z_(m||u)===null)continue;break}var x=Ai(u);x!==null&&(a.splice(o,3),o-=3,Xb(x,{pending:!0,data:b,method:u.method,action:m},m,b))}}))}function Qu(a){function o(K){return yg(K,a)}Lo!==null&&yg(Lo,a),Vo!==null&&yg(Vo,a),Uo!==null&&yg(Uo,a),Jf.forEach(o),eh.forEach(o);for(var u=0;u<qo.length;u++){var m=qo[u];m.blockedOn===a&&(m.blockedOn=null)}for(;0<qo.length&&(u=qo[0],u.blockedOn===null);)x2(u),u.blockedOn===null&&qo.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var b=u[m],x=u[m+1],N=b[Hn]||null;if(typeof x=="function")N||E2(u);else if(N){var V=null;if(x&&x.hasAttribute("formAction")){if(b=x,N=x[Hn]||null)V=N.formAction;else if(Z_(b)!==null)continue}else V=N.action;typeof V=="function"?u[m+1]=V:(u.splice(m,3),m-=3),E2(u)}}}function j2(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(N){return b=N})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,b=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function ex(a){this._internalRoot=a}_g.prototype.render=ex.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,m=ui();p2(u,m,a,o,null,null)},_g.prototype.unmount=ex.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;p2(a.current,2,null,a,null,null),eg(),o[ya]=null}};function _g(a){this._internalRoot=a}_g.prototype.unstable_scheduleHydration=function(a){if(a){var o=ep();a={blockedOn:null,target:a,priority:o};for(var u=0;u<qo.length&&o!==0&&o<qo[u].priority;u++);qo.splice(u,0,a),u===0&&x2(a)}};var A2=e.version;if(A2!=="19.2.4")throw Error(r(527,A2,"19.2.4"));J.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var r8={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xg.isDisabled&&xg.supportsFiber)try{rn=xg.inject(r8),St=xg}catch{}}return rh.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,m="",b=IT,x=RT,N=kT;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError)),o=h2(a,1,!1,null,null,u,m,null,b,x,N,j2),a[ya]=o.current,D_(a),new ex(o)},rh.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var m=!1,b="",x=IT,N=RT,V=kT,K=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(V=u.onRecoverableError),u.formState!==void 0&&(K=u.formState)),o=h2(a,1,!0,o,u??null,m,b,K,x,N,V,j2),o.context=m2(null),u=o.current,m=ui(),m=ql(m),b=So(m),b.callback=null,No(u,b,m),u=m,o.current.lanes=u,Fn(o,u),ka(o),a[ya]=o.current,D_(a),new _g(o)},rh.version="19.2.4",rh}var D2;function h8(){if(D2)return rx.exports;D2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rx.exports=f8(),rx.exports}var m8=h8();const p8=ns(m8);var XE=QM();function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lh.apply(this,arguments)}var nl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(nl||(nl={}));const M2="popstate";function g8(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:c,hash:d}=r.location;return dw("",{pathname:s,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:mv(i)}return y8(e,n,null,t)}function En(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ZE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function v8(){return Math.random().toString(36).substr(2,8)}function z2(t,e){return{usr:t.state,key:t.key,idx:e}}function dw(t,e,n,r){return n===void 0&&(n=null),Lh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zd(e):e,{state:n,key:e&&e.key||r||v8()})}function mv(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function y8(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,c=i.history,d=nl.Pop,f=null,h=p();h==null&&(h=0,c.replaceState(Lh({},c.state,{idx:h}),""));function p(){return(c.state||{idx:null}).idx}function g(){d=nl.Pop;let A=p(),T=A==null?null:A-h;h=A,f&&f({action:d,location:E.location,delta:T})}function y(A,T){d=nl.Push;let k=dw(E.location,A,T);h=p()+1;let I=z2(k,h),R=E.createHref(k);try{c.pushState(I,"",R)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(R)}s&&f&&f({action:d,location:E.location,delta:1})}function w(A,T){d=nl.Replace;let k=dw(E.location,A,T);h=p();let I=z2(k,h),R=E.createHref(k);c.replaceState(I,"",R),s&&f&&f({action:d,location:E.location,delta:0})}function j(A){let T=i.location.origin!=="null"?i.location.origin:i.location.href,k=typeof A=="string"?A:mv(A);return k=k.replace(/ $/,"%20"),En(T,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,T)}let E={get action(){return d},get location(){return t(i,c)},listen(A){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(M2,g),f=A,()=>{i.removeEventListener(M2,g),f=null}},createHref(A){return e(i,A)},createURL:j,encodeLocation(A){let T=j(A);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:w,go(A){return c.go(A)}};return E}var L2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(L2||(L2={}));function b8(t,e,n){return n===void 0&&(n="/"),_8(t,e,n)}function _8(t,e,n,r){let i=typeof e=="string"?zd(e):e,s=JE(i.pathname||"/",n);if(s==null)return null;let c=YM(t);x8(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let h=R8(s);d=P8(c[f],h)}return d}function YM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,c,d)=>{let f={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};f.relativePath.startsWith("/")&&(En(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let h=sl([r,f.relativePath]),p=n.concat(f);s.children&&s.children.length>0&&(En(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),YM(s.children,e,p,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:T8(h,s.index),routesMeta:p})};return t.forEach((s,c)=>{var d;if(s.path===""||!((d=s.path)!=null&&d.includes("?")))i(s,c);else for(let f of XM(s.path))i(s,c,f)}),e}function XM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let c=XM(r.join("/")),d=[];return d.push(...c.map(f=>f===""?s:[s,f].join("/"))),i&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function x8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:C8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const w8=/^:[\w-]+$/,E8=3,j8=2,A8=1,S8=10,N8=-2,V2=t=>t==="*";function T8(t,e){let n=t.split("/"),r=n.length;return n.some(V2)&&(r+=N8),e&&(r+=j8),n.filter(i=>!V2(i)).reduce((i,s)=>i+(w8.test(s)?E8:s===""?A8:S8),r)}function C8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function P8(t,e,n){let{routesMeta:r}=t,i={},s="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=O8({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),y=f.route;if(!g)return null;Object.assign(i,g.params),c.push({params:i,pathname:sl([s,g.pathname]),pathnameBase:L8(sl([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=sl([s,g.pathnameBase]))}return c}function O8(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=I8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],c=s.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((h,p,g)=>{let{paramName:y,isOptional:w}=p;if(y==="*"){let E=d[g]||"";c=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const j=d[g];return w&&!j?h[y]=void 0:h[y]=(j||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:c,pattern:t}}function I8(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ZE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function R8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ZE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function JE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const k8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D8=t=>k8.test(t);function M8(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?zd(t):t,s;if(n)if(D8(n))s=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),ZE(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+n))}n.startsWith("/")?s=U2(n.substring(1),"/"):s=U2(n,e)}else s=e;return{pathname:s,search:V8(r),hash:U8(i)}}function U2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ox(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function z8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ej(t,e){let n=z8(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tj(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=zd(t):(i=Lh({},t),En(!i.pathname||!i.pathname.includes("?"),ox("?","pathname","search",i)),En(!i.pathname||!i.pathname.includes("#"),ox("#","pathname","hash",i)),En(!i.search||!i.search.includes("#"),ox("#","search","hash",i)));let s=t===""||i.pathname==="",c=s?"/":i.pathname,d;if(c==null)d=n;else{let g=e.length-1;if(!r&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}d=g>=0?e[g]:"/"}let f=M8(i,d),h=c&&c!=="/"&&c.endsWith("/"),p=(s||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}const sl=t=>t.join("/").replace(/\/\/+/g,"/"),L8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),V8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,U8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function q8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ZM=["post","put","patch","delete"];new Set(ZM);const B8=["get",...ZM];new Set(B8);function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(this,arguments)}const nj=_.createContext(null),$8=_.createContext(null),Sl=_.createContext(null),My=_.createContext(null),Xs=_.createContext({outlet:null,matches:[],isDataRoute:!1}),JM=_.createContext(null);function F8(t,e){let{relative:n}=e===void 0?{}:e;Ld()||En(!1);let{basename:r,navigator:i}=_.useContext(Sl),{hash:s,pathname:c,search:d}=n4(t,{relative:n}),f=c;return r!=="/"&&(f=c==="/"?r:sl([r,c])),i.createHref({pathname:f,search:d,hash:s})}function Ld(){return _.useContext(My)!=null}function Nl(){return Ld()||En(!1),_.useContext(My).location}function e4(t){_.useContext(Sl).static||_.useLayoutEffect(t)}function Zs(){let{isDataRoute:t}=_.useContext(Xs);return t?rB():H8()}function H8(){Ld()||En(!1);let t=_.useContext(nj),{basename:e,future:n,navigator:r}=_.useContext(Sl),{matches:i}=_.useContext(Xs),{pathname:s}=Nl(),c=JSON.stringify(ej(i,n.v7_relativeSplatPath)),d=_.useRef(!1);return e4(()=>{d.current=!0}),_.useCallback(function(h,p){if(p===void 0&&(p={}),!d.current)return;if(typeof h=="number"){r.go(h);return}let g=tj(h,JSON.parse(c),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:sl([e,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[e,r,c,s,t])}function t4(){let{matches:t}=_.useContext(Xs),e=t[t.length-1];return e?e.params:{}}function n4(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=_.useContext(Sl),{matches:i}=_.useContext(Xs),{pathname:s}=Nl(),c=JSON.stringify(ej(i,r.v7_relativeSplatPath));return _.useMemo(()=>tj(t,JSON.parse(c),s,n==="path"),[t,c,s,n])}function K8(t,e){return G8(t,e)}function G8(t,e,n,r){Ld()||En(!1);let{navigator:i}=_.useContext(Sl),{matches:s}=_.useContext(Xs),c=s[s.length-1],d=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let h=Nl(),p;if(e){var g;let A=typeof e=="string"?zd(e):e;f==="/"||(g=A.pathname)!=null&&g.startsWith(f)||En(!1),p=A}else p=h;let y=p.pathname||"/",w=y;if(f!=="/"){let A=f.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(A.length).join("/")}let j=b8(t,{pathname:w}),E=Z8(j&&j.map(A=>Object.assign({},A,{params:Object.assign({},d,A.params),pathname:sl([f,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:sl([f,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,n,r);return e&&E?_.createElement(My.Provider,{value:{location:Vh({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:nl.Pop}},E):E}function W8(){let t=nB(),e=q8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,null)}const Q8=_.createElement(W8,null);class Y8 extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(Xs.Provider,{value:this.props.routeContext},_.createElement(JM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function X8(t){let{routeContext:e,match:n,children:r}=t,i=_.useContext(nj);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(Xs.Provider,{value:e},r)}function Z8(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,d=(i=n)==null?void 0:i.errors;if(d!=null){let p=c.findIndex(g=>g.route.id&&d?.[g.route.id]!==void 0);p>=0||En(!1),c=c.slice(0,Math.min(c.length,p+1))}let f=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<c.length;p++){let g=c[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:y,errors:w}=n,j=g.route.loader&&y[g.route.id]===void 0&&(!w||w[g.route.id]===void 0);if(g.route.lazy||j){f=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((p,g,y)=>{let w,j=!1,E=null,A=null;n&&(w=d&&g.route.id?d[g.route.id]:void 0,E=g.route.errorElement||Q8,f&&(h<0&&y===0?(iB("route-fallback"),j=!0,A=null):h===y&&(j=!0,A=g.route.hydrateFallbackElement||null)));let T=e.concat(c.slice(0,y+1)),k=()=>{let I;return w?I=E:j?I=A:g.route.Component?I=_.createElement(g.route.Component,null):g.route.element?I=g.route.element:I=p,_.createElement(X8,{match:g,routeContext:{outlet:p,matches:T,isDataRoute:n!=null},children:I})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?_.createElement(Y8,{location:n.location,revalidation:n.revalidation,component:E,error:w,children:k(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):k()},null)}var r4=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(r4||{}),i4=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(i4||{});function J8(t){let e=_.useContext(nj);return e||En(!1),e}function eB(t){let e=_.useContext($8);return e||En(!1),e}function tB(t){let e=_.useContext(Xs);return e||En(!1),e}function a4(t){let e=tB(),n=e.matches[e.matches.length-1];return n.route.id||En(!1),n.route.id}function nB(){var t;let e=_.useContext(JM),n=eB(),r=a4();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function rB(){let{router:t}=J8(r4.UseNavigateStable),e=a4(i4.UseNavigateStable),n=_.useRef(!1);return e4(()=>{n.current=!0}),_.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Vh({fromRouteId:e},s)))},[t,e])}const q2={};function iB(t,e,n){q2[t]||(q2[t]=!0)}function aB(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function sB(t){let{to:e,replace:n,state:r,relative:i}=t;Ld()||En(!1);let{future:s,static:c}=_.useContext(Sl),{matches:d}=_.useContext(Xs),{pathname:f}=Nl(),h=Zs(),p=tj(e,ej(d,s.v7_relativeSplatPath),f,i==="path"),g=JSON.stringify(p);return _.useEffect(()=>h(JSON.parse(g),{replace:n,state:r,relative:i}),[h,g,i,n,r]),null}function Wn(t){En(!1)}function oB(t){let{basename:e="/",children:n=null,location:r,navigationType:i=nl.Pop,navigator:s,static:c=!1,future:d}=t;Ld()&&En(!1);let f=e.replace(/^\/*/,"/"),h=_.useMemo(()=>({basename:f,navigator:s,static:c,future:Vh({v7_relativeSplatPath:!1},d)}),[f,d,s,c]);typeof r=="string"&&(r=zd(r));let{pathname:p="/",search:g="",hash:y="",state:w=null,key:j="default"}=r,E=_.useMemo(()=>{let A=JE(p,f);return A==null?null:{location:{pathname:A,search:g,hash:y,state:w,key:j},navigationType:i}},[f,p,g,y,w,j,i]);return E==null?null:_.createElement(Sl.Provider,{value:h},_.createElement(My.Provider,{children:n,value:E}))}function lB(t){let{children:e,location:n}=t;return K8(fw(e),n)}new Promise(()=>{});function fw(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let s=[...e,i];if(r.type===_.Fragment){n.push.apply(n,fw(r.props.children,s));return}r.type!==Wn&&En(!1),!r.props.index||!r.props.children||En(!1);let c={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=fw(r.props.children,s)),n.push(c)}),n}function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hw.apply(this,arguments)}function cB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function uB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dB(t,e){return t.button===0&&(!e||e==="_self")&&!uB(t)}const fB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hB="6";try{window.__reactRouterVersion=hB}catch{}const mB="startTransition",B2=WM[mB];function pB(t){let{basename:e,children:n,future:r,window:i}=t,s=_.useRef();s.current==null&&(s.current=g8({window:i,v5Compat:!0}));let c=s.current,[d,f]=_.useState({action:c.action,location:c.location}),{v7_startTransition:h}=r||{},p=_.useCallback(g=>{h&&B2?B2(()=>f(g)):f(g)},[f,h]);return _.useLayoutEffect(()=>c.listen(p),[c,p]),_.useEffect(()=>aB(r),[r]),_.createElement(oB,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:c,future:r})}const gB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,We=_.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:c,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g}=e,y=cB(e,fB),{basename:w}=_.useContext(Sl),j,E=!1;if(typeof h=="string"&&vB.test(h)&&(j=h,gB))try{let I=new URL(window.location.href),R=h.startsWith("//")?new URL(I.protocol+h):new URL(h),z=JE(R.pathname,w);R.origin===I.origin&&z!=null?h=z+R.search+R.hash:E=!0}catch{}let A=F8(h,{relative:i}),T=yB(h,{replace:c,state:d,target:f,preventScrollReset:p,relative:i,viewTransition:g});function k(I){r&&r(I),I.defaultPrevented||T(I)}return _.createElement("a",hw({},y,{href:j||A,onClick:E||s?r:k,ref:n,target:f}))});var $2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($2||($2={}));var F2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(F2||(F2={}));function yB(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:c,viewTransition:d}=e===void 0?{}:e,f=Zs(),h=Nl(),p=n4(t,{relative:c});return _.useCallback(g=>{if(dB(g,n)){g.preventDefault();let y=r!==void 0?r:mv(h)===mv(p);f(t,{replace:y,state:i,preventScrollReset:s,relative:c,viewTransition:d})}},[h,f,p,r,i,n,t,s,c,d])}const bB=()=>{};var H2={};const s4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_B=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],c=t[n++],d=t[n++],f=((i&7)<<18|(s&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|c&63)}}return e.join("")},o4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],c=i+1<t.length,d=c?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,p=s>>2,g=(s&3)<<4|d>>4;let y=(d&15)<<2|h>>6,w=h&63;f||(w=64,c||(y=64)),r.push(n[p],n[g],n[y],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_B(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||d==null||h==null||g==null)throw new xB;const y=s<<2|d>>4;if(r.push(y),h!==64){const w=d<<4&240|h>>2;if(r.push(w),g!==64){const j=h<<6&192|g;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wB=function(t){const e=s4(t);return o4.encodeByteArray(e,!0)},pv=function(t){return wB(t).replace(/\./g,"")},l4=function(t){try{return o4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function EB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const jB=()=>EB().__FIREBASE_DEFAULTS__,AB=()=>{if(typeof process>"u"||typeof H2>"u")return;const t=H2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&l4(t[1]);return e&&JSON.parse(e)},zy=()=>{try{return bB()||jB()||AB()||SB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},c4=t=>zy()?.emulatorHosts?.[t],u4=t=>{const e=c4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},d4=()=>zy()?.config,f4=t=>zy()?.[`_${t}`];class NB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Tl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rj(t){return(await fetch(t,{credentials:"include"})).ok}function h4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[pv(JSON.stringify(n)),pv(JSON.stringify(c)),""].join(".")}const Th={};function TB(){const t={prod:[],emulator:[]};for(const e of Object.keys(Th))Th[e]?t.emulator.push(e):t.prod.push(e);return t}function CB(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let K2=!1;function ij(t,e){if(typeof window>"u"||typeof document>"u"||!Tl(window.location.host)||Th[t]===e||Th[t]||K2)return;Th[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=TB().prod.length>0;function c(){const y=document.getElementById(r);y&&y.remove()}function d(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,w){y.setAttribute("width","24"),y.setAttribute("id",w),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{K2=!0,c()},y}function p(y,w){y.setAttribute("id",w),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=CB(r),w=n("text"),j=document.getElementById(w)||document.createElement("span"),E=n("learnmore"),A=document.getElementById(E)||document.createElement("a"),T=n("preprendIcon"),k=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const I=y.element;d(I),p(A,E);const R=h();f(k,T),I.append(k,j,A,R),document.body.appendChild(I)}s?(j.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function jr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jr())}function OB(){const t=zy()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DB(){const t=jr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MB(){return!OB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zB(){try{return typeof indexedDB=="object"}catch{return!1}}function LB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const VB="FirebaseError";class rs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=VB,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mm.prototype.create)}}class mm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],c=s?UB(s,r):"Error",d=`${this.serviceName}: ${c} (${i}).`;return new rs(i,d,r)}}function UB(t,e){return t.replace(qB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const qB=/\{\$([^}]+)}/g;function BB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],c=e[i];if(G2(s)&&G2(c)){if(!zc(s,c))return!1}else if(s!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function G2(t){return t!==null&&typeof t=="object"}function pm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function bh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function $B(t,e){const n=new FB(t,e);return n.subscribe.bind(n)}class FB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=lx),i.error===void 0&&(i.error=lx),i.complete===void 0&&(i.complete=lx);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lx(){}function Ft(t){return t&&t._delegate?t._delegate:t}class ml{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const mc="[DEFAULT]";let KB=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new NB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WB(e))try{this.getOrInitializeService({instanceIdentifier:mc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=mc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mc){return this.instances.has(e)}getOptions(e=mc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(s);r===d&&c.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mc){return this.component?this.component.multipleInstances?e:mc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function GB(t){return t===mc?void 0:t}function WB(t){return t.instantiationMode==="EAGER"}class QB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const YB={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},XB=lt.INFO,ZB={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},JB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ZB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class aj{constructor(e){this.name=e,this._logLevel=XB,this._logHandler=JB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const e$=(t,e)=>e.some(n=>t instanceof n);let W2,Q2;function t$(){return W2||(W2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n$(){return Q2||(Q2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m4=new WeakMap,mw=new WeakMap,p4=new WeakMap,cx=new WeakMap,sj=new WeakMap;function r$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",c)},s=()=>{n(ol(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&m4.set(n,t)}).catch(()=>{}),sj.set(e,t),e}function i$(t){if(mw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",c),t.removeEventListener("abort",c)},s=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",c),t.addEventListener("abort",c)});mw.set(t,e)}let pw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||p4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ol(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function a$(t){pw=t(pw)}function s$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ux(this),e,...n);return p4.set(r,e.sort?e.sort():[e]),ol(r)}:n$().includes(t)?function(...e){return t.apply(ux(this),e),ol(m4.get(this))}:function(...e){return ol(t.apply(ux(this),e))}}function o$(t){return typeof t=="function"?s$(t):(t instanceof IDBTransaction&&i$(t),e$(t,t$())?new Proxy(t,pw):t)}function ol(t){if(t instanceof IDBRequest)return r$(t);if(cx.has(t))return cx.get(t);const e=o$(t);return e!==t&&(cx.set(t,e),sj.set(e,t)),e}const ux=t=>sj.get(t);function l$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const c=indexedDB.open(t,e),d=ol(c);return r&&c.addEventListener("upgradeneeded",f=>{r(ol(c.result),f.oldVersion,f.newVersion,ol(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const c$=["get","getKey","getAll","getAllKeys","count"],u$=["put","add","delete","clear"],dx=new Map;function Y2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dx.get(e))return dx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=u$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||c$.includes(n)))return;const s=async function(c,...d){const f=this.transaction(c,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(d.shift())),(await Promise.all([h[n](...d),i&&f.done]))[0]};return dx.set(e,s),s}a$(t=>({...t,get:(e,n,r)=>Y2(e,n)||t.get(e,n,r),has:(e,n)=>!!Y2(e,n)||t.has(e,n)}));class d${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(f$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function f$(t){return t.getComponent()?.type==="VERSION"}const gw="@firebase/app",X2="0.14.7";const Vs=new aj("@firebase/app"),h$="@firebase/app-compat",m$="@firebase/analytics-compat",p$="@firebase/analytics",g$="@firebase/app-check-compat",v$="@firebase/app-check",y$="@firebase/auth",b$="@firebase/auth-compat",_$="@firebase/database",x$="@firebase/data-connect",w$="@firebase/database-compat",E$="@firebase/functions",j$="@firebase/functions-compat",A$="@firebase/installations",S$="@firebase/installations-compat",N$="@firebase/messaging",T$="@firebase/messaging-compat",C$="@firebase/performance",P$="@firebase/performance-compat",O$="@firebase/remote-config",I$="@firebase/remote-config-compat",R$="@firebase/storage",k$="@firebase/storage-compat",D$="@firebase/firestore",M$="@firebase/ai",z$="@firebase/firestore-compat",L$="firebase",V$="12.8.0";const vw="[DEFAULT]",U$={[gw]:"fire-core",[h$]:"fire-core-compat",[p$]:"fire-analytics",[m$]:"fire-analytics-compat",[v$]:"fire-app-check",[g$]:"fire-app-check-compat",[y$]:"fire-auth",[b$]:"fire-auth-compat",[_$]:"fire-rtdb",[x$]:"fire-data-connect",[w$]:"fire-rtdb-compat",[E$]:"fire-fn",[j$]:"fire-fn-compat",[A$]:"fire-iid",[S$]:"fire-iid-compat",[N$]:"fire-fcm",[T$]:"fire-fcm-compat",[C$]:"fire-perf",[P$]:"fire-perf-compat",[O$]:"fire-rc",[I$]:"fire-rc-compat",[R$]:"fire-gcs",[k$]:"fire-gcs-compat",[D$]:"fire-fst",[z$]:"fire-fst-compat",[M$]:"fire-vertex","fire-js":"fire-js",[L$]:"fire-js-all"};const gv=new Map,q$=new Map,yw=new Map;function Z2(t,e){try{t.container.addComponent(e)}catch(n){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lc(t){const e=t.name;if(yw.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;yw.set(e,t);for(const n of gv.values())Z2(n,t);for(const n of q$.values())Z2(n,t);return!0}function Ly(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function di(t){return t==null?!1:t.settings!==void 0}const B$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ll=new mm("app","Firebase",B$);class $${constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ml("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ll.create("app-deleted",{appName:this._name})}}const tu=V$;function g4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:vw,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ll.create("bad-app-name",{appName:String(i)});if(n||(n=d4()),!n)throw ll.create("no-options");const s=gv.get(i);if(s){if(zc(n,s.options)&&zc(r,s.config))return s;throw ll.create("duplicate-app",{appName:i})}const c=new QB(i);for(const f of yw.values())c.addComponent(f);const d=new $$(n,r,c);return gv.set(i,d),d}function oj(t=vw){const e=gv.get(t);if(!e&&t===vw&&d4())return g4();if(!e)throw ll.create("no-app",{appName:t});return e}function $a(t,e,n){let r=U$[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(c.join(" "));return}Lc(new ml(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const F$="firebase-heartbeat-database",H$=1,Uh="firebase-heartbeat-store";let fx=null;function v4(){return fx||(fx=l$(F$,H$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ll.create("idb-open",{originalErrorMessage:t.message})})),fx}async function K$(t){try{const n=(await v4()).transaction(Uh),r=await n.objectStore(Uh).get(y4(t));return await n.done,r}catch(e){if(e instanceof rs)Vs.warn(e.message);else{const n=ll.create("idb-get",{originalErrorMessage:e?.message});Vs.warn(n.message)}}}async function J2(t,e){try{const r=(await v4()).transaction(Uh,"readwrite");await r.objectStore(Uh).put(e,y4(t)),await r.done}catch(n){if(n instanceof rs)Vs.warn(n.message);else{const r=ll.create("idb-set",{originalErrorMessage:n?.message});Vs.warn(r.message)}}}function y4(t){return`${t.name}!${t.options.appId}`}const G$=1024,W$=30;class Q${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=eP();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>W$){const i=Z$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=eP(),{heartbeatsToSend:n,unsentEntries:r}=Y$(this._heartbeatsCache.heartbeats),i=pv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Vs.warn(e),""}}}function eP(){return new Date().toISOString().substring(0,10)}function Y$(t,e=G$){const n=[];let r=t.slice();for(const i of t){const s=n.find(c=>c.agent===i.agent);if(s){if(s.dates.push(i.date),tP(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class X${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zB()?LB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await K$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return J2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return J2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function tP(t){return pv(JSON.stringify({version:2,heartbeats:t})).length}function Z$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function J$(t){Lc(new ml("platform-logger",e=>new d$(e),"PRIVATE")),Lc(new ml("heartbeat",e=>new Q$(e),"PRIVATE")),$a(gw,X2,t),$a(gw,X2,"esm2020"),$a("fire-js","")}J$("");function b4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const e7=b4,_4=new mm("auth","Firebase",b4());const vv=new aj("@firebase/auth");function t7(t,...e){vv.logLevel<=lt.WARN&&vv.warn(`Auth (${tu}): ${t}`,...e)}function Xg(t,...e){vv.logLevel<=lt.ERROR&&vv.error(`Auth (${tu}): ${t}`,...e)}function da(t,...e){throw lj(t,...e)}function Fa(t,...e){return lj(t,...e)}function x4(t,e,n){const r={...e7(),[e]:n};return new mm("auth","Firebase",r).create(e,{appName:t.name})}function ks(t){return x4(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lj(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _4.create(t,...e)}function Fe(t,e,...n){if(!t)throw lj(e,...n)}function Cs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xg(e),new Error(e)}function Us(t,e){t||Cs(e)}function bw(){return typeof self<"u"&&self.location?.href||""}function n7(){return nP()==="http:"||nP()==="https:"}function nP(){return typeof self<"u"&&self.location?.protocol||null}function r7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(n7()||RB()||"connection"in navigator)?navigator.onLine:!0}function i7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class gm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Us(n>e,"Short delay should be less than long delay!"),this.isMobile=PB()||kB()}get(){return r7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cj(t,e){Us(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class w4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const a7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const s7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],o7=new gm(3e4,6e4);function Cl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Js(t,e,n,r,i={}){return E4(t,i,async()=>{let s={},c={};r&&(e==="GET"?c=r:s={body:JSON.stringify(r)});const d=pm({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return IB()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Tl(t.emulatorConfig.host)&&(h.credentials="include"),w4.fetch()(await j4(t,t.config.apiHost,n,d),h)})}async function E4(t,e,n){t._canInitEmulator=!1;const r={...a7,...e};try{const i=new c7(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const c=await s.json();if("needConfirmation"in c)throw wg(t,"account-exists-with-different-credential",c);if(s.ok&&!("errorMessage"in c))return c;{const d=s.ok?c.errorMessage:c.error.message,[f,h]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw wg(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw wg(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw wg(t,"user-disabled",c);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw x4(t,p,h);da(t,p)}}catch(i){if(i instanceof rs)throw i;da(t,"network-request-failed",{message:String(i)})}}async function vm(t,e,n,r,i={}){const s=await Js(t,e,n,r,i);return"mfaPendingCredential"in s&&da(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function j4(t,e,n,r){const i=`${e}${n}?${r}`,s=t,c=s.config.emulator?cj(t.config,i):`${t.config.apiScheme}://${i}`;return s7.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(c).toString():c}function l7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class c7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fa(this.auth,"network-request-failed")),o7.get())})}}function wg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fa(t,e,r);return i.customData._tokenResponse=n,i}function rP(t){return t!==void 0&&t.enterprise!==void 0}class u7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return l7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function d7(t,e){return Js(t,"GET","/v2/recaptchaConfig",Cl(t,e))}async function f7(t,e){return Js(t,"POST","/v1/accounts:delete",e)}async function yv(t,e){return Js(t,"POST","/v1/accounts:lookup",e)}function Ch(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function h7(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),i=uj(r);Fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,c=s?.sign_in_provider;return{claims:i,token:r,authTime:Ch(hx(i.auth_time)),issuedAtTime:Ch(hx(i.iat)),expirationTime:Ch(hx(i.exp)),signInProvider:c||null,signInSecondFactor:s?.sign_in_second_factor||null}}function hx(t){return Number(t)*1e3}function uj(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xg("JWT malformed, contained fewer than 3 sections"),null;try{const i=l4(n);return i?JSON.parse(i):(Xg("Failed to decode base64 JWT payload"),null)}catch(i){return Xg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function iP(t){const e=uj(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rs&&m7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function m7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class p7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class _w{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ch(this.lastLoginAt),this.creationTime=Ch(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bv(t){const e=t.auth,n=await t.getIdToken(),r=await wd(t,yv(e,{idToken:n}));Fe(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?A4(i.providerUserInfo):[],c=v7(t.providerData,s),d=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!c?.length,h=d?f:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new _w(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function g7(t){const e=Ft(t);await bv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function v7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function A4(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function y7(t,e){const n=await E4(t,{},async()=>{const r=pm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,c=await j4(t,i,"/v1/token",`key=${s}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return t.emulatorConfig&&Tl(t.emulatorConfig.host)&&(f.credentials="include"),w4.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function b7(t,e){return Js(t,"POST","/v2/accounts:revokeToken",Cl(t,e))}class md{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const n=iP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await y7(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,c=new md;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(Fe(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),s&&(Fe(typeof s=="number","internal-error",{appName:e}),c.expirationTime=s),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new md,this.toJSON())}_performRefresh(){return Cs("not implemented")}}function $o(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class la{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new p7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _w(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await wd(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return h7(this,e)}reload(){return g7(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new la({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(ks(this.auth));const e=await this.getIdToken();return await wd(this,f7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:y,isAnonymous:w,providerData:j,stsTokenManager:E}=n;Fe(g&&E,e,"internal-error");const A=md.fromJSON(this.name,E);Fe(typeof g=="string",e,"internal-error"),$o(r,e.name),$o(i,e.name),Fe(typeof y=="boolean",e,"internal-error"),Fe(typeof w=="boolean",e,"internal-error"),$o(s,e.name),$o(c,e.name),$o(d,e.name),$o(f,e.name),$o(h,e.name),$o(p,e.name);const T=new la({uid:g,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:w,photoURL:c,phoneNumber:s,tenantId:d,stsTokenManager:A,createdAt:h,lastLoginAt:p});return j&&Array.isArray(j)&&(T.providerData=j.map(k=>({...k}))),f&&(T._redirectEventId=f),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new md;i.updateFromServerResponse(n);const s=new la({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await bv(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Fe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?A4(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!s?.length,d=new md;d.updateFromIdToken(r);const f=new la({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:c}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _w(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(f,h),f}}const aP=new Map;function Ps(t){Us(t instanceof Function,"Expected a class definition");let e=aP.get(t);return e?(Us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aP.set(t,e),e)}class S4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}S4.type="NONE";const sP=S4;function Zg(t,e,n){return`firebase:${t}:${e}:${n}`}class pd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Zg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Zg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yv(this.auth,{idToken:e}).catch(()=>{});return n?la._fromGetAccountInfoResponse(this.auth,n,e):null}return la._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pd(Ps(sP),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Ps(sP);const c=Zg(r,e.config.apiKey,e.name);let d=null;for(const h of n)try{const p=await h._get(c);if(p){let g;if(typeof p=="string"){const y=await yv(e,{idToken:p}).catch(()=>{});if(!y)break;g=await la._fromGetAccountInfoResponse(e,y,p)}else g=la._fromJSON(e,p);h!==s&&(d=g),s=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new pd(s,e,r):(s=f[0],d&&await s._set(c,d.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(c)}catch{}})),new pd(s,e,r))}}function oP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I4(e))return"Blackberry";if(R4(e))return"Webos";if(T4(e))return"Safari";if((e.includes("chrome/")||C4(e))&&!e.includes("edge/"))return"Chrome";if(O4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function N4(t=jr()){return/firefox\//i.test(t)}function T4(t=jr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C4(t=jr()){return/crios\//i.test(t)}function P4(t=jr()){return/iemobile/i.test(t)}function O4(t=jr()){return/android/i.test(t)}function I4(t=jr()){return/blackberry/i.test(t)}function R4(t=jr()){return/webos/i.test(t)}function dj(t=jr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _7(t=jr()){return dj(t)&&!!window.navigator?.standalone}function x7(){return DB()&&document.documentMode===10}function k4(t=jr()){return dj(t)||O4(t)||R4(t)||I4(t)||/windows phone/i.test(t)||P4(t)}function D4(t,e=[]){let n;switch(t){case"Browser":n=oP(jr());break;case"Worker":n=`${oP(jr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tu}/${r}`}class w7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((c,d)=>{try{const f=e(s);c(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function E7(t,e={}){return Js(t,"GET","/v2/passwordPolicy",Cl(t,e))}const j7=6;class A7{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??j7,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class S7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lP(this),this.idTokenSubscription=new lP(this),this.beforeStateQueue=new w7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ps(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await pd.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yv(this,{idToken:e}),r=await la._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(di(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,c=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!s||s===c)&&d?.user&&(r=d.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bv(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=i7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(di(this.app))return Promise.reject(ks(this));const n=e?Ft(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return di(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await E7(this),n=new A7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await b7(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ps(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await pd.create(this,[Ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(d,this,"internal-error"),d.then(()=>{c||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=D4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&t7(`Error while retrieving App Check token: ${e.error}`),e?.token}}function nu(t){return Ft(t)}class lP{constructor(e){this.auth=e,this.observer=null,this.addObserver=$B(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N7(t){Vy=t}function M4(t){return Vy.loadJS(t)}function T7(){return Vy.recaptchaEnterpriseScript}function C7(){return Vy.gapiScript}function P7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class O7{constructor(){this.enterprise=new I7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class I7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const R7="recaptcha-enterprise",z4="NO_RECAPTCHA";class k7{constructor(e){this.type=R7,this.auth=nu(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(c,d)=>{d7(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const h=new u7(f);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,c(h.siteKey)}}).catch(f=>{d(f)})})}function i(s,c,d){const f=window.grecaptcha;rP(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(h=>{c(h)}).catch(()=>{c(z4)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new O7().execute("siteKey",{action:"verify"}):new Promise((s,c)=>{r(this.auth).then(d=>{if(!n&&rP(window.grecaptcha))i(d,s,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=T7();f.length!==0&&(f+=d),M4(f).then(()=>{i(d,s,c)}).catch(h=>{c(h)})}}).catch(d=>{c(d)})})}}async function cP(t,e,n,r=!1,i=!1){const s=new k7(t);let c;if(i)c=z4;else try{c=await s.verify(n)}catch{c=await s.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,h=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function xw(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await cP(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await cP(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(s)})}function D7(t,e){const n=Ly(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(zc(s,e??{}))return i;da(i,"already-initialized")}return n.initialize({options:e})}function M7(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ps);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function z7(t,e,n){const r=nu(t);Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=L4(e),{host:c,port:d}=L7(e),f=d===null?"":`:${d}`,h={url:`${s}//${c}${f}/`},p=Object.freeze({host:c,port:d,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Fe(zc(h,r.config.emulator)&&zc(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Tl(c)?(rj(`${s}//${c}${f}`),ij("Auth",!0)):V7()}function L4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function L7(t){const e=L4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:uP(r.substr(s.length+1))}}else{const[s,c]=r.split(":");return{host:s,port:uP(c)}}}function uP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function V7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class fj{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cs("not implemented")}_getIdTokenResponse(e){return Cs("not implemented")}_linkToIdToken(e,n){return Cs("not implemented")}_getReauthenticationResolver(e){return Cs("not implemented")}}async function U7(t,e){return Js(t,"POST","/v1/accounts:signUp",e)}async function q7(t,e){return vm(t,"POST","/v1/accounts:signInWithPassword",Cl(t,e))}async function B7(t,e){return vm(t,"POST","/v1/accounts:signInWithEmailLink",Cl(t,e))}async function $7(t,e){return vm(t,"POST","/v1/accounts:signInWithEmailLink",Cl(t,e))}class qh extends fj{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new qh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new qh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xw(e,n,"signInWithPassword",q7);case"emailLink":return B7(e,{email:this._email,oobCode:this._password});default:da(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xw(e,r,"signUpPassword",U7);case"emailLink":return $7(e,{idToken:n,email:this._email,oobCode:this._password});default:da(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function gd(t,e){return vm(t,"POST","/v1/accounts:signInWithIdp",Cl(t,e))}const F7="http://localhost";class Vc extends fj{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):da("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const c=new Vc(r,i);return c.idToken=s.idToken||void 0,c.accessToken=s.accessToken||void 0,c.secret=s.secret,c.nonce=s.nonce,c.pendingToken=s.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return gd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gd(e,n)}buildRequest(){const e={requestUri:F7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pm(n)}return e}}function H7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function K7(t){const e=yh(bh(t)).link,n=e?yh(bh(e)).deep_link_id:null,r=yh(bh(t)).deep_link_id;return(r?yh(bh(r)).link:null)||r||n||e||t}class hj{constructor(e){const n=yh(bh(e)),r=n.apiKey??null,i=n.oobCode??null,s=H7(n.mode??null);Fe(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=K7(e);try{return new hj(n)}catch{return null}}}class Vd{constructor(){this.providerId=Vd.PROVIDER_ID}static credential(e,n){return qh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=hj.parseLink(n);return Fe(r,"argument-error"),qh._fromEmailAndCode(e,r.code,r.tenantId)}}Vd.PROVIDER_ID="password";Vd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class V4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ym extends V4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Yo extends ym{constructor(){super("facebook.com")}static credential(e){return Vc._fromParams({providerId:Yo.PROVIDER_ID,signInMethod:Yo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yo.credentialFromTaggedObject(e)}static credentialFromError(e){return Yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yo.credential(e.oauthAccessToken)}catch{return null}}}Yo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yo.PROVIDER_ID="facebook.com";class Xo extends ym{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vc._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xo.credential(n,r)}catch{return null}}}Xo.GOOGLE_SIGN_IN_METHOD="google.com";Xo.PROVIDER_ID="google.com";class Zo extends ym{constructor(){super("github.com")}static credential(e){return Vc._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zo.credentialFromTaggedObject(e)}static credentialFromError(e){return Zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zo.credential(e.oauthAccessToken)}catch{return null}}}Zo.GITHUB_SIGN_IN_METHOD="github.com";Zo.PROVIDER_ID="github.com";class Jo extends ym{constructor(){super("twitter.com")}static credential(e,n){return Vc._fromParams({providerId:Jo.PROVIDER_ID,signInMethod:Jo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Jo.credentialFromTaggedObject(e)}static credentialFromError(e){return Jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Jo.credential(n,r)}catch{return null}}}Jo.TWITTER_SIGN_IN_METHOD="twitter.com";Jo.PROVIDER_ID="twitter.com";async function G7(t,e){return vm(t,"POST","/v1/accounts:signUp",Cl(t,e))}class Uc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await la._fromIdTokenResponse(e,r,i),c=dP(r);return new Uc({user:s,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=dP(r);return new Uc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function dP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class _v extends rs{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_v.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new _v(e,n,r,i)}}function U4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?_v._fromErrorAndOperation(t,s,e,r):s})}async function W7(t,e,n=!1){const r=await wd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Uc._forOperation(t,"link",r)}async function Q7(t,e,n=!1){const{auth:r}=t;if(di(r.app))return Promise.reject(ks(r));const i="reauthenticate";try{const s=await wd(t,U4(r,i,e,t),n);Fe(s.idToken,r,"internal-error");const c=uj(s.idToken);Fe(c,r,"internal-error");const{sub:d}=c;return Fe(t.uid===d,r,"user-mismatch"),Uc._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&da(r,"user-mismatch"),s}}async function q4(t,e,n=!1){if(di(t.app))return Promise.reject(ks(t));const r="signIn",i=await U4(t,r,e),s=await Uc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Y7(t,e){return q4(nu(t),e)}async function B4(t){const e=nu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function X7(t,e,n){if(di(t.app))return Promise.reject(ks(t));const r=nu(t),c=await xw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",G7).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&B4(t),f}),d=await Uc._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function Z7(t,e,n){return di(t.app)?Promise.reject(ks(t)):Y7(Ft(t),Vd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&B4(t),r})}async function J7(t,e){return Js(t,"POST","/v1/accounts:update",e)}async function eF(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ft(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await wd(r,J7(r.auth,s));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function tF(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function nF(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function rF(t,e,n,r){return Ft(t).onAuthStateChanged(e,n,r)}function iF(t){return Ft(t).signOut()}const xv="__sak";class $4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xv,"1"),this.storage.removeItem(xv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const aF=1e3,sF=10;class F4 extends $4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=k4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);x7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},aF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}F4.type="LOCAL";const oF=F4;class H4 extends $4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}H4.type="SESSION";const K4=H4;function lF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Uy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Uy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,c=this.handlersMap[i];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(c).map(async h=>h(n.origin,s)),f=await lF(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uy.receivers=[];function mj(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class cF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,c;return new Promise((d,f)=>{const h=mj("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),d(y.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ha(){return window}function uF(t){Ha().location.href=t}function G4(){return typeof Ha().WorkerGlobalScope<"u"&&typeof Ha().importScripts=="function"}async function dF(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fF(){return navigator?.serviceWorker?.controller||null}function hF(){return G4()?self:null}const W4="firebaseLocalStorageDb",mF=1,wv="firebaseLocalStorage",Q4="fbase_key";class bm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qy(t,e){return t.transaction([wv],e?"readwrite":"readonly").objectStore(wv)}function pF(){const t=indexedDB.deleteDatabase(W4);return new bm(t).toPromise()}function ww(){const t=indexedDB.open(W4,mF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wv,{keyPath:Q4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wv)?e(r):(r.close(),await pF(),e(await ww()))})})}async function fP(t,e,n){const r=qy(t,!0).put({[Q4]:e,value:n});return new bm(r).toPromise()}async function gF(t,e){const n=qy(t,!1).get(e),r=await new bm(n).toPromise();return r===void 0?null:r.value}function hP(t,e){const n=qy(t,!0).delete(e);return new bm(n).toPromise()}const vF=800,yF=3;class Y4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ww(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uy._getInstance(hF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dF(),!this.activeServiceWorker)return;this.sender=new cF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ww();return await fP(e,xv,"1"),await hP(e,xv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=qy(i,!1).getAll();return new bm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y4.type="LOCAL";const bF=Y4;new gm(3e4,6e4);function _F(t,e){return e?Ps(e):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class pj extends fj{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xF(t){return q4(t.auth,new pj(t),t.bypassAuthState)}function wF(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),Q7(n,new pj(t),t.bypassAuthState)}async function EF(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),W7(n,new pj(t),t.bypassAuthState)}class X4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xF;case"linkViaPopup":case"linkViaRedirect":return EF;case"reauthViaPopup":case"reauthViaRedirect":return wF;default:da(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jF=new gm(2e3,1e4);class ld extends X4{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ld.currentPopupAction&&ld.currentPopupAction.cancel(),ld.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){Us(this.filter.length===1,"Popup operations only handle one event");const e=mj();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ld.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jF.get())};e()}}ld.currentPopupAction=null;const AF="pendingRedirect",Jg=new Map;class SF extends X4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jg.get(this.auth._key());if(!e){try{const r=await NF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jg.set(this.auth._key(),e)}return this.bypassAuthState||Jg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NF(t,e){const n=PF(e),r=CF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function TF(t,e){Jg.set(t._key(),e)}function CF(t){return Ps(t._redirectPersistence)}function PF(t){return Zg(AF,t.config.apiKey,t.name)}async function OF(t,e,n=!1){if(di(t.app))return Promise.reject(ks(t));const r=nu(t),i=_F(r,e),c=await new SF(r,i,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const IF=600*1e3;class RF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Z4(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Fa(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IF&&this.cachedEventUids.clear(),this.cachedEventUids.has(mP(e))}saveEventToCache(e){this.cachedEventUids.add(mP(e)),this.lastProcessedEventTime=Date.now()}}function mP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Z4({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function kF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z4(t);default:return!1}}async function DF(t,e={}){return Js(t,"GET","/v1/projects",e)}const MF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zF=/^https?/;async function LF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await DF(t);for(const n of e)try{if(VF(n))return}catch{}da(t,"unauthorized-domain")}function VF(t){const e=bw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!zF.test(n))return!1;if(MF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const UF=new gm(3e4,6e4);function pP(){const t=Ha().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qF(t){return new Promise((e,n)=>{function r(){pP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pP(),n(Fa(t,"network-request-failed"))},timeout:UF.get()})}if(Ha().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ha().gapi?.load)r();else{const i=P7("iframefcb");return Ha()[i]=()=>{gapi.load?r():n(Fa(t,"network-request-failed"))},M4(`${C7()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw ev=null,e})}let ev=null;function BF(t){return ev=ev||qF(t),ev}const $F=new gm(5e3,15e3),FF="__/auth/iframe",HF="emulator/auth/iframe",KF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WF(t){const e=t.config;Fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cj(e,HF):`https://${t.config.authDomain}/${FF}`,r={apiKey:e.apiKey,appName:t.name,v:tu},i=GF.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${pm(r).slice(1)}`}async function QF(t){const e=await BF(t),n=Ha().gapi;return Fe(n,t,"internal-error"),e.open({where:document.body,url:WF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KF,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const c=Fa(t,"network-request-failed"),d=Ha().setTimeout(()=>{s(c)},$F.get());function f(){Ha().clearTimeout(d),i(r)}r.ping(f).then(f,()=>{s(c)})}))}const YF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XF=500,ZF=600,JF="_blank",eH="http://localhost";class gP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tH(t,e,n,r=XF,i=ZF){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...YF,width:r.toString(),height:i.toString(),top:s,left:c},h=jr().toLowerCase();n&&(d=C4(h)?JF:n),N4(h)&&(e=e||eH,f.scrollbars="yes");const p=Object.entries(f).reduce((y,[w,j])=>`${y}${w}=${j},`,"");if(_7(h)&&d!=="_self")return nH(e||"",d),new gP(null);const g=window.open(e||"",d,p);Fe(g,t,"popup-blocked");try{g.focus()}catch{}return new gP(g)}function nH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const rH="__/auth/handler",iH="emulator/auth/handler",aH=encodeURIComponent("fac");async function vP(t,e,n,r,i,s){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:tu,eventId:i};if(e instanceof V4){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",BB(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))c[p]=g}if(e instanceof ym){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(c.scopes=p.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const f=await t._getAppCheckToken(),h=f?`#${aH}=${encodeURIComponent(f)}`:"";return`${sH(t)}?${pm(d).slice(1)}${h}`}function sH({config:t}){return t.emulator?cj(t,iH):`https://${t.authDomain}/${rH}`}const mx="webStorageSupport";class oH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K4,this._completeRedirectFn=OF,this._overrideRedirectResult=TF}async _openPopup(e,n,r,i){Us(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await vP(e,n,r,bw(),i);return tH(e,s,mj())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await vP(e,n,r,bw(),i);return uF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Us(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await QF(e),r=new RF(e);return n.register("authEvent",i=>(Fe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mx,{type:mx},i=>{const s=i?.[0]?.[mx];s!==void 0&&n(!!s),da(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return k4()||T4()||dj()}}const lH=oH;var yP="@firebase/auth",bP="1.12.0";class cH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dH(t){Lc(new ml("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Fe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D4(t)},h=new S7(r,i,s,f);return M7(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Lc(new ml("auth-internal",e=>{const n=nu(e.getProvider("auth").getImmediate());return(r=>new cH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$a(yP,bP,uH(t)),$a(yP,bP,"esm2020")}const fH=300,hH=f4("authIdTokenMaxAge")||fH;let _P=null;const mH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hH)return;const i=n?.token;_P!==i&&(_P=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pH(t=oj()){const e=Ly(t,"auth");if(e.isInitialized())return e.getImmediate();const n=D7(t,{popupRedirectResolver:lH,persistence:[bF,oF,K4]}),r=f4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const c=mH(s.toString());nF(n,c,()=>c(n.currentUser)),tF(n,d=>c(d))}}const i=c4("auth");return i&&z7(n,`http://${i}`),n}function gH(){return document.getElementsByTagName("head")?.[0]??document}N7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Fa("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",gH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dH("Browser");var xP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cl,J4;(function(){var t;function e(O,P){function D(){}D.prototype=P.prototype,O.F=P.prototype,O.prototype=new D,O.prototype.constructor=O,O.D=function(B,U,L){for(var q=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)q[pe-2]=arguments[pe];return P.prototype[U].apply(B,q)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,P,D){D||(D=0);const B=Array(16);if(typeof P=="string")for(var U=0;U<16;++U)B[U]=P.charCodeAt(D++)|P.charCodeAt(D++)<<8|P.charCodeAt(D++)<<16|P.charCodeAt(D++)<<24;else for(U=0;U<16;++U)B[U]=P[D++]|P[D++]<<8|P[D++]<<16|P[D++]<<24;P=O.g[0],D=O.g[1],U=O.g[2];let L=O.g[3],q;q=P+(L^D&(U^L))+B[0]+3614090360&4294967295,P=D+(q<<7&4294967295|q>>>25),q=L+(U^P&(D^U))+B[1]+3905402710&4294967295,L=P+(q<<12&4294967295|q>>>20),q=U+(D^L&(P^D))+B[2]+606105819&4294967295,U=L+(q<<17&4294967295|q>>>15),q=D+(P^U&(L^P))+B[3]+3250441966&4294967295,D=U+(q<<22&4294967295|q>>>10),q=P+(L^D&(U^L))+B[4]+4118548399&4294967295,P=D+(q<<7&4294967295|q>>>25),q=L+(U^P&(D^U))+B[5]+1200080426&4294967295,L=P+(q<<12&4294967295|q>>>20),q=U+(D^L&(P^D))+B[6]+2821735955&4294967295,U=L+(q<<17&4294967295|q>>>15),q=D+(P^U&(L^P))+B[7]+4249261313&4294967295,D=U+(q<<22&4294967295|q>>>10),q=P+(L^D&(U^L))+B[8]+1770035416&4294967295,P=D+(q<<7&4294967295|q>>>25),q=L+(U^P&(D^U))+B[9]+2336552879&4294967295,L=P+(q<<12&4294967295|q>>>20),q=U+(D^L&(P^D))+B[10]+4294925233&4294967295,U=L+(q<<17&4294967295|q>>>15),q=D+(P^U&(L^P))+B[11]+2304563134&4294967295,D=U+(q<<22&4294967295|q>>>10),q=P+(L^D&(U^L))+B[12]+1804603682&4294967295,P=D+(q<<7&4294967295|q>>>25),q=L+(U^P&(D^U))+B[13]+4254626195&4294967295,L=P+(q<<12&4294967295|q>>>20),q=U+(D^L&(P^D))+B[14]+2792965006&4294967295,U=L+(q<<17&4294967295|q>>>15),q=D+(P^U&(L^P))+B[15]+1236535329&4294967295,D=U+(q<<22&4294967295|q>>>10),q=P+(U^L&(D^U))+B[1]+4129170786&4294967295,P=D+(q<<5&4294967295|q>>>27),q=L+(D^U&(P^D))+B[6]+3225465664&4294967295,L=P+(q<<9&4294967295|q>>>23),q=U+(P^D&(L^P))+B[11]+643717713&4294967295,U=L+(q<<14&4294967295|q>>>18),q=D+(L^P&(U^L))+B[0]+3921069994&4294967295,D=U+(q<<20&4294967295|q>>>12),q=P+(U^L&(D^U))+B[5]+3593408605&4294967295,P=D+(q<<5&4294967295|q>>>27),q=L+(D^U&(P^D))+B[10]+38016083&4294967295,L=P+(q<<9&4294967295|q>>>23),q=U+(P^D&(L^P))+B[15]+3634488961&4294967295,U=L+(q<<14&4294967295|q>>>18),q=D+(L^P&(U^L))+B[4]+3889429448&4294967295,D=U+(q<<20&4294967295|q>>>12),q=P+(U^L&(D^U))+B[9]+568446438&4294967295,P=D+(q<<5&4294967295|q>>>27),q=L+(D^U&(P^D))+B[14]+3275163606&4294967295,L=P+(q<<9&4294967295|q>>>23),q=U+(P^D&(L^P))+B[3]+4107603335&4294967295,U=L+(q<<14&4294967295|q>>>18),q=D+(L^P&(U^L))+B[8]+1163531501&4294967295,D=U+(q<<20&4294967295|q>>>12),q=P+(U^L&(D^U))+B[13]+2850285829&4294967295,P=D+(q<<5&4294967295|q>>>27),q=L+(D^U&(P^D))+B[2]+4243563512&4294967295,L=P+(q<<9&4294967295|q>>>23),q=U+(P^D&(L^P))+B[7]+1735328473&4294967295,U=L+(q<<14&4294967295|q>>>18),q=D+(L^P&(U^L))+B[12]+2368359562&4294967295,D=U+(q<<20&4294967295|q>>>12),q=P+(D^U^L)+B[5]+4294588738&4294967295,P=D+(q<<4&4294967295|q>>>28),q=L+(P^D^U)+B[8]+2272392833&4294967295,L=P+(q<<11&4294967295|q>>>21),q=U+(L^P^D)+B[11]+1839030562&4294967295,U=L+(q<<16&4294967295|q>>>16),q=D+(U^L^P)+B[14]+4259657740&4294967295,D=U+(q<<23&4294967295|q>>>9),q=P+(D^U^L)+B[1]+2763975236&4294967295,P=D+(q<<4&4294967295|q>>>28),q=L+(P^D^U)+B[4]+1272893353&4294967295,L=P+(q<<11&4294967295|q>>>21),q=U+(L^P^D)+B[7]+4139469664&4294967295,U=L+(q<<16&4294967295|q>>>16),q=D+(U^L^P)+B[10]+3200236656&4294967295,D=U+(q<<23&4294967295|q>>>9),q=P+(D^U^L)+B[13]+681279174&4294967295,P=D+(q<<4&4294967295|q>>>28),q=L+(P^D^U)+B[0]+3936430074&4294967295,L=P+(q<<11&4294967295|q>>>21),q=U+(L^P^D)+B[3]+3572445317&4294967295,U=L+(q<<16&4294967295|q>>>16),q=D+(U^L^P)+B[6]+76029189&4294967295,D=U+(q<<23&4294967295|q>>>9),q=P+(D^U^L)+B[9]+3654602809&4294967295,P=D+(q<<4&4294967295|q>>>28),q=L+(P^D^U)+B[12]+3873151461&4294967295,L=P+(q<<11&4294967295|q>>>21),q=U+(L^P^D)+B[15]+530742520&4294967295,U=L+(q<<16&4294967295|q>>>16),q=D+(U^L^P)+B[2]+3299628645&4294967295,D=U+(q<<23&4294967295|q>>>9),q=P+(U^(D|~L))+B[0]+4096336452&4294967295,P=D+(q<<6&4294967295|q>>>26),q=L+(D^(P|~U))+B[7]+1126891415&4294967295,L=P+(q<<10&4294967295|q>>>22),q=U+(P^(L|~D))+B[14]+2878612391&4294967295,U=L+(q<<15&4294967295|q>>>17),q=D+(L^(U|~P))+B[5]+4237533241&4294967295,D=U+(q<<21&4294967295|q>>>11),q=P+(U^(D|~L))+B[12]+1700485571&4294967295,P=D+(q<<6&4294967295|q>>>26),q=L+(D^(P|~U))+B[3]+2399980690&4294967295,L=P+(q<<10&4294967295|q>>>22),q=U+(P^(L|~D))+B[10]+4293915773&4294967295,U=L+(q<<15&4294967295|q>>>17),q=D+(L^(U|~P))+B[1]+2240044497&4294967295,D=U+(q<<21&4294967295|q>>>11),q=P+(U^(D|~L))+B[8]+1873313359&4294967295,P=D+(q<<6&4294967295|q>>>26),q=L+(D^(P|~U))+B[15]+4264355552&4294967295,L=P+(q<<10&4294967295|q>>>22),q=U+(P^(L|~D))+B[6]+2734768916&4294967295,U=L+(q<<15&4294967295|q>>>17),q=D+(L^(U|~P))+B[13]+1309151649&4294967295,D=U+(q<<21&4294967295|q>>>11),q=P+(U^(D|~L))+B[4]+4149444226&4294967295,P=D+(q<<6&4294967295|q>>>26),q=L+(D^(P|~U))+B[11]+3174756917&4294967295,L=P+(q<<10&4294967295|q>>>22),q=U+(P^(L|~D))+B[2]+718787259&4294967295,U=L+(q<<15&4294967295|q>>>17),q=D+(L^(U|~P))+B[9]+3951481745&4294967295,O.g[0]=O.g[0]+P&4294967295,O.g[1]=O.g[1]+(U+(q<<21&4294967295|q>>>11))&4294967295,O.g[2]=O.g[2]+U&4294967295,O.g[3]=O.g[3]+L&4294967295}r.prototype.v=function(O,P){P===void 0&&(P=O.length);const D=P-this.blockSize,B=this.C;let U=this.h,L=0;for(;L<P;){if(U==0)for(;L<=D;)i(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<P;)if(B[U++]=O.charCodeAt(L++),U==this.blockSize){i(this,B),U=0;break}}else for(;L<P;)if(B[U++]=O[L++],U==this.blockSize){i(this,B),U=0;break}}this.h=U,this.o+=P},r.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var P=1;P<O.length-8;++P)O[P]=0;P=this.o*8;for(var D=O.length-8;D<O.length;++D)O[D]=P&255,P/=256;for(this.v(O),O=Array(16),P=0,D=0;D<4;++D)for(let B=0;B<32;B+=8)O[P++]=this.g[D]>>>B&255;return O};function s(O,P){var D=d;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=P(O)}function c(O,P){this.h=P;const D=[];let B=!0;for(let U=O.length-1;U>=0;U--){const L=O[U]|0;B&&L==P||(D[U]=L,B=!1)}this.g=D}var d={};function f(O){return-128<=O&&O<128?s(O,function(P){return new c([P|0],P<0?-1:0)}):new c([O|0],O<0?-1:0)}function h(O){if(isNaN(O)||!isFinite(O))return g;if(O<0)return A(h(-O));const P=[];let D=1;for(let B=0;O>=D;B++)P[B]=O/D|0,D*=4294967296;return new c(P,0)}function p(O,P){if(O.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(O.charAt(0)=="-")return A(p(O.substring(1),P));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=h(Math.pow(P,8));let B=g;for(let L=0;L<O.length;L+=8){var U=Math.min(8,O.length-L);const q=parseInt(O.substring(L,L+U),P);U<8?(U=h(Math.pow(P,U)),B=B.j(U).add(h(q))):(B=B.j(D),B=B.add(h(q)))}return B}var g=f(0),y=f(1),w=f(16777216);t=c.prototype,t.m=function(){if(E(this))return-A(this).m();let O=0,P=1;for(let D=0;D<this.g.length;D++){const B=this.i(D);O+=(B>=0?B:4294967296+B)*P,P*=4294967296}return O},t.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(j(this))return"0";if(E(this))return"-"+A(this).toString(O);const P=h(Math.pow(O,6));var D=this;let B="";for(;;){const U=R(D,P).g;D=T(D,U.j(P));let L=((D.g.length>0?D.g[0]:D.h)>>>0).toString(O);if(D=U,j(D))return L+B;for(;L.length<6;)L="0"+L;B=L+B}},t.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function j(O){if(O.h!=0)return!1;for(let P=0;P<O.g.length;P++)if(O.g[P]!=0)return!1;return!0}function E(O){return O.h==-1}t.l=function(O){return O=T(this,O),E(O)?-1:j(O)?0:1};function A(O){const P=O.g.length,D=[];for(let B=0;B<P;B++)D[B]=~O.g[B];return new c(D,~O.h).add(y)}t.abs=function(){return E(this)?A(this):this},t.add=function(O){const P=Math.max(this.g.length,O.g.length),D=[];let B=0;for(let U=0;U<=P;U++){let L=B+(this.i(U)&65535)+(O.i(U)&65535),q=(L>>>16)+(this.i(U)>>>16)+(O.i(U)>>>16);B=q>>>16,L&=65535,q&=65535,D[U]=q<<16|L}return new c(D,D[D.length-1]&-2147483648?-1:0)};function T(O,P){return O.add(A(P))}t.j=function(O){if(j(this)||j(O))return g;if(E(this))return E(O)?A(this).j(A(O)):A(A(this).j(O));if(E(O))return A(this.j(A(O)));if(this.l(w)<0&&O.l(w)<0)return h(this.m()*O.m());const P=this.g.length+O.g.length,D=[];for(var B=0;B<2*P;B++)D[B]=0;for(B=0;B<this.g.length;B++)for(let U=0;U<O.g.length;U++){const L=this.i(B)>>>16,q=this.i(B)&65535,pe=O.i(U)>>>16,Ee=O.i(U)&65535;D[2*B+2*U]+=q*Ee,k(D,2*B+2*U),D[2*B+2*U+1]+=L*Ee,k(D,2*B+2*U+1),D[2*B+2*U+1]+=q*pe,k(D,2*B+2*U+1),D[2*B+2*U+2]+=L*pe,k(D,2*B+2*U+2)}for(O=0;O<P;O++)D[O]=D[2*O+1]<<16|D[2*O];for(O=P;O<2*P;O++)D[O]=0;return new c(D,0)};function k(O,P){for(;(O[P]&65535)!=O[P];)O[P+1]+=O[P]>>>16,O[P]&=65535,P++}function I(O,P){this.g=O,this.h=P}function R(O,P){if(j(P))throw Error("division by zero");if(j(O))return new I(g,g);if(E(O))return P=R(A(O),P),new I(A(P.g),A(P.h));if(E(P))return P=R(O,A(P)),new I(A(P.g),P.h);if(O.g.length>30){if(E(O)||E(P))throw Error("slowDivide_ only works with positive integers.");for(var D=y,B=P;B.l(O)<=0;)D=z(D),B=z(B);var U=M(D,1),L=M(B,1);for(B=M(B,2),D=M(D,2);!j(B);){var q=L.add(B);q.l(O)<=0&&(U=U.add(D),L=q),B=M(B,1),D=M(D,1)}return P=T(O,U.j(P)),new I(U,P)}for(U=g;O.l(P)>=0;){for(D=Math.max(1,Math.floor(O.m()/P.m())),B=Math.ceil(Math.log(D)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),L=h(D),q=L.j(P);E(q)||q.l(O)>0;)D-=B,L=h(D),q=L.j(P);j(L)&&(L=y),U=U.add(L),O=T(O,q)}return new I(U,O)}t.B=function(O){return R(this,O).h},t.and=function(O){const P=Math.max(this.g.length,O.g.length),D=[];for(let B=0;B<P;B++)D[B]=this.i(B)&O.i(B);return new c(D,this.h&O.h)},t.or=function(O){const P=Math.max(this.g.length,O.g.length),D=[];for(let B=0;B<P;B++)D[B]=this.i(B)|O.i(B);return new c(D,this.h|O.h)},t.xor=function(O){const P=Math.max(this.g.length,O.g.length),D=[];for(let B=0;B<P;B++)D[B]=this.i(B)^O.i(B);return new c(D,this.h^O.h)};function z(O){const P=O.g.length+1,D=[];for(let B=0;B<P;B++)D[B]=O.i(B)<<1|O.i(B-1)>>>31;return new c(D,O.h)}function M(O,P){const D=P>>5;P%=32;const B=O.g.length-D,U=[];for(let L=0;L<B;L++)U[L]=P>0?O.i(L+D)>>>P|O.i(L+D+1)<<32-P:O.i(L+D);return new c(U,O.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,J4=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=h,c.fromString=p,cl=c}).apply(typeof xP<"u"?xP:typeof self<"u"?self:typeof window<"u"?window:{});var Eg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ez,_h,tz,tv,Ew,nz,rz,iz;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eg=="object"&&Eg];for(var S=0;S<v.length;++S){var C=v[S];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(v,S){if(S)e:{var C=r;v=v.split(".");for(var $=0;$<v.length-1;$++){var te=v[$];if(!(te in C))break e;C=C[te]}v=v[v.length-1],$=C[v],S=S($),S!=$&&S!=null&&e(C,v,{configurable:!0,writable:!0,value:S})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(S){var C=[],$;for($ in S)Object.prototype.hasOwnProperty.call(S,$)&&C.push([$,S[$]]);return C}});var s=s||{},c=this||self;function d(v){var S=typeof v;return S=="object"&&v!=null||S=="function"}function f(v,S,C){return v.call.apply(v.bind,arguments)}function h(v,S,C){return h=f,h.apply(null,arguments)}function p(v,S){var C=Array.prototype.slice.call(arguments,1);return function(){var $=C.slice();return $.push.apply($,arguments),v.apply(this,$)}}function g(v,S){function C(){}C.prototype=S.prototype,v.Z=S.prototype,v.prototype=new C,v.prototype.constructor=v,v.Ob=function($,te,oe){for(var je=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)je[Ze-2]=arguments[Ze];return S.prototype[te].apply($,je)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function w(v){const S=v.length;if(S>0){const C=Array(S);for(let $=0;$<S;$++)C[$]=v[$];return C}return[]}function j(v,S){for(let $=1;$<arguments.length;$++){const te=arguments[$];var C=typeof te;if(C=C!="object"?C:te?Array.isArray(te)?"array":C:"null",C=="array"||C=="object"&&typeof te.length=="number"){C=v.length||0;const oe=te.length||0;v.length=C+oe;for(let je=0;je<oe;je++)v[C+je]=te[je]}else v.push(te)}}class E{constructor(S,C){this.i=S,this.j=C,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function A(v){c.setTimeout(()=>{throw v},0)}function T(){var v=O;let S=null;return v.g&&(S=v.g,v.g=v.g.next,v.g||(v.h=null),S.next=null),S}class k{constructor(){this.h=this.g=null}add(S,C){const $=I.get();$.set(S,C),this.h?this.h.next=$:this.g=$,this.h=$}}var I=new E(()=>new R,v=>v.reset());class R{constructor(){this.next=this.g=this.h=null}set(S,C){this.h=S,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let z,M=!1,O=new k,P=()=>{const v=Promise.resolve(void 0);z=()=>{v.then(D)}};function D(){for(var v;v=T();){try{v.h.call(v.g)}catch(C){A(C)}var S=I;S.j(v),S.h<100&&(S.h++,v.next=S.g,S.g=v)}M=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(v,S){this.type=v,this.g=this.target=S,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var v=!1,S=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const C=()=>{};c.addEventListener("test",C,S),c.removeEventListener("test",C,S)}catch{}return v})();function q(v){return/^[\s\xa0]*$/.test(v)}function pe(v,S){U.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,S)}g(pe,U),pe.prototype.init=function(v,S){const C=this.type=v.type,$=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=S,S=v.relatedTarget,S||(C=="mouseover"?S=v.fromElement:C=="mouseout"&&(S=v.toElement)),this.relatedTarget=S,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),F=0;function J(v,S,C,$,te){this.listener=v,this.proxy=null,this.src=S,this.type=C,this.capture=!!$,this.ha=te,this.key=++F,this.da=this.fa=!1}function fe(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function we(v,S,C){for(const $ in v)S.call(C,v[$],$,v)}function _e(v,S){for(const C in v)S.call(void 0,v[C],C,v)}function H(v){const S={};for(const C in v)S[C]=v[C];return S}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(v,S){let C,$;for(let te=1;te<arguments.length;te++){$=arguments[te];for(C in $)v[C]=$[C];for(let oe=0;oe<ie.length;oe++)C=ie[oe],Object.prototype.hasOwnProperty.call($,C)&&(v[C]=$[C])}}function xe(v){this.src=v,this.g={},this.h=0}xe.prototype.add=function(v,S,C,$,te){const oe=v.toString();v=this.g[oe],v||(v=this.g[oe]=[],this.h++);const je=W(v,S,$,te);return je>-1?(S=v[je],C||(S.fa=!1)):(S=new J(S,this.src,oe,!!$,te),S.fa=C,v.push(S)),S};function Y(v,S){const C=S.type;if(C in v.g){var $=v.g[C],te=Array.prototype.indexOf.call($,S,void 0),oe;(oe=te>=0)&&Array.prototype.splice.call($,te,1),oe&&(fe(S),v.g[C].length==0&&(delete v.g[C],v.h--))}}function W(v,S,C,$){for(let te=0;te<v.length;++te){const oe=v[te];if(!oe.da&&oe.listener==S&&oe.capture==!!C&&oe.ha==$)return te}return-1}var be="closure_lm_"+(Math.random()*1e6|0),Le={};function se(v,S,C,$,te){if(Array.isArray(S)){for(let oe=0;oe<S.length;oe++)se(v,S[oe],C,$,te);return null}return C=mr(C),v&&v[Ee]?v.J(S,C,d($)?!!$.capture:!1,te):Se(v,S,C,!1,$,te)}function Se(v,S,C,$,te,oe){if(!S)throw Error("Invalid event type");const je=d(te)?!!te.capture:!!te;let Ze=dt(v);if(Ze||(v[be]=Ze=new xe(v)),C=Ze.add(S,C,$,je,oe),C.proxy)return C;if($=Q(),C.proxy=$,$.src=v,$.listener=C,v.addEventListener)L||(te=je),te===void 0&&(te=!1),v.addEventListener(S.toString(),$,te);else if(v.attachEvent)v.attachEvent(Be(S.toString()),$);else if(v.addListener&&v.removeListener)v.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Q(){function v(C){return S.call(v.src,v.listener,C)}const S=at;return v}function me(v,S,C,$,te){if(Array.isArray(S))for(var oe=0;oe<S.length;oe++)me(v,S[oe],C,$,te);else $=d($)?!!$.capture:!!$,C=mr(C),v&&v[Ee]?(v=v.i,oe=String(S).toString(),oe in v.g&&(S=v.g[oe],C=W(S,C,$,te),C>-1&&(fe(S[C]),Array.prototype.splice.call(S,C,1),S.length==0&&(delete v.g[oe],v.h--)))):v&&(v=dt(v))&&(S=v.g[S.toString()],v=-1,S&&(v=W(S,C,$,te)),(C=v>-1?S[v]:null)&&De(C))}function De(v){if(typeof v!="number"&&v&&!v.da){var S=v.src;if(S&&S[Ee])Y(S.i,v);else{var C=v.type,$=v.proxy;S.removeEventListener?S.removeEventListener(C,$,v.capture):S.detachEvent?S.detachEvent(Be(C),$):S.addListener&&S.removeListener&&S.removeListener($),(C=dt(S))?(Y(C,v),C.h==0&&(C.src=null,S[be]=null)):fe(v)}}}function Be(v){return v in Le?Le[v]:Le[v]="on"+v}function at(v,S){if(v.da)v=!0;else{S=new pe(S,this);const C=v.listener,$=v.ha||v.src;v.fa&&De(v),v=C.call($,S)}return v}function dt(v){return v=v[be],v instanceof xe?v:null}var gt="__closure_events_fn_"+(Math.random()*1e9>>>0);function mr(v){return typeof v=="function"?v:(v[gt]||(v[gt]=function(S){return v.handleEvent(S)}),v[gt])}function Ot(){B.call(this),this.i=new xe(this),this.M=this,this.G=null}g(Ot,B),Ot.prototype[Ee]=!0,Ot.prototype.removeEventListener=function(v,S,C,$){me(this,v,S,C,$)};function It(v,S){var C,$=v.G;if($)for(C=[];$;$=$.G)C.push($);if(v=v.M,$=S.type||S,typeof S=="string")S=new U(S,v);else if(S instanceof U)S.target=S.target||v;else{var te=S;S=new U($,v),ve(S,te)}te=!0;let oe,je;if(C)for(je=C.length-1;je>=0;je--)oe=S.g=C[je],te=Mr(oe,$,!0,S)&&te;if(oe=S.g=v,te=Mr(oe,$,!0,S)&&te,te=Mr(oe,$,!1,S)&&te,C)for(je=0;je<C.length;je++)oe=S.g=C[je],te=Mr(oe,$,!1,S)&&te}Ot.prototype.N=function(){if(Ot.Z.N.call(this),this.i){var v=this.i;for(const S in v.g){const C=v.g[S];for(let $=0;$<C.length;$++)fe(C[$]);delete v.g[S],v.h--}}this.G=null},Ot.prototype.J=function(v,S,C,$){return this.i.add(String(v),S,!1,C,$)},Ot.prototype.K=function(v,S,C,$){return this.i.add(String(v),S,!0,C,$)};function Mr(v,S,C,$){if(S=v.i.g[String(S)],!S)return!0;S=S.concat();let te=!0;for(let oe=0;oe<S.length;++oe){const je=S[oe];if(je&&!je.da&&je.capture==C){const Ze=je.listener,vn=je.ha||je.src;je.fa&&Y(v.i,je),te=Ze.call(vn,$)!==!1&&te}}return te&&!$.defaultPrevented}function ce(v,S){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=h(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:c.setTimeout(v,S||0)}function Ie(v){v.g=ce(()=>{v.g=null,v.i&&(v.i=!1,Ie(v))},v.l);const S=v.h;v.h=null,v.m.apply(null,S)}class Ue extends B{constructor(S,C){super(),this.m=S,this.l=C,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Ie(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ke(v){B.call(this),this.h=v,this.g={}}g(Ke,B);var Lt=[];function zn(v){we(v.g,function(S,C){this.g.hasOwnProperty(C)&&De(S)},v),v.g={}}Ke.prototype.N=function(){Ke.Z.N.call(this),zn(this)},Ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zr=c.JSON.stringify,co=c.JSON.parse,Lr=class{stringify(v){return c.JSON.stringify(v,void 0)}parse(v){return c.JSON.parse(v,void 0)}};function Gi(){}function lu(){}var rn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function St(){U.call(this,"d")}g(St,U);function Vr(){U.call(this,"c")}g(Vr,U);var en={},Ll=null;function uo(){return Ll=Ll||new Ot}en.Ia="serverreachability";function cu(v){U.call(this,en.Ia,v)}g(cu,U);function Ei(v){const S=uo();It(S,new cu(S))}en.STAT_EVENT="statevent";function ss(v,S){U.call(this,en.STAT_EVENT,v),this.stat=S}g(ss,U);function an(v){const S=uo();It(S,new ss(S,v))}en.Ja="timingevent";function ji(v,S){U.call(this,en.Ja,v),this.size=S}g(ji,U);function pr(v,S){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){v()},S)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function Z(v,S,C,$,te,oe){v.info(function(){if(v.g)if(oe){var je="",Ze=oe.split("&");for(let xt=0;xt<Ze.length;xt++){var vn=Ze[xt].split("=");if(vn.length>1){const Qt=vn[0];vn=vn[1];const Ti=Qt.split("_");je=Ti.length>=2&&Ti[1]=="type"?je+(Qt+"="+vn+"&"):je+(Qt+"=redacted&")}}}else je=null;else je=oe;return"XMLHTTP REQ ("+$+") [attempt "+te+"]: "+S+`
`+C+`
`+je})}function Ve(v,S,C,$,te,oe,je){v.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+te+"]: "+S+`
`+C+`
`+oe+" "+je})}function mt(v,S,C,$){v.info(function(){return"XMLHTTP TEXT ("+S+"): "+Vl(v,C)+($?" "+$:"")})}function Fn(v,S){v.info(function(){return"TIMEOUT: "+S})}ti.prototype.info=function(){};function Vl(v,S){if(!v.g)return S;if(!S)return null;try{const oe=JSON.parse(S);if(oe){for(v=0;v<oe.length;v++)if(Array.isArray(oe[v])){var C=oe[v];if(!(C.length<2)){var $=C[1];if(Array.isArray($)&&!($.length<1)){var te=$[0];if(te!="noop"&&te!="stop"&&te!="close")for(let je=1;je<$.length;je++)$[je]=""}}}}return zr(oe)}catch{return S}}var Ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ul={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},rf;function ql(){}g(ql,Gi),ql.prototype.g=function(){return new XMLHttpRequest},rf=new ql;function os(v){return encodeURIComponent(String(v))}function ep(v){var S=1;v=v.split(":");const C=[];for(;S>0&&v.length;)C.push(v.shift()),S--;return v.length&&C.push(v.join(":")),C}function Wi(v,S,C,$){this.j=v,this.i=S,this.l=C,this.S=$||1,this.V=new Ke(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qi}function Qi(){this.i=null,this.g="",this.h=!1}var jn={},Hn={};function ya(v,S,C){v.M=1,v.A=Bl(Sn(S)),v.u=C,v.R=!0,uu(v,null)}function uu(v,S){v.F=Date.now(),ba(v),v.B=Sn(v.A);var C=v.B,$=v.S;Array.isArray($)||($=[String($)]),mu(C.i,"t",$),v.C=0,C=v.j.L,v.h=new Qi,v.g=pp(v.j,C?S:null,!v.u),v.P>0&&(v.O=new Ue(h(v.Y,v,v.g),v.P)),S=v.V,C=v.g,$=v.ba;var te="readystatechange";Array.isArray(te)||(te&&(Lt[0]=te.toString()),te=Lt);for(let oe=0;oe<te.length;oe++){const je=se(C,te[oe],$||S.handleEvent,!1,S.h||S);if(!je)break;S.g[je.key]=je}S=v.J?H(v.J):{},v.u?(v.v||(v.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,S)):(v.v="GET",v.g.ea(v.B,v.v,null,S)),Ei(),Z(v.i,v.v,v.B,v.l,v.S,v.u)}Wi.prototype.ba=function(v){v=v.target;const S=this.O;S&&Zi(v)==3?S.j():this.Y(v)},Wi.prototype.Y=function(v){try{if(v==this.g)e:{const Ze=Zi(this.g),vn=this.g.ya(),xt=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||ar(this.g)))){this.K||Ze!=4||vn==7||(vn==8||xt<=0?Ei(3):Ei(2)),_a(this);var S=this.g.ca();this.X=S;var C=ob(this);if(this.o=S==200,Ve(this.i,this.v,this.B,this.l,this.S,Ze,S),this.o){if(this.U&&!this.L){t:{if(this.g){var $,te=this.g;if(($=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q($)){var oe=$;break t}}oe=null}if(v=oe)mt(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xa(this,v);else{this.o=!1,this.m=3,an(12),ni(this),Ai(this);break e}}if(this.R){v=!0;let Qt;for(;!this.K&&this.C<C.length;)if(Qt=np(this,C),Qt==Hn){Ze==4&&(this.m=4,an(14),v=!1),mt(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==jn){this.m=4,an(15),mt(this.i,this.l,C,"[Invalid Chunk]"),v=!1;break}else mt(this.i,this.l,Qt,null),xa(this,Qt);if(tp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||C.length!=0||this.h.h||(this.m=1,an(16),v=!1),this.o=this.o&&v,!v)mt(this.i,this.l,C,"[Invalid Chunked Response]"),ni(this),Ai(this);else if(C.length>0&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.aa&&!je.P&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),bf(je),je.P=!0,an(11))}}else mt(this.i,this.l,C,null),xa(this,C);Ze==4&&ni(this),this.o&&!this.K&&(Ze==4?dp(this.j,this):(this.o=!1,ba(this)))}else cs(this.g),S==400&&C.indexOf("Unknown SID")>0?(this.m=3,an(12)):(this.m=0,an(13)),ni(this),Ai(this)}}}catch{}};function ob(v){if(!tp(v))return v.g.la();const S=ar(v.g);if(S==="")return"";let C="";const $=S.length,te=Zi(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return ni(v),Ai(v),"";v.h.i=new c.TextDecoder}for(let oe=0;oe<$;oe++)v.h.h=!0,C+=v.h.i.decode(S[oe],{stream:!(te&&oe==$-1)});return S.length=0,v.h.g+=C,v.C=0,v.h.g}function tp(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function np(v,S){var C=v.C,$=S.indexOf(`
`,C);return $==-1?Hn:(C=Number(S.substring(C,$)),isNaN(C)?jn:($+=1,$+C>S.length?Hn:(S=S.slice($,$+C),v.C=$+C,S)))}Wi.prototype.cancel=function(){this.K=!0,ni(this)};function ba(v){v.T=Date.now()+v.H,du(v,v.H)}function du(v,S){if(v.D!=null)throw Error("WatchDog timer not null");v.D=pr(h(v.aa,v),S)}function _a(v){v.D&&(c.clearTimeout(v.D),v.D=null)}Wi.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(Fn(this.i,this.B),this.M!=2&&(Ei(),an(17)),ni(this),this.m=2,Ai(this)):du(this,this.T-v)};function Ai(v){v.j.I==0||v.K||dp(v.j,v)}function ni(v){_a(v);var S=v.O;S&&typeof S.dispose=="function"&&S.dispose(),v.O=null,zn(v.V),v.g&&(S=v.g,v.g=null,S.abort(),S.dispose())}function xa(v,S){try{var C=v.j;if(C.I!=0&&(C.g==v||Ea(C.h,v))){if(!v.L&&Ea(C.h,v)&&C.I==3){try{var $=C.Ba.g.parse(S)}catch{$=null}if(Array.isArray($)&&$.length==3){var te=$;if(te[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<v.F)bu(C),bo(C);else break e;Ql(C),an(18)}}else C.xa=te[1],0<C.xa-C.K&&te[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=pr(h(C.Va,C),6e3));wa(C.h)<=1&&C.ta&&(C.ta=void 0)}else Ca(C,11)}else if((v.L||C.g==v)&&bu(C),!q(S))for(te=C.Ba.g.parse(S),S=0;S<te.length;S++){let xt=te[S];const Qt=xt[0];if(!(Qt<=C.K))if(C.K=Qt,xt=xt[1],C.I==2)if(xt[0]=="c"){C.M=xt[1],C.ba=xt[2];const Ti=xt[3];Ti!=null&&(C.ka=Ti,C.j.info("VER="+C.ka));const Pa=xt[4];Pa!=null&&(C.za=Pa,C.j.info("SVER="+C.za));const Ji=xt[5];Ji!=null&&typeof Ji=="number"&&Ji>0&&($=1.5*Ji,C.O=$,C.j.info("backChannelRequestTimeoutMs_="+$)),$=C;const ea=v.g;if(ea){const Yl=ea.g?ea.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yl){var oe=$.h;oe.g||Yl.indexOf("spdy")==-1&&Yl.indexOf("quic")==-1&&Yl.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(of(oe,oe.h),oe.h=null))}if($.G){const _u=ea.g?ea.g.getResponseHeader("X-HTTP-Session-Id"):null;_u&&($.wa=_u,Nt($.J,$.G,_u))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-v.F,C.j.info("Handshake RTT: "+C.T+"ms")),$=C;var je=v;if($.na=mp($,$.L?$.ba:null,$.W),je.L){lf($.h,je);var Ze=je,vn=$.O;vn&&(Ze.H=vn),Ze.D&&(_a(Ze),ba(Ze)),$.g=je}else cp($);C.i.length>0&&Ta(C)}else xt[0]!="stop"&&xt[0]!="close"||Ca(C,7);else C.I==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Ca(C,7):vf(C):xt[0]!="noop"&&C.l&&C.l.qa(xt),C.A=0)}}Ei(4)}catch{}}var An=class{constructor(v,S){this.g=v,this.map=S}};function af(v){this.l=v||10,c.PerformanceNavigationTiming?(v=c.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sf(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function wa(v){return v.h?1:v.g?v.g.size:0}function Ea(v,S){return v.h?v.h==S:v.g?v.g.has(S):!1}function of(v,S){v.g?v.g.add(S):v.h=S}function lf(v,S){v.h&&v.h==S?v.h=null:v.g&&v.g.has(S)&&v.g.delete(S)}af.prototype.cancel=function(){if(this.i=cf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function cf(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let S=v.i;for(const C of v.g.values())S=S.concat(C.G);return S}return w(v.i)}var rp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fu(v,S){if(v){v=v.split("&");for(let C=0;C<v.length;C++){const $=v[C].indexOf("=");let te,oe=null;$>=0?(te=v[C].substring(0,$),oe=v[C].substring($+1)):te=v[C],S(te,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function ri(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;v instanceof ri?(this.l=v.l,Kn(this,v.j),this.o=v.o,this.g=v.g,fo(this,v.u),this.h=v.h,uf(this,op(v.i)),this.m=v.m):v&&(S=String(v).match(rp))?(this.l=!1,Kn(this,S[1]||"",!0),this.o=ja(S[2]||""),this.g=ja(S[3]||"",!0),fo(this,S[4]),this.h=ja(S[5]||"",!0),uf(this,S[6]||"",!0),this.m=ja(S[7]||"")):(this.l=!1,this.i=new mo(null,this.l))}ri.prototype.toString=function(){const v=[];var S=this.j;S&&v.push($l(S,hu,!0),":");var C=this.g;return(C||S=="file")&&(v.push("//"),(S=this.o)&&v.push($l(S,hu,!0),"@"),v.push(os(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&v.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&v.push("/"),v.push($l(C,C.charAt(0)=="/"?df:ip,!0))),(C=this.i.toString())&&v.push("?",C),(C=this.m)&&v.push("#",$l(C,ap)),v.join("")},ri.prototype.resolve=function(v){const S=Sn(this);let C=!!v.j;C?Kn(S,v.j):C=!!v.o,C?S.o=v.o:C=!!v.g,C?S.g=v.g:C=v.u!=null;var $=v.h;if(C)fo(S,v.u);else if(C=!!v.h){if($.charAt(0)!="/")if(this.g&&!this.h)$="/"+$;else{var te=S.h.lastIndexOf("/");te!=-1&&($=S.h.slice(0,te+1)+$)}if(te=$,te==".."||te==".")$="";else if(te.indexOf("./")!=-1||te.indexOf("/.")!=-1){$=te.lastIndexOf("/",0)==0,te=te.split("/");const oe=[];for(let je=0;je<te.length;){const Ze=te[je++];Ze=="."?$&&je==te.length&&oe.push(""):Ze==".."?((oe.length>1||oe.length==1&&oe[0]!="")&&oe.pop(),$&&je==te.length&&oe.push("")):(oe.push(Ze),$=!0)}$=oe.join("/")}else $=te}return C?S.h=$:C=v.i.toString()!=="",C?uf(S,op(v.i)):C=!!v.m,C&&(S.m=v.m),S};function Sn(v){return new ri(v)}function Kn(v,S,C){v.j=C?ja(S,!0):S,v.j&&(v.j=v.j.replace(/:$/,""))}function fo(v,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);v.u=S}else v.u=null}function uf(v,S,C){S instanceof mo?(v.i=S,pu(v.i,v.l)):(C||(S=$l(S,ho)),v.i=new mo(S,v.l))}function Nt(v,S,C){v.i.set(S,C)}function Bl(v){return Nt(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function ja(v,S){return v?S?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function $l(v,S,C){return typeof v=="string"?(v=encodeURI(v).replace(S,qr),C&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function qr(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var hu=/[#\/\?@]/g,ip=/[#\?:]/g,df=/[#\?]/g,ho=/[#\?@]/g,ap=/#/g;function mo(v,S){this.h=this.g=null,this.i=v||null,this.j=!!S}function Br(v){v.g||(v.g=new Map,v.h=0,v.i&&fu(v.i,function(S,C){v.add(decodeURIComponent(S.replace(/\+/g," ")),C)}))}t=mo.prototype,t.add=function(v,S){Br(this),this.i=null,v=po(this,v);let C=this.g.get(v);return C||this.g.set(v,C=[]),C.push(S),this.h+=1,this};function sp(v,S){Br(v),S=po(v,S),v.g.has(S)&&(v.i=null,v.h-=v.g.get(S).length,v.g.delete(S))}function ff(v,S){return Br(v),S=po(v,S),v.g.has(S)}t.forEach=function(v,S){Br(this),this.g.forEach(function(C,$){C.forEach(function(te){v.call(S,te,$,this)},this)},this)};function hf(v,S){Br(v);let C=[];if(typeof S=="string")ff(v,S)&&(C=C.concat(v.g.get(po(v,S))));else for(v=Array.from(v.g.values()),S=0;S<v.length;S++)C=C.concat(v[S]);return C}t.set=function(v,S){return Br(this),this.i=null,v=po(this,v),ff(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[S]),this.h+=1,this},t.get=function(v,S){return v?(v=hf(this,v),v.length>0?String(v[0]):S):S};function mu(v,S,C){sp(v,S),C.length>0&&(v.i=null,v.g.set(po(v,S),w(C)),v.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],S=Array.from(this.g.keys());for(let $=0;$<S.length;$++){var C=S[$];const te=os(C);C=hf(this,C);for(let oe=0;oe<C.length;oe++){let je=te;C[oe]!==""&&(je+="="+os(C[oe])),v.push(je)}}return this.i=v.join("&")};function op(v){const S=new mo;return S.i=v.i,v.g&&(S.g=new Map(v.g),S.h=v.h),S}function po(v,S){return S=String(S),v.j&&(S=S.toLowerCase()),S}function pu(v,S){S&&!v.j&&(Br(v),v.i=null,v.g.forEach(function(C,$){const te=$.toLowerCase();$!=te&&(sp(this,$),mu(this,te,C))},v)),v.j=S}function Yi(v,S){const C=new ti;if(c.Image){const $=new Image;$.onload=p(Si,C,"TestLoadImage: loaded",!0,S,$),$.onerror=p(Si,C,"TestLoadImage: error",!1,S,$),$.onabort=p(Si,C,"TestLoadImage: abort",!1,S,$),$.ontimeout=p(Si,C,"TestLoadImage: timeout",!1,S,$),c.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=v}else S(!1)}function mf(v,S){const C=new ti,$=new AbortController,te=setTimeout(()=>{$.abort(),Si(C,"TestPingServer: timeout",!1,S)},1e4);fetch(v,{signal:$.signal}).then(oe=>{clearTimeout(te),oe.ok?Si(C,"TestPingServer: ok",!0,S):Si(C,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(te),Si(C,"TestPingServer: error",!1,S)})}function Si(v,S,C,$,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),$(C)}catch{}}function go(){this.g=new Lr}function Aa(v){this.i=v.Sb||null,this.h=v.ab||!1}g(Aa,Gi),Aa.prototype.g=function(){return new Fl(this.i,this.h)};function Fl(v,S){Ot.call(this),this.H=v,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Fl,Ot),t=Fl.prototype,t.open=function(v,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=S,this.readyState=1,Xi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(S.body=v),(this.H||c).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vo(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Xi(this)),this.g&&(this.readyState=3,Xi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;gu(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function gu(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var S=v.value?v.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!v.done}))&&(this.response=this.responseText+=S)}v.done?vo(this):Xi(this),this.readyState==3&&gu(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,vo(this))},t.Na=function(v){this.g&&(this.response=v,vo(this))},t.ga=function(){this.g&&vo(this)};function vo(v){v.readyState=4,v.l=null,v.j=null,v.B=null,Xi(v)}t.setRequestHeader=function(v,S){this.A.append(v,S)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],S=this.h.entries();for(var C=S.next();!C.done;)C=C.value,v.push(C[0]+": "+C[1]),C=S.next();return v.join(`\r
`)};function Xi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Fl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Ni(v){let S="";return we(v,function(C,$){S+=$,S+=":",S+=C,S+=`\r
`}),S}function Hl(v,S,C){e:{for($ in C){var $=!1;break e}$=!0}$||(C=Ni(C),typeof v=="string"?C!=null&&os(C):Nt(v,S,C))}function Rt(v){Ot.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Rt,Ot);var Sa=/^https?$/i,pf=["POST","PUT"];t=Rt.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,S,C,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);S=S?S.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():rf.g(),this.g.onreadystatechange=y(h(this.Ca,this));try{this.B=!0,this.g.open(S,String(v),!0),this.B=!1}catch(oe){Kl(this,oe);return}if(v=C||"",C=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var te in $)C.set(te,$[te]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const oe of $.keys())C.set(oe,$.get(oe));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(C.keys()).find(oe=>oe.toLowerCase()=="content-type"),te=c.FormData&&v instanceof c.FormData,!(Array.prototype.indexOf.call(pf,S,void 0)>=0)||$||te||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,je]of C)this.g.setRequestHeader(oe,je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(oe){Kl(this,oe)}};function Kl(v,S){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=S,v.o=5,gf(v),ls(v)}function gf(v){v.A||(v.A=!0,It(v,"complete"),It(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,It(this,"complete"),It(this,"abort"),ls(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),Rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Gl(this):this.Xa())},t.Xa=function(){Gl(this)};function Gl(v){if(v.h&&typeof s<"u"){if(v.v&&Zi(v)==4)setTimeout(v.Ca.bind(v),0);else if(It(v,"readystatechange"),Zi(v)==4){v.h=!1;try{const oe=v.ca();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var C;if(!(C=S)){var $;if($=oe===0){let je=String(v.D).match(rp)[1]||null;!je&&c.self&&c.self.location&&(je=c.self.location.protocol.slice(0,-1)),$=!Sa.test(je?je.toLowerCase():"")}C=$}if(C)It(v,"complete"),It(v,"success");else{v.o=6;try{var te=Zi(v)>2?v.g.statusText:""}catch{te=""}v.l=te+" ["+v.ca()+"]",gf(v)}}finally{ls(v)}}}}function ls(v,S){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const C=v.g;v.g=null,S||It(v,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Zi(v){return v.g?v.g.readyState:0}t.ca=function(){try{return Zi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var S=this.g.responseText;return v&&S.indexOf(v)==0&&(S=S.substring(v.length)),co(S)}};function ar(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function cs(v){const S={};v=(v.g&&Zi(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<v.length;$++){if(q(v[$]))continue;var C=ep(v[$]);const te=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const oe=S[te]||[];S[te]=oe,oe.push(C)}_e(S,function($){return $.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Na(v,S,C){return C&&C.internalChannelParams&&C.internalChannelParams[v]||S}function yo(v){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Na("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Na("baseRetryDelayMs",5e3,v),this.Za=Na("retryDelaySeedMs",1e4,v),this.Ta=Na("forwardChannelMaxRetries",2,v),this.va=Na("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new af(v&&v.concurrentRequestLimit),this.Ba=new go,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=yo.prototype,t.ka=8,t.I=1,t.connect=function(v,S,C,$){an(0),this.W=v,this.H=S||{},C&&$!==void 0&&(this.H.OSID=C,this.H.OAID=$),this.F=this.X,this.J=mp(this,null,this.W),Ta(this)};function vf(v){if(vu(v),v.I==3){var S=v.V++,C=Sn(v.J);if(Nt(C,"SID",v.M),Nt(C,"RID",S),Nt(C,"TYPE","terminate"),Wl(v,C),S=new Wi(v,v.j,S),S.M=2,S.A=Bl(Sn(C)),C=!1,c.navigator&&c.navigator.sendBeacon)try{C=c.navigator.sendBeacon(S.A.toString(),"")}catch{}!C&&c.Image&&(new Image().src=S.A,C=!0),C||(S.g=pp(S.j,null),S.g.ea(S.A)),S.F=Date.now(),ba(S)}hp(v)}function bo(v){v.g&&(bf(v),v.g.cancel(),v.g=null)}function vu(v){bo(v),v.v&&(c.clearTimeout(v.v),v.v=null),bu(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&c.clearTimeout(v.m),v.m=null)}function Ta(v){if(!sf(v.h)&&!v.m){v.m=!0;var S=v.Ea;z||P(),M||(z(),M=!0),O.add(S,v),v.D=0}}function yu(v,S){return wa(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=S.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=pr(h(v.Ea,v,S),fp(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const te=new Wi(this,this.j,v);let oe=this.o;if(this.U&&(oe?(oe=H(oe),ve(oe,this.U)):oe=this.U),this.u!==null||this.R||(te.J=oe,oe=null),this.S)e:{for(var S=0,C=0;C<this.i.length;C++){t:{var $=this.i[C];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(S+=$,S>4096){S=C;break e}if(S===4096||C===this.i.length-1){S=C+1;break e}}S=1e3}else S=1e3;S=lp(this,te,S),C=Sn(this.J),Nt(C,"RID",v),Nt(C,"CVER",22),this.G&&Nt(C,"X-HTTP-Session-Id",this.G),Wl(this,C),oe&&(this.R?S="headers="+os(Ni(oe))+"&"+S:this.u&&Hl(C,this.u,oe)),of(this.h,te),this.Ra&&Nt(C,"TYPE","init"),this.S?(Nt(C,"$req",S),Nt(C,"SID","null"),te.U=!0,ya(te,C,null)):ya(te,C,S),this.I=2}}else this.I==3&&(v?yf(this,v):this.i.length==0||sf(this.h)||yf(this))};function yf(v,S){var C;S?C=S.l:C=v.V++;const $=Sn(v.J);Nt($,"SID",v.M),Nt($,"RID",C),Nt($,"AID",v.K),Wl(v,$),v.u&&v.o&&Hl($,v.u,v.o),C=new Wi(v,v.j,C,v.D+1),v.u===null&&(C.J=v.o),S&&(v.i=S.G.concat(v.i)),S=lp(v,C,1e3),C.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),of(v.h,C),ya(C,$,S)}function Wl(v,S){v.H&&we(v.H,function(C,$){Nt(S,$,C)}),v.l&&we({},function(C,$){Nt(S,$,C)})}function lp(v,S,C){C=Math.min(v.i.length,C);const $=v.l?h(v.l.Ka,v.l,v):null;e:{var te=v.i;let Ze=-1;for(;;){const vn=["count="+C];Ze==-1?C>0?(Ze=te[0].g,vn.push("ofs="+Ze)):Ze=0:vn.push("ofs="+Ze);let xt=!0;for(let Qt=0;Qt<C;Qt++){var oe=te[Qt].g;const Ti=te[Qt].map;if(oe-=Ze,oe<0)Ze=Math.max(0,te[Qt].g-100),xt=!1;else try{oe="req"+oe+"_"||"";try{var je=Ti instanceof Map?Ti:Object.entries(Ti);for(const[Pa,Ji]of je){let ea=Ji;d(Ji)&&(ea=zr(Ji)),vn.push(oe+Pa+"="+encodeURIComponent(ea))}}catch(Pa){throw vn.push(oe+"type="+encodeURIComponent("_badmap")),Pa}}catch{$&&$(Ti)}}if(xt){je=vn.join("&");break e}}je=void 0}return v=v.i.splice(0,C),S.G=v,je}function cp(v){if(!v.g&&!v.v){v.Y=1;var S=v.Da;z||P(),M||(z(),M=!0),O.add(S,v),v.A=0}}function Ql(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=pr(h(v.Da,v),fp(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,up(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=pr(h(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,an(10),bo(this),up(this))};function bf(v){v.B!=null&&(c.clearTimeout(v.B),v.B=null)}function up(v){v.g=new Wi(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var S=Sn(v.na);Nt(S,"RID","rpc"),Nt(S,"SID",v.M),Nt(S,"AID",v.K),Nt(S,"CI",v.F?"0":"1"),!v.F&&v.ia&&Nt(S,"TO",v.ia),Nt(S,"TYPE","xmlhttp"),Wl(v,S),v.u&&v.o&&Hl(S,v.u,v.o),v.O&&(v.g.H=v.O);var C=v.g;v=v.ba,C.M=1,C.A=Bl(Sn(S)),C.u=null,C.R=!0,uu(C,v)}t.Va=function(){this.C!=null&&(this.C=null,bo(this),Ql(this),an(19))};function bu(v){v.C!=null&&(c.clearTimeout(v.C),v.C=null)}function dp(v,S){var C=null;if(v.g==S){bu(v),bf(v),v.g=null;var $=2}else if(Ea(v.h,S))C=S.G,lf(v.h,S),$=1;else return;if(v.I!=0){if(S.o)if($==1){C=S.u?S.u.length:0,S=Date.now()-S.F;var te=v.D;$=uo(),It($,new ji($,C)),Ta(v)}else cp(v);else if(te=S.m,te==3||te==0&&S.X>0||!($==1&&yu(v,S)||$==2&&Ql(v)))switch(C&&C.length>0&&(S=v.h,S.i=S.i.concat(C)),te){case 1:Ca(v,5);break;case 4:Ca(v,10);break;case 3:Ca(v,6);break;default:Ca(v,2)}}}function fp(v,S){let C=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(C*=2),C*S}function Ca(v,S){if(v.j.info("Error code "+S),S==2){var C=h(v.bb,v),$=v.Ua;const te=!$;$=new ri($||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Kn($,"https"),Bl($),te?Yi($.toString(),C):mf($.toString(),C)}else an(2);v.I=0,v.l&&v.l.pa(S),hp(v),vu(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),an(2)):(this.j.info("Failed to ping google.com"),an(1))};function hp(v){if(v.I=0,v.ja=[],v.l){const S=cf(v.h);(S.length!=0||v.i.length!=0)&&(j(v.ja,S),j(v.ja,v.i),v.h.i.length=0,w(v.i),v.i.length=0),v.l.oa()}}function mp(v,S,C){var $=C instanceof ri?Sn(C):new ri(C);if($.g!="")S&&($.g=S+"."+$.g),fo($,$.u);else{var te=c.location;$=te.protocol,S=S?S+"."+te.hostname:te.hostname,te=+te.port;const oe=new ri(null);$&&Kn(oe,$),S&&(oe.g=S),te&&fo(oe,te),C&&(oe.h=C),$=oe}return C=v.G,S=v.wa,C&&S&&Nt($,C,S),Nt($,"VER",v.ka),Wl(v,$),$}function pp(v,S,C){if(S&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=v.Aa&&!v.ma?new Rt(new Aa({ab:C})):new Rt(v.ma),S.Fa(v.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gp(){}t=gp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function _o(){}_o.prototype.g=function(v,S){return new Sr(v,S)};function Sr(v,S){Ot.call(this),this.g=new yo(S),this.l=v,this.h=S&&S.messageUrlParams||null,v=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(v?v["X-WebChannel-Content-Type"]=S.messageContentType:v={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(v?v["X-WebChannel-Client-Profile"]=S.sa:v={"X-WebChannel-Client-Profile":S.sa}),this.g.U=v,(v=S&&S.Qb)&&!q(v)&&(this.g.u=v),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!q(S)&&(this.g.G=S,v=this.h,v!==null&&S in v&&(v=this.h,S in v&&delete v[S])),this.j=new us(this)}g(Sr,Ot),Sr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sr.prototype.close=function(){vf(this.g)},Sr.prototype.o=function(v){var S=this.g;if(typeof v=="string"){var C={};C.__data__=v,v=C}else this.v&&(C={},C.__data__=zr(v),v=C);S.i.push(new An(S.Ya++,v)),S.I==3&&Ta(S)},Sr.prototype.N=function(){this.g.l=null,delete this.j,vf(this.g),delete this.g,Sr.Z.N.call(this)};function vp(v){St.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var S=v.__sm__;if(S){e:{for(const C in S){v=C;break e}v=void 0}(this.i=v)&&(v=this.i,S=S!==null&&v in S?S[v]:void 0),this.data=S}else this.data=v}g(vp,St);function yp(){Vr.call(this),this.status=1}g(yp,Vr);function us(v){this.g=v}g(us,gp),us.prototype.ra=function(){It(this.g,"a")},us.prototype.qa=function(v){It(this.g,new vp(v))},us.prototype.pa=function(v){It(this.g,new yp)},us.prototype.oa=function(){It(this.g,"b")},_o.prototype.createWebChannel=_o.prototype.g,Sr.prototype.send=Sr.prototype.o,Sr.prototype.open=Sr.prototype.m,Sr.prototype.close=Sr.prototype.close,iz=function(){return new _o},rz=function(){return uo()},nz=en,Ew={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,tv=Ur,Ul.COMPLETE="complete",tz=Ul,lu.EventType=rn,rn.OPEN="a",rn.CLOSE="b",rn.ERROR="c",rn.MESSAGE="d",Ot.prototype.listen=Ot.prototype.J,_h=lu,Rt.prototype.listenOnce=Rt.prototype.K,Rt.prototype.getLastError=Rt.prototype.Ha,Rt.prototype.getLastErrorCode=Rt.prototype.ya,Rt.prototype.getStatus=Rt.prototype.ca,Rt.prototype.getResponseJson=Rt.prototype.La,Rt.prototype.getResponseText=Rt.prototype.la,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Fa,ez=Rt}).apply(typeof Eg<"u"?Eg:typeof self<"u"?self:typeof window<"u"?window:{});let _r=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};_r.UNAUTHENTICATED=new _r(null),_r.GOOGLE_CREDENTIALS=new _r("google-credentials-uid"),_r.FIRST_PARTY=new _r("first-party-uid"),_r.MOCK_USER=new _r("mock-user");let Ud="12.8.0";function vH(t){Ud=t}const qc=new aj("@firebase/firestore");function nd(){return qc.logLevel}function Te(t,...e){if(qc.logLevel<=lt.DEBUG){const n=e.map(gj);qc.debug(`Firestore (${Ud}): ${t}`,...n)}}function qs(t,...e){if(qc.logLevel<=lt.ERROR){const n=e.map(gj);qc.error(`Firestore (${Ud}): ${t}`,...n)}}function Bc(t,...e){if(qc.logLevel<=lt.WARN){const n=e.map(gj);qc.warn(`Firestore (${Ud}): ${t}`,...n)}}function gj(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function He(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,az(t,r,n)}function az(t,e,n){let r=`FIRESTORE (${Ud}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw qs(r),new Error(r)}function At(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||az(e,i,r)}function Xe(t,e){return t}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ds{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class sz{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(_r.UNAUTHENTICATED)))}shutdown(){}}class yH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class bH{constructor(e){this.t=e,this.currentUser=_r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){At(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ds,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},d=f=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ds)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string",31837,{l:r}),new sz(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string",2055,{h:e}),new _r(e)}}class _H{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=_r.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class xH{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new _H(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(_r.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wH{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,di(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){At(this.o===void 0,3512);const r=s=>{s.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.m;return this.m=s.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wP(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(At(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wP(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function EH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class By{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=EH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ct(t,e){return t<e?-1:t>e?1:0}function jw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return px(i)===px(s)?ct(i,s):px(i)?1:-1}return ct(t.length,e.length)}const jH=55296,AH=57343;function px(t){const e=t.charCodeAt(0);return e>=jH&&e<=AH}function Ed(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const EP="__name__";class La{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&He(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return La.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof La?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=La.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ct(e.length,n.length)}static compareSegments(e,n){const r=La.isNumericId(e),i=La.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?La.extractNumericId(e).compare(La.extractNumericId(n)):jw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cl.fromString(e.substring(4,e.length-2))}}class $t extends La{construct(e,n,r){return new $t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new $t(n)}static emptyPath(){return new $t([])}}const SH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jn extends La{construct(e,n,r){return new Jn(e,n,r)}static isValidIdentifier(e){return SH.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===EP}static keyField(){return new Jn([EP])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ae(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new Ae(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ae(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else d==="`"?(c=!c,i++):d!=="."||c?(r+=d,i++):(s(),i++)}if(s(),c)throw new Ae(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jn(n)}static emptyPath(){return new Jn([])}}class Me{constructor(e){this.path=e}static fromPath(e){return new Me($t.fromString(e))}static fromName(e){return new Me($t.fromString(e).popFirst(5))}static empty(){return new Me($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new $t(e.slice()))}}function lz(t,e,n){if(!n)throw new Ae(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cz(t,e,n,r){if(e===!0&&r===!0)throw new Ae(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jP(t){if(!Me.isDocumentKey(t))throw new Ae(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function AP(t){if(Me.isDocumentKey(t))throw new Ae(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uz(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function $y(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He(12329,{type:typeof t})}function _i(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$y(t);throw new Ae(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function NH(t,e){if(e<=0)throw new Ae(de.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function _m(t,e){if(!uz(t))throw new Ae(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(i&&typeof c!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&c!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ae(de.INVALID_ARGUMENT,n);return!0}const SP=-62135596800,NP=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*NP);return new it(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<SP)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NP}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_m(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-SP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Rn("string",it._jsonSchemaVersion),seconds:Rn("number"),nanoseconds:Rn("number")};class Qe{static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new it(0,0))}static max(){return new Qe(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bh=-1;function TH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Qe.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new pl(i,Me.empty(),e)}function CH(t){return new pl(t.readTime,t.key,Bh)}class pl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new pl(Qe.min(),Me.empty(),Bh)}static max(){return new pl(Qe.max(),Me.empty(),Bh)}}function PH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}const OH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function qd(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==OH)throw t;Te("LocalStore","Unexpectedly lost primary lease")}class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.reject(n)}static resolve(e){return new ye(((n,r)=>{n(e)}))}static reject(e){return new ye(((n,r)=>{r(e)}))}static waitFor(e){return new ye(((n,r)=>{let i=0,s=0,c=!1;e.forEach((d=>{++i,d.next((()=>{++s,c&&s===i&&n()}),(f=>r(f)))})),c=!0,s===i&&n()}))}static or(e){let n=ye.resolve(!1);for(const r of e)n=n.next((i=>i?ye.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new ye(((r,i)=>{const s=e.length,c=new Array(s);let d=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((p=>{c[h]=p,++d,d===s&&r(c)}),(p=>i(p)))}}))}static doWhile(e,n){return new ye(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function RH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bd(t){return t.name==="IndexedDbTransactionError"}class Fy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fy.ce=-1;const vj=-1;function Hy(t){return t==null}function Ev(t){return t===0&&1/t==-1/0}function kH(t){return typeof t=="number"&&Number.isInteger(t)&&!Ev(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const dz="";function DH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=TP(e)),e=MH(t.get(n),e);return TP(e)}function MH(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case dz:n+="";break;default:n+=s}}return n}function TP(t){return t+dz+""}function CP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class tn{constructor(e,n){this.comparator=e,this.root=n||fr.EMPTY}insert(e,n){return new tn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jg(this.root,e,this.comparator,!1)}getReverseIterator(){return new jg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jg(this.root,e,this.comparator,!0)}}class jg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??fr.RED,this.left=i??fr.EMPTY,this.right=s??fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new fr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return fr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1;fr.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new fr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Un{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new PP(this.data.getIterator())}getIteratorFrom(e){return new PP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Un(this.comparator);return n.data=e,n}}class PP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pi{constructor(e){this.fields=e,e.sort(Jn.comparator)}static empty(){return new pi([])}unionWith(e){let n=new Un(Jn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ed(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class hz extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new hz("Invalid base64 string: "+s):s}})(e);return new tr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let c=0;c<i.length;++c)s+=String.fromCharCode(i[c]);return s})(e);return new tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tr.EMPTY_BYTE_STRING=new tr("");const zH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gl(t){if(At(!!t,39018),typeof t=="string"){let e=0;const n=zH.exec(t);if(At(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xn(t.seconds),nanos:xn(t.nanos)}}function xn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vl(t){return typeof t=="string"?tr.fromBase64String(t):tr.fromUint8Array(t)}const mz="server_timestamp",pz="__type__",gz="__previous_value__",vz="__local_write_time__";function yj(t){return(t?.mapValue?.fields||{})[pz]?.stringValue===mz}function Ky(t){const e=t.mapValue.fields[gz];return yj(e)?Ky(e):e}function $h(t){const e=gl(t.mapValue.fields[vz].timestampValue);return new it(e.seconds,e.nanos)}class LH{constructor(e,n,r,i,s,c,d,f,h,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p,this.apiKey=g}}const jv="(default)";class jd{constructor(e,n){this.projectId=e,this.database=n||jv}static empty(){return new jd("","")}get isDefaultDatabase(){return this.database===jv}isEqual(e){return e instanceof jd&&e.projectId===this.projectId&&e.database===this.database}}function VH(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ae(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jd(t.options.projectId,e)}const yz="__type__",UH="__max__",Ag={mapValue:{}},bz="__vector__",Av="value";function yl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yj(t)?4:BH(t)?9007199254740991:qH(t)?10:11:He(28295,{value:t})}function Ya(t,e){if(t===e)return!0;const n=yl(t);if(n!==yl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $h(t).isEqual($h(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const c=gl(i.timestampValue),d=gl(s.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return vl(i.bytesValue).isEqual(vl(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return xn(i.geoPointValue.latitude)===xn(s.geoPointValue.latitude)&&xn(i.geoPointValue.longitude)===xn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return xn(i.integerValue)===xn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const c=xn(i.doubleValue),d=xn(s.doubleValue);return c===d?Ev(c)===Ev(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Ed(t.arrayValue.values||[],e.arrayValue.values||[],Ya);case 10:case 11:return(function(i,s){const c=i.mapValue.fields||{},d=s.mapValue.fields||{};if(CP(c)!==CP(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Ya(c[f],d[f])))return!1;return!0})(t,e);default:return He(52216,{left:t})}}function Fh(t,e){return(t.values||[]).find((n=>Ya(n,e)))!==void 0}function Ad(t,e){if(t===e)return 0;const n=yl(t),r=yl(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(s,c){const d=xn(s.integerValue||s.doubleValue),f=xn(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return OP(t.timestampValue,e.timestampValue);case 4:return OP($h(t),$h(e));case 5:return jw(t.stringValue,e.stringValue);case 6:return(function(s,c){const d=vl(s),f=vl(c);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,c){const d=s.split("/"),f=c.split("/");for(let h=0;h<d.length&&h<f.length;h++){const p=ct(d[h],f[h]);if(p!==0)return p}return ct(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,c){const d=ct(xn(s.latitude),xn(c.latitude));return d!==0?d:ct(xn(s.longitude),xn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return IP(t.arrayValue,e.arrayValue);case 10:return(function(s,c){const d=s.fields||{},f=c.fields||{},h=d[Av]?.arrayValue,p=f[Av]?.arrayValue,g=ct(h?.values?.length||0,p?.values?.length||0);return g!==0?g:IP(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,c){if(s===Ag.mapValue&&c===Ag.mapValue)return 0;if(s===Ag.mapValue)return 1;if(c===Ag.mapValue)return-1;const d=s.fields||{},f=Object.keys(d),h=c.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const y=jw(f[g],p[g]);if(y!==0)return y;const w=Ad(d[f[g]],h[p[g]]);if(w!==0)return w}return ct(f.length,p.length)})(t.mapValue,e.mapValue);default:throw He(23264,{he:n})}}function OP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=gl(t),r=gl(e),i=ct(n.seconds,r.seconds);return i!==0?i:ct(n.nanos,r.nanos)}function IP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ad(n[i],r[i]);if(s)return s}return ct(n.length,r.length)}function Sd(t){return Aw(t)}function Aw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=gl(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return vl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Me.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Aw(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const c of r)s?s=!1:i+=",",i+=`${c}:${Aw(n.fields[c])}`;return i+"}"})(t.mapValue):He(61005,{value:t})}function nv(t){switch(yl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ky(t);return e?16+nv(e):16;case 5:return 2*t.stringValue.length;case 6:return vl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+nv(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Pl(r.fields,((s,c)=>{i+=s.length+nv(c)})),i})(t.mapValue);default:throw He(13486,{value:t})}}function RP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sw(t){return!!t&&"integerValue"in t}function bj(t){return!!t&&"arrayValue"in t}function kP(t){return!!t&&"nullValue"in t}function DP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rv(t){return!!t&&"mapValue"in t}function qH(t){return(t?.mapValue?.fields||{})[yz]?.stringValue===bz}function Ph(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Pl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ph(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ph(t.arrayValue.values[n]);return e}return{...t}}function BH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===UH}class Qr{constructor(e){this.value=e}static empty(){return new Qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ph(n)}setAll(e){let n=Jn.emptyPath(),r={},i=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=d.popLast()}c?r[d.lastSegment()]=Ph(c):i.push(d.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());rv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ya(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Pl(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Qr(Ph(this.value))}}function _z(t){const e=[];return Pl(t.fields,((n,r)=>{const i=new Jn([n]);if(rv(r)){const s=_z(r.mapValue).fields;if(s.length===0)e.push(i);else for(const c of s)e.push(i.child(c))}else e.push(i)})),new pi(e)}class xr{constructor(e,n,r,i,s,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=c,this.documentState=d}static newInvalidDocument(e){return new xr(e,0,Qe.min(),Qe.min(),Qe.min(),Qr.empty(),0)}static newFoundDocument(e,n,r,i){return new xr(e,1,n,Qe.min(),r,i,0)}static newNoDocument(e,n){return new xr(e,2,n,Qe.min(),Qe.min(),Qr.empty(),0)}static newUnknownDocument(e,n){return new xr(e,3,n,Qe.min(),Qe.min(),Qr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sv{constructor(e,n){this.position=e,this.inclusive=n}}function MP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],c=t.position[i];if(s.field.isKeyField()?r=Me.comparator(Me.fromName(c.referenceValue),n.key):r=Ad(c,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function zP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ya(t.position[n],e.position[n]))return!1;return!0}class Hh{constructor(e,n="asc"){this.field=e,this.dir=n}}function $H(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class xz{}class In extends xz{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new HH(e,n,r):n==="array-contains"?new WH(e,r):n==="in"?new QH(e,r):n==="not-in"?new YH(e,r):n==="array-contains-any"?new XH(e,r):new In(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new KH(e,r):new GH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ad(n,this.value)):n!==null&&yl(this.value)===yl(n)&&this.matchesComparison(Ad(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fa extends xz{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fa(e,n)}matches(e){return wz(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wz(t){return t.op==="and"}function Ez(t){return FH(t)&&wz(t)}function FH(t){for(const e of t.filters)if(e instanceof fa)return!1;return!0}function Nw(t){if(t instanceof In)return t.field.canonicalString()+t.op.toString()+Sd(t.value);if(Ez(t))return t.filters.map((e=>Nw(e))).join(",");{const e=t.filters.map((n=>Nw(n))).join(",");return`${t.op}(${e})`}}function jz(t,e){return t instanceof In?(function(r,i){return i instanceof In&&r.op===i.op&&r.field.isEqual(i.field)&&Ya(r.value,i.value)})(t,e):t instanceof fa?(function(r,i){return i instanceof fa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,c,d)=>s&&jz(c,i.filters[d])),!0):!1})(t,e):void He(19439)}function Az(t){return t instanceof In?(function(n){return`${n.field.canonicalString()} ${n.op} ${Sd(n.value)}`})(t):t instanceof fa?(function(n){return n.op.toString()+" {"+n.getFilters().map(Az).join(" ,")+"}"})(t):"Filter"}class HH extends In{constructor(e,n,r){super(e,n,r),this.key=Me.fromName(r.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class KH extends In{constructor(e,n){super(e,"in",n),this.keys=Sz("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class GH extends In{constructor(e,n){super(e,"not-in",n),this.keys=Sz("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Sz(t,e){return(e.arrayValue?.values||[]).map((n=>Me.fromName(n.referenceValue)))}class WH extends In{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bj(n)&&Fh(n.arrayValue,this.value)}}class QH extends In{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fh(this.value.arrayValue,n)}}class YH extends In{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fh(this.value.arrayValue,n)}}class XH extends In{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bj(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Fh(this.value.arrayValue,r)))}}class ZH{constructor(e,n=null,r=[],i=[],s=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=c,this.endAt=d,this.Te=null}}function LP(t,e=null,n=[],r=[],i=null,s=null,c=null){return new ZH(t,e,n,r,i,s,c)}function _j(t){const e=Xe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Nw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Hy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Sd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Sd(r))).join(",")),e.Te=n}return e.Te}function xj(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$H(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jz(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zP(t.startAt,e.startAt)&&zP(t.endAt,e.endAt)}function Tw(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class $d{constructor(e,n=null,r=[],i=[],s=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function JH(t,e,n,r,i,s,c,d){return new $d(t,e,n,r,i,s,c,d)}function wj(t){return new $d(t)}function VP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eK(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Nz(t){return t.collectionGroup!==null}function Oh(t){const e=Xe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Un(Jn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(d=d.add(h.field))}))})),d})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Hh(s,r))})),n.has(Jn.keyField().canonicalString())||e.Ie.push(new Hh(Jn.keyField(),r))}return e.Ie}function Ka(t){const e=Xe(t);return e.Ee||(e.Ee=tK(e,Oh(t))),e.Ee}function tK(t,e){if(t.limitType==="F")return LP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Hh(i.field,s)}));const n=t.endAt?new Sv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sv(t.startAt.position,t.startAt.inclusive):null;return LP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cw(t,e){const n=t.filters.concat([e]);return new $d(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nK(t,e){const n=t.explicitOrderBy.concat([e]);return new $d(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Nv(t,e,n){return new $d(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gy(t,e){return xj(Ka(t),Ka(e))&&t.limitType===e.limitType}function Tz(t){return`${_j(Ka(t))}|lt:${t.limitType}`}function rd(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>Az(i))).join(", ")}]`),Hy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Sd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Sd(i))).join(",")),`Target(${r})`})(Ka(t))}; limitType=${t.limitType})`}function Wy(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Me.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Oh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(c,d,f){const h=MP(c,d,f);return c.inclusive?h<=0:h<0})(r.startAt,Oh(r),i)||r.endAt&&!(function(c,d,f){const h=MP(c,d,f);return c.inclusive?h>=0:h>0})(r.endAt,Oh(r),i))})(t,e)}function rK(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Cz(t){return(e,n)=>{let r=!1;for(const i of Oh(t)){const s=iK(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function iK(t,e,n){const r=t.field.isKeyField()?Me.comparator(e.key,n.key):(function(s,c,d){const f=c.data.field(s),h=d.data.field(s);return f!==null&&h!==null?Ad(f,h):He(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He(19790,{direction:t.dir})}}class ru{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Pl(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return fz(this.inner)}size(){return this.innerSize}}const aK=new tn(Me.comparator);function Bs(){return aK}const Pz=new tn(Me.comparator);function xh(...t){let e=Pz;for(const n of t)e=e.insert(n.key,n);return e}function Oz(t){let e=Pz;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function wc(){return Ih()}function Iz(){return Ih()}function Ih(){return new ru((t=>t.toString()),((t,e)=>t.isEqual(e)))}const sK=new tn(Me.comparator),oK=new Un(Me.comparator);function ut(...t){let e=oK;for(const n of t)e=e.add(n);return e}const lK=new Un(ct);function cK(){return lK}function Ej(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ev(e)?"-0":e}}function Rz(t){return{integerValue:""+t}}function uK(t,e){return kH(e)?Rz(e):Ej(t,e)}class Qy{constructor(){this._=void 0}}function dK(t,e,n){return t instanceof Kh?(function(i,s){const c={fields:{[pz]:{stringValue:mz},[vz]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&yj(s)&&(s=Ky(s)),s&&(c.fields[gz]=s),{mapValue:c}})(n,e):t instanceof Gh?Dz(t,e):t instanceof Wh?Mz(t,e):(function(i,s){const c=kz(i,s),d=UP(c)+UP(i.Ae);return Sw(c)&&Sw(i.Ae)?Rz(d):Ej(i.serializer,d)})(t,e)}function fK(t,e,n){return t instanceof Gh?Dz(t,e):t instanceof Wh?Mz(t,e):n}function kz(t,e){return t instanceof Tv?(function(r){return Sw(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Kh extends Qy{}class Gh extends Qy{constructor(e){super(),this.elements=e}}function Dz(t,e){const n=zz(e);for(const r of t.elements)n.some((i=>Ya(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Wh extends Qy{constructor(e){super(),this.elements=e}}function Mz(t,e){let n=zz(e);for(const r of t.elements)n=n.filter((i=>!Ya(i,r)));return{arrayValue:{values:n}}}class Tv extends Qy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function UP(t){return xn(t.integerValue||t.doubleValue)}function zz(t){return bj(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class hK{constructor(e,n){this.field=e,this.transform=n}}function mK(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Gh&&i instanceof Gh||r instanceof Wh&&i instanceof Wh?Ed(r.elements,i.elements,Ya):r instanceof Tv&&i instanceof Tv?Ya(r.Ae,i.Ae):r instanceof Kh&&i instanceof Kh})(t.transform,e.transform)}class pK{constructor(e,n){this.version=e,this.transformResults=n}}class Ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yy{}function Lz(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xy(t.key,Ir.none()):new xm(t.key,t.data,Ir.none());{const n=t.data,r=Qr.empty();let i=new Un(Jn.comparator);for(let s of e.fields)if(!i.has(s)){let c=n.field(s);c===null&&s.length>1&&(s=s.popLast(),c=n.field(s)),c===null?r.delete(s):r.set(s,c),i=i.add(s)}return new Ol(t.key,r,new pi(i.toArray()),Ir.none())}}function gK(t,e,n){t instanceof xm?(function(i,s,c){const d=i.value.clone(),f=BP(i.fieldTransforms,s,c.transformResults);d.setAll(f),s.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Ol?(function(i,s,c){if(!iv(i.precondition,s))return void s.convertToUnknownDocument(c.version);const d=BP(i.fieldTransforms,s,c.transformResults),f=s.data;f.setAll(Vz(i)),f.setAll(d),s.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,c){s.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Rh(t,e,n,r){return t instanceof xm?(function(s,c,d,f){if(!iv(s.precondition,c))return d;const h=s.value.clone(),p=$P(s.fieldTransforms,f,c);return h.setAll(p),c.convertToFoundDocument(c.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ol?(function(s,c,d,f){if(!iv(s.precondition,c))return d;const h=$P(s.fieldTransforms,f,c),p=c.data;return p.setAll(Vz(s)),p.setAll(h),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),d===null?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,c,d){return iv(s.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function vK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=kz(r.transform,i||null);s!=null&&(n===null&&(n=Qr.empty()),n.set(r.field,s))}return n||null}function qP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ed(r,i,((s,c)=>mK(s,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xm extends Yy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ol extends Yy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Vz(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function BP(t,e,n){const r=new Map;At(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],c=s.transform,d=e.data.field(s.field);r.set(s.field,fK(c,d,n[i]))}return r}function $P(t,e,n){const r=new Map;for(const i of t){const s=i.transform,c=n.data.field(i.field);r.set(i.field,dK(s,c,e))}return r}class Xy extends Yy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yK extends Yy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bK{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gK(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Rh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Rh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Iz();return this.mutations.forEach((i=>{const s=e.get(i.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=n.has(i.key)?null:d;const f=Lz(c,d);f!==null&&r.set(i.key,f),c.isValidDocument()||c.convertToNoDocument(Qe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ut())}isEqual(e){return this.batchId===e.batchId&&Ed(this.mutations,e.mutations,((n,r)=>qP(n,r)))&&Ed(this.baseMutations,e.baseMutations,((n,r)=>qP(n,r)))}}class jj{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){At(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return sK})();const s=e.mutations;for(let c=0;c<s.length;c++)i=i.insert(s[c].key,r[c].version);return new jj(e,n,r,i)}}class _K{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class xK{constructor(e,n){this.count=e,this.unchangedNames=n}}var On,pt;function wK(t){switch(t){case de.OK:return He(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return He(15467,{code:t})}}function Uz(t){if(t===void 0)return qs("GRPC error has no .code"),de.UNKNOWN;switch(t){case On.OK:return de.OK;case On.CANCELLED:return de.CANCELLED;case On.UNKNOWN:return de.UNKNOWN;case On.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case On.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case On.INTERNAL:return de.INTERNAL;case On.UNAVAILABLE:return de.UNAVAILABLE;case On.UNAUTHENTICATED:return de.UNAUTHENTICATED;case On.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case On.NOT_FOUND:return de.NOT_FOUND;case On.ALREADY_EXISTS:return de.ALREADY_EXISTS;case On.PERMISSION_DENIED:return de.PERMISSION_DENIED;case On.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case On.ABORTED:return de.ABORTED;case On.OUT_OF_RANGE:return de.OUT_OF_RANGE;case On.UNIMPLEMENTED:return de.UNIMPLEMENTED;case On.DATA_LOSS:return de.DATA_LOSS;default:return He(39323,{code:t})}}(pt=On||(On={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";function EK(){return new TextEncoder}const jK=new cl([4294967295,4294967295],0);function FP(t){const e=EK().encode(t),n=new J4;return n.update(e),new Uint8Array(n.digest())}function HP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new cl([n,r],0),new cl([i,s],0)]}class Aj{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wh(`Invalid padding: ${n}`);if(r<0)throw new wh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=cl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(cl.fromNumber(r)));return i.compare(jK)===1&&(i=new cl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=FP(e),[r,i]=HP(n);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,i,s);if(!this.we(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new Aj(s,i,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=FP(e),[r,i]=HP(n);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,i,s);this.be(c)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zy{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zy(Qe.min(),i,new tn(ct),Bs(),ut())}}class wm{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wm(r,n,ut(),ut(),ut())}}class av{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class qz{constructor(e,n){this.targetId=e,this.Ce=n}}class Bz{constructor(e,n,r=tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class KP{constructor(){this.ve=0,this.Fe=GP(),this.Me=tr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ut(),n=ut(),r=ut();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:He(38017,{changeType:s})}})),new wm(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=GP()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,At(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class AK{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bs(),this.He=Sg(),this.Je=Sg(),this.Ze=new tn(ct)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:He(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Tw(s))if(r===0){const c=new Me(s.path);this.et(n,c,xr.newNoDocument(c,Qe.min()))}else At(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(e),f=d?this.ct(d,e,c):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let c,d;try{c=vl(r).toUint8Array()}catch(f){if(f instanceof hz)return Bc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Aj(c,i,s)}catch(f){return Bc(f instanceof wh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;e.mightContain(d)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,c)=>{const d=this.ot(c);if(d){if(s.current&&Tw(d.target)){const f=new Me(d.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,xr.newNoDocument(f,e))}s.Be&&(n.set(c,s.ke()),s.Ke())}}));let r=ut();this.Je.forEach(((s,c)=>{let d=!0;c.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(s))})),this.je.forEach(((s,c)=>c.setReadTime(e)));const i=new Zy(e,n,this.Ze,this.je,r);return this.je=Bs(),this.He=Sg(),this.Je=Sg(),this.Ze=new tn(ct),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new KP,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Un(ct),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Un(ct),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new KP),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sg(){return new tn(Me.comparator)}function GP(){return new tn(Me.comparator)}const SK={asc:"ASCENDING",desc:"DESCENDING"},NK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TK={and:"AND",or:"OR"};class CK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pw(t,e){return t.useProto3Json||Hy(e)?e:{value:e}}function Cv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $z(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PK(t,e){return Cv(t,e.toTimestamp())}function Ga(t){return At(!!t,49232),Qe.fromTimestamp((function(n){const r=gl(n);return new it(r.seconds,r.nanos)})(t))}function Sj(t,e){return Ow(t,e).canonicalString()}function Ow(t,e){const n=(function(i){return new $t(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Fz(t){const e=$t.fromString(t);return At(Qz(e),10190,{key:e.toString()}),e}function Iw(t,e){return Sj(t.databaseId,e.path)}function gx(t,e){const n=Fz(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(Kz(n))}function Hz(t,e){return Sj(t.databaseId,e)}function OK(t){const e=Fz(t);return e.length===4?$t.emptyPath():Kz(e)}function Rw(t){return new $t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Kz(t){return At(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function WP(t,e,n){return{name:Iw(t,e),fields:n.value.mapValue.fields}}function IK(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:He(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(At(p===void 0||typeof p=="string",58123),tr.fromBase64String(p||"")):(At(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),tr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(h){const p=h.code===void 0?de.UNKNOWN:Uz(h.code);return new Ae(p,h.message||"")})(c);n=new Bz(r,i,s,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=gx(t,r.document.name),s=Ga(r.document.updateTime),c=r.document.createTime?Ga(r.document.createTime):Qe.min(),d=new Qr({mapValue:{fields:r.document.fields}}),f=xr.newFoundDocument(i,s,c,d),h=r.targetIds||[],p=r.removedTargetIds||[];n=new av(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=gx(t,r.document),s=r.readTime?Ga(r.readTime):Qe.min(),c=xr.newNoDocument(i,s),d=r.removedTargetIds||[];n=new av([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=gx(t,r.document),s=r.removedTargetIds||[];n=new av([],s,i,null)}else{if(!("filter"in e))return He(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,c=new xK(i,s),d=r.targetId;n=new qz(d,c)}}return n}function RK(t,e){let n;if(e instanceof xm)n={update:WP(t,e.key,e.value)};else if(e instanceof Xy)n={delete:Iw(t,e.key)};else if(e instanceof Ol)n={update:WP(t,e.key,e.data),updateMask:BK(e.fieldMask)};else{if(!(e instanceof yK))return He(16599,{dt:e.type});n={verify:Iw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,c){const d=c.transform;if(d instanceof Kh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Gh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Wh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Tv)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw He(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:PK(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:He(27497)})(t,e.precondition)),n}function kK(t,e){return t&&t.length>0?(At(e!==void 0,14353),t.map((n=>(function(i,s){let c=i.updateTime?Ga(i.updateTime):Ga(s);return c.isEqual(Qe.min())&&(c=Ga(s)),new pK(c,i.transformResults||[])})(n,e)))):[]}function DK(t,e){return{documents:[Hz(t,e.path)]}}function MK(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Hz(t,i);const s=(function(h){if(h.length!==0)return Wz(fa.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const c=(function(h){if(h.length!==0)return h.map((p=>(function(y){return{field:id(y.field),direction:VK(y.dir)}})(p)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Pw(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function zK(t){let e=OK(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){At(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const y=Gz(g);return y instanceof fa&&Ez(y)?y.getFilters():[y]})(n.where));let c=[];n.orderBy&&(c=(function(g){return g.map((y=>(function(j){return new Hh(ad(j.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(y)))})(n.orderBy));let d=null;n.limit&&(d=(function(g){let y;return y=typeof g=="object"?g.value:g,Hy(y)?null:y})(n.limit));let f=null;n.startAt&&(f=(function(g){const y=!!g.before,w=g.values||[];return new Sv(w,y)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const y=!g.before,w=g.values||[];return new Sv(w,y)})(n.endAt)),JH(e,i,c,s,d,"F",f,h)}function LK(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Gz(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ad(n.unaryFilter.field);return In.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ad(n.unaryFilter.field);return In.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ad(n.unaryFilter.field);return In.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ad(n.unaryFilter.field);return In.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}})(t):t.fieldFilter!==void 0?(function(n){return In.create(ad(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return fa.create(n.compositeFilter.filters.map((r=>Gz(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return He(1026)}})(n.compositeFilter.op))})(t):He(30097,{filter:t})}function VK(t){return SK[t]}function UK(t){return NK[t]}function qK(t){return TK[t]}function id(t){return{fieldPath:t.canonicalString()}}function ad(t){return Jn.fromServerFormat(t.fieldPath)}function Wz(t){return t instanceof In?(function(n){if(n.op==="=="){if(DP(n.value))return{unaryFilter:{field:id(n.field),op:"IS_NAN"}};if(kP(n.value))return{unaryFilter:{field:id(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(DP(n.value))return{unaryFilter:{field:id(n.field),op:"IS_NOT_NAN"}};if(kP(n.value))return{unaryFilter:{field:id(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:id(n.field),op:UK(n.op),value:n.value}}})(t):t instanceof fa?(function(n){const r=n.getFilters().map((i=>Wz(i)));return r.length===1?r[0]:{compositeFilter:{op:qK(n.op),filters:r}}})(t):He(54877,{filter:t})}function BK(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Qz(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Yz(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class rl{constructor(e,n,r,i,s=Qe.min(),c=Qe.min(),d=tr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new rl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $K{constructor(e){this.yt=e}}function FK(t){const e=zK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Nv(e,e.limit,"L"):e}class HK{constructor(){this.Sn=new KK}addToCollectionParentIndex(e,n){return this.Sn.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(pl.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(pl.min())}updateCollectionGroup(e,n,r){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class KK{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Un($t.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Un($t.comparator)).toArray()}}const QP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xz=41943040;class Wr{static withCacheSize(e){return new Wr(e,Wr.DEFAULT_COLLECTION_PERCENTILE,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Wr.DEFAULT_COLLECTION_PERCENTILE=10,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wr.DEFAULT=new Wr(Xz,Wr.DEFAULT_COLLECTION_PERCENTILE,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wr.DISABLED=new Wr(-1,0,0);class Nd{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Nd(0)}static ar(){return new Nd(-1)}}const YP="LruGarbageCollector",GK=1048576;function XP([t,e],[n,r]){const i=ct(t,n);return i===0?ct(e,r):i}class WK{constructor(e){this.Pr=e,this.buffer=new Un(XP),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();XP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QK{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Te(YP,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bd(n)?Te(YP,"Ignoring IndexedDB error during garbage collection: ",n):await qd(n)}await this.Ar(3e5)}))}}class YK{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ye.resolve(Fy.ce);const r=new WK(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(QP)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QP):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,c,d,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,c=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,d=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),nd()<=lt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${i} in `+(d-c)+`ms
	Removed ${s} targets in `+(f-d)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function XK(t,e){return new YK(t,e)}class ZK{constructor(){this.changes=new ru((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ye.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class JK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class eG{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Rh(r.mutation,i,pi.empty(),it.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ut()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ut()){const i=wc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let c=xh();return s.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=wc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ut())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,i){let s=Bs();const c=Ih(),d=(function(){return Ih()})();return n.forEach(((f,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Ol)?s=s.insert(h.key,h):p!==void 0?(c.set(h.key,p.mutation.getFieldMask()),Rh(p.mutation,h,p.mutation.getFieldMask(),it.now())):c.set(h.key,pi.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,p)=>c.set(h,p))),n.forEach(((h,p)=>d.set(h,new JK(p,c.get(h)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=Ih();let i=new tn(((c,d)=>c-d)),s=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||pi.empty();p=d.applyToLocalView(h,p),r.set(f,p);const g=(i.get(d.batchId)||ut()).add(f);i=i.insert(d.batchId,g)}))})).next((()=>{const c=[],d=i.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),h=f.key,p=f.value,g=Iz();p.forEach((y=>{if(!s.has(y)){const w=Lz(n.get(y),r.get(y));w!==null&&g.set(y,w),s=s.add(y)}})),c.push(this.documentOverlayCache.saveOverlays(e,h,g))}return ye.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return eK(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Nz(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const c=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ye.resolve(wc());let d=Bh,f=s;return c.next((h=>ye.forEach(h,((p,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),s.get(p)?ye.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{f=f.insert(p,y)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,ut()))).next((p=>({batchId:d,changes:Oz(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next((r=>{let i=xh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let c=xh();return this.indexManager.getCollectionParents(e,s).next((d=>ye.forEach(d,(f=>{const h=(function(g,y){return new $d(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((g,y)=>{c=c.insert(g,y)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(s=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((c=>{s.forEach(((f,h)=>{const p=h.getKey();c.get(p)===null&&(c=c.insert(p,xr.newInvalidDocument(p)))}));let d=xh();return c.forEach(((f,h)=>{const p=s.get(f);p!==void 0&&Rh(p.mutation,h,pi.empty(),it.now()),Wy(n,h)&&(d=d.insert(f,h))})),d}))}}class tG{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ye.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ga(i.createTime)}})(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:FK(i.bundledQuery),readTime:Ga(i.readTime)}})(n)),ye.resolve()}}class nG{constructor(){this.overlays=new tn(Me.comparator),this.Lr=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wc();return ye.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.bt(e,n,s)})),ye.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Lr.delete(r)),ye.resolve()}getOverlaysForCollection(e,n,r){const i=wc(),s=n.length+1,c=new Me(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new tn(((h,p)=>h-p));const c=this.overlays.getIterator();for(;c.hasNext();){const h=c.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=wc(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const d=wc(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>d.set(h,p))),!(d.size()>=i)););return ye.resolve(d)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new _K(n,r));let s=this.Lr.get(n);s===void 0&&(s=ut(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}class rG{constructor(){this.sessionToken=tr.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}class Nj{constructor(){this.kr=new Un(Xn.Kr),this.qr=new Un(Xn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Xn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Xn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Me(new $t([])),r=new Xn(n,e),i=new Xn(n,e+1),s=[];return this.qr.forEachInRange([r,i],(c=>{this.Wr(c),s.push(c.key)})),s}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Me(new $t([])),r=new Xn(n,e),i=new Xn(n,e+1);let s=ut();return this.qr.forEachInRange([r,i],(c=>{s=s.add(c.key)})),s}containsKey(e){const n=new Xn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Me.comparator(e.key,n.key)||ct(e.Hr,n.Hr)}static Ur(e,n){return ct(e.Hr,n.Hr)||Me.comparator(e.key,n.key)}}class iG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Un(Xn.Kr)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new bK(s,n,r,i);this.mutationQueue.push(c);for(const d of i)this.Jr=this.Jr.add(new Xn(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ye.resolve(c)}lookupMutationBatch(e,n){return ye.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return ye.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?vj:this.Yn-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xn(n,0),i=new Xn(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],(c=>{const d=this.Zr(c.Hr);s.push(d)})),ye.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Un(ct);return n.forEach((i=>{const s=new Xn(i,0),c=new Xn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,c],(d=>{r=r.add(d.Hr)}))})),ye.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Me.isDocumentKey(s)||(s=s.child(""));const c=new Xn(new Me(s),0);let d=new Un(ct);return this.Jr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(d=d.add(f.Hr)),!0)}),c),ye.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){At(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ye.forEach(n.mutations,(i=>{const s=new Xn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Xn(n,0),i=this.Jr.firstAfterOrEqual(r);return ye.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class aG{constructor(e){this.ti=e,this.docs=(function(){return new tn(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,c=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ye.resolve(r?r.document.mutableCopy():xr.newInvalidDocument(n))}getEntries(e,n){let r=Bs();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xr.newInvalidDocument(i))})),ye.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Bs();const c=n.path,d=new Me(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!c.isPrefixOf(h.path))break;h.path.length>c.length+1||PH(CH(p),r)<=0||(i.has(p.key)||Wy(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return ye.resolve(s)}getAllFromCollectionGroup(e,n,r,i){He(9500)}ni(e,n){return ye.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new sG(this)}getSize(e){return ye.resolve(this.size)}}class sG extends ZK{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),ye.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class oG{constructor(e){this.persistence=e,this.ri=new ru((n=>_j(n)),xj),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.ii=0,this.si=new Nj,this.targetCount=0,this.oi=Nd._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ye.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Nd(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.lr(n),ye.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.ri.delete(c),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),ye.waitFor(s).next((()=>i))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ye.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ye.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((c=>{s.push(i.markPotentiallyOrphaned(e,c))})),ye.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ye.resolve(r)}containsKey(e,n){return ye.resolve(this.si.containsKey(n))}}class Zz{constructor(e,n){this._i={},this.overlays={},this.ai=new Fy(0),this.ui=!1,this.ui=!0,this.ci=new rG,this.referenceDelegate=e(this),this.li=new oG(this),this.indexManager=new HK,this.remoteDocumentCache=(function(i){return new aG(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new $K(n),this.Pi=new tG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new iG(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new lG(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((s=>this.referenceDelegate.Ii(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ei(e,n){return ye.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class lG extends IH{constructor(e){super(),this.currentSequenceNumber=e}}class Tj{constructor(e){this.persistence=e,this.Ri=new Nj,this.Ai=null}static Vi(e){return new Tj(e)}get di(){if(this.Ai)return this.Ai;throw He(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ye.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.di.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.di,(r=>{const i=Me.fromPath(r);return this.mi(e,i).next((s=>{s||n.removeEntry(i,Qe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ye.or([()=>ye.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Pv{constructor(e,n){this.persistence=e,this.fi=new ru((r=>DH(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=XK(this,n)}static Vi(e,n){return new Pv(e,n)}Ti(){}Ii(e){return ye.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ye.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((s=>s?ye.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,(c=>this.wr(e,c,n).next((d=>{d||(r++,s.removeEntry(c,Qe.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ye.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ye.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ye.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nv(e.data.value)),n}wr(e,n,r){return ye.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return ye.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Cj{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=ut(),i=ut();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Cj(e,n.fromCache,r,i)}}class cG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class uG{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return MB()?8:RH(jr())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next((c=>{s.result=c})).next((()=>{if(!s.result)return this.ps(e,n,i,r).next((c=>{s.result=c}))})).next((()=>{if(s.result)return;const c=new cG;return this.ys(e,n,c).next((d=>{if(s.result=d,this.As)return this.ws(e,n,c,d.size)}))})).next((()=>s.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(nd()<=lt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",rd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ye.resolve()):(nd()<=lt.DEBUG&&Te("QueryEngine","Query:",rd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(nd()<=lt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",rd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ka(n))):ye.resolve())}gs(e,n){if(VP(n))return ye.resolve(null);let r=Ka(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Nv(n,null,"F"),r=Ka(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const c=ut(...s);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.bs(n,d);return this.Ss(n,h,c,f.readTime)?this.gs(e,Nv(n,null,"F")):this.Ds(e,h,n,f)}))))})))))}ps(e,n,r,i){return VP(n)||i.isEqual(Qe.min())?ye.resolve(null):this.fs.getDocuments(e,r).next((s=>{const c=this.bs(n,s);return this.Ss(n,c,r,i)?ye.resolve(null):(nd()<=lt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rd(n)),this.Ds(e,c,n,TH(i,Bh)).next((d=>d)))}))}bs(e,n){let r=new Un(Cz(e));return n.forEach(((i,s)=>{Wy(e,s)&&(r=r.add(s))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return nd()<=lt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",rd(n)),this.fs.getDocumentsMatchingQuery(e,n,pl.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((c=>{s=s.insert(c.key,c)})),s)))}}const Pj="LocalStore",dG=3e8;class fG{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new tn(ct),this.Fs=new ru((s=>_j(s)),xj),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eG(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function hG(t,e,n,r){return new fG(t,e,n,r)}async function Jz(t,e){const n=Xe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const c=[],d=[];let f=ut();for(const h of i){c.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of s){d.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ns:h,removedBatchIds:c,addedBatchIds:d})))}))}))}function mG(t,e){const n=Xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,f,h,p){const g=h.batch,y=g.keys();let w=ye.resolve();return y.forEach((j=>{w=w.next((()=>p.getEntry(f,j))).next((E=>{const A=h.docVersions.get(j);At(A!==null,48541),E.version.compareTo(A)<0&&(g.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),p.addEntry(E)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=ut();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(f=f.add(d.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function eL(t){const e=Xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function pG(t,e){const n=Xe(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const d=[];e.targetChanges.forEach(((p,g)=>{const y=i.get(g);if(!y)return;d.push(n.li.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.li.addMatchingKeys(s,p.addedDocuments,g))));let w=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(tr.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),i=i.insert(g,w),(function(E,A,T){return E.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=dG?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0})(y,w,p)&&d.push(n.li.updateTargetData(s,w))}));let f=Bs(),h=ut();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),d.push(gG(s,c,e.documentUpdates).next((p=>{f=p.Bs,h=p.Ls}))),!r.isEqual(Qe.min())){const p=n.li.getLastRemoteSnapshotVersion(s).next((g=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r)));d.push(p)}return ye.waitFor(d).next((()=>c.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.vs=i,s)))}function gG(t,e,n){let r=ut(),i=ut();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let c=Bs();return n.forEach(((d,f)=>{const h=s.get(d);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual(Qe.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):Te(Pj,"Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",f.version)})),{Bs:c,Ls:i}}))}function vG(t,e){const n=Xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=vj),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function yG(t,e){const n=Xe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((s=>s?(i=s,ye.resolve(i)):n.li.allocateTargetId(r).next((c=>(i=new rl(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function kw(t,e,n){const r=Xe(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Bd(c))throw c;Te(Pj,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function ZP(t,e,n){const r=Xe(t);let i=Qe.min(),s=ut();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,h,p){const g=Xe(f),y=g.Fs.get(p);return y!==void 0?ye.resolve(g.vs.get(y)):g.li.getTargetData(h,p)})(r,c,Ka(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,d.targetId).next((f=>{s=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,n?i:Qe.min(),n?s:ut()))).next((d=>(bG(r,rK(e),d),{documents:d,ks:s})))))}function bG(t,e,n){let r=t.Ms.get(e)||Qe.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Ms.set(e,r)}class JP{constructor(){this.activeTargetIds=cK()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _G{constructor(){this.vo=new JP,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new JP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xG{Mo(e){}shutdown(){}}const eO="ConnectivityMonitor";class tO{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Te(eO,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Te(eO,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ng=null;function Dw(){return Ng===null?Ng=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ng++,"0x"+Ng.toString(16)}const vx="RestConnection",wG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class EG{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===jv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const c=Dw(),d=this.Qo(e,n.toUriEncodedString());Te(vx,`Sending RPC '${e}' ${c}:`,d,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,i,s);const{host:h}=new URL(d),p=Tl(h);return this.zo(e,d,f,r,p).then((g=>(Te(vx,`Received RPC '${e}' ${c}: `,g),g)),(g=>{throw Bc(vx,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",r),g}))}jo(e,n,r,i,s,c){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ud})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}Qo(e,n){const r=wG[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class jG{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const vr="WebChannelConnection",ih=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class vd extends EG{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!vd.c_){const e=rz();ih(e,nz.STAT_EVENT,(n=>{n.stat===Ew.PROXY?Te(vr,"STAT_EVENT: detected buffering proxy"):n.stat===Ew.NOPROXY&&Te(vr,"STAT_EVENT: detected no buffering proxy")})),vd.c_=!0}}zo(e,n,r,i,s){const c=Dw();return new Promise(((d,f)=>{const h=new ez;h.setWithCredentials(!0),h.listenOnce(tz.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case tv.NO_ERROR:const g=h.getResponseJson();Te(vr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(g)),d(g);break;case tv.TIMEOUT:Te(vr,`RPC '${e}' ${c} timed out`),f(new Ae(de.DEADLINE_EXCEEDED,"Request time out"));break;case tv.HTTP_ERROR:const y=h.getStatus();if(Te(vr,`RPC '${e}' ${c} failed with status:`,y,"response text:",h.getResponseText()),y>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const j=w?.error;if(j&&j.status&&j.message){const E=(function(T){const k=T.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(k)>=0?k:de.UNKNOWN})(j.status);f(new Ae(E,j.message))}else f(new Ae(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Ae(de.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:c,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Te(vr,`RPC '${e}' ${c} completed.`)}}));const p=JSON.stringify(i);Te(vr,`RPC '${e}' ${c} sending request:`,i),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=Dw(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const h=s.join("");Te(vr,`Creating RPC '${e}' stream ${i}: ${h}`,d);const p=c.createWebChannel(h,d);this.I_(p);let g=!1,y=!1;const w=new jG({Ho:j=>{y?Te(vr,`Not sending because RPC '${e}' stream ${i} is closed:`,j):(g||(Te(vr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),Te(vr,`RPC '${e}' stream ${i} sending:`,j),p.send(j))},Jo:()=>p.close()});return ih(p,_h.EventType.OPEN,(()=>{y||(Te(vr,`RPC '${e}' stream ${i} transport opened.`),w.i_())})),ih(p,_h.EventType.CLOSE,(()=>{y||(y=!0,Te(vr,`RPC '${e}' stream ${i} transport closed`),w.o_(),this.E_(p))})),ih(p,_h.EventType.ERROR,(j=>{y||(y=!0,Bc(vr,`RPC '${e}' stream ${i} transport errored. Name:`,j.name,"Message:",j.message),w.o_(new Ae(de.UNAVAILABLE,"The operation could not be completed")))})),ih(p,_h.EventType.MESSAGE,(j=>{if(!y){const E=j.data[0];At(!!E,16349);const A=E,T=A?.error||A[0]?.error;if(T){Te(vr,`RPC '${e}' stream ${i} received error:`,T);const k=T.status;let I=(function(M){const O=On[M];if(O!==void 0)return Uz(O)})(k),R=T.message;I===void 0&&(I=de.INTERNAL,R="Unknown error status: "+k+" with message "+T.message),y=!0,w.o_(new Ae(I,R)),p.close()}else Te(vr,`RPC '${e}' stream ${i} received:`,E),w.__(E)}})),vd.u_(),setTimeout((()=>{w.s_()}),0),w}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return iz()}}function AG(t){return new vd(t)}function yx(){return typeof document<"u"?document:null}function Jy(t){return new CK(t,!0)}vd.c_=!1;class tL{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const nO="PersistentStream";class nL{constructor(e,n,r,i,s,c,d,f){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tL(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(qs(n.toString()),qs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ae(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(nO,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Te(nO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SG extends nL{constructor(e,n,r,i,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=IK(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Qe.min();const c=s.targetChange;return c.targetIds&&c.targetIds.length?Qe.min():c.readTime?Ga(c.readTime):Qe.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Rw(this.serializer),n.addTarget=(function(s,c){let d;const f=c.target;if(d=Tw(f)?{documents:DK(s,f)}:{query:MK(s,f).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=$z(s,c.resumeToken);const h=Pw(s,c.expectedCount);h!==null&&(d.expectedCount=h)}else if(c.snapshotVersion.compareTo(Qe.min())>0){d.readTime=Cv(s,c.snapshotVersion.toTimestamp());const h=Pw(s,c.expectedCount);h!==null&&(d.expectedCount=h)}return d})(this.serializer,e);const r=LK(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Rw(this.serializer),n.removeTarget=e,this.K_(n)}}class NG extends nL{constructor(e,n,r,i,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return At(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){At(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=kK(e.writeResults,e.commitTime),r=Ga(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Rw(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>RK(this.serializer,r)))};this.K_(n)}}class TG{}class CG extends TG{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,c])=>this.connection.Wo(e,Ow(n,r),i,s,c))).catch((s=>{throw s.name==="FirebaseError"?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ae(de.UNKNOWN,s.toString())}))}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,Ow(n,r),i,c,d,s))).catch((c=>{throw c.name==="FirebaseError"?(c.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ae(de.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function PG(t,e,n,r){return new CG(t,e,n,r)}class OG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qs(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $c="RemoteStore";class IG{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{iu(this)&&(Te($c,"Restarting streams for network reachability change."),await(async function(f){const h=Xe(f);h.Ea.add(4),await Em(h),h.Va.set("Unknown"),h.Ea.delete(4),await e0(h)})(this))}))})),this.Va=new OG(r,i)}}async function e0(t){if(iu(t))for(const e of t.Ra)await e(!0)}async function Em(t){for(const e of t.Ra)await e(!1)}function rL(t,e){const n=Xe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),kj(n)?Rj(n):Fd(n).O_()&&Ij(n,e))}function Oj(t,e){const n=Xe(t),r=Fd(n);n.Ia.delete(e),r.O_()&&iL(n,e),n.Ia.size===0&&(r.O_()?r.L_():iu(n)&&n.Va.set("Unknown"))}function Ij(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fd(t).Z_(e)}function iL(t,e){t.da.$e(e),Fd(t).X_(e)}function Rj(t){t.da=new AK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Fd(t).start(),t.Va.ua()}function kj(t){return iu(t)&&!Fd(t).x_()&&t.Ia.size>0}function iu(t){return Xe(t).Ea.size===0}function aL(t){t.da=void 0}async function RG(t){t.Va.set("Online")}async function kG(t){t.Ia.forEach(((e,n)=>{Ij(t,e)}))}async function DG(t,e){aL(t),kj(t)?(t.Va.ha(e),Rj(t)):t.Va.set("Unknown")}async function MG(t,e,n){if(t.Va.set("Online"),e instanceof Bz&&e.state===2&&e.cause)try{await(async function(i,s){const c=s.cause;for(const d of s.targetIds)i.Ia.has(d)&&(await i.remoteSyncer.rejectListen(d,c),i.Ia.delete(d),i.da.removeTarget(d))})(t,e)}catch(r){Te($c,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ov(t,r)}else if(e instanceof av?t.da.Xe(e):e instanceof qz?t.da.st(e):t.da.tt(e),!n.isEqual(Qe.min()))try{const r=await eL(t.localStore);n.compareTo(r)>=0&&await(function(s,c){const d=s.da.Tt(c);return d.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,h)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(tr.EMPTY_BYTE_STRING,p.snapshotVersion)),iL(s,f);const g=new rl(p.target,f,h,p.sequenceNumber);Ij(s,g)})),s.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Te($c,"Failed to raise snapshot:",r),await Ov(t,r)}}async function Ov(t,e,n){if(!Bd(e))throw e;t.Ea.add(1),await Em(t),t.Va.set("Offline"),n||(n=()=>eL(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te($c,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await e0(t)}))}function sL(t,e){return e().catch((n=>Ov(t,n,e)))}async function t0(t){const e=Xe(t),n=bl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vj;for(;zG(e);)try{const i=await vG(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,LG(e,i)}catch(i){await Ov(e,i)}oL(e)&&lL(e)}function zG(t){return iu(t)&&t.Ta.length<10}function LG(t,e){t.Ta.push(e);const n=bl(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function oL(t){return iu(t)&&!bl(t).x_()&&t.Ta.length>0}function lL(t){bl(t).start()}async function VG(t){bl(t).ra()}async function UG(t){const e=bl(t);for(const n of t.Ta)e.ea(n.mutations)}async function qG(t,e,n){const r=t.Ta.shift(),i=jj.from(r,e,n);await sL(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await t0(t)}async function BG(t,e){e&&bl(t).Y_&&await(async function(r,i){if((function(c){return wK(c)&&c!==de.ABORTED})(i.code)){const s=r.Ta.shift();bl(r).B_(),await sL(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await t0(r)}})(t,e),oL(t)&&lL(t)}async function rO(t,e){const n=Xe(t);n.asyncQueue.verifyOperationInProgress(),Te($c,"RemoteStore received new credentials");const r=iu(n);n.Ea.add(3),await Em(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await e0(n)}async function $G(t,e){const n=Xe(t);e?(n.Ea.delete(2),await e0(n)):e||(n.Ea.add(2),await Em(n),n.Va.set("Unknown"))}function Fd(t){return t.ma||(t.ma=(function(n,r,i){const s=Xe(n);return s.sa(),new SG(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:RG.bind(null,t),Yo:kG.bind(null,t),t_:DG.bind(null,t),J_:MG.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),kj(t)?Rj(t):t.Va.set("Unknown")):(await t.ma.stop(),aL(t))}))),t.ma}function bl(t){return t.fa||(t.fa=(function(n,r,i){const s=Xe(n);return s.sa(),new NG(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:VG.bind(null,t),t_:BG.bind(null,t),ta:UG.bind(null,t),na:qG.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await t0(t)):(await t.fa.stop(),t.Ta.length>0&&(Te($c,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Dj{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const c=Date.now()+r,d=new Dj(e,n,c,i,s);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mj(t,e){if(qs("AsyncQueue",`${e}: ${t}`),Bd(t))return new Ae(de.UNAVAILABLE,`${e}: ${t}`);throw t}class yd{static emptySet(e){return new yd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Me.comparator(n.key,r.key):(n,r)=>Me.comparator(n.key,r.key),this.keyedMap=xh(),this.sortedSet=new tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class iO{constructor(){this.ga=new tn(Me.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):He(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Td{constructor(e,n,r,i,s,c,d,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Td(e,n,yd.emptySet(n),c,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class FG{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class HG{constructor(){this.queries=aO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Xe(n),s=i.queries;i.queries=aO(),s.forEach(((c,d)=>{for(const f of d.ba)f.onError(r)}))})(this,new Ae(de.ABORTED,"Firestore shutting down"))}}function aO(){return new ru((t=>Tz(t)),Gy)}async function cL(t,e){const n=Xe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new FG,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const d=Mj(c,`Initialization of query '${rd(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&zj(n)}async function uL(t,e){const n=Xe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const c=s.ba.indexOf(e);c>=0&&(s.ba.splice(c,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function KG(t,e){const n=Xe(t);let r=!1;for(const i of e){const s=i.query,c=n.queries.get(s);if(c){for(const d of c.ba)d.Fa(i)&&(r=!0);c.wa=i}}r&&zj(n)}function GG(t,e,n){const r=Xe(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function zj(t){t.Ca.forEach((e=>{e.next()}))}var Mw,sO;(sO=Mw||(Mw={})).Ma="default",sO.Cache="cache";class dL{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Td(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Td.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mw.Cache}}class fL{constructor(e){this.key=e}}class hL{constructor(e){this.key=e}}class WG{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ut(),this.mutatedKeys=ut(),this.eu=Cz(e),this.tu=new yd(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new iO,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,c=i,d=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const y=i.get(p),w=Wy(this.query,g)?g:null,j=!!y&&this.mutatedKeys.has(y.key),E=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let A=!1;y&&w?y.data.isEqual(w.data)?j!==E&&(r.track({type:3,doc:w}),A=!0):this.su(y,w)||(r.track({type:2,doc:w}),A=!0,(f&&this.eu(w,f)>0||h&&this.eu(w,h)<0)&&(d=!0)):!y&&w?(r.track({type:0,doc:w}),A=!0):y&&!w&&(r.track({type:1,doc:y}),A=!0,(f||h)&&(d=!0)),A&&(w?(c=c.add(w),s=E?s.add(p):s.delete(p)):(c=c.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:c,iu:r,Ss:d,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((p,g)=>(function(w,j){const E=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Vt:A})}};return E(w)-E(j)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const d=n&&!i?this._u():[],f=this.Ya.size===0&&this.current&&!i?1:0,h=f!==this.Xa;return this.Xa=f,c.length!==0||h?{snapshot:new Td(this.query,e.tu,s,c,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iO,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new hL(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new fL(r))})),n}cu(e){this.Za=e.ks,this.Ya=ut();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Td.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Lj="SyncEngine";class QG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class YG{constructor(e){this.key=e,this.hu=!1}}class XG{constructor(e,n,r,i,s,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ru((d=>Tz(d)),Gy),this.Iu=new Map,this.Eu=new Set,this.Ru=new tn(Me.comparator),this.Au=new Map,this.Vu=new Nj,this.du={},this.mu=new Map,this.fu=Nd.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZG(t,e,n=!0){const r=bL(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await mL(r,e,n,!0),i}async function JG(t,e){const n=bL(t);await mL(n,e,!0,!1)}async function mL(t,e,n,r){const i=await yG(t.localStore,Ka(e)),s=i.targetId,c=t.sharedClientState.addLocalQueryTarget(s,n);let d;return r&&(d=await eW(t,e,s,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&rL(t.remoteStore,i),d}async function eW(t,e,n,r,i){t.pu=(g,y,w)=>(async function(E,A,T,k){let I=A.view.ru(T);I.Ss&&(I=await ZP(E.localStore,A.query,!1).then((({documents:O})=>A.view.ru(O,I))));const R=k&&k.targetChanges.get(A.targetId),z=k&&k.targetMismatches.get(A.targetId)!=null,M=A.view.applyChanges(I,E.isPrimaryClient,R,z);return lO(E,A.targetId,M.au),M.snapshot})(t,g,y,w);const s=await ZP(t.localStore,e,!0),c=new WG(e,s.ks),d=c.ru(s.documents),f=wm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=c.applyChanges(d,t.isPrimaryClient,f);lO(t,n,h.au);const p=new QG(e,n,c);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function tW(t,e,n){const r=Xe(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((c=>!Gy(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await kw(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Oj(r.remoteStore,i.targetId),zw(r,i.targetId)})).catch(qd)):(zw(r,i.targetId),await kw(r.localStore,i.targetId,!0))}async function nW(t,e){const n=Xe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Oj(n.remoteStore,r.targetId))}async function rW(t,e,n){const r=uW(t);try{const i=await(function(c,d){const f=Xe(c),h=it.now(),p=d.reduce(((w,j)=>w.add(j.key)),ut());let g,y;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let j=Bs(),E=ut();return f.xs.getEntries(w,p).next((A=>{j=A,j.forEach(((T,k)=>{k.isValidDocument()||(E=E.add(T))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,j))).next((A=>{g=A;const T=[];for(const k of d){const I=vK(k,g.get(k.key).overlayedDocument);I!=null&&T.push(new Ol(k.key,I,_z(I.value.mapValue),Ir.exists(!0)))}return f.mutationQueue.addMutationBatch(w,h,T,d)})).next((A=>{y=A;const T=A.applyToLocalDocumentSet(g,E);return f.documentOverlayCache.saveOverlays(w,A.batchId,T)}))})).then((()=>({batchId:y.batchId,changes:Oz(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,d,f){let h=c.du[c.currentUser.toKey()];h||(h=new tn(ct)),h=h.insert(d,f),c.du[c.currentUser.toKey()]=h})(r,i.batchId,n),await jm(r,i.changes),await t0(r.remoteStore)}catch(i){const s=Mj(i,"Failed to persist write");n.reject(s)}}async function pL(t,e){const n=Xe(t);try{const r=await pG(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const c=n.Au.get(s);c&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.hu=!0:i.modifiedDocuments.size>0?At(c.hu,14607):i.removedDocuments.size>0&&(At(c.hu,42227),c.hu=!1))})),await jm(n,r,e)}catch(r){await qd(r)}}function oO(t,e,n){const r=Xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,c)=>{const d=c.view.va(e);d.snapshot&&i.push(d.snapshot)})),(function(c,d){const f=Xe(c);f.onlineState=d;let h=!1;f.queries.forEach(((p,g)=>{for(const y of g.ba)y.va(d)&&(h=!0)})),h&&zj(f)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iW(t,e,n){const r=Xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let c=new tn(Me.comparator);c=c.insert(s,xr.newNoDocument(s,Qe.min()));const d=ut().add(s),f=new Zy(Qe.min(),new Map,new tn(ct),c,d);await pL(r,f),r.Ru=r.Ru.remove(s),r.Au.delete(e),Vj(r)}else await kw(r.localStore,e,!1).then((()=>zw(r,e,n))).catch(qd)}async function aW(t,e){const n=Xe(t),r=e.batch.batchId;try{const i=await mG(n.localStore,e);vL(n,r,null),gL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jm(n,i)}catch(i){await qd(i)}}async function sW(t,e,n){const r=Xe(t);try{const i=await(function(c,d){const f=Xe(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,d).next((g=>(At(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(h,g)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);vL(r,e,n),gL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jm(r,i)}catch(i){await qd(i)}}function gL(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function vL(t,e,n){const r=Xe(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function zw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||yL(t,r)}))}function yL(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Oj(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Vj(t))}function lO(t,e,n){for(const r of n)r instanceof fL?(t.Vu.addReference(r.key,e),oW(t,r)):r instanceof hL?(Te(Lj,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||yL(t,r.key)):He(19791,{wu:r})}function oW(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Te(Lj,"New document in limbo: "+n),t.Eu.add(r),Vj(t))}function Vj(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Me($t.fromString(e)),r=t.fu.next();t.Au.set(r,new YG(n)),t.Ru=t.Ru.insert(n,r),rL(t.remoteStore,new rl(Ka(wj(n.path)),r,"TargetPurposeLimboResolution",Fy.ce))}}async function jm(t,e,n){const r=Xe(t),i=[],s=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{c.push(r.pu(f,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(h){i.push(h);const p=Cj.Es(f.targetId,h);s.push(p)}})))})),await Promise.all(c),r.Pu.J_(i),await(async function(f,h){const p=Xe(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>ye.forEach(h,(y=>ye.forEach(y.Ts,(w=>p.persistence.referenceDelegate.addReference(g,y.targetId,w))).next((()=>ye.forEach(y.Is,(w=>p.persistence.referenceDelegate.removeReference(g,y.targetId,w)))))))))}catch(g){if(!Bd(g))throw g;Te(Pj,"Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const w=p.vs.get(y),j=w.snapshotVersion,E=w.withLastLimboFreeSnapshotVersion(j);p.vs=p.vs.insert(y,E)}}})(r.localStore,s))}async function lW(t,e){const n=Xe(t);if(!n.currentUser.isEqual(e)){Te(Lj,"User change. New user:",e.toKey());const r=await Jz(n.localStore,e);n.currentUser=e,(function(s,c){s.mu.forEach((d=>{d.forEach((f=>{f.reject(new Ae(de.CANCELLED,c))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jm(n,r.Ns)}}function cW(t,e){const n=Xe(t),r=n.Au.get(e);if(r&&r.hu)return ut().add(r.key);{let i=ut();const s=n.Iu.get(e);if(!s)return i;for(const c of s){const d=n.Tu.get(c);i=i.unionWith(d.view.nu)}return i}}function bL(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iW.bind(null,e),e.Pu.J_=KG.bind(null,e.eventManager),e.Pu.yu=GG.bind(null,e.eventManager),e}function uW(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sW.bind(null,e),e}class Iv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return hG(this.persistence,new uG,e.initialUser,this.serializer)}Cu(e){return new Zz(Tj.Vi,this.serializer)}Du(e){return new _G}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Iv.provider={build:()=>new Iv};class dW extends Iv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){At(this.persistence.referenceDelegate instanceof Pv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new QK(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Wr.withCacheSize(this.cacheSizeBytes):Wr.DEFAULT;return new Zz((r=>Pv.Vi(r,n)),this.serializer)}}class Lw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>oO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lW.bind(null,this.syncEngine),await $G(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new HG})()}createDatastore(e){const n=Jy(e.databaseInfo.databaseId),r=AG(e.databaseInfo);return PG(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,c,d){return new IG(r,i,s,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>oO(this.syncEngine,n,0)),(function(){return tO.v()?new tO:new xG})())}createSyncEngine(e,n){return(function(i,s,c,d,f,h,p){const g=new XG(i,s,c,d,f,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Xe(n);Te($c,"RemoteStore shutting down."),r.Ea.add(5),await Em(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lw.provider={build:()=>new Lw};class _L{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const _l="FirestoreClient";class fW{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=_r.UNAUTHENTICATED,this.clientId=By.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async c=>{Te(_l,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Te(_l,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Mj(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function bx(t,e){t.asyncQueue.verifyOperationInProgress(),Te(_l,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Jz(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function cO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hW(t);Te(_l,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>rO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>rO(e.remoteStore,i))),t._onlineComponents=e}async function hW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(_l,"Using user provided OfflineComponentProvider");try{await bx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===de.FAILED_PRECONDITION||i.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Bc("Error using user provided cache. Falling back to memory cache: "+n),await bx(t,new Iv)}}else Te(_l,"Using default OfflineComponentProvider"),await bx(t,new dW(void 0));return t._offlineComponents}async function xL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(_l,"Using user provided OnlineComponentProvider"),await cO(t,t._uninitializedComponentsProvider._online)):(Te(_l,"Using default OnlineComponentProvider"),await cO(t,new Lw))),t._onlineComponents}function mW(t){return xL(t).then((e=>e.syncEngine))}async function wL(t){const e=await xL(t),n=e.eventManager;return n.onListen=ZG.bind(null,e.syncEngine),n.onUnlisten=tW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nW.bind(null,e.syncEngine),n}function pW(t,e,n={}){const r=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(s,c,d,f,h){const p=new _L({next:y=>{p.Nu(),c.enqueueAndForget((()=>uL(s,g)));const w=y.docs.has(d);!w&&y.fromCache?h.reject(new Ae(de.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&f&&f.source==="server"?h.reject(new Ae(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new dL(wj(d.path),p,{includeMetadataChanges:!0,Ka:!0});return cL(s,g)})(await wL(t),t.asyncQueue,e,n,r))),r.promise}function gW(t,e,n={}){const r=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(s,c,d,f,h){const p=new _L({next:y=>{p.Nu(),c.enqueueAndForget((()=>uL(s,g))),y.fromCache&&f.source==="server"?h.reject(new Ae(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new dL(d,p,{includeMetadataChanges:!0,Ka:!0});return cL(s,g)})(await wL(t),t.asyncQueue,e,n,r))),r.promise}function vW(t,e){const n=new Ds;return t.asyncQueue.enqueueAndForget((async()=>rW(await mW(t),e,n))),n.promise}function EL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const yW="ComponentProvider",uO=new Map;function bW(t,e,n,r,i){return new LH(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,EL(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const jL="firestore.googleapis.com",dO=!0;class fO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jL,this.ssl=dO}else this.host=e.host,this.ssl=e.ssl??dO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Xz;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GK)throw new Ae(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EL(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ae(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ae(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ae(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class n0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new oz;switch(r.type){case"firstParty":return new xH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=uO.get(n);r&&(Te(yW,"Removing Datastore"),uO.delete(n),r.terminate())})(this),Promise.resolve()}}function AL(t,e,n,r={}){t=_i(t,n0);const i=Tl(e),s=t._getSettings(),c={...s,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;i&&(rj(`https://${d}`),ij("Firestore",!0)),s.host!==jL&&s.host!==d&&Bc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:d,ssl:i,emulatorOptions:r};if(!zc(f,c)&&(t._setSettings(f),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=_r.MOCK_USER;else{h=h4(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ae(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new _r(g)}t._authCredentials=new yH(new sz(h,p))}}class eo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new eo(this.firestore,e,this._query)}}class dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}toJSON(){return{type:dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(_m(n,dn._jsonSchema))return new dn(e,r||null,new Me($t.fromString(n.referencePath)))}}dn._jsonSchemaVersion="firestore/documentReference/1.0",dn._jsonSchema={type:Rn("string",dn._jsonSchemaVersion),referencePath:Rn("string")};class Ms extends eo{constructor(e,n,r){super(e,n,wj(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new Me(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function hr(t,e,...n){if(t=Ft(t),lz("collection","path",e),t instanceof n0){const r=$t.fromString(e,...n);return AP(r),new Ms(t,null,r)}{if(!(t instanceof dn||t instanceof Ms))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return AP(r),new Ms(t.firestore,null,r)}}function Ut(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=By.newId()),lz("doc","path",e),t instanceof n0){const r=$t.fromString(e,...n);return jP(r),new dn(t,null,new Me(r))}{if(!(t instanceof dn||t instanceof Ms))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return jP(r),new dn(t.firestore,t instanceof Ms?t.converter:null,new Me(r))}}const hO="AsyncQueue";class mO{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tL(this,"async_queue_retry"),this._c=()=>{const r=yx();r&&Te(hO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=yx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=yx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Bd(e))throw e;Te(hO,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,qs("INTERNAL UNHANDLED ERROR: ",pO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Dj.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&He(47125,{Pc:pO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function pO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class to extends n0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new mO,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mO(e),this._firestoreClient=void 0,await e}}}function SL(t,e){const n=typeof t=="object"?t:oj(),r=typeof t=="string"?t:jv,i=Ly(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=u4("firestore");s&&AL(i,...s)}return i}function Am(t){if(t._terminated)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_W(t),t._firestoreClient}function _W(t){const e=t._freezeSettings(),n=bW(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new fW(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fi(tr.fromBase64String(e))}catch(n){throw new Ae(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fi(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_m(e,fi._jsonSchema))return fi.fromBase64String(e.bytes)}}fi._jsonSchemaVersion="firestore/bytes/1.0",fi._jsonSchema={type:Rn("string",fi._jsonSchemaVersion),bytes:Rn("string")};class Sm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nm{constructor(e){this._methodName=e}}class ca{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ca._jsonSchemaVersion}}static fromJSON(e){if(_m(e,ca._jsonSchema))return new ca(e.latitude,e.longitude)}}ca._jsonSchemaVersion="firestore/geoPoint/1.0",ca._jsonSchema={type:Rn("string",ca._jsonSchemaVersion),latitude:Rn("number"),longitude:Rn("number")};class Bi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_m(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Bi(e.vectorValues);throw new Ae(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Rn("string",Bi._jsonSchemaVersion),vectorValues:Rn("object")};const xW=/^__.*__$/;class wW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ol(e,this.data,this.fieldMask,n,this.fieldTransforms):new xm(e,this.data,n,this.fieldTransforms)}}class NL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ol(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{dataSource:t})}}class Uj{constructor(e,n,r,i,s,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Uj({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Rv(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(TL(this.dataSource)&&xW.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class EW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jy(e)}createContext(e,n,r,i=!1){return new Uj({dataSource:e,methodName:n,targetDoc:r,path:Jn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tm(t){const e=t._freezeSettings(),n=Jy(t._databaseId);return new EW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qj(t,e,n,r,i,s={}){const c=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);$j("Data must be an object, but it was:",c,r);const d=OL(r,c);let f,h;if(s.merge)f=new pi(c.fieldMask),h=c.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const y=Fc(e,g,n);if(!c.contains(y))throw new Ae(de.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);kL(p,y)||p.push(y)}f=new pi(p),h=c.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,h=c.fieldTransforms;return new wW(new Qr(d),f,h)}class r0 extends Nm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof r0}}class Bj extends Nm{_toFieldTransform(e){return new hK(e.path,new Kh)}isEqual(e){return e instanceof Bj}}function CL(t,e,n,r){const i=t.createContext(1,e,n);$j("Data must be an object, but it was:",i,r);const s=[],c=Qr.empty();Pl(r,((f,h)=>{const p=RL(e,f,n);h=Ft(h);const g=i.childContextForFieldPath(p);if(h instanceof r0)s.push(p);else{const y=Cm(h,g);y!=null&&(s.push(p),c.set(p,y))}}));const d=new pi(s);return new NL(c,d,i.fieldTransforms)}function PL(t,e,n,r,i,s){const c=t.createContext(1,e,n),d=[Fc(e,r,n)],f=[i];if(s.length%2!=0)throw new Ae(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)d.push(Fc(e,s[y])),f.push(s[y+1]);const h=[],p=Qr.empty();for(let y=d.length-1;y>=0;--y)if(!kL(h,d[y])){const w=d[y];let j=f[y];j=Ft(j);const E=c.childContextForFieldPath(w);if(j instanceof r0)h.push(w);else{const A=Cm(j,E);A!=null&&(h.push(w),p.set(w,A))}}const g=new pi(h);return new NL(p,g,c.fieldTransforms)}function jW(t,e,n,r=!1){return Cm(n,t.createContext(r?4:3,e))}function Cm(t,e){if(IL(t=Ft(t)))return $j("Unsupported field value:",e,t),OL(t,e);if(t instanceof Nm)return(function(r,i){if(!TL(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const s=[];let c=0;for(const d of r){let f=Cm(d,i.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),c++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uK(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=it.fromDate(r);return{timestampValue:Cv(i.serializer,s)}}if(r instanceof it){const s=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cv(i.serializer,s)}}if(r instanceof ca)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fi)return{bytesValue:$z(i.serializer,r._byteString)};if(r instanceof dn){const s=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(s))throw i.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Sj(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Bi)return(function(c,d){const f=c instanceof Bi?c.toArray():c;return{mapValue:{fields:{[yz]:{stringValue:bz},[Av]:{arrayValue:{values:f.map((p=>{if(typeof p!="number")throw d.createError("VectorValues must only contain numeric values.");return Ej(d.serializer,p)}))}}}}}})(r,i);if(Yz(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${$y(r)}`)})(t,e)}function OL(t,e){const n={};return fz(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pl(t,((r,i)=>{const s=Cm(i,e.childContextForField(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function IL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof ca||t instanceof fi||t instanceof dn||t instanceof Nm||t instanceof Bi||Yz(t))}function $j(t,e,n){if(!IL(n)||!uz(n)){const r=$y(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Fc(t,e,n){if((e=Ft(e))instanceof Sm)return e._internalPath;if(typeof e=="string")return RL(t,e);throw Rv("Field path arguments must be of type string or ",t,!1,void 0,n)}const AW=new RegExp("[~\\*/\\[\\]]");function RL(t,e,n){if(e.search(AW)>=0)throw Rv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sm(...e.split("."))._internalPath}catch{throw Rv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rv(t,e,n,r,i){const s=r&&!r.isEmpty(),c=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||c)&&(f+=" (found",s&&(f+=` in field ${r}`),c&&(f+=` in document ${i}`),f+=")"),new Ae(de.INVALID_ARGUMENT,d+t+f)}function kL(t,e){return t.some((n=>n.isEqual(e)))}class DL{convertValue(e,n="none"){switch(yl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Pl(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Av].arrayValue?.values?.map((r=>xn(r.doubleValue)));return new Bi(n)}convertGeoPoint(e){return new ca(xn(e.latitude),xn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ky(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($h(e));default:return null}}convertTimestamp(e){const n=gl(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$t.fromString(e);At(Qz(r),9688,{name:e});const i=new jd(r.get(1),r.get(3)),s=new Me(r.popFirst(5));return i.isEqual(n)||qs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class ML extends DL{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function kn(){return new Bj("serverTimestamp")}const gO="@firebase/firestore",vO="4.10.0";class zL{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Fc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SW extends zL{data(){return super.data()}}function NW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fj{}class i0 extends Fj{}function Zr(t,e,...n){let r=[];e instanceof Fj&&r.push(e),r=r.concat(n),(function(s){const c=s.filter((f=>f instanceof a0)).length,d=s.filter((f=>f instanceof Pm)).length;if(c>1||c>0&&d>0)throw new Ae(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Pm extends i0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Pm(e,n,r)}_apply(e){const n=this._parse(e);return LL(e._query,n),new eo(e.firestore,e.converter,Cw(e._query,n))}_parse(e){const n=Tm(e.firestore);return(function(s,c,d,f,h,p,g){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){bO(g,p);const j=[];for(const E of g)j.push(yO(f,s,E));y={arrayValue:{values:j}}}else y=yO(f,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||bO(g,p),y=jW(d,c,g,p==="in"||p==="not-in");return In.create(h,p,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function hi(t,e,n){const r=e,i=Fc("where",t);return Pm._create(i,r,n)}class a0 extends Fj{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new a0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:fa.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let c=i;const d=s.getFlattenedFilters();for(const f of d)LL(c,f),c=Cw(c,f)})(e._query,n),new eo(e.firestore,e.converter,Cw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class s0 extends i0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new s0(e,n)}_apply(e){const n=(function(i,s,c){if(i.startAt!==null)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hh(s,c)})(e._query,this._field,this._direction);return new eo(e.firestore,e.converter,nK(e._query,n))}}function ha(t,e="asc"){const n=e,r=Fc("orderBy",t);return s0._create(r,n)}class o0 extends i0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new o0(e,n,r)}_apply(e){return new eo(e.firestore,e.converter,Nv(e._query,this._limit,this._limitType))}}function Hj(t){return NH("limit",t),o0._create("limit",t,"F")}function yO(t,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new Ae(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nz(e)&&n.indexOf("/")!==-1)throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($t.fromString(n));if(!Me.isDocumentKey(r))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return RP(t,new Me(r))}if(n instanceof dn)return RP(t,n._key);throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$y(n)}.`)}function bO(t,e){if(!Array.isArray(t)||t.length===0)throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LL(t,e){const n=(function(i,s){for(const c of i)for(const d of c.getFlattenedFilters())if(s.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ae(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Kj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class cd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ul extends zL{constructor(e,n,r,i,s,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Fc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ul._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ul._jsonSchemaVersion="firestore/documentSnapshot/1.0",ul._jsonSchema={type:Rn("string",ul._jsonSchemaVersion),bundleSource:Rn("string","DocumentSnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class kh extends ul{data(e={}){return super.data(e)}}class Pc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new cd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new kh(this._firestore,this._userDataWriter,r.key,r,new cd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((d=>{const f=new kh(i._firestore,i._userDataWriter,d.doc.key,d.doc,new cd(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>s||d.type!==3)).map((d=>{const f=new kh(i._firestore,i._userDataWriter,d.doc.key,d.doc,new cd(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return d.type!==0&&(h=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),p=c.indexOf(d.doc.key)),{type:TW(d.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=By.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:t})}}Pc._jsonSchemaVersion="firestore/querySnapshot/1.0",Pc._jsonSchema={type:Rn("string",Pc._jsonSchemaVersion),bundleSource:Rn("string","QuerySnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class VL{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Tm(e)}set(e,n,r){this._verifyNotCommitted();const i=_x(e,this._firestore),s=Kj(i.converter,n,r),c=qj(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(c.toMutation(i._key,Ir.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=_x(e,this._firestore);let c;return c=typeof(n=Ft(n))=="string"||n instanceof Sm?PL(this._dataReader,"WriteBatch.update",s._key,n,r,i):CL(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(c.toMutation(s._key,Ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=_x(e,this._firestore);return this._mutations=this._mutations.concat(new Xy(n._key,Ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _x(t,e){if((t=Ft(t)).firestore!==e)throw new Ae(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function xl(t){t=_i(t,dn);const e=_i(t.firestore,to),n=Am(e);return pW(n,t._key).then((r=>CW(e,t,r)))}function Jr(t){t=_i(t,eo);const e=_i(t.firestore,to),n=Am(e),r=new ML(e);return NW(t._query),gW(n,t._query).then((i=>new Pc(e,r,t,i)))}function UL(t,e,n){t=_i(t,dn);const r=_i(t.firestore,to),i=Kj(t.converter,e,n),s=Tm(r);return Hd(r,[qj(s,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ir.none())])}function $i(t,e,n,...r){t=_i(t,dn);const i=_i(t.firestore,to),s=Tm(i);let c;return c=typeof(e=Ft(e))=="string"||e instanceof Sm?PL(s,"updateDoc",t._key,e,n,r):CL(s,"updateDoc",t._key,e),Hd(i,[c.toMutation(t._key,Ir.exists(!0))])}function Om(t){return Hd(_i(t.firestore,to),[new Xy(t._key,Ir.none())])}function au(t,e){const n=_i(t.firestore,to),r=Ut(t),i=Kj(t.converter,e),s=Tm(t.firestore);return Hd(n,[qj(s,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ir.exists(!1))]).then((()=>r))}function Hd(t,e){const n=Am(t);return vW(n,e)}function CW(t,e,n){const r=n.docs.get(e._key),i=new ML(t);return new ul(t,i,e._key,r,new cd(n.hasPendingWrites,n.fromCache),e.converter)}function Qh(t){return t=_i(t,to),Am(t),new VL(t,(e=>Hd(t,e)))}(function(e,n=!0){vH(tu),Lc(new ml("firestore",((r,{instanceIdentifier:i,options:s})=>{const c=r.getProvider("app").getImmediate(),d=new to(new bH(r.getProvider("auth-internal")),new wH(c,r.getProvider("app-check-internal")),VH(c,i),c);return s={useFetchStreams:n,...s},d._setSettings(s),d}),"PUBLIC").setMultipleInstances(!0)),$a(gO,vO,e),$a(gO,vO,"esm2020")})();const qL=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:DL,Bytes:fi,CollectionReference:Ms,DocumentReference:dn,DocumentSnapshot:ul,FieldPath:Sm,FieldValue:Nm,Firestore:to,FirestoreError:Ae,GeoPoint:ca,Query:eo,QueryCompositeFilterConstraint:a0,QueryConstraint:i0,QueryDocumentSnapshot:kh,QueryFieldFilterConstraint:Pm,QueryLimitConstraint:o0,QueryOrderByConstraint:s0,QuerySnapshot:Pc,SnapshotMetadata:cd,Timestamp:it,VectorValue:Bi,WriteBatch:VL,_AutoId:By,_ByteString:tr,_DatabaseId:jd,_DocumentKey:Me,_EmptyAuthCredentialsProvider:oz,_FieldPath:Jn,_cast:_i,_logWarn:Bc,_validateIsNotUsedTogether:cz,addDoc:au,collection:hr,connectFirestoreEmulator:AL,deleteDoc:Om,doc:Ut,ensureFirestoreConfigured:Am,executeWrite:Hd,getDoc:xl,getDocs:Jr,getFirestore:SL,limit:Hj,orderBy:ha,query:Zr,serverTimestamp:kn,setDoc:UL,updateDoc:$i,where:hi,writeBatch:Qh},Symbol.toStringTag,{value:"Module"}));var PW="firebase",OW="12.8.0";$a(PW,OW,"app");const BL="firebasestorage.googleapis.com",$L="storageBucket",IW=120*1e3,RW=600*1e3;class mn extends rs{constructor(e,n,r=0){super(xx(e),`Firebase Storage: ${n} (${xx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fn||(fn={}));function xx(t){return"storage/"+t}function Gj(){const t="An unknown error occurred, please check the error payload for server response.";return new mn(fn.UNKNOWN,t)}function kW(t){return new mn(fn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function DW(t){return new mn(fn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function MW(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mn(fn.UNAUTHENTICATED,t)}function zW(){return new mn(fn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function LW(t){return new mn(fn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function VW(){return new mn(fn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function UW(){return new mn(fn.CANCELED,"User canceled the upload/download.")}function qW(t){return new mn(fn.INVALID_URL,"Invalid URL '"+t+"'.")}function BW(t){return new mn(fn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $W(){return new mn(fn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$L+"' property when initializing the app?")}function FW(){return new mn(fn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function HW(){return new mn(fn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function KW(t){return new mn(fn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Vw(t){return new mn(fn.INVALID_ARGUMENT,t)}function FL(){return new mn(fn.APP_DELETED,"The Firebase app was deleted.")}function GW(t){return new mn(fn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Dh(t,e){return new mn(fn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ah(t){throw new mn(fn.INTERNAL_ERROR,"Internal error: "+t)}class gi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=gi.makeFromUrl(e,n)}catch{return new gi(e,"")}if(r.path==="")return r;throw BW(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+i+c,"i"),f={bucket:1,path:3};function h(R){R.path_=decodeURIComponent(R.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",w=new RegExp(`^https?://${g}/${p}/b/${i}/o${y}`,"i"),j={bucket:1,path:3},E=n===BL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",T=new RegExp(`^https?://${E}/${i}/${A}`,"i"),I=[{regex:d,indices:f,postModify:s},{regex:w,indices:j,postModify:h},{regex:T,indices:{bucket:1,path:2},postModify:h}];for(let R=0;R<I.length;R++){const z=I[R],M=z.regex.exec(e);if(M){const O=M[z.indices.bucket];let P=M[z.indices.path];P||(P=""),r=new gi(O,P),z.postModify(r);break}}if(r==null)throw qW(e);return r}}class WW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function QW(t,e,n){let r=1,i=null,s=null,c=!1,d=0;function f(){return d===2}let h=!1;function p(...A){h||(h=!0,e.apply(null,A))}function g(A){i=setTimeout(()=>{i=null,t(w,f())},A)}function y(){s&&clearTimeout(s)}function w(A,...T){if(h){y();return}if(A){y(),p.call(null,A,...T);return}if(f()||c){y(),p.call(null,A,...T);return}r<64&&(r*=2);let I;d===1?(d=2,I=0):I=(r+Math.random())*1e3,g(I)}let j=!1;function E(A){j||(j=!0,y(),!h&&(i!==null?(A||(d=2),clearTimeout(i),g(0)):A||(d=1)))}return g(0),s=setTimeout(()=>{c=!0,E(!0)},n),E}function YW(t){t(!1)}function XW(t){return t!==void 0}function ZW(t){return typeof t=="object"&&!Array.isArray(t)}function Wj(t){return typeof t=="string"||t instanceof String}function _O(t){return Qj()&&t instanceof Blob}function Qj(){return typeof Blob<"u"}function xO(t,e,n,r){if(r<e)throw Vw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Vw(`Invalid value for '${t}'. Expected ${n} or less.`)}function l0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function HL(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Oc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Oc||(Oc={}));function JW(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}class eQ{constructor(e,n,r,i,s,c,d,f,h,p,g,y=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=y,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,E)=>{this.resolve_=j,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Tg(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{const f=d.loaded,h=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===Oc.NO_ERROR,f=s.getStatus();if(!d||JW(f,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Oc.ABORT;r(!1,new Tg(!1,null,p));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new Tg(h,s))})},n=(r,i)=>{const s=this.resolve_,c=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());XW(f)?s(f):s()}catch(f){c(f)}else if(d!==null){const f=Gj();f.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,f)):c(f)}else if(i.canceled){const f=this.appDelete_?FL():UW();c(f)}else{const f=VW();c(f)}};this.canceled_?n(!1,new Tg(!1,null,!0)):this.backoffId_=QW(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&YW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Tg{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function tQ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function nQ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rQ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function iQ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function aQ(t,e,n,r,i,s,c=!0,d=!1){const f=HL(t.urlParams),h=t.url+f,p=Object.assign({},t.headers);return rQ(p,e),tQ(p,n),nQ(p,s),iQ(p,r),new eQ(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,c,d)}function sQ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function oQ(...t){const e=sQ();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Qj())return new Blob(t);throw new mn(fn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function lQ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function cQ(t){if(typeof atob>"u")throw KW("base-64");return atob(t)}const Ua={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wx{constructor(e,n){this.data=e,this.contentType=n||null}}function uQ(t,e){switch(t){case Ua.RAW:return new wx(KL(e));case Ua.BASE64:case Ua.BASE64URL:return new wx(GL(t,e));case Ua.DATA_URL:return new wx(fQ(e),hQ(e))}throw Gj()}function KL(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,c=t.charCodeAt(++n);r=65536|(s&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function dQ(t){let e;try{e=decodeURIComponent(t)}catch{throw Dh(Ua.DATA_URL,"Malformed data URL.")}return KL(e)}function GL(t,e){switch(t){case Ua.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Dh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ua.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Dh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=cQ(e)}catch(i){throw i.message.includes("polyfill")?i:Dh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class WL{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Dh(Ua.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=mQ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function fQ(t){const e=new WL(t);return e.base64?GL(Ua.BASE64,e.rest):dQ(e.rest)}function hQ(t){return new WL(t).contentType}function mQ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class el{constructor(e,n){let r=0,i="";_O(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(_O(this.data_)){const r=this.data_,i=lQ(r,e,n);return i===null?null:new el(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new el(r,!0)}}static getBlob(...e){if(Qj()){const n=e.map(r=>r instanceof el?r.data_:r);return new el(oQ.apply(null,n))}else{const n=e.map(c=>Wj(c)?uQ(Ua.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)i[s++]=c[d]}),new el(i,!0)}}uploadData(){return this.data_}}function QL(t){let e;try{e=JSON.parse(t)}catch{return null}return ZW(e)?e:null}function pQ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function gQ(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function YL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function vQ(t,e){return e}class Tr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||vQ}}let Cg=null;function yQ(t){return!Wj(t)||t.length<2?t:YL(t)}function XL(){if(Cg)return Cg;const t=[];t.push(new Tr("bucket")),t.push(new Tr("generation")),t.push(new Tr("metageneration")),t.push(new Tr("name","fullPath",!0));function e(s,c){return yQ(c)}const n=new Tr("name");n.xform=e,t.push(n);function r(s,c){return c!==void 0?Number(c):c}const i=new Tr("size");return i.xform=r,t.push(i),t.push(new Tr("timeCreated")),t.push(new Tr("updated")),t.push(new Tr("md5Hash",null,!0)),t.push(new Tr("cacheControl",null,!0)),t.push(new Tr("contentDisposition",null,!0)),t.push(new Tr("contentEncoding",null,!0)),t.push(new Tr("contentLanguage",null,!0)),t.push(new Tr("contentType",null,!0)),t.push(new Tr("metadata","customMetadata",!0)),Cg=t,Cg}function bQ(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new gi(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function _Q(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const c=n[s];r[c.local]=c.xform(r,e[c.server])}return bQ(r,t),r}function ZL(t,e,n){const r=QL(e);return r===null?null:_Q(t,r,n)}function xQ(t,e,n,r){const i=QL(e);if(i===null||!Wj(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const c=encodeURIComponent;return s.split(",").map(h=>{const p=t.bucket,g=t.fullPath,y="/b/"+c(p)+"/o/"+c(g),w=l0(y,n,r),j=HL({alt:"media",token:h});return w+j})[0]}function wQ(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Yj{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function JL(t){if(!t)throw Gj()}function EQ(t,e){function n(r,i){const s=ZL(t,i,e);return JL(s!==null),s}return n}function jQ(t,e){function n(r,i){const s=ZL(t,i,e);return JL(s!==null),xQ(s,i,t.host,t._protocol)}return n}function e3(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=zW():i=MW():n.getStatus()===402?i=DW(t.bucket):n.getStatus()===403?i=LW(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function t3(t){const e=e3(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=kW(t.path)),s.serverResponse=i.serverResponse,s}return n}function AQ(t,e,n){const r=e.fullServerUrl(),i=l0(r,t.host,t._protocol),s="GET",c=t.maxOperationRetryTime,d=new Yj(i,s,jQ(t,n),c);return d.errorHandler=t3(e),d}function SQ(t,e){const n=e.fullServerUrl(),r=l0(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function c(f,h){}const d=new Yj(r,i,c,s);return d.successCodes=[200,204],d.errorHandler=t3(e),d}function NQ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function TQ(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=NQ(null,e)),r}function CQ(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let I="";for(let R=0;R<2;R++)I=I+Math.random().toString().slice(2);return I}const f=d();c["Content-Type"]="multipart/related; boundary="+f;const h=TQ(e,r,i),p=wQ(h,n),g="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+h.contentType+`\r
\r
`,y=`\r
--`+f+"--",w=el.getBlob(g,r,y);if(w===null)throw FW();const j={name:h.fullPath},E=l0(s,t.host,t._protocol),A="POST",T=t.maxUploadRetryTime,k=new Yj(E,A,EQ(t,n),T);return k.urlParams=j,k.headers=c,k.body=w.uploadData(),k.errorHandler=e3(e),k}class PQ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Oc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Oc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Oc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw ah("cannot .send() more than once");if(Tl(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const c in s)s.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,s[c].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ah("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ah("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ah("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ah("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class OQ extends PQ{initXhr(){this.xhr_.responseType="text"}}function Xj(){return new OQ}class Hc{constructor(e,n){this._service=e,n instanceof gi?this._location=n:this._location=gi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Hc(e,n)}get root(){const e=new gi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YL(this._location.path)}get storage(){return this._service}get parent(){const e=pQ(this._location.path);if(e===null)return null;const n=new gi(this._location.bucket,e);return new Hc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw GW(e)}}function IQ(t,e,n){t._throwIfRoot("uploadBytes");const r=CQ(t.storage,t._location,XL(),new el(e,!0),n);return t.storage.makeRequestWithTokens(r,Xj).then(i=>({metadata:i,ref:t}))}function RQ(t){t._throwIfRoot("getDownloadURL");const e=AQ(t.storage,t._location,XL());return t.storage.makeRequestWithTokens(e,Xj).then(n=>{if(n===null)throw HW();return n})}function kQ(t){t._throwIfRoot("deleteObject");const e=SQ(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Xj)}function DQ(t,e){const n=gQ(t._location.path,e),r=new gi(t._location.bucket,n);return new Hc(t.storage,r)}function MQ(t){return/^[A-Za-z]+:\/\//.test(t)}function zQ(t,e){return new Hc(t,e)}function n3(t,e){if(t instanceof Zj){const n=t;if(n._bucket==null)throw $W();const r=new Hc(n,n._bucket);return e!=null?n3(r,e):r}else return e!==void 0?DQ(t,e):t}function LQ(t,e){if(e&&MQ(e)){if(t instanceof Zj)return zQ(t,e);throw Vw("To use ref(service, url), the first argument must be a Storage instance.")}else return n3(t,e)}function wO(t,e){const n=e?.[$L];return n==null?null:gi.makeFromBucketSpec(n,t)}function VQ(t,e,n,r={}){t.host=`${e}:${n}`;const i=Tl(e);i&&(rj(`https://${t.host}/b`),ij("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:h4(s,t.app.options.projectId))}class Zj{constructor(e,n,r,i,s,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=c,this._bucket=null,this._host=BL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=IW,this._maxUploadRetryTime=RW,this._requests=new Set,i!=null?this._bucket=gi.makeFromBucketSpec(i,this._host):this._bucket=wO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gi.makeFromBucketSpec(this._url,e):this._bucket=wO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hc(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new WW(FL());{const c=aQ(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const EO="@firebase/storage",jO="0.14.0";const r3="storage";function UQ(t,e,n){return t=Ft(t),IQ(t,e,n)}function qQ(t){return t=Ft(t),RQ(t)}function BQ(t){return t=Ft(t),kQ(t)}function AO(t,e){return t=Ft(t),LQ(t,e)}function $Q(t=oj(),e){t=Ft(t);const r=Ly(t,r3).getImmediate({identifier:e}),i=u4("storage");return i&&FQ(r,...i),r}function FQ(t,e,n,r={}){VQ(t,e,n,r)}function HQ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Zj(n,r,i,e,tu)}function KQ(){Lc(new ml(r3,HQ,"PUBLIC").setMultipleInstances(!0)),$a(EO,jO,""),$a(EO,jO,"esm2020")}KQ();const GQ={apiKey:"AIzaSyDgk_1graNBFkIURTJnyLZTZ1nyxi7slUo",authDomain:"pedaclic.firebaseapp.com",projectId:"pedaclic",storageBucket:"pedaclic.firebasestorage.app",messagingSenderId:"863649621890",appId:"1:863649621890:web:6ab56a8c8db111e3a9119b"},Jj=g4(GQ),Eh=pH(Jj),Ge=SL(Jj),Uw=$Q(Jj),i3=Object.freeze(Object.defineProperty({__proto__:null,auth:Eh,db:Ge,storage:Uw},Symbol.toStringTag,{value:"Module"})),SO={"auth/email-already-in-use":"Cette adresse email est dj utilise.","auth/invalid-email":"Adresse email invalide.","auth/operation-not-allowed":"Opration non autorise.","auth/weak-password":"Le mot de passe doit contenir au moins 6 caractres.","auth/user-disabled":"Ce compte a t dsactiv.","auth/user-not-found":"Aucun compte associ  cette adresse email.","auth/wrong-password":"Mot de passe incorrect.","auth/too-many-requests":"Trop de tentatives. Veuillez ressayer plus tard.","auth/network-request-failed":"Erreur de connexion. Vrifiez votre connexion internet.",default:"Une erreur est survenue. Veuillez ressayer."},NO=t=>SO[t]||SO.default,a3=_.createContext(null),WQ=({children:t})=>{const[e,n]=_.useState(null),[r,i]=_.useState(!0),s=async y=>{try{const w=await xl(Ut(Ge,"users",y));if(w.exists()){const j=w.data();return{uid:y,email:j.email,displayName:j.displayName,role:j.role,isPremium:j.isPremium||!1,subscriptionEnd:j.subscriptionEnd?.toDate()||null,photoURL:j.photoURL,createdAt:j.createdAt?.toDate()||new Date,lastLogin:j.lastLogin?.toDate()}}return null}catch(w){return console.error("Erreur lors de la rcupration des donnes utilisateur:",w),null}},c=async(y,w)=>{const j=Ut(Ge,"users",y.uid);(await xl(j)).exists()?await $i(j,{lastLogin:kn()}):await UL(j,{email:y.email,displayName:y.displayName||w?.displayName||"",role:w?.role||"eleve",isPremium:!1,photoURL:y.photoURL,createdAt:kn(),lastLogin:kn()})},d=async(y,w)=>{try{const j=await Z7(Eh,y,w);await c(j.user)}catch(j){throw new Error(NO(j.code))}},f=async y=>{try{if(y.password!==y.confirmPassword)throw new Error("Les mots de passe ne correspondent pas.");const w=await X7(Eh,y.email,y.password);await eF(w.user,{displayName:y.displayName}),await c(w.user,{displayName:y.displayName,role:y.role})}catch(w){throw w.message?w:new Error(NO(w.code))}},h=async()=>{try{await iF(Eh),n(null)}catch{throw new Error("Erreur lors de la dconnexion.")}},p=async y=>{if(!e)throw new Error("Aucun utilisateur connect.");try{const w=Ut(Ge,"users",e.uid);await $i(w,{...y,updatedAt:kn()}),n(j=>j?{...j,...y}:null)}catch{throw new Error("Erreur lors de la mise  jour du profil.")}};_.useEffect(()=>{const y=rF(Eh,async w=>{if(w){const j=await s(w.uid);n(j)}else n(null);i(!1)});return()=>y()},[]);const g={currentUser:e,loading:r,login:d,register:f,logout:h,updateProfile:p};return l.jsx(a3.Provider,{value:g,children:r?l.jsxs("div",{className:"loading-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Chargement..."})]}):t})},wi=()=>{const t=_.useContext(a3);if(!t)throw new Error("useAuth doit tre utilis  l'intrieur d'un AuthProvider");return t},s3=({children:t,allowedRoles:e,requirePremium:n=!1})=>{const{currentUser:r,loading:i}=wi();return i?l.jsxs("div",{className:"loading-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Vrification des autorisations..."})]}):r?e&&!e.includes(r.role)?l.jsxs("div",{className:"error-container",children:[l.jsx("h2",{children:"Accs non autoris"}),l.jsx("p",{children:"Vous n'avez pas les permissions ncessaires pour accder  cette page."}),l.jsx("a",{href:"/",className:"btn btn-primary",children:"Retour  l'accueil"})]}):n&&!r.isPremium?l.jsxs("div",{className:"error-container premium-required",children:[l.jsx("h2",{children:"Contenu Premium"}),l.jsx("p",{children:"Cette ressource est rserve aux abonns Premium."}),l.jsxs("div",{className:"premium-cta",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"2 000 FCFA/mois"})," ou ",l.jsx("strong",{children:"20 000 FCFA/an"})]}),l.jsx("a",{href:"/premium",className:"btn btn-premium",children:"Devenir Premium"})]})]}):l.jsx(l.Fragment,{children:t}):l.jsxs("div",{className:"error-container",children:[l.jsx("h2",{children:"Accs refus"}),l.jsx("p",{children:"Vous devez tre connect pour accder  cette page."}),l.jsx("a",{href:"/connexion",className:"btn btn-primary",children:"Se connecter"})]})},Yu=({children:t})=>l.jsx(s3,{allowedRoles:["admin"],children:t}),QQ=({children:t})=>l.jsx(s3,{allowedRoles:["admin","prof"],children:t});const YQ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XQ=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),TO=t=>{const e=XQ(t);return e.charAt(0).toUpperCase()+e.slice(1)},o3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),ZQ=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var JQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eY=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:c,...d},f)=>_.createElement("svg",{ref:f,...JQ,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:o3("lucide",i),...!s&&!ZQ(d)&&{"aria-hidden":"true"},...d},[...c.map(([h,p])=>_.createElement(h,p)),...Array.isArray(s)?s:[s]]));const ke=(t,e)=>{const n=_.forwardRef(({className:r,...i},s)=>_.createElement(eY,{ref:s,iconNode:e,className:o3(`lucide-${YQ(TO(t))}`,`lucide-${t}`,r),...i}));return n.displayName=TO(t),n};const tY=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ex=ke("arrow-left",tY);const nY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],pc=ke("arrow-right",nY);const rY=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Wa=ke("award",rY);const iY=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Pr=ke("book-open",iY);const aY=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],jx=ke("calendar",aY);const sY=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ns=ke("chart-column",sY);const oY=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kv=ke("chevron-down",oY);const lY=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],CO=ke("chevron-left",lY);const cY=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],qw=ke("chevron-up",cY);const uY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Dv=ke("circle-alert",uY);const dY=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_n=ke("circle-check-big",dY);const fY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sv=ke("circle-question-mark",fY);const hY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Bw=ke("circle-x",hY);const mY=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],sh=ke("clipboard-list",mY);const pY=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wl=ke("clock",pY);const gY=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],vY=ke("copy",gY);const yY=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],jh=ke("crown",yY);const bY=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yh=ke("eye",bY);const _Y=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],xY=ke("facebook",_Y);const wY=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],EY=ke("file-text",wY);const jY=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],l3=ke("funnel",jY);const AY=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Cd=ke("graduation-cap",AY);const SY=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],NY=ke("grip-vertical",SY);const TY=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],CY=ke("heart",TY);const PY=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],$w=ke("house",PY);const OY=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],IY=ke("instagram",OY);const RY=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Mv=ke("layout-dashboard",RY);const kY=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],DY=ke("linkedin",kY);const MY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Fw=ke("lock",MY);const zY=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],PO=ke("log-out",zY);const LY=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],VY=ke("mail",LY);const UY=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],qY=ke("map-pin",UY);const BY=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],$Y=ke("menu",BY);const FY=[["path",{d:"M5 12h14",key:"1ays0h"}]],Hw=ke("minus",FY);const HY=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],KY=ke("pen-line",HY);const GY=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],WY=ke("phone",GY);const QY=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Mh=ke("play",QY);const YY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pg=ke("plus",YY);const XY=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Kw=ke("refresh-cw",XY);const ZY=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],JY=ke("rotate-ccw",ZY);const eX=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tX=ke("save",eX);const nX=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],eA=ke("search",nX);const rX=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iX=ke("settings",rX);const aX=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],tA=ke("shield",aX);const sX=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],vi=ke("star",sX);const oX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ud=ke("target",oX);const lX=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],cX=ke("timer",lX);const uX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],OO=ke("trash-2",uX);const dX=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Gw=ke("trending-down",dX);const fX=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Xh=ke("trending-up",fX);const hX=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oh=ke("triangle-alert",hX);const mX=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],c3=ke("trophy",mX);const pX=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],gX=ke("twitter",pX);const vX=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yX=ke("user-check",vX);const bX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],_X=ke("user-x",bX);const xX=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wX=ke("user",xX);const EX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],il=ke("users",EX);const jX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ic=ke("x",jX);const AX=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],SX=ke("youtube",AX);const NX=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],u3=ke("zap",NX),TX=()=>{const{currentUser:t,logout:e,loading:n}=wi(),r=Zs(),i=Nl(),[s,c]=_.useState(!1),[d,f]=_.useState(!1),[h,p]=_.useState(!1),g=_.useRef(null),y=[{path:"/",label:"Accueil",icon:l.jsx($w,{size:18})},{path:"/disciplines",label:"Disciplines",icon:l.jsx(Pr,{size:18})},{path:"/quiz",label:"Quiz",icon:l.jsx(Cd,{size:18}),requireAuth:!0,requirePremium:!0},{path:t?.role==="eleve"?"/eleve/dashboard":t?.role==="prof"?"/prof/dashboard":"/admin",label:"Tableau de bord",icon:l.jsx(Mv,{size:18}),requireAuth:!0}];_.useEffect(()=>{const R=z=>{g.current&&!g.current.contains(z.target)&&f(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]),_.useEffect(()=>{c(!1),f(!1)},[i.pathname]),_.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]);const w=async()=>{try{p(!0),await e(),f(!1),r("/")}catch(R){console.error("Erreur lors de la dconnexion:",R)}finally{p(!1)}},j=()=>{c(!s)},E=()=>{f(!d)},A=R=>!(R.requireAuth&&!t||R.requirePremium&&t&&!t.isPremium||R.requireRole&&t&&!R.requireRole.includes(t.role)),T=R=>R==="/"?i.pathname==="/":i.pathname.startsWith(R),k=R=>({admin:"Administrateur",prof:"Professeur",eleve:"lve"})[R]||R,I=()=>t?t.displayName?t.displayName.split(" ").map(z=>z[0]).join("").toUpperCase().slice(0,2):t.email[0].toUpperCase():"?";return l.jsxs("header",{className:"header",children:[l.jsxs("div",{className:"header__container",children:[l.jsxs(We,{to:"/",className:"header__logo",children:[l.jsx(Cd,{className:"header__logo-icon",size:32}),l.jsxs("div",{className:"header__logo-text",children:[l.jsx("span",{className:"header__logo-name",children:"PedaClic"}),l.jsx("span",{className:"header__logo-tagline",children:"L'cole en un clic"})]})]}),l.jsx("nav",{className:"header__nav header__nav--desktop",children:l.jsx("ul",{className:"header__nav-list",children:y.map(R=>A(R)&&l.jsx("li",{className:"header__nav-item",children:l.jsxs(We,{to:R.path,className:`header__nav-link ${T(R.path)?"header__nav-link--active":""}`,children:[R.icon,l.jsx("span",{children:R.label}),R.requirePremium&&l.jsx(jh,{size:14,className:"header__premium-badge"})]})},R.path))})}),l.jsxs("div",{className:"header__actions",children:[n?l.jsx("div",{className:"header__loading",children:l.jsx("div",{className:"header__spinner"})}):t?l.jsxs("div",{className:"header__user",ref:g,children:[t.isPremium&&l.jsxs("span",{className:"header__premium-tag",children:[l.jsx(jh,{size:14}),"Premium"]}),l.jsxs("button",{className:"header__user-button",onClick:E,"aria-expanded":d,"aria-haspopup":"true",children:[l.jsx("div",{className:"header__avatar",children:t.photoURL?l.jsx("img",{src:t.photoURL,alt:t.displayName||"Avatar",className:"header__avatar-img"}):l.jsx("span",{className:"header__avatar-initials",children:I()})}),l.jsx("span",{className:"header__user-name",children:t.displayName||t.email.split("@")[0]}),l.jsx(kv,{size:16,className:`header__chevron ${d?"header__chevron--open":""}`})]}),d&&l.jsxs("div",{className:"header__dropdown",children:[l.jsxs("div",{className:"header__dropdown-header",children:[l.jsx("p",{className:"header__dropdown-email",children:t.email}),l.jsx("span",{className:`header__dropdown-role header__dropdown-role--${t.role}`,children:k(t.role)})]}),l.jsx("div",{className:"header__dropdown-divider"}),l.jsxs("nav",{className:"header__dropdown-nav",children:[l.jsxs(We,{to:t.role==="eleve"?"/eleve/dashboard":t.role==="prof"?"/prof/dashboard":"/admin",className:"header__dropdown-link",children:[l.jsx(Mv,{size:18}),l.jsx("span",{children:"Tableau de bord"})]}),t.role==="eleve"&&l.jsxs(We,{to:"/eleve/suivi",className:"header__dropdown-link",children:[l.jsx(Ns,{size:18}),l.jsx("span",{children:"Mes points  amliorer"})]}),l.jsxs(We,{to:"/profil",className:"header__dropdown-link",children:[l.jsx(wX,{size:18}),l.jsx("span",{children:"Mon profil"})]}),t.role==="admin"&&l.jsxs(We,{to:"/admin",className:"header__dropdown-link",children:[l.jsx(iX,{size:18}),l.jsx("span",{children:"Administration"})]}),!t.isPremium&&l.jsxs(We,{to:"/premium",className:"header__dropdown-link header__dropdown-link--premium",children:[l.jsx(jh,{size:18}),l.jsx("span",{children:"Passer Premium"})]})]}),l.jsx("div",{className:"header__dropdown-divider"}),l.jsxs("button",{className:"header__dropdown-logout",onClick:w,disabled:h,children:[l.jsx(PO,{size:18}),l.jsx("span",{children:h?"Dconnexion...":"Se dconnecter"})]})]})]}):l.jsxs("div",{className:"header__auth-buttons",children:[l.jsx(We,{to:"/connexion",className:"header__btn header__btn--outline",children:"Connexion"}),l.jsx(We,{to:"/inscription",className:"header__btn header__btn--primary",children:"S'inscrire"})]}),l.jsx("button",{className:"header__mobile-toggle",onClick:j,"aria-label":s?"Fermer le menu":"Ouvrir le menu","aria-expanded":s,children:s?l.jsx(Ic,{size:24}):l.jsx($Y,{size:24})})]})]}),l.jsxs("div",{className:`header__mobile-menu ${s?"header__mobile-menu--open":""}`,children:[l.jsx("div",{className:"header__mobile-overlay",onClick:()=>c(!1)}),l.jsxs("div",{className:"header__mobile-content",children:[l.jsx("nav",{className:"header__mobile-nav",children:l.jsx("ul",{className:"header__mobile-list",children:y.map(R=>A(R)&&l.jsx("li",{className:"header__mobile-item",children:l.jsxs(We,{to:R.path,className:`header__mobile-link ${T(R.path)?"header__mobile-link--active":""}`,children:[R.icon,l.jsx("span",{children:R.label}),R.requirePremium&&l.jsx(jh,{size:14,className:"header__premium-badge"})]})},R.path))})}),!t&&l.jsxs("div",{className:"header__mobile-auth",children:[l.jsx(We,{to:"/connexion",className:"header__btn header__btn--outline header__btn--block",children:"Connexion"}),l.jsx(We,{to:"/inscription",className:"header__btn header__btn--primary header__btn--block",children:"S'inscrire"})]}),t&&l.jsxs("div",{className:"header__mobile-user",children:[l.jsxs("div",{className:"header__mobile-user-info",children:[l.jsx("div",{className:"header__avatar header__avatar--large",children:t.photoURL?l.jsx("img",{src:t.photoURL,alt:t.displayName||"Avatar",className:"header__avatar-img"}):l.jsx("span",{className:"header__avatar-initials",children:I()})}),l.jsxs("div",{className:"header__mobile-user-details",children:[l.jsx("p",{className:"header__mobile-user-name",children:t.displayName||t.email.split("@")[0]}),l.jsx("p",{className:"header__mobile-user-email",children:t.email})]})]}),l.jsxs("button",{className:"header__mobile-logout",onClick:w,disabled:h,children:[l.jsx(PO,{size:18}),l.jsx("span",{children:h?"Dconnexion...":"Se dconnecter"})]})]})]})]})]})},CX=()=>{const t=new Date().getFullYear(),e=[{label:"Accueil",path:"/"},{label:"Disciplines",path:"/disciplines"},{label:"Quiz Premium",path:"/quiz"},{label:"Tarifs",path:"/premium"},{label:"Tableau de bord",path:"/dashboard"}],n=[{label:"Cours en ligne",path:"/disciplines"},{label:"Exercices corrigs",path:"/disciplines"},{label:"Annales examens",path:"/disciplines"},{label:"Fiches de rvision",path:"/disciplines"}],r=[{name:"Facebook",url:"https://facebook.com/pedaclic",icon:l.jsx(xY,{size:20})},{name:"Twitter",url:"https://twitter.com/pedaclic",icon:l.jsx(gX,{size:20})},{name:"Instagram",url:"https://instagram.com/pedaclic",icon:l.jsx(IY,{size:20})},{name:"LinkedIn",url:"https://linkedin.com/company/pedaclic",icon:l.jsx(DY,{size:20})},{name:"YouTube",url:"https://youtube.com/@pedaclic",icon:l.jsx(SX,{size:20})}];return l.jsxs("footer",{className:"footer",children:[l.jsx("div",{className:"footer__main",children:l.jsxs("div",{className:"footer__container",children:[l.jsxs("div",{className:"footer__column footer__column--about",children:[l.jsxs(We,{to:"/",className:"footer__logo",children:[l.jsx(Cd,{className:"footer__logo-icon",size:36}),l.jsxs("div",{className:"footer__logo-text",children:[l.jsx("span",{className:"footer__logo-name",children:"PedaClic"}),l.jsx("span",{className:"footer__logo-tagline",children:"L'cole en un clic"})]})]}),l.jsx("p",{className:"footer__description",children:"PedaClic est la plateforme ducative de rfrence au Sngal. Nous accompagnons les lves du collge au lyce avec des cours, exercices et quiz de qualit."}),l.jsxs("div",{className:"footer__stats",children:[l.jsxs("div",{className:"footer__stat",children:[l.jsx(Pr,{size:18}),l.jsx("span",{children:"500+ cours"})]}),l.jsxs("div",{className:"footer__stat",children:[l.jsx(il,{size:18}),l.jsx("span",{children:"10 000+ lves"})]})]})]}),l.jsxs("div",{className:"footer__column",children:[l.jsxs("h3",{className:"footer__title",children:[l.jsx("span",{className:"footer__title-icon",children:""}),"Plateforme"]}),l.jsx("nav",{className:"footer__nav",children:l.jsx("ul",{className:"footer__list",children:e.map((i,s)=>l.jsx("li",{className:"footer__item",children:l.jsx(We,{to:i.path,className:"footer__link",children:i.label})},s))})})]}),l.jsxs("div",{className:"footer__column",children:[l.jsxs("h3",{className:"footer__title",children:[l.jsx("span",{className:"footer__title-icon",children:""}),"Ressources"]}),l.jsx("nav",{className:"footer__nav",children:l.jsx("ul",{className:"footer__list",children:n.map((i,s)=>l.jsx("li",{className:"footer__item",children:l.jsx(We,{to:i.path,className:"footer__link",children:i.label})},s))})})]}),l.jsxs("div",{className:"footer__column",children:[l.jsxs("h3",{className:"footer__title",children:[l.jsx("span",{className:"footer__title-icon",children:""}),"Contact"]}),l.jsxs("div",{className:"footer__contact",children:[l.jsxs("a",{href:"mailto:contact@pedaclic.sn",className:"footer__contact-item",children:[l.jsx(VY,{size:16,className:"footer__contact-icon"}),l.jsx("span",{children:"contact@pedaclic.sn"})]}),l.jsxs("a",{href:"tel:+221770000000",className:"footer__contact-item",children:[l.jsx(WY,{size:16,className:"footer__contact-icon"}),l.jsx("span",{children:"+221 77 000 00 00"})]}),l.jsxs("div",{className:"footer__contact-item",children:[l.jsx(qY,{size:16,className:"footer__contact-icon"}),l.jsx("span",{children:"Dakar, Sngal"})]})]}),l.jsxs("div",{className:"footer__social",children:[l.jsx("h4",{className:"footer__social-title",children:"Suivez-nous"}),l.jsx("div",{className:"footer__social-links",children:r.map((i,s)=>l.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"footer__social-link",title:i.name,children:i.icon},s))})]})]})]})}),l.jsx("div",{className:"footer__bottom",children:l.jsxs("div",{className:"footer__container footer__bottom-content",children:[l.jsxs("p",{className:"footer__copyright",children:[" ",t," PedaClic. Tous droits rservs."]}),l.jsxs("p",{className:"footer__made-with",children:["Fait avec ",l.jsx(CY,{size:14,className:"footer__heart"})," au Sngal "]}),l.jsxs("nav",{className:"footer__legal",children:[l.jsxs(We,{to:"/mentions-legales",className:"footer__legal-link",children:[l.jsx(EY,{size:14})," Mentions lgales"]}),l.jsxs(We,{to:"/confidentialite",className:"footer__legal-link",children:[l.jsx(tA,{size:14})," Confidentialit"]}),l.jsxs(We,{to:"/aide",className:"footer__legal-link",children:[l.jsx(sv,{size:14})," Aide"]})]})]})})]})},Fo=({children:t,hideHeader:e=!1,hideFooter:n=!1,className:r=""})=>l.jsxs("div",{className:"layout",children:[!e&&l.jsx(TX,{}),l.jsx("main",{className:`layout__main ${e?"":"layout__main--with-header"} ${r}`,children:t}),!n&&l.jsx(CX,{})]}),PX=()=>{const{currentUser:t}=wi();return l.jsxs("div",{className:"home-page",children:[l.jsxs("section",{className:"home-page__hero",children:[l.jsxs("div",{className:"home-page__hero-content",children:[l.jsxs("div",{className:"home-page__hero-badge",children:[l.jsx(vi,{size:14}),l.jsx("span",{children:"Plateforme N1 au Sngal"})]}),l.jsxs("h1",{className:"home-page__hero-title",children:["Russis tes examens avec",l.jsx("span",{className:"home-page__hero-highlight",children:" PedaClic"})]}),l.jsx("p",{className:"home-page__hero-subtitle",children:"La plateforme ducative qui accompagne les lves sngalais du collge au lyce avec des cours, exercices et quiz de qualit."}),l.jsx("div",{className:"home-page__hero-cta",children:t?l.jsxs(We,{to:t.role==="eleve"?"/eleve/dashboard":t.role==="prof"?"/prof/dashboard":"/admin",className:"home-page__btn home-page__btn--primary",children:["  Accder  mon espace",l.jsx(pc,{size:20})]}):l.jsxs(l.Fragment,{children:[l.jsxs(We,{to:"/register",className:"home-page__btn home-page__btn--primary",children:["Commencer gratuitement",l.jsx(pc,{size:20})]}),l.jsxs(We,{to:"/disciplines",className:"home-page__btn home-page__btn--outline",children:[l.jsx(Mh,{size:18}),"Dcouvrir les cours"]})]})}),l.jsxs("div",{className:"home-page__hero-stats",children:[l.jsxs("div",{className:"home-page__hero-stat",children:[l.jsx("strong",{children:"10 000+"}),l.jsx("span",{children:"lves inscrits"})]}),l.jsxs("div",{className:"home-page__hero-stat",children:[l.jsx("strong",{children:"500+"}),l.jsx("span",{children:"Cours disponibles"})]}),l.jsxs("div",{className:"home-page__hero-stat",children:[l.jsx("strong",{children:"95%"}),l.jsx("span",{children:"Taux de russite"})]})]})]}),l.jsx("div",{className:"home-page__hero-image",children:l.jsxs("div",{className:"home-page__hero-illustration",children:[l.jsx(Cd,{size:120}),l.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--1",children:""}),l.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--2",children:""}),l.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--3",children:""})]})})]}),l.jsx("section",{className:"home-page__levels",children:l.jsxs("div",{className:"home-page__container",children:[l.jsx("h2",{className:"home-page__section-title",children:"Tous les niveaux, toutes les matires"}),l.jsx("p",{className:"home-page__section-subtitle",children:"Du collge au lyce, prpare tes examens avec confiance"}),l.jsxs("div",{className:"home-page__levels-grid",children:[l.jsxs(We,{to:"/disciplines?niveau=college",className:"home-page__level-card",children:[l.jsx("div",{className:"home-page__level-icon home-page__level-icon--college",children:""}),l.jsx("h3",{children:"Collge"}),l.jsx("p",{children:"6me  3me"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx(_n,{size:16})," Prparation au BFEM"]}),l.jsxs("li",{children:[l.jsx(_n,{size:16})," 9 matires disponibles"]}),l.jsxs("li",{children:[l.jsx(_n,{size:16})," Exercices corrigs"]})]}),l.jsxs("span",{className:"home-page__level-link",children:["Voir les cours ",l.jsx(pc,{size:16})]})]}),l.jsxs(We,{to:"/disciplines?niveau=lycee",className:"home-page__level-card",children:[l.jsx("div",{className:"home-page__level-icon home-page__level-icon--lycee",children:""}),l.jsx("h3",{children:"Lyce"}),l.jsx("p",{children:"2nde  Terminale"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx(_n,{size:16})," Prparation au BAC"]}),l.jsxs("li",{children:[l.jsx(_n,{size:16})," 12 matires disponibles"]}),l.jsxs("li",{children:[l.jsx(_n,{size:16})," Annales d'examens"]})]}),l.jsxs("span",{className:"home-page__level-link",children:["Voir les cours ",l.jsx(pc,{size:16})]})]})]})]})}),l.jsx("section",{className:"home-page__features",children:l.jsxs("div",{className:"home-page__container",children:[l.jsx("h2",{className:"home-page__section-title",children:"Pourquoi choisir PedaClic ?"}),l.jsx("p",{className:"home-page__section-subtitle",children:"Des outils modernes pour une ducation de qualit"}),l.jsxs("div",{className:"home-page__features-grid",children:[l.jsxs("div",{className:"home-page__feature-card",children:[l.jsx("div",{className:"home-page__feature-icon",children:l.jsx(Pr,{size:28})}),l.jsx("h3",{children:"Cours complets"}),l.jsx("p",{children:"Des cours structurs et conformes au programme sngalais, rdigs par des enseignants expriments."})]}),l.jsxs("div",{className:"home-page__feature-card",children:[l.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--secondary",children:l.jsx(u3,{size:28})}),l.jsx("h3",{children:"Quiz interactifs"}),l.jsx("p",{children:"Testez vos connaissances avec des quiz adapts  chaque niveau et obtenez un feedback instantan."})]}),l.jsxs("div",{className:"home-page__feature-card",children:[l.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--warning",children:l.jsx(c3,{size:28})}),l.jsx("h3",{children:"Suivi de progression"}),l.jsx("p",{children:"Visualisez vos progrs et identifiez vos points faibles pour cibler vos rvisions."})]}),l.jsxs("div",{className:"home-page__feature-card",children:[l.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--success",children:l.jsx(tA,{size:28})}),l.jsx("h3",{children:"Contenu vrifi"}),l.jsx("p",{children:"Tous nos contenus sont valids par des professeurs certifis pour garantir leur qualit."})]}),l.jsxs("div",{className:"home-page__feature-card",children:[l.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--info",children:l.jsx(wl,{size:28})}),l.jsx("h3",{children:"Accessible 24/7"}),l.jsx("p",{children:"tudiez  votre rythme, o que vous soyez, sur ordinateur, tablette ou smartphone."})]}),l.jsxs("div",{className:"home-page__feature-card",children:[l.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--premium",children:l.jsx(Wa,{size:28})}),l.jsx("h3",{children:"Certificats"}),l.jsx("p",{children:"Obtenez des certificats de russite pour valoriser vos comptences acquises."})]})]})]})}),l.jsx("section",{className:"home-page__premium",children:l.jsx("div",{className:"home-page__container",children:l.jsxs("div",{className:"home-page__premium-content",children:[l.jsxs("div",{className:"home-page__premium-text",children:[l.jsx("span",{className:"home-page__premium-badge",children:" Premium"}),l.jsx("h2",{children:"Passez  la vitesse suprieure"}),l.jsxs("p",{children:["Accdez  tous les quiz, exercices corrigs et ressources exclusives pour seulement ",l.jsx("strong",{children:"2 000 FCFA/mois"}),"."]}),l.jsxs("ul",{className:"home-page__premium-features",children:[l.jsxs("li",{children:[l.jsx(_n,{size:18})," Quiz illimits dans toutes les matires"]}),l.jsxs("li",{children:[l.jsx(_n,{size:18})," Corrections dtailles des exercices"]}),l.jsxs("li",{children:[l.jsx(_n,{size:18})," Annales des examens (BFEM, BAC)"]}),l.jsxs("li",{children:[l.jsx(_n,{size:18})," Support prioritaire"]})]}),l.jsxs(We,{to:"/premium",className:"home-page__btn home-page__btn--premium",children:["Dcouvrir Premium",l.jsx(pc,{size:20})]})]}),l.jsx("div",{className:"home-page__premium-pricing",children:l.jsxs("div",{className:"home-page__pricing-card",children:[l.jsx("span",{className:"home-page__pricing-popular",children:"Plus populaire"}),l.jsx("h3",{children:"Abonnement Annuel"}),l.jsxs("div",{className:"home-page__pricing-price",children:[l.jsx("span",{className:"home-page__pricing-amount",children:"20 000"}),l.jsx("span",{className:"home-page__pricing-currency",children:"FCFA"}),l.jsx("span",{className:"home-page__pricing-period",children:"/an"})]}),l.jsx("p",{className:"home-page__pricing-save",children:"conomisez 4 000 FCFA vs mensuel"}),l.jsx(We,{to:"/premium",className:"home-page__btn home-page__btn--primary home-page__btn--block",children:"Choisir ce plan"})]})})]})})}),l.jsx("section",{className:"home-page__testimonials",children:l.jsxs("div",{className:"home-page__container",children:[l.jsx("h2",{className:"home-page__section-title",children:"Ce qu'en disent nos lves"}),l.jsxs("div",{className:"home-page__testimonials-grid",children:[l.jsxs("div",{className:"home-page__testimonial-card",children:[l.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>l.jsx(vi,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),l.jsx("p",{className:"home-page__testimonial-text",children:`"Grce  PedaClic, j'ai obtenu mon BFEM avec mention. Les quiz m'ont vraiment aid  me prparer !"`}),l.jsxs("div",{className:"home-page__testimonial-author",children:[l.jsx("div",{className:"home-page__testimonial-avatar",children:"FA"}),l.jsxs("div",{children:[l.jsx("strong",{children:"Fatou Adara"}),l.jsx("span",{children:"lve en 3me - Dakar"})]})]})]}),l.jsxs("div",{className:"home-page__testimonial-card",children:[l.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>l.jsx(vi,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),l.jsx("p",{className:"home-page__testimonial-text",children:`"Les cours de maths sont trs bien expliqus. J'ai enfin compris les quations du second degr !"`}),l.jsxs("div",{className:"home-page__testimonial-author",children:[l.jsx("div",{className:"home-page__testimonial-avatar",children:"MD"}),l.jsxs("div",{children:[l.jsx("strong",{children:"Moussa Diallo"}),l.jsx("span",{children:"lve en Terminale S - This"})]})]})]}),l.jsxs("div",{className:"home-page__testimonial-card",children:[l.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>l.jsx(vi,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),l.jsx("p",{className:"home-page__testimonial-text",children:`"Je recommande PedaClic  tous les parents. Ma fille a beaucoup progress depuis qu'elle l'utilise."`}),l.jsxs("div",{className:"home-page__testimonial-author",children:[l.jsx("div",{className:"home-page__testimonial-avatar",children:"AN"}),l.jsxs("div",{children:[l.jsx("strong",{children:"Aminata Ndiaye"}),l.jsx("span",{children:"Parent d'lve - Saint-Louis"})]})]})]})]})]})}),l.jsx("section",{className:"home-page__final-cta",children:l.jsxs("div",{className:"home-page__container",children:[l.jsx("h2",{children:"Prt  russir ?"}),l.jsx("p",{children:"Rejoignez les milliers d'lves qui font confiance  PedaClic"}),!t&&l.jsxs(We,{to:"/register",className:"home-page__btn home-page__btn--large",children:["Crer mon compte gratuit",l.jsx(pc,{size:24})]})]})})]})},OX=()=>{const{login:t}=wi(),e=Zs(),r=Nl().state?.from||"/",[i,s]=_.useState({email:"",password:""}),[c,d]=_.useState(!1),[f,h]=_.useState(""),[p,g]=_.useState(!1),y=E=>{const{name:A,value:T}=E.target;s(k=>({...k,[A]:T})),f&&h("")},w=()=>i.email.trim()?i.password?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)?!0:(h("Veuillez entrer une adresse email valide."),!1):(h("Veuillez entrer votre mot de passe."),!1):(h("Veuillez entrer votre adresse email."),!1),j=async E=>{if(E.preventDefault(),!!w()){d(!0),h("");try{await t(i.email,i.password),e(r,{replace:!0})}catch(A){A instanceof Error?h(A.message):h("Une erreur est survenue lors de la connexion.")}finally{d(!1)}}};return l.jsx("div",{className:"auth-page",children:l.jsxs("div",{className:"auth-container",children:[l.jsxs("div",{className:"auth-card",children:[l.jsxs("div",{className:"auth-header",children:[l.jsxs(We,{to:"/",className:"auth-logo",children:[l.jsx("div",{className:"auth-logo__icon",children:l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),l.jsx("span",{children:"PedaClic"})]}),l.jsx("h1",{className:"auth-title",children:"Connexion"}),l.jsx("p",{className:"auth-subtitle",children:"Accdez  votre espace d'apprentissage"})]}),f&&l.jsxs("div",{className:"auth-error",children:[l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("path",{d:"M12 8v4M12 16h.01"})]}),l.jsx("span",{children:f})]}),l.jsxs("form",{onSubmit:j,className:"auth-form",children:[l.jsxs("div",{className:"auth-field",children:[l.jsx("label",{htmlFor:"email",className:"auth-label",children:"Adresse email"}),l.jsxs("div",{className:"auth-input-wrapper",children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),l.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:y,placeholder:"exemple@email.com",className:"auth-input",autoComplete:"email",disabled:c})]})]}),l.jsxs("div",{className:"auth-field",children:[l.jsx("label",{htmlFor:"password",className:"auth-label",children:"Mot de passe"}),l.jsxs("div",{className:"auth-input-wrapper",children:[l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:[l.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",strokeWidth:"2"}),l.jsx("path",{strokeWidth:"2",d:"M7 11V7a5 5 0 0110 0v4"})]}),l.jsx("input",{type:p?"text":"password",id:"password",name:"password",value:i.password,onChange:y,placeholder:"Votre mot de passe",className:"auth-input",autoComplete:"current-password",disabled:c}),l.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>g(!p),"aria-label":p?"Masquer le mot de passe":"Afficher le mot de passe",children:p?l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),l.jsx("div",{className:"auth-forgot",children:l.jsx(We,{to:"/mot-de-passe-oublie",className:"auth-forgot-link",children:"Mot de passe oubli ?"})}),l.jsx("button",{type:"submit",className:"auth-button",disabled:c,children:c?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"auth-button-spinner"}),"Connexion en cours..."]}):"Se connecter"})]}),l.jsx("div",{className:"auth-divider",children:l.jsx("span",{children:"ou"})}),l.jsxs("p",{className:"auth-switch",children:["Pas encore de compte ?"," ",l.jsx(We,{to:"/inscription",className:"auth-switch-link",children:"Crer un compte"})]})]}),l.jsxs("div",{className:"auth-welcome",children:[l.jsx("h2",{children:"Bienvenue sur PedaClic !"}),l.jsx("p",{children:"L'cole en un clic - Accdez  des milliers de cours, exercices et quiz."}),l.jsxs("ul",{className:"auth-features",children:[l.jsxs("li",{children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Cours du programme sngalais"]}),l.jsxs("li",{children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Exercices interactifs"]}),l.jsxs("li",{children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quiz pour tester vos connaissances"]}),l.jsxs("li",{children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Suivi de progression"]})]})]})]})})},IX=()=>{const{register:t}=wi(),e=Zs(),[n,r]=_.useState({email:"",password:"",confirmPassword:"",displayName:"",role:"eleve"}),[i,s]=_.useState(!1),[c,d]=_.useState(""),[f,h]=_.useState(!1),[p,g]=_.useState(!1),[y,w]=_.useState(!1),j=T=>{const{name:k,value:I}=T.target;r(R=>({...R,[k]:I})),c&&d("")},E=()=>n.displayName.trim()?n.displayName.trim().length<2?(d("Le nom doit contenir au moins 2 caractres."),!1):n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?n.password?n.password.length<6?(d("Le mot de passe doit contenir au moins 6 caractres."),!1):n.password!==n.confirmPassword?(d("Les mots de passe ne correspondent pas."),!1):y?!0:(d("Veuillez accepter les conditions d'utilisation."),!1):(d("Veuillez entrer un mot de passe."),!1):(d("Veuillez entrer une adresse email valide."),!1):(d("Veuillez entrer votre adresse email."),!1):(d("Veuillez entrer votre nom complet."),!1),A=async T=>{if(T.preventDefault(),!!E()){s(!0),d("");try{await t(n),e("/disciplines",{replace:!0})}catch(k){k instanceof Error?d(k.message):d("Une erreur est survenue lors de l'inscription.")}finally{s(!1)}}};return l.jsx("div",{className:"auth-page",children:l.jsxs("div",{className:"auth-container",children:[l.jsxs("div",{className:"auth-card auth-card--register",children:[l.jsxs("div",{className:"auth-header",children:[l.jsxs(We,{to:"/",className:"auth-logo",children:[l.jsx("div",{className:"auth-logo__icon",children:l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),l.jsx("span",{children:"PedaClic"})]}),l.jsx("h1",{className:"auth-title",children:"Crer un compte"}),l.jsx("p",{className:"auth-subtitle",children:"Rejoignez PedaClic et commencez  apprendre"})]}),c&&l.jsxs("div",{className:"auth-error",children:[l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("path",{d:"M12 8v4M12 16h.01"})]}),l.jsx("span",{children:c})]}),l.jsxs("form",{onSubmit:A,className:"auth-form",children:[l.jsxs("div",{className:"auth-field",children:[l.jsx("label",{htmlFor:"displayName",className:"auth-label",children:"Nom complet"}),l.jsxs("div",{className:"auth-input-wrapper",children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),l.jsx("input",{type:"text",id:"displayName",name:"displayName",value:n.displayName,onChange:j,placeholder:"Amadou Diallo",className:"auth-input",autoComplete:"name",disabled:i})]})]}),l.jsxs("div",{className:"auth-field",children:[l.jsx("label",{htmlFor:"email",className:"auth-label",children:"Adresse email"}),l.jsxs("div",{className:"auth-input-wrapper",children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),l.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:j,placeholder:"exemple@email.com",className:"auth-input",autoComplete:"email",disabled:i})]})]}),l.jsxs("div",{className:"auth-field",children:[l.jsx("label",{className:"auth-label",children:"Je suis :"}),l.jsxs("div",{className:"auth-role-selector",children:[l.jsxs("label",{className:`auth-role-option ${n.role==="eleve"?"auth-role-option--selected":""}`,children:[l.jsx("input",{type:"radio",name:"role",value:"eleve",checked:n.role==="eleve",onChange:j,className:"auth-role-input",disabled:i}),l.jsxs("div",{className:"auth-role-content",children:[l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l9-5-9-5-9 5 9 5z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"})]}),l.jsx("span",{children:"lve"})]})]}),l.jsxs("label",{className:`auth-role-option ${n.role==="prof"?"auth-role-option--selected":""}`,children:[l.jsx("input",{type:"radio",name:"role",value:"prof",checked:n.role==="prof",onChange:j,className:"auth-role-input",disabled:i}),l.jsxs("div",{className:"auth-role-content",children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),l.jsx("span",{children:"Professeur"})]})]})]})]}),l.jsxs("div",{className:"auth-field",children:[l.jsx("label",{htmlFor:"password",className:"auth-label",children:"Mot de passe"}),l.jsxs("div",{className:"auth-input-wrapper",children:[l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:[l.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",strokeWidth:"2"}),l.jsx("path",{strokeWidth:"2",d:"M7 11V7a5 5 0 0110 0v4"})]}),l.jsx("input",{type:f?"text":"password",id:"password",name:"password",value:n.password,onChange:j,placeholder:"Minimum 6 caractres",className:"auth-input",autoComplete:"new-password",disabled:i}),l.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>h(!f),"aria-label":f?"Masquer":"Afficher",children:f?l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),l.jsx("p",{className:"auth-hint",children:"Au moins 6 caractres avec des lettres et des chiffres"})]}),l.jsxs("div",{className:"auth-field",children:[l.jsx("label",{htmlFor:"confirmPassword",className:"auth-label",children:"Confirmer le mot de passe"}),l.jsxs("div",{className:"auth-input-wrapper",children:[l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),l.jsx("input",{type:p?"text":"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:j,placeholder:"Retapez votre mot de passe",className:"auth-input",autoComplete:"new-password",disabled:i}),l.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>g(!p),"aria-label":p?"Masquer":"Afficher",children:p?l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),l.jsx("div",{className:"auth-checkbox-field",children:l.jsxs("label",{className:"auth-checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:y,onChange:T=>w(T.target.checked),className:"auth-checkbox",disabled:i}),l.jsx("span",{className:"auth-checkbox-custom"}),l.jsxs("span",{children:["J'accepte les"," ",l.jsx(We,{to:"/cgu",target:"_blank",className:"auth-link",children:"conditions d'utilisation"})," ","et la"," ",l.jsx(We,{to:"/confidentialite",target:"_blank",className:"auth-link",children:"politique de confidentialit"})]})]})}),l.jsx("button",{type:"submit",className:"auth-button",disabled:i,children:i?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"auth-button-spinner"}),"Cration du compte..."]}):"Crer mon compte"})]}),l.jsx("div",{className:"auth-divider",children:l.jsx("span",{children:"ou"})}),l.jsxs("p",{className:"auth-switch",children:["Dj un compte ?"," ",l.jsx(We,{to:"/connexion",className:"auth-switch-link",children:"Se connecter"})]})]}),l.jsxs("div",{className:"auth-welcome auth-welcome--register",children:[l.jsx("h2",{children:"Rejoignez la communaut PedaClic"}),l.jsx("p",{children:"Des milliers d'lves et professeurs sngalais nous font dj confiance."}),l.jsxs("div",{className:"auth-stats",children:[l.jsxs("div",{className:"auth-stat",children:[l.jsx("span",{className:"auth-stat-number",children:"10 000+"}),l.jsx("span",{className:"auth-stat-label",children:"lves inscrits"})]}),l.jsxs("div",{className:"auth-stat",children:[l.jsx("span",{className:"auth-stat-number",children:"500+"}),l.jsx("span",{className:"auth-stat-label",children:"Cours disponibles"})]}),l.jsxs("div",{className:"auth-stat",children:[l.jsx("span",{className:"auth-stat-number",children:"95%"}),l.jsx("span",{className:"auth-stat-label",children:"Taux de satisfaction"})]})]}),l.jsxs("div",{className:"auth-testimonial",children:[l.jsx("p",{className:"auth-testimonial-text",children:`"Grce  PedaClic, j'ai amlior mes notes en mathmatiques de 4 points !"`}),l.jsx("p",{className:"auth-testimonial-author",children:" Fatou N., lve de 3me  Dakar"})]})]})]})})},RX=()=>{const[t,e]=_.useState([]),[n,r]=_.useState([]),[i,s]=_.useState(!0),[c,d]=_.useState(null),[f,h]=_.useState("tous"),[p,g]=_.useState("");_.useEffect(()=>{(async()=>{try{s(!0);const j=Zr(hr(Ge,"disciplines"),ha("ordre","asc")),A=(await Jr(j)).docs.map(T=>({id:T.id,...T.data()}));e(A),r(A),d(null)}catch(j){console.error("Erreur chargement disciplines:",j),d("Impossible de charger les disciplines. Veuillez ressayer.")}finally{s(!1)}})()},[]),_.useEffect(()=>{let w=t;if(f!=="tous"&&(w=w.filter(j=>j.niveau===f)),p.trim()){const j=p.toLowerCase();w=w.filter(E=>E.nom.toLowerCase().includes(j)||E.description.toLowerCase().includes(j)||E.classe.toLowerCase().includes(j))}r(w)},[t,f,p]);const y={tous:t.length,college:t.filter(w=>w.niveau==="college").length,lycee:t.filter(w=>w.niveau==="lycee").length};return i?l.jsx("div",{style:$e.container,children:l.jsxs("div",{style:$e.loadingContainer,children:[l.jsx("div",{style:$e.spinner}),l.jsx("p",{style:$e.loadingText,children:"Chargement des disciplines..."})]})}):c?l.jsx("div",{style:$e.container,children:l.jsxs("div",{style:$e.errorContainer,children:[l.jsx("span",{style:$e.errorIcon,children:""}),l.jsx("h2",{style:$e.errorTitle,children:"Erreur"}),l.jsx("p",{style:$e.errorText,children:c}),l.jsx("button",{onClick:()=>window.location.reload(),style:$e.retryButton,children:" Ressayer"})]})}):l.jsxs("div",{style:$e.container,children:[l.jsx("header",{style:$e.header,children:l.jsxs("div",{style:$e.headerContent,children:[l.jsx(We,{to:"/",style:$e.backLink,children:" Accueil"}),l.jsx("h1",{style:$e.title,children:" Nos Disciplines"}),l.jsx("p",{style:$e.subtitle,children:"Dcouvrez toutes les matires disponibles sur PedaClic, de la 6me  la Terminale."})]})}),l.jsx("div",{style:$e.filtersSection,children:l.jsxs("div",{style:$e.filtersContainer,children:[l.jsxs("div",{style:$e.searchBox,children:[l.jsx("span",{style:$e.searchIcon,children:""}),l.jsx("input",{type:"text",placeholder:"Rechercher une discipline...",value:p,onChange:w=>g(w.target.value),style:$e.searchInput}),p&&l.jsx("button",{onClick:()=>g(""),style:$e.clearSearch,children:""})]}),l.jsxs("div",{style:$e.niveauFilters,children:[l.jsxs("button",{onClick:()=>h("tous"),style:{...$e.filterButton,...f==="tous"?$e.filterButtonActive:{}},children:[" Tous (",y.tous,")"]}),l.jsxs("button",{onClick:()=>h("college"),style:{...$e.filterButton,...f==="college"?$e.filterButtonActive:{}},children:[" Collge (",y.college,")"]}),l.jsxs("button",{onClick:()=>h("lycee"),style:{...$e.filterButton,...f==="lycee"?$e.filterButtonActive:{}},children:[" Lyce (",y.lycee,")"]})]})]})}),l.jsx("main",{style:$e.main,children:n.length===0?l.jsxs("div",{style:$e.emptyState,children:[l.jsx("span",{style:$e.emptyIcon,children:""}),l.jsx("h3",{style:$e.emptyTitle,children:"Aucune discipline trouve"}),l.jsx("p",{style:$e.emptyText,children:"Essayez de modifier vos critres de recherche."}),l.jsx("button",{onClick:()=>{h("tous"),g("")},style:$e.resetButton,children:"Rinitialiser les filtres"})]}):l.jsx("div",{style:$e.grid,children:n.map(w=>l.jsx(kX,{discipline:w},w.id))})}),l.jsxs("footer",{style:$e.footer,children:[l.jsx("p",{children:" PedaClic - L'cole en un clic"}),l.jsxs("p",{style:$e.footerSubtext,children:[t.length," disciplines disponibles  6me  Terminale"]})]})]})},kX=({discipline:t})=>{const e=t.niveau==="college"?"Collge":"Lyce",n=t.niveau==="college"?"":"";return l.jsxs(We,{to:`/disciplines/${t.id}`,style:$e.card,className:"discipline-card",children:[l.jsx("div",{style:{...$e.cardIcon,backgroundColor:t.couleur||"#2563eb"},children:l.jsx("span",{style:$e.cardEmoji,children:t.icone||""})}),l.jsxs("div",{style:$e.cardContent,children:[l.jsx("h3",{style:$e.cardTitle,children:t.nom}),l.jsxs("div",{style:$e.cardMeta,children:[l.jsxs("span",{style:$e.cardBadge,children:[n," ",e]}),l.jsxs("span",{style:$e.cardBadge,children:[" ",t.classe]}),l.jsxs("span",{style:$e.cardBadge,children:[" Coef. ",t.coefficient]})]}),l.jsx("p",{style:$e.cardDescription,children:t.description})]}),l.jsx("div",{style:$e.cardArrow,children:""})]})},$e={container:{minHeight:"100vh",backgroundColor:"#f3f4f6",fontFamily:"system-ui, -apple-system, sans-serif"},header:{background:"linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%)",color:"white",padding:"2rem 1rem 3rem"},headerContent:{maxWidth:"1200px",margin:"0 auto"},backLink:{color:"rgba(255,255,255,0.8)",textDecoration:"none",fontSize:"0.9rem",display:"inline-block",marginBottom:"1rem"},title:{fontSize:"2.5rem",fontWeight:"700",margin:"0 0 0.5rem 0"},subtitle:{fontSize:"1.1rem",opacity:.9,margin:0,maxWidth:"600px"},filtersSection:{backgroundColor:"white",borderBottom:"1px solid #e5e7eb",padding:"1rem",position:"sticky",top:0,zIndex:10,boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},filtersContainer:{maxWidth:"1200px",margin:"0 auto",display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"center",justifyContent:"space-between"},searchBox:{display:"flex",alignItems:"center",backgroundColor:"#f3f4f6",borderRadius:"8px",padding:"0.5rem 1rem",flex:"1",maxWidth:"400px",minWidth:"200px"},searchIcon:{marginRight:"0.5rem",fontSize:"1rem"},searchInput:{border:"none",background:"transparent",flex:1,fontSize:"1rem",outline:"none"},clearSearch:{background:"none",border:"none",cursor:"pointer",color:"#6b7280",fontSize:"1rem",padding:"0 0.25rem"},niveauFilters:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},filterButton:{padding:"0.5rem 1rem",borderRadius:"20px",border:"1px solid #e5e7eb",backgroundColor:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.2s",color:"#374151"},filterButtonActive:{backgroundColor:"#2563eb",borderColor:"#2563eb",color:"white"},main:{maxWidth:"1200px",margin:"0 auto",padding:"2rem 1rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"1.5rem"},card:{display:"flex",alignItems:"flex-start",gap:"1rem",backgroundColor:"white",borderRadius:"12px",padding:"1.5rem",textDecoration:"none",color:"inherit",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",transition:"all 0.2s ease",border:"1px solid #e5e7eb"},cardIcon:{width:"60px",height:"60px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},cardEmoji:{fontSize:"1.75rem"},cardContent:{flex:1,minWidth:0},cardTitle:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",margin:"0 0 0.5rem 0"},cardMeta:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"0.75rem"},cardBadge:{fontSize:"0.75rem",padding:"0.25rem 0.5rem",backgroundColor:"#f3f4f6",borderRadius:"4px",color:"#6b7280"},cardDescription:{fontSize:"0.9rem",color:"#6b7280",margin:0,lineHeight:"1.5",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},cardArrow:{color:"#9ca3af",fontSize:"1.25rem",alignSelf:"center",transition:"transform 0.2s"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh"},spinner:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTopColor:"#2563eb",borderRadius:"50%",animation:"spin 1s linear infinite"},loadingText:{marginTop:"1rem",color:"#6b7280"},errorContainer:{textAlign:"center",padding:"4rem 2rem"},errorIcon:{fontSize:"4rem"},errorTitle:{color:"#dc2626",margin:"1rem 0 0.5rem"},errorText:{color:"#6b7280",marginBottom:"1.5rem"},retryButton:{padding:"0.75rem 1.5rem",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem"},emptyState:{textAlign:"center",padding:"4rem 2rem",backgroundColor:"white",borderRadius:"12px"},emptyIcon:{fontSize:"4rem"},emptyTitle:{color:"#1f2937",margin:"1rem 0 0.5rem"},emptyText:{color:"#6b7280",marginBottom:"1.5rem"},resetButton:{padding:"0.75rem 1.5rem",backgroundColor:"#f3f4f6",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"8px",cursor:"pointer",fontSize:"1rem"},footer:{textAlign:"center",padding:"2rem",backgroundColor:"#1f2937",color:"white",marginTop:"2rem"},footerSubtext:{fontSize:"0.85rem",opacity:.7,marginTop:"0.5rem"}},DX=()=>l.jsx("style",{children:`
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .discipline-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 24px rgba(0,0,0,0.15) !important;
      border-color: #2563eb !important;
    }
    
    .discipline-card:hover .card-arrow {
      transform: translateX(4px);
    }
  `}),MX=()=>l.jsxs(l.Fragment,{children:[l.jsx(DX,{}),l.jsx(RX,{})]}),d3={cours:{icon:"",label:"Cours",color:"#2563eb",bgColor:"#dbeafe"},exercice:{icon:"",label:"Exercice",color:"#059669",bgColor:"#d1fae5"},video:{icon:"",label:"Vido",color:"#dc2626",bgColor:"#fee2e2"},document:{icon:"",label:"Document",color:"#7c3aed",bgColor:"#ede9fe"},quiz:{icon:"",label:"Quiz",color:"#ea580c",bgColor:"#ffedd5"}},zX=t=>{if(!t||t<=0)return null;if(t<60)return`${t} min`;const e=Math.floor(t/60),n=t%60;return n>0?`${e}h${n.toString().padStart(2,"0")}`:`${e}h`},IO=(t,e)=>t.length<=e?t:t.slice(0,e).trim()+"...",LX=({resource:t,compact:e=!1,onClick:n,className:r=""})=>{const i=d3[t.type],s=zX(t.dureeEstimee),c=d=>{n&&(d.preventDefault(),n(t))};return e?l.jsxs(We,{to:`/resources/${t.id}`,className:`resource-card resource-card--compact ${r}`,onClick:c,"aria-label":`${i.label}: ${t.titre}`,children:[l.jsx("span",{className:"resource-card__icon",style:{backgroundColor:i.bgColor},title:i.label,children:i.icon}),l.jsx("span",{className:"resource-card__title",children:IO(t.titre,50)}),l.jsx("span",{className:`resource-card__badge ${t.isPremium?"resource-card__badge--premium":"resource-card__badge--free"}`,children:t.isPremium?"":""})]}):l.jsxs(We,{to:`/resources/${t.id}`,className:`resource-card ${r}`,onClick:c,"aria-label":`${i.label}: ${t.titre}`,children:[l.jsxs("div",{className:"resource-card__header",children:[l.jsx("div",{className:"resource-card__type-icon",style:{backgroundColor:i.bgColor},children:i.icon}),l.jsx("span",{className:"resource-card__type-badge",style:{color:i.color,backgroundColor:i.bgColor},children:i.label}),l.jsx("div",{className:"resource-card__spacer"}),l.jsx("span",{className:`resource-card__status ${t.isPremium?"resource-card__status--premium":"resource-card__status--free"}`,children:t.isPremium?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"resource-card__status-icon",children:""}),l.jsx("span",{children:"Premium"})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"resource-card__status-icon",children:""}),l.jsx("span",{children:"Gratuit"})]})})]}),l.jsxs("div",{className:"resource-card__content",children:[l.jsx("h4",{className:"resource-card__title",children:t.titre}),t.description&&l.jsx("p",{className:"resource-card__description",children:IO(t.description,120)})]}),l.jsxs("div",{className:"resource-card__footer",children:[s&&l.jsxs("span",{className:"resource-card__meta",children:[l.jsx("span",{className:"resource-card__meta-icon",children:""}),s]}),t.tags&&t.tags.length>0&&l.jsxs("div",{className:"resource-card__tags",children:[t.tags.slice(0,3).map((d,f)=>l.jsx("span",{className:"resource-card__tag",children:d},f)),t.tags.length>3&&l.jsxs("span",{className:"resource-card__tag resource-card__tag--more",children:["+",t.tags.length-3]})]}),t.fichierURL&&l.jsx("span",{className:"resource-card__file-indicator",title:"Fichier attach",children:""}),l.jsx("span",{className:"resource-card__arrow",children:""})]})]})},VX=t=>{const e={total:t.length,premium:0,gratuit:0,parType:{cours:0,exercice:0,video:0,document:0,quiz:0}};return t.forEach(n=>{n.isPremium?e.premium++:e.gratuit++,e.parType.hasOwnProperty(n.type)&&e.parType[n.type]++}),e},UX=t=>{const e={cours:1,exercice:2,video:3,document:4,quiz:5};return[...t].sort((n,r)=>n.ordre!==r.ordre?n.ordre-r.ordre:e[n.type]-e[r.type])},qX=({chapterName:t,chapterNumber:e,resources:n,isExpanded:r,onToggle:i,className:s=""})=>{const c=_.useMemo(()=>VX(n),[n]),d=_.useMemo(()=>UX(n),[n]),f=_.useMemo(()=>["cours","exercice","video","document","quiz"].filter(g=>c.parType[g]>0).map(g=>({type:g,count:c.parType[g],config:d3[g]})),[c]),h=c.premium>0;return l.jsxs("div",{className:`chapter-card ${r?"chapter-card--expanded":""} ${s}`,children:[l.jsxs("button",{type:"button",className:"chapter-card__header",onClick:i,"aria-expanded":r,"aria-controls":`chapter-content-${e}`,children:[l.jsx("div",{className:"chapter-card__number",children:l.jsx("span",{children:e})}),l.jsxs("div",{className:"chapter-card__info",children:[l.jsx("h3",{className:"chapter-card__title",children:t}),l.jsx("div",{className:"chapter-card__type-summary",children:f.map(({type:p,count:g,config:y})=>l.jsxs("span",{className:"chapter-card__type-count",title:`${g} ${y.label.toLowerCase()}${g>1?"s":""}`,children:[l.jsx("span",{className:"chapter-card__type-icon",children:y.icon}),l.jsx("span",{children:g})]},p))})]}),l.jsxs("div",{className:"chapter-card__badges",children:[l.jsxs("span",{className:"chapter-card__count-badge",children:[c.total," ressource",c.total>1?"s":""]}),h&&l.jsxs("span",{className:"chapter-card__premium-badge",title:`${c.premium} contenu(s) premium`,children:[" ",c.premium]})]}),l.jsx("div",{className:`chapter-card__chevron ${r?"chapter-card__chevron--open":""}`,children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),l.jsxs("div",{id:`chapter-content-${e}`,className:`chapter-card__content ${r?"chapter-card__content--visible":""}`,"aria-hidden":!r,children:[l.jsxs("div",{className:"chapter-card__progress",children:[l.jsx("div",{className:"chapter-card__progress-bar",children:l.jsx("div",{className:"chapter-card__progress-fill",style:{width:"0%"}})}),l.jsxs("span",{className:"chapter-card__progress-text",children:["0/",c.total," termin",c.total>1?"s":""]})]}),l.jsx("div",{className:"chapter-card__resources",children:d.length>0?d.map(p=>l.jsx(LX,{resource:p,className:"chapter-card__resource"},p.id)):l.jsxs("div",{className:"chapter-card__empty",children:[l.jsx("span",{className:"chapter-card__empty-icon",children:""}),l.jsx("p",{children:"Aucune ressource dans ce chapitre"})]})}),l.jsxs("div",{className:"chapter-card__stats",children:[l.jsxs("div",{className:"chapter-card__stat",children:[l.jsx("span",{className:"chapter-card__stat-value",children:c.total}),l.jsx("span",{className:"chapter-card__stat-label",children:"Total"})]}),l.jsxs("div",{className:"chapter-card__stat",children:[l.jsx("span",{className:"chapter-card__stat-value chapter-card__stat-value--premium",children:c.premium}),l.jsx("span",{className:"chapter-card__stat-label",children:"Premium"})]}),l.jsxs("div",{className:"chapter-card__stat",children:[l.jsx("span",{className:"chapter-card__stat-value chapter-card__stat-value--free",children:c.gratuit}),l.jsx("span",{className:"chapter-card__stat-label",children:"Gratuit"})]})]})]})]})},Ax=()=>l.jsx("div",{className:"chapter-card chapter-card--skeleton",children:l.jsxs("div",{className:"chapter-card__header",children:[l.jsx("div",{className:"skeleton skeleton--number"}),l.jsxs("div",{className:"chapter-card__info",children:[l.jsx("div",{className:"skeleton skeleton--title",style:{width:"60%"}}),l.jsx("div",{className:"skeleton skeleton--meta",style:{width:"40%"}})]}),l.jsx("div",{className:"skeleton skeleton--badge",style:{width:"100px"}}),l.jsx("div",{className:"skeleton skeleton--chevron"})]})}),BX="modulepreload",$X=function(t){return"/"+t},RO={},zv=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let h=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var c=h;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");i=h(n.map(p=>{if(p=$X(p),p in RO)return;RO[p]=!0;const g=p.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":BX,g||(w.as="script"),w.crossOrigin="",w.href=p,f&&w.setAttribute("nonce",f),document.head.appendChild(w),g)return new Promise((j,E)=>{w.addEventListener("load",j),w.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${p}`)))})}))}function s(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return i.then(d=>{for(const f of d||[])f.status==="rejected"&&s(f.reason);return e().catch(s)})},fc="ressources",FX="ressources",kO=t=>{const e=t.data();return{id:t.id,disciplineId:e.disciplineId,titre:e.titre,type:e.type,contenu:e.contenu,description:e.description,isPremium:e.isPremium||!1,ordre:e.ordre||0,chapitre:e.chapitre,fichierURL:e.fichierURL,dureeEstimee:e.dureeEstimee,tags:e.tags||[],auteurId:e.auteurId,createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()}},HX=t=>{const e=Date.now(),n=t.split(".").pop();return`${t.replace(/\.[^/.]+$/,"").replace(/[^a-zA-Z0-9]/g,"_")}_${e}.${n}`},Ko={async getAll(t,e){try{const n=[ha("ordre","asc")];t?.disciplineId&&n.unshift(hi("disciplineId","==",t.disciplineId)),t?.chapitreId&&n.unshift(hi("chapitre","==",t.chapitreId)),t?.type&&n.unshift(hi("type","==",t.type)),t?.isPremium!==void 0&&n.unshift(hi("isPremium","==",t.isPremium)),t?.auteurId&&n.unshift(hi("auteurId","==",t.auteurId)),e&&n.push(Hj(e));const r=Zr(hr(Ge,fc),...n);return(await Jr(r)).docs.map(kO)}catch(n){throw console.error("Erreur lors de la rcupration des ressources:",n),new Error("Impossible de rcuprer les ressources")}},async getById(t){try{const e=Ut(Ge,fc,t),n=await xl(e);return n.exists()?kO(n):null}catch(e){throw console.error("Erreur lors de la rcupration de la ressource:",e),new Error("Impossible de rcuprer la ressource")}},async getByDiscipline(t){return this.getAll({disciplineId:t})},async getByChapitre(t){return this.getAll({chapitreId:t})},async getByType(t){return this.getAll({type:t})},async getPremium(){return this.getAll({isPremium:!0})},async getFree(){return this.getAll({isPremium:!1})},async create(t,e){try{return(await au(hr(Ge,fc),{...t,auteurId:e,createdAt:kn(),updatedAt:kn()})).id}catch(n){throw console.error("Erreur lors de la cration de la ressource:",n),new Error("Impossible de crer la ressource")}},async update(t,e){try{const n=Ut(Ge,fc,t);await $i(n,{...e,updatedAt:kn()})}catch(n){throw console.error("Erreur lors de la mise  jour de la ressource:",n),new Error("Impossible de mettre  jour la ressource")}},async delete(t){try{const e=await this.getById(t);e?.fichierURL&&await this.deleteFile(e.fichierURL);const n=Ut(Ge,fc,t);await Om(n)}catch(e){throw console.error("Erreur lors de la suppression de la ressource:",e),new Error("Impossible de supprimer la ressource")}},async deleteByDiscipline(t){try{const e=await this.getByDiscipline(t),n=Qh(Ge);for(const r of e){r.fichierURL&&await this.deleteFile(r.fichierURL);const i=Ut(Ge,fc,r.id);n.delete(i)}await n.commit()}catch(e){throw console.error("Erreur lors de la suppression des ressources:",e),new Error("Impossible de supprimer les ressources")}},async uploadFile(t,e){try{const n=HX(t.name),r=`${FX}/${e}/${n}`,i=AO(Uw,r);return await UQ(i,t),await qQ(i)}catch(n){throw console.error("Erreur lors de l'upload du fichier:",n),new Error("Impossible d'uploader le fichier")}},async deleteFile(t){try{const e=AO(Uw,t);await BQ(e)}catch(e){console.warn("Fichier non trouv ou dj supprim:",e)}},async reorder(t,e){try{const n=Qh(Ge);e.forEach((r,i)=>{const s=Ut(Ge,fc,r);n.update(s,{ordre:i+1,updatedAt:kn()})}),await n.commit()}catch(n){throw console.error("Erreur lors de la rorganisation des ressources:",n),new Error("Impossible de rorganiser les ressources")}},async togglePremium(t,e){await this.update(t,{isPremium:e})},async countByType(t){return(await this.getByType(t)).length},async getStats(){try{const t=await this.getAll(),e={total:t.length,premium:t.filter(n=>n.isPremium).length,gratuit:t.filter(n=>!n.isPremium).length,parType:{cours:0,exercice:0,video:0,document:0,quiz:0}};return t.forEach(n=>{e.parType[n.type]!==void 0&&e.parType[n.type]++}),e}catch(t){throw console.error("Erreur lors du calcul des statistiques:",t),new Error("Impossible de calculer les statistiques")}}},KX=async t=>{const{collection:e,query:n,where:r,getDocs:i,orderBy:s}=await zv(async()=>{const{collection:h,query:p,where:g,getDocs:y,orderBy:w}=await Promise.resolve().then(()=>qL);return{collection:h,query:p,where:g,getDocs:y,orderBy:w}},void 0),{db:c}=await zv(async()=>{const{db:h}=await Promise.resolve().then(()=>i3);return{db:h}},void 0),d=n(e(c,"ressources"),r("chapitreId","==",t),s("ordre","asc"));return(await i(d)).docs.map(h=>({id:h.id,...h.data()}))},GX=async t=>{const{collection:e,query:n,where:r,getDocs:i}=await zv(async()=>{const{collection:f,query:h,where:p,getDocs:g}=await Promise.resolve().then(()=>qL);return{collection:f,query:h,where:p,getDocs:g}},void 0),{db:s}=await zv(async()=>{const{db:f}=await Promise.resolve().then(()=>i3);return{db:f}},void 0),c=n(e(s,"ressources"),r("disciplineId","==",t));return(await i(c)).size},DO=[{value:"all",label:"Tous",icon:""},{value:"cours",label:"Cours",icon:""},{value:"exercice",label:"Exercices",icon:""},{value:"video",label:"Vidos",icon:""},{value:"document",label:"Documents",icon:""},{value:"quiz",label:"Quiz",icon:""}],WX={college:"Collge",lycee:"Lyce"},QX={"6eme":"6me","5eme":"5me","4eme":"4me","3eme":"3me","2nde":"Seconde","1ere":"Premire",Terminale:"Terminale"},YX=()=>{const{id:t}=t4(),[e,n]=_.useState(null),[r,i]=_.useState(new Map),[s,c]=_.useState(null),[d,f]=_.useState(new Set),[h,p]=_.useState("all"),[g,y]=_.useState(!0),[w,j]=_.useState(null);_.useEffect(()=>{(async()=>{if(!t){j("ID de discipline manquant"),y(!1);return}y(!0),j(null);try{const O=Ut(Ge,"disciplines",t),P=await xl(O);if(!P.exists()){j("Discipline non trouve"),y(!1);return}const D=P.data(),B={id:P.id,nom:D.nom,niveau:D.niveau,classe:D.classe,ordre:D.ordre||0,coefficient:D.coefficient,couleur:D.couleur,icone:D.icone,description:D.description,createdAt:D.createdAt?.toDate()||new Date,updatedAt:D.updatedAt?.toDate()};n(B);const U=await KX(t);if(U.success&&U.data){i(U.data);const q=Array.from(U.data.keys())[0];q&&f(new Set([q]))}const L=await GX(t);L.success&&L.data&&c(L.data)}catch(O){console.error("Erreur chargement discipline:",O),j("Erreur lors du chargement des donnes")}finally{y(!1)}})()},[t]);const E=_.useMemo(()=>{if(h==="all")return r;const M=new Map;return r.forEach((O,P)=>{const D=O.filter(B=>B.type===h);D.length>0&&M.set(P,D)}),M},[r,h]),A=_.useMemo(()=>{const M={all:0};return r.forEach(O=>{M.all+=O.length,O.forEach(P=>{M[P.type]=(M[P.type]||0)+1})}),M},[r]),T=_.useCallback(M=>{f(O=>{const P=new Set(O);return P.has(M)?P.delete(M):P.add(M),P})},[]),k=_.useCallback(()=>{const M=new Set(E.keys());f(M)},[E]),I=_.useCallback(()=>{f(new Set)},[]);if(g)return l.jsxs("div",{className:"discipline-detail",children:[l.jsx("div",{className:"discipline-detail__header discipline-detail__header--skeleton",children:l.jsxs("div",{className:"container",children:[l.jsx("div",{className:"skeleton skeleton--title",style:{width:"200px",height:"40px"}}),l.jsx("div",{className:"skeleton skeleton--text",style:{width:"300px",marginTop:"16px"}})]})}),l.jsx("div",{className:"discipline-detail__filters",children:l.jsx("div",{className:"container",children:l.jsx("div",{className:"discipline-detail__filter-bar",children:[1,2,3,4,5].map(M=>l.jsx("div",{className:"skeleton skeleton--button",style:{width:"100px",height:"40px"}},M))})})}),l.jsx("div",{className:"discipline-detail__content",children:l.jsxs("div",{className:"container",children:[l.jsx(Ax,{}),l.jsx(Ax,{}),l.jsx(Ax,{})]})})]});if(w||!e)return l.jsx("div",{className:"discipline-detail",children:l.jsx("div",{className:"discipline-detail__error",children:l.jsx("div",{className:"container",children:l.jsxs("div",{className:"error-box",children:[l.jsx("span",{className:"error-box__icon",children:""}),l.jsx("h2",{className:"error-box__title",children:w||"Discipline non trouve"}),l.jsx("p",{className:"error-box__message",children:"La discipline demande n'existe pas ou a t supprime."}),l.jsx(We,{to:"/disciplines",className:"error-box__link",children:" Retour aux disciplines"})]})})})});const R=Array.from(E.entries()),z=Array.from(r.keys()).length;return l.jsxs("div",{className:"discipline-detail",children:[l.jsx("header",{className:"discipline-detail__header",children:l.jsxs("div",{className:"container",children:[l.jsxs("nav",{className:"discipline-detail__breadcrumb","aria-label":"Fil d'ariane",children:[l.jsx(We,{to:"/",children:"Accueil"}),l.jsx("span",{className:"discipline-detail__breadcrumb-separator",children:"/"}),l.jsx(We,{to:"/disciplines",children:"Disciplines"}),l.jsx("span",{className:"discipline-detail__breadcrumb-separator",children:"/"}),l.jsx("span",{className:"discipline-detail__breadcrumb-current",children:e.nom})]}),l.jsxs("div",{className:"discipline-detail__title-section",children:[e.icone&&l.jsx("span",{className:"discipline-detail__icon",children:e.icone}),l.jsxs("div",{className:"discipline-detail__title-info",children:[l.jsx("h1",{className:"discipline-detail__title",children:e.nom}),l.jsxs("div",{className:"discipline-detail__meta",children:[l.jsx("span",{className:"discipline-detail__niveau",children:WX[e.niveau]||e.niveau}),l.jsx("span",{className:"discipline-detail__separator",children:""}),l.jsx("span",{className:"discipline-detail__classe",children:QX[e.classe]||e.classe}),e.coefficient&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"discipline-detail__separator",children:""}),l.jsxs("span",{className:"discipline-detail__coefficient",children:["Coef. ",e.coefficient]})]})]})]})]}),s&&l.jsxs("div",{className:"discipline-detail__stats",children:[l.jsxs("div",{className:"discipline-detail__stat",children:[l.jsx("span",{className:"discipline-detail__stat-value",children:z}),l.jsxs("span",{className:"discipline-detail__stat-label",children:["Chapitre",z>1?"s":""]})]}),l.jsxs("div",{className:"discipline-detail__stat",children:[l.jsx("span",{className:"discipline-detail__stat-value",children:s.total}),l.jsxs("span",{className:"discipline-detail__stat-label",children:["Ressource",s.total>1?"s":""]})]}),l.jsxs("div",{className:"discipline-detail__stat discipline-detail__stat--free",children:[l.jsx("span",{className:"discipline-detail__stat-value",children:s.gratuit}),l.jsxs("span",{className:"discipline-detail__stat-label",children:["Gratuit",s.gratuit>1?"s":""]})]}),l.jsxs("div",{className:"discipline-detail__stat discipline-detail__stat--premium",children:[l.jsx("span",{className:"discipline-detail__stat-value",children:s.premium}),l.jsx("span",{className:"discipline-detail__stat-label",children:"Premium"})]})]}),e.description&&l.jsx("p",{className:"discipline-detail__description",children:e.description})]})}),l.jsx("section",{className:"discipline-detail__filters",children:l.jsx("div",{className:"container",children:l.jsxs("div",{className:"discipline-detail__filter-bar",children:[l.jsx("div",{className:"discipline-detail__type-filters",children:DO.map(M=>{const O=A[M.value]||0,P=h===M.value,D=M.value!=="all"&&O===0;return l.jsxs("button",{type:"button",className:`discipline-detail__filter-btn ${P?"discipline-detail__filter-btn--active":""}`,onClick:()=>p(M.value),disabled:D,"aria-pressed":P,children:[l.jsx("span",{className:"discipline-detail__filter-icon",children:M.icon}),l.jsx("span",{className:"discipline-detail__filter-label",children:M.label}),l.jsx("span",{className:"discipline-detail__filter-count",children:O})]},M.value)})}),l.jsxs("div",{className:"discipline-detail__chapter-actions",children:[l.jsxs("button",{type:"button",className:"discipline-detail__expand-btn",onClick:k,title:"Tout dplier",children:[l.jsx("span",{children:""})," Tout dplier"]}),l.jsxs("button",{type:"button",className:"discipline-detail__collapse-btn",onClick:I,title:"Tout replier",children:[l.jsx("span",{children:""})," Tout replier"]})]})]})})}),l.jsx("main",{className:"discipline-detail__content",children:l.jsx("div",{className:"container",children:R.length>0?l.jsx("div",{className:"discipline-detail__chapters",children:R.map(([M,O],P)=>l.jsx(qX,{chapterName:M,chapterNumber:P+1,resources:O,isExpanded:d.has(M),onToggle:()=>T(M)},M))}):l.jsxs("div",{className:"discipline-detail__empty",children:[l.jsx("span",{className:"discipline-detail__empty-icon",children:""}),l.jsx("h3",{className:"discipline-detail__empty-title",children:h==="all"?"Aucune ressource disponible":`Aucun(e) ${DO.find(M=>M.value===h)?.label.toLowerCase()} disponible`}),l.jsx("p",{className:"discipline-detail__empty-message",children:h==="all"?"Cette discipline ne contient pas encore de ressources pdagogiques.":"Essayez de changer de filtre ou revenez plus tard."}),h!=="all"&&l.jsx("button",{type:"button",className:"discipline-detail__reset-filter",onClick:()=>p("all"),children:"Afficher toutes les ressources"})]})})}),s&&s.premium>0&&l.jsx("aside",{className:"discipline-detail__premium-banner",children:l.jsx("div",{className:"container",children:l.jsxs("div",{className:"premium-banner",children:[l.jsxs("div",{className:"premium-banner__content",children:[l.jsx("span",{className:"premium-banner__icon",children:""}),l.jsxs("div",{className:"premium-banner__text",children:[l.jsxs("strong",{children:[s.premium," ressource",s.premium>1?"s":""," Premium"]}),l.jsx("span",{children:"Accdez  tout le contenu pour seulement 2 000 FCFA/mois"})]})]}),l.jsx(We,{to:"/premium",className:"premium-banner__cta",children:"Devenir Premium"})]})})})]})},Sx=[{id:"mensuel",nom:"Mensuel",prix:2e3,duree:"1 mois"},{id:"annuel",nom:"Annuel",prix:2e4,prixOriginal:24e3,duree:"12 mois",economie:"4 000 FCFA",popular:!0}],XX=[{icone:"",titre:"Accs illimit",description:"Tous les cours de la 6me  la Terminale, sans restriction."},{icone:"",titre:"Vidos explicatives",description:"Des cours en vido par des professeurs expriments."},{icone:"",titre:"Exercices corrigs",description:"Des milliers d'exercices avec corrections dtailles."},{icone:"",titre:"Suivi de progression",description:"Tableau de bord personnel pour suivre vos rsultats."},{icone:"",titre:"Quiz interactifs",description:"Testez vos connaissances avec des quiz par matire."},{icone:"",titre:"Support prioritaire",description:"Assistance rapide pour toutes vos questions."},{icone:"",titre:"Accs mobile",description:"Apprenez partout, sur tlphone ou tablette."},{icone:"",titre:"Mises  jour",description:"Nouveaux contenus ajouts rgulirement."}],ZX=[{question:"Comment fonctionne l'abonnement Premium ?",reponse:"Une fois votre paiement effectu via Wave, Orange Money ou carte bancaire, votre compte est instantanment mis  niveau. Vous avez accs  tous les contenus Premium pendant la dure de votre abonnement."},{question:"Puis-je annuler mon abonnement ?",reponse:"Oui, vous pouvez annuler  tout moment depuis votre espace personnel. Vous conservez l'accs Premium jusqu' la fin de la priode paye."},{question:"L'abonnement se renouvelle-t-il automatiquement ?",reponse:"Non, chez PedaClic, il n'y a pas de renouvellement automatique. Vous dcidez quand renouveler votre abonnement."},{question:"Quels moyens de paiement acceptez-vous ?",reponse:"Nous acceptons Wave, Orange Money, Free Money et les cartes bancaires (Visa, Mastercard) via notre partenaire PayTech."},{question:"Puis-je partager mon compte Premium ?",reponse:"Chaque compte Premium est personnel et li  une adresse email. Le partage de compte est interdit pour garantir un suivi de progression personnalis."}],JX=()=>{const{currentUser:t}=wi(),e=Nl(),n=Zs(),[r,i]=_.useState("annuel"),[s,c]=_.useState(!1),[d,f]=_.useState(null),[h,p]=_.useState(null);e.state?.from;const g=()=>!t||!t.isPremium?!1:t.subscriptionEnd?(t.subscriptionEnd instanceof Date?t.subscriptionEnd:new Date(t.subscriptionEnd))>new Date:!0,y=async()=>{if(!t){n("/connexion",{state:{from:"/premium"}});return}if(g()){f("Vous tes dj abonn Premium !");return}try{c(!0),f(null);const E=Sx.find(R=>R.id===r);if(!E)throw new Error("Plan invalide");const A=await au(hr(Ge,"transactions"),{userId:t.uid,userEmail:t.email,planType:r,montant:E.prix,devise:"XOF",statut:"pending",dateTransaction:kn(),createdAt:kn()}),T={apiKey:"your_paytech_key",apiSecret:"demo_api_secret",item_name:`PedaClic Premium ${E.nom}`,item_price:E.prix,currency:"XOF",ref_command:A.id,success_url:`${window.location.origin}/premium/success?ref=${A.id}`,cancel_url:`${window.location.origin}/premium/cancel?ref=${A.id}`,ipn_url:"/api/paytech/ipn",custom_field:JSON.stringify({userId:t.uid,planType:r,transactionId:A.id}),env:"test"},I=await(await fetch("https://paytech.sn/api/payment/request-payment",{method:"POST",headers:{"Content-Type":"application/json",API_KEY:T.apiKey,API_SECRET:T.apiSecret},body:JSON.stringify({item_name:T.item_name,item_price:T.item_price,currency:T.currency,ref_command:T.ref_command,command_name:`Abonnement Premium ${E.nom} - ${t.email}`,env:T.env,ipn_url:T.ipn_url,success_url:T.success_url,cancel_url:T.cancel_url,custom_field:T.custom_field})})).json();if(I.success===1&&I.redirect_url)window.location.href=I.redirect_url;else{console.log("Mode dmo PayTech - Simulation de paiement");const R=new Date,z=new Date(R);r==="mensuel"?z.setMonth(z.getMonth()+1):z.setFullYear(z.getFullYear()+1),await $i(Ut(Ge,"users",t.uid),{isPremium:!0,subscriptionEnd:z,subscriptionPlan:r,updatedAt:kn()}),await $i(Ut(Ge,"transactions",A.id),{statut:"success",paytechTransactionId:"DEMO_"+Date.now(),dateExpiration:z,updatedAt:kn()}),n("/premium/success",{state:{plan:E.nom,montant:E.prix,expiration:z.toLocaleDateString("fr-FR")}})}}catch(E){console.error("Erreur paiement:",E),f("Une erreur est survenue lors du paiement. Veuillez ressayer.")}finally{c(!1)}},w=E=>{p(h===E?null:E)},j=E=>E.toLocaleString("fr-FR")+" FCFA";if(g()){const E=t?.subscriptionEnd instanceof Date?t.subscriptionEnd:new Date(t?.subscriptionEnd||Date.now());return l.jsx("div",{className:"premium-page",children:l.jsx("div",{className:"container",children:l.jsxs("div",{className:"premium-already",children:[l.jsx("span",{className:"premium-already__icon",children:""}),l.jsx("h1",{children:"Vous tes dj Premium !"}),l.jsxs("p",{children:["Votre abonnement est actif jusqu'au"," ",l.jsx("strong",{children:E.toLocaleDateString("fr-FR")})]}),l.jsxs("div",{className:"premium-already__actions",children:[l.jsx(We,{to:"/disciplines",className:"btn btn--primary",children:"Accder aux cours"}),l.jsx(We,{to:"/dashboard",className:"btn btn--outline",children:"Mon tableau de bord"})]})]})})})}return l.jsxs("div",{className:"premium-page",children:[l.jsx("section",{className:"premium-hero",children:l.jsxs("div",{className:"container",children:[l.jsx("span",{className:"premium-hero__badge",children:" Premium"}),l.jsxs("h1",{className:"premium-hero__title",children:["Dbloquez tout le potentiel de ",l.jsx("span",{children:"PedaClic"})]}),l.jsx("p",{className:"premium-hero__subtitle",children:"Accdez  tous les cours, exercices corrigs, vidos et quiz de la 6me  la Terminale. Russissez vos examens !"})]})}),l.jsx("section",{className:"premium-pricing",children:l.jsxs("div",{className:"container",children:[l.jsx("h2",{className:"section-title",children:"Choisissez votre formule"}),l.jsx("div",{className:"pricing-cards",children:Sx.map(E=>l.jsxs("div",{className:`pricing-card ${r===E.id?"pricing-card--selected":""} ${E.popular?"pricing-card--popular":""}`,onClick:()=>i(E.id),children:[E.popular&&l.jsx("span",{className:"pricing-card__badge",children:"Le plus populaire"}),l.jsxs("div",{className:"pricing-card__header",children:[l.jsx("h3",{className:"pricing-card__name",children:E.nom}),l.jsx("p",{className:"pricing-card__duration",children:E.duree})]}),l.jsxs("div",{className:"pricing-card__price",children:[E.prixOriginal&&l.jsx("span",{className:"pricing-card__original",children:j(E.prixOriginal)}),l.jsx("span",{className:"pricing-card__amount",children:j(E.prix)}),E.id==="mensuel"&&l.jsx("span",{className:"pricing-card__period",children:"/mois"})]}),E.economie&&l.jsxs("p",{className:"pricing-card__savings",children:["conomisez ",E.economie]}),l.jsx("div",{className:"pricing-card__radio",children:l.jsx("span",{className:`radio-dot ${r===E.id?"radio-dot--active":""}`})})]},E.id))}),l.jsxs("div",{className:"pricing-cta",children:[d&&l.jsxs("div",{className:"pricing-error",children:[l.jsx("span",{children:""})," ",d]}),t?l.jsx("button",{className:"btn btn--premium btn--lg",onClick:y,disabled:s,children:s?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"spinner-sm"}),"Traitement en cours..."]}):l.jsxs(l.Fragment,{children:["Payer ",j(Sx.find(E=>E.id===r)?.prix||0)]})}):l.jsxs("div",{className:"pricing-login",children:[l.jsx("p",{children:"Connectez-vous pour souscrire  Premium"}),l.jsx(We,{to:"/connexion",state:{from:"/premium"},className:"btn btn--primary btn--lg",children:"Se connecter"}),l.jsxs("p",{className:"pricing-login__register",children:["Pas encore inscrit ?"," ",l.jsx(We,{to:"/inscription",state:{from:"/premium"},children:"Crer un compte"})]})]}),l.jsxs("div",{className:"payment-methods",children:[l.jsx("p",{children:"Paiement scuris par"}),l.jsxs("div",{className:"payment-methods__logos",children:[l.jsx("span",{className:"payment-logo",children:" Orange Money"}),l.jsx("span",{className:"payment-logo",children:" Wave"}),l.jsx("span",{className:"payment-logo",children:" Free Money"}),l.jsx("span",{className:"payment-logo",children:" Carte bancaire"})]})]})]})]})}),l.jsx("section",{className:"premium-features",children:l.jsxs("div",{className:"container",children:[l.jsx("h2",{className:"section-title",children:"Tout ce que vous obtenez"}),l.jsx("p",{className:"section-subtitle",children:"Un accs complet  toutes les ressources pdagogiques"}),l.jsx("div",{className:"features-grid",children:XX.map((E,A)=>l.jsxs("div",{className:"feature-card",children:[l.jsx("span",{className:"feature-card__icon",children:E.icone}),l.jsx("h3",{className:"feature-card__title",children:E.titre}),l.jsx("p",{className:"feature-card__description",children:E.description})]},A))})]})}),l.jsx("section",{className:"premium-comparison",children:l.jsxs("div",{className:"container",children:[l.jsx("h2",{className:"section-title",children:"Gratuit vs Premium"}),l.jsxs("div",{className:"comparison-table",children:[l.jsxs("div",{className:"comparison-header",children:[l.jsx("div",{className:"comparison-feature",children:"Fonctionnalits"}),l.jsx("div",{className:"comparison-free",children:"Gratuit"}),l.jsx("div",{className:"comparison-premium",children:"Premium"})]}),[{feature:"Cours de base",free:!0,premium:!0},{feature:"Exercices avec corrections",free:!1,premium:!0},{feature:"Vidos explicatives",free:!1,premium:!0},{feature:"Quiz interactifs",free:!1,premium:!0},{feature:"Suivi de progression",free:!1,premium:!0},{feature:"Tlchargement de documents",free:!1,premium:!0},{feature:"Support prioritaire",free:!1,premium:!0},{feature:"Accs mobile optimis",free:!0,premium:!0}].map((E,A)=>l.jsxs("div",{className:"comparison-row",children:[l.jsx("div",{className:"comparison-feature",children:E.feature}),l.jsx("div",{className:"comparison-free",children:E.free?l.jsx("span",{className:"check",children:""}):l.jsx("span",{className:"cross",children:""})}),l.jsx("div",{className:"comparison-premium",children:l.jsx("span",{className:"check check--premium",children:""})})]},A))]})]})}),l.jsx("section",{className:"premium-testimonials",children:l.jsxs("div",{className:"container",children:[l.jsx("h2",{className:"section-title",children:"Ils ont choisi Premium"}),l.jsxs("div",{className:"testimonials-grid",children:[l.jsxs("div",{className:"testimonial-card",children:[l.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),l.jsx("p",{className:"testimonial-card__text",children:`"Grce  PedaClic Premium, j'ai eu 16/20 au BFEM. Les exercices corrigs m'ont beaucoup aid !"`}),l.jsxs("div",{className:"testimonial-card__author",children:[l.jsx("div",{className:"testimonial-card__avatar",children:"AN"}),l.jsxs("div",{children:[l.jsx("p",{className:"testimonial-card__name",children:"Aminata Ndiaye"}),l.jsx("p",{className:"testimonial-card__info",children:"3me - Dakar"})]})]})]}),l.jsxs("div",{className:"testimonial-card",children:[l.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),l.jsx("p",{className:"testimonial-card__text",children:'"Les vidos sont trs bien expliques. Je comprends mieux les maths maintenant. Merci PedaClic !"'}),l.jsxs("div",{className:"testimonial-card__author",children:[l.jsx("div",{className:"testimonial-card__avatar",children:"IF"}),l.jsxs("div",{children:[l.jsx("p",{className:"testimonial-card__name",children:"Ibrahima Fall"}),l.jsx("p",{className:"testimonial-card__info",children:"Terminale S - This"})]})]})]}),l.jsxs("div",{className:"testimonial-card",children:[l.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),l.jsx("p",{className:"testimonial-card__text",children:`"20 000 FCFA pour l'anne, c'est vraiment abordable. Mon fils a accs  tout ce dont il a besoin."`}),l.jsxs("div",{className:"testimonial-card__author",children:[l.jsx("div",{className:"testimonial-card__avatar",children:"FD"}),l.jsxs("div",{children:[l.jsx("p",{className:"testimonial-card__name",children:"Fatou Diop"}),l.jsx("p",{className:"testimonial-card__info",children:"Parent d'lve - Saint-Louis"})]})]})]})]})]})}),l.jsx("section",{className:"premium-faq",children:l.jsxs("div",{className:"container",children:[l.jsx("h2",{className:"section-title",children:"Questions frquentes"}),l.jsx("div",{className:"faq-list",children:ZX.map((E,A)=>l.jsxs("div",{className:`faq-item ${h===A?"faq-item--open":""}`,children:[l.jsxs("button",{className:"faq-item__question",onClick:()=>w(A),"aria-expanded":h===A,children:[l.jsx("span",{children:E.question}),l.jsx("span",{className:"faq-item__icon",children:h===A?"":"+"})]}),h===A&&l.jsx("div",{className:"faq-item__answer",children:l.jsx("p",{children:E.reponse})})]},A))})]})}),l.jsx("section",{className:"premium-cta-final",children:l.jsxs("div",{className:"container",children:[l.jsx("h2",{children:"Prt  russir vos examens ?"}),l.jsx("p",{children:"Rejoignez des milliers d'lves sngalais qui ont choisi PedaClic Premium"}),l.jsx("button",{className:"btn btn--white btn--lg",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"Commencer maintenant"})]})})]})},eZ=[{title:"Principal",items:[{id:"dashboard",label:"Tableau de bord",icon:"",href:"/admin"},{id:"disciplines",label:"Disciplines",icon:"",href:"/admin/disciplines"},{id:"chapitres",label:"Chapitres",icon:"",href:"/admin/chapitres"},{id:"ressources",label:"Ressources",icon:"",href:"/admin/ressources"}]},{title:"valuation",items:[{id:"quiz",label:"Quiz",icon:"",href:"/admin/quiz"},{id:"resultats",label:"Rsultats",icon:"",href:"/admin/resultats"}]},{title:"Utilisateurs",items:[{id:"utilisateurs",label:"Tous les utilisateurs",icon:"",href:"/admin/utilisateurs"},{id:"premium",label:"Abonns Premium",icon:"",href:"/admin/premium"}]},{title:"Paramtres",items:[{id:"settings",label:"Configuration",icon:"",href:"/admin/settings"}]}],Xu=({children:t,currentPage:e="dashboard"})=>{const{currentUser:n,logout:r}=wi(),[i,s]=_.useState(!0),[c,d]=_.useState(!1),f=async()=>{try{d(!0),await r(),window.location.href="/connexion"}catch(g){console.error("Erreur lors de la dconnexion:",g),d(!1)}},h=()=>n?.displayName?n.displayName.split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2):"AD",p=()=>{switch(n?.role){case"admin":return"Administrateur";case"prof":return"Professeur";case"eleve":return"lve";default:return"Utilisateur"}};return l.jsxs("div",{className:"admin-layout",children:[l.jsxs("aside",{className:`admin-sidebar ${i?"":"admin-sidebar--collapsed"}`,children:[l.jsx("header",{className:"admin-sidebar__header",children:l.jsxs("a",{href:"/",className:"admin-sidebar__logo",children:[l.jsx("div",{className:"admin-sidebar__logo-icon",children:""}),l.jsx("span",{children:"PedaClic"})]})}),l.jsx("nav",{className:"admin-sidebar__nav",children:eZ.map((g,y)=>l.jsxs("div",{className:"admin-nav__section",children:[l.jsx("h3",{className:"admin-nav__title",children:g.title}),l.jsx("ul",{className:"admin-nav__list",children:g.items.map(w=>l.jsx("li",{className:"admin-nav__item",children:l.jsxs("a",{href:w.href,className:`admin-nav__link ${e===w.id?"admin-nav__link--active":""}`,children:[l.jsx("span",{className:"admin-nav__icon",children:w.icon}),l.jsx("span",{className:"admin-nav__label",children:w.label})]})},w.id))})]},y))}),l.jsx("footer",{className:"admin-sidebar__footer",children:l.jsxs("div",{className:"admin-user",children:[l.jsx("div",{className:"admin-user__avatar",children:h()}),l.jsxs("div",{className:"admin-user__info",children:[l.jsx("div",{className:"admin-user__name",children:n?.displayName||"Administrateur"}),l.jsx("div",{className:"admin-user__role",children:p()})]}),l.jsx("button",{onClick:f,disabled:c,className:"admin-logout-btn",title:"Se dconnecter",children:c?"...":""})]})})]}),l.jsxs("main",{className:"admin-content",children:[l.jsx("button",{className:"admin-sidebar-toggle",onClick:()=>s(!i),"aria-label":"Toggle sidebar",children:""}),t]}),l.jsx("style",{children:`
        /* Bouton de dconnexion */
        .admin-logout-btn {
          width: 36px;
          height: 36px;
          border: none;
          background: rgba(255, 255, 255, 0.1);
          color: white;
          border-radius: var(--radius-md);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all var(--transition-base);
          font-size: var(--text-lg);
        }

        .admin-logout-btn:hover {
          background: rgba(255, 255, 255, 0.2);
        }

        .admin-logout-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        /* Bouton toggle sidebar (mobile) */
        .admin-sidebar-toggle {
          display: none;
          position: fixed;
          top: var(--spacing-md);
          left: var(--spacing-md);
          z-index: var(--z-fixed);
          width: 44px;
          height: 44px;
          border: none;
          background: var(--color-primary);
          color: white;
          border-radius: var(--radius-md);
          cursor: pointer;
          font-size: var(--text-xl);
        }

        @media (max-width: 768px) {
          .admin-sidebar-toggle {
            display: flex;
            align-items: center;
            justify-content: center;
          }

          .admin-sidebar {
            transform: translateX(-100%);
            transition: transform var(--transition-base);
          }

          .admin-sidebar:not(.admin-sidebar--collapsed) {
            transform: translateX(0);
          }

          .admin-content {
            padding-top: calc(var(--spacing-xl) + 44px);
          }
        }

        /* Animation de la sidebar */
        .admin-sidebar--collapsed {
          width: 80px;
        }

        .admin-sidebar--collapsed .admin-nav__label,
        .admin-sidebar--collapsed .admin-nav__title,
        .admin-sidebar--collapsed .admin-sidebar__logo span,
        .admin-sidebar--collapsed .admin-user__info {
          display: none;
        }

        .admin-sidebar--collapsed .admin-sidebar__logo {
          justify-content: center;
        }
      `})]})},lh="disciplines",MO=t=>{const e=t.data();return{id:t.id,nom:e.nom,niveau:e.niveau,classe:e.classe,ordre:e.ordre,coefficient:e.coefficient,couleur:e.couleur,icone:e.icone,description:e.description,createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()}},Os={async getAll(t){try{const e=[ha("ordre","asc")];t?.niveau&&e.unshift(hi("niveau","==",t.niveau)),t?.classe&&e.unshift(hi("classe","==",t.classe));const n=Zr(hr(Ge,lh),...e);return(await Jr(n)).docs.map(MO)}catch(e){throw console.error("Erreur lors de la rcupration des disciplines:",e),new Error("Impossible de rcuprer les disciplines")}},async getById(t){try{const e=Ut(Ge,lh,t),n=await xl(e);return n.exists()?MO(n):null}catch(e){throw console.error("Erreur lors de la rcupration de la discipline:",e),new Error("Impossible de rcuprer la discipline")}},async getByNiveau(t){return this.getAll({niveau:t})},async getByClasse(t){return this.getAll({classe:t})},async create(t){try{return(await au(hr(Ge,lh),{...t,createdAt:kn(),updatedAt:kn()})).id}catch(e){throw console.error("Erreur lors de la cration de la discipline:",e),new Error("Impossible de crer la discipline")}},async update(t,e){try{const n=Ut(Ge,lh,t);await $i(n,{...e,updatedAt:kn()})}catch(n){throw console.error("Erreur lors de la mise  jour de la discipline:",n),new Error("Impossible de mettre  jour la discipline")}},async delete(t){try{const e=Ut(Ge,lh,t);await Om(e)}catch(e){throw console.error("Erreur lors de la suppression de la discipline:",e),new Error("Impossible de supprimer la discipline")}},async exists(t){return await this.getById(t)!==null},async countByNiveau(t){return(await this.getByNiveau(t)).length}},Ho="chapitres",Nx=t=>{const e=t.data();return{id:t.id,disciplineId:e.disciplineId,numero:e.numero,titre:e.titre,description:e.description,objectifs:e.objectifs||[],dureeEstimee:e.dureeEstimee,isPremium:e.isPremium||!1,actif:e.actif!==!1,createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()}},Go={async getByDiscipline(t){try{const e=Zr(hr(Ge,Ho),hi("disciplineId","==",t),ha("numero","asc"));return(await Jr(e)).docs.map(Nx)}catch(e){throw console.error("Erreur lors de la rcupration des chapitres:",e),new Error("Impossible de rcuprer les chapitres")}},async getAll(){try{const t=Zr(hr(Ge,Ho),ha("numero","asc"));return(await Jr(t)).docs.map(Nx)}catch(t){throw console.error("Erreur lors de la rcupration des chapitres:",t),new Error("Impossible de rcuprer les chapitres")}},async getById(t){try{const e=Ut(Ge,Ho,t),n=await xl(e);return n.exists()?Nx(n):null}catch(e){throw console.error("Erreur lors de la rcupration du chapitre:",e),new Error("Impossible de rcuprer le chapitre")}},async create(t){try{return(await au(hr(Ge,Ho),{...t,actif:t.actif!==!1,createdAt:kn(),updatedAt:kn()})).id}catch(e){throw console.error("Erreur lors de la cration du chapitre:",e),new Error("Impossible de crer le chapitre")}},async update(t,e){try{const n=Ut(Ge,Ho,t);await $i(n,{...e,updatedAt:kn()})}catch(n){throw console.error("Erreur lors de la mise  jour du chapitre:",n),new Error("Impossible de mettre  jour le chapitre")}},async delete(t){try{const e=Ut(Ge,Ho,t);await Om(e)}catch(e){throw console.error("Erreur lors de la suppression du chapitre:",e),new Error("Impossible de supprimer le chapitre")}},async deleteByDiscipline(t){try{const e=await this.getByDiscipline(t),n=Qh(Ge);e.forEach(r=>{const i=Ut(Ge,Ho,r.id);n.delete(i)}),await n.commit()}catch(e){throw console.error("Erreur lors de la suppression des chapitres:",e),new Error("Impossible de supprimer les chapitres")}},async reorder(t,e){try{const n=Qh(Ge);e.forEach((r,i)=>{const s=Ut(Ge,Ho,r);n.update(s,{numero:i+1,updatedAt:kn()})}),await n.commit()}catch(n){throw console.error("Erreur lors de la rorganisation des chapitres:",n),new Error("Impossible de rorganiser les chapitres")}},async toggleActive(t,e){await this.update(t,{actif:e})},async countByDiscipline(t){return(await this.getByDiscipline(t)).length},async getNextNumero(t){return await this.countByDiscipline(t)+1}},tZ=()=>{const{currentUser:t}=wi(),[e,n]=_.useState({totalDisciplines:0,totalChapitres:0,totalRessources:0,ressourcesPremium:0,ressourcesGratuites:0,ressourcesParType:{cours:0,exercice:0,video:0,document:0,quiz:0}}),[r,i]=_.useState(!0),[s,c]=_.useState(null);return _.useEffect(()=>{(async()=>{try{i(!0),c(null);const[f,h,p]=await Promise.all([Os.getAll(),Go.getAll(),Ko.getStats()]);n({totalDisciplines:f.length,totalChapitres:h.length,totalRessources:p.total,ressourcesPremium:p.premium,ressourcesGratuites:p.gratuit,ressourcesParType:p.parType})}catch(f){console.error("Erreur lors du chargement des statistiques:",f),c("Impossible de charger les statistiques")}finally{i(!1)}})()},[]),l.jsxs("div",{className:"admin-dashboard",children:[l.jsx("header",{className:"admin-page-header",children:l.jsxs("div",{className:"admin-page-header__info",children:[l.jsx("h1",{className:"admin-page-header__title",children:"Tableau de bord"}),l.jsxs("p",{className:"admin-page-header__subtitle",children:["Bienvenue, ",t?.displayName||"Administrateur"," ! Grez votre contenu pdagogique depuis cette interface."]})]})}),s&&l.jsxs("div",{className:"alert alert--error",children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:s})})]}),r?l.jsxs("div",{className:"loading-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Chargement des statistiques..."})]}):l.jsxs(l.Fragment,{children:[l.jsxs("section",{className:"stats-grid",children:[l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-card__icon stat-card__icon--primary",children:""}),l.jsxs("div",{className:"stat-card__content",children:[l.jsx("div",{className:"stat-card__value",children:e.totalDisciplines}),l.jsx("div",{className:"stat-card__label",children:"Disciplines"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-card__icon stat-card__icon--secondary",children:""}),l.jsxs("div",{className:"stat-card__content",children:[l.jsx("div",{className:"stat-card__value",children:e.totalChapitres}),l.jsx("div",{className:"stat-card__label",children:"Chapitres"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-card__icon stat-card__icon--info",children:""}),l.jsxs("div",{className:"stat-card__content",children:[l.jsx("div",{className:"stat-card__value",children:e.totalRessources}),l.jsx("div",{className:"stat-card__label",children:"Ressources"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-card__icon stat-card__icon--warning",children:""}),l.jsxs("div",{className:"stat-card__content",children:[l.jsx("div",{className:"stat-card__value",children:e.ressourcesPremium}),l.jsx("div",{className:"stat-card__label",children:"Ressources Premium"})]})]})]}),l.jsxs("section",{className:"content-card",children:[l.jsx("div",{className:"content-card__header",children:l.jsx("h2",{children:"Rpartition des ressources par type"})}),l.jsx("div",{className:"content-card__body",children:l.jsxs("div",{className:"resource-type-grid",children:[l.jsxs("div",{className:"resource-type-item",children:[l.jsx("div",{className:"resource-item__icon resource-item__icon--cours",children:""}),l.jsxs("div",{className:"resource-type-info",children:[l.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.cours}),l.jsx("span",{className:"resource-type-label",children:"Cours"})]})]}),l.jsxs("div",{className:"resource-type-item",children:[l.jsx("div",{className:"resource-item__icon resource-item__icon--exercice",children:""}),l.jsxs("div",{className:"resource-type-info",children:[l.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.exercice}),l.jsx("span",{className:"resource-type-label",children:"Exercices"})]})]}),l.jsxs("div",{className:"resource-type-item",children:[l.jsx("div",{className:"resource-item__icon resource-item__icon--video",children:""}),l.jsxs("div",{className:"resource-type-info",children:[l.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.video}),l.jsx("span",{className:"resource-type-label",children:"Vidos"})]})]}),l.jsxs("div",{className:"resource-type-item",children:[l.jsx("div",{className:"resource-item__icon resource-item__icon--document",children:""}),l.jsxs("div",{className:"resource-type-info",children:[l.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.document}),l.jsx("span",{className:"resource-type-label",children:"Documents"})]})]}),l.jsxs("div",{className:"resource-type-item",children:[l.jsx("div",{className:"resource-item__icon resource-item__icon--quiz",children:""}),l.jsxs("div",{className:"resource-type-info",children:[l.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.quiz}),l.jsx("span",{className:"resource-type-label",children:"Quiz"})]})]})]})})]}),l.jsxs("section",{className:"content-card",style:{marginTop:"var(--spacing-xl)"},children:[l.jsx("div",{className:"content-card__header",children:l.jsx("h2",{children:"Actions rapides"})}),l.jsx("div",{className:"content-card__body",children:l.jsxs("div",{className:"quick-actions-grid",children:[l.jsxs("a",{href:"/admin/disciplines",className:"quick-action-card",children:[l.jsx("div",{className:"quick-action-icon",children:""}),l.jsxs("div",{className:"quick-action-content",children:[l.jsx("h3",{children:"Grer les disciplines"}),l.jsx("p",{children:"Ajouter, modifier ou supprimer des matires"})]})]}),l.jsxs("a",{href:"/admin/chapitres",className:"quick-action-card",children:[l.jsx("div",{className:"quick-action-icon",children:""}),l.jsxs("div",{className:"quick-action-content",children:[l.jsx("h3",{children:"Grer les chapitres"}),l.jsx("p",{children:"Organiser le contenu par chapitres"})]})]}),l.jsxs("a",{href:"/admin/ressources",className:"quick-action-card",children:[l.jsx("div",{className:"quick-action-icon",children:""}),l.jsxs("div",{className:"quick-action-content",children:[l.jsx("h3",{children:"Grer les ressources"}),l.jsx("p",{children:"Cours, exercices, vidos et documents"})]})]}),l.jsxs("a",{href:"/admin/utilisateurs",className:"quick-action-card",children:[l.jsx("div",{className:"quick-action-icon",children:""}),l.jsxs("div",{className:"quick-action-content",children:[l.jsx("h3",{children:"Grer les utilisateurs"}),l.jsx("p",{children:"lves, professeurs et administrateurs"})]})]})]})})]})]}),l.jsx("style",{children:`
        /* Grille des types de ressources */
        .resource-type-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
          gap: var(--spacing-lg);
        }

        .resource-type-item {
          display: flex;
          align-items: center;
          gap: var(--spacing-md);
          padding: var(--spacing-md);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-lg);
        }

        .resource-type-info {
          display: flex;
          flex-direction: column;
        }

        .resource-type-value {
          font-size: var(--text-2xl);
          font-weight: var(--font-bold);
          color: var(--color-text);
        }

        .resource-type-label {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        /* Actions rapides */
        .quick-actions-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
          gap: var(--spacing-lg);
        }

        .quick-action-card {
          display: flex;
          align-items: flex-start;
          gap: var(--spacing-lg);
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          text-decoration: none;
          color: inherit;
          transition: all var(--transition-base);
        }

        .quick-action-card:hover {
          border-color: var(--color-primary);
          box-shadow: var(--shadow-md);
          transform: translateY(-2px);
        }

        .quick-action-icon {
          font-size: 2rem;
          line-height: 1;
        }

        .quick-action-content h3 {
          font-size: var(--text-base);
          font-weight: var(--font-semibold);
          margin-bottom: var(--spacing-xs);
          color: var(--color-text);
        }

        .quick-action-content p {
          font-size: var(--text-sm);
          color: var(--color-text-light);
          margin: 0;
        }

        @media (max-width: 768px) {
          .resource-type-grid,
          .quick-actions-grid {
            grid-template-columns: 1fr;
          }
        }
      `})]})},zO=[{value:"college",label:"Collge"},{value:"lycee",label:"Lyce"}],Og={college:[{value:"6eme",label:"6me"},{value:"5eme",label:"5me"},{value:"4eme",label:"4me"},{value:"3eme",label:"3me"}],lycee:[{value:"2nde",label:"Seconde"},{value:"1ere",label:"Premire"},{value:"Terminale",label:"Terminale"}]},nZ=[{value:"#2563eb",label:"Bleu"},{value:"#059669",label:"Vert"},{value:"#dc2626",label:"Rouge"},{value:"#7c3aed",label:"Violet"},{value:"#ea580c",label:"Orange"},{value:"#0891b2",label:"Cyan"},{value:"#be185d",label:"Rose"},{value:"#4b5563",label:"Gris"}],Tx={nom:"",niveau:"college",classe:"6eme",ordre:1,coefficient:1,couleur:"#2563eb",icone:"",description:""},rZ=()=>{const[t,e]=_.useState([]),[n,r]=_.useState([]),[i,s]=_.useState(!0),[c,d]=_.useState(!1),[f,h]=_.useState(null),[p,g]=_.useState(null),[y,w]=_.useState(null),[j,E]=_.useState(!1),[A,T]=_.useState(!1),[k,I]=_.useState(null),[R,z]=_.useState(null),[M,O]=_.useState(Tx),[P,D]=_.useState({}),[B,U]=_.useState(""),[L,q]=_.useState(""),[pe,Ee]=_.useState(""),F=_.useCallback(async()=>{try{s(!0),g(null);const W=await Os.getAll();e(W),r(W)}catch(W){console.error("Erreur lors du chargement:",W),g("Impossible de charger les disciplines. Veuillez ressayer.")}finally{s(!1)}},[]);_.useEffect(()=>{F()},[F]),_.useEffect(()=>{let W=[...t];if(B&&(W=W.filter(be=>be.niveau===B)),L&&(W=W.filter(be=>be.classe===L)),pe){const be=pe.toLowerCase();W=W.filter(Le=>Le.nom.toLowerCase().includes(be)||Le.description?.toLowerCase().includes(be))}r(W)},[t,B,L,pe]);const J=()=>{const W={};return M.nom.trim()?M.nom.length<2&&(W.nom="Le nom doit contenir au moins 2 caractres"):W.nom="Le nom de la discipline est requis",M.niveau||(W.niveau="Veuillez slectionner un niveau"),M.classe||(W.classe="Veuillez slectionner une classe"),M.ordre<1&&(W.ordre="L'ordre doit tre suprieur  0"),D(W),Object.keys(W).length===0},fe=()=>{I(null),O(Tx),D({}),E(!0)},we=W=>{I(W),O({nom:W.nom,niveau:W.niveau,classe:W.classe,ordre:W.ordre,coefficient:W.coefficient,couleur:W.couleur,icone:W.icone,description:W.description}),D({}),E(!0)},_e=W=>{z(W),T(!0)},H=()=>{E(!1),T(!1),I(null),z(null),O(Tx),D({})},ie=W=>{const{name:be,value:Le,type:se}=W.target;if(be==="niveau"){const Se=Le;O(Q=>({...Q,niveau:Se,classe:Og[Se][0].value}))}else O(Se=>({...Se,[be]:se==="number"?Number(Le):Le}));P[be]&&D(Se=>({...Se,[be]:void 0}))},ve=async W=>{if(W.preventDefault(),!!J())try{d(!0),g(null),k?(await Os.update(k.id,M),w("Discipline modifie avec succs !")):(await Os.create(M),w("Discipline cre avec succs !")),H(),await F(),setTimeout(()=>w(null),3e3)}catch(be){console.error("Erreur lors de la sauvegarde:",be),g("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{d(!1)}},xe=async()=>{if(R)try{h(R.id),await Os.delete(R.id),w("Discipline supprime avec succs !"),H(),await F(),setTimeout(()=>w(null),3e3)}catch(W){console.error("Erreur lors de la suppression:",W),g("Erreur lors de la suppression. Veuillez ressayer.")}finally{h(null)}},Y=W=>{for(const be of Object.values(Og)){const Le=be.find(se=>se.value===W);if(Le)return Le.label}return W};return l.jsxs("div",{className:"discipline-manager",children:[l.jsxs("header",{className:"admin-page-header",children:[l.jsxs("div",{className:"admin-page-header__info",children:[l.jsx("h1",{className:"admin-page-header__title",children:"Gestion des Disciplines"}),l.jsx("p",{className:"admin-page-header__subtitle",children:"Grez les matires enseignes sur PedaClic"})]}),l.jsx("div",{className:"admin-page-header__actions",children:l.jsxs("button",{onClick:fe,className:"btn btn--primary",children:[l.jsx("span",{children:""}),"Nouvelle discipline"]})})]}),p&&l.jsxs("div",{className:"alert alert--error",children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:p})}),l.jsx("button",{onClick:()=>g(null),className:"alert__close",children:""})]}),y&&l.jsxs("div",{className:"alert alert--success",children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:y})})]}),l.jsxs("div",{className:"admin-table-container",children:[l.jsxs("div",{className:"admin-table-header",children:[l.jsxs("h2",{className:"admin-table-title",children:["Liste des disciplines (",n.length,")"]}),l.jsxs("div",{className:"admin-table-actions",children:[l.jsxs("div",{className:"search-input",children:[l.jsx("span",{className:"search-input__icon",children:""}),l.jsx("input",{type:"text",className:"search-input__field",placeholder:"Rechercher...",value:pe,onChange:W=>Ee(W.target.value)})]}),l.jsxs("select",{className:"form-select",value:B,onChange:W=>U(W.target.value),style:{width:"auto"},children:[l.jsx("option",{value:"",children:"Tous les niveaux"}),zO.map(W=>l.jsx("option",{value:W.value,children:W.label},W.value))]}),l.jsxs("select",{className:"form-select",value:L,onChange:W=>q(W.target.value),style:{width:"auto"},disabled:!B,children:[l.jsx("option",{value:"",children:"Toutes les classes"}),B&&Og[B].map(W=>l.jsx("option",{value:W.value,children:W.label},W.value))]})]})]}),i?l.jsxs("div",{className:"loading-container",style:{padding:"var(--spacing-2xl)"},children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Chargement des disciplines..."})]}):n.length===0?l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state__icon",children:""}),l.jsx("h3",{className:"empty-state__title",children:"Aucune discipline trouve"}),l.jsx("p",{className:"empty-state__message",children:pe||B||L?"Aucune discipline ne correspond aux critres de recherche.":"Commencez par crer votre premire discipline."}),!pe&&!B&&!L&&l.jsx("button",{onClick:fe,className:"btn btn--primary",children:"Crer une discipline"})]}):l.jsxs("table",{className:"admin-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Discipline"}),l.jsx("th",{children:"Niveau"}),l.jsx("th",{children:"Classe"}),l.jsx("th",{children:"Coefficient"}),l.jsx("th",{children:"Ordre"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:n.map(W=>l.jsxs("tr",{children:[l.jsx("td",{children:l.jsxs("div",{className:"table-cell-icon",children:[l.jsx("div",{className:"table-icon",style:{backgroundColor:`${W.couleur}20`,color:W.couleur},children:W.icone||""}),l.jsxs("div",{children:[l.jsx("strong",{children:W.nom}),W.description&&l.jsx("div",{className:"text-muted text-sm",children:W.description})]})]})}),l.jsx("td",{children:l.jsx("span",{className:`badge badge--${W.niveau==="college"?"primary":"secondary"}`,children:W.niveau==="college"?"Collge":"Lyce"})}),l.jsx("td",{children:Y(W.classe)}),l.jsx("td",{children:W.coefficient||"-"}),l.jsx("td",{children:W.ordre}),l.jsx("td",{children:l.jsxs("div",{className:"table-actions",children:[l.jsx("button",{onClick:()=>we(W),className:"table-action-btn table-action-btn--edit",title:"Modifier",children:""}),l.jsx("button",{onClick:()=>_e(W),className:"table-action-btn table-action-btn--delete",title:"Supprimer",disabled:f===W.id,children:f===W.id?"":""})]})})]},W.id))})]})]}),j&&l.jsx("div",{className:"modal-overlay",onClick:H,children:l.jsxs("div",{className:"modal modal--lg",onClick:W=>W.stopPropagation(),children:[l.jsxs("div",{className:"modal__header",children:[l.jsx("h2",{className:"modal__title",children:k?"Modifier la discipline":"Nouvelle discipline"}),l.jsx("button",{onClick:H,className:"modal__close",children:""})]}),l.jsxs("form",{onSubmit:ve,children:[l.jsxs("div",{className:"modal__body",children:[l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",style:{flex:2},children:[l.jsx("label",{className:"form-label form-label--required",children:"Nom de la discipline"}),l.jsx("input",{type:"text",name:"nom",className:`form-input ${P.nom?"form-input--error":""}`,placeholder:"Ex: Mathmatiques, Franais, SVT...",value:M.nom,onChange:ie}),P.nom&&l.jsx("span",{className:"form-error",children:P.nom})]}),l.jsxs("div",{className:"form-group",style:{flex:1},children:[l.jsx("label",{className:"form-label",children:"Icne"}),l.jsx("input",{type:"text",name:"icone",className:"form-input",placeholder:"",value:M.icone||"",onChange:ie,maxLength:4}),l.jsx("span",{className:"form-helper",children:"Emoji uniquement"})]})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label form-label--required",children:"Niveau"}),l.jsx("select",{name:"niveau",className:`form-select ${P.niveau?"form-select--error":""}`,value:M.niveau,onChange:ie,children:zO.map(W=>l.jsx("option",{value:W.value,children:W.label},W.value))}),P.niveau&&l.jsx("span",{className:"form-error",children:P.niveau})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label form-label--required",children:"Classe"}),l.jsx("select",{name:"classe",className:`form-select ${P.classe?"form-select--error":""}`,value:M.classe,onChange:ie,children:Og[M.niveau].map(W=>l.jsx("option",{value:W.value,children:W.label},W.value))}),P.classe&&l.jsx("span",{className:"form-error",children:P.classe})]})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Coefficient"}),l.jsx("input",{type:"number",name:"coefficient",className:"form-input",min:"1",max:"10",value:M.coefficient||1,onChange:ie}),l.jsx("span",{className:"form-helper",children:"Pour les calculs de moyennes"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label form-label--required",children:"Ordre d'affichage"}),l.jsx("input",{type:"number",name:"ordre",className:`form-input ${P.ordre?"form-input--error":""}`,min:"1",value:M.ordre,onChange:ie}),P.ordre&&l.jsx("span",{className:"form-error",children:P.ordre})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Couleur"}),l.jsx("div",{className:"color-picker",children:nZ.map(W=>l.jsx("button",{type:"button",className:`color-option ${M.couleur===W.value?"color-option--active":""}`,style:{backgroundColor:W.value},onClick:()=>O(be=>({...be,couleur:W.value})),title:W.label,children:M.couleur===W.value&&""},W.value))})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Description (optionnel)"}),l.jsx("textarea",{name:"description",className:"form-textarea",placeholder:"Description courte de la discipline...",rows:3,value:M.description||"",onChange:ie})]})]}),l.jsxs("div",{className:"modal__footer",children:[l.jsx("button",{type:"button",onClick:H,className:"btn btn--outline",disabled:c,children:"Annuler"}),l.jsx("button",{type:"submit",className:"btn btn--primary",disabled:c,children:c?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"spinner-small"}),"Enregistrement..."]}):k?"Mettre  jour":"Crer la discipline"})]})]})]})}),A&&R&&l.jsx("div",{className:"modal-overlay",onClick:H,children:l.jsxs("div",{className:"modal",onClick:W=>W.stopPropagation(),children:[l.jsxs("div",{className:"modal__header",children:[l.jsx("h2",{className:"modal__title",children:"Confirmer la suppression"}),l.jsx("button",{onClick:H,className:"modal__close",children:""})]}),l.jsxs("div",{className:"modal__body",children:[l.jsxs("p",{children:["tes-vous sr de vouloir supprimer la discipline",l.jsxs("strong",{children:[" ",R.nom]})," ?"]}),l.jsxs("div",{className:"alert alert--warning",style:{marginTop:"var(--spacing-md)"},children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:"Cette action est irrversible. Tous les chapitres et ressources associs devront tre supprims manuellement."})})]})]}),l.jsxs("div",{className:"modal__footer",children:[l.jsx("button",{onClick:H,className:"btn btn--outline",disabled:f!==null,children:"Annuler"}),l.jsx("button",{onClick:xe,className:"btn btn--danger",disabled:f!==null,children:f?"Suppression...":"Supprimer"})]})]})}),l.jsx("style",{children:`
        /* Ligne de formulaire */
        .form-row {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: var(--spacing-lg);
        }

        @media (max-width: 600px) {
          .form-row {
            grid-template-columns: 1fr;
          }
        }

        /* Slecteur de couleur */
        .color-picker {
          display: flex;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
        }

        .color-option {
          width: 36px;
          height: 36px;
          border: 2px solid transparent;
          border-radius: var(--radius-md);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-weight: bold;
          transition: all var(--transition-base);
        }

        .color-option:hover {
          transform: scale(1.1);
        }

        .color-option--active {
          border-color: var(--color-text);
          box-shadow: 0 0 0 2px white, 0 0 0 4px var(--color-text);
        }

        /* Fermer l'alerte */
        .alert__close {
          background: none;
          border: none;
          cursor: pointer;
          font-size: var(--text-lg);
          opacity: 0.7;
          transition: opacity var(--transition-base);
        }

        .alert__close:hover {
          opacity: 1;
        }

        /* Spinner petit pour les boutons */
        .spinner-small {
          width: 16px;
          height: 16px;
          border: 2px solid rgba(255, 255, 255, 0.3);
          border-top-color: white;
          border-radius: 50%;
          animation: spin 0.8s linear infinite;
        }

        /* Ajustement du form-select */
        .form-select {
          min-width: 150px;
        }
      `})]})},LO={numero:1,titre:"",description:"",objectifs:[],dureeEstimee:void 0,isPremium:!1,actif:!0},iZ=()=>{const[t,e]=_.useState([]),[n,r]=_.useState([]),[i,s]=_.useState(""),[c,d]=_.useState(!0),[f,h]=_.useState(!1),[p,g]=_.useState(!1),[y,w]=_.useState(null),[j,E]=_.useState(null),[A,T]=_.useState(null),[k,I]=_.useState(!1),[R,z]=_.useState(!1),[M,O]=_.useState(null),[P,D]=_.useState(null),[B,U]=_.useState({...LO,disciplineId:""}),[L,q]=_.useState({}),[pe,Ee]=_.useState(""),F=_.useCallback(async()=>{try{d(!0);const Q=await Os.getAll();e(Q),Q.length>0&&!i&&s(Q[0].id)}catch(Q){console.error("Erreur lors du chargement des disciplines:",Q),E("Impossible de charger les disciplines.")}finally{d(!1)}},[i]),J=_.useCallback(async()=>{if(!i){r([]);return}try{h(!0);const Q=await Go.getByDiscipline(i);r(Q)}catch(Q){console.error("Erreur lors du chargement des chapitres:",Q),E("Impossible de charger les chapitres.")}finally{h(!1)}},[i]);_.useEffect(()=>{F()},[F]),_.useEffect(()=>{J()},[J]);const fe=()=>{const Q={};return B.disciplineId||(Q.disciplineId="Veuillez slectionner une discipline"),B.titre.trim()?B.titre.length<3&&(Q.titre="Le titre doit contenir au moins 3 caractres"):Q.titre="Le titre du chapitre est requis",B.numero<1&&(Q.numero="Le numro doit tre suprieur  0"),q(Q),Object.keys(Q).length===0},we=Q=>{s(Q),E(null)},_e=async()=>{const Q=await Go.getNextNumero(i);O(null),U({...LO,disciplineId:i,numero:Q}),q({}),Ee(""),I(!0)},H=Q=>{O(Q),U({disciplineId:Q.disciplineId,numero:Q.numero,titre:Q.titre,description:Q.description,objectifs:Q.objectifs||[],dureeEstimee:Q.dureeEstimee,isPremium:Q.isPremium,actif:Q.actif}),q({}),Ee(""),I(!0)},ie=Q=>{D(Q),z(!0)},ve=()=>{I(!1),z(!1),O(null),D(null),q({}),Ee("")},xe=Q=>{const{name:me,value:De,type:Be}=Q.target,at=Q.target.checked;U(dt=>({...dt,[me]:Be==="checkbox"?at:Be==="number"?Number(De):De})),L[me]&&q(dt=>({...dt,[me]:void 0}))},Y=()=>{pe.trim()&&(U(Q=>({...Q,objectifs:[...Q.objectifs||[],pe.trim()]})),Ee(""))},W=Q=>{U(me=>({...me,objectifs:(me.objectifs||[]).filter((De,Be)=>Be!==Q)}))},be=async Q=>{if(Q.preventDefault(),!!fe())try{g(!0),E(null),M?(await Go.update(M.id,B),T("Chapitre modifi avec succs !")):(await Go.create(B),T("Chapitre cr avec succs !")),ve(),await J(),setTimeout(()=>T(null),3e3)}catch(me){console.error("Erreur lors de la sauvegarde:",me),E("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{g(!1)}},Le=async()=>{if(P)try{w(P.id),await Go.delete(P.id),T("Chapitre supprim avec succs !"),ve(),await J(),setTimeout(()=>T(null),3e3)}catch(Q){console.error("Erreur lors de la suppression:",Q),E("Erreur lors de la suppression. Veuillez ressayer.")}finally{w(null)}},se=async Q=>{try{await Go.toggleActive(Q.id,!Q.actif),await J(),T(Q.actif?"Chapitre dsactiv":"Chapitre activ"),setTimeout(()=>T(null),2e3)}catch{E("Erreur lors de la mise  jour")}},Se=Q=>{const me=t.find(De=>De.id===Q);return me?me.nom:"Non trouve"};return l.jsxs("div",{className:"chapitre-manager",children:[l.jsxs("header",{className:"admin-page-header",children:[l.jsxs("div",{className:"admin-page-header__info",children:[l.jsx("h1",{className:"admin-page-header__title",children:"Gestion des Chapitres"}),l.jsx("p",{className:"admin-page-header__subtitle",children:"Organisez le contenu pdagogique par chapitres"})]}),l.jsx("div",{className:"admin-page-header__actions",children:l.jsxs("button",{onClick:_e,className:"btn btn--primary",disabled:!i||c,children:[l.jsx("span",{children:""}),"Nouveau chapitre"]})})]}),j&&l.jsxs("div",{className:"alert alert--error",children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:j})}),l.jsx("button",{onClick:()=>E(null),className:"alert__close",children:""})]}),A&&l.jsxs("div",{className:"alert alert--success",children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:A})})]}),l.jsx("div",{className:"content-card",style:{marginBottom:"var(--spacing-lg)"},children:l.jsx("div",{className:"content-card__body",children:l.jsxs("div",{className:"discipline-selector",children:[l.jsx("label",{className:"form-label",children:"Slectionner une discipline :"}),c?l.jsx("p",{className:"text-muted",children:"Chargement des disciplines..."}):t.length===0?l.jsxs("p",{className:"text-muted",children:["Aucune discipline disponible.",l.jsx("a",{href:"/admin/disciplines",children:" Crer une discipline"})]}):l.jsx("div",{className:"discipline-tabs",children:t.map(Q=>l.jsxs("button",{className:`discipline-tab ${i===Q.id?"discipline-tab--active":""}`,onClick:()=>we(Q.id),style:{"--discipline-color":Q.couleur||"#2563eb"},children:[l.jsx("span",{className:"discipline-tab__icon",children:Q.icone||""}),l.jsx("span",{className:"discipline-tab__name",children:Q.nom}),l.jsx("span",{className:"discipline-tab__class",children:Q.classe})]},Q.id))})]})})}),l.jsxs("div",{className:"admin-table-container",children:[l.jsx("div",{className:"admin-table-header",children:l.jsxs("h2",{className:"admin-table-title",children:["Chapitres ",i&&`- ${Se(i)}`,n.length>0&&` (${n.length})`]})}),f?l.jsxs("div",{className:"loading-container",style:{padding:"var(--spacing-2xl)"},children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Chargement des chapitres..."})]}):i?n.length===0?l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state__icon",children:""}),l.jsx("h3",{className:"empty-state__title",children:"Aucun chapitre"}),l.jsx("p",{className:"empty-state__message",children:"Cette discipline n'a pas encore de chapitres."}),l.jsx("button",{onClick:_e,className:"btn btn--primary",children:"Crer le premier chapitre"})]}):l.jsx("div",{className:"chapitres-list",children:n.map(Q=>l.jsxs("div",{className:`chapitre-card ${Q.actif?"":"chapitre-card--inactive"}`,children:[l.jsx("div",{className:"chapitre-card__number",children:Q.numero}),l.jsxs("div",{className:"chapitre-card__content",children:[l.jsxs("h3",{className:"chapitre-card__title",children:[Q.titre,Q.isPremium&&l.jsx("span",{className:"badge badge--premium",children:"Premium"}),!Q.actif&&l.jsx("span",{className:"badge badge--warning",children:"Inactif"})]}),Q.description&&l.jsx("p",{className:"chapitre-card__description",children:Q.description}),l.jsxs("div",{className:"chapitre-card__meta",children:[Q.dureeEstimee&&l.jsxs("span",{children:[" ",Q.dureeEstimee,"h estime"]}),Q.objectifs&&Q.objectifs.length>0&&l.jsxs("span",{children:[" ",Q.objectifs.length," objectif(s)"]})]})]}),l.jsxs("div",{className:"chapitre-card__actions",children:[l.jsx("button",{onClick:()=>se(Q),className:`table-action-btn ${Q.actif?"table-action-btn--view":"table-action-btn--edit"}`,title:Q.actif?"Dsactiver":"Activer",children:Q.actif?"":""}),l.jsx("button",{onClick:()=>H(Q),className:"table-action-btn table-action-btn--edit",title:"Modifier",children:""}),l.jsx("button",{onClick:()=>ie(Q),className:"table-action-btn table-action-btn--delete",title:"Supprimer",disabled:y===Q.id,children:y===Q.id?"":""})]})]},Q.id))}):l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state__icon",children:""}),l.jsx("h3",{className:"empty-state__title",children:"Slectionnez une discipline"}),l.jsx("p",{className:"empty-state__message",children:"Choisissez une discipline ci-dessus pour voir ses chapitres."})]})]}),k&&l.jsx("div",{className:"modal-overlay",onClick:ve,children:l.jsxs("div",{className:"modal modal--lg",onClick:Q=>Q.stopPropagation(),children:[l.jsxs("div",{className:"modal__header",children:[l.jsx("h2",{className:"modal__title",children:M?"Modifier le chapitre":"Nouveau chapitre"}),l.jsx("button",{onClick:ve,className:"modal__close",children:""})]}),l.jsxs("form",{onSubmit:be,children:[l.jsxs("div",{className:"modal__body",children:[!M&&l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label form-label--required",children:"Discipline"}),l.jsxs("select",{name:"disciplineId",className:`form-select ${L.disciplineId?"form-select--error":""}`,value:B.disciplineId,onChange:xe,children:[l.jsx("option",{value:"",children:"Slectionner une discipline"}),t.map(Q=>l.jsxs("option",{value:Q.id,children:[Q.icone," ",Q.nom," (",Q.classe,")"]},Q.id))]}),L.disciplineId&&l.jsx("span",{className:"form-error",children:L.disciplineId})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",style:{flex:"0 0 100px"},children:[l.jsx("label",{className:"form-label form-label--required",children:"N"}),l.jsx("input",{type:"number",name:"numero",className:`form-input ${L.numero?"form-input--error":""}`,min:"1",value:B.numero,onChange:xe}),L.numero&&l.jsx("span",{className:"form-error",children:L.numero})]}),l.jsxs("div",{className:"form-group",style:{flex:1},children:[l.jsx("label",{className:"form-label form-label--required",children:"Titre du chapitre"}),l.jsx("input",{type:"text",name:"titre",className:`form-input ${L.titre?"form-input--error":""}`,placeholder:"Ex: Les fractions, La Rvolution franaise...",value:B.titre,onChange:xe}),L.titre&&l.jsx("span",{className:"form-error",children:L.titre})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Description"}),l.jsx("textarea",{name:"description",className:"form-textarea",rows:3,placeholder:"Description du chapitre...",value:B.description||"",onChange:xe})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Objectifs pdagogiques"}),l.jsxs("div",{className:"objectifs-input",children:[l.jsx("input",{type:"text",className:"form-input",placeholder:"Ajouter un objectif...",value:pe,onChange:Q=>Ee(Q.target.value),onKeyPress:Q=>Q.key==="Enter"&&(Q.preventDefault(),Y())}),l.jsx("button",{type:"button",onClick:Y,className:"btn btn--outline btn--sm",children:"Ajouter"})]}),B.objectifs&&B.objectifs.length>0&&l.jsx("ul",{className:"objectifs-list",children:B.objectifs.map((Q,me)=>l.jsxs("li",{className:"objectif-item",children:[l.jsxs("span",{children:[" ",Q]}),l.jsx("button",{type:"button",onClick:()=>W(me),className:"objectif-remove",children:""})]},me))})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Dure estime (heures)"}),l.jsx("input",{type:"number",name:"dureeEstimee",className:"form-input",min:"0",step:"0.5",placeholder:"Ex: 2",value:B.dureeEstimee||"",onChange:xe})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Options"}),l.jsxs("div",{className:"form-options",children:[l.jsxs("label",{className:"form-checkbox",children:[l.jsx("input",{type:"checkbox",name:"isPremium",checked:B.isPremium,onChange:xe}),l.jsx("span",{children:"Contenu Premium "})]}),l.jsxs("label",{className:"form-checkbox",children:[l.jsx("input",{type:"checkbox",name:"actif",checked:B.actif!==!1,onChange:xe}),l.jsx("span",{children:"Chapitre actif"})]})]})]})]})]}),l.jsxs("div",{className:"modal__footer",children:[l.jsx("button",{type:"button",onClick:ve,className:"btn btn--outline",disabled:p,children:"Annuler"}),l.jsx("button",{type:"submit",className:"btn btn--primary",disabled:p,children:p?"Enregistrement...":M?"Mettre  jour":"Crer le chapitre"})]})]})]})}),R&&P&&l.jsx("div",{className:"modal-overlay",onClick:ve,children:l.jsxs("div",{className:"modal",onClick:Q=>Q.stopPropagation(),children:[l.jsxs("div",{className:"modal__header",children:[l.jsx("h2",{className:"modal__title",children:"Confirmer la suppression"}),l.jsx("button",{onClick:ve,className:"modal__close",children:""})]}),l.jsxs("div",{className:"modal__body",children:[l.jsxs("p",{children:["Supprimer le chapitre ",l.jsxs("strong",{children:[P.numero,". ",P.titre]})," ?"]}),l.jsxs("div",{className:"alert alert--warning",style:{marginTop:"var(--spacing-md)"},children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:"Les ressources associes ne seront pas supprimes automatiquement."})})]})]}),l.jsxs("div",{className:"modal__footer",children:[l.jsx("button",{onClick:ve,className:"btn btn--outline",children:"Annuler"}),l.jsx("button",{onClick:Le,className:"btn btn--danger",disabled:y!==null,children:y?"Suppression...":"Supprimer"})]})]})}),l.jsx("style",{children:`
        /* Slecteur de discipline */
        .discipline-tabs {
          display: flex;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
          margin-top: var(--spacing-md);
        }

        .discipline-tab {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          padding: var(--spacing-sm) var(--spacing-md);
          border: 2px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: white;
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .discipline-tab:hover {
          border-color: var(--discipline-color, var(--color-primary));
        }

        .discipline-tab--active {
          border-color: var(--discipline-color, var(--color-primary));
          background: color-mix(in srgb, var(--discipline-color, var(--color-primary)) 10%, white);
        }

        .discipline-tab__icon {
          font-size: var(--text-lg);
        }

        .discipline-tab__name {
          font-weight: var(--font-medium);
        }

        .discipline-tab__class {
          font-size: var(--text-xs);
          color: var(--color-text-light);
          background: var(--color-bg-secondary);
          padding: 2px 6px;
          border-radius: var(--radius-sm);
        }

        /* Liste des chapitres */
        .chapitres-list {
          display: flex;
          flex-direction: column;
          gap: var(--spacing-md);
          padding: var(--spacing-lg);
        }

        .chapitre-card {
          display: flex;
          align-items: center;
          gap: var(--spacing-lg);
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          transition: all var(--transition-base);
        }

        .chapitre-card:hover {
          border-color: var(--color-primary);
          box-shadow: var(--shadow-md);
        }

        .chapitre-card--inactive {
          opacity: 0.6;
          background: var(--color-bg-tertiary);
        }

        .chapitre-card__number {
          width: 48px;
          height: 48px;
          background: var(--color-primary);
          color: white;
          border-radius: var(--radius-md);
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: var(--text-xl);
          font-weight: var(--font-bold);
          flex-shrink: 0;
        }

        .chapitre-card__content {
          flex: 1;
          min-width: 0;
        }

        .chapitre-card__title {
          font-size: var(--text-base);
          font-weight: var(--font-semibold);
          margin-bottom: var(--spacing-xs);
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
        }

        .chapitre-card__description {
          font-size: var(--text-sm);
          color: var(--color-text-light);
          margin: 0 0 var(--spacing-sm);
        }

        .chapitre-card__meta {
          display: flex;
          gap: var(--spacing-lg);
          font-size: var(--text-xs);
          color: var(--color-text-lighter);
        }

        .chapitre-card__actions {
          display: flex;
          gap: var(--spacing-sm);
        }

        /* Formulaire: Ligne */
        .form-row {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: var(--spacing-lg);
        }

        @media (max-width: 600px) {
          .form-row {
            grid-template-columns: 1fr;
          }
        }

        /* Objectifs */
        .objectifs-input {
          display: flex;
          gap: var(--spacing-sm);
        }

        .objectifs-list {
          list-style: none;
          margin-top: var(--spacing-md);
        }

        .objectif-item {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: var(--spacing-sm) var(--spacing-md);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-md);
          margin-bottom: var(--spacing-xs);
        }

        .objectif-remove {
          background: none;
          border: none;
          cursor: pointer;
          color: var(--color-error);
          opacity: 0.7;
        }

        .objectif-remove:hover {
          opacity: 1;
        }

        /* Options */
        .form-options {
          display: flex;
          flex-direction: column;
          gap: var(--spacing-sm);
          margin-top: var(--spacing-sm);
        }
      `})]})},Ig=[{value:"cours",label:"Cours",icon:"",color:"#2563eb"},{value:"exercice",label:"Exercice",icon:"",color:"#10b981"},{value:"video",label:"Vido",icon:"",color:"#ef4444"},{value:"document",label:"Document",icon:"",color:"#f59e0b"},{value:"quiz",label:"Quiz",icon:"",color:"#8b5cf6"}],Rg={cours:[".pdf",".doc",".docx",".ppt",".pptx"],exercice:[".pdf",".doc",".docx"],video:[".mp4",".webm",".mov",".avi"],document:[".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx"],quiz:[".json",".pdf"]},Cx=50,VO={titre:"",type:"cours",description:"",contenu:"",chapitreId:"",ordre:1,isPremium:!1,actif:!0,tags:[],duree:void 0,urlExterne:""},aZ=()=>{const{currentUser:t}=wi(),[e,n]=_.useState([]),[r,i]=_.useState([]),[s,c]=_.useState([]),[d,f]=_.useState([]),[h,p]=_.useState(""),[g,y]=_.useState(""),[w,j]=_.useState(""),[E,A]=_.useState(""),[T,k]=_.useState(""),[I,R]=_.useState(!0),[z,M]=_.useState(!1),[O,P]=_.useState(!1),[D,B]=_.useState(!1),[U,L]=_.useState(null),[q,pe]=_.useState(!1),[Ee,F]=_.useState(0),[J,fe]=_.useState(null),[we,_e]=_.useState(null),[H,ie]=_.useState(!1),[ve,xe]=_.useState(!1),[Y,W]=_.useState(!1),[be,Le]=_.useState(null),[se,Se]=_.useState(null),[Q,me]=_.useState(null),[De,Be]=_.useState({...VO,disciplineId:""}),[at,dt]=_.useState({}),[gt,mr]=_.useState(null),[Ot,It]=_.useState(null),Mr=_.useRef(null),[ce,Ie]=_.useState(""),Ue=_.useCallback(async()=>{try{R(!0);const Z=await Os.getAll();n(Z),Z.length>0&&!h&&p(Z[0].id)}catch(Z){console.error("Erreur lors du chargement des disciplines:",Z),fe("Impossible de charger les disciplines.")}finally{R(!1)}},[h]),Ke=_.useCallback(async()=>{if(!h){i([]);return}try{M(!0);const Z=await Go.getByDiscipline(h);i(Z)}catch(Z){console.error("Erreur lors du chargement des chapitres:",Z)}finally{M(!1)}},[h]),Lt=_.useCallback(async()=>{if(!h){c([]),f([]);return}try{P(!0);const Z=await Ko.getByDiscipline(h);c(Z),f(Z)}catch(Z){console.error("Erreur lors du chargement des ressources:",Z),fe("Impossible de charger les ressources.")}finally{P(!1)}},[h]);_.useEffect(()=>{Ue()},[Ue]),_.useEffect(()=>{Ke()},[Ke]),_.useEffect(()=>{Lt()},[Lt]),_.useEffect(()=>{let Z=[...s];if(g&&(Z=Z.filter(Ve=>Ve.chapitreId===g)),w&&(Z=Z.filter(Ve=>Ve.type===w)),E==="premium"?Z=Z.filter(Ve=>Ve.isPremium):E==="free"&&(Z=Z.filter(Ve=>!Ve.isPremium)),T){const Ve=T.toLowerCase();Z=Z.filter(mt=>mt.titre.toLowerCase().includes(Ve)||mt.description?.toLowerCase().includes(Ve)||mt.tags?.some(Fn=>Fn.toLowerCase().includes(Ve)))}f(Z)},[s,g,w,E,T]);const zn=()=>{const Z={};if(De.disciplineId||(Z.disciplineId="Veuillez slectionner une discipline"),De.titre.trim()?De.titre.length<3&&(Z.titre="Le titre doit contenir au moins 3 caractres"):Z.titre="Le titre est requis",De.type||(Z.type="Veuillez slectionner un type de ressource"),gt){const Ve="."+gt.name.split(".").pop()?.toLowerCase(),mt=Rg[De.type];mt.includes(Ve)||(Z.fichier=`Extension non autorise. Extensions acceptes : ${mt.join(", ")}`),gt.size/(1024*1024)>Cx&&(Z.fichier=`Le fichier est trop volumineux (max ${Cx} Mo)`)}return dt(Z),Object.keys(Z).length===0},zr=Z=>{p(Z),y(""),fe(null)},co=()=>{Le(null),Be({...VO,disciplineId:h}),dt({}),mr(null),It(null),Ie(""),ie(!0)},Lr=Z=>{Le(Z),Be({disciplineId:Z.disciplineId,titre:Z.titre,type:Z.type,description:Z.description,contenu:Z.contenu,chapitreId:Z.chapitreId||"",ordre:Z.ordre,isPremium:Z.isPremium,actif:Z.actif,tags:Z.tags||[],duree:Z.duree,urlExterne:Z.urlExterne||""}),dt({}),mr(null),It(Z.fichierUrl||null),Ie(""),ie(!0)},Gi=Z=>{me(Z),W(!0)},lu=Z=>{Se(Z),xe(!0)},rn=()=>{ie(!1),xe(!1),W(!1),Le(null),Se(null),me(null),dt({}),mr(null),It(null),Ie("")},St=Z=>{const{name:Ve,value:mt,type:Fn}=Z.target,Vl=Z.target.checked;Be(Ur=>({...Ur,[Ve]:Fn==="checkbox"?Vl:Fn==="number"?Number(mt):mt})),at[Ve]&&dt(Ur=>({...Ur,[Ve]:void 0}))},Vr=Z=>{const Ve=Z.target.files?.[0];if(Ve)if(mr(Ve),dt(mt=>({...mt,fichier:void 0})),Ve.type.startsWith("image/")||Ve.type.startsWith("video/")){const mt=new FileReader;mt.onloadend=()=>{It(mt.result)},mt.readAsDataURL(Ve)}else It(null)},en=()=>{mr(null),It(null),Mr.current&&(Mr.current.value="")},Ll=()=>{ce.trim()&&!De.tags?.includes(ce.trim())&&(Be(Z=>({...Z,tags:[...Z.tags||[],ce.trim()]})),Ie(""))},uo=Z=>{Be(Ve=>({...Ve,tags:(Ve.tags||[]).filter((mt,Fn)=>Fn!==Z)}))},cu=async Z=>{if(Z.preventDefault(),!!zn())try{B(!0),fe(null);let Ve=be?.fichierUrl,mt=be?.fichierNom;if(gt){pe(!0);const Vl=be?.id||`temp_${Date.now()}`,Ur=await Ko.uploadFile(gt,Vl,Ul=>F(Ul));Ve=Ur.url,mt=Ur.nom,pe(!1)}const Fn={...De,fichierUrl:Ve,fichierNom:mt,auteurId:t?.uid};be?(await Ko.update(be.id,Fn),_e("Ressource modifie avec succs !")):(await Ko.create(Fn),_e("Ressource cre avec succs !")),rn(),await Lt(),setTimeout(()=>_e(null),3e3)}catch(Ve){console.error("Erreur lors de la sauvegarde:",Ve),fe("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{B(!1),pe(!1),F(0)}},Ei=async()=>{if(se)try{L(se.id),se.fichierUrl&&await Ko.deleteFile(se.fichierUrl),await Ko.delete(se.id),_e("Ressource supprime avec succs !"),rn(),await Lt(),setTimeout(()=>_e(null),3e3)}catch(Z){console.error("Erreur lors de la suppression:",Z),fe("Erreur lors de la suppression. Veuillez ressayer.")}finally{L(null)}},ss=async Z=>{try{await Ko.togglePremium(Z.id,!Z.isPremium),await Lt(),_e(Z.isPremium?"Ressource passe en gratuit":"Ressource passe en Premium"),setTimeout(()=>_e(null),2e3)}catch{fe("Erreur lors de la mise  jour")}},an=Z=>{const Ve=e.find(mt=>mt.id===Z);return Ve?Ve.nom:"Non trouve"},ji=Z=>{const Ve=r.find(mt=>mt.id===Z);return Ve?`${Ve.numero}. ${Ve.titre}`:""},pr=Z=>Ig.find(Ve=>Ve.value===Z)||Ig[0],ti=Z=>Z<1024?Z+" o":Z<1024*1024?(Z/1024).toFixed(1)+" Ko":(Z/(1024*1024)).toFixed(1)+" Mo";return l.jsxs("div",{className:"resource-manager",children:[l.jsxs("header",{className:"admin-page-header",children:[l.jsxs("div",{className:"admin-page-header__info",children:[l.jsx("h1",{className:"admin-page-header__title",children:"Gestion des Ressources"}),l.jsx("p",{className:"admin-page-header__subtitle",children:"Grez les cours, exercices, vidos et documents pdagogiques"})]}),l.jsx("div",{className:"admin-page-header__actions",children:l.jsxs("button",{onClick:co,className:"btn btn--primary",disabled:!h||I,children:[l.jsx("span",{children:""}),"Nouvelle ressource"]})})]}),J&&l.jsxs("div",{className:"alert alert--error",children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:J})}),l.jsx("button",{onClick:()=>fe(null),className:"alert__close",children:""})]}),we&&l.jsxs("div",{className:"alert alert--success",children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:we})})]}),l.jsx("div",{className:"content-card",style:{marginBottom:"var(--spacing-lg)"},children:l.jsx("div",{className:"content-card__body",children:l.jsxs("div",{className:"discipline-selector",children:[l.jsx("label",{className:"form-label",children:"Slectionner une discipline :"}),I?l.jsx("p",{className:"text-muted",children:"Chargement des disciplines..."}):e.length===0?l.jsxs("p",{className:"text-muted",children:["Aucune discipline disponible.",l.jsx("a",{href:"/admin/disciplines",children:" Crer une discipline"})]}):l.jsx("div",{className:"discipline-tabs",children:e.map(Z=>l.jsxs("button",{className:`discipline-tab ${h===Z.id?"discipline-tab--active":""}`,onClick:()=>zr(Z.id),style:{"--discipline-color":Z.couleur||"#2563eb"},children:[l.jsx("span",{className:"discipline-tab__icon",children:Z.icone||""}),l.jsx("span",{className:"discipline-tab__name",children:Z.nom}),l.jsx("span",{className:"discipline-tab__class",children:Z.classe})]},Z.id))})]})})}),l.jsxs("div",{className:"admin-table-container",children:[l.jsxs("div",{className:"admin-table-header",children:[l.jsxs("h2",{className:"admin-table-title",children:["Ressources ",h&&`- ${an(h)}`,d.length>0&&` (${d.length})`]}),l.jsxs("div",{className:"admin-table-actions",children:[l.jsxs("div",{className:"search-input",children:[l.jsx("span",{className:"search-input__icon",children:""}),l.jsx("input",{type:"text",className:"search-input__field",placeholder:"Rechercher...",value:T,onChange:Z=>k(Z.target.value)})]}),l.jsxs("select",{className:"form-select form-select--sm",value:g,onChange:Z=>y(Z.target.value),disabled:z||r.length===0,children:[l.jsx("option",{value:"",children:"Tous les chapitres"}),r.map(Z=>l.jsxs("option",{value:Z.id,children:[Z.numero,". ",Z.titre]},Z.id))]}),l.jsxs("select",{className:"form-select form-select--sm",value:w,onChange:Z=>j(Z.target.value),children:[l.jsx("option",{value:"",children:"Tous les types"}),Ig.map(Z=>l.jsxs("option",{value:Z.value,children:[Z.icon," ",Z.label]},Z.value))]}),l.jsxs("select",{className:"form-select form-select--sm",value:E,onChange:Z=>A(Z.target.value),children:[l.jsx("option",{value:"",children:"Tous"}),l.jsx("option",{value:"premium",children:" Premium"}),l.jsx("option",{value:"free",children:"Gratuit"})]})]})]}),O?l.jsxs("div",{className:"loading-container",style:{padding:"var(--spacing-2xl)"},children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Chargement des ressources..."})]}):h?d.length===0?l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state__icon",children:""}),l.jsx("h3",{className:"empty-state__title",children:"Aucune ressource"}),l.jsx("p",{className:"empty-state__message",children:T||w||E||g?"Aucune ressource ne correspond aux critres de recherche.":"Cette discipline n'a pas encore de ressources."}),!T&&!w&&!E&&!g&&l.jsx("button",{onClick:co,className:"btn btn--primary",children:"Crer la premire ressource"})]}):l.jsx("div",{className:"resource-list",style:{padding:"var(--spacing-lg)"},children:d.map(Z=>{const Ve=pr(Z.type);return l.jsxs("div",{className:"resource-item",children:[l.jsx("div",{className:`resource-item__icon resource-item__icon--${Z.type}`,style:{backgroundColor:`${Ve.color}15`,color:Ve.color},children:Ve.icon}),l.jsxs("div",{className:"resource-item__content",children:[l.jsxs("div",{className:"resource-item__title",children:[Z.titre,Z.isPremium&&l.jsx("span",{className:"badge badge--premium",children:"Premium"}),!Z.actif&&l.jsx("span",{className:"badge badge--warning",children:"Inactif"})]}),l.jsxs("div",{className:"resource-item__meta",children:[l.jsx("span",{children:Ve.label}),Z.chapitreId&&l.jsxs("span",{children:[" ",ji(Z.chapitreId)]}),Z.duree&&l.jsxs("span",{children:[" ",Z.duree," min"]}),Z.fichierNom&&l.jsxs("span",{children:[" ",Z.fichierNom]}),Z.tags&&Z.tags.length>0&&l.jsxs("span",{children:[" ",Z.tags.join(", ")]})]})]}),l.jsxs("div",{className:"resource-item__actions",children:[l.jsx("button",{onClick:()=>ss(Z),className:`table-action-btn ${Z.isPremium?"table-action-btn--warning":"table-action-btn--view"}`,title:Z.isPremium?"Passer en gratuit":"Passer en Premium",children:Z.isPremium?"":""}),(Z.fichierUrl||Z.urlExterne)&&l.jsx("button",{onClick:()=>Gi(Z),className:"table-action-btn table-action-btn--view",title:"Prvisualiser",children:""}),l.jsx("button",{onClick:()=>Lr(Z),className:"table-action-btn table-action-btn--edit",title:"Modifier",children:""}),l.jsx("button",{onClick:()=>lu(Z),className:"table-action-btn table-action-btn--delete",title:"Supprimer",disabled:U===Z.id,children:U===Z.id?"":""})]})]},Z.id)})}):l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state__icon",children:""}),l.jsx("h3",{className:"empty-state__title",children:"Slectionnez une discipline"}),l.jsx("p",{className:"empty-state__message",children:"Choisissez une discipline ci-dessus pour voir ses ressources."})]})]}),H&&l.jsx("div",{className:"modal-overlay",onClick:rn,children:l.jsxs("div",{className:"modal modal--xl",onClick:Z=>Z.stopPropagation(),children:[l.jsxs("div",{className:"modal__header",children:[l.jsx("h2",{className:"modal__title",children:be?"Modifier la ressource":"Nouvelle ressource"}),l.jsx("button",{onClick:rn,className:"modal__close",children:""})]}),l.jsxs("form",{onSubmit:cu,children:[l.jsxs("div",{className:"modal__body",children:[!be&&l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label form-label--required",children:"Discipline"}),l.jsxs("select",{name:"disciplineId",className:`form-select ${at.disciplineId?"form-select--error":""}`,value:De.disciplineId,onChange:St,children:[l.jsx("option",{value:"",children:"Slectionner une discipline"}),e.map(Z=>l.jsxs("option",{value:Z.id,children:[Z.icone," ",Z.nom," (",Z.classe,")"]},Z.id))]}),at.disciplineId&&l.jsx("span",{className:"form-error",children:at.disciplineId})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",style:{flex:2},children:[l.jsx("label",{className:"form-label form-label--required",children:"Titre"}),l.jsx("input",{type:"text",name:"titre",className:`form-input ${at.titre?"form-input--error":""}`,placeholder:"Ex: Introduction aux fractions",value:De.titre,onChange:St}),at.titre&&l.jsx("span",{className:"form-error",children:at.titre})]}),l.jsxs("div",{className:"form-group",style:{flex:1},children:[l.jsx("label",{className:"form-label form-label--required",children:"Type"}),l.jsx("select",{name:"type",className:`form-select ${at.type?"form-select--error":""}`,value:De.type,onChange:St,children:Ig.map(Z=>l.jsxs("option",{value:Z.value,children:[Z.icon," ",Z.label]},Z.value))}),at.type&&l.jsx("span",{className:"form-error",children:at.type})]})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Chapitre (optionnel)"}),l.jsxs("select",{name:"chapitreId",className:"form-select",value:De.chapitreId||"",onChange:St,disabled:z,children:[l.jsx("option",{value:"",children:"Aucun chapitre"}),r.map(Z=>l.jsxs("option",{value:Z.id,children:[Z.numero,". ",Z.titre]},Z.id))]})]}),l.jsxs("div",{className:"form-group",style:{flex:"0 0 120px"},children:[l.jsx("label",{className:"form-label",children:"Ordre"}),l.jsx("input",{type:"number",name:"ordre",className:"form-input",min:"1",value:De.ordre,onChange:St})]}),l.jsxs("div",{className:"form-group",style:{flex:"0 0 120px"},children:[l.jsx("label",{className:"form-label",children:"Dure (min)"}),l.jsx("input",{type:"number",name:"duree",className:"form-input",min:"0",placeholder:"Ex: 30",value:De.duree||"",onChange:St})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Description"}),l.jsx("textarea",{name:"description",className:"form-textarea",rows:3,placeholder:"Description de la ressource...",value:De.description||"",onChange:St})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{className:"form-label",children:["Fichier",l.jsxs("span",{className:"form-helper",style:{marginLeft:"var(--spacing-sm)"},children:["(",Rg[De.type].join(", ")," - max ",Cx," Mo)"]})]}),l.jsxs("div",{className:"file-upload",children:[l.jsx("input",{ref:Mr,type:"file",accept:Rg[De.type].join(","),onChange:Vr,className:"file-upload__input",id:"file-input"}),!gt&&!Ot?l.jsxs("label",{htmlFor:"file-input",className:"file-upload__dropzone",children:[l.jsx("div",{className:"file-upload__icon",children:""}),l.jsx("p",{className:"file-upload__text",children:"Cliquez ou glissez un fichier ici"}),l.jsx("p",{className:"file-upload__hint",children:Rg[De.type].join(", ")})]}):l.jsxs("div",{className:"file-upload__preview",children:[gt?.type.startsWith("image/")&&Ot&&l.jsx("img",{src:Ot,alt:"Aperu",className:"file-preview__image"}),gt?.type.startsWith("video/")&&Ot&&l.jsx("video",{src:Ot,controls:!0,className:"file-preview__video"}),!gt?.type.startsWith("image/")&&!gt?.type.startsWith("video/")&&l.jsx("div",{className:"file-preview__document",children:l.jsx("span",{className:"file-preview__icon",children:pr(De.type).icon})}),l.jsxs("div",{className:"file-preview__info",children:[l.jsx("p",{className:"file-preview__name",children:gt?.name||be?.fichierNom}),gt&&l.jsx("p",{className:"file-preview__size",children:ti(gt.size)})]}),l.jsx("button",{type:"button",onClick:en,className:"file-preview__remove",children:""})]})]}),at.fichier&&l.jsx("span",{className:"form-error",children:at.fichier}),q&&l.jsxs("div",{className:"upload-progress",children:[l.jsx("div",{className:"upload-progress__bar",style:{width:`${Ee}%`}}),l.jsxs("span",{className:"upload-progress__text",children:[Ee,"%"]})]})]}),De.type==="video"&&l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"URL externe (YouTube, Vimeo...)"}),l.jsx("input",{type:"url",name:"urlExterne",className:"form-input",placeholder:"https://www.youtube.com/watch?v=...",value:De.urlExterne||"",onChange:St}),l.jsx("span",{className:"form-helper",children:"Alternative  l'upload de fichier"})]}),De.type==="cours"&&l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Contenu du cours"}),l.jsx("textarea",{name:"contenu",className:"form-textarea",rows:6,placeholder:"Saisissez le contenu du cours ici...",value:De.contenu||"",onChange:St}),l.jsx("span",{className:"form-helper",children:"Optionnel si vous uploadez un fichier"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Tags"}),l.jsxs("div",{className:"tags-input",children:[l.jsx("input",{type:"text",className:"form-input",placeholder:"Ajouter un tag...",value:ce,onChange:Z=>Ie(Z.target.value),onKeyPress:Z=>Z.key==="Enter"&&(Z.preventDefault(),Ll())}),l.jsx("button",{type:"button",onClick:Ll,className:"btn btn--outline btn--sm",children:"Ajouter"})]}),De.tags&&De.tags.length>0&&l.jsx("div",{className:"tags-list",children:De.tags.map((Z,Ve)=>l.jsxs("span",{className:"tag",children:[Z,l.jsx("button",{type:"button",onClick:()=>uo(Ve),className:"tag__remove",children:""})]},Ve))})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Options"}),l.jsxs("div",{className:"form-options",children:[l.jsxs("label",{className:"form-checkbox",children:[l.jsx("input",{type:"checkbox",name:"isPremium",checked:De.isPremium,onChange:St}),l.jsx("span",{children:"Contenu Premium "})]}),l.jsxs("label",{className:"form-checkbox",children:[l.jsx("input",{type:"checkbox",name:"actif",checked:De.actif!==!1,onChange:St}),l.jsx("span",{children:"Ressource active"})]})]})]})]}),l.jsxs("div",{className:"modal__footer",children:[l.jsx("button",{type:"button",onClick:rn,className:"btn btn--outline",disabled:D||q,children:"Annuler"}),l.jsx("button",{type:"submit",className:"btn btn--primary",disabled:D||q,children:D||q?q?`Upload ${Ee}%...`:"Enregistrement...":be?"Mettre  jour":"Crer la ressource"})]})]})]})}),Y&&Q&&l.jsx("div",{className:"modal-overlay",onClick:rn,children:l.jsxs("div",{className:"modal modal--xl",onClick:Z=>Z.stopPropagation(),children:[l.jsxs("div",{className:"modal__header",children:[l.jsxs("h2",{className:"modal__title",children:[pr(Q.type).icon," ",Q.titre]}),l.jsx("button",{onClick:rn,className:"modal__close",children:""})]}),l.jsxs("div",{className:"modal__body",children:[Q.type==="video"&&Q.urlExterne?l.jsx("div",{className:"preview-video",children:l.jsx("iframe",{src:Q.urlExterne.replace("watch?v=","embed/"),title:Q.titre,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):Q.fichierUrl?l.jsx("div",{className:"preview-file",children:Q.fichierUrl.match(/\.(jpg|jpeg|png|gif|webp)$/i)?l.jsx("img",{src:Q.fichierUrl,alt:Q.titre}):Q.fichierUrl.match(/\.(mp4|webm)$/i)?l.jsx("video",{src:Q.fichierUrl,controls:!0}):Q.fichierUrl.match(/\.pdf$/i)?l.jsx("iframe",{src:Q.fichierUrl,title:Q.titre}):l.jsxs("div",{className:"preview-download",children:[l.jsx("span",{className:"preview-download__icon",children:pr(Q.type).icon}),l.jsx("p",{children:Q.fichierNom}),l.jsx("a",{href:Q.fichierUrl,target:"_blank",rel:"noopener noreferrer",className:"btn btn--primary",children:"Tlcharger"})]})}):Q.contenu?l.jsx("div",{className:"preview-content",children:l.jsx("p",{children:Q.contenu})}):l.jsx("div",{className:"preview-empty",children:l.jsx("p",{children:"Aucun contenu  prvisualiser"})}),l.jsxs("div",{className:"preview-info",children:[Q.description&&l.jsx("p",{className:"preview-description",children:Q.description}),l.jsxs("div",{className:"preview-meta",children:[l.jsxs("span",{children:["Type : ",pr(Q.type).label]}),Q.duree&&l.jsxs("span",{children:["Dure : ",Q.duree," min"]}),Q.isPremium&&l.jsx("span",{className:"badge badge--premium",children:"Premium"})]})]})]})]})}),ve&&se&&l.jsx("div",{className:"modal-overlay",onClick:rn,children:l.jsxs("div",{className:"modal",onClick:Z=>Z.stopPropagation(),children:[l.jsxs("div",{className:"modal__header",children:[l.jsx("h2",{className:"modal__title",children:"Confirmer la suppression"}),l.jsx("button",{onClick:rn,className:"modal__close",children:""})]}),l.jsxs("div",{className:"modal__body",children:[l.jsxs("p",{children:["Supprimer la ressource ",l.jsx("strong",{children:se.titre})," ?"]}),se.fichierUrl&&l.jsxs("div",{className:"alert alert--warning",style:{marginTop:"var(--spacing-md)"},children:[l.jsx("span",{className:"alert__icon",children:""}),l.jsx("div",{className:"alert__content",children:l.jsx("p",{className:"alert__message",children:"Le fichier associ sera galement supprim de faon permanente."})})]})]}),l.jsxs("div",{className:"modal__footer",children:[l.jsx("button",{onClick:rn,className:"btn btn--outline",children:"Annuler"}),l.jsx("button",{onClick:Ei,className:"btn btn--danger",disabled:U!==null,children:U?"Suppression...":"Supprimer"})]})]})}),l.jsx("style",{children:`
        /* ==================== SLECTEUR DE DISCIPLINE ==================== */
        
        .discipline-tabs {
          display: flex;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
          margin-top: var(--spacing-md);
        }

        .discipline-tab {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          padding: var(--spacing-sm) var(--spacing-md);
          border: 2px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: white;
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .discipline-tab:hover {
          border-color: var(--discipline-color, var(--color-primary));
        }

        .discipline-tab--active {
          border-color: var(--discipline-color, var(--color-primary));
          background: color-mix(in srgb, var(--discipline-color, var(--color-primary)) 10%, white);
        }

        .discipline-tab__icon {
          font-size: var(--text-lg);
        }

        .discipline-tab__name {
          font-weight: var(--font-medium);
        }

        .discipline-tab__class {
          font-size: var(--text-xs);
          color: var(--color-text-light);
          background: var(--color-bg-secondary);
          padding: 2px 6px;
          border-radius: var(--radius-sm);
        }

        /* ==================== FORMULAIRE ==================== */
        
        .form-row {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: var(--spacing-lg);
        }

        .form-options {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-lg);
          margin-top: var(--spacing-sm);
        }

        .form-select--sm {
          padding: var(--spacing-sm) var(--spacing-md);
          font-size: var(--text-sm);
          min-width: 140px;
        }

        /* ==================== UPLOAD DE FICHIER ==================== */
        
        .file-upload {
          position: relative;
        }

        .file-upload__input {
          position: absolute;
          opacity: 0;
          pointer-events: none;
        }

        .file-upload__dropzone {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: var(--spacing-xl);
          border: 2px dashed var(--color-border);
          border-radius: var(--radius-lg);
          background: var(--color-bg-secondary);
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .file-upload__dropzone:hover {
          border-color: var(--color-primary);
          background: rgba(37, 99, 235, 0.05);
        }

        .file-upload__icon {
          font-size: 48px;
          margin-bottom: var(--spacing-md);
        }

        .file-upload__text {
          font-weight: var(--font-medium);
          margin-bottom: var(--spacing-xs);
        }

        .file-upload__hint {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        .file-upload__preview {
          display: flex;
          align-items: center;
          gap: var(--spacing-lg);
          padding: var(--spacing-md);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: var(--color-bg-secondary);
        }

        .file-preview__image,
        .file-preview__video {
          width: 120px;
          height: 80px;
          object-fit: cover;
          border-radius: var(--radius-md);
        }

        .file-preview__document {
          width: 80px;
          height: 80px;
          background: white;
          border: 1px solid var(--color-border);
          border-radius: var(--radius-md);
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .file-preview__icon {
          font-size: 32px;
        }

        .file-preview__info {
          flex: 1;
        }

        .file-preview__name {
          font-weight: var(--font-medium);
          margin-bottom: var(--spacing-xs);
          word-break: break-all;
        }

        .file-preview__size {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        .file-preview__remove {
          width: 32px;
          height: 32px;
          border: none;
          background: var(--color-error);
          color: white;
          border-radius: 50%;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all var(--transition-base);
        }

        .file-preview__remove:hover {
          background: #dc2626;
          transform: scale(1.1);
        }

        /* ==================== BARRE DE PROGRESSION ==================== */
        
        .upload-progress {
          margin-top: var(--spacing-md);
          height: 8px;
          background: var(--color-bg-tertiary);
          border-radius: var(--radius-full);
          overflow: hidden;
          position: relative;
        }

        .upload-progress__bar {
          height: 100%;
          background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
          border-radius: var(--radius-full);
          transition: width var(--transition-base);
        }

        .upload-progress__text {
          position: absolute;
          right: var(--spacing-sm);
          top: 50%;
          transform: translateY(-50%);
          font-size: var(--text-xs);
          font-weight: var(--font-semibold);
          color: var(--color-text);
        }

        /* ==================== TAGS ==================== */
        
        .tags-input {
          display: flex;
          gap: var(--spacing-sm);
        }

        .tags-list {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-sm);
          margin-top: var(--spacing-md);
        }

        .tag {
          display: inline-flex;
          align-items: center;
          gap: var(--spacing-xs);
          padding: var(--spacing-xs) var(--spacing-sm);
          background: var(--color-bg-tertiary);
          border-radius: var(--radius-full);
          font-size: var(--text-sm);
          color: var(--color-text);
        }

        .tag__remove {
          width: 18px;
          height: 18px;
          border: none;
          background: transparent;
          color: var(--color-text-light);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
          transition: all var(--transition-base);
        }

        .tag__remove:hover {
          background: var(--color-error);
          color: white;
        }

        /* ==================== PRVISUALISATION ==================== */
        
        .preview-video {
          position: relative;
          padding-bottom: 56.25%;
          height: 0;
          overflow: hidden;
          border-radius: var(--radius-lg);
        }

        .preview-video iframe {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          border: none;
        }

        .preview-file {
          text-align: center;
        }

        .preview-file img,
        .preview-file video {
          max-width: 100%;
          max-height: 60vh;
          border-radius: var(--radius-lg);
        }

        .preview-file iframe {
          width: 100%;
          height: 60vh;
          border: none;
          border-radius: var(--radius-lg);
        }

        .preview-download {
          padding: var(--spacing-2xl);
          text-align: center;
        }

        .preview-download__icon {
          font-size: 64px;
          display: block;
          margin-bottom: var(--spacing-lg);
        }

        .preview-content {
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-lg);
          white-space: pre-wrap;
        }

        .preview-empty {
          padding: var(--spacing-2xl);
          text-align: center;
          color: var(--color-text-light);
        }

        .preview-info {
          margin-top: var(--spacing-lg);
          padding-top: var(--spacing-lg);
          border-top: 1px solid var(--color-border);
        }

        .preview-description {
          color: var(--color-text-light);
          margin-bottom: var(--spacing-md);
        }

        .preview-meta {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-lg);
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        /* ==================== RESSOURCES - AFFICHAGE CARTE ==================== */
        
        .resource-item__title {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
        }

        /* ==================== ACTION WARNING ==================== */
        
        .table-action-btn--warning {
          color: var(--color-warning);
        }

        /* ==================== RESPONSIVE ==================== */
        
        @media (max-width: 768px) {
          .form-row {
            grid-template-columns: 1fr;
          }

          .admin-table-actions {
            flex-direction: column;
            align-items: stretch;
          }

          .search-input__field {
            width: 100%;
          }

          .file-upload__preview {
            flex-direction: column;
            text-align: center;
          }

          .preview-meta {
            flex-direction: column;
            gap: var(--spacing-sm);
          }
        }
      `})]})},f3=hr(Ge,"quizzes"),h3=async t=>{try{let e=Zr(f3,ha("titre","asc"));t?.disciplineId;let r=(await Jr(e)).docs.map(i=>({id:i.id,...i.data()}));return t?.isPremium,t?.difficulte,r}catch(e){throw console.error("Erreur lors de la rcupration des quiz :",e),e}},sZ=async t=>{try{const e=await xl(Ut(Ge,"quizzes",t));return e.exists()?{id:e.id,...e.data()}:null}catch(e){throw console.error("Erreur lors de la rcupration du quiz :",e),e}},oZ=async t=>{try{return(await au(f3,{...t,createdAt:it.now(),updatedAt:it.now()})).id}catch(e){throw console.error("Erreur lors de la cration du quiz :",e),e}},lZ=async(t,e)=>{try{await $i(Ut(Ge,"quizzes",t),{...e,updatedAt:it.now()})}catch(n){throw console.error("Erreur lors de la mise  jour du quiz :",n),n}},cZ=async t=>{try{await Om(Ut(Ge,"quizzes",t))}catch(e){throw console.error("Erreur lors de la suppression du quiz :",e),e}},uZ=()=>`q_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,UO=()=>({id:uZ(),question:"",options:["","","",""],reponseCorrecte:0,explication:"",difficulte:"moyen",points:1}),qO=t=>{const e=t.questions||[],n=e.reduce((i,s)=>i+(s.points||1),0),r={facile:e.filter(i=>i.difficulte==="facile").length,moyen:e.filter(i=>i.difficulte==="moyen").length,difficile:e.filter(i=>i.difficulte==="difficile").length};return{nombreQuestions:e.length,totalPoints:n,parDifficulte:r,duree:t.duree||0}},dZ=()=>{const[t,e]=_.useState([]),[n,r]=_.useState([]),[i,s]=_.useState(!0),[c,d]=_.useState(null),[f,h]=_.useState(null),[p,g]=_.useState(""),[y,w]=_.useState(""),[j,E]=_.useState(""),[A,T]=_.useState(""),[k,I]=_.useState(!1),[R,z]=_.useState("list"),[M,O]=_.useState(null),[P,D]=_.useState({disciplineId:"",titre:"",questions:[],duree:15,isPremium:!1,noteMinimale:50}),[B,U]=_.useState(null),[L,q]=_.useState(!1),[pe,Ee]=_.useState(null),[F,J]=_.useState(null),[fe,we]=_.useState({}),[_e,H]=_.useState(!1),ie=_.useCallback(async()=>{s(!0),d(null);try{const[ce,Ie]=await Promise.all([h3(),Os.getAll()]);e(ce),r(Ie.map(Ue=>({id:Ue.id,nom:Ue.nom||Ue.name||Ue.id})))}catch(ce){d("Erreur lors du chargement des donnes."),console.error(ce)}finally{s(!1)}},[]);_.useEffect(()=>{ie()},[ie]),_.useEffect(()=>{if(f){const ce=setTimeout(()=>h(null),4e3);return()=>clearTimeout(ce)}},[f]);const ve=t.filter(ce=>{if(p){const Ie=p.toLowerCase();if(!ce.titre.toLowerCase().includes(Ie))return!1}return!(y&&ce.disciplineId!==y||j==="true"&&!ce.isPremium||j==="false"&&ce.isPremium||A&&!ce.questions?.some(Ue=>Ue.difficulte===A))}),xe=()=>{O(null),D({disciplineId:"",titre:"",questions:[UO()],duree:15,isPremium:!1,noteMinimale:50}),U(null),z("form")},Y=ce=>{O(ce),D({disciplineId:ce.disciplineId,titre:ce.titre,questions:ce.questions||[],duree:ce.duree||15,isPremium:ce.isPremium||!1,noteMinimale:ce.noteMinimale||50}),U(null),z("form")},W=async()=>{if(!P.titre.trim()){d("Le titre du quiz est obligatoire.");return}if(!P.disciplineId){d("Veuillez slectionner une discipline.");return}if(P.questions.length===0){d("Le quiz doit contenir au moins une question.");return}for(let ce=0;ce<P.questions.length;ce++){const Ie=P.questions[ce];if(!Ie.question.trim()){d(`La question ${ce+1} n'a pas d'nonc.`);return}if(Ie.options.filter(Ke=>!Ke.trim()).length>0){d(`La question ${ce+1} a des options vides.`);return}}q(!0),d(null);try{M?(await lZ(M.id,P),h("Quiz mis  jour avec succs !")):(await oZ(P),h("Quiz cr avec succs !")),await ie(),z("list")}catch(ce){d("Erreur lors de la sauvegarde du quiz."),console.error(ce)}finally{q(!1)}},be=async ce=>{try{await cZ(ce),h("Quiz supprim avec succs."),Ee(null),await ie()}catch(Ie){d("Erreur lors de la suppression du quiz."),console.error(Ie)}},Le=()=>{const ce=UO();D(Ie=>({...Ie,questions:[...Ie.questions,ce]})),U(ce.id)},se=ce=>{const Ie=P.questions.find(zn=>zn.id===ce);if(!Ie)return;const Ue={...Ie,id:`q_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,question:`${Ie.question} (copie)`},Ke=P.questions.findIndex(zn=>zn.id===ce),Lt=[...P.questions];Lt.splice(Ke+1,0,Ue),D(zn=>({...zn,questions:Lt})),U(Ue.id)},Se=ce=>{D(Ie=>({...Ie,questions:Ie.questions.filter(Ue=>Ue.id!==ce)})),B===ce&&U(null)},Q=(ce,Ie,Ue)=>{D(Ke=>({...Ke,questions:Ke.questions.map(Lt=>Lt.id===ce?{...Lt,[Ie]:Ue}:Lt)}))},me=(ce,Ie,Ue)=>{D(Ke=>({...Ke,questions:Ke.questions.map(Lt=>Lt.id===ce?{...Lt,options:Lt.options.map((zn,zr)=>zr===Ie?Ue:zn)}:Lt)}))},De=ce=>{J(ce),we({}),H(!1),z("preview")},Be=(ce,Ie)=>{_e||we(Ue=>({...Ue,[ce]:Ie}))},at=()=>{H(!0)},dt=ce=>n.find(Ie=>Ie.id===ce)?.nom||ce,gt=({level:ce})=>{const Ie={facile:"quiz-badge-facile",moyen:"quiz-badge-moyen",difficile:"quiz-badge-difficile"};return l.jsx("span",{className:`quiz-badge ${Ie[ce]||"quiz-badge-moyen"}`,children:ce.charAt(0).toUpperCase()+ce.slice(1)})},mr=()=>l.jsxs(l.Fragment,{children:[c&&l.jsxs("div",{className:"admin-message admin-message-error",children:[l.jsx(Dv,{size:18}),l.jsx("span",{children:c}),l.jsx("button",{onClick:()=>d(null),className:"admin-message-close",children:l.jsx(Ic,{size:16})})]}),f&&l.jsxs("div",{className:"admin-message admin-message-success",children:[l.jsx(_n,{size:18}),l.jsx("span",{children:f})]})]}),Ot=()=>l.jsxs("div",{className:"quiz-manager",children:[l.jsxs("div",{className:"admin-header",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"admin-title",children:[l.jsx(Pr,{size:24})," Gestion des Quiz"]}),l.jsxs("p",{className:"admin-subtitle",children:[t.length," quiz au total  ",ve.length," affich(s)"]})]}),l.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:xe,children:[l.jsx(Pg,{size:18})," Nouveau Quiz"]})]}),l.jsxs("div",{className:"admin-toolbar",children:[l.jsxs("div",{className:"admin-search-wrapper",children:[l.jsx(eA,{size:18,className:"admin-search-icon"}),l.jsx("input",{type:"text",className:"admin-search-input",placeholder:"Rechercher un quiz...",value:p,onChange:ce=>g(ce.target.value)})]}),l.jsxs("button",{className:`admin-btn admin-btn-outline ${k?"active":""}`,onClick:()=>I(!k),children:[l.jsx(l3,{size:16})," Filtres",k?l.jsx(qw,{size:14}):l.jsx(kv,{size:14})]})]}),k&&l.jsxs("div",{className:"admin-filters-panel",children:[l.jsxs("div",{className:"admin-filter-group",children:[l.jsx("label",{className:"admin-filter-label",children:"Discipline"}),l.jsxs("select",{className:"admin-select",value:y,onChange:ce=>w(ce.target.value),children:[l.jsx("option",{value:"",children:"Toutes les disciplines"}),n.map(ce=>l.jsx("option",{value:ce.id,children:ce.nom},ce.id))]})]}),l.jsxs("div",{className:"admin-filter-group",children:[l.jsx("label",{className:"admin-filter-label",children:"Accs"}),l.jsxs("select",{className:"admin-select",value:j,onChange:ce=>E(ce.target.value),children:[l.jsx("option",{value:"",children:"Tous"}),l.jsx("option",{value:"false",children:"Gratuit"}),l.jsx("option",{value:"true",children:"Premium"})]})]}),l.jsxs("div",{className:"admin-filter-group",children:[l.jsx("label",{className:"admin-filter-label",children:"Difficult"}),l.jsxs("select",{className:"admin-select",value:A,onChange:ce=>T(ce.target.value),children:[l.jsx("option",{value:"",children:"Toutes"}),l.jsx("option",{value:"facile",children:"Facile"}),l.jsx("option",{value:"moyen",children:"Moyen"}),l.jsx("option",{value:"difficile",children:"Difficile"})]})]}),l.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{w(""),E(""),T(""),g("")},children:"Rinitialiser"})]}),i?l.jsxs("div",{className:"admin-loading",children:[l.jsx("div",{className:"admin-spinner"}),l.jsx("p",{children:"Chargement des quiz..."})]}):ve.length===0?l.jsxs("div",{className:"admin-empty-state",children:[l.jsx(sv,{size:48}),l.jsx("h3",{children:"Aucun quiz trouv"}),l.jsx("p",{children:t.length===0?"Crez votre premier quiz pour vos lves.":"Aucun quiz ne correspond  vos filtres."}),t.length===0&&l.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:xe,children:[l.jsx(Pg,{size:18})," Crer un quiz"]})]}):l.jsx("div",{className:"quiz-grid",children:ve.map(ce=>{const Ie=qO(ce);return l.jsxs("div",{className:"quiz-card",children:[l.jsxs("div",{className:"quiz-card-header",children:[l.jsxs("div",{className:"quiz-card-title-row",children:[l.jsx("h3",{className:"quiz-card-title",children:ce.titre}),ce.isPremium&&l.jsxs("span",{className:"quiz-badge quiz-badge-premium",children:[l.jsx(vi,{size:12})," Premium"]})]}),l.jsx("span",{className:"quiz-card-discipline",children:dt(ce.disciplineId)})]}),l.jsxs("div",{className:"quiz-card-stats",children:[l.jsxs("div",{className:"quiz-stat",children:[l.jsx(sv,{size:14}),l.jsxs("span",{children:[Ie.nombreQuestions," question(s)"]})]}),l.jsxs("div",{className:"quiz-stat",children:[l.jsx(Wa,{size:14}),l.jsxs("span",{children:[Ie.totalPoints," pts"]})]}),l.jsxs("div",{className:"quiz-stat",children:[l.jsx(wl,{size:14}),l.jsxs("span",{children:[Ie.duree," min"]})]})]}),l.jsxs("div",{className:"quiz-card-difficulty",children:[Ie.parDifficulte.facile>0&&l.jsx(gt,{level:"facile"}),Ie.parDifficulte.moyen>0&&l.jsx(gt,{level:"moyen"}),Ie.parDifficulte.difficile>0&&l.jsx(gt,{level:"difficile"})]}),l.jsxs("div",{className:"quiz-card-actions",children:[l.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>De(ce),title:"Prvisualiser",children:[l.jsx(Yh,{size:14})," Aperu"]}),l.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>Y(ce),title:"Modifier",children:[l.jsx(KY,{size:14})," Modifier"]}),pe===ce.id?l.jsxs("div",{className:"quiz-delete-confirm",children:[l.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-danger",onClick:()=>be(ce.id),children:"Confirmer"}),l.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-ghost",onClick:()=>Ee(null),children:"Annuler"})]}):l.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-danger-outline",onClick:()=>Ee(ce.id),title:"Supprimer",children:l.jsx(OO,{size:14})})]})]},ce.id)})})]}),It=()=>l.jsxs("div",{className:"quiz-manager",children:[l.jsxs("div",{className:"admin-header",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"admin-title",children:[l.jsx(Pr,{size:24}),M?"Modifier le quiz":"Nouveau quiz"]}),l.jsxs("p",{className:"admin-subtitle",children:[P.questions.length," question(s) ajoute(s)"]})]}),l.jsxs("div",{className:"admin-header-actions",children:[l.jsxs("button",{className:"admin-btn admin-btn-ghost",onClick:()=>z("list"),children:[l.jsx(Ic,{size:18})," Annuler"]}),l.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:W,disabled:L,children:[l.jsx(tX,{size:18})," ",L?"Enregistrement...":"Enregistrer"]})]})]}),l.jsxs("div",{className:"admin-card quiz-form-section",children:[l.jsx("h3",{className:"quiz-form-section-title",children:"Informations gnrales"}),l.jsxs("div",{className:"quiz-form-grid",children:[l.jsxs("div",{className:"admin-form-group quiz-form-full",children:[l.jsx("label",{className:"admin-label",children:"Titre du quiz *"}),l.jsx("input",{type:"text",className:"admin-input",placeholder:"Ex : Quiz - Les Misrables, Chapitre 1",value:P.titre,onChange:ce=>D(Ie=>({...Ie,titre:ce.target.value}))})]}),l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Discipline *"}),l.jsxs("select",{className:"admin-select",value:P.disciplineId,onChange:ce=>D(Ie=>({...Ie,disciplineId:ce.target.value})),children:[l.jsx("option",{value:"",children:"-- Slectionner --"}),n.map(ce=>l.jsx("option",{value:ce.id,children:ce.nom},ce.id))]})]}),l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Dure (minutes)"}),l.jsx("input",{type:"number",className:"admin-input",min:1,max:180,value:P.duree,onChange:ce=>D(Ie=>({...Ie,duree:parseInt(ce.target.value)||15}))})]}),l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Note minimale (%)"}),l.jsx("input",{type:"number",className:"admin-input",min:0,max:100,value:P.noteMinimale,onChange:ce=>D(Ie=>({...Ie,noteMinimale:parseInt(ce.target.value)||50}))})]}),l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Accs"}),l.jsxs("div",{className:`quiz-toggle ${P.isPremium?"quiz-toggle-active":""}`,onClick:()=>D(ce=>({...ce,isPremium:!ce.isPremium})),children:[l.jsx(vi,{size:16}),l.jsx("span",{children:P.isPremium?"Premium (2 000 FCFA/mois)":"Gratuit"})]})]})]})]}),l.jsxs("div",{className:"admin-card quiz-form-section",children:[l.jsxs("div",{className:"quiz-questions-header",children:[l.jsxs("h3",{className:"quiz-form-section-title",children:["Questions (",P.questions.length,")"]}),l.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-primary",onClick:Le,children:[l.jsx(Pg,{size:14})," Ajouter une question"]})]}),P.questions.length===0?l.jsxs("div",{className:"admin-empty-state",style:{padding:"2rem"},children:[l.jsx(sv,{size:36}),l.jsx("p",{children:'Aucune question. Cliquez sur "Ajouter une question" pour commencer.'})]}):l.jsx("div",{className:"quiz-questions-list",children:P.questions.map((ce,Ie)=>l.jsxs("div",{className:`quiz-question-item ${B===ce.id?"expanded":""}`,children:[l.jsxs("div",{className:"quiz-question-header",onClick:()=>U(B===ce.id?null:ce.id),children:[l.jsxs("div",{className:"quiz-question-header-left",children:[l.jsx(NY,{size:16,className:"quiz-grip-icon"}),l.jsxs("span",{className:"quiz-question-number",children:["Q",Ie+1]}),l.jsx("span",{className:"quiz-question-preview",children:ce.question||"Question sans nonc..."})]}),l.jsxs("div",{className:"quiz-question-header-right",children:[l.jsx(gt,{level:ce.difficulte||"moyen"}),l.jsxs("span",{className:"quiz-question-points",children:[ce.points," pt(s)"]}),B===ce.id?l.jsx(qw,{size:16}):l.jsx(kv,{size:16})]})]}),B===ce.id&&l.jsxs("div",{className:"quiz-question-body",children:[l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"nonc de la question *"}),l.jsx("textarea",{className:"admin-textarea",rows:2,placeholder:"Ex : Quel est le personnage principal du roman ?",value:ce.question,onChange:Ue=>Q(ce.id,"question",Ue.target.value)})]}),l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Options de rponse (cliquez sur la bonne rponse)"}),l.jsx("div",{className:"quiz-options-grid",children:ce.options.map((Ue,Ke)=>l.jsxs("div",{className:`quiz-option-item ${ce.reponseCorrecte===Ke?"quiz-option-correct":""}`,children:[l.jsx("button",{type:"button",className:`quiz-option-radio ${ce.reponseCorrecte===Ke?"active":""}`,onClick:()=>Q(ce.id,"reponseCorrecte",Ke),title:ce.reponseCorrecte===Ke?"Bonne rponse":"Marquer comme bonne rponse",children:ce.reponseCorrecte===Ke?l.jsx(_n,{size:16}):l.jsx("span",{className:"quiz-option-letter",children:String.fromCharCode(65+Ke)})}),l.jsx("input",{type:"text",className:"admin-input",placeholder:`Option ${String.fromCharCode(65+Ke)}`,value:Ue,onChange:Lt=>me(ce.id,Ke,Lt.target.value)})]},Ke))})]}),l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Explication (affiche aprs rponse)"}),l.jsx("textarea",{className:"admin-textarea",rows:2,placeholder:"Ex : Jean Valjean est le protagoniste du roman de Victor Hugo...",value:ce.explication,onChange:Ue=>Q(ce.id,"explication",Ue.target.value)})]}),l.jsxs("div",{className:"quiz-question-meta",children:[l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Difficult"}),l.jsxs("select",{className:"admin-select",value:ce.difficulte,onChange:Ue=>Q(ce.id,"difficulte",Ue.target.value),children:[l.jsx("option",{value:"facile",children:"Facile"}),l.jsx("option",{value:"moyen",children:"Moyen"}),l.jsx("option",{value:"difficile",children:"Difficile"})]})]}),l.jsxs("div",{className:"admin-form-group",children:[l.jsx("label",{className:"admin-label",children:"Points"}),l.jsx("input",{type:"number",className:"admin-input",min:1,max:10,value:ce.points,onChange:Ue=>Q(ce.id,"points",parseInt(Ue.target.value)||1)})]})]}),l.jsxs("div",{className:"quiz-question-actions",children:[l.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>se(ce.id),children:[l.jsx(vY,{size:14})," Dupliquer"]}),l.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-danger-outline",onClick:()=>Se(ce.id),children:[l.jsx(OO,{size:14})," Supprimer"]})]})]})]},ce.id))}),P.questions.length>0&&l.jsx("div",{className:"quiz-add-question-bottom",children:l.jsxs("button",{className:"admin-btn admin-btn-outline",onClick:Le,children:[l.jsx(Pg,{size:16})," Ajouter une question"]})})]})]}),Mr=()=>{if(!F)return null;const ce=qO(F);let Ie=0,Ue=0;return _e&&F.questions.forEach(Ke=>{Ue+=Ke.points||1,fe[Ke.id]===Ke.reponseCorrecte&&(Ie+=Ke.points||1)}),l.jsxs("div",{className:"quiz-manager",children:[l.jsxs("div",{className:"admin-header",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"admin-title",children:[l.jsx(Yh,{size:24})," Prvisualisation : ",F.titre]}),l.jsxs("p",{className:"admin-subtitle",children:[dt(F.disciplineId),"  ",ce.nombreQuestions," questions  ",ce.duree," min"]})]}),l.jsxs("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{z("list"),J(null)},children:[l.jsx(Ic,{size:18})," Fermer"]})]}),_e&&l.jsxs("div",{className:`quiz-preview-score ${Ie/Ue>=(F.noteMinimale||50)/100?"success":"fail"}`,children:[l.jsx(Wa,{size:32}),l.jsxs("div",{children:[l.jsxs("h3",{children:["Score : ",Ie,"/",Ue," (",Math.round(Ie/Ue*100),"%)"]}),l.jsxs("p",{children:["Note minimale : ",F.noteMinimale||50,"% "," ",Ie/Ue>=(F.noteMinimale||50)/100?" Russi !":" Non russi"]})]})]}),l.jsx("div",{className:"quiz-preview-questions",children:F.questions.map((Ke,Lt)=>{const zn=fe[Ke.id],zr=zn===Ke.reponseCorrecte;return l.jsxs("div",{className:"admin-card quiz-preview-question",children:[l.jsxs("div",{className:"quiz-preview-question-header",children:[l.jsxs("span",{className:"quiz-question-number",children:["Q",Lt+1]}),l.jsx(gt,{level:Ke.difficulte||"moyen"}),l.jsxs("span",{className:"quiz-question-points",children:[Ke.points," pt(s)"]})]}),l.jsx("p",{className:"quiz-preview-question-text",children:Ke.question}),l.jsx("div",{className:"quiz-preview-options",children:Ke.options.map((co,Lr)=>{let Gi="quiz-preview-option";return _e?Lr===Ke.reponseCorrecte?Gi+=" correct":Lr===zn&&!zr&&(Gi+=" incorrect"):zn===Lr&&(Gi+=" selected"),l.jsxs("button",{className:Gi,onClick:()=>Be(Ke.id,Lr),disabled:_e,children:[l.jsx("span",{className:"quiz-preview-option-letter",children:String.fromCharCode(65+Lr)}),l.jsx("span",{children:co}),_e&&Lr===Ke.reponseCorrecte&&l.jsx(_n,{size:16,className:"quiz-preview-check"})]},Lr)})}),_e&&Ke.explication&&l.jsxs("div",{className:"quiz-preview-explication",children:[l.jsx("strong",{children:"Explication :"})," ",Ke.explication]})]},Ke.id)})}),!_e&&l.jsx("div",{className:"quiz-preview-submit",children:l.jsxs("button",{className:"admin-btn admin-btn-primary admin-btn-lg",onClick:at,disabled:Object.keys(fe).length<F.questions.length,children:[l.jsx(_n,{size:18})," Soumettre (",Object.keys(fe).length,"/",F.questions.length,")"]})})]})};return l.jsxs("div",{className:"admin-container",children:[mr(),R==="list"&&Ot(),R==="form"&&It(),R==="preview"&&Mr()]})},m3=hr(Ge,"users"),fZ=hr(Ge,"quizResults"),hZ=async t=>{try{let e=Zr(m3,ha("displayName","asc"));t?.role;let r=(await Jr(e)).docs.map(i=>({uid:i.id,...i.data()}));return t?.isPremium,t?.isActive,t?.search,r}catch(e){throw console.error("Erreur lors de la rcupration des utilisateurs :",e),e}},mZ=async(t,e)=>{try{await $i(Ut(Ge,"users",t),{role:e,updatedAt:it.now()})}catch(n){throw console.error("Erreur lors de la mise  jour du rle :",n),n}},pZ=async(t,e)=>{try{const n={isPremium:e,updatedAt:it.now()};if(e){const r=new Date;r.setDate(r.getDate()+30),n.subscriptionEnd=it.fromDate(r)}else n.subscriptionEnd=null;await $i(Ut(Ge,"users",t),n)}catch(n){throw console.error("Erreur lors de la mise  jour du statut Premium :",n),n}},gZ=async(t,e)=>{try{await $i(Ut(Ge,"users",t),{isActive:e,updatedAt:it.now()})}catch(n){throw console.error("Erreur lors du changement de statut du compte :",n),n}},vZ=async t=>{try{const e=Zr(fZ,hi("userId","==",t)),r=(await Jr(e)).docs.map(f=>({id:f.id,...f.data()})),i=r.length,s=r.filter(f=>f.reussi).length,c=i>0?Math.round(r.reduce((f,h)=>f+h.score,0)/i):0,d=r.length>0?new Date(Math.max(...r.map(f=>{const h=f.datePassage;return h?.toDate?h.toDate().getTime():new Date(h).getTime()}))):null;return{totalQuizPasses:i,scoresMoyens:c,quizReussis:s,dernierQuiz:d}}catch(e){return console.error("Erreur lors du calcul des statistiques :",e),{totalQuizPasses:0,scoresMoyens:0,quizReussis:0,dernierQuiz:null}}},yZ=async()=>{try{const e=(await Jr(m3)).docs.map(n=>n.data());return{total:e.length,admins:e.filter(n=>n.role==="admin").length,profs:e.filter(n=>n.role==="prof").length,eleves:e.filter(n=>n.role==="eleve").length,premium:e.filter(n=>n.isPremium).length,actifs:e.filter(n=>n.isActive!==!1).length}}catch(t){throw console.error("Erreur lors du calcul des stats globales :",t),t}},bZ=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(null),[i,s]=_.useState(!0),[c,d]=_.useState(null),[f,h]=_.useState(null),[p,g]=_.useState(""),[y,w]=_.useState(""),[j,E]=_.useState(""),[A,T]=_.useState(""),[k,I]=_.useState(!1),[R,z]=_.useState(null),[M,O]=_.useState(null),[P,D]=_.useState(!1),[B,U]=_.useState(null),[L,q]=_.useState(null),pe=_.useCallback(async()=>{s(!0),d(null);try{const[Y,W]=await Promise.all([hZ(),yZ()]);e(Y),r(W)}catch(Y){d("Erreur lors du chargement des utilisateurs."),console.error(Y)}finally{s(!1)}},[]);_.useEffect(()=>{pe()},[pe]),_.useEffect(()=>{if(f){const Y=setTimeout(()=>h(null),4e3);return()=>clearTimeout(Y)}},[f]);const Ee=t.filter(Y=>{if(p){const W=p.toLowerCase();if(!Y.displayName?.toLowerCase().includes(W)&&!Y.email?.toLowerCase().includes(W))return!1}return!(y&&Y.role!==y||j==="true"&&!Y.isPremium||j==="false"&&Y.isPremium||A==="true"&&Y.isActive===!1||A==="false"&&Y.isActive!==!1)}),F=async Y=>{z(Y),D(!0);try{const W=await vZ(Y.uid);O(W)}catch(W){console.error("Erreur lors du chargement des statistiques :",W),O(null)}finally{D(!1)}},J=async()=>{if(L){U(L.userId);try{switch(L.type){case"role":await mZ(L.userId,L.value),h("Rle mis  jour avec succs.");break;case"premium":await pZ(L.userId,L.value),h(L.value?"Statut Premium activ (30 jours).":"Statut Premium dsactiv.");break;case"active":await gZ(L.userId,L.value),h(L.value?"Compte ractiv.":"Compte dsactiv.");break}await pe()}catch(Y){d("Erreur lors de l'excution de l'action."),console.error(Y)}finally{U(null),q(null)}}},fe=({role:Y})=>{const W={admin:{icon:l.jsx(tA,{size:12}),className:"user-badge-admin",label:"Admin"},prof:{icon:l.jsx(Cd,{size:12}),className:"user-badge-prof",label:"Professeur"},eleve:{icon:l.jsx(Pr,{size:12}),className:"user-badge-eleve",label:"lve"}},be=W[Y]||W.eleve;return l.jsxs("span",{className:`user-badge ${be.className}`,children:[be.icon," ",be.label]})},we=Y=>Y?(Y?.toDate?Y.toDate():new Date(Y)).toLocaleDateString("fr-SN",{day:"2-digit",month:"short",year:"numeric"}):"N/A",_e=Y=>Y?Y.charAt(0).toUpperCase():"?",H=()=>l.jsxs(l.Fragment,{children:[c&&l.jsxs("div",{className:"admin-message admin-message-error",children:[l.jsx(Dv,{size:18}),l.jsx("span",{children:c}),l.jsx("button",{onClick:()=>d(null),className:"admin-message-close",children:l.jsx(Ic,{size:16})})]}),f&&l.jsxs("div",{className:"admin-message admin-message-success",children:[l.jsx(_n,{size:18}),l.jsx("span",{children:f})]})]}),ie=()=>{if(!n)return null;const Y=[{label:"Total",value:n.total,icon:l.jsx(il,{size:20}),color:"stat-blue"},{label:"lves",value:n.eleves,icon:l.jsx(Pr,{size:20}),color:"stat-green"},{label:"Professeurs",value:n.profs,icon:l.jsx(Cd,{size:20}),color:"stat-purple"},{label:"Premium",value:n.premium,icon:l.jsx(vi,{size:20}),color:"stat-gold"}];return l.jsx("div",{className:"user-stats-grid",children:Y.map(W=>l.jsxs("div",{className:`user-stat-card ${W.color}`,children:[l.jsx("div",{className:"user-stat-icon",children:W.icon}),l.jsxs("div",{className:"user-stat-info",children:[l.jsx("span",{className:"user-stat-value",children:W.value}),l.jsx("span",{className:"user-stat-label",children:W.label})]})]},W.label))})},ve=()=>L?l.jsx("div",{className:"admin-modal-overlay",onClick:()=>q(null),children:l.jsxs("div",{className:"admin-modal",onClick:Y=>Y.stopPropagation(),children:[l.jsxs("div",{className:"admin-modal-header",children:[l.jsx("h3",{children:"Confirmer l'action"}),l.jsx("button",{className:"admin-modal-close",onClick:()=>q(null),children:l.jsx(Ic,{size:20})})]}),l.jsx("div",{className:"admin-modal-body",children:l.jsx("p",{children:L.label})}),l.jsxs("div",{className:"admin-modal-footer",children:[l.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>q(null),children:"Annuler"}),l.jsx("button",{className:"admin-btn admin-btn-primary",onClick:J,disabled:B===L.userId,children:B===L.userId?"En cours...":"Confirmer"})]})]})}):null,xe=()=>R?l.jsx("div",{className:"admin-modal-overlay",onClick:()=>z(null),children:l.jsxs("div",{className:"admin-modal admin-modal-lg",onClick:Y=>Y.stopPropagation(),children:[l.jsxs("div",{className:"admin-modal-header",children:[l.jsx("h3",{children:"Dtail de l'utilisateur"}),l.jsx("button",{className:"admin-modal-close",onClick:()=>z(null),children:l.jsx(Ic,{size:20})})]}),l.jsxs("div",{className:"admin-modal-body",children:[l.jsxs("div",{className:"user-detail-profile",children:[l.jsx("div",{className:"user-detail-avatar",children:_e(R.displayName)}),l.jsxs("div",{className:"user-detail-info",children:[l.jsx("h4",{children:R.displayName||"Sans nom"}),l.jsx("p",{children:R.email}),l.jsxs("div",{className:"user-detail-badges",children:[l.jsx(fe,{role:R.role}),R.isPremium&&l.jsxs("span",{className:"user-badge user-badge-premium",children:[l.jsx(vi,{size:12})," Premium"]}),l.jsx("span",{className:`user-badge ${R.isActive!==!1?"user-badge-active":"user-badge-inactive"}`,children:R.isActive!==!1?"Actif":"Dsactiv"})]})]})]}),l.jsxs("div",{className:"user-detail-dates",children:[l.jsxs("div",{children:[l.jsx("span",{className:"user-detail-date-label",children:"Inscription"}),l.jsx("span",{children:we(R.createdAt)})]}),R.isPremium&&R.subscriptionEnd&&l.jsxs("div",{children:[l.jsx("span",{className:"user-detail-date-label",children:"Premium jusqu'au"}),l.jsx("span",{children:we(R.subscriptionEnd)})]})]}),l.jsxs("div",{className:"user-detail-stats-section",children:[l.jsxs("h4",{children:[l.jsx(Ns,{size:18})," Statistiques"]}),P?l.jsxs("div",{className:"admin-loading",style:{padding:"1rem"},children:[l.jsx("div",{className:"admin-spinner"}),l.jsx("p",{children:"Chargement des statistiques..."})]}):M?l.jsxs("div",{className:"user-detail-stats-grid",children:[l.jsxs("div",{className:"user-detail-stat",children:[l.jsx(Pr,{size:20}),l.jsx("span",{className:"user-detail-stat-value",children:M.totalQuizPasses}),l.jsx("span",{className:"user-detail-stat-label",children:"Quiz passs"})]}),l.jsxs("div",{className:"user-detail-stat",children:[l.jsx(Xh,{size:20}),l.jsxs("span",{className:"user-detail-stat-value",children:[M.scoresMoyens,"%"]}),l.jsx("span",{className:"user-detail-stat-label",children:"Score moyen"})]}),l.jsxs("div",{className:"user-detail-stat",children:[l.jsx(Wa,{size:20}),l.jsx("span",{className:"user-detail-stat-value",children:M.quizReussis}),l.jsx("span",{className:"user-detail-stat-label",children:"Quiz russis"})]}),l.jsxs("div",{className:"user-detail-stat",children:[l.jsx(wl,{size:20}),l.jsx("span",{className:"user-detail-stat-value",children:M.dernierQuiz?we(M.dernierQuiz):"Aucun"}),l.jsx("span",{className:"user-detail-stat-label",children:"Dernier quiz"})]})]}):l.jsx("p",{className:"user-detail-no-stats",children:"Aucune statistique disponible."})]})]})]})}):null;return l.jsxs("div",{className:"admin-container",children:[H(),ve(),xe(),l.jsxs("div",{className:"user-manager",children:[l.jsxs("div",{className:"admin-header",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"admin-title",children:[l.jsx(il,{size:24})," Gestion des Utilisateurs"]}),l.jsxs("p",{className:"admin-subtitle",children:[t.length," utilisateur(s) au total  ",Ee.length," affich(s)"]})]}),l.jsxs("button",{className:"admin-btn admin-btn-outline",onClick:pe,children:[l.jsx(Kw,{size:16})," Actualiser"]})]}),ie(),l.jsxs("div",{className:"admin-toolbar",children:[l.jsxs("div",{className:"admin-search-wrapper",children:[l.jsx(eA,{size:18,className:"admin-search-icon"}),l.jsx("input",{type:"text",className:"admin-search-input",placeholder:"Rechercher par nom ou email...",value:p,onChange:Y=>g(Y.target.value)})]}),l.jsxs("button",{className:`admin-btn admin-btn-outline ${k?"active":""}`,onClick:()=>I(!k),children:[l.jsx(l3,{size:16})," Filtres",k?l.jsx(qw,{size:14}):l.jsx(kv,{size:14})]})]}),k&&l.jsxs("div",{className:"admin-filters-panel",children:[l.jsxs("div",{className:"admin-filter-group",children:[l.jsx("label",{className:"admin-filter-label",children:"Rle"}),l.jsxs("select",{className:"admin-select",value:y,onChange:Y=>w(Y.target.value),children:[l.jsx("option",{value:"",children:"Tous les rles"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"prof",children:"Professeur"}),l.jsx("option",{value:"eleve",children:"lve"})]})]}),l.jsxs("div",{className:"admin-filter-group",children:[l.jsx("label",{className:"admin-filter-label",children:"Abonnement"}),l.jsxs("select",{className:"admin-select",value:j,onChange:Y=>E(Y.target.value),children:[l.jsx("option",{value:"",children:"Tous"}),l.jsx("option",{value:"true",children:"Premium"}),l.jsx("option",{value:"false",children:"Gratuit"})]})]}),l.jsxs("div",{className:"admin-filter-group",children:[l.jsx("label",{className:"admin-filter-label",children:"Statut"}),l.jsxs("select",{className:"admin-select",value:A,onChange:Y=>T(Y.target.value),children:[l.jsx("option",{value:"",children:"Tous"}),l.jsx("option",{value:"true",children:"Actifs"}),l.jsx("option",{value:"false",children:"Dsactivs"})]})]}),l.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{w(""),E(""),T(""),g("")},children:"Rinitialiser"})]}),i?l.jsxs("div",{className:"admin-loading",children:[l.jsx("div",{className:"admin-spinner"}),l.jsx("p",{children:"Chargement des utilisateurs..."})]}):Ee.length===0?l.jsxs("div",{className:"admin-empty-state",children:[l.jsx(il,{size:48}),l.jsx("h3",{children:"Aucun utilisateur trouv"}),l.jsx("p",{children:t.length===0?"Aucun utilisateur n'est encore inscrit.":"Aucun utilisateur ne correspond  vos filtres."})]}):l.jsx("div",{className:"user-table-wrapper",children:l.jsxs("table",{className:"user-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Utilisateur"}),l.jsx("th",{children:"Rle"}),l.jsx("th",{children:"Abonnement"}),l.jsx("th",{children:"Statut"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:Ee.map(Y=>l.jsxs("tr",{className:Y.isActive===!1?"user-row-inactive":"",children:[l.jsx("td",{children:l.jsxs("div",{className:"user-cell-info",children:[l.jsx("div",{className:"user-avatar-sm",children:_e(Y.displayName)}),l.jsxs("div",{children:[l.jsx("span",{className:"user-cell-name",children:Y.displayName||"Sans nom"}),l.jsx("span",{className:"user-cell-email",children:Y.email})]})]})}),l.jsx("td",{children:l.jsxs("select",{className:"admin-select admin-select-sm",value:Y.role,onChange:W=>q({type:"role",userId:Y.uid,value:W.target.value,label:`Changer le rle de "${Y.displayName||Y.email}" en "${W.target.value}" ?`}),children:[l.jsx("option",{value:"eleve",children:"lve"}),l.jsx("option",{value:"prof",children:"Professeur"}),l.jsx("option",{value:"admin",children:"Admin"})]})}),l.jsx("td",{children:l.jsx("button",{className:`user-premium-toggle ${Y.isPremium?"active":""}`,onClick:()=>q({type:"premium",userId:Y.uid,value:!Y.isPremium,label:Y.isPremium?`Dsactiver le statut Premium de "${Y.displayName||Y.email}" ?`:`Activer le statut Premium de "${Y.displayName||Y.email}" pour 30 jours ?`}),disabled:B===Y.uid,children:Y.isPremium?l.jsxs(l.Fragment,{children:[l.jsx(jh,{size:14})," Premium"]}):l.jsxs(l.Fragment,{children:[l.jsx(vi,{size:14})," Gratuit"]})})}),l.jsx("td",{children:l.jsx("button",{className:`user-status-toggle ${Y.isActive!==!1?"active":"inactive"}`,onClick:()=>q({type:"active",userId:Y.uid,value:Y.isActive===!1,label:Y.isActive===!1?`Ractiver le compte de "${Y.displayName||Y.email}" ?`:`Dsactiver le compte de "${Y.displayName||Y.email}" ?`}),disabled:B===Y.uid,children:Y.isActive!==!1?l.jsxs(l.Fragment,{children:[l.jsx(yX,{size:14})," Actif"]}):l.jsxs(l.Fragment,{children:[l.jsx(_X,{size:14})," Dsactiv"]})})}),l.jsx("td",{children:l.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>F(Y),title:"Voir les statistiques",children:[l.jsx(Yh,{size:14})," Dtail"]})})]},Y.uid))})]})})]})]})},p3=hr(Ge,"quiz_results"),_Z=async t=>{try{return(await au(p3,{...t,datePassage:it.now()})).id}catch(e){throw console.error("Erreur lors de la sauvegarde du rsultat :",e),e}},c0=async(t,e)=>{try{let n=Zr(p3,hi("userId","==",t),ha("datePassage","desc"));return e&&(n=Zr(n,Hj(e))),(await Jr(n)).docs.map(i=>({id:i.id,...i.data()}))}catch(n){throw console.error("Erreur lors de la rcupration de l'historique :",n),n}},xZ=async t=>{try{const e=await c0(t);if(e.length===0)return{totalQuizPasses:0,totalQuizReussis:0,moyenneGenerale:0,tempsTotal:0,meilleurScore:0,serieReussites:0,meilleureSerieReussites:0};const n=e.reduce((p,g)=>p+g.pourcentage,0),r=Math.round(n/e.length),i=Math.max(...e.map(p=>p.pourcentage)),s=e.reduce((p,g)=>p+(g.tempsEcoule||0),0),c=e.filter(p=>p.reussi).length;let d=0,f=0;for(const p of e)p.reussi?(d++,f=Math.max(f,d)):(e.find(g=>!g.reussi),f=Math.max(f,d),d=0);let h=0;for(const p of e)if(p.reussi)h++;else break;return{totalQuizPasses:e.length,totalQuizReussis:c,moyenneGenerale:r,tempsTotal:s,meilleurScore:i,serieReussites:h,meilleureSerieReussites:Math.max(f,h)}}catch(e){return console.error("Erreur lors du calcul des stats :",e),{totalQuizPasses:0,totalQuizReussis:0,moyenneGenerale:0,tempsTotal:0,meilleurScore:0,serieReussites:0,meilleureSerieReussites:0}}},wZ=async t=>{try{const e=await c0(t);if(e.length===0)return[];const n={};for(const r of e){const i=r.disciplineId;n[i]||(n[i]=[]),n[i].push(r)}return Object.entries(n).map(([r,i])=>{const s=Math.round(i.reduce((g,y)=>g+y.pourcentage,0)/i.length),c=Math.max(...i.map(g=>g.pourcentage)),d=i[0].pourcentage,f=i.filter(g=>g.reussi).length,h=i.reduce((g,y)=>g+(y.tempsEcoule||0),0);let p="stable";if(i.length>=4){const g=i.slice(0,3),y=i.slice(3,6),w=g.reduce((E,A)=>E+A.pourcentage,0)/g.length,j=y.reduce((E,A)=>E+A.pourcentage,0)/y.length;w-j>5?p="up":j-w>5&&(p="down")}return{disciplineId:r,disciplineNom:i[0].disciplineNom||r,nombreQuiz:i.length,moyenne:s,meilleurScore:c,dernierScore:d,quizReussis:f,tempsTotal:h,tendance:p}})}catch(e){return console.error("Erreur lors du calcul de la progression par discipline :",e),[]}},EZ=async(t,e)=>{try{return(await c0(t,e||20)).reverse().map(r=>({date:(r.datePassage?.toDate?r.datePassage.toDate():new Date(r.datePassage)).toLocaleDateString("fr-SN",{day:"2-digit",month:"2-digit"}),score:r.pourcentage,discipline:r.disciplineNom||r.disciplineId}))}catch(n){return console.error("Erreur lors de la rcupration des donnes temporelles :",n),[]}},jZ=(t,e)=>[{id:"premier_quiz",nom:"Premier pas",description:"Passer votre premier quiz",icone:"",condition:"1 quiz pass",obtenu:t.totalQuizPasses>=1},{id:"dix_quiz",nom:"Explorateur",description:"Passer 10 quiz",icone:"",condition:"10 quiz passs",obtenu:t.totalQuizPasses>=10},{id:"vingt_cinq_quiz",nom:"Assidu",description:"Passer 25 quiz",icone:"",condition:"25 quiz passs",obtenu:t.totalQuizPasses>=25},{id:"cinquante_quiz",nom:"Champion",description:"Passer 50 quiz",icone:"",condition:"50 quiz passs",obtenu:t.totalQuizPasses>=50},{id:"score_parfait",nom:"Score parfait",description:"Obtenir 100%  un quiz",icone:"",condition:"100%  un quiz",obtenu:t.meilleurScore>=100},{id:"moyenne_80",nom:"Excellent",description:"Maintenir une moyenne de 80%+",icone:"",condition:"Moyenne  80%",obtenu:t.moyenneGenerale>=80&&t.totalQuizPasses>=5},{id:"moyenne_60",nom:"Bon lve",description:"Maintenir une moyenne de 60%+",icone:"",condition:"Moyenne  60%",obtenu:t.moyenneGenerale>=60&&t.totalQuizPasses>=5},{id:"serie_3",nom:"En forme",description:"3 quiz russis d'affile",icone:"",condition:"Srie de 3 russites",obtenu:t.meilleureSerieReussites>=3},{id:"serie_5",nom:"Imbattable",description:"5 quiz russis d'affile",icone:"",condition:"Srie de 5 russites",obtenu:t.meilleureSerieReussites>=5},{id:"serie_10",nom:"Lgende",description:"10 quiz russis d'affile",icone:"",condition:"Srie de 10 russites",obtenu:t.meilleureSerieReussites>=10},{id:"multi_3",nom:"Polyvalent",description:"Passer des quiz dans 3 disciplines",icone:"",condition:"3 disciplines diffrentes",obtenu:e.length>=3},{id:"multi_5",nom:"Touche--tout",description:"Passer des quiz dans 5 disciplines",icone:"",condition:"5 disciplines diffrentes",obtenu:e.length>=5}],g3=t=>{if(t<60)return`${t} s`;const e=Math.floor(t/60),n=t%60;return n>0?`${e} min ${n.toString().padStart(2,"0")} s`:`${e} min`},sd=t=>t>=80?"#10b981":t>=60?"#3b82f6":t>=40?"#f59e0b":"#ef4444",v3=t=>t>=80?"Excellent":t>=60?"Bien":t>=40?"Passable":" amliorer",AZ=()=>{const{quizId:t}=t4(),e=Zs(),{currentUser:n}=wi(),[r,i]=_.useState(null),[s,c]=_.useState(""),[d,f]=_.useState(!0),[h,p]=_.useState(null),[g,y]=_.useState("intro"),[w,j]=_.useState(0),[E,A]=_.useState({}),[T,k]=_.useState(0),[I,R]=_.useState(0),z=_.useRef(null),[M,O]=_.useState(0),[P,D]=_.useState(0),[B,U]=_.useState(0),[L,q]=_.useState(!1),[pe,Ee]=_.useState(!1);_.useEffect(()=>{(async()=>{if(!t){p("ID du quiz manquant."),f(!1);return}try{const W=await sZ(t);if(!W){p("Quiz introuvable."),f(!1);return}i(W),k(W.duree*60);try{const Le=(await Os.getAll()).find(se=>se.id===W.disciplineId);c(Le?.nom||Le?.name||W.disciplineId)}catch{c(W.disciplineId)}}catch(W){p("Erreur lors du chargement du quiz."),console.error(W)}finally{f(!1)}})()},[t]),_.useEffect(()=>{if(g==="playing")return z.current=setInterval(()=>{k(Y=>Y<=1?(clearInterval(z.current),we(),0):Y-1),R(Y=>Y+1)},1e3),()=>{z.current&&clearInterval(z.current)}},[g]);const F=()=>{y("playing"),j(0),A({}),R(0),r&&k(r.duree*60)},J=(Y,W)=>{A(be=>({...be,[Y]:W}))},fe=Y=>{r&&Y>=0&&Y<r.questions.length&&j(Y)},we=_.useCallback(async()=>{if(!r||!n||g==="review")return;z.current&&clearInterval(z.current);let Y=0,W=0,be=0;r.questions.forEach(Se=>{const Q=Se.points||1;W+=Q,E[Se.id]===Se.reponseCorrecte&&(Y+=Q,be++)});const Le=W>0?Math.round(Y/W*100):0,se=Le>=(r.noteMinimale||50);O(Y),D(W),U(be),y("review"),q(!0);try{const Se={quizId:r.id,quizTitre:r.titre,disciplineId:r.disciplineId,disciplineNom:s,userId:n.uid,reponses:r.questions.map(Q=>E[Q.id]??-1),tempsEcoule:I,score:Y,totalPoints:W,pourcentage:Le,reussi:se,nombreQuestions:r.questions.length,bonnesReponses:be};await _Z(Se),Ee(!0)}catch(Se){console.error("Erreur lors de la sauvegarde :",Se)}finally{q(!1)}},[r,n,E,I,s,g]),_e=Y=>{const W=Math.floor(Y/60),be=Y%60;return`${W.toString().padStart(2,"0")}:${be.toString().padStart(2,"0")}`},H=()=>{if(!r)return"";const Y=r.duree*60,W=T/Y;return W<=.1?"timer-critical":W<=.25?"timer-warning":""},ie=Object.keys(E).length;if(d)return l.jsxs("div",{className:"quiz-player-loading",children:[l.jsx("div",{className:"admin-spinner"}),l.jsx("p",{children:"Chargement du quiz..."})]});if(h||!r)return l.jsxs("div",{className:"quiz-player-error",children:[l.jsx(Dv,{size:48}),l.jsx("h3",{children:h||"Quiz introuvable"}),l.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>e("/eleve/dashboard"),children:[l.jsx($w,{size:18})," Retour au tableau de bord"]})]});if(r.isPremium&&!n?.isPremium)return l.jsx("div",{className:"quiz-player-locked",children:l.jsxs("div",{className:"qp-locked-card",children:[l.jsx(Fw,{size:48}),l.jsx("h3",{children:"Quiz Premium"}),l.jsx("p",{children:"Ce quiz est rserv aux abonns Premium."}),l.jsxs("p",{className:"qp-locked-price",children:[" partir de ",l.jsx("strong",{children:"2 000 FCFA/mois"})]}),l.jsxs("div",{className:"qp-locked-actions",children:[l.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>e("/premium"),children:[l.jsx(vi,{size:18})," Devenir Premium"]}),l.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:()=>e("/eleve/dashboard"),children:[l.jsx(Ex,{size:18})," Retour"]})]})]})});if(g==="intro")return l.jsx("div",{className:"quiz-player-intro",children:l.jsxs("div",{className:"qp-intro-card",children:[l.jsxs("div",{className:"qp-intro-header",children:[l.jsxs("button",{className:"qp-back-btn",onClick:()=>e(-1),children:[l.jsx(Ex,{size:20})," Retour"]}),r.isPremium&&l.jsxs("span",{className:"qp-badge qp-badge-premium",children:[l.jsx(vi,{size:12})," Premium"]})]}),l.jsxs("div",{className:"qp-intro-content",children:[l.jsx("h1",{className:"qp-intro-title",children:r.titre}),l.jsx("span",{className:"qp-intro-discipline",children:s}),l.jsxs("div",{className:"qp-intro-stats",children:[l.jsxs("div",{className:"qp-intro-stat",children:[l.jsx(Pr,{size:20}),l.jsxs("div",{children:[l.jsx("span",{className:"qp-intro-stat-value",children:r.questions.length}),l.jsx("span",{className:"qp-intro-stat-label",children:"Questions"})]})]}),l.jsxs("div",{className:"qp-intro-stat",children:[l.jsx(wl,{size:20}),l.jsxs("div",{children:[l.jsxs("span",{className:"qp-intro-stat-value",children:[r.duree," min"]}),l.jsx("span",{className:"qp-intro-stat-label",children:"Dure"})]})]}),l.jsxs("div",{className:"qp-intro-stat",children:[l.jsx(Wa,{size:20}),l.jsxs("div",{children:[l.jsxs("span",{className:"qp-intro-stat-value",children:[r.noteMinimale||50,"%"]}),l.jsx("span",{className:"qp-intro-stat-label",children:"Note min."})]})]})]}),l.jsxs("div",{className:"qp-intro-instructions",children:[l.jsx("h3",{children:"Instructions"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Rpondez  toutes les questions dans le temps imparti"}),l.jsx("li",{children:"Chaque question a une seule bonne rponse"}),l.jsx("li",{children:"Vous pouvez naviguer entre les questions"}),l.jsx("li",{children:"Le quiz est soumis automatiquement quand le temps est coul"}),l.jsxs("li",{children:["Il faut obtenir au moins ",r.noteMinimale||50,"% pour russir"]})]})]})]}),l.jsxs("button",{className:"qp-btn qp-btn-start",onClick:F,children:[l.jsx(Mh,{size:20})," Commencer le quiz"]})]})});if(g==="playing"){const Y=r.questions[w];return l.jsxs("div",{className:"quiz-player-game",children:[l.jsxs("div",{className:"qp-game-header",children:[l.jsxs("div",{className:"qp-game-info",children:[l.jsx("span",{className:"qp-game-title",children:r.titre}),l.jsx("span",{className:"qp-game-discipline",children:s})]}),l.jsxs("div",{className:`qp-timer ${H()}`,children:[l.jsx(cX,{size:18}),l.jsx("span",{children:_e(T)})]})]}),l.jsx("div",{className:"qp-progress-bar",children:l.jsx("div",{className:"qp-progress-fill",style:{width:`${(w+1)/r.questions.length*100}%`}})}),l.jsxs("div",{className:"qp-game-content",children:[l.jsxs("div",{className:"qp-question-header",children:[l.jsxs("span",{className:"qp-question-number",children:["Question ",w+1,"/",r.questions.length]}),l.jsxs("span",{className:"qp-question-points",children:[Y.points||1," pt(s)"]})]}),l.jsx("h2",{className:"qp-question-text",children:Y.question}),l.jsx("div",{className:"qp-options-list",children:Y.options.map((W,be)=>l.jsxs("button",{className:`qp-option ${E[Y.id]===be?"selected":""}`,onClick:()=>J(Y.id,be),children:[l.jsx("span",{className:"qp-option-letter",children:String.fromCharCode(65+be)}),l.jsx("span",{className:"qp-option-text",children:W}),E[Y.id]===be&&l.jsx(_n,{size:18,className:"qp-option-check"})]},be))})]}),l.jsxs("div",{className:"qp-game-footer",children:[l.jsx("div",{className:"qp-question-indicators",children:r.questions.map((W,be)=>l.jsx("button",{className:`qp-indicator ${be===w?"active":""} ${E[W.id]!==void 0?"answered":""}`,onClick:()=>fe(be),children:be+1},W.id))}),l.jsxs("div",{className:"qp-nav-buttons",children:[l.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:()=>fe(w-1),disabled:w===0,children:[l.jsx(Ex,{size:16})," Prcdent"]}),w<r.questions.length-1?l.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>fe(w+1),children:["Suivant ",l.jsx(pc,{size:16})]}):l.jsxs("button",{className:"qp-btn qp-btn-submit",onClick:we,disabled:ie<r.questions.length,children:[l.jsx(_n,{size:16}),"Soumettre (",ie,"/",r.questions.length,")"]})]})]})]})}const ve=P>0?Math.round(M/P*100):0,xe=ve>=(r.noteMinimale||50);return l.jsxs("div",{className:"quiz-player-review",children:[l.jsxs("div",{className:`qp-score-card ${xe?"success":"fail"}`,children:[l.jsx("div",{className:"qp-score-icon",children:xe?l.jsx(Wa,{size:48}):l.jsx(Dv,{size:48})}),l.jsx("h2",{className:"qp-score-title",children:xe?"Flicitations ! ":"Continuez vos efforts ! "}),l.jsxs("div",{className:"qp-score-circle",style:{borderColor:sd(ve)},children:[l.jsxs("span",{className:"qp-score-value",children:[ve,"%"]}),l.jsx("span",{className:"qp-score-label",children:v3(ve)})]}),l.jsxs("div",{className:"qp-score-details",children:[l.jsxs("div",{className:"qp-score-detail",children:[l.jsxs("span",{children:[B,"/",r.questions.length]}),l.jsx("small",{children:"Bonnes rponses"})]}),l.jsxs("div",{className:"qp-score-detail",children:[l.jsxs("span",{children:[M,"/",P]}),l.jsx("small",{children:"Points"})]}),l.jsxs("div",{className:"qp-score-detail",children:[l.jsx("span",{children:g3(I)}),l.jsx("small",{children:"Temps"})]})]}),L&&l.jsx("p",{className:"qp-saving",children:"Sauvegarde en cours..."}),pe&&l.jsx("p",{className:"qp-saved",children:" Rsultat sauvegard"})]}),l.jsxs("div",{className:"qp-review-actions",children:[l.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>e("/eleve/dashboard"),children:[l.jsx($w,{size:18})," Tableau de bord"]}),l.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:F,children:[l.jsx(JY,{size:18})," Recommencer"]})]}),l.jsxs("div",{className:"qp-review-questions",children:[l.jsx("h3",{className:"qp-review-title",children:"Correction dtaille"}),r.questions.map((Y,W)=>{const be=E[Y.id],Le=be===Y.reponseCorrecte;return l.jsxs("div",{className:`qp-review-question ${Le?"correct":"incorrect"}`,children:[l.jsxs("div",{className:"qp-review-question-header",children:[l.jsxs("span",{className:"qp-review-q-number",children:["Q",W+1]}),Le?l.jsxs("span",{className:"qp-review-badge correct",children:[l.jsx(_n,{size:14})," Correct"]}):l.jsxs("span",{className:"qp-review-badge incorrect",children:[l.jsx(Bw,{size:14})," Incorrect"]}),l.jsxs("span",{className:"qp-review-q-points",children:[Le?Y.points||1:0,"/",Y.points||1," pt(s)"]})]}),l.jsx("p",{className:"qp-review-q-text",children:Y.question}),l.jsx("div",{className:"qp-review-options",children:Y.options.map((se,Se)=>{let Q="qp-review-option";return Se===Y.reponseCorrecte&&(Q+=" correct-answer"),Se===be&&!Le&&(Q+=" wrong-answer"),l.jsxs("div",{className:Q,children:[l.jsx("span",{className:"qp-review-option-letter",children:String.fromCharCode(65+Se)}),l.jsx("span",{children:se}),Se===Y.reponseCorrecte&&l.jsx(_n,{size:14,className:"qp-review-check"}),Se===be&&!Le&&l.jsx(Bw,{size:14,className:"qp-review-x"})]},Se)})}),Y.explication&&l.jsxs("div",{className:"qp-review-explication",children:[l.jsx("strong",{children:" Explication :"})," ",Y.explication]})]},Y.id)})]})]})};function y3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=y3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function vt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=y3(t))&&(r&&(r+=" "),r+=e);return r}var SZ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function nA(t){if(typeof t!="string")return!1;var e=SZ;return e.includes(t)}var NZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],TZ=new Set(NZ);function b3(t){return typeof t!="string"?!1:TZ.has(t)}function _3(t){return typeof t=="string"&&t.startsWith("data-")}function Rr(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(b3(n)||_3(n))&&(e[n]=t[n]);return e}function Kc(t){if(t==null)return null;if(_.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Rr(e)}return typeof t=="object"&&!Array.isArray(t)?Rr(t):null}function Ar(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(b3(n)||_3(n)||nA(n))&&(e[n]=t[n]);return e}function CZ(t){return t==null?null:_.isValidElement(t)?Ar(t.props):typeof t=="object"&&!Array.isArray(t)?Ar(t):null}var PZ=["children","width","height","viewBox","className","style","title","desc"];function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ww.apply(null,arguments)}function OZ(t,e){if(t==null)return{};var n,r,i=IZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function IZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rA=_.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:c,style:d,title:f,desc:h}=t,p=OZ(t,PZ),g=s||{width:r,height:i,x:0,y:0},y=vt("recharts-surface",c);return _.createElement("svg",Ww({},Ar(p),{className:y,width:r,height:i,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),_.createElement("title",null,f),_.createElement("desc",null,h),n)}),RZ=["children","className"];function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(null,arguments)}function kZ(t,e){if(t==null)return{};var n,r,i=DZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function DZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hn=_.forwardRef((t,e)=>{var{children:n,className:r}=t,i=kZ(t,RZ),s=vt("recharts-layer",r);return _.createElement("g",Qw({className:s},Ar(i),{ref:e}),n)}),x3=_.createContext(null),MZ=()=>_.useContext(x3);function Bt(t){return function(){return t}}const w3=Math.cos,Lv=Math.sin,ga=Math.sqrt,Vv=Math.PI,u0=2*Vv,Yw=Math.PI,Xw=2*Yw,gc=1e-6,zZ=Xw-gc;function E3(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function LZ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return E3;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class VZ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?E3:LZ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,c){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+c}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,d=this._y1,f=r-e,h=i-n,p=c-e,g=d-n,y=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>gc)if(!(Math.abs(g*f-h*p)>gc)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-c,j=i-d,E=f*f+h*h,A=w*w+j*j,T=Math.sqrt(E),k=Math.sqrt(y),I=s*Math.tan((Yw-Math.acos((E+y-A)/(2*T*k)))/2),R=I/k,z=I/T;Math.abs(R-1)>gc&&this._append`L${e+R*p},${n+R*g}`,this._append`A${s},${s},0,0,${+(g*w>p*j)},${this._x1=e+z*f},${this._y1=n+z*h}`}}arc(e,n,r,i,s,c){if(e=+e,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(i),f=r*Math.sin(i),h=e+d,p=n+f,g=1^c,y=c?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>gc||Math.abs(this._y1-p)>gc)&&this._append`L${h},${p}`,r&&(y<0&&(y=y%Xw+Xw),y>zZ?this._append`A${r},${r},0,1,${g},${e-d},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:y>gc&&this._append`A${r},${r},0,${+(y>=Yw)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function iA(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new VZ(e)}function aA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function j3(t){this._context=t}j3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function d0(t){return new j3(t)}function A3(t){return t[0]}function S3(t){return t[1]}function N3(t,e){var n=Bt(!0),r=null,i=d0,s=null,c=iA(d);t=typeof t=="function"?t:t===void 0?A3:Bt(t),e=typeof e=="function"?e:e===void 0?S3:Bt(e);function d(f){var h,p=(f=aA(f)).length,g,y=!1,w;for(r==null&&(s=i(w=c())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+t(g,h,f),+e(g,h,f));if(w)return s=null,w+""||null}return d.x=function(f){return arguments.length?(t=typeof f=="function"?f:Bt(+f),d):t},d.y=function(f){return arguments.length?(e=typeof f=="function"?f:Bt(+f),d):e},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Bt(!!f),d):n},d.curve=function(f){return arguments.length?(i=f,r!=null&&(s=i(r)),d):i},d.context=function(f){return arguments.length?(f==null?r=s=null:s=i(r=f),d):r},d}function kg(t,e,n){var r=null,i=Bt(!0),s=null,c=d0,d=null,f=iA(h);t=typeof t=="function"?t:t===void 0?A3:Bt(+t),e=typeof e=="function"?e:Bt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?S3:Bt(+n);function h(g){var y,w,j,E=(g=aA(g)).length,A,T=!1,k,I=new Array(E),R=new Array(E);for(s==null&&(d=c(k=f())),y=0;y<=E;++y){if(!(y<E&&i(A=g[y],y,g))===T)if(T=!T)w=y,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),j=y-1;j>=w;--j)d.point(I[j],R[j]);d.lineEnd(),d.areaEnd()}T&&(I[y]=+t(A,y,g),R[y]=+e(A,y,g),d.point(r?+r(A,y,g):I[y],n?+n(A,y,g):R[y]))}if(k)return d=null,k+""||null}function p(){return N3().defined(i).curve(c).context(s)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Bt(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Bt(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Bt(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:Bt(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Bt(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Bt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Bt(!!g),h):i},h.curve=function(g){return arguments.length?(c=g,s!=null&&(d=c(s)),h):c},h.context=function(g){return arguments.length?(g==null?s=d=null:d=c(s=g),h):s},h}class T3{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function UZ(t){return new T3(t,!0)}function qZ(t){return new T3(t,!1)}const sA={draw(t,e){const n=ga(e/Vv);t.moveTo(n,0),t.arc(0,0,n,0,u0)}},BZ={draw(t,e){const n=ga(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},C3=ga(1/3),$Z=C3*2,FZ={draw(t,e){const n=ga(e/$Z),r=n*C3;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},HZ={draw(t,e){const n=ga(e),r=-n/2;t.rect(r,r,n,n)}},KZ=.8908130915292852,P3=Lv(Vv/10)/Lv(7*Vv/10),GZ=Lv(u0/10)*P3,WZ=-w3(u0/10)*P3,QZ={draw(t,e){const n=ga(e*KZ),r=GZ*n,i=WZ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const c=u0*s/5,d=w3(c),f=Lv(c);t.lineTo(f*n,-d*n),t.lineTo(d*r-f*i,f*r+d*i)}t.closePath()}},Px=ga(3),YZ={draw(t,e){const n=-ga(e/(Px*3));t.moveTo(0,n*2),t.lineTo(-Px*n,-n),t.lineTo(Px*n,-n),t.closePath()}},zi=-.5,Li=ga(3)/2,Zw=1/ga(12),XZ=(Zw/2+1)*3,ZZ={draw(t,e){const n=ga(e/XZ),r=n/2,i=n*Zw,s=r,c=n*Zw+n,d=-s,f=c;t.moveTo(r,i),t.lineTo(s,c),t.lineTo(d,f),t.lineTo(zi*r-Li*i,Li*r+zi*i),t.lineTo(zi*s-Li*c,Li*s+zi*c),t.lineTo(zi*d-Li*f,Li*d+zi*f),t.lineTo(zi*r+Li*i,zi*i-Li*r),t.lineTo(zi*s+Li*c,zi*c-Li*s),t.lineTo(zi*d+Li*f,zi*f-Li*d),t.closePath()}};function JZ(t,e){let n=null,r=iA(i);t=typeof t=="function"?t:Bt(t||sA),e=typeof e=="function"?e:Bt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Bt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Bt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Uv(){}function qv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function O3(t){this._context=t}O3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eJ(t){return new O3(t)}function I3(t){this._context=t}I3.prototype={areaStart:Uv,areaEnd:Uv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:qv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tJ(t){return new I3(t)}function R3(t){this._context=t}R3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:qv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nJ(t){return new R3(t)}function k3(t){this._context=t}k3.prototype={areaStart:Uv,areaEnd:Uv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function rJ(t){return new k3(t)}function BO(t){return t<0?-1:1}function $O(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),c=(n-t._y1)/(i||r<0&&-0),d=(s*i+c*r)/(r+i);return(BO(s)+BO(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(d))||0}function FO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ox(t,e,n){var r=t._x0,i=t._y0,s=t._x1,c=t._y1,d=(s-r)/3;t._context.bezierCurveTo(r+d,i+d*e,s-d,c-d*n,s,c)}function Bv(t){this._context=t}Bv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ox(this,this._t0,FO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ox(this,FO(this,n=$O(this,t,e)),n);break;default:Ox(this,this._t0,n=$O(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function D3(t){this._context=new M3(t)}(D3.prototype=Object.create(Bv.prototype)).point=function(t,e){Bv.prototype.point.call(this,e,t)};function M3(t){this._context=t}M3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function iJ(t){return new Bv(t)}function aJ(t){return new D3(t)}function z3(t){this._context=t}z3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=HO(t),i=HO(e),s=0,c=1;c<n;++s,++c)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function HO(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),c=new Array(n);for(i[0]=0,s[0]=2,c[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,c[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,c[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,c[e]-=r*c[e-1];for(i[n-1]=c[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(c[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function sJ(t){return new z3(t)}function f0(t,e){this._context=t,this._t=e}f0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function oJ(t){return new f0(t,.5)}function lJ(t){return new f0(t,0)}function cJ(t){return new f0(t,1)}function Gc(t,e){if((c=t.length)>1)for(var n=1,r,i,s=t[e[0]],c,d=s.length;n<c;++n)for(i=s,s=t[e[n]],r=0;r<d;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Jw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function uJ(t,e){return t[e]}function dJ(t){const e=[];return e.key=t,e}function fJ(){var t=Bt([]),e=Jw,n=Gc,r=uJ;function i(s){var c=Array.from(t.apply(this,arguments),dJ),d,f=c.length,h=-1,p;for(const g of s)for(d=0,++h;d<f;++d)(c[d][h]=[0,+r(g,c[d].key,h,s)]).data=g;for(d=0,p=aA(e(c));d<f;++d)c[p[d]].index=d;return n(c,p),c}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Bt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Bt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?Jw:typeof s=="function"?s:Bt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Gc,i):n},i}function hJ(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,c;i<s;++i){for(c=n=0;n<r;++n)c+=t[n][i][1]||0;if(c)for(n=0;n<r;++n)t[n][i][1]/=c}Gc(t,e)}}function mJ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var c=0,d=0;c<i;++c)d+=t[c][n][1]||0;r[n][1]+=r[n][0]=-d/2}Gc(t,e)}}function pJ(t,e){if(!(!((c=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,c;r<s;++r){for(var d=0,f=0,h=0;d<c;++d){for(var p=t[e[d]],g=p[r][1]||0,y=p[r-1][1]||0,w=(g-y)/2,j=0;j<d;++j){var E=t[e[j]],A=E[r][1]||0,T=E[r-1][1]||0;w+=A-T}f+=g,h+=w*g}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,Gc(t,e)}}var Ix={},Rx={},KO;function gJ(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Rx)),Rx}var kx={},GO;function L3(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(kx)),kx}var Dx={},WO;function oA(){return WO||(WO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Dx)),Dx}var Mx={},zx={},QO;function vJ(){return QO||(QO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(zx)),zx}var YO;function lA(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vJ(),n=oA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],c=i.length;if(c===0)return s;let d=0,f="",h="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),d++);d<c;){const g=i[d];h?g==="\\"&&d+1<c?(d++,f+=i[d]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,d++}return f&&s.push(f),s}t.toPath=r})(Mx)),Mx}var XO;function cA(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gJ(),n=L3(),r=oA(),i=lA();function s(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?n.isDeepKey(f)?s(d,i.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return c(d,f,h);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function c(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}t.get=s})(Ix)),Ix}var Lx,ZO;function yJ(){return ZO||(ZO=1,Lx=cA().get),Lx}var bJ=yJ();const Wc=ns(bJ);var _J=4;function al(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_J,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function cn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,c)=>{var d=n[c-1];return typeof d=="string"?i+d+s:d!==void 0?i+al(d)+s:i+s},"")}var er=t=>t===0?0:t>0?1:-1,ma=t=>typeof t=="number"&&t!=+t,Qc=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ne=t=>(typeof t=="number"||t instanceof Number)&&!ma(t),Xa=t=>Ne(t)||typeof t=="string",xJ=0,Zh=t=>{var e=++xJ;return"".concat(t||"").concat(e)},Er=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(e)&&typeof e!="string")return r;var s;if(Qc(e)){if(n==null)return r;var c=e.indexOf("%");s=n*parseFloat(e.slice(0,c))/100}else s=+e;return ma(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},V3=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Et(t,e,n){return Ne(t)&&Ne(e)?al(t+n*(e-t)):e}function U3(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Wc(r,e))===n)}var Jt=t=>t===null||typeof t>"u",Im=t=>Jt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Yr(t){return t!=null}function Il(){}var wJ=["type","size","sizeType"];function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eE.apply(null,arguments)}function JO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(n),!0).forEach(function(r){EJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EJ(t,e,n){return(e=jJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jJ(t){var e=AJ(t,"string");return typeof e=="symbol"?e:e+""}function AJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SJ(t,e){if(t==null)return{};var n,r,i=NJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function NJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var q3={symbolCircle:sA,symbolCross:BZ,symbolDiamond:FZ,symbolSquare:HZ,symbolStar:QZ,symbolTriangle:YZ,symbolWye:ZZ},TJ=Math.PI/180,CJ=t=>{var e="symbol".concat(Im(t));return q3[e]||sA},PJ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*TJ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},OJ=(t,e)=>{q3["symbol".concat(Im(t))]=e},uA=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=SJ(t,wJ),s=eI(eI({},i),{},{type:e,size:n,sizeType:r}),c="circle";typeof e=="string"&&(c=e);var d=()=>{var y=CJ(c),w=JZ().type(y).size(PJ(n,r,c)),j=w();if(j!==null)return j},{className:f,cx:h,cy:p}=s,g=Ar(s);return Ne(h)&&Ne(p)&&Ne(n)?_.createElement("path",eE({},g,{className:vt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};uA.registerSymbol=OJ;var B3=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,dA=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{nA(i)&&(r[i]=(s=>n[i](n,s)))}),r},IJ=(t,e,n)=>r=>(t(e,n,r),null),Rm=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];nA(i)&&typeof s=="function"&&(r||(r={}),r[i]=IJ(s,e,n))}),r};function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){kJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kJ(t,e,n){return(e=DJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DJ(t){var e=MJ(t,"string");return typeof e=="symbol"?e:e+""}function MJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pn(t,e){var n=RJ({},t),r=e,i=Object.keys(e),s=i.reduce((c,d)=>(c[d]===void 0&&r[d]!==void 0&&(c[d]=r[d]),c),n);return s}function $v(){return $v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$v.apply(null,arguments)}function nI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(n),!0).forEach(function(r){LJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LJ(t,e,n){return(e=VJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VJ(t){var e=UJ(t,"string");return typeof e=="symbol"?e:e+""}function UJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ui=32,qJ={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function BJ(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Ui/2,s=Ui/6,c=Ui/3,d=e.inactive?r:e.color,f=n??e.type;if(f==="none")return null;if(f==="plainline"){var h;return _.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(h=e.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:Ui,y2:i,className:"recharts-legend-icon"})}if(f==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(Ui,"M").concat(2*c,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return _.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Ui/8,"h").concat(Ui,"v").concat(Ui*3/4,"h").concat(-Ui,"z"),className:"recharts-legend-icon"});if(_.isValidElement(e.legendIcon)){var p=zJ({},e);return delete p.legendIcon,_.cloneElement(e.legendIcon,p)}return _.createElement(uA,{fill:d,cx:i,cy:i,size:Ui,sizeType:"diameter",type:f})}function $J(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:c}=t,d={x:0,y:0,width:Ui,height:Ui},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((p,g)=>{var y=p.formatter||i,w=vt({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var j=p.inactive?s:p.color,E=y?y(p.value,p,g):p.value;return _.createElement("li",$v({className:w,style:f,key:"legend-item-".concat(g)},Rm(t,p,g)),_.createElement(rA,{width:n,height:n,viewBox:d,style:h,"aria-label":"".concat(E," legend icon")},_.createElement(BJ,{data:p,iconType:c,inactiveColor:s})),_.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},E))})}var FJ=t=>{var e=pn(t,qJ),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:s},_.createElement($J,$v({},e,{payload:n})))},Vx={},Ux={},rI;function HJ(){return rI||(rI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const c=n[s],d=r(c,s,n);i.has(d)||i.set(d,c)}return Array.from(i.values())}t.uniqBy=e})(Ux)),Ux}var qx={},iI;function KJ(){return iI||(iI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(qx)),qx}var Bx={},aI;function $3(){return aI||(aI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Bx)),Bx}var $x={},Fx={},Hx={},sI;function GJ(){return sI||(sI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Hx)),Hx}var oI;function fA(){return oI||(oI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GJ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Fx)),Fx}var Kx={},lI;function WJ(){return lI||(lI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Kx)),Kx}var cI;function QJ(){return cI||(cI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fA(),n=WJ();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})($x)),$x}var Gx={},Wx={},uI;function YJ(){return uI||(uI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cA();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Wx)),Wx}var Qx={},Yx={},Xx={},Zx={},dI;function F3(){return dI||(dI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Zx)),Zx}var Jx={},fI;function H3(){return fI||(fI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Jx)),Jx}var e1={},hI;function K3(){return hI||(hI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(e1)),e1}var mI;function XJ(){return mI||(mI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F3(),n=H3(),r=K3();function i(p,g,y){return typeof y!="function"?i(p,g,()=>{}):s(p,g,function w(j,E,A,T,k,I){const R=y(j,E,A,T,k,I);return R!==void 0?!!R:s(j,E,w,I)},new Map)}function s(p,g,y,w){if(g===p)return!0;switch(typeof g){case"object":return c(p,g,y,w);case"function":return Object.keys(g).length>0?s(p,{...g},y,w):r.isEqualsSameValueZero(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.isEqualsSameValueZero(p,g)}}function c(p,g,y,w){if(g==null)return!0;if(Array.isArray(g))return f(p,g,y,w);if(g instanceof Map)return d(p,g,y,w);if(g instanceof Set)return h(p,g,y,w);const j=Object.keys(g);if(p==null||n.isPrimitive(p))return j.length===0;if(j.length===0)return!0;if(w?.has(g))return w.get(g)===p;w?.set(g,p);try{for(let E=0;E<j.length;E++){const A=j[E];if(!n.isPrimitive(p)&&!(A in p)||g[A]===void 0&&p[A]!==void 0||g[A]===null&&p[A]!==null||!y(p[A],g[A],A,p,g,w))return!1}return!0}finally{w?.delete(g)}}function d(p,g,y,w){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[j,E]of g.entries()){const A=p.get(j);if(y(A,E,j,p,g,w)===!1)return!1}return!0}function f(p,g,y,w){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const j=new Set;for(let E=0;E<g.length;E++){const A=g[E];let T=!1;for(let k=0;k<p.length;k++){if(j.has(k))continue;const I=p[k];let R=!1;if(y(I,A,E,p,g,w)&&(R=!0),R){j.add(k),T=!0;break}}if(!T)return!1}return!0}function h(p,g,y,w){return g.size===0?!0:p instanceof Set?f([...p],[...g],y,w):!1}t.isMatchWith=i,t.isSetMatch=h})(Xx)),Xx}var pI;function G3(){return pI||(pI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XJ();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Yx)),Yx}var t1={},n1={},r1={},gI;function ZJ(){return gI||(gI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(r1)),r1}var i1={},vI;function hA(){return vI||(vI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(i1)),i1}var a1={},yI;function W3(){return yI||(yI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",y="[object ArrayBuffer]",w="[object Object]",j="[object Error]",E="[object DataView]",A="[object Uint8Array]",T="[object Uint8ClampedArray]",k="[object Uint16Array]",I="[object Uint32Array]",R="[object BigUint64Array]",z="[object Int8Array]",M="[object Int16Array]",O="[object Int32Array]",P="[object BigInt64Array]",D="[object Float32Array]",B="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=y,t.arrayTag=p,t.bigInt64ArrayTag=P,t.bigUint64ArrayTag=R,t.booleanTag=i,t.dataViewTag=E,t.dateTag=d,t.errorTag=j,t.float32ArrayTag=D,t.float64ArrayTag=B,t.functionTag=g,t.int16ArrayTag=M,t.int32ArrayTag=O,t.int8ArrayTag=z,t.mapTag=f,t.numberTag=r,t.objectTag=w,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=c,t.uint16ArrayTag=k,t.uint32ArrayTag=I,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=T})(a1)),a1}var s1={},bI;function JJ(){return bI||(bI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(s1)),s1}var _I;function Q3(){return _I||(_I=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZJ(),n=hA(),r=W3(),i=H3(),s=JJ();function c(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,y,w=new Map,j=void 0){const E=j?.(p,g,y,w);if(E!==void 0)return E;if(i.isPrimitive(p))return p;if(w.has(p))return w.get(p);if(Array.isArray(p)){const A=new Array(p.length);w.set(p,A);for(let T=0;T<p.length;T++)A[T]=d(p[T],T,y,w,j);return Object.hasOwn(p,"index")&&(A.index=p.index),Object.hasOwn(p,"input")&&(A.input=p.input),A}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const A=new RegExp(p.source,p.flags);return A.lastIndex=p.lastIndex,A}if(p instanceof Map){const A=new Map;w.set(p,A);for(const[T,k]of p)A.set(T,d(k,T,y,w,j));return A}if(p instanceof Set){const A=new Set;w.set(p,A);for(const T of p)A.add(d(T,void 0,y,w,j));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const A=new(Object.getPrototypeOf(p)).constructor(p.length);w.set(p,A);for(let T=0;T<p.length;T++)A[T]=d(p[T],T,y,w,j);return A}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const A=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return w.set(p,A),f(A,p,y,w,j),A}if(typeof File<"u"&&p instanceof File){const A=new File([p],p.name,{type:p.type});return w.set(p,A),f(A,p,y,w,j),A}if(typeof Blob<"u"&&p instanceof Blob){const A=new Blob([p],{type:p.type});return w.set(p,A),f(A,p,y,w,j),A}if(p instanceof Error){const A=new p.constructor;return w.set(p,A),A.message=p.message,A.name=p.name,A.stack=p.stack,A.cause=p.cause,f(A,p,y,w,j),A}if(p instanceof Boolean){const A=new Boolean(p.valueOf());return w.set(p,A),f(A,p,y,w,j),A}if(p instanceof Number){const A=new Number(p.valueOf());return w.set(p,A),f(A,p,y,w,j),A}if(p instanceof String){const A=new String(p.valueOf());return w.set(p,A),f(A,p,y,w,j),A}if(typeof p=="object"&&h(p)){const A=Object.create(Object.getPrototypeOf(p));return w.set(p,A),f(A,p,y,w,j),A}return p}function f(p,g,y=p,w,j){const E=[...Object.keys(g),...e.getSymbols(g)];for(let A=0;A<E.length;A++){const T=E[A],k=Object.getOwnPropertyDescriptor(p,T);(k==null||k.writable)&&(p[T]=d(g[T],T,y,w,j))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=c,t.cloneDeepWithImpl=d,t.copyProperties=f})(n1)),n1}var xI;function eee(){return xI||(xI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q3();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(t1)),t1}var wI;function tee(){return wI||(wI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G3(),n=eee();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(Qx)),Qx}var o1={},l1={},c1={},EI;function nee(){return EI||(EI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q3(),n=hA(),r=W3();function i(s,c){return e.cloneDeepWith(s,(d,f,h,p)=>{const g=c?.(d,f,h,p);if(g!==void 0)return g;if(typeof s=="object"){if(n.getTag(s)===r.objectTag&&typeof s.constructor!="function"){const y={};return p.set(s,y),e.copyProperties(y,s,h,p),y}switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const y=new s.constructor(s?.valueOf());return e.copyProperties(y,s),y}case r.argumentsTag:{const y={};return e.copyProperties(y,s),y.length=s.length,y[Symbol.iterator]=s[Symbol.iterator],y}default:return}}})}t.cloneDeepWith=i})(c1)),c1}var jI;function ree(){return jI||(jI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nee();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(l1)),l1}var u1={},d1={},AI;function Y3(){return AI||(AI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(d1)),d1}var f1={},SI;function iee(){return SI||(SI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hA();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(f1)),f1}var NI;function aee(){return NI||(NI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L3(),n=Y3(),r=iee(),i=lA();function s(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&e.isDeepKey(d)&&c?.[d]==null?f=i.toPath(d):f=[d],f.length===0)return!1;let h=c;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=s})(u1)),u1}var TI;function see(){return TI||(TI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G3(),n=oA(),r=ree(),i=cA(),s=aee();function c(d,f){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(h){const p=i.get(h,d);return p===void 0?s.has(h,d):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=c})(o1)),o1}var CI;function oee(){return CI||(CI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$3(),n=YJ(),r=tee(),i=see();function s(c){if(c==null)return e.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}t.iteratee=s})(Gx)),Gx}var PI;function lee(){return PI||(PI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HJ(),n=KJ(),r=$3(),i=QJ(),s=oee();function c(d,f=r.identity){return i.isArrayLikeObject(d)?e.uniqBy(Array.from(d),n.ary(s.iteratee(f),1)):[]}t.uniqBy=c})(Vx)),Vx}var h1,OI;function cee(){return OI||(OI=1,h1=lee().uniqBy),h1}var uee=cee();const II=ns(uee);function X3(t,e,n){return e===!0?II(t,n):typeof e=="function"?II(t,e):t}var m1={exports:{}},p1={},g1={exports:{}},v1={};var RI;function dee(){if(RI)return v1;RI=1;var t=Md();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,c=t.useDebugValue;function d(g,y){var w=y(),j=r({inst:{value:w,getSnapshot:y}}),E=j[0].inst,A=j[1];return s(function(){E.value=w,E.getSnapshot=y,f(E)&&A({inst:E})},[g,w,y]),i(function(){return f(E)&&A({inst:E}),g(function(){f(E)&&A({inst:E})})},[g]),c(w),w}function f(g){var y=g.getSnapshot;g=g.value;try{var w=y();return!n(g,w)}catch{return!0}}function h(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return v1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,v1}var kI;function fee(){return kI||(kI=1,g1.exports=dee()),g1.exports}var DI;function hee(){if(DI)return p1;DI=1;var t=Md(),e=fee();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,c=t.useEffect,d=t.useMemo,f=t.useDebugValue;return p1.useSyncExternalStoreWithSelector=function(h,p,g,y,w){var j=s(null);if(j.current===null){var E={hasValue:!1,value:null};j.current=E}else E=j.current;j=d(function(){function T(M){if(!k){if(k=!0,I=M,M=y(M),w!==void 0&&E.hasValue){var O=E.value;if(w(O,M))return R=O}return R=M}if(O=R,r(I,M))return O;var P=y(M);return w!==void 0&&w(O,P)?(I=M,O):(I=M,R=P)}var k=!1,I,R,z=g===void 0?null:g;return[function(){return T(p())},z===null?void 0:function(){return T(z())}]},[p,g,y,w]);var A=i(h,j[0],j[1]);return c(function(){E.hasValue=!0,E.value=A},[A]),f(A),A},p1}var MI;function mee(){return MI||(MI=1,m1.exports=hee()),m1.exports}var pee=mee(),mA=_.createContext(null),gee=t=>t,Ht=()=>{var t=_.useContext(mA);return t?t.store.dispatch:gee},ov=()=>{},vee=()=>ov,yee=(t,e)=>t===e;function Oe(t){var e=_.useContext(mA),n=_.useMemo(()=>e?r=>{if(r!=null)return t(r)}:ov,[e,t]);return pee.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:vee,e?e.store.getState:ov,e?e.store.getState:ov,n,yee)}function bee(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function _ee(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function xee(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var zI=t=>Array.isArray(t)?t:[t];function wee(t){const e=Array.isArray(t[0])?t[0]:t;return xee(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Eee(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var jee=class{constructor(t){this.value=t}deref(){return this.value}},Aee=typeof WeakRef<"u"?WeakRef:jee,See=0,LI=1;function Dg(){return{s:See,v:void 0,o:null,p:null}}function Z3(t,e={}){let n=Dg();const{resultEqualityCheck:r}=e;let i,s=0;function c(){let d=n;const{length:f}=arguments;for(let g=0,y=f;g<y;g++){const w=arguments[g];if(typeof w=="function"||typeof w=="object"&&w!==null){let j=d.o;j===null&&(d.o=j=new WeakMap);const E=j.get(w);E===void 0?(d=Dg(),j.set(w,d)):d=E}else{let j=d.p;j===null&&(d.p=j=new Map);const E=j.get(w);E===void 0?(d=Dg(),j.set(w,d)):d=E}}const h=d;let p;if(d.s===LI)p=d.v;else if(p=t.apply(null,arguments),s++,r){const g=i?.deref?.()??i;g!=null&&r(g,p)&&(p=g,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new Aee(p):p}return h.s=LI,h.v=p,p}return c.clearCache=()=>{n=Dg(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function Nee(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,c=0,d,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),bee(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:y=[],argsMemoize:w=Z3,argsMemoizeOptions:j=[]}=p,E=zI(y),A=zI(j),T=wee(i),k=g(function(){return s++,h.apply(null,arguments)},...E),I=w(function(){c++;const z=Eee(T,arguments);return d=k.apply(null,z),d},...A);return Object.assign(I,{resultFunc:h,memoizedResultFunc:k,dependencies:T,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var ee=Nee(Z3),Tee=Object.assign((t,e=ee)=>{_ee(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((c,d,f)=>(c[n[f]]=d,c),{}))},{withTypes:()=>Tee}),y1={},b1={},_1={},VI;function Cee(){return VI||(VI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const c=e(r),d=e(i);if(c===d&&c===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?d-c:c-d}return 0};t.compareValues=n})(_1)),_1}var x1={},w1={},UI;function J3(){return UI||(UI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(w1)),w1}var qI;function Pee(){return qI||(qI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J3(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||c!=null&&Object.hasOwn(c,s)}t.isKey=i})(x1)),x1}var BI;function Oee(){return BI||(BI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cee(),n=Pee(),r=lA();function i(s,c,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(w=>String(w));const h=(w,j)=>{let E=w;for(let A=0;A<j.length&&E!=null;++A)E=E[j[A]];return E},p=(w,j)=>j==null||w==null?j:typeof w=="object"&&"key"in w?Object.hasOwn(j,w.key)?j[w.key]:h(j,w.path):typeof w=="function"?w(j):Array.isArray(w)?h(j,w):typeof j=="object"?j[w]:j,g=c.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return s.map(w=>({original:w,criteria:g.map(j=>p(j,w))})).slice().sort((w,j)=>{for(let E=0;E<g.length;E++){const A=e.compareValues(w.criteria[E],j.criteria[E],d[E]);if(A!==0)return A}return 0}).map(w=>w.original)}t.orderBy=i})(b1)),b1}var E1={},$I;function Iee(){return $I||($I=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),c=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<s?c(p,f+1):i.push(p)}};return c(n,0),i}t.flatten=e})(E1)),E1}var j1={},FI;function e6(){return FI||(FI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y3(),n=fA(),r=F3(),i=K3();function s(c,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&e.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?i.isEqualsSameValueZero(f[d],c):!1}t.isIterateeCall=s})(j1)),j1}var HI;function Ree(){return HI||(HI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Oee(),n=Iee(),r=e6();function i(s,...c){const d=c.length;return d>1&&r.isIterateeCall(s,c[0],c[1])?c=[]:d>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),e.orderBy(s,n.flatten(c),["asc"])}t.sortBy=i})(y1)),y1}var A1,KI;function kee(){return KI||(KI=1,A1=Ree().sortBy),A1}var Dee=kee();const h0=ns(Dee);var t6=t=>t.legend.settings,Mee=t=>t.legend.size,zee=t=>t.legend.payload,Lee=ee([zee,t6],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?h0(r,n):r});function Vee(){return Oe(Lee)}var Mg=1;function n6(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-e.height)>Mg||Math.abs(c.left-e.left)>Mg||Math.abs(c.top-e.top)>Mg||Math.abs(c.width-e.width)>Mg)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function ur(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Uee=typeof Symbol=="function"&&Symbol.observable||"@@observable",GI=Uee,S1=()=>Math.random().toString(36).substring(7).split("").join("."),qee={INIT:`@@redux/INIT${S1()}`,REPLACE:`@@redux/REPLACE${S1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${S1()}`},Fv=qee;function pA(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function r6(t,e,n){if(typeof t!="function")throw new Error(ur(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ur(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ur(1));return n(r6)(t,e)}let r=t,i=e,s=new Map,c=s,d=0,f=!1;function h(){c===s&&(c=new Map,s.forEach((A,T)=>{c.set(T,A)}))}function p(){if(f)throw new Error(ur(3));return i}function g(A){if(typeof A!="function")throw new Error(ur(4));if(f)throw new Error(ur(5));let T=!0;h();const k=d++;return c.set(k,A),function(){if(T){if(f)throw new Error(ur(6));T=!1,h(),c.delete(k),s=null}}}function y(A){if(!pA(A))throw new Error(ur(7));if(typeof A.type>"u")throw new Error(ur(8));if(typeof A.type!="string")throw new Error(ur(17));if(f)throw new Error(ur(9));try{f=!0,i=r(i,A)}finally{f=!1}return(s=c).forEach(k=>{k()}),A}function w(A){if(typeof A!="function")throw new Error(ur(10));r=A,y({type:Fv.REPLACE})}function j(){const A=g;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(ur(11));function k(){const R=T;R.next&&R.next(p())}return k(),{unsubscribe:A(k)}},[GI](){return this}}}return y({type:Fv.INIT}),{dispatch:y,subscribe:g,getState:p,replaceReducer:w,[GI]:j}}function Bee(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Fv.INIT})>"u")throw new Error(ur(12));if(typeof n(void 0,{type:Fv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ur(13))})}function i6(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const c=e[s];typeof t[c]=="function"&&(n[c]=t[c])}const r=Object.keys(n);let i;try{Bee(n)}catch(s){i=s}return function(c={},d){if(i)throw i;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],y=n[g],w=c[g],j=y(w,d);if(typeof j>"u")throw d&&d.type,new Error(ur(14));h[g]=j,f=f||j!==w}return f=f||r.length!==Object.keys(c).length,f?h:c}}function Hv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function $ee(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(ur(15))};const c={getState:i.getState,dispatch:(f,...h)=>s(f,...h)},d=t.map(f=>f(c));return s=Hv(...d)(i.dispatch),{...i,dispatch:s}}}function a6(t){return pA(t)&&"type"in t&&typeof t.type=="string"}var s6=Symbol.for("immer-nothing"),WI=Symbol.for("immer-draftable"),kr=Symbol.for("immer-state");function aa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var yi=Object,Pd=yi.getPrototypeOf,Kv="constructor",m0="prototype",tE="configurable",Gv="enumerable",lv="writable",Jh="value",$s=t=>!!t&&!!t[kr];function pa(t){return t?o6(t)||g0(t)||!!t[WI]||!!t[Kv]?.[WI]||v0(t)||y0(t):!1}var Fee=yi[m0][Kv].toString(),QI=new WeakMap;function o6(t){if(!t||!gA(t))return!1;const e=Pd(t);if(e===null||e===yi[m0])return!0;const n=yi.hasOwnProperty.call(e,Kv)&&e[Kv];if(n===Object)return!0;if(!od(n))return!1;let r=QI.get(n);return r===void 0&&(r=Function.toString.call(n),QI.set(n,r)),r===Fee}function p0(t,e,n=!0){km(t)===0?(n?Reflect.ownKeys(t):yi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function km(t){const e=t[kr];return e?e.type_:g0(t)?1:v0(t)?2:y0(t)?3:0}var YI=(t,e,n=km(t))=>n===2?t.has(e):yi[m0].hasOwnProperty.call(t,e),nE=(t,e,n=km(t))=>n===2?t.get(e):t[e],Wv=(t,e,n,r=km(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Hee(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var g0=Array.isArray,v0=t=>t instanceof Map,y0=t=>t instanceof Set,gA=t=>typeof t=="object",od=t=>typeof t=="function",N1=t=>typeof t=="boolean";function Kee(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Ss=t=>t.copy_||t.base_,vA=t=>t.modified_?t.copy_:t.base_;function rE(t,e){if(v0(t))return new Map(t);if(y0(t))return new Set(t);if(g0(t))return Array[m0].slice.call(t);const n=o6(t);if(e===!0||e==="class_only"&&!n){const r=yi.getOwnPropertyDescriptors(t);delete r[kr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const c=i[s],d=r[c];d[lv]===!1&&(d[lv]=!0,d[tE]=!0),(d.get||d.set)&&(r[c]={[tE]:!0,[lv]:!0,[Gv]:d[Gv],[Jh]:t[c]})}return yi.create(Pd(t),r)}else{const r=Pd(t);if(r!==null&&n)return{...t};const i=yi.create(r);return yi.assign(i,t)}}function yA(t,e=!1){return b0(t)||$s(t)||!pa(t)||(km(t)>1&&yi.defineProperties(t,{set:zg,add:zg,clear:zg,delete:zg}),yi.freeze(t),e&&p0(t,(n,r)=>{yA(r,!0)},!1)),t}function Gee(){aa(2)}var zg={[Jh]:Gee};function b0(t){return t===null||!gA(t)?!0:yi.isFrozen(t)}var Qv="MapSet",iE="Patches",XI="ArrayMethods",l6={};function Yc(t){const e=l6[t];return e||aa(0,t),e}var ZI=t=>!!l6[t],em,c6=()=>em,Wee=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:ZI(Qv)?Yc(Qv):void 0,arrayMethodsPlugin_:ZI(XI)?Yc(XI):void 0});function JI(t,e){e&&(t.patchPlugin_=Yc(iE),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function aE(t){sE(t),t.drafts_.forEach(Qee),t.drafts_=null}function sE(t){t===em&&(em=t.parent_)}var eR=t=>em=Wee(em,t);function Qee(t){const e=t[kr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function tR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[kr].modified_&&(aE(e),aa(4)),pa(t)&&(t=nR(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[kr].base_,t,e)}else t=nR(e,n);return Yee(e,t,!0),aE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==s6?t:void 0}function nR(t,e){if(b0(e))return e;const n=e[kr];if(!n)return Yv(e,t.handledSet_,t);if(!_0(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);f6(n,t)}return n.copy_}function Yee(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&yA(e,n)}function u6(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var _0=(t,e)=>t.scope_===e,Xee=[];function d6(t,e,n,r){const i=Ss(t),s=t.type_;if(r!==void 0&&nE(i,r,s)===e){Wv(i,r,n,s);return}if(!t.draftLocations_){const d=t.draftLocations_=new Map;p0(i,(f,h)=>{if($s(h)){const p=d.get(h)||[];p.push(f),d.set(h,p)}})}const c=t.draftLocations_.get(e)??Xee;for(const d of c)Wv(i,d,n,s)}function Zee(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!_0(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const c=vA(s);d6(t,s.draft_??s,c,n),f6(s,i)})}function f6(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}u6(t)}}function Jee(t,e,n){const{scope_:r}=t;if($s(n)){const i=n[kr];_0(i,r)&&i.callbacks_.push(function(){cv(t);const c=vA(i);d6(t,n,c,e)})}else pa(n)&&t.callbacks_.push(function(){const s=Ss(t);t.type_===3?s.has(n)&&Yv(n,r.handledSet_,r):nE(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Yv(nE(t.copy_,e,t.type_),r.handledSet_,r)})}function Yv(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||$s(t)||e.has(t)||!pa(t)||b0(t)||(e.add(t),p0(t,(r,i)=>{if($s(i)){const s=i[kr];if(_0(s,n)){const c=vA(s);Wv(t,r,c,t.type_),u6(s)}}else pa(i)&&Yv(i,e,n)})),t}function ete(t,e){const n=g0(t),r={type_:n?1:0,scope_:e?e.scope_:c6(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=Xv;n&&(i=[r],s=tm);const{revoke:c,proxy:d}=Proxy.revocable(i,s);return r.draft_=d,r.revoke_=c,[d,r]}var Xv={get(t,e){if(e===kr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Ss(t);if(!YI(i,e,t.type_))return tte(t,i,e);const s=i[e];if(t.finalized_||!pa(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&Kee(e))return s;if(s===T1(t.base_,e)){cv(t);const c=t.type_===1?+e:e,d=lE(t.scope_,s,t,c);return t.copy_[c]=d}return s},has(t,e){return e in Ss(t)},ownKeys(t){return Reflect.ownKeys(Ss(t))},set(t,e,n){const r=h6(Ss(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=T1(Ss(t),e),s=i?.[kr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Hee(n,i)&&(n!==void 0||YI(t.base_,e,t.type_)))return!0;cv(t),oE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Jee(t,e,n)),!0},deleteProperty(t,e){return cv(t),T1(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),oE(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ss(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[lv]:!0,[tE]:t.type_!==1||e!=="length",[Gv]:r[Gv],[Jh]:n[e]}},defineProperty(){aa(11)},getPrototypeOf(t){return Pd(t.base_)},setPrototypeOf(){aa(12)}},tm={};for(let t in Xv){let e=Xv[t];tm[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}tm.deleteProperty=function(t,e){return tm.set.call(this,t,e,void 0)};tm.set=function(t,e,n){return Xv.set.call(this,t[0],e,n,t[0])};function T1(t,e){const n=t[kr];return(n?Ss(n):t)[e]}function tte(t,e,n){const r=h6(e,n);return r?Jh in r?r[Jh]:r.get?.call(t.draft_):void 0}function h6(t,e){if(!(e in t))return;let n=Pd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Pd(n)}}function oE(t){t.modified_||(t.modified_=!0,t.parent_&&oE(t.parent_))}function cv(t){t.copy_||(t.assigned_=new Map,t.copy_=rE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var nte=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(od(n)&&!od(r)){const c=r;r=n;const d=this;return function(h=c,...p){return d.produce(h,g=>r.call(this,g,...p))}}od(r)||aa(6),i!==void 0&&!od(i)&&aa(7);let s;if(pa(n)){const c=eR(this),d=lE(c,n,void 0);let f=!0;try{s=r(d),f=!1}finally{f?aE(c):sE(c)}return JI(c,i),tR(s,c)}else if(!n||!gA(n)){if(s=r(n),s===void 0&&(s=n),s===s6&&(s=void 0),this.autoFreeze_&&yA(s,!0),i){const c=[],d=[];Yc(iE).generateReplacementPatches_(n,s,{patches_:c,inversePatches_:d}),i(c,d)}return s}else aa(1,n)},this.produceWithPatches=(n,r)=>{if(od(n))return(d,...f)=>this.produceWithPatches(d,h=>n(h,...f));let i,s;return[this.produce(n,r,(d,f)=>{i=d,s=f}),i,s]},N1(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),N1(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),N1(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){pa(e)||aa(8),$s(e)&&(e=ua(e));const n=eR(this),r=lE(n,e,void 0);return r[kr].isManual_=!0,sE(n),r}finishDraft(e,n){const r=e&&e[kr];(!r||!r.isManual_)&&aa(9);const{scope_:i}=r;return JI(i,n),tR(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=Yc(iE).applyPatches_;return $s(e)?i(e,n):this.produce(e,s=>i(s,n))}};function lE(t,e,n,r){const[i,s]=v0(e)?Yc(Qv).proxyMap_(e,n):y0(e)?Yc(Qv).proxySet_(e,n):ete(e,n);return(n?.scope_??c6()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?Zee(n,s,r):s.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),i}function ua(t){return $s(t)||aa(10,t),m6(t)}function m6(t){if(!pa(t)||b0(t))return t;const e=t[kr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=rE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=rE(t,!0);return p0(n,(i,s)=>{Wv(n,i,m6(s))},r),e&&(e.finalized_=!1),n}var rte=new nte,p6=rte.produce;function g6(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var ite=g6(),ate=g6,ste=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hv:Hv.apply(null,arguments)};function Fi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(bi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>a6(r)&&r.type===t,n}var v6=class Ah extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ah.prototype)}static get[Symbol.species](){return Ah}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ah(...e[0].concat(this)):new Ah(...e.concat(this))}};function rR(t){return pa(t)?p6(t,()=>{}):t}function Lg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function ote(t){return typeof t=="boolean"}var lte=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let c=new v6;return n&&(ote(n)?c.push(ite):c.push(ate(n.extraArgument))),c},y6="RTK_autoBatch",Xt=()=>t=>({payload:t,meta:{[y6]:!0}}),iR=t=>e=>{setTimeout(e,t)},b6=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,c=!1;const d=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:iR(10):t.type==="callback"?t.queueNotification:iR(t.timeout),h=()=>{c=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),y=r.subscribe(g);return d.add(p),()=>{y(),d.delete(p)}},dispatch(p){try{return i=!p?.meta?.[y6],s=!i,s&&(c||(c=!0,f(h))),r.dispatch(p)}finally{i=!0}}})},cte=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new v6(t);return r&&i.push(b6(typeof r=="object"?r:void 0)),i};function ute(t){const e=lte(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:c=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(pA(n))d=i6(n);else throw new Error(bi(1));let f;typeof r=="function"?f=r(e):f=e();let h=Hv;i&&(h=ste({trace:!1,...typeof i=="object"&&i}));const p=$ee(...f),g=cte(p);let y=typeof c=="function"?c(g):g();const w=h(...y);return r6(d,s,w)}function _6(t){const e={},n=[];let r;const i={addCase(s,c){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(bi(28));if(d in e)throw new Error(bi(29));return e[d]=c,i},addAsyncThunk(s,c){return c.pending&&(e[s.pending.type]=c.pending),c.rejected&&(e[s.rejected.type]=c.rejected),c.fulfilled&&(e[s.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:s.settled,reducer:c.settled}),i},addMatcher(s,c){return n.push({matcher:s,reducer:c}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function dte(t){return typeof t=="function"}function fte(t,e){let[n,r,i]=_6(e),s;if(dte(t))s=()=>rR(t());else{const d=rR(t);s=()=>d}function c(d=s(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if($s(p)){const w=g(p,f);return w===void 0?p:w}else{if(pa(p))return p6(p,y=>g(y,f));{const y=g(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},d)}return c.getInitialState=s,c}var hte="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",mte=(t=21)=>{let e="",n=t;for(;n--;)e+=hte[Math.random()*64|0];return e},pte=Symbol.for("rtk-slice-createasyncthunk");function gte(t,e){return`${t}/${e}`}function vte({creators:t}={}){const e=t?.asyncThunk?.[pte];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(bi(11));const c=(typeof r.reducers=="function"?r.reducers(bte()):r.reducers)||{},d=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(I,R){const z=typeof I=="string"?I:I.type;if(!z)throw new Error(bi(12));if(z in f.sliceCaseReducersByType)throw new Error(bi(13));return f.sliceCaseReducersByType[z]=R,h},addMatcher(I,R){return f.sliceMatchers.push({matcher:I,reducer:R}),h},exposeAction(I,R){return f.actionCreators[I]=R,h},exposeCaseReducer(I,R){return f.sliceCaseReducersByName[I]=R,h}};d.forEach(I=>{const R=c[I],z={reducerName:I,type:gte(i,I),createNotation:typeof r.reducers=="function"};xte(R)?Ete(z,R,h,e):_te(z,R,h)});function p(){const[I={},R=[],z=void 0]=typeof r.extraReducers=="function"?_6(r.extraReducers):[r.extraReducers],M={...I,...f.sliceCaseReducersByType};return fte(r.initialState,O=>{for(let P in M)O.addCase(P,M[P]);for(let P of f.sliceMatchers)O.addMatcher(P.matcher,P.reducer);for(let P of R)O.addMatcher(P.matcher,P.reducer);z&&O.addDefaultCase(z)})}const g=I=>I,y=new Map,w=new WeakMap;let j;function E(I,R){return j||(j=p()),j(I,R)}function A(){return j||(j=p()),j.getInitialState()}function T(I,R=!1){function z(O){let P=O[I];return typeof P>"u"&&R&&(P=Lg(w,z,A)),P}function M(O=g){const P=Lg(y,R,()=>new WeakMap);return Lg(P,O,()=>{const D={};for(const[B,U]of Object.entries(r.selectors??{}))D[B]=yte(U,O,()=>Lg(w,O,A),R);return D})}return{reducerPath:I,getSelectors:M,get selectors(){return M(z)},selectSlice:z}}const k={name:i,reducer:E,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:A,...T(s),injectInto(I,{reducerPath:R,...z}={}){const M=R??s;return I.inject({reducerPath:M,reducer:E},z),{...k,...T(M,!0)}}};return k}}function yte(t,e,n,r){function i(s,...c){let d=e(s);return typeof d>"u"&&r&&(d=n()),t(d,...c)}return i.unwrapped=t,i}var ei=vte();function bte(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function _te({type:t,reducerName:e,createNotation:n},r,i){let s,c;if("reducer"in r){if(n&&!wte(r))throw new Error(bi(17));s=r.reducer,c=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,c?Fi(t,c):Fi(t))}function xte(t){return t._reducerDefinitionType==="asyncThunk"}function wte(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Ete({type:t,reducerName:e},n,r,i){if(!i)throw new Error(bi(18));const{payloadCreator:s,fulfilled:c,pending:d,rejected:f,settled:h,options:p}=n,g=i(t,s,p);r.exposeAction(e,g),c&&r.addCase(g.fulfilled,c),d&&r.addCase(g.pending,d),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:c||Vg,pending:d||Vg,rejected:f||Vg,settled:h||Vg})}function Vg(){}var jte="task",x6="listener",w6="completed",bA="cancelled",Ate=`task-${bA}`,Ste=`task-${w6}`,cE=`${x6}-${bA}`,Nte=`${x6}-${w6}`,x0=class{constructor(t){this.code=t,this.message=`${jte} ${bA} (reason: ${t})`}name="TaskAbortError";message},_A=(t,e)=>{if(typeof t!="function")throw new TypeError(bi(32))},Zv=()=>{},E6=(t,e=Zv)=>(t.catch(e),t),j6=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Rc=t=>{if(t.aborted)throw new x0(t.reason)};function A6(t,e){let n=Zv;return new Promise((r,i)=>{const s=()=>i(new x0(t.reason));if(t.aborted){s();return}n=j6(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Zv})}var Tte=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof x0?"cancelled":"rejected",error:n}}finally{e?.()}},Jv=t=>e=>E6(A6(t,e).then(n=>(Rc(t),n))),S6=t=>{const e=Jv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:bd}=Object,aR={},w0="listenerMiddleware",Cte=(t,e)=>{const n=r=>j6(t,()=>r.abort(t.reason));return(r,i)=>{_A(r);const s=new AbortController;n(s);const c=Tte(async()=>{Rc(t),Rc(s.signal);const d=await r({pause:Jv(s.signal),delay:S6(s.signal),signal:s.signal});return Rc(s.signal),d},()=>s.abort(Ste));return i?.autoJoin&&e.push(c.catch(Zv)),{result:Jv(t)(c),cancel(){s.abort(Ate)}}}},Pte=(t,e)=>{const n=async(r,i)=>{Rc(e);let s=()=>{};const d=[new Promise((f,h)=>{let p=t({predicate:r,effect:(g,y)=>{y.unsubscribe(),f([g,y.getState(),y.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&d.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await A6(e,Promise.race(d));return Rc(e),f}finally{s()}};return(r,i)=>E6(n(r,i))},N6=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Fi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(bi(21));return _A(s),{predicate:i,type:e,effect:s}},T6=bd(t=>{const{type:e,predicate:n,effect:r}=N6(t);return{id:mte(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(bi(22))}}},{withTypes:()=>T6}),sR=(t,e)=>{const{type:n,effect:r,predicate:i}=N6(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},uE=t=>{t.pending.forEach(e=>{e.abort(cE)})},Ote=(t,e)=>()=>{for(const n of e.keys())uE(n);t.clear()},oR=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},C6=bd(Fi(`${w0}/add`),{withTypes:()=>C6}),Ite=Fi(`${w0}/removeAll`),P6=bd(Fi(`${w0}/remove`),{withTypes:()=>P6}),Rte=(...t)=>{console.error(`${w0}/error`,...t)},Dm=(t={})=>{const e=new Map,n=new Map,r=w=>{const j=n.get(w)??0;n.set(w,j+1)},i=w=>{const j=n.get(w)??1;j===1?n.delete(w):n.set(w,j-1)},{extra:s,onError:c=Rte}=t;_A(c);const d=w=>(w.unsubscribe=()=>e.delete(w.id),e.set(w.id,w),j=>{w.unsubscribe(),j?.cancelActive&&uE(w)}),f=w=>{const j=sR(e,w)??T6(w);return d(j)};bd(f,{withTypes:()=>f});const h=w=>{const j=sR(e,w);return j&&(j.unsubscribe(),w.cancelActive&&uE(j)),!!j};bd(h,{withTypes:()=>h});const p=async(w,j,E,A)=>{const T=new AbortController,k=Pte(f,T.signal),I=[];try{w.pending.add(T),r(w),await Promise.resolve(w.effect(j,bd({},E,{getOriginalState:A,condition:(R,z)=>k(R,z).then(Boolean),take:k,delay:S6(T.signal),pause:Jv(T.signal),extra:s,signal:T.signal,fork:Cte(T.signal,I),unsubscribe:w.unsubscribe,subscribe:()=>{e.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((R,z,M)=>{R!==T&&(R.abort(cE),M.delete(R))})},cancel:()=>{T.abort(cE),w.pending.delete(T)},throwIfCancelled:()=>{Rc(T.signal)}})))}catch(R){R instanceof x0||oR(c,R,{raisedBy:"effect"})}finally{await Promise.all(I),T.abort(Nte),i(w),w.pending.delete(T)}},g=Ote(e,n);return{middleware:w=>j=>E=>{if(!a6(E))return j(E);if(C6.match(E))return f(E.payload);if(Ite.match(E)){g();return}if(P6.match(E))return h(E.payload);let A=w.getState();const T=()=>{if(A===aR)throw new Error(bi(23));return A};let k;try{if(k=j(E),e.size>0){const I=w.getState(),R=Array.from(e.values());for(const z of R){let M=!1;try{M=z.predicate(E,I,A)}catch(O){M=!1,oR(c,O,{raisedBy:"predicate"})}M&&p(z,E,w,T)}}}finally{A=aR}return k},startListening:f,stopListening:h,clearListeners:g}};function bi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var kte={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},O6=ei({name:"chartLayout",initialState:kte,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Dte,setLayout:Mte,setChartSize:zte,setScale:Lte}=O6.actions,Vte=O6.reducer;function I6(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function tt(t){return Number.isFinite(t)}function Za(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(r){Ute(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ute(t,e,n){return(e=qte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qte(t){var e=Bte(t,"string");return typeof e=="symbol"?e:e+""}function Bte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jt(t,e,n){return Jt(t)||Jt(e)?n:Xa(e)?Wc(t,e,n):typeof e=="function"?e(t):n}var $te=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:c,layout:d}=e;if((d==="vertical"||d==="horizontal"&&c==="middle")&&s!=="center"&&Ne(t[s]))return dd(dd({},t),{},{[s]:t[s]+(r||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&c!=="middle"&&Ne(t[c]))return dd(dd({},t),{},{[c]:t[c]+(i||0)})}return t},va=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",R6=(t,e,n,r)=>{if(r)return t.map(d=>d.coordinate);var i,s,c=t.map(d=>(d.coordinate===e&&(i=!0),d.coordinate===n&&(s=!0),d.coordinate));return i||c.push(e),s||c.push(n),c},k6=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:y,axisType:w}=t;if(!c)return null;var j=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,E=i==="category"&&c.bandwidth?c.bandwidth()/j:0;if(E=w==="angleAxis"&&s&&s.length>=2?er(s[0]-s[1])*2*E:E,g||y){var A=(g||y||[]).map((T,k)=>{var I=r?r.indexOf(T):T,R=c.map(I);return tt(R)?{coordinate:R+E,value:T,offset:E,index:k}:null}).filter(Yr);return A}return f&&h?h.map((T,k)=>{var I=c.map(T);return tt(I)?{coordinate:I+E,value:T,index:k,offset:E}:null}).filter(Yr):c.ticks&&p!=null?c.ticks(p).map((T,k)=>{var I=c.map(T);return tt(I)?{coordinate:I+E,value:T,index:k,offset:E}:null}).filter(Yr):c.domain().map((T,k)=>{var I=c.map(T);return tt(I)?{coordinate:I+E,value:r?r[T]:T,index:k,offset:E}:null}).filter(Yr)},Fte=(t,e)=>{if(!e||e.length!==2||!Ne(e[0])||!Ne(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ne(t[0])||t[0]<n)&&(i[0]=n),(!Ne(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Hte=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,c=0,d=0;d<n;++d){var f=t[d],h=f?.[i];if(h!=null){var p=h[1],g=h[0],y=ma(p)?g:p;y>=0?(h[0]=s,s+=y,h[1]=s):(h[0]=c,c+=y,h[1]=c)}}}},Kte=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,c=0;c<n;++c){var d=t[c],f=d?.[i];if(f!=null){var h=ma(f[1])?f[0]:f[1];h>=0?(f[0]=s,s+=h,f[1]=s):(f[0]=0,f[1]=0)}}}},Gte={sign:Hte,expand:hJ,none:Gc,silhouette:mJ,wiggle:pJ,positive:Kte},Wte=(t,e,n)=>{var r,i=(r=Gte[n])!==null&&r!==void 0?r:Gc,s=fJ().keys(e).value((d,f)=>Number(jt(d,f,0))).order(Jw).offset(i),c=s(t);return c.forEach((d,f)=>{d.forEach((h,p)=>{var g=jt(t[p],e[f],0);Array.isArray(g)&&g.length===2&&Ne(g[0])&&Ne(g[1])&&(h[0]=g[0],h[1]=g[1])})}),c};function D6(t){return t==null?void 0:String(t)}function ey(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:c}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Jt(i[e.dataKey])){var d=U3(n,"value",i[e.dataKey]);if(d)return d.coordinate+r/2}return n!=null&&n[s]?n[s].coordinate+r/2:null}var f=jt(i,Jt(c)?e.dataKey:c),h=e.scale.map(f);return Ne(h)?h:null}var cR=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:c}=t;if(e.type==="category")return n[c]?n[c].coordinate+r:null;var d=jt(s,e.dataKey,e.scale.domain()[c]);if(Jt(d))return null;var f=e.scale.map(d);return Ne(f)?f-i/2+r:null},Qte=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Yte=t=>{var e=t.flat(2).filter(Ne);return[Math.min(...e),Math.max(...e)]},Xte=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Zte=(t,e,n)=>{if(t!=null)return Xte(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:c}=s,d=c.reduce((f,h)=>{var p=I6(h,e,n),g=Yte(p);return!tt(g[0])||!tt(g[1])?f:[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},uR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,El=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=h0(e,p=>p.coordinate),s=1/0,c=1,d=i.length;c<d;c++){var f=i[c],h=i[c-1];s=Math.min((f?.coordinate||0)-(h?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function fR(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return dd(dd({},e),{},{dataKey:n,payload:r,value:i,name:s})}function Rl(t,e){if(t)return String(t);if(typeof e=="string")return e}var Jte=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},ene=(t,e)=>e==="centric"?t.angle:t.radius,no=t=>t.layout.width,ro=t=>t.layout.height,tne=t=>t.layout.scale,M6=t=>t.layout.margin,E0=ee(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),j0=ee(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),z6="data-recharts-item-index",L6="data-recharts-item-id",Mm=60;function hR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ug(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(n),!0).forEach(function(r){nne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nne(t,e,n){return(e=rne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rne(t){var e=ine(t,"string");return typeof e=="symbol"?e:e+""}function ine(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ane=t=>t.brush.height;function sne(t){var e=j0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Mm;return n+i}return n},0)}function one(t){var e=j0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Mm;return n+i}return n},0)}function lne(t){var e=E0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function cne(t){var e=E0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var qn=ee([no,ro,M6,ane,sne,one,lne,cne,t6,Mee],(t,e,n,r,i,s,c,d,f,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},g={top:(n.top||0)+c,bottom:(n.bottom||0)+d},y=Ug(Ug({},g),p),w=y.bottom;y.bottom+=r,y=$te(y,f,h);var j=t-y.left-y.right,E=e-y.top-y.bottom;return Ug(Ug({brushBottom:w},y),{},{width:Math.max(j,0),height:Math.max(E,0)})}),une=ee(qn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),xA=ee(no,ro,(t,e)=>({x:0,y:0,width:t,height:e})),dne=_.createContext(null),nr=()=>_.useContext(dne)!=null,A0=t=>t.brush,S0=ee([A0,qn,M6],(t,e,n)=>({height:t.height,x:Ne(t.x)?t.x:e.left,y:Ne(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ne(t.width)?t.width:e.width})),C1={},P1={},O1={},mR;function fne(){return mR||(mR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let c,d=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{d!==null&&(n.apply(c,d),c=void 0,d=null)},g=()=>{h&&p(),E()};let y=null;const w=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},r)},j=()=>{y!==null&&(clearTimeout(y),y=null)},E=()=>{j(),c=void 0,d=null},A=()=>{p()},T=function(...k){if(i?.aborted)return;c=this,d=k;const I=y==null;w(),f&&I&&p()};return T.schedule=w,T.cancel=E,T.flush=A,i?.addEventListener("abort",E,{once:!0}),T}t.debounce=e})(O1)),O1}var pR;function hne(){return pR||(pR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fne();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:d=!0,maxWait:f}=s,h=Array(2);c&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const y=e.debounce(function(...E){p=r.apply(this,E),g=null},i,{edges:h}),w=function(...E){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,E),g=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,E),p)},j=()=>(y.flush(),p);return w.cancel=y.cancel,w.flush=j,w}t.debounce=n})(P1)),P1}var gR;function mne(){return gR||(gR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hne();function n(r,i=0,s={}){const{leading:c=!0,trailing:d=!0}=s;return e.debounce(r,i,{leading:c,maxWait:i,trailing:d})}t.throttle=n})(C1)),C1}var I1,vR;function pne(){return vR||(vR=1,I1=mne().throttle),I1}var gne=pne();const vne=ns(gne);var ty=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(n.replace(/%s/g,()=>i[c++]))}},qa={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},V6=(t,e,n)=>{var{width:r=qa.width,height:i=qa.height,aspect:s,maxHeight:c}=n,d=Qc(r)?t:Number(r),f=Qc(i)?e:Number(i);return s&&s>0&&(d?f=d/s:f&&(d=f*s),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:d,calculatedHeight:f}},yne={width:0,height:0,overflow:"visible"},bne={width:0,overflowX:"visible"},_ne={height:0,overflowY:"visible"},xne={},wne=t=>{var{width:e,height:n}=t,r=Qc(e),i=Qc(n);return r&&i?yne:r?bne:i?_ne:xne};function Ene(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i=qa.width,s=qa.height):i===void 0?i=r&&r>0?void 0:qa.width:s===void 0&&(s=r&&r>0?void 0:qa.height),{width:i,height:s}}function dE(){return dE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dE.apply(null,arguments)}function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){jne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jne(t,e,n){return(e=Ane(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ane(t){var e=Sne(t,"string");return typeof e=="symbol"?e:e+""}function Sne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var U6=_.createContext(qa.initialDimension);function Nne(t){return Za(t.width)&&Za(t.height)}function q6(t){var{children:e,width:n,height:r}=t,i=_.useMemo(()=>({width:n,height:r}),[n,r]);return Nne(i)?_.createElement(U6.Provider,{value:i},e):null}var wA=()=>_.useContext(U6),Tne=_.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=qa.initialDimension,width:i,height:s,minWidth:c=qa.minWidth,minHeight:d,maxHeight:f,children:h,debounce:p=qa.debounce,id:g,className:y,onResize:w,style:j={}}=t,E=_.useRef(null),A=_.useRef();A.current=w,_.useImperativeHandle(e,()=>E.current);var[T,k]=_.useState({containerWidth:r.width,containerHeight:r.height}),I=_.useCallback((P,D)=>{k(B=>{var U=Math.round(P),L=Math.round(D);return B.containerWidth===U&&B.containerHeight===L?B:{containerWidth:U,containerHeight:L}})},[]);_.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Il;var P=L=>{var q,pe=L[0];if(pe!=null){var{width:Ee,height:F}=pe.contentRect;I(Ee,F),(q=A.current)===null||q===void 0||q.call(A,Ee,F)}};p>0&&(P=vne(P,p,{trailing:!0,leading:!1}));var D=new ResizeObserver(P),{width:B,height:U}=E.current.getBoundingClientRect();return I(B,U),D.observe(E.current),()=>{D.disconnect()}},[I,p]);var{containerWidth:R,containerHeight:z}=T;ty(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:M,calculatedHeight:O}=V6(R,z,{width:i,height:s,aspect:n,maxHeight:f});return ty(M!=null&&M>0||O!=null&&O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,O,i,s,c,d,n),_.createElement("div",{id:g?"".concat(g):void 0,className:vt("recharts-responsive-container",y),style:bR(bR({},j),{},{width:i,height:s,minWidth:c,minHeight:d,maxHeight:f}),ref:E},_.createElement("div",{style:wne({width:i,height:s})},_.createElement(q6,{width:M,height:O},h)))}),bc=_.forwardRef((t,e)=>{var n=wA();if(Za(n.width)&&Za(n.height))return t.children;var{width:r,height:i}=Ene({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:c}=V6(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ne(s)&&Ne(c)?_.createElement(q6,{width:s,height:c},t.children):_.createElement(Tne,dE({},t,{width:r,height:i,ref:e}))});function EA(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var N0=()=>{var t,e=nr(),n=Oe(une),r=Oe(S0),i=(t=Oe(A0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Cne={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},B6=()=>{var t;return(t=Oe(qn))!==null&&t!==void 0?t:Cne},jA=()=>Oe(no),AA=()=>Oe(ro),Pne=()=>Oe(t=>t.layout.margin),ht=t=>t.layout.layoutType,kl=()=>Oe(ht),SA=()=>{var t=kl();if(t==="horizontal"||t==="vertical")return t},$6=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},One=()=>{var t=kl();return t!==void 0},zm=t=>{var e=Ht(),n=nr(),{width:r,height:i}=t,s=wA(),c=r,d=i;return s&&(c=s.width>0?s.width:r,d=s.height>0?s.height:i),_.useEffect(()=>{!n&&Za(c)&&Za(d)&&e(zte({width:c,height:d}))},[e,n,c,d]),null},F6=Symbol.for("immer-nothing"),_R=Symbol.for("immer-draftable"),xi=Symbol.for("immer-state");function sa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var nm=Object.getPrototypeOf;function Od(t){return!!t&&!!t[xi]}function Xc(t){return t?H6(t)||Array.isArray(t)||!!t[_R]||!!t.constructor?.[_R]||Lm(t)||C0(t):!1}var Ine=Object.prototype.constructor.toString(),xR=new WeakMap;function H6(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=xR.get(n);return r===void 0&&(r=Function.toString.call(n),xR.set(n,r)),r===Ine}function ny(t,e,n=!0){T0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function T0(t){const e=t[xi];return e?e.type_:Array.isArray(t)?1:Lm(t)?2:C0(t)?3:0}function fE(t,e){return T0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function K6(t,e,n){const r=T0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Rne(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Lm(t){return t instanceof Map}function C0(t){return t instanceof Set}function vc(t){return t.copy_||t.base_}function hE(t,e){if(Lm(t))return new Map(t);if(C0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=H6(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[xi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const c=i[s],d=r[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(nm(t),r)}else{const r=nm(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function NA(t,e=!1){return P0(t)||Od(t)||!Xc(t)||(T0(t)>1&&Object.defineProperties(t,{set:qg,add:qg,clear:qg,delete:qg}),Object.freeze(t),e&&Object.values(t).forEach(n=>NA(n,!0))),t}function kne(){sa(2)}var qg={value:kne};function P0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Dne={};function Zc(t){const e=Dne[t];return e||sa(0,t),e}var rm;function G6(){return rm}function Mne(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function wR(t,e){e&&(Zc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function mE(t){pE(t),t.drafts_.forEach(zne),t.drafts_=null}function pE(t){t===rm&&(rm=t.parent_)}function ER(t){return rm=Mne(rm,t)}function zne(t){const e=t[xi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function jR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[xi].modified_&&(mE(e),sa(4)),Xc(t)&&(t=ry(e,t),e.parent_||iy(e,t)),e.patches_&&Zc("Patches").generateReplacementPatches_(n[xi].base_,t,e.patches_,e.inversePatches_)):t=ry(e,n,[]),mE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==F6?t:void 0}function ry(t,e,n){if(P0(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[xi];if(!i)return ny(e,(s,c)=>AR(t,i,e,s,c,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return iy(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let c=s,d=!1;i.type_===3&&(c=new Set(s),s.clear(),d=!0),ny(c,(f,h)=>AR(t,i,s,f,h,n,d),r),iy(t,s,!1),n&&t.patches_&&Zc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function AR(t,e,n,r,i,s,c){if(i==null||typeof i!="object"&&!c)return;const d=P0(i);if(!(d&&!c)){if(Od(i)){const f=s&&e&&e.type_!==3&&!fE(e.assigned_,r)?s.concat(r):void 0,h=ry(t,i,f);if(K6(n,r,h),Od(h))t.canAutoFreeze_=!1;else return}else c&&n.add(i);if(Xc(i)&&!d){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&d)return;ry(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Lm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&iy(t,i)}}}function iy(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&NA(e,n)}function Lne(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:G6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=TA;n&&(i=[r],s=im);const{revoke:c,proxy:d}=Proxy.revocable(i,s);return r.draft_=d,r.revoke_=c,d}var TA={get(t,e){if(e===xi)return t;const n=vc(t);if(!fE(n,e))return Vne(t,n,e);const r=n[e];return t.finalized_||!Xc(r)?r:r===R1(t.base_,e)?(k1(t),t.copy_[e]=vE(r,t)):r},has(t,e){return e in vc(t)},ownKeys(t){return Reflect.ownKeys(vc(t))},set(t,e,n){const r=W6(vc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=R1(vc(t),e),s=i?.[xi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Rne(n,i)&&(n!==void 0||fE(t.base_,e)))return!0;k1(t),gE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return R1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,k1(t),gE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=vc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){sa(11)},getPrototypeOf(t){return nm(t.base_)},setPrototypeOf(){sa(12)}},im={};ny(TA,(t,e)=>{im[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});im.deleteProperty=function(t,e){return im.set.call(this,t,e,void 0)};im.set=function(t,e,n){return TA.set.call(this,t[0],e,n,t[0])};function R1(t,e){const n=t[xi];return(n?vc(n):t)[e]}function Vne(t,e,n){const r=W6(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function W6(t,e){if(!(e in t))return;let n=nm(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=nm(n)}}function gE(t){t.modified_||(t.modified_=!0,t.parent_&&gE(t.parent_))}function k1(t){t.copy_||(t.copy_=hE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Une=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const c=this;return function(f=s,...h){return c.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&sa(6),r!==void 0&&typeof r!="function"&&sa(7);let i;if(Xc(e)){const s=ER(this),c=vE(e,void 0);let d=!0;try{i=n(c),d=!1}finally{d?mE(s):pE(s)}return wR(s,r),jR(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===F6&&(i=void 0),this.autoFreeze_&&NA(i,!0),r){const s=[],c=[];Zc("Patches").generateReplacementPatches_(e,i,s,c),r(s,c)}return i}else sa(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,f=>e(f,...d));let r,i;return[this.produce(e,n,(c,d)=>{r=c,i=d}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Xc(t)||sa(8),Od(t)&&(t=qne(t));const e=ER(this),n=vE(t,void 0);return n[xi].isManual_=!0,pE(e),n}finishDraft(t,e){const n=t&&t[xi];(!n||!n.isManual_)&&sa(9);const{scope_:r}=n;return wR(r,e),jR(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Zc("Patches").applyPatches_;return Od(t)?r(t,e):this.produce(t,i=>r(i,e))}};function vE(t,e){const n=Lm(t)?Zc("MapSet").proxyMap_(t,e):C0(t)?Zc("MapSet").proxySet_(t,e):Lne(t,e);return(e?e.scope_:G6()).drafts_.push(n),n}function qne(t){return Od(t)||sa(10,t),Q6(t)}function Q6(t){if(!Xc(t)||P0(t))return t;const e=t[xi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=hE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=hE(t,!0);return ny(n,(i,s)=>{K6(n,i,Q6(s))},r),e&&(e.finalized_=!1),n}var Bne=new Une;Bne.produce;var $ne={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Y6=ei({name:"legend",initialState:$ne,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Xt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ua(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Xt()},removeLegendPayload:{reducer(t,e){var n=ua(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Xt()}}}),{setLegendSize:SR,setLegendSettings:Fne,addLegendPayload:X6,replaceLegendPayload:Z6,removeLegendPayload:J6}=Y6.actions,Hne=Y6.reducer,Kne=["contextPayload"];function yE(){return yE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yE.apply(null,arguments)}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Id(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){Gne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gne(t,e,n){return(e=Wne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wne(t){var e=Qne(t,"string");return typeof e=="symbol"?e:e+""}function Qne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yne(t,e){if(t==null)return{};var n,r,i=Xne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zne(t){return t.value}function Jne(t){var{contextPayload:e}=t,n=Yne(t,Kne),r=X3(e,t.payloadUniqBy,Zne),i=Id(Id({},n),{},{payload:r});return _.isValidElement(t.content)?_.cloneElement(t.content,i):typeof t.content=="function"?_.createElement(t.content,i):_.createElement(FJ,i)}function ere(t,e,n,r,i,s){var{layout:c,align:d,verticalAlign:f}=e,h,p;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(d==="center"&&c==="vertical"?h={left:((r||0)-s.width)/2}:h=d==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(f==="middle"?p={top:((i||0)-s.height)/2}:p=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Id(Id({},h),p)}function tre(t){var e=Ht();return _.useEffect(()=>{e(Fne(t))},[e,t]),null}function nre(t){var e=Ht();return _.useEffect(()=>(e(SR(t)),()=>{e(SR({width:0,height:0}))}),[e,t]),null}function rre(t,e,n,r){return t==="vertical"&&e!=null?{height:e}:t==="horizontal"?{width:n||r}:null}var ire={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function bE(t){var e=pn(t,ire),n=Vee(),r=MZ(),i=Pne(),{width:s,height:c,wrapperStyle:d,portal:f}=e,[h,p]=n6([n]),g=jA(),y=AA();if(g==null||y==null)return null;var w=g-(i?.left||0)-(i?.right||0),j=rre(e.layout,c,s,w),E=f?d:Id(Id({position:"absolute",width:j?.width||s||"auto",height:j?.height||c||"auto"},ere(d,e,i,g,y,h)),d),A=f??r;if(A==null||n==null)return null;var T=_.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:p},_.createElement(tre,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!f&&_.createElement(nre,{width:h.width,height:h.height}),_.createElement(Jne,yE({},e,j,{margin:i,chartWidth:g,chartHeight:y,contextPayload:n})));return XE.createPortal(T,A)}bE.displayName="Legend";function _E(){return _E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_E.apply(null,arguments)}function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ch(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){are(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function are(t,e,n){return(e=sre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sre(t){var e=ore(t,"string");return typeof e=="symbol"?e:e+""}function ore(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lre(t){return Array.isArray(t)&&Xa(t[0])&&Xa(t[1])?t.join(" ~ "):t}var Zu={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},cre=t=>{var{separator:e=Zu.separator,contentStyle:n,itemStyle:r,labelStyle:i=Zu.labelStyle,payload:s,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:y=Zu.accessibilityLayer}=t,w=()=>{if(s&&s.length){var z={padding:0,margin:0},M=(d?h0(s,d):s).map((O,P)=>{if(O.type==="none")return null;var D=O.formatter||c||lre,{value:B,name:U}=O,L=B,q=U;if(D){var pe=D(B,U,O,P,s);if(Array.isArray(pe))[L,q]=pe;else if(pe!=null)L=pe;else return null}var Ee=ch(ch({},Zu.itemStyle),{},{color:O.color||Zu.itemStyle.color},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:Ee},Xa(q)?_.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Xa(q)?_.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,_.createElement("span",{className:"recharts-tooltip-item-value"},L),_.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:z},M)}return null},j=ch(ch({},Zu.contentStyle),n),E=ch({margin:0},i),A=!Jt(p),T=A?p:"",k=vt("recharts-default-tooltip",f),I=vt("recharts-tooltip-label",h);A&&g&&s!==void 0&&s!==null&&(T=g(p,s));var R=y?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",_E({className:k,style:j},R),_.createElement("p",{className:I,style:E},_.isValidElement(T)?T:"".concat(T)),w())},uh="recharts-tooltip-wrapper",ure={visibility:"hidden"};function dre(t){var{coordinate:e,translateX:n,translateY:r}=t;return vt(uh,{["".concat(uh,"-right")]:Ne(n)&&e&&Ne(e.x)&&n>=e.x,["".concat(uh,"-left")]:Ne(n)&&e&&Ne(e.x)&&n<e.x,["".concat(uh,"-bottom")]:Ne(r)&&e&&Ne(e.y)&&r>=e.y,["".concat(uh,"-top")]:Ne(r)&&e&&Ne(e.y)&&r<e.y})}function CR(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:s,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=t;if(s&&Ne(s[r]))return s[r];var p=n[r]-d-(i>0?i:0),g=n[r]+i;if(e[r])return c[r]?p:g;var y=f[r];if(y==null)return 0;if(c[r]){var w=p,j=y;return w<j?Math.max(g,y):Math.max(p,y)}if(h==null)return 0;var E=g+d,A=y+h;return E>A?Math.max(p,y):Math.max(g,y)}function fre(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function hre(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:s,reverseDirection:c,tooltipBox:d,useTranslate3d:f,viewBox:h}=t,p,g,y;return d.height>0&&d.width>0&&n?(g=CR({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:s,reverseDirection:c,tooltipDimension:d.width,viewBox:h,viewBoxDimension:h.width}),y=CR({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:s,reverseDirection:c,tooltipDimension:d.height,viewBox:h,viewBoxDimension:h.height}),p=fre({translateX:g,translateY:y,useTranslate3d:f})):p=ure,{cssProperties:p,cssClasses:dre({translateX:g,translateY:y,coordinate:n})}}function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){xE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xE(t,e,n){return(e=mre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mre(t){var e=pre(t,"string");return typeof e=="symbol"?e:e+""}function pre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class gre extends _.PureComponent{constructor(){super(...arguments),xE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),xE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:c,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:y,viewBox:w,wrapperStyle:j,lastBoundingBox:E,innerRef:A,hasPortalFromProps:T}=this.props,k=typeof h=="number"?h:h.x,I=typeof h=="number"?h:h.y,{cssClasses:R,cssProperties:z}=hre({allowEscapeViewBox:n,coordinate:c,offsetLeft:k,offsetTop:I,position:p,reverseDirection:g,tooltipBox:{height:E.height,width:E.width},useTranslate3d:y,viewBox:w}),M=T?{}:Bg(Bg({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},z),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),O=Bg(Bg({},M),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},j);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:O,ref:A},s)}}var e5=()=>{var t;return(t=Oe(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function wE(){return wE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wE.apply(null,arguments)}function OR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(n),!0).forEach(function(r){vre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vre(t,e,n){return(e=yre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yre(t){var e=bre(t,"string");return typeof e=="symbol"?e:e+""}function bre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RR={curveBasisClosed:tJ,curveBasisOpen:nJ,curveBasis:eJ,curveBumpX:UZ,curveBumpY:qZ,curveLinearClosed:rJ,curveLinear:d0,curveMonotoneX:iJ,curveMonotoneY:aJ,curveNatural:sJ,curveStep:oJ,curveStepAfter:cJ,curveStepBefore:lJ},ay=t=>tt(t.x)&&tt(t.y),kR=t=>t.base!=null&&ay(t.base)&&ay(t),dh=t=>t.x,fh=t=>t.y,_re=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Im(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=RR["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return RR[n]||d0},DR={connectNulls:!1,type:"linear"},xre=t=>{var{type:e=DR.type,points:n=[],baseLine:r,layout:i,connectNulls:s=DR.connectNulls}=t,c=_re(e,i),d=s?n.filter(ay):n;if(Array.isArray(r)){var f,h=n.map((j,E)=>IR(IR({},j),{},{base:r[E]}));i==="vertical"?f=kg().y(fh).x1(dh).x0(j=>j.base.x):f=kg().x(dh).y1(fh).y0(j=>j.base.y);var p=f.defined(kR).curve(c),g=s?h.filter(kR):h;return p(g)}var y;i==="vertical"&&Ne(r)?y=kg().y(fh).x1(dh).x0(r):Ne(r)?y=kg().x(dh).y1(fh).y0(r):y=N3().x(dh).y(fh);var w=y.defined(ay).curve(c);return w(d)},_d=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=kl();if((!n||!n.length)&&!r)return null;var c={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},d=n&&n.length?xre(c):r;return _.createElement("path",wE({},Rr(t),dA(t),{className:vt("recharts-curve",e),d:d===null?void 0:d,ref:i}))},wre=["x","y","top","left","width","height","className"];function EE(){return EE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EE.apply(null,arguments)}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ere(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){jre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jre(t,e,n){return(e=Are(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Are(t){var e=Sre(t,"string");return typeof e=="symbol"?e:e+""}function Sre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nre(t,e){if(t==null)return{};var n,r,i=Tre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cre=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),Pre=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:c=0,className:d}=t,f=Nre(t,wre),h=Ere({x:e,y:n,top:r,left:i,width:s,height:c},f);return!Ne(e)||!Ne(n)||!Ne(s)||!Ne(c)||!Ne(r)||!Ne(i)?null:_.createElement("path",EE({},Ar(h),{className:vt("recharts-cross",d),d:Cre(e,n,s,c,r,i)}))};function Ore(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function zR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(n),!0).forEach(function(r){Ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ire(t,e,n){return(e=Rre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rre(t){var e=kre(t,"string");return typeof e=="symbol"?e:e+""}function kre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dre=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),t5=(t,e,n)=>t.map(r=>"".concat(Dre(r)," ").concat(e,"ms ").concat(n)).join(","),Mre=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),am=(t,e)=>Object.keys(e).reduce((n,r)=>LR(LR({},n),{},{[r]:t(r,e[r])}),{});function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){zre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zre(t,e,n){return(e=Lre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lre(t){var e=Vre(t,"string");return typeof e=="symbol"?e:e+""}function Vre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sy=(t,e,n)=>t+(e-t)*n,jE=t=>{var{from:e,to:n}=t;return e!==n},n5=(t,e,n)=>{var r=am((i,s)=>{if(jE(s)){var[c,d]=t(s.from,s.to,s.velocity);return Vn(Vn({},s),{},{from:c,velocity:d})}return s},e);return n<1?am((i,s)=>jE(s)&&r[i]!=null?Vn(Vn({},s),{},{velocity:sy(s.velocity,r[i].velocity,n),from:sy(s.from,r[i].from,n)}):s,e):n5(t,r,n-1)};function Ure(t,e,n,r,i,s){var c,d=r.reduce((y,w)=>Vn(Vn({},y),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),f=()=>am((y,w)=>w.from,d),h=()=>!Object.values(d).filter(jE).length,p=null,g=y=>{c||(c=y);var w=y-c,j=w/n.dt;d=n5(n,d,j),i(Vn(Vn(Vn({},t),e),f())),c=y,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var y;(y=p)===null||y===void 0||y()})}function qre(t,e,n,r,i,s,c){var d=null,f=i.reduce((g,y)=>{var w=t[y],j=e[y];return w==null||j==null?g:Vn(Vn({},g),{},{[y]:[w,j]})},{}),h,p=g=>{h||(h=g);var y=(g-h)/r,w=am((E,A)=>sy(...A,n(y)),f);if(s(Vn(Vn(Vn({},t),e),w)),y<1)d=c.setTimeout(p);else{var j=am((E,A)=>sy(...A,n(1)),f);s(Vn(Vn(Vn({},t),e),j))}};return()=>(d=c.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const Bre=(t,e,n,r,i,s)=>{var c=Mre(t,e);return n==null?()=>(i(Vn(Vn({},t),e)),()=>{}):n.isStepper===!0?Ure(t,e,n,c,i,s):qre(t,e,n,r,c,i,s)};var oy=1e-4,r5=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],i5=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),UR=(t,e)=>n=>{var r=r5(t,e);return i5(r,n)},$re=(t,e)=>n=>{var r=r5(t,e),i=[...r.map((s,c)=>s*c).slice(1),0];return i5(i,n)},Fre=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},Hre=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Fre(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},Kre=(t,e,n,r)=>{var i=UR(t,n),s=UR(e,r),c=$re(t,n),d=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,y=0;y<8;++y){var w=i(g)-p,j=c(g);if(Math.abs(w-p)<oy||j<oy)return s(g);g=d(g-w/j)}return s(g)};return f.isStepper=!1,f},qR=function(){return Kre(...Hre(...arguments))},Gre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(c,d,f)=>{var h=-(c-d)*n,p=f*r,g=f+(h-p)*i/1e3,y=f*i/1e3+c;return Math.abs(y-d)<oy&&Math.abs(g)<oy?[d,0]:[y,g]};return s.isStepper=!0,s.dt=i,s},Wre=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return qR(t);case"spring":return Gre();default:if(t.split("(")[0]==="cubic-bezier")return qR(t)}return typeof t=="function"?t:null};function Qre(t){var e,n=()=>null,r=!1,i=null,s=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...h]=d;if(typeof f=="number"){i=t.setTimeout(s.bind(null,h),f);return}s(f),i=t.setTimeout(s.bind(null,h));return}typeof c=="string"&&(e=c,n(e)),typeof c=="object"&&(e=c,n(e)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,i&&(i(),i=null),s(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>t}}class Yre{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=c=>{c-r>=n?e(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function Xre(){return Qre(new Yre)}var Zre=_.createContext(Xre);function Jre(t,e){var n=_.useContext(Zre);return _.useMemo(()=>e??n(t),[t,e,n])}var eie=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Vm={isSsr:eie()},tie={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},BR={t:0},D1={t:1};function Kd(t){var e=pn(t,tie),{isActive:n,canBegin:r,duration:i,easing:s,begin:c,onAnimationEnd:d,onAnimationStart:f,children:h}=e,p=n==="auto"?!Vm.isSsr:n,g=Jre(e.animationId,e.animationManager),[y,w]=_.useState(p?BR:D1),j=_.useRef(null);return _.useEffect(()=>{p||w(D1)},[p]),_.useEffect(()=>{if(!p||!r)return Il;var E=Bre(BR,D1,Wre(s),i,w,g.getTimeoutController()),A=()=>{j.current=E()};return g.start([f,c,A,i,d]),()=>{g.stop(),j.current&&j.current(),d()}},[p,r,i,s,c,f,d,g]),h(y.t)}function Gd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(Zh(e)),r=_.useRef(t);return r.current!==t&&(n.current=Zh(e),r.current=t),n.current}var nie=["radius"],rie=["radius"],$R,FR,HR,KR,GR,WR,QR,YR,XR,ZR;function JR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(n),!0).forEach(function(r){iie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iie(t,e,n){return(e=aie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aie(t){var e=sie(t,"string");return typeof e=="symbol"?e:e+""}function sie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ly(){return ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ly.apply(null,arguments)}function tk(t,e){if(t==null)return{};var n,r,i=oie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Da(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var nk=(t,e,n,r,i)=>{var s=al(n),c=al(r),d=Math.min(Math.abs(s)/2,Math.abs(c)/2),f=c>=0?1:-1,h=s>=0?1:-1,p=c>=0&&s>=0||c<0&&s<0?1:0,g;if(d>0&&Array.isArray(i)){for(var y=[0,0,0,0],w=0,j=4;w<j;w++){var E,A=(E=i[w])!==null&&E!==void 0?E:0;y[w]=A>d?d:A}g=cn($R||($R=Da(["M",",",""])),t,e+f*y[0]),y[0]>0&&(g+=cn(FR||(FR=Da(["A ",",",",0,0,",",",",",""])),y[0],y[0],p,t+h*y[0],e)),g+=cn(HR||(HR=Da(["L ",",",""])),t+n-h*y[1],e),y[1]>0&&(g+=cn(KR||(KR=Da(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],p,t+n,e+f*y[1])),g+=cn(GR||(GR=Da(["L ",",",""])),t+n,e+r-f*y[2]),y[2]>0&&(g+=cn(WR||(WR=Da(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],p,t+n-h*y[2],e+r)),g+=cn(QR||(QR=Da(["L ",",",""])),t+h*y[3],e+r),y[3]>0&&(g+=cn(YR||(YR=Da(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],p,t,e+r-f*y[3])),g+="Z"}else if(d>0&&i===+i&&i>0){var T=Math.min(d,i);g=cn(XR||(XR=Da(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+f*T,T,T,p,t+h*T,e,t+n-h*T,e,T,T,p,t+n,e+f*T,t+n,e+r-f*T,T,T,p,t+n-h*T,e+r,t+h*T,e+r,T,T,p,t,e+r-f*T)}else g=cn(ZR||(ZR=Da(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return g},rk={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},a5=t=>{var e=pn(t,rk),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var J=n.current.getTotalLength();J&&i(J)}catch{}},[]);var{x:s,y:c,width:d,height:f,radius:h,className:p}=e,{animationEasing:g,animationDuration:y,animationBegin:w,isAnimationActive:j,isUpdateAnimationActive:E}=e,A=_.useRef(d),T=_.useRef(f),k=_.useRef(s),I=_.useRef(c),R=_.useMemo(()=>({x:s,y:c,width:d,height:f,radius:h}),[s,c,d,f,h]),z=Gd(R,"rectangle-");if(s!==+s||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var M=vt("recharts-rectangle",p);if(!E){var O=Ar(e),{radius:P}=O,D=tk(O,nie);return _.createElement("path",ly({},D,{x:al(s),y:al(c),width:al(d),height:al(f),radius:typeof h=="number"?h:void 0,className:M,d:nk(s,c,d,f,h)}))}var B=A.current,U=T.current,L=k.current,q=I.current,pe="0px ".concat(r===-1?1:r,"px"),Ee="".concat(r,"px 0px"),F=t5(["strokeDasharray"],y,typeof g=="string"?g:rk.animationEasing);return _.createElement(Kd,{animationId:z,key:z,canBegin:r>0,duration:y,easing:g,isActive:E,begin:w},J=>{var fe=Et(B,d,J),we=Et(U,f,J),_e=Et(L,s,J),H=Et(q,c,J);n.current&&(A.current=fe,T.current=we,k.current=_e,I.current=H);var ie;j?J>0?ie={transition:F,strokeDasharray:Ee}:ie={strokeDasharray:pe}:ie={strokeDasharray:Ee};var ve=Ar(e),{radius:xe}=ve,Y=tk(ve,rie);return _.createElement("path",ly({},Y,{radius:typeof h=="number"?h:void 0,className:M,d:nk(_e,H,fe,we,h),ref:n,style:ek(ek({},ie),e.style)}))})};function ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ak(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(n),!0).forEach(function(r){lie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lie(t,e,n){return(e=cie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cie(t){var e=uie(t,"string");return typeof e=="symbol"?e:e+""}function uie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cy=Math.PI/180,die=t=>t*180/Math.PI,Dn=(t,e,n,r)=>({x:t+Math.cos(-cy*r)*n,y:e+Math.sin(-cy*r)*n}),s5=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},fie=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},hie=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,c=fie({x:n,y:r},{x:i,y:s});if(c<=0)return{radius:c,angle:0};var d=(n-i)/c,f=Math.acos(d);return r>s&&(f=2*Math.PI-f),{radius:c,angle:die(f),angleInRadian:f}},mie=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},pie=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),c=Math.min(i,s);return t+c*360},gie=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=hie({x:n,y:r},e),{innerRadius:c,outerRadius:d}=e;if(i<c||i>d||i===0)return null;var{startAngle:f,endAngle:h}=mie(e),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?ak(ak({},e),{},{radius:i,angle:pie(p,e)}):null};function o5(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,c=Dn(e,n,r,i),d=Dn(e,n,r,s);return{points:[c,d],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var sk,ok,lk,ck,uk,dk,fk;function AE(){return AE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AE.apply(null,arguments)}function Ec(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var vie=(t,e)=>{var n=er(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},$g=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:c,cornerRadius:d,cornerIsExternal:f}=t,h=d*(c?1:-1)+r,p=Math.asin(d/h)/cy,g=f?i:i+s*p,y=Dn(e,n,h,g),w=Dn(e,n,r,g),j=f?i-s*p:i,E=Dn(e,n,h*Math.cos(p*cy),j);return{center:y,circleTangency:w,lineTangency:E,theta:p}},l5=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:c}=t,d=vie(s,c),f=s+d,h=Dn(e,n,i,s),p=Dn(e,n,i,f),g=cn(sk||(sk=Ec(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(d)>180),+(s>f),p.x,p.y);if(r>0){var y=Dn(e,n,r,s),w=Dn(e,n,r,f);g+=cn(ok||(ok=Ec(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),w.x,w.y,r,r,+(Math.abs(d)>180),+(s<=f),y.x,y.y)}else g+=cn(lk||(lk=Ec(["L ",","," Z"])),e,n);return g},yie=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h}=t,p=er(h-f),{circleTangency:g,lineTangency:y,theta:w}=$g({cx:e,cy:n,radius:i,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:j,lineTangency:E,theta:A}=$g({cx:e,cy:n,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:d}),T=d?Math.abs(f-h):Math.abs(f-h)-w-A;if(T<0)return c?cn(ck||(ck=Ec(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,s,s,s*2,s,s,-s*2):l5({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var k=cn(uk||(uk=Ec(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,s,s,+(p<0),g.x,g.y,i,i,+(T>180),+(p<0),j.x,j.y,s,s,+(p<0),E.x,E.y);if(r>0){var{circleTangency:I,lineTangency:R,theta:z}=$g({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:M,lineTangency:O,theta:P}=$g({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),D=d?Math.abs(f-h):Math.abs(f-h)-z-P;if(D<0&&s===0)return"".concat(k,"L").concat(e,",").concat(n,"Z");k+=cn(dk||(dk=Ec(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),O.x,O.y,s,s,+(p<0),M.x,M.y,r,r,+(D>180),+(p>0),I.x,I.y,s,s,+(p<0),R.x,R.y)}else k+=cn(fk||(fk=Ec(["L",",","Z"])),e,n);return k},bie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},c5=t=>{var e=pn(t,bie),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=e;if(s<i||h===p)return null;var y=vt("recharts-sector",g),w=s-i,j=Er(c,w,0,!0),E;return j>0&&Math.abs(h-p)<360?E=yie({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(j,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):E=l5({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),_.createElement("path",AE({},Ar(e),{className:y,d:E}))};function _ie(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(B3(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:c,angle:d}=e,f=Dn(r,i,s,d),h=Dn(r,i,c,d);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return o5(e)}}var M1={},z1={},L1={},hk;function xie(){return hk||(hk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J3();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(L1)),L1}var mk;function wie(){return mk||(mk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xie();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(z1)),z1}var pk;function Eie(){return pk||(pk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=e6(),n=wie();function r(i,s,c){c&&typeof c!="number"&&e.isIterateeCall(i,s,c)&&(s=c=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),c=c===void 0?i<s?1:-1:n.toFinite(c);const d=Math.max(Math.ceil((s-i)/(c||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=i,i+=c;return f}t.range=r})(M1)),M1}var V1,gk;function jie(){return gk||(gk=1,V1=Eie().range),V1}var Aie=jie();const u5=ns(Aie);function dl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Sie(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CA(t){let e,n,r;t.length!==2?(e=dl,n=(d,f)=>dl(t(d),f),r=(d,f)=>t(d)-f):(e=t===dl||t===Sie?t:Nie,n=t,r=t);function i(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function c(d,f,h=0,p=d.length){const g=i(d,f,h,p-1);return g>h&&r(d[g-1],f)>-r(d[g],f)?g-1:g}return{left:i,center:c,right:s}}function Nie(){return 0}function d5(t){return t===null?NaN:+t}function*Tie(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Cie=CA(dl),Um=Cie.right;CA(d5).center;class vk extends Map{constructor(e,n=Iie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(yk(this,e))}has(e){return super.has(yk(this,e))}set(e,n){return super.set(Pie(this,e),n)}delete(e){return super.delete(Oie(this,e))}}function yk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Pie({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Oie({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Iie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Rie(t=dl){if(t===dl)return f5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function f5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const kie=Math.sqrt(50),Die=Math.sqrt(10),Mie=Math.sqrt(2);function uy(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),c=s>=kie?10:s>=Die?5:s>=Mie?2:1;let d,f,h;return i<0?(h=Math.pow(10,-i)/c,d=Math.round(t*h),f=Math.round(e*h),d/h<t&&++d,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*c,d=Math.round(t/h),f=Math.round(e/h),d*h<t&&++d,f*h>e&&--f),f<d&&.5<=n&&n<2?uy(t,e,n*2):[d,f,h]}function SE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,c]=r?uy(e,t,n):uy(t,e,n);if(!(s>=i))return[];const d=s-i+1,f=new Array(d);if(r)if(c<0)for(let h=0;h<d;++h)f[h]=(s-h)/-c;else for(let h=0;h<d;++h)f[h]=(s-h)*c;else if(c<0)for(let h=0;h<d;++h)f[h]=(i+h)/-c;else for(let h=0;h<d;++h)f[h]=(i+h)*c;return f}function NE(t,e,n){return e=+e,t=+t,n=+n,uy(t,e,n)[2]}function TE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?NE(e,t,n):NE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function bk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function _k(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function h5(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?f5:Rie(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),w=Math.max(n,Math.floor(e-h*g/f+y)),j=Math.min(r,Math.floor(e+(f-h)*g/f+y));h5(t,e,w,j,i)}const s=t[e];let c=n,d=r;for(hh(t,n,e),i(t[r],s)>0&&hh(t,n,r);c<d;){for(hh(t,c,d),++c,--d;i(t[c],s)<0;)++c;for(;i(t[d],s)>0;)--d}i(t[n],s)===0?hh(t,n,d):(++d,hh(t,d,r)),d<=e&&(n=d+1),e<=d&&(r=d-1)}return t}function hh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function zie(t,e,n){if(t=Float64Array.from(Tie(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return _k(t);if(e>=1)return bk(t);var r,i=(r-1)*e,s=Math.floor(i),c=bk(h5(t,s).subarray(0,s+1)),d=_k(t.subarray(s+1));return c+(d-c)*(i-s)}}function Lie(t,e,n=d5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),c=+n(t[s],s,t),d=+n(t[s+1],s+1,t);return c+(d-c)*(i-s)}}function Vie(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Ki(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function io(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const CE=Symbol("implicit");function PA(){var t=new vk,e=[],n=[],r=CE;function i(s){let c=t.get(s);if(c===void 0){if(r!==CE)return r;t.set(s,c=e.push(s)-1)}return n[c%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new vk;for(const c of s)t.has(c)||t.set(c,e.push(c)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return PA(e,n).unknown(r)},Ki.apply(i,arguments),i}function OA(){var t=PA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,c,d=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var y=e().length,w=i<r,j=w?i:r,E=w?r:i;s=(E-j)/Math.max(1,y-f+h*2),d&&(s=Math.floor(s)),j+=(E-j-s*(y-f))*p,c=s*(1-f),d&&(j=Math.round(j),c=Math.round(c));var A=Vie(y).map(function(T){return j+s*T});return n(w?A.reverse():A)}return t.domain=function(y){return arguments.length?(e(y),g()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,d=!0,g()},t.bandwidth=function(){return c},t.step=function(){return s},t.round=function(y){return arguments.length?(d=!!y,g()):d},t.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),g()):f},t.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),g()):f},t.paddingOuter=function(y){return arguments.length?(h=+y,g()):h},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),g()):p},t.copy=function(){return OA(e(),[r,i]).round(d).paddingInner(f).paddingOuter(h).align(p)},Ki.apply(g(),arguments)}function m5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return m5(e())},t}function Uie(){return m5(OA.apply(null,arguments).paddingInner(1))}function IA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function p5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function qm(){}var sm=.7,dy=1/sm,xd="\\s*([+-]?\\d+)\\s*",om="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qie=/^#([0-9a-f]{3,8})$/,Bie=new RegExp(`^rgb\\(${xd},${xd},${xd}\\)$`),$ie=new RegExp(`^rgb\\(${Qa},${Qa},${Qa}\\)$`),Fie=new RegExp(`^rgba\\(${xd},${xd},${xd},${om}\\)$`),Hie=new RegExp(`^rgba\\(${Qa},${Qa},${Qa},${om}\\)$`),Kie=new RegExp(`^hsl\\(${om},${Qa},${Qa}\\)$`),Gie=new RegExp(`^hsla\\(${om},${Qa},${Qa},${om}\\)$`),xk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};IA(qm,lm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:wk,formatHex:wk,formatHex8:Wie,formatHsl:Qie,formatRgb:Ek,toString:Ek});function wk(){return this.rgb().formatHex()}function Wie(){return this.rgb().formatHex8()}function Qie(){return g5(this).formatHsl()}function Ek(){return this.rgb().formatRgb()}function lm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=qie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?jk(e):n===3?new Xr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Fg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Fg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Bie.exec(t))?new Xr(e[1],e[2],e[3],1):(e=$ie.exec(t))?new Xr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Fie.exec(t))?Fg(e[1],e[2],e[3],e[4]):(e=Hie.exec(t))?Fg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Kie.exec(t))?Nk(e[1],e[2]/100,e[3]/100,1):(e=Gie.exec(t))?Nk(e[1],e[2]/100,e[3]/100,e[4]):xk.hasOwnProperty(t)?jk(xk[t]):t==="transparent"?new Xr(NaN,NaN,NaN,0):null}function jk(t){return new Xr(t>>16&255,t>>8&255,t&255,1)}function Fg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Xr(t,e,n,r)}function Yie(t){return t instanceof qm||(t=lm(t)),t?(t=t.rgb(),new Xr(t.r,t.g,t.b,t.opacity)):new Xr}function PE(t,e,n,r){return arguments.length===1?Yie(t):new Xr(t,e,n,r??1)}function Xr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}IA(Xr,PE,p5(qm,{brighter(t){return t=t==null?dy:Math.pow(dy,t),new Xr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?sm:Math.pow(sm,t),new Xr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Xr(kc(this.r),kc(this.g),kc(this.b),fy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ak,formatHex:Ak,formatHex8:Xie,formatRgb:Sk,toString:Sk}));function Ak(){return`#${jc(this.r)}${jc(this.g)}${jc(this.b)}`}function Xie(){return`#${jc(this.r)}${jc(this.g)}${jc(this.b)}${jc((isNaN(this.opacity)?1:this.opacity)*255)}`}function Sk(){const t=fy(this.opacity);return`${t===1?"rgb(":"rgba("}${kc(this.r)}, ${kc(this.g)}, ${kc(this.b)}${t===1?")":`, ${t})`}`}function fy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function kc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function jc(t){return t=kc(t),(t<16?"0":"")+t.toString(16)}function Nk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new oa(t,e,n,r)}function g5(t){if(t instanceof oa)return new oa(t.h,t.s,t.l,t.opacity);if(t instanceof qm||(t=lm(t)),!t)return new oa;if(t instanceof oa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),c=NaN,d=s-i,f=(s+i)/2;return d?(e===s?c=(n-r)/d+(n<r)*6:n===s?c=(r-e)/d+2:c=(e-n)/d+4,d/=f<.5?s+i:2-s-i,c*=60):d=f>0&&f<1?0:c,new oa(c,d,f,t.opacity)}function Zie(t,e,n,r){return arguments.length===1?g5(t):new oa(t,e,n,r??1)}function oa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}IA(oa,Zie,p5(qm,{brighter(t){return t=t==null?dy:Math.pow(dy,t),new oa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?sm:Math.pow(sm,t),new oa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Xr(U1(t>=240?t-240:t+120,i,r),U1(t,i,r),U1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new oa(Tk(this.h),Hg(this.s),Hg(this.l),fy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=fy(this.opacity);return`${t===1?"hsl(":"hsla("}${Tk(this.h)}, ${Hg(this.s)*100}%, ${Hg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Tk(t){return t=(t||0)%360,t<0?t+360:t}function Hg(t){return Math.max(0,Math.min(1,t||0))}function U1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const RA=t=>()=>t;function Jie(t,e){return function(n){return t+n*e}}function eae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function tae(t){return(t=+t)==1?v5:function(e,n){return n-e?eae(e,n,t):RA(isNaN(e)?n:e)}}function v5(t,e){var n=e-t;return n?Jie(t,n):RA(isNaN(t)?e:t)}const Ck=(function t(e){var n=tae(e);function r(i,s){var c=n((i=PE(i)).r,(s=PE(s)).r),d=n(i.g,s.g),f=n(i.b,s.b),h=v5(i.opacity,s.opacity);return function(p){return i.r=c(p),i.g=d(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=t,r})(1);function nae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function rae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function iae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),c;for(c=0;c<r;++c)i[c]=Wd(t[c],e[c]);for(;c<n;++c)s[c]=e[c];return function(d){for(c=0;c<r;++c)s[c]=i[c](d);return s}}function aae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function hy(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function sae(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Wd(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var OE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,q1=new RegExp(OE.source,"g");function oae(t){return function(){return t}}function lae(t){return function(e){return t(e)+""}}function cae(t,e){var n=OE.lastIndex=q1.lastIndex=0,r,i,s,c=-1,d=[],f=[];for(t=t+"",e=e+"";(r=OE.exec(t))&&(i=q1.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),d[c]?d[c]+=s:d[++c]=s),(r=r[0])===(i=i[0])?d[c]?d[c]+=i:d[++c]=i:(d[++c]=null,f.push({i:c,x:hy(r,i)})),n=q1.lastIndex;return n<e.length&&(s=e.slice(n),d[c]?d[c]+=s:d[++c]=s),d.length<2?f[0]?lae(f[0].x):oae(e):(e=f.length,function(h){for(var p=0,g;p<e;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function Wd(t,e){var n=typeof e,r;return e==null||n==="boolean"?RA(e):(n==="number"?hy:n==="string"?(r=lm(e))?(e=r,Ck):cae:e instanceof lm?Ck:e instanceof Date?aae:rae(e)?nae:Array.isArray(e)?iae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?sae:hy)(t,e)}function kA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function uae(t,e){e===void 0&&(e=t,t=Wd);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(c){var d=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return s[d](c-d)}}function dae(t){return function(){return t}}function my(t){return+t}var Pk=[0,1];function Or(t){return t}function IE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:dae(isNaN(e)?NaN:.5)}function fae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function hae(t,e,n){var r=t[0],i=t[1],s=e[0],c=e[1];return i<r?(r=IE(i,r),s=n(c,s)):(r=IE(r,i),s=n(s,c)),function(d){return s(r(d))}}function mae(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),c=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<r;)i[c]=IE(t[c],t[c+1]),s[c]=n(e[c],e[c+1]);return function(d){var f=Um(t,d,1,r)-1;return s[f](i[f](d))}}function Bm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function O0(){var t=Pk,e=Pk,n=Wd,r,i,s,c=Or,d,f,h;function p(){var y=Math.min(t.length,e.length);return c!==Or&&(c=fae(t[0],t[y-1])),d=y>2?mae:hae,f=h=null,g}function g(y){return y==null||isNaN(y=+y)?s:(f||(f=d(t.map(r),e,n)))(r(c(y)))}return g.invert=function(y){return c(i((h||(h=d(e,t.map(r),hy)))(y)))},g.domain=function(y){return arguments.length?(t=Array.from(y,my),p()):t.slice()},g.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},g.rangeRound=function(y){return e=Array.from(y),n=kA,p()},g.clamp=function(y){return arguments.length?(c=y?!0:Or,p()):c!==Or},g.interpolate=function(y){return arguments.length?(n=y,p()):n},g.unknown=function(y){return arguments.length?(s=y,g):s},function(y,w){return r=y,i=w,p()}}function DA(){return O0()(Or,Or)}function pae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function py(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Rd(t){return t=py(Math.abs(t)),t?t[1]:NaN}function gae(t,e){return function(n,r){for(var i=n.length,s=[],c=0,d=t[0],f=0;i>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),s.push(n.substring(i-=d,i+d)),!((f+=d+1)>r));)d=t[c=(c+1)%t.length];return s.reverse().join(e)}}function vae(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var yae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cm(t){if(!(e=yae.exec(t)))throw new Error("invalid format: "+t);var e;return new MA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}cm.prototype=MA.prototype;function MA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}MA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bae(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var gy;function _ae(t,e){var n=py(t,e);if(!n)return gy=void 0,t.toPrecision(e);var r=n[0],i=n[1],s=i-(gy=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=r.length;return s===c?r:s>c?r+new Array(s-c+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+py(t,Math.max(0,e+s-1))[0]}function Ok(t,e){var n=py(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ik={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:pae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ok(t*100,e),r:Ok,s:_ae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Rk(t){return t}var kk=Array.prototype.map,Dk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xae(t){var e=t.grouping===void 0||t.thousands===void 0?Rk:gae(kk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Rk:vae(kk.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(g,y){g=cm(g);var w=g.fill,j=g.align,E=g.sign,A=g.symbol,T=g.zero,k=g.width,I=g.comma,R=g.precision,z=g.trim,M=g.type;M==="n"?(I=!0,M="g"):Ik[M]||(R===void 0&&(R=12),z=!0,M="g"),(T||w==="0"&&j==="=")&&(T=!0,w="0",j="=");var O=(y&&y.prefix!==void 0?y.prefix:"")+(A==="$"?n:A==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():""),P=(A==="$"?r:/[%p]/.test(M)?c:"")+(y&&y.suffix!==void 0?y.suffix:""),D=Ik[M],B=/[defgprs%]/.test(M);R=R===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function U(L){var q=O,pe=P,Ee,F,J;if(M==="c")pe=D(L)+pe,L="";else{L=+L;var fe=L<0||1/L<0;if(L=isNaN(L)?f:D(Math.abs(L),R),z&&(L=bae(L)),fe&&+L==0&&E!=="+"&&(fe=!1),q=(fe?E==="("?E:d:E==="-"||E==="("?"":E)+q,pe=(M==="s"&&!isNaN(L)&&gy!==void 0?Dk[8+gy/3]:"")+pe+(fe&&E==="("?")":""),B){for(Ee=-1,F=L.length;++Ee<F;)if(J=L.charCodeAt(Ee),48>J||J>57){pe=(J===46?i+L.slice(Ee+1):L.slice(Ee))+pe,L=L.slice(0,Ee);break}}}I&&!T&&(L=e(L,1/0));var we=q.length+L.length+pe.length,_e=we<k?new Array(k-we+1).join(w):"";switch(I&&T&&(L=e(_e+L,_e.length?k-pe.length:1/0),_e=""),j){case"<":L=q+L+pe+_e;break;case"=":L=q+_e+L+pe;break;case"^":L=_e.slice(0,we=_e.length>>1)+q+L+pe+_e.slice(we);break;default:L=_e+q+L+pe;break}return s(L)}return U.toString=function(){return g+""},U}function p(g,y){var w=Math.max(-8,Math.min(8,Math.floor(Rd(y)/3)))*3,j=Math.pow(10,-w),E=h((g=cm(g),g.type="f",g),{suffix:Dk[8+w/3]});return function(A){return E(j*A)}}return{format:h,formatPrefix:p}}var Kg,zA,y5;wae({thousands:",",grouping:[3],currency:["$",""]});function wae(t){return Kg=xae(t),zA=Kg.format,y5=Kg.formatPrefix,Kg}function Eae(t){return Math.max(0,-Rd(Math.abs(t)))}function jae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rd(e)/3)))*3-Rd(Math.abs(t)))}function Aae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Rd(e)-Rd(t))+1}function b5(t,e,n,r){var i=TE(t,e,n),s;switch(r=cm(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=jae(i,c))&&(r.precision=s),y5(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Aae(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Eae(i))&&(r.precision=s-(r.type==="%")*2);break}}return zA(r)}function Dl(t){var e=t.domain;return t.ticks=function(n){var r=e();return SE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return b5(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,c=r[i],d=r[s],f,h,p=10;for(d<c&&(h=c,c=d,d=h,h=i,i=s,s=h);p-- >0;){if(h=NE(c,d,n),h===f)return r[i]=c,r[s]=d,e(r);if(h>0)c=Math.floor(c/h)*h,d=Math.ceil(d/h)*h;else if(h<0)c=Math.ceil(c*h)/h,d=Math.floor(d*h)/h;else break;f=h}return t},t}function _5(){var t=DA();return t.copy=function(){return Bm(t,_5())},Ki.apply(t,arguments),Dl(t)}function x5(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,my),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return x5(t).unknown(e)},t=arguments.length?Array.from(t,my):[0,1],Dl(n)}function w5(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],c;return s<i&&(c=n,n=r,r=c,c=i,i=s,s=c),t[n]=e.floor(i),t[r]=e.ceil(s),t}function Mk(t){return Math.log(t)}function zk(t){return Math.exp(t)}function Sae(t){return-Math.log(-t)}function Nae(t){return-Math.exp(-t)}function Tae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Cae(t){return t===10?Tae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Pae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Lk(t){return(e,n)=>-t(-e,n)}function LA(t){const e=t(Mk,zk),n=e.domain;let r=10,i,s;function c(){return i=Pae(r),s=Cae(r),n()[0]<0?(i=Lk(i),s=Lk(s),t(Sae,Nae)):t(Mk,zk),e}return e.base=function(d){return arguments.length?(r=+d,c()):r},e.domain=function(d){return arguments.length?(n(d),c()):n()},e.ticks=d=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let y=i(h),w=i(p),j,E;const A=d==null?10:+d;let T=[];if(!(r%1)&&w-y<A){if(y=Math.floor(y),w=Math.ceil(w),h>0){for(;y<=w;++y)for(j=1;j<r;++j)if(E=y<0?j/s(-y):j*s(y),!(E<h)){if(E>p)break;T.push(E)}}else for(;y<=w;++y)for(j=r-1;j>=1;--j)if(E=y>0?j/s(-y):j*s(y),!(E<h)){if(E>p)break;T.push(E)}T.length*2<A&&(T=SE(h,p,A))}else T=SE(y,w,Math.min(w-y,A)).map(s);return g?T.reverse():T},e.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=cm(f)).precision==null&&(f.trim=!0),f=zA(f)),d===1/0)return f;const h=Math.max(1,r*d/e.ticks().length);return p=>{let g=p/s(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},e.nice=()=>n(w5(n(),{floor:d=>s(Math.floor(i(d))),ceil:d=>s(Math.ceil(i(d)))})),e}function E5(){const t=LA(O0()).domain([1,10]);return t.copy=()=>Bm(t,E5()).base(t.base()),Ki.apply(t,arguments),t}function Vk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Uk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function VA(t){var e=1,n=t(Vk(e),Uk(e));return n.constant=function(r){return arguments.length?t(Vk(e=+r),Uk(e)):e},Dl(n)}function j5(){var t=VA(O0());return t.copy=function(){return Bm(t,j5()).constant(t.constant())},Ki.apply(t,arguments)}function qk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Oae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Iae(t){return t<0?-t*t:t*t}function UA(t){var e=t(Or,Or),n=1;function r(){return n===1?t(Or,Or):n===.5?t(Oae,Iae):t(qk(n),qk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Dl(e)}function qA(){var t=UA(O0());return t.copy=function(){return Bm(t,qA()).exponent(t.exponent())},Ki.apply(t,arguments),t}function Rae(){return qA.apply(null,arguments).exponent(.5)}function Bk(t){return Math.sign(t)*t*t}function kae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function A5(){var t=DA(),e=[0,1],n=!1,r;function i(s){var c=kae(t(s));return isNaN(c)?r:n?Math.round(c):c}return i.invert=function(s){return t.invert(Bk(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,my)).map(Bk)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return A5(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ki.apply(i,arguments),Dl(i)}function S5(){var t=[],e=[],n=[],r;function i(){var c=0,d=Math.max(1,e.length);for(n=new Array(d-1);++c<d;)n[c-1]=Lie(t,c/d);return s}function s(c){return c==null||isNaN(c=+c)?r:e[Um(n,c)]}return s.invertExtent=function(c){var d=e.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:t[0],d<n.length?n[d]:t[t.length-1]]},s.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let d of c)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(dl),i()},s.range=function(c){return arguments.length?(e=Array.from(c),i()):e.slice()},s.unknown=function(c){return arguments.length?(r=c,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return S5().domain(t).range(e).unknown(r)},Ki.apply(s,arguments)}function N5(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function c(f){return f!=null&&f<=f?i[Um(r,f,0,n)]:s}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return c}return c.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,d()):[t,e]},c.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,d()):i.slice()},c.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},c.unknown=function(f){return arguments.length&&(s=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return N5().domain([t,e]).range(i).unknown(s)},Ki.apply(Dl(c),arguments)}function T5(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Um(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var c=e.indexOf(s);return[t[c-1],t[c]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return T5().domain(t).range(e).unknown(n)},Ki.apply(i,arguments)}const B1=new Date,$1=new Date;function Bn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const c=i(s),d=i.ceil(s);return s-c<d-s?c:d},i.offset=(s,c)=>(e(s=new Date(+s),c==null?1:Math.floor(c)),s),i.range=(s,c,d)=>{const f=[];if(s=i.ceil(s),d=d==null?1:Math.floor(d),!(s<c)||!(d>0))return f;let h;do f.push(h=new Date(+s)),e(s,d),t(s);while(h<s&&s<c);return f},i.filter=s=>Bn(c=>{if(c>=c)for(;t(c),!s(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;e(c,-1),!s(c););else for(;--d>=0;)for(;e(c,1),!s(c););}),n&&(i.count=(s,c)=>(B1.setTime(+s),$1.setTime(+c),t(B1),t($1),Math.floor(n(B1,$1))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?c=>r(c)%s===0:c=>i.count(0,c)%s===0):i)),i}const vy=Bn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);vy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Bn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):vy);vy.range;const Is=1e3,qi=Is*60,Rs=qi*60,Fs=Rs*24,BA=Fs*7,$k=Fs*30,F1=Fs*365,Ac=Bn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Is)},(t,e)=>(e-t)/Is,t=>t.getUTCSeconds());Ac.range;const $A=Bn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Is)},(t,e)=>{t.setTime(+t+e*qi)},(t,e)=>(e-t)/qi,t=>t.getMinutes());$A.range;const FA=Bn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*qi)},(t,e)=>(e-t)/qi,t=>t.getUTCMinutes());FA.range;const HA=Bn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Is-t.getMinutes()*qi)},(t,e)=>{t.setTime(+t+e*Rs)},(t,e)=>(e-t)/Rs,t=>t.getHours());HA.range;const KA=Bn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Rs)},(t,e)=>(e-t)/Rs,t=>t.getUTCHours());KA.range;const $m=Bn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*qi)/Fs,t=>t.getDate()-1);$m.range;const I0=Bn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fs,t=>t.getUTCDate()-1);I0.range;const C5=Bn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fs,t=>Math.floor(t/Fs));C5.range;function su(t){return Bn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*qi)/BA)}const R0=su(0),yy=su(1),Dae=su(2),Mae=su(3),kd=su(4),zae=su(5),Lae=su(6);R0.range;yy.range;Dae.range;Mae.range;kd.range;zae.range;Lae.range;function ou(t){return Bn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/BA)}const k0=ou(0),by=ou(1),Vae=ou(2),Uae=ou(3),Dd=ou(4),qae=ou(5),Bae=ou(6);k0.range;by.range;Vae.range;Uae.range;Dd.range;qae.range;Bae.range;const GA=Bn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());GA.range;const WA=Bn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());WA.range;const Hs=Bn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Hs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Hs.range;const Ks=Bn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ks.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ks.range;function P5(t,e,n,r,i,s){const c=[[Ac,1,Is],[Ac,5,5*Is],[Ac,15,15*Is],[Ac,30,30*Is],[s,1,qi],[s,5,5*qi],[s,15,15*qi],[s,30,30*qi],[i,1,Rs],[i,3,3*Rs],[i,6,6*Rs],[i,12,12*Rs],[r,1,Fs],[r,2,2*Fs],[n,1,BA],[e,1,$k],[e,3,3*$k],[t,1,F1]];function d(h,p,g){const y=p<h;y&&([h,p]=[p,h]);const w=g&&typeof g.range=="function"?g:f(h,p,g),j=w?w.range(h,+p+1):[];return y?j.reverse():j}function f(h,p,g){const y=Math.abs(p-h)/g,w=CA(([,,A])=>A).right(c,y);if(w===c.length)return t.every(TE(h/F1,p/F1,g));if(w===0)return vy.every(Math.max(TE(h,p,g),1));const[j,E]=c[y/c[w-1][2]<c[w][2]/y?w-1:w];return j.every(E)}return[d,f]}const[$ae,Fae]=P5(Ks,WA,k0,C5,KA,FA),[Hae,Kae]=P5(Hs,GA,R0,$m,HA,$A);function H1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function K1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function mh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Gae(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,c=t.shortDays,d=t.months,f=t.shortMonths,h=ph(i),p=gh(i),g=ph(s),y=gh(s),w=ph(c),j=gh(c),E=ph(d),A=gh(d),T=ph(f),k=gh(f),I={a:J,A:fe,b:we,B:_e,c:null,d:Qk,e:Qk,f:gse,g:Sse,G:Tse,H:hse,I:mse,j:pse,L:O5,m:vse,M:yse,p:H,q:ie,Q:Zk,s:Jk,S:bse,u:_se,U:xse,V:wse,w:Ese,W:jse,x:null,X:null,y:Ase,Y:Nse,Z:Cse,"%":Xk},R={a:ve,A:xe,b:Y,B:W,c:null,d:Yk,e:Yk,f:Rse,g:$se,G:Hse,H:Pse,I:Ose,j:Ise,L:R5,m:kse,M:Dse,p:be,q:Le,Q:Zk,s:Jk,S:Mse,u:zse,U:Lse,V:Vse,w:Use,W:qse,x:null,X:null,y:Bse,Y:Fse,Z:Kse,"%":Xk},z={a:B,A:U,b:L,B:q,c:pe,d:Gk,e:Gk,f:cse,g:Kk,G:Hk,H:Wk,I:Wk,j:ase,L:lse,m:ise,M:sse,p:D,q:rse,Q:dse,s:fse,S:ose,u:Zae,U:Jae,V:ese,w:Xae,W:tse,x:Ee,X:F,y:Kk,Y:Hk,Z:nse,"%":use};I.x=M(n,I),I.X=M(r,I),I.c=M(e,I),R.x=M(n,R),R.X=M(r,R),R.c=M(e,R);function M(se,Se){return function(Q){var me=[],De=-1,Be=0,at=se.length,dt,gt,mr;for(Q instanceof Date||(Q=new Date(+Q));++De<at;)se.charCodeAt(De)===37&&(me.push(se.slice(Be,De)),(gt=Fk[dt=se.charAt(++De)])!=null?dt=se.charAt(++De):gt=dt==="e"?" ":"0",(mr=Se[dt])&&(dt=mr(Q,gt)),me.push(dt),Be=De+1);return me.push(se.slice(Be,De)),me.join("")}}function O(se,Se){return function(Q){var me=mh(1900,void 0,1),De=P(me,se,Q+="",0),Be,at;if(De!=Q.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(Se&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Be=K1(mh(me.y,0,1)),at=Be.getUTCDay(),Be=at>4||at===0?by.ceil(Be):by(Be),Be=I0.offset(Be,(me.V-1)*7),me.y=Be.getUTCFullYear(),me.m=Be.getUTCMonth(),me.d=Be.getUTCDate()+(me.w+6)%7):(Be=H1(mh(me.y,0,1)),at=Be.getDay(),Be=at>4||at===0?yy.ceil(Be):yy(Be),Be=$m.offset(Be,(me.V-1)*7),me.y=Be.getFullYear(),me.m=Be.getMonth(),me.d=Be.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),at="Z"in me?K1(mh(me.y,0,1)).getUTCDay():H1(mh(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(at+5)%7:me.w+me.U*7-(at+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,K1(me)):H1(me)}}function P(se,Se,Q,me){for(var De=0,Be=Se.length,at=Q.length,dt,gt;De<Be;){if(me>=at)return-1;if(dt=Se.charCodeAt(De++),dt===37){if(dt=Se.charAt(De++),gt=z[dt in Fk?Se.charAt(De++):dt],!gt||(me=gt(se,Q,me))<0)return-1}else if(dt!=Q.charCodeAt(me++))return-1}return me}function D(se,Se,Q){var me=h.exec(Se.slice(Q));return me?(se.p=p.get(me[0].toLowerCase()),Q+me[0].length):-1}function B(se,Se,Q){var me=w.exec(Se.slice(Q));return me?(se.w=j.get(me[0].toLowerCase()),Q+me[0].length):-1}function U(se,Se,Q){var me=g.exec(Se.slice(Q));return me?(se.w=y.get(me[0].toLowerCase()),Q+me[0].length):-1}function L(se,Se,Q){var me=T.exec(Se.slice(Q));return me?(se.m=k.get(me[0].toLowerCase()),Q+me[0].length):-1}function q(se,Se,Q){var me=E.exec(Se.slice(Q));return me?(se.m=A.get(me[0].toLowerCase()),Q+me[0].length):-1}function pe(se,Se,Q){return P(se,e,Se,Q)}function Ee(se,Se,Q){return P(se,n,Se,Q)}function F(se,Se,Q){return P(se,r,Se,Q)}function J(se){return c[se.getDay()]}function fe(se){return s[se.getDay()]}function we(se){return f[se.getMonth()]}function _e(se){return d[se.getMonth()]}function H(se){return i[+(se.getHours()>=12)]}function ie(se){return 1+~~(se.getMonth()/3)}function ve(se){return c[se.getUTCDay()]}function xe(se){return s[se.getUTCDay()]}function Y(se){return f[se.getUTCMonth()]}function W(se){return d[se.getUTCMonth()]}function be(se){return i[+(se.getUTCHours()>=12)]}function Le(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var Se=M(se+="",I);return Se.toString=function(){return se},Se},parse:function(se){var Se=O(se+="",!1);return Se.toString=function(){return se},Se},utcFormat:function(se){var Se=M(se+="",R);return Se.toString=function(){return se},Se},utcParse:function(se){var Se=O(se+="",!0);return Se.toString=function(){return se},Se}}}var Fk={"-":"",_:" ",0:"0"},rr=/^\s*\d+/,Wae=/^%/,Qae=/[\\^$*+?|[\]().{}]/g;function _t(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Yae(t){return t.replace(Qae,"\\$&")}function ph(t){return new RegExp("^(?:"+t.map(Yae).join("|")+")","i")}function gh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Xae(t,e,n){var r=rr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Zae(t,e,n){var r=rr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Jae(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ese(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function tse(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Hk(t,e,n){var r=rr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Kk(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function nse(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function rse(t,e,n){var r=rr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function ise(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Gk(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ase(t,e,n){var r=rr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Wk(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function sse(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ose(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function lse(t,e,n){var r=rr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function cse(t,e,n){var r=rr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function use(t,e,n){var r=Wae.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function dse(t,e,n){var r=rr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function fse(t,e,n){var r=rr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Qk(t,e){return _t(t.getDate(),e,2)}function hse(t,e){return _t(t.getHours(),e,2)}function mse(t,e){return _t(t.getHours()%12||12,e,2)}function pse(t,e){return _t(1+$m.count(Hs(t),t),e,3)}function O5(t,e){return _t(t.getMilliseconds(),e,3)}function gse(t,e){return O5(t,e)+"000"}function vse(t,e){return _t(t.getMonth()+1,e,2)}function yse(t,e){return _t(t.getMinutes(),e,2)}function bse(t,e){return _t(t.getSeconds(),e,2)}function _se(t){var e=t.getDay();return e===0?7:e}function xse(t,e){return _t(R0.count(Hs(t)-1,t),e,2)}function I5(t){var e=t.getDay();return e>=4||e===0?kd(t):kd.ceil(t)}function wse(t,e){return t=I5(t),_t(kd.count(Hs(t),t)+(Hs(t).getDay()===4),e,2)}function Ese(t){return t.getDay()}function jse(t,e){return _t(yy.count(Hs(t)-1,t),e,2)}function Ase(t,e){return _t(t.getFullYear()%100,e,2)}function Sse(t,e){return t=I5(t),_t(t.getFullYear()%100,e,2)}function Nse(t,e){return _t(t.getFullYear()%1e4,e,4)}function Tse(t,e){var n=t.getDay();return t=n>=4||n===0?kd(t):kd.ceil(t),_t(t.getFullYear()%1e4,e,4)}function Cse(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_t(e/60|0,"0",2)+_t(e%60,"0",2)}function Yk(t,e){return _t(t.getUTCDate(),e,2)}function Pse(t,e){return _t(t.getUTCHours(),e,2)}function Ose(t,e){return _t(t.getUTCHours()%12||12,e,2)}function Ise(t,e){return _t(1+I0.count(Ks(t),t),e,3)}function R5(t,e){return _t(t.getUTCMilliseconds(),e,3)}function Rse(t,e){return R5(t,e)+"000"}function kse(t,e){return _t(t.getUTCMonth()+1,e,2)}function Dse(t,e){return _t(t.getUTCMinutes(),e,2)}function Mse(t,e){return _t(t.getUTCSeconds(),e,2)}function zse(t){var e=t.getUTCDay();return e===0?7:e}function Lse(t,e){return _t(k0.count(Ks(t)-1,t),e,2)}function k5(t){var e=t.getUTCDay();return e>=4||e===0?Dd(t):Dd.ceil(t)}function Vse(t,e){return t=k5(t),_t(Dd.count(Ks(t),t)+(Ks(t).getUTCDay()===4),e,2)}function Use(t){return t.getUTCDay()}function qse(t,e){return _t(by.count(Ks(t)-1,t),e,2)}function Bse(t,e){return _t(t.getUTCFullYear()%100,e,2)}function $se(t,e){return t=k5(t),_t(t.getUTCFullYear()%100,e,2)}function Fse(t,e){return _t(t.getUTCFullYear()%1e4,e,4)}function Hse(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Dd(t):Dd.ceil(t),_t(t.getUTCFullYear()%1e4,e,4)}function Kse(){return"+0000"}function Xk(){return"%"}function Zk(t){return+t}function Jk(t){return Math.floor(+t/1e3)}var Ju,D5,M5;Gse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Gse(t){return Ju=Gae(t),D5=Ju.format,Ju.parse,M5=Ju.utcFormat,Ju.utcParse,Ju}function Wse(t){return new Date(t)}function Qse(t){return t instanceof Date?+t:+new Date(+t)}function QA(t,e,n,r,i,s,c,d,f,h){var p=DA(),g=p.invert,y=p.domain,w=h(".%L"),j=h(":%S"),E=h("%I:%M"),A=h("%I %p"),T=h("%a %d"),k=h("%b %d"),I=h("%B"),R=h("%Y");function z(M){return(f(M)<M?w:d(M)<M?j:c(M)<M?E:s(M)<M?A:r(M)<M?i(M)<M?T:k:n(M)<M?I:R)(M)}return p.invert=function(M){return new Date(g(M))},p.domain=function(M){return arguments.length?y(Array.from(M,Qse)):y().map(Wse)},p.ticks=function(M){var O=y();return t(O[0],O[O.length-1],M??10)},p.tickFormat=function(M,O){return O==null?z:h(O)},p.nice=function(M){var O=y();return(!M||typeof M.range!="function")&&(M=e(O[0],O[O.length-1],M??10)),M?y(w5(O,M)):p},p.copy=function(){return Bm(p,QA(t,e,n,r,i,s,c,d,f,h))},p}function Yse(){return Ki.apply(QA(Hae,Kae,Hs,GA,R0,$m,HA,$A,Ac,D5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Xse(){return Ki.apply(QA($ae,Fae,Ks,WA,k0,I0,KA,FA,Ac,M5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function D0(){var t=0,e=1,n,r,i,s,c=Or,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:c(i===0?.5:(g=(s(g)-n)*i,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(c=g,h):c};function p(g){return function(y){var w,j;return arguments.length?([w,j]=y,c=g(w,j),h):[c(0),c(1)]}}return h.range=p(Wd),h.rangeRound=p(kA),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),h}}function Ml(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function z5(){var t=Dl(D0()(Or));return t.copy=function(){return Ml(t,z5())},io.apply(t,arguments)}function L5(){var t=LA(D0()).domain([1,10]);return t.copy=function(){return Ml(t,L5()).base(t.base())},io.apply(t,arguments)}function V5(){var t=VA(D0());return t.copy=function(){return Ml(t,V5()).constant(t.constant())},io.apply(t,arguments)}function YA(){var t=UA(D0());return t.copy=function(){return Ml(t,YA()).exponent(t.exponent())},io.apply(t,arguments)}function Zse(){return YA.apply(null,arguments).exponent(.5)}function U5(){var t=[],e=Or;function n(r){if(r!=null&&!isNaN(r=+r))return e((Um(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(dl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>zie(t,s/r))},n.copy=function(){return U5(e).domain(t)},io.apply(n,arguments)}function M0(){var t=0,e=.5,n=1,r=1,i,s,c,d,f,h=Or,p,g=!1,y;function w(E){return isNaN(E=+E)?y:(E=.5+((E=+p(E))-s)*(r*E<r*s?d:f),h(g?Math.max(0,Math.min(1,E)):E))}w.domain=function(E){return arguments.length?([t,e,n]=E,i=p(t=+t),s=p(e=+e),c=p(n=+n),d=i===s?0:.5/(s-i),f=s===c?0:.5/(c-s),r=s<i?-1:1,w):[t,e,n]},w.clamp=function(E){return arguments.length?(g=!!E,w):g},w.interpolator=function(E){return arguments.length?(h=E,w):h};function j(E){return function(A){var T,k,I;return arguments.length?([T,k,I]=A,h=uae(E,[T,k,I]),w):[h(0),h(.5),h(1)]}}return w.range=j(Wd),w.rangeRound=j(kA),w.unknown=function(E){return arguments.length?(y=E,w):y},function(E){return p=E,i=E(t),s=E(e),c=E(n),d=i===s?0:.5/(s-i),f=s===c?0:.5/(c-s),r=s<i?-1:1,w}}function q5(){var t=Dl(M0()(Or));return t.copy=function(){return Ml(t,q5())},io.apply(t,arguments)}function B5(){var t=LA(M0()).domain([.1,1,10]);return t.copy=function(){return Ml(t,B5()).base(t.base())},io.apply(t,arguments)}function $5(){var t=VA(M0());return t.copy=function(){return Ml(t,$5()).constant(t.constant())},io.apply(t,arguments)}function XA(){var t=UA(M0());return t.copy=function(){return Ml(t,XA()).exponent(t.exponent())},io.apply(t,arguments)}function Jse(){return XA.apply(null,arguments).exponent(.5)}const Sh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:OA,scaleDiverging:q5,scaleDivergingLog:B5,scaleDivergingPow:XA,scaleDivergingSqrt:Jse,scaleDivergingSymlog:$5,scaleIdentity:x5,scaleImplicit:CE,scaleLinear:_5,scaleLog:E5,scaleOrdinal:PA,scalePoint:Uie,scalePow:qA,scaleQuantile:S5,scaleQuantize:N5,scaleRadial:A5,scaleSequential:z5,scaleSequentialLog:L5,scaleSequentialPow:YA,scaleSequentialQuantile:U5,scaleSequentialSqrt:Zse,scaleSequentialSymlog:V5,scaleSqrt:Rae,scaleSymlog:j5,scaleThreshold:T5,scaleTime:Yse,scaleUtc:Xse,tickFormat:b5},Symbol.toStringTag,{value:"Module"}));var ao=t=>t.chartData,z0=ee([ao],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),ZA=(t,e,n,r)=>r?z0(t):ao(t),F5=(t,e,n)=>n?z0(t):ao(t);function Gs(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(tt(e)&&tt(n))return!0}return!1}function eD(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function H5(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(tt(n))i=n;else if(typeof n=="function")return;if(tt(r))s=r;else if(typeof r=="function")return;var c=[i,s];if(Gs(c))return c}}function eoe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Gs(r))return eD(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,c,d;if(i==="auto")e!=null&&(c=Math.min(...e));else if(Ne(i))c=i;else if(typeof i=="function")try{e!=null&&(c=i(e?.[0]))}catch{}else if(typeof i=="string"&&uR.test(i)){var f=uR.exec(i);if(f==null||f[1]==null||e==null)c=void 0;else{var h=+f[1];c=e[0]-h}}else c=e?.[0];if(s==="auto")e!=null&&(d=Math.max(...e));else if(Ne(s))d=s;else if(typeof s=="function")try{e!=null&&(d=s(e?.[1]))}catch{}else if(typeof s=="string"&&dR.test(s)){var p=dR.exec(s);if(p==null||p[1]==null||e==null)d=void 0;else{var g=+p[1];d=e[1]+g}}else d=e?.[1];var y=[c,d];if(Gs(y))return e==null?y:eD(y,e,n)}}}var Qd=1e9,toe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},eS,Zt=!0,Hi="[DecimalError] ",Dc=Hi+"Invalid argument: ",JA=Hi+"Exponent out of range: ",Yd=Math.floor,yc=Math.pow,noe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mi,Zn=1e7,Wt=7,K5=9007199254740991,_y=Yd(K5/Wt),Ce={};Ce.absoluteValue=Ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ce.comparedTo=Ce.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Wt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ce.dividedBy=Ce.div=function(t){return zs(this,new this.constructor(t))};Ce.dividedToIntegerBy=Ce.idiv=function(t){var e=this,n=e.constructor;return qt(zs(e,new n(t),0,1),n.precision)};Ce.equals=Ce.eq=function(t){return!this.cmp(t)};Ce.exponent=function(){return Mn(this)};Ce.greaterThan=Ce.gt=function(t){return this.cmp(t)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(t){return this.cmp(t)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(t){return this.cmp(t)<0};Ce.lessThanOrEqualTo=Ce.lte=function(t){return this.cmp(t)<1};Ce.logarithm=Ce.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(mi))throw Error(Hi+"NaN");if(n.s<1)throw Error(Hi+(n.s?"NaN":"-Infinity"));return n.eq(mi)?new r(0):(Zt=!1,e=zs(um(n,s),um(t,s),s),Zt=!0,qt(e,i))};Ce.minus=Ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Q5(e,t):G5(e,(t.s=-t.s,t))};Ce.modulo=Ce.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Hi+"NaN");return n.s?(Zt=!1,e=zs(n,t,0,1).times(t),Zt=!0,n.minus(e)):qt(new r(n),i)};Ce.naturalExponential=Ce.exp=function(){return W5(this)};Ce.naturalLogarithm=Ce.ln=function(){return um(this)};Ce.negated=Ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ce.plus=Ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?G5(e,t):Q5(e,(t.s=-t.s,t))};Ce.precision=Ce.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Dc+t);if(e=Mn(i)+1,r=i.d.length-1,n=r*Wt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ce.squareRoot=Ce.sqrt=function(){var t,e,n,r,i,s,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Hi+"NaN")}for(t=Mn(d),Zt=!1,i=Math.sqrt(+d),i==0||i==1/0?(e=Ba(d.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Yd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=c=n+3;;)if(s=r,r=s.plus(zs(d,s,c+2)).times(.5),Ba(s.d).slice(0,c)===(e=Ba(r.d)).slice(0,c)){if(e=e.slice(c-3,c+1),i==c&&e=="4999"){if(qt(s,n+1,0),s.times(s).eq(d)){r=s;break}}else if(e!="9999")break;c+=4}return Zt=!0,qt(r,n)};Ce.times=Ce.mul=function(t){var e,n,r,i,s,c,d,f,h,p=this,g=p.constructor,y=p.d,w=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,f=y.length,h=w.length,f<h&&(s=y,y=w,w=s,c=f,f=h,h=c),s=[],c=f+h,r=c;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)d=s[i]+w[r]*y[i-r-1]+e,s[i--]=d%Zn|0,e=d/Zn|0;s[i]=(s[i]+e)%Zn|0}for(;!s[--c];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Zt?qt(t,g.precision):t};Ce.toDecimalPlaces=Ce.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ja(t,0,Qd),e===void 0?e=r.rounding:Ja(e,0,8),qt(n,t+Mn(n)+1,e))};Ce.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Jc(r,!0):(Ja(t,0,Qd),e===void 0?e=i.rounding:Ja(e,0,8),r=qt(new i(r),t+1,e),n=Jc(r,!0,t+1)),n};Ce.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Jc(i):(Ja(t,0,Qd),e===void 0?e=s.rounding:Ja(e,0,8),r=qt(new s(i),t+Mn(i)+1,e),n=Jc(r.abs(),!1,t+Mn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ce.toInteger=Ce.toint=function(){var t=this,e=t.constructor;return qt(new e(t),Mn(t)+1,e.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(t){var e,n,r,i,s,c,d=this,f=d.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(mi);if(d=new f(d),!d.s){if(t.s<1)throw Error(Hi+"Infinity");return d}if(d.eq(mi))return d;if(r=f.precision,t.eq(mi))return qt(d,r);if(e=t.e,n=t.d.length-1,c=e>=n,s=d.s,c){if((n=p<0?-p:p)<=K5){for(i=new f(mi),e=Math.ceil(r/Wt+4),Zt=!1;n%2&&(i=i.times(d),nD(i.d,e)),n=Yd(n/2),n!==0;)d=d.times(d),nD(d.d,e);return Zt=!0,t.s<0?new f(mi).div(i):qt(i,r)}}else if(s<0)throw Error(Hi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,d.s=1,Zt=!1,i=t.times(um(d,r+h)),Zt=!0,i=W5(i),i.s=s,i};Ce.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Mn(i),r=Jc(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ja(t,1,Qd),e===void 0?e=s.rounding:Ja(e,0,8),i=qt(new s(i),t,e),n=Mn(i),r=Jc(i,t<=n||n<=s.toExpNeg,t)),r};Ce.toSignificantDigits=Ce.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ja(t,1,Qd),e===void 0?e=r.rounding:Ja(e,0,8)),qt(new r(n),t,e)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Mn(t),n=t.constructor;return Jc(t,e<=n.toExpNeg||e>=n.toExpPos)};function G5(t,e){var n,r,i,s,c,d,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Zt?qt(e,g):e;if(f=t.d,h=e.d,c=t.e,i=e.e,f=f.slice(),s=c-i,s){for(s<0?(r=f,s=-s,d=h.length):(r=h,i=c,d=f.length),c=Math.ceil(g/Wt),d=c>d?c+1:d+1,s>d&&(s=d,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(d=f.length,s=h.length,d-s<0&&(s=d,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/Zn|0,f[s]%=Zn;for(n&&(f.unshift(n),++i),d=f.length;f[--d]==0;)f.pop();return e.d=f,e.e=i,Zt?qt(e,g):e}function Ja(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Dc+t)}function Ba(t){var e,n,r,i=t.length-1,s="",c=t[0];if(i>0){for(s+=c,e=1;e<i;e++)r=t[e]+"",n=Wt-r.length,n&&(s+=Wo(n)),s+=r;c=t[e],r=c+"",n=Wt-r.length,n&&(s+=Wo(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var zs=(function(){function t(r,i){var s,c=0,d=r.length;for(r=r.slice();d--;)s=r[d]*i+c,r[d]=s%Zn|0,c=s/Zn|0;return c&&r.unshift(c),r}function e(r,i,s,c){var d,f;if(s!=c)f=s>c?1:-1;else for(d=f=0;d<s;d++)if(r[d]!=i[d]){f=r[d]>i[d]?1:-1;break}return f}function n(r,i,s){for(var c=0;s--;)r[s]-=c,c=r[s]<i[s]?1:0,r[s]=c*Zn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,c){var d,f,h,p,g,y,w,j,E,A,T,k,I,R,z,M,O,P,D=r.constructor,B=r.s==i.s?1:-1,U=r.d,L=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(Hi+"Division by zero");for(f=r.e-i.e,O=L.length,z=U.length,w=new D(B),j=w.d=[],h=0;L[h]==(U[h]||0);)++h;if(L[h]>(U[h]||0)&&--f,s==null?k=s=D.precision:c?k=s+(Mn(r)-Mn(i))+1:k=s,k<0)return new D(0);if(k=k/Wt+2|0,h=0,O==1)for(p=0,L=L[0],k++;(h<z||p)&&k--;h++)I=p*Zn+(U[h]||0),j[h]=I/L|0,p=I%L|0;else{for(p=Zn/(L[0]+1)|0,p>1&&(L=t(L,p),U=t(U,p),O=L.length,z=U.length),R=O,E=U.slice(0,O),A=E.length;A<O;)E[A++]=0;P=L.slice(),P.unshift(0),M=L[0],L[1]>=Zn/2&&++M;do p=0,d=e(L,E,O,A),d<0?(T=E[0],O!=A&&(T=T*Zn+(E[1]||0)),p=T/M|0,p>1?(p>=Zn&&(p=Zn-1),g=t(L,p),y=g.length,A=E.length,d=e(g,E,y,A),d==1&&(p--,n(g,O<y?P:L,y))):(p==0&&(d=p=1),g=L.slice()),y=g.length,y<A&&g.unshift(0),n(E,g,A),d==-1&&(A=E.length,d=e(L,E,O,A),d<1&&(p++,n(E,O<A?P:L,A))),A=E.length):d===0&&(p++,E=[0]),j[h++]=p,d&&E[0]?E[A++]=U[R]||0:(E=[U[R]],A=1);while((R++<z||E[0]!==void 0)&&k--)}return j[0]||j.shift(),w.e=f,qt(w,c?s+Mn(w)+1:s)}})();function W5(t,e){var n,r,i,s,c,d,f=0,h=0,p=t.constructor,g=p.precision;if(Mn(t)>16)throw Error(JA+Mn(t));if(!t.s)return new p(mi);for(Zt=!1,d=g,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),h+=5;for(r=Math.log(yc(2,h))/Math.LN10*2+5|0,d+=r,n=i=s=new p(mi),p.precision=d;;){if(i=qt(i.times(t),d),n=n.times(++f),c=s.plus(zs(i,n,d)),Ba(c.d).slice(0,d)===Ba(s.d).slice(0,d)){for(;h--;)s=qt(s.times(s),d);return p.precision=g,e==null?(Zt=!0,qt(s,g)):s}s=c}}function Mn(t){for(var e=t.e*Wt,n=t.d[0];n>=10;n/=10)e++;return e}function G1(t,e,n){if(e>t.LN10.sd())throw Zt=!0,n&&(t.precision=n),Error(Hi+"LN10 precision limit exceeded");return qt(new t(t.LN10),e)}function Wo(t){for(var e="";t--;)e+="0";return e}function um(t,e){var n,r,i,s,c,d,f,h,p,g=1,y=10,w=t,j=w.d,E=w.constructor,A=E.precision;if(w.s<1)throw Error(Hi+(w.s?"NaN":"-Infinity"));if(w.eq(mi))return new E(0);if(e==null?(Zt=!1,h=A):h=e,w.eq(10))return e==null&&(Zt=!0),G1(E,h);if(h+=y,E.precision=h,n=Ba(j),r=n.charAt(0),s=Mn(w),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=Ba(w.d),r=n.charAt(0),g++;s=Mn(w),r>1?(w=new E("0."+n),s++):w=new E(r+"."+n.slice(1))}else return f=G1(E,h+2,A).times(s+""),w=um(new E(r+"."+n.slice(1)),h-y).plus(f),E.precision=A,e==null?(Zt=!0,qt(w,A)):w;for(d=c=w=zs(w.minus(mi),w.plus(mi),h),p=qt(w.times(w),h),i=3;;){if(c=qt(c.times(p),h),f=d.plus(zs(c,new E(i),h)),Ba(f.d).slice(0,h)===Ba(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(G1(E,h+2,A).times(s+""))),d=zs(d,new E(g),h),E.precision=A,e==null?(Zt=!0,qt(d,A)):d;d=f,i+=2}}function tD(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Yd(n/Wt),t.d=[],r=(n+1)%Wt,n<0&&(r+=Wt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Wt;r<i;)t.d.push(+e.slice(r,r+=Wt));e=e.slice(r),r=Wt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Zt&&(t.e>_y||t.e<-_y))throw Error(JA+n)}else t.s=0,t.e=0,t.d=[0];return t}function qt(t,e,n){var r,i,s,c,d,f,h,p,g=t.d;for(c=1,s=g[0];s>=10;s/=10)c++;if(r=e-c,r<0)r+=Wt,i=e,h=g[p=0];else{if(p=Math.ceil((r+1)/Wt),s=g.length,p>=s)return t;for(h=s=g[p],c=1;s>=10;s/=10)c++;r%=Wt,i=r-Wt+c}if(n!==void 0&&(s=yc(10,c-i-1),d=h/s%10|0,f=e<0||g[p+1]!==void 0||h%s,f=n<4?(d||f)&&(n==0||n==(t.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?i>0?h/yc(10,c-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(s=Mn(t),g.length=1,e=e-s-1,g[0]=yc(10,(Wt-e%Wt)%Wt),t.e=Yd(-e/Wt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=yc(10,Wt-r),g[p]=i>0?(h/yc(10,c-i)%yc(10,i)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==Zn&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=Zn)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(Zt&&(t.e>_y||t.e<-_y))throw Error(JA+Mn(t));return t}function Q5(t,e){var n,r,i,s,c,d,f,h,p,g,y=t.constructor,w=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Zt?qt(e,w):e;if(f=t.d,g=e.d,r=e.e,h=t.e,f=f.slice(),c=h-r,c){for(p=c<0,p?(n=f,c=-c,d=g.length):(n=g,r=h,d=f.length),i=Math.max(Math.ceil(w/Wt),d)+2,c>i&&(c=i,n.length=1),n.reverse(),i=c;i--;)n.push(0);n.reverse()}else{for(i=f.length,d=g.length,p=i<d,p&&(d=i),i=0;i<d;i++)if(f[i]!=g[i]){p=f[i]<g[i];break}c=0}for(p&&(n=f,f=g,g=n,e.s=-e.s),d=f.length,i=g.length-d;i>0;--i)f[d++]=0;for(i=g.length;i>c;){if(f[--i]<g[i]){for(s=i;s&&f[--s]===0;)f[s]=Zn-1;--f[s],f[i]+=Zn}f[i]-=g[i]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Zt?qt(e,w):e):new y(0)}function Jc(t,e,n){var r,i=Mn(t),s=Ba(t.d),c=s.length;return e?(n&&(r=n-c)>0?s=s.charAt(0)+"."+s.slice(1)+Wo(r):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Wo(-i-1)+s,n&&(r=n-c)>0&&(s+=Wo(r))):i>=c?(s+=Wo(i+1-c),n&&(r=n-i-1)>0&&(s=s+"."+Wo(r))):((r=i+1)<c&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-c)>0&&(i+1===c&&(s+="."),s+=Wo(r))),t.s<0?"-"+s:s}function nD(t,e){if(t.length>e)return t.length=e,!0}function Y5(t){var e,n,r;function i(s){var c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,s instanceof i){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Dc+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return tD(c,s.toString())}else if(typeof s!="string")throw Error(Dc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,noe.test(s))tD(c,s);else throw Error(Dc+s)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Y5,i.config=i.set=roe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function roe(t){if(!t||typeof t!="object")throw Error(Hi+"Object expected");var e,n,r,i=["precision",1,Qd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Yd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Dc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Dc+n+": "+r);return this}var eS=Y5(toe);mi=new eS(1);const Pt=eS;function X5(t){var e;return t===0?e=1:e=Math.floor(new Pt(t).abs().log(10).toNumber())+1,e}function Z5(t,e,n){for(var r=new Pt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var J5=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},eV=(t,e,n)=>{if(t.lte(0))return new Pt(0);var r=X5(t.toNumber()),i=new Pt(10).pow(r),s=t.div(i),c=r!==1?.05:.1,d=new Pt(Math.ceil(s.div(c).toNumber())).add(n).mul(c),f=d.mul(i);return e?new Pt(f.toNumber()):new Pt(Math.ceil(f.toNumber()))},ioe=(t,e,n)=>{var r=new Pt(1),i=new Pt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Pt(10).pow(X5(t)-1),i=new Pt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Pt(Math.floor(t)))}else t===0?i=new Pt(Math.floor((e-1)/2)):n||(i=new Pt(Math.floor(t)));for(var c=Math.floor((e-1)/2),d=[],f=0;f<e;f++)d.push(i.add(new Pt(f-c).mul(r)).toNumber());return d},tV=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Pt(0),tickMin:new Pt(0),tickMax:new Pt(0)};var c=eV(new Pt(n).sub(e).div(r-1),i,s),d;e<=0&&n>=0?d=new Pt(0):(d=new Pt(e).add(n).div(2),d=d.sub(new Pt(d).mod(c)));var f=Math.ceil(d.sub(e).div(c).toNumber()),h=Math.ceil(new Pt(n).sub(d).div(c).toNumber()),p=f+h+1;return p>r?tV(e,n,r,i,s+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:c,tickMin:d.sub(new Pt(f).mul(c)),tickMax:d.add(new Pt(h).mul(c))})},aoe=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[d,f]=J5([n,r]);if(d===-1/0||f===1/0){var h=f===1/0?[d,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),f];return n>r?h.reverse():h}if(d===f)return ioe(d,i,s);var{step:p,tickMin:g,tickMax:y}=tV(d,f,c,s,0),w=Z5(g,y.add(new Pt(.1).mul(p)),p);return n>r?w.reverse():w},soe=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=J5([r,i]);if(c===-1/0||d===1/0)return[r,i];if(c===d)return[c];var f=Math.max(n,2),h=eV(new Pt(d).sub(c).div(f-1),s,0),p=[...Z5(new Pt(c),new Pt(d),h),d];return s===!1&&(p=p.map(g=>Math.round(g))),r>i?p.reverse():p},nV=t=>t.rootProps.maxBarSize,ooe=t=>t.rootProps.barGap,rV=t=>t.rootProps.barCategoryGap,loe=t=>t.rootProps.barSize,Fm=t=>t.rootProps.stackOffset,iV=t=>t.rootProps.reverseStackOrder,tS=t=>t.options.chartName,nS=t=>t.rootProps.syncId,aV=t=>t.rootProps.syncMethod,rS=t=>t.options.eventEmitter,coe=t=>t.rootProps.baseValue,wn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},hc={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Ma={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},L0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function V0(t,e,n){if(n!=="auto")return n;if(t!=null)return va(t,e)?"category":"number"}function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){uoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uoe(t,e,n){return(e=doe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function doe(t){var e=foe(t,"string");return typeof e=="symbol"?e:e+""}function foe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iD={allowDataOverflow:hc.allowDataOverflow,allowDecimals:hc.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:hc.angleAxisId,includeHidden:!1,name:void 0,reversed:hc.reversed,scale:hc.scale,tick:hc.tick,tickCount:void 0,ticks:void 0,type:hc.type,unit:void 0},aD={allowDataOverflow:Ma.allowDataOverflow,allowDecimals:Ma.allowDecimals,allowDuplicatedCategory:Ma.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ma.radiusAxisId,includeHidden:Ma.includeHidden,name:void 0,reversed:Ma.reversed,scale:Ma.scale,tick:Ma.tick,tickCount:Ma.tickCount,ticks:void 0,type:Ma.type,unit:void 0},hoe=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},iS=ee([hoe,$6],(t,e)=>{var n;if(t!=null)return t;var r=(n=V0(e,"angleAxis",iD.type))!==null&&n!==void 0?n:"category";return xy(xy({},iD),{},{type:r})}),moe=(t,e)=>t.polarAxis.radiusAxis[e],aS=ee([moe,$6],(t,e)=>{var n;if(t!=null)return t;var r=(n=V0(e,"radiusAxis",aD.type))!==null&&n!==void 0?n:"category";return xy(xy({},aD),{},{type:r})}),U0=t=>t.polarOptions,sS=ee([no,ro,qn],s5),sV=ee([U0,sS],(t,e)=>{if(t!=null)return Er(t.innerRadius,e,0)}),oV=ee([U0,sS],(t,e)=>{if(t!=null)return Er(t.outerRadius,e,e*.8)}),poe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},lV=ee([U0],poe);ee([iS,lV],L0);var cV=ee([sS,sV,oV],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ee([aS,cV],L0);var uV=ee([ht,U0,sV,oV,no,ro],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:c,cy:d,startAngle:f,endAngle:h}=e;return{cx:Er(c,i,i/2),cy:Er(d,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),nn=(t,e)=>e,Hm=(t,e,n)=>n;function q0(t){return t?.id}function dV(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,c=new Map;return t.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=q0(d);h.forEach((g,y)=>{var w=s==null||i?y:String(jt(g,s,null)),j=jt(g,d.dataKey,0),E;c.has(w)?E=c.get(w):E={},Object.assign(E,{[p]:j}),c.set(w,E)})}}),Array.from(c.values())}function B0(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var $0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function F0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function goe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var ir=t=>{var e=ht(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Xd=t=>t.tooltip.settings.axisId;function voe(t){if(t in Sh)return Sh[t]();var e="scale".concat(Im(t));if(e in Sh)return Sh[e]()}function sD(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(s){function c(){return s.apply(this,arguments)}return c.toString=function(){return s.toString()},c})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(s){var c=i[0],d=i[1];return c<=d?s>=c&&s<=d:s>=d&&s<=c},bandwidth:n?()=>n.call(t):void 0,ticks:e?s=>e.call(t,s):void 0,map:(s,c)=>{var d=t(s);if(d!=null){if(t.bandwidth&&c!==null&&c!==void 0&&c.position){var f=t.bandwidth();switch(c.position){case"middle":d+=f/2;break;case"end":d+=f;break}}return d}}}}function oD(t,e,n){if(typeof t=="function")return sD(t.copy().domain(e).range(n));if(t!=null){var r=voe(t);if(r!=null)return r.domain(e).range(n),sD(r)}}var fV=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Gs(e)){for(var n,r,i=0;i<e.length;i++){var s=e[i];tt(s)&&((n===void 0||s<n)&&(n=s),(r===void 0||s>r)&&(r=s))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){yoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yoe(t,e,n){return(e=boe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function boe(t){var e=_oe(t,"string");return typeof e=="symbol"?e:e+""}function _oe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RE=[0,"auto"],Qn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},hV=(t,e)=>t.cartesianAxis.xAxis[e],so=(t,e)=>{var n=hV(t,e);return n??Qn},Yn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:RE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Mm},mV=(t,e)=>t.cartesianAxis.yAxis[e],oo=(t,e)=>{var n=mV(t,e);return n??Yn},xoe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},oS=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??xoe},gn=(t,e,n)=>{switch(e){case"xAxis":return so(t,n);case"yAxis":return oo(t,n);case"zAxis":return oS(t,n);case"angleAxis":return iS(t,n);case"radiusAxis":return aS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},woe=(t,e,n)=>{switch(e){case"xAxis":return so(t,n);case"yAxis":return oo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Zd=(t,e,n)=>{switch(e){case"xAxis":return so(t,n);case"yAxis":return oo(t,n);case"angleAxis":return iS(t,n);case"radiusAxis":return aS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},pV=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function lS(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Km=t=>t.graphicalItems.cartesianItems,Eoe=ee([nn,Hm],lS),cS=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Gm=ee([Km,gn,Eoe],cS,{memoizeOptions:{resultEqualityCheck:F0}}),gV=ee([Gm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(B0)),vV=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),joe=ee([Gm],vV),uS=t=>t.map(e=>e.data).filter(Boolean).flat(1),Aoe=ee([Gm],uS,{memoizeOptions:{resultEqualityCheck:F0}}),dS=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},fS=ee([Aoe,ZA],dS),hS=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:jt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:jt(i,r)}))):t.map(r=>({value:r})),H0=ee([fS,gn,Gm],hS);function yV(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function uv(t){if(Xa(t)||t instanceof Date){var e=Number(t);if(tt(e))return e}}function cD(t){if(Array.isArray(t)){var e=[uv(t[0]),uv(t[1])];return Gs(e)?e:void 0}var n=uv(t);if(n!=null)return[n,n]}function Ws(t){return t.map(uv).filter(Yr)}function Soe(t,e,n){return!n||typeof e!="number"||ma(e)?[]:n.length?Ws(n.flatMap(r=>{var i=jt(t,r.dataKey),s,c;if(Array.isArray(i)?[s,c]=i:s=c=i,!(!tt(s)||!tt(c)))return[e-s,e+c]})):[]}var $n=t=>{var e=ir(t),n=Xd(t);return Zd(t,e,n)},Wm=ee([$n],t=>t?.dataKey),Noe=ee([gV,ZA,$n],dV),bV=(t,e,n,r)=>{var i={},s=e.reduce((c,d)=>{if(d.stackId==null)return c;var f=c[d.stackId];return f==null&&(f=[]),f.push(d),c[d.stackId]=f,c},i);return Object.fromEntries(Object.entries(s).map(c=>{var[d,f]=c,h=r?[...f].reverse():f,p=h.map(q0);return[d,{stackedData:Wte(t,p,n),graphicalItems:h}]}))},Ey=ee([Noe,gV,Fm,iV],bV),_V=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var c=Zte(t,i,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},Toe=ee([gn],t=>t.allowDataOverflow),mS=t=>{var e;if(t==null||!("domain"in t))return RE;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Ws(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:RE},pS=ee([gn],mS),gS=ee([pS,Toe],H5),Coe=ee([Ey,ao,nn,gS],_V,{memoizeOptions:{resultEqualityCheck:$0}}),K0=t=>t.errorBars,Poe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>yV(n,r)),jy=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),c=Math.min(...s),d=Math.max(...s);return[c,d]}},vS=(t,e,n,r,i)=>{var s,c;if(n.length>0&&t.forEach(d=>{n.forEach(f=>{var h,p,g=(h=r[f.id])===null||h===void 0?void 0:h.filter(T=>yV(i,T)),y=jt(d,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),w=Soe(d,y,g);if(w.length>=2){var j=Math.min(...w),E=Math.max(...w);(s==null||j<s)&&(s=j),(c==null||E>c)&&(c=E)}var A=cD(y);A!=null&&(s=s==null?A[0]:Math.min(s,A[0]),c=c==null?A[1]:Math.max(c,A[1]))})}),e?.dataKey!=null&&t.forEach(d=>{var f=cD(jt(d,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),tt(s)&&tt(c))return[s,c]},Ooe=ee([fS,gn,joe,K0,nn],vS,{memoizeOptions:{resultEqualityCheck:$0}});function Ioe(t){var{value:e}=t;if(Xa(e)||e instanceof Date)return e}var Roe=(t,e,n)=>{var r=t.map(Ioe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&V3(r))?u5(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},xV=t=>t.referenceElements.dots,Jd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),koe=ee([xV,nn,Hm],Jd),wV=t=>t.referenceElements.areas,Doe=ee([wV,nn,Hm],Jd),EV=t=>t.referenceElements.lines,Moe=ee([EV,nn,Hm],Jd),jV=(t,e)=>{if(t!=null){var n=Ws(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},zoe=ee(koe,nn,jV),AV=(t,e)=>{if(t!=null){var n=Ws(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Loe=ee([Doe,nn],AV);function Voe(t){var e;if(t.x!=null)return Ws([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Ws(n)}function Uoe(t){var e;if(t.y!=null)return Ws([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Ws(n)}var SV=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Voe(r):Uoe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},qoe=ee([Moe,nn],SV),Boe=ee(zoe,qoe,Loe,(t,e,n)=>jy(t,n,e)),yS=(t,e,n,r,i,s,c,d)=>{if(n!=null)return n;var f=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",h=f?jy(r,s,i):jy(s,i);return eoe(e,h,t.allowDataOverflow)},$oe=ee([gn,pS,gS,Coe,Ooe,Boe,ht,nn],yS,{memoizeOptions:{resultEqualityCheck:$0}}),Foe=[0,1],bS=(t,e,n,r,i,s,c)=>{if(!((t==null||n==null||n.length===0)&&c===void 0)){var{dataKey:d,type:f}=t,h=va(e,s);if(h&&d==null){var p;return u5(0,(p=n?.length)!==null&&p!==void 0?p:0)}return f==="category"?Roe(r,t,h):i==="expand"?Foe:c}},_S=ee([gn,ht,fS,H0,Fm,nn,$oe],bS);function Hoe(t){return t in Sh}var NV=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var s="scale".concat(Im(r));return Hoe(s)?s:"point"}}},zl=ee([gn,pV,tS],NV);function xS(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?oD(t.scale,n,r):oD(e,n,r)}var wS=(t,e,n)=>{var r=mS(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Gs(t))return aoe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Gs(t))return soe(t,e.tickCount,e.allowDecimals)}},ES=ee([_S,Zd,zl],wS),jS=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Gs(e)&&Array.isArray(n)&&n.length>0){var i,s,c=e[0],d=(i=n[0])!==null&&i!==void 0?i:0,f=e[1],h=(s=n[n.length-1])!==null&&s!==void 0?s:0;return[Math.min(c,d),Math.max(f,h)]}return e},Koe=ee([gn,_S,ES,nn],jS),Goe=ee(H0,gn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ws(t.map(g=>g.value))).sort((g,y)=>g-y),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var c=s-i;if(c===0)return 1/0;for(var d=0;d<r.length-1;d++){var f=r[d],h=r[d+1];if(!(f==null||h==null)){var p=h-f;n=Math.min(n,p)}}return n/c}}),TV=ee(Goe,ht,rV,qn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!tt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var c=Er(n,t*s),d=t*s/2;return d-c-(d-c)/s*c}return 0}),Woe=(t,e,n)=>{var r=so(t,e);return r==null||typeof r.padding!="string"?0:TV(t,"xAxis",e,n,r.padding)},Qoe=(t,e,n)=>{var r=oo(t,e);return r==null||typeof r.padding!="string"?0:TV(t,"yAxis",e,n,r.padding)},Yoe=ee(so,Woe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Xoe=ee(oo,Qoe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Zoe=ee([qn,Yoe,S0,A0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),Joe=ee([qn,ht,Xoe,S0,A0,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:c}=i;return s?[r.height-c.bottom,c.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Qm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Zoe(t,n,r);case"yAxis":return Joe(t,n,r);case"zAxis":return(i=oS(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return lV(t);case"radiusAxis":return cV(t,n);default:return}},CV=ee([gn,Qm],L0),ele=ee([zl,Koe],fV),G0=ee([gn,zl,ele,CV],xS);ee([Gm,K0,nn],Poe);function PV(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var W0=(t,e)=>e,Q0=(t,e,n)=>n,tle=ee(E0,W0,Q0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(PV)),nle=ee(j0,W0,Q0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(PV)),OV=(t,e)=>({width:t.width,height:e.height}),rle=(t,e)=>{var n=typeof e.width=="number"?e.width:Mm;return{width:n,height:t.height}},IV=ee(qn,so,OV),ile=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},ale=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},sle=ee(ro,qn,tle,W0,Q0,(t,e,n,r,i)=>{var s={},c;return n.forEach(d=>{var f=OV(e,d);c==null&&(c=ile(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;s[d.id]=c-Number(h)*f.height,c+=(h?-1:1)*f.height}),s}),ole=ee(no,qn,nle,W0,Q0,(t,e,n,r,i)=>{var s={},c;return n.forEach(d=>{var f=rle(e,d);c==null&&(c=ale(e,r,t));var h=r==="left"&&!i||r==="right"&&i;s[d.id]=c-Number(h)*f.width,c+=(h?-1:1)*f.width}),s}),lle=(t,e)=>{var n=so(t,e);if(n!=null)return sle(t,n.orientation,n.mirror)},cle=ee([qn,so,lle,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),ule=(t,e)=>{var n=oo(t,e);if(n!=null)return ole(t,n.orientation,n.mirror)},dle=ee([qn,oo,ule,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),RV=ee(qn,oo,(t,e)=>{var n=typeof e.width=="number"?e.width:Mm;return{width:n,height:t.height}}),uD=(t,e,n)=>{switch(e){case"xAxis":return IV(t,n).width;case"yAxis":return RV(t,n).height;default:return}},kV=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:c}=n,d=va(t,r),f=e.map(h=>h.value);if(c&&d&&s==="category"&&i&&V3(f))return f}},AS=ee([ht,H0,gn,nn],kV),DV=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,c=va(t,r);if(c&&(i==="number"||s!=="auto"))return e.map(d=>d.value)}},SS=ee([ht,H0,Zd,nn],DV),dD=ee([ht,woe,zl,G0,AS,SS,Qm,ES,nn],(t,e,n,r,i,s,c,d,f)=>{if(e!=null){var h=va(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:d,range:c,realScaleType:n,scale:r}}}),fle=(t,e,n,r,i,s,c,d,f)=>{if(!(e==null||r==null)){var h=va(t,f),{type:p,ticks:g,tickCount:y}=e,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,j=p==="category"&&r.bandwidth?r.bandwidth()/w:0;j=f==="angleAxis"&&s!=null&&s.length>=2?er(s[0]-s[1])*2*j:j;var E=g||i;return E?E.map((A,T)=>{var k=c?c.indexOf(A):A,I=r.map(k);return tt(I)?{index:T,coordinate:I+j,value:A,offset:j}:null}).filter(Yr):h&&d?d.map((A,T)=>{var k=r.map(A);return tt(k)?{coordinate:k+j,value:A,index:T,offset:j}:null}).filter(Yr):r.ticks?r.ticks(y).map((A,T)=>{var k=r.map(A);return tt(k)?{coordinate:k+j,value:A,index:T,offset:j}:null}).filter(Yr):r.domain().map((A,T)=>{var k=r.map(A);return tt(k)?{coordinate:k+j,value:c?c[A]:A,index:T,offset:j}:null}).filter(Yr)}},MV=ee([ht,Zd,zl,G0,ES,Qm,AS,SS,nn],fle),hle=(t,e,n,r,i,s,c)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var d=va(t,c),{tickCount:f}=e,h=0;return h=c==="angleAxis"&&r?.length>=2?er(r[0]-r[1])*2*h:h,d&&s?s.map((p,g)=>{var y=n.map(p);return tt(y)?{coordinate:y+h,value:p,index:g,offset:h}:null}).filter(Yr):n.ticks?n.ticks(f).map((p,g)=>{var y=n.map(p);return tt(y)?{coordinate:y+h,value:p,index:g,offset:h}:null}).filter(Yr):n.domain().map((p,g)=>{var y=n.map(p);return tt(y)?{coordinate:y+h,value:i?i[p]:p,index:g,offset:h}:null}).filter(Yr)}},es=ee([ht,Zd,G0,Qm,AS,SS,nn],hle),ts=ee(gn,G0,(t,e)=>{if(!(t==null||e==null))return wy(wy({},t),{},{scale:e})}),mle=ee([gn,zl,_S,CV],xS);ee((t,e,n)=>oS(t,n),mle,(t,e)=>{if(!(t==null||e==null))return wy(wy({},t),{},{scale:e})});var ple=ee([ht,E0,j0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),zV=t=>t.options.defaultTooltipEventType,LV=t=>t.options.validateTooltipEventTypes;function VV(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function NS(t,e){var n=zV(t),r=LV(t);return VV(e,n,r)}function gle(t){return Oe(e=>NS(e,t))}var UV=(t,e)=>{var n,r=Number(e);if(!(ma(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},vle=t=>t.tooltip.settings,tl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},yle={itemInteraction:{click:tl,hover:tl},axisInteraction:{click:tl,hover:tl},keyboardInteraction:tl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},qV=ei({name:"tooltip",initialState:yle,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Xt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ua(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Xt()},removeTooltipEntrySettings:{reducer(t,e){var n=ua(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Xt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:ble,replaceTooltipEntrySettings:_le,removeTooltipEntrySettings:xle,setTooltipSettingsState:wle,setActiveMouseOverItemIndex:BV,mouseLeaveItem:Ele,mouseLeaveChart:$V,setActiveClickItemIndex:jle,setMouseOverAxisIndex:FV,setMouseClickAxisIndex:Ale,setSyncInteraction:kE,setKeyboardInteraction:DE}=qV.actions,Sle=qV.reducer;function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){Nle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nle(t,e,n){return(e=Tle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tle(t){var e=Cle(t,"string");return typeof e=="symbol"?e:e+""}function Cle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ple(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Ole(t){return t.index!=null}var HV=(t,e,n,r)=>{if(e==null)return tl;var i=Ple(t,e,n);if(i==null)return tl;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Ole(i)){if(s)return Gg(Gg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Gg(Gg({},tl),{},{coordinate:i.coordinate})};function Ile(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Rle(t,e){var n=Ile(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),c=Math.max(r,i);return n>=s&&n<=c}function kle(t,e,n){if(n==null||e==null)return!0;var r=jt(t,e);return r==null||!Gs(n)?!0:Rle(r,n)}var TS=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!tt(s))return i;var c=0,d=1/0;e.length>0&&(d=e.length-1);var f=Math.max(c,Math.min(s,d)),h=e[f];return h==null||kle(h,n,r)?String(f):null},KV=(t,e,n,r,i,s,c)=>{if(s!=null){var d=c[0],f=d?.getPosition(s);if(f!=null)return f;var h=i?.[Number(s)];if(h)return n==="horizontal"?{x:h.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:h.coordinate}}},GV=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(c=>{var d;return((d=c.settings)===null||d===void 0?void 0:d.graphicalItemId)===i})},WV=t=>t.options.tooltipPayloadSearcher,ef=t=>t.tooltip;function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){Dle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dle(t,e,n){return(e=Mle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mle(t){var e=zle(t,"string");return typeof e=="symbol"?e:e+""}function zle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lle(t,e){return t??e}var QV=(t,e,n,r,i,s,c)=>{if(!(e==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((y,w)=>{var j,{dataDefinedOnItem:E,settings:A}=w,T=Lle(E,d),k=Array.isArray(T)?I6(T,h,p):T,I=(j=A?.dataKey)!==null&&j!==void 0?j:r,R=A?.nameKey,z;if(r&&Array.isArray(k)&&!Array.isArray(k[0])&&c==="axis"?z=U3(k,r,i):z=s(k,e,f,R),Array.isArray(z))z.forEach(O=>{var P=mD(mD({},A),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});y.push(fR({tooltipEntrySettings:P,dataKey:O.dataKey,payload:O.payload,value:jt(O.payload,O.dataKey),name:O.name}))});else{var M;y.push(fR({tooltipEntrySettings:A,dataKey:I,payload:z,value:jt(z,I),name:(M=jt(z,R))!==null&&M!==void 0?M:A?.name}))}return y},g)}},CS=ee([$n,pV,tS],NV),Vle=ee([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Ule=ee([ir,Xd],lS),tf=ee([Vle,$n,Ule],cS,{memoizeOptions:{resultEqualityCheck:F0}}),qle=ee([tf],t=>t.filter(B0)),Ble=ee([tf],uS,{memoizeOptions:{resultEqualityCheck:F0}}),nf=ee([Ble,ao],dS),$le=ee([qle,ao,$n],dV),PS=ee([nf,$n,tf],hS),YV=ee([$n],mS),Fle=ee([$n],t=>t.allowDataOverflow),XV=ee([YV,Fle],H5),Hle=ee([tf],t=>t.filter(B0)),Kle=ee([$le,Hle,Fm,iV],bV),Gle=ee([Kle,ao,ir,XV],_V),Wle=ee([tf],vV),Qle=ee([nf,$n,Wle,K0,ir],vS,{memoizeOptions:{resultEqualityCheck:$0}}),Yle=ee([xV,ir,Xd],Jd),Xle=ee([Yle,ir],jV),Zle=ee([wV,ir,Xd],Jd),Jle=ee([Zle,ir],AV),ece=ee([EV,ir,Xd],Jd),tce=ee([ece,ir],SV),nce=ee([Xle,tce,Jle],jy),rce=ee([$n,YV,XV,Gle,Qle,nce,ht,ir],yS),Ym=ee([$n,ht,nf,PS,Fm,ir,rce],bS),ice=ee([Ym,$n,CS],wS),ace=ee([$n,Ym,ice,ir],jS),ZV=t=>{var e=ir(t),n=Xd(t),r=!1;return Qm(t,e,n,r)},JV=ee([$n,ZV],L0),eU=ee([$n,CS,ace,JV],xS),sce=ee([ht,PS,$n,ir],kV),oce=ee([ht,PS,$n,ir],DV),lce=(t,e,n,r,i,s,c,d)=>{if(e){var{type:f}=e,h=va(t,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=d==="angleAxis"&&i!=null&&i?.length>=2?er(i[0]-i[1])*2*g:g,h&&c?c.map((y,w)=>{var j=r.map(y);return tt(j)?{coordinate:j+g,value:y,index:w,offset:g}:null}).filter(Yr):r.domain().map((y,w)=>{var j=r.map(y);return tt(j)?{coordinate:j+g,value:s?s[y]:y,index:w,offset:g}:null}).filter(Yr)}}},lo=ee([ht,$n,CS,eU,ZV,sce,oce,ir],lce),OS=ee([zV,LV,vle],(t,e,n)=>VV(n.shared,t,e)),tU=t=>t.tooltip.settings.trigger,IS=t=>t.tooltip.settings.defaultIndex,Xm=ee([ef,OS,tU,IS],HV),jl=ee([Xm,nf,Wm,Ym],TS),nU=ee([lo,jl],UV),RS=ee([Xm],t=>{if(t)return t.dataKey}),cce=ee([Xm],t=>{if(t)return t.graphicalItemId}),rU=ee([ef,OS,tU,IS],GV),uce=ee([no,ro,ht,qn,lo,IS,rU],KV),dce=ee([Xm,uce],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),fce=ee([Xm],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),hce=ee([rU,jl,ao,Wm,nU,WV,OS],QV),mce=ee([hce],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function pD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(n),!0).forEach(function(r){pce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pce(t,e,n){return(e=gce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gce(t){var e=vce(t,"string");return typeof e=="symbol"?e:e+""}function vce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yce=()=>Oe($n),bce=()=>{var t=yce(),e=Oe(lo),n=Oe(eU);return El(!t||!n?void 0:gD(gD({},t),{},{scale:n}),e)};function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){_ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ce(t,e,n){return(e=xce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xce(t){var e=wce(t,"string");return typeof e=="symbol"?e:e+""}function wce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ece=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},jce=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:c}=r;return ed(ed(ed({},r),Dn(r.cx,r.cy,c,s)),{},{angle:s,radius:c})}var d=i.coordinate,{angle:f}=r;return ed(ed(ed({},r),Dn(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Ace(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var iU=(t,e,n,r,i)=>{var s,c=(s=e?.length)!==null&&s!==void 0?s:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<c;d++){var f,h,p,g,y,w=d>0?(f=n[d-1])===null||f===void 0?void 0:f.coordinate:(h=n[c-1])===null||h===void 0?void 0:h.coordinate,j=(p=n[d])===null||p===void 0?void 0:p.coordinate,E=d>=c-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(y=n[d+1])===null||y===void 0?void 0:y.coordinate,A=void 0;if(!(w==null||j==null||E==null))if(er(j-w)!==er(E-j)){var T=[];if(er(E-j)===er(i[1]-i[0])){A=E;var k=j+i[1]-i[0];T[0]=Math.min(k,(k+w)/2),T[1]=Math.max(k,(k+w)/2)}else{A=w;var I=E+i[1]-i[0];T[0]=Math.min(j,(I+j)/2),T[1]=Math.max(j,(I+j)/2)}var R=[Math.min(j,(A+j)/2),Math.max(j,(A+j)/2)];if(t>R[0]&&t<=R[1]||t>=T[0]&&t<=T[1]){var z;return(z=n[d])===null||z===void 0?void 0:z.index}}else{var M=Math.min(w,E),O=Math.max(w,E);if(t>(M+j)/2&&t<=(O+j)/2){var P;return(P=n[d])===null||P===void 0?void 0:P.index}}}else if(e)for(var D=0;D<c;D++){var B=e[D];if(B!=null){var U=e[D+1],L=e[D-1];if(D===0&&U!=null&&t<=(B.coordinate+U.coordinate)/2||D===c-1&&L!=null&&t>(B.coordinate+L.coordinate)/2||D>0&&D<c-1&&L!=null&&U!=null&&t>(B.coordinate+L.coordinate)/2&&t<=(B.coordinate+U.coordinate)/2)return B.index}}return-1},aU=()=>Oe(tS),kS=(t,e)=>e,sU=(t,e,n)=>n,DS=(t,e,n,r)=>r,Sce=ee(lo,t=>h0(t,e=>e.coordinate)),MS=ee([ef,kS,sU,DS],HV),zS=ee([MS,nf,Wm,Ym],TS),Nce=(t,e,n)=>{if(e!=null){var r=ef(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},oU=ee([ef,kS,sU,DS],GV),Ay=ee([no,ro,ht,qn,lo,DS,oU],KV),Tce=ee([MS,Ay],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),lU=ee([lo,zS],UV),Cce=ee([oU,zS,ao,Wm,lU,WV,kS],QV),Pce=ee([MS,zS],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Oce=(t,e,n,r,i,s,c)=>{if(!(!t||!n||!r||!i)&&Ace(t,c)){var d=Jte(t,e),f=iU(d,s,i,n,r),h=Ece(e,i,f,t);return{activeIndex:String(f),activeCoordinate:h}}},Ice=(t,e,n,r,i,s,c)=>{if(!(!t||!r||!i||!s||!n)){var d=gie(t,n);if(d){var f=ene(d,e),h=iU(f,c,s,r,i),p=jce(e,s,h,d);return{activeIndex:String(h),activeCoordinate:p}}}},Rce=(t,e,n,r,i,s,c,d)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?Oce(t,e,r,i,s,c,d):Ice(t,e,n,r,i,s,c)},kce=ee(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Dce=ee(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(wn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:goe}});function yD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(n),!0).forEach(function(r){Mce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mce(t,e,n){return(e=zce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zce(t){var e=Lce(t,"string");return typeof e=="symbol"?e:e+""}function Lce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vce={},Uce={zIndexMap:Object.values(wn).reduce((t,e)=>bD(bD({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Vce)},qce=new Set(Object.values(wn));function Bce(t){return qce.has(t)}var cU=ei({name:"zIndex",initialState:Uce,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Xt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Bce(n)&&delete t.zIndexMap[n])},prepare:Xt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Xt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Xt()}}}),{registerZIndexPortal:$ce,unregisterZIndexPortal:Fce,registerZIndexPortalElement:Hce,unregisterZIndexPortalElement:Kce}=cU.actions,Gce=cU.reducer;function Dr(t){var{zIndex:e,children:n}=t,r=One(),i=r&&e!==void 0&&e!==0,s=nr(),c=Ht();_.useLayoutEffect(()=>i?(c($ce({zIndex:e})),()=>{c(Fce({zIndex:e}))}):Il,[c,e,i]);var d=Oe(f=>kce(f,e,s));return i?d?XE.createPortal(n,d):null:n}function ME(){return ME=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ME.apply(null,arguments)}function _D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(n),!0).forEach(function(r){Wce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wce(t,e,n){return(e=Qce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qce(t){var e=Yce(t,"string");return typeof e=="symbol"?e:e+""}function Yce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xce(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return _.isValidElement(e)?_.cloneElement(e,r):_.createElement(n,r)}function Zce(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:c,layout:d,cursor:f,tooltipEventType:h,chartName:p}=t,g=n,y=r,w=i;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var j,E,A;if(p==="ScatterChart")j=g,E=Pre,A=wn.cursorLine;else if(p==="BarChart")j=Ore(d,g,s,c),E=a5,A=wn.cursorRectangle;else if(d==="radial"&&B3(g)){var{cx:T,cy:k,radius:I,startAngle:R,endAngle:z}=o5(g);j={cx:T,cy:k,startAngle:R,endAngle:z,innerRadius:I,outerRadius:I},E=c5,A=wn.cursorLine}else j={points:_ie(d,g,s)},E=_d,A=wn.cursorLine;var M=typeof f=="object"&&"className"in f?f.className:void 0,O=Wg(Wg(Wg(Wg({stroke:"#ccc",pointerEvents:"none"},s),j),Kc(f)),{},{payload:y,payloadIndex:w,className:vt("recharts-tooltip-cursor",M)});return _.createElement(Dr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:A},_.createElement(Xce,{cursor:f,cursorComp:E,cursorProps:O}))}function Jce(t){var e=bce(),n=B6(),r=kl(),i=aU();return e==null||n==null||r==null||i==null?null:_.createElement(Zce,ME({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var uU=_.createContext(null),eue=()=>_.useContext(uU),W1={exports:{}},xD;function tue(){return xD||(xD=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new i(p,g||f,y),j=n?n+h:h;return f._events[j]?f._events[j].fn?f._events[j]=[f._events[j],w]:f._events[j].push(w):(f._events[j]=w,f._eventsCount++),f}function c(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,w=g.length,j=new Array(w);y<w;y++)j[y]=g[y].fn;return j},d.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,y,w,j){var E=n?n+h:h;if(!this._events[E])return!1;var A=this._events[E],T=arguments.length,k,I;if(A.fn){switch(A.once&&this.removeListener(h,A.fn,void 0,!0),T){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,p),!0;case 3:return A.fn.call(A.context,p,g),!0;case 4:return A.fn.call(A.context,p,g,y),!0;case 5:return A.fn.call(A.context,p,g,y,w),!0;case 6:return A.fn.call(A.context,p,g,y,w,j),!0}for(I=1,k=new Array(T-1);I<T;I++)k[I-1]=arguments[I];A.fn.apply(A.context,k)}else{var R=A.length,z;for(I=0;I<R;I++)switch(A[I].once&&this.removeListener(h,A[I].fn,void 0,!0),T){case 1:A[I].fn.call(A[I].context);break;case 2:A[I].fn.call(A[I].context,p);break;case 3:A[I].fn.call(A[I].context,p,g);break;case 4:A[I].fn.call(A[I].context,p,g,y);break;default:if(!k)for(z=1,k=new Array(T-1);z<T;z++)k[z-1]=arguments[z];A[I].fn.apply(A[I].context,k)}}return!0},d.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,y){var w=n?n+h:h;if(!this._events[w])return this;if(!p)return c(this,w),this;var j=this._events[w];if(j.fn)j.fn===p&&(!y||j.once)&&(!g||j.context===g)&&c(this,w);else{for(var E=0,A=[],T=j.length;E<T;E++)(j[E].fn!==p||y&&!j[E].once||g&&j[E].context!==g)&&A.push(j[E]);A.length?this._events[w]=A.length===1?A[0]:A:c(this,w)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d})(W1)),W1.exports}var nue=tue();const rue=ns(nue);var dm=new rue,zE="recharts.syncEvent.tooltip",wD="recharts.syncEvent.brush",Y0=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!ma(n))return t[n]}},iue={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},dU=ei({name:"options",initialState:iue,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),aue=dU.reducer,{createEventEmitter:sue}=dU.actions;function oue(t){return t.tooltip.syncInteraction}var lue={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},fU=ei({name:"chartData",initialState:lue,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:ED,setDataStartEndIndexes:cue,setComputedData:s0e}=fU.actions,uue=fU.reducer,due=["x","y"];function jD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jD(Object(n),!0).forEach(function(r){fue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fue(t,e,n){return(e=hue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hue(t){var e=mue(t,"string");return typeof e=="symbol"?e:e+""}function mue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pue(t,e){if(t==null)return{};var n,r,i=gue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vue(){var t=Oe(nS),e=Oe(rS),n=Ht(),r=Oe(aV),i=Oe(lo),s=kl(),c=N0(),d=Oe(f=>f.rootProps.className);_.useEffect(()=>{if(t==null)return Il;var f=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var y;if(c&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate&&p.payload.sourceViewBox){var w=p.payload.coordinate,{x:j,y:E}=w,A=pue(w,due),{x:T,y:k,width:I,height:R}=p.payload.sourceViewBox,z=td(td({},A),{},{x:c.x+(I?(j-T)/I:0)*c.width,y:c.y+(R?(E-k)/R:0)*c.height});n(td(td({},p),{},{payload:td(td({},p.payload),{},{coordinate:z})}))}else n(p);return}if(i!=null){var M;if(typeof r=="function"){var O={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},P=r(i,O);M=i[P]}else r==="value"&&(M=i.find(F=>String(F.value)===p.payload.label));var{coordinate:D}=p.payload;if(M==null||p.payload.active===!1||D==null||c==null){n(kE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:B,y:U}=D,L=Math.min(B,c.x+c.width),q=Math.min(U,c.y+c.height),pe={x:s==="horizontal"?M.coordinate:L,y:s==="horizontal"?q:M.coordinate},Ee=kE({active:p.payload.active,coordinate:pe,dataKey:p.payload.dataKey,index:String(M.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(Ee)}}};return dm.on(zE,f),()=>{dm.off(zE,f)}},[d,n,e,t,r,i,s,c])}function yue(){var t=Oe(nS),e=Oe(rS),n=Ht();_.useEffect(()=>{if(t==null)return Il;var r=(i,s,c)=>{e!==c&&t===i&&n(cue(s))};return dm.on(wD,r),()=>{dm.off(wD,r)}},[n,e,t])}function bue(){var t=Ht();_.useEffect(()=>{t(sue())},[t]),vue(),yue()}function _ue(t,e,n,r,i,s){var c=Oe(w=>Nce(w,t,e)),d=Oe(rS),f=Oe(nS),h=Oe(aV),p=Oe(oue),g=p?.active,y=N0();_.useEffect(()=>{if(!g&&f!=null&&d!=null){var w=kE({active:s,coordinate:n,dataKey:c,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});dm.emit(zE,f,w,d)}},[g,n,c,i,r,d,f,h,s,y])}function AD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AD(Object(n),!0).forEach(function(r){xue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xue(t,e,n){return(e=wue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wue(t){var e=Eue(t,"string");return typeof e=="symbol"?e:e+""}function Eue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jue(t){return t.dataKey}function Aue(t,e){return _.isValidElement(t)?_.cloneElement(t,e):typeof t=="function"?_.createElement(t,e):_.createElement(cre,e)}var ND=[],Sue={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function _c(t){var e,n,r=pn(t,Sue),{active:i,allowEscapeViewBox:s,animationDuration:c,animationEasing:d,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:y,position:w,reverseDirection:j,useTranslate3d:E,wrapperStyle:A,cursor:T,shared:k,trigger:I,defaultIndex:R,portal:z,axisId:M}=r,O=Ht(),P=typeof R=="number"?String(R):R;_.useEffect(()=>{O(wle({shared:k,trigger:I,axisId:M,active:i,defaultIndex:P}))},[O,k,I,M,i,P]);var D=N0(),B=e5(),U=gle(k),{activeIndex:L,isActive:q}=(e=Oe(be=>Pce(be,U,I,P)))!==null&&e!==void 0?e:{},pe=Oe(be=>Cce(be,U,I,P)),Ee=Oe(be=>lU(be,U,I,P)),F=Oe(be=>Tce(be,U,I,P)),J=pe,fe=eue(),we=(n=i??q)!==null&&n!==void 0?n:!1,[_e,H]=n6([J,we]),ie=U==="axis"?Ee:void 0;_ue(U,I,F,ie,L,we);var ve=z??fe;if(ve==null||D==null||U==null)return null;var xe=J??ND;we||(xe=ND),h&&xe.length&&(xe=X3(xe.filter(be=>be.value!=null&&(be.hide!==!0||r.includeHidden)),y,jue));var Y=xe.length>0,W=_.createElement(gre,{allowEscapeViewBox:s,animationDuration:c,animationEasing:d,isAnimationActive:p,active:we,coordinate:F,hasPayload:Y,offset:g,position:w,reverseDirection:j,useTranslate3d:E,viewBox:D,wrapperStyle:A,lastBoundingBox:_e,innerRef:H,hasPortalFromProps:!!z},Aue(f,SD(SD({},r),{},{payload:xe,label:ie,active:we,activeIndex:L,coordinate:F,accessibilityLayer:B})));return _.createElement(_.Fragment,null,XE.createPortal(W,ve),we&&_.createElement(Jce,{cursor:T,tooltipEventType:U,coordinate:F,payload:xe,index:L}))}var fl=t=>null;fl.displayName="Cell";function Nue(t,e,n){return(e=Tue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tue(t){var e=Cue(t,"string");return typeof e=="symbol"?e:e+""}function Cue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Pue{constructor(e){Nue(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function TD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TD(Object(n),!0).forEach(function(r){Iue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iue(t,e,n){return(e=Rue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rue(t){var e=kue(t,"string");return typeof e=="symbol"?e:e+""}function kue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Due={cacheSize:2e3,enableCache:!0},hU=Oue({},Due),CD=new Pue(hU.cacheSize),Mue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},PD="recharts_measurement_span";function zue(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",c=e.letterSpacing||"",d=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(c,"|").concat(d)}var OD=(t,e)=>{try{var n=document.getElementById(PD);n||(n=document.createElement("span"),n.setAttribute("id",PD),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Mue,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},zh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Vm.isSsr)return{width:0,height:0};if(!hU.enableCache)return OD(e,n);var r=zue(e,n),i=CD.get(r);if(i)return i;var s=OD(e,n);return CD.set(r,s),s},mU;function Lue(t,e,n){return(e=Vue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vue(t){var e=Uue(t,"string");return typeof e=="symbol"?e:e+""}function Uue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ID=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,que=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Bue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$ue={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Fue=["cm","mm","pt","pc","in","Q","px"];function Hue(t){return Fue.includes(t)}var fd="NaN";function Kue(t,e){return t*$ue[e]}class dr{static parse(e){var n,[,r,i]=(n=Bue.exec(e))!==null&&n!==void 0?n:[];return r==null?dr.NaN:new dr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ma(e)&&(this.unit=""),n!==""&&!que.test(n)&&(this.num=NaN,this.unit=""),Hue(n)&&(this.num=Kue(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new dr(NaN,""):new dr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new dr(NaN,""):new dr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new dr(NaN,""):new dr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new dr(NaN,""):new dr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ma(this.num)}}mU=dr;Lue(dr,"NaN",new mU(NaN,""));function pU(t){if(t==null||t.includes(fd))return fd;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=ID.exec(e))!==null&&n!==void 0?n:[],c=dr.parse(r??""),d=dr.parse(s??""),f=i==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return fd;e=e.replace(ID,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,y]=(h=RD.exec(e))!==null&&h!==void 0?h:[],w=dr.parse(p??""),j=dr.parse(y??""),E=g==="+"?w.add(j):w.subtract(j);if(E.isNaN())return fd;e=e.replace(RD,E.toString())}return e}var kD=/\(([^()]*)\)/;function Gue(t){for(var e=t,n;(n=kD.exec(e))!=null;){var[,r]=n;e=e.replace(kD,pU(r))}return e}function Wue(t){var e=t.replace(/\s+/g,"");return e=Gue(e),e=pU(e),e}function Que(t){try{return Wue(t)}catch{return fd}}function Q1(t){var e=Que(t.slice(5,-1));return e===fd?"":e}var Yue=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Xue=["dx","dy","angle","className","breakAll"];function LE(){return LE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LE.apply(null,arguments)}function DD(t,e){if(t==null)return{};var n,r,i=Zue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var gU=/[ \f\n\r\t\v\u2028\u2029]+/,vU=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Jt(e)||(n?i=e.toString().split(""):i=e.toString().split(gU));var s=i.map(d=>({word:d,width:zh(d,r).width})),c=n?0:zh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function Jue(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var yU=(t,e,n,r)=>t.reduce((i,s)=>{var{word:c,width:d}=s,f=i[i.length-1];if(f&&d!=null&&(e==null||r||f.width+d+n<Number(e)))f.words.push(c),f.width+=d+n;else{var h={words:[c],width:d};i.push(h)}return i},[]),bU=t=>t.reduce((e,n)=>e.width>n.width?e:n),ede="",MD=(t,e,n,r,i,s,c,d)=>{var f=t.slice(0,e),h=vU({breakAll:n,style:r,children:f+ede});if(!h)return[!1,[]];var p=yU(h.wordsWithComputedWidth,s,c,d),g=p.length>i||bU(p).width>Number(s);return[g,p]},tde=(t,e,n,r,i)=>{var{maxLines:s,children:c,style:d,breakAll:f}=t,h=Ne(s),p=String(c),g=yU(e,r,n,i);if(!h||i)return g;var y=g.length>s||bU(g).width>Number(r);if(!y)return g;for(var w=0,j=p.length-1,E=0,A;w<=j&&E<=p.length-1;){var T=Math.floor((w+j)/2),k=T-1,[I,R]=MD(p,k,f,d,s,r,n,i),[z]=MD(p,T,f,d,s,r,n,i);if(!I&&!z&&(w=T+1),I&&z&&(j=T-1),!I&&z){A=R;break}E++}return A||g},zD=t=>{var e=Jt(t)?[]:t.toString().split(gU);return[{words:e,width:void 0}]},nde=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:c}=t;if((e||n)&&!Vm.isSsr){var d,f,h=vU({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return zD(r);return tde({breakAll:s,children:r,maxLines:c,style:i},d,f,e,!!n)}return zD(r)},_U="#808080",rde={angle:0,breakAll:!1,capHeight:"0.71em",fill:_U,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},X0=_.forwardRef((t,e)=>{var n=pn(t,rde),{x:r,y:i,lineHeight:s,capHeight:c,fill:d,scaleToFit:f,textAnchor:h,verticalAnchor:p}=n,g=DD(n,Yue),y=_.useMemo(()=>nde({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:w,dy:j,angle:E,className:A,breakAll:T}=g,k=DD(g,Xue);if(!Xa(r)||!Xa(i)||y.length===0)return null;var I=Number(r)+(Ne(w)?w:0),R=Number(i)+(Ne(j)?j:0);if(!tt(I)||!tt(R))return null;var z;switch(p){case"start":z=Q1("calc(".concat(c,")"));break;case"middle":z=Q1("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:z=Q1("calc(".concat(y.length-1," * -").concat(s,")"));break}var M=[],O=y[0];if(f&&O!=null){var P=O.width,{width:D}=g;M.push("scale(".concat(Ne(D)&&Ne(P)?D/P:1,")"))}return E&&M.push("rotate(".concat(E,", ").concat(I,", ").concat(R,")")),M.length&&(k.transform=M.join(" ")),_.createElement("text",LE({},Ar(k),{ref:e,x:I,y:R,className:vt("recharts-text",A),textAnchor:h,fill:d.includes("url")?_U:d}),y.map((B,U)=>{var L=B.words.join(T?"":" ");return _.createElement("tspan",{x:I,dy:U===0?z:s,key:"".concat(L,"-").concat(U)},L)}))});X0.displayName="Text";function LD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LD(Object(n),!0).forEach(function(r){ide(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ide(t,e,n){return(e=ade(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ade(t){var e=sde(t,"string");return typeof e=="symbol"?e:e+""}function sde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ode=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:s,y:c,height:d,upperWidth:f,lowerWidth:h}=EA(e),p=s,g=s+(f-h)/2,y=(p+g)/2,w=(f+h)/2,j=p+f/2,E=d>=0?1:-1,A=E*r,T=E>0?"end":"start",k=E>0?"start":"end",I=f>=0?1:-1,R=I*r,z=I>0?"end":"start",M=I>0?"start":"end",O=i;if(n==="top"){var P={x:p+f/2,y:c-A,horizontalAnchor:"middle",verticalAnchor:T};return O&&(P.height=Math.max(c-O.y,0),P.width=f),P}if(n==="bottom"){var D={x:g+h/2,y:c+d+A,horizontalAnchor:"middle",verticalAnchor:k};return O&&(D.height=Math.max(O.y+O.height-(c+d),0),D.width=h),D}if(n==="left"){var B={x:y-R,y:c+d/2,horizontalAnchor:z,verticalAnchor:"middle"};return O&&(B.width=Math.max(B.x-O.x,0),B.height=d),B}if(n==="right"){var U={x:y+w+R,y:c+d/2,horizontalAnchor:M,verticalAnchor:"middle"};return O&&(U.width=Math.max(O.x+O.width-U.x,0),U.height=d),U}var L=O?{width:w,height:d}:{};return n==="insideLeft"?za({x:y+R,y:c+d/2,horizontalAnchor:M,verticalAnchor:"middle"},L):n==="insideRight"?za({x:y+w-R,y:c+d/2,horizontalAnchor:z,verticalAnchor:"middle"},L):n==="insideTop"?za({x:p+f/2,y:c+A,horizontalAnchor:"middle",verticalAnchor:k},L):n==="insideBottom"?za({x:g+h/2,y:c+d-A,horizontalAnchor:"middle",verticalAnchor:T},L):n==="insideTopLeft"?za({x:p+R,y:c+A,horizontalAnchor:M,verticalAnchor:k},L):n==="insideTopRight"?za({x:p+f-R,y:c+A,horizontalAnchor:z,verticalAnchor:k},L):n==="insideBottomLeft"?za({x:g+R,y:c+d-A,horizontalAnchor:M,verticalAnchor:T},L):n==="insideBottomRight"?za({x:g+h-R,y:c+d-A,horizontalAnchor:z,verticalAnchor:T},L):n&&typeof n=="object"&&(Ne(n.x)||Qc(n.x))&&(Ne(n.y)||Qc(n.y))?za({x:s+Er(n.x,w),y:c+Er(n.y,d),horizontalAnchor:"end",verticalAnchor:"end"},L):za({x:j,y:c+d/2,horizontalAnchor:"middle",verticalAnchor:"middle"},L)},lde=["labelRef"],cde=["content"];function VD(t,e){if(t==null)return{};var n,r,i=ude(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ude(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function UD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UD(Object(n),!0).forEach(function(r){dde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dde(t,e,n){return(e=fde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fde(t){var e=hde(t,"string");return typeof e=="symbol"?e:e+""}function hde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ts(){return Ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ts.apply(null,arguments)}var xU=_.createContext(null),mde=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:c,children:d}=t,f=_.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:c}),[e,n,r,i,s,c]);return _.createElement(xU.Provider,{value:f},d)},wU=()=>{var t=_.useContext(xU),e=N0();return t||(e?EA(e):void 0)},pde=_.createContext(null),gde=()=>{var t=_.useContext(pde),e=Oe(uV);return t||e},vde=t=>{var{value:e,formatter:n}=t,r=Jt(t.children)?e:t.children;return typeof n=="function"?n(r):r},LS=t=>t!=null&&typeof t=="function",yde=(t,e)=>{var n=er(e-t),r=Math.min(Math.abs(e-t),360);return n*r},bde=(t,e,n,r,i)=>{var{offset:s,className:c}=t,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:y,clockWise:w}=i,j=(h+p)/2,E=yde(g,y),A=E>=0?1:-1,T,k;switch(e){case"insideStart":T=g+A*s,k=w;break;case"insideEnd":T=y-A*s,k=!w;break;case"end":T=y+A*s,k=w;break;default:throw new Error("Unsupported position ".concat(e))}k=E<=0?k:!k;var I=Dn(d,f,j,T),R=Dn(d,f,j,T+(k?1:-1)*359),z="M".concat(I.x,",").concat(I.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(k?0:1,`,
    `).concat(R.x,",").concat(R.y),M=Jt(t.id)?Zh("recharts-radial-line-"):t.id;return _.createElement("text",Ts({},r,{dominantBaseline:"central",className:vt("recharts-radial-bar-label",c)}),_.createElement("defs",null,_.createElement("path",{id:M,d:z})),_.createElement("textPath",{xlinkHref:"#".concat(M)},n))},_de=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:c,startAngle:d,endAngle:f}=t,h=(d+f)/2;if(n==="outside"){var{x:p,y:g}=Dn(r,i,c+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(s+c)/2,{x:w,y:j}=Dn(r,i,y,h);return{x:w,y:j,textAnchor:"middle",verticalAnchor:"middle"}},dv=t=>t!=null&&"cx"in t&&Ne(t.cx),xde={angle:0,offset:5,zIndex:wn.label,position:"middle",textBreakAll:!1};function wde(t){if(!dv(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Qo(t){var e=pn(t,xde),{viewBox:n,parentViewBox:r,position:i,value:s,children:c,content:d,className:f="",textBreakAll:h,labelRef:p}=e,g=gde(),y=wU(),w=i==="center"?y:g??y,j,E,A;n==null?j=w:dv(n)?j=n:j=EA(n);var T=wde(j);if(!j||Jt(s)&&Jt(c)&&!_.isValidElement(d)&&typeof d!="function")return null;var k=Nh(Nh({},e),{},{viewBox:j});if(_.isValidElement(d)){var{labelRef:I}=k,R=VD(k,lde);return _.cloneElement(d,R)}if(typeof d=="function"){var{content:z}=k,M=VD(k,cde);if(E=_.createElement(d,M),_.isValidElement(E))return E}else E=vde(e);var O=Ar(e);if(dv(j)){if(i==="insideStart"||i==="insideEnd"||i==="end")return bde(e,i,E,O,j);A=_de(j,e.offset,e.position)}else{if(!T)return null;var P=ode({viewBox:T,position:i,offset:e.offset,parentViewBox:dv(r)?void 0:r});A=Nh(Nh({x:P.x,y:P.y,textAnchor:P.horizontalAnchor,verticalAnchor:P.verticalAnchor},P.width!==void 0?{width:P.width}:{}),P.height!==void 0?{height:P.height}:{})}return _.createElement(Dr,{zIndex:e.zIndex},_.createElement(X0,Ts({ref:p,className:vt("recharts-label",f)},O,A,{textAnchor:Jue(O.textAnchor)?O.textAnchor:A.textAnchor,breakAll:h}),E))}Qo.displayName="Label";var Ede=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?_.createElement(Qo,Ts({key:"label-implicit"},r)):Xa(t)?_.createElement(Qo,Ts({key:"label-implicit",value:t},r)):_.isValidElement(t)?t.type===Qo?_.cloneElement(t,Nh({key:"label-implicit"},r)):_.createElement(Qo,Ts({key:"label-implicit",content:t},r)):LS(t)?_.createElement(Qo,Ts({key:"label-implicit",content:t},r)):t&&typeof t=="object"?_.createElement(Qo,Ts({},t,{key:"label-implicit"},r)):null};function jde(t){var{label:e,labelRef:n}=t,r=wU();return Ede(e,r,n)||null}var Y1={},X1={},qD;function Ade(){return qD||(qD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(X1)),X1}var Z1={},BD;function Sde(){return BD||(BD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Z1)),Z1}var $D;function Nde(){return $D||($D=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ade(),n=Sde(),r=fA();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(Y1)),Y1}var J1,FD;function Tde(){return FD||(FD=1,J1=Nde().last),J1}var Cde=Tde();const Pde=ns(Cde);var Ode=["valueAccessor"],Ide=["dataKey","clockWise","id","textBreakAll","zIndex"];function Sy(){return Sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sy.apply(null,arguments)}function HD(t,e){if(t==null)return{};var n,r,i=Rde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kde=t=>Array.isArray(t.value)?Pde(t.value):t.value,EU=_.createContext(void 0),VS=EU.Provider,jU=_.createContext(void 0),Dde=jU.Provider;function Mde(){return _.useContext(EU)}function zde(){return _.useContext(jU)}function fv(t){var{valueAccessor:e=kde}=t,n=HD(t,Ode),{dataKey:r,clockWise:i,id:s,textBreakAll:c,zIndex:d}=n,f=HD(n,Ide),h=Mde(),p=zde(),g=h||p;return!g||!g.length?null:_.createElement(Dr,{zIndex:d??wn.label},_.createElement(hn,{className:"recharts-label-list"},g.map((y,w)=>{var j,E=Jt(r)?e(y,w):jt(y.payload,r),A=Jt(s)?{}:{id:"".concat(s,"-").concat(w)};return _.createElement(Qo,Sy({key:"label-".concat(w)},Ar(y),f,A,{fill:(j=n.fill)!==null&&j!==void 0?j:y.fill,parentViewBox:y.parentViewBox,value:E,textBreakAll:c,viewBox:y.viewBox,index:w,zIndex:0}))})))}fv.displayName="LabelList";function Z0(t){var{label:e}=t;return e?e===!0?_.createElement(fv,{key:"labelList-implicit"}):_.isValidElement(e)||LS(e)?_.createElement(fv,{key:"labelList-implicit",content:e}):typeof e=="object"?_.createElement(fv,Sy({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function VE(){return VE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VE.apply(null,arguments)}var AU=t=>{var{cx:e,cy:n,r,className:i}=t,s=vt("recharts-dot",i);return Ne(e)&&Ne(n)&&Ne(r)?_.createElement("circle",VE({},Rr(t),dA(t),{className:s,cx:e,cy:n,r})):null},SU=t=>t.graphicalItems.polarItems,Lde=ee([nn,Hm],lS),J0=ee([SU,gn,Lde],cS),Vde=ee([J0],uS),eb=ee([Vde,z0],dS),Ude=ee([eb,gn,J0],hS);ee([eb,gn,J0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,c=jt(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:jt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var KD=()=>{},qde=ee([eb,gn,J0,K0,nn],vS),Bde=ee([gn,pS,gS,KD,qde,KD,ht,nn],yS),NU=ee([gn,ht,eb,Ude,Fm,nn,Bde],bS),$de=ee([NU,Zd,zl],wS),Fde=ee([gn,NU,$de,nn],jS);ee([zl,Fde],fV);var Hde={radiusAxis:{},angleAxis:{}},TU=ei({name:"polarAxis",initialState:Hde,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:o0e,removeRadiusAxis:l0e,addAngleAxis:c0e,removeAngleAxis:u0e}=TU.actions,Kde=TU.reducer;function CU(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}function GD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(n),!0).forEach(function(r){Gde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gde(t,e,n){return(e=Wde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wde(t){var e=Qde(t,"string");return typeof e=="symbol"?e:e+""}function Qde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yde=(t,e)=>e,US=ee([SU,Yde],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Xde=[],qS=(t,e,n)=>n?.length===0?Xde:n,PU=ee([z0,US,qS],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>WD(WD({},e.presentationProps),s.props))),i!=null)return i}}),Zde=ee([PU,US,qS],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,c=jt(r,e.nameKey,e.name),d;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=e.fill,{value:Rl(c,e.dataKey),color:d,payload:r,type:e.legendType}})}),Jde=ee([PU,US,qS,qn],(t,e,n,r)=>{if(!(e==null||t==null))return ehe({offset:r,pieSettings:e,displayedData:t,cells:n})}),ew={exports:{}},zt={};var QD;function efe(){if(QD)return zt;QD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function j(E){if(typeof E=="object"&&E!==null){var A=E.$$typeof;switch(A){case t:switch(E=E.type,E){case n:case i:case r:case f:case h:case y:return E;default:switch(E=E&&E.$$typeof,E){case c:case d:case g:case p:return E;case s:return E;default:return A}}case e:return A}}}return zt.ContextConsumer=s,zt.ContextProvider=c,zt.Element=t,zt.ForwardRef=d,zt.Fragment=n,zt.Lazy=g,zt.Memo=p,zt.Portal=e,zt.Profiler=i,zt.StrictMode=r,zt.Suspense=f,zt.SuspenseList=h,zt.isContextConsumer=function(E){return j(E)===s},zt.isContextProvider=function(E){return j(E)===c},zt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},zt.isForwardRef=function(E){return j(E)===d},zt.isFragment=function(E){return j(E)===n},zt.isLazy=function(E){return j(E)===g},zt.isMemo=function(E){return j(E)===p},zt.isPortal=function(E){return j(E)===e},zt.isProfiler=function(E){return j(E)===i},zt.isStrictMode=function(E){return j(E)===r},zt.isSuspense=function(E){return j(E)===f},zt.isSuspenseList=function(E){return j(E)===h},zt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===f||E===h||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===p||E.$$typeof===c||E.$$typeof===s||E.$$typeof===d||E.$$typeof===w||E.getModuleId!==void 0)},zt.typeOf=j,zt}var YD;function tfe(){return YD||(YD=1,ew.exports=efe()),ew.exports}var nfe=tfe(),XD=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",ZD=null,tw=null,OU=t=>{if(t===ZD&&Array.isArray(tw))return tw;var e=[];return _.Children.forEach(t,n=>{Jt(n)||(nfe.isFragment(n)?e=e.concat(OU(n.props.children)):e.push(n))}),tw=e,ZD=t,e};function BS(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>XD(i)):r=[XD(e)],OU(t).forEach(i=>{var s=Wc(i,"type.displayName")||Wc(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var $S=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,nw={},JD;function rfe(){return JD||(JD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(nw)),nw}var rw,eM;function ife(){return eM||(eM=1,rw=rfe().isPlainObject),rw}var afe=ife();const sfe=ns(afe);var tM,nM,rM,iM,aM;function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){ofe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ofe(t,e,n){return(e=lfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lfe(t){var e=cfe(t,"string");return typeof e=="symbol"?e:e+""}function cfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ny(){return Ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ny.apply(null,arguments)}function vh(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var lM=(t,e,n,r,i)=>{var s=n-r,c;return c=cn(tM||(tM=vh(["M ",",",""])),t,e),c+=cn(nM||(nM=vh(["L ",",",""])),t+n,e),c+=cn(rM||(rM=vh(["L ",",",""])),t+n-s/2,e+i),c+=cn(iM||(iM=vh(["L ",",",""])),t+n-s/2-r,e+i),c+=cn(aM||(aM=vh(["L ",","," Z"])),t,e),c},ufe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dfe=t=>{var e=pn(t,ufe),{x:n,y:r,upperWidth:i,lowerWidth:s,height:c,className:d}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,y=_.useRef(null),[w,j]=_.useState(-1),E=_.useRef(i),A=_.useRef(s),T=_.useRef(c),k=_.useRef(n),I=_.useRef(r),R=Gd(t,"trapezoid-");if(_.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var pe=y.current.getTotalLength();pe&&j(pe)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||c!==+c||i===0&&s===0||c===0)return null;var z=vt("recharts-trapezoid",d);if(!g)return _.createElement("g",null,_.createElement("path",Ny({},Ar(e),{className:z,d:lM(n,r,i,s,c)})));var M=E.current,O=A.current,P=T.current,D=k.current,B=I.current,U="0px ".concat(w===-1?1:w,"px"),L="".concat(w,"px 0px"),q=t5(["strokeDasharray"],h,f);return _.createElement(Kd,{animationId:R,key:R,canBegin:w>0,duration:h,easing:f,isActive:g,begin:p},pe=>{var Ee=Et(M,i,pe),F=Et(O,s,pe),J=Et(P,c,pe),fe=Et(D,n,pe),we=Et(B,r,pe);y.current&&(E.current=Ee,A.current=F,T.current=J,k.current=fe,I.current=we);var _e=pe>0?{transition:q,strokeDasharray:L}:{strokeDasharray:U};return _.createElement("path",Ny({},Ar(e),{className:z,d:lM(fe,we,Ee,F,J),ref:y,style:oM(oM({},_e),e.style)}))})},ffe=["option","shapeType","activeClassName"];function hfe(t,e){if(t==null)return{};var n,r,i=mfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ty(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(n),!0).forEach(function(r){pfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pfe(t,e,n){return(e=gfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gfe(t){var e=vfe(t,"string");return typeof e=="symbol"?e:e+""}function vfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yfe(t,e){return Ty(Ty({},e),t)}function bfe(t,e){return t==="symbols"}function uM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return _.createElement(a5,n);case"trapezoid":return _.createElement(dfe,n);case"sector":return _.createElement(c5,n);case"symbols":if(bfe(e))return _.createElement(uA,n);break;case"curve":return _.createElement(_d,n);default:return null}}function _fe(t){return _.isValidElement(t)?t.props:t}function FS(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=hfe(t,ffe),s;if(_.isValidElement(e))s=_.cloneElement(e,Ty(Ty({},i),_fe(e)));else if(typeof e=="function")s=e(i,i.index);else if(sfe(e)&&typeof e!="boolean"){var c=yfe(e,i);s=_.createElement(uM,{shapeType:n,elementProps:c})}else{var d=i;s=_.createElement(uM,{shapeType:n,elementProps:d})}return i.isActive?_.createElement(hn,{className:r},s):s}var HS=(t,e,n)=>{var r=Ht();return(i,s)=>c=>{t?.(i,s,c),r(BV({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},KS=t=>{var e=Ht();return(n,r)=>i=>{t?.(n,r,i),e(Ele())}},GS=(t,e,n)=>{var r=Ht();return(i,s)=>c=>{t?.(i,s,c),r(jle({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function tb(t){var{tooltipEntrySettings:e}=t,n=Ht(),r=nr(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(ble(e)):i.current!==e&&n(_le({prev:i.current,next:e})),i.current=e)},[e,n,r]),_.useLayoutEffect(()=>()=>{i.current&&(n(xle(i.current)),i.current=null)},[n]),null}function WS(t){var{legendPayload:e}=t,n=Ht(),r=nr(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(X6(e)):i.current!==e&&n(Z6({prev:i.current,next:e})),i.current=e)},[n,r,e]),_.useLayoutEffect(()=>()=>{i.current&&(n(J6(i.current)),i.current=null)},[n]),null}function xfe(t){var{legendPayload:e}=t,n=Ht(),r=Oe(ht),i=_.useRef(null);return _.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(X6(e)):i.current!==e&&n(Z6({prev:i.current,next:e})),i.current=e)},[n,r,e]),_.useLayoutEffect(()=>()=>{i.current&&(n(J6(i.current)),i.current=null)},[n]),null}var iw,wfe=()=>{var[t]=_.useState(()=>Zh("uid-"));return t},Efe=(iw=WM.useId)!==null&&iw!==void 0?iw:wfe;function jfe(t,e){var n=Efe();return e||(t?"".concat(t,"-").concat(n):n)}var Afe=_.createContext(void 0),nb=t=>{var{id:e,type:n,children:r}=t,i=jfe("recharts-".concat(n),e);return _.createElement(Afe.Provider,{value:i},r(i))},Sfe={cartesianItems:[],polarItems:[]},IU=ei({name:"graphicalItems",initialState:Sfe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Xt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ua(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Xt()},removeCartesianGraphicalItem:{reducer(t,e){var n=ua(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Xt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Xt()},removePolarGraphicalItem:{reducer(t,e){var n=ua(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Xt()}}}),{addCartesianGraphicalItem:Nfe,replaceCartesianGraphicalItem:Tfe,removeCartesianGraphicalItem:Cfe,addPolarGraphicalItem:Pfe,removePolarGraphicalItem:Ofe}=IU.actions,Ife=IU.reducer,Rfe=t=>{var e=Ht(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(Nfe(t)):n.current!==t&&e(Tfe({prev:n.current,next:t})),n.current=t},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(e(Cfe(n.current)),n.current=null)},[e]),null},QS=_.memo(Rfe);function kfe(t){var e=Ht();return _.useLayoutEffect(()=>(e(Pfe(t)),()=>{e(Ofe(t))}),[e,t]),null}var Dfe=["key"],Mfe=["onMouseEnter","onClick","onMouseLeave"],zfe=["id"],Lfe=["id"];function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(n),!0).forEach(function(r){Vfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vfe(t,e,n){return(e=Ufe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ufe(t){var e=qfe(t,"string");return typeof e=="symbol"?e:e+""}function qfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Al.apply(null,arguments)}function rb(t,e){if(t==null)return{};var n,r,i=Bfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $fe(t){var e=_.useMemo(()=>BS(t.children,fl),[t.children]),n=Oe(r=>Zde(r,t.id,e));return n==null?null:_.createElement(xfe,{legendPayload:n})}var Ffe=_.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:c,name:d,hide:f,tooltipType:h,id:p}=t,g={dataDefinedOnItem:r.map(y=>y.tooltipPayload),getPosition:y=>{var w;return(w=r[Number(y)])===null||w===void 0?void 0:w.tooltipPosition},settings:{stroke:i,strokeWidth:s,fill:c,dataKey:e,nameKey:n,name:Rl(d,e),hide:f,type:h,color:c,unit:"",graphicalItemId:p}};return _.createElement(tb,{tooltipEntrySettings:g})}),Hfe=(t,e)=>t>e?"start":t<e?"end":"middle",Kfe=(t,e,n)=>Er(typeof e=="function"?e(t):e,n,n*.8),Gfe=(t,e,n)=>{var{top:r,left:i,width:s,height:c}=e,d=s5(s,c),f=i+Er(t.cx,s,s/2),h=r+Er(t.cy,c,c/2),p=Er(t.innerRadius,d,0),g=Kfe(n,t.outerRadius,d),y=t.maxRadius||Math.sqrt(s*s+c*c)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:y}},Wfe=(t,e)=>{var n=er(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Qfe=(t,e)=>{if(_.isValidElement(t))return _.cloneElement(t,e);if(typeof t=="function")return t(e);var n=vt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=rb(e,Dfe);return _.createElement(_d,Al({},i,{type:"linear",className:n}))},Yfe=(t,e,n)=>{if(_.isValidElement(t))return _.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),_.isValidElement(r)))return r;var i=vt("recharts-pie-label-text",CU(t));return _.createElement(X0,Al({},e,{alignmentBaseline:"middle",className:i}),r)};function Xfe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:c}=n;if(!r||!i||!e)return null;var d=Rr(n),f=Kc(i),h=Kc(s),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=e.map((y,w)=>{var j=(y.startAngle+y.endAngle)/2,E=Dn(y.cx,y.cy,y.outerRadius+p,j),A=un(un(un(un({},d),y),{},{stroke:"none"},f),{},{index:w,textAnchor:Hfe(E.x,y.cx)},E),T=un(un(un(un({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:w,points:[Dn(y.cx,y.cy,y.outerRadius,j),E],key:"line"});return _.createElement(Dr,{zIndex:wn.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(w)},_.createElement(hn,null,s&&Qfe(s,T),Yfe(i,A,jt(y,c))))});return _.createElement(hn,{className:"recharts-pie-labels"},g)}function Zfe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?_.createElement(Z0,{label:i}):_.createElement(Xfe,{sectors:e,props:n,showLabels:r})}function Jfe(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:s,id:c}=t,d=Oe(jl),f=Oe(RS),h=Oe(cce),{onMouseEnter:p,onClick:g,onMouseLeave:y}=i,w=rb(i,Mfe),j=HS(p,i.dataKey,c),E=KS(y),A=GS(g,i.dataKey,c);return e==null||e.length===0?null:_.createElement(_.Fragment,null,e.map((T,k)=>{if(T?.startAngle===0&&T?.endAngle===0&&e.length!==1)return null;var I=h==null||h===c,R=String(k)===d&&(f==null||i.dataKey===f)&&I,z=d?r:null,M=n&&R?n:z,O=un(un({},T),{},{stroke:T.stroke,tabIndex:-1,[z6]:k,[L6]:c});return _.createElement(hn,Al({key:"sector-".concat(T?.startAngle,"-").concat(T?.endAngle,"-").concat(T.midAngle,"-").concat(k),tabIndex:-1,className:"recharts-pie-sector"},Rm(w,T,k),{onMouseEnter:j(T,k),onMouseLeave:E(T,k),onClick:A(T,k)}),_.createElement(FS,Al({option:s??M,index:k,shapeType:"sector",isActive:R},O)))}))}function ehe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:c,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=n,y=Math.abs(n.minAngle),w=Wfe(d,f),j=Math.abs(w),E=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,A=r.filter(M=>jt(M,h,0)!==0).length,T=(j>=360?A:A-1)*E,k=j-A*y-T,I=r.reduce((M,O)=>{var P=jt(O,h,0);return M+(Ne(P)?P:0)},0),R;if(I>0){var z;R=r.map((M,O)=>{var P=jt(M,h,0),D=jt(M,p,O),B=Gfe(n,s,M),U=(Ne(P)?P:0)/I,L,q=un(un({},M),i&&i[O]&&i[O].props);O?L=z.endAngle+er(w)*E*(P!==0?1:0):L=d;var pe=L+er(w)*((P!==0?y:0)+U*k),Ee=(L+pe)/2,F=(B.innerRadius+B.outerRadius)/2,J=[{name:D,value:P,payload:q,dataKey:h,type:g,graphicalItemId:n.id}],fe=Dn(B.cx,B.cy,F,Ee);return z=un(un(un(un({},n.presentationProps),{},{percent:U,cornerRadius:typeof c=="string"?parseFloat(c):c,name:D,tooltipPayload:J,midAngle:Ee,middleRadius:F,tooltipPosition:fe},q),B),{},{value:P,dataKey:h,startAngle:L,endAngle:pe,payload:q,paddingAngle:er(w)*E}),z})}return R}function the(t){var{showLabels:e,sectors:n,children:r}=t,i=_.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return _.createElement(Dde,{value:e?i:void 0},r)}function nhe(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:s,animationBegin:c,animationDuration:d,animationEasing:f,activeShape:h,inactiveShape:p,onAnimationStart:g,onAnimationEnd:y}=e,w=Gd(e,"recharts-pie-"),j=n.current,[E,A]=_.useState(!1),T=_.useCallback(()=>{typeof y=="function"&&y(),A(!1)},[y]),k=_.useCallback(()=>{typeof g=="function"&&g(),A(!0)},[g]);return _.createElement(the,{showLabels:!E,sectors:i},_.createElement(Kd,{animationId:w,begin:c,duration:d,isActive:s,easing:f,onAnimationStart:k,onAnimationEnd:T,key:w},I=>{var R,z=[],M=i&&i[0],O=(R=M?.startAngle)!==null&&R!==void 0?R:0;return i?.forEach((P,D)=>{var B=j&&j[D],U=D>0?Wc(P,"paddingAngle",0):0;if(B){var L=Et(B.endAngle-B.startAngle,P.endAngle-P.startAngle,I),q=un(un({},P),{},{startAngle:O+U,endAngle:O+L+U});z.push(q),O=q.endAngle}else{var{endAngle:pe,startAngle:Ee}=P,F=Et(0,pe-Ee,I),J=un(un({},P),{},{startAngle:O+U,endAngle:O+F+U});z.push(J),O=J.endAngle}}),n.current=z,_.createElement(hn,null,_.createElement(Jfe,{sectors:z,activeShape:h,inactiveShape:p,allOtherPieProps:e,shape:e.shape,id:r}))}),_.createElement(Zfe,{showLabels:!E,sectors:i,props:e}),e.children)}var rhe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:wn.area};function ihe(t){var{id:e}=t,n=rb(t,zfe),{hide:r,className:i,rootTabIndex:s}=t,c=_.useMemo(()=>BS(t.children,fl),[t.children]),d=Oe(p=>Jde(p,e,c)),f=_.useRef(null),h=vt("recharts-pie",i);return r||d==null?(f.current=null,_.createElement(hn,{tabIndex:s,className:h})):_.createElement(Dr,{zIndex:t.zIndex},_.createElement(Ffe,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:d,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),_.createElement(hn,{tabIndex:s,className:h},_.createElement(nhe,{props:un(un({},n),{},{sectors:d}),previousSectorsRef:f,id:e})))}function RU(t){var e=pn(t,rhe),{id:n}=e,r=rb(e,Lfe),i=Rr(r);return _.createElement(nb,{id:n,type:"pie"},s=>_.createElement(_.Fragment,null,_.createElement(kfe,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),_.createElement($fe,Al({},r,{id:s})),_.createElement(ihe,Al({},r,{id:s}))))}RU.displayName="Pie";var ahe=["points"];function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){she(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function she(t,e,n){return(e=ohe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ohe(t){var e=lhe(t,"string");return typeof e=="symbol"?e:e+""}function lhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cy.apply(null,arguments)}function che(t,e){if(t==null)return{};var n,r,i=uhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dhe(t){var{option:e,dotProps:n,className:r}=t;if(_.isValidElement(e))return _.cloneElement(e,n);if(typeof e=="function")return e(n);var i=vt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:c}=s,d=che(s,ahe);return _.createElement(AU,Cy({},d,{className:i}))}function fhe(t,e){return t==null?!1:e?!0:t.length===1}function kU(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:c,needClip:d,clipPathId:f,zIndex:h=wn.scatter}=t;if(!fhe(e,n))return null;var p=$S(n),g=CZ(n),y=e.map((j,E)=>{var A,T,k=aw(aw(aw({r:3},c),g),{},{index:E,cx:(A=j.x)!==null&&A!==void 0?A:void 0,cy:(T=j.y)!==null&&T!==void 0?T:void 0,dataKey:s,value:j.value,payload:j.payload,points:e});return _.createElement(dhe,{key:"dot-".concat(E),option:n,dotProps:k,className:i})}),w={};return d&&f!=null&&(w.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),_.createElement(Dr,{zIndex:h},_.createElement(hn,Cy({className:r},w),y))}function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(r){hhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hhe(t,e,n){return(e=mhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mhe(t){var e=phe(t,"string");return typeof e=="symbol"?e:e+""}function phe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DU=0,ghe={xAxis:{},yAxis:{},zAxis:{}},MU=ei({name:"cartesianAxis",initialState:ghe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Xt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Xt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Xt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Xt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Xt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Xt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Xt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Xt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Xt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s,c=i.widthHistory||[];if(c.length===3&&c[0]===c[2]&&r===c[1]&&r!==i.width&&Math.abs(r-((s=c[0])!==null&&s!==void 0?s:0))<=1)return;var d=[...c,r].slice(-3);t.yAxis[n]=mM(mM({},i),{},{width:r,widthHistory:d})}}}}),{addXAxis:vhe,replaceXAxis:yhe,removeXAxis:bhe,addYAxis:_he,replaceYAxis:xhe,removeYAxis:whe,addZAxis:d0e,replaceZAxis:f0e,removeZAxis:h0e,updateYAxisWidth:Ehe}=MU.actions,jhe=MU.reducer,Ahe=ee([qn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),She=ee([Ahe,no,ro],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),ib=()=>Oe(She),Nhe=()=>Oe(mce);function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){The(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function The(t,e,n){return(e=Che(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Che(t){var e=Phe(t,"string");return typeof e=="symbol"?e:e+""}function Phe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ohe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:c}=t;if(i===!1||e.x==null||e.y==null)return null;var d={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=sw(sw(sw({},d),Kc(i)),dA(i)),h;return _.isValidElement(i)?h=_.cloneElement(i,f):typeof i=="function"?h=i(f):h=_.createElement(AU,f),_.createElement(hn,{className:"recharts-active-dot",clipPath:c},h)};function UE(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:c=wn.activeDot}=t,d=Oe(jl),f=Nhe();if(e==null||f==null)return null;var h=e.find(p=>f.includes(p.payload));return Jt(h)?null:_.createElement(Dr,{zIndex:c},_.createElement(Ohe,{point:h,childIndex:Number(d),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var gM=(t,e,n)=>{var r=n??t;if(!Jt(r))return Er(r,e,0)},Ihe=(t,e,n)=>{var r={},i=t.filter(B0),s=t.filter(h=>h.stackId==null),c=i.reduce((h,p)=>{var g=h[p.stackId];return g==null&&(g=[]),g.push(p),h[p.stackId]=g,h},r),d=Object.entries(c).map(h=>{var p,[g,y]=h,w=y.map(E=>E.dataKey),j=gM(e,n,(p=y[0])===null||p===void 0?void 0:p.barSize);return{stackId:g,dataKeys:w,barSize:j}}),f=s.map(h=>{var p=[h.dataKey].filter(y=>y!=null),g=gM(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]};function vM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(n),!0).forEach(function(r){Rhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rhe(t,e,n){return(e=khe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function khe(t){var e=Dhe(t,"string");return typeof e=="symbol"?e:e+""}function Dhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mhe(t,e,n,r,i){var s,c=r.length;if(!(c<1)){var d=Er(t,n,0,!0),f,h=[];if(tt((s=r[0])===null||s===void 0?void 0:s.barSize)){var p=!1,g=n/c,y=r.reduce((k,I)=>k+(I.barSize||0),0);y+=(c-1)*d,y>=n&&(y-=(c-1)*d,d=0),y>=n&&g>0&&(p=!0,g*=.9,y=c*g);var w=(n-y)/2>>0,j={offset:w-d,size:0};f=r.reduce((k,I)=>{var R,z={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:j.offset+j.size+d,size:p?g:(R=I.barSize)!==null&&R!==void 0?R:0}},M=[...k,z];return j=z.position,M},h)}else{var E=Er(e,n,0,!0);n-2*E-(c-1)*d<=0&&(d=0);var A=(n-2*E-(c-1)*d)/c;A>1&&(A>>=0);var T=tt(i)?Math.min(A,i):A;f=r.reduce((k,I,R)=>[...k,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:E+(A+d)*R+(A-T)/2,size:T}}],h)}return f}}var zhe=(t,e,n,r,i,s,c)=>{var d=Jt(c)?e:c,f=Mhe(n,r,i!==s?i:s,t,d);return i!==s&&f!=null&&(f=f.map(h=>Qg(Qg({},h),{},{position:Qg(Qg({},h.position),{},{offset:h.position.offset-i/2})}))),f},Lhe=(t,e)=>{var n=q0(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(c=>c.key===n)}}}},Vhe=(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}};function Uhe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&tt(t.zIndex)?t.zIndex:e}var zU=t=>{var{chartData:e}=t,n=Ht(),r=nr();return _.useEffect(()=>r?()=>{}:(n(ED(e)),()=>{n(ED(void 0))}),[e,n,r]),null},yM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},LU=ei({name:"brush",initialState:yM,reducers:{setBrushSettings(t,e){return e.payload==null?yM:e.payload}}}),{setBrushSettings:m0e}=LU.actions,qhe=LU.reducer;function Bhe(t){return(t%180+180)%180}var $he=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Bhe(i),c=s*Math.PI/180,d=Math.atan(r/n),f=c>d&&c<Math.PI-d?r/Math.sin(c):n/Math.cos(c);return Math.abs(f)},Fhe={dots:[],areas:[],lines:[]},VU=ei({name:"referenceElements",initialState:Fhe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ua(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ua(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ua(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:p0e,removeDot:g0e,addArea:v0e,removeArea:y0e,addLine:b0e,removeLine:_0e}=VU.actions,Hhe=VU.reducer,Khe=_.createContext(void 0),Ghe=t=>{var{children:e}=t,[n]=_.useState("".concat(Zh("recharts"),"-clip")),r=ib();if(r==null)return null;var{x:i,y:s,width:c,height:d}=r;return _.createElement(Khe.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:s,height:d,width:c}))),e)};function UU(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Whe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return $he(r,n)}function Qhe(t,e,n){var r=n==="width",{x:i,y:s,width:c,height:d}=t;return e===1?{start:r?i:s,end:r?i+c:s+d}:{start:r?i+c:s+d,end:r?i:s}}function fm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Yhe(t,e){return UU(t,e+1)}function Xhe(t,e,n,r,i){for(var s=(r||[]).slice(),{start:c,end:d}=e,f=0,h=1,p=c,g=function(){var j=r?.[f];if(j===void 0)return{v:UU(r,h)};var E=f,A,T=()=>(A===void 0&&(A=n(j,E)),A),k=j.coordinate,I=f===0||fm(t,k,T,p,d);I||(f=0,p=c,h+=1),I&&(p=k+t*(T()/2+i),f+=h)},y;h<=s.length;)if(y=g(),y)return y.v;return[]}function Zhe(t,e,n,r,i){var s=(r||[]).slice(),c=s.length;if(c===0)return[];for(var{start:d,end:f}=e,h=1;h<=c;h++){for(var p=(c-1)%h,g=d,y=!0,w=function(){var R=r[E];if(R==null)return 0;var z=E,M,O=()=>(M===void 0&&(M=n(R,z)),M),P=R.coordinate,D=E===p||fm(t,P,O,g,f);if(!D)return y=!1,1;D&&(g=P+t*(O()/2+i))},j,E=p;E<c&&(j=w(),!(j!==0&&j===1));E+=h);if(y){for(var A=[],T=p;T<c;T+=h){var k=r[T];k!=null&&A.push(k)}return A}}return[]}function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){Jhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jhe(t,e,n){return(e=eme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eme(t){var e=tme(t,"string");return typeof e=="symbol"?e:e+""}function tme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nme(t,e,n,r,i){for(var s=(r||[]).slice(),c=s.length,{start:d}=e,{end:f}=e,h=function(y){var w=s[y];if(w==null)return 1;var j=w,E,A=()=>(E===void 0&&(E=n(w,y)),E);if(y===c-1){var T=t*(j.coordinate+t*A()/2-f);s[y]=j=br(br({},j),{},{tickCoord:T>0?j.coordinate-T*t:j.coordinate})}else s[y]=j=br(br({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var k=fm(t,j.tickCoord,A,d,f);k&&(f=j.tickCoord-t*(A()/2+i),s[y]=br(br({},j),{},{isShow:!0}))}},p=c-1;p>=0;p--)h(p);return s}function rme(t,e,n,r,i,s){var c=(r||[]).slice(),d=c.length,{start:f,end:h}=e;if(s){var p=r[d-1];if(p!=null){var g=n(p,d-1),y=t*(p.coordinate+t*g/2-h);if(c[d-1]=p=br(br({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate}),p.tickCoord!=null){var w=fm(t,p.tickCoord,()=>g,f,h);w&&(h=p.tickCoord-t*(g/2+i),c[d-1]=br(br({},p),{},{isShow:!0}))}}}for(var j=s?d-1:d,E=function(k){var I=c[k];if(I==null)return 1;var R=I,z,M=()=>(z===void 0&&(z=n(I,k)),z);if(k===0){var O=t*(R.coordinate-t*M()/2-f);c[k]=R=br(br({},R),{},{tickCoord:O<0?R.coordinate-O*t:R.coordinate})}else c[k]=R=br(br({},R),{},{tickCoord:R.coordinate});if(R.tickCoord!=null){var P=fm(t,R.tickCoord,M,f,h);P&&(f=R.tickCoord+t*(M()/2+i),c[k]=br(br({},R),{},{isShow:!0}))}},A=0;A<j;A++)E(A);return c}function YS(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:c,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=t;if(!i||!i.length||!r)return[];if(Ne(f)||Vm.isSsr){var y;return(y=Yhe(i,Ne(f)?f:0))!==null&&y!==void 0?y:[]}var w=[],j=d==="top"||d==="bottom"?"width":"height",E=p&&j==="width"?zh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(z,M)=>{var O=typeof h=="function"?h(z.value,M):z.value;return j==="width"?Whe(zh(O,{fontSize:e,letterSpacing:n}),E,g):zh(O,{fontSize:e,letterSpacing:n})[j]},T=i[0],k=i[1],I=i.length>=2&&T!=null&&k!=null?er(k.coordinate-T.coordinate):1,R=Qhe(s,I,j);return f==="equidistantPreserveStart"?Xhe(I,R,A,i,c):f==="equidistantPreserveEnd"?Zhe(I,R,A,i,c):(f==="preserveStart"||f==="preserveStartEnd"?w=rme(I,R,A,i,c,f==="preserveStartEnd"):w=nme(I,R,A,i,c),w.filter(z=>z.isShow))}var ime=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,c=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=n?n.getBoundingClientRect().width:0,f=i+s,h=c+f+d+(n?r:0);return Math.round(h)}return 0},ame=["axisLine","width","height","className","hide","ticks","axisType"];function sme(t,e){if(t==null)return{};var n,r,i=ome(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ome(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eu.apply(null,arguments)}function _M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(n),!0).forEach(function(r){lme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lme(t,e,n){return(e=cme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cme(t){var e=ume(t,"string");return typeof e=="symbol"?e:e+""}function ume(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ls={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:wn.axis};function dme(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:c,axisLine:d,otherSvgProps:f}=t;if(!d)return null;var h=ln(ln(ln({},f),Rr(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!c||s==="bottom"&&c);h=ln(ln({},h),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var g=+(s==="left"&&!c||s==="right"&&c);h=ln(ln({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return _.createElement("line",eu({},h,{className:vt("recharts-cartesian-axis-line",Wc(d,"className"))}))}function fme(t,e,n,r,i,s,c,d,f){var h,p,g,y,w,j,E=d?-1:1,A=t.tickSize||c,T=Ne(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,y=n+ +!d*i,g=y-E*A,j=g-E*f,w=T;break;case"left":g=y=t.coordinate,p=e+ +!d*r,h=p-E*A,w=h-E*f,j=T;break;case"right":g=y=t.coordinate,p=e+ +d*r,h=p+E*A,w=h+E*f,j=T;break;default:h=p=t.coordinate,y=n+ +d*i,g=y+E*A,j=g+E*f,w=T;break}return{line:{x1:h,y1:g,x2:p,y2:y},tick:{x:w,y:j}}}function hme(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function mme(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function pme(t){var{option:e,tickProps:n,value:r}=t,i,s=vt(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(e))i=_.cloneElement(e,ln(ln({},n),{},{className:s}));else if(typeof e=="function")i=e(ln(ln({},n),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(c=vt(c,CU(e))),i=_.createElement(X0,eu({},n,{className:c}),r)}return i}var gme=_.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:c,unit:d,padding:f,tickTextProps:h,orientation:p,mirror:g,x:y,y:w,width:j,height:E,tickSize:A,tickMargin:T,fontSize:k,letterSpacing:I,getTicksConfig:R,events:z,axisType:M}=t,O=YS(ln(ln({},R),{},{ticks:n}),k,I),P=hme(p,g),D=mme(p,g),B=Rr(R),U=Kc(r),L={};typeof i=="object"&&(L=i);var q=ln(ln({},B),{},{fill:"none"},L),pe=O.map(J=>ln({entry:J},fme(J,y,w,j,E,p,A,g,T))),Ee=pe.map(J=>{var{entry:fe,line:we}=J;return _.createElement(hn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(fe.value,"-").concat(fe.coordinate,"-").concat(fe.tickCoord)},i&&_.createElement("line",eu({},q,we,{className:vt("recharts-cartesian-axis-tick-line",Wc(i,"className"))})))}),F=pe.map((J,fe)=>{var we,_e,{entry:H,tick:ie}=J,ve=ln(ln(ln(ln({verticalAnchor:D},B),{},{textAnchor:P,stroke:"none",fill:s},ie),{},{index:fe,payload:H,visibleTicksCount:O.length,tickFormatter:c,padding:f},h),{},{angle:(we=(_e=h?.angle)!==null&&_e!==void 0?_e:B.angle)!==null&&we!==void 0?we:0}),xe=ln(ln({},ve),U);return _.createElement(hn,eu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},Rm(z,H,fe)),r&&_.createElement(pme,{option:r,tickProps:xe,value:"".concat(typeof c=="function"?c(H.value,fe):H.value).concat(d||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},F.length>0&&_.createElement(Dr,{zIndex:wn.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:e},F)),Ee.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},Ee))}),vme=_.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:c,ticks:d,axisType:f}=t,h=sme(t,ame),[p,g]=_.useState(""),[y,w]=_.useState(""),j=_.useRef(null);_.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var A;return ime({ticks:j.current,label:(A=t.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=_.useCallback(A=>{if(A){var T=A.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=T;var k=T[0];if(k){var I=window.getComputedStyle(k),R=I.fontSize,z=I.letterSpacing;(R!==p||z!==y)&&(g(R),w(z))}}},[p,y]);return c||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(Dr,{zIndex:t.zIndex},_.createElement(hn,{className:vt("recharts-cartesian-axis",s)},_.createElement(dme,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Rr(t)}),_.createElement(gme,{ref:E,axisType:f,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:d,unit:t.unit,width:t.width,x:t.x,y:t.y}),_.createElement(mde,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},_.createElement(jde,{label:t.label,labelRef:t.labelRef}),t.children)))}),XS=_.forwardRef((t,e)=>{var n=pn(t,Ls);return _.createElement(vme,eu({},n,{ref:e}))});XS.displayName="CartesianAxis";var yme=["x1","y1","x2","y2","key"],bme=["offset"],_me=["xAxisId","yAxisId"],xme=["xAxisId","yAxisId"];function xM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(n),!0).forEach(function(r){wme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wme(t,e,n){return(e=Eme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eme(t){var e=jme(t,"string");return typeof e=="symbol"?e:e+""}function jme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sc.apply(null,arguments)}function Py(t,e){if(t==null)return{};var n,r,i=Ame(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ame(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Sme=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:c,ry:d}=t;return _.createElement("rect",{x:r,y:i,ry:d,width:s,height:c,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function qU(t){var{option:e,lineItemProps:n}=t,r;if(_.isValidElement(e))r=_.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:c,x2:d,y2:f,key:h}=n,p=Py(n,yme),g=(i=Rr(p))!==null&&i!==void 0?i:{},{offset:y}=g,w=Py(g,bme);r=_.createElement("line",Sc({},w,{x1:s,y1:c,x2:d,y2:f,fill:"none",key:h}))}return r}function Nme(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=t,d=Py(t,_me),f=i.map((h,p)=>{var g=wr(wr({},d),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return _.createElement(qU,{key:"line-".concat(p),option:r,lineItemProps:g})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Tme(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=t,d=Py(t,xme),f=i.map((h,p)=>{var g=wr(wr({},d),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return _.createElement(qU,{option:r,lineItemProps:g,key:"line-".concat(p)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Cme(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:c,horizontalPoints:d,horizontal:f=!0}=t;if(!f||!e||!e.length||d==null)return null;var h=d.map(g=>Math.round(g+i-i)).sort((g,y)=>g-y);i!==h[0]&&h.unshift(0);var p=h.map((g,y)=>{var w=h[y+1],j=w==null,E=j?i+c-g:w-g;if(E<=0)return null;var A=y%e.length;return _.createElement("rect",{key:"react-".concat(y),y:g,x:r,height:E,width:s,stroke:"none",fill:e[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Pme(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:c,height:d,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(g=>Math.round(g+i-i)).sort((g,y)=>g-y);i!==h[0]&&h.unshift(0);var p=h.map((g,y)=>{var w=h[y+1],j=w==null,E=j?i+c-g:w-g;if(E<=0)return null;var A=y%n.length;return _.createElement("rect",{key:"react-".concat(y),x:g,y:s,width:E,height:d,stroke:"none",fill:n[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Ome=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return R6(YS(wr(wr(wr({},Ls),n),{},{ticks:k6(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},Ime=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return R6(YS(wr(wr(wr({},Ls),n),{},{ticks:k6(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},Rme={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:wn.grid};function Nc(t){var e=jA(),n=AA(),r=B6(),i=wr(wr({},pn(t,Rme)),{},{x:Ne(t.x)?t.x:r.left,y:Ne(t.y)?t.y:r.top,width:Ne(t.width)?t.width:r.width,height:Ne(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:c,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:y,verticalValues:w}=i,j=nr(),E=Oe(D=>dD(D,"xAxis",s,j)),A=Oe(D=>dD(D,"yAxis",c,j));if(!Za(h)||!Za(p)||!Ne(d)||!Ne(f))return null;var T=i.verticalCoordinatesGenerator||Ome,k=i.horizontalCoordinatesGenerator||Ime,{horizontalPoints:I,verticalPoints:R}=i;if((!I||!I.length)&&typeof k=="function"){var z=y&&y.length,M=k({yAxis:A?wr(wr({},A),{},{ticks:z?y:A.ticks}):void 0,width:e??h,height:n??p,offset:r},z?!0:g);ty(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(I=M)}if((!R||!R.length)&&typeof T=="function"){var O=w&&w.length,P=T({xAxis:E?wr(wr({},E),{},{ticks:O?w:E.ticks}):void 0,width:e??h,height:n??p,offset:r},O?!0:g);ty(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(R=P)}return _.createElement(Dr,{zIndex:i.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(Sme,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(Cme,Sc({},i,{horizontalPoints:I})),_.createElement(Pme,Sc({},i,{verticalPoints:R})),_.createElement(Nme,Sc({},i,{offset:r,horizontalPoints:I,xAxis:E,yAxis:A})),_.createElement(Tme,Sc({},i,{offset:r,verticalPoints:R,xAxis:E,yAxis:A}))))}Nc.displayName="CartesianGrid";var kme={},BU=ei({name:"errorBars",initialState:kme,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:x0e,replaceErrorBar:w0e,removeErrorBar:E0e}=BU.actions,Dme=BU.reducer,Mme=["children"];function zme(t,e){if(t==null)return{};var n,r,i=Lme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vme={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Ume=_.createContext(Vme);function $U(t){var{children:e}=t,n=zme(t,Mme);return _.createElement(Ume.Provider,{value:n},e)}function ab(t,e){var n,r,i=Oe(h=>so(h,t)),s=Oe(h=>oo(h,e)),c=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Qn.allowDataOverflow,d=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Yn.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function ZS(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=ib(),{needClipX:s,needClipY:c,needClip:d}=ab(e,n);if(!d||!i)return null;var{x:f,y:h,width:p,height:g}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:s?f:f-p/2,y:c?h:h-g/2,width:s?p:p*2,height:c?g:g*2}))}var FU=(t,e,n,r)=>ts(t,"xAxis",e,r),HU=(t,e,n,r)=>es(t,"xAxis",e,r),KU=(t,e,n,r)=>ts(t,"yAxis",n,r),GU=(t,e,n,r)=>es(t,"yAxis",n,r),qme=ee([ht,FU,KU,HU,GU],(t,e,n,r,i)=>va(t,"xAxis")?El(e,r,!1):El(n,i,!1)),Bme=(t,e,n,r,i)=>i;function $me(t){return t.type==="line"}var Fme=ee([Km,Bme],(t,e)=>t.filter($me).find(n=>n.id===e)),Hme=ee([ht,FU,KU,HU,GU,Fme,qme,ZA],(t,e,n,r,i,s,c,d)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=d;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||c==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:g,data:y}=s,w;if(y!=null&&y.length>0?w=y:w=f?.slice(h,p+1),w!=null)return Ope({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:c,displayedData:w})}});function WU(t){var e=Kc(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,c=Number(i),d=Number(s);return(Number.isNaN(c)||c<0)&&(c=n),(Number.isNaN(d)||d<0)&&(d=r),{r:c,strokeWidth:d}}return{r:n,strokeWidth:r}}var ow={exports:{}},lw={};var wM;function Kme(){if(wM)return lw;wM=1;var t=Md();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,c=t.useMemo,d=t.useDebugValue;return lw.useSyncExternalStoreWithSelector=function(f,h,p,g,y){var w=i(null);if(w.current===null){var j={hasValue:!1,value:null};w.current=j}else j=w.current;w=c(function(){function A(z){if(!T){if(T=!0,k=z,z=g(z),y!==void 0&&j.hasValue){var M=j.value;if(y(M,z))return I=M}return I=z}if(M=I,n(k,z))return M;var O=g(z);return y!==void 0&&y(M,O)?(k=z,M):(k=z,I=O)}var T=!1,k,I,R=p===void 0?null:p;return[function(){return A(h())},R===null?void 0:function(){return A(R())}]},[h,p,g,y]);var E=r(f,w[0],w[1]);return s(function(){j.hasValue=!0,j.value=E},[E]),d(E),E},lw}var EM;function Gme(){return EM||(EM=1,ow.exports=Kme()),ow.exports}Gme();function Wme(t){t()}function Qme(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Wme(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var jM={notify(){},get:()=>[]};function Yme(t,e){let n,r=jM,i=0,s=!1;function c(E){p();const A=r.subscribe(E);let T=!1;return()=>{T||(T=!0,A(),g())}}function d(){r.notify()}function f(){j.onStateChange&&j.onStateChange()}function h(){return s}function p(){i++,n||(n=t.subscribe(f),r=Qme())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=jM)}function y(){s||(s=!0,p())}function w(){s&&(s=!1,g())}const j={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:w,getListeners:()=>r};return j}var Xme=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zme=Xme(),Jme=()=>typeof navigator<"u"&&navigator.product==="ReactNative",epe=Jme(),tpe=()=>Zme||epe?_.useLayoutEffect:_.useEffect,npe=tpe();function AM(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function rpe(t,e){if(AM(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!AM(t[n[i]],e[n[i]]))return!1;return!0}var ipe=Symbol.for("react-redux-context"),ape=typeof globalThis<"u"?globalThis:{};function spe(){if(!_.createContext)return{};const t=ape[ipe]??=new Map;let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var ope=spe();function lpe(t){const{children:e,context:n,serverState:r,store:i}=t,s=_.useMemo(()=>{const f=Yme(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),c=_.useMemo(()=>i.getState(),[i]);npe(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,c]);const d=n||ope;return _.createElement(d.Provider,{value:s},e)}var cpe=lpe,upe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function dpe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Zm(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(upe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!rpe(t[r],e[r]))return!1}else if(!dpe(t[r],e[r]))return!1;return!0}var fpe=["id"],hpe=["type","layout","connectNulls","needClip","shape"],mpe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function hm(){return hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hm.apply(null,arguments)}function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){ppe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ppe(t,e,n){return(e=gpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gpe(t){var e=vpe(t,"string");return typeof e=="symbol"?e:e+""}function vpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JS(t,e){if(t==null)return{};var n,r,i=ype(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ype(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bpe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Rl(n,e),payload:t}]},_pe=_.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:c,hide:d,unit:f,tooltipType:h,id:p}=t,g={dataDefinedOnItem:n,getPosition:Il,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Rl(c,e),hide:d,type:h,color:r,unit:f,graphicalItemId:p}};return _.createElement(tb,{tooltipEntrySettings:g})}),QU=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function xpe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var wpe=(t,e,n)=>{var r=n.reduce((w,j)=>w+j);if(!r)return QU(e,t);for(var i=Math.floor(t/r),s=t%r,c=e-t,d=[],f=0,h=0;f<n.length;h+=(p=n[f])!==null&&p!==void 0?p:0,++f){var p,g=n[f];if(g!=null&&h+g>s){d=[...n.slice(0,f),s-h];break}}var y=d.length%2===0?[0,c]:[c];return[...xpe(n,i),...d,...y].map(w=>"".concat(w,"px")).join(", ")};function Epe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:c}=r,{id:d}=r,f=JS(r,fpe),h=Rr(f);return _.createElement(kU,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:c,clipPathId:e})}function jpe(t){var{showLabels:e,children:n,points:r}=t,i=_.useMemo(()=>r?.map(s=>{var c,d,f={x:(c=s.x)!==null&&c!==void 0?c:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Va(Va({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[r]);return _.createElement(VS,{value:e?i:void 0},n)}function NM(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:c,layout:d,connectNulls:f,needClip:h,shape:p}=s,g=JS(s,hpe),y=Va(Va({},Ar(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:c,layout:d,connectNulls:f,strokeDasharray:i??s.strokeDasharray});return _.createElement(_.Fragment,null,r?.length>1&&_.createElement(FS,hm({shapeType:"curve",option:p},y,{pathRef:n})),_.createElement(Epe,{points:r,clipPathId:e,props:s}))}function Ape(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Spe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:c,strokeDasharray:d,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:y,width:w,height:j,onAnimationEnd:E,onAnimationStart:A}=n,T=i.current,k=Gd(c,"recharts-line-"),I=_.useRef(k),[R,z]=_.useState(!1),M=!R,O=_.useCallback(()=>{typeof E=="function"&&E(),z(!1)},[E]),P=_.useCallback(()=>{typeof A=="function"&&A(),z(!0)},[A]),D=Ape(r.current),B=_.useRef(0);I.current!==k&&(B.current=s.current,I.current=k);var U=B.current;return _.createElement(jpe,{points:c,showLabels:M},n.children,_.createElement(Kd,{animationId:k,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:O,onAnimationStart:P,key:k},L=>{var q=Et(U,D+U,L),pe=Math.min(q,D),Ee;if(f)if(d){var F="".concat(d).split(/[,\s]+/gim).map(we=>parseFloat(we));Ee=wpe(pe,D,F)}else Ee=QU(D,pe);else Ee=d==null?void 0:String(d);if(L>0&&D>0&&(i.current=c,s.current=Math.max(s.current,pe)),T){var J=T.length/c.length,fe=L===1?c:c.map((we,_e)=>{var H=Math.floor(_e*J);if(T[H]){var ie=T[H];return Va(Va({},we),{},{x:Et(ie.x,we.x,L),y:Et(ie.y,we.y,L)})}return y?Va(Va({},we),{},{x:Et(w*2,we.x,L),y:Et(j/2,we.y,L)}):Va(Va({},we),{},{x:we.x,y:we.y})});return i.current=fe,_.createElement(NM,{props:n,points:fe,clipPathId:e,pathRef:r,strokeDasharray:Ee})}return _.createElement(NM,{props:n,points:c,clipPathId:e,pathRef:r,strokeDasharray:Ee})}),_.createElement(Z0,{label:n.label}))}function Npe(t){var{clipPathId:e,props:n}=t,r=_.useRef(null),i=_.useRef(0),s=_.useRef(null);return _.createElement(Spe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var Tpe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:jt(t.payload,e)}};class Cpe extends _.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:c,top:d,left:f,width:h,height:p,id:g,needClip:y,zIndex:w}=this.props;if(e)return null;var j=vt("recharts-line",i),E=g,{r:A,strokeWidth:T}=WU(n),k=$S(n),I=A*2+T,R=y?"url(#clipPath-".concat(k?"":"dots-").concat(E,")"):void 0;return _.createElement(Dr,{zIndex:w},_.createElement(hn,{className:j},y&&_.createElement("defs",null,_.createElement(ZS,{clipPathId:E,xAxisId:s,yAxisId:c}),!k&&_.createElement("clipPath",{id:"clipPath-dots-".concat(E)},_.createElement("rect",{x:f-I/2,y:d-I/2,width:h+I,height:p+I}))),_.createElement($U,{xAxisId:s,yAxisId:c,data:r,dataPointFormatter:Tpe,errorBarOffset:0},_.createElement(Npe,{props:this.props,clipPathId:E}))),_.createElement(UE,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:R}))}}var YU={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:wn.line,type:"linear"};function Ppe(t){var e=pn(t,YU),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:c,connectNulls:d,dot:f,hide:h,isAnimationActive:p,label:g,legendType:y,xAxisId:w,yAxisId:j,id:E}=e,A=JS(e,mpe),{needClip:T}=ab(w,j),k=ib(),I=kl(),R=nr(),z=Oe(B=>Hme(B,w,j,R,E));if(I!=="horizontal"&&I!=="vertical"||z==null||k==null)return null;var{height:M,width:O,x:P,y:D}=k;return _.createElement(Cpe,hm({},A,{id:E,connectNulls:d,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:c,isAnimationActive:p,hide:h,label:g,legendType:y,xAxisId:w,yAxisId:j,points:z,layout:I,height:M,width:O,left:P,top:D,needClip:T}))}function Ope(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:c,bandSize:d,displayedData:f}=t;return f.map((h,p)=>{var g=jt(h,c);if(e==="horizontal"){var y=ey({axis:n,ticks:i,bandSize:d,entry:h,index:p}),w=Jt(g)?null:r.scale.map(g);return{x:y,y:w??null,value:g,payload:h}}var j=Jt(g)?null:n.scale.map(g),E=ey({axis:r,ticks:s,bandSize:d,entry:h,index:p});return j==null||E==null?null:{x:j,y:E,value:g,payload:h}}).filter(Boolean)}function Ipe(t){var e=pn(t,YU),n=nr();return _.createElement(nb,{id:e.id,type:"line"},r=>_.createElement(_.Fragment,null,_.createElement(WS,{legendPayload:bpe(e)}),_.createElement(_pe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),_.createElement(QS,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),_.createElement(Ppe,hm({},e,{id:r}))))}var XU=_.memo(Ipe,Zm);XU.displayName="Line";function is(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:DU}function as(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:DU}var ZU=(t,e,n)=>ts(t,"xAxis",is(t,e),n),JU=(t,e,n)=>es(t,"xAxis",is(t,e),n),e9=(t,e,n)=>ts(t,"yAxis",as(t,e),n),t9=(t,e,n)=>es(t,"yAxis",as(t,e),n),Rpe=ee([ht,ZU,e9,JU,t9],(t,e,n,r,i)=>va(t,"xAxis")?El(e,r,!1):El(n,i,!1)),kpe=(t,e)=>e,n9=ee([Km,kpe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),r9=t=>{var e=ht(t),n=va(e,"xAxis");return n?"yAxis":"xAxis"},Dpe=(t,e)=>{var n=r9(t);return n==="yAxis"?as(t,e):is(t,e)},Mpe=(t,e,n)=>Ey(t,r9(t),Dpe(t,e),n),zpe=ee([n9,Mpe],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=q0(t);if(!(r==null||i==null)){var s=(n=e[r])===null||n===void 0?void 0:n.stackedData,c=s?.find(d=>d.key===i);if(c!=null)return c.map(d=>[d[0],d[1]])}}}),Lpe=ee([ht,ZU,e9,JU,t9,zpe,F5,Rpe,n9,coe],(t,e,n,r,i,s,c,d,f,h)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:y}=c;if(!(f==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||d==null)){var{data:w}=f,j;if(w&&w.length>0?j=w:j=p?.slice(g,y+1),j!=null)return rge({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:g,areaSettings:f,stackedData:s,displayedData:j,chartBaseValue:h,bandSize:d})}}),Vpe=["id"],Upe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mc.apply(null,arguments)}function i9(t,e){if(t==null)return{};var n,r,i=qpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function TM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(n),!0).forEach(function(r){Bpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bpe(t,e,n){return(e=$pe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $pe(t){var e=Fpe(t,"string");return typeof e=="symbol"?e:e+""}function Fpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oy(t,e){return t&&t!=="none"?t:e}var Hpe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:c}=t;return[{inactive:c,dataKey:e,type:s,color:Oy(r,i),value:Rl(n,e),payload:t}]},Kpe=_.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:c,hide:d,unit:f,tooltipType:h,id:p}=t,g={dataDefinedOnItem:n,getPosition:Il,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Rl(c,e),hide:d,type:h,color:Oy(r,s),unit:f,graphicalItemId:p}};return _.createElement(tb,{tooltipEntrySettings:g})});function Gpe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:c}=r,d=Rr(r);return _.createElement(kU,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:d,needClip:i,clipPathId:e})}function Wpe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(s=>{var c,d,f={x:(c=s.x)!==null&&c!==void 0?c:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return hd(hd({},f),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return _.createElement(VS,{value:e?i:void 0},n)}function CM(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s}=t,{layout:c,type:d,stroke:f,connectNulls:h,isRange:p}=s,{id:g}=s,y=i9(s,Vpe),w=Rr(y),j=Ar(y);return _.createElement(_.Fragment,null,e?.length>1&&_.createElement(hn,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},_.createElement(_d,Mc({},j,{id:g,points:e,connectNulls:h,type:d,baseLine:n,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&_.createElement(_d,Mc({},w,{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:e})),f!=="none"&&p&&_.createElement(_d,Mc({},w,{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:n}))),_.createElement(Gpe,{points:e,props:y,clipPathId:i}))}function Qpe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:c}=t,d=(e=s[0])===null||e===void 0?void 0:e.y,f=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!tt(d)||!tt(f))return null;var h=r*Math.abs(d-f),p=Math.max(...s.map(g=>g.x||0));return Ne(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.x||0),p)),Ne(p)?_.createElement("rect",{x:0,y:d<f?d:d-h,width:p+(c?parseInt("".concat(c),10):1),height:Math.floor(h)}):null}function Ype(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:c}=t,d=(e=s[0])===null||e===void 0?void 0:e.x,f=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!tt(d)||!tt(f))return null;var h=r*Math.abs(d-f),p=Math.max(...s.map(g=>g.y||0));return Ne(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.y||0),p)),Ne(p)?_.createElement("rect",{x:d<f?d:d-h,y:0,width:h,height:Math.floor(p+(c?parseInt("".concat(c),10):1))}):null}function Xpe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?_.createElement(Qpe,{alpha:e,points:r,baseLine:i,strokeWidth:s}):_.createElement(Ype,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function Zpe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:c,baseLine:d,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,onAnimationStart:y,onAnimationEnd:w}=r,j=_.useMemo(()=>({points:c,baseLine:d}),[c,d]),E=Gd(j,"recharts-area-"),A=SA(),[T,k]=_.useState(!1),I=!T,R=_.useCallback(()=>{typeof w=="function"&&w(),k(!1)},[w]),z=_.useCallback(()=>{typeof y=="function"&&y(),k(!0)},[y]);if(A==null)return null;var M=i.current,O=s.current;return _.createElement(Wpe,{showLabels:I,points:c},r.children,_.createElement(Kd,{animationId:E,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:R,onAnimationStart:z,key:E},P=>{if(M){var D=M.length/c.length,B=P===1?c:c.map((L,q)=>{var pe=Math.floor(q*D);if(M[pe]){var Ee=M[pe];return hd(hd({},L),{},{x:Et(Ee.x,L.x,P),y:Et(Ee.y,L.y,P)})}return L}),U;return Ne(d)?U=Et(O,d,P):Jt(d)||ma(d)?U=Et(O,0,P):U=d.map((L,q)=>{var pe=Math.floor(q*D);if(Array.isArray(O)&&O[pe]){var Ee=O[pe];return hd(hd({},L),{},{x:Et(Ee.x,L.x,P),y:Et(Ee.y,L.y,P)})}return L}),P>0&&(i.current=B,s.current=U),_.createElement(CM,{points:B,baseLine:U,needClip:e,clipPathId:n,props:r})}return P>0&&(i.current=c,s.current=d),_.createElement(hn,null,f&&_.createElement("defs",null,_.createElement("clipPath",{id:"animationClipPath-".concat(n)},_.createElement(Xpe,{alpha:P,points:c,baseLine:d,layout:A,strokeWidth:r.strokeWidth}))),_.createElement(hn,{clipPath:"url(#animationClipPath-".concat(n,")")},_.createElement(CM,{points:c,baseLine:d,needClip:e,clipPathId:n,props:r})))}),_.createElement(Z0,{label:r.label}))}function Jpe(t){var{needClip:e,clipPathId:n,props:r}=t,i=_.useRef(null),s=_.useRef();return _.createElement(Zpe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class ege extends _.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:s,left:c,needClip:d,xAxisId:f,yAxisId:h,width:p,height:g,id:y,baseLine:w,zIndex:j}=this.props;if(e)return null;var E=vt("recharts-area",i),A=y,{r:T,strokeWidth:k}=WU(n),I=$S(n),R=T*2+k,z=d?"url(#clipPath-".concat(I?"":"dots-").concat(A,")"):void 0;return _.createElement(Dr,{zIndex:j},_.createElement(hn,{className:E},d&&_.createElement("defs",null,_.createElement(ZS,{clipPathId:A,xAxisId:f,yAxisId:h}),!I&&_.createElement("clipPath",{id:"clipPath-dots-".concat(A)},_.createElement("rect",{x:c-R/2,y:s-R/2,width:p+R,height:g+R}))),_.createElement(Jpe,{needClip:d,clipPathId:A,props:this.props})),_.createElement(UE,{points:r,mainColor:Oy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:z}),this.props.isRange&&Array.isArray(w)&&_.createElement(UE,{points:w,mainColor:Oy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:z}))}}var a9={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:wn.area};function tge(t){var e,n=pn(t,a9),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:c,connectNulls:d,dot:f,fill:h,fillOpacity:p,hide:g,isAnimationActive:y,legendType:w,stroke:j,xAxisId:E,yAxisId:A}=n,T=i9(n,Upe),k=kl(),I=aU(),{needClip:R}=ab(E,A),z=nr(),{points:M,isRange:O,baseLine:P}=(e=Oe(pe=>Lpe(pe,t.id,z)))!==null&&e!==void 0?e:{},D=ib();if(k!=="horizontal"&&k!=="vertical"||D==null||I!=="AreaChart"&&I!=="ComposedChart")return null;var{height:B,width:U,x:L,y:q}=D;return!M||!M.length?null:_.createElement(ege,Mc({},T,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:c,baseLine:P,connectNulls:d,dot:f,fill:h,fillOpacity:p,height:B,hide:g,layout:k,isAnimationActive:y==="auto"?!Vm.isSsr:y,isRange:O,legendType:w,needClip:R,points:M,stroke:j,width:U,left:L,top:q,xAxisId:E,yAxisId:A}))}var nge=(t,e,n,r,i)=>{var s=n??e;if(Ne(s))return s;var c=t==="horizontal"?i:r,d=c.scale.domain();if(c.type==="number"){var f=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return s==="dataMin"?h:s==="dataMax"||f<0?f:Math.max(Math.min(d[0],d[1]),0)}return s==="dataMin"?d[0]:s==="dataMax"?d[1]:d[0]};function rge(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:c,xAxis:d,yAxis:f,displayedData:h,dataStartIndex:p,xAxisTicks:g,yAxisTicks:y,bandSize:w}=t,j=i&&i.length,E=nge(s,c,n,d,f),A=s==="horizontal",T=!1,k=h.map((R,z)=>{var M,O,P,D;if(j)D=i[p+z];else{var B=jt(R,r);Array.isArray(B)?(D=B,T=!0):D=[E,B]}var U=(M=(O=D)===null||O===void 0?void 0:O[1])!==null&&M!==void 0?M:null,L=U==null||j&&!e&&jt(R,r)==null;if(A){var q;return{x:ey({axis:d,ticks:g,bandSize:w,entry:R,index:z}),y:L?null:(q=f.scale.map(U))!==null&&q!==void 0?q:null,value:D,payload:R}}return{x:L?null:(P=d.scale.map(U))!==null&&P!==void 0?P:null,y:ey({axis:f,ticks:y,bandSize:w,entry:R,index:z}),value:D,payload:R}}),I;return j||T?I=k.map(R=>{var z,M=Array.isArray(R.value)?R.value[0]:null;if(A){var O;return{x:R.x,y:M!=null&&R.y!=null&&(O=f.scale.map(M))!==null&&O!==void 0?O:null,payload:R.payload}}return{x:M!=null&&(z=d.scale.map(M))!==null&&z!==void 0?z:null,y:R.y,payload:R.payload}}):I=A?f.scale.map(E):d.scale.map(E),{points:k,baseLine:I??0,isRange:T}}function ige(t){var e=pn(t,a9),n=nr();return _.createElement(nb,{id:e.id,type:"area"},r=>_.createElement(_.Fragment,null,_.createElement(WS,{legendPayload:Hpe(e)}),_.createElement(Kpe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),_.createElement(QS,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:D6(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),_.createElement(tge,Mc({},e,{id:r}))))}var qE=_.memo(ige,Zm);qE.displayName="Area";var age="Invariant failed";function sge(t,e){throw new Error(age)}function BE(){return BE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BE.apply(null,arguments)}function Iy(t){return _.createElement(FS,BE({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var oge=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ne(e))return e;var s=Ne(r)||Jt(r);return s?e(r,i):(s||sge(),n)}},lge=(t,e,n)=>n,cge=(t,e)=>e,Jm=ee([Km,cge],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),uge=ee([Jm],t=>t?.maxBarSize),dge=(t,e,n,r)=>r,fge=ee([ht,Km,is,as,lge],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),hge=(t,e,n)=>{var r=ht(t),i=is(t,e),s=as(t,e);if(!(i==null||s==null))return r==="horizontal"?Ey(t,"yAxis",s,n):Ey(t,"xAxis",i,n)},mge=(t,e)=>{var n=ht(t),r=is(t,e),i=as(t,e);if(!(r==null||i==null))return n==="horizontal"?uD(t,"xAxis",r):uD(t,"yAxis",i)},pge=ee([fge,loe,mge],Ihe),gge=(t,e,n)=>{var r,i,s=Jm(t,e);if(s==null)return 0;var c=is(t,e),d=as(t,e);if(c==null||d==null)return 0;var f=ht(t),h=nV(t),{maxBarSize:p}=s,g=Jt(p)?h:p,y,w;return f==="horizontal"?(y=ts(t,"xAxis",c,n),w=es(t,"xAxis",c,n)):(y=ts(t,"yAxis",d,n),w=es(t,"yAxis",d,n)),(r=(i=El(y,w,!0))!==null&&i!==void 0?i:g)!==null&&r!==void 0?r:0},s9=(t,e,n)=>{var r=ht(t),i=is(t,e),s=as(t,e);if(!(i==null||s==null)){var c,d;return r==="horizontal"?(c=ts(t,"xAxis",i,n),d=es(t,"xAxis",i,n)):(c=ts(t,"yAxis",s,n),d=es(t,"yAxis",s,n)),El(c,d)}},vge=ee([pge,nV,ooe,rV,gge,s9,uge],zhe),yge=(t,e,n)=>{var r=is(t,e);if(r!=null)return ts(t,"xAxis",r,n)},bge=(t,e,n)=>{var r=as(t,e);if(r!=null)return ts(t,"yAxis",r,n)},_ge=(t,e,n)=>{var r=is(t,e);if(r!=null)return es(t,"xAxis",r,n)},xge=(t,e,n)=>{var r=as(t,e);if(r!=null)return es(t,"yAxis",r,n)},wge=ee([vge,Jm],Vhe),Ege=ee([hge,Jm],Lhe),jge=ee([qn,xA,yge,bge,_ge,xge,wge,ht,F5,s9,Ege,Jm,dge],(t,e,n,r,i,s,c,d,f,h,p,g,y)=>{var{chartData:w,dataStartIndex:j,dataEndIndex:E}=f;if(!(g==null||c==null||e==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||i==null||s==null||h==null)){var{data:A}=g,T;if(A!=null&&A.length>0?T=A:T=w?.slice(j,E+1),T!=null)return Zge({layout:d,barSettings:g,pos:c,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:T,offset:t,cells:y,dataStartIndex:j})}}),Age=["index"];function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$E.apply(null,arguments)}function Sge(t,e){if(t==null)return{};var n,r,i=Nge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var o9=_.createContext(void 0),Tge=t=>{var e=_.useContext(o9);if(e!=null)return e.stackId;if(t!=null)return D6(t)},Cge=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),Pge=t=>{var e=_.useContext(o9);if(e!=null){var{stackId:n}=e;return"url(#".concat(Cge(n,t),")")}},l9=t=>{var{index:e}=t,n=Sge(t,Age),r=Pge(e);return _.createElement(hn,$E({className:"recharts-bar-stack-layer",clipPath:r},n))},Oge=["onMouseEnter","onMouseLeave","onClick"],Ige=["value","background","tooltipPosition"],Rge=["id"],kge=["onMouseEnter","onClick","onMouseLeave"];function Qs(){return Qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qs.apply(null,arguments)}function PM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PM(Object(n),!0).forEach(function(r){Dge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dge(t,e,n){return(e=Mge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mge(t){var e=zge(t,"string");return typeof e=="symbol"?e:e+""}function zge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ry(t,e){if(t==null)return{};var n,r,i=Lge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vge=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Rl(n,e),payload:t}]},Uge=_.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:c,unit:d,tooltipType:f,id:h}=t,p={dataDefinedOnItem:void 0,getPosition:Il,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Rl(s,e),hide:c,type:f,color:i,unit:d,graphicalItemId:h}};return _.createElement(tb,{tooltipEntrySettings:p})});function qge(t){var e=Oe(jl),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:c,onMouseLeave:d,onClick:f}=s,h=Ry(s,Oge),p=HS(c,r,s.id),g=KS(d),y=GS(f,r,s.id);if(!i||n==null)return null;var w=Kc(i);return _.createElement(Dr,{zIndex:Uhe(i,wn.barBackground)},n.map((j,E)=>{var{value:A,background:T,tooltipPosition:k}=j,I=Ry(j,Ige);if(!T)return null;var R=p(j,E),z=g(j,E),M=y(j,E),O=Cr(Cr(Cr(Cr(Cr({option:i,isActive:String(E)===e},I),{},{fill:"#eee"},T),w),Rm(h,j,E)),{},{onMouseEnter:R,onMouseLeave:z,onClick:M,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return _.createElement(Iy,Qs({key:"background-bar-".concat(E)},O))}))}function Bge(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var c={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Cr(Cr({},c),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:c,fill:s.fill})});return _.createElement(VS,{value:e?i:void 0},n)}function $ge(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:c}=t,d=Oe(jl),f=Oe(RS),h=n&&String(s)===d&&(f==null||c===f),p=h?n:e;return h?_.createElement(Dr,{zIndex:wn.activeBar},_.createElement(l9,{index:s},_.createElement(Iy,Qs({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:c})))):_.createElement(Iy,Qs({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:c}))}function Fge(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return _.createElement(Iy,Qs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function Hge(t){var e,{data:n,props:r}=t,i=(e=Rr(r))!==null&&e!==void 0?e:{},{id:s}=i,c=Ry(i,Rge),{shape:d,dataKey:f,activeBar:h}=r,{onMouseEnter:p,onClick:g,onMouseLeave:y}=r,w=Ry(r,kge),j=HS(p,f,s),E=KS(y),A=GS(g,f,s);return n?_.createElement(_.Fragment,null,n.map((T,k)=>_.createElement(l9,Qs({index:k,key:"rectangle-".concat(T?.x,"-").concat(T?.y,"-").concat(T?.value,"-").concat(k),className:"recharts-bar-rectangle"},Rm(w,T,k),{onMouseEnter:j(T,k),onMouseLeave:E(T,k),onClick:A(T,k)}),h?_.createElement($ge,{shape:d,activeBar:h,baseProps:c,entry:T,index:k,dataKey:f}):_.createElement(Fge,{shape:d,baseProps:c,entry:T,index:k,dataKey:f})))):null}function Kge(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,y=Gd(e,"recharts-bar-"),[w,j]=_.useState(!1),E=!w,A=_.useCallback(()=>{typeof h=="function"&&h(),j(!1)},[h]),T=_.useCallback(()=>{typeof p=="function"&&p(),j(!0)},[p]);return _.createElement(Bge,{showLabels:E,rects:r},_.createElement(Kd,{animationId:y,begin:c,duration:d,isActive:s,easing:f,onAnimationEnd:A,onAnimationStart:T,key:y},k=>{var I=k===1?r:r?.map((R,z)=>{var M=g&&g[z];if(M)return Cr(Cr({},R),{},{x:Et(M.x,R.x,k),y:Et(M.y,R.y,k),width:Et(M.width,R.width,k),height:Et(M.height,R.height,k)});if(i==="horizontal"){var O=Et(0,R.height,k),P=Et(R.stackedBarStart,R.y,k);return Cr(Cr({},R),{},{y:P,height:O})}var D=Et(0,R.width,k),B=Et(R.stackedBarStart,R.x,k);return Cr(Cr({},R),{},{width:D,x:B})});return k>0&&(n.current=I??null),I==null?null:_.createElement(hn,null,_.createElement(Hge,{props:e,data:I}))}),_.createElement(Z0,{label:e.label}),e.children)}function Gge(t){var e=_.useRef(null);return _.createElement(Kge,{previousRectanglesRef:e,props:t})}var c9=0,Wge=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:jt(t,e)}};class Qge extends _.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:c,needClip:d,background:f,id:h}=this.props;if(e||n==null)return null;var p=vt("recharts-bar",i),g=h;return _.createElement(hn,{className:p,id:h},d&&_.createElement("defs",null,_.createElement(ZS,{clipPathId:g,xAxisId:s,yAxisId:c})),_.createElement(hn,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},_.createElement(qge,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),_.createElement(Gge,this.props)))}}var Yge={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:c9,xAxisId:0,yAxisId:0,zIndex:wn.bar};function Xge(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=ab(e,n),y=kl(),w=nr(),j=BS(t.children,fl),E=Oe(k=>jge(k,t.id,w,j));if(y!=="vertical"&&y!=="horizontal")return null;var A,T=E?.[0];return T==null||T.height==null||T.width==null?A=0:A=y==="vertical"?T.height/2:T.width/2,_.createElement($U,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:Wge,errorBarOffset:A},_.createElement(Qge,Qs({},t,{layout:y,needClip:g,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function Zge(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:c,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:y,cells:w,parentViewBox:j,dataStartIndex:E}=t,A=e==="horizontal"?d:c,T=p?A.scale.domain():null,k=Qte({numericAxis:A}),I=A.scale.map(k);return g.map((R,z)=>{var M,O,P,D,B,U;if(p){var L=p[z+E];if(L==null)return null;M=Fte(L,T)}else M=jt(R,n),Array.isArray(M)||(M=[k,M]);var q=oge(r,c9)(M[1],z);if(e==="horizontal"){var pe,Ee=d.scale.map(M[0]),F=d.scale.map(M[1]);if(Ee==null||F==null)return null;O=cR({axis:c,ticks:f,bandSize:s,offset:i.offset,entry:R,index:z}),P=(pe=F??Ee)!==null&&pe!==void 0?pe:void 0,D=i.size;var J=Ee-F;if(B=ma(J)?0:J,U={x:O,y:y.top,width:D,height:y.height},Math.abs(q)>0&&Math.abs(B)<Math.abs(q)){var fe=er(B||q)*(Math.abs(q)-Math.abs(B));P-=fe,B+=fe}}else{var we=c.scale.map(M[0]),_e=c.scale.map(M[1]);if(we==null||_e==null)return null;if(O=we,P=cR({axis:d,ticks:h,bandSize:s,offset:i.offset,entry:R,index:z}),D=_e-we,B=i.size,U={x:y.left,y:P,width:y.width,height:B},Math.abs(q)>0&&Math.abs(D)<Math.abs(q)){var H=er(D||q)*(Math.abs(q)-Math.abs(D));D+=H}}if(O==null||P==null||D==null||B==null)return null;var ie=Cr(Cr({},R),{},{stackedBarStart:I,x:O,y:P,width:D,height:B,value:p?M:M[1],payload:R,background:U,tooltipPosition:{x:O+D/2,y:P+B/2},parentViewBox:j},w&&w[z]&&w[z].props);return ie}).filter(Boolean)}function Jge(t){var e=pn(t,Yge),n=Tge(e.stackId),r=nr();return _.createElement(nb,{id:e.id,type:"bar"},i=>_.createElement(_.Fragment,null,_.createElement(WS,{legendPayload:Vge(e)}),_.createElement(Uge,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),_.createElement(QS,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),_.createElement(Dr,{zIndex:e.zIndex},_.createElement(Xge,Qs({},e,{id:i})))))}var xc=_.memo(Jge,Zm);xc.displayName="Bar";var eve=["domain","range"],tve=["domain","range"];function OM(t,e){if(t==null)return{};var n,r,i=nve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function IM(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function u9(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=OM(t,eve),{domain:s,range:c}=e,d=OM(e,tve);return!IM(n,s)||!IM(r,c)?!1:Zm(i,d)}var rve=["type"],ive=["dangerouslySetInnerHTML","ticks","scale"],ave=["id","scale"];function FE(){return FE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FE.apply(null,arguments)}function RM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(n),!0).forEach(function(r){sve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sve(t,e,n){return(e=ove(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ove(t){var e=lve(t,"string");return typeof e=="symbol"?e:e+""}function lve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HE(t,e){if(t==null)return{};var n,r,i=cve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uve(t){var e=Ht(),n=_.useRef(null),r=SA(),{type:i}=t,s=HE(t,rve),c=V0(r,"xAxis",i),d=_.useMemo(()=>{if(c!=null)return kM(kM({},s),{},{type:c})},[s,c]);return _.useLayoutEffect(()=>{d!=null&&(n.current===null?e(vhe(d)):n.current!==d&&e(yhe({prev:n.current,next:d})),n.current=d)},[d,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(bhe(n.current)),n.current=null)},[e]),null}var dve=t=>{var{xAxisId:e,className:n}=t,r=Oe(xA),i=nr(),s="xAxis",c=Oe(T=>MV(T,s,e,i)),d=Oe(T=>IV(T,e)),f=Oe(T=>cle(T,e)),h=Oe(T=>hV(T,e));if(d==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:y}=t,w=HE(t,ive),{id:j,scale:E}=h,A=HE(h,ave);return _.createElement(XS,FE({},w,A,{x:f.x,y:f.y,width:d.width,height:d.height,className:vt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:c,axisType:s}))},fve={allowDataOverflow:Qn.allowDataOverflow,allowDecimals:Qn.allowDecimals,allowDuplicatedCategory:Qn.allowDuplicatedCategory,angle:Qn.angle,axisLine:Ls.axisLine,height:Qn.height,hide:!1,includeHidden:Qn.includeHidden,interval:Qn.interval,label:!1,minTickGap:Qn.minTickGap,mirror:Qn.mirror,orientation:Qn.orientation,padding:Qn.padding,reversed:Qn.reversed,scale:Qn.scale,tick:Qn.tick,tickCount:Qn.tickCount,tickLine:Ls.tickLine,tickSize:Ls.tickSize,type:Qn.type,xAxisId:0},hve=t=>{var e=pn(t,fve);return _.createElement(_.Fragment,null,_.createElement(uve,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),_.createElement(dve,e))},Tc=_.memo(hve,u9);Tc.displayName="XAxis";var mve=["type"],pve=["dangerouslySetInnerHTML","ticks","scale"],gve=["id","scale"];function KE(){return KE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KE.apply(null,arguments)}function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){vve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vve(t,e,n){return(e=yve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yve(t){var e=bve(t,"string");return typeof e=="symbol"?e:e+""}function bve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GE(t,e){if(t==null)return{};var n,r,i=_ve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _ve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xve(t){var e=Ht(),n=_.useRef(null),r=SA(),{type:i}=t,s=GE(t,mve),c=V0(r,"yAxis",i),d=_.useMemo(()=>{if(c!=null)return MM(MM({},s),{},{type:c})},[c,s]);return _.useLayoutEffect(()=>{d!=null&&(n.current===null?e(_he(d)):n.current!==d&&e(xhe({prev:n.current,next:d})),n.current=d)},[d,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(whe(n.current)),n.current=null)},[e]),null}function wve(t){var{yAxisId:e,className:n,width:r,label:i}=t,s=_.useRef(null),c=_.useRef(null),d=Oe(xA),f=nr(),h=Ht(),p="yAxis",g=Oe(M=>RV(M,e)),y=Oe(M=>dle(M,e)),w=Oe(M=>MV(M,p,e,f)),j=Oe(M=>mV(M,e));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!g||LS(i)||_.isValidElement(i)||j==null)){var M=s.current;if(M){var O=M.getCalculatedWidth();Math.round(g.width)!==Math.round(O)&&h(Ehe({id:e,width:O}))}}},[w,g,h,i,e,r,j]),g==null||y==null||j==null)return null;var{dangerouslySetInnerHTML:E,ticks:A,scale:T}=t,k=GE(t,pve),{id:I,scale:R}=j,z=GE(j,gve);return _.createElement(XS,KE({},k,z,{ref:s,labelRef:c,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:vt("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:w,axisType:p}))}var Eve={allowDataOverflow:Yn.allowDataOverflow,allowDecimals:Yn.allowDecimals,allowDuplicatedCategory:Yn.allowDuplicatedCategory,angle:Yn.angle,axisLine:Ls.axisLine,hide:!1,includeHidden:Yn.includeHidden,interval:Yn.interval,label:!1,minTickGap:Yn.minTickGap,mirror:Yn.mirror,orientation:Yn.orientation,padding:Yn.padding,reversed:Yn.reversed,scale:Yn.scale,tick:Yn.tick,tickCount:Yn.tickCount,tickLine:Ls.tickLine,tickSize:Ls.tickSize,type:Yn.type,width:Yn.width,yAxisId:0},jve=t=>{var e=pn(t,Eve);return _.createElement(_.Fragment,null,_.createElement(xve,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),_.createElement(wve,e))},Cc=_.memo(jve,u9);Cc.displayName="YAxis";var Ave=(t,e)=>e,eN=ee([Ave,ht,uV,ir,JV,lo,Sce,qn],Rce),tN=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},d9=Fi("mouseClick"),f9=Dm();f9.startListening({actionCreator:d9,effect:(t,e)=>{var n=t.payload,r=eN(e.getState(),tN(n));r?.activeIndex!=null&&e.dispatch(Ale({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var WE=Fi("mouseMove"),h9=Dm(),Yg=null;h9.startListening({actionCreator:WE,effect:(t,e)=>{var n=t.payload;Yg!==null&&cancelAnimationFrame(Yg);var r=tN(n);Yg=requestAnimationFrame(()=>{var i=e.getState(),s=NS(i,i.tooltip.settings.shared);if(s==="axis"){var c=eN(i,r);c?.activeIndex!=null?e.dispatch(FV({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):e.dispatch($V())}Yg=null})}});function Sve(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var zM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},m9=ei({name:"rootProps",initialState:zM,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:zM.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Nve=m9.reducer,{updateOptions:Tve}=m9.actions,Cve=null,Pve={updatePolarOptions:(t,e)=>e.payload},p9=ei({name:"polarOptions",initialState:Cve,reducers:Pve}),{updatePolarOptions:Ove}=p9.actions,Ive=p9.reducer,g9=Fi("keyDown"),v9=Fi("focus"),nN=Dm();nN.startListening({actionCreator:g9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=TS(i,nf(n),Wm(n),Ym(n)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var f=lo(n);if(s==="Enter"){var h=Ay(n,"axis","hover",String(i.index));e.dispatch(DE({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var p=ple(n),g=p==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,w=d+y*g;if(!(f==null||w>=f.length||w<0)){var j=Ay(n,"axis","hover",String(w));e.dispatch(DE({active:!0,activeIndex:w.toString(),activeCoordinate:j}))}}}}}});nN.startListening({actionCreator:v9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",c=Ay(n,"axis","hover",String(s));e.dispatch(DE({active:!0,activeIndex:s,activeCoordinate:c}))}}}});var Vi=Fi("externalEvent"),y9=Dm(),cw=new Map;y9.startListening({actionCreator:Vi,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=cw.get(i);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var d=e.getState(),f={activeCoordinate:dce(d),activeDataKey:RS(d),activeIndex:jl(d),activeLabel:nU(d),activeTooltipIndex:jl(d),isTooltipActive:fce(d)};n(f,r)}finally{cw.delete(i)}});cw.set(i,c)}}});var Rve=ee([ef],t=>t.tooltipItemPayloads),kve=ee([Rve,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(s=>s.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),b9=Fi("touchMove"),_9=Dm();_9.startListening({actionCreator:b9,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=NS(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var c=eN(r,tN({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));c?.activeIndex!=null&&e.dispatch(FV({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(i==="item"){var d,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(z6),g=(d=h.getAttribute(L6))!==null&&d!==void 0?d:void 0,y=tf(r).find(E=>E.id===g);if(p==null||y==null||g==null)return;var{dataKey:w}=y,j=kve(r,p,g);e.dispatch(BV({activeDataKey:w,activeIndex:p,activeCoordinate:j,activeGraphicalItemId:g}))}}}});var Dve=i6({brush:qhe,cartesianAxis:jhe,chartData:uue,errorBars:Dme,graphicalItems:Ife,layout:Vte,legend:Hne,options:aue,polarAxis:Kde,polarOptions:Ive,referenceElements:Hhe,rootProps:Nve,tooltip:Sle,zIndex:Gce}),Mve=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return ute({reducer:Dve,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([f9.middleware,h9.middleware,nN.middleware,y9.middleware,_9.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(b6({type:"raf"}))},devTools:{serialize:{replacer:Sve},name:"recharts-".concat(n)}})};function x9(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=nr(),s=_.useRef(null);if(i)return n;s.current==null&&(s.current=Mve(e,r));var c=mA;return _.createElement(cpe,{context:c,store:s.current},n)}function zve(t){var{layout:e,margin:n}=t,r=Ht(),i=nr();return _.useEffect(()=>{i||(r(Mte(e)),r(Dte(n)))},[r,i,e,n]),null}var w9=_.memo(zve,Zm);function E9(t){var e=Ht();return _.useEffect(()=>{e(Tve(t))},[e,t]),null}function LM(t){var{zIndex:e,isPanorama:n}=t,r=_.useRef(null),i=Ht();return _.useLayoutEffect(()=>(r.current&&i(Hce({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Kce({zIndex:e,isPanorama:n}))}),[i,e,n]),_.createElement("g",{tabIndex:-1,ref:r})}function VM(t){var{children:e,isPanorama:n}=t,r=Oe(Dce);if(!r||r.length===0)return e;var i=r.filter(c=>c<0),s=r.filter(c=>c>0);return _.createElement(_.Fragment,null,i.map(c=>_.createElement(LM,{key:c,zIndex:c,isPanorama:n})),e,s.map(c=>_.createElement(LM,{key:c,zIndex:c,isPanorama:n})))}var Lve=["children"];function Vve(t,e){if(t==null)return{};var n,r,i=Uve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Uve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ky.apply(null,arguments)}var qve={width:"100%",height:"100%",display:"block"},Bve=_.forwardRef((t,e)=>{var n=jA(),r=AA(),i=e5();if(!Za(n)||!Za(r))return null;var{children:s,otherAttributes:c,title:d,desc:f}=t,h,p;return c!=null&&(typeof c.tabIndex=="number"?h=c.tabIndex:h=i?0:void 0,typeof c.role=="string"?p=c.role:p=i?"application":void 0),_.createElement(rA,ky({},c,{title:d,desc:f,role:p,tabIndex:h,width:n,height:r,style:qve,ref:e}),s)}),$ve=t=>{var{children:e}=t,n=Oe(S0);if(!n)return null;var{width:r,height:i,y:s,x:c}=n;return _.createElement(rA,{width:r,height:i,x:c,y:s},e)},UM=_.forwardRef((t,e)=>{var{children:n}=t,r=Vve(t,Lve),i=nr();return i?_.createElement($ve,null,_.createElement(VM,{isPanorama:!0},n)):_.createElement(Bve,ky({ref:e},r),_.createElement(VM,{isPanorama:!1},n))});function Fve(){var t=Ht(),[e,n]=_.useState(null),r=Oe(tne);return _.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;tt(s)&&s!==r&&t(Lte(s))}},[e,t,r]),n}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){Kve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kve(t,e,n){return(e=Gve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gve(t){var e=Wve(t,"string");return typeof e=="symbol"?e:e+""}function Wve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hl(){return hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hl.apply(null,arguments)}var Qve=()=>(bue(),null);function Dy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Yve=_.forwardRef((t,e)=>{var n,r,i=_.useRef(null),[s,c]=_.useState({containerWidth:Dy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Dy((r=t.style)===null||r===void 0?void 0:r.height)}),d=_.useCallback((h,p)=>{c(g=>{var y=Math.round(h),w=Math.round(p);return g.containerWidth===y&&g.containerHeight===w?g:{containerWidth:y,containerHeight:w}})},[]),f=_.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();d(p,g);var y=j=>{var E=j[0];if(E!=null){var{width:A,height:T}=E.contentRect;d(A,T)}},w=new ResizeObserver(y);w.observe(h),i.current=w}},[e,d]);return _.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[d]),_.createElement(_.Fragment,null,_.createElement(zm,{width:s.containerWidth,height:s.containerHeight}),_.createElement("div",hl({ref:f},t)))}),Xve=_.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=_.useState({containerWidth:Dy(n),containerHeight:Dy(r)}),c=_.useCallback((f,h)=>{s(p=>{var g=Math.round(f),y=Math.round(h);return p.containerWidth===g&&p.containerHeight===y?p:{containerWidth:g,containerHeight:y}})},[]),d=_.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();c(h,p)}},[e,c]);return _.createElement(_.Fragment,null,_.createElement(zm,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",hl({ref:d},t)))}),Zve=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return _.createElement(_.Fragment,null,_.createElement(zm,{width:n,height:r}),_.createElement("div",hl({ref:e},t)))}),Jve=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?_.createElement(Xve,hl({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?_.createElement(Zve,hl({},t,{width:n,height:r,ref:e})):_.createElement(_.Fragment,null,_.createElement(zm,{width:n,height:r}),_.createElement("div",hl({ref:e},t)))});function eye(t){return t?Yve:Jve}var tye=_.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:y,onTouchEnd:w,onTouchMove:j,onTouchStart:E,style:A,width:T,responsive:k,dispatchTouchEvents:I=!0}=t,R=_.useRef(null),z=Ht(),[M,O]=_.useState(null),[P,D]=_.useState(null),B=Fve(),U=wA(),L=U?.width>0?U.width:T,q=U?.height>0?U.height:i,pe=_.useCallback(se=>{B(se),typeof e=="function"&&e(se),O(se),D(se),se!=null&&(R.current=se)},[B,e,O,D]),Ee=_.useCallback(se=>{z(d9(se)),z(Vi({handler:s,reactEvent:se}))},[z,s]),F=_.useCallback(se=>{z(WE(se)),z(Vi({handler:h,reactEvent:se}))},[z,h]),J=_.useCallback(se=>{z($V()),z(Vi({handler:p,reactEvent:se}))},[z,p]),fe=_.useCallback(se=>{z(WE(se)),z(Vi({handler:g,reactEvent:se}))},[z,g]),we=_.useCallback(()=>{z(v9())},[z]),_e=_.useCallback(se=>{z(g9(se.key))},[z]),H=_.useCallback(se=>{z(Vi({handler:c,reactEvent:se}))},[z,c]),ie=_.useCallback(se=>{z(Vi({handler:d,reactEvent:se}))},[z,d]),ve=_.useCallback(se=>{z(Vi({handler:f,reactEvent:se}))},[z,f]),xe=_.useCallback(se=>{z(Vi({handler:y,reactEvent:se}))},[z,y]),Y=_.useCallback(se=>{z(Vi({handler:E,reactEvent:se}))},[z,E]),W=_.useCallback(se=>{I&&z(b9(se)),z(Vi({handler:j,reactEvent:se}))},[z,I,j]),be=_.useCallback(se=>{z(Vi({handler:w,reactEvent:se}))},[z,w]),Le=eye(k);return _.createElement(uU.Provider,{value:M},_.createElement(x3.Provider,{value:P},_.createElement(Le,{width:L??A?.width,height:q??A?.height,className:vt("recharts-wrapper",r),style:Hve({position:"relative",cursor:"default",width:L,height:q},A),onClick:Ee,onContextMenu:H,onDoubleClick:ie,onFocus:we,onKeyDown:_e,onMouseDown:ve,onMouseEnter:F,onMouseLeave:J,onMouseMove:fe,onMouseUp:xe,onTouchEnd:be,onTouchMove:W,onTouchStart:Y,ref:pe},_.createElement(Qve,null),n)))}),nye=["width","height","responsive","children","className","style","compact","title","desc"];function rye(t,e){if(t==null)return{};var n,r,i=iye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var j9=_.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:c,style:d,compact:f,title:h,desc:p}=t,g=rye(t,nye),y=Rr(g);return f?_.createElement(_.Fragment,null,_.createElement(zm,{width:n,height:r}),_.createElement(UM,{otherAttributes:y,title:h,desc:p},s)):_.createElement(tye,{className:c,style:d,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},_.createElement(UM,{otherAttributes:y,title:h,desc:p,ref:e},_.createElement(Ghe,null,s)))});function QE(){return QE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QE.apply(null,arguments)}var aye={top:5,right:5,bottom:5,left:5},sye={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:aye,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},rN=_.forwardRef(function(e,n){var r,i=pn(e.categoricalChartProps,sye),{chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return _.createElement(x9,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},_.createElement(zU,{chartData:h.data}),_.createElement(w9,{layout:i.layout,margin:i.margin}),_.createElement(E9,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(j9,QE({},i,{ref:n})))}),oye=["axis"],lye=_.forwardRef((t,e)=>_.createElement(rN,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:oye,tooltipPayloadSearcher:Y0,categoricalChartProps:t,ref:e})),cye=["axis","item"],hv=_.forwardRef((t,e)=>_.createElement(rN,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:cye,tooltipPayloadSearcher:Y0,categoricalChartProps:t,ref:e}));function uye(t){var e=Ht();return _.useEffect(()=>{e(Ove(t))},[e,t]),null}var dye=["layout"];function YE(){return YE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YE.apply(null,arguments)}function fye(t,e){if(t==null)return{};var n,r,i=hye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mye={top:5,right:5,bottom:5,left:5},A9={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:mye,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},pye=_.forwardRef(function(e,n){var r,i=pn(e.categoricalChartProps,A9),{layout:s}=i,c=fye(i,dye),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return _.createElement(x9,{preloadedState:{options:g},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:d},_.createElement(zU,{chartData:i.data}),_.createElement(w9,{layout:s,margin:i.margin}),_.createElement(E9,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(uye,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),_.createElement(j9,YE({},c,{ref:n})))});function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $M(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){gye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gye(t,e,n){return(e=vye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vye(t){var e=yye(t,"string");return typeof e=="symbol"?e:e+""}function yye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bye=["item"],_ye=$M($M({},A9),{},{layout:"centric",startAngle:0,endAngle:360}),xye=_.forwardRef((t,e)=>{var n=pn(t,_ye);return _.createElement(pye,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:bye,tooltipPayloadSearcher:Y0,categoricalChartProps:n,ref:e})}),wye=["axis"],Eye=_.forwardRef((t,e)=>_.createElement(rN,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:wye,tooltipPayloadSearcher:Y0,categoricalChartProps:t,ref:e}));const jye=()=>{const t=Zs(),{currentUser:e}=wi(),[n,r]=_.useState(null),[i,s]=_.useState([]),[c,d]=_.useState([]),[f,h]=_.useState([]),[p,g]=_.useState([]),[y,w]=_.useState([]),[j,E]=_.useState(!0),[A,T]=_.useState("overview");if(_.useEffect(()=>{(async()=>{if(e){E(!0);try{const[M,O,P,D,B]=await Promise.all([xZ(e.uid),wZ(e.uid),EZ(e.uid,20),c0(e.uid,10),h3().catch(()=>[])]);r(M),s(O),d(P),h(D),g(B);const U=jZ(M,O);w(U)}catch(M){console.error("Erreur chargement dashboard :",M)}finally{E(!1)}}})()},[e]),j)return l.jsxs("div",{className:"sd-loading",children:[l.jsx("div",{className:"admin-spinner"}),l.jsx("p",{children:"Chargement de votre tableau de bord..."})]});const k=y.filter(z=>z.obtenu),I=y.length,R=e?.displayName||e?.email?.split("@")[0]||"lve";return l.jsxs("div",{className:"student-dashboard",children:[l.jsxs("div",{className:"sd-welcome",children:[l.jsxs("div",{className:"sd-welcome-text",children:[l.jsxs("h1",{children:["Bienvenue, ",R," "]}),l.jsx("p",{children:n&&n.totalQuizPasses>0?`Vous avez pass ${n.totalQuizPasses} quiz${n.totalQuizPasses>1,""} avec une moyenne de ${n.moyenneGenerale}%. Continuez !`:"Commencez par passer votre premier quiz pour suivre votre progression !"})]}),e?.isPremium&&l.jsxs("span",{className:"sd-premium-badge",children:[l.jsx(vi,{size:14})," Premium"]})]}),l.jsxs("div",{className:"sd-stats-grid",children:[l.jsxs("div",{className:"sd-stat-card",children:[l.jsx("div",{className:"sd-stat-icon",style:{background:"#eff6ff",color:"#3b82f6"},children:l.jsx(Pr,{size:22})}),l.jsxs("div",{className:"sd-stat-content",children:[l.jsx("span",{className:"sd-stat-value",children:n?.totalQuizPasses||0}),l.jsx("span",{className:"sd-stat-label",children:"Quiz passs"})]})]}),l.jsxs("div",{className:"sd-stat-card",children:[l.jsx("div",{className:"sd-stat-icon",style:{background:"#f0fdf4",color:"#10b981"},children:l.jsx(ud,{size:22})}),l.jsxs("div",{className:"sd-stat-content",children:[l.jsxs("span",{className:"sd-stat-value",style:{color:sd(n?.moyenneGenerale||0)},children:[n?.moyenneGenerale||0,"%"]}),l.jsx("span",{className:"sd-stat-label",children:"Moyenne gnrale"})]})]}),l.jsxs("div",{className:"sd-stat-card",children:[l.jsx("div",{className:"sd-stat-icon",style:{background:"#fefce8",color:"#f59e0b"},children:l.jsx(c3,{size:22})}),l.jsxs("div",{className:"sd-stat-content",children:[l.jsxs("span",{className:"sd-stat-value",children:[n?.meilleurScore||0,"%"]}),l.jsx("span",{className:"sd-stat-label",children:"Meilleur score"})]})]}),l.jsxs("div",{className:"sd-stat-card",children:[l.jsx("div",{className:"sd-stat-icon",style:{background:"#fef2f2",color:"#ef4444"},children:l.jsx(u3,{size:22})}),l.jsxs("div",{className:"sd-stat-content",children:[l.jsx("span",{className:"sd-stat-value",children:n?.serieReussites||0}),l.jsx("span",{className:"sd-stat-label",children:"Srie en cours "})]})]})]}),l.jsxs("div",{className:"sd-tabs",children:[l.jsxs("button",{className:`sd-tab ${A==="overview"?"active":""}`,onClick:()=>T("overview"),children:[l.jsx(Ns,{size:16})," Vue d'ensemble"]}),l.jsxs("button",{className:`sd-tab ${A==="history"?"active":""}`,onClick:()=>T("history"),children:[l.jsx(jx,{size:16})," Historique"]}),l.jsxs("button",{className:`sd-tab ${A==="badges"?"active":""}`,onClick:()=>T("badges"),children:[l.jsx(Wa,{size:16})," Badges (",k.length,"/",I,")"]})]}),A==="overview"&&l.jsxs("div",{className:"sd-overview",children:[c.length>1&&l.jsxs("div",{className:"sd-chart-card",children:[l.jsxs("h3",{className:"sd-section-title",children:[l.jsx(Xh,{size:18})," volution de vos scores"]}),l.jsx("div",{className:"sd-chart-container",children:l.jsx(bc,{width:"100%",height:280,children:l.jsxs(lye,{data:c,children:[l.jsx(Nc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),l.jsx(Tc,{dataKey:"date",tick:{fontSize:12,fill:"#6b7280"},tickLine:!1}),l.jsx(Cc,{domain:[0,100],tick:{fontSize:12,fill:"#6b7280"},tickLine:!1,unit:"%"}),l.jsx(_c,{formatter:z=>[`${z}%`,"Score"],labelFormatter:z=>`Date : ${z}`,contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb",boxShadow:"0 4px 6px rgba(0,0,0,0.07)"}}),l.jsx(XU,{type:"monotone",dataKey:"score",stroke:"#3b82f6",strokeWidth:2.5,dot:{r:4,fill:"#3b82f6",stroke:"#fff",strokeWidth:2},activeDot:{r:6}})]})})})]}),i.length>0&&l.jsxs("div",{className:"sd-chart-card",children:[l.jsxs("h3",{className:"sd-section-title",children:[l.jsx(Ns,{size:18})," Progression par discipline"]}),l.jsx("div",{className:"sd-chart-container",children:l.jsx(bc,{width:"100%",height:280,children:l.jsxs(hv,{data:i,layout:"vertical",children:[l.jsx(Nc,{strokeDasharray:"3 3",stroke:"#e5e7eb",horizontal:!1}),l.jsx(Tc,{type:"number",domain:[0,100],tick:{fontSize:12,fill:"#6b7280"},unit:"%"}),l.jsx(Cc,{type:"category",dataKey:"disciplineNom",width:120,tick:{fontSize:12,fill:"#374151"}}),l.jsx(_c,{formatter:z=>[`${z}%`,"Moyenne"],contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb",boxShadow:"0 4px 6px rgba(0,0,0,0.07)"}}),l.jsx(xc,{dataKey:"moyenne",radius:[0,6,6,0],barSize:24,children:i.map((z,M)=>l.jsx(fl,{fill:sd(z.moyenne)},M))})]})})}),l.jsx("div",{className:"sd-disc-list",children:i.map(z=>l.jsxs("div",{className:"sd-disc-card",children:[l.jsxs("div",{className:"sd-disc-header",children:[l.jsx("span",{className:"sd-disc-name",children:z.disciplineNom}),l.jsxs("span",{className:"sd-disc-tendance",children:[z.tendance==="up"&&l.jsx(Xh,{size:16,className:"tendance-up"}),z.tendance==="down"&&l.jsx(Gw,{size:16,className:"tendance-down"}),z.tendance==="stable"&&l.jsx(Hw,{size:16,className:"tendance-stable"})]})]}),l.jsxs("div",{className:"sd-disc-stats",children:[l.jsxs("div",{className:"sd-disc-stat",children:[l.jsxs("span",{className:"sd-disc-stat-value",style:{color:sd(z.moyenne)},children:[z.moyenne,"%"]}),l.jsx("span",{className:"sd-disc-stat-label",children:"Moyenne"})]}),l.jsxs("div",{className:"sd-disc-stat",children:[l.jsx("span",{className:"sd-disc-stat-value",children:z.nombreQuiz}),l.jsx("span",{className:"sd-disc-stat-label",children:"Quiz"})]}),l.jsxs("div",{className:"sd-disc-stat",children:[l.jsxs("span",{className:"sd-disc-stat-value",children:[z.meilleurScore,"%"]}),l.jsx("span",{className:"sd-disc-stat-label",children:"Meilleur"})]}),l.jsxs("div",{className:"sd-disc-stat",children:[l.jsxs("span",{className:"sd-disc-stat-value",children:[z.quizReussis,"/",z.nombreQuiz]}),l.jsx("span",{className:"sd-disc-stat-label",children:"Russis"})]})]}),l.jsx("div",{className:"sd-disc-bar",children:l.jsx("div",{className:"sd-disc-bar-fill",style:{width:`${z.moyenne}%`,background:sd(z.moyenne)}})})]},z.disciplineId))})]}),p.length>0&&l.jsxs("div",{className:"sd-chart-card",children:[l.jsxs("h3",{className:"sd-section-title",children:[l.jsx(Mh,{size:18})," Quiz disponibles"]}),l.jsx("div",{className:"sd-quiz-grid",children:p.slice(0,6).map(z=>{const M=z.isPremium&&!e?.isPremium;return l.jsxs("div",{className:`sd-quiz-card ${M?"locked":""}`,onClick:()=>!M&&t(`/quiz/${z.id}`),children:[z.isPremium&&l.jsxs("span",{className:"sd-quiz-badge-premium",children:[M?l.jsx(Fw,{size:10}):l.jsx(vi,{size:10})," Premium"]}),l.jsx("h4",{className:"sd-quiz-title",children:z.titre}),l.jsxs("div",{className:"sd-quiz-meta",children:[l.jsxs("span",{children:[l.jsx(Pr,{size:12})," ",z.questions.length," questions"]}),l.jsxs("span",{children:[l.jsx(wl,{size:12})," ",z.duree," min"]})]}),!M&&l.jsxs("button",{className:"sd-quiz-play-btn",children:[l.jsx(Mh,{size:14})," Commencer"]}),M&&l.jsxs("button",{className:"sd-quiz-unlock-btn",onClick:O=>{O.stopPropagation(),t("/premium")},children:[l.jsx(Fw,{size:14})," Dbloquer"]})]},z.id)})})]}),n&&n.totalQuizPasses===0&&l.jsxs("div",{className:"sd-empty-state",children:[l.jsx(ud,{size:48}),l.jsx("h3",{children:"Commencez votre parcours !"}),l.jsx("p",{children:"Passez votre premier quiz pour voir votre progression ici."}),p.length>0&&l.jsxs("button",{className:"sd-btn sd-btn-primary",onClick:()=>t(`/quiz/${p[0].id}`),children:[l.jsx(Mh,{size:18})," Passer un quiz"]})]})]}),A==="history"&&l.jsx("div",{className:"sd-history",children:f.length===0?l.jsxs("div",{className:"sd-empty-state",children:[l.jsx(jx,{size:48}),l.jsx("h3",{children:"Aucun quiz pass"}),l.jsx("p",{children:"Votre historique apparatra ici aprs avoir pass des quiz."})]}):l.jsx("div",{className:"sd-history-list",children:f.map(z=>{const M=z.datePassage?.toDate?z.datePassage.toDate():new Date(z.datePassage);return l.jsxs("div",{className:`sd-history-item ${z.reussi?"success":"fail"}`,children:[l.jsx("div",{className:`sd-history-icon ${z.reussi?"success":"fail"}`,children:z.reussi?l.jsx(_n,{size:20}):l.jsx(Bw,{size:20})}),l.jsxs("div",{className:"sd-history-content",children:[l.jsxs("div",{className:"sd-history-top",children:[l.jsx("span",{className:"sd-history-title",children:z.quizTitre}),l.jsx("span",{className:"sd-history-discipline",children:z.disciplineNom})]}),l.jsxs("div",{className:"sd-history-meta",children:[l.jsxs("span",{children:[l.jsx(jx,{size:12}),M.toLocaleDateString("fr-SN",{day:"2-digit",month:"long",year:"numeric"})]}),l.jsxs("span",{children:[l.jsx(wl,{size:12})," ",g3(z.tempsEcoule)]}),l.jsxs("span",{children:[l.jsx(_n,{size:12})," ",z.bonnesReponses,"/",z.nombreQuestions]})]})]}),l.jsxs("div",{className:"sd-history-score",style:{color:sd(z.pourcentage)},children:[l.jsxs("span",{className:"sd-history-score-value",children:[z.pourcentage,"%"]}),l.jsx("span",{className:"sd-history-score-label",children:v3(z.pourcentage)})]})]},z.id)})})}),A==="badges"&&l.jsxs("div",{className:"sd-badges",children:[l.jsxs("div",{className:"sd-badges-summary",children:[l.jsxs("div",{className:"sd-badges-circle",children:[l.jsx("span",{className:"sd-badges-count",children:k.length}),l.jsxs("span",{className:"sd-badges-total",children:["/ ",I]})]}),l.jsx("p",{children:"badges obtenus"}),l.jsx("div",{className:"sd-badges-progress",children:l.jsx("div",{className:"sd-badges-progress-fill",style:{width:`${k.length/I*100}%`}})})]}),l.jsx("div",{className:"sd-badges-grid",children:y.map(z=>l.jsxs("div",{className:`sd-badge-card ${z.obtenu?"obtained":"locked"}`,children:[l.jsx("span",{className:"sd-badge-icon",children:z.icone}),l.jsx("h4",{className:"sd-badge-name",children:z.nom}),l.jsx("p",{className:"sd-badge-description",children:z.description}),l.jsx("span",{className:"sd-badge-condition",children:z.condition}),z.obtenu&&l.jsx("span",{className:"sd-badge-obtained-tag",children:" Obtenu"})]},z.id))})]})]})},Aye=8,Sye=12,Nye=14,Tye=1;function iN(t){return t instanceof it?t.toDate():t instanceof Date?t:t?.seconds?new Date(t.seconds*1e3):new Date(t)}function FM(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}function sb(){const t=new Date,e=t.getDay(),n=e===0?-6:1-e,r=new Date(t);return r.setDate(t.getDate()+n),r.setHours(0,0,0,0),r}function Cye(){const t=sb(),e=new Date(t);return e.setDate(t.getDate()+6),e.setHours(23,59,59,999),e}function uw(t,e){return Math.floor(Math.abs(e.getTime()-t.getTime())/864e5)}async function aN(t){try{const e=Zr(hr(Ge,"quiz_results"),hi("userId","==",t),ha("datePassage","desc"));return(await Jr(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Erreur rcupration rsultats lve:",e),[]}}async function Pye(t){try{const e=await aN(t);if(e.length===0)return[];const n=new Map;e.forEach(s=>{const c=s.disciplineId;n.has(c)||n.set(c,[]),n.get(c).push(s)});const r=[];n.forEach((s,c)=>{if(s.length<Tye)return;const d=s.map(A=>A.pourcentage/100*20),f=d.reduce((A,T)=>A+T,0)/d.length;if(f>=Nye)return;let h="stable";if(d.length>=3){const A=d.slice(0,2),T=d.slice(2,4),k=A.reduce((z,M)=>z+M,0)/A.length,I=T.reduce((z,M)=>z+M,0)/T.length,R=k-I;R>1.5?h="hausse":R<-1.5&&(h="baisse")}let p="modere";f<Aye?p="critique":f<Sye&&(p="important");const g=d[0],y=Math.max(...d),w=Math.min(...d),j=iN(s[0].datePassage),E=s[0].disciplineNom||"Discipline inconnue";r.push({id:`lacune_${c}`,disciplineId:c,disciplineNom:E,moyenne:Math.round(f*10)/10,nombreQuiz:s.length,tendance:h,niveauUrgence:p,dernierQuizDate:j,scoreDetails:{dernierScore:Math.round(g*10)/10,meilleurScore:Math.round(y*10)/10,pireScore:Math.round(w*10)/10}})});const i={critique:0,important:1,modere:2};return r.sort((s,c)=>{const d=i[s.niveauUrgence]-i[c.niveauUrgence];return d!==0?d:s.moyenne-c.moyenne}),r}catch(e){return console.error("Erreur dtection lacunes:",e),[]}}function Oye(t){const e=[];let n=1;return t.forEach(r=>{const{id:i,disciplineNom:s,niveauUrgence:c,moyenne:d,tendance:f}=r;switch(c){case"critique":e.push({id:`reco_cours_${i}`,lacuneId:i,type:"revoir_cours",titre:` Revoir les cours de ${s}`,description:`Ta moyenne est de ${d}/20 en ${s}. Il est important de reprendre les bases. Consulte les cours disponibles et prends des notes.`,disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date}),e.push({id:`reco_quiz_${i}`,lacuneId:i,type:"refaire_quiz",titre:` Refaire les quiz de ${s}`,description:"Aprs avoir rvis, refais les quiz pour vrifier ta comprhension. Vise au moins 12/20 !",disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date});break;case"important":e.push({id:`reco_exercice_${i}`,lacuneId:i,type:"exercice_cible",titre:` Exercices cibls en ${s}`,description:`Avec ${d}/20 de moyenne, concentre-toi sur les exercices pratiques. ${f==="hausse"?"Tu progresses, continue !":"Un effort supplmentaire est ncessaire."}`,disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date}),e.push({id:`reco_cours2_${i}`,lacuneId:i,type:"revoir_cours",titre:` Rviser les points cls en ${s}`,description:"Identifie les concepts qui te posent problme et revois-les attentivement.",disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date});break;case"modere":e.push({id:`reco_consolider_${i}`,lacuneId:i,type:"refaire_quiz",titre:` Consolider tes acquis en ${s}`,description:`Tu es proche du niveau attendu (${d}/20). Un quiz supplmentaire devrait suffire pour atteindre 14/20 !`,disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date});break}}),e}async function Iye(t){try{const e=await aN(t);if(e.length===0)return{userId:t,streakActuel:0,meilleurStreak:0,dernierJourActif:null,totalJoursActifs:0,semaineCourante:[!1,!1,!1,!1,!1,!1,!1],historiqueHebdo:[]};const n=new Set;e.forEach(E=>{const A=iN(E.datePassage),T=`${A.getFullYear()}-${A.getMonth()}-${A.getDate()}`;n.add(T)});const r=Array.from(n).map(E=>{const[A,T,k]=E.split("-").map(Number);return new Date(A,T,k)}).sort((E,A)=>A.getTime()-E.getTime()),i=r.length,s=r[0];let c=0;const d=new Date;d.setHours(0,0,0,0);const f=r[0];if(uw(f,d)<=1){c=1;for(let E=1;E<r.length&&uw(r[E],r[E-1])===1;E++)c++}let p=0,g=1;for(let E=1;E<r.length;E++)uw(r[E],r[E-1])===1?g++:(p=Math.max(p,g),g=1);p=Math.max(p,g,c);const y=sb(),w=[];for(let E=0;E<7;E++){const A=new Date(y);A.setDate(y.getDate()+E);const T=r.some(k=>FM(k,A));w.push(T)}const j=[];for(let E=0;E<4;E++){const A=new Date(y);A.setDate(y.getDate()-E*7);let T=0;for(let I=0;I<7;I++){const R=new Date(A);R.setDate(A.getDate()+I),r.some(z=>FM(z,R))&&T++}const k=Math.ceil((A.getDate()+new Date(A.getFullYear(),A.getMonth(),1).getDay())/7);j.push({semaine:E===0?"Cette sem.":`Sem. -${E}`,joursActifs:T})}return{userId:t,streakActuel:c,meilleurStreak:p,dernierJourActif:s,totalJoursActifs:i,semaineCourante:w,historiqueHebdo:j.reverse()}}catch(e){return console.error("Erreur calcul streak:",e),{userId:t,streakActuel:0,meilleurStreak:0,dernierJourActif:null,totalJoursActifs:0,semaineCourante:[!1,!1,!1,!1,!1,!1,!1],historiqueHebdo:[]}}}function Rye(t,e,n){const r=[],i=sb(),s=Cye(),c=e.length>2?5:3;if(r.push({id:`obj_quiz_${t}_${i.getTime()}`,userId:t,titre:`Passer ${c} quiz cette semaine`,description:`Entrane-toi en passant au moins ${c} quiz pour progresser dans tes matires.`,type:"quiz_count",cible:c,progression:0,statut:"en_cours",dateDebut:i,dateFin:s,recompense:' Badge "Travailleur"'}),e.length>0){const f=e[0],h=Math.min(f.moyenne+3,14);r.push({id:`obj_score_${t}_${i.getTime()}`,userId:t,titre:`Atteindre ${Math.round(h)}/20 en ${f.disciplineNom}`,description:`Ta moyenne actuelle est de ${f.moyenne}/20. Vise ${Math.round(h)}/20 lors de ton prochain quiz !`,type:"score_min",cible:Math.round(h),progression:Math.round(f.moyenne),statut:"en_cours",disciplineId:f.disciplineId,disciplineNom:f.disciplineNom,dateDebut:i,dateFin:s,recompense:' Badge "En progrs"'})}const d=n.streakActuel>=5?7:n.streakActuel+2;return r.push({id:`obj_streak_${t}_${i.getTime()}`,userId:t,titre:`Maintenir un streak de ${d} jours`,description:`Tu es actuellement  ${n.streakActuel} jour(s) conscutif(s). Continue !`,type:"streak",cible:d,progression:n.streakActuel,statut:n.streakActuel>=d?"atteint":"en_cours",dateDebut:i,dateFin:s,recompense:' Badge "Flamme"'}),r}function kye(t,e,n,r){let i=0;if(r.length>0){const g=r.reduce((y,w)=>y+w.pourcentage/100*20,0)/r.length;i=Math.min(g/20*100,100)}let s=100;const c=t.filter(g=>g.niveauUrgence==="critique").length,d=t.filter(g=>g.niveauUrgence==="important").length;s-=c*25,s-=d*15,s=Math.max(s,0);const f=Math.min(e.streakActuel/7*100,100);let h=0;n.length>0&&(h=n.filter(y=>y.statut==="atteint").length/n.length*100);const p=i*.4+s*.25+f*.2+h*.15;return Math.round(Math.min(Math.max(p,0),100))}function Dye(t,e,n){const r=sb(),i=e.filter(s=>iN(s.datePassage)>=r);return t.map(s=>{const c={...s};switch(s.type){case"quiz_count":c.progression=i.length;break;case"score_min":if(s.disciplineId){const d=i.filter(f=>f.disciplineId===s.disciplineId);if(d.length>0){const f=Math.max(...d.map(h=>h.pourcentage));c.progression=Math.round(f/100*20)}}break;case"streak":c.progression=n.streakActuel;break}return c.progression>=c.cible&&(c.statut="atteint"),c})}async function Mye(t){try{const e=await Pye(t),n=Oye(e),r=await Iye(t);let i=Rye(t,e,r);const s=await aN(t);i=Dye(i,s,r);const c=kye(e,r,i,s);return{lacunes:e,recommandations:n,streak:r,objectifs:i,scoreGlobal:c}}catch(e){return console.error("Erreur suivi complet:",e),{lacunes:[],recommandations:[],streak:{userId:t,streakActuel:0,meilleurStreak:0,dernierJourActif:null,totalJoursActifs:0,semaineCourante:[!1,!1,!1,!1,!1,!1,!1],historiqueHebdo:[]},objectifs:[],scoreGlobal:0}}}function zye(t){switch(t){case"critique":return"#ef4444";case"important":return"#f59e0b";case"modere":return"#eab308";case"info":return"#10b981";default:return"#6b7280"}}function Lye(t){switch(t){case"critique":return"Critique";case"important":return"Important";case"modere":return"Modr";case"info":return"Info";default:return"Inconnu"}}function Vye(t){switch(t){case"hausse":return"";case"baisse":return"";case"stable":return"";default:return""}}function Uye(t){return t>=80?"Excellent travail ! Continue comme a, tu es sur la bonne voie ! ":t>=60?"Bon travail ! Quelques efforts supplmentaires et tu seras au top ! ":t>=40?"Tu peux faire mieux ! Suis les recommandations pour progresser. ":t>=20?"Courage ! Chaque effort compte. Commence par les recommandations prioritaires. ":"C'est le moment de se lancer ! Passe ton premier quiz pour commencer. "}function qye(t){return t.cible===0?0:Math.min(Math.round(t.progression/t.cible*100),100)}const Bye=()=>{const{currentUser:t}=wi(),e=Zs(),[n,r]=_.useState(null),[i,s]=_.useState(!0),[c,d]=_.useState(null),f=["L","M","M","J","V","S","D"],h=_.useCallback(async()=>{if(t?.uid)try{s(!0),d(null);const I=await Mye(t.uid);r(I)}catch(I){console.error("Erreur chargement suivi:",I),d("Impossible de charger ton suivi. Vrifie ta connexion et ressaie.")}finally{s(!1)}},[t?.uid]);_.useEffect(()=>{h()},[h]);const p=(()=>{const I=new Date().getDay();return I===0?6:I-1})();if(i)return l.jsx("div",{className:"suivi-page",children:l.jsx("div",{className:"suivi-container",children:l.jsxs("div",{className:"suivi-loading",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{className:"suivi-loading-text",children:"Analyse de ta progression en cours..."})]})})});if(c)return l.jsx("div",{className:"suivi-page",children:l.jsx("div",{className:"suivi-container",children:l.jsxs("div",{className:"suivi-error",children:[l.jsx("p",{className:"suivi-error-title",children:" Erreur de chargement"}),l.jsx("p",{className:"suivi-error-text",children:c}),l.jsx("button",{className:"suivi-btn-retry",onClick:h,children:" Ressayer"})]})})});if(!n)return null;const{lacunes:g,recommandations:y,streak:w,objectifs:j,scoreGlobal:E}=n,A=2*Math.PI*40,T=A-E/100*A,k=E>=60?"#10b981":E>=30?"#f59e0b":"#ef4444";return l.jsx("div",{className:"suivi-page",children:l.jsxs("div",{className:"suivi-container",children:[l.jsx("div",{className:"suivi-header",children:l.jsxs("div",{className:"suivi-header-content",children:[l.jsxs("div",{children:[l.jsx("h1",{children:" Mes points  amliorer"}),l.jsx("p",{className:"suivi-motivation",children:Uye(E)})]}),l.jsxs("div",{className:"score-global-circle",children:[l.jsxs("svg",{className:"score-circle-svg",viewBox:"0 0 100 100",children:[l.jsx("circle",{className:"score-circle-bg",cx:"50",cy:"50",r:"40"}),l.jsx("circle",{className:"score-circle-progress",cx:"50",cy:"50",r:"40",stroke:k,strokeDasharray:A,strokeDashoffset:T}),l.jsx("text",{className:"score-circle-text",x:"50",y:"50",children:E})]}),l.jsx("span",{className:"score-global-label",children:"Score global"})]})]})}),l.jsxs("div",{className:"streak-card",children:[l.jsxs("div",{className:"streak-header",children:[l.jsx("span",{className:"streak-flamme",children:w.streakActuel>0?"":""}),l.jsxs("div",{children:[l.jsx("div",{className:"streak-nombre",children:w.streakActuel}),l.jsx("div",{className:"streak-label",children:w.streakActuel<=1?"jour conscutif":"jours conscutifs"})]})]}),l.jsx("div",{className:"streak-semaine",children:f.map((I,R)=>l.jsxs("div",{className:"streak-jour",children:[l.jsx("span",{className:"streak-jour-label",children:I}),l.jsx("div",{className:`streak-jour-indicateur ${w.semaineCourante[R]?"actif":"inactif"} ${R===p?"aujourd-hui":""}`,children:w.semaineCourante[R]?"":""})]},R))}),l.jsxs("div",{className:"streak-stats",children:[l.jsxs("div",{className:"streak-stat",children:[l.jsx("span",{className:"streak-stat-icon",children:""}),l.jsx("span",{className:"streak-stat-value",children:w.meilleurStreak}),l.jsx("span",{className:"streak-stat-label",children:"record"})]}),l.jsxs("div",{className:"streak-stat",children:[l.jsx("span",{className:"streak-stat-icon",children:""}),l.jsx("span",{className:"streak-stat-value",children:w.totalJoursActifs}),l.jsx("span",{className:"streak-stat-label",children:"jours actifs au total"})]}),w.dernierJourActif&&l.jsxs("div",{className:"streak-stat",children:[l.jsx("span",{className:"streak-stat-icon",children:""}),l.jsxs("span",{className:"streak-stat-label",children:["Dernier quiz : ",new Date(w.dernierJourActif).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})]})]})]})]}),l.jsxs("h2",{className:"suivi-section-title",children:[" Objectifs de la semaine",l.jsx("span",{className:"suivi-section-badge",children:j.length})]}),j.length>0?l.jsx("div",{className:"objectifs-grid",children:j.map(I=>{const R=qye(I);return l.jsxs("div",{className:`objectif-card ${I.statut==="atteint"?"atteint":""}`,children:[l.jsxs("div",{className:"objectif-header",children:[l.jsx("span",{className:"objectif-titre",children:I.titre}),I.recompense&&l.jsx("span",{className:"objectif-recompense",children:I.recompense})]}),l.jsx("p",{className:"objectif-description",children:I.description}),l.jsxs("div",{className:"objectif-progress",children:[l.jsxs("div",{className:"objectif-progress-labels",children:[l.jsxs("span",{className:"objectif-progress-value",children:[I.progression," / ",I.cible]}),l.jsxs("span",{className:"objectif-progress-cible",children:[R,"%"]})]}),l.jsx("div",{className:"objectif-progress-track",children:l.jsx("div",{className:`objectif-progress-fill ${I.statut==="atteint"?"atteint":""}`,style:{width:`${R}%`}})})]}),l.jsx("p",{className:`objectif-statut ${I.statut}`,children:I.statut==="atteint"?" Objectif atteint !":I.statut==="en_cours"?" En cours...":" Non commenc"})]},I.id)})}):l.jsxs("div",{className:"suivi-empty",children:[l.jsx("div",{className:"suivi-empty-icon",children:""}),l.jsx("p",{className:"suivi-empty-title",children:"Pas encore d'objectifs"}),l.jsx("p",{className:"suivi-empty-text",children:"Passe ton premier quiz pour dbloquer tes objectifs hebdomadaires !"})]}),l.jsxs("h2",{className:"suivi-section-title",children:[" Points faibles dtects",g.length>0&&l.jsx("span",{className:"suivi-section-badge",children:g.length})]}),g.length>0?l.jsx("div",{className:"lacunes-grid",children:g.map(I=>l.jsxs("div",{className:`lacune-card ${I.niveauUrgence}`,children:[l.jsxs("div",{className:"lacune-card-header",children:[l.jsx("span",{className:"lacune-discipline",children:I.disciplineNom}),l.jsx("span",{className:`lacune-badge ${I.niveauUrgence}`,children:Lye(I.niveauUrgence)})]}),l.jsxs("div",{className:"lacune-score-bar",children:[l.jsxs("div",{className:"lacune-score-labels",children:[l.jsxs("span",{className:"lacune-score-value",style:{color:zye(I.niveauUrgence)},children:[I.moyenne,"/20"]}),l.jsx("span",{className:"lacune-score-objectif",children:"Objectif : 14/20"})]}),l.jsx("div",{className:"lacune-progress-track",children:l.jsx("div",{className:`lacune-progress-fill ${I.niveauUrgence}`,style:{width:`${I.moyenne/20*100}%`}})})]}),l.jsxs("div",{className:"lacune-details",children:[l.jsxs("span",{className:"lacune-detail-tag",children:[Vye(I.tendance)," ",I.tendance]}),l.jsxs("span",{className:"lacune-detail-tag",children:[" ",I.nombreQuiz," quiz"]}),l.jsxs("span",{className:"lacune-detail-tag",children:["Dernier : ",I.scoreDetails.dernierScore,"/20"]})]})]},I.id))}):l.jsxs("div",{className:"suivi-empty",children:[l.jsx("div",{className:"suivi-empty-icon",children:""}),l.jsx("p",{className:"suivi-empty-title",children:"Aucune lacune dtecte !"}),l.jsx("p",{className:"suivi-empty-text",children:E>0?"Toutes tes moyennes sont au-dessus de 14/20. Bravo, continue !":"Passe des quiz pour que l'analyse puisse commencer."}),l.jsx("button",{className:"suivi-cta-btn",onClick:()=>e("/disciplines"),style:{marginTop:"1rem"},children:" Voir les disciplines"})]}),y.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("h2",{className:"suivi-section-title",children:[" Recommandations personnalises",l.jsx("span",{className:"suivi-section-badge",children:y.length})]}),l.jsx("div",{className:"recommandations-list",children:y.map(I=>l.jsxs("div",{className:"recommandation-card",children:[l.jsx("div",{className:"recommandation-priorite",children:I.priorite}),l.jsxs("div",{className:"recommandation-content",children:[l.jsx("p",{className:"recommandation-titre",children:I.titre}),l.jsx("p",{className:"recommandation-description",children:I.description}),l.jsx("span",{className:"recommandation-discipline-tag",children:I.disciplineNom})]})]},I.id))})]}),l.jsx("div",{style:{textAlign:"center",marginTop:"1rem",marginBottom:"2rem"},children:l.jsx("button",{className:"suivi-cta-btn",onClick:()=>e("/disciplines"),children:" Passer un quiz maintenant"})})]})})};function Ys(t){return t instanceof it?t.toDate():t instanceof Date?t:t?.seconds?new it(t.seconds,t.nanoseconds||0).toDate():new Date(t)}function yr(t){return t.toFixed(1)+"%"}function HM(t){const e=Math.floor(t/60),n=Math.round(t%60);return e===0?`${n}s`:`${e}min ${n}s`}function ia(t){return t>=80?"#10b981":t>=60?"#3b82f6":t>=40?"#f59e0b":"#ef4444"}function $ye(t){return t>=80?"Excellent":t>=60?"Bien":t>=40?"Passable":"En difficult"}function S9(t){if(t.length<4)return"stable";const e=[...t].sort((f,h)=>Ys(h.datePassage).getTime()-Ys(f.datePassage).getTime()),n=Math.floor(e.length/2),r=e.slice(0,n),i=e.slice(n),s=r.reduce((f,h)=>f+h.pourcentage,0)/r.length,c=i.reduce((f,h)=>f+h.pourcentage,0)/i.length,d=s-c;return d>5?"hausse":d<-5?"baisse":"stable"}async function Fye(){try{const t=hr(Ge,"quiz_results"),e=Zr(t,ha("datePassage","desc"));return(await Jr(e)).docs.map(r=>{const i=r.data();return{id:r.id,quizId:i.quizId||"",quizTitre:i.quizTitre||"Quiz sans titre",disciplineId:i.disciplineId||"",disciplineNom:i.disciplineNom||"Non dfinie",userId:i.userId||"",score:i.score||0,totalPoints:i.totalPoints||0,pourcentage:i.pourcentage||0,reponses:i.reponses||[],tempsEcoule:i.tempsEcoule||0,datePassage:Ys(i.datePassage),reussi:i.reussi||!1,nombreQuestions:i.nombreQuestions||0,bonnesReponses:i.bonnesReponses||0}})}catch(t){return console.error("Erreur rcupration quiz_results:",t),[]}}async function Hye(){try{const t=hr(Ge,"users"),e=Zr(t,hi("role","==","eleve"));return(await Jr(e)).docs.map(r=>{const i=r.data();return{uid:r.id,displayName:i.displayName||"lve sans nom",email:i.email||""}})}catch(t){return console.error("Erreur rcupration lves:",t),[]}}function Kye(t,e){if(t.length===0)return{totalEleves:e,totalQuizPasses:0,moyenneGenerale:0,tauxReussite:0,elevesEnDifficulte:0,quizAujourdHui:0,tendanceMoyenne:"stable"};const r=t.reduce((g,y)=>g+y.pourcentage,0)/t.length,s=t.filter(g=>g.reussi).length/t.length*100,c=new Map;t.forEach(g=>{const y=c.get(g.userId)||[];y.push(g.pourcentage),c.set(g.userId,y)});let d=0;c.forEach(g=>{g.reduce((w,j)=>w+j,0)/g.length<40&&d++});const f=new Date;f.setHours(0,0,0,0);const h=t.filter(g=>Ys(g.datePassage).getTime()>=f.getTime()).length,p=S9(t);return{totalEleves:e,totalQuizPasses:t.length,moyenneGenerale:r,tauxReussite:s,elevesEnDifficulte:d,quizAujourdHui:h,tendanceMoyenne:p}}function N9(t,e){const n=new Map;return t.forEach(r=>{const i=n.get(r.userId)||[];i.push(r),n.set(r.userId,i)}),e.map(r=>{const i=n.get(r.uid)||[];if(i.length===0)return{userId:r.uid,displayName:r.displayName,email:r.email,totalQuiz:0,moyenne:0,tauxReussite:0,dernierQuiz:null,enDifficulte:!1,progression:"stable",disciplinesActives:[]};const s=i.reduce((p,g)=>p+g.pourcentage,0)/i.length,d=i.filter(p=>p.reussi).length/i.length*100,f=i.reduce((p,g)=>{const y=Ys(g.datePassage);return y>p?y:p},new Date(0)),h=new Set(i.map(p=>p.disciplineNom));return{userId:r.uid,displayName:r.displayName,email:r.email,totalQuiz:i.length,moyenne:s,tauxReussite:d,dernierQuiz:f.getTime()>0?f:null,enDifficulte:s<40&&i.length>=2,progression:S9(i),disciplinesActives:Array.from(h)}})}function Gye(t){const e=new Map;t.forEach(r=>{const i=e.get(r.disciplineId)||[];i.push(r),e.set(r.disciplineId,i)});const n=[];return e.forEach((r,i)=>{const s=new Set(r.map(h=>h.userId)),c=r.reduce((h,p)=>h+p.pourcentage,0)/r.length,d=r.filter(h=>h.reussi).length,f=r.map(h=>h.pourcentage);n.push({disciplineId:i,disciplineNom:r[0]?.disciplineNom||"Non dfinie",totalQuiz:r.length,nombreEleves:s.size,moyenne:c,tauxReussite:d/r.length*100,meilleureNote:Math.max(...f),pireNote:Math.min(...f)})}),n.sort((r,i)=>i.totalQuiz-r.totalQuiz)}function Wye(t){const e=new Map;t.forEach(r=>{const i=e.get(r.quizId)||[];i.push(r),e.set(r.quizId,i)});const n=[];return e.forEach((r,i)=>{const s=r.reduce((g,y)=>g+y.pourcentage,0)/r.length,c=r.filter(g=>g.reussi).length,d=r.map(g=>g.pourcentage),f=r.reduce((g,y)=>g+y.tempsEcoule,0)/r.length,h=r.map(g=>Ys(g.datePassage)),p=h.length>0?h.reduce((g,y)=>g>y?g:y):null;n.push({quizId:i,quizTitre:r[0]?.quizTitre||"Quiz sans titre",disciplineNom:r[0]?.disciplineNom||"Non dfinie",totalPassages:r.length,moyenneScore:s,tauxReussite:c/r.length*100,tempsEcouleMoyen:f,meilleureNote:Math.max(...d),pireNote:Math.min(...d),dernierPassage:p})}),n.sort((r,i)=>i.totalPassages-r.totalPassages)}function Qye(t,e){return N9(t,e).filter(r=>r.enDifficulte).map(r=>{const i=t.filter(d=>d.userId===r.userId),s=new Map;i.forEach(d=>{const f=s.get(d.disciplineNom)||[];f.push(d.pourcentage),s.set(d.disciplineNom,f)});const c=[];return s.forEach((d,f)=>{d.reduce((p,g)=>p+g,0)/d.length<40&&c.push(f)}),{userId:r.userId,displayName:r.displayName,email:r.email,moyenne:r.moyenne,totalQuiz:r.totalQuiz,disciplinesFaibles:c,dernierQuiz:r.dernierQuiz}}).sort((r,i)=>r.moyenne-i.moyenne)}function Yye(t,e=30){const n=new Date,r=[];for(let i=e-1;i>=0;i--){const s=new Date(n);s.setDate(n.getDate()-i),s.setHours(0,0,0,0);const c=new Date(s);c.setHours(23,59,59,999);const d=t.filter(p=>{const g=Ys(p.datePassage);return g>=s&&g<=c}),f=d.length>0?d.reduce((p,g)=>p+g.pourcentage,0)/d.length:0,h=`${String(s.getDate()).padStart(2,"0")}/${String(s.getMonth()+1).padStart(2,"0")}`;r.push({date:h,moyenne:Math.round(f*10)/10,nombreQuiz:d.length})}return r}function Xye(t,e){return t.filter(n=>n.userId===e).sort((n,r)=>Ys(r.datePassage).getTime()-Ys(n.datePassage).getTime())}function Zye(t,e){const n=t.filter(s=>s.userId===e),r=new Map;n.forEach(s=>{const c=r.get(s.disciplineNom)||[];c.push(s.pourcentage),r.set(s.disciplineNom,c)});const i=[];return r.forEach((s,c)=>{i.push({discipline:c,moyenne:Math.round(s.reduce((d,f)=>d+f,0)/s.length*10)/10,nombreQuiz:s.length})}),i.sort((s,c)=>c.moyenne-s.moyenne)}const KM=["#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6","#ec4899"],Jye=()=>{const{currentUser:t}=wi(),[e,n]=_.useState("overview"),[r,i]=_.useState(!0),[s,c]=_.useState(null),[d,f]=_.useState([]),[h,p]=_.useState([]),[g,y]=_.useState(null),[w,j]=_.useState(""),[E,A]=_.useState("all");_.useEffect(()=>{T()},[]);const T=async()=>{try{i(!0),c(null);const[F,J]=await Promise.all([Fye(),Hye()]);f(F),p(J)}catch(F){console.error("Erreur chargement dashboard prof:",F),c("Impossible de charger les donnes. Veuillez ressayer.")}finally{i(!1)}},k=_.useMemo(()=>Kye(d,h.length),[d,h]),I=_.useMemo(()=>N9(d,h),[d,h]),R=_.useMemo(()=>Gye(d),[d]),z=_.useMemo(()=>Wye(d),[d]),M=_.useMemo(()=>Qye(d,h),[d,h]),O=_.useMemo(()=>Yye(d),[d]),P=_.useMemo(()=>{const F=new Set(d.map(J=>J.disciplineNom));return Array.from(F).sort()},[d]),D=_.useMemo(()=>{let F=[...I];if(w.trim()){const J=w.toLowerCase();F=F.filter(fe=>fe.displayName.toLowerCase().includes(J)||fe.email.toLowerCase().includes(J))}return E!=="all"&&(F=F.filter(J=>J.disciplinesActives.includes(E))),F},[I,w,E]);if(r)return l.jsxs("div",{className:"prof-loading",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Chargement du tableau de bord..."})]});if(s)return l.jsxs("div",{className:"prof-error",children:[l.jsx(oh,{size:48,color:"#ef4444"}),l.jsx("h2",{children:"Erreur de chargement"}),l.jsx("p",{children:s}),l.jsxs("button",{className:"prof-btn prof-btn-primary",onClick:T,children:[l.jsx(Kw,{size:16}),"Ressayer"]})]});return l.jsxs("div",{className:"prof-dashboard",children:[l.jsxs("header",{className:"prof-header",children:[l.jsxs("div",{className:"prof-header-left",children:[l.jsxs("h1",{className:"prof-title",children:[l.jsx(Mv,{size:28}),"Tableau de bord Professeur"]}),l.jsxs("p",{className:"prof-subtitle",children:["Bienvenue, ",t?.displayName||"Professeur",". Suivez la progression de vos lves."]})]}),l.jsx("div",{className:"prof-header-right",children:l.jsxs("button",{className:"prof-btn prof-btn-outline",onClick:T,title:"Rafrachir les donnes",children:[l.jsx(Kw,{size:16}),"Actualiser"]})})]}),l.jsxs("nav",{className:"prof-tabs",children:[l.jsxs("button",{className:`prof-tab ${e==="overview"?"prof-tab-active":""}`,onClick:()=>{n("overview"),y(null)},children:[l.jsx(Mv,{size:18}),l.jsx("span",{children:"Vue d'ensemble"})]}),l.jsxs("button",{className:`prof-tab ${e==="disciplines"?"prof-tab-active":""}`,onClick:()=>{n("disciplines"),y(null)},children:[l.jsx(Pr,{size:18}),l.jsx("span",{children:"Par discipline"})]}),l.jsxs("button",{className:`prof-tab ${e==="eleves"?"prof-tab-active":""}`,onClick:()=>{n("eleves"),y(null)},children:[l.jsx(il,{size:18}),l.jsx("span",{children:"Par lve"}),M.length>0&&l.jsx("span",{className:"prof-tab-badge",children:M.length})]}),l.jsxs("button",{className:`prof-tab ${e==="quiz"?"prof-tab-active":""}`,onClick:()=>{n("quiz"),y(null)},children:[l.jsx(sh,{size:18}),l.jsx("span",{children:"Par quiz"})]}),l.jsxs("button",{className:`prof-tab ${e==="alertes"?"prof-tab-active":""}`,onClick:()=>{n("alertes"),y(null)},children:[l.jsx(oh,{size:18}),l.jsx("span",{children:"Alertes"}),M.length>0&&l.jsx("span",{className:"prof-tab-badge prof-tab-badge-danger",children:M.length})]})]}),l.jsxs("main",{className:"prof-content",children:[e==="overview"&&B(),e==="disciplines"&&U(),e==="eleves"&&L(),e==="quiz"&&pe(),e==="alertes"&&Ee()]})]});function B(){return l.jsxs("div",{className:"prof-overview",children:[l.jsxs("div",{className:"prof-stats-grid",children:[l.jsxs("div",{className:"prof-stat-card",children:[l.jsx("div",{className:"prof-stat-icon prof-stat-icon-blue",children:l.jsx(il,{size:24})}),l.jsxs("div",{className:"prof-stat-info",children:[l.jsx("span",{className:"prof-stat-value",children:k.totalEleves}),l.jsx("span",{className:"prof-stat-label",children:"lves inscrits"})]})]}),l.jsxs("div",{className:"prof-stat-card",children:[l.jsx("div",{className:"prof-stat-icon prof-stat-icon-green",children:l.jsx(sh,{size:24})}),l.jsxs("div",{className:"prof-stat-info",children:[l.jsx("span",{className:"prof-stat-value",children:k.totalQuizPasses}),l.jsx("span",{className:"prof-stat-label",children:"Quiz passs"})]})]}),l.jsxs("div",{className:"prof-stat-card",children:[l.jsx("div",{className:"prof-stat-icon prof-stat-icon-purple",children:l.jsx(Wa,{size:24})}),l.jsxs("div",{className:"prof-stat-info",children:[l.jsx("span",{className:"prof-stat-value",style:{color:ia(k.moyenneGenerale)},children:yr(k.moyenneGenerale)}),l.jsxs("span",{className:"prof-stat-label",children:["Moyenne gnrale",k.tendanceMoyenne==="hausse"&&l.jsx(Xh,{size:14,color:"#10b981",style:{marginLeft:6}}),k.tendanceMoyenne==="baisse"&&l.jsx(Gw,{size:14,color:"#ef4444",style:{marginLeft:6}}),k.tendanceMoyenne==="stable"&&l.jsx(Hw,{size:14,color:"#6b7280",style:{marginLeft:6}})]})]})]}),l.jsxs("div",{className:"prof-stat-card",children:[l.jsx("div",{className:"prof-stat-icon prof-stat-icon-orange",children:l.jsx(ud,{size:24})}),l.jsxs("div",{className:"prof-stat-info",children:[l.jsx("span",{className:"prof-stat-value",children:yr(k.tauxReussite)}),l.jsx("span",{className:"prof-stat-label",children:"Taux de russite"})]})]}),l.jsxs("div",{className:"prof-stat-card",children:[l.jsx("div",{className:`prof-stat-icon ${k.elevesEnDifficulte>0?"prof-stat-icon-red":"prof-stat-icon-green"}`,children:l.jsx(oh,{size:24})}),l.jsxs("div",{className:"prof-stat-info",children:[l.jsx("span",{className:"prof-stat-value",children:k.elevesEnDifficulte}),l.jsx("span",{className:"prof-stat-label",children:"lves en difficult"})]})]}),l.jsxs("div",{className:"prof-stat-card",children:[l.jsx("div",{className:"prof-stat-icon prof-stat-icon-blue",children:l.jsx(wl,{size:24})}),l.jsxs("div",{className:"prof-stat-info",children:[l.jsx("span",{className:"prof-stat-value",children:k.quizAujourdHui}),l.jsx("span",{className:"prof-stat-label",children:"Quiz aujourd'hui"})]})]})]}),l.jsxs("div",{className:"prof-chart-card",children:[l.jsxs("h3",{className:"prof-chart-title",children:[l.jsx(Ns,{size:20}),"Progression des 30 derniers jours"]}),O.some(F=>F.nombreQuiz>0)?l.jsx(bc,{width:"100%",height:300,children:l.jsxs(Eye,{data:O,children:[l.jsx(Nc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),l.jsx(Tc,{dataKey:"date",tick:{fontSize:11,fill:"#6b7280"},interval:4}),l.jsx(Cc,{domain:[0,100],tick:{fontSize:11,fill:"#6b7280"},tickFormatter:F=>`${F}%`}),l.jsx(_c,{formatter:(F,J)=>J==="moyenne"?[`${F.toFixed(1)}%`,"Moyenne"]:[F,"Quiz passs"],contentStyle:{borderRadius:8,border:"1px solid #e5e7eb"}}),l.jsx(bE,{}),l.jsx(qE,{type:"monotone",dataKey:"moyenne",name:"Moyenne (%)",stroke:"#3b82f6",fill:"#3b82f680",strokeWidth:2}),l.jsx(qE,{type:"monotone",dataKey:"nombreQuiz",name:"Nombre de quiz",stroke:"#10b981",fill:"#10b98140",strokeWidth:1})]})}):l.jsxs("div",{className:"prof-empty-chart",children:[l.jsx(Ns,{size:48,color:"#d1d5db"}),l.jsx("p",{children:"Aucune activit sur les 30 derniers jours"})]})]}),R.length>0&&l.jsxs("div",{className:"prof-chart-card",children:[l.jsxs("h3",{className:"prof-chart-title",children:[l.jsx(Pr,{size:20}),"Rpartition des quiz par discipline"]}),l.jsx(bc,{width:"100%",height:300,children:l.jsxs(xye,{children:[l.jsx(RU,{data:R.map(F=>({name:F.disciplineNom,value:F.totalQuiz})),cx:"50%",cy:"50%",outerRadius:100,label:({name:F,percent:J})=>`${F} (${(J*100).toFixed(0)}%)`,labelLine:!0,dataKey:"value",children:R.map((F,J)=>l.jsx(fl,{fill:KM[J%KM.length]},J))}),l.jsx(_c,{})]})})]})]})}function U(){return R.length===0?l.jsxs("div",{className:"prof-empty",children:[l.jsx(Pr,{size:48,color:"#d1d5db"}),l.jsx("h3",{children:"Aucune donne disponible"}),l.jsx("p",{children:"Les statistiques par discipline apparatront lorsque des lves auront pass des quiz."})]}):l.jsxs("div",{className:"prof-disciplines",children:[l.jsx("div",{className:"prof-disc-grid",children:R.map(F=>l.jsxs("div",{className:"prof-disc-card",children:[l.jsxs("div",{className:"prof-disc-header",children:[l.jsx("h3",{className:"prof-disc-nom",children:F.disciplineNom}),l.jsx("span",{className:"prof-disc-badge",style:{backgroundColor:ia(F.moyenne)},children:$ye(F.moyenne)})]}),l.jsxs("div",{className:"prof-disc-stats",children:[l.jsxs("div",{className:"prof-disc-stat",children:[l.jsx("span",{className:"prof-disc-stat-val",children:F.nombreEleves}),l.jsx("span",{className:"prof-disc-stat-label",children:"lves"})]}),l.jsxs("div",{className:"prof-disc-stat",children:[l.jsx("span",{className:"prof-disc-stat-val",children:F.totalQuiz}),l.jsx("span",{className:"prof-disc-stat-label",children:"Quiz passs"})]}),l.jsxs("div",{className:"prof-disc-stat",children:[l.jsx("span",{className:"prof-disc-stat-val",style:{color:ia(F.moyenne)},children:yr(F.moyenne)}),l.jsx("span",{className:"prof-disc-stat-label",children:"Moyenne"})]}),l.jsxs("div",{className:"prof-disc-stat",children:[l.jsx("span",{className:"prof-disc-stat-val",children:yr(F.tauxReussite)}),l.jsx("span",{className:"prof-disc-stat-label",children:"Russite"})]})]}),l.jsx("div",{className:"prof-progress-bar",children:l.jsx("div",{className:"prof-progress-fill",style:{width:`${Math.min(F.moyenne,100)}%`,backgroundColor:ia(F.moyenne)}})}),l.jsxs("div",{className:"prof-disc-range",children:[l.jsxs("span",{children:["Min: ",yr(F.pireNote)]}),l.jsxs("span",{children:["Max: ",yr(F.meilleureNote)]})]})]},F.disciplineId))}),l.jsxs("div",{className:"prof-chart-card",children:[l.jsxs("h3",{className:"prof-chart-title",children:[l.jsx(Ns,{size:20}),"Comparaison des moyennes par discipline"]}),l.jsx(bc,{width:"100%",height:300,children:l.jsxs(hv,{data:R,children:[l.jsx(Nc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),l.jsx(Tc,{dataKey:"disciplineNom",tick:{fontSize:11,fill:"#6b7280"},angle:-20,textAnchor:"end",height:60}),l.jsx(Cc,{domain:[0,100],tick:{fontSize:11,fill:"#6b7280"},tickFormatter:F=>`${F}%`}),l.jsx(_c,{formatter:F=>[`${F.toFixed(1)}%`],contentStyle:{borderRadius:8,border:"1px solid #e5e7eb"}}),l.jsx(xc,{dataKey:"moyenne",name:"Moyenne (%)",radius:[4,4,0,0],children:R.map((F,J)=>l.jsx(fl,{fill:ia(F.moyenne)},J))}),l.jsx(xc,{dataKey:"tauxReussite",name:"Russite (%)",fill:"#60a5fa",radius:[4,4,0,0]})]})})]})]})}function L(){return g?q(g):l.jsxs("div",{className:"prof-eleves",children:[l.jsxs("div",{className:"prof-filters",children:[l.jsxs("div",{className:"prof-search-box",children:[l.jsx(eA,{size:18,className:"prof-search-icon"}),l.jsx("input",{type:"text",className:"prof-search-input",placeholder:"Rechercher un lve (nom ou email)...",value:w,onChange:F=>j(F.target.value)})]}),l.jsxs("select",{className:"prof-select",value:E,onChange:F=>A(F.target.value),children:[l.jsx("option",{value:"all",children:"Toutes les disciplines"}),P.map(F=>l.jsx("option",{value:F,children:F},F))]}),l.jsxs("span",{className:"prof-filter-count",children:[D.length," lve",D.length>1?"s":""]})]}),D.length===0?l.jsxs("div",{className:"prof-empty",children:[l.jsx(il,{size:48,color:"#d1d5db"}),l.jsx("h3",{children:"Aucun lve trouv"}),l.jsx("p",{children:"Aucun rsultat ne correspond  votre recherche."})]}):l.jsx("div",{className:"prof-table-wrapper",children:l.jsxs("table",{className:"prof-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"lve"}),l.jsx("th",{children:"Quiz passs"}),l.jsx("th",{children:"Moyenne"}),l.jsx("th",{children:"Russite"}),l.jsx("th",{children:"Tendance"}),l.jsx("th",{children:"Dernier quiz"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:D.map(F=>l.jsxs("tr",{className:F.enDifficulte?"prof-row-danger":"",children:[l.jsx("td",{children:l.jsxs("div",{className:"prof-eleve-cell",children:[l.jsx("span",{className:"prof-eleve-name",children:F.displayName}),l.jsx("span",{className:"prof-eleve-email",children:F.email})]})}),l.jsx("td",{className:"prof-td-center",children:F.totalQuiz}),l.jsx("td",{className:"prof-td-center",children:l.jsx("span",{style:{color:ia(F.moyenne),fontWeight:600},children:F.totalQuiz>0?yr(F.moyenne):""})}),l.jsx("td",{className:"prof-td-center",children:F.totalQuiz>0?yr(F.tauxReussite):""}),l.jsxs("td",{className:"prof-td-center",children:[F.progression==="hausse"&&l.jsx(Xh,{size:18,color:"#10b981"}),F.progression==="baisse"&&l.jsx(Gw,{size:18,color:"#ef4444"}),F.progression==="stable"&&l.jsx(Hw,{size:18,color:"#6b7280"})]}),l.jsx("td",{className:"prof-td-center",children:F.dernierQuiz?F.dernierQuiz.toLocaleDateString("fr-FR"):""}),l.jsx("td",{className:"prof-td-center",children:l.jsxs("button",{className:"prof-btn prof-btn-sm",onClick:()=>y(F.userId),title:"Voir le dtail",children:[l.jsx(Yh,{size:14}),"Dtail"]})})]},F.userId))})]})})]})}function q(F){const J=I.find(_e=>_e.userId===F),fe=Xye(d,F),we=Zye(d,F);return J?l.jsxs("div",{className:"prof-detail-eleve",children:[l.jsxs("button",{className:"prof-btn prof-btn-outline prof-mb-lg",onClick:()=>y(null),children:[l.jsx(CO,{size:16}),"Retour  la liste"]}),l.jsxs("div",{className:"prof-detail-header",children:[l.jsx("div",{className:"prof-detail-avatar",children:J.displayName.charAt(0).toUpperCase()}),l.jsxs("div",{className:"prof-detail-info",children:[l.jsx("h2",{children:J.displayName}),l.jsx("p",{className:"prof-detail-email",children:J.email}),J.enDifficulte&&l.jsxs("span",{className:"prof-badge-danger",children:[l.jsx(oh,{size:14}),"En difficult"]})]})]}),l.jsxs("div",{className:"prof-stats-grid prof-stats-grid-4",children:[l.jsxs("div",{className:"prof-stat-card",children:[l.jsx("div",{className:"prof-stat-icon prof-stat-icon-blue",children:l.jsx(sh,{size:20})}),l.jsxs("div",{className:"prof-stat-info",children:[l.jsx("span",{className:"prof-stat-value",children:J.totalQuiz}),l.jsx("span",{className:"prof-stat-label",children:"Quiz passs"})]})]}),l.jsxs("div",{className:"prof-stat-card",children:[l.jsx("div",{className:"prof-stat-icon prof-stat-icon-purple",children:l.jsx(Wa,{size:20})}),l.jsxs("div",{className:"prof-stat-info",children:[l.jsx("span",{className:"prof-stat-value",style:{color:ia(J.moyenne)},children:yr(J.moyenne)}),l.jsx("span",{className:"prof-stat-label",children:"Moyenne"})]})]}),l.jsxs("div",{className:"prof-stat-card",children:[l.jsx("div",{className:"prof-stat-icon prof-stat-icon-green",children:l.jsx(ud,{size:20})}),l.jsxs("div",{className:"prof-stat-info",children:[l.jsx("span",{className:"prof-stat-value",children:yr(J.tauxReussite)}),l.jsx("span",{className:"prof-stat-label",children:"Russite"})]})]}),l.jsxs("div",{className:"prof-stat-card",children:[l.jsx("div",{className:"prof-stat-icon prof-stat-icon-orange",children:l.jsx(Pr,{size:20})}),l.jsxs("div",{className:"prof-stat-info",children:[l.jsx("span",{className:"prof-stat-value",children:J.disciplinesActives.length}),l.jsx("span",{className:"prof-stat-label",children:"Disciplines"})]})]})]}),we.length>0&&l.jsxs("div",{className:"prof-chart-card",children:[l.jsxs("h3",{className:"prof-chart-title",children:[l.jsx(Ns,{size:20}),"Performance par discipline"]}),l.jsx(bc,{width:"100%",height:250,children:l.jsxs(hv,{data:we,children:[l.jsx(Nc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),l.jsx(Tc,{dataKey:"discipline",tick:{fontSize:11,fill:"#6b7280"}}),l.jsx(Cc,{domain:[0,100],tickFormatter:_e=>`${_e}%`,tick:{fontSize:11,fill:"#6b7280"}}),l.jsx(_c,{formatter:_e=>[`${_e.toFixed(1)}%`,"Moyenne"],contentStyle:{borderRadius:8,border:"1px solid #e5e7eb"}}),l.jsx(xc,{dataKey:"moyenne",name:"Moyenne",radius:[4,4,0,0],children:we.map((_e,H)=>l.jsx(fl,{fill:ia(_e.moyenne)},H))})]})})]}),l.jsxs("div",{className:"prof-chart-card",children:[l.jsxs("h3",{className:"prof-chart-title",children:[l.jsx(sh,{size:20}),"Historique des quiz (",fe.length,")"]}),fe.length===0?l.jsx("p",{className:"prof-text-muted",children:"Aucun quiz pass."}):l.jsx("div",{className:"prof-table-wrapper",children:l.jsxs("table",{className:"prof-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Quiz"}),l.jsx("th",{children:"Discipline"}),l.jsx("th",{children:"Score"}),l.jsx("th",{children:"Rsultat"}),l.jsx("th",{children:"Temps"}),l.jsx("th",{children:"Date"})]})}),l.jsx("tbody",{children:fe.map(_e=>l.jsxs("tr",{children:[l.jsx("td",{children:_e.quizTitre}),l.jsx("td",{children:_e.disciplineNom}),l.jsxs("td",{children:[l.jsx("span",{style:{color:ia(_e.pourcentage),fontWeight:600},children:yr(_e.pourcentage)}),l.jsxs("span",{className:"prof-text-small",children:[" (",_e.bonnesReponses,"/",_e.nombreQuestions,")"]})]}),l.jsx("td",{children:l.jsx("span",{className:`prof-badge ${_e.reussi?"prof-badge-success":"prof-badge-fail"}`,children:_e.reussi?"Russi":"chou"})}),l.jsx("td",{children:HM(_e.tempsEcoule)}),l.jsx("td",{children:_e.datePassage.toLocaleDateString("fr-FR")})]},_e.id))})]})})]})]}):l.jsxs("div",{className:"prof-empty",children:[l.jsx("p",{children:"lve introuvable."}),l.jsxs("button",{className:"prof-btn prof-btn-outline",onClick:()=>y(null),children:[l.jsx(CO,{size:16})," Retour"]})]})}function pe(){return z.length===0?l.jsxs("div",{className:"prof-empty",children:[l.jsx(sh,{size:48,color:"#d1d5db"}),l.jsx("h3",{children:"Aucun quiz analys"}),l.jsx("p",{children:"Les analyses apparatront quand des lves auront pass des quiz."})]}):l.jsxs("div",{className:"prof-quiz-section",children:[l.jsx("div",{className:"prof-quiz-grid",children:z.map(F=>l.jsxs("div",{className:"prof-quiz-card",children:[l.jsxs("div",{className:"prof-quiz-header",children:[l.jsx("h3",{className:"prof-quiz-titre",children:F.quizTitre}),l.jsx("span",{className:"prof-quiz-discipline",children:F.disciplineNom})]}),l.jsxs("div",{className:"prof-quiz-stats",children:[l.jsxs("div",{className:"prof-quiz-stat",children:[l.jsx(il,{size:16}),l.jsxs("span",{children:[F.totalPassages," passage",F.totalPassages>1?"s":""]})]}),l.jsxs("div",{className:"prof-quiz-stat",children:[l.jsx(Wa,{size:16}),l.jsxs("span",{style:{color:ia(F.moyenneScore)},children:["Moy: ",yr(F.moyenneScore)]})]}),l.jsxs("div",{className:"prof-quiz-stat",children:[l.jsx(ud,{size:16}),l.jsxs("span",{children:["Russite: ",yr(F.tauxReussite)]})]}),l.jsxs("div",{className:"prof-quiz-stat",children:[l.jsx(wl,{size:16}),l.jsxs("span",{children:["Temps moy: ",HM(F.tempsEcouleMoyen)]})]})]}),l.jsx("div",{className:"prof-progress-bar",children:l.jsx("div",{className:"prof-progress-fill",style:{width:`${Math.min(F.tauxReussite,100)}%`,backgroundColor:ia(F.tauxReussite)}})}),l.jsxs("div",{className:"prof-disc-range",children:[l.jsxs("span",{children:["Min: ",yr(F.pireNote)]}),l.jsxs("span",{children:["Max: ",yr(F.meilleureNote)]})]}),F.dernierPassage&&l.jsxs("p",{className:"prof-quiz-date",children:["Dernier passage : ",F.dernierPassage.toLocaleDateString("fr-FR")]})]},F.quizId))}),l.jsxs("div",{className:"prof-chart-card",children:[l.jsxs("h3",{className:"prof-chart-title",children:[l.jsx(Ns,{size:20}),"Comparaison des quiz"]}),l.jsx(bc,{width:"100%",height:300,children:l.jsxs(hv,{data:z.slice(0,10),layout:"vertical",children:[l.jsx(Nc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),l.jsx(Tc,{type:"number",domain:[0,100],tickFormatter:F=>`${F}%`,tick:{fontSize:11}}),l.jsx(Cc,{type:"category",dataKey:"quizTitre",width:150,tick:{fontSize:11,fill:"#6b7280"}}),l.jsx(_c,{formatter:F=>[`${F.toFixed(1)}%`],contentStyle:{borderRadius:8,border:"1px solid #e5e7eb"}}),l.jsx(bE,{}),l.jsx(xc,{dataKey:"moyenneScore",name:"Moyenne (%)",fill:"#3b82f6",radius:[0,4,4,0]}),l.jsx(xc,{dataKey:"tauxReussite",name:"Russite (%)",fill:"#10b981",radius:[0,4,4,0]})]})})]})]})}function Ee(){return M.length===0?l.jsxs("div",{className:"prof-empty prof-empty-success",children:[l.jsx(ud,{size:48,color:"#10b981"}),l.jsx("h3",{children:"Aucune alerte !"}),l.jsx("p",{children:"Tous les lves ont une moyenne suprieure  40%. Flicitations !"})]}):l.jsxs("div",{className:"prof-alertes",children:[l.jsxs("div",{className:"prof-alerte-banner",children:[l.jsx(oh,{size:20}),l.jsxs("span",{children:[l.jsxs("strong",{children:[M.length," lve",M.length>1?"s":""]})," en difficult (moyenne infrieure  40% sur au moins 2 quiz)"]})]}),l.jsx("div",{className:"prof-alertes-list",children:M.map(F=>l.jsxs("div",{className:"prof-alerte-card",children:[l.jsxs("div",{className:"prof-alerte-left",children:[l.jsx("div",{className:"prof-alerte-avatar",children:F.displayName.charAt(0).toUpperCase()}),l.jsxs("div",{className:"prof-alerte-info",children:[l.jsx("h4",{children:F.displayName}),l.jsx("p",{className:"prof-alerte-email",children:F.email})]})]}),l.jsxs("div",{className:"prof-alerte-stats",children:[l.jsxs("div",{className:"prof-alerte-stat",children:[l.jsx("span",{className:"prof-alerte-stat-label",children:"Moyenne"}),l.jsx("span",{className:"prof-alerte-stat-val",style:{color:"#ef4444"},children:yr(F.moyenne)})]}),l.jsxs("div",{className:"prof-alerte-stat",children:[l.jsx("span",{className:"prof-alerte-stat-label",children:"Quiz passs"}),l.jsx("span",{className:"prof-alerte-stat-val",children:F.totalQuiz})]})]}),l.jsxs("div",{className:"prof-alerte-disciplines",children:[l.jsx("span",{className:"prof-alerte-disc-label",children:"Disciplines en difficult :"}),l.jsx("div",{className:"prof-alerte-disc-tags",children:F.disciplinesFaibles.map(J=>l.jsx("span",{className:"prof-alerte-disc-tag",children:J},J))})]}),l.jsxs("button",{className:"prof-btn prof-btn-sm prof-btn-outline",onClick:()=>{y(F.userId),n("eleves")},children:[l.jsx(Yh,{size:14}),"Voir le dtail"]})]},F.userId))})]})}},e0e=()=>l.jsx(WQ,{children:l.jsxs(lB,{children:[l.jsx(Wn,{path:"/",element:l.jsx(Fo,{children:l.jsx(PX,{})})}),l.jsx(Wn,{path:"/disciplines",element:l.jsx(Fo,{children:l.jsx(MX,{})})}),l.jsx(Wn,{path:"/disciplines/:id",element:l.jsx(Fo,{children:l.jsx(YX,{})})}),l.jsx(Wn,{path:"/premium",element:l.jsx(Fo,{children:l.jsx(JX,{})})}),l.jsx(Wn,{path:"/connexion",element:l.jsx(OX,{})}),l.jsx(Wn,{path:"/inscription",element:l.jsx(IX,{})}),l.jsx(Wn,{path:"/admin",element:l.jsx(Yu,{children:l.jsx(Xu,{currentPage:"dashboard",children:l.jsx(tZ,{})})})}),l.jsx(Wn,{path:"/admin/disciplines",element:l.jsx(Yu,{children:l.jsx(Xu,{currentPage:"disciplines",children:l.jsx(rZ,{})})})}),l.jsx(Wn,{path:"/admin/chapitres",element:l.jsx(Yu,{children:l.jsx(Xu,{currentPage:"chapitres",children:l.jsx(iZ,{})})})}),l.jsx(Wn,{path:"/admin/ressources",element:l.jsx(Yu,{children:l.jsx(Xu,{currentPage:"ressources",children:l.jsx(aZ,{})})})}),l.jsx(Wn,{path:"/admin/quiz",element:l.jsx(Yu,{children:l.jsx(Xu,{currentPage:"quiz",children:l.jsx(dZ,{})})})}),l.jsx(Wn,{path:"/admin/utilisateurs",element:l.jsx(Yu,{children:l.jsx(Xu,{currentPage:"utilisateurs",children:l.jsx(bZ,{})})})}),l.jsx(Wn,{path:"/eleve/dashboard",element:l.jsx(Fo,{children:l.jsx(jye,{})})}),l.jsx(Wn,{path:"/eleve/suivi",element:l.jsx(Fo,{children:l.jsx(Bye,{})})}),l.jsx(Wn,{path:"/quiz/:quizId",element:l.jsx(Fo,{children:l.jsx(AZ,{})})}),l.jsx(Wn,{path:"/prof/dashboard",element:l.jsx(QQ,{children:l.jsx(Fo,{children:l.jsx(Jye,{})})})}),l.jsx(Wn,{path:"*",element:l.jsx(sB,{to:"/",replace:!0})})]})}),T9=document.getElementById("root");if(!T9)throw new Error("L'lment #root n'existe pas");const t0e=p8.createRoot(T9);t0e.render(l.jsx(GM.StrictMode,{children:l.jsx(pB,{children:l.jsx(e0e,{})})}));
//# sourceMappingURL=index-BQ42leCp.js.map
