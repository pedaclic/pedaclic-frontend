function C9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ka(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var db={exports:{}},Pf={};var sC;function O9(){if(sC)return Pf;sC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var d in i)d!=="key"&&(s[d]=i[d])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return Pf.Fragment=e,Pf.jsx=n,Pf.jsxs=n,Pf}var oC;function P9(){return oC||(oC=1,db.exports=O9()),db.exports}var c=P9(),fb={exports:{}},We={};var lC;function I9(){if(lC)return We;lC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),_=Symbol.iterator;function x(F){return F===null||typeof F!="object"?null:(F=_&&F[_]||F["@@iterator"],typeof F=="function"?F:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function C(F,ne,pe){this.props=F,this.context=ne,this.refs=A,this.updater=pe||S}C.prototype.isReactComponent={},C.prototype.setState=function(F,ne){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ne,"setState")},C.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function D(){}D.prototype=C.prototype;function k(F,ne,pe){this.props=F,this.context=ne,this.refs=A,this.updater=pe||S}var M=k.prototype=new D;M.constructor=k,E(M,C.prototype),M.isPureReactComponent=!0;var V=Array.isArray;function L(){}var P={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function I(F,ne,pe){var _e=pe.ref;return{$$typeof:t,type:F,key:ne,ref:_e!==void 0?_e:null,props:pe}}function $(F,ne){return I(F.type,ne,F.props)}function q(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function z(F){var ne={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(pe){return ne[pe]})}var B=/\/+/g;function be(F,ne){return typeof F=="object"&&F!==null&&F.key!=null?z(""+F.key):ne.toString(36)}function Se(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(L,L):(F.status="pending",F.then(function(ne){F.status==="pending"&&(F.status="fulfilled",F.value=ne)},function(ne){F.status==="pending"&&(F.status="rejected",F.reason=ne)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function W(F,ne,pe,_e,Q){var K=typeof F;(K==="undefined"||K==="boolean")&&(F=null);var ye=!1;if(F===null)ye=!0;else switch(K){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(F.$$typeof){case t:case e:ye=!0;break;case p:return ye=F._init,W(ye(F._payload),ne,pe,_e,Q)}}if(ye)return Q=Q(F),ye=_e===""?"."+be(F,0):_e,V(Q)?(pe="",ye!=null&&(pe=ye.replace(B,"$&/")+"/"),W(Q,ne,pe,"",function(Te){return Te})):Q!=null&&(q(Q)&&(Q=$(Q,pe+(Q.key==null||F&&F.key===Q.key?"":(""+Q.key).replace(B,"$&/")+"/")+ye)),ne.push(Q)),1;ye=0;var Le=_e===""?".":_e+":";if(V(F))for(var ie=0;ie<F.length;ie++)_e=F[ie],K=Le+be(_e,ie),ye+=W(_e,ne,pe,K,Q);else if(ie=x(F),typeof ie=="function")for(F=ie.call(F),ie=0;!(_e=F.next()).done;)_e=_e.value,K=Le+be(_e,ie++),ye+=W(_e,ne,pe,K,Q);else if(K==="object"){if(typeof F.then=="function")return W(Se(F),ne,pe,_e,Q);throw ne=String(F),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return ye}function le(F,ne,pe){if(F==null)return F;var _e=[],Q=0;return W(F,_e,"","",function(K){return ne.call(pe,K,Q++)}),_e}function ve(F){if(F._status===-1){var ne=F._result;ne=ne(),ne.then(function(pe){(F._status===0||F._status===-1)&&(F._status=1,F._result=pe)},function(pe){(F._status===0||F._status===-1)&&(F._status=2,F._result=pe)}),F._status===-1&&(F._status=0,F._result=ne)}if(F._status===1)return F._result.default;throw F._result}var xe=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},we={map:le,forEach:function(F,ne,pe){le(F,function(){ne.apply(this,arguments)},pe)},count:function(F){var ne=0;return le(F,function(){ne++}),ne},toArray:function(F){return le(F,function(ne){return ne})||[]},only:function(F){if(!q(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return We.Activity=g,We.Children=we,We.Component=C,We.Fragment=n,We.Profiler=i,We.PureComponent=k,We.StrictMode=r,We.Suspense=f,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,We.__COMPILER_RUNTIME={__proto__:null,c:function(F){return P.H.useMemoCache(F)}},We.cache=function(F){return function(){return F.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(F,ne,pe){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var _e=E({},F.props),Q=F.key;if(ne!=null)for(K in ne.key!==void 0&&(Q=""+ne.key),ne)!O.call(ne,K)||K==="key"||K==="__self"||K==="__source"||K==="ref"&&ne.ref===void 0||(_e[K]=ne[K]);var K=arguments.length-2;if(K===1)_e.children=pe;else if(1<K){for(var ye=Array(K),Le=0;Le<K;Le++)ye[Le]=arguments[Le+2];_e.children=ye}return I(F.type,Q,_e)},We.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},We.createElement=function(F,ne,pe){var _e,Q={},K=null;if(ne!=null)for(_e in ne.key!==void 0&&(K=""+ne.key),ne)O.call(ne,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Q[_e]=ne[_e]);var ye=arguments.length-2;if(ye===1)Q.children=pe;else if(1<ye){for(var Le=Array(ye),ie=0;ie<ye;ie++)Le[ie]=arguments[ie+2];Q.children=Le}if(F&&F.defaultProps)for(_e in ye=F.defaultProps,ye)Q[_e]===void 0&&(Q[_e]=ye[_e]);return I(F,K,Q)},We.createRef=function(){return{current:null}},We.forwardRef=function(F){return{$$typeof:d,render:F}},We.isValidElement=q,We.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:ve}},We.memo=function(F,ne){return{$$typeof:m,type:F,compare:ne===void 0?null:ne}},We.startTransition=function(F){var ne=P.T,pe={};P.T=pe;try{var _e=F(),Q=P.S;Q!==null&&Q(pe,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(L,xe)}catch(K){xe(K)}finally{ne!==null&&pe.types!==null&&(ne.types=pe.types),P.T=ne}},We.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},We.use=function(F){return P.H.use(F)},We.useActionState=function(F,ne,pe){return P.H.useActionState(F,ne,pe)},We.useCallback=function(F,ne){return P.H.useCallback(F,ne)},We.useContext=function(F){return P.H.useContext(F)},We.useDebugValue=function(){},We.useDeferredValue=function(F,ne){return P.H.useDeferredValue(F,ne)},We.useEffect=function(F,ne){return P.H.useEffect(F,ne)},We.useEffectEvent=function(F){return P.H.useEffectEvent(F)},We.useId=function(){return P.H.useId()},We.useImperativeHandle=function(F,ne,pe){return P.H.useImperativeHandle(F,ne,pe)},We.useInsertionEffect=function(F,ne){return P.H.useInsertionEffect(F,ne)},We.useLayoutEffect=function(F,ne){return P.H.useLayoutEffect(F,ne)},We.useMemo=function(F,ne){return P.H.useMemo(F,ne)},We.useOptimistic=function(F,ne){return P.H.useOptimistic(F,ne)},We.useReducer=function(F,ne,pe){return P.H.useReducer(F,ne,pe)},We.useRef=function(F){return P.H.useRef(F)},We.useState=function(F){return P.H.useState(F)},We.useSyncExternalStore=function(F,ne,pe){return P.H.useSyncExternalStore(F,ne,pe)},We.useTransition=function(){return P.H.useTransition()},We.version="19.2.4",We}var cC;function hd(){return cC||(cC=1,fb.exports=I9()),fb.exports}var w=hd();const vk=Ka(w),yk=C9({__proto__:null,default:vk},[w]);var hb={exports:{}},If={},mb={exports:{}},pb={};var uC;function R9(){return uC||(uC=1,(function(t){function e(W,le){var ve=W.length;W.push(le);e:for(;0<ve;){var xe=ve-1>>>1,we=W[xe];if(0<i(we,le))W[xe]=le,W[ve]=we,ve=xe;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var le=W[0],ve=W.pop();if(ve!==le){W[0]=ve;e:for(var xe=0,we=W.length,F=we>>>1;xe<F;){var ne=2*(xe+1)-1,pe=W[ne],_e=ne+1,Q=W[_e];if(0>i(pe,ve))_e<we&&0>i(Q,pe)?(W[xe]=Q,W[_e]=ve,xe=_e):(W[xe]=pe,W[ne]=ve,xe=ne);else if(_e<we&&0>i(Q,ve))W[xe]=Q,W[_e]=ve,xe=_e;else break e}}return le}function i(W,le){var ve=W.sortIndex-le.sortIndex;return ve!==0?ve:W.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var f=[],m=[],p=1,g=null,_=3,x=!1,S=!1,E=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function M(W){for(var le=n(m);le!==null;){if(le.callback===null)r(m);else if(le.startTime<=W)r(m),le.sortIndex=le.expirationTime,e(f,le);else break;le=n(m)}}function V(W){if(E=!1,M(W),!S)if(n(f)!==null)S=!0,L||(L=!0,z());else{var le=n(m);le!==null&&Se(V,le.startTime-W)}}var L=!1,P=-1,O=5,I=-1;function $(){return A?!0:!(t.unstable_now()-I<O)}function q(){if(A=!1,L){var W=t.unstable_now();I=W;var le=!0;try{e:{S=!1,E&&(E=!1,D(P),P=-1),x=!0;var ve=_;try{t:{for(M(W),g=n(f);g!==null&&!(g.expirationTime>W&&$());){var xe=g.callback;if(typeof xe=="function"){g.callback=null,_=g.priorityLevel;var we=xe(g.expirationTime<=W);if(W=t.unstable_now(),typeof we=="function"){g.callback=we,M(W),le=!0;break t}g===n(f)&&r(f),M(W)}else r(f);g=n(f)}if(g!==null)le=!0;else{var F=n(m);F!==null&&Se(V,F.startTime-W),le=!1}}break e}finally{g=null,_=ve,x=!1}le=void 0}}finally{le?z():L=!1}}}var z;if(typeof k=="function")z=function(){k(q)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,be=B.port2;B.port1.onmessage=q,z=function(){be.postMessage(null)}}else z=function(){C(q,0)};function Se(W,le){P=C(function(){W(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(W){switch(_){case 1:case 2:case 3:var le=3;break;default:le=_}var ve=_;_=le;try{return W()}finally{_=ve}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(W,le){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ve=_;_=W;try{return le()}finally{_=ve}},t.unstable_scheduleCallback=function(W,le,ve){var xe=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?xe+ve:xe):ve=xe,W){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ve+we,W={id:p++,callback:le,priorityLevel:W,startTime:ve,expirationTime:we,sortIndex:-1},ve>xe?(W.sortIndex=ve,e(m,W),n(f)===null&&W===n(m)&&(E?(D(P),P=-1):E=!0,Se(V,ve-xe))):(W.sortIndex=we,e(f,W),S||x||(S=!0,L||(L=!0,z()))),W},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(W){var le=_;return function(){var ve=_;_=le;try{return W.apply(this,arguments)}finally{_=ve}}}})(pb)),pb}var dC;function D9(){return dC||(dC=1,mb.exports=R9()),mb.exports}var gb={exports:{}},lr={};var fC;function k9(){if(fC)return lr;fC=1;var t=hd();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,m,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:m,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return lr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,lr.createPortal=function(f,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return s(f,m,null,p)},lr.flushSync=function(f){var m=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=m,r.p=p,r.d.f()}},lr.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},lr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},lr.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var p=m.as,g=d(p,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:_,fetchPriority:x}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:_,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},lr.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=d(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},lr.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,g=d(p,m.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},lr.preloadModule=function(f,m){if(typeof f=="string")if(m){var p=d(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},lr.requestFormReset=function(f){r.d.r(f)},lr.unstable_batchedUpdates=function(f,m){return f(m)},lr.useFormState=function(f,m,p){return l.H.useFormState(f,m,p)},lr.useFormStatus=function(){return l.H.useHostTransitionStatus()},lr.version="19.2.4",lr}var hC;function _k(){if(hC)return gb.exports;hC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gb.exports=k9(),gb.exports}var mC;function M9(){if(mC)return If;mC=1;var t=D9(),e=hd(),n=_k();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function m(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,h=o;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(h=y.return,h!==null){u=h;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return f(y),a;if(b===h)return f(y),o;b=b.sibling}throw Error(r(188))}if(u.return!==h.return)u=y,h=b;else{for(var j=!1,R=y.child;R;){if(R===u){j=!0,u=y,h=b;break}if(R===h){j=!0,h=y,u=b;break}R=R.sibling}if(!j){for(R=b.child;R;){if(R===u){j=!0,u=b,h=y;break}if(R===h){j=!0,h=b,u=y;break}R=R.sibling}if(!j)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),k=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function z(a){return a===null||typeof a!="object"?null:(a=q&&a[q]||a["@@iterator"],typeof a=="function"?a:null)}var B=Symbol.for("react.client.reference");function be(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===B?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case C:return"Profiler";case A:return"StrictMode";case V:return"Suspense";case L:return"SuspenseList";case I:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case k:return a.displayName||"Context";case D:return(a._context.displayName||"Context")+".Consumer";case M:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case P:return o=a.displayName||null,o!==null?o:be(a.type)||"Memo";case O:o=a._payload,a=a._init;try{return be(a(o))}catch{}}return null}var Se=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},xe=[],we=-1;function F(a){return{current:a}}function ne(a){0>we||(a.current=xe[we],xe[we]=null,we--)}function pe(a,o){we++,xe[we]=a.current,a.current=o}var _e=F(null),Q=F(null),K=F(null),ye=F(null);function Le(a,o){switch(pe(K,o),pe(Q,a),pe(_e,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?CN(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=CN(o),a=ON(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ne(_e),pe(_e,a)}function ie(){ne(_e),ne(Q),ne(K)}function Te(a){a.memoizedState!==null&&pe(ye,a);var o=_e.current,u=ON(o,a.type);o!==u&&(pe(Q,a),pe(_e,u))}function Y(a){Q.current===a&&(ne(_e),ne(Q)),ye.current===a&&(ne(ye),jf._currentValue=ve)}var he,Re;function Be(a){if(he===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);he=o&&o[1]||"",Re=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+a+Re}var rt=!1;function ct(a,o){if(!a||rt)return"";rt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(oe){var re=oe}Reflect.construct(a,[],me)}else{try{me.call()}catch(oe){re=oe}a.call(me.prototype)}}else{try{throw Error()}catch(oe){re=oe}(me=a())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(oe){if(oe&&re&&typeof oe.stack=="string")return[oe.stack,re.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),j=b[0],R=b[1];if(j&&R){var H=j.split(`
`),te=R.split(`
`);for(y=h=0;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;for(;y<te.length&&!te[y].includes("DetermineComponentFrameRoot");)y++;if(h===H.length||y===te.length)for(h=H.length-1,y=te.length-1;1<=h&&0<=y&&H[h]!==te[y];)y--;for(;1<=h&&0<=y;h--,y--)if(H[h]!==te[y]){if(h!==1||y!==1)do if(h--,y--,0>y||H[h]!==te[y]){var ue=`
`+H[h].replace(" at new "," at ");return a.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",a.displayName)),ue}while(1<=h&&0<=y);break}}}finally{rt=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Be(u):""}function pt(a,o){switch(a.tag){case 26:case 27:case 5:return Be(a.type);case 16:return Be("Lazy");case 13:return a.child!==o&&o!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return ct(a.type,!1);case 11:return ct(a.type.render,!1);case 1:return ct(a.type,!0);case 31:return Be("Activity");default:return""}}function sr(a){try{var o="",u=null;do o+=pt(a,u),u=a,a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Nt=Object.prototype.hasOwnProperty,Ct=t.unstable_scheduleCallback,jr=t.unstable_cancelCallback,ce=t.unstable_shouldYield,Pe=t.unstable_requestPaint,Ue=t.unstable_now,Ge=t.unstable_getCurrentPriorityLevel,Mt=t.unstable_ImmediatePriority,On=t.unstable_UserBlockingPriority,Nr=t.unstable_NormalPriority,Xs=t.unstable_LowPriority,Cr=t.unstable_IdlePriority,zi=t.log,Vc=t.unstable_setDisableYieldValue,Jt=null,wt=null;function Or(a){if(typeof zi=="function"&&Vc(a),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Jt,a)}catch{}}var Qt=Math.clz32?Math.clz32:Uc,yl=Math.log,Zs=Math.LN2;function Uc(a){return a>>>=0,a===0?32:31-(yl(a)/Zs|0)|0}var fi=256,Ya=262144,en=4194304;function hi(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function or(a,o,u){var h=a.pendingLanes;if(h===0)return 0;var y=0,b=a.suspendedLanes,j=a.pingedLanes;a=a.warmLanes;var R=h&134217727;return R!==0?(h=R&~b,h!==0?y=hi(h):(j&=R,j!==0?y=hi(j):u||(u=R&~a,u!==0&&(y=hi(u))))):(R=h&~b,R!==0?y=hi(R):j!==0?y=hi(j):u||(u=h&~a,u!==0&&(y=hi(u)))),y===0?0:o!==0&&o!==y&&(o&b)===0&&(b=y&-y,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:y}function Gr(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Z(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ve(){var a=en;return en<<=1,(en&62914560)===0&&(en=4194304),a}function ft(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Mn(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function _l(a,o,u,h,y,b){var j=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var R=a.entanglements,H=a.expirationTimes,te=a.hiddenUpdates;for(u=j&~u;0<u;){var ue=31-Qt(u),me=1<<ue;R[ue]=0,H[ue]=-1;var re=te[ue];if(re!==null)for(te[ue]=null,ue=0;ue<re.length;ue++){var oe=re[ue];oe!==null&&(oe.lane&=-536870913)}u&=~me}h!==0&&Pr(a,h,0),b!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=b&~(j&~o))}function Pr(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-Qt(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|u&261930}function bl(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var h=31-Qt(u),y=1<<h;y&o|a[h]&o&&(a[h]|=o),u&=~y}}function Id(a,o){var u=o&-o;return u=(u&42)!==0?1:xl(u),(u&(a.suspendedLanes|o))!==0?0:u}function xl(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Qa(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function xm(){var a=le.p;return a!==0?a:(a=window.event,a===void 0?32:JN(a.type))}function Li(a,o){var u=le.p;try{return le.p=a,o()}finally{le.p=u}}var Vi=Math.random().toString(36).slice(2),vn="__reactFiber$"+Vi,zn="__reactProps$"+Vi,da="__reactContainer$"+Vi,qc="__reactEvents$"+Vi,v0="__reactListeners$"+Vi,wm="__reactHandles$"+Vi,Em="__reactResources$"+Vi,fa="__reactMarker$"+Vi;function Bc(a){delete a[vn],delete a[zn],delete a[qc],delete a[v0],delete a[wm]}function ha(a){var o=a[vn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[da]||u[vn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=zN(a);a!==null;){if(u=a[vn])return u;a=zN(a)}return o}a=u,u=a.parentNode}return null}function mi(a){if(a=a[vn]||a[da]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Kr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function ma(a){var o=a[Em];return o||(o=a[Em]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function yn(a){a[fa]=!0}var Rd=new Set,Dd={};function pa(a,o){ga(a,o),ga(a+"Capture",o)}function ga(a,o){for(Dd[a]=o,a=0;a<o.length;a++)Rd.add(o[a])}var kd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Md={},zd={};function Sm(a){return Nt.call(zd,a)?!0:Nt.call(Md,a)?!1:kd.test(a)?zd[a]=!0:(Md[a]=!0,!1)}function $c(a,o,u){if(Sm(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function Wr(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function _n(a,o,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+h)}}function Ln(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Js(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ld(a,o,u){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,b=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(j){u=""+j,b.call(this,j)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(j){u=""+j},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Et(a){if(!a._valueTracker){var o=Js(a)?"checked":"value";a._valueTracker=Ld(a,o,""+a[o])}}function wl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return a&&(h=Js(a)?a.checked?"true":"false":a.value),a=h,a!==u?(o.setValue(a),!0):!1}function va(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var El=/[\n"\\]/g;function Ir(a){return a.replace(El,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Fc(a,o,u,h,y,b,j,R){a.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?a.type=j:a.removeAttribute("type"),o!=null?j==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Ln(o)):a.value!==""+Ln(o)&&(a.value=""+Ln(o)):j!=="submit"&&j!=="reset"||a.removeAttribute("value"),o!=null?Vd(a,j,Ln(o)):u!=null?Vd(a,j,Ln(u)):h!=null&&a.removeAttribute("value"),y==null&&b!=null&&(a.defaultChecked=!!b),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?a.name=""+Ln(R):a.removeAttribute("name")}function Am(a,o,u,h,y,b,j,R){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){Et(a);return}u=u!=null?""+Ln(u):"",o=o!=null?""+Ln(o):u,R||o===a.value||(a.value=o),a.defaultValue=o}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=R?a.checked:!!h,a.defaultChecked=!!h,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(a.name=j),Et(a)}function Vd(a,o,u){o==="number"&&va(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function eo(a,o,u,h){if(a=a.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=o.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&h&&(a[u].defaultSelected=!0)}else{for(u=""+Ln(u),o=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,h&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function Tm(a,o,u){if(o!=null&&(o=""+Ln(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+Ln(u):""}function to(a,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(r(92));if(Se(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=Ln(o),a.defaultValue=u,h=a.textContent,h===u&&h!==""&&h!==null&&(a.value=h),Et(a)}function Rr(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var jm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ud(a,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,u):typeof u!="number"||u===0||jm.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function qd(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var y in o)h=o[y],o.hasOwnProperty(y)&&u[y]!==h&&Ud(a,y,h)}else for(var b in o)o.hasOwnProperty(b)&&Ud(a,b,o[b])}function Hc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),no=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gc(a){return no.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ui(){}var Bd=null;function pi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ro=null,ya=null;function Sl(a){var o=mi(a);if(o&&(a=o.stateNode)){var u=a[zn]||null;e:switch(a=o.stateNode,o.type){case"input":if(Fc(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ir(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==a&&h.form===a.form){var y=h[zn]||null;if(!y)throw Error(r(90));Fc(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===a.form&&wl(h)}break e;case"textarea":Tm(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&eo(a,!!u.multiple,o,!1)}}}var Kc=!1;function io(a,o,u){if(Kc)return a(o,u);Kc=!0;try{var h=a(o);return h}finally{if(Kc=!1,(ro!==null||ya!==null)&&(xp(),ro&&(o=ro,a=ya,ya=ro=null,Sl(o),a)))for(o=0;o<a.length;o++)Sl(a[o])}}function qi(a,o){var u=a.stateNode;if(u===null)return null;var h=u[zn]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Al=!1;if(gi)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){Al=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch{Al=!1}var _a=null,$d=null,Tl=null;function Fd(){if(Tl)return Tl;var a,o=$d,u=o.length,h,y="value"in _a?_a.value:_a.textContent,b=y.length;for(a=0;a<u&&o[a]===y[a];a++);var j=u-a;for(h=1;h<=j&&o[u-h]===y[b-h];h++);return Tl=y.slice(a,1<h?1-h:void 0)}function jl(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Xa(){return!0}function Bi(){return!1}function Xn(a){function o(u,h,y,b,j){this._reactName=u,this._targetInst=y,this.type=h,this.nativeEvent=b,this.target=j,this.currentTarget=null;for(var R in a)a.hasOwnProperty(R)&&(u=a[R],this[R]=u?u(b):b[R]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Xa:Bi,this.isPropagationStopped=Bi,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Xa)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Xa)},persist:function(){},isPersistent:Xa}),o}var Za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=Xn(Za),ao=g({},Za,{view:0,detail:0}),Hd=Xn(ao),so,Wc,xa,Yc=g({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==xa&&(xa&&a.type==="mousemove"?(so=a.screenX-xa.screenX,Wc=a.screenY-xa.screenY):Wc=so=0,xa=a),so)},movementY:function(a){return"movementY"in a?a.movementY:Wc}}),Gd=Xn(Yc),Nl=g({},Yc,{dataTransfer:0}),Cm=Xn(Nl),Om=g({},ao,{relatedTarget:0}),Cl=Xn(Om),Kd=g({},Za,{animationName:0,elapsedTime:0,pseudoElement:0}),Pm=Xn(Kd),Qc=g({},Za,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Im=Xn(Qc),Rm=g({},Za,{data:0}),wa=Xn(Rm),Dm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},km={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zm(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Mm[a])?!!o[a]:!1}function oo(){return zm}var vr=g({},ao,{key:function(a){if(a.key){var o=Dm[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=jl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?km[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(a){return a.type==="keypress"?jl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?jl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Lm=Xn(vr),Vm=g({},Yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ja=Xn(Vm),v=g({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),T=Xn(v),N=g({},Za,{propertyName:0,elapsedTime:0,pseudoElement:0}),U=Xn(N),J=g({},Yc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),se=Xn(J),Ee=g({},Za,{newState:0,oldState:0}),Ze=Xn(Ee),un=[9,13,27,32],_t=gi&&"CompositionEvent"in window,Gt=null;gi&&"documentMode"in document&&(Gt=document.documentMode);var vi=gi&&"TextEvent"in window&&!Gt,Ea=gi&&(!_t||Gt&&8<Gt&&11>=Gt),$i=" ",Fi=!1;function Ol(a,o){switch(a){case"keyup":return un.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xc(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Zc=!1;function JV(a,o){switch(a){case"compositionend":return Xc(o);case"keypress":return o.which!==32?null:(Fi=!0,$i);case"textInput":return a=o.data,a===$i&&Fi?null:a;default:return null}}function eU(a,o){if(Zc)return a==="compositionend"||!_t&&Ol(a,o)?(a=Fd(),Tl=$d=_a=null,Zc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ea&&o.locale!=="ko"?null:o.data;default:return null}}var tU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UA(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!tU[a.type]:o==="textarea"}function qA(a,o,u,h){ro?ya?ya.push(h):ya=[h]:ro=h,o=Np(o,"onChange"),0<o.length&&(u=new ba("onChange","change",null,u,h),a.push({event:u,listeners:o}))}var Wd=null,Yd=null;function nU(a){EN(a,0)}function Um(a){var o=Kr(a);if(wl(o))return a}function BA(a,o){if(a==="change")return o}var $A=!1;if(gi){var y0;if(gi){var _0="oninput"in document;if(!_0){var FA=document.createElement("div");FA.setAttribute("oninput","return;"),_0=typeof FA.oninput=="function"}y0=_0}else y0=!1;$A=y0&&(!document.documentMode||9<document.documentMode)}function HA(){Wd&&(Wd.detachEvent("onpropertychange",GA),Yd=Wd=null)}function GA(a){if(a.propertyName==="value"&&Um(Yd)){var o=[];qA(o,Yd,a,pi(a)),io(nU,o)}}function rU(a,o,u){a==="focusin"?(HA(),Wd=o,Yd=u,Wd.attachEvent("onpropertychange",GA)):a==="focusout"&&HA()}function iU(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Um(Yd)}function aU(a,o){if(a==="click")return Um(o)}function sU(a,o){if(a==="input"||a==="change")return Um(o)}function oU(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Yr=typeof Object.is=="function"?Object.is:oU;function Qd(a,o){if(Yr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var y=u[h];if(!Nt.call(o,y)||!Yr(a[y],o[y]))return!1}return!0}function KA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function WA(a,o){var u=KA(a);a=0;for(var h;u;){if(u.nodeType===3){if(h=a+u.textContent.length,a<=o&&h>=o)return{node:u,offset:o-a};a=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=KA(u)}}function YA(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?YA(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function QA(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=va(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=va(a.document)}return o}function b0(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var lU=gi&&"documentMode"in document&&11>=document.documentMode,Jc=null,x0=null,Xd=null,w0=!1;function XA(a,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;w0||Jc==null||Jc!==va(h)||(h=Jc,"selectionStart"in h&&b0(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Xd&&Qd(Xd,h)||(Xd=h,h=Np(x0,"onSelect"),0<h.length&&(o=new ba("onSelect","select",null,o,u),a.push({event:o,listeners:h}),o.target=Jc)))}function Pl(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var eu={animationend:Pl("Animation","AnimationEnd"),animationiteration:Pl("Animation","AnimationIteration"),animationstart:Pl("Animation","AnimationStart"),transitionrun:Pl("Transition","TransitionRun"),transitionstart:Pl("Transition","TransitionStart"),transitioncancel:Pl("Transition","TransitionCancel"),transitionend:Pl("Transition","TransitionEnd")},E0={},ZA={};gi&&(ZA=document.createElement("div").style,"AnimationEvent"in window||(delete eu.animationend.animation,delete eu.animationiteration.animation,delete eu.animationstart.animation),"TransitionEvent"in window||delete eu.transitionend.transition);function Il(a){if(E0[a])return E0[a];if(!eu[a])return a;var o=eu[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in ZA)return E0[a]=o[u];return a}var JA=Il("animationend"),eT=Il("animationiteration"),tT=Il("animationstart"),cU=Il("transitionrun"),uU=Il("transitionstart"),dU=Il("transitioncancel"),nT=Il("transitionend"),rT=new Map,S0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");S0.push("scrollEnd");function Hi(a,o){rT.set(a,o),pa(o,[a])}var qm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},yi=[],tu=0,A0=0;function Bm(){for(var a=tu,o=A0=tu=0;o<a;){var u=yi[o];yi[o++]=null;var h=yi[o];yi[o++]=null;var y=yi[o];yi[o++]=null;var b=yi[o];if(yi[o++]=null,h!==null&&y!==null){var j=h.pending;j===null?y.next=y:(y.next=j.next,j.next=y),h.pending=y}b!==0&&iT(u,y,b)}}function $m(a,o,u,h){yi[tu++]=a,yi[tu++]=o,yi[tu++]=u,yi[tu++]=h,A0|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function T0(a,o,u,h){return $m(a,o,u,h),Fm(a)}function Rl(a,o){return $m(a,null,null,o),Fm(a)}function iT(a,o,u){a.lanes|=u;var h=a.alternate;h!==null&&(h.lanes|=u);for(var y=!1,b=a.return;b!==null;)b.childLanes|=u,h=b.alternate,h!==null&&(h.childLanes|=u),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(y=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,y&&o!==null&&(y=31-Qt(u),a=b.hiddenUpdates,h=a[y],h===null?a[y]=[o]:h.push(o),o.lane=u|536870912),b):null}function Fm(a){if(50<bf)throw bf=0,k_=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var nu={};function fU(a,o,u,h){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(a,o,u,h){return new fU(a,o,u,h)}function j0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function es(a,o){var u=a.alternate;return u===null?(u=Qr(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function aT(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Hm(a,o,u,h,y,b){var j=0;if(h=a,typeof a=="function")j0(a)&&(j=1);else if(typeof a=="string")j=v9(a,u,_e.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case I:return a=Qr(31,u,o,y),a.elementType=I,a.lanes=b,a;case E:return Dl(u.children,y,b,o);case A:j=8,y|=24;break;case C:return a=Qr(12,u,o,y|2),a.elementType=C,a.lanes=b,a;case V:return a=Qr(13,u,o,y),a.elementType=V,a.lanes=b,a;case L:return a=Qr(19,u,o,y),a.elementType=L,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case k:j=10;break e;case D:j=9;break e;case M:j=11;break e;case P:j=14;break e;case O:j=16,h=null;break e}j=29,u=Error(r(130,a===null?"null":typeof a,"")),h=null}return o=Qr(j,u,o,y),o.elementType=a,o.type=h,o.lanes=b,o}function Dl(a,o,u,h){return a=Qr(7,a,h,o),a.lanes=u,a}function N0(a,o,u){return a=Qr(6,a,null,o),a.lanes=u,a}function sT(a){var o=Qr(18,null,null,0);return o.stateNode=a,o}function C0(a,o,u){return o=Qr(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var oT=new WeakMap;function _i(a,o){if(typeof a=="object"&&a!==null){var u=oT.get(a);return u!==void 0?u:(o={value:a,source:o,stack:sr(o)},oT.set(a,o),o)}return{value:a,source:o,stack:sr(o)}}var ru=[],iu=0,Gm=null,Zd=0,bi=[],xi=0,lo=null,Sa=1,Aa="";function ts(a,o){ru[iu++]=Zd,ru[iu++]=Gm,Gm=a,Zd=o}function lT(a,o,u){bi[xi++]=Sa,bi[xi++]=Aa,bi[xi++]=lo,lo=a;var h=Sa;a=Aa;var y=32-Qt(h)-1;h&=~(1<<y),u+=1;var b=32-Qt(o)+y;if(30<b){var j=y-y%5;b=(h&(1<<j)-1).toString(32),h>>=j,y-=j,Sa=1<<32-Qt(o)+y|u<<y|h,Aa=b+a}else Sa=1<<b|u<<y|h,Aa=a}function O0(a){a.return!==null&&(ts(a,1),lT(a,1,0))}function P0(a){for(;a===Gm;)Gm=ru[--iu],ru[iu]=null,Zd=ru[--iu],ru[iu]=null;for(;a===lo;)lo=bi[--xi],bi[xi]=null,Aa=bi[--xi],bi[xi]=null,Sa=bi[--xi],bi[xi]=null}function cT(a,o){bi[xi++]=Sa,bi[xi++]=Aa,bi[xi++]=lo,Sa=o.id,Aa=o.overflow,lo=a}var Zn=null,$t=null,ut=!1,co=null,wi=!1,I0=Error(r(519));function uo(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jd(_i(o,a)),I0}function uT(a){var o=a.stateNode,u=a.type,h=a.memoizedProps;switch(o[vn]=a,o[zn]=h,u){case"dialog":nt("cancel",o),nt("close",o);break;case"iframe":case"object":case"embed":nt("load",o);break;case"video":case"audio":for(u=0;u<wf.length;u++)nt(wf[u],o);break;case"source":nt("error",o);break;case"img":case"image":case"link":nt("error",o),nt("load",o);break;case"details":nt("toggle",o);break;case"input":nt("invalid",o),Am(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":nt("invalid",o);break;case"textarea":nt("invalid",o),to(o,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||jN(o.textContent,u)?(h.popover!=null&&(nt("beforetoggle",o),nt("toggle",o)),h.onScroll!=null&&nt("scroll",o),h.onScrollEnd!=null&&nt("scrollend",o),h.onClick!=null&&(o.onclick=Ui),o=!0):o=!1,o||uo(a,!0)}function dT(a){for(Zn=a.return;Zn;)switch(Zn.tag){case 5:case 31:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:Zn=Zn.return}}function au(a){if(a!==Zn)return!1;if(!ut)return dT(a),ut=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Q_(a.type,a.memoizedProps)),u=!u),u&&$t&&uo(a),dT(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));$t=MN(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));$t=MN(a)}else o===27?(o=$t,Ao(a.type)?(a=tb,tb=null,$t=a):$t=o):$t=Zn?Si(a.stateNode.nextSibling):null;return!0}function kl(){$t=Zn=null,ut=!1}function R0(){var a=co;return a!==null&&(zr===null?zr=a:zr.push.apply(zr,a),co=null),a}function Jd(a){co===null?co=[a]:co.push(a)}var D0=F(null),Ml=null,ns=null;function fo(a,o,u){pe(D0,o._currentValue),o._currentValue=u}function rs(a){a._currentValue=D0.current,ne(D0)}function k0(a,o,u){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===u)break;a=a.return}}function M0(a,o,u,h){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var b=y.dependencies;if(b!==null){var j=y.child;b=b.firstContext;e:for(;b!==null;){var R=b;b=y;for(var H=0;H<o.length;H++)if(R.context===o[H]){b.lanes|=u,R=b.alternate,R!==null&&(R.lanes|=u),k0(b.return,u,a),h||(j=null);break e}b=R.next}}else if(y.tag===18){if(j=y.return,j===null)throw Error(r(341));j.lanes|=u,b=j.alternate,b!==null&&(b.lanes|=u),k0(j,u,a),j=null}else j=y.child;if(j!==null)j.return=y;else for(j=y;j!==null;){if(j===a){j=null;break}if(y=j.sibling,y!==null){y.return=j.return,j=y;break}j=j.return}y=j}}function su(a,o,u,h){a=null;for(var y=o,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var j=y.alternate;if(j===null)throw Error(r(387));if(j=j.memoizedProps,j!==null){var R=y.type;Yr(y.pendingProps.value,j.value)||(a!==null?a.push(R):a=[R])}}else if(y===ye.current){if(j=y.alternate,j===null)throw Error(r(387));j.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(jf):a=[jf])}y=y.return}a!==null&&M0(o,a,u,h),o.flags|=262144}function Km(a){for(a=a.firstContext;a!==null;){if(!Yr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function zl(a){Ml=a,ns=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Jn(a){return fT(Ml,a)}function Wm(a,o){return Ml===null&&zl(a),fT(a,o)}function fT(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ns===null){if(a===null)throw Error(r(308));ns=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else ns=ns.next=o;return u}var hU=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},mU=t.unstable_scheduleCallback,pU=t.unstable_NormalPriority,bn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function z0(){return{controller:new hU,data:new Map,refCount:0}}function ef(a){a.refCount--,a.refCount===0&&mU(pU,function(){a.controller.abort()})}var tf=null,L0=0,ou=0,lu=null;function gU(a,o){if(tf===null){var u=tf=[];L0=0,ou=q_(),lu={status:"pending",value:void 0,then:function(h){u.push(h)}}}return L0++,o.then(hT,hT),o}function hT(){if(--L0===0&&tf!==null){lu!==null&&(lu.status="fulfilled");var a=tf;tf=null,ou=0,lu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function vU(a,o){var u=[],h={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(h.status="rejected",h.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),h}var mT=W.S;W.S=function(a,o){Xj=Ue(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&gU(a,o),mT!==null&&mT(a,o)};var Ll=F(null);function V0(){var a=Ll.current;return a!==null?a:zt.pooledCache}function Ym(a,o){o===null?pe(Ll,Ll.current):pe(Ll,o.pool)}function pT(){var a=V0();return a===null?null:{parent:bn._currentValue,pool:a}}var cu=Error(r(460)),U0=Error(r(474)),Qm=Error(r(542)),Xm={then:function(){}};function gT(a){return a=a.status,a==="fulfilled"||a==="rejected"}function vT(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Ui,Ui),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,_T(a),a;default:if(typeof o.status=="string")o.then(Ui,Ui);else{if(a=zt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=h}},function(h){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,_T(a),a}throw Ul=o,cu}}function Vl(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ul=u,cu):u}}var Ul=null;function yT(){if(Ul===null)throw Error(r(459));var a=Ul;return Ul=null,a}function _T(a){if(a===cu||a===Qm)throw Error(r(483))}var uu=null,nf=0;function Zm(a){var o=nf;return nf+=1,uu===null&&(uu=[]),vT(uu,a,o)}function rf(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Jm(a,o){throw o.$$typeof===_?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function bT(a){function o(X,G){if(a){var ee=X.deletions;ee===null?(X.deletions=[G],X.flags|=16):ee.push(G)}}function u(X,G){if(!a)return null;for(;G!==null;)o(X,G),G=G.sibling;return null}function h(X){for(var G=new Map;X!==null;)X.key!==null?G.set(X.key,X):G.set(X.index,X),X=X.sibling;return G}function y(X,G){return X=es(X,G),X.index=0,X.sibling=null,X}function b(X,G,ee){return X.index=ee,a?(ee=X.alternate,ee!==null?(ee=ee.index,ee<G?(X.flags|=67108866,G):ee):(X.flags|=67108866,G)):(X.flags|=1048576,G)}function j(X){return a&&X.alternate===null&&(X.flags|=67108866),X}function R(X,G,ee,fe){return G===null||G.tag!==6?(G=N0(ee,X.mode,fe),G.return=X,G):(G=y(G,ee),G.return=X,G)}function H(X,G,ee,fe){var ze=ee.type;return ze===E?ue(X,G,ee.props.children,fe,ee.key):G!==null&&(G.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===O&&Vl(ze)===G.type)?(G=y(G,ee.props),rf(G,ee),G.return=X,G):(G=Hm(ee.type,ee.key,ee.props,null,X.mode,fe),rf(G,ee),G.return=X,G)}function te(X,G,ee,fe){return G===null||G.tag!==4||G.stateNode.containerInfo!==ee.containerInfo||G.stateNode.implementation!==ee.implementation?(G=C0(ee,X.mode,fe),G.return=X,G):(G=y(G,ee.children||[]),G.return=X,G)}function ue(X,G,ee,fe,ze){return G===null||G.tag!==7?(G=Dl(ee,X.mode,fe,ze),G.return=X,G):(G=y(G,ee),G.return=X,G)}function me(X,G,ee){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=N0(""+G,X.mode,ee),G.return=X,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return ee=Hm(G.type,G.key,G.props,null,X.mode,ee),rf(ee,G),ee.return=X,ee;case S:return G=C0(G,X.mode,ee),G.return=X,G;case O:return G=Vl(G),me(X,G,ee)}if(Se(G)||z(G))return G=Dl(G,X.mode,ee,null),G.return=X,G;if(typeof G.then=="function")return me(X,Zm(G),ee);if(G.$$typeof===k)return me(X,Wm(X,G),ee);Jm(X,G)}return null}function re(X,G,ee,fe){var ze=G!==null?G.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ze!==null?null:R(X,G,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:return ee.key===ze?H(X,G,ee,fe):null;case S:return ee.key===ze?te(X,G,ee,fe):null;case O:return ee=Vl(ee),re(X,G,ee,fe)}if(Se(ee)||z(ee))return ze!==null?null:ue(X,G,ee,fe,null);if(typeof ee.then=="function")return re(X,G,Zm(ee),fe);if(ee.$$typeof===k)return re(X,G,Wm(X,ee),fe);Jm(X,ee)}return null}function oe(X,G,ee,fe,ze){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return X=X.get(ee)||null,R(G,X,""+fe,ze);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case x:return X=X.get(fe.key===null?ee:fe.key)||null,H(G,X,fe,ze);case S:return X=X.get(fe.key===null?ee:fe.key)||null,te(G,X,fe,ze);case O:return fe=Vl(fe),oe(X,G,ee,fe,ze)}if(Se(fe)||z(fe))return X=X.get(ee)||null,ue(G,X,fe,ze,null);if(typeof fe.then=="function")return oe(X,G,ee,Zm(fe),ze);if(fe.$$typeof===k)return oe(X,G,ee,Wm(G,fe),ze);Jm(G,fe)}return null}function Ce(X,G,ee,fe){for(var ze=null,gt=null,Ie=G,et=G=0,at=null;Ie!==null&&et<ee.length;et++){Ie.index>et?(at=Ie,Ie=null):at=Ie.sibling;var vt=re(X,Ie,ee[et],fe);if(vt===null){Ie===null&&(Ie=at);break}a&&Ie&&vt.alternate===null&&o(X,Ie),G=b(vt,G,et),gt===null?ze=vt:gt.sibling=vt,gt=vt,Ie=at}if(et===ee.length)return u(X,Ie),ut&&ts(X,et),ze;if(Ie===null){for(;et<ee.length;et++)Ie=me(X,ee[et],fe),Ie!==null&&(G=b(Ie,G,et),gt===null?ze=Ie:gt.sibling=Ie,gt=Ie);return ut&&ts(X,et),ze}for(Ie=h(Ie);et<ee.length;et++)at=oe(Ie,X,et,ee[et],fe),at!==null&&(a&&at.alternate!==null&&Ie.delete(at.key===null?et:at.key),G=b(at,G,et),gt===null?ze=at:gt.sibling=at,gt=at);return a&&Ie.forEach(function(Oo){return o(X,Oo)}),ut&&ts(X,et),ze}function qe(X,G,ee,fe){if(ee==null)throw Error(r(151));for(var ze=null,gt=null,Ie=G,et=G=0,at=null,vt=ee.next();Ie!==null&&!vt.done;et++,vt=ee.next()){Ie.index>et?(at=Ie,Ie=null):at=Ie.sibling;var Oo=re(X,Ie,vt.value,fe);if(Oo===null){Ie===null&&(Ie=at);break}a&&Ie&&Oo.alternate===null&&o(X,Ie),G=b(Oo,G,et),gt===null?ze=Oo:gt.sibling=Oo,gt=Oo,Ie=at}if(vt.done)return u(X,Ie),ut&&ts(X,et),ze;if(Ie===null){for(;!vt.done;et++,vt=ee.next())vt=me(X,vt.value,fe),vt!==null&&(G=b(vt,G,et),gt===null?ze=vt:gt.sibling=vt,gt=vt);return ut&&ts(X,et),ze}for(Ie=h(Ie);!vt.done;et++,vt=ee.next())vt=oe(Ie,X,et,vt.value,fe),vt!==null&&(a&&vt.alternate!==null&&Ie.delete(vt.key===null?et:vt.key),G=b(vt,G,et),gt===null?ze=vt:gt.sibling=vt,gt=vt);return a&&Ie.forEach(function(N9){return o(X,N9)}),ut&&ts(X,et),ze}function Rt(X,G,ee,fe){if(typeof ee=="object"&&ee!==null&&ee.type===E&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:e:{for(var ze=ee.key;G!==null;){if(G.key===ze){if(ze=ee.type,ze===E){if(G.tag===7){u(X,G.sibling),fe=y(G,ee.props.children),fe.return=X,X=fe;break e}}else if(G.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===O&&Vl(ze)===G.type){u(X,G.sibling),fe=y(G,ee.props),rf(fe,ee),fe.return=X,X=fe;break e}u(X,G);break}else o(X,G);G=G.sibling}ee.type===E?(fe=Dl(ee.props.children,X.mode,fe,ee.key),fe.return=X,X=fe):(fe=Hm(ee.type,ee.key,ee.props,null,X.mode,fe),rf(fe,ee),fe.return=X,X=fe)}return j(X);case S:e:{for(ze=ee.key;G!==null;){if(G.key===ze)if(G.tag===4&&G.stateNode.containerInfo===ee.containerInfo&&G.stateNode.implementation===ee.implementation){u(X,G.sibling),fe=y(G,ee.children||[]),fe.return=X,X=fe;break e}else{u(X,G);break}else o(X,G);G=G.sibling}fe=C0(ee,X.mode,fe),fe.return=X,X=fe}return j(X);case O:return ee=Vl(ee),Rt(X,G,ee,fe)}if(Se(ee))return Ce(X,G,ee,fe);if(z(ee)){if(ze=z(ee),typeof ze!="function")throw Error(r(150));return ee=ze.call(ee),qe(X,G,ee,fe)}if(typeof ee.then=="function")return Rt(X,G,Zm(ee),fe);if(ee.$$typeof===k)return Rt(X,G,Wm(X,ee),fe);Jm(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,G!==null&&G.tag===6?(u(X,G.sibling),fe=y(G,ee),fe.return=X,X=fe):(u(X,G),fe=N0(ee,X.mode,fe),fe.return=X,X=fe),j(X)):u(X,G)}return function(X,G,ee,fe){try{nf=0;var ze=Rt(X,G,ee,fe);return uu=null,ze}catch(Ie){if(Ie===cu||Ie===Qm)throw Ie;var gt=Qr(29,Ie,null,X.mode);return gt.lanes=fe,gt.return=X,gt}}}var ql=bT(!0),xT=bT(!1),ho=!1;function q0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function B0(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function mo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function po(a,o,u){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(bt&2)!==0){var y=h.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),h.pending=o,o=Fm(a),iT(a,null,u),o}return $m(a,h,o,u),Fm(a)}function af(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,bl(a,u)}}function $0(a,o){var u=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var j={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=j:b=b.next=j,u=u.next}while(u!==null);b===null?y=b=o:b=b.next=o}else y=b=o;u={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var F0=!1;function sf(){if(F0){var a=lu;if(a!==null)throw a}}function of(a,o,u,h){F0=!1;var y=a.updateQueue;ho=!1;var b=y.firstBaseUpdate,j=y.lastBaseUpdate,R=y.shared.pending;if(R!==null){y.shared.pending=null;var H=R,te=H.next;H.next=null,j===null?b=te:j.next=te,j=H;var ue=a.alternate;ue!==null&&(ue=ue.updateQueue,R=ue.lastBaseUpdate,R!==j&&(R===null?ue.firstBaseUpdate=te:R.next=te,ue.lastBaseUpdate=H))}if(b!==null){var me=y.baseState;j=0,ue=te=H=null,R=b;do{var re=R.lane&-536870913,oe=re!==R.lane;if(oe?(it&re)===re:(h&re)===re){re!==0&&re===ou&&(F0=!0),ue!==null&&(ue=ue.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ce=a,qe=R;re=o;var Rt=u;switch(qe.tag){case 1:if(Ce=qe.payload,typeof Ce=="function"){me=Ce.call(Rt,me,re);break e}me=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=qe.payload,re=typeof Ce=="function"?Ce.call(Rt,me,re):Ce,re==null)break e;me=g({},me,re);break e;case 2:ho=!0}}re=R.callback,re!==null&&(a.flags|=64,oe&&(a.flags|=8192),oe=y.callbacks,oe===null?y.callbacks=[re]:oe.push(re))}else oe={lane:re,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ue===null?(te=ue=oe,H=me):ue=ue.next=oe,j|=re;if(R=R.next,R===null){if(R=y.shared.pending,R===null)break;oe=R,R=oe.next,oe.next=null,y.lastBaseUpdate=oe,y.shared.pending=null}}while(!0);ue===null&&(H=me),y.baseState=H,y.firstBaseUpdate=te,y.lastBaseUpdate=ue,b===null&&(y.shared.lanes=0),bo|=j,a.lanes=j,a.memoizedState=me}}function wT(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function ET(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)wT(u[a],o)}var du=F(null),ep=F(0);function ST(a,o){a=fs,pe(ep,a),pe(du,o),fs=a|o.baseLanes}function H0(){pe(ep,fs),pe(du,du.current)}function G0(){fs=ep.current,ne(du),ne(ep)}var Xr=F(null),Ei=null;function go(a){var o=a.alternate;pe(dn,dn.current&1),pe(Xr,a),Ei===null&&(o===null||du.current!==null||o.memoizedState!==null)&&(Ei=a)}function K0(a){pe(dn,dn.current),pe(Xr,a),Ei===null&&(Ei=a)}function AT(a){a.tag===22?(pe(dn,dn.current),pe(Xr,a),Ei===null&&(Ei=a)):vo()}function vo(){pe(dn,dn.current),pe(Xr,Xr.current)}function Zr(a){ne(Xr),Ei===a&&(Ei=null),ne(dn)}var dn=F(0);function tp(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||J_(u)||eb(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var is=0,Je=null,Pt=null,xn=null,np=!1,fu=!1,Bl=!1,rp=0,lf=0,hu=null,yU=0;function tn(){throw Error(r(321))}function W0(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Yr(a[u],o[u]))return!1;return!0}function Y0(a,o,u,h,y,b){return is=b,Je=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=a===null||a.memoizedState===null?lj:u_,Bl=!1,b=u(h,y),Bl=!1,fu&&(b=jT(o,u,h,y)),TT(a),b}function TT(a){W.H=df;var o=Pt!==null&&Pt.next!==null;if(is=0,xn=Pt=Je=null,np=!1,lf=0,hu=null,o)throw Error(r(300));a===null||wn||(a=a.dependencies,a!==null&&Km(a)&&(wn=!0))}function jT(a,o,u,h){Je=a;var y=0;do{if(fu&&(hu=null),lf=0,fu=!1,25<=y)throw Error(r(301));if(y+=1,xn=Pt=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}W.H=cj,b=o(u,h)}while(fu);return b}function _U(){var a=W.H,o=a.useState()[0];return o=typeof o.then=="function"?cf(o):o,a=a.useState()[0],(Pt!==null?Pt.memoizedState:null)!==a&&(Je.flags|=1024),o}function Q0(){var a=rp!==0;return rp=0,a}function X0(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function Z0(a){if(np){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}np=!1}is=0,xn=Pt=Je=null,fu=!1,lf=rp=0,hu=null}function yr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?Je.memoizedState=xn=a:xn=xn.next=a,xn}function fn(){if(Pt===null){var a=Je.alternate;a=a!==null?a.memoizedState:null}else a=Pt.next;var o=xn===null?Je.memoizedState:xn.next;if(o!==null)xn=o,Pt=a;else{if(a===null)throw Je.alternate===null?Error(r(467)):Error(r(310));Pt=a,a={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},xn===null?Je.memoizedState=xn=a:xn=xn.next=a}return xn}function ip(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cf(a){var o=lf;return lf+=1,hu===null&&(hu=[]),a=vT(hu,a,o),o=Je,(xn===null?o.memoizedState:xn.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?lj:u_),a}function ap(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return cf(a);if(a.$$typeof===k)return Jn(a)}throw Error(r(438,String(a)))}function J0(a){var o=null,u=Je.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=Je.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=ip(),Je.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),h=0;h<a;h++)u[h]=$;return o.index++,u}function as(a,o){return typeof o=="function"?o(a):o}function sp(a){var o=fn();return e_(o,Pt,a)}function e_(a,o,u){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var y=a.baseQueue,b=h.pending;if(b!==null){if(y!==null){var j=y.next;y.next=b.next,b.next=j}o.baseQueue=y=b,h.pending=null}if(b=a.baseState,y===null)a.memoizedState=b;else{o=y.next;var R=j=null,H=null,te=o,ue=!1;do{var me=te.lane&-536870913;if(me!==te.lane?(it&me)===me:(is&me)===me){var re=te.revertLane;if(re===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),me===ou&&(ue=!0);else if((is&re)===re){te=te.next,re===ou&&(ue=!0);continue}else me={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},H===null?(R=H=me,j=b):H=H.next=me,Je.lanes|=re,bo|=re;me=te.action,Bl&&u(b,me),b=te.hasEagerState?te.eagerState:u(b,me)}else re={lane:me,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},H===null?(R=H=re,j=b):H=H.next=re,Je.lanes|=me,bo|=me;te=te.next}while(te!==null&&te!==o);if(H===null?j=b:H.next=R,!Yr(b,a.memoizedState)&&(wn=!0,ue&&(u=lu,u!==null)))throw u;a.memoizedState=b,a.baseState=j,a.baseQueue=H,h.lastRenderedState=b}return y===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function t_(a){var o=fn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var h=u.dispatch,y=u.pending,b=o.memoizedState;if(y!==null){u.pending=null;var j=y=y.next;do b=a(b,j.action),j=j.next;while(j!==y);Yr(b,o.memoizedState)||(wn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,h]}function NT(a,o,u){var h=Je,y=fn(),b=ut;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=o();var j=!Yr((Pt||y).memoizedState,u);if(j&&(y.memoizedState=u,wn=!0),y=y.queue,i_(PT.bind(null,h,y,a),[a]),y.getSnapshot!==o||j||xn!==null&&xn.memoizedState.tag&1){if(h.flags|=2048,mu(9,{destroy:void 0},OT.bind(null,h,y,u,o),null),zt===null)throw Error(r(349));b||(is&127)!==0||CT(h,o,u)}return u}function CT(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=Je.updateQueue,o===null?(o=ip(),Je.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function OT(a,o,u,h){o.value=u,o.getSnapshot=h,IT(o)&&RT(a)}function PT(a,o,u){return u(function(){IT(o)&&RT(a)})}function IT(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Yr(a,u)}catch{return!0}}function RT(a){var o=Rl(a,2);o!==null&&Lr(o,a,2)}function n_(a){var o=yr();if(typeof a=="function"){var u=a;if(a=u(),Bl){Or(!0);try{u()}finally{Or(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:a},o}function DT(a,o,u,h){return a.baseState=u,e_(a,Pt,typeof h=="function"?h:as)}function bU(a,o,u,h,y){if(cp(a))throw Error(r(485));if(a=o.action,a!==null){var b={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){b.listeners.push(j)}};W.T!==null?u(!0):b.isTransition=!1,h(b),u=o.pending,u===null?(b.next=o.pending=b,kT(o,b)):(b.next=u.next,o.pending=u.next=b)}}function kT(a,o){var u=o.action,h=o.payload,y=a.state;if(o.isTransition){var b=W.T,j={};W.T=j;try{var R=u(y,h),H=W.S;H!==null&&H(j,R),MT(a,o,R)}catch(te){r_(a,o,te)}finally{b!==null&&j.types!==null&&(b.types=j.types),W.T=b}}else try{b=u(y,h),MT(a,o,b)}catch(te){r_(a,o,te)}}function MT(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){zT(a,o,h)},function(h){return r_(a,o,h)}):zT(a,o,u)}function zT(a,o,u){o.status="fulfilled",o.value=u,LT(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,kT(a,u)))}function r_(a,o,u){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,LT(o),o=o.next;while(o!==h)}a.action=null}function LT(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function VT(a,o){return o}function UT(a,o){if(ut){var u=zt.formState;if(u!==null){e:{var h=Je;if(ut){if($t){t:{for(var y=$t,b=wi;y.nodeType!==8;){if(!b){y=null;break t}if(y=Si(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){$t=Si(y.nextSibling),h=y.data==="F!";break e}}uo(h)}h=!1}h&&(o=u[0])}}return u=yr(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:VT,lastRenderedState:o},u.queue=h,u=aj.bind(null,Je,h),h.dispatch=u,h=n_(!1),b=c_.bind(null,Je,!1,h.queue),h=yr(),y={state:o,dispatch:null,action:a,pending:null},h.queue=y,u=bU.bind(null,Je,y,b,u),y.dispatch=u,h.memoizedState=a,[o,u,!1]}function qT(a){var o=fn();return BT(o,Pt,a)}function BT(a,o,u){if(o=e_(a,o,VT)[0],a=sp(as)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=cf(o)}catch(j){throw j===cu?Qm:j}else h=o;o=fn();var y=o.queue,b=y.dispatch;return u!==o.memoizedState&&(Je.flags|=2048,mu(9,{destroy:void 0},xU.bind(null,y,u),null)),[h,b,a]}function xU(a,o){a.action=o}function $T(a){var o=fn(),u=Pt;if(u!==null)return BT(o,u,a);fn(),o=o.memoizedState,u=fn();var h=u.queue.dispatch;return u.memoizedState=a,[o,h,!1]}function mu(a,o,u,h){return a={tag:a,create:u,deps:h,inst:o,next:null},o=Je.updateQueue,o===null&&(o=ip(),Je.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(h=u.next,u.next=a,a.next=h,o.lastEffect=a),a}function FT(){return fn().memoizedState}function op(a,o,u,h){var y=yr();Je.flags|=a,y.memoizedState=mu(1|o,{destroy:void 0},u,h===void 0?null:h)}function lp(a,o,u,h){var y=fn();h=h===void 0?null:h;var b=y.memoizedState.inst;Pt!==null&&h!==null&&W0(h,Pt.memoizedState.deps)?y.memoizedState=mu(o,b,u,h):(Je.flags|=a,y.memoizedState=mu(1|o,b,u,h))}function HT(a,o){op(8390656,8,a,o)}function i_(a,o){lp(2048,8,a,o)}function wU(a){Je.flags|=4;var o=Je.updateQueue;if(o===null)o=ip(),Je.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function GT(a){var o=fn().memoizedState;return wU({ref:o,nextImpl:a}),function(){if((bt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function KT(a,o){return lp(4,2,a,o)}function WT(a,o){return lp(4,4,a,o)}function YT(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function QT(a,o,u){u=u!=null?u.concat([a]):null,lp(4,4,YT.bind(null,o,a),u)}function a_(){}function XT(a,o){var u=fn();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&W0(o,h[1])?h[0]:(u.memoizedState=[a,o],a)}function ZT(a,o){var u=fn();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&W0(o,h[1]))return h[0];if(h=a(),Bl){Or(!0);try{a()}finally{Or(!1)}}return u.memoizedState=[h,o],h}function s_(a,o,u){return u===void 0||(is&1073741824)!==0&&(it&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=Jj(),Je.lanes|=a,bo|=a,u)}function JT(a,o,u,h){return Yr(u,o)?u:du.current!==null?(a=s_(a,u,h),Yr(a,o)||(wn=!0),a):(is&42)===0||(is&1073741824)!==0&&(it&261930)===0?(wn=!0,a.memoizedState=u):(a=Jj(),Je.lanes|=a,bo|=a,o)}function ej(a,o,u,h,y){var b=le.p;le.p=b!==0&&8>b?b:8;var j=W.T,R={};W.T=R,c_(a,!1,o,u);try{var H=y(),te=W.S;if(te!==null&&te(R,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ue=vU(H,h);uf(a,o,ue,ti(a))}else uf(a,o,h,ti(a))}catch(me){uf(a,o,{then:function(){},status:"rejected",reason:me},ti())}finally{le.p=b,j!==null&&R.types!==null&&(j.types=R.types),W.T=j}}function EU(){}function o_(a,o,u,h){if(a.tag!==5)throw Error(r(476));var y=tj(a).queue;ej(a,y,o,ve,u===null?EU:function(){return nj(a),u(h)})}function tj(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:ve},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function nj(a){var o=tj(a);o.next===null&&(o=a.alternate.memoizedState),uf(a,o.next.queue,{},ti())}function l_(){return Jn(jf)}function rj(){return fn().memoizedState}function ij(){return fn().memoizedState}function SU(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=ti();a=mo(u);var h=po(o,a,u);h!==null&&(Lr(h,o,u),af(h,o,u)),o={cache:z0()},a.payload=o;return}o=o.return}}function AU(a,o,u){var h=ti();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},cp(a)?sj(o,u):(u=T0(a,o,u,h),u!==null&&(Lr(u,a,h),oj(u,o,h)))}function aj(a,o,u){var h=ti();uf(a,o,u,h)}function uf(a,o,u,h){var y={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(cp(a))sj(o,y);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var j=o.lastRenderedState,R=b(j,u);if(y.hasEagerState=!0,y.eagerState=R,Yr(R,j))return $m(a,o,y,0),zt===null&&Bm(),!1}catch{}if(u=T0(a,o,y,h),u!==null)return Lr(u,a,h),oj(u,o,h),!0}return!1}function c_(a,o,u,h){if(h={lane:2,revertLane:q_(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},cp(a)){if(o)throw Error(r(479))}else o=T0(a,u,h,2),o!==null&&Lr(o,a,2)}function cp(a){var o=a.alternate;return a===Je||o!==null&&o===Je}function sj(a,o){fu=np=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function oj(a,o,u){if((u&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,bl(a,u)}}var df={readContext:Jn,use:ap,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn};df.useEffectEvent=tn;var lj={readContext:Jn,use:ap,useCallback:function(a,o){return yr().memoizedState=[a,o===void 0?null:o],a},useContext:Jn,useEffect:HT,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,op(4194308,4,YT.bind(null,o,a),u)},useLayoutEffect:function(a,o){return op(4194308,4,a,o)},useInsertionEffect:function(a,o){op(4,2,a,o)},useMemo:function(a,o){var u=yr();o=o===void 0?null:o;var h=a();if(Bl){Or(!0);try{a()}finally{Or(!1)}}return u.memoizedState=[h,o],h},useReducer:function(a,o,u){var h=yr();if(u!==void 0){var y=u(o);if(Bl){Or(!0);try{u(o)}finally{Or(!1)}}}else y=o;return h.memoizedState=h.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},h.queue=a,a=a.dispatch=AU.bind(null,Je,a),[h.memoizedState,a]},useRef:function(a){var o=yr();return a={current:a},o.memoizedState=a},useState:function(a){a=n_(a);var o=a.queue,u=aj.bind(null,Je,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:a_,useDeferredValue:function(a,o){var u=yr();return s_(u,a,o)},useTransition:function(){var a=n_(!1);return a=ej.bind(null,Je,a.queue,!0,!1),yr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var h=Je,y=yr();if(ut){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),zt===null)throw Error(r(349));(it&127)!==0||CT(h,o,u)}y.memoizedState=u;var b={value:u,getSnapshot:o};return y.queue=b,HT(PT.bind(null,h,b,a),[a]),h.flags|=2048,mu(9,{destroy:void 0},OT.bind(null,h,b,u,o),null),u},useId:function(){var a=yr(),o=zt.identifierPrefix;if(ut){var u=Aa,h=Sa;u=(h&~(1<<32-Qt(h)-1)).toString(32)+u,o="_"+o+"R_"+u,u=rp++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=yU++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:l_,useFormState:UT,useActionState:UT,useOptimistic:function(a){var o=yr();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=c_.bind(null,Je,!0,u),u.dispatch=o,[a,o]},useMemoCache:J0,useCacheRefresh:function(){return yr().memoizedState=SU.bind(null,Je)},useEffectEvent:function(a){var o=yr(),u={impl:a};return o.memoizedState=u,function(){if((bt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},u_={readContext:Jn,use:ap,useCallback:XT,useContext:Jn,useEffect:i_,useImperativeHandle:QT,useInsertionEffect:KT,useLayoutEffect:WT,useMemo:ZT,useReducer:sp,useRef:FT,useState:function(){return sp(as)},useDebugValue:a_,useDeferredValue:function(a,o){var u=fn();return JT(u,Pt.memoizedState,a,o)},useTransition:function(){var a=sp(as)[0],o=fn().memoizedState;return[typeof a=="boolean"?a:cf(a),o]},useSyncExternalStore:NT,useId:rj,useHostTransitionStatus:l_,useFormState:qT,useActionState:qT,useOptimistic:function(a,o){var u=fn();return DT(u,Pt,a,o)},useMemoCache:J0,useCacheRefresh:ij};u_.useEffectEvent=GT;var cj={readContext:Jn,use:ap,useCallback:XT,useContext:Jn,useEffect:i_,useImperativeHandle:QT,useInsertionEffect:KT,useLayoutEffect:WT,useMemo:ZT,useReducer:t_,useRef:FT,useState:function(){return t_(as)},useDebugValue:a_,useDeferredValue:function(a,o){var u=fn();return Pt===null?s_(u,a,o):JT(u,Pt.memoizedState,a,o)},useTransition:function(){var a=t_(as)[0],o=fn().memoizedState;return[typeof a=="boolean"?a:cf(a),o]},useSyncExternalStore:NT,useId:rj,useHostTransitionStatus:l_,useFormState:$T,useActionState:$T,useOptimistic:function(a,o){var u=fn();return Pt!==null?DT(u,Pt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:J0,useCacheRefresh:ij};cj.useEffectEvent=GT;function d_(a,o,u,h){o=a.memoizedState,u=u(h,o),u=u==null?o:g({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var f_={enqueueSetState:function(a,o,u){a=a._reactInternals;var h=ti(),y=mo(h);y.payload=o,u!=null&&(y.callback=u),o=po(a,y,h),o!==null&&(Lr(o,a,h),af(o,a,h))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var h=ti(),y=mo(h);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=po(a,y,h),o!==null&&(Lr(o,a,h),af(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=ti(),h=mo(u);h.tag=2,o!=null&&(h.callback=o),o=po(a,h,u),o!==null&&(Lr(o,a,u),af(o,a,u))}};function uj(a,o,u,h,y,b,j){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,b,j):o.prototype&&o.prototype.isPureReactComponent?!Qd(u,h)||!Qd(y,b):!0}function dj(a,o,u,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==a&&f_.enqueueReplaceState(o,o.state,null)}function $l(a,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(a=a.defaultProps){u===o&&(u=g({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}function fj(a){qm(a)}function hj(a){console.error(a)}function mj(a){qm(a)}function up(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function pj(a,o,u){try{var h=a.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function h_(a,o,u){return u=mo(u),u.tag=3,u.payload={element:null},u.callback=function(){up(a,o)},u}function gj(a){return a=mo(a),a.tag=3,a}function vj(a,o,u,h){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=h.value;a.payload=function(){return y(b)},a.callback=function(){pj(o,u,h)}}var j=u.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(a.callback=function(){pj(o,u,h),typeof y!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var R=h.stack;this.componentDidCatch(h.value,{componentStack:R!==null?R:""})})}function TU(a,o,u,h,y){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&su(o,u,y,!0),u=Xr.current,u!==null){switch(u.tag){case 31:case 13:return Ei===null?wp():u.alternate===null&&nn===0&&(nn=3),u.flags&=-257,u.flags|=65536,u.lanes=y,h===Xm?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),L_(a,h,y)),!1;case 22:return u.flags|=65536,h===Xm?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),L_(a,h,y)),!1}throw Error(r(435,u.tag))}return L_(a,h,y),wp(),!1}if(ut)return o=Xr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,h!==I0&&(a=Error(r(422),{cause:h}),Jd(_i(a,u)))):(h!==I0&&(o=Error(r(423),{cause:h}),Jd(_i(o,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,h=_i(h,u),y=h_(a.stateNode,h,y),$0(a,y),nn!==4&&(nn=2)),!1;var b=Error(r(520),{cause:h});if(b=_i(b,u),_f===null?_f=[b]:_f.push(b),nn!==4&&(nn=2),o===null)return!0;h=_i(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=h_(u.stateNode,h,a),$0(u,a),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(xo===null||!xo.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=gj(y),vj(y,a,u,h),$0(u,y),!1}u=u.return}while(u!==null);return!1}var m_=Error(r(461)),wn=!1;function er(a,o,u,h){o.child=a===null?xT(o,null,u,h):ql(o,a.child,u,h)}function yj(a,o,u,h,y){u=u.render;var b=o.ref;if("ref"in h){var j={};for(var R in h)R!=="ref"&&(j[R]=h[R])}else j=h;return zl(o),h=Y0(a,o,u,j,b,y),R=Q0(),a!==null&&!wn?(X0(a,o,y),ss(a,o,y)):(ut&&R&&O0(o),o.flags|=1,er(a,o,h,y),o.child)}function _j(a,o,u,h,y){if(a===null){var b=u.type;return typeof b=="function"&&!j0(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,bj(a,o,b,h,y)):(a=Hm(u.type,null,h,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!w_(a,y)){var j=b.memoizedProps;if(u=u.compare,u=u!==null?u:Qd,u(j,h)&&a.ref===o.ref)return ss(a,o,y)}return o.flags|=1,a=es(b,h),a.ref=o.ref,a.return=o,o.child=a}function bj(a,o,u,h,y){if(a!==null){var b=a.memoizedProps;if(Qd(b,h)&&a.ref===o.ref)if(wn=!1,o.pendingProps=h=b,w_(a,y))(a.flags&131072)!==0&&(wn=!0);else return o.lanes=a.lanes,ss(a,o,y)}return p_(a,o,u,h,y)}function xj(a,o,u,h){var y=h.children,b=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,a!==null){for(h=o.child=a.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~b}else h=0,o.child=null;return wj(a,o,b,u,h)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Ym(o,b!==null?b.cachePool:null),b!==null?ST(o,b):H0(),AT(o);else return h=o.lanes=536870912,wj(a,o,b!==null?b.baseLanes|u:u,u,h)}else b!==null?(Ym(o,b.cachePool),ST(o,b),vo(),o.memoizedState=null):(a!==null&&Ym(o,null),H0(),vo());return er(a,o,y,u),o.child}function ff(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function wj(a,o,u,h,y){var b=V0();return b=b===null?null:{parent:bn._currentValue,pool:b},o.memoizedState={baseLanes:u,cachePool:b},a!==null&&Ym(o,null),H0(),AT(o),a!==null&&su(a,o,h,!0),o.childLanes=y,null}function dp(a,o){return o=hp({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function Ej(a,o,u){return ql(o,a.child,null,u),a=dp(o,o.pendingProps),a.flags|=2,Zr(o),o.memoizedState=null,a}function jU(a,o,u){var h=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(ut){if(h.mode==="hidden")return a=dp(o,h),o.lanes=536870912,ff(null,a);if(K0(o),(a=$t)?(a=kN(a,wi),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:lo!==null?{id:Sa,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},u=sT(a),u.return=o,o.child=u,Zn=o,$t=null)):a=null,a===null)throw uo(o);return o.lanes=536870912,null}return dp(o,h)}var b=a.memoizedState;if(b!==null){var j=b.dehydrated;if(K0(o),y)if(o.flags&256)o.flags&=-257,o=Ej(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(wn||su(a,o,u,!1),y=(u&a.childLanes)!==0,wn||y){if(h=zt,h!==null&&(j=Id(h,u),j!==0&&j!==b.retryLane))throw b.retryLane=j,Rl(a,j),Lr(h,a,j),m_;wp(),o=Ej(a,o,u)}else a=b.treeContext,$t=Si(j.nextSibling),Zn=o,ut=!0,co=null,wi=!1,a!==null&&cT(o,a),o=dp(o,h),o.flags|=4096;return o}return a=es(a.child,{mode:h.mode,children:h.children}),a.ref=o.ref,o.child=a,a.return=o,a}function fp(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function p_(a,o,u,h,y){return zl(o),u=Y0(a,o,u,h,void 0,y),h=Q0(),a!==null&&!wn?(X0(a,o,y),ss(a,o,y)):(ut&&h&&O0(o),o.flags|=1,er(a,o,u,y),o.child)}function Sj(a,o,u,h,y,b){return zl(o),o.updateQueue=null,u=jT(o,h,u,y),TT(a),h=Q0(),a!==null&&!wn?(X0(a,o,b),ss(a,o,b)):(ut&&h&&O0(o),o.flags|=1,er(a,o,u,b),o.child)}function Aj(a,o,u,h,y){if(zl(o),o.stateNode===null){var b=nu,j=u.contextType;typeof j=="object"&&j!==null&&(b=Jn(j)),b=new u(h,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=f_,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=h,b.state=o.memoizedState,b.refs={},q0(o),j=u.contextType,b.context=typeof j=="object"&&j!==null?Jn(j):nu,b.state=o.memoizedState,j=u.getDerivedStateFromProps,typeof j=="function"&&(d_(o,u,j,h),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(j=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),j!==b.state&&f_.enqueueReplaceState(b,b.state,null),of(o,h,b,y),sf(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){b=o.stateNode;var R=o.memoizedProps,H=$l(u,R);b.props=H;var te=b.context,ue=u.contextType;j=nu,typeof ue=="object"&&ue!==null&&(j=Jn(ue));var me=u.getDerivedStateFromProps;ue=typeof me=="function"||typeof b.getSnapshotBeforeUpdate=="function",R=o.pendingProps!==R,ue||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R||te!==j)&&dj(o,b,h,j),ho=!1;var re=o.memoizedState;b.state=re,of(o,h,b,y),sf(),te=o.memoizedState,R||re!==te||ho?(typeof me=="function"&&(d_(o,u,me,h),te=o.memoizedState),(H=ho||uj(o,u,H,h,re,te,j))?(ue||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=te),b.props=h,b.state=te,b.context=j,h=H):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{b=o.stateNode,B0(a,o),j=o.memoizedProps,ue=$l(u,j),b.props=ue,me=o.pendingProps,re=b.context,te=u.contextType,H=nu,typeof te=="object"&&te!==null&&(H=Jn(te)),R=u.getDerivedStateFromProps,(te=typeof R=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j!==me||re!==H)&&dj(o,b,h,H),ho=!1,re=o.memoizedState,b.state=re,of(o,h,b,y),sf();var oe=o.memoizedState;j!==me||re!==oe||ho||a!==null&&a.dependencies!==null&&Km(a.dependencies)?(typeof R=="function"&&(d_(o,u,R,h),oe=o.memoizedState),(ue=ho||uj(o,u,ue,h,re,oe,H)||a!==null&&a.dependencies!==null&&Km(a.dependencies))?(te||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,oe,H),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,oe,H)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||j===a.memoizedProps&&re===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&re===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=oe),b.props=h,b.state=oe,b.context=H,h=ue):(typeof b.componentDidUpdate!="function"||j===a.memoizedProps&&re===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&re===a.memoizedState||(o.flags|=1024),h=!1)}return b=h,fp(a,o),h=(o.flags&128)!==0,b||h?(b=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&h?(o.child=ql(o,a.child,null,y),o.child=ql(o,null,u,y)):er(a,o,u,y),o.memoizedState=b.state,a=o.child):a=ss(a,o,y),a}function Tj(a,o,u,h){return kl(),o.flags|=256,er(a,o,u,h),o.child}var g_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function v_(a){return{baseLanes:a,cachePool:pT()}}function y_(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=ei),a}function jj(a,o,u){var h=o.pendingProps,y=!1,b=(o.flags&128)!==0,j;if((j=b)||(j=a!==null&&a.memoizedState===null?!1:(dn.current&2)!==0),j&&(y=!0,o.flags&=-129),j=(o.flags&32)!==0,o.flags&=-33,a===null){if(ut){if(y?go(o):vo(),(a=$t)?(a=kN(a,wi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:lo!==null?{id:Sa,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},u=sT(a),u.return=o,o.child=u,Zn=o,$t=null)):a=null,a===null)throw uo(o);return eb(a)?o.lanes=32:o.lanes=536870912,null}var R=h.children;return h=h.fallback,y?(vo(),y=o.mode,R=hp({mode:"hidden",children:R},y),h=Dl(h,y,u,null),R.return=o,h.return=o,R.sibling=h,o.child=R,h=o.child,h.memoizedState=v_(u),h.childLanes=y_(a,j,u),o.memoizedState=g_,ff(null,h)):(go(o),__(o,R))}var H=a.memoizedState;if(H!==null&&(R=H.dehydrated,R!==null)){if(b)o.flags&256?(go(o),o.flags&=-257,o=b_(a,o,u)):o.memoizedState!==null?(vo(),o.child=a.child,o.flags|=128,o=null):(vo(),R=h.fallback,y=o.mode,h=hp({mode:"visible",children:h.children},y),R=Dl(R,y,u,null),R.flags|=2,h.return=o,R.return=o,h.sibling=R,o.child=h,ql(o,a.child,null,u),h=o.child,h.memoizedState=v_(u),h.childLanes=y_(a,j,u),o.memoizedState=g_,o=ff(null,h));else if(go(o),eb(R)){if(j=R.nextSibling&&R.nextSibling.dataset,j)var te=j.dgst;j=te,h=Error(r(419)),h.stack="",h.digest=j,Jd({value:h,source:null,stack:null}),o=b_(a,o,u)}else if(wn||su(a,o,u,!1),j=(u&a.childLanes)!==0,wn||j){if(j=zt,j!==null&&(h=Id(j,u),h!==0&&h!==H.retryLane))throw H.retryLane=h,Rl(a,h),Lr(j,a,h),m_;J_(R)||wp(),o=b_(a,o,u)}else J_(R)?(o.flags|=192,o.child=a.child,o=null):(a=H.treeContext,$t=Si(R.nextSibling),Zn=o,ut=!0,co=null,wi=!1,a!==null&&cT(o,a),o=__(o,h.children),o.flags|=4096);return o}return y?(vo(),R=h.fallback,y=o.mode,H=a.child,te=H.sibling,h=es(H,{mode:"hidden",children:h.children}),h.subtreeFlags=H.subtreeFlags&65011712,te!==null?R=es(te,R):(R=Dl(R,y,u,null),R.flags|=2),R.return=o,h.return=o,h.sibling=R,o.child=h,ff(null,h),h=o.child,R=a.child.memoizedState,R===null?R=v_(u):(y=R.cachePool,y!==null?(H=bn._currentValue,y=y.parent!==H?{parent:H,pool:H}:y):y=pT(),R={baseLanes:R.baseLanes|u,cachePool:y}),h.memoizedState=R,h.childLanes=y_(a,j,u),o.memoizedState=g_,ff(a.child,h)):(go(o),u=a.child,a=u.sibling,u=es(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,a!==null&&(j=o.deletions,j===null?(o.deletions=[a],o.flags|=16):j.push(a)),o.child=u,o.memoizedState=null,u)}function __(a,o){return o=hp({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function hp(a,o){return a=Qr(22,a,null,o),a.lanes=0,a}function b_(a,o,u){return ql(o,a.child,null,u),a=__(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function Nj(a,o,u){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),k0(a.return,o,u)}function x_(a,o,u,h,y,b){var j=a.memoizedState;j===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:y,treeForkCount:b}:(j.isBackwards=o,j.rendering=null,j.renderingStartTime=0,j.last=h,j.tail=u,j.tailMode=y,j.treeForkCount=b)}function Cj(a,o,u){var h=o.pendingProps,y=h.revealOrder,b=h.tail;h=h.children;var j=dn.current,R=(j&2)!==0;if(R?(j=j&1|2,o.flags|=128):j&=1,pe(dn,j),er(a,o,h,u),h=ut?Zd:0,!R&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Nj(a,u,o);else if(a.tag===19)Nj(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(u=o.child,y=null;u!==null;)a=u.alternate,a!==null&&tp(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),x_(o,!1,y,u,b,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&tp(a)===null){o.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}x_(o,!0,u,null,b,h);break;case"together":x_(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function ss(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),bo|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(su(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=es(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=es(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function w_(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Km(a)))}function NU(a,o,u){switch(o.tag){case 3:Le(o,o.stateNode.containerInfo),fo(o,bn,a.memoizedState.cache),kl();break;case 27:case 5:Te(o);break;case 4:Le(o,o.stateNode.containerInfo);break;case 10:fo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,K0(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(go(o),o.flags|=128,null):(u&o.child.childLanes)!==0?jj(a,o,u):(go(o),a=ss(a,o,u),a!==null?a.sibling:null);go(o);break;case 19:var y=(a.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(su(a,o,u,!1),h=(u&o.childLanes)!==0),y){if(h)return Cj(a,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),pe(dn,dn.current),h)break;return null;case 22:return o.lanes=0,xj(a,o,u,o.pendingProps);case 24:fo(o,bn,a.memoizedState.cache)}return ss(a,o,u)}function Oj(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)wn=!0;else{if(!w_(a,u)&&(o.flags&128)===0)return wn=!1,NU(a,o,u);wn=(a.flags&131072)!==0}else wn=!1,ut&&(o.flags&1048576)!==0&&lT(o,Zd,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(a=Vl(o.elementType),o.type=a,typeof a=="function")j0(a)?(h=$l(a,h),o.tag=1,o=Aj(null,o,a,h,u)):(o.tag=0,o=p_(null,o,a,h,u));else{if(a!=null){var y=a.$$typeof;if(y===M){o.tag=11,o=yj(null,o,a,h,u);break e}else if(y===P){o.tag=14,o=_j(null,o,a,h,u);break e}}throw o=be(a)||a,Error(r(306,o,""))}}return o;case 0:return p_(a,o,o.type,o.pendingProps,u);case 1:return h=o.type,y=$l(h,o.pendingProps),Aj(a,o,h,y,u);case 3:e:{if(Le(o,o.stateNode.containerInfo),a===null)throw Error(r(387));h=o.pendingProps;var b=o.memoizedState;y=b.element,B0(a,o),of(o,h,null,u);var j=o.memoizedState;if(h=j.cache,fo(o,bn,h),h!==b.cache&&M0(o,[bn],u,!0),sf(),h=j.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:j.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=Tj(a,o,h,u);break e}else if(h!==y){y=_i(Error(r(424)),o),Jd(y),o=Tj(a,o,h,u);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,$t=Si(a.firstChild),Zn=o,ut=!0,co=null,wi=!0,u=xT(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(kl(),h===y){o=ss(a,o,u);break e}er(a,o,h,u)}o=o.child}return o;case 26:return fp(a,o),a===null?(u=qN(o.type,null,o.pendingProps,null))?o.memoizedState=u:ut||(u=o.type,a=o.pendingProps,h=Cp(K.current).createElement(u),h[vn]=o,h[zn]=a,tr(h,u,a),yn(h),o.stateNode=h):o.memoizedState=qN(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Te(o),a===null&&ut&&(h=o.stateNode=LN(o.type,o.pendingProps,K.current),Zn=o,wi=!0,y=$t,Ao(o.type)?(tb=y,$t=Si(h.firstChild)):$t=y),er(a,o,o.pendingProps.children,u),fp(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&ut&&((y=h=$t)&&(h=i9(h,o.type,o.pendingProps,wi),h!==null?(o.stateNode=h,Zn=o,$t=Si(h.firstChild),wi=!1,y=!0):y=!1),y||uo(o)),Te(o),y=o.type,b=o.pendingProps,j=a!==null?a.memoizedProps:null,h=b.children,Q_(y,b)?h=null:j!==null&&Q_(y,j)&&(o.flags|=32),o.memoizedState!==null&&(y=Y0(a,o,_U,null,null,u),jf._currentValue=y),fp(a,o),er(a,o,h,u),o.child;case 6:return a===null&&ut&&((a=u=$t)&&(u=a9(u,o.pendingProps,wi),u!==null?(o.stateNode=u,Zn=o,$t=null,a=!0):a=!1),a||uo(o)),null;case 13:return jj(a,o,u);case 4:return Le(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=ql(o,null,h,u):er(a,o,h,u),o.child;case 11:return yj(a,o,o.type,o.pendingProps,u);case 7:return er(a,o,o.pendingProps,u),o.child;case 8:return er(a,o,o.pendingProps.children,u),o.child;case 12:return er(a,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,fo(o,o.type,h.value),er(a,o,h.children,u),o.child;case 9:return y=o.type._context,h=o.pendingProps.children,zl(o),y=Jn(y),h=h(y),o.flags|=1,er(a,o,h,u),o.child;case 14:return _j(a,o,o.type,o.pendingProps,u);case 15:return bj(a,o,o.type,o.pendingProps,u);case 19:return Cj(a,o,u);case 31:return jU(a,o,u);case 22:return xj(a,o,u,o.pendingProps);case 24:return zl(o),h=Jn(bn),a===null?(y=V0(),y===null&&(y=zt,b=z0(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),o.memoizedState={parent:h,cache:y},q0(o),fo(o,bn,y)):((a.lanes&u)!==0&&(B0(a,o),of(o,null,null,u),sf()),y=a.memoizedState,b=o.memoizedState,y.parent!==h?(y={parent:h,cache:h},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),fo(o,bn,h)):(h=b.cache,fo(o,bn,h),h!==y.cache&&M0(o,[bn],u,!0))),er(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function os(a){a.flags|=4}function E_(a,o,u,h,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(rN())a.flags|=8192;else throw Ul=Xm,U0}else a.flags&=-16777217}function Pj(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!GN(o))if(rN())a.flags|=8192;else throw Ul=Xm,U0}function mp(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Ve():536870912,a.lanes|=o,yu|=o)}function hf(a,o){if(!ut)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Ft(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,h=0;if(o)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=h,a.childLanes=u,o}function CU(a,o,u){var h=o.pendingProps;switch(P0(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(o),null;case 1:return Ft(o),null;case 3:return u=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),rs(bn),ie(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(au(o)?os(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,R0())),Ft(o),null;case 26:var y=o.type,b=o.memoizedState;return a===null?(os(o),b!==null?(Ft(o),Pj(o,b)):(Ft(o),E_(o,y,null,h,u))):b?b!==a.memoizedState?(os(o),Ft(o),Pj(o,b)):(Ft(o),o.flags&=-16777217):(a=a.memoizedProps,a!==h&&os(o),Ft(o),E_(o,y,a,h,u)),null;case 27:if(Y(o),u=K.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&os(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Ft(o),null}a=_e.current,au(o)?uT(o):(a=LN(y,h,u),o.stateNode=a,os(o))}return Ft(o),null;case 5:if(Y(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&os(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Ft(o),null}if(b=_e.current,au(o))uT(o);else{var j=Cp(K.current);switch(b){case 1:b=j.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=j.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=j.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=j.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=j.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof h.is=="string"?j.createElement("select",{is:h.is}):j.createElement("select"),h.multiple?b.multiple=!0:h.size&&(b.size=h.size);break;default:b=typeof h.is=="string"?j.createElement(y,{is:h.is}):j.createElement(y)}}b[vn]=o,b[zn]=h;e:for(j=o.child;j!==null;){if(j.tag===5||j.tag===6)b.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===o)break e;for(;j.sibling===null;){if(j.return===null||j.return===o)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}o.stateNode=b;e:switch(tr(b,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&os(o)}}return Ft(o),E_(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&os(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(a=K.current,au(o)){if(a=o.stateNode,u=o.memoizedProps,h=null,y=Zn,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}a[vn]=o,a=!!(a.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||jN(a.nodeValue,u)),a||uo(o,!0)}else a=Cp(a).createTextNode(h),a[vn]=o,o.stateNode=a}return Ft(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(h=au(o),u!==null){if(a===null){if(!h)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[vn]=o}else kl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ft(o),a=!1}else u=R0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(Zr(o),o):(Zr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Ft(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=au(o),h!==null&&h.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[vn]=o}else kl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ft(o),y=!1}else y=R0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Zr(o),o):(Zr(o),null)}return Zr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=h!==null,a=a!==null&&a.memoizedState!==null,u&&(h=o.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==y&&(h.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),mp(o,o.updateQueue),Ft(o),null);case 4:return ie(),a===null&&H_(o.stateNode.containerInfo),Ft(o),null;case 10:return rs(o.type),Ft(o),null;case 19:if(ne(dn),h=o.memoizedState,h===null)return Ft(o),null;if(y=(o.flags&128)!==0,b=h.rendering,b===null)if(y)hf(h,!1);else{if(nn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=tp(a),b!==null){for(o.flags|=128,hf(h,!1),a=b.updateQueue,o.updateQueue=a,mp(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)aT(u,a),u=u.sibling;return pe(dn,dn.current&1|2),ut&&ts(o,h.treeForkCount),o.child}a=a.sibling}h.tail!==null&&Ue()>_p&&(o.flags|=128,y=!0,hf(h,!1),o.lanes=4194304)}else{if(!y)if(a=tp(b),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,mp(o,a),hf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!ut)return Ft(o),null}else 2*Ue()-h.renderingStartTime>_p&&u!==536870912&&(o.flags|=128,y=!0,hf(h,!1),o.lanes=4194304);h.isBackwards?(b.sibling=o.child,o.child=b):(a=h.last,a!==null?a.sibling=b:o.child=b,h.last=b)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Ue(),a.sibling=null,u=dn.current,pe(dn,y?u&1|2:u&1),ut&&ts(o,h.treeForkCount),a):(Ft(o),null);case 22:case 23:return Zr(o),G0(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(Ft(o),o.subtreeFlags&6&&(o.flags|=8192)):Ft(o),u=o.updateQueue,u!==null&&mp(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),a!==null&&ne(Ll),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),rs(bn),Ft(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function OU(a,o){switch(P0(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return rs(bn),ie(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Y(o),null;case 31:if(o.memoizedState!==null){if(Zr(o),o.alternate===null)throw Error(r(340));kl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Zr(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));kl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ne(dn),null;case 4:return ie(),null;case 10:return rs(o.type),null;case 22:case 23:return Zr(o),G0(),a!==null&&ne(Ll),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return rs(bn),null;case 25:return null;default:return null}}function Ij(a,o){switch(P0(o),o.tag){case 3:rs(bn),ie();break;case 26:case 27:case 5:Y(o);break;case 4:ie();break;case 31:o.memoizedState!==null&&Zr(o);break;case 13:Zr(o);break;case 19:ne(dn);break;case 10:rs(o.type);break;case 22:case 23:Zr(o),G0(),a!==null&&ne(Ll);break;case 24:rs(bn)}}function mf(a,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var y=h.next;u=y;do{if((u.tag&a)===a){h=void 0;var b=u.create,j=u.inst;h=b(),j.destroy=h}u=u.next}while(u!==y)}}catch(R){At(o,o.return,R)}}function yo(a,o,u){try{var h=o.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var b=y.next;h=b;do{if((h.tag&a)===a){var j=h.inst,R=j.destroy;if(R!==void 0){j.destroy=void 0,y=o;var H=u,te=R;try{te()}catch(ue){At(y,H,ue)}}}h=h.next}while(h!==b)}}catch(ue){At(o,o.return,ue)}}function Rj(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{ET(o,u)}catch(h){At(a,a.return,h)}}}function Dj(a,o,u){u.props=$l(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(h){At(a,o,h)}}function pf(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof u=="function"?a.refCleanup=u(h):u.current=h}}catch(y){At(a,o,y)}}function Ta(a,o){var u=a.ref,h=a.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(y){At(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){At(a,o,y)}else u.current=null}function kj(a){var o=a.type,u=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(y){At(a,a.return,y)}}function S_(a,o,u){try{var h=a.stateNode;ZU(h,a.type,u,o),h[zn]=o}catch(y){At(a,a.return,y)}}function Mj(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ao(a.type)||a.tag===4}function A_(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Mj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ao(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function T_(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ui));else if(h!==4&&(h===27&&Ao(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(T_(a,o,u),a=a.sibling;a!==null;)T_(a,o,u),a=a.sibling}function pp(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(h!==4&&(h===27&&Ao(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(pp(a,o,u),a=a.sibling;a!==null;)pp(a,o,u),a=a.sibling}function zj(a){var o=a.stateNode,u=a.memoizedProps;try{for(var h=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);tr(o,h,u),o[vn]=a,o[zn]=u}catch(b){At(a,a.return,b)}}var ls=!1,En=!1,j_=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,Vn=null;function PU(a,o){if(a=a.containerInfo,W_=Mp,a=QA(a),b0(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var y=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var j=0,R=-1,H=-1,te=0,ue=0,me=a,re=null;t:for(;;){for(var oe;me!==u||y!==0&&me.nodeType!==3||(R=j+y),me!==b||h!==0&&me.nodeType!==3||(H=j+h),me.nodeType===3&&(j+=me.nodeValue.length),(oe=me.firstChild)!==null;)re=me,me=oe;for(;;){if(me===a)break t;if(re===u&&++te===y&&(R=j),re===b&&++ue===h&&(H=j),(oe=me.nextSibling)!==null)break;me=re,re=me.parentNode}me=oe}u=R===-1||H===-1?null:{start:R,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(Y_={focusedElem:a,selectionRange:u},Mp=!1,Vn=o;Vn!==null;)if(o=Vn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Vn=a;else for(;Vn!==null;){switch(o=Vn,b=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)y=a[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,u=o,y=b.memoizedProps,b=b.memoizedState,h=u.stateNode;try{var Ce=$l(u.type,y);a=h.getSnapshotBeforeUpdate(Ce,b),h.__reactInternalSnapshotBeforeUpdate=a}catch(qe){At(u,u.return,qe)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)Z_(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Z_(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Vn=a;break}Vn=o.return}}function Vj(a,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:us(a,u),h&4&&mf(5,u);break;case 1:if(us(a,u),h&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(j){At(u,u.return,j)}else{var y=$l(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(j){At(u,u.return,j)}}h&64&&Rj(u),h&512&&pf(u,u.return);break;case 3:if(us(a,u),h&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{ET(a,o)}catch(j){At(u,u.return,j)}}break;case 27:o===null&&h&4&&zj(u);case 26:case 5:us(a,u),o===null&&h&4&&kj(u),h&512&&pf(u,u.return);break;case 12:us(a,u);break;case 31:us(a,u),h&4&&Bj(a,u);break;case 13:us(a,u),h&4&&$j(a,u),h&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=UU.bind(null,u),s9(a,u))));break;case 22:if(h=u.memoizedState!==null||ls,!h){o=o!==null&&o.memoizedState!==null||En,y=ls;var b=En;ls=h,(En=o)&&!b?ds(a,u,(u.subtreeFlags&8772)!==0):us(a,u),ls=y,En=b}break;case 30:break;default:us(a,u)}}function Uj(a){var o=a.alternate;o!==null&&(a.alternate=null,Uj(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Bc(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Kt=null,Dr=!1;function cs(a,o,u){for(u=u.child;u!==null;)qj(a,o,u),u=u.sibling}function qj(a,o,u){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Jt,u)}catch{}switch(u.tag){case 26:En||Ta(u,o),cs(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:En||Ta(u,o);var h=Kt,y=Dr;Ao(u.type)&&(Kt=u.stateNode,Dr=!1),cs(a,o,u),Sf(u.stateNode),Kt=h,Dr=y;break;case 5:En||Ta(u,o);case 6:if(h=Kt,y=Dr,Kt=null,cs(a,o,u),Kt=h,Dr=y,Kt!==null)if(Dr)try{(Kt.nodeType===9?Kt.body:Kt.nodeName==="HTML"?Kt.ownerDocument.body:Kt).removeChild(u.stateNode)}catch(b){At(u,o,b)}else try{Kt.removeChild(u.stateNode)}catch(b){At(u,o,b)}break;case 18:Kt!==null&&(Dr?(a=Kt,RN(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Tu(a)):RN(Kt,u.stateNode));break;case 4:h=Kt,y=Dr,Kt=u.stateNode.containerInfo,Dr=!0,cs(a,o,u),Kt=h,Dr=y;break;case 0:case 11:case 14:case 15:yo(2,u,o),En||yo(4,u,o),cs(a,o,u);break;case 1:En||(Ta(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&Dj(u,o,h)),cs(a,o,u);break;case 21:cs(a,o,u);break;case 22:En=(h=En)||u.memoizedState!==null,cs(a,o,u),En=h;break;default:cs(a,o,u)}}function Bj(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Tu(a)}catch(u){At(o,o.return,u)}}}function $j(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Tu(a)}catch(u){At(o,o.return,u)}}function IU(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new Lj),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new Lj),o;default:throw Error(r(435,a.tag))}}function gp(a,o){var u=IU(a);o.forEach(function(h){if(!u.has(h)){u.add(h);var y=qU.bind(null,a,h);h.then(y,y)}})}function kr(a,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var y=u[h],b=a,j=o,R=j;e:for(;R!==null;){switch(R.tag){case 27:if(Ao(R.type)){Kt=R.stateNode,Dr=!1;break e}break;case 5:Kt=R.stateNode,Dr=!1;break e;case 3:case 4:Kt=R.stateNode.containerInfo,Dr=!0;break e}R=R.return}if(Kt===null)throw Error(r(160));qj(b,j,y),Kt=null,Dr=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Fj(o,a),o=o.sibling}var Gi=null;function Fj(a,o){var u=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:kr(o,a),Mr(a),h&4&&(yo(3,a,a.return),mf(3,a),yo(5,a,a.return));break;case 1:kr(o,a),Mr(a),h&512&&(En||u===null||Ta(u,u.return)),h&64&&ls&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var y=Gi;if(kr(o,a),Mr(a),h&512&&(En||u===null||Ta(u,u.return)),h&4){var b=u!==null?u.memoizedState:null;if(h=a.memoizedState,u===null)if(h===null)if(a.stateNode===null){e:{h=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":b=y.getElementsByTagName("title")[0],(!b||b[fa]||b[vn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(h),y.head.insertBefore(b,y.querySelector("head > title"))),tr(b,h,u),b[vn]=a,yn(b),h=b;break e;case"link":var j=FN("link","href",y).get(h+(u.href||""));if(j){for(var R=0;R<j.length;R++)if(b=j[R],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){j.splice(R,1);break t}}b=y.createElement(h),tr(b,h,u),y.head.appendChild(b);break;case"meta":if(j=FN("meta","content",y).get(h+(u.content||""))){for(R=0;R<j.length;R++)if(b=j[R],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){j.splice(R,1);break t}}b=y.createElement(h),tr(b,h,u),y.head.appendChild(b);break;default:throw Error(r(468,h))}b[vn]=a,yn(b),h=b}a.stateNode=h}else HN(y,a.type,a.stateNode);else a.stateNode=$N(y,h,a.memoizedProps);else b!==h?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,h===null?HN(y,a.type,a.stateNode):$N(y,h,a.memoizedProps)):h===null&&a.stateNode!==null&&S_(a,a.memoizedProps,u.memoizedProps)}break;case 27:kr(o,a),Mr(a),h&512&&(En||u===null||Ta(u,u.return)),u!==null&&h&4&&S_(a,a.memoizedProps,u.memoizedProps);break;case 5:if(kr(o,a),Mr(a),h&512&&(En||u===null||Ta(u,u.return)),a.flags&32){y=a.stateNode;try{Rr(y,"")}catch(Ce){At(a,a.return,Ce)}}h&4&&a.stateNode!=null&&(y=a.memoizedProps,S_(a,y,u!==null?u.memoizedProps:y)),h&1024&&(j_=!0);break;case 6:if(kr(o,a),Mr(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,u=a.stateNode;try{u.nodeValue=h}catch(Ce){At(a,a.return,Ce)}}break;case 3:if(Ip=null,y=Gi,Gi=Op(o.containerInfo),kr(o,a),Gi=y,Mr(a),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Tu(o.containerInfo)}catch(Ce){At(a,a.return,Ce)}j_&&(j_=!1,Hj(a));break;case 4:h=Gi,Gi=Op(a.stateNode.containerInfo),kr(o,a),Mr(a),Gi=h;break;case 12:kr(o,a),Mr(a);break;case 31:kr(o,a),Mr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,gp(a,h)));break;case 13:kr(o,a),Mr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(yp=Ue()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,gp(a,h)));break;case 22:y=a.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,te=ls,ue=En;if(ls=te||y,En=ue||H,kr(o,a),En=ue,ls=te,Mr(a),h&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||H||ls||En||Fl(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){H=u=o;try{if(b=H.stateNode,y)j=b.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{R=H.stateNode;var me=H.memoizedProps.style,re=me!=null&&me.hasOwnProperty("display")?me.display:null;R.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Ce){At(H,H.return,Ce)}}}else if(o.tag===6){if(u===null){H=o;try{H.stateNode.nodeValue=y?"":H.memoizedProps}catch(Ce){At(H,H.return,Ce)}}}else if(o.tag===18){if(u===null){H=o;try{var oe=H.stateNode;y?DN(oe,!0):DN(H.stateNode,!1)}catch(Ce){At(H,H.return,Ce)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,gp(a,u))));break;case 19:kr(o,a),Mr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,gp(a,h)));break;case 30:break;case 21:break;default:kr(o,a),Mr(a)}}function Mr(a){var o=a.flags;if(o&2){try{for(var u,h=a.return;h!==null;){if(Mj(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,b=A_(a);pp(a,b,y);break;case 5:var j=u.stateNode;u.flags&32&&(Rr(j,""),u.flags&=-33);var R=A_(a);pp(a,R,j);break;case 3:case 4:var H=u.stateNode.containerInfo,te=A_(a);T_(a,te,H);break;default:throw Error(r(161))}}catch(ue){At(a,a.return,ue)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function Hj(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;Hj(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function us(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Vj(a,o.alternate,o),o=o.sibling}function Fl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:yo(4,o,o.return),Fl(o);break;case 1:Ta(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Dj(o,o.return,u),Fl(o);break;case 27:Sf(o.stateNode);case 26:case 5:Ta(o,o.return),Fl(o);break;case 22:o.memoizedState===null&&Fl(o);break;case 30:Fl(o);break;default:Fl(o)}a=a.sibling}}function ds(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,y=a,b=o,j=b.flags;switch(b.tag){case 0:case 11:case 15:ds(y,b,u),mf(4,b);break;case 1:if(ds(y,b,u),h=b,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(te){At(h,h.return,te)}if(h=b,y=h.updateQueue,y!==null){var R=h.stateNode;try{var H=y.shared.hiddenCallbacks;if(H!==null)for(y.shared.hiddenCallbacks=null,y=0;y<H.length;y++)wT(H[y],R)}catch(te){At(h,h.return,te)}}u&&j&64&&Rj(b),pf(b,b.return);break;case 27:zj(b);case 26:case 5:ds(y,b,u),u&&h===null&&j&4&&kj(b),pf(b,b.return);break;case 12:ds(y,b,u);break;case 31:ds(y,b,u),u&&j&4&&Bj(y,b);break;case 13:ds(y,b,u),u&&j&4&&$j(y,b);break;case 22:b.memoizedState===null&&ds(y,b,u),pf(b,b.return);break;case 30:break;default:ds(y,b,u)}o=o.sibling}}function N_(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&ef(u))}function C_(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&ef(a))}function Ki(a,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Gj(a,o,u,h),o=o.sibling}function Gj(a,o,u,h){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Ki(a,o,u,h),y&2048&&mf(9,o);break;case 1:Ki(a,o,u,h);break;case 3:Ki(a,o,u,h),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&ef(a)));break;case 12:if(y&2048){Ki(a,o,u,h),a=o.stateNode;try{var b=o.memoizedProps,j=b.id,R=b.onPostCommit;typeof R=="function"&&R(j,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(H){At(o,o.return,H)}}else Ki(a,o,u,h);break;case 31:Ki(a,o,u,h);break;case 13:Ki(a,o,u,h);break;case 23:break;case 22:b=o.stateNode,j=o.alternate,o.memoizedState!==null?b._visibility&2?Ki(a,o,u,h):gf(a,o):b._visibility&2?Ki(a,o,u,h):(b._visibility|=2,pu(a,o,u,h,(o.subtreeFlags&10256)!==0||!1)),y&2048&&N_(j,o);break;case 24:Ki(a,o,u,h),y&2048&&C_(o.alternate,o);break;default:Ki(a,o,u,h)}}function pu(a,o,u,h,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=a,j=o,R=u,H=h,te=j.flags;switch(j.tag){case 0:case 11:case 15:pu(b,j,R,H,y),mf(8,j);break;case 23:break;case 22:var ue=j.stateNode;j.memoizedState!==null?ue._visibility&2?pu(b,j,R,H,y):gf(b,j):(ue._visibility|=2,pu(b,j,R,H,y)),y&&te&2048&&N_(j.alternate,j);break;case 24:pu(b,j,R,H,y),y&&te&2048&&C_(j.alternate,j);break;default:pu(b,j,R,H,y)}o=o.sibling}}function gf(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,h=o,y=h.flags;switch(h.tag){case 22:gf(u,h),y&2048&&N_(h.alternate,h);break;case 24:gf(u,h),y&2048&&C_(h.alternate,h);break;default:gf(u,h)}o=o.sibling}}var vf=8192;function gu(a,o,u){if(a.subtreeFlags&vf)for(a=a.child;a!==null;)Kj(a,o,u),a=a.sibling}function Kj(a,o,u){switch(a.tag){case 26:gu(a,o,u),a.flags&vf&&a.memoizedState!==null&&y9(u,Gi,a.memoizedState,a.memoizedProps);break;case 5:gu(a,o,u);break;case 3:case 4:var h=Gi;Gi=Op(a.stateNode.containerInfo),gu(a,o,u),Gi=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=vf,vf=16777216,gu(a,o,u),vf=h):gu(a,o,u));break;default:gu(a,o,u)}}function Wj(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function yf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Vn=h,Qj(h,a)}Wj(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Yj(a),a=a.sibling}function Yj(a){switch(a.tag){case 0:case 11:case 15:yf(a),a.flags&2048&&yo(9,a,a.return);break;case 3:yf(a);break;case 12:yf(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,vp(a)):yf(a);break;default:yf(a)}}function vp(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Vn=h,Qj(h,a)}Wj(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:yo(8,o,o.return),vp(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,vp(o));break;default:vp(o)}a=a.sibling}}function Qj(a,o){for(;Vn!==null;){var u=Vn;switch(u.tag){case 0:case 11:case 15:yo(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:ef(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Vn=h;else e:for(u=a;Vn!==null;){h=Vn;var y=h.sibling,b=h.return;if(Uj(h),h===u){Vn=null;break e}if(y!==null){y.return=b,Vn=y;break e}Vn=b}}}var RU={getCacheForType:function(a){var o=Jn(bn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return Jn(bn).controller.signal}},DU=typeof WeakMap=="function"?WeakMap:Map,bt=0,zt=null,tt=null,it=0,St=0,Jr=null,_o=!1,vu=!1,O_=!1,fs=0,nn=0,bo=0,Hl=0,P_=0,ei=0,yu=0,_f=null,zr=null,I_=!1,yp=0,Xj=0,_p=1/0,bp=null,xo=null,Pn=0,wo=null,_u=null,hs=0,R_=0,D_=null,Zj=null,bf=0,k_=null;function ti(){return(bt&2)!==0&&it!==0?it&-it:W.T!==null?q_():xm()}function Jj(){if(ei===0)if((it&536870912)===0||ut){var a=Ya;Ya<<=1,(Ya&3932160)===0&&(Ya=262144),ei=a}else ei=536870912;return a=Xr.current,a!==null&&(a.flags|=32),ei}function Lr(a,o,u){(a===zt&&(St===2||St===9)||a.cancelPendingCommit!==null)&&(bu(a,0),Eo(a,it,ei,!1)),Mn(a,u),((bt&2)===0||a!==zt)&&(a===zt&&((bt&2)===0&&(Hl|=u),nn===4&&Eo(a,it,ei,!1)),ja(a))}function eN(a,o,u){if((bt&6)!==0)throw Error(r(327));var h=!u&&(o&127)===0&&(o&a.expiredLanes)===0||Gr(a,o),y=h?zU(a,o):z_(a,o,!0),b=h;do{if(y===0){vu&&!h&&Eo(a,o,0,!1);break}else{if(u=a.current.alternate,b&&!kU(u)){y=z_(a,o,!1),b=!1;continue}if(y===2){if(b=o,a.errorRecoveryDisabledLanes&b)var j=0;else j=a.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){o=j;e:{var R=a;y=_f;var H=R.current.memoizedState.isDehydrated;if(H&&(bu(R,j).flags|=256),j=z_(R,j,!1),j!==2){if(O_&&!H){R.errorRecoveryDisabledLanes|=b,Hl|=b,y=4;break e}b=zr,zr=y,b!==null&&(zr===null?zr=b:zr.push.apply(zr,b))}y=j}if(b=!1,y!==2)continue}}if(y===1){bu(a,0),Eo(a,o,0,!0);break}e:{switch(h=a,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Eo(h,o,ei,!_o);break e;case 2:zr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=yp+300-Ue(),10<y)){if(Eo(h,o,ei,!_o),or(h,0,!0)!==0)break e;hs=o,h.timeoutHandle=PN(tN.bind(null,h,u,zr,bp,I_,o,ei,Hl,yu,_o,b,"Throttled",-0,0),y);break e}tN(h,u,zr,bp,I_,o,ei,Hl,yu,_o,b,null,-0,0)}}break}while(!0);ja(a)}function tN(a,o,u,h,y,b,j,R,H,te,ue,me,re,oe){if(a.timeoutHandle=-1,me=o.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ui},Kj(o,b,me);var Ce=(b&62914560)===b?yp-Ue():(b&4194048)===b?Xj-Ue():0;if(Ce=_9(me,Ce),Ce!==null){hs=b,a.cancelPendingCommit=Ce(cN.bind(null,a,o,b,u,h,y,j,R,H,ue,me,null,re,oe)),Eo(a,b,j,!te);return}}cN(a,o,b,u,h,y,j,R,H)}function kU(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var y=u[h],b=y.getSnapshot;y=y.value;try{if(!Yr(b(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Eo(a,o,u,h){o&=~P_,o&=~Hl,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var y=o;0<y;){var b=31-Qt(y),j=1<<b;h[b]=-1,y&=~j}u!==0&&Pr(a,u,o)}function xp(){return(bt&6)===0?(xf(0),!1):!0}function M_(){if(tt!==null){if(St===0)var a=tt.return;else a=tt,ns=Ml=null,Z0(a),uu=null,nf=0,a=tt;for(;a!==null;)Ij(a.alternate,a),a=a.return;tt=null}}function bu(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,t9(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),hs=0,M_(),zt=a,tt=u=es(a.current,null),it=o,St=0,Jr=null,_o=!1,vu=Gr(a,o),O_=!1,yu=ei=P_=Hl=bo=nn=0,zr=_f=null,I_=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var y=31-Qt(h),b=1<<y;o|=a[y],h&=~b}return fs=o,Bm(),u}function nN(a,o){Je=null,W.H=df,o===cu||o===Qm?(o=yT(),St=3):o===U0?(o=yT(),St=4):St=o===m_?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Jr=o,tt===null&&(nn=1,up(a,_i(o,a.current)))}function rN(){var a=Xr.current;return a===null?!0:(it&4194048)===it?Ei===null:(it&62914560)===it||(it&536870912)!==0?a===Ei:!1}function iN(){var a=W.H;return W.H=df,a===null?df:a}function aN(){var a=W.A;return W.A=RU,a}function wp(){nn=4,_o||(it&4194048)!==it&&Xr.current!==null||(vu=!0),(bo&134217727)===0&&(Hl&134217727)===0||zt===null||Eo(zt,it,ei,!1)}function z_(a,o,u){var h=bt;bt|=2;var y=iN(),b=aN();(zt!==a||it!==o)&&(bp=null,bu(a,o)),o=!1;var j=nn;e:do try{if(St!==0&&tt!==null){var R=tt,H=Jr;switch(St){case 8:M_(),j=6;break e;case 3:case 2:case 9:case 6:Xr.current===null&&(o=!0);var te=St;if(St=0,Jr=null,xu(a,R,H,te),u&&vu){j=0;break e}break;default:te=St,St=0,Jr=null,xu(a,R,H,te)}}MU(),j=nn;break}catch(ue){nN(a,ue)}while(!0);return o&&a.shellSuspendCounter++,ns=Ml=null,bt=h,W.H=y,W.A=b,tt===null&&(zt=null,it=0,Bm()),j}function MU(){for(;tt!==null;)sN(tt)}function zU(a,o){var u=bt;bt|=2;var h=iN(),y=aN();zt!==a||it!==o?(bp=null,_p=Ue()+500,bu(a,o)):vu=Gr(a,o);e:do try{if(St!==0&&tt!==null){o=tt;var b=Jr;t:switch(St){case 1:St=0,Jr=null,xu(a,o,b,1);break;case 2:case 9:if(gT(b)){St=0,Jr=null,oN(o);break}o=function(){St!==2&&St!==9||zt!==a||(St=7),ja(a)},b.then(o,o);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:gT(b)?(St=0,Jr=null,oN(o)):(St=0,Jr=null,xu(a,o,b,7));break;case 5:var j=null;switch(tt.tag){case 26:j=tt.memoizedState;case 5:case 27:var R=tt;if(j?GN(j):R.stateNode.complete){St=0,Jr=null;var H=R.sibling;if(H!==null)tt=H;else{var te=R.return;te!==null?(tt=te,Ep(te)):tt=null}break t}}St=0,Jr=null,xu(a,o,b,5);break;case 6:St=0,Jr=null,xu(a,o,b,6);break;case 8:M_(),nn=6;break e;default:throw Error(r(462))}}LU();break}catch(ue){nN(a,ue)}while(!0);return ns=Ml=null,W.H=h,W.A=y,bt=u,tt!==null?0:(zt=null,it=0,Bm(),nn)}function LU(){for(;tt!==null&&!ce();)sN(tt)}function sN(a){var o=Oj(a.alternate,a,fs);a.memoizedProps=a.pendingProps,o===null?Ep(a):tt=o}function oN(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=Sj(u,o,o.pendingProps,o.type,void 0,it);break;case 11:o=Sj(u,o,o.pendingProps,o.type.render,o.ref,it);break;case 5:Z0(o);default:Ij(u,o),o=tt=aT(o,fs),o=Oj(u,o,fs)}a.memoizedProps=a.pendingProps,o===null?Ep(a):tt=o}function xu(a,o,u,h){ns=Ml=null,Z0(o),uu=null,nf=0;var y=o.return;try{if(TU(a,y,o,u,it)){nn=1,up(a,_i(u,a.current)),tt=null;return}}catch(b){if(y!==null)throw tt=y,b;nn=1,up(a,_i(u,a.current)),tt=null;return}o.flags&32768?(ut||h===1?a=!0:vu||(it&536870912)!==0?a=!1:(_o=a=!0,(h===2||h===9||h===3||h===6)&&(h=Xr.current,h!==null&&h.tag===13&&(h.flags|=16384))),lN(o,a)):Ep(o)}function Ep(a){var o=a;do{if((o.flags&32768)!==0){lN(o,_o);return}a=o.return;var u=CU(o.alternate,o,fs);if(u!==null){tt=u;return}if(o=o.sibling,o!==null){tt=o;return}tt=o=a}while(o!==null);nn===0&&(nn=5)}function lN(a,o){do{var u=OU(a.alternate,a);if(u!==null){u.flags&=32767,tt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){tt=a;return}tt=a=u}while(a!==null);nn=6,tt=null}function cN(a,o,u,h,y,b,j,R,H){a.cancelPendingCommit=null;do Sp();while(Pn!==0);if((bt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=A0,_l(a,u,b,j,R,H),a===zt&&(tt=zt=null,it=0),_u=o,wo=a,hs=u,R_=b,D_=y,Zj=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,BU(Nr,function(){return mN(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=W.T,W.T=null,y=le.p,le.p=2,j=bt,bt|=4;try{PU(a,o,u)}finally{bt=j,le.p=y,W.T=h}}Pn=1,uN(),dN(),fN()}}function uN(){if(Pn===1){Pn=0;var a=wo,o=_u,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=W.T,W.T=null;var h=le.p;le.p=2;var y=bt;bt|=4;try{Fj(o,a);var b=Y_,j=QA(a.containerInfo),R=b.focusedElem,H=b.selectionRange;if(j!==R&&R&&R.ownerDocument&&YA(R.ownerDocument.documentElement,R)){if(H!==null&&b0(R)){var te=H.start,ue=H.end;if(ue===void 0&&(ue=te),"selectionStart"in R)R.selectionStart=te,R.selectionEnd=Math.min(ue,R.value.length);else{var me=R.ownerDocument||document,re=me&&me.defaultView||window;if(re.getSelection){var oe=re.getSelection(),Ce=R.textContent.length,qe=Math.min(H.start,Ce),Rt=H.end===void 0?qe:Math.min(H.end,Ce);!oe.extend&&qe>Rt&&(j=Rt,Rt=qe,qe=j);var X=WA(R,qe),G=WA(R,Rt);if(X&&G&&(oe.rangeCount!==1||oe.anchorNode!==X.node||oe.anchorOffset!==X.offset||oe.focusNode!==G.node||oe.focusOffset!==G.offset)){var ee=me.createRange();ee.setStart(X.node,X.offset),oe.removeAllRanges(),qe>Rt?(oe.addRange(ee),oe.extend(G.node,G.offset)):(ee.setEnd(G.node,G.offset),oe.addRange(ee))}}}}for(me=[],oe=R;oe=oe.parentNode;)oe.nodeType===1&&me.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<me.length;R++){var fe=me[R];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Mp=!!W_,Y_=W_=null}finally{bt=y,le.p=h,W.T=u}}a.current=o,Pn=2}}function dN(){if(Pn===2){Pn=0;var a=wo,o=_u,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=W.T,W.T=null;var h=le.p;le.p=2;var y=bt;bt|=4;try{Vj(a,o.alternate,o)}finally{bt=y,le.p=h,W.T=u}}Pn=3}}function fN(){if(Pn===4||Pn===3){Pn=0,Pe();var a=wo,o=_u,u=hs,h=Zj;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Pn=5:(Pn=0,_u=wo=null,hN(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(xo=null),Qa(u),o=o.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Jt,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=W.T,y=le.p,le.p=2,W.T=null;try{for(var b=a.onRecoverableError,j=0;j<h.length;j++){var R=h[j];b(R.value,{componentStack:R.stack})}}finally{W.T=o,le.p=y}}(hs&3)!==0&&Sp(),ja(a),y=a.pendingLanes,(u&261930)!==0&&(y&42)!==0?a===k_?bf++:(bf=0,k_=a):bf=0,xf(0)}}function hN(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,ef(o)))}function Sp(){return uN(),dN(),fN(),mN()}function mN(){if(Pn!==5)return!1;var a=wo,o=R_;R_=0;var u=Qa(hs),h=W.T,y=le.p;try{le.p=32>u?32:u,W.T=null,u=D_,D_=null;var b=wo,j=hs;if(Pn=0,_u=wo=null,hs=0,(bt&6)!==0)throw Error(r(331));var R=bt;if(bt|=4,Yj(b.current),Gj(b,b.current,j,u),bt=R,xf(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Jt,b)}catch{}return!0}finally{le.p=y,W.T=h,hN(a,o)}}function pN(a,o,u){o=_i(u,o),o=h_(a.stateNode,o,2),a=po(a,o,2),a!==null&&(Mn(a,2),ja(a))}function At(a,o,u){if(a.tag===3)pN(a,a,u);else for(;o!==null;){if(o.tag===3){pN(o,a,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(xo===null||!xo.has(h))){a=_i(u,a),u=gj(2),h=po(o,u,2),h!==null&&(vj(u,h,o,a),Mn(h,2),ja(h));break}}o=o.return}}function L_(a,o,u){var h=a.pingCache;if(h===null){h=a.pingCache=new DU;var y=new Set;h.set(o,y)}else y=h.get(o),y===void 0&&(y=new Set,h.set(o,y));y.has(u)||(O_=!0,y.add(u),a=VU.bind(null,a,o,u),o.then(a,a))}function VU(a,o,u){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,zt===a&&(it&u)===u&&(nn===4||nn===3&&(it&62914560)===it&&300>Ue()-yp?(bt&2)===0&&bu(a,0):P_|=u,yu===it&&(yu=0)),ja(a)}function gN(a,o){o===0&&(o=Ve()),a=Rl(a,o),a!==null&&(Mn(a,o),ja(a))}function UU(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),gN(a,u)}function qU(a,o){var u=0;switch(a.tag){case 31:case 13:var h=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),gN(a,u)}function BU(a,o){return Ct(a,o)}var Ap=null,wu=null,V_=!1,Tp=!1,U_=!1,So=0;function ja(a){a!==wu&&a.next===null&&(wu===null?Ap=wu=a:wu=wu.next=a),Tp=!0,V_||(V_=!0,FU())}function xf(a,o){if(!U_&&Tp){U_=!0;do for(var u=!1,h=Ap;h!==null;){if(a!==0){var y=h.pendingLanes;if(y===0)var b=0;else{var j=h.suspendedLanes,R=h.pingedLanes;b=(1<<31-Qt(42|a)+1)-1,b&=y&~(j&~R),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,bN(h,b))}else b=it,b=or(h,h===zt?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||Gr(h,b)||(u=!0,bN(h,b));h=h.next}while(u);U_=!1}}function $U(){vN()}function vN(){Tp=V_=!1;var a=0;So!==0&&e9()&&(a=So);for(var o=Ue(),u=null,h=Ap;h!==null;){var y=h.next,b=yN(h,o);b===0?(h.next=null,u===null?Ap=y:u.next=y,y===null&&(wu=u)):(u=h,(a!==0||(b&3)!==0)&&(Tp=!0)),h=y}Pn!==0&&Pn!==5||xf(a),So!==0&&(So=0)}function yN(a,o){for(var u=a.suspendedLanes,h=a.pingedLanes,y=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var j=31-Qt(b),R=1<<j,H=y[j];H===-1?((R&u)===0||(R&h)!==0)&&(y[j]=Z(R,o)):H<=o&&(a.expiredLanes|=R),b&=~R}if(o=zt,u=it,u=or(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,u===0||a===o&&(St===2||St===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&jr(h),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Gr(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(h!==null&&jr(h),Qa(u)){case 2:case 8:u=On;break;case 32:u=Nr;break;case 268435456:u=Cr;break;default:u=Nr}return h=_N.bind(null,a),u=Ct(u,h),a.callbackPriority=o,a.callbackNode=u,o}return h!==null&&h!==null&&jr(h),a.callbackPriority=2,a.callbackNode=null,2}function _N(a,o){if(Pn!==0&&Pn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Sp()&&a.callbackNode!==u)return null;var h=it;return h=or(a,a===zt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(eN(a,h,o),yN(a,Ue()),a.callbackNode!=null&&a.callbackNode===u?_N.bind(null,a):null)}function bN(a,o){if(Sp())return null;eN(a,o,!0)}function FU(){n9(function(){(bt&6)!==0?Ct(Mt,$U):vN()})}function q_(){if(So===0){var a=ou;a===0&&(a=fi,fi<<=1,(fi&261888)===0&&(fi=256)),So=a}return So}function xN(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Gc(""+a)}function wN(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function HU(a,o,u,h,y){if(o==="submit"&&u&&u.stateNode===y){var b=xN((y[zn]||null).action),j=h.submitter;j&&(o=(o=j[zn]||null)?xN(o.formAction):j.getAttribute("formAction"),o!==null&&(b=o,j=null));var R=new ba("action","action",null,h,y);a.push({event:R,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(So!==0){var H=j?wN(y,j):new FormData(y);o_(u,{pending:!0,data:H,method:y.method,action:b},null,H)}}else typeof b=="function"&&(R.preventDefault(),H=j?wN(y,j):new FormData(y),o_(u,{pending:!0,data:H,method:y.method,action:b},b,H))},currentTarget:y}]})}}for(var B_=0;B_<S0.length;B_++){var $_=S0[B_],GU=$_.toLowerCase(),KU=$_[0].toUpperCase()+$_.slice(1);Hi(GU,"on"+KU)}Hi(JA,"onAnimationEnd"),Hi(eT,"onAnimationIteration"),Hi(tT,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(cU,"onTransitionRun"),Hi(uU,"onTransitionStart"),Hi(dU,"onTransitionCancel"),Hi(nT,"onTransitionEnd"),ga("onMouseEnter",["mouseout","mouseover"]),ga("onMouseLeave",["mouseout","mouseover"]),ga("onPointerEnter",["pointerout","pointerover"]),ga("onPointerLeave",["pointerout","pointerover"]),pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pa("onBeforeInput",["compositionend","keypress","textInput","paste"]),pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wf));function EN(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var h=a[u],y=h.event;h=h.listeners;e:{var b=void 0;if(o)for(var j=h.length-1;0<=j;j--){var R=h[j],H=R.instance,te=R.currentTarget;if(R=R.listener,H!==b&&y.isPropagationStopped())break e;b=R,y.currentTarget=te;try{b(y)}catch(ue){qm(ue)}y.currentTarget=null,b=H}else for(j=0;j<h.length;j++){if(R=h[j],H=R.instance,te=R.currentTarget,R=R.listener,H!==b&&y.isPropagationStopped())break e;b=R,y.currentTarget=te;try{b(y)}catch(ue){qm(ue)}y.currentTarget=null,b=H}}}}function nt(a,o){var u=o[qc];u===void 0&&(u=o[qc]=new Set);var h=a+"__bubble";u.has(h)||(SN(o,a,2,!1),u.add(h))}function F_(a,o,u){var h=0;o&&(h|=4),SN(u,a,h,o)}var jp="_reactListening"+Math.random().toString(36).slice(2);function H_(a){if(!a[jp]){a[jp]=!0,Rd.forEach(function(u){u!=="selectionchange"&&(WU.has(u)||F_(u,!1,a),F_(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[jp]||(o[jp]=!0,F_("selectionchange",!1,o))}}function SN(a,o,u,h){switch(JN(o)){case 2:var y=w9;break;case 8:y=E9;break;default:y=sb}u=y.bind(null,o,u,a),y=void 0,!Al||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),h?y!==void 0?a.addEventListener(o,u,{capture:!0,passive:y}):a.addEventListener(o,u,!0):y!==void 0?a.addEventListener(o,u,{passive:y}):a.addEventListener(o,u,!1)}function G_(a,o,u,h,y){var b=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var j=h.tag;if(j===3||j===4){var R=h.stateNode.containerInfo;if(R===y)break;if(j===4)for(j=h.return;j!==null;){var H=j.tag;if((H===3||H===4)&&j.stateNode.containerInfo===y)return;j=j.return}for(;R!==null;){if(j=ha(R),j===null)return;if(H=j.tag,H===5||H===6||H===26||H===27){h=b=j;continue e}R=R.parentNode}}h=h.return}io(function(){var te=b,ue=pi(u),me=[];e:{var re=rT.get(a);if(re!==void 0){var oe=ba,Ce=a;switch(a){case"keypress":if(jl(u)===0)break e;case"keydown":case"keyup":oe=Lm;break;case"focusin":Ce="focus",oe=Cl;break;case"focusout":Ce="blur",oe=Cl;break;case"beforeblur":case"afterblur":oe=Cl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=T;break;case JA:case eT:case tT:oe=Pm;break;case nT:oe=U;break;case"scroll":case"scrollend":oe=Hd;break;case"wheel":oe=se;break;case"copy":case"cut":case"paste":oe=Im;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Ja;break;case"toggle":case"beforetoggle":oe=Ze}var qe=(o&4)!==0,Rt=!qe&&(a==="scroll"||a==="scrollend"),X=qe?re!==null?re+"Capture":null:re;qe=[];for(var G=te,ee;G!==null;){var fe=G;if(ee=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ee===null||X===null||(fe=qi(G,X),fe!=null&&qe.push(Ef(G,fe,ee))),Rt)break;G=G.return}0<qe.length&&(re=new oe(re,Ce,null,u,ue),me.push({event:re,listeners:qe}))}}if((o&7)===0){e:{if(re=a==="mouseover"||a==="pointerover",oe=a==="mouseout"||a==="pointerout",re&&u!==Bd&&(Ce=u.relatedTarget||u.fromElement)&&(ha(Ce)||Ce[da]))break e;if((oe||re)&&(re=ue.window===ue?ue:(re=ue.ownerDocument)?re.defaultView||re.parentWindow:window,oe?(Ce=u.relatedTarget||u.toElement,oe=te,Ce=Ce?ha(Ce):null,Ce!==null&&(Rt=s(Ce),qe=Ce.tag,Ce!==Rt||qe!==5&&qe!==27&&qe!==6)&&(Ce=null)):(oe=null,Ce=te),oe!==Ce)){if(qe=Gd,fe="onMouseLeave",X="onMouseEnter",G="mouse",(a==="pointerout"||a==="pointerover")&&(qe=Ja,fe="onPointerLeave",X="onPointerEnter",G="pointer"),Rt=oe==null?re:Kr(oe),ee=Ce==null?re:Kr(Ce),re=new qe(fe,G+"leave",oe,u,ue),re.target=Rt,re.relatedTarget=ee,fe=null,ha(ue)===te&&(qe=new qe(X,G+"enter",Ce,u,ue),qe.target=ee,qe.relatedTarget=Rt,fe=qe),Rt=fe,oe&&Ce)t:{for(qe=YU,X=oe,G=Ce,ee=0,fe=X;fe;fe=qe(fe))ee++;fe=0;for(var ze=G;ze;ze=qe(ze))fe++;for(;0<ee-fe;)X=qe(X),ee--;for(;0<fe-ee;)G=qe(G),fe--;for(;ee--;){if(X===G||G!==null&&X===G.alternate){qe=X;break t}X=qe(X),G=qe(G)}qe=null}else qe=null;oe!==null&&AN(me,re,oe,qe,!1),Ce!==null&&Rt!==null&&AN(me,Rt,Ce,qe,!0)}}e:{if(re=te?Kr(te):window,oe=re.nodeName&&re.nodeName.toLowerCase(),oe==="select"||oe==="input"&&re.type==="file")var gt=BA;else if(UA(re))if($A)gt=sU;else{gt=iU;var Ie=rU}else oe=re.nodeName,!oe||oe.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?te&&Hc(te.elementType)&&(gt=BA):gt=aU;if(gt&&(gt=gt(a,te))){qA(me,gt,u,ue);break e}Ie&&Ie(a,re,te),a==="focusout"&&te&&re.type==="number"&&te.memoizedProps.value!=null&&Vd(re,"number",re.value)}switch(Ie=te?Kr(te):window,a){case"focusin":(UA(Ie)||Ie.contentEditable==="true")&&(Jc=Ie,x0=te,Xd=null);break;case"focusout":Xd=x0=Jc=null;break;case"mousedown":w0=!0;break;case"contextmenu":case"mouseup":case"dragend":w0=!1,XA(me,u,ue);break;case"selectionchange":if(lU)break;case"keydown":case"keyup":XA(me,u,ue)}var et;if(_t)e:{switch(a){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Zc?Ol(a,u)&&(at="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(at="onCompositionStart");at&&(Ea&&u.locale!=="ko"&&(Zc||at!=="onCompositionStart"?at==="onCompositionEnd"&&Zc&&(et=Fd()):(_a=ue,$d="value"in _a?_a.value:_a.textContent,Zc=!0)),Ie=Np(te,at),0<Ie.length&&(at=new wa(at,a,null,u,ue),me.push({event:at,listeners:Ie}),et?at.data=et:(et=Xc(u),et!==null&&(at.data=et)))),(et=vi?JV(a,u):eU(a,u))&&(at=Np(te,"onBeforeInput"),0<at.length&&(Ie=new wa("onBeforeInput","beforeinput",null,u,ue),me.push({event:Ie,listeners:at}),Ie.data=et)),HU(me,a,te,u,ue)}EN(me,o)})}function Ef(a,o,u){return{instance:a,listener:o,currentTarget:u}}function Np(a,o){for(var u=o+"Capture",h=[];a!==null;){var y=a,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=qi(a,u),y!=null&&h.unshift(Ef(a,y,b)),y=qi(a,o),y!=null&&h.push(Ef(a,y,b))),a.tag===3)return h;a=a.return}return[]}function YU(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function AN(a,o,u,h,y){for(var b=o._reactName,j=[];u!==null&&u!==h;){var R=u,H=R.alternate,te=R.stateNode;if(R=R.tag,H!==null&&H===h)break;R!==5&&R!==26&&R!==27||te===null||(H=te,y?(te=qi(u,b),te!=null&&j.unshift(Ef(u,te,H))):y||(te=qi(u,b),te!=null&&j.push(Ef(u,te,H)))),u=u.return}j.length!==0&&a.push({event:o,listeners:j})}var QU=/\r\n?/g,XU=/\u0000|\uFFFD/g;function TN(a){return(typeof a=="string"?a:""+a).replace(QU,`
`).replace(XU,"")}function jN(a,o){return o=TN(o),TN(a)===o}function It(a,o,u,h,y,b){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Rr(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Rr(a,""+h);break;case"className":Wr(a,"class",h);break;case"tabIndex":Wr(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Wr(a,u,h);break;case"style":qd(a,h,b);break;case"data":if(o!=="object"){Wr(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=Gc(""+h),a.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&It(a,o,"name",y.name,y,null),It(a,o,"formEncType",y.formEncType,y,null),It(a,o,"formMethod",y.formMethod,y,null),It(a,o,"formTarget",y.formTarget,y,null)):(It(a,o,"encType",y.encType,y,null),It(a,o,"method",y.method,y,null),It(a,o,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=Gc(""+h),a.setAttribute(u,h);break;case"onClick":h!=null&&(a.onclick=Ui);break;case"onScroll":h!=null&&nt("scroll",a);break;case"onScrollEnd":h!=null&&nt("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}u=Gc(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""+h):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":h===!0?a.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,h):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(u,h):a.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(u):a.setAttribute(u,h);break;case"popover":nt("beforetoggle",a),nt("toggle",a),$c(a,"popover",h);break;case"xlinkActuate":_n(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":_n(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":_n(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":_n(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":_n(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":_n(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":_n(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":_n(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":_n(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":$c(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Nm.get(u)||u,$c(a,u,h))}}function K_(a,o,u,h,y,b){switch(u){case"style":qd(a,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof h=="string"?Rr(a,h):(typeof h=="number"||typeof h=="bigint")&&Rr(a,""+h);break;case"onScroll":h!=null&&nt("scroll",a);break;case"onScrollEnd":h!=null&&nt("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dd.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),b=a[zn]||null,b=b!=null?b[u]:null,typeof b=="function"&&a.removeEventListener(o,b,y),typeof h=="function")){typeof b!="function"&&b!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,h,y);break e}u in a?a[u]=h:h===!0?a.setAttribute(u,""):$c(a,u,h)}}}function tr(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",a),nt("load",a);var h=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var j=u[b];if(j!=null)switch(b){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:It(a,o,b,j,u,null)}}y&&It(a,o,"srcSet",u.srcSet,u,null),h&&It(a,o,"src",u.src,u,null);return;case"input":nt("invalid",a);var R=b=j=y=null,H=null,te=null;for(h in u)if(u.hasOwnProperty(h)){var ue=u[h];if(ue!=null)switch(h){case"name":y=ue;break;case"type":j=ue;break;case"checked":H=ue;break;case"defaultChecked":te=ue;break;case"value":b=ue;break;case"defaultValue":R=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,o));break;default:It(a,o,h,ue,u,null)}}Am(a,b,R,H,te,j,y,!1);return;case"select":nt("invalid",a),h=j=b=null;for(y in u)if(u.hasOwnProperty(y)&&(R=u[y],R!=null))switch(y){case"value":b=R;break;case"defaultValue":j=R;break;case"multiple":h=R;default:It(a,o,y,R,u,null)}o=b,u=j,a.multiple=!!h,o!=null?eo(a,!!h,o,!1):u!=null&&eo(a,!!h,u,!0);return;case"textarea":nt("invalid",a),b=y=h=null;for(j in u)if(u.hasOwnProperty(j)&&(R=u[j],R!=null))switch(j){case"value":h=R;break;case"defaultValue":y=R;break;case"children":b=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:It(a,o,j,R,u,null)}to(a,h,y,b);return;case"option":for(H in u)u.hasOwnProperty(H)&&(h=u[H],h!=null)&&(H==="selected"?a.selected=h&&typeof h!="function"&&typeof h!="symbol":It(a,o,H,h,u,null));return;case"dialog":nt("beforetoggle",a),nt("toggle",a),nt("cancel",a),nt("close",a);break;case"iframe":case"object":nt("load",a);break;case"video":case"audio":for(h=0;h<wf.length;h++)nt(wf[h],a);break;case"image":nt("error",a),nt("load",a);break;case"details":nt("toggle",a);break;case"embed":case"source":case"link":nt("error",a),nt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in u)if(u.hasOwnProperty(te)&&(h=u[te],h!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:It(a,o,te,h,u,null)}return;default:if(Hc(o)){for(ue in u)u.hasOwnProperty(ue)&&(h=u[ue],h!==void 0&&K_(a,o,ue,h,u,void 0));return}}for(R in u)u.hasOwnProperty(R)&&(h=u[R],h!=null&&It(a,o,R,h,u,null))}function ZU(a,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,j=null,R=null,H=null,te=null,ue=null;for(oe in u){var me=u[oe];if(u.hasOwnProperty(oe)&&me!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":H=me;default:h.hasOwnProperty(oe)||It(a,o,oe,null,h,me)}}for(var re in h){var oe=h[re];if(me=u[re],h.hasOwnProperty(re)&&(oe!=null||me!=null))switch(re){case"type":b=oe;break;case"name":y=oe;break;case"checked":te=oe;break;case"defaultChecked":ue=oe;break;case"value":j=oe;break;case"defaultValue":R=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,o));break;default:oe!==me&&It(a,o,re,oe,h,me)}}Fc(a,j,R,H,te,ue,b,y);return;case"select":oe=j=R=re=null;for(b in u)if(H=u[b],u.hasOwnProperty(b)&&H!=null)switch(b){case"value":break;case"multiple":oe=H;default:h.hasOwnProperty(b)||It(a,o,b,null,h,H)}for(y in h)if(b=h[y],H=u[y],h.hasOwnProperty(y)&&(b!=null||H!=null))switch(y){case"value":re=b;break;case"defaultValue":R=b;break;case"multiple":j=b;default:b!==H&&It(a,o,y,b,h,H)}o=R,u=j,h=oe,re!=null?eo(a,!!u,re,!1):!!h!=!!u&&(o!=null?eo(a,!!u,o,!0):eo(a,!!u,u?[]:"",!1));return;case"textarea":oe=re=null;for(R in u)if(y=u[R],u.hasOwnProperty(R)&&y!=null&&!h.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:It(a,o,R,null,h,y)}for(j in h)if(y=h[j],b=u[j],h.hasOwnProperty(j)&&(y!=null||b!=null))switch(j){case"value":re=y;break;case"defaultValue":oe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&It(a,o,j,y,h,b)}Tm(a,re,oe);return;case"option":for(var Ce in u)re=u[Ce],u.hasOwnProperty(Ce)&&re!=null&&!h.hasOwnProperty(Ce)&&(Ce==="selected"?a.selected=!1:It(a,o,Ce,null,h,re));for(H in h)re=h[H],oe=u[H],h.hasOwnProperty(H)&&re!==oe&&(re!=null||oe!=null)&&(H==="selected"?a.selected=re&&typeof re!="function"&&typeof re!="symbol":It(a,o,H,re,h,oe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in u)re=u[qe],u.hasOwnProperty(qe)&&re!=null&&!h.hasOwnProperty(qe)&&It(a,o,qe,null,h,re);for(te in h)if(re=h[te],oe=u[te],h.hasOwnProperty(te)&&re!==oe&&(re!=null||oe!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,o));break;default:It(a,o,te,re,h,oe)}return;default:if(Hc(o)){for(var Rt in u)re=u[Rt],u.hasOwnProperty(Rt)&&re!==void 0&&!h.hasOwnProperty(Rt)&&K_(a,o,Rt,void 0,h,re);for(ue in h)re=h[ue],oe=u[ue],!h.hasOwnProperty(ue)||re===oe||re===void 0&&oe===void 0||K_(a,o,ue,re,h,oe);return}}for(var X in u)re=u[X],u.hasOwnProperty(X)&&re!=null&&!h.hasOwnProperty(X)&&It(a,o,X,null,h,re);for(me in h)re=h[me],oe=u[me],!h.hasOwnProperty(me)||re===oe||re==null&&oe==null||It(a,o,me,re,h,oe)}function NN(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JU(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var y=u[h],b=y.transferSize,j=y.initiatorType,R=y.duration;if(b&&R&&NN(j)){for(j=0,R=y.responseEnd,h+=1;h<u.length;h++){var H=u[h],te=H.startTime;if(te>R)break;var ue=H.transferSize,me=H.initiatorType;ue&&NN(me)&&(H=H.responseEnd,j+=ue*(H<R?1:(R-te)/(H-te)))}if(--h,o+=8*(b+j)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var W_=null,Y_=null;function Cp(a){return a.nodeType===9?a:a.ownerDocument}function CN(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ON(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Q_(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var X_=null;function e9(){var a=window.event;return a&&a.type==="popstate"?a===X_?!1:(X_=a,!0):(X_=null,!1)}var PN=typeof setTimeout=="function"?setTimeout:void 0,t9=typeof clearTimeout=="function"?clearTimeout:void 0,IN=typeof Promise=="function"?Promise:void 0,n9=typeof queueMicrotask=="function"?queueMicrotask:typeof IN<"u"?function(a){return IN.resolve(null).then(a).catch(r9)}:PN;function r9(a){setTimeout(function(){throw a})}function Ao(a){return a==="head"}function RN(a,o){var u=o,h=0;do{var y=u.nextSibling;if(a.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(h===0){a.removeChild(y),Tu(o);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")Sf(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,Sf(u);for(var b=u.firstChild;b;){var j=b.nextSibling,R=b.nodeName;b[fa]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=j}}else u==="body"&&Sf(a.ownerDocument.body);u=y}while(u);Tu(o)}function DN(a,o){var u=a;a=0;do{var h=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=h}while(u)}function Z_(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Z_(u),Bc(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function i9(a,o,u,h){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[fa])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=Si(a.nextSibling),a===null)break}return null}function a9(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Si(a.nextSibling),a===null))return null;return a}function kN(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Si(a.nextSibling),a===null))return null;return a}function J_(a){return a.data==="$?"||a.data==="$~"}function eb(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function s9(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Si(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var tb=null;function MN(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return Si(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function zN(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function LN(a,o,u){switch(o=Cp(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Sf(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Bc(a)}var Ai=new Map,VN=new Set;function Op(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ms=le.d;le.d={f:o9,r:l9,D:c9,C:u9,L:d9,m:f9,X:m9,S:h9,M:p9};function o9(){var a=ms.f(),o=xp();return a||o}function l9(a){var o=mi(a);o!==null&&o.tag===5&&o.type==="form"?nj(o):ms.r(a)}var Eu=typeof document>"u"?null:document;function UN(a,o,u){var h=Eu;if(h&&typeof o=="string"&&o){var y=Ir(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),VN.has(y)||(VN.add(y),a={rel:a,crossOrigin:u,href:o},h.querySelector(y)===null&&(o=h.createElement("link"),tr(o,"link",a),yn(o),h.head.appendChild(o)))}}function c9(a){ms.D(a),UN("dns-prefetch",a,null)}function u9(a,o){ms.C(a,o),UN("preconnect",a,o)}function d9(a,o,u){ms.L(a,o,u);var h=Eu;if(h&&a&&o){var y='link[rel="preload"][as="'+Ir(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Ir(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Ir(u.imageSizes)+'"]')):y+='[href="'+Ir(a)+'"]';var b=y;switch(o){case"style":b=Su(a);break;case"script":b=Au(a)}Ai.has(b)||(a=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),Ai.set(b,a),h.querySelector(y)!==null||o==="style"&&h.querySelector(Af(b))||o==="script"&&h.querySelector(Tf(b))||(o=h.createElement("link"),tr(o,"link",a),yn(o),h.head.appendChild(o)))}}function f9(a,o){ms.m(a,o);var u=Eu;if(u&&a){var h=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Ir(h)+'"][href="'+Ir(a)+'"]',b=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Au(a)}if(!Ai.has(b)&&(a=g({rel:"modulepreload",href:a},o),Ai.set(b,a),u.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Tf(b)))return}h=u.createElement("link"),tr(h,"link",a),yn(h),u.head.appendChild(h)}}}function h9(a,o,u){ms.S(a,o,u);var h=Eu;if(h&&a){var y=ma(h).hoistableStyles,b=Su(a);o=o||"default";var j=y.get(b);if(!j){var R={loading:0,preload:null};if(j=h.querySelector(Af(b)))R.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},u),(u=Ai.get(b))&&nb(a,u);var H=j=h.createElement("link");yn(H),tr(H,"link",a),H._p=new Promise(function(te,ue){H.onload=te,H.onerror=ue}),H.addEventListener("load",function(){R.loading|=1}),H.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Pp(j,o,h)}j={type:"stylesheet",instance:j,count:1,state:R},y.set(b,j)}}}function m9(a,o){ms.X(a,o);var u=Eu;if(u&&a){var h=ma(u).hoistableScripts,y=Au(a),b=h.get(y);b||(b=u.querySelector(Tf(y)),b||(a=g({src:a,async:!0},o),(o=Ai.get(y))&&rb(a,o),b=u.createElement("script"),yn(b),tr(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function p9(a,o){ms.M(a,o);var u=Eu;if(u&&a){var h=ma(u).hoistableScripts,y=Au(a),b=h.get(y);b||(b=u.querySelector(Tf(y)),b||(a=g({src:a,async:!0,type:"module"},o),(o=Ai.get(y))&&rb(a,o),b=u.createElement("script"),yn(b),tr(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function qN(a,o,u,h){var y=(y=K.current)?Op(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Su(u.href),u=ma(y).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Su(u.href);var b=ma(y).hoistableStyles,j=b.get(a);if(j||(y=y.ownerDocument||y,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,j),(b=y.querySelector(Af(a)))&&!b._p&&(j.instance=b,j.state.loading=5),Ai.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ai.set(a,u),b||g9(y,a,u,j.state))),o&&h===null)throw Error(r(528,""));return j}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Au(u),u=ma(y).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Su(a){return'href="'+Ir(a)+'"'}function Af(a){return'link[rel="stylesheet"]['+a+"]"}function BN(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function g9(a,o,u,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),tr(o,"link",u),yn(o),a.head.appendChild(o))}function Au(a){return'[src="'+Ir(a)+'"]'}function Tf(a){return"script[async]"+a}function $N(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+Ir(u.href)+'"]');if(h)return o.instance=h,yn(h),h;var y=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),yn(h),tr(h,"style",y),Pp(h,u.precedence,a),o.instance=h;case"stylesheet":y=Su(u.href);var b=a.querySelector(Af(y));if(b)return o.state.loading|=4,o.instance=b,yn(b),b;h=BN(u),(y=Ai.get(y))&&nb(h,y),b=(a.ownerDocument||a).createElement("link"),yn(b);var j=b;return j._p=new Promise(function(R,H){j.onload=R,j.onerror=H}),tr(b,"link",h),o.state.loading|=4,Pp(b,u.precedence,a),o.instance=b;case"script":return b=Au(u.src),(y=a.querySelector(Tf(b)))?(o.instance=y,yn(y),y):(h=u,(y=Ai.get(b))&&(h=g({},u),rb(h,y)),a=a.ownerDocument||a,y=a.createElement("script"),yn(y),tr(y,"link",h),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,Pp(h,u.precedence,a));return o.instance}function Pp(a,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,b=y,j=0;j<h.length;j++){var R=h[j];if(R.dataset.precedence===o)b=R;else if(b!==y)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function nb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function rb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Ip=null;function FN(a,o,u){if(Ip===null){var h=new Map,y=Ip=new Map;y.set(u,h)}else y=Ip,h=y.get(u),h||(h=new Map,y.set(u,h));if(h.has(a))return h;for(h.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var b=u[y];if(!(b[fa]||b[vn]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var j=b.getAttribute(o)||"";j=a+j;var R=h.get(j);R?R.push(b):h.set(j,[b])}}return h}function HN(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function v9(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function GN(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function y9(a,o,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Su(h.href),b=o.querySelector(Af(y));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Rp.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=b,yn(b);return}b=o.ownerDocument||o,h=BN(h),(y=Ai.get(y))&&nb(h,y),b=b.createElement("link"),yn(b);var j=b;j._p=new Promise(function(R,H){j.onload=R,j.onerror=H}),tr(b,"link",h),u.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Rp.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var ib=0;function _9(a,o){return a.stylesheets&&a.count===0&&kp(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var h=setTimeout(function(){if(a.stylesheets&&kp(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+o);0<a.imgBytes&&ib===0&&(ib=62500*JU());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&kp(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>ib?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function Rp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Dp=null;function kp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Dp=new Map,o.forEach(b9,a),Dp=null,Rp.call(a))}function b9(a,o){if(!(o.state.loading&4)){var u=Dp.get(a);if(u)var h=u.get(null);else{u=new Map,Dp.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var j=y[b];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(u.set(j.dataset.precedence,j),h=j)}h&&u.set(null,h)}y=o.instance,j=y.getAttribute("data-precedence"),b=u.get(j)||h,b===h&&u.set(null,y),u.set(j,y),this.count++,h=Rp.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),b?b.parentNode.insertBefore(y,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var jf={$$typeof:k,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function x9(a,o,u,h,y,b,j,R,H){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ft(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.hiddenUpdates=ft(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function KN(a,o,u,h,y,b,j,R,H,te,ue,me){return a=new x9(a,o,u,j,H,te,ue,me,R),o=1,b===!0&&(o|=24),b=Qr(3,null,null,o),a.current=b,b.stateNode=a,o=z0(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:h,isDehydrated:u,cache:o},q0(b),a}function WN(a){return a?(a=nu,a):nu}function YN(a,o,u,h,y,b){y=WN(y),h.context===null?h.context=y:h.pendingContext=y,h=mo(o),h.payload={element:u},b=b===void 0?null:b,b!==null&&(h.callback=b),u=po(a,h,o),u!==null&&(Lr(u,a,o),af(u,a,o))}function QN(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function ab(a,o){QN(a,o),(a=a.alternate)&&QN(a,o)}function XN(a){if(a.tag===13||a.tag===31){var o=Rl(a,67108864);o!==null&&Lr(o,a,67108864),ab(a,67108864)}}function ZN(a){if(a.tag===13||a.tag===31){var o=ti();o=xl(o);var u=Rl(a,o);u!==null&&Lr(u,a,o),ab(a,o)}}var Mp=!0;function w9(a,o,u,h){var y=W.T;W.T=null;var b=le.p;try{le.p=2,sb(a,o,u,h)}finally{le.p=b,W.T=y}}function E9(a,o,u,h){var y=W.T;W.T=null;var b=le.p;try{le.p=8,sb(a,o,u,h)}finally{le.p=b,W.T=y}}function sb(a,o,u,h){if(Mp){var y=ob(h);if(y===null)G_(a,o,h,zp,u),eC(a,h);else if(A9(y,a,o,u,h))h.stopPropagation();else if(eC(a,h),o&4&&-1<S9.indexOf(a)){for(;y!==null;){var b=mi(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var j=hi(b.pendingLanes);if(j!==0){var R=b;for(R.pendingLanes|=2,R.entangledLanes|=2;j;){var H=1<<31-Qt(j);R.entanglements[1]|=H,j&=~H}ja(b),(bt&6)===0&&(_p=Ue()+500,xf(0))}}break;case 31:case 13:R=Rl(b,2),R!==null&&Lr(R,b,2),xp(),ab(b,2)}if(b=ob(h),b===null&&G_(a,o,h,zp,u),b===y)break;y=b}y!==null&&h.stopPropagation()}else G_(a,o,h,null,u)}}function ob(a){return a=pi(a),lb(a)}var zp=null;function lb(a){if(zp=null,a=ha(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=d(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return zp=a,null}function JN(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ge()){case Mt:return 2;case On:return 8;case Nr:case Xs:return 32;case Cr:return 268435456;default:return 32}default:return 32}}var cb=!1,To=null,jo=null,No=null,Nf=new Map,Cf=new Map,Co=[],S9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eC(a,o){switch(a){case"focusin":case"focusout":To=null;break;case"dragenter":case"dragleave":jo=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":Nf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cf.delete(o.pointerId)}}function Of(a,o,u,h,y,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:b,targetContainers:[y]},o!==null&&(o=mi(o),o!==null&&XN(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function A9(a,o,u,h,y){switch(o){case"focusin":return To=Of(To,a,o,u,h,y),!0;case"dragenter":return jo=Of(jo,a,o,u,h,y),!0;case"mouseover":return No=Of(No,a,o,u,h,y),!0;case"pointerover":var b=y.pointerId;return Nf.set(b,Of(Nf.get(b)||null,a,o,u,h,y)),!0;case"gotpointercapture":return b=y.pointerId,Cf.set(b,Of(Cf.get(b)||null,a,o,u,h,y)),!0}return!1}function tC(a){var o=ha(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,Li(a.priority,function(){ZN(u)});return}}else if(o===31){if(o=d(u),o!==null){a.blockedOn=o,Li(a.priority,function(){ZN(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Lp(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=ob(a.nativeEvent);if(u===null){u=a.nativeEvent;var h=new u.constructor(u.type,u);Bd=h,u.target.dispatchEvent(h),Bd=null}else return o=mi(u),o!==null&&XN(o),a.blockedOn=u,!1;o.shift()}return!0}function nC(a,o,u){Lp(a)&&u.delete(o)}function T9(){cb=!1,To!==null&&Lp(To)&&(To=null),jo!==null&&Lp(jo)&&(jo=null),No!==null&&Lp(No)&&(No=null),Nf.forEach(nC),Cf.forEach(nC)}function Vp(a,o){a.blockedOn===o&&(a.blockedOn=null,cb||(cb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,T9)))}var Up=null;function rC(a){Up!==a&&(Up=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Up===a&&(Up=null);for(var o=0;o<a.length;o+=3){var u=a[o],h=a[o+1],y=a[o+2];if(typeof h!="function"){if(lb(h||u)===null)continue;break}var b=mi(u);b!==null&&(a.splice(o,3),o-=3,o_(b,{pending:!0,data:y,method:u.method,action:h},h,y))}}))}function Tu(a){function o(H){return Vp(H,a)}To!==null&&Vp(To,a),jo!==null&&Vp(jo,a),No!==null&&Vp(No,a),Nf.forEach(o),Cf.forEach(o);for(var u=0;u<Co.length;u++){var h=Co[u];h.blockedOn===a&&(h.blockedOn=null)}for(;0<Co.length&&(u=Co[0],u.blockedOn===null);)tC(u),u.blockedOn===null&&Co.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var y=u[h],b=u[h+1],j=y[zn]||null;if(typeof b=="function")j||rC(u);else if(j){var R=null;if(b&&b.hasAttribute("formAction")){if(y=b,j=b[zn]||null)R=j.formAction;else if(lb(y)!==null)continue}else R=j.action;typeof R=="function"?u[h+1]=R:(u.splice(h,3),h-=3),rC(u)}}}function iC(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(j){return y=j})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function ub(a){this._internalRoot=a}qp.prototype.render=ub.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,h=ti();YN(u,h,a,o,null,null)},qp.prototype.unmount=ub.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;YN(a.current,2,null,a,null,null),xp(),o[da]=null}};function qp(a){this._internalRoot=a}qp.prototype.unstable_scheduleHydration=function(a){if(a){var o=xm();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Co.length&&o!==0&&o<Co[u].priority;u++);Co.splice(u,0,a),u===0&&tC(a)}};var aC=e.version;if(aC!=="19.2.4")throw Error(r(527,aC,"19.2.4"));le.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=m(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var j9={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{Jt=Bp.inject(j9),wt=Bp}catch{}}return If.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,h="",y=fj,b=hj,j=mj;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(j=o.onRecoverableError)),o=KN(a,1,!1,null,null,u,h,null,y,b,j,iC),a[da]=o.current,H_(a),new ub(o)},If.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var h=!1,y="",b=fj,j=hj,R=mj,H=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(j=u.onCaughtError),u.onRecoverableError!==void 0&&(R=u.onRecoverableError),u.formState!==void 0&&(H=u.formState)),o=KN(a,1,!0,o,u??null,h,y,H,b,j,R,iC),o.context=WN(null),u=o.current,h=ti(),h=xl(h),y=mo(h),y.callback=null,po(u,y,h),u=h,o.current.lanes=u,Mn(o,u),ja(o),a[da]=o.current,H_(a),new qp(o)},If.version="19.2.4",If}var pC;function z9(){if(pC)return hb.exports;pC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hb.exports=M9(),hb.exports}var L9=z9();const V9=Ka(L9);var bk=_k();function dh(){return dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dh.apply(this,arguments)}var $o;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($o||($o={}));const gC="popstate";function U9(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:l,hash:d}=r.location;return b1("",{pathname:s,search:l,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:kg(i)}return B9(e,n,null,t)}function pn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function aE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function q9(){return Math.random().toString(36).substr(2,8)}function vC(t,e){return{usr:t.state,key:t.key,idx:e}}function b1(t,e,n,r){return n===void 0&&(n=null),dh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?md(e):e,{state:n,key:e&&e.key||r||q9()})}function kg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function md(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function B9(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,d=$o.Pop,f=null,m=p();m==null&&(m=0,l.replaceState(dh({},l.state,{idx:m}),""));function p(){return(l.state||{idx:null}).idx}function g(){d=$o.Pop;let A=p(),C=A==null?null:A-m;m=A,f&&f({action:d,location:E.location,delta:C})}function _(A,C){d=$o.Push;let D=b1(E.location,A,C);m=p()+1;let k=vC(D,m),M=E.createHref(D);try{l.pushState(k,"",M)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(M)}s&&f&&f({action:d,location:E.location,delta:1})}function x(A,C){d=$o.Replace;let D=b1(E.location,A,C);m=p();let k=vC(D,m),M=E.createHref(D);l.replaceState(k,"",M),s&&f&&f({action:d,location:E.location,delta:0})}function S(A){let C=i.location.origin!=="null"?i.location.origin:i.location.href,D=typeof A=="string"?A:kg(A);return D=D.replace(/ $/,"%20"),pn(C,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,C)}let E={get action(){return d},get location(){return t(i,l)},listen(A){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(gC,g),f=A,()=>{i.removeEventListener(gC,g),f=null}},createHref(A){return e(i,A)},createURL:S,encodeLocation(A){let C=S(A);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:_,replace:x,go(A){return l.go(A)}};return E}var yC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(yC||(yC={}));function $9(t,e,n){return n===void 0&&(n="/"),F9(t,e,n)}function F9(t,e,n,r){let i=typeof e=="string"?md(e):e,s=sE(i.pathname||"/",n);if(s==null)return null;let l=xk(t);H9(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let m=rq(s);d=eq(l[f],m)}return d}function xk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,l,d)=>{let f={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};f.relativePath.startsWith("/")&&(pn(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let m=Go([r,f.relativePath]),p=n.concat(f);s.children&&s.children.length>0&&(pn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),xk(s.children,e,p,m)),!(s.path==null&&!s.index)&&e.push({path:m,score:Z9(m,s.index),routesMeta:p})};return t.forEach((s,l)=>{var d;if(s.path===""||!((d=s.path)!=null&&d.includes("?")))i(s,l);else for(let f of wk(s.path))i(s,l,f)}),e}function wk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=wk(r.join("/")),d=[];return d.push(...l.map(f=>f===""?s:[s,f].join("/"))),i&&d.push(...l),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function H9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:J9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const G9=/^:[\w-]+$/,K9=3,W9=2,Y9=1,Q9=10,X9=-2,_C=t=>t==="*";function Z9(t,e){let n=t.split("/"),r=n.length;return n.some(_C)&&(r+=X9),e&&(r+=W9),n.filter(i=>!_C(i)).reduce((i,s)=>i+(G9.test(s)?K9:s===""?Y9:Q9),r)}function J9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function eq(t,e,n){let{routesMeta:r}=t,i={},s="/",l=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=tq({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},p),_=f.route;if(!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Go([s,g.pathname]),pathnameBase:lq(Go([s,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(s=Go([s,g.pathnameBase]))}return l}function tq(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nq(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((m,p,g)=>{let{paramName:_,isOptional:x}=p;if(_==="*"){let E=d[g]||"";l=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const S=d[g];return x&&!S?m[_]=void 0:m[_]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:l,pattern:t}}function nq(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),aE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function rq(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return aE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function sE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const iq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aq=t=>iq.test(t);function sq(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?md(t):t,s;if(n)if(aq(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),aE(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?s=bC(n.substring(1),"/"):s=bC(n,e)}else s=e;return{pathname:s,search:cq(r),hash:uq(i)}}function bC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vb(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oq(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function oE(t,e){let n=oq(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function lE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=md(t):(i=dh({},t),pn(!i.pathname||!i.pathname.includes("?"),vb("?","pathname","search",i)),pn(!i.pathname||!i.pathname.includes("#"),vb("#","pathname","hash",i)),pn(!i.search||!i.search.includes("#"),vb("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,d;if(l==null)d=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),g-=1;i.pathname=_.join("/")}d=g>=0?e[g]:"/"}let f=sq(i,d),m=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||p)&&(f.pathname+="/"),f}const Go=t=>t.join("/").replace(/\/\/+/g,"/"),lq=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cq=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ek=["post","put","patch","delete"];new Set(Ek);const fq=["get",...Ek];new Set(fq);function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fh.apply(this,arguments)}const cE=w.createContext(null),hq=w.createContext(null),cl=w.createContext(null),Zv=w.createContext(null),Vs=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Sk=w.createContext(null);function mq(t,e){let{relative:n}=e===void 0?{}:e;pd()||pn(!1);let{basename:r,navigator:i}=w.useContext(cl),{hash:s,pathname:l,search:d}=jk(t,{relative:n}),f=l;return r!=="/"&&(f=l==="/"?r:Go([r,l])),i.createHref({pathname:f,search:d,hash:s})}function pd(){return w.useContext(Zv)!=null}function ul(){return pd()||pn(!1),w.useContext(Zv).location}function Ak(t){w.useContext(cl).static||w.useLayoutEffect(t)}function dl(){let{isDataRoute:t}=w.useContext(Vs);return t?jq():pq()}function pq(){pd()||pn(!1);let t=w.useContext(cE),{basename:e,future:n,navigator:r}=w.useContext(cl),{matches:i}=w.useContext(Vs),{pathname:s}=ul(),l=JSON.stringify(oE(i,n.v7_relativeSplatPath)),d=w.useRef(!1);return Ak(()=>{d.current=!0}),w.useCallback(function(m,p){if(p===void 0&&(p={}),!d.current)return;if(typeof m=="number"){r.go(m);return}let g=lE(m,JSON.parse(l),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Go([e,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[e,r,l,s,t])}function Tk(){let{matches:t}=w.useContext(Vs),e=t[t.length-1];return e?e.params:{}}function jk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(cl),{matches:i}=w.useContext(Vs),{pathname:s}=ul(),l=JSON.stringify(oE(i,r.v7_relativeSplatPath));return w.useMemo(()=>lE(t,JSON.parse(l),s,n==="path"),[t,l,s,n])}function gq(t,e){return vq(t,e)}function vq(t,e,n,r){pd()||pn(!1);let{navigator:i}=w.useContext(cl),{matches:s}=w.useContext(Vs),l=s[s.length-1],d=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let m=ul(),p;if(e){var g;let A=typeof e=="string"?md(e):e;f==="/"||(g=A.pathname)!=null&&g.startsWith(f)||pn(!1),p=A}else p=m;let _=p.pathname||"/",x=_;if(f!=="/"){let A=f.replace(/^\//,"").split("/");x="/"+_.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=$9(t,{pathname:x}),E=wq(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},d,A.params),pathname:Go([f,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:Go([f,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,n,r);return e&&E?w.createElement(Zv.Provider,{value:{location:fh({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:$o.Pop}},E):E}function yq(){let t=Tq(),e=dq(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const _q=w.createElement(yq,null);class bq extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Vs.Provider,{value:this.props.routeContext},w.createElement(Sk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xq(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(cE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Vs.Provider,{value:e},r)}function wq(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,d=(i=n)==null?void 0:i.errors;if(d!=null){let p=l.findIndex(g=>g.route.id&&d?.[g.route.id]!==void 0);p>=0||pn(!1),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:_,errors:x}=n,S=g.route.loader&&_[g.route.id]===void 0&&(!x||x[g.route.id]===void 0);if(g.route.lazy||S){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,g,_)=>{let x,S=!1,E=null,A=null;n&&(x=d&&g.route.id?d[g.route.id]:void 0,E=g.route.errorElement||_q,f&&(m<0&&_===0?(Nq("route-fallback"),S=!0,A=null):m===_&&(S=!0,A=g.route.hydrateFallbackElement||null)));let C=e.concat(l.slice(0,_+1)),D=()=>{let k;return x?k=E:S?k=A:g.route.Component?k=w.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=p,w.createElement(xq,{match:g,routeContext:{outlet:p,matches:C,isDataRoute:n!=null},children:k})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?w.createElement(bq,{location:n.location,revalidation:n.revalidation,component:E,error:x,children:D(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):D()},null)}var Nk=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Nk||{}),Ck=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Ck||{});function Eq(t){let e=w.useContext(cE);return e||pn(!1),e}function Sq(t){let e=w.useContext(hq);return e||pn(!1),e}function Aq(t){let e=w.useContext(Vs);return e||pn(!1),e}function Ok(t){let e=Aq(),n=e.matches[e.matches.length-1];return n.route.id||pn(!1),n.route.id}function Tq(){var t;let e=w.useContext(Sk),n=Sq(),r=Ok();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function jq(){let{router:t}=Eq(Nk.UseNavigateStable),e=Ok(Ck.UseNavigateStable),n=w.useRef(!1);return Ak(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,fh({fromRouteId:e},s)))},[t,e])}const xC={};function Nq(t,e,n){xC[t]||(xC[t]=!0)}function Cq(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Oq(t){let{to:e,replace:n,state:r,relative:i}=t;pd()||pn(!1);let{future:s,static:l}=w.useContext(cl),{matches:d}=w.useContext(Vs),{pathname:f}=ul(),m=dl(),p=lE(e,oE(d,s.v7_relativeSplatPath),f,i==="path"),g=JSON.stringify(p);return w.useEffect(()=>m(JSON.parse(g),{replace:n,state:r,relative:i}),[m,g,i,n,r]),null}function ur(t){pn(!1)}function Pq(t){let{basename:e="/",children:n=null,location:r,navigationType:i=$o.Pop,navigator:s,static:l=!1,future:d}=t;pd()&&pn(!1);let f=e.replace(/^\/*/,"/"),m=w.useMemo(()=>({basename:f,navigator:s,static:l,future:fh({v7_relativeSplatPath:!1},d)}),[f,d,s,l]);typeof r=="string"&&(r=md(r));let{pathname:p="/",search:g="",hash:_="",state:x=null,key:S="default"}=r,E=w.useMemo(()=>{let A=sE(p,f);return A==null?null:{location:{pathname:A,search:g,hash:_,state:x,key:S},navigationType:i}},[f,p,g,_,x,S,i]);return E==null?null:w.createElement(cl.Provider,{value:m},w.createElement(Zv.Provider,{children:n,value:E}))}function Iq(t){let{children:e,location:n}=t;return gq(x1(e),n)}new Promise(()=>{});function x1(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let s=[...e,i];if(r.type===w.Fragment){n.push.apply(n,x1(r.props.children,s));return}r.type!==ur&&pn(!1),!r.props.index||!r.props.children||pn(!1);let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=x1(r.props.children,s)),n.push(l)}),n}function w1(){return w1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w1.apply(this,arguments)}function Rq(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Dq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kq(t,e){return t.button===0&&(!e||e==="_self")&&!Dq(t)}const Mq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zq="6";try{window.__reactRouterVersion=zq}catch{}const Lq="startTransition",wC=yk[Lq];function Vq(t){let{basename:e,children:n,future:r,window:i}=t,s=w.useRef();s.current==null&&(s.current=U9({window:i,v5Compat:!0}));let l=s.current,[d,f]=w.useState({action:l.action,location:l.location}),{v7_startTransition:m}=r||{},p=w.useCallback(g=>{m&&wC?wC(()=>f(g)):f(g)},[f,m]);return w.useLayoutEffect(()=>l.listen(p),[l,p]),w.useEffect(()=>Cq(r),[r]),w.createElement(Pq,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:l,future:r})}const Uq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:l,state:d,target:f,to:m,preventScrollReset:p,viewTransition:g}=e,_=Rq(e,Mq),{basename:x}=w.useContext(cl),S,E=!1;if(typeof m=="string"&&qq.test(m)&&(S=m,Uq))try{let k=new URL(window.location.href),M=m.startsWith("//")?new URL(k.protocol+m):new URL(m),V=sE(M.pathname,x);M.origin===k.origin&&V!=null?m=V+M.search+M.hash:E=!0}catch{}let A=mq(m,{relative:i}),C=Bq(m,{replace:l,state:d,target:f,preventScrollReset:p,relative:i,viewTransition:g});function D(k){r&&r(k),k.defaultPrevented||C(k)}return w.createElement("a",w1({},_,{href:S||A,onClick:E||s?r:D,ref:n,target:f}))});var EC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(EC||(EC={}));var SC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(SC||(SC={}));function Bq(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:l,viewTransition:d}=e===void 0?{}:e,f=dl(),m=ul(),p=jk(t,{relative:l});return w.useCallback(g=>{if(kq(g,n)){g.preventDefault();let _=r!==void 0?r:kg(m)===kg(p);f(t,{replace:_,state:i,preventScrollReset:s,relative:l,viewTransition:d})}},[m,f,p,r,i,n,t,s,l,d])}const $q=()=>{};var AC={};const Pk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Fq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],d=t[n++],f=((i&7)<<18|(s&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},Ik={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,d=l?t[i+1]:0,f=i+2<t.length,m=f?t[i+2]:0,p=s>>2,g=(s&3)<<4|d>>4;let _=(d&15)<<2|m>>6,x=m&63;f||(x=64,l||(_=64)),r.push(n[p],n[g],n[_],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Pk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Fq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||d==null||m==null||g==null)throw new Hq;const _=s<<2|d>>4;if(r.push(_),m!==64){const x=d<<4&240|m>>2;if(r.push(x),g!==64){const S=m<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Hq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gq=function(t){const e=Pk(t);return Ik.encodeByteArray(e,!0)},Mg=function(t){return Gq(t).replace(/\./g,"")},Rk=function(t){try{return Ik.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Kq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Wq=()=>Kq().__FIREBASE_DEFAULTS__,Yq=()=>{if(typeof process>"u"||typeof AC>"u")return;const t=AC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Qq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Rk(t[1]);return e&&JSON.parse(e)},Jv=()=>{try{return $q()||Wq()||Yq()||Qq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dk=t=>Jv()?.emulatorHosts?.[t],kk=t=>{const e=Dk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Mk=()=>Jv()?.config,zk=t=>Jv()?.[`_${t}`];class Xq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function fl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uE(t){return(await fetch(t,{credentials:"include"})).ok}function Lk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Mg(JSON.stringify(n)),Mg(JSON.stringify(l)),""].join(".")}const th={};function Zq(){const t={prod:[],emulator:[]};for(const e of Object.keys(th))th[e]?t.emulator.push(e):t.prod.push(e);return t}function Jq(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let TC=!1;function dE(t,e){if(typeof window>"u"||typeof document>"u"||!fl(window.location.host)||th[t]===e||th[t]||TC)return;th[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",s=Zq().prod.length>0;function l(){const _=document.getElementById(r);_&&_.remove()}function d(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,x){_.setAttribute("width","24"),_.setAttribute("id",x),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function m(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{TC=!0,l()},_}function p(_,x){_.setAttribute("id",x),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function g(){const _=Jq(r),x=n("text"),S=document.getElementById(x)||document.createElement("span"),E=n("learnmore"),A=document.getElementById(E)||document.createElement("a"),C=n("preprendIcon"),D=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const k=_.element;d(k),p(A,E);const M=m();f(D,C),k.append(D,S,A,M),document.body.appendChild(k)}s?(S.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function pr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pr())}function t8(){const t=Jv()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function i8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a8(){const t=pr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function s8(){return!t8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o8(){try{return typeof indexedDB=="object"}catch{return!1}}function l8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const c8="FirebaseError";class Wa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=c8,Object.setPrototypeOf(this,Wa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vh.prototype.create)}}class Vh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?u8(s,r):"Error",d=`${this.serviceName}: ${l} (${i}).`;return new Wa(i,d,r)}}function u8(t,e){return t.replace(d8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const d8=/\{\$([^}]+)}/g;function f8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(jC(s)&&jC(l)){if(!uc(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function jC(t){return t!==null&&typeof t=="object"}function Uh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Gf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function h8(t,e){const n=new m8(t,e);return n.subscribe.bind(n)}class m8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");p8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=yb),i.error===void 0&&(i.error=yb),i.complete===void 0&&(i.complete=yb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function p8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yb(){}function Bt(t){return t&&t._delegate?t._delegate:t}class Jo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Wl="[DEFAULT]";let g8=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Xq;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(y8(e))try{this.getOrInitializeService({instanceIdentifier:Wl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Wl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wl){return this.instances.has(e)}getOptions(e=Wl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(s);r===d&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:v8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wl){return this.component?this.component.multipleInstances?e:Wl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function v8(t){return t===Wl?void 0:t}function y8(t){return t.instantiationMode==="EAGER"}class _8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new g8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const b8={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},x8=st.INFO,w8={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},E8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=w8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fE{constructor(e){this.name=e,this._logLevel=x8,this._logHandler=E8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const S8=(t,e)=>e.some(n=>t instanceof n);let NC,CC;function A8(){return NC||(NC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T8(){return CC||(CC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vk=new WeakMap,E1=new WeakMap,Uk=new WeakMap,_b=new WeakMap,hE=new WeakMap;function j8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Ko(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Vk.set(n,t)}).catch(()=>{}),hE.set(e,t),e}function N8(t){if(E1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});E1.set(t,e)}let S1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return E1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Uk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ko(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function C8(t){S1=t(S1)}function O8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bb(this),e,...n);return Uk.set(r,e.sort?e.sort():[e]),Ko(r)}:T8().includes(t)?function(...e){return t.apply(bb(this),e),Ko(Vk.get(this))}:function(...e){return Ko(t.apply(bb(this),e))}}function P8(t){return typeof t=="function"?O8(t):(t instanceof IDBTransaction&&N8(t),S8(t,A8())?new Proxy(t,S1):t)}function Ko(t){if(t instanceof IDBRequest)return j8(t);if(_b.has(t))return _b.get(t);const e=P8(t);return e!==t&&(_b.set(t,e),hE.set(e,t)),e}const bb=t=>hE.get(t);function I8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),d=Ko(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Ko(l.result),f.oldVersion,f.newVersion,Ko(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const R8=["get","getKey","getAll","getAllKeys","count"],D8=["put","add","delete","clear"],xb=new Map;function OC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xb.get(e))return xb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=D8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||R8.includes(n)))return;const s=async function(l,...d){const f=this.transaction(l,i?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),i&&f.done]))[0]};return xb.set(e,s),s}C8(t=>({...t,get:(e,n,r)=>OC(e,n)||t.get(e,n,r),has:(e,n)=>!!OC(e,n)||t.has(e,n)}));class k8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(M8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function M8(t){return t.getComponent()?.type==="VERSION"}const A1="@firebase/app",PC="0.14.7";const js=new fE("@firebase/app"),z8="@firebase/app-compat",L8="@firebase/analytics-compat",V8="@firebase/analytics",U8="@firebase/app-check-compat",q8="@firebase/app-check",B8="@firebase/auth",$8="@firebase/auth-compat",F8="@firebase/database",H8="@firebase/data-connect",G8="@firebase/database-compat",K8="@firebase/functions",W8="@firebase/functions-compat",Y8="@firebase/installations",Q8="@firebase/installations-compat",X8="@firebase/messaging",Z8="@firebase/messaging-compat",J8="@firebase/performance",eB="@firebase/performance-compat",tB="@firebase/remote-config",nB="@firebase/remote-config-compat",rB="@firebase/storage",iB="@firebase/storage-compat",aB="@firebase/firestore",sB="@firebase/ai",oB="@firebase/firestore-compat",lB="firebase",cB="12.8.0";const T1="[DEFAULT]",uB={[A1]:"fire-core",[z8]:"fire-core-compat",[V8]:"fire-analytics",[L8]:"fire-analytics-compat",[q8]:"fire-app-check",[U8]:"fire-app-check-compat",[B8]:"fire-auth",[$8]:"fire-auth-compat",[F8]:"fire-rtdb",[H8]:"fire-data-connect",[G8]:"fire-rtdb-compat",[K8]:"fire-fn",[W8]:"fire-fn-compat",[Y8]:"fire-iid",[Q8]:"fire-iid-compat",[X8]:"fire-fcm",[Z8]:"fire-fcm-compat",[J8]:"fire-perf",[eB]:"fire-perf-compat",[tB]:"fire-rc",[nB]:"fire-rc-compat",[rB]:"fire-gcs",[iB]:"fire-gcs-compat",[aB]:"fire-fst",[oB]:"fire-fst-compat",[sB]:"fire-vertex","fire-js":"fire-js",[lB]:"fire-js-all"};const zg=new Map,dB=new Map,j1=new Map;function IC(t,e){try{t.container.addComponent(e)}catch(n){js.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dc(t){const e=t.name;if(j1.has(e))return js.debug(`There were multiple attempts to register component ${e}.`),!1;j1.set(e,t);for(const n of zg.values())IC(n,t);for(const n of dB.values())IC(n,t);return!0}function ey(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ni(t){return t==null?!1:t.settings!==void 0}const fB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wo=new Vh("app","Firebase",fB);class hB{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wo.create("app-deleted",{appName:this._name})}}const Nc=cB;function qk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:T1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Wo.create("bad-app-name",{appName:String(i)});if(n||(n=Mk()),!n)throw Wo.create("no-options");const s=zg.get(i);if(s){if(uc(n,s.options)&&uc(r,s.config))return s;throw Wo.create("duplicate-app",{appName:i})}const l=new _8(i);for(const f of j1.values())l.addComponent(f);const d=new hB(n,r,l);return zg.set(i,d),d}function mE(t=T1){const e=zg.get(t);if(!e&&t===T1&&Mk())return qk();if(!e)throw Wo.create("no-app",{appName:t});return e}function Ma(t,e,n){let r=uB[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),js.warn(l.join(" "));return}dc(new Jo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const mB="firebase-heartbeat-database",pB=1,hh="firebase-heartbeat-store";let wb=null;function Bk(){return wb||(wb=I8(mB,pB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wo.create("idb-open",{originalErrorMessage:t.message})})),wb}async function gB(t){try{const n=(await Bk()).transaction(hh),r=await n.objectStore(hh).get($k(t));return await n.done,r}catch(e){if(e instanceof Wa)js.warn(e.message);else{const n=Wo.create("idb-get",{originalErrorMessage:e?.message});js.warn(n.message)}}}async function RC(t,e){try{const r=(await Bk()).transaction(hh,"readwrite");await r.objectStore(hh).put(e,$k(t)),await r.done}catch(n){if(n instanceof Wa)js.warn(n.message);else{const r=Wo.create("idb-set",{originalErrorMessage:n?.message});js.warn(r.message)}}}function $k(t){return`${t.name}!${t.options.appId}`}const vB=1024,yB=30;class _B{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=DC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>yB){const i=wB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){js.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=DC(),{heartbeatsToSend:n,unsentEntries:r}=bB(this._heartbeatsCache.heartbeats),i=Mg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return js.warn(e),""}}}function DC(){return new Date().toISOString().substring(0,10)}function bB(t,e=vB){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),kC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o8()?l8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return RC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return RC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function kC(t){return Mg(JSON.stringify({version:2,heartbeats:t})).length}function wB(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function EB(t){dc(new Jo("platform-logger",e=>new k8(e),"PRIVATE")),dc(new Jo("heartbeat",e=>new _B(e),"PRIVATE")),Ma(A1,PC,t),Ma(A1,PC,"esm2020"),Ma("fire-js","")}EB("");function Fk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SB=Fk,Hk=new Vh("auth","Firebase",Fk());const Lg=new fE("@firebase/auth");function AB(t,...e){Lg.logLevel<=st.WARN&&Lg.warn(`Auth (${Nc}): ${t}`,...e)}function yg(t,...e){Lg.logLevel<=st.ERROR&&Lg.error(`Auth (${Nc}): ${t}`,...e)}function na(t,...e){throw pE(t,...e)}function za(t,...e){return pE(t,...e)}function Gk(t,e,n){const r={...SB(),[e]:n};return new Vh("auth","Firebase",r).create(e,{appName:t.name})}function ws(t){return Gk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Hk.create(t,...e)}function Fe(t,e,...n){if(!t)throw pE(e,...n)}function vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yg(e),new Error(e)}function Ns(t,e){t||vs(e)}function N1(){return typeof self<"u"&&self.location?.href||""}function TB(){return MC()==="http:"||MC()==="https:"}function MC(){return typeof self<"u"&&self.location?.protocol||null}function jB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TB()||r8()||"connection"in navigator)?navigator.onLine:!0}function NB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class qh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ns(n>e,"Short delay should be less than long delay!"),this.isMobile=e8()||i8()}get(){return jB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gE(t,e){Ns(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Kk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const CB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const OB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PB=new qh(3e4,6e4);function hl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Us(t,e,n,r,i={}){return Wk(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const d=Uh({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:f,...s};return n8()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&fl(t.emulatorConfig.host)&&(m.credentials="include"),Kk.fetch()(await Yk(t,t.config.apiHost,n,d),m)})}async function Wk(t,e,n){t._canInitEmulator=!1;const r={...CB,...e};try{const i=new RB(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw $p(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const d=s.ok?l.errorMessage:l.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw $p(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw $p(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw $p(t,"user-disabled",l);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Gk(t,p,m);na(t,p)}}catch(i){if(i instanceof Wa)throw i;na(t,"network-request-failed",{message:String(i)})}}async function Bh(t,e,n,r,i={}){const s=await Us(t,e,n,r,i);return"mfaPendingCredential"in s&&na(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Yk(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?gE(t.config,i):`${t.config.apiScheme}://${i}`;return OB.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function IB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(za(this.auth,"network-request-failed")),PB.get())})}}function $p(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=za(t,e,r);return i.customData._tokenResponse=n,i}function zC(t){return t!==void 0&&t.enterprise!==void 0}class DB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kB(t,e){return Us(t,"GET","/v2/recaptchaConfig",hl(t,e))}async function MB(t,e){return Us(t,"POST","/v1/accounts:delete",e)}async function Vg(t,e){return Us(t,"POST","/v1/accounts:lookup",e)}function nh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zB(t,e=!1){const n=Bt(t),r=await n.getIdToken(e),i=vE(r);Fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:nh(Eb(i.auth_time)),issuedAtTime:nh(Eb(i.iat)),expirationTime:nh(Eb(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Eb(t){return Number(t)*1e3}function vE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Rk(n);return i?JSON.parse(i):(yg("Failed to decode base64 JWT payload"),null)}catch(i){return yg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function LC(t){const e=vE(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Xu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wa&&LB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function LB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class VB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class C1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nh(this.lastLoginAt),this.creationTime=nh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ug(t){const e=t.auth,n=await t.getIdToken(),r=await Xu(t,Vg(e,{idToken:n}));Fe(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?Qk(i.providerUserInfo):[],l=qB(t.providerData,s),d=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!l?.length,m=d?f:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new C1(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(t,p)}async function UB(t){const e=Bt(t);await Ug(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Qk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function BB(t,e){const n=await Wk(t,{},async()=>{const r=Uh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await Yk(t,i,"/v1/token",`key=${s}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return t.emulatorConfig&&fl(t.emulatorConfig.host)&&(f.credentials="include"),Kk.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $B(t,e){return Us(t,"POST","/v2/accounts:revokeToken",hl(t,e))}class Fu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const n=LC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await BB(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new Fu;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Fe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Fe(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fu,this.toJSON())}_performRefresh(){return vs("not implemented")}}function Po(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new VB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new C1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Xu(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zB(this,e)}reload(){return UB(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ug(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(ws(this.auth));const e=await this.getIdToken();return await Xu(this,MB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,m=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:_,isAnonymous:x,providerData:S,stsTokenManager:E}=n;Fe(g&&E,e,"internal-error");const A=Fu.fromJSON(this.name,E);Fe(typeof g=="string",e,"internal-error"),Po(r,e.name),Po(i,e.name),Fe(typeof _=="boolean",e,"internal-error"),Fe(typeof x=="boolean",e,"internal-error"),Po(s,e.name),Po(l,e.name),Po(d,e.name),Po(f,e.name),Po(m,e.name),Po(p,e.name);const C=new Zi({uid:g,auth:e,email:i,emailVerified:_,displayName:r,isAnonymous:x,photoURL:l,phoneNumber:s,tenantId:d,stsTokenManager:A,createdAt:m,lastLoginAt:p});return S&&Array.isArray(S)&&(C.providerData=S.map(D=>({...D}))),f&&(C._redirectEventId=f),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fu;i.updateFromServerResponse(n);const s=new Zi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ug(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Fe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Qk(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,d=new Fu;d.updateFromIdToken(r);const f=new Zi({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:l}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new C1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(f,m),f}}const VC=new Map;function ys(t){Ns(t instanceof Function,"Expected a class definition");let e=VC.get(t);return e?(Ns(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VC.set(t,e),e)}class Xk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Xk.type="NONE";const UC=Xk;function _g(t,e,n){return`firebase:${t}:${e}:${n}`}class Hu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=_g(this.userKey,i.apiKey,s),this.fullPersistenceKey=_g("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vg(this.auth,{idToken:e}).catch(()=>{});return n?Zi._fromGetAccountInfoResponse(this.auth,n,e):null}return Zi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Hu(ys(UC),e,r);const i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let s=i[0]||ys(UC);const l=_g(r,e.config.apiKey,e.name);let d=null;for(const m of n)try{const p=await m._get(l);if(p){let g;if(typeof p=="string"){const _=await Vg(e,{idToken:p}).catch(()=>{});if(!_)break;g=await Zi._fromGetAccountInfoResponse(e,_,p)}else g=Zi._fromJSON(e,p);m!==s&&(d=g),s=m;break}}catch{}const f=i.filter(m=>m._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new Hu(s,e,r):(s=f[0],d&&await s._set(l,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==s)try{await m._remove(l)}catch{}})),new Hu(s,e,r))}}function qC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rM(e))return"Blackberry";if(iM(e))return"Webos";if(Jk(e))return"Safari";if((e.includes("chrome/")||eM(e))&&!e.includes("edge/"))return"Chrome";if(nM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Zk(t=pr()){return/firefox\//i.test(t)}function Jk(t=pr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eM(t=pr()){return/crios\//i.test(t)}function tM(t=pr()){return/iemobile/i.test(t)}function nM(t=pr()){return/android/i.test(t)}function rM(t=pr()){return/blackberry/i.test(t)}function iM(t=pr()){return/webos/i.test(t)}function yE(t=pr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FB(t=pr()){return yE(t)&&!!window.navigator?.standalone}function HB(){return a8()&&document.documentMode===10}function aM(t=pr()){return yE(t)||nM(t)||iM(t)||rM(t)||/windows phone/i.test(t)||tM(t)}function sM(t,e=[]){let n;switch(t){case"Browser":n=qC(pr());break;case"Worker":n=`${qC(pr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nc}/${r}`}class GB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,d)=>{try{const f=e(s);l(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function KB(t,e={}){return Us(t,"GET","/v2/passwordPolicy",hl(t,e))}const WB=6;class YB{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??WB,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class QB{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BC(this),this.idTokenSubscription=new BC(this),this.beforeStateQueue=new GB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Hu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vg(this,{idToken:e}),r=await Zi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ni(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!s||s===l)&&d?.user&&(r=d.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ug(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(ws(this));const n=e?Bt(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KB(this),n=new YB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $B(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ys(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await Hu.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(d,this,"internal-error"),d.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&AB(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Cc(t){return Bt(t)}class BC{constructor(e){this.auth=e,this.observer=null,this.addObserver=h8(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ty={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XB(t){ty=t}function oM(t){return ty.loadJS(t)}function ZB(){return ty.recaptchaEnterpriseScript}function JB(){return ty.gapiScript}function e7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class t7{constructor(){this.enterprise=new n7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class n7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const r7="recaptcha-enterprise",lM="NO_RECAPTCHA";class i7{constructor(e){this.type=r7,this.auth=Cc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,d)=>{kB(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new DB(f);return s.tenantId==null?s._agentRecaptchaConfig=m:s._tenantRecaptchaConfigs[s.tenantId]=m,l(m.siteKey)}}).catch(f=>{d(f)})})}function i(s,l,d){const f=window.grecaptcha;zC(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(m=>{l(m)}).catch(()=>{l(lM)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new t7().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(d=>{if(!n&&zC(window.grecaptcha))i(d,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=ZB();f.length!==0&&(f+=d),oM(f).then(()=>{i(d,s,l)}).catch(m=>{l(m)})}}).catch(d=>{l(d)})})}}async function $C(t,e,n,r=!1,i=!1){const s=new i7(t);let l;if(i)l=lM;else try{l=await s.verify(n)}catch{l=await s.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:l}):Object.assign(d,{captchaResponse:l}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function O1(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await $C(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await $C(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(s)})}function a7(t,e){const n=ey(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(uc(s,e??{}))return i;na(i,"already-initialized")}return n.initialize({options:e})}function s7(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ys);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function o7(t,e,n){const r=Cc(t);Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=cM(e),{host:l,port:d}=l7(e),f=d===null?"":`:${d}`,m={url:`${s}//${l}${f}/`},p=Object.freeze({host:l,port:d,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Fe(uc(m,r.config.emulator)&&uc(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,fl(l)?(uE(`${s}//${l}${f}`),dE("Auth",!0)):c7()}function cM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function l7(t){const e=cM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:FC(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:FC(l)}}}function FC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function c7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class _E{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,n){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}async function u7(t,e){return Us(t,"POST","/v1/accounts:signUp",e)}async function d7(t,e){return Bh(t,"POST","/v1/accounts:signInWithPassword",hl(t,e))}async function f7(t,e){return Bh(t,"POST","/v1/accounts:signInWithEmailLink",hl(t,e))}async function h7(t,e){return Bh(t,"POST","/v1/accounts:signInWithEmailLink",hl(t,e))}class mh extends _E{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new mh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new mh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return O1(e,n,"signInWithPassword",d7);case"emailLink":return f7(e,{email:this._email,oobCode:this._password});default:na(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return O1(e,r,"signUpPassword",u7);case"emailLink":return h7(e,{idToken:n,email:this._email,oobCode:this._password});default:na(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Gu(t,e){return Bh(t,"POST","/v1/accounts:signInWithIdp",hl(t,e))}const m7="http://localhost";class fc extends _E{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):na("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new fc(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Gu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Gu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Gu(e,n)}buildRequest(){const e={requestUri:m7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Uh(n)}return e}}function p7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g7(t){const e=Hf(Gf(t)).link,n=e?Hf(Gf(e)).deep_link_id:null,r=Hf(Gf(t)).deep_link_id;return(r?Hf(Gf(r)).link:null)||r||n||e||t}class bE{constructor(e){const n=Hf(Gf(e)),r=n.apiKey??null,i=n.oobCode??null,s=p7(n.mode??null);Fe(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=g7(e);try{return new bE(n)}catch{return null}}}class gd{constructor(){this.providerId=gd.PROVIDER_ID}static credential(e,n){return mh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=bE.parseLink(n);return Fe(r,"argument-error"),mh._fromEmailAndCode(e,r.code,r.tenantId)}}gd.PROVIDER_ID="password";gd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class uM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $h extends uM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class zo extends $h{constructor(){super("facebook.com")}static credential(e){return fc._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zo.credential(e.oauthAccessToken)}catch{return null}}}zo.FACEBOOK_SIGN_IN_METHOD="facebook.com";zo.PROVIDER_ID="facebook.com";class Lo extends $h{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fc._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Lo.credential(n,r)}catch{return null}}}Lo.GOOGLE_SIGN_IN_METHOD="google.com";Lo.PROVIDER_ID="google.com";class Vo extends $h{constructor(){super("github.com")}static credential(e){return fc._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vo.credential(e.oauthAccessToken)}catch{return null}}}Vo.GITHUB_SIGN_IN_METHOD="github.com";Vo.PROVIDER_ID="github.com";class Uo extends $h{constructor(){super("twitter.com")}static credential(e,n){return fc._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Uo.credential(n,r)}catch{return null}}}Uo.TWITTER_SIGN_IN_METHOD="twitter.com";Uo.PROVIDER_ID="twitter.com";async function v7(t,e){return Bh(t,"POST","/v1/accounts:signUp",hl(t,e))}class hc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Zi._fromIdTokenResponse(e,r,i),l=HC(r);return new hc({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=HC(r);return new hc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function HC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class qg extends Wa{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new qg(e,n,r,i)}}function dM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qg._fromErrorAndOperation(t,s,e,r):s})}async function y7(t,e,n=!1){const r=await Xu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return hc._forOperation(t,"link",r)}async function _7(t,e,n=!1){const{auth:r}=t;if(ni(r.app))return Promise.reject(ws(r));const i="reauthenticate";try{const s=await Xu(t,dM(r,i,e,t),n);Fe(s.idToken,r,"internal-error");const l=vE(s.idToken);Fe(l,r,"internal-error");const{sub:d}=l;return Fe(t.uid===d,r,"user-mismatch"),hc._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&na(r,"user-mismatch"),s}}async function fM(t,e,n=!1){if(ni(t.app))return Promise.reject(ws(t));const r="signIn",i=await dM(t,r,e),s=await hc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function b7(t,e){return fM(Cc(t),e)}async function hM(t){const e=Cc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function x7(t,e,n){if(ni(t.app))return Promise.reject(ws(t));const r=Cc(t),l=await O1(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",v7).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&hM(t),f}),d=await hc._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(d.user),d}function w7(t,e,n){return ni(t.app)?Promise.reject(ws(t)):b7(Bt(t),gd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hM(t),r})}async function E7(t,e){return Us(t,"POST","/v1/accounts:update",e)}async function S7(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Bt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Xu(r,E7(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function A7(t,e,n,r){return Bt(t).onIdTokenChanged(e,n,r)}function T7(t,e,n){return Bt(t).beforeAuthStateChanged(e,n)}function j7(t,e,n,r){return Bt(t).onAuthStateChanged(e,n,r)}function N7(t){return Bt(t).signOut()}const Bg="__sak";class mM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bg,"1"),this.storage.removeItem(Bg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const C7=1e3,O7=10;class pM extends mM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,d,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);HB()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,O7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},C7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pM.type="LOCAL";const P7=pM;class gM extends mM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gM.type="SESSION";const vM=gM;function I7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ny{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ny(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(l).map(async m=>m(n.origin,s)),f=await I7(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ny.receivers=[];function xE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class R7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((d,f)=>{const m=xE("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===m)switch(_.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),d(_.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function La(){return window}function D7(t){La().location.href=t}function yM(){return typeof La().WorkerGlobalScope<"u"&&typeof La().importScripts=="function"}async function k7(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M7(){return navigator?.serviceWorker?.controller||null}function z7(){return yM()?self:null}const _M="firebaseLocalStorageDb",L7=1,$g="firebaseLocalStorage",bM="fbase_key";class Fh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ry(t,e){return t.transaction([$g],e?"readwrite":"readonly").objectStore($g)}function V7(){const t=indexedDB.deleteDatabase(_M);return new Fh(t).toPromise()}function P1(){const t=indexedDB.open(_M,L7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($g,{keyPath:bM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($g)?e(r):(r.close(),await V7(),e(await P1()))})})}async function GC(t,e,n){const r=ry(t,!0).put({[bM]:e,value:n});return new Fh(r).toPromise()}async function U7(t,e){const n=ry(t,!1).get(e),r=await new Fh(n).toPromise();return r===void 0?null:r.value}function KC(t,e){const n=ry(t,!0).delete(e);return new Fh(n).toPromise()}const q7=800,B7=3;class xM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await P1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>B7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ny._getInstance(z7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await k7(),!this.activeServiceWorker)return;this.sender=new R7(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||M7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await P1();return await GC(e,Bg,"1"),await KC(e,Bg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>GC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>U7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>KC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ry(i,!1).getAll();return new Fh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xM.type="LOCAL";const $7=xM;new qh(3e4,6e4);function F7(t,e){return e?ys(e):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class wE extends _E{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Gu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Gu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function H7(t){return fM(t.auth,new wE(t),t.bypassAuthState)}function G7(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),_7(n,new wE(t),t.bypassAuthState)}async function K7(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),y7(n,new wE(t),t.bypassAuthState)}class wM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:d}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H7;case"linkViaPopup":case"linkViaRedirect":return K7;case"reauthViaPopup":case"reauthViaRedirect":return G7;default:na(this.auth,"internal-error")}}resolve(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const W7=new qh(2e3,1e4);class Uu extends wM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Uu.currentPopupAction&&Uu.currentPopupAction.cancel(),Uu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){Ns(this.filter.length===1,"Popup operations only handle one event");const e=xE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(za(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(za(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(za(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,W7.get())};e()}}Uu.currentPopupAction=null;const Y7="pendingRedirect",bg=new Map;class Q7 extends wM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bg.get(this.auth._key());if(!e){try{const r=await X7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bg.set(this.auth._key(),e)}return this.bypassAuthState||bg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X7(t,e){const n=e$(e),r=J7(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Z7(t,e){bg.set(t._key(),e)}function J7(t){return ys(t._redirectPersistence)}function e$(t){return _g(Y7,t.config.apiKey,t.name)}async function t$(t,e,n=!1){if(ni(t.app))return Promise.reject(ws(t));const r=Cc(t),i=F7(r,e),l=await new Q7(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const n$=600*1e3;class r${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!EM(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(za(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n$&&this.cachedEventUids.clear(),this.cachedEventUids.has(WC(e))}saveEventToCache(e){this.cachedEventUids.add(WC(e)),this.lastProcessedEventTime=Date.now()}}function WC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function EM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function i$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EM(t);default:return!1}}async function a$(t,e={}){return Us(t,"GET","/v1/projects",e)}const s$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o$=/^https?/;async function l$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await a$(t);for(const n of e)try{if(c$(n))return}catch{}na(t,"unauthorized-domain")}function c$(t){const e=N1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!o$.test(n))return!1;if(s$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const u$=new qh(3e4,6e4);function YC(){const t=La().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function d$(t){return new Promise((e,n)=>{function r(){YC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YC(),n(za(t,"network-request-failed"))},timeout:u$.get()})}if(La().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(La().gapi?.load)r();else{const i=e7("iframefcb");return La()[i]=()=>{gapi.load?r():n(za(t,"network-request-failed"))},oM(`${JB()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw xg=null,e})}let xg=null;function f$(t){return xg=xg||d$(t),xg}const h$=new qh(5e3,15e3),m$="__/auth/iframe",p$="emulator/auth/iframe",g$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y$(t){const e=t.config;Fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gE(e,p$):`https://${t.config.authDomain}/${m$}`,r={apiKey:e.apiKey,appName:t.name,v:Nc},i=v$.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Uh(r).slice(1)}`}async function _$(t){const e=await f$(t),n=La().gapi;return Fe(n,t,"internal-error"),e.open({where:document.body,url:y$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=za(t,"network-request-failed"),d=La().setTimeout(()=>{s(l)},h$.get());function f(){La().clearTimeout(d),i(r)}r.ping(f).then(f,()=>{s(l)})}))}const b$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x$=500,w$=600,E$="_blank",S$="http://localhost";class QC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A$(t,e,n,r=x$,i=w$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...b$,width:r.toString(),height:i.toString(),top:s,left:l},m=pr().toLowerCase();n&&(d=eM(m)?E$:n),Zk(m)&&(e=e||S$,f.scrollbars="yes");const p=Object.entries(f).reduce((_,[x,S])=>`${_}${x}=${S},`,"");if(FB(m)&&d!=="_self")return T$(e||"",d),new QC(null);const g=window.open(e||"",d,p);Fe(g,t,"popup-blocked");try{g.focus()}catch{}return new QC(g)}function T$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const j$="__/auth/handler",N$="emulator/auth/handler",C$=encodeURIComponent("fac");async function XC(t,e,n,r,i,s){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Nc,eventId:i};if(e instanceof uM){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",f8(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof $h){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const d=l;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const f=await t._getAppCheckToken(),m=f?`#${C$}=${encodeURIComponent(f)}`:"";return`${O$(t)}?${Uh(d).slice(1)}${m}`}function O$({config:t}){return t.emulator?gE(t,N$):`https://${t.authDomain}/${j$}`}const Sb="webStorageSupport";class P${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vM,this._completeRedirectFn=t$,this._overrideRedirectResult=Z7}async _openPopup(e,n,r,i){Ns(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await XC(e,n,r,N1(),i);return A$(e,s,xE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await XC(e,n,r,N1(),i);return D7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ns(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _$(e),r=new r$(e);return n.register("authEvent",i=>(Fe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sb,{type:Sb},i=>{const s=i?.[0]?.[Sb];s!==void 0&&n(!!s),na(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aM()||Jk()||yE()}}const I$=P$;var ZC="@firebase/auth",JC="1.12.0";class R${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function D$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k$(t){dc(new Jo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;Fe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sM(t)},m=new QB(r,i,s,f);return s7(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),dc(new Jo("auth-internal",e=>{const n=Cc(e.getProvider("auth").getImmediate());return(r=>new R$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ma(ZC,JC,D$(t)),Ma(ZC,JC,"esm2020")}const M$=300,z$=zk("authIdTokenMaxAge")||M$;let e2=null;const L$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>z$)return;const i=n?.token;e2!==i&&(e2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function V$(t=mE()){const e=ey(t,"auth");if(e.isInitialized())return e.getImmediate();const n=a7(t,{popupRedirectResolver:I$,persistence:[$7,P7,vM]}),r=zk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=L$(s.toString());T7(n,l,()=>l(n.currentUser)),A7(n,d=>l(d))}}const i=Dk("auth");return i&&o7(n,`http://${i}`),n}function U$(){return document.getElementsByTagName("head")?.[0]??document}XB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=za("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",U$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k$("Browser");var t2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Yo,SM;(function(){var t;function e(P,O){function I(){}I.prototype=O.prototype,P.F=O.prototype,P.prototype=new I,P.prototype.constructor=P,P.D=function($,q,z){for(var B=Array(arguments.length-2),be=2;be<arguments.length;be++)B[be-2]=arguments[be];return O.prototype[q].apply($,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,O,I){I||(I=0);const $=Array(16);if(typeof O=="string")for(var q=0;q<16;++q)$[q]=O.charCodeAt(I++)|O.charCodeAt(I++)<<8|O.charCodeAt(I++)<<16|O.charCodeAt(I++)<<24;else for(q=0;q<16;++q)$[q]=O[I++]|O[I++]<<8|O[I++]<<16|O[I++]<<24;O=P.g[0],I=P.g[1],q=P.g[2];let z=P.g[3],B;B=O+(z^I&(q^z))+$[0]+3614090360&4294967295,O=I+(B<<7&4294967295|B>>>25),B=z+(q^O&(I^q))+$[1]+3905402710&4294967295,z=O+(B<<12&4294967295|B>>>20),B=q+(I^z&(O^I))+$[2]+606105819&4294967295,q=z+(B<<17&4294967295|B>>>15),B=I+(O^q&(z^O))+$[3]+3250441966&4294967295,I=q+(B<<22&4294967295|B>>>10),B=O+(z^I&(q^z))+$[4]+4118548399&4294967295,O=I+(B<<7&4294967295|B>>>25),B=z+(q^O&(I^q))+$[5]+1200080426&4294967295,z=O+(B<<12&4294967295|B>>>20),B=q+(I^z&(O^I))+$[6]+2821735955&4294967295,q=z+(B<<17&4294967295|B>>>15),B=I+(O^q&(z^O))+$[7]+4249261313&4294967295,I=q+(B<<22&4294967295|B>>>10),B=O+(z^I&(q^z))+$[8]+1770035416&4294967295,O=I+(B<<7&4294967295|B>>>25),B=z+(q^O&(I^q))+$[9]+2336552879&4294967295,z=O+(B<<12&4294967295|B>>>20),B=q+(I^z&(O^I))+$[10]+4294925233&4294967295,q=z+(B<<17&4294967295|B>>>15),B=I+(O^q&(z^O))+$[11]+2304563134&4294967295,I=q+(B<<22&4294967295|B>>>10),B=O+(z^I&(q^z))+$[12]+1804603682&4294967295,O=I+(B<<7&4294967295|B>>>25),B=z+(q^O&(I^q))+$[13]+4254626195&4294967295,z=O+(B<<12&4294967295|B>>>20),B=q+(I^z&(O^I))+$[14]+2792965006&4294967295,q=z+(B<<17&4294967295|B>>>15),B=I+(O^q&(z^O))+$[15]+1236535329&4294967295,I=q+(B<<22&4294967295|B>>>10),B=O+(q^z&(I^q))+$[1]+4129170786&4294967295,O=I+(B<<5&4294967295|B>>>27),B=z+(I^q&(O^I))+$[6]+3225465664&4294967295,z=O+(B<<9&4294967295|B>>>23),B=q+(O^I&(z^O))+$[11]+643717713&4294967295,q=z+(B<<14&4294967295|B>>>18),B=I+(z^O&(q^z))+$[0]+3921069994&4294967295,I=q+(B<<20&4294967295|B>>>12),B=O+(q^z&(I^q))+$[5]+3593408605&4294967295,O=I+(B<<5&4294967295|B>>>27),B=z+(I^q&(O^I))+$[10]+38016083&4294967295,z=O+(B<<9&4294967295|B>>>23),B=q+(O^I&(z^O))+$[15]+3634488961&4294967295,q=z+(B<<14&4294967295|B>>>18),B=I+(z^O&(q^z))+$[4]+3889429448&4294967295,I=q+(B<<20&4294967295|B>>>12),B=O+(q^z&(I^q))+$[9]+568446438&4294967295,O=I+(B<<5&4294967295|B>>>27),B=z+(I^q&(O^I))+$[14]+3275163606&4294967295,z=O+(B<<9&4294967295|B>>>23),B=q+(O^I&(z^O))+$[3]+4107603335&4294967295,q=z+(B<<14&4294967295|B>>>18),B=I+(z^O&(q^z))+$[8]+1163531501&4294967295,I=q+(B<<20&4294967295|B>>>12),B=O+(q^z&(I^q))+$[13]+2850285829&4294967295,O=I+(B<<5&4294967295|B>>>27),B=z+(I^q&(O^I))+$[2]+4243563512&4294967295,z=O+(B<<9&4294967295|B>>>23),B=q+(O^I&(z^O))+$[7]+1735328473&4294967295,q=z+(B<<14&4294967295|B>>>18),B=I+(z^O&(q^z))+$[12]+2368359562&4294967295,I=q+(B<<20&4294967295|B>>>12),B=O+(I^q^z)+$[5]+4294588738&4294967295,O=I+(B<<4&4294967295|B>>>28),B=z+(O^I^q)+$[8]+2272392833&4294967295,z=O+(B<<11&4294967295|B>>>21),B=q+(z^O^I)+$[11]+1839030562&4294967295,q=z+(B<<16&4294967295|B>>>16),B=I+(q^z^O)+$[14]+4259657740&4294967295,I=q+(B<<23&4294967295|B>>>9),B=O+(I^q^z)+$[1]+2763975236&4294967295,O=I+(B<<4&4294967295|B>>>28),B=z+(O^I^q)+$[4]+1272893353&4294967295,z=O+(B<<11&4294967295|B>>>21),B=q+(z^O^I)+$[7]+4139469664&4294967295,q=z+(B<<16&4294967295|B>>>16),B=I+(q^z^O)+$[10]+3200236656&4294967295,I=q+(B<<23&4294967295|B>>>9),B=O+(I^q^z)+$[13]+681279174&4294967295,O=I+(B<<4&4294967295|B>>>28),B=z+(O^I^q)+$[0]+3936430074&4294967295,z=O+(B<<11&4294967295|B>>>21),B=q+(z^O^I)+$[3]+3572445317&4294967295,q=z+(B<<16&4294967295|B>>>16),B=I+(q^z^O)+$[6]+76029189&4294967295,I=q+(B<<23&4294967295|B>>>9),B=O+(I^q^z)+$[9]+3654602809&4294967295,O=I+(B<<4&4294967295|B>>>28),B=z+(O^I^q)+$[12]+3873151461&4294967295,z=O+(B<<11&4294967295|B>>>21),B=q+(z^O^I)+$[15]+530742520&4294967295,q=z+(B<<16&4294967295|B>>>16),B=I+(q^z^O)+$[2]+3299628645&4294967295,I=q+(B<<23&4294967295|B>>>9),B=O+(q^(I|~z))+$[0]+4096336452&4294967295,O=I+(B<<6&4294967295|B>>>26),B=z+(I^(O|~q))+$[7]+1126891415&4294967295,z=O+(B<<10&4294967295|B>>>22),B=q+(O^(z|~I))+$[14]+2878612391&4294967295,q=z+(B<<15&4294967295|B>>>17),B=I+(z^(q|~O))+$[5]+4237533241&4294967295,I=q+(B<<21&4294967295|B>>>11),B=O+(q^(I|~z))+$[12]+1700485571&4294967295,O=I+(B<<6&4294967295|B>>>26),B=z+(I^(O|~q))+$[3]+2399980690&4294967295,z=O+(B<<10&4294967295|B>>>22),B=q+(O^(z|~I))+$[10]+4293915773&4294967295,q=z+(B<<15&4294967295|B>>>17),B=I+(z^(q|~O))+$[1]+2240044497&4294967295,I=q+(B<<21&4294967295|B>>>11),B=O+(q^(I|~z))+$[8]+1873313359&4294967295,O=I+(B<<6&4294967295|B>>>26),B=z+(I^(O|~q))+$[15]+4264355552&4294967295,z=O+(B<<10&4294967295|B>>>22),B=q+(O^(z|~I))+$[6]+2734768916&4294967295,q=z+(B<<15&4294967295|B>>>17),B=I+(z^(q|~O))+$[13]+1309151649&4294967295,I=q+(B<<21&4294967295|B>>>11),B=O+(q^(I|~z))+$[4]+4149444226&4294967295,O=I+(B<<6&4294967295|B>>>26),B=z+(I^(O|~q))+$[11]+3174756917&4294967295,z=O+(B<<10&4294967295|B>>>22),B=q+(O^(z|~I))+$[2]+718787259&4294967295,q=z+(B<<15&4294967295|B>>>17),B=I+(z^(q|~O))+$[9]+3951481745&4294967295,P.g[0]=P.g[0]+O&4294967295,P.g[1]=P.g[1]+(q+(B<<21&4294967295|B>>>11))&4294967295,P.g[2]=P.g[2]+q&4294967295,P.g[3]=P.g[3]+z&4294967295}r.prototype.v=function(P,O){O===void 0&&(O=P.length);const I=O-this.blockSize,$=this.C;let q=this.h,z=0;for(;z<O;){if(q==0)for(;z<=I;)i(this,P,z),z+=this.blockSize;if(typeof P=="string"){for(;z<O;)if($[q++]=P.charCodeAt(z++),q==this.blockSize){i(this,$),q=0;break}}else for(;z<O;)if($[q++]=P[z++],q==this.blockSize){i(this,$),q=0;break}}this.h=q,this.o+=O},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var O=1;O<P.length-8;++O)P[O]=0;O=this.o*8;for(var I=P.length-8;I<P.length;++I)P[I]=O&255,O/=256;for(this.v(P),P=Array(16),O=0,I=0;I<4;++I)for(let $=0;$<32;$+=8)P[O++]=this.g[I]>>>$&255;return P};function s(P,O){var I=d;return Object.prototype.hasOwnProperty.call(I,P)?I[P]:I[P]=O(P)}function l(P,O){this.h=O;const I=[];let $=!0;for(let q=P.length-1;q>=0;q--){const z=P[q]|0;$&&z==O||(I[q]=z,$=!1)}this.g=I}var d={};function f(P){return-128<=P&&P<128?s(P,function(O){return new l([O|0],O<0?-1:0)}):new l([P|0],P<0?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return g;if(P<0)return A(m(-P));const O=[];let I=1;for(let $=0;P>=I;$++)O[$]=P/I|0,I*=4294967296;return new l(O,0)}function p(P,O){if(P.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(P.charAt(0)=="-")return A(p(P.substring(1),O));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=m(Math.pow(O,8));let $=g;for(let z=0;z<P.length;z+=8){var q=Math.min(8,P.length-z);const B=parseInt(P.substring(z,z+q),O);q<8?(q=m(Math.pow(O,q)),$=$.j(q).add(m(B))):($=$.j(I),$=$.add(m(B)))}return $}var g=f(0),_=f(1),x=f(16777216);t=l.prototype,t.m=function(){if(E(this))return-A(this).m();let P=0,O=1;for(let I=0;I<this.g.length;I++){const $=this.i(I);P+=($>=0?$:4294967296+$)*O,O*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(S(this))return"0";if(E(this))return"-"+A(this).toString(P);const O=m(Math.pow(P,6));var I=this;let $="";for(;;){const q=M(I,O).g;I=C(I,q.j(O));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(P);if(I=q,S(I))return z+$;for(;z.length<6;)z="0"+z;$=z+$}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function S(P){if(P.h!=0)return!1;for(let O=0;O<P.g.length;O++)if(P.g[O]!=0)return!1;return!0}function E(P){return P.h==-1}t.l=function(P){return P=C(this,P),E(P)?-1:S(P)?0:1};function A(P){const O=P.g.length,I=[];for(let $=0;$<O;$++)I[$]=~P.g[$];return new l(I,~P.h).add(_)}t.abs=function(){return E(this)?A(this):this},t.add=function(P){const O=Math.max(this.g.length,P.g.length),I=[];let $=0;for(let q=0;q<=O;q++){let z=$+(this.i(q)&65535)+(P.i(q)&65535),B=(z>>>16)+(this.i(q)>>>16)+(P.i(q)>>>16);$=B>>>16,z&=65535,B&=65535,I[q]=B<<16|z}return new l(I,I[I.length-1]&-2147483648?-1:0)};function C(P,O){return P.add(A(O))}t.j=function(P){if(S(this)||S(P))return g;if(E(this))return E(P)?A(this).j(A(P)):A(A(this).j(P));if(E(P))return A(this.j(A(P)));if(this.l(x)<0&&P.l(x)<0)return m(this.m()*P.m());const O=this.g.length+P.g.length,I=[];for(var $=0;$<2*O;$++)I[$]=0;for($=0;$<this.g.length;$++)for(let q=0;q<P.g.length;q++){const z=this.i($)>>>16,B=this.i($)&65535,be=P.i(q)>>>16,Se=P.i(q)&65535;I[2*$+2*q]+=B*Se,D(I,2*$+2*q),I[2*$+2*q+1]+=z*Se,D(I,2*$+2*q+1),I[2*$+2*q+1]+=B*be,D(I,2*$+2*q+1),I[2*$+2*q+2]+=z*be,D(I,2*$+2*q+2)}for(P=0;P<O;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=O;P<2*O;P++)I[P]=0;return new l(I,0)};function D(P,O){for(;(P[O]&65535)!=P[O];)P[O+1]+=P[O]>>>16,P[O]&=65535,O++}function k(P,O){this.g=P,this.h=O}function M(P,O){if(S(O))throw Error("division by zero");if(S(P))return new k(g,g);if(E(P))return O=M(A(P),O),new k(A(O.g),A(O.h));if(E(O))return O=M(P,A(O)),new k(A(O.g),O.h);if(P.g.length>30){if(E(P)||E(O))throw Error("slowDivide_ only works with positive integers.");for(var I=_,$=O;$.l(P)<=0;)I=V(I),$=V($);var q=L(I,1),z=L($,1);for($=L($,2),I=L(I,2);!S($);){var B=z.add($);B.l(P)<=0&&(q=q.add(I),z=B),$=L($,1),I=L(I,1)}return O=C(P,q.j(O)),new k(q,O)}for(q=g;P.l(O)>=0;){for(I=Math.max(1,Math.floor(P.m()/O.m())),$=Math.ceil(Math.log(I)/Math.LN2),$=$<=48?1:Math.pow(2,$-48),z=m(I),B=z.j(O);E(B)||B.l(P)>0;)I-=$,z=m(I),B=z.j(O);S(z)&&(z=_),q=q.add(z),P=C(P,B)}return new k(q,P)}t.B=function(P){return M(this,P).h},t.and=function(P){const O=Math.max(this.g.length,P.g.length),I=[];for(let $=0;$<O;$++)I[$]=this.i($)&P.i($);return new l(I,this.h&P.h)},t.or=function(P){const O=Math.max(this.g.length,P.g.length),I=[];for(let $=0;$<O;$++)I[$]=this.i($)|P.i($);return new l(I,this.h|P.h)},t.xor=function(P){const O=Math.max(this.g.length,P.g.length),I=[];for(let $=0;$<O;$++)I[$]=this.i($)^P.i($);return new l(I,this.h^P.h)};function V(P){const O=P.g.length+1,I=[];for(let $=0;$<O;$++)I[$]=P.i($)<<1|P.i($-1)>>>31;return new l(I,P.h)}function L(P,O){const I=O>>5;O%=32;const $=P.g.length-I,q=[];for(let z=0;z<$;z++)q[z]=O>0?P.i(z+I)>>>O|P.i(z+I+1)<<32-O:P.i(z+I);return new l(q,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,SM=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=p,Yo=l}).apply(typeof t2<"u"?t2:typeof self<"u"?self:typeof window<"u"?window:{});var Fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var AM,Kf,TM,wg,I1,jM,NM,CM;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fp=="object"&&Fp];for(var T=0;T<v.length;++T){var N=v[T];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(v,T){if(T)e:{var N=r;v=v.split(".");for(var U=0;U<v.length-1;U++){var J=v[U];if(!(J in N))break e;N=N[J]}v=v[v.length-1],U=N[v],T=T(U),T!=U&&T!=null&&e(N,v,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(T){var N=[],U;for(U in T)Object.prototype.hasOwnProperty.call(T,U)&&N.push([U,T[U]]);return N}});var s=s||{},l=this||self;function d(v){var T=typeof v;return T=="object"&&v!=null||T=="function"}function f(v,T,N){return v.call.apply(v.bind,arguments)}function m(v,T,N){return m=f,m.apply(null,arguments)}function p(v,T){var N=Array.prototype.slice.call(arguments,1);return function(){var U=N.slice();return U.push.apply(U,arguments),v.apply(this,U)}}function g(v,T){function N(){}N.prototype=T.prototype,v.Z=T.prototype,v.prototype=new N,v.prototype.constructor=v,v.Ob=function(U,J,se){for(var Ee=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)Ee[Ze-2]=arguments[Ze];return T.prototype[J].apply(U,Ee)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function x(v){const T=v.length;if(T>0){const N=Array(T);for(let U=0;U<T;U++)N[U]=v[U];return N}return[]}function S(v,T){for(let U=1;U<arguments.length;U++){const J=arguments[U];var N=typeof J;if(N=N!="object"?N:J?Array.isArray(J)?"array":N:"null",N=="array"||N=="object"&&typeof J.length=="number"){N=v.length||0;const se=J.length||0;v.length=N+se;for(let Ee=0;Ee<se;Ee++)v[N+Ee]=J[Ee]}else v.push(J)}}class E{constructor(T,N){this.i=T,this.j=N,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function A(v){l.setTimeout(()=>{throw v},0)}function C(){var v=P;let T=null;return v.g&&(T=v.g,v.g=v.g.next,v.g||(v.h=null),T.next=null),T}class D{constructor(){this.h=this.g=null}add(T,N){const U=k.get();U.set(T,N),this.h?this.h.next=U:this.g=U,this.h=U}}var k=new E(()=>new M,v=>v.reset());class M{constructor(){this.next=this.g=this.h=null}set(T,N){this.h=T,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let V,L=!1,P=new D,O=()=>{const v=Promise.resolve(void 0);V=()=>{v.then(I)}};function I(){for(var v;v=C();){try{v.h.call(v.g)}catch(N){A(N)}var T=k;T.j(v),T.h<100&&(T.h++,v.next=T.g,T.g=v)}L=!1}function $(){this.u=this.u,this.C=this.C}$.prototype.u=!1,$.prototype.dispose=function(){this.u||(this.u=!0,this.N())},$.prototype[Symbol.dispose]=function(){this.dispose()},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(v,T){this.type=v,this.g=this.target=T,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,T=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const N=()=>{};l.addEventListener("test",N,T),l.removeEventListener("test",N,T)}catch{}return v})();function B(v){return/^[\s\xa0]*$/.test(v)}function be(v,T){q.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,T)}g(be,q),be.prototype.init=function(v,T){const N=this.type=v.type,U=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=T,T=v.relatedTarget,T||(N=="mouseover"?T=v.fromElement:N=="mouseout"&&(T=v.toElement)),this.relatedTarget=T,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Se="closure_listenable_"+(Math.random()*1e6|0),W=0;function le(v,T,N,U,J){this.listener=v,this.proxy=null,this.src=T,this.type=N,this.capture=!!U,this.ha=J,this.key=++W,this.da=this.fa=!1}function ve(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function xe(v,T,N){for(const U in v)T.call(N,v[U],U,v)}function we(v,T){for(const N in v)T.call(void 0,v[N],N,v)}function F(v){const T={};for(const N in v)T[N]=v[N];return T}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(v,T){let N,U;for(let J=1;J<arguments.length;J++){U=arguments[J];for(N in U)v[N]=U[N];for(let se=0;se<ne.length;se++)N=ne[se],Object.prototype.hasOwnProperty.call(U,N)&&(v[N]=U[N])}}function _e(v){this.src=v,this.g={},this.h=0}_e.prototype.add=function(v,T,N,U,J){const se=v.toString();v=this.g[se],v||(v=this.g[se]=[],this.h++);const Ee=K(v,T,U,J);return Ee>-1?(T=v[Ee],N||(T.fa=!1)):(T=new le(T,this.src,se,!!U,J),T.fa=N,v.push(T)),T};function Q(v,T){const N=T.type;if(N in v.g){var U=v.g[N],J=Array.prototype.indexOf.call(U,T,void 0),se;(se=J>=0)&&Array.prototype.splice.call(U,J,1),se&&(ve(T),v.g[N].length==0&&(delete v.g[N],v.h--))}}function K(v,T,N,U){for(let J=0;J<v.length;++J){const se=v[J];if(!se.da&&se.listener==T&&se.capture==!!N&&se.ha==U)return J}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),Le={};function ie(v,T,N,U,J){if(Array.isArray(T)){for(let se=0;se<T.length;se++)ie(v,T[se],N,U,J);return null}return N=sr(N),v&&v[Se]?v.J(T,N,d(U)?!!U.capture:!1,J):Te(v,T,N,!1,U,J)}function Te(v,T,N,U,J,se){if(!T)throw Error("Invalid event type");const Ee=d(J)?!!J.capture:!!J;let Ze=ct(v);if(Ze||(v[ye]=Ze=new _e(v)),N=Ze.add(T,N,U,Ee,se),N.proxy)return N;if(U=Y(),N.proxy=U,U.src=v,U.listener=N,v.addEventListener)z||(J=Ee),J===void 0&&(J=!1),v.addEventListener(T.toString(),U,J);else if(v.attachEvent)v.attachEvent(Be(T.toString()),U);else if(v.addListener&&v.removeListener)v.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Y(){function v(N){return T.call(v.src,v.listener,N)}const T=rt;return v}function he(v,T,N,U,J){if(Array.isArray(T))for(var se=0;se<T.length;se++)he(v,T[se],N,U,J);else U=d(U)?!!U.capture:!!U,N=sr(N),v&&v[Se]?(v=v.i,se=String(T).toString(),se in v.g&&(T=v.g[se],N=K(T,N,U,J),N>-1&&(ve(T[N]),Array.prototype.splice.call(T,N,1),T.length==0&&(delete v.g[se],v.h--)))):v&&(v=ct(v))&&(T=v.g[T.toString()],v=-1,T&&(v=K(T,N,U,J)),(N=v>-1?T[v]:null)&&Re(N))}function Re(v){if(typeof v!="number"&&v&&!v.da){var T=v.src;if(T&&T[Se])Q(T.i,v);else{var N=v.type,U=v.proxy;T.removeEventListener?T.removeEventListener(N,U,v.capture):T.detachEvent?T.detachEvent(Be(N),U):T.addListener&&T.removeListener&&T.removeListener(U),(N=ct(T))?(Q(N,v),N.h==0&&(N.src=null,T[ye]=null)):ve(v)}}}function Be(v){return v in Le?Le[v]:Le[v]="on"+v}function rt(v,T){if(v.da)v=!0;else{T=new be(T,this);const N=v.listener,U=v.ha||v.src;v.fa&&Re(v),v=N.call(U,T)}return v}function ct(v){return v=v[ye],v instanceof _e?v:null}var pt="__closure_events_fn_"+(Math.random()*1e9>>>0);function sr(v){return typeof v=="function"?v:(v[pt]||(v[pt]=function(T){return v.handleEvent(T)}),v[pt])}function Nt(){$.call(this),this.i=new _e(this),this.M=this,this.G=null}g(Nt,$),Nt.prototype[Se]=!0,Nt.prototype.removeEventListener=function(v,T,N,U){he(this,v,T,N,U)};function Ct(v,T){var N,U=v.G;if(U)for(N=[];U;U=U.G)N.push(U);if(v=v.M,U=T.type||T,typeof T=="string")T=new q(T,v);else if(T instanceof q)T.target=T.target||v;else{var J=T;T=new q(U,v),pe(T,J)}J=!0;let se,Ee;if(N)for(Ee=N.length-1;Ee>=0;Ee--)se=T.g=N[Ee],J=jr(se,U,!0,T)&&J;if(se=T.g=v,J=jr(se,U,!0,T)&&J,J=jr(se,U,!1,T)&&J,N)for(Ee=0;Ee<N.length;Ee++)se=T.g=N[Ee],J=jr(se,U,!1,T)&&J}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var v=this.i;for(const T in v.g){const N=v.g[T];for(let U=0;U<N.length;U++)ve(N[U]);delete v.g[T],v.h--}}this.G=null},Nt.prototype.J=function(v,T,N,U){return this.i.add(String(v),T,!1,N,U)},Nt.prototype.K=function(v,T,N,U){return this.i.add(String(v),T,!0,N,U)};function jr(v,T,N,U){if(T=v.i.g[String(T)],!T)return!0;T=T.concat();let J=!0;for(let se=0;se<T.length;++se){const Ee=T[se];if(Ee&&!Ee.da&&Ee.capture==N){const Ze=Ee.listener,un=Ee.ha||Ee.src;Ee.fa&&Q(v.i,Ee),J=Ze.call(un,U)!==!1&&J}}return J&&!U.defaultPrevented}function ce(v,T){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=m(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(v,T||0)}function Pe(v){v.g=ce(()=>{v.g=null,v.i&&(v.i=!1,Pe(v))},v.l);const T=v.h;v.h=null,v.m.apply(null,T)}class Ue extends ${constructor(T,N){super(),this.m=T,this.l=N,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Pe(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ge(v){$.call(this),this.h=v,this.g={}}g(Ge,$);var Mt=[];function On(v){xe(v.g,function(T,N){this.g.hasOwnProperty(N)&&Re(T)},v),v.g={}}Ge.prototype.N=function(){Ge.Z.N.call(this),On(this)},Ge.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nr=l.JSON.stringify,Xs=l.JSON.parse,Cr=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function zi(){}function Vc(){}var Jt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function wt(){q.call(this,"d")}g(wt,q);function Or(){q.call(this,"c")}g(Or,q);var Qt={},yl=null;function Zs(){return yl=yl||new Nt}Qt.Ia="serverreachability";function Uc(v){q.call(this,Qt.Ia,v)}g(Uc,q);function fi(v){const T=Zs();Ct(T,new Uc(T))}Qt.STAT_EVENT="statevent";function Ya(v,T){q.call(this,Qt.STAT_EVENT,v),this.stat=T}g(Ya,q);function en(v){const T=Zs();Ct(T,new Ya(T,v))}Qt.Ja="timingevent";function hi(v,T){q.call(this,Qt.Ja,v),this.size=T}g(hi,q);function or(v,T){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},T)}function Gr(){this.g=!0}Gr.prototype.ua=function(){this.g=!1};function Z(v,T,N,U,J,se){v.info(function(){if(v.g)if(se){var Ee="",Ze=se.split("&");for(let _t=0;_t<Ze.length;_t++){var un=Ze[_t].split("=");if(un.length>1){const Gt=un[0];un=un[1];const vi=Gt.split("_");Ee=vi.length>=2&&vi[1]=="type"?Ee+(Gt+"="+un+"&"):Ee+(Gt+"=redacted&")}}}else Ee=null;else Ee=se;return"XMLHTTP REQ ("+U+") [attempt "+J+"]: "+T+`
`+N+`
`+Ee})}function Ve(v,T,N,U,J,se,Ee){v.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+J+"]: "+T+`
`+N+`
`+se+" "+Ee})}function ft(v,T,N,U){v.info(function(){return"XMLHTTP TEXT ("+T+"): "+_l(v,N)+(U?" "+U:"")})}function Mn(v,T){v.info(function(){return"TIMEOUT: "+T})}Gr.prototype.info=function(){};function _l(v,T){if(!v.g)return T;if(!T)return null;try{const se=JSON.parse(T);if(se){for(v=0;v<se.length;v++)if(Array.isArray(se[v])){var N=se[v];if(!(N.length<2)){var U=N[1];if(Array.isArray(U)&&!(U.length<1)){var J=U[0];if(J!="noop"&&J!="stop"&&J!="close")for(let Ee=1;Ee<U.length;Ee++)U[Ee]=""}}}}return Nr(se)}catch{return T}}var Pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Id;function xl(){}g(xl,zi),xl.prototype.g=function(){return new XMLHttpRequest},Id=new xl;function Qa(v){return encodeURIComponent(String(v))}function xm(v){var T=1;v=v.split(":");const N=[];for(;T>0&&v.length;)N.push(v.shift()),T--;return v.length&&N.push(v.join(":")),N}function Li(v,T,N,U){this.j=v,this.i=T,this.l=N,this.S=U||1,this.V=new Ge(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vi}function Vi(){this.i=null,this.g="",this.h=!1}var vn={},zn={};function da(v,T,N){v.M=1,v.A=wl(_n(T)),v.u=N,v.R=!0,qc(v,null)}function qc(v,T){v.F=Date.now(),fa(v),v.B=_n(v.A);var N=v.B,U=v.S;Array.isArray(U)||(U=[String(U)]),Hc(N.i,"t",U),v.C=0,N=v.j.L,v.h=new Vi,v.g=Mm(v.j,N?T:null,!v.u),v.P>0&&(v.O=new Ue(m(v.Y,v,v.g),v.P)),T=v.V,N=v.g,U=v.ba;var J="readystatechange";Array.isArray(J)||(J&&(Mt[0]=J.toString()),J=Mt);for(let se=0;se<J.length;se++){const Ee=ie(N,J[se],U||T.handleEvent,!1,T.h||T);if(!Ee)break;T.g[Ee.key]=Ee}T=v.J?F(v.J):{},v.u?(v.v||(v.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,T)):(v.v="GET",v.g.ea(v.B,v.v,null,T)),fi(),Z(v.i,v.v,v.B,v.l,v.S,v.u)}Li.prototype.ba=function(v){v=v.target;const T=this.O;T&&Bi(v)==3?T.j():this.Y(v)},Li.prototype.Y=function(v){try{if(v==this.g)e:{const Ze=Bi(this.g),un=this.g.ya(),_t=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||Xn(this.g)))){this.K||Ze!=4||un==7||(un==8||_t<=0?fi(3):fi(2)),ha(this);var T=this.g.ca();this.X=T;var N=v0(this);if(this.o=T==200,Ve(this.i,this.v,this.B,this.l,this.S,Ze,T),this.o){if(this.U&&!this.L){t:{if(this.g){var U,J=this.g;if((U=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(U)){var se=U;break t}}se=null}if(v=se)ft(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ma(this,v);else{this.o=!1,this.m=3,en(12),Kr(this),mi(this);break e}}if(this.R){v=!0;let Gt;for(;!this.K&&this.C<N.length;)if(Gt=Em(this,N),Gt==zn){Ze==4&&(this.m=4,en(14),v=!1),ft(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==vn){this.m=4,en(15),ft(this.i,this.l,N,"[Invalid Chunk]"),v=!1;break}else ft(this.i,this.l,Gt,null),ma(this,Gt);if(wm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||N.length!=0||this.h.h||(this.m=1,en(16),v=!1),this.o=this.o&&v,!v)ft(this.i,this.l,N,"[Invalid Chunked Response]"),Kr(this),mi(this);else if(N.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),Kd(Ee),Ee.P=!0,en(11))}}else ft(this.i,this.l,N,null),ma(this,N);Ze==4&&Kr(this),this.o&&!this.K&&(Ze==4?Im(this.j,this):(this.o=!1,fa(this)))}else Za(this.g),T==400&&N.indexOf("Unknown SID")>0?(this.m=3,en(12)):(this.m=0,en(13)),Kr(this),mi(this)}}}catch{}};function v0(v){if(!wm(v))return v.g.la();const T=Xn(v.g);if(T==="")return"";let N="";const U=T.length,J=Bi(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return Kr(v),mi(v),"";v.h.i=new l.TextDecoder}for(let se=0;se<U;se++)v.h.h=!0,N+=v.h.i.decode(T[se],{stream:!(J&&se==U-1)});return T.length=0,v.h.g+=N,v.C=0,v.h.g}function wm(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function Em(v,T){var N=v.C,U=T.indexOf(`
`,N);return U==-1?zn:(N=Number(T.substring(N,U)),isNaN(N)?vn:(U+=1,U+N>T.length?zn:(T=T.slice(U,U+N),v.C=U+N,T)))}Li.prototype.cancel=function(){this.K=!0,Kr(this)};function fa(v){v.T=Date.now()+v.H,Bc(v,v.H)}function Bc(v,T){if(v.D!=null)throw Error("WatchDog timer not null");v.D=or(m(v.aa,v),T)}function ha(v){v.D&&(l.clearTimeout(v.D),v.D=null)}Li.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(Mn(this.i,this.B),this.M!=2&&(fi(),en(17)),Kr(this),this.m=2,mi(this)):Bc(this,this.T-v)};function mi(v){v.j.I==0||v.K||Im(v.j,v)}function Kr(v){ha(v);var T=v.O;T&&typeof T.dispose=="function"&&T.dispose(),v.O=null,On(v.V),v.g&&(T=v.g,v.g=null,T.abort(),T.dispose())}function ma(v,T){try{var N=v.j;if(N.I!=0&&(N.g==v||ga(N.h,v))){if(!v.L&&ga(N.h,v)&&N.I==3){try{var U=N.Ba.g.parse(T)}catch{U=null}if(Array.isArray(U)&&U.length==3){var J=U;if(J[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<v.F)Qc(N),so(N);else break e;Cl(N),en(18)}}else N.xa=J[1],0<N.xa-N.K&&J[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=or(m(N.Va,N),6e3));pa(N.h)<=1&&N.ta&&(N.ta=void 0)}else wa(N,11)}else if((v.L||N.g==v)&&Qc(N),!B(T))for(J=N.Ba.g.parse(T),T=0;T<J.length;T++){let _t=J[T];const Gt=_t[0];if(!(Gt<=N.K))if(N.K=Gt,_t=_t[1],N.I==2)if(_t[0]=="c"){N.M=_t[1],N.ba=_t[2];const vi=_t[3];vi!=null&&(N.ka=vi,N.j.info("VER="+N.ka));const Ea=_t[4];Ea!=null&&(N.za=Ea,N.j.info("SVER="+N.za));const $i=_t[5];$i!=null&&typeof $i=="number"&&$i>0&&(U=1.5*$i,N.O=U,N.j.info("backChannelRequestTimeoutMs_="+U)),U=N;const Fi=v.g;if(Fi){const Ol=Fi.g?Fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ol){var se=U.h;se.g||Ol.indexOf("spdy")==-1&&Ol.indexOf("quic")==-1&&Ol.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(kd(se,se.h),se.h=null))}if(U.G){const Xc=Fi.g?Fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Xc&&(U.wa=Xc,Et(U.J,U.G,Xc))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-v.F,N.j.info("Handshake RTT: "+N.T+"ms")),U=N;var Ee=v;if(U.na=km(U,U.L?U.ba:null,U.W),Ee.L){Md(U.h,Ee);var Ze=Ee,un=U.O;un&&(Ze.H=un),Ze.D&&(ha(Ze),fa(Ze)),U.g=Ee}else Om(U);N.i.length>0&&xa(N)}else _t[0]!="stop"&&_t[0]!="close"||wa(N,7);else N.I==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?wa(N,7):Hd(N):_t[0]!="noop"&&N.l&&N.l.qa(_t),N.A=0)}}fi(4)}catch{}}var yn=class{constructor(v,T){this.g=v,this.map=T}};function Rd(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Dd(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function pa(v){return v.h?1:v.g?v.g.size:0}function ga(v,T){return v.h?v.h==T:v.g?v.g.has(T):!1}function kd(v,T){v.g?v.g.add(T):v.h=T}function Md(v,T){v.h&&v.h==T?v.h=null:v.g&&v.g.has(T)&&v.g.delete(T)}Rd.prototype.cancel=function(){if(this.i=zd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function zd(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let T=v.i;for(const N of v.g.values())T=T.concat(N.G);return T}return x(v.i)}var Sm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $c(v,T){if(v){v=v.split("&");for(let N=0;N<v.length;N++){const U=v[N].indexOf("=");let J,se=null;U>=0?(J=v[N].substring(0,U),se=v[N].substring(U+1)):J=v[N],T(J,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function Wr(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;v instanceof Wr?(this.l=v.l,Ln(this,v.j),this.o=v.o,this.g=v.g,Js(this,v.u),this.h=v.h,Ld(this,Nm(v.i)),this.m=v.m):v&&(T=String(v).match(Sm))?(this.l=!1,Ln(this,T[1]||"",!0),this.o=va(T[2]||""),this.g=va(T[3]||"",!0),Js(this,T[4]),this.h=va(T[5]||"",!0),Ld(this,T[6]||"",!0),this.m=va(T[7]||"")):(this.l=!1,this.i=new to(null,this.l))}Wr.prototype.toString=function(){const v=[];var T=this.j;T&&v.push(El(T,Fc,!0),":");var N=this.g;return(N||T=="file")&&(v.push("//"),(T=this.o)&&v.push(El(T,Fc,!0),"@"),v.push(Qa(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&v.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&v.push("/"),v.push(El(N,N.charAt(0)=="/"?Vd:Am,!0))),(N=this.i.toString())&&v.push("?",N),(N=this.m)&&v.push("#",El(N,Tm)),v.join("")},Wr.prototype.resolve=function(v){const T=_n(this);let N=!!v.j;N?Ln(T,v.j):N=!!v.o,N?T.o=v.o:N=!!v.g,N?T.g=v.g:N=v.u!=null;var U=v.h;if(N)Js(T,v.u);else if(N=!!v.h){if(U.charAt(0)!="/")if(this.g&&!this.h)U="/"+U;else{var J=T.h.lastIndexOf("/");J!=-1&&(U=T.h.slice(0,J+1)+U)}if(J=U,J==".."||J==".")U="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){U=J.lastIndexOf("/",0)==0,J=J.split("/");const se=[];for(let Ee=0;Ee<J.length;){const Ze=J[Ee++];Ze=="."?U&&Ee==J.length&&se.push(""):Ze==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),U&&Ee==J.length&&se.push("")):(se.push(Ze),U=!0)}U=se.join("/")}else U=J}return N?T.h=U:N=v.i.toString()!=="",N?Ld(T,Nm(v.i)):N=!!v.m,N&&(T.m=v.m),T};function _n(v){return new Wr(v)}function Ln(v,T,N){v.j=N?va(T,!0):T,v.j&&(v.j=v.j.replace(/:$/,""))}function Js(v,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);v.u=T}else v.u=null}function Ld(v,T,N){T instanceof to?(v.i=T,Gc(v.i,v.l)):(N||(T=El(T,eo)),v.i=new to(T,v.l))}function Et(v,T,N){v.i.set(T,N)}function wl(v){return Et(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function va(v,T){return v?T?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function El(v,T,N){return typeof v=="string"?(v=encodeURI(v).replace(T,Ir),N&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Ir(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Fc=/[#\/\?@]/g,Am=/[#\?:]/g,Vd=/[#\?]/g,eo=/[#\?@]/g,Tm=/#/g;function to(v,T){this.h=this.g=null,this.i=v||null,this.j=!!T}function Rr(v){v.g||(v.g=new Map,v.h=0,v.i&&$c(v.i,function(T,N){v.add(decodeURIComponent(T.replace(/\+/g," ")),N)}))}t=to.prototype,t.add=function(v,T){Rr(this),this.i=null,v=no(this,v);let N=this.g.get(v);return N||this.g.set(v,N=[]),N.push(T),this.h+=1,this};function jm(v,T){Rr(v),T=no(v,T),v.g.has(T)&&(v.i=null,v.h-=v.g.get(T).length,v.g.delete(T))}function Ud(v,T){return Rr(v),T=no(v,T),v.g.has(T)}t.forEach=function(v,T){Rr(this),this.g.forEach(function(N,U){N.forEach(function(J){v.call(T,J,U,this)},this)},this)};function qd(v,T){Rr(v);let N=[];if(typeof T=="string")Ud(v,T)&&(N=N.concat(v.g.get(no(v,T))));else for(v=Array.from(v.g.values()),T=0;T<v.length;T++)N=N.concat(v[T]);return N}t.set=function(v,T){return Rr(this),this.i=null,v=no(this,v),Ud(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[T]),this.h+=1,this},t.get=function(v,T){return v?(v=qd(this,v),v.length>0?String(v[0]):T):T};function Hc(v,T,N){jm(v,T),N.length>0&&(v.i=null,v.g.set(no(v,T),x(N)),v.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],T=Array.from(this.g.keys());for(let U=0;U<T.length;U++){var N=T[U];const J=Qa(N);N=qd(this,N);for(let se=0;se<N.length;se++){let Ee=J;N[se]!==""&&(Ee+="="+Qa(N[se])),v.push(Ee)}}return this.i=v.join("&")};function Nm(v){const T=new to;return T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),T}function no(v,T){return T=String(T),v.j&&(T=T.toLowerCase()),T}function Gc(v,T){T&&!v.j&&(Rr(v),v.i=null,v.g.forEach(function(N,U){const J=U.toLowerCase();U!=J&&(jm(this,U),Hc(this,J,N))},v)),v.j=T}function Ui(v,T){const N=new Gr;if(l.Image){const U=new Image;U.onload=p(pi,N,"TestLoadImage: loaded",!0,T,U),U.onerror=p(pi,N,"TestLoadImage: error",!1,T,U),U.onabort=p(pi,N,"TestLoadImage: abort",!1,T,U),U.ontimeout=p(pi,N,"TestLoadImage: timeout",!1,T,U),l.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=v}else T(!1)}function Bd(v,T){const N=new Gr,U=new AbortController,J=setTimeout(()=>{U.abort(),pi(N,"TestPingServer: timeout",!1,T)},1e4);fetch(v,{signal:U.signal}).then(se=>{clearTimeout(J),se.ok?pi(N,"TestPingServer: ok",!0,T):pi(N,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(J),pi(N,"TestPingServer: error",!1,T)})}function pi(v,T,N,U,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),U(N)}catch{}}function ro(){this.g=new Cr}function ya(v){this.i=v.Sb||null,this.h=v.ab||!1}g(ya,zi),ya.prototype.g=function(){return new Sl(this.i,this.h)};function Sl(v,T){Nt.call(this),this.H=v,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Sl,Nt),t=Sl.prototype,t.open=function(v,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=T,this.readyState=1,qi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(T.body=v),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,io(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,qi(this)),this.g&&(this.readyState=3,qi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Kc(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function Kc(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var T=v.value?v.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!v.done}))&&(this.response=this.responseText+=T)}v.done?io(this):qi(this),this.readyState==3&&Kc(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,io(this))},t.Na=function(v){this.g&&(this.response=v,io(this))},t.ga=function(){this.g&&io(this)};function io(v){v.readyState=4,v.l=null,v.j=null,v.B=null,qi(v)}t.setRequestHeader=function(v,T){this.A.append(v,T)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],T=this.h.entries();for(var N=T.next();!N.done;)N=N.value,v.push(N[0]+": "+N[1]),N=T.next();return v.join(`\r
`)};function qi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Sl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function gi(v){let T="";return xe(v,function(N,U){T+=U,T+=":",T+=N,T+=`\r
`}),T}function Al(v,T,N){e:{for(U in N){var U=!1;break e}U=!0}U||(N=gi(N),typeof v=="string"?N!=null&&Qa(N):Et(v,T,N))}function Ot(v){Nt.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Ot,Nt);var _a=/^https?$/i,$d=["POST","PUT"];t=Ot.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,T,N,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);T=T?T.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Id.g(),this.g.onreadystatechange=_(m(this.Ca,this));try{this.B=!0,this.g.open(T,String(v),!0),this.B=!1}catch(se){Tl(this,se);return}if(v=N||"",N=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var J in U)N.set(J,U[J]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const se of U.keys())N.set(se,U.get(se));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(N.keys()).find(se=>se.toLowerCase()=="content-type"),J=l.FormData&&v instanceof l.FormData,!(Array.prototype.indexOf.call($d,T,void 0)>=0)||U||J||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,Ee]of N)this.g.setRequestHeader(se,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(se){Tl(this,se)}};function Tl(v,T){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=T,v.o=5,Fd(v),Xa(v)}function Fd(v){v.A||(v.A=!0,Ct(v,"complete"),Ct(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,Ct(this,"complete"),Ct(this,"abort"),Xa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xa(this,!0)),Ot.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?jl(this):this.Xa())},t.Xa=function(){jl(this)};function jl(v){if(v.h&&typeof s<"u"){if(v.v&&Bi(v)==4)setTimeout(v.Ca.bind(v),0);else if(Ct(v,"readystatechange"),Bi(v)==4){v.h=!1;try{const se=v.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var N;if(!(N=T)){var U;if(U=se===0){let Ee=String(v.D).match(Sm)[1]||null;!Ee&&l.self&&l.self.location&&(Ee=l.self.location.protocol.slice(0,-1)),U=!_a.test(Ee?Ee.toLowerCase():"")}N=U}if(N)Ct(v,"complete"),Ct(v,"success");else{v.o=6;try{var J=Bi(v)>2?v.g.statusText:""}catch{J=""}v.l=J+" ["+v.ca()+"]",Fd(v)}}finally{Xa(v)}}}}function Xa(v,T){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const N=v.g;v.g=null,T||Ct(v,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Bi(v){return v.g?v.g.readyState:0}t.ca=function(){try{return Bi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var T=this.g.responseText;return v&&T.indexOf(v)==0&&(T=T.substring(v.length)),Xs(T)}};function Xn(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Za(v){const T={};v=(v.g&&Bi(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<v.length;U++){if(B(v[U]))continue;var N=xm(v[U]);const J=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const se=T[J]||[];T[J]=se,se.push(N)}we(T,function(U){return U.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ba(v,T,N){return N&&N.internalChannelParams&&N.internalChannelParams[v]||T}function ao(v){this.za=0,this.i=[],this.j=new Gr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ba("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ba("baseRetryDelayMs",5e3,v),this.Za=ba("retryDelaySeedMs",1e4,v),this.Ta=ba("forwardChannelMaxRetries",2,v),this.va=ba("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new Rd(v&&v.concurrentRequestLimit),this.Ba=new ro,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ao.prototype,t.ka=8,t.I=1,t.connect=function(v,T,N,U){en(0),this.W=v,this.H=T||{},N&&U!==void 0&&(this.H.OSID=N,this.H.OAID=U),this.F=this.X,this.J=km(this,null,this.W),xa(this)};function Hd(v){if(Wc(v),v.I==3){var T=v.V++,N=_n(v.J);if(Et(N,"SID",v.M),Et(N,"RID",T),Et(N,"TYPE","terminate"),Nl(v,N),T=new Li(v,v.j,T),T.M=2,T.A=wl(_n(N)),N=!1,l.navigator&&l.navigator.sendBeacon)try{N=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!N&&l.Image&&(new Image().src=T.A,N=!0),N||(T.g=Mm(T.j,null),T.g.ea(T.A)),T.F=Date.now(),fa(T)}Dm(v)}function so(v){v.g&&(Kd(v),v.g.cancel(),v.g=null)}function Wc(v){so(v),v.v&&(l.clearTimeout(v.v),v.v=null),Qc(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&l.clearTimeout(v.m),v.m=null)}function xa(v){if(!Dd(v.h)&&!v.m){v.m=!0;var T=v.Ea;V||O(),L||(V(),L=!0),P.add(T,v),v.D=0}}function Yc(v,T){return pa(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=T.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=or(m(v.Ea,v,T),Rm(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const J=new Li(this,this.j,v);let se=this.o;if(this.U&&(se?(se=F(se),pe(se,this.U)):se=this.U),this.u!==null||this.R||(J.J=se,se=null),this.S)e:{for(var T=0,N=0;N<this.i.length;N++){t:{var U=this.i[N];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(T+=U,T>4096){T=N;break e}if(T===4096||N===this.i.length-1){T=N+1;break e}}T=1e3}else T=1e3;T=Cm(this,J,T),N=_n(this.J),Et(N,"RID",v),Et(N,"CVER",22),this.G&&Et(N,"X-HTTP-Session-Id",this.G),Nl(this,N),se&&(this.R?T="headers="+Qa(gi(se))+"&"+T:this.u&&Al(N,this.u,se)),kd(this.h,J),this.Ra&&Et(N,"TYPE","init"),this.S?(Et(N,"$req",T),Et(N,"SID","null"),J.U=!0,da(J,N,null)):da(J,N,T),this.I=2}}else this.I==3&&(v?Gd(this,v):this.i.length==0||Dd(this.h)||Gd(this))};function Gd(v,T){var N;T?N=T.l:N=v.V++;const U=_n(v.J);Et(U,"SID",v.M),Et(U,"RID",N),Et(U,"AID",v.K),Nl(v,U),v.u&&v.o&&Al(U,v.u,v.o),N=new Li(v,v.j,N,v.D+1),v.u===null&&(N.J=v.o),T&&(v.i=T.G.concat(v.i)),T=Cm(v,N,1e3),N.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),kd(v.h,N),da(N,U,T)}function Nl(v,T){v.H&&xe(v.H,function(N,U){Et(T,U,N)}),v.l&&xe({},function(N,U){Et(T,U,N)})}function Cm(v,T,N){N=Math.min(v.i.length,N);const U=v.l?m(v.l.Ka,v.l,v):null;e:{var J=v.i;let Ze=-1;for(;;){const un=["count="+N];Ze==-1?N>0?(Ze=J[0].g,un.push("ofs="+Ze)):Ze=0:un.push("ofs="+Ze);let _t=!0;for(let Gt=0;Gt<N;Gt++){var se=J[Gt].g;const vi=J[Gt].map;if(se-=Ze,se<0)Ze=Math.max(0,J[Gt].g-100),_t=!1;else try{se="req"+se+"_"||"";try{var Ee=vi instanceof Map?vi:Object.entries(vi);for(const[Ea,$i]of Ee){let Fi=$i;d($i)&&(Fi=Nr($i)),un.push(se+Ea+"="+encodeURIComponent(Fi))}}catch(Ea){throw un.push(se+"type="+encodeURIComponent("_badmap")),Ea}}catch{U&&U(vi)}}if(_t){Ee=un.join("&");break e}}Ee=void 0}return v=v.i.splice(0,N),T.G=v,Ee}function Om(v){if(!v.g&&!v.v){v.Y=1;var T=v.Da;V||O(),L||(V(),L=!0),P.add(T,v),v.A=0}}function Cl(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=or(m(v.Da,v),Rm(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,Pm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=or(m(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,en(10),so(this),Pm(this))};function Kd(v){v.B!=null&&(l.clearTimeout(v.B),v.B=null)}function Pm(v){v.g=new Li(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var T=_n(v.na);Et(T,"RID","rpc"),Et(T,"SID",v.M),Et(T,"AID",v.K),Et(T,"CI",v.F?"0":"1"),!v.F&&v.ia&&Et(T,"TO",v.ia),Et(T,"TYPE","xmlhttp"),Nl(v,T),v.u&&v.o&&Al(T,v.u,v.o),v.O&&(v.g.H=v.O);var N=v.g;v=v.ba,N.M=1,N.A=wl(_n(T)),N.u=null,N.R=!0,qc(N,v)}t.Va=function(){this.C!=null&&(this.C=null,so(this),Cl(this),en(19))};function Qc(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function Im(v,T){var N=null;if(v.g==T){Qc(v),Kd(v),v.g=null;var U=2}else if(ga(v.h,T))N=T.G,Md(v.h,T),U=1;else return;if(v.I!=0){if(T.o)if(U==1){N=T.u?T.u.length:0,T=Date.now()-T.F;var J=v.D;U=Zs(),Ct(U,new hi(U,N)),xa(v)}else Om(v);else if(J=T.m,J==3||J==0&&T.X>0||!(U==1&&Yc(v,T)||U==2&&Cl(v)))switch(N&&N.length>0&&(T=v.h,T.i=T.i.concat(N)),J){case 1:wa(v,5);break;case 4:wa(v,10);break;case 3:wa(v,6);break;default:wa(v,2)}}}function Rm(v,T){let N=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(N*=2),N*T}function wa(v,T){if(v.j.info("Error code "+T),T==2){var N=m(v.bb,v),U=v.Ua;const J=!U;U=new Wr(U||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ln(U,"https"),wl(U),J?Ui(U.toString(),N):Bd(U.toString(),N)}else en(2);v.I=0,v.l&&v.l.pa(T),Dm(v),Wc(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function Dm(v){if(v.I=0,v.ja=[],v.l){const T=zd(v.h);(T.length!=0||v.i.length!=0)&&(S(v.ja,T),S(v.ja,v.i),v.h.i.length=0,x(v.i),v.i.length=0),v.l.oa()}}function km(v,T,N){var U=N instanceof Wr?_n(N):new Wr(N);if(U.g!="")T&&(U.g=T+"."+U.g),Js(U,U.u);else{var J=l.location;U=J.protocol,T=T?T+"."+J.hostname:J.hostname,J=+J.port;const se=new Wr(null);U&&Ln(se,U),T&&(se.g=T),J&&Js(se,J),N&&(se.h=N),U=se}return N=v.G,T=v.wa,N&&T&&Et(U,N,T),Et(U,"VER",v.ka),Nl(v,U),U}function Mm(v,T,N){if(T&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=v.Aa&&!v.ma?new Ot(new ya({ab:N})):new Ot(v.ma),T.Fa(v.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zm(){}t=zm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function oo(){}oo.prototype.g=function(v,T){return new vr(v,T)};function vr(v,T){Nt.call(this),this.g=new ao(T),this.l=v,this.h=T&&T.messageUrlParams||null,v=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(v?v["X-WebChannel-Content-Type"]=T.messageContentType:v={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(v?v["X-WebChannel-Client-Profile"]=T.sa:v={"X-WebChannel-Client-Profile":T.sa}),this.g.U=v,(v=T&&T.Qb)&&!B(v)&&(this.g.u=v),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!B(T)&&(this.g.G=T,v=this.h,v!==null&&T in v&&(v=this.h,T in v&&delete v[T])),this.j=new Ja(this)}g(vr,Nt),vr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){Hd(this.g)},vr.prototype.o=function(v){var T=this.g;if(typeof v=="string"){var N={};N.__data__=v,v=N}else this.v&&(N={},N.__data__=Nr(v),v=N);T.i.push(new yn(T.Ya++,v)),T.I==3&&xa(T)},vr.prototype.N=function(){this.g.l=null,delete this.j,Hd(this.g),delete this.g,vr.Z.N.call(this)};function Lm(v){wt.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var T=v.__sm__;if(T){e:{for(const N in T){v=N;break e}v=void 0}(this.i=v)&&(v=this.i,T=T!==null&&v in T?T[v]:void 0),this.data=T}else this.data=v}g(Lm,wt);function Vm(){Or.call(this),this.status=1}g(Vm,Or);function Ja(v){this.g=v}g(Ja,zm),Ja.prototype.ra=function(){Ct(this.g,"a")},Ja.prototype.qa=function(v){Ct(this.g,new Lm(v))},Ja.prototype.pa=function(v){Ct(this.g,new Vm)},Ja.prototype.oa=function(){Ct(this.g,"b")},oo.prototype.createWebChannel=oo.prototype.g,vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,CM=function(){return new oo},NM=function(){return Zs()},jM=Qt,I1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pr.NO_ERROR=0,Pr.TIMEOUT=8,Pr.HTTP_ERROR=6,wg=Pr,bl.COMPLETE="complete",TM=bl,Vc.EventType=Jt,Jt.OPEN="a",Jt.CLOSE="b",Jt.ERROR="c",Jt.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,Kf=Vc,Ot.prototype.listenOnce=Ot.prototype.K,Ot.prototype.getLastError=Ot.prototype.Ha,Ot.prototype.getLastErrorCode=Ot.prototype.ya,Ot.prototype.getStatus=Ot.prototype.ca,Ot.prototype.getResponseJson=Ot.prototype.La,Ot.prototype.getResponseText=Ot.prototype.la,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Fa,AM=Ot}).apply(typeof Fp<"u"?Fp:typeof self<"u"?self:typeof window<"u"?window:{});let fr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");let vd="12.8.0";function q$(t){vd=t}const mc=new fE("@firebase/firestore");function Du(){return mc.logLevel}function je(t,...e){if(mc.logLevel<=st.DEBUG){const n=e.map(EE);mc.debug(`Firestore (${vd}): ${t}`,...n)}}function Cs(t,...e){if(mc.logLevel<=st.ERROR){const n=e.map(EE);mc.error(`Firestore (${vd}): ${t}`,...n)}}function pc(t,...e){if(mc.logLevel<=st.WARN){const n=e.map(EE);mc.warn(`Firestore (${vd}): ${t}`,...n)}}function EE(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function He(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,OM(t,r,n)}function OM(t,e,n){let r=`FIRESTORE (${vd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Cs(r),new Error(r)}function xt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||OM(e,i,r)}function Qe(t,e){return t}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Wa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Es{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class PM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(fr.UNAUTHENTICATED)))}shutdown(){}}class B${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class $${constructor(e){this.t=e,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Es,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},d=f=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Es)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt(typeof r.accessToken=="string",31837,{l:r}),new PM(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string",2055,{h:e}),new fr(e)}}class F${constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=fr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class H${constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new F$(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(fr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class n2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G${constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xt(this.o===void 0,3512);const r=s=>{s.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,je("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new n2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new n2(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function K$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class iy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=K$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ot(t,e){return t<e?-1:t>e?1:0}function R1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Ab(i)===Ab(s)?ot(i,s):Ab(i)?1:-1}return ot(t.length,e.length)}const W$=55296,Y$=57343;function Ab(t){const e=t.charCodeAt(0);return e>=W$&&e<=Y$}function Zu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const r2="__name__";class Pa{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&He(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Pa.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ot(e.length,n.length)}static compareSegments(e,n){const r=Pa.isNumericId(e),i=Pa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Pa.extractNumericId(e).compare(Pa.extractNumericId(n)):R1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yo.fromString(e.substring(4,e.length-2))}}class qt extends Pa{construct(e,n,r){return new qt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new qt(n)}static emptyPath(){return new qt([])}}const Q$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends Pa{construct(e,n,r){return new Fn(e,n,r)}static isValidIdentifier(e){return Q$.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r2}static keyField(){return new Fn([r2])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ae(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new Ae(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ae(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else d==="`"?(l=!l,i++):d!=="."||l?(r+=d,i++):(s(),i++)}if(s(),l)throw new Ae(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(n)}static emptyPath(){return new Fn([])}}class Me{constructor(e){this.path=e}static fromPath(e){return new Me(qt.fromString(e))}static fromName(e){return new Me(qt.fromString(e).popFirst(5))}static empty(){return new Me(qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new qt(e.slice()))}}function RM(t,e,n){if(!n)throw new Ae(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DM(t,e,n,r){if(e===!0&&r===!0)throw new Ae(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function i2(t){if(!Me.isDocumentKey(t))throw new Ae(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function a2(t){if(Me.isDocumentKey(t))throw new Ae(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ay(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He(12329,{type:typeof t})}function ui(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ay(t);throw new Ae(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function X$(t,e){if(e<=0)throw new Ae(de.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Tn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Hh(t,e){if(!kM(t))throw new Ae(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ae(de.INVALID_ARGUMENT,n);return!0}const s2=-62135596800,o2=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*o2);return new mt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<s2)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/o2}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hh(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-s2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Tn("string",mt._jsonSchemaVersion),seconds:Tn("number"),nanoseconds:Tn("number")};class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new mt(0,0))}static max(){return new Ke(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ph=-1;function Z$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ke.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new el(i,Me.empty(),e)}function J$(t){return new el(t.readTime,t.key,ph)}class el{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new el(Ke.min(),Me.empty(),ph)}static max(){return new el(Ke.max(),Me.empty(),ph)}}function eF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:ot(t.largestBatchId,e.largestBatchId))}const tF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function yd(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==tF)throw t;je("LocalStore","Unexpectedly lost primary lease")}class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ge(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ge?n:ge.resolve(n)}catch(n){return ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ge.reject(n)}static resolve(e){return new ge(((n,r)=>{n(e)}))}static reject(e){return new ge(((n,r)=>{r(e)}))}static waitFor(e){return new ge(((n,r)=>{let i=0,s=0,l=!1;e.forEach((d=>{++i,d.next((()=>{++s,l&&s===i&&n()}),(f=>r(f)))})),l=!0,s===i&&n()}))}static or(e){let n=ge.resolve(!1);for(const r of e)n=n.next((i=>i?ge.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new ge(((r,i)=>{const s=e.length,l=new Array(s);let d=0;for(let f=0;f<s;f++){const m=f;n(e[m]).next((p=>{l[m]=p,++d,d===s&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new ge(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function rF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _d(t){return t.name==="IndexedDbTransactionError"}class sy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sy.ce=-1;const SE=-1;function oy(t){return t==null}function Fg(t){return t===0&&1/t==-1/0}function iF(t){return typeof t=="number"&&Number.isInteger(t)&&!Fg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const MM="";function aF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=l2(e)),e=sF(t.get(n),e);return l2(e)}function sF(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case MM:n+="";break;default:n+=s}}return n}function l2(t){return t+MM+""}function c2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ml(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Xt{constructor(e,n){this.comparator=e,this.root=n||ir.EMPTY}insert(e,n){return new Xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(e){return new Xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hp(this.root,e,this.comparator,!0)}}class Hp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ir{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ir.RED,this.left=i??ir.EMPTY,this.right=s??ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ir(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ir.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ir.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1;ir.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Rn{constructor(e){this.comparator=e,this.data=new Xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new u2(this.data.getIterator())}getIteratorFrom(e){return new u2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Rn(this.comparator);return n.data=e,n}}class u2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ai{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new ai([])}unionWith(e){let n=new Rn(Fn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ai(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class LM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new LM("Invalid base64 string: "+s):s}})(e);return new Gn(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new Gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gn.EMPTY_BYTE_STRING=new Gn("");const oF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tl(t){if(xt(!!t,39018),typeof t=="string"){let e=0;const n=oF.exec(t);if(xt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mn(t.seconds),nanos:mn(t.nanos)}}function mn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function nl(t){return typeof t=="string"?Gn.fromBase64String(t):Gn.fromUint8Array(t)}const VM="server_timestamp",UM="__type__",qM="__previous_value__",BM="__local_write_time__";function AE(t){return(t?.mapValue?.fields||{})[UM]?.stringValue===VM}function ly(t){const e=t.mapValue.fields[qM];return AE(e)?ly(e):e}function gh(t){const e=tl(t.mapValue.fields[BM].timestampValue);return new mt(e.seconds,e.nanos)}class lF{constructor(e,n,r,i,s,l,d,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=p,this.apiKey=g}}const Hg="(default)";class Ju{constructor(e,n){this.projectId=e,this.database=n||Hg}static empty(){return new Ju("","")}get isDefaultDatabase(){return this.database===Hg}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}function cF(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ae(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(t.options.projectId,e)}const $M="__type__",uF="__max__",Gp={mapValue:{}},FM="__vector__",Gg="value";function rl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?AE(t)?4:fF(t)?9007199254740991:dF(t)?10:11:He(28295,{value:t})}function Ba(t,e){if(t===e)return!0;const n=rl(t);if(n!==rl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gh(t).isEqual(gh(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=tl(i.timestampValue),d=tl(s.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return nl(i.bytesValue).isEqual(nl(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return mn(i.geoPointValue.latitude)===mn(s.geoPointValue.latitude)&&mn(i.geoPointValue.longitude)===mn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return mn(i.integerValue)===mn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=mn(i.doubleValue),d=mn(s.doubleValue);return l===d?Fg(l)===Fg(d):isNaN(l)&&isNaN(d)}return!1})(t,e);case 9:return Zu(t.arrayValue.values||[],e.arrayValue.values||[],Ba);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},d=s.mapValue.fields||{};if(c2(l)!==c2(d))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(d[f]===void 0||!Ba(l[f],d[f])))return!1;return!0})(t,e);default:return He(52216,{left:t})}}function vh(t,e){return(t.values||[]).find((n=>Ba(n,e)))!==void 0}function ed(t,e){if(t===e)return 0;const n=rl(t),r=rl(e);if(n!==r)return ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const d=mn(s.integerValue||s.doubleValue),f=mn(l.integerValue||l.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return d2(t.timestampValue,e.timestampValue);case 4:return d2(gh(t),gh(e));case 5:return R1(t.stringValue,e.stringValue);case 6:return(function(s,l){const d=nl(s),f=nl(l);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const d=s.split("/"),f=l.split("/");for(let m=0;m<d.length&&m<f.length;m++){const p=ot(d[m],f[m]);if(p!==0)return p}return ot(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const d=ot(mn(s.latitude),mn(l.latitude));return d!==0?d:ot(mn(s.longitude),mn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return f2(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const d=s.fields||{},f=l.fields||{},m=d[Gg]?.arrayValue,p=f[Gg]?.arrayValue,g=ot(m?.values?.length||0,p?.values?.length||0);return g!==0?g:f2(m,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===Gp.mapValue&&l===Gp.mapValue)return 0;if(s===Gp.mapValue)return 1;if(l===Gp.mapValue)return-1;const d=s.fields||{},f=Object.keys(d),m=l.fields||{},p=Object.keys(m);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const _=R1(f[g],p[g]);if(_!==0)return _;const x=ed(d[f[g]],m[p[g]]);if(x!==0)return x}return ot(f.length,p.length)})(t.mapValue,e.mapValue);default:throw He(23264,{he:n})}}function d2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ot(t,e);const n=tl(t),r=tl(e),i=ot(n.seconds,r.seconds);return i!==0?i:ot(n.nanos,r.nanos)}function f2(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ed(n[i],r[i]);if(s)return s}return ot(n.length,r.length)}function td(t){return D1(t)}function D1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=tl(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return nl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Me.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=D1(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${D1(n.fields[l])}`;return i+"}"})(t.mapValue):He(61005,{value:t})}function Eg(t){switch(rl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ly(t);return e?16+Eg(e):16;case 5:return 2*t.stringValue.length;case 6:return nl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Eg(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return ml(r.fields,((s,l)=>{i+=s.length+Eg(l)})),i})(t.mapValue);default:throw He(13486,{value:t})}}function h2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function k1(t){return!!t&&"integerValue"in t}function TE(t){return!!t&&"arrayValue"in t}function m2(t){return!!t&&"nullValue"in t}function p2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sg(t){return!!t&&"mapValue"in t}function dF(t){return(t?.mapValue?.fields||{})[$M]?.stringValue===FM}function rh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ml(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=rh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rh(t.arrayValue.values[n]);return e}return{...t}}function fF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===uF}class Ur{constructor(e){this.value=e}static empty(){return new Ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rh(n)}setAll(e){let n=Fn.emptyPath(),r={},i=[];e.forEach(((l,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=d.popLast()}l?r[d.lastSegment()]=rh(l):i.push(d.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Sg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ba(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ml(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Ur(rh(this.value))}}function HM(t){const e=[];return ml(t.fields,((n,r)=>{const i=new Fn([n]);if(Sg(r)){const s=HM(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new ai(e)}class hr{constructor(e,n,r,i,s,l,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=d}static newInvalidDocument(e){return new hr(e,0,Ke.min(),Ke.min(),Ke.min(),Ur.empty(),0)}static newFoundDocument(e,n,r,i){return new hr(e,1,n,Ke.min(),r,i,0)}static newNoDocument(e,n){return new hr(e,2,n,Ke.min(),Ke.min(),Ur.empty(),0)}static newUnknownDocument(e,n){return new hr(e,3,n,Ke.min(),Ke.min(),Ur.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kg{constructor(e,n){this.position=e,this.inclusive=n}}function g2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Me.comparator(Me.fromName(l.referenceValue),n.key):r=ed(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function v2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ba(t.position[n],e.position[n]))return!1;return!0}class yh{constructor(e,n="asc"){this.field=e,this.dir=n}}function hF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class GM{}class An extends GM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pF(e,n,r):n==="array-contains"?new yF(e,r):n==="in"?new _F(e,r):n==="not-in"?new bF(e,r):n==="array-contains-any"?new xF(e,r):new An(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gF(e,r):new vF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ed(n,this.value)):n!==null&&rl(this.value)===rl(n)&&this.matchesComparison(ed(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ra extends GM{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ra(e,n)}matches(e){return KM(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KM(t){return t.op==="and"}function WM(t){return mF(t)&&KM(t)}function mF(t){for(const e of t.filters)if(e instanceof ra)return!1;return!0}function M1(t){if(t instanceof An)return t.field.canonicalString()+t.op.toString()+td(t.value);if(WM(t))return t.filters.map((e=>M1(e))).join(",");{const e=t.filters.map((n=>M1(n))).join(",");return`${t.op}(${e})`}}function YM(t,e){return t instanceof An?(function(r,i){return i instanceof An&&r.op===i.op&&r.field.isEqual(i.field)&&Ba(r.value,i.value)})(t,e):t instanceof ra?(function(r,i){return i instanceof ra&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,d)=>s&&YM(l,i.filters[d])),!0):!1})(t,e):void He(19439)}function QM(t){return t instanceof An?(function(n){return`${n.field.canonicalString()} ${n.op} ${td(n.value)}`})(t):t instanceof ra?(function(n){return n.op.toString()+" {"+n.getFilters().map(QM).join(" ,")+"}"})(t):"Filter"}class pF extends An{constructor(e,n,r){super(e,n,r),this.key=Me.fromName(r.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class gF extends An{constructor(e,n){super(e,"in",n),this.keys=XM("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class vF extends An{constructor(e,n){super(e,"not-in",n),this.keys=XM("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function XM(t,e){return(e.arrayValue?.values||[]).map((n=>Me.fromName(n.referenceValue)))}class yF extends An{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return TE(n)&&vh(n.arrayValue,this.value)}}class _F extends An{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vh(this.value.arrayValue,n)}}class bF extends An{constructor(e,n){super(e,"not-in",n)}matches(e){if(vh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vh(this.value.arrayValue,n)}}class xF extends An{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!TE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>vh(this.value.arrayValue,r)))}}class wF{constructor(e,n=null,r=[],i=[],s=null,l=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=d,this.Te=null}}function y2(t,e=null,n=[],r=[],i=null,s=null,l=null){return new wF(t,e,n,r,i,s,l)}function jE(t){const e=Qe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>M1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),oy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>td(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>td(r))).join(",")),e.Te=n}return e.Te}function NE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!v2(t.startAt,e.startAt)&&v2(t.endAt,e.endAt)}function z1(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class bd{constructor(e,n=null,r=[],i=[],s=null,l="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function EF(t,e,n,r,i,s,l,d){return new bd(t,e,n,r,i,s,l,d)}function CE(t){return new bd(t)}function _2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SF(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function ZM(t){return t.collectionGroup!==null}function ih(t){const e=Qe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new Rn(Fn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new yh(s,r))})),n.has(Fn.keyField().canonicalString())||e.Ie.push(new yh(Fn.keyField(),r))}return e.Ie}function Va(t){const e=Qe(t);return e.Ee||(e.Ee=AF(e,ih(t))),e.Ee}function AF(t,e){if(t.limitType==="F")return y2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new yh(i.field,s)}));const n=t.endAt?new Kg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Kg(t.startAt.position,t.startAt.inclusive):null;return y2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function L1(t,e){const n=t.filters.concat([e]);return new bd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function TF(t,e){const n=t.explicitOrderBy.concat([e]);return new bd(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Wg(t,e,n){return new bd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cy(t,e){return NE(Va(t),Va(e))&&t.limitType===e.limitType}function JM(t){return`${jE(Va(t))}|lt:${t.limitType}`}function ku(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>QM(i))).join(", ")}]`),oy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>td(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>td(i))).join(",")),`Target(${r})`})(Va(t))}; limitType=${t.limitType})`}function uy(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Me.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of ih(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,d,f){const m=g2(l,d,f);return l.inclusive?m<=0:m<0})(r.startAt,ih(r),i)||r.endAt&&!(function(l,d,f){const m=g2(l,d,f);return l.inclusive?m>=0:m>0})(r.endAt,ih(r),i))})(t,e)}function jF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function e4(t){return(e,n)=>{let r=!1;for(const i of ih(t)){const s=NF(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function NF(t,e,n){const r=t.field.isKeyField()?Me.comparator(e.key,n.key):(function(s,l,d){const f=l.data.field(s),m=d.data.field(s);return f!==null&&m!==null?ed(f,m):He(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He(19790,{direction:t.dir})}}class Oc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ml(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return zM(this.inner)}size(){return this.innerSize}}const CF=new Xt(Me.comparator);function Os(){return CF}const t4=new Xt(Me.comparator);function Wf(...t){let e=t4;for(const n of t)e=e.insert(n.key,n);return e}function n4(t){let e=t4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Jl(){return ah()}function r4(){return ah()}function ah(){return new Oc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const OF=new Xt(Me.comparator),PF=new Rn(Me.comparator);function lt(...t){let e=PF;for(const n of t)e=e.add(n);return e}const IF=new Rn(ot);function RF(){return IF}function OE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fg(e)?"-0":e}}function i4(t){return{integerValue:""+t}}function DF(t,e){return iF(e)?i4(e):OE(t,e)}class dy{constructor(){this._=void 0}}function kF(t,e,n){return t instanceof _h?(function(i,s){const l={fields:{[UM]:{stringValue:VM},[BM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&AE(s)&&(s=ly(s)),s&&(l.fields[qM]=s),{mapValue:l}})(n,e):t instanceof bh?s4(t,e):t instanceof xh?o4(t,e):(function(i,s){const l=a4(i,s),d=b2(l)+b2(i.Ae);return k1(l)&&k1(i.Ae)?i4(d):OE(i.serializer,d)})(t,e)}function MF(t,e,n){return t instanceof bh?s4(t,e):t instanceof xh?o4(t,e):n}function a4(t,e){return t instanceof Yg?(function(r){return k1(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class _h extends dy{}class bh extends dy{constructor(e){super(),this.elements=e}}function s4(t,e){const n=l4(e);for(const r of t.elements)n.some((i=>Ba(i,r)))||n.push(r);return{arrayValue:{values:n}}}class xh extends dy{constructor(e){super(),this.elements=e}}function o4(t,e){let n=l4(e);for(const r of t.elements)n=n.filter((i=>!Ba(i,r)));return{arrayValue:{values:n}}}class Yg extends dy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function b2(t){return mn(t.integerValue||t.doubleValue)}function l4(t){return TE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class zF{constructor(e,n){this.field=e,this.transform=n}}function LF(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof bh&&i instanceof bh||r instanceof xh&&i instanceof xh?Zu(r.elements,i.elements,Ba):r instanceof Yg&&i instanceof Yg?Ba(r.Ae,i.Ae):r instanceof _h&&i instanceof _h})(t.transform,e.transform)}class VF{constructor(e,n){this.version=e,this.transformResults=n}}class wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ag(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fy{}function c4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hy(t.key,wr.none()):new Gh(t.key,t.data,wr.none());{const n=t.data,r=Ur.empty();let i=new Rn(Fn.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new pl(t.key,r,new ai(i.toArray()),wr.none())}}function UF(t,e,n){t instanceof Gh?(function(i,s,l){const d=i.value.clone(),f=w2(i.fieldTransforms,s,l.transformResults);d.setAll(f),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):t instanceof pl?(function(i,s,l){if(!Ag(i.precondition,s))return void s.convertToUnknownDocument(l.version);const d=w2(i.fieldTransforms,s,l.transformResults),f=s.data;f.setAll(u4(i)),f.setAll(d),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function sh(t,e,n,r){return t instanceof Gh?(function(s,l,d,f){if(!Ag(s.precondition,l))return d;const m=s.value.clone(),p=E2(s.fieldTransforms,f,l);return m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof pl?(function(s,l,d,f){if(!Ag(s.precondition,l))return d;const m=E2(s.fieldTransforms,f,l),p=l.data;return p.setAll(u4(s)),p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),d===null?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,l,d){return Ag(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d})(t,e,n)}function qF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=a4(r.transform,i||null);s!=null&&(n===null&&(n=Ur.empty()),n.set(r.field,s))}return n||null}function x2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Zu(r,i,((s,l)=>LF(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gh extends fy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class pl extends fy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function u4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function w2(t,e,n){const r=new Map;xt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,d=e.data.field(s.field);r.set(s.field,MF(l,d,n[i]))}return r}function E2(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,kF(s,l,e))}return r}class hy extends fy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BF extends fy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $F{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&UF(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=r4();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let d=this.applyToLocalView(l,s.mutatedFields);d=n.has(i.key)?null:d;const f=c4(l,d);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Ke.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),lt())}isEqual(e){return this.batchId===e.batchId&&Zu(this.mutations,e.mutations,((n,r)=>x2(n,r)))&&Zu(this.baseMutations,e.baseMutations,((n,r)=>x2(n,r)))}}class PE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return OF})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new PE(e,n,r,i)}}class FF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class HF{constructor(e,n){this.count=e,this.unchangedNames=n}}var Sn,ht;function GF(t){switch(t){case de.OK:return He(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return He(15467,{code:t})}}function d4(t){if(t===void 0)return Cs("GRPC error has no .code"),de.UNKNOWN;switch(t){case Sn.OK:return de.OK;case Sn.CANCELLED:return de.CANCELLED;case Sn.UNKNOWN:return de.UNKNOWN;case Sn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Sn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Sn.INTERNAL:return de.INTERNAL;case Sn.UNAVAILABLE:return de.UNAVAILABLE;case Sn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Sn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Sn.NOT_FOUND:return de.NOT_FOUND;case Sn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Sn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Sn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Sn.ABORTED:return de.ABORTED;case Sn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Sn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Sn.DATA_LOSS:return de.DATA_LOSS;default:return He(39323,{code:t})}}(ht=Sn||(Sn={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";function KF(){return new TextEncoder}const WF=new Yo([4294967295,4294967295],0);function S2(t){const e=KF().encode(t),n=new SM;return n.update(e),new Uint8Array(n.digest())}function A2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Yo([n,r],0),new Yo([i,s],0)]}class IE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Yf(`Invalid padding: ${n}`);if(r<0)throw new Yf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Yf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Yo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Yo.fromNumber(r)));return i.compare(WF)===1&&(i=new Yo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=S2(e),[r,i]=A2(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new IE(s,i,n);return r.forEach((d=>l.insert(d))),l}insert(e){if(this.ge===0)return;const n=S2(e),[r,i]=A2(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.be(l)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Yf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class my{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Kh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new my(Ke.min(),i,new Xt(ot),Os(),lt())}}class Kh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kh(r,n,lt(),lt(),lt())}}class Tg{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class f4{constructor(e,n){this.targetId=e,this.Ce=n}}class h4{constructor(e,n,r=Gn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class T2{constructor(){this.ve=0,this.Fe=j2(),this.Me=Gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=lt(),n=lt(),r=lt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:He(38017,{changeType:s})}})),new Kh(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=j2()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,xt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class YF{constructor(e){this.Ge=e,this.ze=new Map,this.je=Os(),this.He=Kp(),this.Je=Kp(),this.Ze=new Xt(ot)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:He(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(z1(s))if(r===0){const l=new Me(s.path);this.et(n,l,hr.newNoDocument(l,Ke.min()))}else xt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const d=this.ut(e),f=d?this.ct(d,e,l):1;if(f!==0){this.it(n);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,d;try{l=nl(r).toUint8Array()}catch(f){if(f instanceof LM)return pc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new IE(l,i,s)}catch(f){return pc(f instanceof Yf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),d=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(d)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const d=this.ot(l);if(d){if(s.current&&z1(d.target)){const f=new Me(d.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,hr.newNoDocument(f,e))}s.Be&&(n.set(l,s.ke()),s.Ke())}}));let r=lt();this.Je.forEach(((s,l)=>{let d=!0;l.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new my(e,n,this.Ze,this.je,r);return this.je=Os(),this.He=Kp(),this.Je=Kp(),this.Ze=new Xt(ot),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new T2,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Rn(ot),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Rn(ot),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||je("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new T2),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Kp(){return new Xt(Me.comparator)}function j2(){return new Xt(Me.comparator)}const QF={asc:"ASCENDING",desc:"DESCENDING"},XF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZF={and:"AND",or:"OR"};class JF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function V1(t,e){return t.useProto3Json||oy(e)?e:{value:e}}function Qg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eH(t,e){return Qg(t,e.toTimestamp())}function Ua(t){return xt(!!t,49232),Ke.fromTimestamp((function(n){const r=tl(n);return new mt(r.seconds,r.nanos)})(t))}function RE(t,e){return U1(t,e).canonicalString()}function U1(t,e){const n=(function(i){return new qt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function p4(t){const e=qt.fromString(t);return xt(b4(e),10190,{key:e.toString()}),e}function q1(t,e){return RE(t.databaseId,e.path)}function Tb(t,e){const n=p4(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(v4(n))}function g4(t,e){return RE(t.databaseId,e)}function tH(t){const e=p4(t);return e.length===4?qt.emptyPath():v4(e)}function B1(t){return new qt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function v4(t){return xt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function N2(t,e,n){return{name:q1(t,e),fields:n.value.mapValue.fields}}function nH(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:He(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(m,p){return m.useProto3Json?(xt(p===void 0||typeof p=="string",58123),Gn.fromBase64String(p||"")):(xt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Gn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&(function(m){const p=m.code===void 0?de.UNKNOWN:d4(m.code);return new Ae(p,m.message||"")})(l);n=new h4(r,i,s,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Tb(t,r.document.name),s=Ua(r.document.updateTime),l=r.document.createTime?Ua(r.document.createTime):Ke.min(),d=new Ur({mapValue:{fields:r.document.fields}}),f=hr.newFoundDocument(i,s,l,d),m=r.targetIds||[],p=r.removedTargetIds||[];n=new Tg(m,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Tb(t,r.document),s=r.readTime?Ua(r.readTime):Ke.min(),l=hr.newNoDocument(i,s),d=r.removedTargetIds||[];n=new Tg([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Tb(t,r.document),s=r.removedTargetIds||[];n=new Tg([],s,i,null)}else{if(!("filter"in e))return He(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new HF(i,s),d=r.targetId;n=new f4(d,l)}}return n}function rH(t,e){let n;if(e instanceof Gh)n={update:N2(t,e.key,e.value)};else if(e instanceof hy)n={delete:q1(t,e.key)};else if(e instanceof pl)n={update:N2(t,e.key,e.data),updateMask:fH(e.fieldMask)};else{if(!(e instanceof BF))return He(16599,{dt:e.type});n={verify:q1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const d=l.transform;if(d instanceof _h)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof bh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof xh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Yg)return{fieldPath:l.field.canonicalString(),increment:d.Ae};throw He(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:eH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:He(27497)})(t,e.precondition)),n}function iH(t,e){return t&&t.length>0?(xt(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Ua(i.updateTime):Ua(s);return l.isEqual(Ke.min())&&(l=Ua(s)),new VF(l,i.transformResults||[])})(n,e)))):[]}function aH(t,e){return{documents:[g4(t,e.path)]}}function sH(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=g4(t,i);const s=(function(m){if(m.length!==0)return _4(ra.create(m,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(m){if(m.length!==0)return m.map((p=>(function(_){return{field:Mu(_.field),direction:cH(_.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const d=V1(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:i}}function oH(t){let e=tH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const _=y4(g);return _ instanceof ra&&WM(_)?_.getFilters():[_]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((_=>(function(S){return new yh(zu(S.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(_)))})(n.orderBy));let d=null;n.limit&&(d=(function(g){let _;return _=typeof g=="object"?g.value:g,oy(_)?null:_})(n.limit));let f=null;n.startAt&&(f=(function(g){const _=!!g.before,x=g.values||[];return new Kg(x,_)})(n.startAt));let m=null;return n.endAt&&(m=(function(g){const _=!g.before,x=g.values||[];return new Kg(x,_)})(n.endAt)),EF(e,i,l,s,d,"F",f,m)}function lH(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function y4(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zu(n.unaryFilter.field);return An.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zu(n.unaryFilter.field);return An.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=zu(n.unaryFilter.field);return An.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=zu(n.unaryFilter.field);return An.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}})(t):t.fieldFilter!==void 0?(function(n){return An.create(zu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ra.create(n.compositeFilter.filters.map((r=>y4(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return He(1026)}})(n.compositeFilter.op))})(t):He(30097,{filter:t})}function cH(t){return QF[t]}function uH(t){return XF[t]}function dH(t){return ZF[t]}function Mu(t){return{fieldPath:t.canonicalString()}}function zu(t){return Fn.fromServerFormat(t.fieldPath)}function _4(t){return t instanceof An?(function(n){if(n.op==="=="){if(p2(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NAN"}};if(m2(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(p2(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NOT_NAN"}};if(m2(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mu(n.field),op:uH(n.op),value:n.value}}})(t):t instanceof ra?(function(n){const r=n.getFilters().map((i=>_4(i)));return r.length===1?r[0]:{compositeFilter:{op:dH(n.op),filters:r}}})(t):He(54877,{filter:t})}function fH(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function b4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function x4(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Fo{constructor(e,n,r,i,s=Ke.min(),l=Ke.min(),d=Gn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Fo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hH{constructor(e){this.yt=e}}function mH(t){const e=oH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wg(e,e.limit,"L"):e}class pH{constructor(){this.Sn=new gH}addToCollectionParentIndex(e,n){return this.Sn.add(n),ge.resolve()}getCollectionParents(e,n){return ge.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ge.resolve()}deleteFieldIndex(e,n){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,n){return ge.resolve()}getDocumentsMatchingTarget(e,n){return ge.resolve(null)}getIndexType(e,n){return ge.resolve(0)}getFieldIndexes(e,n){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,n){return ge.resolve(el.min())}getMinOffsetFromCollectionGroup(e,n){return ge.resolve(el.min())}updateCollectionGroup(e,n,r){return ge.resolve()}updateIndexEntries(e,n){return ge.resolve()}}class gH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Rn(qt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rn(qt.comparator)).toArray()}}const C2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},w4=41943040;class Vr{static withCacheSize(e){return new Vr(e,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Vr.DEFAULT_COLLECTION_PERCENTILE=10,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vr.DEFAULT=new Vr(w4,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vr.DISABLED=new Vr(-1,0,0);class nd{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new nd(0)}static ar(){return new nd(-1)}}const O2="LruGarbageCollector",vH=1048576;function P2([t,e],[n,r]){const i=ot(t,n);return i===0?ot(e,r):i}class yH{constructor(e){this.Pr=e,this.buffer=new Rn(P2),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();P2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _H{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){je(O2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_d(n)?je(O2,"Ignoring IndexedDB error during garbage collection: ",n):await yd(n)}await this.Ar(3e5)}))}}class bH{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ge.resolve(sy.ce);const r=new yH(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(je("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(C2)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C2):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,l,d,f,m;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,d=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(m=Date.now(),Du()<=st.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(d-l)+`ms
	Removed ${s} targets in `+(f-d)+`ms
	Removed ${g} documents in `+(m-f)+`ms
Total Duration: ${m-p}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function xH(t,e){return new bH(t,e)}class wH{constructor(){this.changes=new Oc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ge.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class EH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class SH{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&sh(r.mutation,i,ai.empty(),mt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,lt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=lt()){const i=Jl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=Wf();return s.forEach(((d,f)=>{l=l.insert(d,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Jl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,lt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,d)=>{n.set(l,d)}))}))}computeViews(e,n,r,i){let s=Os();const l=ah(),d=(function(){return ah()})();return n.forEach(((f,m)=>{const p=r.get(m.key);i.has(m.key)&&(p===void 0||p.mutation instanceof pl)?s=s.insert(m.key,m):p!==void 0?(l.set(m.key,p.mutation.getFieldMask()),sh(p.mutation,m,p.mutation.getFieldMask(),mt.now())):l.set(m.key,ai.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((m,p)=>l.set(m,p))),n.forEach(((m,p)=>d.set(m,new EH(p,l.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=ah();let i=new Xt(((l,d)=>l-d)),s=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const d of l)d.keys().forEach((f=>{const m=n.get(f);if(m===null)return;let p=r.get(f)||ai.empty();p=d.applyToLocalView(m,p),r.set(f,p);const g=(i.get(d.batchId)||lt()).add(f);i=i.insert(d.batchId,g)}))})).next((()=>{const l=[],d=i.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,p=f.value,g=r4();p.forEach((_=>{if(!s.has(_)){const x=c4(n.get(_),r.get(_));x!==null&&g.set(_,x),s=s.add(_)}})),l.push(this.documentOverlayCache.saveOverlays(e,m,g))}return ge.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return SF(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ge.resolve(Jl());let d=ph,f=s;return l.next((m=>ge.forEach(m,((p,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),s.get(p)?ge.resolve():this.remoteDocumentCache.getEntry(e,p).next((_=>{f=f.insert(p,_)}))))).next((()=>this.populateOverlays(e,m,s))).next((()=>this.computeViews(e,f,m,lt()))).next((p=>({batchId:d,changes:n4(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next((r=>{let i=Wf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=Wf();return this.indexManager.getCollectionParents(e,s).next((d=>ge.forEach(d,(f=>{const m=(function(g,_){return new bd(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next((p=>{p.forEach(((g,_)=>{l=l.insert(g,_)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((f,m)=>{const p=m.getKey();l.get(p)===null&&(l=l.insert(p,hr.newInvalidDocument(p)))}));let d=Wf();return l.forEach(((f,m)=>{const p=s.get(f);p!==void 0&&sh(p.mutation,m,ai.empty(),mt.now()),uy(n,m)&&(d=d.insert(f,m))})),d}))}}class AH{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ge.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ua(i.createTime)}})(n)),ge.resolve()}getNamedQuery(e,n){return ge.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:mH(i.bundledQuery),readTime:Ua(i.readTime)}})(n)),ge.resolve()}}class TH{constructor(){this.overlays=new Xt(Me.comparator),this.Lr=new Map}getOverlay(e,n){return ge.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jl();return ge.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.bt(e,n,s)})),ge.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Lr.delete(r)),ge.resolve()}getOverlaysForCollection(e,n,r){const i=Jl(),s=n.length+1,l=new Me(n.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Xt(((m,p)=>m-p));const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let p=s.get(m.largestBatchId);p===null&&(p=Jl(),s=s.insert(m.largestBatchId,p)),p.set(m.getKey(),m)}}const d=Jl(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,p)=>d.set(m,p))),!(d.size()>=i)););return ge.resolve(d)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new FF(n,r));let s=this.Lr.get(n);s===void 0&&(s=lt(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}class jH{constructor(){this.sessionToken=Gn.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ge.resolve()}}class DE{constructor(){this.kr=new Rn(Bn.Kr),this.qr=new Rn(Bn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Bn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Bn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Me(new qt([])),r=new Bn(n,e),i=new Bn(n,e+1),s=[];return this.qr.forEachInRange([r,i],(l=>{this.Wr(l),s.push(l.key)})),s}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Me(new qt([])),r=new Bn(n,e),i=new Bn(n,e+1);let s=lt();return this.qr.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Bn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Me.comparator(e.key,n.key)||ot(e.Hr,n.Hr)}static Ur(e,n){return ot(e.Hr,n.Hr)||Me.comparator(e.key,n.key)}}class NH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Rn(Bn.Kr)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new $F(s,n,r,i);this.mutationQueue.push(l);for(const d of i)this.Jr=this.Jr.add(new Bn(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ge.resolve(l)}lookupMutationBatch(e,n){return ge.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return ge.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?SE:this.Yn-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bn(n,0),i=new Bn(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],(l=>{const d=this.Zr(l.Hr);s.push(d)})),ge.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rn(ot);return n.forEach((i=>{const s=new Bn(i,0),l=new Bn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,l],(d=>{r=r.add(d.Hr)}))})),ge.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Me.isDocumentKey(s)||(s=s.child(""));const l=new Bn(new Me(s),0);let d=new Rn(ot);return this.Jr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(d=d.add(f.Hr)),!0)}),l),ge.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){xt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ge.forEach(n.mutations,(i=>{const s=new Bn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Bn(n,0),i=this.Jr.firstAfterOrEqual(r);return ge.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class CH{constructor(e){this.ti=e,this.docs=(function(){return new Xt(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ge.resolve(r?r.document.mutableCopy():hr.newInvalidDocument(n))}getEntries(e,n){let r=Os();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():hr.newInvalidDocument(i))})),ge.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Os();const l=n.path,d=new Me(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:p}}=f.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||eF(J$(p),r)<=0||(i.has(p.key)||uy(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return ge.resolve(s)}getAllFromCollectionGroup(e,n,r,i){He(9500)}ni(e,n){return ge.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new OH(this)}getSize(e){return ge.resolve(this.size)}}class OH extends wH{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),ge.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class PH{constructor(e){this.persistence=e,this.ri=new Oc((n=>jE(n)),NE),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.ii=0,this.si=new DE,this.targetCount=0,this.oi=nd._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ge.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new nd(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ge.resolve()}updateTargetData(e,n){return this.lr(n),ge.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach(((l,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.ri.delete(l),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),ge.waitFor(s).next((()=>i))}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ge.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ge.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),ge.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ge.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ge.resolve(r)}containsKey(e,n){return ge.resolve(this.si.containsKey(n))}}class E4{constructor(e,n){this._i={},this.overlays={},this.ai=new sy(0),this.ui=!1,this.ui=!0,this.ci=new jH,this.referenceDelegate=e(this),this.li=new PH(this),this.indexManager=new pH,this.remoteDocumentCache=(function(i){return new CH(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new hH(n),this.Pi=new AH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new NH(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){je("MemoryPersistence","Starting transaction:",e);const i=new IH(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((s=>this.referenceDelegate.Ii(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ei(e,n){return ge.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class IH extends nF{constructor(e){super(),this.currentSequenceNumber=e}}class kE{constructor(e){this.persistence=e,this.Ri=new DE,this.Ai=null}static Vi(e){return new kE(e)}get di(){if(this.Ai)return this.Ai;throw He(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ge.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ge.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.di.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.di,(r=>{const i=Me.fromPath(r);return this.mi(e,i).next((s=>{s||n.removeEntry(i,Ke.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ge.or([()=>ge.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Xg{constructor(e,n){this.persistence=e,this.fi=new Oc((r=>aF(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=xH(this,n)}static Vi(e,n){return new Xg(e,n)}Ti(){}Ii(e){return ge.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ge.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((s=>s?ge.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,(l=>this.wr(e,l,n).next((d=>{d||(r++,s.removeEntry(l,Ke.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ge.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ge.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ge.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Eg(e.data.value)),n}wr(e,n,r){return ge.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return ge.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ME{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=lt(),i=lt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ME(e,n.fromCache,r,i)}}class RH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class DH{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return s8()?8:rF(pr())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ps(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new RH;return this.ys(e,n,l).next((d=>{if(s.result=d,this.As)return this.ws(e,n,l,d.size)}))})).next((()=>s.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Du()<=st.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",ku(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ge.resolve()):(Du()<=st.DEBUG&&je("QueryEngine","Query:",ku(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Du()<=st.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",ku(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Va(n))):ge.resolve())}gs(e,n){if(_2(n))return ge.resolve(null);let r=Va(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Wg(n,null,"F"),r=Va(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=lt(...s);return this.fs.getDocuments(e,l).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.bs(n,d);return this.Ss(n,m,l,f.readTime)?this.gs(e,Wg(n,null,"F")):this.Ds(e,m,n,f)}))))})))))}ps(e,n,r,i){return _2(n)||i.isEqual(Ke.min())?ge.resolve(null):this.fs.getDocuments(e,r).next((s=>{const l=this.bs(n,s);return this.Ss(n,l,r,i)?ge.resolve(null):(Du()<=st.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ku(n)),this.Ds(e,l,n,Z$(i,ph)).next((d=>d)))}))}bs(e,n){let r=new Rn(e4(e));return n.forEach(((i,s)=>{uy(e,s)&&(r=r.add(s))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return Du()<=st.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",ku(n)),this.fs.getDocumentsMatchingQuery(e,n,el.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const zE="LocalStore",kH=3e8;class MH{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Xt(ot),this.Fs=new Oc((s=>jE(s)),NE),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SH(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function zH(t,e,n,r){return new MH(t,e,n,r)}async function S4(t,e){const n=Qe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],d=[];let f=lt();for(const m of i){l.push(m.batchId);for(const p of m.mutations)f=f.add(p.key)}for(const m of s){d.push(m.batchId);for(const p of m.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((m=>({Ns:m,removedBatchIds:l,addedBatchIds:d})))}))}))}function LH(t,e){const n=Qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,f,m,p){const g=m.batch,_=g.keys();let x=ge.resolve();return _.forEach((S=>{x=x.next((()=>p.getEntry(f,S))).next((E=>{const A=m.docVersions.get(S);xt(A!==null,48541),E.version.compareTo(A)<0&&(g.applyToRemoteDocument(E,m),E.isValidDocument()&&(E.setReadTime(m.commitVersion),p.addEntry(E)))}))})),x.next((()=>d.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=lt();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function A4(t){const e=Qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function VH(t,e){const n=Qe(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const d=[];e.targetChanges.forEach(((p,g)=>{const _=i.get(g);if(!_)return;d.push(n.li.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.li.addMatchingKeys(s,p.addedDocuments,g))));let x=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?x=x.withResumeToken(Gn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,r)),i=i.insert(g,x),(function(E,A,C){return E.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=kH?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(_,x,p)&&d.push(n.li.updateTargetData(s,x))}));let f=Os(),m=lt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),d.push(UH(s,l,e.documentUpdates).next((p=>{f=p.Bs,m=p.Ls}))),!r.isEqual(Ke.min())){const p=n.li.getLastRemoteSnapshotVersion(s).next((g=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r)));d.push(p)}return ge.waitFor(d).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,m))).next((()=>f))})).then((s=>(n.vs=i,s)))}function UH(t,e,n){let r=lt(),i=lt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=Os();return n.forEach(((d,f)=>{const m=s.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual(Ke.min())?(e.removeEntry(d,f.readTime),l=l.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),l=l.insert(d,f)):je(zE,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)})),{Bs:l,Ls:i}}))}function qH(t,e){const n=Qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=SE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function BH(t,e){const n=Qe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((s=>s?(i=s,ge.resolve(i)):n.li.allocateTargetId(r).next((l=>(i=new Fo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function $1(t,e,n){const r=Qe(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!_d(l))throw l;je(zE,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function I2(t,e,n){const r=Qe(t);let i=Ke.min(),s=lt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,m,p){const g=Qe(f),_=g.Fs.get(p);return _!==void 0?ge.resolve(g.vs.get(_)):g.li.getTargetData(m,p)})(r,l,Va(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,d.targetId).next((f=>{s=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,n?i:Ke.min(),n?s:lt()))).next((d=>($H(r,jF(e),d),{documents:d,ks:s})))))}function $H(t,e,n){let r=t.Ms.get(e)||Ke.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Ms.set(e,r)}class R2{constructor(){this.activeTargetIds=RF()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FH{constructor(){this.vo=new R2,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new R2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class HH{Mo(e){}shutdown(){}}const D2="ConnectivityMonitor";class k2{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){je(D2,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){je(D2,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Wp=null;function F1(){return Wp===null?Wp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wp++,"0x"+Wp.toString(16)}const jb="RestConnection",GH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class KH{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Hg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const l=F1(),d=this.Qo(e,n.toUriEncodedString());je(jb,`Sending RPC '${e}' ${l}:`,d,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,i,s);const{host:m}=new URL(d),p=fl(m);return this.zo(e,d,f,r,p).then((g=>(je(jb,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw pc(jb,`RPC '${e}' ${l} failed with error: `,g,"url: ",d,"request:",r),g}))}jo(e,n,r,i,s,l){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}Qo(e,n){const r=GH[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class WH{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const cr="WebChannelConnection",Rf=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Ku extends KH{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ku.c_){const e=NM();Rf(e,jM.STAT_EVENT,(n=>{n.stat===I1.PROXY?je(cr,"STAT_EVENT: detected buffering proxy"):n.stat===I1.NOPROXY&&je(cr,"STAT_EVENT: detected no buffering proxy")})),Ku.c_=!0}}zo(e,n,r,i,s){const l=F1();return new Promise(((d,f)=>{const m=new AM;m.setWithCredentials(!0),m.listenOnce(TM.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case wg.NO_ERROR:const g=m.getResponseJson();je(cr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),d(g);break;case wg.TIMEOUT:je(cr,`RPC '${e}' ${l} timed out`),f(new Ae(de.DEADLINE_EXCEEDED,"Request time out"));break;case wg.HTTP_ERROR:const _=m.getStatus();if(je(cr,`RPC '${e}' ${l} failed with status:`,_,"response text:",m.getResponseText()),_>0){let x=m.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x?.error;if(S&&S.status&&S.message){const E=(function(C){const D=C.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(D)>=0?D:de.UNKNOWN})(S.status);f(new Ae(E,S.message))}else f(new Ae(de.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Ae(de.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:l,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{je(cr,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);je(cr,`RPC '${e}' ${l} sending request:`,i),m.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=F1(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=s.join("");je(cr,`Creating RPC '${e}' stream ${i}: ${m}`,d);const p=l.createWebChannel(m,d);this.I_(p);let g=!1,_=!1;const x=new WH({Ho:S=>{_?je(cr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(g||(je(cr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),je(cr,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Jo:()=>p.close()});return Rf(p,Kf.EventType.OPEN,(()=>{_||(je(cr,`RPC '${e}' stream ${i} transport opened.`),x.i_())})),Rf(p,Kf.EventType.CLOSE,(()=>{_||(_=!0,je(cr,`RPC '${e}' stream ${i} transport closed`),x.o_(),this.E_(p))})),Rf(p,Kf.EventType.ERROR,(S=>{_||(_=!0,pc(cr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),x.o_(new Ae(de.UNAVAILABLE,"The operation could not be completed")))})),Rf(p,Kf.EventType.MESSAGE,(S=>{if(!_){const E=S.data[0];xt(!!E,16349);const A=E,C=A?.error||A[0]?.error;if(C){je(cr,`RPC '${e}' stream ${i} received error:`,C);const D=C.status;let k=(function(L){const P=Sn[L];if(P!==void 0)return d4(P)})(D),M=C.message;k===void 0&&(k=de.INTERNAL,M="Unknown error status: "+D+" with message "+C.message),_=!0,x.o_(new Ae(k,M)),p.close()}else je(cr,`RPC '${e}' stream ${i} received:`,E),x.__(E)}})),Ku.u_(),setTimeout((()=>{x.s_()}),0),x}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return CM()}}function YH(t){return new Ku(t)}function Nb(){return typeof document<"u"?document:null}function py(t){return new JF(t,!0)}Ku.c_=!1;class T4{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const M2="PersistentStream";class j4{constructor(e,n,r,i,s,l,d,f){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new T4(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Cs(n.toString()),Cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ae(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return je(M2,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(je(M2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QH extends j4{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=nH(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ke.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Ke.min():l.readTime?Ua(l.readTime):Ke.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=B1(this.serializer),n.addTarget=(function(s,l){let d;const f=l.target;if(d=z1(f)?{documents:aH(s,f)}:{query:sH(s,f).ft},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=m4(s,l.resumeToken);const m=V1(s,l.expectedCount);m!==null&&(d.expectedCount=m)}else if(l.snapshotVersion.compareTo(Ke.min())>0){d.readTime=Qg(s,l.snapshotVersion.toTimestamp());const m=V1(s,l.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const r=lH(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=B1(this.serializer),n.removeTarget=e,this.K_(n)}}class XH extends j4{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iH(e.writeResults,e.commitTime),r=Ua(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=B1(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>rH(this.serializer,r)))};this.K_(n)}}class ZH{}class JH extends ZH{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Wo(e,U1(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ae(de.UNKNOWN,s.toString())}))}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.jo(e,U1(n,r),i,l,d,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ae(de.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function eG(t,e,n,r){return new JH(t,e,n,r)}class tG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cs(n),this.aa=!1):je("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const gc="RemoteStore";class nG{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{Pc(this)&&(je(gc,"Restarting streams for network reachability change."),await(async function(f){const m=Qe(f);m.Ea.add(4),await Wh(m),m.Va.set("Unknown"),m.Ea.delete(4),await gy(m)})(this))}))})),this.Va=new tG(r,i)}}async function gy(t){if(Pc(t))for(const e of t.Ra)await e(!0)}async function Wh(t){for(const e of t.Ra)await e(!1)}function N4(t,e){const n=Qe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qE(n)?UE(n):xd(n).O_()&&VE(n,e))}function LE(t,e){const n=Qe(t),r=xd(n);n.Ia.delete(e),r.O_()&&C4(n,e),n.Ia.size===0&&(r.O_()?r.L_():Pc(n)&&n.Va.set("Unknown"))}function VE(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xd(t).Z_(e)}function C4(t,e){t.da.$e(e),xd(t).X_(e)}function UE(t){t.da=new YF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),xd(t).start(),t.Va.ua()}function qE(t){return Pc(t)&&!xd(t).x_()&&t.Ia.size>0}function Pc(t){return Qe(t).Ea.size===0}function O4(t){t.da=void 0}async function rG(t){t.Va.set("Online")}async function iG(t){t.Ia.forEach(((e,n)=>{VE(t,e)}))}async function aG(t,e){O4(t),qE(t)?(t.Va.ha(e),UE(t)):t.Va.set("Unknown")}async function sG(t,e,n){if(t.Va.set("Online"),e instanceof h4&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const d of s.targetIds)i.Ia.has(d)&&(await i.remoteSyncer.rejectListen(d,l),i.Ia.delete(d),i.da.removeTarget(d))})(t,e)}catch(r){je(gc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zg(t,r)}else if(e instanceof Tg?t.da.Xe(e):e instanceof f4?t.da.st(e):t.da.tt(e),!n.isEqual(Ke.min()))try{const r=await A4(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const d=s.da.Tt(l);return d.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(m);p&&s.Ia.set(m,p.withResumeToken(f.resumeToken,l))}})),d.targetMismatches.forEach(((f,m)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(Gn.EMPTY_BYTE_STRING,p.snapshotVersion)),C4(s,f);const g=new Fo(p.target,f,m,p.sequenceNumber);VE(s,g)})),s.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){je(gc,"Failed to raise snapshot:",r),await Zg(t,r)}}async function Zg(t,e,n){if(!_d(e))throw e;t.Ea.add(1),await Wh(t),t.Va.set("Offline"),n||(n=()=>A4(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{je(gc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gy(t)}))}function P4(t,e){return e().catch((n=>Zg(t,n,e)))}async function vy(t){const e=Qe(t),n=il(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:SE;for(;oG(e);)try{const i=await qH(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,lG(e,i)}catch(i){await Zg(e,i)}I4(e)&&R4(e)}function oG(t){return Pc(t)&&t.Ta.length<10}function lG(t,e){t.Ta.push(e);const n=il(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function I4(t){return Pc(t)&&!il(t).x_()&&t.Ta.length>0}function R4(t){il(t).start()}async function cG(t){il(t).ra()}async function uG(t){const e=il(t);for(const n of t.Ta)e.ea(n.mutations)}async function dG(t,e,n){const r=t.Ta.shift(),i=PE.from(r,e,n);await P4(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await vy(t)}async function fG(t,e){e&&il(t).Y_&&await(async function(r,i){if((function(l){return GF(l)&&l!==de.ABORTED})(i.code)){const s=r.Ta.shift();il(r).B_(),await P4(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await vy(r)}})(t,e),I4(t)&&R4(t)}async function z2(t,e){const n=Qe(t);n.asyncQueue.verifyOperationInProgress(),je(gc,"RemoteStore received new credentials");const r=Pc(n);n.Ea.add(3),await Wh(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gy(n)}async function hG(t,e){const n=Qe(t);e?(n.Ea.delete(2),await gy(n)):e||(n.Ea.add(2),await Wh(n),n.Va.set("Unknown"))}function xd(t){return t.ma||(t.ma=(function(n,r,i){const s=Qe(n);return s.sa(),new QH(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:rG.bind(null,t),Yo:iG.bind(null,t),t_:aG.bind(null,t),J_:sG.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),qE(t)?UE(t):t.Va.set("Unknown")):(await t.ma.stop(),O4(t))}))),t.ma}function il(t){return t.fa||(t.fa=(function(n,r,i){const s=Qe(n);return s.sa(),new XH(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:cG.bind(null,t),t_:fG.bind(null,t),ta:uG.bind(null,t),na:dG.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await vy(t)):(await t.fa.stop(),t.Ta.length>0&&(je(gc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class BE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,d=new BE(e,n,l,i,s);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $E(t,e){if(Cs("AsyncQueue",`${e}: ${t}`),_d(t))return new Ae(de.UNAVAILABLE,`${e}: ${t}`);throw t}class Wu{static emptySet(e){return new Wu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Me.comparator(n.key,r.key):(n,r)=>Me.comparator(n.key,r.key),this.keyedMap=Wf(),this.sortedSet=new Xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class L2{constructor(){this.ga=new Xt(Me.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):He(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class rd{constructor(e,n,r,i,s,l,d,f,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((d=>{l.push({type:0,doc:d})})),new rd(e,n,Wu.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class mG{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class pG{constructor(){this.queries=V2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Qe(n),s=i.queries;i.queries=V2(),s.forEach(((l,d)=>{for(const f of d.ba)f.onError(r)}))})(this,new Ae(de.ABORTED,"Firestore shutting down"))}}function V2(){return new Oc((t=>JM(t)),cy)}async function D4(t,e){const n=Qe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new mG,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const d=$E(l,`Initialization of query '${ku(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&FE(n)}async function k4(t,e){const n=Qe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.ba.indexOf(e);l>=0&&(s.ba.splice(l,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function gG(t,e){const n=Qe(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const d of l.ba)d.Fa(i)&&(r=!0);l.wa=i}}r&&FE(n)}function vG(t,e,n){const r=Qe(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function FE(t){t.Ca.forEach((e=>{e.next()}))}var H1,U2;(U2=H1||(H1={})).Ma="default",U2.Cache="cache";class M4{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new rd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=rd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==H1.Cache}}class z4{constructor(e){this.key=e}}class L4{constructor(e){this.key=e}}class yG{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=lt(),this.mutatedKeys=lt(),this.eu=e4(e),this.tu=new Wu(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new L2,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,d=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const _=i.get(p),x=uy(this.query,g)?g:null,S=!!_&&this.mutatedKeys.has(_.key),E=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let A=!1;_&&x?_.data.isEqual(x.data)?S!==E&&(r.track({type:3,doc:x}),A=!0):this.su(_,x)||(r.track({type:2,doc:x}),A=!0,(f&&this.eu(x,f)>0||m&&this.eu(x,m)<0)&&(d=!0)):!_&&x?(r.track({type:0,doc:x}),A=!0):_&&!x&&(r.track({type:1,doc:_}),A=!0,(f||m)&&(d=!0)),A&&(x?(l=l.add(x),s=E?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Ss:d,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,g)=>(function(x,S){const E=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Vt:A})}};return E(x)-E(S)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const d=n&&!i?this._u():[],f=this.Ya.size===0&&this.current&&!i?1:0,m=f!==this.Xa;return this.Xa=f,l.length!==0||m?{snapshot:new rd(this.query,e.tu,s,l,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new L2,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=lt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new L4(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new z4(r))})),n}cu(e){this.Za=e.ks,this.Ya=lt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return rd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const HE="SyncEngine";class _G{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bG{constructor(e){this.key=e,this.hu=!1}}class xG{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Oc((d=>JM(d)),cy),this.Iu=new Map,this.Eu=new Set,this.Ru=new Xt(Me.comparator),this.Au=new Map,this.Vu=new DE,this.du={},this.mu=new Map,this.fu=nd.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wG(t,e,n=!0){const r=F4(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await V4(r,e,n,!0),i}async function EG(t,e){const n=F4(t);await V4(n,e,!0,!1)}async function V4(t,e,n,r){const i=await BH(t.localStore,Va(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let d;return r&&(d=await SG(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&N4(t.remoteStore,i),d}async function SG(t,e,n,r,i){t.pu=(g,_,x)=>(async function(E,A,C,D){let k=A.view.ru(C);k.Ss&&(k=await I2(E.localStore,A.query,!1).then((({documents:P})=>A.view.ru(P,k))));const M=D&&D.targetChanges.get(A.targetId),V=D&&D.targetMismatches.get(A.targetId)!=null,L=A.view.applyChanges(k,E.isPrimaryClient,M,V);return B2(E,A.targetId,L.au),L.snapshot})(t,g,_,x);const s=await I2(t.localStore,e,!0),l=new yG(e,s.ks),d=l.ru(s.documents),f=Kh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=l.applyChanges(d,t.isPrimaryClient,f);B2(t,n,m.au);const p=new _G(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function AG(t,e,n){const r=Qe(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!cy(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await $1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&LE(r.remoteStore,i.targetId),G1(r,i.targetId)})).catch(yd)):(G1(r,i.targetId),await $1(r.localStore,i.targetId,!0))}async function TG(t,e){const n=Qe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),LE(n.remoteStore,r.targetId))}async function jG(t,e,n){const r=DG(t);try{const i=await(function(l,d){const f=Qe(l),m=mt.now(),p=d.reduce(((x,S)=>x.add(S.key)),lt());let g,_;return f.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let S=Os(),E=lt();return f.xs.getEntries(x,p).next((A=>{S=A,S.forEach(((C,D)=>{D.isValidDocument()||(E=E.add(C))}))})).next((()=>f.localDocuments.getOverlayedDocuments(x,S))).next((A=>{g=A;const C=[];for(const D of d){const k=qF(D,g.get(D.key).overlayedDocument);k!=null&&C.push(new pl(D.key,k,HM(k.value.mapValue),wr.exists(!0)))}return f.mutationQueue.addMutationBatch(x,m,C,d)})).next((A=>{_=A;const C=A.applyToLocalDocumentSet(g,E);return f.documentOverlayCache.saveOverlays(x,A.batchId,C)}))})).then((()=>({batchId:_.batchId,changes:n4(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,d,f){let m=l.du[l.currentUser.toKey()];m||(m=new Xt(ot)),m=m.insert(d,f),l.du[l.currentUser.toKey()]=m})(r,i.batchId,n),await Yh(r,i.changes),await vy(r.remoteStore)}catch(i){const s=$E(i,"Failed to persist write");n.reject(s)}}async function U4(t,e){const n=Qe(t);try{const r=await VH(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?xt(l.hu,14607):i.removedDocuments.size>0&&(xt(l.hu,42227),l.hu=!1))})),await Yh(n,r,e)}catch(r){await yd(r)}}function q2(t,e,n){const r=Qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const d=l.view.va(e);d.snapshot&&i.push(d.snapshot)})),(function(l,d){const f=Qe(l);f.onlineState=d;let m=!1;f.queries.forEach(((p,g)=>{for(const _ of g.ba)_.va(d)&&(m=!0)})),m&&FE(f)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function NG(t,e,n){const r=Qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new Xt(Me.comparator);l=l.insert(s,hr.newNoDocument(s,Ke.min()));const d=lt().add(s),f=new my(Ke.min(),new Map,new Xt(ot),l,d);await U4(r,f),r.Ru=r.Ru.remove(s),r.Au.delete(e),GE(r)}else await $1(r.localStore,e,!1).then((()=>G1(r,e,n))).catch(yd)}async function CG(t,e){const n=Qe(t),r=e.batch.batchId;try{const i=await LH(n.localStore,e);B4(n,r,null),q4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yh(n,i)}catch(i){await yd(i)}}async function OG(t,e,n){const r=Qe(t);try{const i=await(function(l,d){const f=Qe(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let p;return f.mutationQueue.lookupMutationBatch(m,d).next((g=>(xt(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(m,g)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,p,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,p))).next((()=>f.localDocuments.getDocuments(m,p)))}))})(r.localStore,e);B4(r,e,n),q4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yh(r,i)}catch(i){await yd(i)}}function q4(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function B4(t,e,n){const r=Qe(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function G1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||$4(t,r)}))}function $4(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(LE(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),GE(t))}function B2(t,e,n){for(const r of n)r instanceof z4?(t.Vu.addReference(r.key,e),PG(t,r)):r instanceof L4?(je(HE,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||$4(t,r.key)):He(19791,{wu:r})}function PG(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(je(HE,"New document in limbo: "+n),t.Eu.add(r),GE(t))}function GE(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Me(qt.fromString(e)),r=t.fu.next();t.Au.set(r,new bG(n)),t.Ru=t.Ru.insert(n,r),N4(t.remoteStore,new Fo(Va(CE(n.path)),r,"TargetPurposeLimboResolution",sy.ce))}}async function Yh(t,e,n){const r=Qe(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{l.push(r.pu(f,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const p=m?!m.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(m){i.push(m);const p=ME.Es(f.targetId,m);s.push(p)}})))})),await Promise.all(l),r.Pu.J_(i),await(async function(f,m){const p=Qe(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>ge.forEach(m,(_=>ge.forEach(_.Ts,(x=>p.persistence.referenceDelegate.addReference(g,_.targetId,x))).next((()=>ge.forEach(_.Is,(x=>p.persistence.referenceDelegate.removeReference(g,_.targetId,x)))))))))}catch(g){if(!_d(g))throw g;je(zE,"Failed to update sequence numbers: "+g)}for(const g of m){const _=g.targetId;if(!g.fromCache){const x=p.vs.get(_),S=x.snapshotVersion,E=x.withLastLimboFreeSnapshotVersion(S);p.vs=p.vs.insert(_,E)}}})(r.localStore,s))}async function IG(t,e){const n=Qe(t);if(!n.currentUser.isEqual(e)){je(HE,"User change. New user:",e.toKey());const r=await S4(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((d=>{d.forEach((f=>{f.reject(new Ae(de.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yh(n,r.Ns)}}function RG(t,e){const n=Qe(t),r=n.Au.get(e);if(r&&r.hu)return lt().add(r.key);{let i=lt();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const d=n.Tu.get(l);i=i.unionWith(d.view.nu)}return i}}function F4(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=U4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NG.bind(null,e),e.Pu.J_=gG.bind(null,e.eventManager),e.Pu.yu=vG.bind(null,e.eventManager),e}function DG(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OG.bind(null,e),e}class Jg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=py(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return zH(this.persistence,new DH,e.initialUser,this.serializer)}Cu(e){return new E4(kE.Vi,this.serializer)}Du(e){return new FH}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jg.provider={build:()=>new Jg};class kG extends Jg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xt(this.persistence.referenceDelegate instanceof Xg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _H(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Vr.withCacheSize(this.cacheSizeBytes):Vr.DEFAULT;return new E4((r=>Xg.Vi(r,n)),this.serializer)}}class K1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>q2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IG.bind(null,this.syncEngine),await hG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new pG})()}createDatastore(e){const n=py(e.databaseInfo.databaseId),r=YH(e.databaseInfo);return eG(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,d){return new nG(r,i,s,l,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>q2(this.syncEngine,n,0)),(function(){return k2.v()?new k2:new HH})())}createSyncEngine(e,n){return(function(i,s,l,d,f,m,p){const g=new xG(i,s,l,d,f,m);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Qe(n);je(gc,"RemoteStore shutting down."),r.Ea.add(5),await Wh(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}K1.provider={build:()=>new K1};class H4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const al="FirestoreClient";class MG{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=fr.UNAUTHENTICATED,this.clientId=iy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{je(al,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(je(al,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$E(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Cb(t,e){t.asyncQueue.verifyOperationInProgress(),je(al,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await S4(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function $2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zG(t);je(al,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>z2(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>z2(e.remoteStore,i))),t._onlineComponents=e}async function zG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){je(al,"Using user provided OfflineComponentProvider");try{await Cb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===de.FAILED_PRECONDITION||i.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;pc("Error using user provided cache. Falling back to memory cache: "+n),await Cb(t,new Jg)}}else je(al,"Using default OfflineComponentProvider"),await Cb(t,new kG(void 0));return t._offlineComponents}async function G4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(je(al,"Using user provided OnlineComponentProvider"),await $2(t,t._uninitializedComponentsProvider._online)):(je(al,"Using default OnlineComponentProvider"),await $2(t,new K1))),t._onlineComponents}function LG(t){return G4(t).then((e=>e.syncEngine))}async function K4(t){const e=await G4(t),n=e.eventManager;return n.onListen=wG.bind(null,e.syncEngine),n.onUnlisten=AG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TG.bind(null,e.syncEngine),n}function VG(t,e,n={}){const r=new Es;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,d,f,m){const p=new H4({next:_=>{p.Nu(),l.enqueueAndForget((()=>k4(s,g)));const x=_.docs.has(d);!x&&_.fromCache?m.reject(new Ae(de.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&_.fromCache&&f&&f.source==="server"?m.reject(new Ae(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:_=>m.reject(_)}),g=new M4(CE(d.path),p,{includeMetadataChanges:!0,Ka:!0});return D4(s,g)})(await K4(t),t.asyncQueue,e,n,r))),r.promise}function UG(t,e,n={}){const r=new Es;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,d,f,m){const p=new H4({next:_=>{p.Nu(),l.enqueueAndForget((()=>k4(s,g))),_.fromCache&&f.source==="server"?m.reject(new Ae(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(_)},error:_=>m.reject(_)}),g=new M4(d,p,{includeMetadataChanges:!0,Ka:!0});return D4(s,g)})(await K4(t),t.asyncQueue,e,n,r))),r.promise}function qG(t,e){const n=new Es;return t.asyncQueue.enqueueAndForget((async()=>jG(await LG(t),e,n))),n.promise}function W4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const BG="ComponentProvider",F2=new Map;function $G(t,e,n,r,i){return new lF(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,W4(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const Y4="firestore.googleapis.com",H2=!0;class G2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Y4,this.ssl=H2}else this.host=e.host,this.ssl=e.ssl??H2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=w4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vH)throw new Ae(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=W4(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ae(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ae(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ae(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new IM;switch(r.type){case"firstParty":return new H$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=F2.get(n);r&&(je(BG,"Removing Datastore"),F2.delete(n),r.terminate())})(this),Promise.resolve()}}function Q4(t,e,n,r={}){t=ui(t,yy);const i=fl(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;i&&(uE(`https://${d}`),dE("Firestore",!0)),s.host!==Y4&&s.host!==d&&pc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:d,ssl:i,emulatorOptions:r};if(!uc(f,l)&&(t._setSettings(f),r.mockUserToken)){let m,p;if(typeof r.mockUserToken=="string")m=r.mockUserToken,p=fr.MOCK_USER;else{m=Lk(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ae(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new fr(g)}t._authCredentials=new B$(new PM(m,p))}}class qs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qs(this.firestore,e,this._query)}}class on{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}toJSON(){return{type:on._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Hh(n,on._jsonSchema))return new on(e,r||null,new Me(qt.fromString(n.referencePath)))}}on._jsonSchemaVersion="firestore/documentReference/1.0",on._jsonSchema={type:Tn("string",on._jsonSchemaVersion),referencePath:Tn("string")};class Ss extends qs{constructor(e,n,r){super(e,n,CE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new Me(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function Fr(t,e,...n){if(t=Bt(t),RM("collection","path",e),t instanceof yy){const r=qt.fromString(e,...n);return a2(r),new Ss(t,null,r)}{if(!(t instanceof on||t instanceof Ss))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qt.fromString(e,...n));return a2(r),new Ss(t.firestore,null,r)}}function Lt(t,e,...n){if(t=Bt(t),arguments.length===1&&(e=iy.newId()),RM("doc","path",e),t instanceof yy){const r=qt.fromString(e,...n);return i2(r),new on(t,null,new Me(r))}{if(!(t instanceof on||t instanceof Ss))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qt.fromString(e,...n));return i2(r),new on(t.firestore,t instanceof Ss?t.converter:null,new Me(r))}}const K2="AsyncQueue";class W2{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new T4(this,"async_queue_retry"),this._c=()=>{const r=Nb();r&&je(K2,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Nb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Nb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!_d(e))throw e;je(K2,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Cs("INTERNAL UNHANDLED ERROR: ",Y2(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=BE.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&He(47125,{Pc:Y2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Y2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Bs extends yy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new W2,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new W2(e),this._firestoreClient=void 0,await e}}}function X4(t,e){const n=typeof t=="object"?t:mE(),r=typeof t=="string"?t:Hg,i=ey(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=kk("firestore");s&&Q4(i,...s)}return i}function Qh(t){if(t._terminated)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||FG(t),t._firestoreClient}function FG(t){const e=t._freezeSettings(),n=$G(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new MG(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(Gn.fromBase64String(e))}catch(n){throw new Ae(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ri(Gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hh(e,ri._jsonSchema))return ri.fromBase64String(e.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:Tn("string",ri._jsonSchemaVersion),bytes:Tn("string")};class Xh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zh{constructor(e){this._methodName=e}}class Ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ji._jsonSchemaVersion}}static fromJSON(e){if(Hh(e,Ji._jsonSchema))return new Ji(e.latitude,e.longitude)}}Ji._jsonSchemaVersion="firestore/geoPoint/1.0",Ji._jsonSchema={type:Tn("string",Ji._jsonSchemaVersion),latitude:Tn("number"),longitude:Tn("number")};class Oi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hh(e,Oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Oi(e.vectorValues);throw new Ae(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:Tn("string",Oi._jsonSchemaVersion),vectorValues:Tn("object")};const HG=/^__.*__$/;class GG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gh(e,this.data,n,this.fieldTransforms)}}class Z4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function J4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{dataSource:t})}}class KE{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new KE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ev(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(J4(this.dataSource)&&HG.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class KG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||py(e)}createContext(e,n,r,i=!1){return new KE({dataSource:e,methodName:n,targetDoc:r,path:Fn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jh(t){const e=t._freezeSettings(),n=py(t._databaseId);return new KG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WE(t,e,n,r,i,s={}){const l=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);QE("Data must be an object, but it was:",l,r);const d=nz(r,l);let f,m;if(s.merge)f=new ai(l.fieldMask),m=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const _=vc(e,g,n);if(!l.contains(_))throw new Ae(de.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);az(p,_)||p.push(_)}f=new ai(p),m=l.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,m=l.fieldTransforms;return new GG(new Ur(d),f,m)}class _y extends Zh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _y}}class YE extends Zh{_toFieldTransform(e){return new zF(e.path,new _h)}isEqual(e){return e instanceof YE}}function ez(t,e,n,r){const i=t.createContext(1,e,n);QE("Data must be an object, but it was:",i,r);const s=[],l=Ur.empty();ml(r,((f,m)=>{const p=iz(e,f,n);m=Bt(m);const g=i.childContextForFieldPath(p);if(m instanceof _y)s.push(p);else{const _=em(m,g);_!=null&&(s.push(p),l.set(p,_))}}));const d=new ai(s);return new Z4(l,d,i.fieldTransforms)}function tz(t,e,n,r,i,s){const l=t.createContext(1,e,n),d=[vc(e,r,n)],f=[i];if(s.length%2!=0)throw new Ae(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)d.push(vc(e,s[_])),f.push(s[_+1]);const m=[],p=Ur.empty();for(let _=d.length-1;_>=0;--_)if(!az(m,d[_])){const x=d[_];let S=f[_];S=Bt(S);const E=l.childContextForFieldPath(x);if(S instanceof _y)m.push(x);else{const A=em(S,E);A!=null&&(m.push(x),p.set(x,A))}}const g=new ai(m);return new Z4(p,g,l.fieldTransforms)}function WG(t,e,n,r=!1){return em(n,t.createContext(r?4:3,e))}function em(t,e){if(rz(t=Bt(t)))return QE("Unsupported field value:",e,t),nz(t,e);if(t instanceof Zh)return(function(r,i){if(!J4(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const d of r){let f=em(d,i.childContextForArray(l));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=mt.fromDate(r);return{timestampValue:Qg(i.serializer,s)}}if(r instanceof mt){const s=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qg(i.serializer,s)}}if(r instanceof Ji)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ri)return{bytesValue:m4(i.serializer,r._byteString)};if(r instanceof on){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:RE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Oi)return(function(l,d){const f=l instanceof Oi?l.toArray():l;return{mapValue:{fields:{[$M]:{stringValue:FM},[Gg]:{arrayValue:{values:f.map((p=>{if(typeof p!="number")throw d.createError("VectorValues must only contain numeric values.");return OE(d.serializer,p)}))}}}}}})(r,i);if(x4(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${ay(r)}`)})(t,e)}function nz(t,e){const n={};return zM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ml(t,((r,i)=>{const s=em(i,e.childContextForField(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function rz(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof Ji||t instanceof ri||t instanceof on||t instanceof Zh||t instanceof Oi||x4(t))}function QE(t,e,n){if(!rz(n)||!kM(n)){const r=ay(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function vc(t,e,n){if((e=Bt(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return iz(t,e);throw ev("Field path arguments must be of type string or ",t,!1,void 0,n)}const YG=new RegExp("[~\\*/\\[\\]]");function iz(t,e,n){if(e.search(YG)>=0)throw ev(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xh(...e.split("."))._internalPath}catch{throw ev(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ev(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Ae(de.INVALID_ARGUMENT,d+t+f)}function az(t,e){return t.some((n=>n.isEqual(e)))}class sz{convertValue(e,n="none"){switch(rl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(nl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ml(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Gg].arrayValue?.values?.map((r=>mn(r.doubleValue)));return new Oi(n)}convertGeoPoint(e){return new Ji(mn(e.latitude),mn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ly(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gh(e));default:return null}}convertTimestamp(e){const n=tl(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qt.fromString(e);xt(b4(r),9688,{name:e});const i=new Ju(r.get(1),r.get(3)),s=new Me(r.popFirst(5));return i.isEqual(n)||Cs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class oz extends sz{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function jn(){return new YE("serverTimestamp")}const Q2="@firebase/firestore",X2="4.10.0";class lz{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(vc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QG extends lz{data(){return super.data()}}function XG(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XE{}class by extends XE{}function ia(t,e,...n){let r=[];e instanceof XE&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((f=>f instanceof xy)).length,d=s.filter((f=>f instanceof tm)).length;if(l>1||l>0&&d>0)throw new Ae(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class tm extends by{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new tm(e,n,r)}_apply(e){const n=this._parse(e);return cz(e._query,n),new qs(e.firestore,e.converter,L1(e._query,n))}_parse(e){const n=Jh(e.firestore);return(function(s,l,d,f,m,p,g){let _;if(m.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){J2(g,p);const S=[];for(const E of g)S.push(Z2(f,s,E));_={arrayValue:{values:S}}}else _=Z2(f,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||J2(g,p),_=WG(d,l,g,p==="in"||p==="not-in");return An.create(m,p,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Wi(t,e,n){const r=e,i=vc("where",t);return tm._create(i,r,n)}class xy extends XE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xy(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ra.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const d=s.getFlattenedFilters();for(const f of d)cz(l,f),l=L1(l,f)})(e._query,n),new qs(e.firestore,e.converter,L1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wy extends by{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wy(e,n)}_apply(e){const n=(function(i,s,l){if(i.startAt!==null)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yh(s,l)})(e._query,this._field,this._direction);return new qs(e.firestore,e.converter,TF(e._query,n))}}function Ps(t,e="asc"){const n=e,r=vc("orderBy",t);return wy._create(r,n)}class Ey extends by{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ey(e,n,r)}_apply(e){return new qs(e.firestore,e.converter,Wg(e._query,this._limit,this._limitType))}}function ZE(t){return X$("limit",t),Ey._create("limit",t,"F")}function Z2(t,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new Ae(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZM(e)&&n.indexOf("/")!==-1)throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(qt.fromString(n));if(!Me.isDocumentKey(r))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return h2(t,new Me(r))}if(n instanceof on)return h2(t,n._key);throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ay(n)}.`)}function J2(t,e){if(!Array.isArray(t)||t.length===0)throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cz(t,e){const n=(function(i,s){for(const l of i)for(const d of l.getFlattenedFilters())if(s.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ae(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function JE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class qu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qo extends lz{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qo._jsonSchema={type:Tn("string",Qo._jsonSchemaVersion),bundleSource:Tn("string","DocumentSnapshot"),bundleName:Tn("string"),bundle:Tn("string")};class oh extends Qo{data(e={}){return super.data(e)}}class ic{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new oh(this._firestore,this._userDataWriter,r.key,r,new qu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((d=>{const f=new oh(i._firestore,i._userDataWriter,d.doc.key,d.doc,new qu(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>s||d.type!==3)).map((d=>{const f=new oh(i._firestore,i._userDataWriter,d.doc.key,d.doc,new qu(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,p=-1;return d.type!==0&&(m=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),p=l.indexOf(d.doc.key)),{type:ZG(d.type),doc:f,oldIndex:m,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ic._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=iy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:t})}}ic._jsonSchemaVersion="firestore/querySnapshot/1.0",ic._jsonSchema={type:Tn("string",ic._jsonSchemaVersion),bundleSource:Tn("string","QuerySnapshot"),bundleName:Tn("string"),bundle:Tn("string")};class uz{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Jh(e)}set(e,n,r){this._verifyNotCommitted();const i=Ob(e,this._firestore),s=JE(i.converter,n,r),l=WE(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,wr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Ob(e,this._firestore);let l;return l=typeof(n=Bt(n))=="string"||n instanceof Xh?tz(this._dataReader,"WriteBatch.update",s._key,n,r,i):ez(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(l.toMutation(s._key,wr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ob(e,this._firestore);return this._mutations=this._mutations.concat(new hy(n._key,wr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ob(t,e){if((t=Bt(t)).firestore!==e)throw new Ae(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function sl(t){t=ui(t,on);const e=ui(t.firestore,Bs),n=Qh(e);return VG(n,t._key).then((r=>JG(e,t,r)))}function aa(t){t=ui(t,qs);const e=ui(t.firestore,Bs),n=Qh(e),r=new oz(e);return XG(t._query),UG(n,t._query).then((i=>new ic(e,r,t,i)))}function dz(t,e,n){t=ui(t,on);const r=ui(t.firestore,Bs),i=JE(t.converter,e,n),s=Jh(r);return wd(r,[WE(s,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,wr.none())])}function Pi(t,e,n,...r){t=ui(t,on);const i=ui(t.firestore,Bs),s=Jh(i);let l;return l=typeof(e=Bt(e))=="string"||e instanceof Xh?tz(s,"updateDoc",t._key,e,n,r):ez(s,"updateDoc",t._key,e),wd(i,[l.toMutation(t._key,wr.exists(!0))])}function nm(t){return wd(ui(t.firestore,Bs),[new hy(t._key,wr.none())])}function Ic(t,e){const n=ui(t.firestore,Bs),r=Lt(t),i=JE(t.converter,e),s=Jh(t.firestore);return wd(n,[WE(s,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,wr.exists(!1))]).then((()=>r))}function wd(t,e){const n=Qh(t);return qG(n,e)}function JG(t,e,n){const r=n.docs.get(e._key),i=new oz(t);return new Qo(t,i,e._key,r,new qu(n.hasPendingWrites,n.fromCache),e.converter)}function wh(t){return t=ui(t,Bs),Qh(t),new uz(t,(e=>wd(t,e)))}(function(e,n=!0){q$(Nc),dc(new Jo("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),d=new Bs(new $$(r.getProvider("auth-internal")),new G$(l,r.getProvider("app-check-internal")),cF(l,i),l);return s={useFetchStreams:n,...s},d._setSettings(s),d}),"PUBLIC").setMultipleInstances(!0)),Ma(Q2,X2,e),Ma(Q2,X2,"esm2020")})();const fz=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:sz,Bytes:ri,CollectionReference:Ss,DocumentReference:on,DocumentSnapshot:Qo,FieldPath:Xh,FieldValue:Zh,Firestore:Bs,FirestoreError:Ae,GeoPoint:Ji,Query:qs,QueryCompositeFilterConstraint:xy,QueryConstraint:by,QueryDocumentSnapshot:oh,QueryFieldFilterConstraint:tm,QueryLimitConstraint:Ey,QueryOrderByConstraint:wy,QuerySnapshot:ic,SnapshotMetadata:qu,Timestamp:mt,VectorValue:Oi,WriteBatch:uz,_AutoId:iy,_ByteString:Gn,_DatabaseId:Ju,_DocumentKey:Me,_EmptyAuthCredentialsProvider:IM,_FieldPath:Fn,_cast:ui,_logWarn:pc,_validateIsNotUsedTogether:DM,addDoc:Ic,collection:Fr,connectFirestoreEmulator:Q4,deleteDoc:nm,doc:Lt,ensureFirestoreConfigured:Qh,executeWrite:wd,getDoc:sl,getDocs:aa,getFirestore:X4,limit:ZE,orderBy:Ps,query:ia,serverTimestamp:jn,setDoc:dz,updateDoc:Pi,where:Wi,writeBatch:wh},Symbol.toStringTag,{value:"Module"}));var eK="firebase",tK="12.8.0";Ma(eK,tK,"app");const hz="firebasestorage.googleapis.com",mz="storageBucket",nK=120*1e3,rK=600*1e3;class cn extends Wa{constructor(e,n,r=0){super(Pb(e),`Firebase Storage: ${n} (${Pb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Pb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ln;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ln||(ln={}));function Pb(t){return"storage/"+t}function eS(){const t="An unknown error occurred, please check the error payload for server response.";return new cn(ln.UNKNOWN,t)}function iK(t){return new cn(ln.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function aK(t){return new cn(ln.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sK(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new cn(ln.UNAUTHENTICATED,t)}function oK(){return new cn(ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lK(t){return new cn(ln.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function cK(){return new cn(ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uK(){return new cn(ln.CANCELED,"User canceled the upload/download.")}function dK(t){return new cn(ln.INVALID_URL,"Invalid URL '"+t+"'.")}function fK(t){return new cn(ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hK(){return new cn(ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+mz+"' property when initializing the app?")}function mK(){return new cn(ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pK(){return new cn(ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gK(t){return new cn(ln.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function W1(t){return new cn(ln.INVALID_ARGUMENT,t)}function pz(){return new cn(ln.APP_DELETED,"The Firebase app was deleted.")}function vK(t){return new cn(ln.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lh(t,e){return new cn(ln.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Df(t){throw new cn(ln.INTERNAL_ERROR,"Internal error: "+t)}class si{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=si.makeFromUrl(e,n)}catch{return new si(e,"")}if(r.path==="")return r;throw fK(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const l="(/(.*))?$",d=new RegExp("^gs://"+i+l,"i"),f={bucket:1,path:3};function m(M){M.path_=decodeURIComponent(M.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",x=new RegExp(`^https?://${g}/${p}/b/${i}/o${_}`,"i"),S={bucket:1,path:3},E=n===hz?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",C=new RegExp(`^https?://${E}/${i}/${A}`,"i"),k=[{regex:d,indices:f,postModify:s},{regex:x,indices:S,postModify:m},{regex:C,indices:{bucket:1,path:2},postModify:m}];for(let M=0;M<k.length;M++){const V=k[M],L=V.regex.exec(e);if(L){const P=L[V.indices.bucket];let O=L[V.indices.path];O||(O=""),r=new si(P,O),V.postModify(r);break}}if(r==null)throw dK(e);return r}}class yK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function _K(t,e,n){let r=1,i=null,s=null,l=!1,d=0;function f(){return d===2}let m=!1;function p(...A){m||(m=!0,e.apply(null,A))}function g(A){i=setTimeout(()=>{i=null,t(x,f())},A)}function _(){s&&clearTimeout(s)}function x(A,...C){if(m){_();return}if(A){_(),p.call(null,A,...C);return}if(f()||l){_(),p.call(null,A,...C);return}r<64&&(r*=2);let k;d===1?(d=2,k=0):k=(r+Math.random())*1e3,g(k)}let S=!1;function E(A){S||(S=!0,_(),!m&&(i!==null?(A||(d=2),clearTimeout(i),g(0)):A||(d=1)))}return g(0),s=setTimeout(()=>{l=!0,E(!0)},n),E}function bK(t){t(!1)}function xK(t){return t!==void 0}function wK(t){return typeof t=="object"&&!Array.isArray(t)}function tS(t){return typeof t=="string"||t instanceof String}function eO(t){return nS()&&t instanceof Blob}function nS(){return typeof Blob<"u"}function tO(t,e,n,r){if(r<e)throw W1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw W1(`Invalid value for '${t}'. Expected ${n} or less.`)}function Sy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function gz(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ac;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ac||(ac={}));function EK(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}class SK{constructor(e,n,r,i,s,l,d,f,m,p,g,_=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=p,this.connectionFactory_=g,this.retry=_,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,E)=>{this.resolve_=S,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Yp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const l=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const d=s.getErrorCode()===ac.NO_ERROR,f=s.getStatus();if(!d||EK(f,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===ac.ABORT;r(!1,new Yp(!1,null,p));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new Yp(m,s))})},n=(r,i)=>{const s=this.resolve_,l=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());xK(f)?s(f):s()}catch(f){l(f)}else if(d!==null){const f=eS();f.serverResponse=d.getErrorText(),this.errorCallback_?l(this.errorCallback_(d,f)):l(f)}else if(i.canceled){const f=this.appDelete_?pz():uK();l(f)}else{const f=cK();l(f)}};this.canceled_?n(!1,new Yp(!1,null,!0)):this.backoffId_=_K(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function AK(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function TK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function NK(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function CK(t,e,n,r,i,s,l=!0,d=!1){const f=gz(t.urlParams),m=t.url+f,p=Object.assign({},t.headers);return jK(p,e),AK(p,n),TK(p,s),NK(p,r),new SK(m,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,d)}function OK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function PK(...t){const e=OK();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(nS())return new Blob(t);throw new cn(ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function IK(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function RK(t){if(typeof atob>"u")throw gK("base-64");return atob(t)}const Ra={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ib{constructor(e,n){this.data=e,this.contentType=n||null}}function DK(t,e){switch(t){case Ra.RAW:return new Ib(vz(e));case Ra.BASE64:case Ra.BASE64URL:return new Ib(yz(t,e));case Ra.DATA_URL:return new Ib(MK(e),zK(e))}throw eS()}function vz(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,l=t.charCodeAt(++n);r=65536|(s&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function kK(t){let e;try{e=decodeURIComponent(t)}catch{throw lh(Ra.DATA_URL,"Malformed data URL.")}return vz(e)}function yz(t,e){switch(t){case Ra.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw lh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ra.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw lh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=RK(e)}catch(i){throw i.message.includes("polyfill")?i:lh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class _z{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw lh(Ra.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=LK(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function MK(t){const e=new _z(t);return e.base64?yz(Ra.BASE64,e.rest):kK(e.rest)}function zK(t){return new _z(t).contentType}function LK(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class qo{constructor(e,n){let r=0,i="";eO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(eO(this.data_)){const r=this.data_,i=IK(r,e,n);return i===null?null:new qo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new qo(r,!0)}}static getBlob(...e){if(nS()){const n=e.map(r=>r instanceof qo?r.data_:r);return new qo(PK.apply(null,n))}else{const n=e.map(l=>tS(l)?DK(Ra.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(l=>{for(let d=0;d<l.length;d++)i[s++]=l[d]}),new qo(i,!0)}}uploadData(){return this.data_}}function bz(t){let e;try{e=JSON.parse(t)}catch{return null}return wK(e)?e:null}function VK(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function UK(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function xz(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function qK(t,e){return e}class _r{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||qK}}let Qp=null;function BK(t){return!tS(t)||t.length<2?t:xz(t)}function wz(){if(Qp)return Qp;const t=[];t.push(new _r("bucket")),t.push(new _r("generation")),t.push(new _r("metageneration")),t.push(new _r("name","fullPath",!0));function e(s,l){return BK(l)}const n=new _r("name");n.xform=e,t.push(n);function r(s,l){return l!==void 0?Number(l):l}const i=new _r("size");return i.xform=r,t.push(i),t.push(new _r("timeCreated")),t.push(new _r("updated")),t.push(new _r("md5Hash",null,!0)),t.push(new _r("cacheControl",null,!0)),t.push(new _r("contentDisposition",null,!0)),t.push(new _r("contentEncoding",null,!0)),t.push(new _r("contentLanguage",null,!0)),t.push(new _r("contentType",null,!0)),t.push(new _r("metadata","customMetadata",!0)),Qp=t,Qp}function $K(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new si(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function FK(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const l=n[s];r[l.local]=l.xform(r,e[l.server])}return $K(r,t),r}function Ez(t,e,n){const r=bz(e);return r===null?null:FK(t,r,n)}function HK(t,e,n,r){const i=bz(e);if(i===null||!tS(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const l=encodeURIComponent;return s.split(",").map(m=>{const p=t.bucket,g=t.fullPath,_="/b/"+l(p)+"/o/"+l(g),x=Sy(_,n,r),S=gz({alt:"media",token:m});return x+S})[0]}function GK(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class rS{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Sz(t){if(!t)throw eS()}function KK(t,e){function n(r,i){const s=Ez(t,i,e);return Sz(s!==null),s}return n}function WK(t,e){function n(r,i){const s=Ez(t,i,e);return Sz(s!==null),HK(s,i,t.host,t._protocol)}return n}function Az(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=oK():i=sK():n.getStatus()===402?i=aK(t.bucket):n.getStatus()===403?i=lK(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Tz(t){const e=Az(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=iK(t.path)),s.serverResponse=i.serverResponse,s}return n}function YK(t,e,n){const r=e.fullServerUrl(),i=Sy(r,t.host,t._protocol),s="GET",l=t.maxOperationRetryTime,d=new rS(i,s,WK(t,n),l);return d.errorHandler=Tz(e),d}function QK(t,e){const n=e.fullServerUrl(),r=Sy(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function l(f,m){}const d=new rS(r,i,l,s);return d.successCodes=[200,204],d.errorHandler=Tz(e),d}function XK(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ZK(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=XK(null,e)),r}function JK(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function d(){let k="";for(let M=0;M<2;M++)k=k+Math.random().toString().slice(2);return k}const f=d();l["Content-Type"]="multipart/related; boundary="+f;const m=ZK(e,r,i),p=GK(m,n),g="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,_=`\r
--`+f+"--",x=qo.getBlob(g,r,_);if(x===null)throw mK();const S={name:m.fullPath},E=Sy(s,t.host,t._protocol),A="POST",C=t.maxUploadRetryTime,D=new rS(E,A,KK(t,n),C);return D.urlParams=S,D.headers=l,D.body=x.uploadData(),D.errorHandler=Az(e),D}class eW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ac.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ac.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ac.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw Df("cannot .send() more than once");if(fl(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const l in s)s.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,s[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Df("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Df("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Df("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Df("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class tW extends eW{initXhr(){this.xhr_.responseType="text"}}function iS(){return new tW}class yc{constructor(e,n){this._service=e,n instanceof si?this._location=n:this._location=si.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new yc(e,n)}get root(){const e=new si(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xz(this._location.path)}get storage(){return this._service}get parent(){const e=VK(this._location.path);if(e===null)return null;const n=new si(this._location.bucket,e);return new yc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw vK(e)}}function nW(t,e,n){t._throwIfRoot("uploadBytes");const r=JK(t.storage,t._location,wz(),new qo(e,!0),n);return t.storage.makeRequestWithTokens(r,iS).then(i=>({metadata:i,ref:t}))}function rW(t){t._throwIfRoot("getDownloadURL");const e=YK(t.storage,t._location,wz());return t.storage.makeRequestWithTokens(e,iS).then(n=>{if(n===null)throw pK();return n})}function iW(t){t._throwIfRoot("deleteObject");const e=QK(t.storage,t._location);return t.storage.makeRequestWithTokens(e,iS)}function aW(t,e){const n=UK(t._location.path,e),r=new si(t._location.bucket,n);return new yc(t.storage,r)}function sW(t){return/^[A-Za-z]+:\/\//.test(t)}function oW(t,e){return new yc(t,e)}function jz(t,e){if(t instanceof aS){const n=t;if(n._bucket==null)throw hK();const r=new yc(n,n._bucket);return e!=null?jz(r,e):r}else return e!==void 0?aW(t,e):t}function lW(t,e){if(e&&sW(e)){if(t instanceof aS)return oW(t,e);throw W1("To use ref(service, url), the first argument must be a Storage instance.")}else return jz(t,e)}function nO(t,e){const n=e?.[mz];return n==null?null:si.makeFromBucketSpec(n,t)}function cW(t,e,n,r={}){t.host=`${e}:${n}`;const i=fl(e);i&&(uE(`https://${t.host}/b`),dE("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Lk(s,t.app.options.projectId))}class aS{constructor(e,n,r,i,s,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=l,this._bucket=null,this._host=hz,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nK,this._maxUploadRetryTime=rK,this._requests=new Set,i!=null?this._bucket=si.makeFromBucketSpec(i,this._host):this._bucket=nO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=si.makeFromBucketSpec(this._url,e):this._bucket=nO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new yc(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new yK(pz());{const l=CK(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const rO="@firebase/storage",iO="0.14.0";const Nz="storage";function uW(t,e,n){return t=Bt(t),nW(t,e,n)}function dW(t){return t=Bt(t),rW(t)}function fW(t){return t=Bt(t),iW(t)}function aO(t,e){return t=Bt(t),lW(t,e)}function hW(t=mE(),e){t=Bt(t);const r=ey(t,Nz).getImmediate({identifier:e}),i=kk("storage");return i&&mW(r,...i),r}function mW(t,e,n,r={}){cW(t,e,n,r)}function pW(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new aS(n,r,i,e,Nc)}function gW(){dc(new Jo(Nz,pW,"PUBLIC").setMultipleInstances(!0)),Ma(rO,iO,""),Ma(rO,iO,"esm2020")}gW();const vW={apiKey:"AIzaSyDgk_1graNBFkIURTJnyLZTZ1nyxi7slUo",authDomain:"pedaclic.firebaseapp.com",projectId:"pedaclic",storageBucket:"pedaclic.firebasestorage.app",messagingSenderId:"863649621890",appId:"1:863649621890:web:6ab56a8c8db111e3a9119b"},sS=qk(vW),Qf=V$(sS),Xe=X4(sS),Y1=hW(sS),Cz=Object.freeze(Object.defineProperty({__proto__:null,auth:Qf,db:Xe,storage:Y1},Symbol.toStringTag,{value:"Module"})),sO={"auth/email-already-in-use":"Cette adresse email est dj utilise.","auth/invalid-email":"Adresse email invalide.","auth/operation-not-allowed":"Opration non autorise.","auth/weak-password":"Le mot de passe doit contenir au moins 6 caractres.","auth/user-disabled":"Ce compte a t dsactiv.","auth/user-not-found":"Aucun compte associ  cette adresse email.","auth/wrong-password":"Mot de passe incorrect.","auth/too-many-requests":"Trop de tentatives. Veuillez ressayer plus tard.","auth/network-request-failed":"Erreur de connexion. Vrifiez votre connexion internet.",default:"Une erreur est survenue. Veuillez ressayer."},oO=t=>sO[t]||sO.default,Oz=w.createContext(null),yW=({children:t})=>{const[e,n]=w.useState(null),[r,i]=w.useState(!0),s=async _=>{try{const x=await sl(Lt(Xe,"users",_));if(x.exists()){const S=x.data();return{uid:_,email:S.email,displayName:S.displayName,role:S.role,isPremium:S.isPremium||!1,subscriptionEnd:S.subscriptionEnd?.toDate()||null,photoURL:S.photoURL,createdAt:S.createdAt?.toDate()||new Date,lastLogin:S.lastLogin?.toDate()}}return null}catch(x){return console.error("Erreur lors de la rcupration des donnes utilisateur:",x),null}},l=async(_,x)=>{const S=Lt(Xe,"users",_.uid);(await sl(S)).exists()?await Pi(S,{lastLogin:jn()}):await dz(S,{email:_.email,displayName:_.displayName||x?.displayName||"",role:x?.role||"eleve",isPremium:!1,photoURL:_.photoURL,createdAt:jn(),lastLogin:jn()})},d=async(_,x)=>{try{const S=await w7(Qf,_,x);await l(S.user)}catch(S){throw new Error(oO(S.code))}},f=async _=>{try{if(_.password!==_.confirmPassword)throw new Error("Les mots de passe ne correspondent pas.");const x=await x7(Qf,_.email,_.password);await S7(x.user,{displayName:_.displayName}),await l(x.user,{displayName:_.displayName,role:_.role})}catch(x){throw x.message?x:new Error(oO(x.code))}},m=async()=>{try{await N7(Qf),n(null)}catch{throw new Error("Erreur lors de la dconnexion.")}},p=async _=>{if(!e)throw new Error("Aucun utilisateur connect.");try{const x=Lt(Xe,"users",e.uid);await Pi(x,{..._,updatedAt:jn()}),n(S=>S?{...S,..._}:null)}catch{throw new Error("Erreur lors de la mise  jour du profil.")}};w.useEffect(()=>{const _=j7(Qf,async x=>{if(x){const S=await s(x.uid);n(S)}else n(null);i(!1)});return()=>_()},[]);const g={currentUser:e,loading:r,login:d,register:f,logout:m,updateProfile:p};return c.jsx(Oz.Provider,{value:g,children:r?c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Chargement..."})]}):t})},ca=()=>{const t=w.useContext(Oz);if(!t)throw new Error("useAuth doit tre utilis  l'intrieur d'un AuthProvider");return t},_W=({children:t,allowedRoles:e,requirePremium:n=!1})=>{const{currentUser:r,loading:i}=ca();return i?c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Vrification des autorisations..."})]}):r?e&&!e.includes(r.role)?c.jsxs("div",{className:"error-container",children:[c.jsx("h2",{children:"Accs non autoris"}),c.jsx("p",{children:"Vous n'avez pas les permissions ncessaires pour accder  cette page."}),c.jsx("a",{href:"/",className:"btn btn-primary",children:"Retour  l'accueil"})]}):n&&!r.isPremium?c.jsxs("div",{className:"error-container premium-required",children:[c.jsx("h2",{children:"Contenu Premium"}),c.jsx("p",{children:"Cette ressource est rserve aux abonns Premium."}),c.jsxs("div",{className:"premium-cta",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"2 000 FCFA/mois"})," ou ",c.jsx("strong",{children:"20 000 FCFA/an"})]}),c.jsx("a",{href:"/premium",className:"btn btn-premium",children:"Devenir Premium"})]})]}):c.jsx(c.Fragment,{children:t}):c.jsxs("div",{className:"error-container",children:[c.jsx("h2",{children:"Accs refus"}),c.jsx("p",{children:"Vous devez tre connect pour accder  cette page."}),c.jsx("a",{href:"/connexion",className:"btn btn-primary",children:"Se connecter"})]})},ju=({children:t})=>c.jsx(_W,{allowedRoles:["admin"],children:t});const bW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xW=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),lO=t=>{const e=xW(t);return e.charAt(0).toUpperCase()+e.slice(1)},Pz=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),wW=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var EW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const SW=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...d},f)=>w.createElement("svg",{ref:f,...EW,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Pz("lucide",i),...!s&&!wW(d)&&{"aria-hidden":"true"},...d},[...l.map(([m,p])=>w.createElement(m,p)),...Array.isArray(s)?s:[s]]));const De=(t,e)=>{const n=w.forwardRef(({className:r,...i},s)=>w.createElement(SW,{ref:s,iconNode:e,className:Pz(`lucide-${bW(lO(t))}`,`lucide-${t}`,r),...i}));return n.displayName=lO(t),n};const AW=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Rb=De("arrow-left",AW);const TW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Yl=De("arrow-right",TW);const jW=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],_c=De("award",jW);const NW=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ea=De("book-open",NW);const CW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Db=De("calendar",CW);const OW=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Q1=De("chart-column",OW);const PW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],tv=De("chevron-down",PW);const IW=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],X1=De("chevron-up",IW);const RW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],nv=De("circle-alert",RW);const DW=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hn=De("circle-check-big",DW);const kW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jg=De("circle-question-mark",kW);const MW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Z1=De("circle-x",MW);const zW=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],id=De("clock",zW);const LW=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],VW=De("copy",LW);const UW=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Xf=De("crown",UW);const qW=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],J1=De("eye",qW);const BW=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],$W=De("facebook",BW);const FW=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],HW=De("file-text",FW);const GW=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Iz=De("funnel",GW);const KW=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],ad=De("graduation-cap",KW);const WW=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],YW=De("grip-vertical",WW);const QW=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],XW=De("heart",QW);const ZW=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ew=De("house",ZW);const JW=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],eY=De("instagram",JW);const tY=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],cO=De("layout-dashboard",tY);const nY=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],rY=De("linkedin",nY);const iY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],tw=De("lock",iY);const aY=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],uO=De("log-out",aY);const sY=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],oY=De("mail",sY);const lY=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],cY=De("map-pin",lY);const uY=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],dY=De("menu",uY);const fY=[["path",{d:"M5 12h14",key:"1ays0h"}]],hY=De("minus",fY);const mY=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],pY=De("pen-line",mY);const gY=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],vY=De("phone",gY);const yY=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ch=De("play",yY);const _Y=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xp=De("plus",_Y);const bY=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],xY=De("refresh-cw",bY);const wY=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],EY=De("rotate-ccw",wY);const SY=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],AY=De("save",SY);const TY=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Rz=De("search",TY);const jY=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],NY=De("settings",jY);const CY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],oS=De("shield",CY);const OY=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],oi=De("star",OY);const PY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],dO=De("target",PY);const IY=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],RY=De("timer",IY);const DY=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fO=De("trash-2",DY);const kY=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],MY=De("trending-down",kY);const zY=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],nw=De("trending-up",zY);const LY=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Dz=De("trophy",LY);const VY=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],UY=De("twitter",VY);const qY=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],BY=De("user-check",qY);const $Y=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],FY=De("user-x",$Y);const HY=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],GY=De("user",HY);const KY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ng=De("users",KY);const WY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sc=De("x",WY);const YY=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],QY=De("youtube",YY);const XY=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],kz=De("zap",XY),ZY=()=>{const{currentUser:t,logout:e,loading:n}=ca(),r=dl(),i=ul(),[s,l]=w.useState(!1),[d,f]=w.useState(!1),[m,p]=w.useState(!1),g=w.useRef(null),_=[{path:"/",label:"Accueil",icon:c.jsx(ew,{size:18})},{path:"/disciplines",label:"Disciplines",icon:c.jsx(ea,{size:18})},{path:"/quiz",label:"Quiz",icon:c.jsx(ad,{size:18}),requireAuth:!0,requirePremium:!0},{path:t?.role==="eleve"?"/eleve/dashboard":"/admin",label:"Tableau de bord",icon:c.jsx(cO,{size:18}),requireAuth:!0}];w.useEffect(()=>{const M=V=>{g.current&&!g.current.contains(V.target)&&f(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]),w.useEffect(()=>{l(!1),f(!1)},[i.pathname]),w.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]);const x=async()=>{try{p(!0),await e(),f(!1),r("/")}catch(M){console.error("Erreur lors de la dconnexion:",M)}finally{p(!1)}},S=()=>{l(!s)},E=()=>{f(!d)},A=M=>!(M.requireAuth&&!t||M.requirePremium&&t&&!t.isPremium||M.requireRole&&t&&!M.requireRole.includes(t.role)),C=M=>M==="/"?i.pathname==="/":i.pathname.startsWith(M),D=M=>({admin:"Administrateur",prof:"Professeur",eleve:"lve"})[M]||M,k=()=>t?t.displayName?t.displayName.split(" ").map(V=>V[0]).join("").toUpperCase().slice(0,2):t.email[0].toUpperCase():"?";return c.jsxs("header",{className:"header",children:[c.jsxs("div",{className:"header__container",children:[c.jsxs(Ye,{to:"/",className:"header__logo",children:[c.jsx(ad,{className:"header__logo-icon",size:32}),c.jsxs("div",{className:"header__logo-text",children:[c.jsx("span",{className:"header__logo-name",children:"PedaClic"}),c.jsx("span",{className:"header__logo-tagline",children:"L'cole en un clic"})]})]}),c.jsx("nav",{className:"header__nav header__nav--desktop",children:c.jsx("ul",{className:"header__nav-list",children:_.map(M=>A(M)&&c.jsx("li",{className:"header__nav-item",children:c.jsxs(Ye,{to:M.path,className:`header__nav-link ${C(M.path)?"header__nav-link--active":""}`,children:[M.icon,c.jsx("span",{children:M.label}),M.requirePremium&&c.jsx(Xf,{size:14,className:"header__premium-badge"})]})},M.path))})}),c.jsxs("div",{className:"header__actions",children:[n?c.jsx("div",{className:"header__loading",children:c.jsx("div",{className:"header__spinner"})}):t?c.jsxs("div",{className:"header__user",ref:g,children:[t.isPremium&&c.jsxs("span",{className:"header__premium-tag",children:[c.jsx(Xf,{size:14}),"Premium"]}),c.jsxs("button",{className:"header__user-button",onClick:E,"aria-expanded":d,"aria-haspopup":"true",children:[c.jsx("div",{className:"header__avatar",children:t.photoURL?c.jsx("img",{src:t.photoURL,alt:t.displayName||"Avatar",className:"header__avatar-img"}):c.jsx("span",{className:"header__avatar-initials",children:k()})}),c.jsx("span",{className:"header__user-name",children:t.displayName||t.email.split("@")[0]}),c.jsx(tv,{size:16,className:`header__chevron ${d?"header__chevron--open":""}`})]}),d&&c.jsxs("div",{className:"header__dropdown",children:[c.jsxs("div",{className:"header__dropdown-header",children:[c.jsx("p",{className:"header__dropdown-email",children:t.email}),c.jsx("span",{className:`header__dropdown-role header__dropdown-role--${t.role}`,children:D(t.role)})]}),c.jsx("div",{className:"header__dropdown-divider"}),c.jsxs("nav",{className:"header__dropdown-nav",children:[c.jsxs(Ye,{to:t.role==="eleve"?"/eleve/dashboard":"/admin",className:"header__dropdown-link",children:[c.jsx(cO,{size:18}),c.jsx("span",{children:"Tableau de bord"})]}),c.jsxs(Ye,{to:"/profil",className:"header__dropdown-link",children:[c.jsx(GY,{size:18}),c.jsx("span",{children:"Mon profil"})]}),t.role==="admin"&&c.jsxs(Ye,{to:"/admin",className:"header__dropdown-link",children:[c.jsx(NY,{size:18}),c.jsx("span",{children:"Administration"})]}),!t.isPremium&&c.jsxs(Ye,{to:"/premium",className:"header__dropdown-link header__dropdown-link--premium",children:[c.jsx(Xf,{size:18}),c.jsx("span",{children:"Passer Premium"})]})]}),c.jsx("div",{className:"header__dropdown-divider"}),c.jsxs("button",{className:"header__dropdown-logout",onClick:x,disabled:m,children:[c.jsx(uO,{size:18}),c.jsx("span",{children:m?"Dconnexion...":"Se dconnecter"})]})]})]}):c.jsxs("div",{className:"header__auth-buttons",children:[c.jsx(Ye,{to:"/connexion",className:"header__btn header__btn--outline",children:"Connexion"}),c.jsx(Ye,{to:"/inscription",className:"header__btn header__btn--primary",children:"S'inscrire"})]}),c.jsx("button",{className:"header__mobile-toggle",onClick:S,"aria-label":s?"Fermer le menu":"Ouvrir le menu","aria-expanded":s,children:s?c.jsx(sc,{size:24}):c.jsx(dY,{size:24})})]})]}),c.jsxs("div",{className:`header__mobile-menu ${s?"header__mobile-menu--open":""}`,children:[c.jsx("div",{className:"header__mobile-overlay",onClick:()=>l(!1)}),c.jsxs("div",{className:"header__mobile-content",children:[c.jsx("nav",{className:"header__mobile-nav",children:c.jsx("ul",{className:"header__mobile-list",children:_.map(M=>A(M)&&c.jsx("li",{className:"header__mobile-item",children:c.jsxs(Ye,{to:M.path,className:`header__mobile-link ${C(M.path)?"header__mobile-link--active":""}`,children:[M.icon,c.jsx("span",{children:M.label}),M.requirePremium&&c.jsx(Xf,{size:14,className:"header__premium-badge"})]})},M.path))})}),!t&&c.jsxs("div",{className:"header__mobile-auth",children:[c.jsx(Ye,{to:"/connexion",className:"header__btn header__btn--outline header__btn--block",children:"Connexion"}),c.jsx(Ye,{to:"/inscription",className:"header__btn header__btn--primary header__btn--block",children:"S'inscrire"})]}),t&&c.jsxs("div",{className:"header__mobile-user",children:[c.jsxs("div",{className:"header__mobile-user-info",children:[c.jsx("div",{className:"header__avatar header__avatar--large",children:t.photoURL?c.jsx("img",{src:t.photoURL,alt:t.displayName||"Avatar",className:"header__avatar-img"}):c.jsx("span",{className:"header__avatar-initials",children:k()})}),c.jsxs("div",{className:"header__mobile-user-details",children:[c.jsx("p",{className:"header__mobile-user-name",children:t.displayName||t.email.split("@")[0]}),c.jsx("p",{className:"header__mobile-user-email",children:t.email})]})]}),c.jsxs("button",{className:"header__mobile-logout",onClick:x,disabled:m,children:[c.jsx(uO,{size:18}),c.jsx("span",{children:m?"Dconnexion...":"Se dconnecter"})]})]})]})]})]})},JY=()=>{const t=new Date().getFullYear(),e=[{label:"Accueil",path:"/"},{label:"Disciplines",path:"/disciplines"},{label:"Quiz Premium",path:"/quiz"},{label:"Tarifs",path:"/premium"},{label:"Tableau de bord",path:"/dashboard"}],n=[{label:"Cours en ligne",path:"/disciplines"},{label:"Exercices corrigs",path:"/disciplines"},{label:"Annales examens",path:"/disciplines"},{label:"Fiches de rvision",path:"/disciplines"}],r=[{name:"Facebook",url:"https://facebook.com/pedaclic",icon:c.jsx($W,{size:20})},{name:"Twitter",url:"https://twitter.com/pedaclic",icon:c.jsx(UY,{size:20})},{name:"Instagram",url:"https://instagram.com/pedaclic",icon:c.jsx(eY,{size:20})},{name:"LinkedIn",url:"https://linkedin.com/company/pedaclic",icon:c.jsx(rY,{size:20})},{name:"YouTube",url:"https://youtube.com/@pedaclic",icon:c.jsx(QY,{size:20})}];return c.jsxs("footer",{className:"footer",children:[c.jsx("div",{className:"footer__main",children:c.jsxs("div",{className:"footer__container",children:[c.jsxs("div",{className:"footer__column footer__column--about",children:[c.jsxs(Ye,{to:"/",className:"footer__logo",children:[c.jsx(ad,{className:"footer__logo-icon",size:36}),c.jsxs("div",{className:"footer__logo-text",children:[c.jsx("span",{className:"footer__logo-name",children:"PedaClic"}),c.jsx("span",{className:"footer__logo-tagline",children:"L'cole en un clic"})]})]}),c.jsx("p",{className:"footer__description",children:"PedaClic est la plateforme ducative de rfrence au Sngal. Nous accompagnons les lves du collge au lyce avec des cours, exercices et quiz de qualit."}),c.jsxs("div",{className:"footer__stats",children:[c.jsxs("div",{className:"footer__stat",children:[c.jsx(ea,{size:18}),c.jsx("span",{children:"500+ cours"})]}),c.jsxs("div",{className:"footer__stat",children:[c.jsx(Ng,{size:18}),c.jsx("span",{children:"10 000+ lves"})]})]})]}),c.jsxs("div",{className:"footer__column",children:[c.jsxs("h3",{className:"footer__title",children:[c.jsx("span",{className:"footer__title-icon",children:""}),"Plateforme"]}),c.jsx("nav",{className:"footer__nav",children:c.jsx("ul",{className:"footer__list",children:e.map((i,s)=>c.jsx("li",{className:"footer__item",children:c.jsx(Ye,{to:i.path,className:"footer__link",children:i.label})},s))})})]}),c.jsxs("div",{className:"footer__column",children:[c.jsxs("h3",{className:"footer__title",children:[c.jsx("span",{className:"footer__title-icon",children:""}),"Ressources"]}),c.jsx("nav",{className:"footer__nav",children:c.jsx("ul",{className:"footer__list",children:n.map((i,s)=>c.jsx("li",{className:"footer__item",children:c.jsx(Ye,{to:i.path,className:"footer__link",children:i.label})},s))})})]}),c.jsxs("div",{className:"footer__column",children:[c.jsxs("h3",{className:"footer__title",children:[c.jsx("span",{className:"footer__title-icon",children:""}),"Contact"]}),c.jsxs("div",{className:"footer__contact",children:[c.jsxs("a",{href:"mailto:contact@pedaclic.sn",className:"footer__contact-item",children:[c.jsx(oY,{size:16,className:"footer__contact-icon"}),c.jsx("span",{children:"contact@pedaclic.sn"})]}),c.jsxs("a",{href:"tel:+221770000000",className:"footer__contact-item",children:[c.jsx(vY,{size:16,className:"footer__contact-icon"}),c.jsx("span",{children:"+221 77 000 00 00"})]}),c.jsxs("div",{className:"footer__contact-item",children:[c.jsx(cY,{size:16,className:"footer__contact-icon"}),c.jsx("span",{children:"Dakar, Sngal"})]})]}),c.jsxs("div",{className:"footer__social",children:[c.jsx("h4",{className:"footer__social-title",children:"Suivez-nous"}),c.jsx("div",{className:"footer__social-links",children:r.map((i,s)=>c.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"footer__social-link",title:i.name,children:i.icon},s))})]})]})]})}),c.jsx("div",{className:"footer__bottom",children:c.jsxs("div",{className:"footer__container footer__bottom-content",children:[c.jsxs("p",{className:"footer__copyright",children:[" ",t," PedaClic. Tous droits rservs."]}),c.jsxs("p",{className:"footer__made-with",children:["Fait avec ",c.jsx(XW,{size:14,className:"footer__heart"})," au Sngal "]}),c.jsxs("nav",{className:"footer__legal",children:[c.jsxs(Ye,{to:"/mentions-legales",className:"footer__legal-link",children:[c.jsx(HW,{size:14})," Mentions lgales"]}),c.jsxs(Ye,{to:"/confidentialite",className:"footer__legal-link",children:[c.jsx(oS,{size:14})," Confidentialit"]}),c.jsxs(Ye,{to:"/aide",className:"footer__legal-link",children:[c.jsx(jg,{size:14})," Aide"]})]})]})})]})},Nu=({children:t,hideHeader:e=!1,hideFooter:n=!1,className:r=""})=>c.jsxs("div",{className:"layout",children:[!e&&c.jsx(ZY,{}),c.jsx("main",{className:`layout__main ${e?"":"layout__main--with-header"} ${r}`,children:t}),!n&&c.jsx(JY,{})]}),eQ=()=>{const{currentUser:t}=ca();return c.jsxs("div",{className:"home-page",children:[c.jsxs("section",{className:"home-page__hero",children:[c.jsxs("div",{className:"home-page__hero-content",children:[c.jsxs("div",{className:"home-page__hero-badge",children:[c.jsx(oi,{size:14}),c.jsx("span",{children:"Plateforme N1 au Sngal"})]}),c.jsxs("h1",{className:"home-page__hero-title",children:["Russis tes examens avec",c.jsx("span",{className:"home-page__hero-highlight",children:" PedaClic"})]}),c.jsx("p",{className:"home-page__hero-subtitle",children:"La plateforme ducative qui accompagne les lves sngalais du collge au lyce avec des cours, exercices et quiz de qualit."}),c.jsx("div",{className:"home-page__hero-cta",children:t?c.jsxs(Ye,{to:t.role==="eleve"?"/eleve/dashboard":"/admin",className:"home-page__btn home-page__btn--primary",children:["                Accder  mon espace",c.jsx(Yl,{size:20})]}):c.jsxs(c.Fragment,{children:[c.jsxs(Ye,{to:"/register",className:"home-page__btn home-page__btn--primary",children:["Commencer gratuitement",c.jsx(Yl,{size:20})]}),c.jsxs(Ye,{to:"/disciplines",className:"home-page__btn home-page__btn--outline",children:[c.jsx(ch,{size:18}),"Dcouvrir les cours"]})]})}),c.jsxs("div",{className:"home-page__hero-stats",children:[c.jsxs("div",{className:"home-page__hero-stat",children:[c.jsx("strong",{children:"10 000+"}),c.jsx("span",{children:"lves inscrits"})]}),c.jsxs("div",{className:"home-page__hero-stat",children:[c.jsx("strong",{children:"500+"}),c.jsx("span",{children:"Cours disponibles"})]}),c.jsxs("div",{className:"home-page__hero-stat",children:[c.jsx("strong",{children:"95%"}),c.jsx("span",{children:"Taux de russite"})]})]})]}),c.jsx("div",{className:"home-page__hero-image",children:c.jsxs("div",{className:"home-page__hero-illustration",children:[c.jsx(ad,{size:120}),c.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--1",children:""}),c.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--2",children:""}),c.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--3",children:""})]})})]}),c.jsx("section",{className:"home-page__levels",children:c.jsxs("div",{className:"home-page__container",children:[c.jsx("h2",{className:"home-page__section-title",children:"Tous les niveaux, toutes les matires"}),c.jsx("p",{className:"home-page__section-subtitle",children:"Du collge au lyce, prpare tes examens avec confiance"}),c.jsxs("div",{className:"home-page__levels-grid",children:[c.jsxs(Ye,{to:"/disciplines?niveau=college",className:"home-page__level-card",children:[c.jsx("div",{className:"home-page__level-icon home-page__level-icon--college",children:""}),c.jsx("h3",{children:"Collge"}),c.jsx("p",{children:"6me  3me"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx(hn,{size:16})," Prparation au BFEM"]}),c.jsxs("li",{children:[c.jsx(hn,{size:16})," 9 matires disponibles"]}),c.jsxs("li",{children:[c.jsx(hn,{size:16})," Exercices corrigs"]})]}),c.jsxs("span",{className:"home-page__level-link",children:["Voir les cours ",c.jsx(Yl,{size:16})]})]}),c.jsxs(Ye,{to:"/disciplines?niveau=lycee",className:"home-page__level-card",children:[c.jsx("div",{className:"home-page__level-icon home-page__level-icon--lycee",children:""}),c.jsx("h3",{children:"Lyce"}),c.jsx("p",{children:"2nde  Terminale"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx(hn,{size:16})," Prparation au BAC"]}),c.jsxs("li",{children:[c.jsx(hn,{size:16})," 12 matires disponibles"]}),c.jsxs("li",{children:[c.jsx(hn,{size:16})," Annales d'examens"]})]}),c.jsxs("span",{className:"home-page__level-link",children:["Voir les cours ",c.jsx(Yl,{size:16})]})]})]})]})}),c.jsx("section",{className:"home-page__features",children:c.jsxs("div",{className:"home-page__container",children:[c.jsx("h2",{className:"home-page__section-title",children:"Pourquoi choisir PedaClic ?"}),c.jsx("p",{className:"home-page__section-subtitle",children:"Des outils modernes pour une ducation de qualit"}),c.jsxs("div",{className:"home-page__features-grid",children:[c.jsxs("div",{className:"home-page__feature-card",children:[c.jsx("div",{className:"home-page__feature-icon",children:c.jsx(ea,{size:28})}),c.jsx("h3",{children:"Cours complets"}),c.jsx("p",{children:"Des cours structurs et conformes au programme sngalais, rdigs par des enseignants expriments."})]}),c.jsxs("div",{className:"home-page__feature-card",children:[c.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--secondary",children:c.jsx(kz,{size:28})}),c.jsx("h3",{children:"Quiz interactifs"}),c.jsx("p",{children:"Testez vos connaissances avec des quiz adapts  chaque niveau et obtenez un feedback instantan."})]}),c.jsxs("div",{className:"home-page__feature-card",children:[c.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--warning",children:c.jsx(Dz,{size:28})}),c.jsx("h3",{children:"Suivi de progression"}),c.jsx("p",{children:"Visualisez vos progrs et identifiez vos points faibles pour cibler vos rvisions."})]}),c.jsxs("div",{className:"home-page__feature-card",children:[c.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--success",children:c.jsx(oS,{size:28})}),c.jsx("h3",{children:"Contenu vrifi"}),c.jsx("p",{children:"Tous nos contenus sont valids par des professeurs certifis pour garantir leur qualit."})]}),c.jsxs("div",{className:"home-page__feature-card",children:[c.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--info",children:c.jsx(id,{size:28})}),c.jsx("h3",{children:"Accessible 24/7"}),c.jsx("p",{children:"tudiez  votre rythme, o que vous soyez, sur ordinateur, tablette ou smartphone."})]}),c.jsxs("div",{className:"home-page__feature-card",children:[c.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--premium",children:c.jsx(_c,{size:28})}),c.jsx("h3",{children:"Certificats"}),c.jsx("p",{children:"Obtenez des certificats de russite pour valoriser vos comptences acquises."})]})]})]})}),c.jsx("section",{className:"home-page__premium",children:c.jsx("div",{className:"home-page__container",children:c.jsxs("div",{className:"home-page__premium-content",children:[c.jsxs("div",{className:"home-page__premium-text",children:[c.jsx("span",{className:"home-page__premium-badge",children:" Premium"}),c.jsx("h2",{children:"Passez  la vitesse suprieure"}),c.jsxs("p",{children:["Accdez  tous les quiz, exercices corrigs et ressources exclusives pour seulement ",c.jsx("strong",{children:"2 000 FCFA/mois"}),"."]}),c.jsxs("ul",{className:"home-page__premium-features",children:[c.jsxs("li",{children:[c.jsx(hn,{size:18})," Quiz illimits dans toutes les matires"]}),c.jsxs("li",{children:[c.jsx(hn,{size:18})," Corrections dtailles des exercices"]}),c.jsxs("li",{children:[c.jsx(hn,{size:18})," Annales des examens (BFEM, BAC)"]}),c.jsxs("li",{children:[c.jsx(hn,{size:18})," Support prioritaire"]})]}),c.jsxs(Ye,{to:"/premium",className:"home-page__btn home-page__btn--premium",children:["Dcouvrir Premium",c.jsx(Yl,{size:20})]})]}),c.jsx("div",{className:"home-page__premium-pricing",children:c.jsxs("div",{className:"home-page__pricing-card",children:[c.jsx("span",{className:"home-page__pricing-popular",children:"Plus populaire"}),c.jsx("h3",{children:"Abonnement Annuel"}),c.jsxs("div",{className:"home-page__pricing-price",children:[c.jsx("span",{className:"home-page__pricing-amount",children:"20 000"}),c.jsx("span",{className:"home-page__pricing-currency",children:"FCFA"}),c.jsx("span",{className:"home-page__pricing-period",children:"/an"})]}),c.jsx("p",{className:"home-page__pricing-save",children:"conomisez 4 000 FCFA vs mensuel"}),c.jsx(Ye,{to:"/premium",className:"home-page__btn home-page__btn--primary home-page__btn--block",children:"Choisir ce plan"})]})})]})})}),c.jsx("section",{className:"home-page__testimonials",children:c.jsxs("div",{className:"home-page__container",children:[c.jsx("h2",{className:"home-page__section-title",children:"Ce qu'en disent nos lves"}),c.jsxs("div",{className:"home-page__testimonials-grid",children:[c.jsxs("div",{className:"home-page__testimonial-card",children:[c.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>c.jsx(oi,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),c.jsx("p",{className:"home-page__testimonial-text",children:`"Grce  PedaClic, j'ai obtenu mon BFEM avec mention. Les quiz m'ont vraiment aid  me prparer !"`}),c.jsxs("div",{className:"home-page__testimonial-author",children:[c.jsx("div",{className:"home-page__testimonial-avatar",children:"FA"}),c.jsxs("div",{children:[c.jsx("strong",{children:"Fatou Adara"}),c.jsx("span",{children:"lve en 3me - Dakar"})]})]})]}),c.jsxs("div",{className:"home-page__testimonial-card",children:[c.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>c.jsx(oi,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),c.jsx("p",{className:"home-page__testimonial-text",children:`"Les cours de maths sont trs bien expliqus. J'ai enfin compris les quations du second degr !"`}),c.jsxs("div",{className:"home-page__testimonial-author",children:[c.jsx("div",{className:"home-page__testimonial-avatar",children:"MD"}),c.jsxs("div",{children:[c.jsx("strong",{children:"Moussa Diallo"}),c.jsx("span",{children:"lve en Terminale S - This"})]})]})]}),c.jsxs("div",{className:"home-page__testimonial-card",children:[c.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>c.jsx(oi,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),c.jsx("p",{className:"home-page__testimonial-text",children:`"Je recommande PedaClic  tous les parents. Ma fille a beaucoup progress depuis qu'elle l'utilise."`}),c.jsxs("div",{className:"home-page__testimonial-author",children:[c.jsx("div",{className:"home-page__testimonial-avatar",children:"AN"}),c.jsxs("div",{children:[c.jsx("strong",{children:"Aminata Ndiaye"}),c.jsx("span",{children:"Parent d'lve - Saint-Louis"})]})]})]})]})]})}),c.jsx("section",{className:"home-page__final-cta",children:c.jsxs("div",{className:"home-page__container",children:[c.jsx("h2",{children:"Prt  russir ?"}),c.jsx("p",{children:"Rejoignez les milliers d'lves qui font confiance  PedaClic"}),!t&&c.jsxs(Ye,{to:"/register",className:"home-page__btn home-page__btn--large",children:["Crer mon compte gratuit",c.jsx(Yl,{size:24})]})]})})]})},tQ=()=>{const{login:t}=ca(),e=dl(),r=ul().state?.from||"/",[i,s]=w.useState({email:"",password:""}),[l,d]=w.useState(!1),[f,m]=w.useState(""),[p,g]=w.useState(!1),_=E=>{const{name:A,value:C}=E.target;s(D=>({...D,[A]:C})),f&&m("")},x=()=>i.email.trim()?i.password?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)?!0:(m("Veuillez entrer une adresse email valide."),!1):(m("Veuillez entrer votre mot de passe."),!1):(m("Veuillez entrer votre adresse email."),!1),S=async E=>{if(E.preventDefault(),!!x()){d(!0),m("");try{await t(i.email,i.password),e(r,{replace:!0})}catch(A){A instanceof Error?m(A.message):m("Une erreur est survenue lors de la connexion.")}finally{d(!1)}}};return c.jsx("div",{className:"auth-page",children:c.jsxs("div",{className:"auth-container",children:[c.jsxs("div",{className:"auth-card",children:[c.jsxs("div",{className:"auth-header",children:[c.jsxs(Ye,{to:"/",className:"auth-logo",children:[c.jsx("div",{className:"auth-logo__icon",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),c.jsx("span",{children:"PedaClic"})]}),c.jsx("h1",{className:"auth-title",children:"Connexion"}),c.jsx("p",{className:"auth-subtitle",children:"Accdez  votre espace d'apprentissage"})]}),f&&c.jsxs("div",{className:"auth-error",children:[c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("path",{d:"M12 8v4M12 16h.01"})]}),c.jsx("span",{children:f})]}),c.jsxs("form",{onSubmit:S,className:"auth-form",children:[c.jsxs("div",{className:"auth-field",children:[c.jsx("label",{htmlFor:"email",className:"auth-label",children:"Adresse email"}),c.jsxs("div",{className:"auth-input-wrapper",children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),c.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:_,placeholder:"exemple@email.com",className:"auth-input",autoComplete:"email",disabled:l})]})]}),c.jsxs("div",{className:"auth-field",children:[c.jsx("label",{htmlFor:"password",className:"auth-label",children:"Mot de passe"}),c.jsxs("div",{className:"auth-input-wrapper",children:[c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:[c.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",strokeWidth:"2"}),c.jsx("path",{strokeWidth:"2",d:"M7 11V7a5 5 0 0110 0v4"})]}),c.jsx("input",{type:p?"text":"password",id:"password",name:"password",value:i.password,onChange:_,placeholder:"Votre mot de passe",className:"auth-input",autoComplete:"current-password",disabled:l}),c.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>g(!p),"aria-label":p?"Masquer le mot de passe":"Afficher le mot de passe",children:p?c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),c.jsx("div",{className:"auth-forgot",children:c.jsx(Ye,{to:"/mot-de-passe-oublie",className:"auth-forgot-link",children:"Mot de passe oubli ?"})}),c.jsx("button",{type:"submit",className:"auth-button",disabled:l,children:l?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"auth-button-spinner"}),"Connexion en cours..."]}):"Se connecter"})]}),c.jsx("div",{className:"auth-divider",children:c.jsx("span",{children:"ou"})}),c.jsxs("p",{className:"auth-switch",children:["Pas encore de compte ?"," ",c.jsx(Ye,{to:"/inscription",className:"auth-switch-link",children:"Crer un compte"})]})]}),c.jsxs("div",{className:"auth-welcome",children:[c.jsx("h2",{children:"Bienvenue sur PedaClic !"}),c.jsx("p",{children:"L'cole en un clic - Accdez  des milliers de cours, exercices et quiz."}),c.jsxs("ul",{className:"auth-features",children:[c.jsxs("li",{children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Cours du programme sngalais"]}),c.jsxs("li",{children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Exercices interactifs"]}),c.jsxs("li",{children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quiz pour tester vos connaissances"]}),c.jsxs("li",{children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Suivi de progression"]})]})]})]})})},nQ=()=>{const{register:t}=ca(),e=dl(),[n,r]=w.useState({email:"",password:"",confirmPassword:"",displayName:"",role:"eleve"}),[i,s]=w.useState(!1),[l,d]=w.useState(""),[f,m]=w.useState(!1),[p,g]=w.useState(!1),[_,x]=w.useState(!1),S=C=>{const{name:D,value:k}=C.target;r(M=>({...M,[D]:k})),l&&d("")},E=()=>n.displayName.trim()?n.displayName.trim().length<2?(d("Le nom doit contenir au moins 2 caractres."),!1):n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?n.password?n.password.length<6?(d("Le mot de passe doit contenir au moins 6 caractres."),!1):n.password!==n.confirmPassword?(d("Les mots de passe ne correspondent pas."),!1):_?!0:(d("Veuillez accepter les conditions d'utilisation."),!1):(d("Veuillez entrer un mot de passe."),!1):(d("Veuillez entrer une adresse email valide."),!1):(d("Veuillez entrer votre adresse email."),!1):(d("Veuillez entrer votre nom complet."),!1),A=async C=>{if(C.preventDefault(),!!E()){s(!0),d("");try{await t(n),e("/disciplines",{replace:!0})}catch(D){D instanceof Error?d(D.message):d("Une erreur est survenue lors de l'inscription.")}finally{s(!1)}}};return c.jsx("div",{className:"auth-page",children:c.jsxs("div",{className:"auth-container",children:[c.jsxs("div",{className:"auth-card auth-card--register",children:[c.jsxs("div",{className:"auth-header",children:[c.jsxs(Ye,{to:"/",className:"auth-logo",children:[c.jsx("div",{className:"auth-logo__icon",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),c.jsx("span",{children:"PedaClic"})]}),c.jsx("h1",{className:"auth-title",children:"Crer un compte"}),c.jsx("p",{className:"auth-subtitle",children:"Rejoignez PedaClic et commencez  apprendre"})]}),l&&c.jsxs("div",{className:"auth-error",children:[c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("path",{d:"M12 8v4M12 16h.01"})]}),c.jsx("span",{children:l})]}),c.jsxs("form",{onSubmit:A,className:"auth-form",children:[c.jsxs("div",{className:"auth-field",children:[c.jsx("label",{htmlFor:"displayName",className:"auth-label",children:"Nom complet"}),c.jsxs("div",{className:"auth-input-wrapper",children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),c.jsx("input",{type:"text",id:"displayName",name:"displayName",value:n.displayName,onChange:S,placeholder:"Amadou Diallo",className:"auth-input",autoComplete:"name",disabled:i})]})]}),c.jsxs("div",{className:"auth-field",children:[c.jsx("label",{htmlFor:"email",className:"auth-label",children:"Adresse email"}),c.jsxs("div",{className:"auth-input-wrapper",children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),c.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:S,placeholder:"exemple@email.com",className:"auth-input",autoComplete:"email",disabled:i})]})]}),c.jsxs("div",{className:"auth-field",children:[c.jsx("label",{className:"auth-label",children:"Je suis :"}),c.jsxs("div",{className:"auth-role-selector",children:[c.jsxs("label",{className:`auth-role-option ${n.role==="eleve"?"auth-role-option--selected":""}`,children:[c.jsx("input",{type:"radio",name:"role",value:"eleve",checked:n.role==="eleve",onChange:S,className:"auth-role-input",disabled:i}),c.jsxs("div",{className:"auth-role-content",children:[c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l9-5-9-5-9 5 9 5z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"})]}),c.jsx("span",{children:"lve"})]})]}),c.jsxs("label",{className:`auth-role-option ${n.role==="prof"?"auth-role-option--selected":""}`,children:[c.jsx("input",{type:"radio",name:"role",value:"prof",checked:n.role==="prof",onChange:S,className:"auth-role-input",disabled:i}),c.jsxs("div",{className:"auth-role-content",children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),c.jsx("span",{children:"Professeur"})]})]})]})]}),c.jsxs("div",{className:"auth-field",children:[c.jsx("label",{htmlFor:"password",className:"auth-label",children:"Mot de passe"}),c.jsxs("div",{className:"auth-input-wrapper",children:[c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:[c.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",strokeWidth:"2"}),c.jsx("path",{strokeWidth:"2",d:"M7 11V7a5 5 0 0110 0v4"})]}),c.jsx("input",{type:f?"text":"password",id:"password",name:"password",value:n.password,onChange:S,placeholder:"Minimum 6 caractres",className:"auth-input",autoComplete:"new-password",disabled:i}),c.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>m(!f),"aria-label":f?"Masquer":"Afficher",children:f?c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),c.jsx("p",{className:"auth-hint",children:"Au moins 6 caractres avec des lettres et des chiffres"})]}),c.jsxs("div",{className:"auth-field",children:[c.jsx("label",{htmlFor:"confirmPassword",className:"auth-label",children:"Confirmer le mot de passe"}),c.jsxs("div",{className:"auth-input-wrapper",children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),c.jsx("input",{type:p?"text":"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:S,placeholder:"Retapez votre mot de passe",className:"auth-input",autoComplete:"new-password",disabled:i}),c.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>g(!p),"aria-label":p?"Masquer":"Afficher",children:p?c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),c.jsx("div",{className:"auth-checkbox-field",children:c.jsxs("label",{className:"auth-checkbox-label",children:[c.jsx("input",{type:"checkbox",checked:_,onChange:C=>x(C.target.checked),className:"auth-checkbox",disabled:i}),c.jsx("span",{className:"auth-checkbox-custom"}),c.jsxs("span",{children:["J'accepte les"," ",c.jsx(Ye,{to:"/cgu",target:"_blank",className:"auth-link",children:"conditions d'utilisation"})," ","et la"," ",c.jsx(Ye,{to:"/confidentialite",target:"_blank",className:"auth-link",children:"politique de confidentialit"})]})]})}),c.jsx("button",{type:"submit",className:"auth-button",disabled:i,children:i?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"auth-button-spinner"}),"Cration du compte..."]}):"Crer mon compte"})]}),c.jsx("div",{className:"auth-divider",children:c.jsx("span",{children:"ou"})}),c.jsxs("p",{className:"auth-switch",children:["Dj un compte ?"," ",c.jsx(Ye,{to:"/connexion",className:"auth-switch-link",children:"Se connecter"})]})]}),c.jsxs("div",{className:"auth-welcome auth-welcome--register",children:[c.jsx("h2",{children:"Rejoignez la communaut PedaClic"}),c.jsx("p",{children:"Des milliers d'lves et professeurs sngalais nous font dj confiance."}),c.jsxs("div",{className:"auth-stats",children:[c.jsxs("div",{className:"auth-stat",children:[c.jsx("span",{className:"auth-stat-number",children:"10 000+"}),c.jsx("span",{className:"auth-stat-label",children:"lves inscrits"})]}),c.jsxs("div",{className:"auth-stat",children:[c.jsx("span",{className:"auth-stat-number",children:"500+"}),c.jsx("span",{className:"auth-stat-label",children:"Cours disponibles"})]}),c.jsxs("div",{className:"auth-stat",children:[c.jsx("span",{className:"auth-stat-number",children:"95%"}),c.jsx("span",{className:"auth-stat-label",children:"Taux de satisfaction"})]})]}),c.jsxs("div",{className:"auth-testimonial",children:[c.jsx("p",{className:"auth-testimonial-text",children:`"Grce  PedaClic, j'ai amlior mes notes en mathmatiques de 4 points !"`}),c.jsx("p",{className:"auth-testimonial-author",children:" Fatou N., lve de 3me  Dakar"})]})]})]})})},rQ=()=>{const[t,e]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState(!0),[l,d]=w.useState(null),[f,m]=w.useState("tous"),[p,g]=w.useState("");w.useEffect(()=>{(async()=>{try{s(!0);const S=ia(Fr(Xe,"disciplines"),Ps("ordre","asc")),A=(await aa(S)).docs.map(C=>({id:C.id,...C.data()}));e(A),r(A),d(null)}catch(S){console.error("Erreur chargement disciplines:",S),d("Impossible de charger les disciplines. Veuillez ressayer.")}finally{s(!1)}})()},[]),w.useEffect(()=>{let x=t;if(f!=="tous"&&(x=x.filter(S=>S.niveau===f)),p.trim()){const S=p.toLowerCase();x=x.filter(E=>E.nom.toLowerCase().includes(S)||E.description.toLowerCase().includes(S)||E.classe.toLowerCase().includes(S))}r(x)},[t,f,p]);const _={tous:t.length,college:t.filter(x=>x.niveau==="college").length,lycee:t.filter(x=>x.niveau==="lycee").length};return i?c.jsx("div",{style:$e.container,children:c.jsxs("div",{style:$e.loadingContainer,children:[c.jsx("div",{style:$e.spinner}),c.jsx("p",{style:$e.loadingText,children:"Chargement des disciplines..."})]})}):l?c.jsx("div",{style:$e.container,children:c.jsxs("div",{style:$e.errorContainer,children:[c.jsx("span",{style:$e.errorIcon,children:""}),c.jsx("h2",{style:$e.errorTitle,children:"Erreur"}),c.jsx("p",{style:$e.errorText,children:l}),c.jsx("button",{onClick:()=>window.location.reload(),style:$e.retryButton,children:" Ressayer"})]})}):c.jsxs("div",{style:$e.container,children:[c.jsx("header",{style:$e.header,children:c.jsxs("div",{style:$e.headerContent,children:[c.jsx(Ye,{to:"/",style:$e.backLink,children:" Accueil"}),c.jsx("h1",{style:$e.title,children:" Nos Disciplines"}),c.jsx("p",{style:$e.subtitle,children:"Dcouvrez toutes les matires disponibles sur PedaClic, de la 6me  la Terminale."})]})}),c.jsx("div",{style:$e.filtersSection,children:c.jsxs("div",{style:$e.filtersContainer,children:[c.jsxs("div",{style:$e.searchBox,children:[c.jsx("span",{style:$e.searchIcon,children:""}),c.jsx("input",{type:"text",placeholder:"Rechercher une discipline...",value:p,onChange:x=>g(x.target.value),style:$e.searchInput}),p&&c.jsx("button",{onClick:()=>g(""),style:$e.clearSearch,children:""})]}),c.jsxs("div",{style:$e.niveauFilters,children:[c.jsxs("button",{onClick:()=>m("tous"),style:{...$e.filterButton,...f==="tous"?$e.filterButtonActive:{}},children:[" Tous (",_.tous,")"]}),c.jsxs("button",{onClick:()=>m("college"),style:{...$e.filterButton,...f==="college"?$e.filterButtonActive:{}},children:[" Collge (",_.college,")"]}),c.jsxs("button",{onClick:()=>m("lycee"),style:{...$e.filterButton,...f==="lycee"?$e.filterButtonActive:{}},children:[" Lyce (",_.lycee,")"]})]})]})}),c.jsx("main",{style:$e.main,children:n.length===0?c.jsxs("div",{style:$e.emptyState,children:[c.jsx("span",{style:$e.emptyIcon,children:""}),c.jsx("h3",{style:$e.emptyTitle,children:"Aucune discipline trouve"}),c.jsx("p",{style:$e.emptyText,children:"Essayez de modifier vos critres de recherche."}),c.jsx("button",{onClick:()=>{m("tous"),g("")},style:$e.resetButton,children:"Rinitialiser les filtres"})]}):c.jsx("div",{style:$e.grid,children:n.map(x=>c.jsx(iQ,{discipline:x},x.id))})}),c.jsxs("footer",{style:$e.footer,children:[c.jsx("p",{children:" PedaClic - L'cole en un clic"}),c.jsxs("p",{style:$e.footerSubtext,children:[t.length," disciplines disponibles  6me  Terminale"]})]})]})},iQ=({discipline:t})=>{const e=t.niveau==="college"?"Collge":"Lyce",n=t.niveau==="college"?"":"";return c.jsxs(Ye,{to:`/disciplines/${t.id}`,style:$e.card,className:"discipline-card",children:[c.jsx("div",{style:{...$e.cardIcon,backgroundColor:t.couleur||"#2563eb"},children:c.jsx("span",{style:$e.cardEmoji,children:t.icone||""})}),c.jsxs("div",{style:$e.cardContent,children:[c.jsx("h3",{style:$e.cardTitle,children:t.nom}),c.jsxs("div",{style:$e.cardMeta,children:[c.jsxs("span",{style:$e.cardBadge,children:[n," ",e]}),c.jsxs("span",{style:$e.cardBadge,children:[" ",t.classe]}),c.jsxs("span",{style:$e.cardBadge,children:[" Coef. ",t.coefficient]})]}),c.jsx("p",{style:$e.cardDescription,children:t.description})]}),c.jsx("div",{style:$e.cardArrow,children:""})]})},$e={container:{minHeight:"100vh",backgroundColor:"#f3f4f6",fontFamily:"system-ui, -apple-system, sans-serif"},header:{background:"linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%)",color:"white",padding:"2rem 1rem 3rem"},headerContent:{maxWidth:"1200px",margin:"0 auto"},backLink:{color:"rgba(255,255,255,0.8)",textDecoration:"none",fontSize:"0.9rem",display:"inline-block",marginBottom:"1rem"},title:{fontSize:"2.5rem",fontWeight:"700",margin:"0 0 0.5rem 0"},subtitle:{fontSize:"1.1rem",opacity:.9,margin:0,maxWidth:"600px"},filtersSection:{backgroundColor:"white",borderBottom:"1px solid #e5e7eb",padding:"1rem",position:"sticky",top:0,zIndex:10,boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},filtersContainer:{maxWidth:"1200px",margin:"0 auto",display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"center",justifyContent:"space-between"},searchBox:{display:"flex",alignItems:"center",backgroundColor:"#f3f4f6",borderRadius:"8px",padding:"0.5rem 1rem",flex:"1",maxWidth:"400px",minWidth:"200px"},searchIcon:{marginRight:"0.5rem",fontSize:"1rem"},searchInput:{border:"none",background:"transparent",flex:1,fontSize:"1rem",outline:"none"},clearSearch:{background:"none",border:"none",cursor:"pointer",color:"#6b7280",fontSize:"1rem",padding:"0 0.25rem"},niveauFilters:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},filterButton:{padding:"0.5rem 1rem",borderRadius:"20px",border:"1px solid #e5e7eb",backgroundColor:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.2s",color:"#374151"},filterButtonActive:{backgroundColor:"#2563eb",borderColor:"#2563eb",color:"white"},main:{maxWidth:"1200px",margin:"0 auto",padding:"2rem 1rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"1.5rem"},card:{display:"flex",alignItems:"flex-start",gap:"1rem",backgroundColor:"white",borderRadius:"12px",padding:"1.5rem",textDecoration:"none",color:"inherit",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",transition:"all 0.2s ease",border:"1px solid #e5e7eb"},cardIcon:{width:"60px",height:"60px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},cardEmoji:{fontSize:"1.75rem"},cardContent:{flex:1,minWidth:0},cardTitle:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",margin:"0 0 0.5rem 0"},cardMeta:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"0.75rem"},cardBadge:{fontSize:"0.75rem",padding:"0.25rem 0.5rem",backgroundColor:"#f3f4f6",borderRadius:"4px",color:"#6b7280"},cardDescription:{fontSize:"0.9rem",color:"#6b7280",margin:0,lineHeight:"1.5",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},cardArrow:{color:"#9ca3af",fontSize:"1.25rem",alignSelf:"center",transition:"transform 0.2s"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh"},spinner:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTopColor:"#2563eb",borderRadius:"50%",animation:"spin 1s linear infinite"},loadingText:{marginTop:"1rem",color:"#6b7280"},errorContainer:{textAlign:"center",padding:"4rem 2rem"},errorIcon:{fontSize:"4rem"},errorTitle:{color:"#dc2626",margin:"1rem 0 0.5rem"},errorText:{color:"#6b7280",marginBottom:"1.5rem"},retryButton:{padding:"0.75rem 1.5rem",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem"},emptyState:{textAlign:"center",padding:"4rem 2rem",backgroundColor:"white",borderRadius:"12px"},emptyIcon:{fontSize:"4rem"},emptyTitle:{color:"#1f2937",margin:"1rem 0 0.5rem"},emptyText:{color:"#6b7280",marginBottom:"1.5rem"},resetButton:{padding:"0.75rem 1.5rem",backgroundColor:"#f3f4f6",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"8px",cursor:"pointer",fontSize:"1rem"},footer:{textAlign:"center",padding:"2rem",backgroundColor:"#1f2937",color:"white",marginTop:"2rem"},footerSubtext:{fontSize:"0.85rem",opacity:.7,marginTop:"0.5rem"}},aQ=()=>c.jsx("style",{children:`
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .discipline-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 24px rgba(0,0,0,0.15) !important;
      border-color: #2563eb !important;
    }
    
    .discipline-card:hover .card-arrow {
      transform: translateX(4px);
    }
  `}),sQ=()=>c.jsxs(c.Fragment,{children:[c.jsx(aQ,{}),c.jsx(rQ,{})]}),Mz={cours:{icon:"",label:"Cours",color:"#2563eb",bgColor:"#dbeafe"},exercice:{icon:"",label:"Exercice",color:"#059669",bgColor:"#d1fae5"},video:{icon:"",label:"Vido",color:"#dc2626",bgColor:"#fee2e2"},document:{icon:"",label:"Document",color:"#7c3aed",bgColor:"#ede9fe"},quiz:{icon:"",label:"Quiz",color:"#ea580c",bgColor:"#ffedd5"}},oQ=t=>{if(!t||t<=0)return null;if(t<60)return`${t} min`;const e=Math.floor(t/60),n=t%60;return n>0?`${e}h${n.toString().padStart(2,"0")}`:`${e}h`},hO=(t,e)=>t.length<=e?t:t.slice(0,e).trim()+"...",lQ=({resource:t,compact:e=!1,onClick:n,className:r=""})=>{const i=Mz[t.type],s=oQ(t.dureeEstimee),l=d=>{n&&(d.preventDefault(),n(t))};return e?c.jsxs(Ye,{to:`/resources/${t.id}`,className:`resource-card resource-card--compact ${r}`,onClick:l,"aria-label":`${i.label}: ${t.titre}`,children:[c.jsx("span",{className:"resource-card__icon",style:{backgroundColor:i.bgColor},title:i.label,children:i.icon}),c.jsx("span",{className:"resource-card__title",children:hO(t.titre,50)}),c.jsx("span",{className:`resource-card__badge ${t.isPremium?"resource-card__badge--premium":"resource-card__badge--free"}`,children:t.isPremium?"":""})]}):c.jsxs(Ye,{to:`/resources/${t.id}`,className:`resource-card ${r}`,onClick:l,"aria-label":`${i.label}: ${t.titre}`,children:[c.jsxs("div",{className:"resource-card__header",children:[c.jsx("div",{className:"resource-card__type-icon",style:{backgroundColor:i.bgColor},children:i.icon}),c.jsx("span",{className:"resource-card__type-badge",style:{color:i.color,backgroundColor:i.bgColor},children:i.label}),c.jsx("div",{className:"resource-card__spacer"}),c.jsx("span",{className:`resource-card__status ${t.isPremium?"resource-card__status--premium":"resource-card__status--free"}`,children:t.isPremium?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"resource-card__status-icon",children:""}),c.jsx("span",{children:"Premium"})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"resource-card__status-icon",children:""}),c.jsx("span",{children:"Gratuit"})]})})]}),c.jsxs("div",{className:"resource-card__content",children:[c.jsx("h4",{className:"resource-card__title",children:t.titre}),t.description&&c.jsx("p",{className:"resource-card__description",children:hO(t.description,120)})]}),c.jsxs("div",{className:"resource-card__footer",children:[s&&c.jsxs("span",{className:"resource-card__meta",children:[c.jsx("span",{className:"resource-card__meta-icon",children:""}),s]}),t.tags&&t.tags.length>0&&c.jsxs("div",{className:"resource-card__tags",children:[t.tags.slice(0,3).map((d,f)=>c.jsx("span",{className:"resource-card__tag",children:d},f)),t.tags.length>3&&c.jsxs("span",{className:"resource-card__tag resource-card__tag--more",children:["+",t.tags.length-3]})]}),t.fichierURL&&c.jsx("span",{className:"resource-card__file-indicator",title:"Fichier attach",children:""}),c.jsx("span",{className:"resource-card__arrow",children:""})]})]})},cQ=t=>{const e={total:t.length,premium:0,gratuit:0,parType:{cours:0,exercice:0,video:0,document:0,quiz:0}};return t.forEach(n=>{n.isPremium?e.premium++:e.gratuit++,e.parType.hasOwnProperty(n.type)&&e.parType[n.type]++}),e},uQ=t=>{const e={cours:1,exercice:2,video:3,document:4,quiz:5};return[...t].sort((n,r)=>n.ordre!==r.ordre?n.ordre-r.ordre:e[n.type]-e[r.type])},dQ=({chapterName:t,chapterNumber:e,resources:n,isExpanded:r,onToggle:i,className:s=""})=>{const l=w.useMemo(()=>cQ(n),[n]),d=w.useMemo(()=>uQ(n),[n]),f=w.useMemo(()=>["cours","exercice","video","document","quiz"].filter(g=>l.parType[g]>0).map(g=>({type:g,count:l.parType[g],config:Mz[g]})),[l]),m=l.premium>0;return c.jsxs("div",{className:`chapter-card ${r?"chapter-card--expanded":""} ${s}`,children:[c.jsxs("button",{type:"button",className:"chapter-card__header",onClick:i,"aria-expanded":r,"aria-controls":`chapter-content-${e}`,children:[c.jsx("div",{className:"chapter-card__number",children:c.jsx("span",{children:e})}),c.jsxs("div",{className:"chapter-card__info",children:[c.jsx("h3",{className:"chapter-card__title",children:t}),c.jsx("div",{className:"chapter-card__type-summary",children:f.map(({type:p,count:g,config:_})=>c.jsxs("span",{className:"chapter-card__type-count",title:`${g} ${_.label.toLowerCase()}${g>1?"s":""}`,children:[c.jsx("span",{className:"chapter-card__type-icon",children:_.icon}),c.jsx("span",{children:g})]},p))})]}),c.jsxs("div",{className:"chapter-card__badges",children:[c.jsxs("span",{className:"chapter-card__count-badge",children:[l.total," ressource",l.total>1?"s":""]}),m&&c.jsxs("span",{className:"chapter-card__premium-badge",title:`${l.premium} contenu(s) premium`,children:[" ",l.premium]})]}),c.jsx("div",{className:`chapter-card__chevron ${r?"chapter-card__chevron--open":""}`,children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),c.jsxs("div",{id:`chapter-content-${e}`,className:`chapter-card__content ${r?"chapter-card__content--visible":""}`,"aria-hidden":!r,children:[c.jsxs("div",{className:"chapter-card__progress",children:[c.jsx("div",{className:"chapter-card__progress-bar",children:c.jsx("div",{className:"chapter-card__progress-fill",style:{width:"0%"}})}),c.jsxs("span",{className:"chapter-card__progress-text",children:["0/",l.total," termin",l.total>1?"s":""]})]}),c.jsx("div",{className:"chapter-card__resources",children:d.length>0?d.map(p=>c.jsx(lQ,{resource:p,className:"chapter-card__resource"},p.id)):c.jsxs("div",{className:"chapter-card__empty",children:[c.jsx("span",{className:"chapter-card__empty-icon",children:""}),c.jsx("p",{children:"Aucune ressource dans ce chapitre"})]})}),c.jsxs("div",{className:"chapter-card__stats",children:[c.jsxs("div",{className:"chapter-card__stat",children:[c.jsx("span",{className:"chapter-card__stat-value",children:l.total}),c.jsx("span",{className:"chapter-card__stat-label",children:"Total"})]}),c.jsxs("div",{className:"chapter-card__stat",children:[c.jsx("span",{className:"chapter-card__stat-value chapter-card__stat-value--premium",children:l.premium}),c.jsx("span",{className:"chapter-card__stat-label",children:"Premium"})]}),c.jsxs("div",{className:"chapter-card__stat",children:[c.jsx("span",{className:"chapter-card__stat-value chapter-card__stat-value--free",children:l.gratuit}),c.jsx("span",{className:"chapter-card__stat-label",children:"Gratuit"})]})]})]})]})},kb=()=>c.jsx("div",{className:"chapter-card chapter-card--skeleton",children:c.jsxs("div",{className:"chapter-card__header",children:[c.jsx("div",{className:"skeleton skeleton--number"}),c.jsxs("div",{className:"chapter-card__info",children:[c.jsx("div",{className:"skeleton skeleton--title",style:{width:"60%"}}),c.jsx("div",{className:"skeleton skeleton--meta",style:{width:"40%"}})]}),c.jsx("div",{className:"skeleton skeleton--badge",style:{width:"100px"}}),c.jsx("div",{className:"skeleton skeleton--chevron"})]})}),fQ="modulepreload",hQ=function(t){return"/"+t},mO={},rv=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let m=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var l=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");i=m(n.map(p=>{if(p=hQ(p),p in mO)return;mO[p]=!0;const g=p.endsWith(".css"),_=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":fQ,g||(x.as="script"),x.crossOrigin="",x.href=p,f&&x.setAttribute("nonce",f),document.head.appendChild(x),g)return new Promise((S,E)=>{x.addEventListener("load",S),x.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${p}`)))})}))}function s(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return i.then(d=>{for(const f of d||[])f.status==="rejected"&&s(f.reason);return e().catch(s)})},Gl="ressources",mQ="ressources",pO=t=>{const e=t.data();return{id:t.id,disciplineId:e.disciplineId,titre:e.titre,type:e.type,contenu:e.contenu,description:e.description,isPremium:e.isPremium||!1,ordre:e.ordre||0,chapitre:e.chapitre,fichierURL:e.fichierURL,dureeEstimee:e.dureeEstimee,tags:e.tags||[],auteurId:e.auteurId,createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()}},pQ=t=>{const e=Date.now(),n=t.split(".").pop();return`${t.replace(/\.[^/.]+$/,"").replace(/[^a-zA-Z0-9]/g,"_")}_${e}.${n}`},Ro={async getAll(t,e){try{const n=[Ps("ordre","asc")];t?.disciplineId&&n.unshift(Wi("disciplineId","==",t.disciplineId)),t?.chapitreId&&n.unshift(Wi("chapitre","==",t.chapitreId)),t?.type&&n.unshift(Wi("type","==",t.type)),t?.isPremium!==void 0&&n.unshift(Wi("isPremium","==",t.isPremium)),t?.auteurId&&n.unshift(Wi("auteurId","==",t.auteurId)),e&&n.push(ZE(e));const r=ia(Fr(Xe,Gl),...n);return(await aa(r)).docs.map(pO)}catch(n){throw console.error("Erreur lors de la rcupration des ressources:",n),new Error("Impossible de rcuprer les ressources")}},async getById(t){try{const e=Lt(Xe,Gl,t),n=await sl(e);return n.exists()?pO(n):null}catch(e){throw console.error("Erreur lors de la rcupration de la ressource:",e),new Error("Impossible de rcuprer la ressource")}},async getByDiscipline(t){return this.getAll({disciplineId:t})},async getByChapitre(t){return this.getAll({chapitreId:t})},async getByType(t){return this.getAll({type:t})},async getPremium(){return this.getAll({isPremium:!0})},async getFree(){return this.getAll({isPremium:!1})},async create(t,e){try{return(await Ic(Fr(Xe,Gl),{...t,auteurId:e,createdAt:jn(),updatedAt:jn()})).id}catch(n){throw console.error("Erreur lors de la cration de la ressource:",n),new Error("Impossible de crer la ressource")}},async update(t,e){try{const n=Lt(Xe,Gl,t);await Pi(n,{...e,updatedAt:jn()})}catch(n){throw console.error("Erreur lors de la mise  jour de la ressource:",n),new Error("Impossible de mettre  jour la ressource")}},async delete(t){try{const e=await this.getById(t);e?.fichierURL&&await this.deleteFile(e.fichierURL);const n=Lt(Xe,Gl,t);await nm(n)}catch(e){throw console.error("Erreur lors de la suppression de la ressource:",e),new Error("Impossible de supprimer la ressource")}},async deleteByDiscipline(t){try{const e=await this.getByDiscipline(t),n=wh(Xe);for(const r of e){r.fichierURL&&await this.deleteFile(r.fichierURL);const i=Lt(Xe,Gl,r.id);n.delete(i)}await n.commit()}catch(e){throw console.error("Erreur lors de la suppression des ressources:",e),new Error("Impossible de supprimer les ressources")}},async uploadFile(t,e){try{const n=pQ(t.name),r=`${mQ}/${e}/${n}`,i=aO(Y1,r);return await uW(i,t),await dW(i)}catch(n){throw console.error("Erreur lors de l'upload du fichier:",n),new Error("Impossible d'uploader le fichier")}},async deleteFile(t){try{const e=aO(Y1,t);await fW(e)}catch(e){console.warn("Fichier non trouv ou dj supprim:",e)}},async reorder(t,e){try{const n=wh(Xe);e.forEach((r,i)=>{const s=Lt(Xe,Gl,r);n.update(s,{ordre:i+1,updatedAt:jn()})}),await n.commit()}catch(n){throw console.error("Erreur lors de la rorganisation des ressources:",n),new Error("Impossible de rorganiser les ressources")}},async togglePremium(t,e){await this.update(t,{isPremium:e})},async countByType(t){return(await this.getByType(t)).length},async getStats(){try{const t=await this.getAll(),e={total:t.length,premium:t.filter(n=>n.isPremium).length,gratuit:t.filter(n=>!n.isPremium).length,parType:{cours:0,exercice:0,video:0,document:0,quiz:0}};return t.forEach(n=>{e.parType[n.type]!==void 0&&e.parType[n.type]++}),e}catch(t){throw console.error("Erreur lors du calcul des statistiques:",t),new Error("Impossible de calculer les statistiques")}}},gQ=async t=>{const{collection:e,query:n,where:r,getDocs:i,orderBy:s}=await rv(async()=>{const{collection:m,query:p,where:g,getDocs:_,orderBy:x}=await Promise.resolve().then(()=>fz);return{collection:m,query:p,where:g,getDocs:_,orderBy:x}},void 0),{db:l}=await rv(async()=>{const{db:m}=await Promise.resolve().then(()=>Cz);return{db:m}},void 0),d=n(e(l,"ressources"),r("chapitreId","==",t),s("ordre","asc"));return(await i(d)).docs.map(m=>({id:m.id,...m.data()}))},vQ=async t=>{const{collection:e,query:n,where:r,getDocs:i}=await rv(async()=>{const{collection:f,query:m,where:p,getDocs:g}=await Promise.resolve().then(()=>fz);return{collection:f,query:m,where:p,getDocs:g}},void 0),{db:s}=await rv(async()=>{const{db:f}=await Promise.resolve().then(()=>Cz);return{db:f}},void 0),l=n(e(s,"ressources"),r("disciplineId","==",t));return(await i(l)).size},gO=[{value:"all",label:"Tous",icon:""},{value:"cours",label:"Cours",icon:""},{value:"exercice",label:"Exercices",icon:""},{value:"video",label:"Vidos",icon:""},{value:"document",label:"Documents",icon:""},{value:"quiz",label:"Quiz",icon:""}],yQ={college:"Collge",lycee:"Lyce"},_Q={"6eme":"6me","5eme":"5me","4eme":"4me","3eme":"3me","2nde":"Seconde","1ere":"Premire",Terminale:"Terminale"},bQ=()=>{const{id:t}=Tk(),[e,n]=w.useState(null),[r,i]=w.useState(new Map),[s,l]=w.useState(null),[d,f]=w.useState(new Set),[m,p]=w.useState("all"),[g,_]=w.useState(!0),[x,S]=w.useState(null);w.useEffect(()=>{(async()=>{if(!t){S("ID de discipline manquant"),_(!1);return}_(!0),S(null);try{const P=Lt(Xe,"disciplines",t),O=await sl(P);if(!O.exists()){S("Discipline non trouve"),_(!1);return}const I=O.data(),$={id:O.id,nom:I.nom,niveau:I.niveau,classe:I.classe,ordre:I.ordre||0,coefficient:I.coefficient,couleur:I.couleur,icone:I.icone,description:I.description,createdAt:I.createdAt?.toDate()||new Date,updatedAt:I.updatedAt?.toDate()};n($);const q=await gQ(t);if(q.success&&q.data){i(q.data);const B=Array.from(q.data.keys())[0];B&&f(new Set([B]))}const z=await vQ(t);z.success&&z.data&&l(z.data)}catch(P){console.error("Erreur chargement discipline:",P),S("Erreur lors du chargement des donnes")}finally{_(!1)}})()},[t]);const E=w.useMemo(()=>{if(m==="all")return r;const L=new Map;return r.forEach((P,O)=>{const I=P.filter($=>$.type===m);I.length>0&&L.set(O,I)}),L},[r,m]),A=w.useMemo(()=>{const L={all:0};return r.forEach(P=>{L.all+=P.length,P.forEach(O=>{L[O.type]=(L[O.type]||0)+1})}),L},[r]),C=w.useCallback(L=>{f(P=>{const O=new Set(P);return O.has(L)?O.delete(L):O.add(L),O})},[]),D=w.useCallback(()=>{const L=new Set(E.keys());f(L)},[E]),k=w.useCallback(()=>{f(new Set)},[]);if(g)return c.jsxs("div",{className:"discipline-detail",children:[c.jsx("div",{className:"discipline-detail__header discipline-detail__header--skeleton",children:c.jsxs("div",{className:"container",children:[c.jsx("div",{className:"skeleton skeleton--title",style:{width:"200px",height:"40px"}}),c.jsx("div",{className:"skeleton skeleton--text",style:{width:"300px",marginTop:"16px"}})]})}),c.jsx("div",{className:"discipline-detail__filters",children:c.jsx("div",{className:"container",children:c.jsx("div",{className:"discipline-detail__filter-bar",children:[1,2,3,4,5].map(L=>c.jsx("div",{className:"skeleton skeleton--button",style:{width:"100px",height:"40px"}},L))})})}),c.jsx("div",{className:"discipline-detail__content",children:c.jsxs("div",{className:"container",children:[c.jsx(kb,{}),c.jsx(kb,{}),c.jsx(kb,{})]})})]});if(x||!e)return c.jsx("div",{className:"discipline-detail",children:c.jsx("div",{className:"discipline-detail__error",children:c.jsx("div",{className:"container",children:c.jsxs("div",{className:"error-box",children:[c.jsx("span",{className:"error-box__icon",children:""}),c.jsx("h2",{className:"error-box__title",children:x||"Discipline non trouve"}),c.jsx("p",{className:"error-box__message",children:"La discipline demande n'existe pas ou a t supprime."}),c.jsx(Ye,{to:"/disciplines",className:"error-box__link",children:" Retour aux disciplines"})]})})})});const M=Array.from(E.entries()),V=Array.from(r.keys()).length;return c.jsxs("div",{className:"discipline-detail",children:[c.jsx("header",{className:"discipline-detail__header",children:c.jsxs("div",{className:"container",children:[c.jsxs("nav",{className:"discipline-detail__breadcrumb","aria-label":"Fil d'ariane",children:[c.jsx(Ye,{to:"/",children:"Accueil"}),c.jsx("span",{className:"discipline-detail__breadcrumb-separator",children:"/"}),c.jsx(Ye,{to:"/disciplines",children:"Disciplines"}),c.jsx("span",{className:"discipline-detail__breadcrumb-separator",children:"/"}),c.jsx("span",{className:"discipline-detail__breadcrumb-current",children:e.nom})]}),c.jsxs("div",{className:"discipline-detail__title-section",children:[e.icone&&c.jsx("span",{className:"discipline-detail__icon",children:e.icone}),c.jsxs("div",{className:"discipline-detail__title-info",children:[c.jsx("h1",{className:"discipline-detail__title",children:e.nom}),c.jsxs("div",{className:"discipline-detail__meta",children:[c.jsx("span",{className:"discipline-detail__niveau",children:yQ[e.niveau]||e.niveau}),c.jsx("span",{className:"discipline-detail__separator",children:""}),c.jsx("span",{className:"discipline-detail__classe",children:_Q[e.classe]||e.classe}),e.coefficient&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"discipline-detail__separator",children:""}),c.jsxs("span",{className:"discipline-detail__coefficient",children:["Coef. ",e.coefficient]})]})]})]})]}),s&&c.jsxs("div",{className:"discipline-detail__stats",children:[c.jsxs("div",{className:"discipline-detail__stat",children:[c.jsx("span",{className:"discipline-detail__stat-value",children:V}),c.jsxs("span",{className:"discipline-detail__stat-label",children:["Chapitre",V>1?"s":""]})]}),c.jsxs("div",{className:"discipline-detail__stat",children:[c.jsx("span",{className:"discipline-detail__stat-value",children:s.total}),c.jsxs("span",{className:"discipline-detail__stat-label",children:["Ressource",s.total>1?"s":""]})]}),c.jsxs("div",{className:"discipline-detail__stat discipline-detail__stat--free",children:[c.jsx("span",{className:"discipline-detail__stat-value",children:s.gratuit}),c.jsxs("span",{className:"discipline-detail__stat-label",children:["Gratuit",s.gratuit>1?"s":""]})]}),c.jsxs("div",{className:"discipline-detail__stat discipline-detail__stat--premium",children:[c.jsx("span",{className:"discipline-detail__stat-value",children:s.premium}),c.jsx("span",{className:"discipline-detail__stat-label",children:"Premium"})]})]}),e.description&&c.jsx("p",{className:"discipline-detail__description",children:e.description})]})}),c.jsx("section",{className:"discipline-detail__filters",children:c.jsx("div",{className:"container",children:c.jsxs("div",{className:"discipline-detail__filter-bar",children:[c.jsx("div",{className:"discipline-detail__type-filters",children:gO.map(L=>{const P=A[L.value]||0,O=m===L.value,I=L.value!=="all"&&P===0;return c.jsxs("button",{type:"button",className:`discipline-detail__filter-btn ${O?"discipline-detail__filter-btn--active":""}`,onClick:()=>p(L.value),disabled:I,"aria-pressed":O,children:[c.jsx("span",{className:"discipline-detail__filter-icon",children:L.icon}),c.jsx("span",{className:"discipline-detail__filter-label",children:L.label}),c.jsx("span",{className:"discipline-detail__filter-count",children:P})]},L.value)})}),c.jsxs("div",{className:"discipline-detail__chapter-actions",children:[c.jsxs("button",{type:"button",className:"discipline-detail__expand-btn",onClick:D,title:"Tout dplier",children:[c.jsx("span",{children:""})," Tout dplier"]}),c.jsxs("button",{type:"button",className:"discipline-detail__collapse-btn",onClick:k,title:"Tout replier",children:[c.jsx("span",{children:""})," Tout replier"]})]})]})})}),c.jsx("main",{className:"discipline-detail__content",children:c.jsx("div",{className:"container",children:M.length>0?c.jsx("div",{className:"discipline-detail__chapters",children:M.map(([L,P],O)=>c.jsx(dQ,{chapterName:L,chapterNumber:O+1,resources:P,isExpanded:d.has(L),onToggle:()=>C(L)},L))}):c.jsxs("div",{className:"discipline-detail__empty",children:[c.jsx("span",{className:"discipline-detail__empty-icon",children:""}),c.jsx("h3",{className:"discipline-detail__empty-title",children:m==="all"?"Aucune ressource disponible":`Aucun(e) ${gO.find(L=>L.value===m)?.label.toLowerCase()} disponible`}),c.jsx("p",{className:"discipline-detail__empty-message",children:m==="all"?"Cette discipline ne contient pas encore de ressources pdagogiques.":"Essayez de changer de filtre ou revenez plus tard."}),m!=="all"&&c.jsx("button",{type:"button",className:"discipline-detail__reset-filter",onClick:()=>p("all"),children:"Afficher toutes les ressources"})]})})}),s&&s.premium>0&&c.jsx("aside",{className:"discipline-detail__premium-banner",children:c.jsx("div",{className:"container",children:c.jsxs("div",{className:"premium-banner",children:[c.jsxs("div",{className:"premium-banner__content",children:[c.jsx("span",{className:"premium-banner__icon",children:""}),c.jsxs("div",{className:"premium-banner__text",children:[c.jsxs("strong",{children:[s.premium," ressource",s.premium>1?"s":""," Premium"]}),c.jsx("span",{children:"Accdez  tout le contenu pour seulement 2 000 FCFA/mois"})]})]}),c.jsx(Ye,{to:"/premium",className:"premium-banner__cta",children:"Devenir Premium"})]})})})]})},Mb=[{id:"mensuel",nom:"Mensuel",prix:2e3,duree:"1 mois"},{id:"annuel",nom:"Annuel",prix:2e4,prixOriginal:24e3,duree:"12 mois",economie:"4 000 FCFA",popular:!0}],xQ=[{icone:"",titre:"Accs illimit",description:"Tous les cours de la 6me  la Terminale, sans restriction."},{icone:"",titre:"Vidos explicatives",description:"Des cours en vido par des professeurs expriments."},{icone:"",titre:"Exercices corrigs",description:"Des milliers d'exercices avec corrections dtailles."},{icone:"",titre:"Suivi de progression",description:"Tableau de bord personnel pour suivre vos rsultats."},{icone:"",titre:"Quiz interactifs",description:"Testez vos connaissances avec des quiz par matire."},{icone:"",titre:"Support prioritaire",description:"Assistance rapide pour toutes vos questions."},{icone:"",titre:"Accs mobile",description:"Apprenez partout, sur tlphone ou tablette."},{icone:"",titre:"Mises  jour",description:"Nouveaux contenus ajouts rgulirement."}],wQ=[{question:"Comment fonctionne l'abonnement Premium ?",reponse:"Une fois votre paiement effectu via Wave, Orange Money ou carte bancaire, votre compte est instantanment mis  niveau. Vous avez accs  tous les contenus Premium pendant la dure de votre abonnement."},{question:"Puis-je annuler mon abonnement ?",reponse:"Oui, vous pouvez annuler  tout moment depuis votre espace personnel. Vous conservez l'accs Premium jusqu' la fin de la priode paye."},{question:"L'abonnement se renouvelle-t-il automatiquement ?",reponse:"Non, chez PedaClic, il n'y a pas de renouvellement automatique. Vous dcidez quand renouveler votre abonnement."},{question:"Quels moyens de paiement acceptez-vous ?",reponse:"Nous acceptons Wave, Orange Money, Free Money et les cartes bancaires (Visa, Mastercard) via notre partenaire PayTech."},{question:"Puis-je partager mon compte Premium ?",reponse:"Chaque compte Premium est personnel et li  une adresse email. Le partage de compte est interdit pour garantir un suivi de progression personnalis."}],EQ=()=>{const{currentUser:t}=ca(),e=ul(),n=dl(),[r,i]=w.useState("annuel"),[s,l]=w.useState(!1),[d,f]=w.useState(null),[m,p]=w.useState(null);e.state?.from;const g=()=>!t||!t.isPremium?!1:t.subscriptionEnd?(t.subscriptionEnd instanceof Date?t.subscriptionEnd:new Date(t.subscriptionEnd))>new Date:!0,_=async()=>{if(!t){n("/connexion",{state:{from:"/premium"}});return}if(g()){f("Vous tes dj abonn Premium !");return}try{l(!0),f(null);const E=Mb.find(M=>M.id===r);if(!E)throw new Error("Plan invalide");const A=await Ic(Fr(Xe,"transactions"),{userId:t.uid,userEmail:t.email,planType:r,montant:E.prix,devise:"XOF",statut:"pending",dateTransaction:jn(),createdAt:jn()}),C={apiKey:"your_paytech_key",apiSecret:"demo_api_secret",item_name:`PedaClic Premium ${E.nom}`,item_price:E.prix,currency:"XOF",ref_command:A.id,success_url:`${window.location.origin}/premium/success?ref=${A.id}`,cancel_url:`${window.location.origin}/premium/cancel?ref=${A.id}`,ipn_url:"/api/paytech/ipn",custom_field:JSON.stringify({userId:t.uid,planType:r,transactionId:A.id}),env:"test"},k=await(await fetch("https://paytech.sn/api/payment/request-payment",{method:"POST",headers:{"Content-Type":"application/json",API_KEY:C.apiKey,API_SECRET:C.apiSecret},body:JSON.stringify({item_name:C.item_name,item_price:C.item_price,currency:C.currency,ref_command:C.ref_command,command_name:`Abonnement Premium ${E.nom} - ${t.email}`,env:C.env,ipn_url:C.ipn_url,success_url:C.success_url,cancel_url:C.cancel_url,custom_field:C.custom_field})})).json();if(k.success===1&&k.redirect_url)window.location.href=k.redirect_url;else{console.log("Mode dmo PayTech - Simulation de paiement");const M=new Date,V=new Date(M);r==="mensuel"?V.setMonth(V.getMonth()+1):V.setFullYear(V.getFullYear()+1),await Pi(Lt(Xe,"users",t.uid),{isPremium:!0,subscriptionEnd:V,subscriptionPlan:r,updatedAt:jn()}),await Pi(Lt(Xe,"transactions",A.id),{statut:"success",paytechTransactionId:"DEMO_"+Date.now(),dateExpiration:V,updatedAt:jn()}),n("/premium/success",{state:{plan:E.nom,montant:E.prix,expiration:V.toLocaleDateString("fr-FR")}})}}catch(E){console.error("Erreur paiement:",E),f("Une erreur est survenue lors du paiement. Veuillez ressayer.")}finally{l(!1)}},x=E=>{p(m===E?null:E)},S=E=>E.toLocaleString("fr-FR")+" FCFA";if(g()){const E=t?.subscriptionEnd instanceof Date?t.subscriptionEnd:new Date(t?.subscriptionEnd||Date.now());return c.jsx("div",{className:"premium-page",children:c.jsx("div",{className:"container",children:c.jsxs("div",{className:"premium-already",children:[c.jsx("span",{className:"premium-already__icon",children:""}),c.jsx("h1",{children:"Vous tes dj Premium !"}),c.jsxs("p",{children:["Votre abonnement est actif jusqu'au"," ",c.jsx("strong",{children:E.toLocaleDateString("fr-FR")})]}),c.jsxs("div",{className:"premium-already__actions",children:[c.jsx(Ye,{to:"/disciplines",className:"btn btn--primary",children:"Accder aux cours"}),c.jsx(Ye,{to:"/dashboard",className:"btn btn--outline",children:"Mon tableau de bord"})]})]})})})}return c.jsxs("div",{className:"premium-page",children:[c.jsx("section",{className:"premium-hero",children:c.jsxs("div",{className:"container",children:[c.jsx("span",{className:"premium-hero__badge",children:" Premium"}),c.jsxs("h1",{className:"premium-hero__title",children:["Dbloquez tout le potentiel de ",c.jsx("span",{children:"PedaClic"})]}),c.jsx("p",{className:"premium-hero__subtitle",children:"Accdez  tous les cours, exercices corrigs, vidos et quiz de la 6me  la Terminale. Russissez vos examens !"})]})}),c.jsx("section",{className:"premium-pricing",children:c.jsxs("div",{className:"container",children:[c.jsx("h2",{className:"section-title",children:"Choisissez votre formule"}),c.jsx("div",{className:"pricing-cards",children:Mb.map(E=>c.jsxs("div",{className:`pricing-card ${r===E.id?"pricing-card--selected":""} ${E.popular?"pricing-card--popular":""}`,onClick:()=>i(E.id),children:[E.popular&&c.jsx("span",{className:"pricing-card__badge",children:"Le plus populaire"}),c.jsxs("div",{className:"pricing-card__header",children:[c.jsx("h3",{className:"pricing-card__name",children:E.nom}),c.jsx("p",{className:"pricing-card__duration",children:E.duree})]}),c.jsxs("div",{className:"pricing-card__price",children:[E.prixOriginal&&c.jsx("span",{className:"pricing-card__original",children:S(E.prixOriginal)}),c.jsx("span",{className:"pricing-card__amount",children:S(E.prix)}),E.id==="mensuel"&&c.jsx("span",{className:"pricing-card__period",children:"/mois"})]}),E.economie&&c.jsxs("p",{className:"pricing-card__savings",children:["conomisez ",E.economie]}),c.jsx("div",{className:"pricing-card__radio",children:c.jsx("span",{className:`radio-dot ${r===E.id?"radio-dot--active":""}`})})]},E.id))}),c.jsxs("div",{className:"pricing-cta",children:[d&&c.jsxs("div",{className:"pricing-error",children:[c.jsx("span",{children:""})," ",d]}),t?c.jsx("button",{className:"btn btn--premium btn--lg",onClick:_,disabled:s,children:s?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"spinner-sm"}),"Traitement en cours..."]}):c.jsxs(c.Fragment,{children:["Payer ",S(Mb.find(E=>E.id===r)?.prix||0)]})}):c.jsxs("div",{className:"pricing-login",children:[c.jsx("p",{children:"Connectez-vous pour souscrire  Premium"}),c.jsx(Ye,{to:"/connexion",state:{from:"/premium"},className:"btn btn--primary btn--lg",children:"Se connecter"}),c.jsxs("p",{className:"pricing-login__register",children:["Pas encore inscrit ?"," ",c.jsx(Ye,{to:"/inscription",state:{from:"/premium"},children:"Crer un compte"})]})]}),c.jsxs("div",{className:"payment-methods",children:[c.jsx("p",{children:"Paiement scuris par"}),c.jsxs("div",{className:"payment-methods__logos",children:[c.jsx("span",{className:"payment-logo",children:" Orange Money"}),c.jsx("span",{className:"payment-logo",children:" Wave"}),c.jsx("span",{className:"payment-logo",children:" Free Money"}),c.jsx("span",{className:"payment-logo",children:" Carte bancaire"})]})]})]})]})}),c.jsx("section",{className:"premium-features",children:c.jsxs("div",{className:"container",children:[c.jsx("h2",{className:"section-title",children:"Tout ce que vous obtenez"}),c.jsx("p",{className:"section-subtitle",children:"Un accs complet  toutes les ressources pdagogiques"}),c.jsx("div",{className:"features-grid",children:xQ.map((E,A)=>c.jsxs("div",{className:"feature-card",children:[c.jsx("span",{className:"feature-card__icon",children:E.icone}),c.jsx("h3",{className:"feature-card__title",children:E.titre}),c.jsx("p",{className:"feature-card__description",children:E.description})]},A))})]})}),c.jsx("section",{className:"premium-comparison",children:c.jsxs("div",{className:"container",children:[c.jsx("h2",{className:"section-title",children:"Gratuit vs Premium"}),c.jsxs("div",{className:"comparison-table",children:[c.jsxs("div",{className:"comparison-header",children:[c.jsx("div",{className:"comparison-feature",children:"Fonctionnalits"}),c.jsx("div",{className:"comparison-free",children:"Gratuit"}),c.jsx("div",{className:"comparison-premium",children:"Premium"})]}),[{feature:"Cours de base",free:!0,premium:!0},{feature:"Exercices avec corrections",free:!1,premium:!0},{feature:"Vidos explicatives",free:!1,premium:!0},{feature:"Quiz interactifs",free:!1,premium:!0},{feature:"Suivi de progression",free:!1,premium:!0},{feature:"Tlchargement de documents",free:!1,premium:!0},{feature:"Support prioritaire",free:!1,premium:!0},{feature:"Accs mobile optimis",free:!0,premium:!0}].map((E,A)=>c.jsxs("div",{className:"comparison-row",children:[c.jsx("div",{className:"comparison-feature",children:E.feature}),c.jsx("div",{className:"comparison-free",children:E.free?c.jsx("span",{className:"check",children:""}):c.jsx("span",{className:"cross",children:""})}),c.jsx("div",{className:"comparison-premium",children:c.jsx("span",{className:"check check--premium",children:""})})]},A))]})]})}),c.jsx("section",{className:"premium-testimonials",children:c.jsxs("div",{className:"container",children:[c.jsx("h2",{className:"section-title",children:"Ils ont choisi Premium"}),c.jsxs("div",{className:"testimonials-grid",children:[c.jsxs("div",{className:"testimonial-card",children:[c.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),c.jsx("p",{className:"testimonial-card__text",children:`"Grce  PedaClic Premium, j'ai eu 16/20 au BFEM. Les exercices corrigs m'ont beaucoup aid !"`}),c.jsxs("div",{className:"testimonial-card__author",children:[c.jsx("div",{className:"testimonial-card__avatar",children:"AN"}),c.jsxs("div",{children:[c.jsx("p",{className:"testimonial-card__name",children:"Aminata Ndiaye"}),c.jsx("p",{className:"testimonial-card__info",children:"3me - Dakar"})]})]})]}),c.jsxs("div",{className:"testimonial-card",children:[c.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),c.jsx("p",{className:"testimonial-card__text",children:'"Les vidos sont trs bien expliques. Je comprends mieux les maths maintenant. Merci PedaClic !"'}),c.jsxs("div",{className:"testimonial-card__author",children:[c.jsx("div",{className:"testimonial-card__avatar",children:"IF"}),c.jsxs("div",{children:[c.jsx("p",{className:"testimonial-card__name",children:"Ibrahima Fall"}),c.jsx("p",{className:"testimonial-card__info",children:"Terminale S - This"})]})]})]}),c.jsxs("div",{className:"testimonial-card",children:[c.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),c.jsx("p",{className:"testimonial-card__text",children:`"20 000 FCFA pour l'anne, c'est vraiment abordable. Mon fils a accs  tout ce dont il a besoin."`}),c.jsxs("div",{className:"testimonial-card__author",children:[c.jsx("div",{className:"testimonial-card__avatar",children:"FD"}),c.jsxs("div",{children:[c.jsx("p",{className:"testimonial-card__name",children:"Fatou Diop"}),c.jsx("p",{className:"testimonial-card__info",children:"Parent d'lve - Saint-Louis"})]})]})]})]})]})}),c.jsx("section",{className:"premium-faq",children:c.jsxs("div",{className:"container",children:[c.jsx("h2",{className:"section-title",children:"Questions frquentes"}),c.jsx("div",{className:"faq-list",children:wQ.map((E,A)=>c.jsxs("div",{className:`faq-item ${m===A?"faq-item--open":""}`,children:[c.jsxs("button",{className:"faq-item__question",onClick:()=>x(A),"aria-expanded":m===A,children:[c.jsx("span",{children:E.question}),c.jsx("span",{className:"faq-item__icon",children:m===A?"":"+"})]}),m===A&&c.jsx("div",{className:"faq-item__answer",children:c.jsx("p",{children:E.reponse})})]},A))})]})}),c.jsx("section",{className:"premium-cta-final",children:c.jsxs("div",{className:"container",children:[c.jsx("h2",{children:"Prt  russir vos examens ?"}),c.jsx("p",{children:"Rejoignez des milliers d'lves sngalais qui ont choisi PedaClic Premium"}),c.jsx("button",{className:"btn btn--white btn--lg",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"Commencer maintenant"})]})})]})},SQ=[{title:"Principal",items:[{id:"dashboard",label:"Tableau de bord",icon:"",href:"/admin"},{id:"disciplines",label:"Disciplines",icon:"",href:"/admin/disciplines"},{id:"chapitres",label:"Chapitres",icon:"",href:"/admin/chapitres"},{id:"ressources",label:"Ressources",icon:"",href:"/admin/ressources"}]},{title:"valuation",items:[{id:"quiz",label:"Quiz",icon:"",href:"/admin/quiz"},{id:"resultats",label:"Rsultats",icon:"",href:"/admin/resultats"}]},{title:"Utilisateurs",items:[{id:"utilisateurs",label:"Tous les utilisateurs",icon:"",href:"/admin/utilisateurs"},{id:"premium",label:"Abonns Premium",icon:"",href:"/admin/premium"}]},{title:"Paramtres",items:[{id:"settings",label:"Configuration",icon:"",href:"/admin/settings"}]}],Cu=({children:t,currentPage:e="dashboard"})=>{const{currentUser:n,logout:r}=ca(),[i,s]=w.useState(!0),[l,d]=w.useState(!1),f=async()=>{try{d(!0),await r(),window.location.href="/connexion"}catch(g){console.error("Erreur lors de la dconnexion:",g),d(!1)}},m=()=>n?.displayName?n.displayName.split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2):"AD",p=()=>{switch(n?.role){case"admin":return"Administrateur";case"prof":return"Professeur";case"eleve":return"lve";default:return"Utilisateur"}};return c.jsxs("div",{className:"admin-layout",children:[c.jsxs("aside",{className:`admin-sidebar ${i?"":"admin-sidebar--collapsed"}`,children:[c.jsx("header",{className:"admin-sidebar__header",children:c.jsxs("a",{href:"/",className:"admin-sidebar__logo",children:[c.jsx("div",{className:"admin-sidebar__logo-icon",children:""}),c.jsx("span",{children:"PedaClic"})]})}),c.jsx("nav",{className:"admin-sidebar__nav",children:SQ.map((g,_)=>c.jsxs("div",{className:"admin-nav__section",children:[c.jsx("h3",{className:"admin-nav__title",children:g.title}),c.jsx("ul",{className:"admin-nav__list",children:g.items.map(x=>c.jsx("li",{className:"admin-nav__item",children:c.jsxs("a",{href:x.href,className:`admin-nav__link ${e===x.id?"admin-nav__link--active":""}`,children:[c.jsx("span",{className:"admin-nav__icon",children:x.icon}),c.jsx("span",{className:"admin-nav__label",children:x.label})]})},x.id))})]},_))}),c.jsx("footer",{className:"admin-sidebar__footer",children:c.jsxs("div",{className:"admin-user",children:[c.jsx("div",{className:"admin-user__avatar",children:m()}),c.jsxs("div",{className:"admin-user__info",children:[c.jsx("div",{className:"admin-user__name",children:n?.displayName||"Administrateur"}),c.jsx("div",{className:"admin-user__role",children:p()})]}),c.jsx("button",{onClick:f,disabled:l,className:"admin-logout-btn",title:"Se dconnecter",children:l?"...":""})]})})]}),c.jsxs("main",{className:"admin-content",children:[c.jsx("button",{className:"admin-sidebar-toggle",onClick:()=>s(!i),"aria-label":"Toggle sidebar",children:""}),t]}),c.jsx("style",{children:`
        /* Bouton de dconnexion */
        .admin-logout-btn {
          width: 36px;
          height: 36px;
          border: none;
          background: rgba(255, 255, 255, 0.1);
          color: white;
          border-radius: var(--radius-md);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all var(--transition-base);
          font-size: var(--text-lg);
        }

        .admin-logout-btn:hover {
          background: rgba(255, 255, 255, 0.2);
        }

        .admin-logout-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        /* Bouton toggle sidebar (mobile) */
        .admin-sidebar-toggle {
          display: none;
          position: fixed;
          top: var(--spacing-md);
          left: var(--spacing-md);
          z-index: var(--z-fixed);
          width: 44px;
          height: 44px;
          border: none;
          background: var(--color-primary);
          color: white;
          border-radius: var(--radius-md);
          cursor: pointer;
          font-size: var(--text-xl);
        }

        @media (max-width: 768px) {
          .admin-sidebar-toggle {
            display: flex;
            align-items: center;
            justify-content: center;
          }

          .admin-sidebar {
            transform: translateX(-100%);
            transition: transform var(--transition-base);
          }

          .admin-sidebar:not(.admin-sidebar--collapsed) {
            transform: translateX(0);
          }

          .admin-content {
            padding-top: calc(var(--spacing-xl) + 44px);
          }
        }

        /* Animation de la sidebar */
        .admin-sidebar--collapsed {
          width: 80px;
        }

        .admin-sidebar--collapsed .admin-nav__label,
        .admin-sidebar--collapsed .admin-nav__title,
        .admin-sidebar--collapsed .admin-sidebar__logo span,
        .admin-sidebar--collapsed .admin-user__info {
          display: none;
        }

        .admin-sidebar--collapsed .admin-sidebar__logo {
          justify-content: center;
        }
      `})]})},kf="disciplines",vO=t=>{const e=t.data();return{id:t.id,nom:e.nom,niveau:e.niveau,classe:e.classe,ordre:e.ordre,coefficient:e.coefficient,couleur:e.couleur,icone:e.icone,description:e.description,createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()}},_s={async getAll(t){try{const e=[Ps("ordre","asc")];t?.niveau&&e.unshift(Wi("niveau","==",t.niveau)),t?.classe&&e.unshift(Wi("classe","==",t.classe));const n=ia(Fr(Xe,kf),...e);return(await aa(n)).docs.map(vO)}catch(e){throw console.error("Erreur lors de la rcupration des disciplines:",e),new Error("Impossible de rcuprer les disciplines")}},async getById(t){try{const e=Lt(Xe,kf,t),n=await sl(e);return n.exists()?vO(n):null}catch(e){throw console.error("Erreur lors de la rcupration de la discipline:",e),new Error("Impossible de rcuprer la discipline")}},async getByNiveau(t){return this.getAll({niveau:t})},async getByClasse(t){return this.getAll({classe:t})},async create(t){try{return(await Ic(Fr(Xe,kf),{...t,createdAt:jn(),updatedAt:jn()})).id}catch(e){throw console.error("Erreur lors de la cration de la discipline:",e),new Error("Impossible de crer la discipline")}},async update(t,e){try{const n=Lt(Xe,kf,t);await Pi(n,{...e,updatedAt:jn()})}catch(n){throw console.error("Erreur lors de la mise  jour de la discipline:",n),new Error("Impossible de mettre  jour la discipline")}},async delete(t){try{const e=Lt(Xe,kf,t);await nm(e)}catch(e){throw console.error("Erreur lors de la suppression de la discipline:",e),new Error("Impossible de supprimer la discipline")}},async exists(t){return await this.getById(t)!==null},async countByNiveau(t){return(await this.getByNiveau(t)).length}},Io="chapitres",zb=t=>{const e=t.data();return{id:t.id,disciplineId:e.disciplineId,numero:e.numero,titre:e.titre,description:e.description,objectifs:e.objectifs||[],dureeEstimee:e.dureeEstimee,isPremium:e.isPremium||!1,actif:e.actif!==!1,createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()}},Do={async getByDiscipline(t){try{const e=ia(Fr(Xe,Io),Wi("disciplineId","==",t),Ps("numero","asc"));return(await aa(e)).docs.map(zb)}catch(e){throw console.error("Erreur lors de la rcupration des chapitres:",e),new Error("Impossible de rcuprer les chapitres")}},async getAll(){try{const t=ia(Fr(Xe,Io),Ps("numero","asc"));return(await aa(t)).docs.map(zb)}catch(t){throw console.error("Erreur lors de la rcupration des chapitres:",t),new Error("Impossible de rcuprer les chapitres")}},async getById(t){try{const e=Lt(Xe,Io,t),n=await sl(e);return n.exists()?zb(n):null}catch(e){throw console.error("Erreur lors de la rcupration du chapitre:",e),new Error("Impossible de rcuprer le chapitre")}},async create(t){try{return(await Ic(Fr(Xe,Io),{...t,actif:t.actif!==!1,createdAt:jn(),updatedAt:jn()})).id}catch(e){throw console.error("Erreur lors de la cration du chapitre:",e),new Error("Impossible de crer le chapitre")}},async update(t,e){try{const n=Lt(Xe,Io,t);await Pi(n,{...e,updatedAt:jn()})}catch(n){throw console.error("Erreur lors de la mise  jour du chapitre:",n),new Error("Impossible de mettre  jour le chapitre")}},async delete(t){try{const e=Lt(Xe,Io,t);await nm(e)}catch(e){throw console.error("Erreur lors de la suppression du chapitre:",e),new Error("Impossible de supprimer le chapitre")}},async deleteByDiscipline(t){try{const e=await this.getByDiscipline(t),n=wh(Xe);e.forEach(r=>{const i=Lt(Xe,Io,r.id);n.delete(i)}),await n.commit()}catch(e){throw console.error("Erreur lors de la suppression des chapitres:",e),new Error("Impossible de supprimer les chapitres")}},async reorder(t,e){try{const n=wh(Xe);e.forEach((r,i)=>{const s=Lt(Xe,Io,r);n.update(s,{numero:i+1,updatedAt:jn()})}),await n.commit()}catch(n){throw console.error("Erreur lors de la rorganisation des chapitres:",n),new Error("Impossible de rorganiser les chapitres")}},async toggleActive(t,e){await this.update(t,{actif:e})},async countByDiscipline(t){return(await this.getByDiscipline(t)).length},async getNextNumero(t){return await this.countByDiscipline(t)+1}},AQ=()=>{const{currentUser:t}=ca(),[e,n]=w.useState({totalDisciplines:0,totalChapitres:0,totalRessources:0,ressourcesPremium:0,ressourcesGratuites:0,ressourcesParType:{cours:0,exercice:0,video:0,document:0,quiz:0}}),[r,i]=w.useState(!0),[s,l]=w.useState(null);return w.useEffect(()=>{(async()=>{try{i(!0),l(null);const[f,m,p]=await Promise.all([_s.getAll(),Do.getAll(),Ro.getStats()]);n({totalDisciplines:f.length,totalChapitres:m.length,totalRessources:p.total,ressourcesPremium:p.premium,ressourcesGratuites:p.gratuit,ressourcesParType:p.parType})}catch(f){console.error("Erreur lors du chargement des statistiques:",f),l("Impossible de charger les statistiques")}finally{i(!1)}})()},[]),c.jsxs("div",{className:"admin-dashboard",children:[c.jsx("header",{className:"admin-page-header",children:c.jsxs("div",{className:"admin-page-header__info",children:[c.jsx("h1",{className:"admin-page-header__title",children:"Tableau de bord"}),c.jsxs("p",{className:"admin-page-header__subtitle",children:["Bienvenue, ",t?.displayName||"Administrateur"," ! Grez votre contenu pdagogique depuis cette interface."]})]})}),s&&c.jsxs("div",{className:"alert alert--error",children:[c.jsx("span",{className:"alert__icon",children:""}),c.jsx("div",{className:"alert__content",children:c.jsx("p",{className:"alert__message",children:s})})]}),r?c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Chargement des statistiques..."})]}):c.jsxs(c.Fragment,{children:[c.jsxs("section",{className:"stats-grid",children:[c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-card__icon stat-card__icon--primary",children:""}),c.jsxs("div",{className:"stat-card__content",children:[c.jsx("div",{className:"stat-card__value",children:e.totalDisciplines}),c.jsx("div",{className:"stat-card__label",children:"Disciplines"})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-card__icon stat-card__icon--secondary",children:""}),c.jsxs("div",{className:"stat-card__content",children:[c.jsx("div",{className:"stat-card__value",children:e.totalChapitres}),c.jsx("div",{className:"stat-card__label",children:"Chapitres"})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-card__icon stat-card__icon--info",children:""}),c.jsxs("div",{className:"stat-card__content",children:[c.jsx("div",{className:"stat-card__value",children:e.totalRessources}),c.jsx("div",{className:"stat-card__label",children:"Ressources"})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-card__icon stat-card__icon--warning",children:""}),c.jsxs("div",{className:"stat-card__content",children:[c.jsx("div",{className:"stat-card__value",children:e.ressourcesPremium}),c.jsx("div",{className:"stat-card__label",children:"Ressources Premium"})]})]})]}),c.jsxs("section",{className:"content-card",children:[c.jsx("div",{className:"content-card__header",children:c.jsx("h2",{children:"Rpartition des ressources par type"})}),c.jsx("div",{className:"content-card__body",children:c.jsxs("div",{className:"resource-type-grid",children:[c.jsxs("div",{className:"resource-type-item",children:[c.jsx("div",{className:"resource-item__icon resource-item__icon--cours",children:""}),c.jsxs("div",{className:"resource-type-info",children:[c.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.cours}),c.jsx("span",{className:"resource-type-label",children:"Cours"})]})]}),c.jsxs("div",{className:"resource-type-item",children:[c.jsx("div",{className:"resource-item__icon resource-item__icon--exercice",children:""}),c.jsxs("div",{className:"resource-type-info",children:[c.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.exercice}),c.jsx("span",{className:"resource-type-label",children:"Exercices"})]})]}),c.jsxs("div",{className:"resource-type-item",children:[c.jsx("div",{className:"resource-item__icon resource-item__icon--video",children:""}),c.jsxs("div",{className:"resource-type-info",children:[c.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.video}),c.jsx("span",{className:"resource-type-label",children:"Vidos"})]})]}),c.jsxs("div",{className:"resource-type-item",children:[c.jsx("div",{className:"resource-item__icon resource-item__icon--document",children:""}),c.jsxs("div",{className:"resource-type-info",children:[c.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.document}),c.jsx("span",{className:"resource-type-label",children:"Documents"})]})]}),c.jsxs("div",{className:"resource-type-item",children:[c.jsx("div",{className:"resource-item__icon resource-item__icon--quiz",children:""}),c.jsxs("div",{className:"resource-type-info",children:[c.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.quiz}),c.jsx("span",{className:"resource-type-label",children:"Quiz"})]})]})]})})]}),c.jsxs("section",{className:"content-card",style:{marginTop:"var(--spacing-xl)"},children:[c.jsx("div",{className:"content-card__header",children:c.jsx("h2",{children:"Actions rapides"})}),c.jsx("div",{className:"content-card__body",children:c.jsxs("div",{className:"quick-actions-grid",children:[c.jsxs("a",{href:"/admin/disciplines",className:"quick-action-card",children:[c.jsx("div",{className:"quick-action-icon",children:""}),c.jsxs("div",{className:"quick-action-content",children:[c.jsx("h3",{children:"Grer les disciplines"}),c.jsx("p",{children:"Ajouter, modifier ou supprimer des matires"})]})]}),c.jsxs("a",{href:"/admin/chapitres",className:"quick-action-card",children:[c.jsx("div",{className:"quick-action-icon",children:""}),c.jsxs("div",{className:"quick-action-content",children:[c.jsx("h3",{children:"Grer les chapitres"}),c.jsx("p",{children:"Organiser le contenu par chapitres"})]})]}),c.jsxs("a",{href:"/admin/ressources",className:"quick-action-card",children:[c.jsx("div",{className:"quick-action-icon",children:""}),c.jsxs("div",{className:"quick-action-content",children:[c.jsx("h3",{children:"Grer les ressources"}),c.jsx("p",{children:"Cours, exercices, vidos et documents"})]})]}),c.jsxs("a",{href:"/admin/utilisateurs",className:"quick-action-card",children:[c.jsx("div",{className:"quick-action-icon",children:""}),c.jsxs("div",{className:"quick-action-content",children:[c.jsx("h3",{children:"Grer les utilisateurs"}),c.jsx("p",{children:"lves, professeurs et administrateurs"})]})]})]})})]})]}),c.jsx("style",{children:`
        /* Grille des types de ressources */
        .resource-type-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
          gap: var(--spacing-lg);
        }

        .resource-type-item {
          display: flex;
          align-items: center;
          gap: var(--spacing-md);
          padding: var(--spacing-md);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-lg);
        }

        .resource-type-info {
          display: flex;
          flex-direction: column;
        }

        .resource-type-value {
          font-size: var(--text-2xl);
          font-weight: var(--font-bold);
          color: var(--color-text);
        }

        .resource-type-label {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        /* Actions rapides */
        .quick-actions-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
          gap: var(--spacing-lg);
        }

        .quick-action-card {
          display: flex;
          align-items: flex-start;
          gap: var(--spacing-lg);
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          text-decoration: none;
          color: inherit;
          transition: all var(--transition-base);
        }

        .quick-action-card:hover {
          border-color: var(--color-primary);
          box-shadow: var(--shadow-md);
          transform: translateY(-2px);
        }

        .quick-action-icon {
          font-size: 2rem;
          line-height: 1;
        }

        .quick-action-content h3 {
          font-size: var(--text-base);
          font-weight: var(--font-semibold);
          margin-bottom: var(--spacing-xs);
          color: var(--color-text);
        }

        .quick-action-content p {
          font-size: var(--text-sm);
          color: var(--color-text-light);
          margin: 0;
        }

        @media (max-width: 768px) {
          .resource-type-grid,
          .quick-actions-grid {
            grid-template-columns: 1fr;
          }
        }
      `})]})},yO=[{value:"college",label:"Collge"},{value:"lycee",label:"Lyce"}],Zp={college:[{value:"6eme",label:"6me"},{value:"5eme",label:"5me"},{value:"4eme",label:"4me"},{value:"3eme",label:"3me"}],lycee:[{value:"2nde",label:"Seconde"},{value:"1ere",label:"Premire"},{value:"Terminale",label:"Terminale"}]},TQ=[{value:"#2563eb",label:"Bleu"},{value:"#059669",label:"Vert"},{value:"#dc2626",label:"Rouge"},{value:"#7c3aed",label:"Violet"},{value:"#ea580c",label:"Orange"},{value:"#0891b2",label:"Cyan"},{value:"#be185d",label:"Rose"},{value:"#4b5563",label:"Gris"}],Lb={nom:"",niveau:"college",classe:"6eme",ordre:1,coefficient:1,couleur:"#2563eb",icone:"",description:""},jQ=()=>{const[t,e]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState(!0),[l,d]=w.useState(!1),[f,m]=w.useState(null),[p,g]=w.useState(null),[_,x]=w.useState(null),[S,E]=w.useState(!1),[A,C]=w.useState(!1),[D,k]=w.useState(null),[M,V]=w.useState(null),[L,P]=w.useState(Lb),[O,I]=w.useState({}),[$,q]=w.useState(""),[z,B]=w.useState(""),[be,Se]=w.useState(""),W=w.useCallback(async()=>{try{s(!0),g(null);const K=await _s.getAll();e(K),r(K)}catch(K){console.error("Erreur lors du chargement:",K),g("Impossible de charger les disciplines. Veuillez ressayer.")}finally{s(!1)}},[]);w.useEffect(()=>{W()},[W]),w.useEffect(()=>{let K=[...t];if($&&(K=K.filter(ye=>ye.niveau===$)),z&&(K=K.filter(ye=>ye.classe===z)),be){const ye=be.toLowerCase();K=K.filter(Le=>Le.nom.toLowerCase().includes(ye)||Le.description?.toLowerCase().includes(ye))}r(K)},[t,$,z,be]);const le=()=>{const K={};return L.nom.trim()?L.nom.length<2&&(K.nom="Le nom doit contenir au moins 2 caractres"):K.nom="Le nom de la discipline est requis",L.niveau||(K.niveau="Veuillez slectionner un niveau"),L.classe||(K.classe="Veuillez slectionner une classe"),L.ordre<1&&(K.ordre="L'ordre doit tre suprieur  0"),I(K),Object.keys(K).length===0},ve=()=>{k(null),P(Lb),I({}),E(!0)},xe=K=>{k(K),P({nom:K.nom,niveau:K.niveau,classe:K.classe,ordre:K.ordre,coefficient:K.coefficient,couleur:K.couleur,icone:K.icone,description:K.description}),I({}),E(!0)},we=K=>{V(K),C(!0)},F=()=>{E(!1),C(!1),k(null),V(null),P(Lb),I({})},ne=K=>{const{name:ye,value:Le,type:ie}=K.target;if(ye==="niveau"){const Te=Le;P(Y=>({...Y,niveau:Te,classe:Zp[Te][0].value}))}else P(Te=>({...Te,[ye]:ie==="number"?Number(Le):Le}));O[ye]&&I(Te=>({...Te,[ye]:void 0}))},pe=async K=>{if(K.preventDefault(),!!le())try{d(!0),g(null),D?(await _s.update(D.id,L),x("Discipline modifie avec succs !")):(await _s.create(L),x("Discipline cre avec succs !")),F(),await W(),setTimeout(()=>x(null),3e3)}catch(ye){console.error("Erreur lors de la sauvegarde:",ye),g("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{d(!1)}},_e=async()=>{if(M)try{m(M.id),await _s.delete(M.id),x("Discipline supprime avec succs !"),F(),await W(),setTimeout(()=>x(null),3e3)}catch(K){console.error("Erreur lors de la suppression:",K),g("Erreur lors de la suppression. Veuillez ressayer.")}finally{m(null)}},Q=K=>{for(const ye of Object.values(Zp)){const Le=ye.find(ie=>ie.value===K);if(Le)return Le.label}return K};return c.jsxs("div",{className:"discipline-manager",children:[c.jsxs("header",{className:"admin-page-header",children:[c.jsxs("div",{className:"admin-page-header__info",children:[c.jsx("h1",{className:"admin-page-header__title",children:"Gestion des Disciplines"}),c.jsx("p",{className:"admin-page-header__subtitle",children:"Grez les matires enseignes sur PedaClic"})]}),c.jsx("div",{className:"admin-page-header__actions",children:c.jsxs("button",{onClick:ve,className:"btn btn--primary",children:[c.jsx("span",{children:""}),"Nouvelle discipline"]})})]}),p&&c.jsxs("div",{className:"alert alert--error",children:[c.jsx("span",{className:"alert__icon",children:""}),c.jsx("div",{className:"alert__content",children:c.jsx("p",{className:"alert__message",children:p})}),c.jsx("button",{onClick:()=>g(null),className:"alert__close",children:""})]}),_&&c.jsxs("div",{className:"alert alert--success",children:[c.jsx("span",{className:"alert__icon",children:""}),c.jsx("div",{className:"alert__content",children:c.jsx("p",{className:"alert__message",children:_})})]}),c.jsxs("div",{className:"admin-table-container",children:[c.jsxs("div",{className:"admin-table-header",children:[c.jsxs("h2",{className:"admin-table-title",children:["Liste des disciplines (",n.length,")"]}),c.jsxs("div",{className:"admin-table-actions",children:[c.jsxs("div",{className:"search-input",children:[c.jsx("span",{className:"search-input__icon",children:""}),c.jsx("input",{type:"text",className:"search-input__field",placeholder:"Rechercher...",value:be,onChange:K=>Se(K.target.value)})]}),c.jsxs("select",{className:"form-select",value:$,onChange:K=>q(K.target.value),style:{width:"auto"},children:[c.jsx("option",{value:"",children:"Tous les niveaux"}),yO.map(K=>c.jsx("option",{value:K.value,children:K.label},K.value))]}),c.jsxs("select",{className:"form-select",value:z,onChange:K=>B(K.target.value),style:{width:"auto"},disabled:!$,children:[c.jsx("option",{value:"",children:"Toutes les classes"}),$&&Zp[$].map(K=>c.jsx("option",{value:K.value,children:K.label},K.value))]})]})]}),i?c.jsxs("div",{className:"loading-container",style:{padding:"var(--spacing-2xl)"},children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Chargement des disciplines..."})]}):n.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-state__icon",children:""}),c.jsx("h3",{className:"empty-state__title",children:"Aucune discipline trouve"}),c.jsx("p",{className:"empty-state__message",children:be||$||z?"Aucune discipline ne correspond aux critres de recherche.":"Commencez par crer votre premire discipline."}),!be&&!$&&!z&&c.jsx("button",{onClick:ve,className:"btn btn--primary",children:"Crer une discipline"})]}):c.jsxs("table",{className:"admin-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Discipline"}),c.jsx("th",{children:"Niveau"}),c.jsx("th",{children:"Classe"}),c.jsx("th",{children:"Coefficient"}),c.jsx("th",{children:"Ordre"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:n.map(K=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsxs("div",{className:"table-cell-icon",children:[c.jsx("div",{className:"table-icon",style:{backgroundColor:`${K.couleur}20`,color:K.couleur},children:K.icone||""}),c.jsxs("div",{children:[c.jsx("strong",{children:K.nom}),K.description&&c.jsx("div",{className:"text-muted text-sm",children:K.description})]})]})}),c.jsx("td",{children:c.jsx("span",{className:`badge badge--${K.niveau==="college"?"primary":"secondary"}`,children:K.niveau==="college"?"Collge":"Lyce"})}),c.jsx("td",{children:Q(K.classe)}),c.jsx("td",{children:K.coefficient||"-"}),c.jsx("td",{children:K.ordre}),c.jsx("td",{children:c.jsxs("div",{className:"table-actions",children:[c.jsx("button",{onClick:()=>xe(K),className:"table-action-btn table-action-btn--edit",title:"Modifier",children:""}),c.jsx("button",{onClick:()=>we(K),className:"table-action-btn table-action-btn--delete",title:"Supprimer",disabled:f===K.id,children:f===K.id?"":""})]})})]},K.id))})]})]}),S&&c.jsx("div",{className:"modal-overlay",onClick:F,children:c.jsxs("div",{className:"modal modal--lg",onClick:K=>K.stopPropagation(),children:[c.jsxs("div",{className:"modal__header",children:[c.jsx("h2",{className:"modal__title",children:D?"Modifier la discipline":"Nouvelle discipline"}),c.jsx("button",{onClick:F,className:"modal__close",children:""})]}),c.jsxs("form",{onSubmit:pe,children:[c.jsxs("div",{className:"modal__body",children:[c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",style:{flex:2},children:[c.jsx("label",{className:"form-label form-label--required",children:"Nom de la discipline"}),c.jsx("input",{type:"text",name:"nom",className:`form-input ${O.nom?"form-input--error":""}`,placeholder:"Ex: Mathmatiques, Franais, SVT...",value:L.nom,onChange:ne}),O.nom&&c.jsx("span",{className:"form-error",children:O.nom})]}),c.jsxs("div",{className:"form-group",style:{flex:1},children:[c.jsx("label",{className:"form-label",children:"Icne"}),c.jsx("input",{type:"text",name:"icone",className:"form-input",placeholder:"",value:L.icone||"",onChange:ne,maxLength:4}),c.jsx("span",{className:"form-helper",children:"Emoji uniquement"})]})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label form-label--required",children:"Niveau"}),c.jsx("select",{name:"niveau",className:`form-select ${O.niveau?"form-select--error":""}`,value:L.niveau,onChange:ne,children:yO.map(K=>c.jsx("option",{value:K.value,children:K.label},K.value))}),O.niveau&&c.jsx("span",{className:"form-error",children:O.niveau})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label form-label--required",children:"Classe"}),c.jsx("select",{name:"classe",className:`form-select ${O.classe?"form-select--error":""}`,value:L.classe,onChange:ne,children:Zp[L.niveau].map(K=>c.jsx("option",{value:K.value,children:K.label},K.value))}),O.classe&&c.jsx("span",{className:"form-error",children:O.classe})]})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Coefficient"}),c.jsx("input",{type:"number",name:"coefficient",className:"form-input",min:"1",max:"10",value:L.coefficient||1,onChange:ne}),c.jsx("span",{className:"form-helper",children:"Pour les calculs de moyennes"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label form-label--required",children:"Ordre d'affichage"}),c.jsx("input",{type:"number",name:"ordre",className:`form-input ${O.ordre?"form-input--error":""}`,min:"1",value:L.ordre,onChange:ne}),O.ordre&&c.jsx("span",{className:"form-error",children:O.ordre})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Couleur"}),c.jsx("div",{className:"color-picker",children:TQ.map(K=>c.jsx("button",{type:"button",className:`color-option ${L.couleur===K.value?"color-option--active":""}`,style:{backgroundColor:K.value},onClick:()=>P(ye=>({...ye,couleur:K.value})),title:K.label,children:L.couleur===K.value&&""},K.value))})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Description (optionnel)"}),c.jsx("textarea",{name:"description",className:"form-textarea",placeholder:"Description courte de la discipline...",rows:3,value:L.description||"",onChange:ne})]})]}),c.jsxs("div",{className:"modal__footer",children:[c.jsx("button",{type:"button",onClick:F,className:"btn btn--outline",disabled:l,children:"Annuler"}),c.jsx("button",{type:"submit",className:"btn btn--primary",disabled:l,children:l?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"spinner-small"}),"Enregistrement..."]}):D?"Mettre  jour":"Crer la discipline"})]})]})]})}),A&&M&&c.jsx("div",{className:"modal-overlay",onClick:F,children:c.jsxs("div",{className:"modal",onClick:K=>K.stopPropagation(),children:[c.jsxs("div",{className:"modal__header",children:[c.jsx("h2",{className:"modal__title",children:"Confirmer la suppression"}),c.jsx("button",{onClick:F,className:"modal__close",children:""})]}),c.jsxs("div",{className:"modal__body",children:[c.jsxs("p",{children:["tes-vous sr de vouloir supprimer la discipline",c.jsxs("strong",{children:[" ",M.nom]})," ?"]}),c.jsxs("div",{className:"alert alert--warning",style:{marginTop:"var(--spacing-md)"},children:[c.jsx("span",{className:"alert__icon",children:""}),c.jsx("div",{className:"alert__content",children:c.jsx("p",{className:"alert__message",children:"Cette action est irrversible. Tous les chapitres et ressources associs devront tre supprims manuellement."})})]})]}),c.jsxs("div",{className:"modal__footer",children:[c.jsx("button",{onClick:F,className:"btn btn--outline",disabled:f!==null,children:"Annuler"}),c.jsx("button",{onClick:_e,className:"btn btn--danger",disabled:f!==null,children:f?"Suppression...":"Supprimer"})]})]})}),c.jsx("style",{children:`
        /* Ligne de formulaire */
        .form-row {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: var(--spacing-lg);
        }

        @media (max-width: 600px) {
          .form-row {
            grid-template-columns: 1fr;
          }
        }

        /* Slecteur de couleur */
        .color-picker {
          display: flex;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
        }

        .color-option {
          width: 36px;
          height: 36px;
          border: 2px solid transparent;
          border-radius: var(--radius-md);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-weight: bold;
          transition: all var(--transition-base);
        }

        .color-option:hover {
          transform: scale(1.1);
        }

        .color-option--active {
          border-color: var(--color-text);
          box-shadow: 0 0 0 2px white, 0 0 0 4px var(--color-text);
        }

        /* Fermer l'alerte */
        .alert__close {
          background: none;
          border: none;
          cursor: pointer;
          font-size: var(--text-lg);
          opacity: 0.7;
          transition: opacity var(--transition-base);
        }

        .alert__close:hover {
          opacity: 1;
        }

        /* Spinner petit pour les boutons */
        .spinner-small {
          width: 16px;
          height: 16px;
          border: 2px solid rgba(255, 255, 255, 0.3);
          border-top-color: white;
          border-radius: 50%;
          animation: spin 0.8s linear infinite;
        }

        /* Ajustement du form-select */
        .form-select {
          min-width: 150px;
        }
      `})]})},_O={numero:1,titre:"",description:"",objectifs:[],dureeEstimee:void 0,isPremium:!1,actif:!0},NQ=()=>{const[t,e]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState(""),[l,d]=w.useState(!0),[f,m]=w.useState(!1),[p,g]=w.useState(!1),[_,x]=w.useState(null),[S,E]=w.useState(null),[A,C]=w.useState(null),[D,k]=w.useState(!1),[M,V]=w.useState(!1),[L,P]=w.useState(null),[O,I]=w.useState(null),[$,q]=w.useState({..._O,disciplineId:""}),[z,B]=w.useState({}),[be,Se]=w.useState(""),W=w.useCallback(async()=>{try{d(!0);const Y=await _s.getAll();e(Y),Y.length>0&&!i&&s(Y[0].id)}catch(Y){console.error("Erreur lors du chargement des disciplines:",Y),E("Impossible de charger les disciplines.")}finally{d(!1)}},[i]),le=w.useCallback(async()=>{if(!i){r([]);return}try{m(!0);const Y=await Do.getByDiscipline(i);r(Y)}catch(Y){console.error("Erreur lors du chargement des chapitres:",Y),E("Impossible de charger les chapitres.")}finally{m(!1)}},[i]);w.useEffect(()=>{W()},[W]),w.useEffect(()=>{le()},[le]);const ve=()=>{const Y={};return $.disciplineId||(Y.disciplineId="Veuillez slectionner une discipline"),$.titre.trim()?$.titre.length<3&&(Y.titre="Le titre doit contenir au moins 3 caractres"):Y.titre="Le titre du chapitre est requis",$.numero<1&&(Y.numero="Le numro doit tre suprieur  0"),B(Y),Object.keys(Y).length===0},xe=Y=>{s(Y),E(null)},we=async()=>{const Y=await Do.getNextNumero(i);P(null),q({..._O,disciplineId:i,numero:Y}),B({}),Se(""),k(!0)},F=Y=>{P(Y),q({disciplineId:Y.disciplineId,numero:Y.numero,titre:Y.titre,description:Y.description,objectifs:Y.objectifs||[],dureeEstimee:Y.dureeEstimee,isPremium:Y.isPremium,actif:Y.actif}),B({}),Se(""),k(!0)},ne=Y=>{I(Y),V(!0)},pe=()=>{k(!1),V(!1),P(null),I(null),B({}),Se("")},_e=Y=>{const{name:he,value:Re,type:Be}=Y.target,rt=Y.target.checked;q(ct=>({...ct,[he]:Be==="checkbox"?rt:Be==="number"?Number(Re):Re})),z[he]&&B(ct=>({...ct,[he]:void 0}))},Q=()=>{be.trim()&&(q(Y=>({...Y,objectifs:[...Y.objectifs||[],be.trim()]})),Se(""))},K=Y=>{q(he=>({...he,objectifs:(he.objectifs||[]).filter((Re,Be)=>Be!==Y)}))},ye=async Y=>{if(Y.preventDefault(),!!ve())try{g(!0),E(null),L?(await Do.update(L.id,$),C("Chapitre modifi avec succs !")):(await Do.create($),C("Chapitre cr avec succs !")),pe(),await le(),setTimeout(()=>C(null),3e3)}catch(he){console.error("Erreur lors de la sauvegarde:",he),E("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{g(!1)}},Le=async()=>{if(O)try{x(O.id),await Do.delete(O.id),C("Chapitre supprim avec succs !"),pe(),await le(),setTimeout(()=>C(null),3e3)}catch(Y){console.error("Erreur lors de la suppression:",Y),E("Erreur lors de la suppression. Veuillez ressayer.")}finally{x(null)}},ie=async Y=>{try{await Do.toggleActive(Y.id,!Y.actif),await le(),C(Y.actif?"Chapitre dsactiv":"Chapitre activ"),setTimeout(()=>C(null),2e3)}catch{E("Erreur lors de la mise  jour")}},Te=Y=>{const he=t.find(Re=>Re.id===Y);return he?he.nom:"Non trouve"};return c.jsxs("div",{className:"chapitre-manager",children:[c.jsxs("header",{className:"admin-page-header",children:[c.jsxs("div",{className:"admin-page-header__info",children:[c.jsx("h1",{className:"admin-page-header__title",children:"Gestion des Chapitres"}),c.jsx("p",{className:"admin-page-header__subtitle",children:"Organisez le contenu pdagogique par chapitres"})]}),c.jsx("div",{className:"admin-page-header__actions",children:c.jsxs("button",{onClick:we,className:"btn btn--primary",disabled:!i||l,children:[c.jsx("span",{children:""}),"Nouveau chapitre"]})})]}),S&&c.jsxs("div",{className:"alert alert--error",children:[c.jsx("span",{className:"alert__icon",children:""}),c.jsx("div",{className:"alert__content",children:c.jsx("p",{className:"alert__message",children:S})}),c.jsx("button",{onClick:()=>E(null),className:"alert__close",children:""})]}),A&&c.jsxs("div",{className:"alert alert--success",children:[c.jsx("span",{className:"alert__icon",children:""}),c.jsx("div",{className:"alert__content",children:c.jsx("p",{className:"alert__message",children:A})})]}),c.jsx("div",{className:"content-card",style:{marginBottom:"var(--spacing-lg)"},children:c.jsx("div",{className:"content-card__body",children:c.jsxs("div",{className:"discipline-selector",children:[c.jsx("label",{className:"form-label",children:"Slectionner une discipline :"}),l?c.jsx("p",{className:"text-muted",children:"Chargement des disciplines..."}):t.length===0?c.jsxs("p",{className:"text-muted",children:["Aucune discipline disponible.",c.jsx("a",{href:"/admin/disciplines",children:" Crer une discipline"})]}):c.jsx("div",{className:"discipline-tabs",children:t.map(Y=>c.jsxs("button",{className:`discipline-tab ${i===Y.id?"discipline-tab--active":""}`,onClick:()=>xe(Y.id),style:{"--discipline-color":Y.couleur||"#2563eb"},children:[c.jsx("span",{className:"discipline-tab__icon",children:Y.icone||""}),c.jsx("span",{className:"discipline-tab__name",children:Y.nom}),c.jsx("span",{className:"discipline-tab__class",children:Y.classe})]},Y.id))})]})})}),c.jsxs("div",{className:"admin-table-container",children:[c.jsx("div",{className:"admin-table-header",children:c.jsxs("h2",{className:"admin-table-title",children:["Chapitres ",i&&`- ${Te(i)}`,n.length>0&&` (${n.length})`]})}),f?c.jsxs("div",{className:"loading-container",style:{padding:"var(--spacing-2xl)"},children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Chargement des chapitres..."})]}):i?n.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-state__icon",children:""}),c.jsx("h3",{className:"empty-state__title",children:"Aucun chapitre"}),c.jsx("p",{className:"empty-state__message",children:"Cette discipline n'a pas encore de chapitres."}),c.jsx("button",{onClick:we,className:"btn btn--primary",children:"Crer le premier chapitre"})]}):c.jsx("div",{className:"chapitres-list",children:n.map(Y=>c.jsxs("div",{className:`chapitre-card ${Y.actif?"":"chapitre-card--inactive"}`,children:[c.jsx("div",{className:"chapitre-card__number",children:Y.numero}),c.jsxs("div",{className:"chapitre-card__content",children:[c.jsxs("h3",{className:"chapitre-card__title",children:[Y.titre,Y.isPremium&&c.jsx("span",{className:"badge badge--premium",children:"Premium"}),!Y.actif&&c.jsx("span",{className:"badge badge--warning",children:"Inactif"})]}),Y.description&&c.jsx("p",{className:"chapitre-card__description",children:Y.description}),c.jsxs("div",{className:"chapitre-card__meta",children:[Y.dureeEstimee&&c.jsxs("span",{children:[" ",Y.dureeEstimee,"h estime"]}),Y.objectifs&&Y.objectifs.length>0&&c.jsxs("span",{children:[" ",Y.objectifs.length," objectif(s)"]})]})]}),c.jsxs("div",{className:"chapitre-card__actions",children:[c.jsx("button",{onClick:()=>ie(Y),className:`table-action-btn ${Y.actif?"table-action-btn--view":"table-action-btn--edit"}`,title:Y.actif?"Dsactiver":"Activer",children:Y.actif?"":""}),c.jsx("button",{onClick:()=>F(Y),className:"table-action-btn table-action-btn--edit",title:"Modifier",children:""}),c.jsx("button",{onClick:()=>ne(Y),className:"table-action-btn table-action-btn--delete",title:"Supprimer",disabled:_===Y.id,children:_===Y.id?"":""})]})]},Y.id))}):c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-state__icon",children:""}),c.jsx("h3",{className:"empty-state__title",children:"Slectionnez une discipline"}),c.jsx("p",{className:"empty-state__message",children:"Choisissez une discipline ci-dessus pour voir ses chapitres."})]})]}),D&&c.jsx("div",{className:"modal-overlay",onClick:pe,children:c.jsxs("div",{className:"modal modal--lg",onClick:Y=>Y.stopPropagation(),children:[c.jsxs("div",{className:"modal__header",children:[c.jsx("h2",{className:"modal__title",children:L?"Modifier le chapitre":"Nouveau chapitre"}),c.jsx("button",{onClick:pe,className:"modal__close",children:""})]}),c.jsxs("form",{onSubmit:ye,children:[c.jsxs("div",{className:"modal__body",children:[!L&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label form-label--required",children:"Discipline"}),c.jsxs("select",{name:"disciplineId",className:`form-select ${z.disciplineId?"form-select--error":""}`,value:$.disciplineId,onChange:_e,children:[c.jsx("option",{value:"",children:"Slectionner une discipline"}),t.map(Y=>c.jsxs("option",{value:Y.id,children:[Y.icone," ",Y.nom," (",Y.classe,")"]},Y.id))]}),z.disciplineId&&c.jsx("span",{className:"form-error",children:z.disciplineId})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",style:{flex:"0 0 100px"},children:[c.jsx("label",{className:"form-label form-label--required",children:"N"}),c.jsx("input",{type:"number",name:"numero",className:`form-input ${z.numero?"form-input--error":""}`,min:"1",value:$.numero,onChange:_e}),z.numero&&c.jsx("span",{className:"form-error",children:z.numero})]}),c.jsxs("div",{className:"form-group",style:{flex:1},children:[c.jsx("label",{className:"form-label form-label--required",children:"Titre du chapitre"}),c.jsx("input",{type:"text",name:"titre",className:`form-input ${z.titre?"form-input--error":""}`,placeholder:"Ex: Les fractions, La Rvolution franaise...",value:$.titre,onChange:_e}),z.titre&&c.jsx("span",{className:"form-error",children:z.titre})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Description"}),c.jsx("textarea",{name:"description",className:"form-textarea",rows:3,placeholder:"Description du chapitre...",value:$.description||"",onChange:_e})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Objectifs pdagogiques"}),c.jsxs("div",{className:"objectifs-input",children:[c.jsx("input",{type:"text",className:"form-input",placeholder:"Ajouter un objectif...",value:be,onChange:Y=>Se(Y.target.value),onKeyPress:Y=>Y.key==="Enter"&&(Y.preventDefault(),Q())}),c.jsx("button",{type:"button",onClick:Q,className:"btn btn--outline btn--sm",children:"Ajouter"})]}),$.objectifs&&$.objectifs.length>0&&c.jsx("ul",{className:"objectifs-list",children:$.objectifs.map((Y,he)=>c.jsxs("li",{className:"objectif-item",children:[c.jsxs("span",{children:[" ",Y]}),c.jsx("button",{type:"button",onClick:()=>K(he),className:"objectif-remove",children:""})]},he))})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Dure estime (heures)"}),c.jsx("input",{type:"number",name:"dureeEstimee",className:"form-input",min:"0",step:"0.5",placeholder:"Ex: 2",value:$.dureeEstimee||"",onChange:_e})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Options"}),c.jsxs("div",{className:"form-options",children:[c.jsxs("label",{className:"form-checkbox",children:[c.jsx("input",{type:"checkbox",name:"isPremium",checked:$.isPremium,onChange:_e}),c.jsx("span",{children:"Contenu Premium "})]}),c.jsxs("label",{className:"form-checkbox",children:[c.jsx("input",{type:"checkbox",name:"actif",checked:$.actif!==!1,onChange:_e}),c.jsx("span",{children:"Chapitre actif"})]})]})]})]})]}),c.jsxs("div",{className:"modal__footer",children:[c.jsx("button",{type:"button",onClick:pe,className:"btn btn--outline",disabled:p,children:"Annuler"}),c.jsx("button",{type:"submit",className:"btn btn--primary",disabled:p,children:p?"Enregistrement...":L?"Mettre  jour":"Crer le chapitre"})]})]})]})}),M&&O&&c.jsx("div",{className:"modal-overlay",onClick:pe,children:c.jsxs("div",{className:"modal",onClick:Y=>Y.stopPropagation(),children:[c.jsxs("div",{className:"modal__header",children:[c.jsx("h2",{className:"modal__title",children:"Confirmer la suppression"}),c.jsx("button",{onClick:pe,className:"modal__close",children:""})]}),c.jsxs("div",{className:"modal__body",children:[c.jsxs("p",{children:["Supprimer le chapitre ",c.jsxs("strong",{children:[O.numero,". ",O.titre]})," ?"]}),c.jsxs("div",{className:"alert alert--warning",style:{marginTop:"var(--spacing-md)"},children:[c.jsx("span",{className:"alert__icon",children:""}),c.jsx("div",{className:"alert__content",children:c.jsx("p",{className:"alert__message",children:"Les ressources associes ne seront pas supprimes automatiquement."})})]})]}),c.jsxs("div",{className:"modal__footer",children:[c.jsx("button",{onClick:pe,className:"btn btn--outline",children:"Annuler"}),c.jsx("button",{onClick:Le,className:"btn btn--danger",disabled:_!==null,children:_?"Suppression...":"Supprimer"})]})]})}),c.jsx("style",{children:`
        /* Slecteur de discipline */
        .discipline-tabs {
          display: flex;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
          margin-top: var(--spacing-md);
        }

        .discipline-tab {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          padding: var(--spacing-sm) var(--spacing-md);
          border: 2px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: white;
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .discipline-tab:hover {
          border-color: var(--discipline-color, var(--color-primary));
        }

        .discipline-tab--active {
          border-color: var(--discipline-color, var(--color-primary));
          background: color-mix(in srgb, var(--discipline-color, var(--color-primary)) 10%, white);
        }

        .discipline-tab__icon {
          font-size: var(--text-lg);
        }

        .discipline-tab__name {
          font-weight: var(--font-medium);
        }

        .discipline-tab__class {
          font-size: var(--text-xs);
          color: var(--color-text-light);
          background: var(--color-bg-secondary);
          padding: 2px 6px;
          border-radius: var(--radius-sm);
        }

        /* Liste des chapitres */
        .chapitres-list {
          display: flex;
          flex-direction: column;
          gap: var(--spacing-md);
          padding: var(--spacing-lg);
        }

        .chapitre-card {
          display: flex;
          align-items: center;
          gap: var(--spacing-lg);
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          transition: all var(--transition-base);
        }

        .chapitre-card:hover {
          border-color: var(--color-primary);
          box-shadow: var(--shadow-md);
        }

        .chapitre-card--inactive {
          opacity: 0.6;
          background: var(--color-bg-tertiary);
        }

        .chapitre-card__number {
          width: 48px;
          height: 48px;
          background: var(--color-primary);
          color: white;
          border-radius: var(--radius-md);
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: var(--text-xl);
          font-weight: var(--font-bold);
          flex-shrink: 0;
        }

        .chapitre-card__content {
          flex: 1;
          min-width: 0;
        }

        .chapitre-card__title {
          font-size: var(--text-base);
          font-weight: var(--font-semibold);
          margin-bottom: var(--spacing-xs);
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
        }

        .chapitre-card__description {
          font-size: var(--text-sm);
          color: var(--color-text-light);
          margin: 0 0 var(--spacing-sm);
        }

        .chapitre-card__meta {
          display: flex;
          gap: var(--spacing-lg);
          font-size: var(--text-xs);
          color: var(--color-text-lighter);
        }

        .chapitre-card__actions {
          display: flex;
          gap: var(--spacing-sm);
        }

        /* Formulaire: Ligne */
        .form-row {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: var(--spacing-lg);
        }

        @media (max-width: 600px) {
          .form-row {
            grid-template-columns: 1fr;
          }
        }

        /* Objectifs */
        .objectifs-input {
          display: flex;
          gap: var(--spacing-sm);
        }

        .objectifs-list {
          list-style: none;
          margin-top: var(--spacing-md);
        }

        .objectif-item {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: var(--spacing-sm) var(--spacing-md);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-md);
          margin-bottom: var(--spacing-xs);
        }

        .objectif-remove {
          background: none;
          border: none;
          cursor: pointer;
          color: var(--color-error);
          opacity: 0.7;
        }

        .objectif-remove:hover {
          opacity: 1;
        }

        /* Options */
        .form-options {
          display: flex;
          flex-direction: column;
          gap: var(--spacing-sm);
          margin-top: var(--spacing-sm);
        }
      `})]})},Jp=[{value:"cours",label:"Cours",icon:"",color:"#2563eb"},{value:"exercice",label:"Exercice",icon:"",color:"#10b981"},{value:"video",label:"Vido",icon:"",color:"#ef4444"},{value:"document",label:"Document",icon:"",color:"#f59e0b"},{value:"quiz",label:"Quiz",icon:"",color:"#8b5cf6"}],eg={cours:[".pdf",".doc",".docx",".ppt",".pptx"],exercice:[".pdf",".doc",".docx"],video:[".mp4",".webm",".mov",".avi"],document:[".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx"],quiz:[".json",".pdf"]},Vb=50,bO={titre:"",type:"cours",description:"",contenu:"",chapitreId:"",ordre:1,isPremium:!1,actif:!0,tags:[],duree:void 0,urlExterne:""},CQ=()=>{const{currentUser:t}=ca(),[e,n]=w.useState([]),[r,i]=w.useState([]),[s,l]=w.useState([]),[d,f]=w.useState([]),[m,p]=w.useState(""),[g,_]=w.useState(""),[x,S]=w.useState(""),[E,A]=w.useState(""),[C,D]=w.useState(""),[k,M]=w.useState(!0),[V,L]=w.useState(!1),[P,O]=w.useState(!1),[I,$]=w.useState(!1),[q,z]=w.useState(null),[B,be]=w.useState(!1),[Se,W]=w.useState(0),[le,ve]=w.useState(null),[xe,we]=w.useState(null),[F,ne]=w.useState(!1),[pe,_e]=w.useState(!1),[Q,K]=w.useState(!1),[ye,Le]=w.useState(null),[ie,Te]=w.useState(null),[Y,he]=w.useState(null),[Re,Be]=w.useState({...bO,disciplineId:""}),[rt,ct]=w.useState({}),[pt,sr]=w.useState(null),[Nt,Ct]=w.useState(null),jr=w.useRef(null),[ce,Pe]=w.useState(""),Ue=w.useCallback(async()=>{try{M(!0);const Z=await _s.getAll();n(Z),Z.length>0&&!m&&p(Z[0].id)}catch(Z){console.error("Erreur lors du chargement des disciplines:",Z),ve("Impossible de charger les disciplines.")}finally{M(!1)}},[m]),Ge=w.useCallback(async()=>{if(!m){i([]);return}try{L(!0);const Z=await Do.getByDiscipline(m);i(Z)}catch(Z){console.error("Erreur lors du chargement des chapitres:",Z)}finally{L(!1)}},[m]),Mt=w.useCallback(async()=>{if(!m){l([]),f([]);return}try{O(!0);const Z=await Ro.getByDiscipline(m);l(Z),f(Z)}catch(Z){console.error("Erreur lors du chargement des ressources:",Z),ve("Impossible de charger les ressources.")}finally{O(!1)}},[m]);w.useEffect(()=>{Ue()},[Ue]),w.useEffect(()=>{Ge()},[Ge]),w.useEffect(()=>{Mt()},[Mt]),w.useEffect(()=>{let Z=[...s];if(g&&(Z=Z.filter(Ve=>Ve.chapitreId===g)),x&&(Z=Z.filter(Ve=>Ve.type===x)),E==="premium"?Z=Z.filter(Ve=>Ve.isPremium):E==="free"&&(Z=Z.filter(Ve=>!Ve.isPremium)),C){const Ve=C.toLowerCase();Z=Z.filter(ft=>ft.titre.toLowerCase().includes(Ve)||ft.description?.toLowerCase().includes(Ve)||ft.tags?.some(Mn=>Mn.toLowerCase().includes(Ve)))}f(Z)},[s,g,x,E,C]);const On=()=>{const Z={};if(Re.disciplineId||(Z.disciplineId="Veuillez slectionner une discipline"),Re.titre.trim()?Re.titre.length<3&&(Z.titre="Le titre doit contenir au moins 3 caractres"):Z.titre="Le titre est requis",Re.type||(Z.type="Veuillez slectionner un type de ressource"),pt){const Ve="."+pt.name.split(".").pop()?.toLowerCase(),ft=eg[Re.type];ft.includes(Ve)||(Z.fichier=`Extension non autorise. Extensions acceptes : ${ft.join(", ")}`),pt.size/(1024*1024)>Vb&&(Z.fichier=`Le fichier est trop volumineux (max ${Vb} Mo)`)}return ct(Z),Object.keys(Z).length===0},Nr=Z=>{p(Z),_(""),ve(null)},Xs=()=>{Le(null),Be({...bO,disciplineId:m}),ct({}),sr(null),Ct(null),Pe(""),ne(!0)},Cr=Z=>{Le(Z),Be({disciplineId:Z.disciplineId,titre:Z.titre,type:Z.type,description:Z.description,contenu:Z.contenu,chapitreId:Z.chapitreId||"",ordre:Z.ordre,isPremium:Z.isPremium,actif:Z.actif,tags:Z.tags||[],duree:Z.duree,urlExterne:Z.urlExterne||""}),ct({}),sr(null),Ct(Z.fichierUrl||null),Pe(""),ne(!0)},zi=Z=>{he(Z),K(!0)},Vc=Z=>{Te(Z),_e(!0)},Jt=()=>{ne(!1),_e(!1),K(!1),Le(null),Te(null),he(null),ct({}),sr(null),Ct(null),Pe("")},wt=Z=>{const{name:Ve,value:ft,type:Mn}=Z.target,_l=Z.target.checked;Be(Pr=>({...Pr,[Ve]:Mn==="checkbox"?_l:Mn==="number"?Number(ft):ft})),rt[Ve]&&ct(Pr=>({...Pr,[Ve]:void 0}))},Or=Z=>{const Ve=Z.target.files?.[0];if(Ve)if(sr(Ve),ct(ft=>({...ft,fichier:void 0})),Ve.type.startsWith("image/")||Ve.type.startsWith("video/")){const ft=new FileReader;ft.onloadend=()=>{Ct(ft.result)},ft.readAsDataURL(Ve)}else Ct(null)},Qt=()=>{sr(null),Ct(null),jr.current&&(jr.current.value="")},yl=()=>{ce.trim()&&!Re.tags?.includes(ce.trim())&&(Be(Z=>({...Z,tags:[...Z.tags||[],ce.trim()]})),Pe(""))},Zs=Z=>{Be(Ve=>({...Ve,tags:(Ve.tags||[]).filter((ft,Mn)=>Mn!==Z)}))},Uc=async Z=>{if(Z.preventDefault(),!!On())try{$(!0),ve(null);let Ve=ye?.fichierUrl,ft=ye?.fichierNom;if(pt){be(!0);const _l=ye?.id||`temp_${Date.now()}`,Pr=await Ro.uploadFile(pt,_l,bl=>W(bl));Ve=Pr.url,ft=Pr.nom,be(!1)}const Mn={...Re,fichierUrl:Ve,fichierNom:ft,auteurId:t?.uid};ye?(await Ro.update(ye.id,Mn),we("Ressource modifie avec succs !")):(await Ro.create(Mn),we("Ressource cre avec succs !")),Jt(),await Mt(),setTimeout(()=>we(null),3e3)}catch(Ve){console.error("Erreur lors de la sauvegarde:",Ve),ve("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{$(!1),be(!1),W(0)}},fi=async()=>{if(ie)try{z(ie.id),ie.fichierUrl&&await Ro.deleteFile(ie.fichierUrl),await Ro.delete(ie.id),we("Ressource supprime avec succs !"),Jt(),await Mt(),setTimeout(()=>we(null),3e3)}catch(Z){console.error("Erreur lors de la suppression:",Z),ve("Erreur lors de la suppression. Veuillez ressayer.")}finally{z(null)}},Ya=async Z=>{try{await Ro.togglePremium(Z.id,!Z.isPremium),await Mt(),we(Z.isPremium?"Ressource passe en gratuit":"Ressource passe en Premium"),setTimeout(()=>we(null),2e3)}catch{ve("Erreur lors de la mise  jour")}},en=Z=>{const Ve=e.find(ft=>ft.id===Z);return Ve?Ve.nom:"Non trouve"},hi=Z=>{const Ve=r.find(ft=>ft.id===Z);return Ve?`${Ve.numero}. ${Ve.titre}`:""},or=Z=>Jp.find(Ve=>Ve.value===Z)||Jp[0],Gr=Z=>Z<1024?Z+" o":Z<1024*1024?(Z/1024).toFixed(1)+" Ko":(Z/(1024*1024)).toFixed(1)+" Mo";return c.jsxs("div",{className:"resource-manager",children:[c.jsxs("header",{className:"admin-page-header",children:[c.jsxs("div",{className:"admin-page-header__info",children:[c.jsx("h1",{className:"admin-page-header__title",children:"Gestion des Ressources"}),c.jsx("p",{className:"admin-page-header__subtitle",children:"Grez les cours, exercices, vidos et documents pdagogiques"})]}),c.jsx("div",{className:"admin-page-header__actions",children:c.jsxs("button",{onClick:Xs,className:"btn btn--primary",disabled:!m||k,children:[c.jsx("span",{children:""}),"Nouvelle ressource"]})})]}),le&&c.jsxs("div",{className:"alert alert--error",children:[c.jsx("span",{className:"alert__icon",children:""}),c.jsx("div",{className:"alert__content",children:c.jsx("p",{className:"alert__message",children:le})}),c.jsx("button",{onClick:()=>ve(null),className:"alert__close",children:""})]}),xe&&c.jsxs("div",{className:"alert alert--success",children:[c.jsx("span",{className:"alert__icon",children:""}),c.jsx("div",{className:"alert__content",children:c.jsx("p",{className:"alert__message",children:xe})})]}),c.jsx("div",{className:"content-card",style:{marginBottom:"var(--spacing-lg)"},children:c.jsx("div",{className:"content-card__body",children:c.jsxs("div",{className:"discipline-selector",children:[c.jsx("label",{className:"form-label",children:"Slectionner une discipline :"}),k?c.jsx("p",{className:"text-muted",children:"Chargement des disciplines..."}):e.length===0?c.jsxs("p",{className:"text-muted",children:["Aucune discipline disponible.",c.jsx("a",{href:"/admin/disciplines",children:" Crer une discipline"})]}):c.jsx("div",{className:"discipline-tabs",children:e.map(Z=>c.jsxs("button",{className:`discipline-tab ${m===Z.id?"discipline-tab--active":""}`,onClick:()=>Nr(Z.id),style:{"--discipline-color":Z.couleur||"#2563eb"},children:[c.jsx("span",{className:"discipline-tab__icon",children:Z.icone||""}),c.jsx("span",{className:"discipline-tab__name",children:Z.nom}),c.jsx("span",{className:"discipline-tab__class",children:Z.classe})]},Z.id))})]})})}),c.jsxs("div",{className:"admin-table-container",children:[c.jsxs("div",{className:"admin-table-header",children:[c.jsxs("h2",{className:"admin-table-title",children:["Ressources ",m&&`- ${en(m)}`,d.length>0&&` (${d.length})`]}),c.jsxs("div",{className:"admin-table-actions",children:[c.jsxs("div",{className:"search-input",children:[c.jsx("span",{className:"search-input__icon",children:""}),c.jsx("input",{type:"text",className:"search-input__field",placeholder:"Rechercher...",value:C,onChange:Z=>D(Z.target.value)})]}),c.jsxs("select",{className:"form-select form-select--sm",value:g,onChange:Z=>_(Z.target.value),disabled:V||r.length===0,children:[c.jsx("option",{value:"",children:"Tous les chapitres"}),r.map(Z=>c.jsxs("option",{value:Z.id,children:[Z.numero,". ",Z.titre]},Z.id))]}),c.jsxs("select",{className:"form-select form-select--sm",value:x,onChange:Z=>S(Z.target.value),children:[c.jsx("option",{value:"",children:"Tous les types"}),Jp.map(Z=>c.jsxs("option",{value:Z.value,children:[Z.icon," ",Z.label]},Z.value))]}),c.jsxs("select",{className:"form-select form-select--sm",value:E,onChange:Z=>A(Z.target.value),children:[c.jsx("option",{value:"",children:"Tous"}),c.jsx("option",{value:"premium",children:" Premium"}),c.jsx("option",{value:"free",children:"Gratuit"})]})]})]}),P?c.jsxs("div",{className:"loading-container",style:{padding:"var(--spacing-2xl)"},children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Chargement des ressources..."})]}):m?d.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-state__icon",children:""}),c.jsx("h3",{className:"empty-state__title",children:"Aucune ressource"}),c.jsx("p",{className:"empty-state__message",children:C||x||E||g?"Aucune ressource ne correspond aux critres de recherche.":"Cette discipline n'a pas encore de ressources."}),!C&&!x&&!E&&!g&&c.jsx("button",{onClick:Xs,className:"btn btn--primary",children:"Crer la premire ressource"})]}):c.jsx("div",{className:"resource-list",style:{padding:"var(--spacing-lg)"},children:d.map(Z=>{const Ve=or(Z.type);return c.jsxs("div",{className:"resource-item",children:[c.jsx("div",{className:`resource-item__icon resource-item__icon--${Z.type}`,style:{backgroundColor:`${Ve.color}15`,color:Ve.color},children:Ve.icon}),c.jsxs("div",{className:"resource-item__content",children:[c.jsxs("div",{className:"resource-item__title",children:[Z.titre,Z.isPremium&&c.jsx("span",{className:"badge badge--premium",children:"Premium"}),!Z.actif&&c.jsx("span",{className:"badge badge--warning",children:"Inactif"})]}),c.jsxs("div",{className:"resource-item__meta",children:[c.jsx("span",{children:Ve.label}),Z.chapitreId&&c.jsxs("span",{children:[" ",hi(Z.chapitreId)]}),Z.duree&&c.jsxs("span",{children:[" ",Z.duree," min"]}),Z.fichierNom&&c.jsxs("span",{children:[" ",Z.fichierNom]}),Z.tags&&Z.tags.length>0&&c.jsxs("span",{children:[" ",Z.tags.join(", ")]})]})]}),c.jsxs("div",{className:"resource-item__actions",children:[c.jsx("button",{onClick:()=>Ya(Z),className:`table-action-btn ${Z.isPremium?"table-action-btn--warning":"table-action-btn--view"}`,title:Z.isPremium?"Passer en gratuit":"Passer en Premium",children:Z.isPremium?"":""}),(Z.fichierUrl||Z.urlExterne)&&c.jsx("button",{onClick:()=>zi(Z),className:"table-action-btn table-action-btn--view",title:"Prvisualiser",children:""}),c.jsx("button",{onClick:()=>Cr(Z),className:"table-action-btn table-action-btn--edit",title:"Modifier",children:""}),c.jsx("button",{onClick:()=>Vc(Z),className:"table-action-btn table-action-btn--delete",title:"Supprimer",disabled:q===Z.id,children:q===Z.id?"":""})]})]},Z.id)})}):c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-state__icon",children:""}),c.jsx("h3",{className:"empty-state__title",children:"Slectionnez une discipline"}),c.jsx("p",{className:"empty-state__message",children:"Choisissez une discipline ci-dessus pour voir ses ressources."})]})]}),F&&c.jsx("div",{className:"modal-overlay",onClick:Jt,children:c.jsxs("div",{className:"modal modal--xl",onClick:Z=>Z.stopPropagation(),children:[c.jsxs("div",{className:"modal__header",children:[c.jsx("h2",{className:"modal__title",children:ye?"Modifier la ressource":"Nouvelle ressource"}),c.jsx("button",{onClick:Jt,className:"modal__close",children:""})]}),c.jsxs("form",{onSubmit:Uc,children:[c.jsxs("div",{className:"modal__body",children:[!ye&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label form-label--required",children:"Discipline"}),c.jsxs("select",{name:"disciplineId",className:`form-select ${rt.disciplineId?"form-select--error":""}`,value:Re.disciplineId,onChange:wt,children:[c.jsx("option",{value:"",children:"Slectionner une discipline"}),e.map(Z=>c.jsxs("option",{value:Z.id,children:[Z.icone," ",Z.nom," (",Z.classe,")"]},Z.id))]}),rt.disciplineId&&c.jsx("span",{className:"form-error",children:rt.disciplineId})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",style:{flex:2},children:[c.jsx("label",{className:"form-label form-label--required",children:"Titre"}),c.jsx("input",{type:"text",name:"titre",className:`form-input ${rt.titre?"form-input--error":""}`,placeholder:"Ex: Introduction aux fractions",value:Re.titre,onChange:wt}),rt.titre&&c.jsx("span",{className:"form-error",children:rt.titre})]}),c.jsxs("div",{className:"form-group",style:{flex:1},children:[c.jsx("label",{className:"form-label form-label--required",children:"Type"}),c.jsx("select",{name:"type",className:`form-select ${rt.type?"form-select--error":""}`,value:Re.type,onChange:wt,children:Jp.map(Z=>c.jsxs("option",{value:Z.value,children:[Z.icon," ",Z.label]},Z.value))}),rt.type&&c.jsx("span",{className:"form-error",children:rt.type})]})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Chapitre (optionnel)"}),c.jsxs("select",{name:"chapitreId",className:"form-select",value:Re.chapitreId||"",onChange:wt,disabled:V,children:[c.jsx("option",{value:"",children:"Aucun chapitre"}),r.map(Z=>c.jsxs("option",{value:Z.id,children:[Z.numero,". ",Z.titre]},Z.id))]})]}),c.jsxs("div",{className:"form-group",style:{flex:"0 0 120px"},children:[c.jsx("label",{className:"form-label",children:"Ordre"}),c.jsx("input",{type:"number",name:"ordre",className:"form-input",min:"1",value:Re.ordre,onChange:wt})]}),c.jsxs("div",{className:"form-group",style:{flex:"0 0 120px"},children:[c.jsx("label",{className:"form-label",children:"Dure (min)"}),c.jsx("input",{type:"number",name:"duree",className:"form-input",min:"0",placeholder:"Ex: 30",value:Re.duree||"",onChange:wt})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Description"}),c.jsx("textarea",{name:"description",className:"form-textarea",rows:3,placeholder:"Description de la ressource...",value:Re.description||"",onChange:wt})]}),c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{className:"form-label",children:["Fichier",c.jsxs("span",{className:"form-helper",style:{marginLeft:"var(--spacing-sm)"},children:["(",eg[Re.type].join(", ")," - max ",Vb," Mo)"]})]}),c.jsxs("div",{className:"file-upload",children:[c.jsx("input",{ref:jr,type:"file",accept:eg[Re.type].join(","),onChange:Or,className:"file-upload__input",id:"file-input"}),!pt&&!Nt?c.jsxs("label",{htmlFor:"file-input",className:"file-upload__dropzone",children:[c.jsx("div",{className:"file-upload__icon",children:""}),c.jsx("p",{className:"file-upload__text",children:"Cliquez ou glissez un fichier ici"}),c.jsx("p",{className:"file-upload__hint",children:eg[Re.type].join(", ")})]}):c.jsxs("div",{className:"file-upload__preview",children:[pt?.type.startsWith("image/")&&Nt&&c.jsx("img",{src:Nt,alt:"Aperu",className:"file-preview__image"}),pt?.type.startsWith("video/")&&Nt&&c.jsx("video",{src:Nt,controls:!0,className:"file-preview__video"}),!pt?.type.startsWith("image/")&&!pt?.type.startsWith("video/")&&c.jsx("div",{className:"file-preview__document",children:c.jsx("span",{className:"file-preview__icon",children:or(Re.type).icon})}),c.jsxs("div",{className:"file-preview__info",children:[c.jsx("p",{className:"file-preview__name",children:pt?.name||ye?.fichierNom}),pt&&c.jsx("p",{className:"file-preview__size",children:Gr(pt.size)})]}),c.jsx("button",{type:"button",onClick:Qt,className:"file-preview__remove",children:""})]})]}),rt.fichier&&c.jsx("span",{className:"form-error",children:rt.fichier}),B&&c.jsxs("div",{className:"upload-progress",children:[c.jsx("div",{className:"upload-progress__bar",style:{width:`${Se}%`}}),c.jsxs("span",{className:"upload-progress__text",children:[Se,"%"]})]})]}),Re.type==="video"&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"URL externe (YouTube, Vimeo...)"}),c.jsx("input",{type:"url",name:"urlExterne",className:"form-input",placeholder:"https://www.youtube.com/watch?v=...",value:Re.urlExterne||"",onChange:wt}),c.jsx("span",{className:"form-helper",children:"Alternative  l'upload de fichier"})]}),Re.type==="cours"&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Contenu du cours"}),c.jsx("textarea",{name:"contenu",className:"form-textarea",rows:6,placeholder:"Saisissez le contenu du cours ici...",value:Re.contenu||"",onChange:wt}),c.jsx("span",{className:"form-helper",children:"Optionnel si vous uploadez un fichier"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Tags"}),c.jsxs("div",{className:"tags-input",children:[c.jsx("input",{type:"text",className:"form-input",placeholder:"Ajouter un tag...",value:ce,onChange:Z=>Pe(Z.target.value),onKeyPress:Z=>Z.key==="Enter"&&(Z.preventDefault(),yl())}),c.jsx("button",{type:"button",onClick:yl,className:"btn btn--outline btn--sm",children:"Ajouter"})]}),Re.tags&&Re.tags.length>0&&c.jsx("div",{className:"tags-list",children:Re.tags.map((Z,Ve)=>c.jsxs("span",{className:"tag",children:[Z,c.jsx("button",{type:"button",onClick:()=>Zs(Ve),className:"tag__remove",children:""})]},Ve))})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Options"}),c.jsxs("div",{className:"form-options",children:[c.jsxs("label",{className:"form-checkbox",children:[c.jsx("input",{type:"checkbox",name:"isPremium",checked:Re.isPremium,onChange:wt}),c.jsx("span",{children:"Contenu Premium "})]}),c.jsxs("label",{className:"form-checkbox",children:[c.jsx("input",{type:"checkbox",name:"actif",checked:Re.actif!==!1,onChange:wt}),c.jsx("span",{children:"Ressource active"})]})]})]})]}),c.jsxs("div",{className:"modal__footer",children:[c.jsx("button",{type:"button",onClick:Jt,className:"btn btn--outline",disabled:I||B,children:"Annuler"}),c.jsx("button",{type:"submit",className:"btn btn--primary",disabled:I||B,children:I||B?B?`Upload ${Se}%...`:"Enregistrement...":ye?"Mettre  jour":"Crer la ressource"})]})]})]})}),Q&&Y&&c.jsx("div",{className:"modal-overlay",onClick:Jt,children:c.jsxs("div",{className:"modal modal--xl",onClick:Z=>Z.stopPropagation(),children:[c.jsxs("div",{className:"modal__header",children:[c.jsxs("h2",{className:"modal__title",children:[or(Y.type).icon," ",Y.titre]}),c.jsx("button",{onClick:Jt,className:"modal__close",children:""})]}),c.jsxs("div",{className:"modal__body",children:[Y.type==="video"&&Y.urlExterne?c.jsx("div",{className:"preview-video",children:c.jsx("iframe",{src:Y.urlExterne.replace("watch?v=","embed/"),title:Y.titre,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):Y.fichierUrl?c.jsx("div",{className:"preview-file",children:Y.fichierUrl.match(/\.(jpg|jpeg|png|gif|webp)$/i)?c.jsx("img",{src:Y.fichierUrl,alt:Y.titre}):Y.fichierUrl.match(/\.(mp4|webm)$/i)?c.jsx("video",{src:Y.fichierUrl,controls:!0}):Y.fichierUrl.match(/\.pdf$/i)?c.jsx("iframe",{src:Y.fichierUrl,title:Y.titre}):c.jsxs("div",{className:"preview-download",children:[c.jsx("span",{className:"preview-download__icon",children:or(Y.type).icon}),c.jsx("p",{children:Y.fichierNom}),c.jsx("a",{href:Y.fichierUrl,target:"_blank",rel:"noopener noreferrer",className:"btn btn--primary",children:"Tlcharger"})]})}):Y.contenu?c.jsx("div",{className:"preview-content",children:c.jsx("p",{children:Y.contenu})}):c.jsx("div",{className:"preview-empty",children:c.jsx("p",{children:"Aucun contenu  prvisualiser"})}),c.jsxs("div",{className:"preview-info",children:[Y.description&&c.jsx("p",{className:"preview-description",children:Y.description}),c.jsxs("div",{className:"preview-meta",children:[c.jsxs("span",{children:["Type : ",or(Y.type).label]}),Y.duree&&c.jsxs("span",{children:["Dure : ",Y.duree," min"]}),Y.isPremium&&c.jsx("span",{className:"badge badge--premium",children:"Premium"})]})]})]})]})}),pe&&ie&&c.jsx("div",{className:"modal-overlay",onClick:Jt,children:c.jsxs("div",{className:"modal",onClick:Z=>Z.stopPropagation(),children:[c.jsxs("div",{className:"modal__header",children:[c.jsx("h2",{className:"modal__title",children:"Confirmer la suppression"}),c.jsx("button",{onClick:Jt,className:"modal__close",children:""})]}),c.jsxs("div",{className:"modal__body",children:[c.jsxs("p",{children:["Supprimer la ressource ",c.jsx("strong",{children:ie.titre})," ?"]}),ie.fichierUrl&&c.jsxs("div",{className:"alert alert--warning",style:{marginTop:"var(--spacing-md)"},children:[c.jsx("span",{className:"alert__icon",children:""}),c.jsx("div",{className:"alert__content",children:c.jsx("p",{className:"alert__message",children:"Le fichier associ sera galement supprim de faon permanente."})})]})]}),c.jsxs("div",{className:"modal__footer",children:[c.jsx("button",{onClick:Jt,className:"btn btn--outline",children:"Annuler"}),c.jsx("button",{onClick:fi,className:"btn btn--danger",disabled:q!==null,children:q?"Suppression...":"Supprimer"})]})]})}),c.jsx("style",{children:`
        /* ==================== SLECTEUR DE DISCIPLINE ==================== */
        
        .discipline-tabs {
          display: flex;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
          margin-top: var(--spacing-md);
        }

        .discipline-tab {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          padding: var(--spacing-sm) var(--spacing-md);
          border: 2px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: white;
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .discipline-tab:hover {
          border-color: var(--discipline-color, var(--color-primary));
        }

        .discipline-tab--active {
          border-color: var(--discipline-color, var(--color-primary));
          background: color-mix(in srgb, var(--discipline-color, var(--color-primary)) 10%, white);
        }

        .discipline-tab__icon {
          font-size: var(--text-lg);
        }

        .discipline-tab__name {
          font-weight: var(--font-medium);
        }

        .discipline-tab__class {
          font-size: var(--text-xs);
          color: var(--color-text-light);
          background: var(--color-bg-secondary);
          padding: 2px 6px;
          border-radius: var(--radius-sm);
        }

        /* ==================== FORMULAIRE ==================== */
        
        .form-row {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: var(--spacing-lg);
        }

        .form-options {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-lg);
          margin-top: var(--spacing-sm);
        }

        .form-select--sm {
          padding: var(--spacing-sm) var(--spacing-md);
          font-size: var(--text-sm);
          min-width: 140px;
        }

        /* ==================== UPLOAD DE FICHIER ==================== */
        
        .file-upload {
          position: relative;
        }

        .file-upload__input {
          position: absolute;
          opacity: 0;
          pointer-events: none;
        }

        .file-upload__dropzone {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: var(--spacing-xl);
          border: 2px dashed var(--color-border);
          border-radius: var(--radius-lg);
          background: var(--color-bg-secondary);
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .file-upload__dropzone:hover {
          border-color: var(--color-primary);
          background: rgba(37, 99, 235, 0.05);
        }

        .file-upload__icon {
          font-size: 48px;
          margin-bottom: var(--spacing-md);
        }

        .file-upload__text {
          font-weight: var(--font-medium);
          margin-bottom: var(--spacing-xs);
        }

        .file-upload__hint {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        .file-upload__preview {
          display: flex;
          align-items: center;
          gap: var(--spacing-lg);
          padding: var(--spacing-md);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: var(--color-bg-secondary);
        }

        .file-preview__image,
        .file-preview__video {
          width: 120px;
          height: 80px;
          object-fit: cover;
          border-radius: var(--radius-md);
        }

        .file-preview__document {
          width: 80px;
          height: 80px;
          background: white;
          border: 1px solid var(--color-border);
          border-radius: var(--radius-md);
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .file-preview__icon {
          font-size: 32px;
        }

        .file-preview__info {
          flex: 1;
        }

        .file-preview__name {
          font-weight: var(--font-medium);
          margin-bottom: var(--spacing-xs);
          word-break: break-all;
        }

        .file-preview__size {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        .file-preview__remove {
          width: 32px;
          height: 32px;
          border: none;
          background: var(--color-error);
          color: white;
          border-radius: 50%;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all var(--transition-base);
        }

        .file-preview__remove:hover {
          background: #dc2626;
          transform: scale(1.1);
        }

        /* ==================== BARRE DE PROGRESSION ==================== */
        
        .upload-progress {
          margin-top: var(--spacing-md);
          height: 8px;
          background: var(--color-bg-tertiary);
          border-radius: var(--radius-full);
          overflow: hidden;
          position: relative;
        }

        .upload-progress__bar {
          height: 100%;
          background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
          border-radius: var(--radius-full);
          transition: width var(--transition-base);
        }

        .upload-progress__text {
          position: absolute;
          right: var(--spacing-sm);
          top: 50%;
          transform: translateY(-50%);
          font-size: var(--text-xs);
          font-weight: var(--font-semibold);
          color: var(--color-text);
        }

        /* ==================== TAGS ==================== */
        
        .tags-input {
          display: flex;
          gap: var(--spacing-sm);
        }

        .tags-list {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-sm);
          margin-top: var(--spacing-md);
        }

        .tag {
          display: inline-flex;
          align-items: center;
          gap: var(--spacing-xs);
          padding: var(--spacing-xs) var(--spacing-sm);
          background: var(--color-bg-tertiary);
          border-radius: var(--radius-full);
          font-size: var(--text-sm);
          color: var(--color-text);
        }

        .tag__remove {
          width: 18px;
          height: 18px;
          border: none;
          background: transparent;
          color: var(--color-text-light);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
          transition: all var(--transition-base);
        }

        .tag__remove:hover {
          background: var(--color-error);
          color: white;
        }

        /* ==================== PRVISUALISATION ==================== */
        
        .preview-video {
          position: relative;
          padding-bottom: 56.25%;
          height: 0;
          overflow: hidden;
          border-radius: var(--radius-lg);
        }

        .preview-video iframe {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          border: none;
        }

        .preview-file {
          text-align: center;
        }

        .preview-file img,
        .preview-file video {
          max-width: 100%;
          max-height: 60vh;
          border-radius: var(--radius-lg);
        }

        .preview-file iframe {
          width: 100%;
          height: 60vh;
          border: none;
          border-radius: var(--radius-lg);
        }

        .preview-download {
          padding: var(--spacing-2xl);
          text-align: center;
        }

        .preview-download__icon {
          font-size: 64px;
          display: block;
          margin-bottom: var(--spacing-lg);
        }

        .preview-content {
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-lg);
          white-space: pre-wrap;
        }

        .preview-empty {
          padding: var(--spacing-2xl);
          text-align: center;
          color: var(--color-text-light);
        }

        .preview-info {
          margin-top: var(--spacing-lg);
          padding-top: var(--spacing-lg);
          border-top: 1px solid var(--color-border);
        }

        .preview-description {
          color: var(--color-text-light);
          margin-bottom: var(--spacing-md);
        }

        .preview-meta {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-lg);
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        /* ==================== RESSOURCES - AFFICHAGE CARTE ==================== */
        
        .resource-item__title {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
        }

        /* ==================== ACTION WARNING ==================== */
        
        .table-action-btn--warning {
          color: var(--color-warning);
        }

        /* ==================== RESPONSIVE ==================== */
        
        @media (max-width: 768px) {
          .form-row {
            grid-template-columns: 1fr;
          }

          .admin-table-actions {
            flex-direction: column;
            align-items: stretch;
          }

          .search-input__field {
            width: 100%;
          }

          .file-upload__preview {
            flex-direction: column;
            text-align: center;
          }

          .preview-meta {
            flex-direction: column;
            gap: var(--spacing-sm);
          }
        }
      `})]})},zz=Fr(Xe,"quizzes"),Lz=async t=>{try{let e=ia(zz,Ps("titre","asc"));t?.disciplineId;let r=(await aa(e)).docs.map(i=>({id:i.id,...i.data()}));return t?.isPremium,t?.difficulte,r}catch(e){throw console.error("Erreur lors de la rcupration des quiz :",e),e}},OQ=async t=>{try{const e=await sl(Lt(Xe,"quizzes",t));return e.exists()?{id:e.id,...e.data()}:null}catch(e){throw console.error("Erreur lors de la rcupration du quiz :",e),e}},PQ=async t=>{try{return(await Ic(zz,{...t,createdAt:mt.now(),updatedAt:mt.now()})).id}catch(e){throw console.error("Erreur lors de la cration du quiz :",e),e}},IQ=async(t,e)=>{try{await Pi(Lt(Xe,"quizzes",t),{...e,updatedAt:mt.now()})}catch(n){throw console.error("Erreur lors de la mise  jour du quiz :",n),n}},RQ=async t=>{try{await nm(Lt(Xe,"quizzes",t))}catch(e){throw console.error("Erreur lors de la suppression du quiz :",e),e}},DQ=()=>`q_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,xO=()=>({id:DQ(),question:"",options:["","","",""],reponseCorrecte:0,explication:"",difficulte:"moyen",points:1}),wO=t=>{const e=t.questions||[],n=e.reduce((i,s)=>i+(s.points||1),0),r={facile:e.filter(i=>i.difficulte==="facile").length,moyen:e.filter(i=>i.difficulte==="moyen").length,difficile:e.filter(i=>i.difficulte==="difficile").length};return{nombreQuestions:e.length,totalPoints:n,parDifficulte:r,duree:t.duree||0}},kQ=()=>{const[t,e]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState(!0),[l,d]=w.useState(null),[f,m]=w.useState(null),[p,g]=w.useState(""),[_,x]=w.useState(""),[S,E]=w.useState(""),[A,C]=w.useState(""),[D,k]=w.useState(!1),[M,V]=w.useState("list"),[L,P]=w.useState(null),[O,I]=w.useState({disciplineId:"",titre:"",questions:[],duree:15,isPremium:!1,noteMinimale:50}),[$,q]=w.useState(null),[z,B]=w.useState(!1),[be,Se]=w.useState(null),[W,le]=w.useState(null),[ve,xe]=w.useState({}),[we,F]=w.useState(!1),ne=w.useCallback(async()=>{s(!0),d(null);try{const[ce,Pe]=await Promise.all([Lz(),_s.getAll()]);e(ce),r(Pe.map(Ue=>({id:Ue.id,nom:Ue.nom||Ue.name||Ue.id})))}catch(ce){d("Erreur lors du chargement des donnes."),console.error(ce)}finally{s(!1)}},[]);w.useEffect(()=>{ne()},[ne]),w.useEffect(()=>{if(f){const ce=setTimeout(()=>m(null),4e3);return()=>clearTimeout(ce)}},[f]);const pe=t.filter(ce=>{if(p){const Pe=p.toLowerCase();if(!ce.titre.toLowerCase().includes(Pe))return!1}return!(_&&ce.disciplineId!==_||S==="true"&&!ce.isPremium||S==="false"&&ce.isPremium||A&&!ce.questions?.some(Ue=>Ue.difficulte===A))}),_e=()=>{P(null),I({disciplineId:"",titre:"",questions:[xO()],duree:15,isPremium:!1,noteMinimale:50}),q(null),V("form")},Q=ce=>{P(ce),I({disciplineId:ce.disciplineId,titre:ce.titre,questions:ce.questions||[],duree:ce.duree||15,isPremium:ce.isPremium||!1,noteMinimale:ce.noteMinimale||50}),q(null),V("form")},K=async()=>{if(!O.titre.trim()){d("Le titre du quiz est obligatoire.");return}if(!O.disciplineId){d("Veuillez slectionner une discipline.");return}if(O.questions.length===0){d("Le quiz doit contenir au moins une question.");return}for(let ce=0;ce<O.questions.length;ce++){const Pe=O.questions[ce];if(!Pe.question.trim()){d(`La question ${ce+1} n'a pas d'nonc.`);return}if(Pe.options.filter(Ge=>!Ge.trim()).length>0){d(`La question ${ce+1} a des options vides.`);return}}B(!0),d(null);try{L?(await IQ(L.id,O),m("Quiz mis  jour avec succs !")):(await PQ(O),m("Quiz cr avec succs !")),await ne(),V("list")}catch(ce){d("Erreur lors de la sauvegarde du quiz."),console.error(ce)}finally{B(!1)}},ye=async ce=>{try{await RQ(ce),m("Quiz supprim avec succs."),Se(null),await ne()}catch(Pe){d("Erreur lors de la suppression du quiz."),console.error(Pe)}},Le=()=>{const ce=xO();I(Pe=>({...Pe,questions:[...Pe.questions,ce]})),q(ce.id)},ie=ce=>{const Pe=O.questions.find(On=>On.id===ce);if(!Pe)return;const Ue={...Pe,id:`q_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,question:`${Pe.question} (copie)`},Ge=O.questions.findIndex(On=>On.id===ce),Mt=[...O.questions];Mt.splice(Ge+1,0,Ue),I(On=>({...On,questions:Mt})),q(Ue.id)},Te=ce=>{I(Pe=>({...Pe,questions:Pe.questions.filter(Ue=>Ue.id!==ce)})),$===ce&&q(null)},Y=(ce,Pe,Ue)=>{I(Ge=>({...Ge,questions:Ge.questions.map(Mt=>Mt.id===ce?{...Mt,[Pe]:Ue}:Mt)}))},he=(ce,Pe,Ue)=>{I(Ge=>({...Ge,questions:Ge.questions.map(Mt=>Mt.id===ce?{...Mt,options:Mt.options.map((On,Nr)=>Nr===Pe?Ue:On)}:Mt)}))},Re=ce=>{le(ce),xe({}),F(!1),V("preview")},Be=(ce,Pe)=>{we||xe(Ue=>({...Ue,[ce]:Pe}))},rt=()=>{F(!0)},ct=ce=>n.find(Pe=>Pe.id===ce)?.nom||ce,pt=({level:ce})=>{const Pe={facile:"quiz-badge-facile",moyen:"quiz-badge-moyen",difficile:"quiz-badge-difficile"};return c.jsx("span",{className:`quiz-badge ${Pe[ce]||"quiz-badge-moyen"}`,children:ce.charAt(0).toUpperCase()+ce.slice(1)})},sr=()=>c.jsxs(c.Fragment,{children:[l&&c.jsxs("div",{className:"admin-message admin-message-error",children:[c.jsx(nv,{size:18}),c.jsx("span",{children:l}),c.jsx("button",{onClick:()=>d(null),className:"admin-message-close",children:c.jsx(sc,{size:16})})]}),f&&c.jsxs("div",{className:"admin-message admin-message-success",children:[c.jsx(hn,{size:18}),c.jsx("span",{children:f})]})]}),Nt=()=>c.jsxs("div",{className:"quiz-manager",children:[c.jsxs("div",{className:"admin-header",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"admin-title",children:[c.jsx(ea,{size:24})," Gestion des Quiz"]}),c.jsxs("p",{className:"admin-subtitle",children:[t.length," quiz au total  ",pe.length," affich(s)"]})]}),c.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:_e,children:[c.jsx(Xp,{size:18})," Nouveau Quiz"]})]}),c.jsxs("div",{className:"admin-toolbar",children:[c.jsxs("div",{className:"admin-search-wrapper",children:[c.jsx(Rz,{size:18,className:"admin-search-icon"}),c.jsx("input",{type:"text",className:"admin-search-input",placeholder:"Rechercher un quiz...",value:p,onChange:ce=>g(ce.target.value)})]}),c.jsxs("button",{className:`admin-btn admin-btn-outline ${D?"active":""}`,onClick:()=>k(!D),children:[c.jsx(Iz,{size:16})," Filtres",D?c.jsx(X1,{size:14}):c.jsx(tv,{size:14})]})]}),D&&c.jsxs("div",{className:"admin-filters-panel",children:[c.jsxs("div",{className:"admin-filter-group",children:[c.jsx("label",{className:"admin-filter-label",children:"Discipline"}),c.jsxs("select",{className:"admin-select",value:_,onChange:ce=>x(ce.target.value),children:[c.jsx("option",{value:"",children:"Toutes les disciplines"}),n.map(ce=>c.jsx("option",{value:ce.id,children:ce.nom},ce.id))]})]}),c.jsxs("div",{className:"admin-filter-group",children:[c.jsx("label",{className:"admin-filter-label",children:"Accs"}),c.jsxs("select",{className:"admin-select",value:S,onChange:ce=>E(ce.target.value),children:[c.jsx("option",{value:"",children:"Tous"}),c.jsx("option",{value:"false",children:"Gratuit"}),c.jsx("option",{value:"true",children:"Premium"})]})]}),c.jsxs("div",{className:"admin-filter-group",children:[c.jsx("label",{className:"admin-filter-label",children:"Difficult"}),c.jsxs("select",{className:"admin-select",value:A,onChange:ce=>C(ce.target.value),children:[c.jsx("option",{value:"",children:"Toutes"}),c.jsx("option",{value:"facile",children:"Facile"}),c.jsx("option",{value:"moyen",children:"Moyen"}),c.jsx("option",{value:"difficile",children:"Difficile"})]})]}),c.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{x(""),E(""),C(""),g("")},children:"Rinitialiser"})]}),i?c.jsxs("div",{className:"admin-loading",children:[c.jsx("div",{className:"admin-spinner"}),c.jsx("p",{children:"Chargement des quiz..."})]}):pe.length===0?c.jsxs("div",{className:"admin-empty-state",children:[c.jsx(jg,{size:48}),c.jsx("h3",{children:"Aucun quiz trouv"}),c.jsx("p",{children:t.length===0?"Crez votre premier quiz pour vos lves.":"Aucun quiz ne correspond  vos filtres."}),t.length===0&&c.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:_e,children:[c.jsx(Xp,{size:18})," Crer un quiz"]})]}):c.jsx("div",{className:"quiz-grid",children:pe.map(ce=>{const Pe=wO(ce);return c.jsxs("div",{className:"quiz-card",children:[c.jsxs("div",{className:"quiz-card-header",children:[c.jsxs("div",{className:"quiz-card-title-row",children:[c.jsx("h3",{className:"quiz-card-title",children:ce.titre}),ce.isPremium&&c.jsxs("span",{className:"quiz-badge quiz-badge-premium",children:[c.jsx(oi,{size:12})," Premium"]})]}),c.jsx("span",{className:"quiz-card-discipline",children:ct(ce.disciplineId)})]}),c.jsxs("div",{className:"quiz-card-stats",children:[c.jsxs("div",{className:"quiz-stat",children:[c.jsx(jg,{size:14}),c.jsxs("span",{children:[Pe.nombreQuestions," question(s)"]})]}),c.jsxs("div",{className:"quiz-stat",children:[c.jsx(_c,{size:14}),c.jsxs("span",{children:[Pe.totalPoints," pts"]})]}),c.jsxs("div",{className:"quiz-stat",children:[c.jsx(id,{size:14}),c.jsxs("span",{children:[Pe.duree," min"]})]})]}),c.jsxs("div",{className:"quiz-card-difficulty",children:[Pe.parDifficulte.facile>0&&c.jsx(pt,{level:"facile"}),Pe.parDifficulte.moyen>0&&c.jsx(pt,{level:"moyen"}),Pe.parDifficulte.difficile>0&&c.jsx(pt,{level:"difficile"})]}),c.jsxs("div",{className:"quiz-card-actions",children:[c.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>Re(ce),title:"Prvisualiser",children:[c.jsx(J1,{size:14})," Aperu"]}),c.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>Q(ce),title:"Modifier",children:[c.jsx(pY,{size:14})," Modifier"]}),be===ce.id?c.jsxs("div",{className:"quiz-delete-confirm",children:[c.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-danger",onClick:()=>ye(ce.id),children:"Confirmer"}),c.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-ghost",onClick:()=>Se(null),children:"Annuler"})]}):c.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-danger-outline",onClick:()=>Se(ce.id),title:"Supprimer",children:c.jsx(fO,{size:14})})]})]},ce.id)})})]}),Ct=()=>c.jsxs("div",{className:"quiz-manager",children:[c.jsxs("div",{className:"admin-header",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"admin-title",children:[c.jsx(ea,{size:24}),L?"Modifier le quiz":"Nouveau quiz"]}),c.jsxs("p",{className:"admin-subtitle",children:[O.questions.length," question(s) ajoute(s)"]})]}),c.jsxs("div",{className:"admin-header-actions",children:[c.jsxs("button",{className:"admin-btn admin-btn-ghost",onClick:()=>V("list"),children:[c.jsx(sc,{size:18})," Annuler"]}),c.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:K,disabled:z,children:[c.jsx(AY,{size:18})," ",z?"Enregistrement...":"Enregistrer"]})]})]}),c.jsxs("div",{className:"admin-card quiz-form-section",children:[c.jsx("h3",{className:"quiz-form-section-title",children:"Informations gnrales"}),c.jsxs("div",{className:"quiz-form-grid",children:[c.jsxs("div",{className:"admin-form-group quiz-form-full",children:[c.jsx("label",{className:"admin-label",children:"Titre du quiz *"}),c.jsx("input",{type:"text",className:"admin-input",placeholder:"Ex : Quiz - Les Misrables, Chapitre 1",value:O.titre,onChange:ce=>I(Pe=>({...Pe,titre:ce.target.value}))})]}),c.jsxs("div",{className:"admin-form-group",children:[c.jsx("label",{className:"admin-label",children:"Discipline *"}),c.jsxs("select",{className:"admin-select",value:O.disciplineId,onChange:ce=>I(Pe=>({...Pe,disciplineId:ce.target.value})),children:[c.jsx("option",{value:"",children:"-- Slectionner --"}),n.map(ce=>c.jsx("option",{value:ce.id,children:ce.nom},ce.id))]})]}),c.jsxs("div",{className:"admin-form-group",children:[c.jsx("label",{className:"admin-label",children:"Dure (minutes)"}),c.jsx("input",{type:"number",className:"admin-input",min:1,max:180,value:O.duree,onChange:ce=>I(Pe=>({...Pe,duree:parseInt(ce.target.value)||15}))})]}),c.jsxs("div",{className:"admin-form-group",children:[c.jsx("label",{className:"admin-label",children:"Note minimale (%)"}),c.jsx("input",{type:"number",className:"admin-input",min:0,max:100,value:O.noteMinimale,onChange:ce=>I(Pe=>({...Pe,noteMinimale:parseInt(ce.target.value)||50}))})]}),c.jsxs("div",{className:"admin-form-group",children:[c.jsx("label",{className:"admin-label",children:"Accs"}),c.jsxs("div",{className:`quiz-toggle ${O.isPremium?"quiz-toggle-active":""}`,onClick:()=>I(ce=>({...ce,isPremium:!ce.isPremium})),children:[c.jsx(oi,{size:16}),c.jsx("span",{children:O.isPremium?"Premium (2 000 FCFA/mois)":"Gratuit"})]})]})]})]}),c.jsxs("div",{className:"admin-card quiz-form-section",children:[c.jsxs("div",{className:"quiz-questions-header",children:[c.jsxs("h3",{className:"quiz-form-section-title",children:["Questions (",O.questions.length,")"]}),c.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-primary",onClick:Le,children:[c.jsx(Xp,{size:14})," Ajouter une question"]})]}),O.questions.length===0?c.jsxs("div",{className:"admin-empty-state",style:{padding:"2rem"},children:[c.jsx(jg,{size:36}),c.jsx("p",{children:'Aucune question. Cliquez sur "Ajouter une question" pour commencer.'})]}):c.jsx("div",{className:"quiz-questions-list",children:O.questions.map((ce,Pe)=>c.jsxs("div",{className:`quiz-question-item ${$===ce.id?"expanded":""}`,children:[c.jsxs("div",{className:"quiz-question-header",onClick:()=>q($===ce.id?null:ce.id),children:[c.jsxs("div",{className:"quiz-question-header-left",children:[c.jsx(YW,{size:16,className:"quiz-grip-icon"}),c.jsxs("span",{className:"quiz-question-number",children:["Q",Pe+1]}),c.jsx("span",{className:"quiz-question-preview",children:ce.question||"Question sans nonc..."})]}),c.jsxs("div",{className:"quiz-question-header-right",children:[c.jsx(pt,{level:ce.difficulte||"moyen"}),c.jsxs("span",{className:"quiz-question-points",children:[ce.points," pt(s)"]}),$===ce.id?c.jsx(X1,{size:16}):c.jsx(tv,{size:16})]})]}),$===ce.id&&c.jsxs("div",{className:"quiz-question-body",children:[c.jsxs("div",{className:"admin-form-group",children:[c.jsx("label",{className:"admin-label",children:"nonc de la question *"}),c.jsx("textarea",{className:"admin-textarea",rows:2,placeholder:"Ex : Quel est le personnage principal du roman ?",value:ce.question,onChange:Ue=>Y(ce.id,"question",Ue.target.value)})]}),c.jsxs("div",{className:"admin-form-group",children:[c.jsx("label",{className:"admin-label",children:"Options de rponse (cliquez sur la bonne rponse)"}),c.jsx("div",{className:"quiz-options-grid",children:ce.options.map((Ue,Ge)=>c.jsxs("div",{className:`quiz-option-item ${ce.reponseCorrecte===Ge?"quiz-option-correct":""}`,children:[c.jsx("button",{type:"button",className:`quiz-option-radio ${ce.reponseCorrecte===Ge?"active":""}`,onClick:()=>Y(ce.id,"reponseCorrecte",Ge),title:ce.reponseCorrecte===Ge?"Bonne rponse":"Marquer comme bonne rponse",children:ce.reponseCorrecte===Ge?c.jsx(hn,{size:16}):c.jsx("span",{className:"quiz-option-letter",children:String.fromCharCode(65+Ge)})}),c.jsx("input",{type:"text",className:"admin-input",placeholder:`Option ${String.fromCharCode(65+Ge)}`,value:Ue,onChange:Mt=>he(ce.id,Ge,Mt.target.value)})]},Ge))})]}),c.jsxs("div",{className:"admin-form-group",children:[c.jsx("label",{className:"admin-label",children:"Explication (affiche aprs rponse)"}),c.jsx("textarea",{className:"admin-textarea",rows:2,placeholder:"Ex : Jean Valjean est le protagoniste du roman de Victor Hugo...",value:ce.explication,onChange:Ue=>Y(ce.id,"explication",Ue.target.value)})]}),c.jsxs("div",{className:"quiz-question-meta",children:[c.jsxs("div",{className:"admin-form-group",children:[c.jsx("label",{className:"admin-label",children:"Difficult"}),c.jsxs("select",{className:"admin-select",value:ce.difficulte,onChange:Ue=>Y(ce.id,"difficulte",Ue.target.value),children:[c.jsx("option",{value:"facile",children:"Facile"}),c.jsx("option",{value:"moyen",children:"Moyen"}),c.jsx("option",{value:"difficile",children:"Difficile"})]})]}),c.jsxs("div",{className:"admin-form-group",children:[c.jsx("label",{className:"admin-label",children:"Points"}),c.jsx("input",{type:"number",className:"admin-input",min:1,max:10,value:ce.points,onChange:Ue=>Y(ce.id,"points",parseInt(Ue.target.value)||1)})]})]}),c.jsxs("div",{className:"quiz-question-actions",children:[c.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>ie(ce.id),children:[c.jsx(VW,{size:14})," Dupliquer"]}),c.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-danger-outline",onClick:()=>Te(ce.id),children:[c.jsx(fO,{size:14})," Supprimer"]})]})]})]},ce.id))}),O.questions.length>0&&c.jsx("div",{className:"quiz-add-question-bottom",children:c.jsxs("button",{className:"admin-btn admin-btn-outline",onClick:Le,children:[c.jsx(Xp,{size:16})," Ajouter une question"]})})]})]}),jr=()=>{if(!W)return null;const ce=wO(W);let Pe=0,Ue=0;return we&&W.questions.forEach(Ge=>{Ue+=Ge.points||1,ve[Ge.id]===Ge.reponseCorrecte&&(Pe+=Ge.points||1)}),c.jsxs("div",{className:"quiz-manager",children:[c.jsxs("div",{className:"admin-header",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"admin-title",children:[c.jsx(J1,{size:24})," Prvisualisation : ",W.titre]}),c.jsxs("p",{className:"admin-subtitle",children:[ct(W.disciplineId),"  ",ce.nombreQuestions," questions  ",ce.duree," min"]})]}),c.jsxs("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{V("list"),le(null)},children:[c.jsx(sc,{size:18})," Fermer"]})]}),we&&c.jsxs("div",{className:`quiz-preview-score ${Pe/Ue>=(W.noteMinimale||50)/100?"success":"fail"}`,children:[c.jsx(_c,{size:32}),c.jsxs("div",{children:[c.jsxs("h3",{children:["Score : ",Pe,"/",Ue," (",Math.round(Pe/Ue*100),"%)"]}),c.jsxs("p",{children:["Note minimale : ",W.noteMinimale||50,"% "," ",Pe/Ue>=(W.noteMinimale||50)/100?" Russi !":" Non russi"]})]})]}),c.jsx("div",{className:"quiz-preview-questions",children:W.questions.map((Ge,Mt)=>{const On=ve[Ge.id],Nr=On===Ge.reponseCorrecte;return c.jsxs("div",{className:"admin-card quiz-preview-question",children:[c.jsxs("div",{className:"quiz-preview-question-header",children:[c.jsxs("span",{className:"quiz-question-number",children:["Q",Mt+1]}),c.jsx(pt,{level:Ge.difficulte||"moyen"}),c.jsxs("span",{className:"quiz-question-points",children:[Ge.points," pt(s)"]})]}),c.jsx("p",{className:"quiz-preview-question-text",children:Ge.question}),c.jsx("div",{className:"quiz-preview-options",children:Ge.options.map((Xs,Cr)=>{let zi="quiz-preview-option";return we?Cr===Ge.reponseCorrecte?zi+=" correct":Cr===On&&!Nr&&(zi+=" incorrect"):On===Cr&&(zi+=" selected"),c.jsxs("button",{className:zi,onClick:()=>Be(Ge.id,Cr),disabled:we,children:[c.jsx("span",{className:"quiz-preview-option-letter",children:String.fromCharCode(65+Cr)}),c.jsx("span",{children:Xs}),we&&Cr===Ge.reponseCorrecte&&c.jsx(hn,{size:16,className:"quiz-preview-check"})]},Cr)})}),we&&Ge.explication&&c.jsxs("div",{className:"quiz-preview-explication",children:[c.jsx("strong",{children:"Explication :"})," ",Ge.explication]})]},Ge.id)})}),!we&&c.jsx("div",{className:"quiz-preview-submit",children:c.jsxs("button",{className:"admin-btn admin-btn-primary admin-btn-lg",onClick:rt,disabled:Object.keys(ve).length<W.questions.length,children:[c.jsx(hn,{size:18})," Soumettre (",Object.keys(ve).length,"/",W.questions.length,")"]})})]})};return c.jsxs("div",{className:"admin-container",children:[sr(),M==="list"&&Nt(),M==="form"&&Ct(),M==="preview"&&jr()]})},Vz=Fr(Xe,"users"),MQ=Fr(Xe,"quizResults"),zQ=async t=>{try{let e=ia(Vz,Ps("displayName","asc"));t?.role;let r=(await aa(e)).docs.map(i=>({uid:i.id,...i.data()}));return t?.isPremium,t?.isActive,t?.search,r}catch(e){throw console.error("Erreur lors de la rcupration des utilisateurs :",e),e}},LQ=async(t,e)=>{try{await Pi(Lt(Xe,"users",t),{role:e,updatedAt:mt.now()})}catch(n){throw console.error("Erreur lors de la mise  jour du rle :",n),n}},VQ=async(t,e)=>{try{const n={isPremium:e,updatedAt:mt.now()};if(e){const r=new Date;r.setDate(r.getDate()+30),n.subscriptionEnd=mt.fromDate(r)}else n.subscriptionEnd=null;await Pi(Lt(Xe,"users",t),n)}catch(n){throw console.error("Erreur lors de la mise  jour du statut Premium :",n),n}},UQ=async(t,e)=>{try{await Pi(Lt(Xe,"users",t),{isActive:e,updatedAt:mt.now()})}catch(n){throw console.error("Erreur lors du changement de statut du compte :",n),n}},qQ=async t=>{try{const e=ia(MQ,Wi("userId","==",t)),r=(await aa(e)).docs.map(f=>({id:f.id,...f.data()})),i=r.length,s=r.filter(f=>f.reussi).length,l=i>0?Math.round(r.reduce((f,m)=>f+m.score,0)/i):0,d=r.length>0?new Date(Math.max(...r.map(f=>{const m=f.datePassage;return m?.toDate?m.toDate().getTime():new Date(m).getTime()}))):null;return{totalQuizPasses:i,scoresMoyens:l,quizReussis:s,dernierQuiz:d}}catch(e){return console.error("Erreur lors du calcul des statistiques :",e),{totalQuizPasses:0,scoresMoyens:0,quizReussis:0,dernierQuiz:null}}},BQ=async()=>{try{const e=(await aa(Vz)).docs.map(n=>n.data());return{total:e.length,admins:e.filter(n=>n.role==="admin").length,profs:e.filter(n=>n.role==="prof").length,eleves:e.filter(n=>n.role==="eleve").length,premium:e.filter(n=>n.isPremium).length,actifs:e.filter(n=>n.isActive!==!1).length}}catch(t){throw console.error("Erreur lors du calcul des stats globales :",t),t}},$Q=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(null),[i,s]=w.useState(!0),[l,d]=w.useState(null),[f,m]=w.useState(null),[p,g]=w.useState(""),[_,x]=w.useState(""),[S,E]=w.useState(""),[A,C]=w.useState(""),[D,k]=w.useState(!1),[M,V]=w.useState(null),[L,P]=w.useState(null),[O,I]=w.useState(!1),[$,q]=w.useState(null),[z,B]=w.useState(null),be=w.useCallback(async()=>{s(!0),d(null);try{const[Q,K]=await Promise.all([zQ(),BQ()]);e(Q),r(K)}catch(Q){d("Erreur lors du chargement des utilisateurs."),console.error(Q)}finally{s(!1)}},[]);w.useEffect(()=>{be()},[be]),w.useEffect(()=>{if(f){const Q=setTimeout(()=>m(null),4e3);return()=>clearTimeout(Q)}},[f]);const Se=t.filter(Q=>{if(p){const K=p.toLowerCase();if(!Q.displayName?.toLowerCase().includes(K)&&!Q.email?.toLowerCase().includes(K))return!1}return!(_&&Q.role!==_||S==="true"&&!Q.isPremium||S==="false"&&Q.isPremium||A==="true"&&Q.isActive===!1||A==="false"&&Q.isActive!==!1)}),W=async Q=>{V(Q),I(!0);try{const K=await qQ(Q.uid);P(K)}catch(K){console.error("Erreur lors du chargement des statistiques :",K),P(null)}finally{I(!1)}},le=async()=>{if(z){q(z.userId);try{switch(z.type){case"role":await LQ(z.userId,z.value),m("Rle mis  jour avec succs.");break;case"premium":await VQ(z.userId,z.value),m(z.value?"Statut Premium activ (30 jours).":"Statut Premium dsactiv.");break;case"active":await UQ(z.userId,z.value),m(z.value?"Compte ractiv.":"Compte dsactiv.");break}await be()}catch(Q){d("Erreur lors de l'excution de l'action."),console.error(Q)}finally{q(null),B(null)}}},ve=({role:Q})=>{const K={admin:{icon:c.jsx(oS,{size:12}),className:"user-badge-admin",label:"Admin"},prof:{icon:c.jsx(ad,{size:12}),className:"user-badge-prof",label:"Professeur"},eleve:{icon:c.jsx(ea,{size:12}),className:"user-badge-eleve",label:"lve"}},ye=K[Q]||K.eleve;return c.jsxs("span",{className:`user-badge ${ye.className}`,children:[ye.icon," ",ye.label]})},xe=Q=>Q?(Q?.toDate?Q.toDate():new Date(Q)).toLocaleDateString("fr-SN",{day:"2-digit",month:"short",year:"numeric"}):"N/A",we=Q=>Q?Q.charAt(0).toUpperCase():"?",F=()=>c.jsxs(c.Fragment,{children:[l&&c.jsxs("div",{className:"admin-message admin-message-error",children:[c.jsx(nv,{size:18}),c.jsx("span",{children:l}),c.jsx("button",{onClick:()=>d(null),className:"admin-message-close",children:c.jsx(sc,{size:16})})]}),f&&c.jsxs("div",{className:"admin-message admin-message-success",children:[c.jsx(hn,{size:18}),c.jsx("span",{children:f})]})]}),ne=()=>{if(!n)return null;const Q=[{label:"Total",value:n.total,icon:c.jsx(Ng,{size:20}),color:"stat-blue"},{label:"lves",value:n.eleves,icon:c.jsx(ea,{size:20}),color:"stat-green"},{label:"Professeurs",value:n.profs,icon:c.jsx(ad,{size:20}),color:"stat-purple"},{label:"Premium",value:n.premium,icon:c.jsx(oi,{size:20}),color:"stat-gold"}];return c.jsx("div",{className:"user-stats-grid",children:Q.map(K=>c.jsxs("div",{className:`user-stat-card ${K.color}`,children:[c.jsx("div",{className:"user-stat-icon",children:K.icon}),c.jsxs("div",{className:"user-stat-info",children:[c.jsx("span",{className:"user-stat-value",children:K.value}),c.jsx("span",{className:"user-stat-label",children:K.label})]})]},K.label))})},pe=()=>z?c.jsx("div",{className:"admin-modal-overlay",onClick:()=>B(null),children:c.jsxs("div",{className:"admin-modal",onClick:Q=>Q.stopPropagation(),children:[c.jsxs("div",{className:"admin-modal-header",children:[c.jsx("h3",{children:"Confirmer l'action"}),c.jsx("button",{className:"admin-modal-close",onClick:()=>B(null),children:c.jsx(sc,{size:20})})]}),c.jsx("div",{className:"admin-modal-body",children:c.jsx("p",{children:z.label})}),c.jsxs("div",{className:"admin-modal-footer",children:[c.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>B(null),children:"Annuler"}),c.jsx("button",{className:"admin-btn admin-btn-primary",onClick:le,disabled:$===z.userId,children:$===z.userId?"En cours...":"Confirmer"})]})]})}):null,_e=()=>M?c.jsx("div",{className:"admin-modal-overlay",onClick:()=>V(null),children:c.jsxs("div",{className:"admin-modal admin-modal-lg",onClick:Q=>Q.stopPropagation(),children:[c.jsxs("div",{className:"admin-modal-header",children:[c.jsx("h3",{children:"Dtail de l'utilisateur"}),c.jsx("button",{className:"admin-modal-close",onClick:()=>V(null),children:c.jsx(sc,{size:20})})]}),c.jsxs("div",{className:"admin-modal-body",children:[c.jsxs("div",{className:"user-detail-profile",children:[c.jsx("div",{className:"user-detail-avatar",children:we(M.displayName)}),c.jsxs("div",{className:"user-detail-info",children:[c.jsx("h4",{children:M.displayName||"Sans nom"}),c.jsx("p",{children:M.email}),c.jsxs("div",{className:"user-detail-badges",children:[c.jsx(ve,{role:M.role}),M.isPremium&&c.jsxs("span",{className:"user-badge user-badge-premium",children:[c.jsx(oi,{size:12})," Premium"]}),c.jsx("span",{className:`user-badge ${M.isActive!==!1?"user-badge-active":"user-badge-inactive"}`,children:M.isActive!==!1?"Actif":"Dsactiv"})]})]})]}),c.jsxs("div",{className:"user-detail-dates",children:[c.jsxs("div",{children:[c.jsx("span",{className:"user-detail-date-label",children:"Inscription"}),c.jsx("span",{children:xe(M.createdAt)})]}),M.isPremium&&M.subscriptionEnd&&c.jsxs("div",{children:[c.jsx("span",{className:"user-detail-date-label",children:"Premium jusqu'au"}),c.jsx("span",{children:xe(M.subscriptionEnd)})]})]}),c.jsxs("div",{className:"user-detail-stats-section",children:[c.jsxs("h4",{children:[c.jsx(Q1,{size:18})," Statistiques"]}),O?c.jsxs("div",{className:"admin-loading",style:{padding:"1rem"},children:[c.jsx("div",{className:"admin-spinner"}),c.jsx("p",{children:"Chargement des statistiques..."})]}):L?c.jsxs("div",{className:"user-detail-stats-grid",children:[c.jsxs("div",{className:"user-detail-stat",children:[c.jsx(ea,{size:20}),c.jsx("span",{className:"user-detail-stat-value",children:L.totalQuizPasses}),c.jsx("span",{className:"user-detail-stat-label",children:"Quiz passs"})]}),c.jsxs("div",{className:"user-detail-stat",children:[c.jsx(nw,{size:20}),c.jsxs("span",{className:"user-detail-stat-value",children:[L.scoresMoyens,"%"]}),c.jsx("span",{className:"user-detail-stat-label",children:"Score moyen"})]}),c.jsxs("div",{className:"user-detail-stat",children:[c.jsx(_c,{size:20}),c.jsx("span",{className:"user-detail-stat-value",children:L.quizReussis}),c.jsx("span",{className:"user-detail-stat-label",children:"Quiz russis"})]}),c.jsxs("div",{className:"user-detail-stat",children:[c.jsx(id,{size:20}),c.jsx("span",{className:"user-detail-stat-value",children:L.dernierQuiz?xe(L.dernierQuiz):"Aucun"}),c.jsx("span",{className:"user-detail-stat-label",children:"Dernier quiz"})]})]}):c.jsx("p",{className:"user-detail-no-stats",children:"Aucune statistique disponible."})]})]})]})}):null;return c.jsxs("div",{className:"admin-container",children:[F(),pe(),_e(),c.jsxs("div",{className:"user-manager",children:[c.jsxs("div",{className:"admin-header",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"admin-title",children:[c.jsx(Ng,{size:24})," Gestion des Utilisateurs"]}),c.jsxs("p",{className:"admin-subtitle",children:[t.length," utilisateur(s) au total  ",Se.length," affich(s)"]})]}),c.jsxs("button",{className:"admin-btn admin-btn-outline",onClick:be,children:[c.jsx(xY,{size:16})," Actualiser"]})]}),ne(),c.jsxs("div",{className:"admin-toolbar",children:[c.jsxs("div",{className:"admin-search-wrapper",children:[c.jsx(Rz,{size:18,className:"admin-search-icon"}),c.jsx("input",{type:"text",className:"admin-search-input",placeholder:"Rechercher par nom ou email...",value:p,onChange:Q=>g(Q.target.value)})]}),c.jsxs("button",{className:`admin-btn admin-btn-outline ${D?"active":""}`,onClick:()=>k(!D),children:[c.jsx(Iz,{size:16})," Filtres",D?c.jsx(X1,{size:14}):c.jsx(tv,{size:14})]})]}),D&&c.jsxs("div",{className:"admin-filters-panel",children:[c.jsxs("div",{className:"admin-filter-group",children:[c.jsx("label",{className:"admin-filter-label",children:"Rle"}),c.jsxs("select",{className:"admin-select",value:_,onChange:Q=>x(Q.target.value),children:[c.jsx("option",{value:"",children:"Tous les rles"}),c.jsx("option",{value:"admin",children:"Admin"}),c.jsx("option",{value:"prof",children:"Professeur"}),c.jsx("option",{value:"eleve",children:"lve"})]})]}),c.jsxs("div",{className:"admin-filter-group",children:[c.jsx("label",{className:"admin-filter-label",children:"Abonnement"}),c.jsxs("select",{className:"admin-select",value:S,onChange:Q=>E(Q.target.value),children:[c.jsx("option",{value:"",children:"Tous"}),c.jsx("option",{value:"true",children:"Premium"}),c.jsx("option",{value:"false",children:"Gratuit"})]})]}),c.jsxs("div",{className:"admin-filter-group",children:[c.jsx("label",{className:"admin-filter-label",children:"Statut"}),c.jsxs("select",{className:"admin-select",value:A,onChange:Q=>C(Q.target.value),children:[c.jsx("option",{value:"",children:"Tous"}),c.jsx("option",{value:"true",children:"Actifs"}),c.jsx("option",{value:"false",children:"Dsactivs"})]})]}),c.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{x(""),E(""),C(""),g("")},children:"Rinitialiser"})]}),i?c.jsxs("div",{className:"admin-loading",children:[c.jsx("div",{className:"admin-spinner"}),c.jsx("p",{children:"Chargement des utilisateurs..."})]}):Se.length===0?c.jsxs("div",{className:"admin-empty-state",children:[c.jsx(Ng,{size:48}),c.jsx("h3",{children:"Aucun utilisateur trouv"}),c.jsx("p",{children:t.length===0?"Aucun utilisateur n'est encore inscrit.":"Aucun utilisateur ne correspond  vos filtres."})]}):c.jsx("div",{className:"user-table-wrapper",children:c.jsxs("table",{className:"user-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Utilisateur"}),c.jsx("th",{children:"Rle"}),c.jsx("th",{children:"Abonnement"}),c.jsx("th",{children:"Statut"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:Se.map(Q=>c.jsxs("tr",{className:Q.isActive===!1?"user-row-inactive":"",children:[c.jsx("td",{children:c.jsxs("div",{className:"user-cell-info",children:[c.jsx("div",{className:"user-avatar-sm",children:we(Q.displayName)}),c.jsxs("div",{children:[c.jsx("span",{className:"user-cell-name",children:Q.displayName||"Sans nom"}),c.jsx("span",{className:"user-cell-email",children:Q.email})]})]})}),c.jsx("td",{children:c.jsxs("select",{className:"admin-select admin-select-sm",value:Q.role,onChange:K=>B({type:"role",userId:Q.uid,value:K.target.value,label:`Changer le rle de "${Q.displayName||Q.email}" en "${K.target.value}" ?`}),children:[c.jsx("option",{value:"eleve",children:"lve"}),c.jsx("option",{value:"prof",children:"Professeur"}),c.jsx("option",{value:"admin",children:"Admin"})]})}),c.jsx("td",{children:c.jsx("button",{className:`user-premium-toggle ${Q.isPremium?"active":""}`,onClick:()=>B({type:"premium",userId:Q.uid,value:!Q.isPremium,label:Q.isPremium?`Dsactiver le statut Premium de "${Q.displayName||Q.email}" ?`:`Activer le statut Premium de "${Q.displayName||Q.email}" pour 30 jours ?`}),disabled:$===Q.uid,children:Q.isPremium?c.jsxs(c.Fragment,{children:[c.jsx(Xf,{size:14})," Premium"]}):c.jsxs(c.Fragment,{children:[c.jsx(oi,{size:14})," Gratuit"]})})}),c.jsx("td",{children:c.jsx("button",{className:`user-status-toggle ${Q.isActive!==!1?"active":"inactive"}`,onClick:()=>B({type:"active",userId:Q.uid,value:Q.isActive===!1,label:Q.isActive===!1?`Ractiver le compte de "${Q.displayName||Q.email}" ?`:`Dsactiver le compte de "${Q.displayName||Q.email}" ?`}),disabled:$===Q.uid,children:Q.isActive!==!1?c.jsxs(c.Fragment,{children:[c.jsx(BY,{size:14})," Actif"]}):c.jsxs(c.Fragment,{children:[c.jsx(FY,{size:14})," Dsactiv"]})})}),c.jsx("td",{children:c.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>W(Q),title:"Voir les statistiques",children:[c.jsx(J1,{size:14})," Dtail"]})})]},Q.uid))})]})})]})]})},Uz=Fr(Xe,"quiz_results"),FQ=async t=>{try{return(await Ic(Uz,{...t,datePassage:mt.now()})).id}catch(e){throw console.error("Erreur lors de la sauvegarde du rsultat :",e),e}},Ay=async(t,e)=>{try{let n=ia(Uz,Wi("userId","==",t),Ps("datePassage","desc"));return e&&(n=ia(n,ZE(e))),(await aa(n)).docs.map(i=>({id:i.id,...i.data()}))}catch(n){throw console.error("Erreur lors de la rcupration de l'historique :",n),n}},HQ=async t=>{try{const e=await Ay(t);if(e.length===0)return{totalQuizPasses:0,totalQuizReussis:0,moyenneGenerale:0,tempsTotal:0,meilleurScore:0,serieReussites:0,meilleureSerieReussites:0};const n=e.reduce((p,g)=>p+g.pourcentage,0),r=Math.round(n/e.length),i=Math.max(...e.map(p=>p.pourcentage)),s=e.reduce((p,g)=>p+(g.tempsEcoule||0),0),l=e.filter(p=>p.reussi).length;let d=0,f=0;for(const p of e)p.reussi?(d++,f=Math.max(f,d)):(e.find(g=>!g.reussi),f=Math.max(f,d),d=0);let m=0;for(const p of e)if(p.reussi)m++;else break;return{totalQuizPasses:e.length,totalQuizReussis:l,moyenneGenerale:r,tempsTotal:s,meilleurScore:i,serieReussites:m,meilleureSerieReussites:Math.max(f,m)}}catch(e){return console.error("Erreur lors du calcul des stats :",e),{totalQuizPasses:0,totalQuizReussis:0,moyenneGenerale:0,tempsTotal:0,meilleurScore:0,serieReussites:0,meilleureSerieReussites:0}}},GQ=async t=>{try{const e=await Ay(t);if(e.length===0)return[];const n={};for(const r of e){const i=r.disciplineId;n[i]||(n[i]=[]),n[i].push(r)}return Object.entries(n).map(([r,i])=>{const s=Math.round(i.reduce((g,_)=>g+_.pourcentage,0)/i.length),l=Math.max(...i.map(g=>g.pourcentage)),d=i[0].pourcentage,f=i.filter(g=>g.reussi).length,m=i.reduce((g,_)=>g+(_.tempsEcoule||0),0);let p="stable";if(i.length>=4){const g=i.slice(0,3),_=i.slice(3,6),x=g.reduce((E,A)=>E+A.pourcentage,0)/g.length,S=_.reduce((E,A)=>E+A.pourcentage,0)/_.length;x-S>5?p="up":S-x>5&&(p="down")}return{disciplineId:r,disciplineNom:i[0].disciplineNom||r,nombreQuiz:i.length,moyenne:s,meilleurScore:l,dernierScore:d,quizReussis:f,tempsTotal:m,tendance:p}})}catch(e){return console.error("Erreur lors du calcul de la progression par discipline :",e),[]}},KQ=async(t,e)=>{try{return(await Ay(t,e||20)).reverse().map(r=>({date:(r.datePassage?.toDate?r.datePassage.toDate():new Date(r.datePassage)).toLocaleDateString("fr-SN",{day:"2-digit",month:"2-digit"}),score:r.pourcentage,discipline:r.disciplineNom||r.disciplineId}))}catch(n){return console.error("Erreur lors de la rcupration des donnes temporelles :",n),[]}},WQ=(t,e)=>[{id:"premier_quiz",nom:"Premier pas",description:"Passer votre premier quiz",icone:"",condition:"1 quiz pass",obtenu:t.totalQuizPasses>=1},{id:"dix_quiz",nom:"Explorateur",description:"Passer 10 quiz",icone:"",condition:"10 quiz passs",obtenu:t.totalQuizPasses>=10},{id:"vingt_cinq_quiz",nom:"Assidu",description:"Passer 25 quiz",icone:"",condition:"25 quiz passs",obtenu:t.totalQuizPasses>=25},{id:"cinquante_quiz",nom:"Champion",description:"Passer 50 quiz",icone:"",condition:"50 quiz passs",obtenu:t.totalQuizPasses>=50},{id:"score_parfait",nom:"Score parfait",description:"Obtenir 100%  un quiz",icone:"",condition:"100%  un quiz",obtenu:t.meilleurScore>=100},{id:"moyenne_80",nom:"Excellent",description:"Maintenir une moyenne de 80%+",icone:"",condition:"Moyenne  80%",obtenu:t.moyenneGenerale>=80&&t.totalQuizPasses>=5},{id:"moyenne_60",nom:"Bon lve",description:"Maintenir une moyenne de 60%+",icone:"",condition:"Moyenne  60%",obtenu:t.moyenneGenerale>=60&&t.totalQuizPasses>=5},{id:"serie_3",nom:"En forme",description:"3 quiz russis d'affile",icone:"",condition:"Srie de 3 russites",obtenu:t.meilleureSerieReussites>=3},{id:"serie_5",nom:"Imbattable",description:"5 quiz russis d'affile",icone:"",condition:"Srie de 5 russites",obtenu:t.meilleureSerieReussites>=5},{id:"serie_10",nom:"Lgende",description:"10 quiz russis d'affile",icone:"",condition:"Srie de 10 russites",obtenu:t.meilleureSerieReussites>=10},{id:"multi_3",nom:"Polyvalent",description:"Passer des quiz dans 3 disciplines",icone:"",condition:"3 disciplines diffrentes",obtenu:e.length>=3},{id:"multi_5",nom:"Touche--tout",description:"Passer des quiz dans 5 disciplines",icone:"",condition:"5 disciplines diffrentes",obtenu:e.length>=5}],qz=t=>{if(t<60)return`${t} s`;const e=Math.floor(t/60),n=t%60;return n>0?`${e} min ${n.toString().padStart(2,"0")} s`:`${e} min`},Lu=t=>t>=80?"#10b981":t>=60?"#3b82f6":t>=40?"#f59e0b":"#ef4444",Bz=t=>t>=80?"Excellent":t>=60?"Bien":t>=40?"Passable":" amliorer",YQ=()=>{const{quizId:t}=Tk(),e=dl(),{currentUser:n}=ca(),[r,i]=w.useState(null),[s,l]=w.useState(""),[d,f]=w.useState(!0),[m,p]=w.useState(null),[g,_]=w.useState("intro"),[x,S]=w.useState(0),[E,A]=w.useState({}),[C,D]=w.useState(0),[k,M]=w.useState(0),V=w.useRef(null),[L,P]=w.useState(0),[O,I]=w.useState(0),[$,q]=w.useState(0),[z,B]=w.useState(!1),[be,Se]=w.useState(!1);w.useEffect(()=>{(async()=>{if(!t){p("ID du quiz manquant."),f(!1);return}try{const K=await OQ(t);if(!K){p("Quiz introuvable."),f(!1);return}i(K),D(K.duree*60);try{const Le=(await _s.getAll()).find(ie=>ie.id===K.disciplineId);l(Le?.nom||Le?.name||K.disciplineId)}catch{l(K.disciplineId)}}catch(K){p("Erreur lors du chargement du quiz."),console.error(K)}finally{f(!1)}})()},[t]),w.useEffect(()=>{if(g==="playing")return V.current=setInterval(()=>{D(Q=>Q<=1?(clearInterval(V.current),xe(),0):Q-1),M(Q=>Q+1)},1e3),()=>{V.current&&clearInterval(V.current)}},[g]);const W=()=>{_("playing"),S(0),A({}),M(0),r&&D(r.duree*60)},le=(Q,K)=>{A(ye=>({...ye,[Q]:K}))},ve=Q=>{r&&Q>=0&&Q<r.questions.length&&S(Q)},xe=w.useCallback(async()=>{if(!r||!n||g==="review")return;V.current&&clearInterval(V.current);let Q=0,K=0,ye=0;r.questions.forEach(Te=>{const Y=Te.points||1;K+=Y,E[Te.id]===Te.reponseCorrecte&&(Q+=Y,ye++)});const Le=K>0?Math.round(Q/K*100):0,ie=Le>=(r.noteMinimale||50);P(Q),I(K),q(ye),_("review"),B(!0);try{const Te={quizId:r.id,quizTitre:r.titre,disciplineId:r.disciplineId,disciplineNom:s,userId:n.uid,reponses:r.questions.map(Y=>E[Y.id]??-1),tempsEcoule:k,score:Q,totalPoints:K,pourcentage:Le,reussi:ie,nombreQuestions:r.questions.length,bonnesReponses:ye};await FQ(Te),Se(!0)}catch(Te){console.error("Erreur lors de la sauvegarde :",Te)}finally{B(!1)}},[r,n,E,k,s,g]),we=Q=>{const K=Math.floor(Q/60),ye=Q%60;return`${K.toString().padStart(2,"0")}:${ye.toString().padStart(2,"0")}`},F=()=>{if(!r)return"";const Q=r.duree*60,K=C/Q;return K<=.1?"timer-critical":K<=.25?"timer-warning":""},ne=Object.keys(E).length;if(d)return c.jsxs("div",{className:"quiz-player-loading",children:[c.jsx("div",{className:"admin-spinner"}),c.jsx("p",{children:"Chargement du quiz..."})]});if(m||!r)return c.jsxs("div",{className:"quiz-player-error",children:[c.jsx(nv,{size:48}),c.jsx("h3",{children:m||"Quiz introuvable"}),c.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>e("/eleve/dashboard"),children:[c.jsx(ew,{size:18})," Retour au tableau de bord"]})]});if(r.isPremium&&!n?.isPremium)return c.jsx("div",{className:"quiz-player-locked",children:c.jsxs("div",{className:"qp-locked-card",children:[c.jsx(tw,{size:48}),c.jsx("h3",{children:"Quiz Premium"}),c.jsx("p",{children:"Ce quiz est rserv aux abonns Premium."}),c.jsxs("p",{className:"qp-locked-price",children:[" partir de ",c.jsx("strong",{children:"2 000 FCFA/mois"})]}),c.jsxs("div",{className:"qp-locked-actions",children:[c.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>e("/premium"),children:[c.jsx(oi,{size:18})," Devenir Premium"]}),c.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:()=>e("/eleve/dashboard"),children:[c.jsx(Rb,{size:18})," Retour"]})]})]})});if(g==="intro")return c.jsx("div",{className:"quiz-player-intro",children:c.jsxs("div",{className:"qp-intro-card",children:[c.jsxs("div",{className:"qp-intro-header",children:[c.jsxs("button",{className:"qp-back-btn",onClick:()=>e(-1),children:[c.jsx(Rb,{size:20})," Retour"]}),r.isPremium&&c.jsxs("span",{className:"qp-badge qp-badge-premium",children:[c.jsx(oi,{size:12})," Premium"]})]}),c.jsxs("div",{className:"qp-intro-content",children:[c.jsx("h1",{className:"qp-intro-title",children:r.titre}),c.jsx("span",{className:"qp-intro-discipline",children:s}),c.jsxs("div",{className:"qp-intro-stats",children:[c.jsxs("div",{className:"qp-intro-stat",children:[c.jsx(ea,{size:20}),c.jsxs("div",{children:[c.jsx("span",{className:"qp-intro-stat-value",children:r.questions.length}),c.jsx("span",{className:"qp-intro-stat-label",children:"Questions"})]})]}),c.jsxs("div",{className:"qp-intro-stat",children:[c.jsx(id,{size:20}),c.jsxs("div",{children:[c.jsxs("span",{className:"qp-intro-stat-value",children:[r.duree," min"]}),c.jsx("span",{className:"qp-intro-stat-label",children:"Dure"})]})]}),c.jsxs("div",{className:"qp-intro-stat",children:[c.jsx(_c,{size:20}),c.jsxs("div",{children:[c.jsxs("span",{className:"qp-intro-stat-value",children:[r.noteMinimale||50,"%"]}),c.jsx("span",{className:"qp-intro-stat-label",children:"Note min."})]})]})]}),c.jsxs("div",{className:"qp-intro-instructions",children:[c.jsx("h3",{children:"Instructions"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Rpondez  toutes les questions dans le temps imparti"}),c.jsx("li",{children:"Chaque question a une seule bonne rponse"}),c.jsx("li",{children:"Vous pouvez naviguer entre les questions"}),c.jsx("li",{children:"Le quiz est soumis automatiquement quand le temps est coul"}),c.jsxs("li",{children:["Il faut obtenir au moins ",r.noteMinimale||50,"% pour russir"]})]})]})]}),c.jsxs("button",{className:"qp-btn qp-btn-start",onClick:W,children:[c.jsx(ch,{size:20})," Commencer le quiz"]})]})});if(g==="playing"){const Q=r.questions[x];return c.jsxs("div",{className:"quiz-player-game",children:[c.jsxs("div",{className:"qp-game-header",children:[c.jsxs("div",{className:"qp-game-info",children:[c.jsx("span",{className:"qp-game-title",children:r.titre}),c.jsx("span",{className:"qp-game-discipline",children:s})]}),c.jsxs("div",{className:`qp-timer ${F()}`,children:[c.jsx(RY,{size:18}),c.jsx("span",{children:we(C)})]})]}),c.jsx("div",{className:"qp-progress-bar",children:c.jsx("div",{className:"qp-progress-fill",style:{width:`${(x+1)/r.questions.length*100}%`}})}),c.jsxs("div",{className:"qp-game-content",children:[c.jsxs("div",{className:"qp-question-header",children:[c.jsxs("span",{className:"qp-question-number",children:["Question ",x+1,"/",r.questions.length]}),c.jsxs("span",{className:"qp-question-points",children:[Q.points||1," pt(s)"]})]}),c.jsx("h2",{className:"qp-question-text",children:Q.question}),c.jsx("div",{className:"qp-options-list",children:Q.options.map((K,ye)=>c.jsxs("button",{className:`qp-option ${E[Q.id]===ye?"selected":""}`,onClick:()=>le(Q.id,ye),children:[c.jsx("span",{className:"qp-option-letter",children:String.fromCharCode(65+ye)}),c.jsx("span",{className:"qp-option-text",children:K}),E[Q.id]===ye&&c.jsx(hn,{size:18,className:"qp-option-check"})]},ye))})]}),c.jsxs("div",{className:"qp-game-footer",children:[c.jsx("div",{className:"qp-question-indicators",children:r.questions.map((K,ye)=>c.jsx("button",{className:`qp-indicator ${ye===x?"active":""} ${E[K.id]!==void 0?"answered":""}`,onClick:()=>ve(ye),children:ye+1},K.id))}),c.jsxs("div",{className:"qp-nav-buttons",children:[c.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:()=>ve(x-1),disabled:x===0,children:[c.jsx(Rb,{size:16})," Prcdent"]}),x<r.questions.length-1?c.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>ve(x+1),children:["Suivant ",c.jsx(Yl,{size:16})]}):c.jsxs("button",{className:"qp-btn qp-btn-submit",onClick:xe,disabled:ne<r.questions.length,children:[c.jsx(hn,{size:16}),"Soumettre (",ne,"/",r.questions.length,")"]})]})]})]})}const pe=O>0?Math.round(L/O*100):0,_e=pe>=(r.noteMinimale||50);return c.jsxs("div",{className:"quiz-player-review",children:[c.jsxs("div",{className:`qp-score-card ${_e?"success":"fail"}`,children:[c.jsx("div",{className:"qp-score-icon",children:_e?c.jsx(_c,{size:48}):c.jsx(nv,{size:48})}),c.jsx("h2",{className:"qp-score-title",children:_e?"Flicitations ! ":"Continuez vos efforts ! "}),c.jsxs("div",{className:"qp-score-circle",style:{borderColor:Lu(pe)},children:[c.jsxs("span",{className:"qp-score-value",children:[pe,"%"]}),c.jsx("span",{className:"qp-score-label",children:Bz(pe)})]}),c.jsxs("div",{className:"qp-score-details",children:[c.jsxs("div",{className:"qp-score-detail",children:[c.jsxs("span",{children:[$,"/",r.questions.length]}),c.jsx("small",{children:"Bonnes rponses"})]}),c.jsxs("div",{className:"qp-score-detail",children:[c.jsxs("span",{children:[L,"/",O]}),c.jsx("small",{children:"Points"})]}),c.jsxs("div",{className:"qp-score-detail",children:[c.jsx("span",{children:qz(k)}),c.jsx("small",{children:"Temps"})]})]}),z&&c.jsx("p",{className:"qp-saving",children:"Sauvegarde en cours..."}),be&&c.jsx("p",{className:"qp-saved",children:" Rsultat sauvegard"})]}),c.jsxs("div",{className:"qp-review-actions",children:[c.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>e("/eleve/dashboard"),children:[c.jsx(ew,{size:18})," Tableau de bord"]}),c.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:W,children:[c.jsx(EY,{size:18})," Recommencer"]})]}),c.jsxs("div",{className:"qp-review-questions",children:[c.jsx("h3",{className:"qp-review-title",children:"Correction dtaille"}),r.questions.map((Q,K)=>{const ye=E[Q.id],Le=ye===Q.reponseCorrecte;return c.jsxs("div",{className:`qp-review-question ${Le?"correct":"incorrect"}`,children:[c.jsxs("div",{className:"qp-review-question-header",children:[c.jsxs("span",{className:"qp-review-q-number",children:["Q",K+1]}),Le?c.jsxs("span",{className:"qp-review-badge correct",children:[c.jsx(hn,{size:14})," Correct"]}):c.jsxs("span",{className:"qp-review-badge incorrect",children:[c.jsx(Z1,{size:14})," Incorrect"]}),c.jsxs("span",{className:"qp-review-q-points",children:[Le?Q.points||1:0,"/",Q.points||1," pt(s)"]})]}),c.jsx("p",{className:"qp-review-q-text",children:Q.question}),c.jsx("div",{className:"qp-review-options",children:Q.options.map((ie,Te)=>{let Y="qp-review-option";return Te===Q.reponseCorrecte&&(Y+=" correct-answer"),Te===ye&&!Le&&(Y+=" wrong-answer"),c.jsxs("div",{className:Y,children:[c.jsx("span",{className:"qp-review-option-letter",children:String.fromCharCode(65+Te)}),c.jsx("span",{children:ie}),Te===Q.reponseCorrecte&&c.jsx(hn,{size:14,className:"qp-review-check"}),Te===ye&&!Le&&c.jsx(Z1,{size:14,className:"qp-review-x"})]},Te)})}),Q.explication&&c.jsxs("div",{className:"qp-review-explication",children:[c.jsx("strong",{children:" Explication :"})," ",Q.explication]})]},Q.id)})]})]})};function $z(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=$z(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function kt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=$z(t))&&(r&&(r+=" "),r+=e);return r}var QQ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function lS(t){if(typeof t!="string")return!1;var e=QQ;return e.includes(t)}var XQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ZQ=new Set(XQ);function Fz(t){return typeof t!="string"?!1:ZQ.has(t)}function Hz(t){return typeof t=="string"&&t.startsWith("data-")}function sa(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Fz(n)||Hz(n))&&(e[n]=t[n]);return e}function rm(t){if(t==null)return null;if(w.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return sa(e)}return typeof t=="object"&&!Array.isArray(t)?sa(t):null}function Er(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Fz(n)||Hz(n)||lS(n))&&(e[n]=t[n]);return e}function JQ(t){return t==null?null:w.isValidElement(t)?Er(t.props):typeof t=="object"&&!Array.isArray(t)?Er(t):null}var eX=["children","width","height","viewBox","className","style","title","desc"];function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rw.apply(null,arguments)}function tX(t,e){if(t==null)return{};var n,r,i=nX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Gz=w.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:d,title:f,desc:m}=t,p=tX(t,eX),g=s||{width:r,height:i,x:0,y:0},_=kt("recharts-surface",l);return w.createElement("svg",rw({},Er(p),{className:_,width:r,height:i,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),w.createElement("title",null,f),w.createElement("desc",null,m),n)}),rX=["children","className"];function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(null,arguments)}function iX(t,e){if(t==null)return{};var n,r,i=aX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ii=w.forwardRef((t,e)=>{var{children:n,className:r}=t,i=iX(t,rX),s=kt("recharts-layer",r);return w.createElement("g",iw({className:s},Er(i),{ref:e}),n)}),sX=w.createContext(null);function Ut(t){return function(){return t}}const Kz=Math.cos,iv=Math.sin,ua=Math.sqrt,av=Math.PI,Ty=2*av,aw=Math.PI,sw=2*aw,Ql=1e-6,oX=sw-Ql;function Wz(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function lX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Wz;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class cX{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Wz:lX(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,d=this._y1,f=r-e,m=i-n,p=l-e,g=d-n,_=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(_>Ql)if(!(Math.abs(g*f-m*p)>Ql)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-l,S=i-d,E=f*f+m*m,A=x*x+S*S,C=Math.sqrt(E),D=Math.sqrt(_),k=s*Math.tan((aw-Math.acos((E+_-A)/(2*C*D)))/2),M=k/D,V=k/C;Math.abs(M-1)>Ql&&this._append`L${e+M*p},${n+M*g}`,this._append`A${s},${s},0,0,${+(g*x>p*S)},${this._x1=e+V*f},${this._y1=n+V*m}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(i),f=r*Math.sin(i),m=e+d,p=n+f,g=1^l,_=l?i-s:s-i;this._x1===null?this._append`M${m},${p}`:(Math.abs(this._x1-m)>Ql||Math.abs(this._y1-p)>Ql)&&this._append`L${m},${p}`,r&&(_<0&&(_=_%sw+sw),_>oX?this._append`A${r},${r},0,1,${g},${e-d},${n-f}A${r},${r},0,1,${g},${this._x1=m},${this._y1=p}`:_>Ql&&this._append`A${r},${r},0,${+(_>=aw)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function cS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new cX(e)}function uS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Yz(t){this._context=t}Yz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function jy(t){return new Yz(t)}function Qz(t){return t[0]}function Xz(t){return t[1]}function Zz(t,e){var n=Ut(!0),r=null,i=jy,s=null,l=cS(d);t=typeof t=="function"?t:t===void 0?Qz:Ut(t),e=typeof e=="function"?e:e===void 0?Xz:Ut(e);function d(f){var m,p=(f=uS(f)).length,g,_=!1,x;for(r==null&&(s=i(x=l())),m=0;m<=p;++m)!(m<p&&n(g=f[m],m,f))===_&&((_=!_)?s.lineStart():s.lineEnd()),_&&s.point(+t(g,m,f),+e(g,m,f));if(x)return s=null,x+""||null}return d.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ut(+f),d):t},d.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ut(+f),d):e},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Ut(!!f),d):n},d.curve=function(f){return arguments.length?(i=f,r!=null&&(s=i(r)),d):i},d.context=function(f){return arguments.length?(f==null?r=s=null:s=i(r=f),d):r},d}function tg(t,e,n){var r=null,i=Ut(!0),s=null,l=jy,d=null,f=cS(m);t=typeof t=="function"?t:t===void 0?Qz:Ut(+t),e=typeof e=="function"?e:Ut(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Xz:Ut(+n);function m(g){var _,x,S,E=(g=uS(g)).length,A,C=!1,D,k=new Array(E),M=new Array(E);for(s==null&&(d=l(D=f())),_=0;_<=E;++_){if(!(_<E&&i(A=g[_],_,g))===C)if(C=!C)x=_,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),S=_-1;S>=x;--S)d.point(k[S],M[S]);d.lineEnd(),d.areaEnd()}C&&(k[_]=+t(A,_,g),M[_]=+e(A,_,g),d.point(r?+r(A,_,g):k[_],n?+n(A,_,g):M[_]))}if(D)return d=null,D+""||null}function p(){return Zz().defined(i).curve(l).context(s)}return m.x=function(g){return arguments.length?(t=typeof g=="function"?g:Ut(+g),r=null,m):t},m.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Ut(+g),m):t},m.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Ut(+g),m):r},m.y=function(g){return arguments.length?(e=typeof g=="function"?g:Ut(+g),n=null,m):e},m.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Ut(+g),m):e},m.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Ut(+g),m):n},m.lineX0=m.lineY0=function(){return p().x(t).y(e)},m.lineY1=function(){return p().x(t).y(n)},m.lineX1=function(){return p().x(r).y(e)},m.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Ut(!!g),m):i},m.curve=function(g){return arguments.length?(l=g,s!=null&&(d=l(s)),m):l},m.context=function(g){return arguments.length?(g==null?s=d=null:d=l(s=g),m):s},m}class Jz{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function uX(t){return new Jz(t,!0)}function dX(t){return new Jz(t,!1)}const dS={draw(t,e){const n=ua(e/av);t.moveTo(n,0),t.arc(0,0,n,0,Ty)}},fX={draw(t,e){const n=ua(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},eL=ua(1/3),hX=eL*2,mX={draw(t,e){const n=ua(e/hX),r=n*eL;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},pX={draw(t,e){const n=ua(e),r=-n/2;t.rect(r,r,n,n)}},gX=.8908130915292852,tL=iv(av/10)/iv(7*av/10),vX=iv(Ty/10)*tL,yX=-Kz(Ty/10)*tL,_X={draw(t,e){const n=ua(e*gX),r=vX*n,i=yX*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=Ty*s/5,d=Kz(l),f=iv(l);t.lineTo(f*n,-d*n),t.lineTo(d*r-f*i,f*r+d*i)}t.closePath()}},Ub=ua(3),bX={draw(t,e){const n=-ua(e/(Ub*3));t.moveTo(0,n*2),t.lineTo(-Ub*n,-n),t.lineTo(Ub*n,-n),t.closePath()}},Ti=-.5,ji=ua(3)/2,ow=1/ua(12),xX=(ow/2+1)*3,wX={draw(t,e){const n=ua(e/xX),r=n/2,i=n*ow,s=r,l=n*ow+n,d=-s,f=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(d,f),t.lineTo(Ti*r-ji*i,ji*r+Ti*i),t.lineTo(Ti*s-ji*l,ji*s+Ti*l),t.lineTo(Ti*d-ji*f,ji*d+Ti*f),t.lineTo(Ti*r+ji*i,Ti*i-ji*r),t.lineTo(Ti*s+ji*l,Ti*l-ji*s),t.lineTo(Ti*d+ji*f,Ti*f-ji*d),t.closePath()}};function EX(t,e){let n=null,r=cS(i);t=typeof t=="function"?t:Ut(t||dS),e=typeof e=="function"?e:Ut(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Ut(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Ut(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function sv(){}function ov(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function nL(t){this._context=t}nL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ov(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function SX(t){return new nL(t)}function rL(t){this._context=t}rL.prototype={areaStart:sv,areaEnd:sv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function AX(t){return new rL(t)}function iL(t){this._context=t}iL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function TX(t){return new iL(t)}function aL(t){this._context=t}aL.prototype={areaStart:sv,areaEnd:sv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function jX(t){return new aL(t)}function EO(t){return t<0?-1:1}function SO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),d=(s*i+l*r)/(r+i);return(EO(s)+EO(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(d))||0}function AO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function qb(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,d=(s-r)/3;t._context.bezierCurveTo(r+d,i+d*e,s-d,l-d*n,s,l)}function lv(t){this._context=t}lv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qb(this,this._t0,AO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,qb(this,AO(this,n=SO(this,t,e)),n);break;default:qb(this,this._t0,n=SO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function sL(t){this._context=new oL(t)}(sL.prototype=Object.create(lv.prototype)).point=function(t,e){lv.prototype.point.call(this,e,t)};function oL(t){this._context=t}oL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function NX(t){return new lv(t)}function CX(t){return new sL(t)}function lL(t){this._context=t}lL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=TO(t),i=TO(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function TO(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function OX(t){return new lL(t)}function Ny(t,e){this._context=t,this._t=e}Ny.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function PX(t){return new Ny(t,.5)}function IX(t){return new Ny(t,0)}function RX(t){return new Ny(t,1)}function bc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,d=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<d;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function lw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function DX(t,e){return t[e]}function kX(t){const e=[];return e.key=t,e}function MX(){var t=Ut([]),e=lw,n=bc,r=DX;function i(s){var l=Array.from(t.apply(this,arguments),kX),d,f=l.length,m=-1,p;for(const g of s)for(d=0,++m;d<f;++d)(l[d][m]=[0,+r(g,l[d].key,m,s)]).data=g;for(d=0,p=uS(e(l));d<f;++d)l[p[d]].index=d;return n(l,p),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Ut(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Ut(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?lw:typeof s=="function"?s:Ut(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??bc,i):n},i}function zX(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}bc(t,e)}}function LX(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,d=0;l<i;++l)d+=t[l][n][1]||0;r[n][1]+=r[n][0]=-d/2}bc(t,e)}}function VX(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var d=0,f=0,m=0;d<l;++d){for(var p=t[e[d]],g=p[r][1]||0,_=p[r-1][1]||0,x=(g-_)/2,S=0;S<d;++S){var E=t[e[S]],A=E[r][1]||0,C=E[r-1][1]||0;x+=A-C}f+=g,m+=x*g}i[r-1][1]+=i[r-1][0]=n,f&&(n-=m/f)}i[r-1][1]+=i[r-1][0]=n,bc(t,e)}}var Bb={},$b={},jO;function UX(){return jO||(jO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})($b)),$b}var Fb={},NO;function cL(){return NO||(NO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Fb)),Fb}var Hb={},CO;function fS(){return CO||(CO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Hb)),Hb}var Gb={},Kb={},OO;function qX(){return OO||(OO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Kb)),Kb}var PO;function hS(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qX(),n=fS();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let d=0,f="",m="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),d++);d<l;){const g=i[d];m?g==="\\"&&d+1<l?(d++,f+=i[d]):g===m?m="":f+=g:p?g==='"'||g==="'"?m=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,d++}return f&&s.push(f),s}t.toPath=r})(Gb)),Gb}var IO;function mS(){return IO||(IO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UX(),n=cL(),r=fS(),i=hS();function s(d,f,m){if(d==null)return m;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return m;const p=d[f];return p===void 0?n.isDeepKey(f)?s(d,i.toPath(f),m):m:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=d[f];return p===void 0?m:p}default:{if(Array.isArray(f))return l(d,f,m);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return m;const p=d[f];return p===void 0?m:p}}}function l(d,f,m){if(f.length===0)return m;let p=d;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return m;p=p[f[g]]}return p===void 0?m:p}t.get=s})(Bb)),Bb}var Wb,RO;function BX(){return RO||(RO=1,Wb=mS().get),Wb}var $X=BX();const sd=Ka($X);var FX=4;function Ho(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:FX,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function an(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,l)=>{var d=n[l-1];return typeof d=="string"?i+d+s:d!==void 0?i+Ho(d)+s:i+s},"")}var qr=t=>t===0?0:t>0?1:-1,$a=t=>typeof t=="number"&&t!=+t,xc=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Oe=t=>(typeof t=="number"||t instanceof Number)&&!$a(t),Fa=t=>Oe(t)||typeof t=="string",HX=0,Eh=t=>{var e=++HX;return"".concat(t||"").concat(e)},oa=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(e)&&typeof e!="string")return r;var s;if(xc(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return $a(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},uL=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function sn(t,e,n){return Oe(t)&&Oe(e)?Ho(t+n*(e-t)):e}function dL(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):sd(r,e))===n)}var Zt=t=>t===null||typeof t>"u",im=t=>Zt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Br(t){return t!=null}function Rc(){}var GX=["type","size","sizeType"];function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(null,arguments)}function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){KX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KX(t,e,n){return(e=WX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WX(t){var e=YX(t,"string");return typeof e=="symbol"?e:e+""}function YX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QX(t,e){if(t==null)return{};var n,r,i=XX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function XX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fL={symbolCircle:dS,symbolCross:fX,symbolDiamond:mX,symbolSquare:pX,symbolStar:_X,symbolTriangle:bX,symbolWye:wX},ZX=Math.PI/180,JX=t=>{var e="symbol".concat(im(t));return fL[e]||dS},eZ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*ZX;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},tZ=(t,e)=>{fL["symbol".concat(im(t))]=e},hL=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=QX(t,GX),s=kO(kO({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var d=()=>{var _=JX(l),x=EX().type(_).size(eZ(n,r,l)),S=x();if(S!==null)return S},{className:f,cx:m,cy:p}=s,g=Er(s);return Oe(m)&&Oe(p)&&Oe(n)?w.createElement("path",cw({},g,{className:kt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(p,")"),d:d()})):null};hL.registerSymbol=tZ;var mL=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,pS=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{lS(i)&&(r[i]=(s=>n[i](n,s)))}),r},nZ=(t,e,n)=>r=>(t(e,n,r),null),gS=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];lS(i)&&typeof s=="function"&&(r||(r={}),r[i]=nZ(s,e,n))}),r};function MO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(n),!0).forEach(function(r){iZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iZ(t,e,n){return(e=aZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aZ(t){var e=sZ(t,"string");return typeof e=="symbol"?e:e+""}function sZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ar(t,e){var n=rZ({},t),r=e,i=Object.keys(e),s=i.reduce((l,d)=>(l[d]===void 0&&r[d]!==void 0&&(l[d]=r[d]),l),n);return s}var Yb={},Qb={},zO;function oZ(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],d=r(l,s,n);i.has(d)||i.set(d,l)}return Array.from(i.values())}t.uniqBy=e})(Qb)),Qb}var Xb={},LO;function lZ(){return LO||(LO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(Xb)),Xb}var Zb={},VO;function pL(){return VO||(VO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Zb)),Zb}var Jb={},ex={},tx={},UO;function cZ(){return UO||(UO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(tx)),tx}var qO;function vS(){return qO||(qO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cZ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(ex)),ex}var nx={},BO;function uZ(){return BO||(BO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(nx)),nx}var $O;function dZ(){return $O||($O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vS(),n=uZ();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Jb)),Jb}var rx={},ix={},FO;function fZ(){return FO||(FO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mS();function n(r){return function(i){return e.get(i,r)}}t.property=n})(ix)),ix}var ax={},sx={},ox={},lx={},HO;function gL(){return HO||(HO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(lx)),lx}var cx={},GO;function vL(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(cx)),cx}var ux={},KO;function yL(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(ux)),ux}var WO;function hZ(){return WO||(WO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gL(),n=vL(),r=yL();function i(p,g,_){return typeof _!="function"?i(p,g,()=>{}):s(p,g,function x(S,E,A,C,D,k){const M=_(S,E,A,C,D,k);return M!==void 0?!!M:s(S,E,x,k)},new Map)}function s(p,g,_,x){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,_,x);case"function":return Object.keys(g).length>0?s(p,{...g},_,x):r.isEqualsSameValueZero(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.isEqualsSameValueZero(p,g)}}function l(p,g,_,x){if(g==null)return!0;if(Array.isArray(g))return f(p,g,_,x);if(g instanceof Map)return d(p,g,_,x);if(g instanceof Set)return m(p,g,_,x);const S=Object.keys(g);if(p==null||n.isPrimitive(p))return S.length===0;if(S.length===0)return!0;if(x?.has(g))return x.get(g)===p;x?.set(g,p);try{for(let E=0;E<S.length;E++){const A=S[E];if(!n.isPrimitive(p)&&!(A in p)||g[A]===void 0&&p[A]!==void 0||g[A]===null&&p[A]!==null||!_(p[A],g[A],A,p,g,x))return!1}return!0}finally{x?.delete(g)}}function d(p,g,_,x){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[S,E]of g.entries()){const A=p.get(S);if(_(A,E,S,p,g,x)===!1)return!1}return!0}function f(p,g,_,x){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const S=new Set;for(let E=0;E<g.length;E++){const A=g[E];let C=!1;for(let D=0;D<p.length;D++){if(S.has(D))continue;const k=p[D];let M=!1;if(_(k,A,E,p,g,x)&&(M=!0),M){S.add(D),C=!0;break}}if(!C)return!1}return!0}function m(p,g,_,x){return g.size===0?!0:p instanceof Set?f([...p],[...g],_,x):!1}t.isMatchWith=i,t.isSetMatch=m})(ox)),ox}var YO;function _L(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hZ();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(sx)),sx}var dx={},fx={},hx={},QO;function mZ(){return QO||(QO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(hx)),hx}var mx={},XO;function yS(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(mx)),mx}var px={},ZO;function bL(){return ZO||(ZO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",d="[object Date]",f="[object Map]",m="[object Set]",p="[object Array]",g="[object Function]",_="[object ArrayBuffer]",x="[object Object]",S="[object Error]",E="[object DataView]",A="[object Uint8Array]",C="[object Uint8ClampedArray]",D="[object Uint16Array]",k="[object Uint32Array]",M="[object BigUint64Array]",V="[object Int8Array]",L="[object Int16Array]",P="[object Int32Array]",O="[object BigInt64Array]",I="[object Float32Array]",$="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=_,t.arrayTag=p,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=M,t.booleanTag=i,t.dataViewTag=E,t.dateTag=d,t.errorTag=S,t.float32ArrayTag=I,t.float64ArrayTag=$,t.functionTag=g,t.int16ArrayTag=L,t.int32ArrayTag=P,t.int8ArrayTag=V,t.mapTag=f,t.numberTag=r,t.objectTag=x,t.regexpTag=e,t.setTag=m,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=D,t.uint32ArrayTag=k,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=C})(px)),px}var gx={},JO;function pZ(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(gx)),gx}var eP;function xL(){return eP||(eP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mZ(),n=yS(),r=bL(),i=vL(),s=pZ();function l(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,_,x=new Map,S=void 0){const E=S?.(p,g,_,x);if(E!==void 0)return E;if(i.isPrimitive(p))return p;if(x.has(p))return x.get(p);if(Array.isArray(p)){const A=new Array(p.length);x.set(p,A);for(let C=0;C<p.length;C++)A[C]=d(p[C],C,_,x,S);return Object.hasOwn(p,"index")&&(A.index=p.index),Object.hasOwn(p,"input")&&(A.input=p.input),A}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const A=new RegExp(p.source,p.flags);return A.lastIndex=p.lastIndex,A}if(p instanceof Map){const A=new Map;x.set(p,A);for(const[C,D]of p)A.set(C,d(D,C,_,x,S));return A}if(p instanceof Set){const A=new Set;x.set(p,A);for(const C of p)A.add(d(C,void 0,_,x,S));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const A=new(Object.getPrototypeOf(p)).constructor(p.length);x.set(p,A);for(let C=0;C<p.length;C++)A[C]=d(p[C],C,_,x,S);return A}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const A=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return x.set(p,A),f(A,p,_,x,S),A}if(typeof File<"u"&&p instanceof File){const A=new File([p],p.name,{type:p.type});return x.set(p,A),f(A,p,_,x,S),A}if(typeof Blob<"u"&&p instanceof Blob){const A=new Blob([p],{type:p.type});return x.set(p,A),f(A,p,_,x,S),A}if(p instanceof Error){const A=new p.constructor;return x.set(p,A),A.message=p.message,A.name=p.name,A.stack=p.stack,A.cause=p.cause,f(A,p,_,x,S),A}if(p instanceof Boolean){const A=new Boolean(p.valueOf());return x.set(p,A),f(A,p,_,x,S),A}if(p instanceof Number){const A=new Number(p.valueOf());return x.set(p,A),f(A,p,_,x,S),A}if(p instanceof String){const A=new String(p.valueOf());return x.set(p,A),f(A,p,_,x,S),A}if(typeof p=="object"&&m(p)){const A=Object.create(Object.getPrototypeOf(p));return x.set(p,A),f(A,p,_,x,S),A}return p}function f(p,g,_=p,x,S){const E=[...Object.keys(g),...e.getSymbols(g)];for(let A=0;A<E.length;A++){const C=E[A],D=Object.getOwnPropertyDescriptor(p,C);(D==null||D.writable)&&(p[C]=d(g[C],C,_,x,S))}}function m(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=d,t.copyProperties=f})(fx)),fx}var tP;function gZ(){return tP||(tP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xL();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(dx)),dx}var nP;function vZ(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_L(),n=gZ();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(ax)),ax}var vx={},yx={},_x={},rP;function yZ(){return rP||(rP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xL(),n=yS(),r=bL();function i(s,l){return e.cloneDeepWith(s,(d,f,m,p)=>{const g=l?.(d,f,m,p);if(g!==void 0)return g;if(typeof s=="object"){if(n.getTag(s)===r.objectTag&&typeof s.constructor!="function"){const _={};return p.set(s,_),e.copyProperties(_,s,m,p),_}switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const _=new s.constructor(s?.valueOf());return e.copyProperties(_,s),_}case r.argumentsTag:{const _={};return e.copyProperties(_,s),_.length=s.length,_[Symbol.iterator]=s[Symbol.iterator],_}default:return}}})}t.cloneDeepWith=i})(_x)),_x}var iP;function _Z(){return iP||(iP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yZ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(yx)),yx}var bx={},xx={},aP;function wL(){return aP||(aP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(xx)),xx}var wx={},sP;function bZ(){return sP||(sP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yS();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(wx)),wx}var oP;function xZ(){return oP||(oP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cL(),n=wL(),r=bZ(),i=hS();function s(l,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&e.isDeepKey(d)&&l?.[d]==null?f=i.toPath(d):f=[d],f.length===0)return!1;let m=l;for(let p=0;p<f.length;p++){const g=f[p];if((m==null||!Object.hasOwn(m,g))&&!((Array.isArray(m)||r.isArguments(m))&&n.isIndex(g)&&g<m.length))return!1;m=m[g]}return!0}t.has=s})(bx)),bx}var lP;function wZ(){return lP||(lP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_L(),n=fS(),r=_Z(),i=mS(),s=xZ();function l(d,f){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(m){const p=i.get(m,d);return p===void 0?s.has(m,d):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=l})(vx)),vx}var cP;function EZ(){return cP||(cP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pL(),n=fZ(),r=vZ(),i=wZ();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(rx)),rx}var uP;function SZ(){return uP||(uP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oZ(),n=lZ(),r=pL(),i=dZ(),s=EZ();function l(d,f=r.identity){return i.isArrayLikeObject(d)?e.uniqBy(Array.from(d),n.ary(s.iteratee(f),1)):[]}t.uniqBy=l})(Yb)),Yb}var Ex,dP;function AZ(){return dP||(dP=1,Ex=SZ().uniqBy),Ex}var TZ=AZ();const fP=Ka(TZ);function jZ(t,e,n){return e===!0?fP(t,n):typeof e=="function"?fP(t,e):t}var Sx={exports:{}},Ax={},Tx={exports:{}},jx={};var hP;function NZ(){if(hP)return jx;hP=1;var t=hd();function e(g,_){return g===_&&(g!==0||1/g===1/_)||g!==g&&_!==_}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function d(g,_){var x=_(),S=r({inst:{value:x,getSnapshot:_}}),E=S[0].inst,A=S[1];return s(function(){E.value=x,E.getSnapshot=_,f(E)&&A({inst:E})},[g,x,_]),i(function(){return f(E)&&A({inst:E}),g(function(){f(E)&&A({inst:E})})},[g]),l(x),x}function f(g){var _=g.getSnapshot;g=g.value;try{var x=_();return!n(g,x)}catch{return!0}}function m(g,_){return _()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return jx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,jx}var mP;function CZ(){return mP||(mP=1,Tx.exports=NZ()),Tx.exports}var pP;function OZ(){if(pP)return Ax;pP=1;var t=hd(),e=CZ();function n(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,d=t.useMemo,f=t.useDebugValue;return Ax.useSyncExternalStoreWithSelector=function(m,p,g,_,x){var S=s(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=d(function(){function C(L){if(!D){if(D=!0,k=L,L=_(L),x!==void 0&&E.hasValue){var P=E.value;if(x(P,L))return M=P}return M=L}if(P=M,r(k,L))return P;var O=_(L);return x!==void 0&&x(P,O)?(k=L,P):(k=L,M=O)}var D=!1,k,M,V=g===void 0?null:g;return[function(){return C(p())},V===null?void 0:function(){return C(V())}]},[p,g,_,x]);var A=i(m,S[0],S[1]);return l(function(){E.hasValue=!0,E.value=A},[A]),f(A),A},Ax}var gP;function PZ(){return gP||(gP=1,Sx.exports=OZ()),Sx.exports}var IZ=PZ(),_S=w.createContext(null),RZ=t=>t,gn=()=>{var t=w.useContext(_S);return t?t.store.dispatch:RZ},Cg=()=>{},DZ=()=>Cg,kZ=(t,e)=>t===e;function ke(t){var e=w.useContext(_S),n=w.useMemo(()=>e?r=>{if(r!=null)return t(r)}:Cg,[e,t]);return IZ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:DZ,e?e.store.getState:Cg,e?e.store.getState:Cg,n,kZ)}function MZ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function zZ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function LZ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var vP=t=>Array.isArray(t)?t:[t];function VZ(t){const e=Array.isArray(t[0])?t[0]:t;return LZ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function UZ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var qZ=class{constructor(t){this.value=t}deref(){return this.value}},BZ=typeof WeakRef<"u"?WeakRef:qZ,$Z=0,yP=1;function ng(){return{s:$Z,v:void 0,o:null,p:null}}function EL(t,e={}){let n=ng();const{resultEqualityCheck:r}=e;let i,s=0;function l(){let d=n;const{length:f}=arguments;for(let g=0,_=f;g<_;g++){const x=arguments[g];if(typeof x=="function"||typeof x=="object"&&x!==null){let S=d.o;S===null&&(d.o=S=new WeakMap);const E=S.get(x);E===void 0?(d=ng(),S.set(x,d)):d=E}else{let S=d.p;S===null&&(d.p=S=new Map);const E=S.get(x);E===void 0?(d=ng(),S.set(x,d)):d=E}}const m=d;let p;if(d.s===yP)p=d.v;else if(p=t.apply(null,arguments),s++,r){const g=i?.deref?.()??i;g!=null&&r(g,p)&&(p=g,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new BZ(p):p}return m.s=yP,m.v=p,p}return l.clearCache=()=>{n=ng(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function FZ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,d,f={},m=i.pop();typeof m=="object"&&(f=m,m=i.pop()),MZ(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const p={...n,...f},{memoize:g,memoizeOptions:_=[],argsMemoize:x=EL,argsMemoizeOptions:S=[]}=p,E=vP(_),A=vP(S),C=VZ(i),D=g(function(){return s++,m.apply(null,arguments)},...E),k=x(function(){l++;const V=UZ(C,arguments);return d=D.apply(null,V),d},...A);return Object.assign(k,{resultFunc:m,memoizedResultFunc:D,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var ae=FZ(EL),HZ=Object.assign((t,e=ae)=>{zZ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,d,f)=>(l[n[f]]=d,l),{}))},{withTypes:()=>HZ}),Nx={},Cx={},Ox={},_P;function GZ(){return _P||(_P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),d=e(i);if(l===d&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?d-l:l-d}return 0};t.compareValues=n})(Ox)),Ox}var Px={},Ix={},bP;function SL(){return bP||(bP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Ix)),Ix}var xP;function KZ(){return xP||(xP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SL(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(Px)),Px}var wP;function WZ(){return wP||(wP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GZ(),n=KZ(),r=hS();function i(s,l,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(x=>String(x));const m=(x,S)=>{let E=x;for(let A=0;A<S.length&&E!=null;++A)E=E[S[A]];return E},p=(x,S)=>S==null||x==null?S:typeof x=="object"&&"key"in x?Object.hasOwn(S,x.key)?S[x.key]:m(S,x.path):typeof x=="function"?x(S):Array.isArray(x)?m(S,x):typeof S=="object"?S[x]:S,g=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return s.map(x=>({original:x,criteria:g.map(S=>p(S,x))})).slice().sort((x,S)=>{for(let E=0;E<g.length;E++){const A=e.compareValues(x.criteria[E],S.criteria[E],d[E]);if(A!==0)return A}return 0}).map(x=>x.original)}t.orderBy=i})(Cx)),Cx}var Rx={},EP;function YZ(){return EP||(EP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(d,f)=>{for(let m=0;m<d.length;m++){const p=d[m];Array.isArray(p)&&f<s?l(p,f+1):i.push(p)}};return l(n,0),i}t.flatten=e})(Rx)),Rx}var Dx={},SP;function AL(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wL(),n=vS(),r=gL(),i=yL();function s(l,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&e.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?i.isEqualsSameValueZero(f[d],l):!1}t.isIterateeCall=s})(Dx)),Dx}var AP;function QZ(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WZ(),n=YZ(),r=AL();function i(s,...l){const d=l.length;return d>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:d>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(Nx)),Nx}var kx,TP;function XZ(){return TP||(TP=1,kx=QZ().sortBy),kx}var ZZ=XZ();const Cy=Ka(ZZ);var TL=t=>t.legend.settings,JZ=t=>t.legend.size,eJ=t=>t.legend.payload;ae([eJ,TL],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Cy(r,n):r});var rg=1;function tJ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>rg||Math.abs(l.left-e.left)>rg||Math.abs(l.top-e.top)>rg||Math.abs(l.width-e.width)>rg)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function nr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var nJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",jP=nJ,Mx=()=>Math.random().toString(36).substring(7).split("").join("."),rJ={INIT:`@@redux/INIT${Mx()}`,REPLACE:`@@redux/REPLACE${Mx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Mx()}`},cv=rJ;function bS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function jL(t,e,n){if(typeof t!="function")throw new Error(nr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(nr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(nr(1));return n(jL)(t,e)}let r=t,i=e,s=new Map,l=s,d=0,f=!1;function m(){l===s&&(l=new Map,s.forEach((A,C)=>{l.set(C,A)}))}function p(){if(f)throw new Error(nr(3));return i}function g(A){if(typeof A!="function")throw new Error(nr(4));if(f)throw new Error(nr(5));let C=!0;m();const D=d++;return l.set(D,A),function(){if(C){if(f)throw new Error(nr(6));C=!1,m(),l.delete(D),s=null}}}function _(A){if(!bS(A))throw new Error(nr(7));if(typeof A.type>"u")throw new Error(nr(8));if(typeof A.type!="string")throw new Error(nr(17));if(f)throw new Error(nr(9));try{f=!0,i=r(i,A)}finally{f=!1}return(s=l).forEach(D=>{D()}),A}function x(A){if(typeof A!="function")throw new Error(nr(10));r=A,_({type:cv.REPLACE})}function S(){const A=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(nr(11));function D(){const M=C;M.next&&M.next(p())}return D(),{unsubscribe:A(D)}},[jP](){return this}}}return _({type:cv.INIT}),{dispatch:_,subscribe:g,getState:p,replaceReducer:x,[jP]:S}}function iJ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:cv.INIT})>"u")throw new Error(nr(12));if(typeof n(void 0,{type:cv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nr(13))})}function NL(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{iJ(n)}catch(s){i=s}return function(l={},d){if(i)throw i;let f=!1;const m={};for(let p=0;p<r.length;p++){const g=r[p],_=n[g],x=l[g],S=_(x,d);if(typeof S>"u")throw d&&d.type,new Error(nr(14));m[g]=S,f=f||S!==x}return f=f||r.length!==Object.keys(l).length,f?m:l}}function uv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function aJ(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(nr(15))};const l={getState:i.getState,dispatch:(f,...m)=>s(f,...m)},d=t.map(f=>f(l));return s=uv(...d)(i.dispatch),{...i,dispatch:s}}}function CL(t){return bS(t)&&"type"in t&&typeof t.type=="string"}var OL=Symbol.for("immer-nothing"),NP=Symbol.for("immer-draftable"),Sr=Symbol.for("immer-state");function Yi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var li=Object,od=li.getPrototypeOf,dv="constructor",Oy="prototype",uw="configurable",fv="enumerable",Og="writable",Sh="value",Is=t=>!!t&&!!t[Sr];function la(t){return t?PL(t)||Iy(t)||!!t[NP]||!!t[dv]?.[NP]||Ry(t)||Dy(t):!1}var sJ=li[Oy][dv].toString(),CP=new WeakMap;function PL(t){if(!t||!xS(t))return!1;const e=od(t);if(e===null||e===li[Oy])return!0;const n=li.hasOwnProperty.call(e,dv)&&e[dv];if(n===Object)return!0;if(!Vu(n))return!1;let r=CP.get(n);return r===void 0&&(r=Function.toString.call(n),CP.set(n,r)),r===sJ}function Py(t,e,n=!0){am(t)===0?(n?Reflect.ownKeys(t):li.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function am(t){const e=t[Sr];return e?e.type_:Iy(t)?1:Ry(t)?2:Dy(t)?3:0}var OP=(t,e,n=am(t))=>n===2?t.has(e):li[Oy].hasOwnProperty.call(t,e),dw=(t,e,n=am(t))=>n===2?t.get(e):t[e],hv=(t,e,n,r=am(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function oJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Iy=Array.isArray,Ry=t=>t instanceof Map,Dy=t=>t instanceof Set,xS=t=>typeof t=="object",Vu=t=>typeof t=="function",zx=t=>typeof t=="boolean";function lJ(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var ps=t=>t.copy_||t.base_,wS=t=>t.modified_?t.copy_:t.base_;function fw(t,e){if(Ry(t))return new Map(t);if(Dy(t))return new Set(t);if(Iy(t))return Array[Oy].slice.call(t);const n=PL(t);if(e===!0||e==="class_only"&&!n){const r=li.getOwnPropertyDescriptors(t);delete r[Sr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],d=r[l];d[Og]===!1&&(d[Og]=!0,d[uw]=!0),(d.get||d.set)&&(r[l]={[uw]:!0,[Og]:!0,[fv]:d[fv],[Sh]:t[l]})}return li.create(od(t),r)}else{const r=od(t);if(r!==null&&n)return{...t};const i=li.create(r);return li.assign(i,t)}}function ES(t,e=!1){return ky(t)||Is(t)||!la(t)||(am(t)>1&&li.defineProperties(t,{set:ig,add:ig,clear:ig,delete:ig}),li.freeze(t),e&&Py(t,(n,r)=>{ES(r,!0)},!1)),t}function cJ(){Yi(2)}var ig={[Sh]:cJ};function ky(t){return t===null||!xS(t)?!0:li.isFrozen(t)}var mv="MapSet",hw="Patches",PP="ArrayMethods",IL={};function wc(t){const e=IL[t];return e||Yi(0,t),e}var IP=t=>!!IL[t],Ah,RL=()=>Ah,uJ=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:IP(mv)?wc(mv):void 0,arrayMethodsPlugin_:IP(PP)?wc(PP):void 0});function RP(t,e){e&&(t.patchPlugin_=wc(hw),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function mw(t){pw(t),t.drafts_.forEach(dJ),t.drafts_=null}function pw(t){t===Ah&&(Ah=t.parent_)}var DP=t=>Ah=uJ(Ah,t);function dJ(t){const e=t[Sr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function kP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Sr].modified_&&(mw(e),Yi(4)),la(t)&&(t=MP(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Sr].base_,t,e)}else t=MP(e,n);return fJ(e,t,!0),mw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==OL?t:void 0}function MP(t,e){if(ky(e))return e;const n=e[Sr];if(!n)return pv(e,t.handledSet_,t);if(!My(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);ML(n,t)}return n.copy_}function fJ(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ES(e,n)}function DL(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var My=(t,e)=>t.scope_===e,hJ=[];function kL(t,e,n,r){const i=ps(t),s=t.type_;if(r!==void 0&&dw(i,r,s)===e){hv(i,r,n,s);return}if(!t.draftLocations_){const d=t.draftLocations_=new Map;Py(i,(f,m)=>{if(Is(m)){const p=d.get(m)||[];p.push(f),d.set(m,p)}})}const l=t.draftLocations_.get(e)??hJ;for(const d of l)hv(i,d,n,s)}function mJ(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!My(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const l=wS(s);kL(t,s.draft_??s,l,n),ML(s,i)})}function ML(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}DL(t)}}function pJ(t,e,n){const{scope_:r}=t;if(Is(n)){const i=n[Sr];My(i,r)&&i.callbacks_.push(function(){Pg(t);const l=wS(i);kL(t,n,l,e)})}else la(n)&&t.callbacks_.push(function(){const s=ps(t);t.type_===3?s.has(n)&&pv(n,r.handledSet_,r):dw(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&pv(dw(t.copy_,e,t.type_),r.handledSet_,r)})}function pv(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Is(t)||e.has(t)||!la(t)||ky(t)||(e.add(t),Py(t,(r,i)=>{if(Is(i)){const s=i[Sr];if(My(s,n)){const l=wS(s);hv(t,r,l,t.type_),DL(s)}}else la(i)&&pv(i,e,n)})),t}function gJ(t,e){const n=Iy(t),r={type_:n?1:0,scope_:e?e.scope_:RL(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=gv;n&&(i=[r],s=Th);const{revoke:l,proxy:d}=Proxy.revocable(i,s);return r.draft_=d,r.revoke_=l,[d,r]}var gv={get(t,e){if(e===Sr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=ps(t);if(!OP(i,e,t.type_))return vJ(t,i,e);const s=i[e];if(t.finalized_||!la(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&lJ(e))return s;if(s===Lx(t.base_,e)){Pg(t);const l=t.type_===1?+e:e,d=vw(t.scope_,s,t,l);return t.copy_[l]=d}return s},has(t,e){return e in ps(t)},ownKeys(t){return Reflect.ownKeys(ps(t))},set(t,e,n){const r=zL(ps(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Lx(ps(t),e),s=i?.[Sr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(oJ(n,i)&&(n!==void 0||OP(t.base_,e,t.type_)))return!0;Pg(t),gw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),pJ(t,e,n)),!0},deleteProperty(t,e){return Pg(t),Lx(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),gw(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ps(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Og]:!0,[uw]:t.type_!==1||e!=="length",[fv]:r[fv],[Sh]:n[e]}},defineProperty(){Yi(11)},getPrototypeOf(t){return od(t.base_)},setPrototypeOf(){Yi(12)}},Th={};for(let t in gv){let e=gv[t];Th[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Th.deleteProperty=function(t,e){return Th.set.call(this,t,e,void 0)};Th.set=function(t,e,n){return gv.set.call(this,t[0],e,n,t[0])};function Lx(t,e){const n=t[Sr];return(n?ps(n):t)[e]}function vJ(t,e,n){const r=zL(e,n);return r?Sh in r?r[Sh]:r.get?.call(t.draft_):void 0}function zL(t,e){if(!(e in t))return;let n=od(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=od(n)}}function gw(t){t.modified_||(t.modified_=!0,t.parent_&&gw(t.parent_))}function Pg(t){t.copy_||(t.assigned_=new Map,t.copy_=fw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var yJ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Vu(n)&&!Vu(r)){const l=r;r=n;const d=this;return function(m=l,...p){return d.produce(m,g=>r.call(this,g,...p))}}Vu(r)||Yi(6),i!==void 0&&!Vu(i)&&Yi(7);let s;if(la(n)){const l=DP(this),d=vw(l,n,void 0);let f=!0;try{s=r(d),f=!1}finally{f?mw(l):pw(l)}return RP(l,i),kP(s,l)}else if(!n||!xS(n)){if(s=r(n),s===void 0&&(s=n),s===OL&&(s=void 0),this.autoFreeze_&&ES(s,!0),i){const l=[],d=[];wc(hw).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:d}),i(l,d)}return s}else Yi(1,n)},this.produceWithPatches=(n,r)=>{if(Vu(n))return(d,...f)=>this.produceWithPatches(d,m=>n(m,...f));let i,s;return[this.produce(n,r,(d,f)=>{i=d,s=f}),i,s]},zx(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),zx(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),zx(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){la(e)||Yi(8),Is(e)&&(e=ta(e));const n=DP(this),r=vw(n,e,void 0);return r[Sr].isManual_=!0,pw(n),r}finishDraft(e,n){const r=e&&e[Sr];(!r||!r.isManual_)&&Yi(9);const{scope_:i}=r;return RP(i,n),kP(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=wc(hw).applyPatches_;return Is(e)?i(e,n):this.produce(e,s=>i(s,n))}};function vw(t,e,n,r){const[i,s]=Ry(e)?wc(mv).proxyMap_(e,n):Dy(e)?wc(mv).proxySet_(e,n):gJ(e,n);return(n?.scope_??RL()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?mJ(n,s,r):s.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:m}=f;s.modified_&&m&&m.generatePatches_(s,[],f)}),i}function ta(t){return Is(t)||Yi(10,t),LL(t)}function LL(t){if(!la(t)||ky(t))return t;const e=t[Sr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=fw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=fw(t,!0);return Py(n,(i,s)=>{hv(n,i,LL(s))},r),e&&(e.finalized_=!1),n}var _J=new yJ,VL=_J.produce;function UL(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var bJ=UL(),xJ=UL,wJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?uv:uv.apply(null,arguments)};function Ri(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ci(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>CL(r)&&r.type===t,n}var qL=class Zf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Zf.prototype)}static get[Symbol.species](){return Zf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Zf(...e[0].concat(this)):new Zf(...e.concat(this))}};function zP(t){return la(t)?VL(t,()=>{}):t}function ag(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function EJ(t){return typeof t=="boolean"}var SJ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new qL;return n&&(EJ(n)?l.push(bJ):l.push(xJ(n.extraArgument))),l},BL="RTK_autoBatch",Wt=()=>t=>({payload:t,meta:{[BL]:!0}}),LP=t=>e=>{setTimeout(e,t)},$L=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const d=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:LP(10):t.type==="callback"?t.queueNotification:LP(t.timeout),m=()=>{l=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),_=r.subscribe(g);return d.add(p),()=>{_(),d.delete(p)}},dispatch(p){try{return i=!p?.meta?.[BL],s=!i,s&&(l||(l=!0,f(m))),r.dispatch(p)}finally{i=!0}}})},AJ=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new qL(t);return r&&i.push($L(typeof r=="object"?r:void 0)),i};function TJ(t){const e=SJ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(bS(n))d=NL(n);else throw new Error(ci(1));let f;typeof r=="function"?f=r(e):f=e();let m=uv;i&&(m=wJ({trace:!1,...typeof i=="object"&&i}));const p=aJ(...f),g=AJ(p);let _=typeof l=="function"?l(g):g();const x=m(..._);return jL(d,s,x)}function FL(t){const e={},n=[];let r;const i={addCase(s,l){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(ci(28));if(d in e)throw new Error(ci(29));return e[d]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function jJ(t){return typeof t=="function"}function NJ(t,e){let[n,r,i]=FL(e),s;if(jJ(t))s=()=>zP(t());else{const d=zP(t);s=()=>d}function l(d=s(),f){let m=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return m.filter(p=>!!p).length===0&&(m=[i]),m.reduce((p,g)=>{if(g)if(Is(p)){const x=g(p,f);return x===void 0?p:x}else{if(la(p))return VL(p,_=>g(_,f));{const _=g(p,f);if(_===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return _}}return p},d)}return l.getInitialState=s,l}var CJ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",OJ=(t=21)=>{let e="",n=t;for(;n--;)e+=CJ[Math.random()*64|0];return e},PJ=Symbol.for("rtk-slice-createasyncthunk");function IJ(t,e){return`${t}/${e}`}function RJ({creators:t}={}){const e=t?.asyncThunk?.[PJ];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(ci(11));const l=(typeof r.reducers=="function"?r.reducers(kJ()):r.reducers)||{},d=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(k,M){const V=typeof k=="string"?k:k.type;if(!V)throw new Error(ci(12));if(V in f.sliceCaseReducersByType)throw new Error(ci(13));return f.sliceCaseReducersByType[V]=M,m},addMatcher(k,M){return f.sliceMatchers.push({matcher:k,reducer:M}),m},exposeAction(k,M){return f.actionCreators[k]=M,m},exposeCaseReducer(k,M){return f.sliceCaseReducersByName[k]=M,m}};d.forEach(k=>{const M=l[k],V={reducerName:k,type:IJ(i,k),createNotation:typeof r.reducers=="function"};zJ(M)?VJ(V,M,m,e):MJ(V,M,m)});function p(){const[k={},M=[],V=void 0]=typeof r.extraReducers=="function"?FL(r.extraReducers):[r.extraReducers],L={...k,...f.sliceCaseReducersByType};return NJ(r.initialState,P=>{for(let O in L)P.addCase(O,L[O]);for(let O of f.sliceMatchers)P.addMatcher(O.matcher,O.reducer);for(let O of M)P.addMatcher(O.matcher,O.reducer);V&&P.addDefaultCase(V)})}const g=k=>k,_=new Map,x=new WeakMap;let S;function E(k,M){return S||(S=p()),S(k,M)}function A(){return S||(S=p()),S.getInitialState()}function C(k,M=!1){function V(P){let O=P[k];return typeof O>"u"&&M&&(O=ag(x,V,A)),O}function L(P=g){const O=ag(_,M,()=>new WeakMap);return ag(O,P,()=>{const I={};for(const[$,q]of Object.entries(r.selectors??{}))I[$]=DJ(q,P,()=>ag(x,P,A),M);return I})}return{reducerPath:k,getSelectors:L,get selectors(){return L(V)},selectSlice:V}}const D={name:i,reducer:E,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:A,...C(s),injectInto(k,{reducerPath:M,...V}={}){const L=M??s;return k.inject({reducerPath:L,reducer:E},V),{...D,...C(L,!0)}}};return D}}function DJ(t,e,n,r){function i(s,...l){let d=e(s);return typeof d>"u"&&r&&(d=n()),t(d,...l)}return i.unwrapped=t,i}var Hr=RJ();function kJ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function MJ({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!LJ(r))throw new Error(ci(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Ri(t,l):Ri(t))}function zJ(t){return t._reducerDefinitionType==="asyncThunk"}function LJ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function VJ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ci(18));const{payloadCreator:s,fulfilled:l,pending:d,rejected:f,settled:m,options:p}=n,g=i(t,s,p);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),d&&r.addCase(g.pending,d),f&&r.addCase(g.rejected,f),m&&r.addMatcher(g.settled,m),r.exposeCaseReducer(e,{fulfilled:l||sg,pending:d||sg,rejected:f||sg,settled:m||sg})}function sg(){}var UJ="task",HL="listener",GL="completed",SS="cancelled",qJ=`task-${SS}`,BJ=`task-${GL}`,yw=`${HL}-${SS}`,$J=`${HL}-${GL}`,zy=class{constructor(t){this.code=t,this.message=`${UJ} ${SS} (reason: ${t})`}name="TaskAbortError";message},AS=(t,e)=>{if(typeof t!="function")throw new TypeError(ci(32))},vv=()=>{},KL=(t,e=vv)=>(t.catch(e),t),WL=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),oc=t=>{if(t.aborted)throw new zy(t.reason)};function YL(t,e){let n=vv;return new Promise((r,i)=>{const s=()=>i(new zy(t.reason));if(t.aborted){s();return}n=WL(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=vv})}var FJ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof zy?"cancelled":"rejected",error:n}}finally{e?.()}},yv=t=>e=>KL(YL(t,e).then(n=>(oc(t),n))),QL=t=>{const e=yv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Yu}=Object,VP={},Ly="listenerMiddleware",HJ=(t,e)=>{const n=r=>WL(t,()=>r.abort(t.reason));return(r,i)=>{AS(r);const s=new AbortController;n(s);const l=FJ(async()=>{oc(t),oc(s.signal);const d=await r({pause:yv(s.signal),delay:QL(s.signal),signal:s.signal});return oc(s.signal),d},()=>s.abort(BJ));return i?.autoJoin&&e.push(l.catch(vv)),{result:yv(t)(l),cancel(){s.abort(qJ)}}}},GJ=(t,e)=>{const n=async(r,i)=>{oc(e);let s=()=>{};const d=[new Promise((f,m)=>{let p=t({predicate:r,effect:(g,_)=>{_.unsubscribe(),f([g,_.getState(),_.getOriginalState()])}});s=()=>{p(),m()}})];i!=null&&d.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await YL(e,Promise.race(d));return oc(e),f}finally{s()}};return(r,i)=>KL(n(r,i))},XL=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Ri(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ci(21));return AS(s),{predicate:i,type:e,effect:s}},ZL=Yu(t=>{const{type:e,predicate:n,effect:r}=XL(t);return{id:OJ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ci(22))}}},{withTypes:()=>ZL}),UP=(t,e)=>{const{type:n,effect:r,predicate:i}=XL(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},_w=t=>{t.pending.forEach(e=>{e.abort(yw)})},KJ=(t,e)=>()=>{for(const n of e.keys())_w(n);t.clear()},qP=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},JL=Yu(Ri(`${Ly}/add`),{withTypes:()=>JL}),WJ=Ri(`${Ly}/removeAll`),e3=Yu(Ri(`${Ly}/remove`),{withTypes:()=>e3}),YJ=(...t)=>{console.error(`${Ly}/error`,...t)},sm=(t={})=>{const e=new Map,n=new Map,r=x=>{const S=n.get(x)??0;n.set(x,S+1)},i=x=>{const S=n.get(x)??1;S===1?n.delete(x):n.set(x,S-1)},{extra:s,onError:l=YJ}=t;AS(l);const d=x=>(x.unsubscribe=()=>e.delete(x.id),e.set(x.id,x),S=>{x.unsubscribe(),S?.cancelActive&&_w(x)}),f=x=>{const S=UP(e,x)??ZL(x);return d(S)};Yu(f,{withTypes:()=>f});const m=x=>{const S=UP(e,x);return S&&(S.unsubscribe(),x.cancelActive&&_w(S)),!!S};Yu(m,{withTypes:()=>m});const p=async(x,S,E,A)=>{const C=new AbortController,D=GJ(f,C.signal),k=[];try{x.pending.add(C),r(x),await Promise.resolve(x.effect(S,Yu({},E,{getOriginalState:A,condition:(M,V)=>D(M,V).then(Boolean),take:D,delay:QL(C.signal),pause:yv(C.signal),extra:s,signal:C.signal,fork:HJ(C.signal,k),unsubscribe:x.unsubscribe,subscribe:()=>{e.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((M,V,L)=>{M!==C&&(M.abort(yw),L.delete(M))})},cancel:()=>{C.abort(yw),x.pending.delete(C)},throwIfCancelled:()=>{oc(C.signal)}})))}catch(M){M instanceof zy||qP(l,M,{raisedBy:"effect"})}finally{await Promise.all(k),C.abort($J),i(x),x.pending.delete(C)}},g=KJ(e,n);return{middleware:x=>S=>E=>{if(!CL(E))return S(E);if(JL.match(E))return f(E.payload);if(WJ.match(E)){g();return}if(e3.match(E))return m(E.payload);let A=x.getState();const C=()=>{if(A===VP)throw new Error(ci(23));return A};let D;try{if(D=S(E),e.size>0){const k=x.getState(),M=Array.from(e.values());for(const V of M){let L=!1;try{L=V.predicate(E,k,A)}catch(P){L=!1,qP(l,P,{raisedBy:"predicate"})}L&&p(V,E,x,C)}}}finally{A=VP}return D},startListening:f,stopListening:m,clearListeners:g}};function ci(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var QJ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},t3=Hr({name:"chartLayout",initialState:QJ,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:XJ,setLayout:ZJ,setChartSize:JJ,setScale:eee}=t3.actions,tee=t3.reducer;function n3(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function dt(t){return Number.isFinite(t)}function Ha(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){nee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nee(t,e,n){return(e=ree(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ree(t){var e=iee(t,"string");return typeof e=="symbol"?e:e+""}function iee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nn(t,e,n){return Zt(t)||Zt(e)?n:Fa(e)?sd(t,e,n):typeof e=="function"?e(t):n}var aee=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:d}=e;if((d==="vertical"||d==="horizontal"&&l==="middle")&&s!=="center"&&Oe(t[s]))return Bu(Bu({},t),{},{[s]:t[s]+(r||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&l!=="middle"&&Oe(t[l]))return Bu(Bu({},t),{},{[l]:t[l]+(i||0)})}return t},$s=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",r3=(t,e,n,r)=>{if(r)return t.map(d=>d.coordinate);var i,s,l=t.map(d=>(d.coordinate===e&&(i=!0),d.coordinate===n&&(s=!0),d.coordinate));return i||l.push(e),s||l.push(n),l},i3=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:d,isCategorical:f,categoricalDomain:m,tickCount:p,ticks:g,niceTicks:_,axisType:x}=t;if(!l)return null;var S=d==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/S:0;if(E=x==="angleAxis"&&s&&s.length>=2?qr(s[0]-s[1])*2*E:E,g||_){var A=(g||_||[]).map((C,D)=>{var k=r?r.indexOf(C):C,M=l.map(k);return dt(M)?{coordinate:M+E,value:C,offset:E,index:D}:null}).filter(Br);return A}return f&&m?m.map((C,D)=>{var k=l.map(C);return dt(k)?{coordinate:k+E,value:C,index:D,offset:E}:null}).filter(Br):l.ticks&&p!=null?l.ticks(p).map((C,D)=>{var k=l.map(C);return dt(k)?{coordinate:k+E,value:C,index:D,offset:E}:null}).filter(Br):l.domain().map((C,D)=>{var k=l.map(C);return dt(k)?{coordinate:k+E,value:r?r[C]:C,index:D,offset:E}:null}).filter(Br)},see=(t,e)=>{if(!e||e.length!==2||!Oe(e[0])||!Oe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Oe(t[0])||t[0]<n)&&(i[0]=n),(!Oe(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},oee=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0,d=0;d<n;++d){var f=t[d],m=f?.[i];if(m!=null){var p=m[1],g=m[0],_=$a(p)?g:p;_>=0?(m[0]=s,s+=_,m[1]=s):(m[0]=l,l+=_,m[1]=l)}}}},lee=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0;l<n;++l){var d=t[l],f=d?.[i];if(f!=null){var m=$a(f[1])?f[0]:f[1];m>=0?(f[0]=s,s+=m,f[1]=s):(f[0]=0,f[1]=0)}}}},cee={sign:oee,expand:zX,none:bc,silhouette:LX,wiggle:VX,positive:lee},uee=(t,e,n)=>{var r,i=(r=cee[n])!==null&&r!==void 0?r:bc,s=MX().keys(e).value((d,f)=>Number(Nn(d,f,0))).order(lw).offset(i),l=s(t);return l.forEach((d,f)=>{d.forEach((m,p)=>{var g=Nn(t[p],e[f],0);Array.isArray(g)&&g.length===2&&Oe(g[0])&&Oe(g[1])&&(m[0]=g[0],m[1]=g[1])})}),l};function dee(t){return t==null?void 0:String(t)}function $P(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Zt(i[e.dataKey])){var d=dL(n,"value",i[e.dataKey]);if(d)return d.coordinate+r/2}return n!=null&&n[s]?n[s].coordinate+r/2:null}var f=Nn(i,Zt(l)?e.dataKey:l),m=e.scale.map(f);return Oe(m)?m:null}var FP=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var d=Nn(s,e.dataKey,e.scale.domain()[l]);if(Zt(d))return null;var f=e.scale.map(d);return Oe(f)?f-i/2+r:null},fee=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},hee=t=>{var e=t.flat(2).filter(Oe);return[Math.min(...e),Math.max(...e)]},mee=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],pee=(t,e,n)=>{if(t!=null)return mee(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:l}=s,d=l.reduce((f,m)=>{var p=n3(m,e,n),g=hee(p);return!dt(g[0])||!dt(g[1])?f:[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},HP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ld=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Cy(e,p=>p.coordinate),s=1/0,l=1,d=i.length;l<d;l++){var f=i[l],m=i[l-1];s=Math.min((f?.coordinate||0)-(m?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function KP(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Bu(Bu({},e),{},{dataKey:n,payload:r,value:i,name:s})}function Vy(t,e){if(t)return String(t);if(typeof e=="string")return e}var gee=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},vee=(t,e)=>e==="centric"?t.angle:t.radius,Fs=t=>t.layout.width,Hs=t=>t.layout.height,yee=t=>t.layout.scale,a3=t=>t.layout.margin,Uy=ae(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),qy=ae(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),_ee="data-recharts-item-index",bee="data-recharts-item-id",om=60;function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function og(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){xee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xee(t,e,n){return(e=wee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wee(t){var e=Eee(t,"string");return typeof e=="symbol"?e:e+""}function Eee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var See=t=>t.brush.height;function Aee(t){var e=qy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:om;return n+i}return n},0)}function Tee(t){var e=qy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:om;return n+i}return n},0)}function jee(t){var e=Uy(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Nee(t){var e=Uy(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Kn=ae([Fs,Hs,a3,See,Aee,Tee,jee,Nee,TL,JZ],(t,e,n,r,i,s,l,d,f,m)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},g={top:(n.top||0)+l,bottom:(n.bottom||0)+d},_=og(og({},g),p),x=_.bottom;_.bottom+=r,_=aee(_,f,m);var S=t-_.left-_.right,E=e-_.top-_.bottom;return og(og({brushBottom:x},_),{},{width:Math.max(S,0),height:Math.max(E,0)})}),Cee=ae(Kn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),TS=ae(Fs,Hs,(t,e)=>({x:0,y:0,width:t,height:e})),Oee=w.createContext(null),gr=()=>w.useContext(Oee)!=null,By=t=>t.brush,$y=ae([By,Kn,a3],(t,e,n)=>({height:t.height,x:Oe(t.x)?t.x:e.left,y:Oe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Oe(t.width)?t.width:e.width})),Vx={},Ux={},qx={},YP;function Pee(){return YP||(YP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,d=null;const f=s!=null&&s.includes("leading"),m=s==null||s.includes("trailing"),p=()=>{d!==null&&(n.apply(l,d),l=void 0,d=null)},g=()=>{m&&p(),E()};let _=null;const x=()=>{_!=null&&clearTimeout(_),_=setTimeout(()=>{_=null,g()},r)},S=()=>{_!==null&&(clearTimeout(_),_=null)},E=()=>{S(),l=void 0,d=null},A=()=>{p()},C=function(...D){if(i?.aborted)return;l=this,d=D;const k=_==null;x(),f&&k&&p()};return C.schedule=x,C.cancel=E,C.flush=A,i?.addEventListener("abort",E,{once:!0}),C}t.debounce=e})(qx)),qx}var QP;function Iee(){return QP||(QP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pee();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:d=!0,maxWait:f}=s,m=Array(2);l&&(m[0]="leading"),d&&(m[1]="trailing");let p,g=null;const _=e.debounce(function(...E){p=r.apply(this,E),g=null},i,{edges:m}),x=function(...E){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,E),g=Date.now(),_.cancel(),_.schedule(),p):(_.apply(this,E),p)},S=()=>(_.flush(),p);return x.cancel=_.cancel,x.flush=S,x}t.debounce=n})(Ux)),Ux}var XP;function Ree(){return XP||(XP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Iee();function n(r,i=0,s={}){const{leading:l=!0,trailing:d=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:d})}t.throttle=n})(Vx)),Vx}var Bx,ZP;function Dee(){return ZP||(ZP=1,Bx=Ree().throttle),Bx}var kee=Dee();const Mee=Ka(kee);var _v=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},Da={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},s3=(t,e,n)=>{var{width:r=Da.width,height:i=Da.height,aspect:s,maxHeight:l}=n,d=xc(r)?t:Number(r),f=xc(i)?e:Number(i);return s&&s>0&&(d?f=d/s:f&&(d=f*s),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:d,calculatedHeight:f}},zee={width:0,height:0,overflow:"visible"},Lee={width:0,overflowX:"visible"},Vee={height:0,overflowY:"visible"},Uee={},qee=t=>{var{width:e,height:n}=t,r=xc(e),i=xc(n);return r&&i?zee:r?Lee:i?Vee:Uee};function Bee(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i=Da.width,s=Da.height):i===void 0?i=r&&r>0?void 0:Da.width:s===void 0&&(s=r&&r>0?void 0:Da.height),{width:i,height:s}}function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bw.apply(null,arguments)}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){$ee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ee(t,e,n){return(e=Fee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fee(t){var e=Hee(t,"string");return typeof e=="symbol"?e:e+""}function Hee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o3=w.createContext(Da.initialDimension);function Gee(t){return Ha(t.width)&&Ha(t.height)}function l3(t){var{children:e,width:n,height:r}=t,i=w.useMemo(()=>({width:n,height:r}),[n,r]);return Gee(i)?w.createElement(o3.Provider,{value:i},e):null}var jS=()=>w.useContext(o3),Kee=w.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=Da.initialDimension,width:i,height:s,minWidth:l=Da.minWidth,minHeight:d,maxHeight:f,children:m,debounce:p=Da.debounce,id:g,className:_,onResize:x,style:S={}}=t,E=w.useRef(null),A=w.useRef();A.current=x,w.useImperativeHandle(e,()=>E.current);var[C,D]=w.useState({containerWidth:r.width,containerHeight:r.height}),k=w.useCallback((O,I)=>{D($=>{var q=Math.round(O),z=Math.round(I);return $.containerWidth===q&&$.containerHeight===z?$:{containerWidth:q,containerHeight:z}})},[]);w.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Rc;var O=z=>{var B,be=z[0];if(be!=null){var{width:Se,height:W}=be.contentRect;k(Se,W),(B=A.current)===null||B===void 0||B.call(A,Se,W)}};p>0&&(O=Mee(O,p,{trailing:!0,leading:!1}));var I=new ResizeObserver(O),{width:$,height:q}=E.current.getBoundingClientRect();return k($,q),I.observe(E.current),()=>{I.disconnect()}},[k,p]);var{containerWidth:M,containerHeight:V}=C;_v(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:L,calculatedHeight:P}=s3(M,V,{width:i,height:s,aspect:n,maxHeight:f});return _v(L!=null&&L>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,P,i,s,l,d,n),w.createElement("div",{id:g?"".concat(g):void 0,className:kt("recharts-responsive-container",_),style:eI(eI({},S),{},{width:i,height:s,minWidth:l,minHeight:d,maxHeight:f}),ref:E},w.createElement("div",{style:qee({width:i,height:s})},w.createElement(l3,{width:L,height:P},m)))}),tI=w.forwardRef((t,e)=>{var n=jS();if(Ha(n.width)&&Ha(n.height))return t.children;var{width:r,height:i}=Bee({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=s3(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Oe(s)&&Oe(l)?w.createElement(l3,{width:s,height:l},t.children):w.createElement(Kee,bw({},t,{width:r,height:i,ref:e}))});function NS(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Fy=()=>{var t,e=gr(),n=ke(Cee),r=ke($y),i=(t=ke(By))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Wee={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},c3=()=>{var t;return(t=ke(Kn))!==null&&t!==void 0?t:Wee},u3=()=>ke(Fs),d3=()=>ke(Hs),jt=t=>t.layout.layoutType,Dc=()=>ke(jt),f3=()=>{var t=Dc();if(t==="horizontal"||t==="vertical")return t},h3=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},Yee=()=>{var t=Dc();return t!==void 0},lm=t=>{var e=gn(),n=gr(),{width:r,height:i}=t,s=jS(),l=r,d=i;return s&&(l=s.width>0?s.width:r,d=s.height>0?s.height:i),w.useEffect(()=>{!n&&Ha(l)&&Ha(d)&&e(JJ({width:l,height:d}))},[e,n,l,d]),null},m3=Symbol.for("immer-nothing"),nI=Symbol.for("immer-draftable"),di=Symbol.for("immer-state");function Qi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var jh=Object.getPrototypeOf;function cd(t){return!!t&&!!t[di]}function Ec(t){return t?p3(t)||Array.isArray(t)||!!t[nI]||!!t.constructor?.[nI]||cm(t)||Gy(t):!1}var Qee=Object.prototype.constructor.toString(),rI=new WeakMap;function p3(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=rI.get(n);return r===void 0&&(r=Function.toString.call(n),rI.set(n,r)),r===Qee}function bv(t,e,n=!0){Hy(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Hy(t){const e=t[di];return e?e.type_:Array.isArray(t)?1:cm(t)?2:Gy(t)?3:0}function xw(t,e){return Hy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function g3(t,e,n){const r=Hy(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Xee(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function cm(t){return t instanceof Map}function Gy(t){return t instanceof Set}function Xl(t){return t.copy_||t.base_}function ww(t,e){if(cm(t))return new Map(t);if(Gy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=p3(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[di];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],d=r[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[l]})}return Object.create(jh(t),r)}else{const r=jh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function CS(t,e=!1){return Ky(t)||cd(t)||!Ec(t)||(Hy(t)>1&&Object.defineProperties(t,{set:lg,add:lg,clear:lg,delete:lg}),Object.freeze(t),e&&Object.values(t).forEach(n=>CS(n,!0))),t}function Zee(){Qi(2)}var lg={value:Zee};function Ky(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Jee={};function Sc(t){const e=Jee[t];return e||Qi(0,t),e}var Nh;function v3(){return Nh}function ete(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iI(t,e){e&&(Sc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Ew(t){Sw(t),t.drafts_.forEach(tte),t.drafts_=null}function Sw(t){t===Nh&&(Nh=t.parent_)}function aI(t){return Nh=ete(Nh,t)}function tte(t){const e=t[di];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function sI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[di].modified_&&(Ew(e),Qi(4)),Ec(t)&&(t=xv(e,t),e.parent_||wv(e,t)),e.patches_&&Sc("Patches").generateReplacementPatches_(n[di].base_,t,e.patches_,e.inversePatches_)):t=xv(e,n,[]),Ew(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==m3?t:void 0}function xv(t,e,n){if(Ky(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[di];if(!i)return bv(e,(s,l)=>oI(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return wv(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,d=!1;i.type_===3&&(l=new Set(s),s.clear(),d=!0),bv(l,(f,m)=>oI(t,i,s,f,m,n,d),r),wv(t,s,!1),n&&t.patches_&&Sc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function oI(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const d=Ky(i);if(!(d&&!l)){if(cd(i)){const f=s&&e&&e.type_!==3&&!xw(e.assigned_,r)?s.concat(r):void 0,m=xv(t,i,f);if(g3(n,r,m),cd(m))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Ec(i)&&!d){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&d)return;xv(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(cm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&wv(t,i)}}}function wv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&CS(e,n)}function nte(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:v3(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=OS;n&&(i=[r],s=Ch);const{revoke:l,proxy:d}=Proxy.revocable(i,s);return r.draft_=d,r.revoke_=l,d}var OS={get(t,e){if(e===di)return t;const n=Xl(t);if(!xw(n,e))return rte(t,n,e);const r=n[e];return t.finalized_||!Ec(r)?r:r===$x(t.base_,e)?(Fx(t),t.copy_[e]=Tw(r,t)):r},has(t,e){return e in Xl(t)},ownKeys(t){return Reflect.ownKeys(Xl(t))},set(t,e,n){const r=y3(Xl(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=$x(Xl(t),e),s=i?.[di];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Xee(n,i)&&(n!==void 0||xw(t.base_,e)))return!0;Fx(t),Aw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return $x(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Fx(t),Aw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Xl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Qi(11)},getPrototypeOf(t){return jh(t.base_)},setPrototypeOf(){Qi(12)}},Ch={};bv(OS,(t,e)=>{Ch[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ch.deleteProperty=function(t,e){return Ch.set.call(this,t,e,void 0)};Ch.set=function(t,e,n){return OS.set.call(this,t[0],e,n,t[0])};function $x(t,e){const n=t[di];return(n?Xl(n):t)[e]}function rte(t,e,n){const r=y3(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function y3(t,e){if(!(e in t))return;let n=jh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=jh(n)}}function Aw(t){t.modified_||(t.modified_=!0,t.parent_&&Aw(t.parent_))}function Fx(t){t.copy_||(t.copy_=ww(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var ite=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(f=s,...m){return l.produce(f,p=>n.call(this,p,...m))}}typeof n!="function"&&Qi(6),r!==void 0&&typeof r!="function"&&Qi(7);let i;if(Ec(e)){const s=aI(this),l=Tw(e,void 0);let d=!0;try{i=n(l),d=!1}finally{d?Ew(s):Sw(s)}return iI(s,r),sI(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===m3&&(i=void 0),this.autoFreeze_&&CS(i,!0),r){const s=[],l=[];Sc("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else Qi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...d)=>this.produceWithPatches(l,f=>e(f,...d));let r,i;return[this.produce(e,n,(l,d)=>{r=l,i=d}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ec(t)||Qi(8),cd(t)&&(t=ate(t));const e=aI(this),n=Tw(t,void 0);return n[di].isManual_=!0,Sw(e),n}finishDraft(t,e){const n=t&&t[di];(!n||!n.isManual_)&&Qi(9);const{scope_:r}=n;return iI(r,e),sI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Sc("Patches").applyPatches_;return cd(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Tw(t,e){const n=cm(t)?Sc("MapSet").proxyMap_(t,e):Gy(t)?Sc("MapSet").proxySet_(t,e):nte(t,e);return(e?e.scope_:v3()).drafts_.push(n),n}function ate(t){return cd(t)||Qi(10,t),_3(t)}function _3(t){if(!Ec(t)||Ky(t))return t;const e=t[di];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=ww(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=ww(t,!0);return bv(n,(i,s)=>{g3(n,i,_3(s))},r),e&&(e.finalized_=!1),n}var ste=new ite;ste.produce;var ote={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},b3=Hr({name:"legend",initialState:ote,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Wt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ta(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Wt()},removeLegendPayload:{reducer(t,e){var n=ta(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Wt()}}}),{setLegendSize:xpe,setLegendSettings:wpe,addLegendPayload:lte,replaceLegendPayload:cte,removeLegendPayload:ute}=b3.actions,dte=b3.reducer;function jw(){return jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jw.apply(null,arguments)}function lI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(n),!0).forEach(function(r){fte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fte(t,e,n){return(e=hte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hte(t){var e=mte(t,"string");return typeof e=="symbol"?e:e+""}function mte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pte(t){return Array.isArray(t)&&Fa(t[0])&&Fa(t[1])?t.join(" ~ "):t}var Ou={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},gte=t=>{var{separator:e=Ou.separator,contentStyle:n,itemStyle:r,labelStyle:i=Ou.labelStyle,payload:s,formatter:l,itemSorter:d,wrapperClassName:f,labelClassName:m,label:p,labelFormatter:g,accessibilityLayer:_=Ou.accessibilityLayer}=t,x=()=>{if(s&&s.length){var V={padding:0,margin:0},L=(d?Cy(s,d):s).map((P,O)=>{if(P.type==="none")return null;var I=P.formatter||l||pte,{value:$,name:q}=P,z=$,B=q;if(I){var be=I($,q,P,O,s);if(Array.isArray(be))[z,B]=be;else if(be!=null)z=be;else return null}var Se=Mf(Mf({},Ou.itemStyle),{},{color:P.color||Ou.itemStyle.color},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:Se},Fa(B)?w.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Fa(B)?w.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,w.createElement("span",{className:"recharts-tooltip-item-value"},z),w.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:V},L)}return null},S=Mf(Mf({},Ou.contentStyle),n),E=Mf({margin:0},i),A=!Zt(p),C=A?p:"",D=kt("recharts-default-tooltip",f),k=kt("recharts-tooltip-label",m);A&&g&&s!==void 0&&s!==null&&(C=g(p,s));var M=_?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",jw({className:D,style:S},M),w.createElement("p",{className:k,style:E},w.isValidElement(C)?C:"".concat(C)),x())},zf="recharts-tooltip-wrapper",vte={visibility:"hidden"};function yte(t){var{coordinate:e,translateX:n,translateY:r}=t;return kt(zf,{["".concat(zf,"-right")]:Oe(n)&&e&&Oe(e.x)&&n>=e.x,["".concat(zf,"-left")]:Oe(n)&&e&&Oe(e.x)&&n<e.x,["".concat(zf,"-bottom")]:Oe(r)&&e&&Oe(e.y)&&r>=e.y,["".concat(zf,"-top")]:Oe(r)&&e&&Oe(e.y)&&r<e.y})}function cI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:s,reverseDirection:l,tooltipDimension:d,viewBox:f,viewBoxDimension:m}=t;if(s&&Oe(s[r]))return s[r];var p=n[r]-d-(i>0?i:0),g=n[r]+i;if(e[r])return l[r]?p:g;var _=f[r];if(_==null)return 0;if(l[r]){var x=p,S=_;return x<S?Math.max(g,_):Math.max(p,_)}if(m==null)return 0;var E=g+d,A=_+m;return E>A?Math.max(p,_):Math.max(g,_)}function _te(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function bte(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:s,reverseDirection:l,tooltipBox:d,useTranslate3d:f,viewBox:m}=t,p,g,_;return d.height>0&&d.width>0&&n?(g=cI({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:s,reverseDirection:l,tooltipDimension:d.width,viewBox:m,viewBoxDimension:m.width}),_=cI({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:s,reverseDirection:l,tooltipDimension:d.height,viewBox:m,viewBoxDimension:m.height}),p=_te({translateX:g,translateY:_,useTranslate3d:f})):p=vte,{cssProperties:p,cssClasses:yte({translateX:g,translateY:_,coordinate:n})}}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){Nw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nw(t,e,n){return(e=xte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xte(t){var e=wte(t,"string");return typeof e=="symbol"?e:e+""}function wte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ete extends w.PureComponent{constructor(){super(...arguments),Nw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Nw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:d,isAnimationActive:f,offset:m,position:p,reverseDirection:g,useTranslate3d:_,viewBox:x,wrapperStyle:S,lastBoundingBox:E,innerRef:A,hasPortalFromProps:C}=this.props,D=typeof m=="number"?m:m.x,k=typeof m=="number"?m:m.y,{cssClasses:M,cssProperties:V}=bte({allowEscapeViewBox:n,coordinate:l,offsetLeft:D,offsetTop:k,position:p,reverseDirection:g,tooltipBox:{height:E.height,width:E.width},useTranslate3d:_,viewBox:x}),L=C?{}:cg(cg({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},V),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),P=cg(cg({},L),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},S);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:P,ref:A},s)}}var x3=()=>{var t;return(t=ke(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cw.apply(null,arguments)}function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){Ste(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ste(t,e,n){return(e=Ate(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ate(t){var e=Tte(t,"string");return typeof e=="symbol"?e:e+""}function Tte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hI={curveBasisClosed:AX,curveBasisOpen:TX,curveBasis:SX,curveBumpX:uX,curveBumpY:dX,curveLinearClosed:jX,curveLinear:jy,curveMonotoneX:NX,curveMonotoneY:CX,curveNatural:OX,curveStep:PX,curveStepAfter:RX,curveStepBefore:IX},Ev=t=>dt(t.x)&&dt(t.y),mI=t=>t.base!=null&&Ev(t.base)&&Ev(t),Lf=t=>t.x,Vf=t=>t.y,jte=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(im(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=hI["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return hI[n]||jy},pI={connectNulls:!1,type:"linear"},Nte=t=>{var{type:e=pI.type,points:n=[],baseLine:r,layout:i,connectNulls:s=pI.connectNulls}=t,l=jte(e,i),d=s?n.filter(Ev):n;if(Array.isArray(r)){var f,m=n.map((S,E)=>fI(fI({},S),{},{base:r[E]}));i==="vertical"?f=tg().y(Vf).x1(Lf).x0(S=>S.base.x):f=tg().x(Lf).y1(Vf).y0(S=>S.base.y);var p=f.defined(mI).curve(l),g=s?m.filter(mI):m;return p(g)}var _;i==="vertical"&&Oe(r)?_=tg().y(Vf).x1(Lf).x0(r):Oe(r)?_=tg().x(Lf).y1(Vf).y0(r):_=Zz().x(Lf).y(Vf);var x=_.defined(Ev).curve(l);return x(d)},w3=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=Dc();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},d=n&&n.length?Nte(l):r;return w.createElement("path",Cw({},sa(t),pS(t),{className:kt("recharts-curve",e),d:d===null?void 0:d,ref:i}))},Cte=["x","y","top","left","width","height","className"];function Ow(){return Ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ow.apply(null,arguments)}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ote(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){Pte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pte(t,e,n){return(e=Ite(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ite(t){var e=Rte(t,"string");return typeof e=="symbol"?e:e+""}function Rte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dte(t,e){if(t==null)return{};var n,r,i=kte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Mte=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),zte=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:d}=t,f=Dte(t,Cte),m=Ote({x:e,y:n,top:r,left:i,width:s,height:l},f);return!Oe(e)||!Oe(n)||!Oe(s)||!Oe(l)||!Oe(r)||!Oe(i)?null:w.createElement("path",Ow({},Er(m),{className:kt("recharts-cross",d),d:Mte(e,n,s,l,r,i)}))};function Lte(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){Vte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vte(t,e,n){return(e=Ute(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ute(t){var e=qte(t,"string");return typeof e=="symbol"?e:e+""}function qte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bte=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),E3=(t,e,n)=>t.map(r=>"".concat(Bte(r)," ").concat(e,"ms ").concat(n)).join(","),$te=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Oh=(t,e)=>Object.keys(e).reduce((n,r)=>yI(yI({},n),{},{[r]:t(r,e[r])}),{});function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){Fte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fte(t,e,n){return(e=Hte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hte(t){var e=Gte(t,"string");return typeof e=="symbol"?e:e+""}function Gte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sv=(t,e,n)=>t+(e-t)*n,Pw=t=>{var{from:e,to:n}=t;return e!==n},S3=(t,e,n)=>{var r=Oh((i,s)=>{if(Pw(s)){var[l,d]=t(s.from,s.to,s.velocity);return In(In({},s),{},{from:l,velocity:d})}return s},e);return n<1?Oh((i,s)=>Pw(s)&&r[i]!=null?In(In({},s),{},{velocity:Sv(s.velocity,r[i].velocity,n),from:Sv(s.from,r[i].from,n)}):s,e):S3(t,r,n-1)};function Kte(t,e,n,r,i,s){var l,d=r.reduce((_,x)=>In(In({},_),{},{[x]:{from:t[x],velocity:0,to:e[x]}}),{}),f=()=>Oh((_,x)=>x.from,d),m=()=>!Object.values(d).filter(Pw).length,p=null,g=_=>{l||(l=_);var x=_-l,S=x/n.dt;d=S3(n,d,S),i(In(In(In({},t),e),f())),l=_,m()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var _;(_=p)===null||_===void 0||_()})}function Wte(t,e,n,r,i,s,l){var d=null,f=i.reduce((g,_)=>{var x=t[_],S=e[_];return x==null||S==null?g:In(In({},g),{},{[_]:[x,S]})},{}),m,p=g=>{m||(m=g);var _=(g-m)/r,x=Oh((E,A)=>Sv(...A,n(_)),f);if(s(In(In(In({},t),e),x)),_<1)d=l.setTimeout(p);else{var S=Oh((E,A)=>Sv(...A,n(1)),f);s(In(In(In({},t),e),S))}};return()=>(d=l.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const Yte=(t,e,n,r,i,s)=>{var l=$te(t,e);return n==null?()=>(i(In(In({},t),e)),()=>{}):n.isStepper===!0?Kte(t,e,n,l,i,s):Wte(t,e,n,r,l,i,s)};var Av=1e-4,A3=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],T3=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),bI=(t,e)=>n=>{var r=A3(t,e);return T3(r,n)},Qte=(t,e)=>n=>{var r=A3(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return T3(i,n)},Xte=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},Zte=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Xte(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},Jte=(t,e,n,r)=>{var i=bI(t,n),s=bI(e,r),l=Qte(t,n),d=m=>m>1?1:m<0?0:m,f=m=>{for(var p=m>1?1:m,g=p,_=0;_<8;++_){var x=i(g)-p,S=l(g);if(Math.abs(x-p)<Av||S<Av)return s(g);g=d(g-x/S)}return s(g)};return f.isStepper=!1,f},xI=function(){return Jte(...Zte(...arguments))},ene=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,d,f)=>{var m=-(l-d)*n,p=f*r,g=f+(m-p)*i/1e3,_=f*i/1e3+l;return Math.abs(_-d)<Av&&Math.abs(g)<Av?[d,0]:[_,g]};return s.isStepper=!0,s.dt=i,s},tne=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xI(t);case"spring":return ene();default:if(t.split("(")[0]==="cubic-bezier")return xI(t)}return typeof t=="function"?t:null};function nne(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var d=l,[f,...m]=d;if(typeof f=="number"){i=t.setTimeout(s.bind(null,m),f);return}s(f),i=t.setTimeout(s.bind(null,m));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class rne{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function ine(){return nne(new rne)}var ane=w.createContext(ine);function sne(t,e){var n=w.useContext(ane);return w.useMemo(()=>e??n(t),[t,e,n])}var one=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Wy={isSsr:one()},lne={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},wI={t:0},Hx={t:1};function Yy(t){var e=Ar(t,lne),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:d,onAnimationStart:f,children:m}=e,p=n==="auto"?!Wy.isSsr:n,g=sne(e.animationId,e.animationManager),[_,x]=w.useState(p?wI:Hx),S=w.useRef(null);return w.useEffect(()=>{p||x(Hx)},[p]),w.useEffect(()=>{if(!p||!r)return Rc;var E=Yte(wI,Hx,tne(s),i,x,g.getTimeoutController()),A=()=>{S.current=E()};return g.start([f,l,A,i,d]),()=>{g.stop(),S.current&&S.current(),d()}},[p,r,i,s,l,f,d,g]),m(_.t)}function Qy(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Eh(e)),r=w.useRef(t);return r.current!==t&&(n.current=Eh(e),r.current=t),n.current}var cne=["radius"],une=["radius"],EI,SI,AI,TI,jI,NI,CI,OI,PI,II;function RI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(n),!0).forEach(function(r){dne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dne(t,e,n){return(e=fne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fne(t){var e=hne(t,"string");return typeof e=="symbol"?e:e+""}function hne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tv(){return Tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tv.apply(null,arguments)}function kI(t,e){if(t==null)return{};var n,r,i=mne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Na(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var MI=(t,e,n,r,i)=>{var s=Ho(n),l=Ho(r),d=Math.min(Math.abs(s)/2,Math.abs(l)/2),f=l>=0?1:-1,m=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,g;if(d>0&&Array.isArray(i)){for(var _=[0,0,0,0],x=0,S=4;x<S;x++){var E,A=(E=i[x])!==null&&E!==void 0?E:0;_[x]=A>d?d:A}g=an(EI||(EI=Na(["M",",",""])),t,e+f*_[0]),_[0]>0&&(g+=an(SI||(SI=Na(["A ",",",",0,0,",",",",",""])),_[0],_[0],p,t+m*_[0],e)),g+=an(AI||(AI=Na(["L ",",",""])),t+n-m*_[1],e),_[1]>0&&(g+=an(TI||(TI=Na(["A ",",",",0,0,",`,
        `,",",""])),_[1],_[1],p,t+n,e+f*_[1])),g+=an(jI||(jI=Na(["L ",",",""])),t+n,e+r-f*_[2]),_[2]>0&&(g+=an(NI||(NI=Na(["A ",",",",0,0,",`,
        `,",",""])),_[2],_[2],p,t+n-m*_[2],e+r)),g+=an(CI||(CI=Na(["L ",",",""])),t+m*_[3],e+r),_[3]>0&&(g+=an(OI||(OI=Na(["A ",",",",0,0,",`,
        `,",",""])),_[3],_[3],p,t,e+r-f*_[3])),g+="Z"}else if(d>0&&i===+i&&i>0){var C=Math.min(d,i);g=an(PI||(PI=Na(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+f*C,C,C,p,t+m*C,e,t+n-m*C,e,C,C,p,t+n,e+f*C,t+n,e+r-f*C,C,C,p,t+n-m*C,e+r,t+m*C,e+r,C,C,p,t,e+r-f*C)}else g=an(II||(II=Na(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return g},zI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},j3=t=>{var e=Ar(t,zI),n=w.useRef(null),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var le=n.current.getTotalLength();le&&i(le)}catch{}},[]);var{x:s,y:l,width:d,height:f,radius:m,className:p}=e,{animationEasing:g,animationDuration:_,animationBegin:x,isAnimationActive:S,isUpdateAnimationActive:E}=e,A=w.useRef(d),C=w.useRef(f),D=w.useRef(s),k=w.useRef(l),M=w.useMemo(()=>({x:s,y:l,width:d,height:f,radius:m}),[s,l,d,f,m]),V=Qy(M,"rectangle-");if(s!==+s||l!==+l||d!==+d||f!==+f||d===0||f===0)return null;var L=kt("recharts-rectangle",p);if(!E){var P=Er(e),{radius:O}=P,I=kI(P,cne);return w.createElement("path",Tv({},I,{x:Ho(s),y:Ho(l),width:Ho(d),height:Ho(f),radius:typeof m=="number"?m:void 0,className:L,d:MI(s,l,d,f,m)}))}var $=A.current,q=C.current,z=D.current,B=k.current,be="0px ".concat(r===-1?1:r,"px"),Se="".concat(r,"px 0px"),W=E3(["strokeDasharray"],_,typeof g=="string"?g:zI.animationEasing);return w.createElement(Yy,{animationId:V,key:V,canBegin:r>0,duration:_,easing:g,isActive:E,begin:x},le=>{var ve=sn($,d,le),xe=sn(q,f,le),we=sn(z,s,le),F=sn(B,l,le);n.current&&(A.current=ve,C.current=xe,D.current=we,k.current=F);var ne;S?le>0?ne={transition:W,strokeDasharray:Se}:ne={strokeDasharray:be}:ne={strokeDasharray:Se};var pe=Er(e),{radius:_e}=pe,Q=kI(pe,une);return w.createElement("path",Tv({},Q,{radius:typeof m=="number"?m:void 0,className:L,d:MI(we,F,ve,xe,m),ref:n,style:DI(DI({},ne),e.style)}))})};function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){pne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pne(t,e,n){return(e=gne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gne(t){var e=vne(t,"string");return typeof e=="symbol"?e:e+""}function vne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jv=Math.PI/180,yne=t=>t*180/Math.PI,ar=(t,e,n,r)=>({x:t+Math.cos(-jv*r)*n,y:e+Math.sin(-jv*r)*n}),_ne=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},bne=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},xne=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=bne({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var d=(n-i)/l,f=Math.acos(d);return r>s&&(f=2*Math.PI-f),{radius:l,angle:yne(f),angleInRadian:f}},wne=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},Ene=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},Sne=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=xne({x:n,y:r},e),{innerRadius:l,outerRadius:d}=e;if(i<l||i>d||i===0)return null;var{startAngle:f,endAngle:m}=wne(e),p=s,g;if(f<=m){for(;p>m;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=m}else{for(;p>f;)p-=360;for(;p<m;)p+=360;g=p>=m&&p<=f}return g?VI(VI({},e),{},{radius:i,angle:Ene(p,e)}):null};function N3(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=ar(e,n,r,i),d=ar(e,n,r,s);return{points:[l,d],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var UI,qI,BI,$I,FI,HI,GI;function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iw.apply(null,arguments)}function ec(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Ane=(t,e)=>{var n=qr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},ug=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:d,cornerIsExternal:f}=t,m=d*(l?1:-1)+r,p=Math.asin(d/m)/jv,g=f?i:i+s*p,_=ar(e,n,m,g),x=ar(e,n,r,g),S=f?i-s*p:i,E=ar(e,n,m*Math.cos(p*jv),S);return{center:_,circleTangency:x,lineTangency:E,theta:p}},C3=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,d=Ane(s,l),f=s+d,m=ar(e,n,i,s),p=ar(e,n,i,f),g=an(UI||(UI=ec(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,i,i,+(Math.abs(d)>180),+(s>f),p.x,p.y);if(r>0){var _=ar(e,n,r,s),x=ar(e,n,r,f);g+=an(qI||(qI=ec(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,r,r,+(Math.abs(d)>180),+(s<=f),_.x,_.y)}else g+=an(BI||(BI=ec(["L ",","," Z"])),e,n);return g},Tne=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:d,startAngle:f,endAngle:m}=t,p=qr(m-f),{circleTangency:g,lineTangency:_,theta:x}=ug({cx:e,cy:n,radius:i,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:S,lineTangency:E,theta:A}=ug({cx:e,cy:n,radius:i,angle:m,sign:-p,cornerRadius:s,cornerIsExternal:d}),C=d?Math.abs(f-m):Math.abs(f-m)-x-A;if(C<0)return l?an($I||($I=ec(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),_.x,_.y,s,s,s*2,s,s,-s*2):C3({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:m});var D=an(FI||(FI=ec(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),_.x,_.y,s,s,+(p<0),g.x,g.y,i,i,+(C>180),+(p<0),S.x,S.y,s,s,+(p<0),E.x,E.y);if(r>0){var{circleTangency:k,lineTangency:M,theta:V}=ug({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:L,lineTangency:P,theta:O}=ug({cx:e,cy:n,radius:r,angle:m,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),I=d?Math.abs(f-m):Math.abs(f-m)-V-O;if(I<0&&s===0)return"".concat(D,"L").concat(e,",").concat(n,"Z");D+=an(HI||(HI=ec(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,s,s,+(p<0),L.x,L.y,r,r,+(I>180),+(p>0),k.x,k.y,s,s,+(p<0),M.x,M.y)}else D+=an(GI||(GI=ec(["L",",","Z"])),e,n);return D},jne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},O3=t=>{var e=Ar(t,jne),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:p,className:g}=e;if(s<i||m===p)return null;var _=kt("recharts-sector",g),x=s-i,S=oa(l,x,0,!0),E;return S>0&&Math.abs(m-p)<360?E=Tne({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(S,x/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:p}):E=C3({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:m,endAngle:p}),w.createElement("path",Iw({},Er(e),{className:_,d:E}))};function Nne(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(mL(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:d}=e,f=ar(r,i,s,d),m=ar(r,i,l,d);return[{x:f.x,y:f.y},{x:m.x,y:m.y}]}return N3(e)}}var Gx={},Kx={},Wx={},KI;function Cne(){return KI||(KI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SL();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Wx)),Wx}var WI;function One(){return WI||(WI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cne();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Kx)),Kx}var YI;function Pne(){return YI||(YI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AL(),n=One();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const d=Math.max(Math.ceil((s-i)/(l||1)),0),f=new Array(d);for(let m=0;m<d;m++)f[m]=i,i+=l;return f}t.range=r})(Gx)),Gx}var Yx,QI;function Ine(){return QI||(QI=1,Yx=Pne().range),Yx}var Rne=Ine();const P3=Ka(Rne);function Xo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Dne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PS(t){let e,n,r;t.length!==2?(e=Xo,n=(d,f)=>Xo(t(d),f),r=(d,f)=>t(d)-f):(e=t===Xo||t===Dne?t:kne,n=t,r=t);function i(d,f,m=0,p=d.length){if(m<p){if(e(f,f)!==0)return p;do{const g=m+p>>>1;n(d[g],f)<0?m=g+1:p=g}while(m<p)}return m}function s(d,f,m=0,p=d.length){if(m<p){if(e(f,f)!==0)return p;do{const g=m+p>>>1;n(d[g],f)<=0?m=g+1:p=g}while(m<p)}return m}function l(d,f,m=0,p=d.length){const g=i(d,f,m,p-1);return g>m&&r(d[g-1],f)>-r(d[g],f)?g-1:g}return{left:i,center:l,right:s}}function kne(){return 0}function I3(t){return t===null?NaN:+t}function*Mne(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const zne=PS(Xo),um=zne.right;PS(I3).center;class XI extends Map{constructor(e,n=Une){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ZI(this,e))}has(e){return super.has(ZI(this,e))}set(e,n){return super.set(Lne(this,e),n)}delete(e){return super.delete(Vne(this,e))}}function ZI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Lne({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Vne({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Une(t){return t!==null&&typeof t=="object"?t.valueOf():t}function qne(t=Xo){if(t===Xo)return R3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function R3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Bne=Math.sqrt(50),$ne=Math.sqrt(10),Fne=Math.sqrt(2);function Nv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=Bne?10:s>=$ne?5:s>=Fne?2:1;let d,f,m;return i<0?(m=Math.pow(10,-i)/l,d=Math.round(t*m),f=Math.round(e*m),d/m<t&&++d,f/m>e&&--f,m=-m):(m=Math.pow(10,i)*l,d=Math.round(t/m),f=Math.round(e/m),d*m<t&&++d,f*m>e&&--f),f<d&&.5<=n&&n<2?Nv(t,e,n*2):[d,f,m]}function Rw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?Nv(e,t,n):Nv(t,e,n);if(!(s>=i))return[];const d=s-i+1,f=new Array(d);if(r)if(l<0)for(let m=0;m<d;++m)f[m]=(s-m)/-l;else for(let m=0;m<d;++m)f[m]=(s-m)*l;else if(l<0)for(let m=0;m<d;++m)f[m]=(i+m)/-l;else for(let m=0;m<d;++m)f[m]=(i+m)*l;return f}function Dw(t,e,n){return e=+e,t=+t,n=+n,Nv(t,e,n)[2]}function kw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Dw(e,t,n):Dw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function JI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function eR(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function D3(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?R3:qne(i);r>n;){if(r-n>600){const f=r-n+1,m=e-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),_=.5*Math.sqrt(p*g*(f-g)/f)*(m-f/2<0?-1:1),x=Math.max(n,Math.floor(e-m*g/f+_)),S=Math.min(r,Math.floor(e+(f-m)*g/f+_));D3(t,e,x,S,i)}const s=t[e];let l=n,d=r;for(Uf(t,n,e),i(t[r],s)>0&&Uf(t,n,r);l<d;){for(Uf(t,l,d),++l,--d;i(t[l],s)<0;)++l;for(;i(t[d],s)>0;)--d}i(t[n],s)===0?Uf(t,n,d):(++d,Uf(t,d,r)),d<=e&&(n=d+1),e<=d&&(r=d-1)}return t}function Uf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Hne(t,e,n){if(t=Float64Array.from(Mne(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return eR(t);if(e>=1)return JI(t);var r,i=(r-1)*e,s=Math.floor(i),l=JI(D3(t,s).subarray(0,s+1)),d=eR(t.subarray(s+1));return l+(d-l)*(i-s)}}function Gne(t,e,n=I3){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),d=+n(t[s+1],s+1,t);return l+(d-l)*(i-s)}}function Kne(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function ki(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Gs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Mw=Symbol("implicit");function IS(){var t=new XI,e=[],n=[],r=Mw;function i(s){let l=t.get(s);if(l===void 0){if(r!==Mw)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new XI;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return IS(e,n).unknown(r)},ki.apply(i,arguments),i}function RS(){var t=IS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,d=!1,f=0,m=0,p=.5;delete t.unknown;function g(){var _=e().length,x=i<r,S=x?i:r,E=x?r:i;s=(E-S)/Math.max(1,_-f+m*2),d&&(s=Math.floor(s)),S+=(E-S-s*(_-f))*p,l=s*(1-f),d&&(S=Math.round(S),l=Math.round(l));var A=Kne(_).map(function(C){return S+s*C});return n(x?A.reverse():A)}return t.domain=function(_){return arguments.length?(e(_),g()):e()},t.range=function(_){return arguments.length?([r,i]=_,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(_){return[r,i]=_,r=+r,i=+i,d=!0,g()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(_){return arguments.length?(d=!!_,g()):d},t.padding=function(_){return arguments.length?(f=Math.min(1,m=+_),g()):f},t.paddingInner=function(_){return arguments.length?(f=Math.min(1,_),g()):f},t.paddingOuter=function(_){return arguments.length?(m=+_,g()):m},t.align=function(_){return arguments.length?(p=Math.max(0,Math.min(1,_)),g()):p},t.copy=function(){return RS(e(),[r,i]).round(d).paddingInner(f).paddingOuter(m).align(p)},ki.apply(g(),arguments)}function k3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return k3(e())},t}function Wne(){return k3(RS.apply(null,arguments).paddingInner(1))}function DS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function M3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function dm(){}var Ph=.7,Cv=1/Ph,Qu="\\s*([+-]?\\d+)\\s*",Ih="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yne=/^#([0-9a-f]{3,8})$/,Qne=new RegExp(`^rgb\\(${Qu},${Qu},${Qu}\\)$`),Xne=new RegExp(`^rgb\\(${qa},${qa},${qa}\\)$`),Zne=new RegExp(`^rgba\\(${Qu},${Qu},${Qu},${Ih}\\)$`),Jne=new RegExp(`^rgba\\(${qa},${qa},${qa},${Ih}\\)$`),ere=new RegExp(`^hsl\\(${Ih},${qa},${qa}\\)$`),tre=new RegExp(`^hsla\\(${Ih},${qa},${qa},${Ih}\\)$`),tR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};DS(dm,Rh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:nR,formatHex:nR,formatHex8:nre,formatHsl:rre,formatRgb:rR,toString:rR});function nR(){return this.rgb().formatHex()}function nre(){return this.rgb().formatHex8()}function rre(){return z3(this).formatHsl()}function rR(){return this.rgb().formatRgb()}function Rh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Yne.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?iR(e):n===3?new $r(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?dg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?dg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Qne.exec(t))?new $r(e[1],e[2],e[3],1):(e=Xne.exec(t))?new $r(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Zne.exec(t))?dg(e[1],e[2],e[3],e[4]):(e=Jne.exec(t))?dg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ere.exec(t))?oR(e[1],e[2]/100,e[3]/100,1):(e=tre.exec(t))?oR(e[1],e[2]/100,e[3]/100,e[4]):tR.hasOwnProperty(t)?iR(tR[t]):t==="transparent"?new $r(NaN,NaN,NaN,0):null}function iR(t){return new $r(t>>16&255,t>>8&255,t&255,1)}function dg(t,e,n,r){return r<=0&&(t=e=n=NaN),new $r(t,e,n,r)}function ire(t){return t instanceof dm||(t=Rh(t)),t?(t=t.rgb(),new $r(t.r,t.g,t.b,t.opacity)):new $r}function zw(t,e,n,r){return arguments.length===1?ire(t):new $r(t,e,n,r??1)}function $r(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}DS($r,zw,M3(dm,{brighter(t){return t=t==null?Cv:Math.pow(Cv,t),new $r(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ph:Math.pow(Ph,t),new $r(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new $r(lc(this.r),lc(this.g),lc(this.b),Ov(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aR,formatHex:aR,formatHex8:are,formatRgb:sR,toString:sR}));function aR(){return`#${tc(this.r)}${tc(this.g)}${tc(this.b)}`}function are(){return`#${tc(this.r)}${tc(this.g)}${tc(this.b)}${tc((isNaN(this.opacity)?1:this.opacity)*255)}`}function sR(){const t=Ov(this.opacity);return`${t===1?"rgb(":"rgba("}${lc(this.r)}, ${lc(this.g)}, ${lc(this.b)}${t===1?")":`, ${t})`}`}function Ov(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function lc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function tc(t){return t=lc(t),(t<16?"0":"")+t.toString(16)}function oR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xi(t,e,n,r)}function z3(t){if(t instanceof Xi)return new Xi(t.h,t.s,t.l,t.opacity);if(t instanceof dm||(t=Rh(t)),!t)return new Xi;if(t instanceof Xi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,d=s-i,f=(s+i)/2;return d?(e===s?l=(n-r)/d+(n<r)*6:n===s?l=(r-e)/d+2:l=(e-n)/d+4,d/=f<.5?s+i:2-s-i,l*=60):d=f>0&&f<1?0:l,new Xi(l,d,f,t.opacity)}function sre(t,e,n,r){return arguments.length===1?z3(t):new Xi(t,e,n,r??1)}function Xi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}DS(Xi,sre,M3(dm,{brighter(t){return t=t==null?Cv:Math.pow(Cv,t),new Xi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ph:Math.pow(Ph,t),new Xi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new $r(Qx(t>=240?t-240:t+120,i,r),Qx(t,i,r),Qx(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Xi(lR(this.h),fg(this.s),fg(this.l),Ov(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ov(this.opacity);return`${t===1?"hsl(":"hsla("}${lR(this.h)}, ${fg(this.s)*100}%, ${fg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function lR(t){return t=(t||0)%360,t<0?t+360:t}function fg(t){return Math.max(0,Math.min(1,t||0))}function Qx(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const kS=t=>()=>t;function ore(t,e){return function(n){return t+n*e}}function lre(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function cre(t){return(t=+t)==1?L3:function(e,n){return n-e?lre(e,n,t):kS(isNaN(e)?n:e)}}function L3(t,e){var n=e-t;return n?ore(t,n):kS(isNaN(t)?e:t)}const cR=(function t(e){var n=cre(e);function r(i,s){var l=n((i=zw(i)).r,(s=zw(s)).r),d=n(i.g,s.g),f=n(i.b,s.b),m=L3(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=d(p),i.b=f(p),i.opacity=m(p),i+""}}return r.gamma=t,r})(1);function ure(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function dre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fre(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=Ed(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(d){for(l=0;l<r;++l)s[l]=i[l](d);return s}}function hre(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Pv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function mre(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ed(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Lw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xx=new RegExp(Lw.source,"g");function pre(t){return function(){return t}}function gre(t){return function(e){return t(e)+""}}function vre(t,e){var n=Lw.lastIndex=Xx.lastIndex=0,r,i,s,l=-1,d=[],f=[];for(t=t+"",e=e+"";(r=Lw.exec(t))&&(i=Xx.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),d[l]?d[l]+=s:d[++l]=s),(r=r[0])===(i=i[0])?d[l]?d[l]+=i:d[++l]=i:(d[++l]=null,f.push({i:l,x:Pv(r,i)})),n=Xx.lastIndex;return n<e.length&&(s=e.slice(n),d[l]?d[l]+=s:d[++l]=s),d.length<2?f[0]?gre(f[0].x):pre(e):(e=f.length,function(m){for(var p=0,g;p<e;++p)d[(g=f[p]).i]=g.x(m);return d.join("")})}function Ed(t,e){var n=typeof e,r;return e==null||n==="boolean"?kS(e):(n==="number"?Pv:n==="string"?(r=Rh(e))?(e=r,cR):vre:e instanceof Rh?cR:e instanceof Date?hre:dre(e)?ure:Array.isArray(e)?fre:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?mre:Pv)(t,e)}function MS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function yre(t,e){e===void 0&&(e=t,t=Ed);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var d=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[d](l-d)}}function _re(t){return function(){return t}}function Iv(t){return+t}var uR=[0,1];function xr(t){return t}function Vw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:_re(isNaN(e)?NaN:.5)}function bre(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function xre(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=Vw(i,r),s=n(l,s)):(r=Vw(r,i),s=n(s,l)),function(d){return s(r(d))}}function wre(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=Vw(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(d){var f=um(t,d,1,r)-1;return s[f](i[f](d))}}function fm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Xy(){var t=uR,e=uR,n=Ed,r,i,s,l=xr,d,f,m;function p(){var _=Math.min(t.length,e.length);return l!==xr&&(l=bre(t[0],t[_-1])),d=_>2?wre:xre,f=m=null,g}function g(_){return _==null||isNaN(_=+_)?s:(f||(f=d(t.map(r),e,n)))(r(l(_)))}return g.invert=function(_){return l(i((m||(m=d(e,t.map(r),Pv)))(_)))},g.domain=function(_){return arguments.length?(t=Array.from(_,Iv),p()):t.slice()},g.range=function(_){return arguments.length?(e=Array.from(_),p()):e.slice()},g.rangeRound=function(_){return e=Array.from(_),n=MS,p()},g.clamp=function(_){return arguments.length?(l=_?!0:xr,p()):l!==xr},g.interpolate=function(_){return arguments.length?(n=_,p()):n},g.unknown=function(_){return arguments.length?(s=_,g):s},function(_,x){return r=_,i=x,p()}}function zS(){return Xy()(xr,xr)}function Ere(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Rv(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ud(t){return t=Rv(Math.abs(t)),t?t[1]:NaN}function Sre(t,e){return function(n,r){for(var i=n.length,s=[],l=0,d=t[0],f=0;i>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),s.push(n.substring(i-=d,i+d)),!((f+=d+1)>r));)d=t[l=(l+1)%t.length];return s.reverse().join(e)}}function Are(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Tre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dh(t){if(!(e=Tre.exec(t)))throw new Error("invalid format: "+t);var e;return new LS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Dh.prototype=LS.prototype;function LS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}LS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jre(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Dv;function Nre(t,e){var n=Rv(t,e);if(!n)return Dv=void 0,t.toPrecision(e);var r=n[0],i=n[1],s=i-(Dv=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Rv(t,Math.max(0,e+s-1))[0]}function dR(t,e){var n=Rv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const fR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ere,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>dR(t*100,e),r:dR,s:Nre,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function hR(t){return t}var mR=Array.prototype.map,pR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Cre(t){var e=t.grouping===void 0||t.thousands===void 0?hR:Sre(mR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?hR:Are(mR.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function m(g,_){g=Dh(g);var x=g.fill,S=g.align,E=g.sign,A=g.symbol,C=g.zero,D=g.width,k=g.comma,M=g.precision,V=g.trim,L=g.type;L==="n"?(k=!0,L="g"):fR[L]||(M===void 0&&(M=12),V=!0,L="g"),(C||x==="0"&&S==="=")&&(C=!0,x="0",S="=");var P=(_&&_.prefix!==void 0?_.prefix:"")+(A==="$"?n:A==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():""),O=(A==="$"?r:/[%p]/.test(L)?l:"")+(_&&_.suffix!==void 0?_.suffix:""),I=fR[L],$=/[defgprs%]/.test(L);M=M===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function q(z){var B=P,be=O,Se,W,le;if(L==="c")be=I(z)+be,z="";else{z=+z;var ve=z<0||1/z<0;if(z=isNaN(z)?f:I(Math.abs(z),M),V&&(z=jre(z)),ve&&+z==0&&E!=="+"&&(ve=!1),B=(ve?E==="("?E:d:E==="-"||E==="("?"":E)+B,be=(L==="s"&&!isNaN(z)&&Dv!==void 0?pR[8+Dv/3]:"")+be+(ve&&E==="("?")":""),$){for(Se=-1,W=z.length;++Se<W;)if(le=z.charCodeAt(Se),48>le||le>57){be=(le===46?i+z.slice(Se+1):z.slice(Se))+be,z=z.slice(0,Se);break}}}k&&!C&&(z=e(z,1/0));var xe=B.length+z.length+be.length,we=xe<D?new Array(D-xe+1).join(x):"";switch(k&&C&&(z=e(we+z,we.length?D-be.length:1/0),we=""),S){case"<":z=B+z+be+we;break;case"=":z=B+we+z+be;break;case"^":z=we.slice(0,xe=we.length>>1)+B+z+be+we.slice(xe);break;default:z=we+B+z+be;break}return s(z)}return q.toString=function(){return g+""},q}function p(g,_){var x=Math.max(-8,Math.min(8,Math.floor(ud(_)/3)))*3,S=Math.pow(10,-x),E=m((g=Dh(g),g.type="f",g),{suffix:pR[8+x/3]});return function(A){return E(S*A)}}return{format:m,formatPrefix:p}}var hg,VS,V3;Ore({thousands:",",grouping:[3],currency:["$",""]});function Ore(t){return hg=Cre(t),VS=hg.format,V3=hg.formatPrefix,hg}function Pre(t){return Math.max(0,-ud(Math.abs(t)))}function Ire(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ud(e)/3)))*3-ud(Math.abs(t)))}function Rre(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ud(e)-ud(t))+1}function U3(t,e,n,r){var i=kw(t,e,n),s;switch(r=Dh(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Ire(i,l))&&(r.precision=s),V3(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Rre(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Pre(i))&&(r.precision=s-(r.type==="%")*2);break}}return VS(r)}function gl(t){var e=t.domain;return t.ticks=function(n){var r=e();return Rw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return U3(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],d=r[s],f,m,p=10;for(d<l&&(m=l,l=d,d=m,m=i,i=s,s=m);p-- >0;){if(m=Dw(l,d,n),m===f)return r[i]=l,r[s]=d,e(r);if(m>0)l=Math.floor(l/m)*m,d=Math.ceil(d/m)*m;else if(m<0)l=Math.ceil(l*m)/m,d=Math.floor(d*m)/m;else break;f=m}return t},t}function q3(){var t=zS();return t.copy=function(){return fm(t,q3())},ki.apply(t,arguments),gl(t)}function B3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Iv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return B3(t).unknown(e)},t=arguments.length?Array.from(t,Iv):[0,1],gl(n)}function $3(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function gR(t){return Math.log(t)}function vR(t){return Math.exp(t)}function Dre(t){return-Math.log(-t)}function kre(t){return-Math.exp(-t)}function Mre(t){return isFinite(t)?+("1e"+t):t<0?0:t}function zre(t){return t===10?Mre:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Lre(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function yR(t){return(e,n)=>-t(-e,n)}function US(t){const e=t(gR,vR),n=e.domain;let r=10,i,s;function l(){return i=Lre(r),s=zre(r),n()[0]<0?(i=yR(i),s=yR(s),t(Dre,kre)):t(gR,vR),e}return e.base=function(d){return arguments.length?(r=+d,l()):r},e.domain=function(d){return arguments.length?(n(d),l()):n()},e.ticks=d=>{const f=n();let m=f[0],p=f[f.length-1];const g=p<m;g&&([m,p]=[p,m]);let _=i(m),x=i(p),S,E;const A=d==null?10:+d;let C=[];if(!(r%1)&&x-_<A){if(_=Math.floor(_),x=Math.ceil(x),m>0){for(;_<=x;++_)for(S=1;S<r;++S)if(E=_<0?S/s(-_):S*s(_),!(E<m)){if(E>p)break;C.push(E)}}else for(;_<=x;++_)for(S=r-1;S>=1;--S)if(E=_>0?S/s(-_):S*s(_),!(E<m)){if(E>p)break;C.push(E)}C.length*2<A&&(C=Rw(m,p,A))}else C=Rw(_,x,Math.min(x-_,A)).map(s);return g?C.reverse():C},e.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Dh(f)).precision==null&&(f.trim=!0),f=VS(f)),d===1/0)return f;const m=Math.max(1,r*d/e.ticks().length);return p=>{let g=p/s(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=m?f(p):""}},e.nice=()=>n($3(n(),{floor:d=>s(Math.floor(i(d))),ceil:d=>s(Math.ceil(i(d)))})),e}function F3(){const t=US(Xy()).domain([1,10]);return t.copy=()=>fm(t,F3()).base(t.base()),ki.apply(t,arguments),t}function _R(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function bR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function qS(t){var e=1,n=t(_R(e),bR(e));return n.constant=function(r){return arguments.length?t(_R(e=+r),bR(e)):e},gl(n)}function H3(){var t=qS(Xy());return t.copy=function(){return fm(t,H3()).constant(t.constant())},ki.apply(t,arguments)}function xR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Vre(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ure(t){return t<0?-t*t:t*t}function BS(t){var e=t(xr,xr),n=1;function r(){return n===1?t(xr,xr):n===.5?t(Vre,Ure):t(xR(n),xR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},gl(e)}function $S(){var t=BS(Xy());return t.copy=function(){return fm(t,$S()).exponent(t.exponent())},ki.apply(t,arguments),t}function qre(){return $S.apply(null,arguments).exponent(.5)}function wR(t){return Math.sign(t)*t*t}function Bre(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function G3(){var t=zS(),e=[0,1],n=!1,r;function i(s){var l=Bre(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(wR(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Iv)).map(wR)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return G3(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ki.apply(i,arguments),gl(i)}function K3(){var t=[],e=[],n=[],r;function i(){var l=0,d=Math.max(1,e.length);for(n=new Array(d-1);++l<d;)n[l-1]=Gne(t,l/d);return s}function s(l){return l==null||isNaN(l=+l)?r:e[um(n,l)]}return s.invertExtent=function(l){var d=e.indexOf(l);return d<0?[NaN,NaN]:[d>0?n[d-1]:t[0],d<n.length?n[d]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let d of l)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(Xo),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return K3().domain(t).range(e).unknown(r)},ki.apply(s,arguments)}function W3(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(f){return f!=null&&f<=f?i[um(r,f,0,n)]:s}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,d()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,d()):i.slice()},l.invertExtent=function(f){var m=i.indexOf(f);return m<0?[NaN,NaN]:m<1?[t,r[0]]:m>=n?[r[n-1],e]:[r[m-1],r[m]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return W3().domain([t,e]).range(i).unknown(s)},ki.apply(gl(l),arguments)}function Y3(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[um(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Y3().domain(t).range(e).unknown(n)},ki.apply(i,arguments)}const Zx=new Date,Jx=new Date;function Dn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),d=i.ceil(s);return s-l<d-s?l:d},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,d)=>{const f=[];if(s=i.ceil(s),d=d==null?1:Math.floor(d),!(s<l)||!(d>0))return f;let m;do f.push(m=new Date(+s)),e(s,d),t(s);while(m<s&&s<l);return f},i.filter=s=>Dn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;e(l,-1),!s(l););else for(;--d>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(Zx.setTime(+s),Jx.setTime(+l),t(Zx),t(Jx),Math.floor(n(Zx,Jx))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const kv=Dn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);kv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Dn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):kv);kv.range;const bs=1e3,Ci=bs*60,xs=Ci*60,Rs=xs*24,FS=Rs*7,ER=Rs*30,e1=Rs*365,nc=Dn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*bs)},(t,e)=>(e-t)/bs,t=>t.getUTCSeconds());nc.range;const HS=Dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bs)},(t,e)=>{t.setTime(+t+e*Ci)},(t,e)=>(e-t)/Ci,t=>t.getMinutes());HS.range;const GS=Dn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ci)},(t,e)=>(e-t)/Ci,t=>t.getUTCMinutes());GS.range;const KS=Dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bs-t.getMinutes()*Ci)},(t,e)=>{t.setTime(+t+e*xs)},(t,e)=>(e-t)/xs,t=>t.getHours());KS.range;const WS=Dn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*xs)},(t,e)=>(e-t)/xs,t=>t.getUTCHours());WS.range;const hm=Dn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ci)/Rs,t=>t.getDate()-1);hm.range;const Zy=Dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Rs,t=>t.getUTCDate()-1);Zy.range;const Q3=Dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Rs,t=>Math.floor(t/Rs));Q3.range;function kc(t){return Dn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ci)/FS)}const Jy=kc(0),Mv=kc(1),$re=kc(2),Fre=kc(3),dd=kc(4),Hre=kc(5),Gre=kc(6);Jy.range;Mv.range;$re.range;Fre.range;dd.range;Hre.range;Gre.range;function Mc(t){return Dn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/FS)}const e0=Mc(0),zv=Mc(1),Kre=Mc(2),Wre=Mc(3),fd=Mc(4),Yre=Mc(5),Qre=Mc(6);e0.range;zv.range;Kre.range;Wre.range;fd.range;Yre.range;Qre.range;const YS=Dn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());YS.range;const QS=Dn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());QS.range;const Ds=Dn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ds.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ds.range;const ks=Dn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ks.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ks.range;function X3(t,e,n,r,i,s){const l=[[nc,1,bs],[nc,5,5*bs],[nc,15,15*bs],[nc,30,30*bs],[s,1,Ci],[s,5,5*Ci],[s,15,15*Ci],[s,30,30*Ci],[i,1,xs],[i,3,3*xs],[i,6,6*xs],[i,12,12*xs],[r,1,Rs],[r,2,2*Rs],[n,1,FS],[e,1,ER],[e,3,3*ER],[t,1,e1]];function d(m,p,g){const _=p<m;_&&([m,p]=[p,m]);const x=g&&typeof g.range=="function"?g:f(m,p,g),S=x?x.range(m,+p+1):[];return _?S.reverse():S}function f(m,p,g){const _=Math.abs(p-m)/g,x=PS(([,,A])=>A).right(l,_);if(x===l.length)return t.every(kw(m/e1,p/e1,g));if(x===0)return kv.every(Math.max(kw(m,p,g),1));const[S,E]=l[_/l[x-1][2]<l[x][2]/_?x-1:x];return S.every(E)}return[d,f]}const[Xre,Zre]=X3(ks,QS,e0,Q3,WS,GS),[Jre,eie]=X3(Ds,YS,Jy,hm,KS,HS);function t1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function n1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function qf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function tie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,d=t.months,f=t.shortMonths,m=Bf(i),p=$f(i),g=Bf(s),_=$f(s),x=Bf(l),S=$f(l),E=Bf(d),A=$f(d),C=Bf(f),D=$f(f),k={a:le,A:ve,b:xe,B:we,c:null,d:CR,e:CR,f:Sie,g:Die,G:Mie,H:xie,I:wie,j:Eie,L:Z3,m:Aie,M:Tie,p:F,q:ne,Q:IR,s:RR,S:jie,u:Nie,U:Cie,V:Oie,w:Pie,W:Iie,x:null,X:null,y:Rie,Y:kie,Z:zie,"%":PR},M={a:pe,A:_e,b:Q,B:K,c:null,d:OR,e:OR,f:qie,g:Xie,G:Jie,H:Lie,I:Vie,j:Uie,L:e6,m:Bie,M:$ie,p:ye,q:Le,Q:IR,s:RR,S:Fie,u:Hie,U:Gie,V:Kie,w:Wie,W:Yie,x:null,X:null,y:Qie,Y:Zie,Z:eae,"%":PR},V={a:$,A:q,b:z,B,c:be,d:jR,e:jR,f:vie,g:TR,G:AR,H:NR,I:NR,j:hie,L:gie,m:fie,M:mie,p:I,q:die,Q:_ie,s:bie,S:pie,u:sie,U:oie,V:lie,w:aie,W:cie,x:Se,X:W,y:TR,Y:AR,Z:uie,"%":yie};k.x=L(n,k),k.X=L(r,k),k.c=L(e,k),M.x=L(n,M),M.X=L(r,M),M.c=L(e,M);function L(ie,Te){return function(Y){var he=[],Re=-1,Be=0,rt=ie.length,ct,pt,sr;for(Y instanceof Date||(Y=new Date(+Y));++Re<rt;)ie.charCodeAt(Re)===37&&(he.push(ie.slice(Be,Re)),(pt=SR[ct=ie.charAt(++Re)])!=null?ct=ie.charAt(++Re):pt=ct==="e"?" ":"0",(sr=Te[ct])&&(ct=sr(Y,pt)),he.push(ct),Be=Re+1);return he.push(ie.slice(Be,Re)),he.join("")}}function P(ie,Te){return function(Y){var he=qf(1900,void 0,1),Re=O(he,ie,Y+="",0),Be,rt;if(Re!=Y.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Te&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Be=n1(qf(he.y,0,1)),rt=Be.getUTCDay(),Be=rt>4||rt===0?zv.ceil(Be):zv(Be),Be=Zy.offset(Be,(he.V-1)*7),he.y=Be.getUTCFullYear(),he.m=Be.getUTCMonth(),he.d=Be.getUTCDate()+(he.w+6)%7):(Be=t1(qf(he.y,0,1)),rt=Be.getDay(),Be=rt>4||rt===0?Mv.ceil(Be):Mv(Be),Be=hm.offset(Be,(he.V-1)*7),he.y=Be.getFullYear(),he.m=Be.getMonth(),he.d=Be.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),rt="Z"in he?n1(qf(he.y,0,1)).getUTCDay():t1(qf(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(rt+5)%7:he.w+he.U*7-(rt+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,n1(he)):t1(he)}}function O(ie,Te,Y,he){for(var Re=0,Be=Te.length,rt=Y.length,ct,pt;Re<Be;){if(he>=rt)return-1;if(ct=Te.charCodeAt(Re++),ct===37){if(ct=Te.charAt(Re++),pt=V[ct in SR?Te.charAt(Re++):ct],!pt||(he=pt(ie,Y,he))<0)return-1}else if(ct!=Y.charCodeAt(he++))return-1}return he}function I(ie,Te,Y){var he=m.exec(Te.slice(Y));return he?(ie.p=p.get(he[0].toLowerCase()),Y+he[0].length):-1}function $(ie,Te,Y){var he=x.exec(Te.slice(Y));return he?(ie.w=S.get(he[0].toLowerCase()),Y+he[0].length):-1}function q(ie,Te,Y){var he=g.exec(Te.slice(Y));return he?(ie.w=_.get(he[0].toLowerCase()),Y+he[0].length):-1}function z(ie,Te,Y){var he=C.exec(Te.slice(Y));return he?(ie.m=D.get(he[0].toLowerCase()),Y+he[0].length):-1}function B(ie,Te,Y){var he=E.exec(Te.slice(Y));return he?(ie.m=A.get(he[0].toLowerCase()),Y+he[0].length):-1}function be(ie,Te,Y){return O(ie,e,Te,Y)}function Se(ie,Te,Y){return O(ie,n,Te,Y)}function W(ie,Te,Y){return O(ie,r,Te,Y)}function le(ie){return l[ie.getDay()]}function ve(ie){return s[ie.getDay()]}function xe(ie){return f[ie.getMonth()]}function we(ie){return d[ie.getMonth()]}function F(ie){return i[+(ie.getHours()>=12)]}function ne(ie){return 1+~~(ie.getMonth()/3)}function pe(ie){return l[ie.getUTCDay()]}function _e(ie){return s[ie.getUTCDay()]}function Q(ie){return f[ie.getUTCMonth()]}function K(ie){return d[ie.getUTCMonth()]}function ye(ie){return i[+(ie.getUTCHours()>=12)]}function Le(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var Te=L(ie+="",k);return Te.toString=function(){return ie},Te},parse:function(ie){var Te=P(ie+="",!1);return Te.toString=function(){return ie},Te},utcFormat:function(ie){var Te=L(ie+="",M);return Te.toString=function(){return ie},Te},utcParse:function(ie){var Te=P(ie+="",!0);return Te.toString=function(){return ie},Te}}}var SR={"-":"",_:" ",0:"0"},Wn=/^\s*\d+/,nie=/^%/,rie=/[\\^$*+?|[\]().{}]/g;function yt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function iie(t){return t.replace(rie,"\\$&")}function Bf(t){return new RegExp("^(?:"+t.map(iie).join("|")+")","i")}function $f(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function aie(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function sie(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function oie(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function lie(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function cie(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function AR(t,e,n){var r=Wn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function TR(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function uie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function die(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function fie(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function jR(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function hie(t,e,n){var r=Wn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function NR(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function mie(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function pie(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function gie(t,e,n){var r=Wn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function vie(t,e,n){var r=Wn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yie(t,e,n){var r=nie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function _ie(t,e,n){var r=Wn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function bie(t,e,n){var r=Wn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function CR(t,e){return yt(t.getDate(),e,2)}function xie(t,e){return yt(t.getHours(),e,2)}function wie(t,e){return yt(t.getHours()%12||12,e,2)}function Eie(t,e){return yt(1+hm.count(Ds(t),t),e,3)}function Z3(t,e){return yt(t.getMilliseconds(),e,3)}function Sie(t,e){return Z3(t,e)+"000"}function Aie(t,e){return yt(t.getMonth()+1,e,2)}function Tie(t,e){return yt(t.getMinutes(),e,2)}function jie(t,e){return yt(t.getSeconds(),e,2)}function Nie(t){var e=t.getDay();return e===0?7:e}function Cie(t,e){return yt(Jy.count(Ds(t)-1,t),e,2)}function J3(t){var e=t.getDay();return e>=4||e===0?dd(t):dd.ceil(t)}function Oie(t,e){return t=J3(t),yt(dd.count(Ds(t),t)+(Ds(t).getDay()===4),e,2)}function Pie(t){return t.getDay()}function Iie(t,e){return yt(Mv.count(Ds(t)-1,t),e,2)}function Rie(t,e){return yt(t.getFullYear()%100,e,2)}function Die(t,e){return t=J3(t),yt(t.getFullYear()%100,e,2)}function kie(t,e){return yt(t.getFullYear()%1e4,e,4)}function Mie(t,e){var n=t.getDay();return t=n>=4||n===0?dd(t):dd.ceil(t),yt(t.getFullYear()%1e4,e,4)}function zie(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+yt(e/60|0,"0",2)+yt(e%60,"0",2)}function OR(t,e){return yt(t.getUTCDate(),e,2)}function Lie(t,e){return yt(t.getUTCHours(),e,2)}function Vie(t,e){return yt(t.getUTCHours()%12||12,e,2)}function Uie(t,e){return yt(1+Zy.count(ks(t),t),e,3)}function e6(t,e){return yt(t.getUTCMilliseconds(),e,3)}function qie(t,e){return e6(t,e)+"000"}function Bie(t,e){return yt(t.getUTCMonth()+1,e,2)}function $ie(t,e){return yt(t.getUTCMinutes(),e,2)}function Fie(t,e){return yt(t.getUTCSeconds(),e,2)}function Hie(t){var e=t.getUTCDay();return e===0?7:e}function Gie(t,e){return yt(e0.count(ks(t)-1,t),e,2)}function t6(t){var e=t.getUTCDay();return e>=4||e===0?fd(t):fd.ceil(t)}function Kie(t,e){return t=t6(t),yt(fd.count(ks(t),t)+(ks(t).getUTCDay()===4),e,2)}function Wie(t){return t.getUTCDay()}function Yie(t,e){return yt(zv.count(ks(t)-1,t),e,2)}function Qie(t,e){return yt(t.getUTCFullYear()%100,e,2)}function Xie(t,e){return t=t6(t),yt(t.getUTCFullYear()%100,e,2)}function Zie(t,e){return yt(t.getUTCFullYear()%1e4,e,4)}function Jie(t,e){var n=t.getUTCDay();return t=n>=4||n===0?fd(t):fd.ceil(t),yt(t.getUTCFullYear()%1e4,e,4)}function eae(){return"+0000"}function PR(){return"%"}function IR(t){return+t}function RR(t){return Math.floor(+t/1e3)}var Pu,n6,r6;tae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tae(t){return Pu=tie(t),n6=Pu.format,Pu.parse,r6=Pu.utcFormat,Pu.utcParse,Pu}function nae(t){return new Date(t)}function rae(t){return t instanceof Date?+t:+new Date(+t)}function XS(t,e,n,r,i,s,l,d,f,m){var p=zS(),g=p.invert,_=p.domain,x=m(".%L"),S=m(":%S"),E=m("%I:%M"),A=m("%I %p"),C=m("%a %d"),D=m("%b %d"),k=m("%B"),M=m("%Y");function V(L){return(f(L)<L?x:d(L)<L?S:l(L)<L?E:s(L)<L?A:r(L)<L?i(L)<L?C:D:n(L)<L?k:M)(L)}return p.invert=function(L){return new Date(g(L))},p.domain=function(L){return arguments.length?_(Array.from(L,rae)):_().map(nae)},p.ticks=function(L){var P=_();return t(P[0],P[P.length-1],L??10)},p.tickFormat=function(L,P){return P==null?V:m(P)},p.nice=function(L){var P=_();return(!L||typeof L.range!="function")&&(L=e(P[0],P[P.length-1],L??10)),L?_($3(P,L)):p},p.copy=function(){return fm(p,XS(t,e,n,r,i,s,l,d,f,m))},p}function iae(){return ki.apply(XS(Jre,eie,Ds,YS,Jy,hm,KS,HS,nc,n6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aae(){return ki.apply(XS(Xre,Zre,ks,QS,e0,Zy,WS,GS,nc,r6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function t0(){var t=0,e=1,n,r,i,s,l=xr,d=!1,f;function m(g){return g==null||isNaN(g=+g)?f:l(i===0?.5:(g=(s(g)-n)*i,d?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),m):[t,e]},m.clamp=function(g){return arguments.length?(d=!!g,m):d},m.interpolator=function(g){return arguments.length?(l=g,m):l};function p(g){return function(_){var x,S;return arguments.length?([x,S]=_,l=g(x,S),m):[l(0),l(1)]}}return m.range=p(Ed),m.rangeRound=p(MS),m.unknown=function(g){return arguments.length?(f=g,m):f},function(g){return s=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),m}}function vl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function i6(){var t=gl(t0()(xr));return t.copy=function(){return vl(t,i6())},Gs.apply(t,arguments)}function a6(){var t=US(t0()).domain([1,10]);return t.copy=function(){return vl(t,a6()).base(t.base())},Gs.apply(t,arguments)}function s6(){var t=qS(t0());return t.copy=function(){return vl(t,s6()).constant(t.constant())},Gs.apply(t,arguments)}function ZS(){var t=BS(t0());return t.copy=function(){return vl(t,ZS()).exponent(t.exponent())},Gs.apply(t,arguments)}function sae(){return ZS.apply(null,arguments).exponent(.5)}function o6(){var t=[],e=xr;function n(r){if(r!=null&&!isNaN(r=+r))return e((um(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Xo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Hne(t,s/r))},n.copy=function(){return o6(e).domain(t)},Gs.apply(n,arguments)}function n0(){var t=0,e=.5,n=1,r=1,i,s,l,d,f,m=xr,p,g=!1,_;function x(E){return isNaN(E=+E)?_:(E=.5+((E=+p(E))-s)*(r*E<r*s?d:f),m(g?Math.max(0,Math.min(1,E)):E))}x.domain=function(E){return arguments.length?([t,e,n]=E,i=p(t=+t),s=p(e=+e),l=p(n=+n),d=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,x):[t,e,n]},x.clamp=function(E){return arguments.length?(g=!!E,x):g},x.interpolator=function(E){return arguments.length?(m=E,x):m};function S(E){return function(A){var C,D,k;return arguments.length?([C,D,k]=A,m=yre(E,[C,D,k]),x):[m(0),m(.5),m(1)]}}return x.range=S(Ed),x.rangeRound=S(MS),x.unknown=function(E){return arguments.length?(_=E,x):_},function(E){return p=E,i=E(t),s=E(e),l=E(n),d=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,x}}function l6(){var t=gl(n0()(xr));return t.copy=function(){return vl(t,l6())},Gs.apply(t,arguments)}function c6(){var t=US(n0()).domain([.1,1,10]);return t.copy=function(){return vl(t,c6()).base(t.base())},Gs.apply(t,arguments)}function u6(){var t=qS(n0());return t.copy=function(){return vl(t,u6()).constant(t.constant())},Gs.apply(t,arguments)}function JS(){var t=BS(n0());return t.copy=function(){return vl(t,JS()).exponent(t.exponent())},Gs.apply(t,arguments)}function oae(){return JS.apply(null,arguments).exponent(.5)}const Jf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:RS,scaleDiverging:l6,scaleDivergingLog:c6,scaleDivergingPow:JS,scaleDivergingSqrt:oae,scaleDivergingSymlog:u6,scaleIdentity:B3,scaleImplicit:Mw,scaleLinear:q3,scaleLog:F3,scaleOrdinal:IS,scalePoint:Wne,scalePow:$S,scaleQuantile:K3,scaleQuantize:W3,scaleRadial:G3,scaleSequential:i6,scaleSequentialLog:a6,scaleSequentialPow:ZS,scaleSequentialQuantile:o6,scaleSequentialSqrt:sae,scaleSequentialSymlog:s6,scaleSqrt:qre,scaleSymlog:H3,scaleThreshold:Y3,scaleTime:iae,scaleUtc:aae,tickFormat:U3},Symbol.toStringTag,{value:"Module"}));var Ks=t=>t.chartData,d6=ae([Ks],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),eA=(t,e,n,r)=>r?d6(t):Ks(t),lae=(t,e,n)=>n?d6(t):Ks(t);function Ms(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(dt(e)&&dt(n))return!0}return!1}function DR(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function f6(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(dt(n))i=n;else if(typeof n=="function")return;if(dt(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(Ms(l))return l}}function cae(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Ms(r))return DR(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,d;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Oe(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&HP.test(i)){var f=HP.exec(i);if(f==null||f[1]==null||e==null)l=void 0;else{var m=+f[1];l=e[0]-m}}else l=e?.[0];if(s==="auto")e!=null&&(d=Math.max(...e));else if(Oe(s))d=s;else if(typeof s=="function")try{e!=null&&(d=s(e?.[1]))}catch{}else if(typeof s=="string"&&GP.test(s)){var p=GP.exec(s);if(p==null||p[1]==null||e==null)d=void 0;else{var g=+p[1];d=e[1]+g}}else d=e?.[1];var _=[l,d];if(Ms(_))return e==null?_:DR(_,e,n)}}}var Sd=1e9,uae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nA,Yt=!0,Di="[DecimalError] ",cc=Di+"Invalid argument: ",tA=Di+"Exponent out of range: ",Ad=Math.floor,Zl=Math.pow,dae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ii,$n=1e7,Ht=7,h6=9007199254740991,Lv=Ad(h6/Ht),Ne={};Ne.absoluteValue=Ne.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ne.comparedTo=Ne.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ht;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ne.dividedBy=Ne.div=function(t){return As(this,new this.constructor(t))};Ne.dividedToIntegerBy=Ne.idiv=function(t){var e=this,n=e.constructor;return Vt(As(e,new n(t),0,1),n.precision)};Ne.equals=Ne.eq=function(t){return!this.cmp(t)};Ne.exponent=function(){return Cn(this)};Ne.greaterThan=Ne.gt=function(t){return this.cmp(t)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(t){return this.cmp(t)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(t){return this.cmp(t)<0};Ne.lessThanOrEqualTo=Ne.lte=function(t){return this.cmp(t)<1};Ne.logarithm=Ne.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ii))throw Error(Di+"NaN");if(n.s<1)throw Error(Di+(n.s?"NaN":"-Infinity"));return n.eq(ii)?new r(0):(Yt=!1,e=As(kh(n,s),kh(t,s),s),Yt=!0,Vt(e,i))};Ne.minus=Ne.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?g6(e,t):m6(e,(t.s=-t.s,t))};Ne.modulo=Ne.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Di+"NaN");return n.s?(Yt=!1,e=As(n,t,0,1).times(t),Yt=!0,n.minus(e)):Vt(new r(n),i)};Ne.naturalExponential=Ne.exp=function(){return p6(this)};Ne.naturalLogarithm=Ne.ln=function(){return kh(this)};Ne.negated=Ne.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ne.plus=Ne.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?m6(e,t):g6(e,(t.s=-t.s,t))};Ne.precision=Ne.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(cc+t);if(e=Cn(i)+1,r=i.d.length-1,n=r*Ht+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ne.squareRoot=Ne.sqrt=function(){var t,e,n,r,i,s,l,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Di+"NaN")}for(t=Cn(d),Yt=!1,i=Math.sqrt(+d),i==0||i==1/0?(e=ka(d.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ad((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(s=r,r=s.plus(As(d,s,l+2)).times(.5),ka(s.d).slice(0,l)===(e=ka(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Vt(s,n+1,0),s.times(s).eq(d)){r=s;break}}else if(e!="9999")break;l+=4}return Yt=!0,Vt(r,n)};Ne.times=Ne.mul=function(t){var e,n,r,i,s,l,d,f,m,p=this,g=p.constructor,_=p.d,x=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,f=_.length,m=x.length,f<m&&(s=_,_=x,x=s,l=f,f=m,m=l),s=[],l=f+m,r=l;r--;)s.push(0);for(r=m;--r>=0;){for(e=0,i=f+r;i>r;)d=s[i]+x[r]*_[i-r-1]+e,s[i--]=d%$n|0,e=d/$n|0;s[i]=(s[i]+e)%$n|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Yt?Vt(t,g.precision):t};Ne.toDecimalPlaces=Ne.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ga(t,0,Sd),e===void 0?e=r.rounding:Ga(e,0,8),Vt(n,t+Cn(n)+1,e))};Ne.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ac(r,!0):(Ga(t,0,Sd),e===void 0?e=i.rounding:Ga(e,0,8),r=Vt(new i(r),t+1,e),n=Ac(r,!0,t+1)),n};Ne.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Ac(i):(Ga(t,0,Sd),e===void 0?e=s.rounding:Ga(e,0,8),r=Vt(new s(i),t+Cn(i)+1,e),n=Ac(r.abs(),!1,t+Cn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ne.toInteger=Ne.toint=function(){var t=this,e=t.constructor;return Vt(new e(t),Cn(t)+1,e.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(t){var e,n,r,i,s,l,d=this,f=d.constructor,m=12,p=+(t=new f(t));if(!t.s)return new f(ii);if(d=new f(d),!d.s){if(t.s<1)throw Error(Di+"Infinity");return d}if(d.eq(ii))return d;if(r=f.precision,t.eq(ii))return Vt(d,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=d.s,l){if((n=p<0?-p:p)<=h6){for(i=new f(ii),e=Math.ceil(r/Ht+4),Yt=!1;n%2&&(i=i.times(d),MR(i.d,e)),n=Ad(n/2),n!==0;)d=d.times(d),MR(d.d,e);return Yt=!0,t.s<0?new f(ii).div(i):Vt(i,r)}}else if(s<0)throw Error(Di+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,d.s=1,Yt=!1,i=t.times(kh(d,r+m)),Yt=!0,i=p6(i),i.s=s,i};Ne.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Cn(i),r=Ac(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ga(t,1,Sd),e===void 0?e=s.rounding:Ga(e,0,8),i=Vt(new s(i),t,e),n=Cn(i),r=Ac(i,t<=n||n<=s.toExpNeg,t)),r};Ne.toSignificantDigits=Ne.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ga(t,1,Sd),e===void 0?e=r.rounding:Ga(e,0,8)),Vt(new r(n),t,e)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Cn(t),n=t.constructor;return Ac(t,e<=n.toExpNeg||e>=n.toExpPos)};function m6(t,e){var n,r,i,s,l,d,f,m,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Yt?Vt(e,g):e;if(f=t.d,m=e.d,l=t.e,i=e.e,f=f.slice(),s=l-i,s){for(s<0?(r=f,s=-s,d=m.length):(r=m,i=l,d=f.length),l=Math.ceil(g/Ht),d=l>d?l+1:d+1,s>d&&(s=d,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(d=f.length,s=m.length,d-s<0&&(s=d,r=m,m=f,f=r),n=0;s;)n=(f[--s]=f[s]+m[s]+n)/$n|0,f[s]%=$n;for(n&&(f.unshift(n),++i),d=f.length;f[--d]==0;)f.pop();return e.d=f,e.e=i,Yt?Vt(e,g):e}function Ga(t,e,n){if(t!==~~t||t<e||t>n)throw Error(cc+t)}function ka(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=Ht-r.length,n&&(s+=ko(n)),s+=r;l=t[e],r=l+"",n=Ht-r.length,n&&(s+=ko(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var As=(function(){function t(r,i){var s,l=0,d=r.length;for(r=r.slice();d--;)s=r[d]*i+l,r[d]=s%$n|0,l=s/$n|0;return l&&r.unshift(l),r}function e(r,i,s,l){var d,f;if(s!=l)f=s>l?1:-1;else for(d=f=0;d<s;d++)if(r[d]!=i[d]){f=r[d]>i[d]?1:-1;break}return f}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*$n+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var d,f,m,p,g,_,x,S,E,A,C,D,k,M,V,L,P,O,I=r.constructor,$=r.s==i.s?1:-1,q=r.d,z=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Di+"Division by zero");for(f=r.e-i.e,P=z.length,V=q.length,x=new I($),S=x.d=[],m=0;z[m]==(q[m]||0);)++m;if(z[m]>(q[m]||0)&&--f,s==null?D=s=I.precision:l?D=s+(Cn(r)-Cn(i))+1:D=s,D<0)return new I(0);if(D=D/Ht+2|0,m=0,P==1)for(p=0,z=z[0],D++;(m<V||p)&&D--;m++)k=p*$n+(q[m]||0),S[m]=k/z|0,p=k%z|0;else{for(p=$n/(z[0]+1)|0,p>1&&(z=t(z,p),q=t(q,p),P=z.length,V=q.length),M=P,E=q.slice(0,P),A=E.length;A<P;)E[A++]=0;O=z.slice(),O.unshift(0),L=z[0],z[1]>=$n/2&&++L;do p=0,d=e(z,E,P,A),d<0?(C=E[0],P!=A&&(C=C*$n+(E[1]||0)),p=C/L|0,p>1?(p>=$n&&(p=$n-1),g=t(z,p),_=g.length,A=E.length,d=e(g,E,_,A),d==1&&(p--,n(g,P<_?O:z,_))):(p==0&&(d=p=1),g=z.slice()),_=g.length,_<A&&g.unshift(0),n(E,g,A),d==-1&&(A=E.length,d=e(z,E,P,A),d<1&&(p++,n(E,P<A?O:z,A))),A=E.length):d===0&&(p++,E=[0]),S[m++]=p,d&&E[0]?E[A++]=q[M]||0:(E=[q[M]],A=1);while((M++<V||E[0]!==void 0)&&D--)}return S[0]||S.shift(),x.e=f,Vt(x,l?s+Cn(x)+1:s)}})();function p6(t,e){var n,r,i,s,l,d,f=0,m=0,p=t.constructor,g=p.precision;if(Cn(t)>16)throw Error(tA+Cn(t));if(!t.s)return new p(ii);for(Yt=!1,d=g,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),m+=5;for(r=Math.log(Zl(2,m))/Math.LN10*2+5|0,d+=r,n=i=s=new p(ii),p.precision=d;;){if(i=Vt(i.times(t),d),n=n.times(++f),l=s.plus(As(i,n,d)),ka(l.d).slice(0,d)===ka(s.d).slice(0,d)){for(;m--;)s=Vt(s.times(s),d);return p.precision=g,e==null?(Yt=!0,Vt(s,g)):s}s=l}}function Cn(t){for(var e=t.e*Ht,n=t.d[0];n>=10;n/=10)e++;return e}function r1(t,e,n){if(e>t.LN10.sd())throw Yt=!0,n&&(t.precision=n),Error(Di+"LN10 precision limit exceeded");return Vt(new t(t.LN10),e)}function ko(t){for(var e="";t--;)e+="0";return e}function kh(t,e){var n,r,i,s,l,d,f,m,p,g=1,_=10,x=t,S=x.d,E=x.constructor,A=E.precision;if(x.s<1)throw Error(Di+(x.s?"NaN":"-Infinity"));if(x.eq(ii))return new E(0);if(e==null?(Yt=!1,m=A):m=e,x.eq(10))return e==null&&(Yt=!0),r1(E,m);if(m+=_,E.precision=m,n=ka(S),r=n.charAt(0),s=Cn(x),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=ka(x.d),r=n.charAt(0),g++;s=Cn(x),r>1?(x=new E("0."+n),s++):x=new E(r+"."+n.slice(1))}else return f=r1(E,m+2,A).times(s+""),x=kh(new E(r+"."+n.slice(1)),m-_).plus(f),E.precision=A,e==null?(Yt=!0,Vt(x,A)):x;for(d=l=x=As(x.minus(ii),x.plus(ii),m),p=Vt(x.times(x),m),i=3;;){if(l=Vt(l.times(p),m),f=d.plus(As(l,new E(i),m)),ka(f.d).slice(0,m)===ka(d.d).slice(0,m))return d=d.times(2),s!==0&&(d=d.plus(r1(E,m+2,A).times(s+""))),d=As(d,new E(g),m),E.precision=A,e==null?(Yt=!0,Vt(d,A)):d;d=f,i+=2}}function kR(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ad(n/Ht),t.d=[],r=(n+1)%Ht,n<0&&(r+=Ht),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ht;r<i;)t.d.push(+e.slice(r,r+=Ht));e=e.slice(r),r=Ht-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Yt&&(t.e>Lv||t.e<-Lv))throw Error(tA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Vt(t,e,n){var r,i,s,l,d,f,m,p,g=t.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Ht,i=e,m=g[p=0];else{if(p=Math.ceil((r+1)/Ht),s=g.length,p>=s)return t;for(m=s=g[p],l=1;s>=10;s/=10)l++;r%=Ht,i=r-Ht+l}if(n!==void 0&&(s=Zl(10,l-i-1),d=m/s%10|0,f=e<0||g[p+1]!==void 0||m%s,f=n<4?(d||f)&&(n==0||n==(t.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?i>0?m/Zl(10,l-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(s=Cn(t),g.length=1,e=e-s-1,g[0]=Zl(10,(Ht-e%Ht)%Ht),t.e=Ad(-e/Ht)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=Zl(10,Ht-r),g[p]=i>0?(m/Zl(10,l-i)%Zl(10,i)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==$n&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=$n)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(Yt&&(t.e>Lv||t.e<-Lv))throw Error(tA+Cn(t));return t}function g6(t,e){var n,r,i,s,l,d,f,m,p,g,_=t.constructor,x=_.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new _(t),Yt?Vt(e,x):e;if(f=t.d,g=e.d,r=e.e,m=t.e,f=f.slice(),l=m-r,l){for(p=l<0,p?(n=f,l=-l,d=g.length):(n=g,r=m,d=f.length),i=Math.max(Math.ceil(x/Ht),d)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,d=g.length,p=i<d,p&&(d=i),i=0;i<d;i++)if(f[i]!=g[i]){p=f[i]<g[i];break}l=0}for(p&&(n=f,f=g,g=n,e.s=-e.s),d=f.length,i=g.length-d;i>0;--i)f[d++]=0;for(i=g.length;i>l;){if(f[--i]<g[i]){for(s=i;s&&f[--s]===0;)f[s]=$n-1;--f[s],f[i]+=$n}f[i]-=g[i]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Yt?Vt(e,x):e):new _(0)}function Ac(t,e,n){var r,i=Cn(t),s=ka(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+ko(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ko(-i-1)+s,n&&(r=n-l)>0&&(s+=ko(r))):i>=l?(s+=ko(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+ko(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=ko(r))),t.s<0?"-"+s:s}function MR(t,e){if(t.length>e)return t.length=e,!0}function v6(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(cc+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return kR(l,s.toString())}else if(typeof s!="string")throw Error(cc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,dae.test(s))kR(l,s);else throw Error(cc+s)}if(i.prototype=Ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=v6,i.config=i.set=fae,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function fae(t){if(!t||typeof t!="object")throw Error(Di+"Object expected");var e,n,r,i=["precision",1,Sd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ad(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(cc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(cc+n+": "+r);return this}var nA=v6(uae);ii=new nA(1);const Tt=nA;function y6(t){var e;return t===0?e=1:e=Math.floor(new Tt(t).abs().log(10).toNumber())+1,e}function _6(t,e,n){for(var r=new Tt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var b6=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},x6=(t,e,n)=>{if(t.lte(0))return new Tt(0);var r=y6(t.toNumber()),i=new Tt(10).pow(r),s=t.div(i),l=r!==1?.05:.1,d=new Tt(Math.ceil(s.div(l).toNumber())).add(n).mul(l),f=d.mul(i);return e?new Tt(f.toNumber()):new Tt(Math.ceil(f.toNumber()))},hae=(t,e,n)=>{var r=new Tt(1),i=new Tt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Tt(10).pow(y6(t)-1),i=new Tt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Tt(Math.floor(t)))}else t===0?i=new Tt(Math.floor((e-1)/2)):n||(i=new Tt(Math.floor(t)));for(var l=Math.floor((e-1)/2),d=[],f=0;f<e;f++)d.push(i.add(new Tt(f-l).mul(r)).toNumber());return d},w6=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Tt(0),tickMin:new Tt(0),tickMax:new Tt(0)};var l=x6(new Tt(n).sub(e).div(r-1),i,s),d;e<=0&&n>=0?d=new Tt(0):(d=new Tt(e).add(n).div(2),d=d.sub(new Tt(d).mod(l)));var f=Math.ceil(d.sub(e).div(l).toNumber()),m=Math.ceil(new Tt(n).sub(d).div(l).toNumber()),p=f+m+1;return p>r?w6(e,n,r,i,s+1):(p<r&&(m=n>0?m+(r-p):m,f=n>0?f:f+(r-p)),{step:l,tickMin:d.sub(new Tt(f).mul(l)),tickMax:d.add(new Tt(m).mul(l))})},mae=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[d,f]=b6([n,r]);if(d===-1/0||f===1/0){var m=f===1/0?[d,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),f];return n>r?m.reverse():m}if(d===f)return hae(d,i,s);var{step:p,tickMin:g,tickMax:_}=w6(d,f,l,s,0),x=_6(g,_.add(new Tt(.1).mul(p)),p);return n>r?x.reverse():x},pae=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,d]=b6([r,i]);if(l===-1/0||d===1/0)return[r,i];if(l===d)return[l];var f=Math.max(n,2),m=x6(new Tt(d).sub(l).div(f-1),s,0),p=[..._6(new Tt(l),new Tt(d),m),d];return s===!1&&(p=p.map(g=>Math.round(g))),r>i?p.reverse():p},E6=t=>t.rootProps.maxBarSize,gae=t=>t.rootProps.barGap,S6=t=>t.rootProps.barCategoryGap,vae=t=>t.rootProps.barSize,r0=t=>t.rootProps.stackOffset,A6=t=>t.rootProps.reverseStackOrder,rA=t=>t.options.chartName,iA=t=>t.rootProps.syncId,T6=t=>t.rootProps.syncMethod,aA=t=>t.options.eventEmitter,Hn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Kl={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Ca={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},i0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function a0(t,e,n){if(n!=="auto")return n;if(t!=null)return $s(t,e)?"category":"number"}function zR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(n),!0).forEach(function(r){yae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yae(t,e,n){return(e=_ae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ae(t){var e=bae(t,"string");return typeof e=="symbol"?e:e+""}function bae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LR={allowDataOverflow:Kl.allowDataOverflow,allowDecimals:Kl.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Kl.angleAxisId,includeHidden:!1,name:void 0,reversed:Kl.reversed,scale:Kl.scale,tick:Kl.tick,tickCount:void 0,ticks:void 0,type:Kl.type,unit:void 0},VR={allowDataOverflow:Ca.allowDataOverflow,allowDecimals:Ca.allowDecimals,allowDuplicatedCategory:Ca.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ca.radiusAxisId,includeHidden:Ca.includeHidden,name:void 0,reversed:Ca.reversed,scale:Ca.scale,tick:Ca.tick,tickCount:Ca.tickCount,ticks:void 0,type:Ca.type,unit:void 0},xae=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},sA=ae([xae,h3],(t,e)=>{var n;if(t!=null)return t;var r=(n=a0(e,"angleAxis",LR.type))!==null&&n!==void 0?n:"category";return Vv(Vv({},LR),{},{type:r})}),wae=(t,e)=>t.polarAxis.radiusAxis[e],oA=ae([wae,h3],(t,e)=>{var n;if(t!=null)return t;var r=(n=a0(e,"radiusAxis",VR.type))!==null&&n!==void 0?n:"category";return Vv(Vv({},VR),{},{type:r})}),s0=t=>t.polarOptions,lA=ae([Fs,Hs,Kn],_ne),j6=ae([s0,lA],(t,e)=>{if(t!=null)return oa(t.innerRadius,e,0)}),N6=ae([s0,lA],(t,e)=>{if(t!=null)return oa(t.outerRadius,e,e*.8)}),Eae=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},C6=ae([s0],Eae);ae([sA,C6],i0);var O6=ae([lA,j6,N6],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ae([oA,O6],i0);var P6=ae([jt,s0,j6,N6,Fs,Hs],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:d,startAngle:f,endAngle:m}=e;return{cx:oa(l,i,i/2),cy:oa(d,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:m,clockWise:!1}}}),Yn=(t,e)=>e,o0=(t,e,n)=>n;function cA(t){return t?.id}function I6(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(d=>{var f,m=(f=d.data)!==null&&f!==void 0?f:r;if(!(m==null||m.length===0)){var p=cA(d);m.forEach((g,_)=>{var x=s==null||i?_:String(Nn(g,s,null)),S=Nn(g,d.dataKey,0),E;l.has(x)?E=l.get(x):E={},Object.assign(E,{[p]:S}),l.set(x,E)})}}),Array.from(l.values())}function l0(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var c0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function u0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Sae(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Qn=t=>{var e=jt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Td=t=>t.tooltip.settings.axisId;function Aae(t){if(t in Jf)return Jf[t]();var e="scale".concat(im(t));if(e in Jf)return Jf[e]()}function UR(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(s){function l(){return s.apply(this,arguments)}return l.toString=function(){return s.toString()},l})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(s){var l=i[0],d=i[1];return l<=d?s>=l&&s<=d:s>=d&&s<=l},bandwidth:n?()=>n.call(t):void 0,ticks:e?s=>e.call(t,s):void 0,map:(s,l)=>{var d=t(s);if(d!=null){if(t.bandwidth&&l!==null&&l!==void 0&&l.position){var f=t.bandwidth();switch(l.position){case"middle":d+=f/2;break;case"end":d+=f;break}}return d}}}}function qR(t,e,n){if(typeof t=="function")return UR(t.copy().domain(e).range(n));if(t!=null){var r=Aae(t);if(r!=null)return r.domain(e).range(n),UR(r)}}var Tae=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Ms(e)){for(var n,r,i=0;i<e.length;i++){var s=e[i];dt(s)&&((n===void 0||s<n)&&(n=s),(r===void 0||s>r)&&(r=s))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){jae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jae(t,e,n){return(e=Nae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nae(t){var e=Cae(t,"string");return typeof e=="symbol"?e:e+""}function Cae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uw=[0,"auto"],Un={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},R6=(t,e)=>t.cartesianAxis.xAxis[e],Ws=(t,e)=>{var n=R6(t,e);return n??Un},qn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Uw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:om},D6=(t,e)=>t.cartesianAxis.yAxis[e],Ys=(t,e)=>{var n=D6(t,e);return n??qn},Oae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},uA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Oae},Tr=(t,e,n)=>{switch(e){case"xAxis":return Ws(t,n);case"yAxis":return Ys(t,n);case"zAxis":return uA(t,n);case"angleAxis":return sA(t,n);case"radiusAxis":return oA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Pae=(t,e,n)=>{switch(e){case"xAxis":return Ws(t,n);case"yAxis":return Ys(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},mm=(t,e,n)=>{switch(e){case"xAxis":return Ws(t,n);case"yAxis":return Ys(t,n);case"angleAxis":return sA(t,n);case"radiusAxis":return oA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},k6=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function M6(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var d0=t=>t.graphicalItems.cartesianItems,Iae=ae([Yn,o0],M6),z6=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),pm=ae([d0,Tr,Iae],z6,{memoizeOptions:{resultEqualityCheck:u0}}),L6=ae([pm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(l0)),V6=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Rae=ae([pm],V6),U6=t=>t.map(e=>e.data).filter(Boolean).flat(1),Dae=ae([pm],U6,{memoizeOptions:{resultEqualityCheck:u0}}),q6=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},dA=ae([Dae,eA],q6),B6=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Nn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Nn(i,r)}))):t.map(r=>({value:r})),f0=ae([dA,Tr,pm],B6);function $6(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Ig(t){if(Fa(t)||t instanceof Date){var e=Number(t);if(dt(e))return e}}function $R(t){if(Array.isArray(t)){var e=[Ig(t[0]),Ig(t[1])];return Ms(e)?e:void 0}var n=Ig(t);if(n!=null)return[n,n]}function zs(t){return t.map(Ig).filter(Br)}function kae(t,e,n){return!n||typeof e!="number"||$a(e)?[]:n.length?zs(n.flatMap(r=>{var i=Nn(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!dt(s)||!dt(l)))return[e-s,e+l]})):[]}var kn=t=>{var e=Qn(t),n=Td(t);return mm(t,e,n)},gm=ae([kn],t=>t?.dataKey),Mae=ae([L6,eA,kn],I6),F6=(t,e,n,r)=>{var i={},s=e.reduce((l,d)=>{if(d.stackId==null)return l;var f=l[d.stackId];return f==null&&(f=[]),f.push(d),l[d.stackId]=f,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[d,f]=l,m=r?[...f].reverse():f,p=m.map(cA);return[d,{stackedData:uee(t,p,n),graphicalItems:m}]}))},qw=ae([Mae,L6,r0,A6],F6),H6=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=pee(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},zae=ae([Tr],t=>t.allowDataOverflow),fA=t=>{var e;if(t==null||!("domain"in t))return Uw;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=zs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Uw},G6=ae([Tr],fA),K6=ae([G6,zae],f6),Lae=ae([qw,Ks,Yn,K6],H6,{memoizeOptions:{resultEqualityCheck:c0}}),hA=t=>t.errorBars,Vae=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>$6(n,r)),qv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),d=Math.max(...s);return[l,d]}},W6=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(d=>{n.forEach(f=>{var m,p,g=(m=r[f.id])===null||m===void 0?void 0:m.filter(C=>$6(i,C)),_=Nn(d,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),x=kae(d,_,g);if(x.length>=2){var S=Math.min(...x),E=Math.max(...x);(s==null||S<s)&&(s=S),(l==null||E>l)&&(l=E)}var A=$R(_);A!=null&&(s=s==null?A[0]:Math.min(s,A[0]),l=l==null?A[1]:Math.max(l,A[1]))})}),e?.dataKey!=null&&t.forEach(d=>{var f=$R(Nn(d,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),dt(s)&&dt(l))return[s,l]},Uae=ae([dA,Tr,Rae,hA,Yn],W6,{memoizeOptions:{resultEqualityCheck:c0}});function qae(t){var{value:e}=t;if(Fa(e)||e instanceof Date)return e}var Bae=(t,e,n)=>{var r=t.map(qae).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&uL(r))?P3(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},Y6=t=>t.referenceElements.dots,jd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),$ae=ae([Y6,Yn,o0],jd),Q6=t=>t.referenceElements.areas,Fae=ae([Q6,Yn,o0],jd),X6=t=>t.referenceElements.lines,Hae=ae([X6,Yn,o0],jd),Z6=(t,e)=>{if(t!=null){var n=zs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Gae=ae($ae,Yn,Z6),J6=(t,e)=>{if(t!=null){var n=zs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Kae=ae([Fae,Yn],J6);function Wae(t){var e;if(t.x!=null)return zs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:zs(n)}function Yae(t){var e;if(t.y!=null)return zs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:zs(n)}var e5=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Wae(r):Yae(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Qae=ae([Hae,Yn],e5),Xae=ae(Gae,Qae,Kae,(t,e,n)=>qv(t,n,e)),t5=(t,e,n,r,i,s,l,d)=>{if(n!=null)return n;var f=l==="vertical"&&d==="xAxis"||l==="horizontal"&&d==="yAxis",m=f?qv(r,s,i):qv(s,i);return cae(e,m,t.allowDataOverflow)},Zae=ae([Tr,G6,K6,Lae,Uae,Xae,jt,Yn],t5,{memoizeOptions:{resultEqualityCheck:c0}}),Jae=[0,1],n5=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:d,type:f}=t,m=$s(e,s);if(m&&d==null){var p;return P3(0,(p=n?.length)!==null&&p!==void 0?p:0)}return f==="category"?Bae(r,t,m):i==="expand"?Jae:l}},mA=ae([Tr,jt,dA,f0,r0,Yn,Zae],n5);function ese(t){return t in Jf}var r5=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var s="scale".concat(im(r));return ese(s)?s:"point"}}},Nd=ae([Tr,k6,rA],r5);function pA(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?qR(t.scale,n,r):qR(e,n,r)}var i5=(t,e,n)=>{var r=fA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ms(t))return mae(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Ms(t))return pae(t,e.tickCount,e.allowDecimals)}},gA=ae([mA,mm,Nd],i5),a5=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Ms(e)&&Array.isArray(n)&&n.length>0){var i,s,l=e[0],d=(i=n[0])!==null&&i!==void 0?i:0,f=e[1],m=(s=n[n.length-1])!==null&&s!==void 0?s:0;return[Math.min(l,d),Math.max(f,m)]}return e},tse=ae([Tr,mA,gA,Yn],a5),nse=ae(f0,Tr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(zs(t.map(g=>g.value))).sort((g,_)=>g-_),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var d=0;d<r.length-1;d++){var f=r[d],m=r[d+1];if(!(f==null||m==null)){var p=m-f;n=Math.min(n,p)}}return n/l}}),s5=ae(nse,jt,S6,Kn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!dt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=oa(n,t*s),d=t*s/2;return d-l-(d-l)/s*l}return 0}),rse=(t,e,n)=>{var r=Ws(t,e);return r==null||typeof r.padding!="string"?0:s5(t,"xAxis",e,n,r.padding)},ise=(t,e,n)=>{var r=Ys(t,e);return r==null||typeof r.padding!="string"?0:s5(t,"yAxis",e,n,r.padding)},ase=ae(Ws,rse,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),sse=ae(Ys,ise,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),ose=ae([Kn,ase,$y,By,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),lse=ae([Kn,jt,sse,$y,By,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),vm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return ose(t,n,r);case"yAxis":return lse(t,n,r);case"zAxis":return(i=uA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return C6(t);case"radiusAxis":return O6(t,n);default:return}},o5=ae([Tr,vm],i0),cse=ae([Nd,tse],Tae),h0=ae([Tr,Nd,cse,o5],pA);ae([pm,hA,Yn],Vae);function l5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var m0=(t,e)=>e,p0=(t,e,n)=>n,use=ae(Uy,m0,p0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(l5)),dse=ae(qy,m0,p0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(l5)),c5=(t,e)=>({width:t.width,height:e.height}),fse=(t,e)=>{var n=typeof e.width=="number"?e.width:om;return{width:n,height:t.height}},u5=ae(Kn,Ws,c5),hse=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},mse=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},pse=ae(Hs,Kn,use,m0,p0,(t,e,n,r,i)=>{var s={},l;return n.forEach(d=>{var f=c5(e,d);l==null&&(l=hse(e,r,t));var m=r==="top"&&!i||r==="bottom"&&i;s[d.id]=l-Number(m)*f.height,l+=(m?-1:1)*f.height}),s}),gse=ae(Fs,Kn,dse,m0,p0,(t,e,n,r,i)=>{var s={},l;return n.forEach(d=>{var f=fse(e,d);l==null&&(l=mse(e,r,t));var m=r==="left"&&!i||r==="right"&&i;s[d.id]=l-Number(m)*f.width,l+=(m?-1:1)*f.width}),s}),vse=(t,e)=>{var n=Ws(t,e);if(n!=null)return pse(t,n.orientation,n.mirror)},yse=ae([Kn,Ws,vse,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),_se=(t,e)=>{var n=Ys(t,e);if(n!=null)return gse(t,n.orientation,n.mirror)},bse=ae([Kn,Ys,_se,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),d5=ae(Kn,Ys,(t,e)=>{var n=typeof e.width=="number"?e.width:om;return{width:n,height:t.height}}),FR=(t,e,n)=>{switch(e){case"xAxis":return u5(t,n).width;case"yAxis":return d5(t,n).height;default:return}},f5=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,d=$s(t,r),f=e.map(m=>m.value);if(l&&d&&s==="category"&&i&&uL(f))return f}},vA=ae([jt,f0,Tr,Yn],f5),h5=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=$s(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(d=>d.value)}},yA=ae([jt,f0,mm,Yn],h5),HR=ae([jt,Pae,Nd,h0,vA,yA,vm,gA,Yn],(t,e,n,r,i,s,l,d,f)=>{if(e!=null){var m=$s(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:m,niceTicks:d,range:l,realScaleType:n,scale:r}}}),xse=(t,e,n,r,i,s,l,d,f)=>{if(!(e==null||r==null)){var m=$s(t,f),{type:p,ticks:g,tickCount:_}=e,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=p==="category"&&r.bandwidth?r.bandwidth()/x:0;S=f==="angleAxis"&&s!=null&&s.length>=2?qr(s[0]-s[1])*2*S:S;var E=g||i;return E?E.map((A,C)=>{var D=l?l.indexOf(A):A,k=r.map(D);return dt(k)?{index:C,coordinate:k+S,value:A,offset:S}:null}).filter(Br):m&&d?d.map((A,C)=>{var D=r.map(A);return dt(D)?{coordinate:D+S,value:A,index:C,offset:S}:null}).filter(Br):r.ticks?r.ticks(_).map((A,C)=>{var D=r.map(A);return dt(D)?{coordinate:D+S,value:A,index:C,offset:S}:null}).filter(Br):r.domain().map((A,C)=>{var D=r.map(A);return dt(D)?{coordinate:D+S,value:l?l[A]:A,index:C,offset:S}:null}).filter(Br)}},m5=ae([jt,mm,Nd,h0,gA,vm,vA,yA,Yn],xse),wse=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var d=$s(t,l),{tickCount:f}=e,m=0;return m=l==="angleAxis"&&r?.length>=2?qr(r[0]-r[1])*2*m:m,d&&s?s.map((p,g)=>{var _=n.map(p);return dt(_)?{coordinate:_+m,value:p,index:g,offset:m}:null}).filter(Br):n.ticks?n.ticks(f).map((p,g)=>{var _=n.map(p);return dt(_)?{coordinate:_+m,value:p,index:g,offset:m}:null}).filter(Br):n.domain().map((p,g)=>{var _=n.map(p);return dt(_)?{coordinate:_+m,value:i?i[p]:p,index:g,offset:m}:null}).filter(Br)}},ol=ae([jt,mm,h0,vm,vA,yA,Yn],wse),ll=ae(Tr,h0,(t,e)=>{if(!(t==null||e==null))return Uv(Uv({},t),{},{scale:e})}),Ese=ae([Tr,Nd,mA,o5],pA);ae((t,e,n)=>uA(t,n),Ese,(t,e)=>{if(!(t==null||e==null))return Uv(Uv({},t),{},{scale:e})});var Sse=ae([jt,Uy,qy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),p5=t=>t.options.defaultTooltipEventType,g5=t=>t.options.validateTooltipEventTypes;function v5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function _A(t,e){var n=p5(t),r=g5(t);return v5(e,n,r)}function Ase(t){return ke(e=>_A(e,t))}var y5=(t,e)=>{var n,r=Number(e);if(!($a(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Tse=t=>t.tooltip.settings,Bo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},jse={itemInteraction:{click:Bo,hover:Bo},axisInteraction:{click:Bo,hover:Bo},keyboardInteraction:Bo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},_5=Hr({name:"tooltip",initialState:jse,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Wt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ta(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Wt()},removeTooltipEntrySettings:{reducer(t,e){var n=ta(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Wt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:Nse,replaceTooltipEntrySettings:Cse,removeTooltipEntrySettings:Ose,setTooltipSettingsState:Pse,setActiveMouseOverItemIndex:b5,mouseLeaveItem:Ise,mouseLeaveChart:x5,setActiveClickItemIndex:Rse,setMouseOverAxisIndex:w5,setMouseClickAxisIndex:Dse,setSyncInteraction:Bw,setKeyboardInteraction:$w}=_5.actions,kse=_5.reducer;function GR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(n),!0).forEach(function(r){Mse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mse(t,e,n){return(e=zse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zse(t){var e=Lse(t,"string");return typeof e=="symbol"?e:e+""}function Lse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vse(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Use(t){return t.index!=null}var E5=(t,e,n,r)=>{if(e==null)return Bo;var i=Vse(t,e,n);if(i==null)return Bo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Use(i)){if(s)return mg(mg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return mg(mg({},Bo),{},{coordinate:i.coordinate})};function qse(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Bse(t,e){var n=qse(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function $se(t,e,n){if(n==null||e==null)return!0;var r=Nn(t,e);return r==null||!Ms(n)?!0:Bse(r,n)}var bA=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!dt(s))return i;var l=0,d=1/0;e.length>0&&(d=e.length-1);var f=Math.max(l,Math.min(s,d)),m=e[f];return m==null||$se(m,n,r)?String(f):null},S5=(t,e,n,r,i,s,l)=>{if(s!=null){var d=l[0],f=d?.getPosition(s);if(f!=null)return f;var m=i?.[Number(s)];if(m)return n==="horizontal"?{x:m.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:m.coordinate}}},A5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(l=>{var d;return((d=l.settings)===null||d===void 0?void 0:d.graphicalItemId)===i})},T5=t=>t.options.tooltipPayloadSearcher,Cd=t=>t.tooltip;function KR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(n),!0).forEach(function(r){Fse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fse(t,e,n){return(e=Hse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hse(t){var e=Gse(t,"string");return typeof e=="symbol"?e:e+""}function Gse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kse(t,e){return t??e}var j5=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:m,dataEndIndex:p}=n,g=[];return t.reduce((_,x)=>{var S,{dataDefinedOnItem:E,settings:A}=x,C=Kse(E,d),D=Array.isArray(C)?n3(C,m,p):C,k=(S=A?.dataKey)!==null&&S!==void 0?S:r,M=A?.nameKey,V;if(r&&Array.isArray(D)&&!Array.isArray(D[0])&&l==="axis"?V=dL(D,r,i):V=s(D,e,f,M),Array.isArray(V))V.forEach(P=>{var O=WR(WR({},A),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});_.push(KP({tooltipEntrySettings:O,dataKey:P.dataKey,payload:P.payload,value:Nn(P.payload,P.dataKey),name:P.name}))});else{var L;_.push(KP({tooltipEntrySettings:A,dataKey:k,payload:V,value:Nn(V,k),name:(L=Nn(V,M))!==null&&L!==void 0?L:A?.name}))}return _},g)}},xA=ae([kn,k6,rA],r5),Wse=ae([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Yse=ae([Qn,Td],M6),Od=ae([Wse,kn,Yse],z6,{memoizeOptions:{resultEqualityCheck:u0}}),Qse=ae([Od],t=>t.filter(l0)),Xse=ae([Od],U6,{memoizeOptions:{resultEqualityCheck:u0}}),Pd=ae([Xse,Ks],q6),Zse=ae([Qse,Ks,kn],I6),wA=ae([Pd,kn,Od],B6),N5=ae([kn],fA),Jse=ae([kn],t=>t.allowDataOverflow),C5=ae([N5,Jse],f6),eoe=ae([Od],t=>t.filter(l0)),toe=ae([Zse,eoe,r0,A6],F6),noe=ae([toe,Ks,Qn,C5],H6),roe=ae([Od],V6),ioe=ae([Pd,kn,roe,hA,Qn],W6,{memoizeOptions:{resultEqualityCheck:c0}}),aoe=ae([Y6,Qn,Td],jd),soe=ae([aoe,Qn],Z6),ooe=ae([Q6,Qn,Td],jd),loe=ae([ooe,Qn],J6),coe=ae([X6,Qn,Td],jd),uoe=ae([coe,Qn],e5),doe=ae([soe,uoe,loe],qv),foe=ae([kn,N5,C5,noe,ioe,doe,jt,Qn],t5),ym=ae([kn,jt,Pd,wA,r0,Qn,foe],n5),hoe=ae([ym,kn,xA],i5),moe=ae([kn,ym,hoe,Qn],a5),O5=t=>{var e=Qn(t),n=Td(t),r=!1;return vm(t,e,n,r)},P5=ae([kn,O5],i0),I5=ae([kn,xA,moe,P5],pA),poe=ae([jt,wA,kn,Qn],f5),goe=ae([jt,wA,kn,Qn],h5),voe=(t,e,n,r,i,s,l,d)=>{if(e){var{type:f}=e,m=$s(t,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=d==="angleAxis"&&i!=null&&i?.length>=2?qr(i[0]-i[1])*2*g:g,m&&l?l.map((_,x)=>{var S=r.map(_);return dt(S)?{coordinate:S+g,value:_,index:x,offset:g}:null}).filter(Br):r.domain().map((_,x)=>{var S=r.map(_);return dt(S)?{coordinate:S+g,value:s?s[_]:_,index:x,offset:g}:null}).filter(Br)}}},Qs=ae([jt,kn,xA,I5,O5,poe,goe,Qn],voe),EA=ae([p5,g5,Tse],(t,e,n)=>v5(n.shared,t,e)),R5=t=>t.tooltip.settings.trigger,SA=t=>t.tooltip.settings.defaultIndex,_m=ae([Cd,EA,R5,SA],E5),Tc=ae([_m,Pd,gm,ym],bA),D5=ae([Qs,Tc],y5),k5=ae([_m],t=>{if(t)return t.dataKey});ae([_m],t=>{if(t)return t.graphicalItemId});var M5=ae([Cd,EA,R5,SA],A5),yoe=ae([Fs,Hs,jt,Kn,Qs,SA,M5],S5),_oe=ae([_m,yoe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),boe=ae([_m],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),xoe=ae([M5,Tc,Ks,gm,D5,T5,EA],j5),woe=ae([xoe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){Eoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eoe(t,e,n){return(e=Soe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Soe(t){var e=Aoe(t,"string");return typeof e=="symbol"?e:e+""}function Aoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Toe=()=>ke(kn),joe=()=>{var t=Toe(),e=ke(Qs),n=ke(I5);return ld(!t||!n?void 0:QR(QR({},t),{},{scale:n}),e)};function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){Noe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Noe(t,e,n){return(e=Coe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Coe(t){var e=Ooe(t,"string");return typeof e=="symbol"?e:e+""}function Ooe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Poe=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Ioe=(t,e,n,r)=>{var i=e.find(m=>m&&m.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return Iu(Iu(Iu({},r),ar(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var d=i.coordinate,{angle:f}=r;return Iu(Iu(Iu({},r),ar(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Roe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var z5=(t,e,n,r,i)=>{var s,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<l;d++){var f,m,p,g,_,x=d>0?(f=n[d-1])===null||f===void 0?void 0:f.coordinate:(m=n[l-1])===null||m===void 0?void 0:m.coordinate,S=(p=n[d])===null||p===void 0?void 0:p.coordinate,E=d>=l-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(_=n[d+1])===null||_===void 0?void 0:_.coordinate,A=void 0;if(!(x==null||S==null||E==null))if(qr(S-x)!==qr(E-S)){var C=[];if(qr(E-S)===qr(i[1]-i[0])){A=E;var D=S+i[1]-i[0];C[0]=Math.min(D,(D+x)/2),C[1]=Math.max(D,(D+x)/2)}else{A=x;var k=E+i[1]-i[0];C[0]=Math.min(S,(k+S)/2),C[1]=Math.max(S,(k+S)/2)}var M=[Math.min(S,(A+S)/2),Math.max(S,(A+S)/2)];if(t>M[0]&&t<=M[1]||t>=C[0]&&t<=C[1]){var V;return(V=n[d])===null||V===void 0?void 0:V.index}}else{var L=Math.min(x,E),P=Math.max(x,E);if(t>(L+S)/2&&t<=(P+S)/2){var O;return(O=n[d])===null||O===void 0?void 0:O.index}}}else if(e)for(var I=0;I<l;I++){var $=e[I];if($!=null){var q=e[I+1],z=e[I-1];if(I===0&&q!=null&&t<=($.coordinate+q.coordinate)/2||I===l-1&&z!=null&&t>($.coordinate+z.coordinate)/2||I>0&&I<l-1&&z!=null&&q!=null&&t>($.coordinate+z.coordinate)/2&&t<=($.coordinate+q.coordinate)/2)return $.index}}return-1},Doe=()=>ke(rA),AA=(t,e)=>e,L5=(t,e,n)=>n,TA=(t,e,n,r)=>r,koe=ae(Qs,t=>Cy(t,e=>e.coordinate)),jA=ae([Cd,AA,L5,TA],E5),NA=ae([jA,Pd,gm,ym],bA),Moe=(t,e,n)=>{if(e!=null){var r=Cd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},V5=ae([Cd,AA,L5,TA],A5),Bv=ae([Fs,Hs,jt,Kn,Qs,TA,V5],S5),zoe=ae([jA,Bv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),U5=ae([Qs,NA],y5),Loe=ae([V5,NA,Ks,gm,U5,T5,AA],j5),Voe=ae([jA,NA],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Uoe=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&Roe(t,l)){var d=gee(t,e),f=z5(d,s,i,n,r),m=Poe(e,i,f,t);return{activeIndex:String(f),activeCoordinate:m}}},qoe=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var d=Sne(t,n);if(d){var f=vee(d,e),m=z5(f,l,s,r,i),p=Ioe(e,s,m,d);return{activeIndex:String(m),activeCoordinate:p}}}},Boe=(t,e,n,r,i,s,l,d)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?Uoe(t,e,r,i,s,l,d):qoe(t,e,n,r,i,s,l)},$oe=ae(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Foe=ae(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Hn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Sae}});function ZR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(n),!0).forEach(function(r){Hoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hoe(t,e,n){return(e=Goe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Goe(t){var e=Koe(t,"string");return typeof e=="symbol"?e:e+""}function Koe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Woe={},Yoe={zIndexMap:Object.values(Hn).reduce((t,e)=>JR(JR({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Woe)},Qoe=new Set(Object.values(Hn));function Xoe(t){return Qoe.has(t)}var q5=Hr({name:"zIndex",initialState:Yoe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Wt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Xoe(n)&&delete t.zIndexMap[n])},prepare:Wt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Wt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Wt()}}}),{registerZIndexPortal:Zoe,unregisterZIndexPortal:Joe,registerZIndexPortalElement:ele,unregisterZIndexPortalElement:tle}=q5.actions,nle=q5.reducer;function Mi(t){var{zIndex:e,children:n}=t,r=Yee(),i=r&&e!==void 0&&e!==0,s=gr(),l=gn();w.useLayoutEffect(()=>i?(l(Zoe({zIndex:e})),()=>{l(Joe({zIndex:e}))}):Rc,[l,e,i]);var d=ke(f=>$oe(f,e,s));return i?d?bk.createPortal(n,d):null:n}function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fw.apply(null,arguments)}function eD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(n),!0).forEach(function(r){rle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rle(t,e,n){return(e=ile(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ile(t){var e=ale(t,"string");return typeof e=="symbol"?e:e+""}function ale(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sle(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return w.isValidElement(e)?w.cloneElement(e,r):w.createElement(n,r)}function ole(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:d,cursor:f,tooltipEventType:m,chartName:p}=t,g=n,_=r,x=i;if(!f||!g||p!=="ScatterChart"&&m!=="axis")return null;var S,E,A;if(p==="ScatterChart")S=g,E=zte,A=Hn.cursorLine;else if(p==="BarChart")S=Lte(d,g,s,l),E=j3,A=Hn.cursorRectangle;else if(d==="radial"&&mL(g)){var{cx:C,cy:D,radius:k,startAngle:M,endAngle:V}=N3(g);S={cx:C,cy:D,startAngle:M,endAngle:V,innerRadius:k,outerRadius:k},E=O3,A=Hn.cursorLine}else S={points:Nne(d,g,s)},E=w3,A=Hn.cursorLine;var L=typeof f=="object"&&"className"in f?f.className:void 0,P=pg(pg(pg(pg({stroke:"#ccc",pointerEvents:"none"},s),S),rm(f)),{},{payload:_,payloadIndex:x,className:kt("recharts-tooltip-cursor",L)});return w.createElement(Mi,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:A},w.createElement(sle,{cursor:f,cursorComp:E,cursorProps:P}))}function lle(t){var e=joe(),n=c3(),r=Dc(),i=Doe();return e==null||n==null||r==null||i==null?null:w.createElement(ole,Fw({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var B5=w.createContext(null),cle=()=>w.useContext(B5),i1={exports:{}},tD;function ule(){return tD||(tD=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,m,p){this.fn=f,this.context=m,this.once=p||!1}function s(f,m,p,g,_){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,g||f,_),S=n?n+m:m;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],x]:f._events[S].push(x):(f._events[S]=x,f._eventsCount++),f}function l(f,m){--f._eventsCount===0?f._events=new r:delete f._events[m]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],p,g;if(this._eventsCount===0)return m;for(g in p=this._events)e.call(p,g)&&m.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(p)):m},d.prototype.listeners=function(m){var p=n?n+m:m,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var _=0,x=g.length,S=new Array(x);_<x;_++)S[_]=g[_].fn;return S},d.prototype.listenerCount=function(m){var p=n?n+m:m,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(m,p,g,_,x,S){var E=n?n+m:m;if(!this._events[E])return!1;var A=this._events[E],C=arguments.length,D,k;if(A.fn){switch(A.once&&this.removeListener(m,A.fn,void 0,!0),C){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,p),!0;case 3:return A.fn.call(A.context,p,g),!0;case 4:return A.fn.call(A.context,p,g,_),!0;case 5:return A.fn.call(A.context,p,g,_,x),!0;case 6:return A.fn.call(A.context,p,g,_,x,S),!0}for(k=1,D=new Array(C-1);k<C;k++)D[k-1]=arguments[k];A.fn.apply(A.context,D)}else{var M=A.length,V;for(k=0;k<M;k++)switch(A[k].once&&this.removeListener(m,A[k].fn,void 0,!0),C){case 1:A[k].fn.call(A[k].context);break;case 2:A[k].fn.call(A[k].context,p);break;case 3:A[k].fn.call(A[k].context,p,g);break;case 4:A[k].fn.call(A[k].context,p,g,_);break;default:if(!D)for(V=1,D=new Array(C-1);V<C;V++)D[V-1]=arguments[V];A[k].fn.apply(A[k].context,D)}}return!0},d.prototype.on=function(m,p,g){return s(this,m,p,g,!1)},d.prototype.once=function(m,p,g){return s(this,m,p,g,!0)},d.prototype.removeListener=function(m,p,g,_){var x=n?n+m:m;if(!this._events[x])return this;if(!p)return l(this,x),this;var S=this._events[x];if(S.fn)S.fn===p&&(!_||S.once)&&(!g||S.context===g)&&l(this,x);else{for(var E=0,A=[],C=S.length;E<C;E++)(S[E].fn!==p||_&&!S[E].once||g&&S[E].context!==g)&&A.push(S[E]);A.length?this._events[x]=A.length===1?A[0]:A:l(this,x)}return this},d.prototype.removeAllListeners=function(m){var p;return m?(p=n?n+m:m,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d})(i1)),i1.exports}var dle=ule();const fle=Ka(dle);var Mh=new fle,Hw="recharts.syncEvent.tooltip",nD="recharts.syncEvent.brush",$5=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!$a(n))return t[n]}},hle={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},F5=Hr({name:"options",initialState:hle,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),mle=F5.reducer,{createEventEmitter:ple}=F5.actions;function gle(t){return t.tooltip.syncInteraction}var vle={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},H5=Hr({name:"chartData",initialState:vle,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:rD,setDataStartEndIndexes:yle,setComputedData:Epe}=H5.actions,_le=H5.reducer,ble=["x","y"];function iD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ru(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(n),!0).forEach(function(r){xle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xle(t,e,n){return(e=wle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wle(t){var e=Ele(t,"string");return typeof e=="symbol"?e:e+""}function Ele(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sle(t,e){if(t==null)return{};var n,r,i=Ale(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ale(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tle(){var t=ke(iA),e=ke(aA),n=gn(),r=ke(T6),i=ke(Qs),s=Dc(),l=Fy(),d=ke(f=>f.rootProps.className);w.useEffect(()=>{if(t==null)return Rc;var f=(m,p,g)=>{if(e!==g&&t===m){if(r==="index"){var _;if(l&&p!==null&&p!==void 0&&(_=p.payload)!==null&&_!==void 0&&_.coordinate&&p.payload.sourceViewBox){var x=p.payload.coordinate,{x:S,y:E}=x,A=Sle(x,ble),{x:C,y:D,width:k,height:M}=p.payload.sourceViewBox,V=Ru(Ru({},A),{},{x:l.x+(k?(S-C)/k:0)*l.width,y:l.y+(M?(E-D)/M:0)*l.height});n(Ru(Ru({},p),{},{payload:Ru(Ru({},p.payload),{},{coordinate:V})}))}else n(p);return}if(i!=null){var L;if(typeof r=="function"){var P={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},O=r(i,P);L=i[O]}else r==="value"&&(L=i.find(W=>String(W.value)===p.payload.label));var{coordinate:I}=p.payload;if(L==null||p.payload.active===!1||I==null||l==null){n(Bw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:$,y:q}=I,z=Math.min($,l.x+l.width),B=Math.min(q,l.y+l.height),be={x:s==="horizontal"?L.coordinate:z,y:s==="horizontal"?B:L.coordinate},Se=Bw({active:p.payload.active,coordinate:be,dataKey:p.payload.dataKey,index:String(L.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(Se)}}};return Mh.on(Hw,f),()=>{Mh.off(Hw,f)}},[d,n,e,t,r,i,s,l])}function jle(){var t=ke(iA),e=ke(aA),n=gn();w.useEffect(()=>{if(t==null)return Rc;var r=(i,s,l)=>{e!==l&&t===i&&n(yle(s))};return Mh.on(nD,r),()=>{Mh.off(nD,r)}},[n,e,t])}function Nle(){var t=gn();w.useEffect(()=>{t(ple())},[t]),Tle(),jle()}function Cle(t,e,n,r,i,s){var l=ke(x=>Moe(x,t,e)),d=ke(aA),f=ke(iA),m=ke(T6),p=ke(gle),g=p?.active,_=Fy();w.useEffect(()=>{if(!g&&f!=null&&d!=null){var x=Bw({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:_,graphicalItemId:void 0});Mh.emit(Hw,f,x,d)}},[g,n,l,i,r,d,f,m,s,_])}function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){Ole(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ole(t,e,n){return(e=Ple(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ple(t){var e=Ile(t,"string");return typeof e=="symbol"?e:e+""}function Ile(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rle(t){return t.dataKey}function Dle(t,e){return w.isValidElement(t)?w.cloneElement(t,e):typeof t=="function"?w.createElement(t,e):w.createElement(gte,e)}var oD=[],kle={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function lD(t){var e,n,r=Ar(t,kle),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:d,content:f,filterNull:m,isAnimationActive:p,offset:g,payloadUniqBy:_,position:x,reverseDirection:S,useTranslate3d:E,wrapperStyle:A,cursor:C,shared:D,trigger:k,defaultIndex:M,portal:V,axisId:L}=r,P=gn(),O=typeof M=="number"?String(M):M;w.useEffect(()=>{P(Pse({shared:D,trigger:k,axisId:L,active:i,defaultIndex:O}))},[P,D,k,L,i,O]);var I=Fy(),$=x3(),q=Ase(D),{activeIndex:z,isActive:B}=(e=ke(ye=>Voe(ye,q,k,O)))!==null&&e!==void 0?e:{},be=ke(ye=>Loe(ye,q,k,O)),Se=ke(ye=>U5(ye,q,k,O)),W=ke(ye=>zoe(ye,q,k,O)),le=be,ve=cle(),xe=(n=i??B)!==null&&n!==void 0?n:!1,[we,F]=tJ([le,xe]),ne=q==="axis"?Se:void 0;Cle(q,k,W,ne,z,xe);var pe=V??ve;if(pe==null||I==null||q==null)return null;var _e=le??oD;xe||(_e=oD),m&&_e.length&&(_e=jZ(_e.filter(ye=>ye.value!=null&&(ye.hide!==!0||r.includeHidden)),_,Rle));var Q=_e.length>0,K=w.createElement(Ete,{allowEscapeViewBox:s,animationDuration:l,animationEasing:d,isAnimationActive:p,active:xe,coordinate:W,hasPayload:Q,offset:g,position:x,reverseDirection:S,useTranslate3d:E,viewBox:I,wrapperStyle:A,lastBoundingBox:we,innerRef:F,hasPortalFromProps:!!V},Dle(f,sD(sD({},r),{},{payload:_e,label:ne,active:xe,activeIndex:z,coordinate:W,accessibilityLayer:$})));return w.createElement(w.Fragment,null,bk.createPortal(K,pe),xe&&w.createElement(lle,{cursor:C,tooltipEventType:q,coordinate:W,payload:_e,index:z}))}var CA=t=>null;CA.displayName="Cell";function Mle(t,e,n){return(e=zle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zle(t){var e=Lle(t,"string");return typeof e=="symbol"?e:e+""}function Lle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Vle{constructor(e){Mle(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function cD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ule(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(n),!0).forEach(function(r){qle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qle(t,e,n){return(e=Ble(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ble(t){var e=$le(t,"string");return typeof e=="symbol"?e:e+""}function $le(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fle={cacheSize:2e3,enableCache:!0},G5=Ule({},Fle),uD=new Vle(G5.cacheSize),Hle={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dD="recharts_measurement_span";function Gle(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",d=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(d)}var fD=(t,e)=>{try{var n=document.getElementById(dD);n||(n=document.createElement("span"),n.setAttribute("id",dD),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Hle,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},uh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Wy.isSsr)return{width:0,height:0};if(!G5.enableCache)return fD(e,n);var r=Gle(e,n),i=uD.get(r);if(i)return i;var s=fD(e,n);return uD.set(r,s),s},K5;function Kle(t,e,n){return(e=Wle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wle(t){var e=Yle(t,"string");return typeof e=="symbol"?e:e+""}function Yle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Xle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Zle={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Jle=["cm","mm","pt","pc","in","Q","px"];function ece(t){return Jle.includes(t)}var $u="NaN";function tce(t,e){return t*Zle[e]}class rr{static parse(e){var n,[,r,i]=(n=Xle.exec(e))!==null&&n!==void 0?n:[];return r==null?rr.NaN:new rr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,$a(e)&&(this.unit=""),n!==""&&!Qle.test(n)&&(this.num=NaN,this.unit=""),ece(n)&&(this.num=tce(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new rr(NaN,""):new rr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new rr(NaN,""):new rr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new rr(NaN,""):new rr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new rr(NaN,""):new rr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $a(this.num)}}K5=rr;Kle(rr,"NaN",new K5(NaN,""));function W5(t){if(t==null||t.includes($u))return $u;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=hD.exec(e))!==null&&n!==void 0?n:[],l=rr.parse(r??""),d=rr.parse(s??""),f=i==="*"?l.multiply(d):l.divide(d);if(f.isNaN())return $u;e=e.replace(hD,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,[,p,g,_]=(m=mD.exec(e))!==null&&m!==void 0?m:[],x=rr.parse(p??""),S=rr.parse(_??""),E=g==="+"?x.add(S):x.subtract(S);if(E.isNaN())return $u;e=e.replace(mD,E.toString())}return e}var pD=/\(([^()]*)\)/;function nce(t){for(var e=t,n;(n=pD.exec(e))!=null;){var[,r]=n;e=e.replace(pD,W5(r))}return e}function rce(t){var e=t.replace(/\s+/g,"");return e=nce(e),e=W5(e),e}function ice(t){try{return rce(t)}catch{return $u}}function a1(t){var e=ice(t.slice(5,-1));return e===$u?"":e}var ace=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],sce=["dx","dy","angle","className","breakAll"];function Gw(){return Gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gw.apply(null,arguments)}function gD(t,e){if(t==null)return{};var n,r,i=oce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Y5=/[ \f\n\r\t\v\u2028\u2029]+/,Q5=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Zt(e)||(n?i=e.toString().split(""):i=e.toString().split(Y5));var s=i.map(d=>({word:d,width:uh(d,r).width})),l=n?0:uh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function lce(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var X5=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:d}=s,f=i[i.length-1];if(f&&d!=null&&(e==null||r||f.width+d+n<Number(e)))f.words.push(l),f.width+=d+n;else{var m={words:[l],width:d};i.push(m)}return i},[]),Z5=t=>t.reduce((e,n)=>e.width>n.width?e:n),cce="",vD=(t,e,n,r,i,s,l,d)=>{var f=t.slice(0,e),m=Q5({breakAll:n,style:r,children:f+cce});if(!m)return[!1,[]];var p=X5(m.wordsWithComputedWidth,s,l,d),g=p.length>i||Z5(p).width>Number(s);return[g,p]},uce=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:d,breakAll:f}=t,m=Oe(s),p=String(l),g=X5(e,r,n,i);if(!m||i)return g;var _=g.length>s||Z5(g).width>Number(r);if(!_)return g;for(var x=0,S=p.length-1,E=0,A;x<=S&&E<=p.length-1;){var C=Math.floor((x+S)/2),D=C-1,[k,M]=vD(p,D,f,d,s,r,n,i),[V]=vD(p,C,f,d,s,r,n,i);if(!k&&!V&&(x=C+1),k&&V&&(S=C-1),!k&&V){A=M;break}E++}return A||g},yD=t=>{var e=Zt(t)?[]:t.toString().split(Y5);return[{words:e,width:void 0}]},dce=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!Wy.isSsr){var d,f,m=Q5({breakAll:s,children:r,style:i});if(m){var{wordsWithComputedWidth:p,spaceWidth:g}=m;d=p,f=g}else return yD(r);return uce({breakAll:s,children:r,maxLines:l,style:i},d,f,e,!!n)}return yD(r)},J5="#808080",fce={angle:0,breakAll:!1,capHeight:"0.71em",fill:J5,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},OA=w.forwardRef((t,e)=>{var n=Ar(t,fce),{x:r,y:i,lineHeight:s,capHeight:l,fill:d,scaleToFit:f,textAnchor:m,verticalAnchor:p}=n,g=gD(n,ace),_=w.useMemo(()=>dce({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:x,dy:S,angle:E,className:A,breakAll:C}=g,D=gD(g,sce);if(!Fa(r)||!Fa(i)||_.length===0)return null;var k=Number(r)+(Oe(x)?x:0),M=Number(i)+(Oe(S)?S:0);if(!dt(k)||!dt(M))return null;var V;switch(p){case"start":V=a1("calc(".concat(l,")"));break;case"middle":V=a1("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:V=a1("calc(".concat(_.length-1," * -").concat(s,")"));break}var L=[],P=_[0];if(f&&P!=null){var O=P.width,{width:I}=g;L.push("scale(".concat(Oe(I)&&Oe(O)?I/O:1,")"))}return E&&L.push("rotate(".concat(E,", ").concat(k,", ").concat(M,")")),L.length&&(D.transform=L.join(" ")),w.createElement("text",Gw({},Er(D),{ref:e,x:k,y:M,className:kt("recharts-text",A),textAnchor:m,fill:d.includes("url")?J5:d}),_.map(($,q)=>{var z=$.words.join(C?"":" ");return w.createElement("tspan",{x:k,dy:q===0?V:s,key:"".concat(z,"-").concat(q)},z)}))});OA.displayName="Text";function _D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(n),!0).forEach(function(r){hce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hce(t,e,n){return(e=mce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mce(t){var e=pce(t,"string");return typeof e=="symbol"?e:e+""}function pce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gce=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:s,y:l,height:d,upperWidth:f,lowerWidth:m}=NS(e),p=s,g=s+(f-m)/2,_=(p+g)/2,x=(f+m)/2,S=p+f/2,E=d>=0?1:-1,A=E*r,C=E>0?"end":"start",D=E>0?"start":"end",k=f>=0?1:-1,M=k*r,V=k>0?"end":"start",L=k>0?"start":"end",P=i;if(n==="top"){var O={x:p+f/2,y:l-A,horizontalAnchor:"middle",verticalAnchor:C};return P&&(O.height=Math.max(l-P.y,0),O.width=f),O}if(n==="bottom"){var I={x:g+m/2,y:l+d+A,horizontalAnchor:"middle",verticalAnchor:D};return P&&(I.height=Math.max(P.y+P.height-(l+d),0),I.width=m),I}if(n==="left"){var $={x:_-M,y:l+d/2,horizontalAnchor:V,verticalAnchor:"middle"};return P&&($.width=Math.max($.x-P.x,0),$.height=d),$}if(n==="right"){var q={x:_+x+M,y:l+d/2,horizontalAnchor:L,verticalAnchor:"middle"};return P&&(q.width=Math.max(P.x+P.width-q.x,0),q.height=d),q}var z=P?{width:x,height:d}:{};return n==="insideLeft"?Oa({x:_+M,y:l+d/2,horizontalAnchor:L,verticalAnchor:"middle"},z):n==="insideRight"?Oa({x:_+x-M,y:l+d/2,horizontalAnchor:V,verticalAnchor:"middle"},z):n==="insideTop"?Oa({x:p+f/2,y:l+A,horizontalAnchor:"middle",verticalAnchor:D},z):n==="insideBottom"?Oa({x:g+m/2,y:l+d-A,horizontalAnchor:"middle",verticalAnchor:C},z):n==="insideTopLeft"?Oa({x:p+M,y:l+A,horizontalAnchor:L,verticalAnchor:D},z):n==="insideTopRight"?Oa({x:p+f-M,y:l+A,horizontalAnchor:V,verticalAnchor:D},z):n==="insideBottomLeft"?Oa({x:g+M,y:l+d-A,horizontalAnchor:L,verticalAnchor:C},z):n==="insideBottomRight"?Oa({x:g+m-M,y:l+d-A,horizontalAnchor:V,verticalAnchor:C},z):n&&typeof n=="object"&&(Oe(n.x)||xc(n.x))&&(Oe(n.y)||xc(n.y))?Oa({x:s+oa(n.x,x),y:l+oa(n.y,d),horizontalAnchor:"end",verticalAnchor:"end"},z):Oa({x:S,y:l+d/2,horizontalAnchor:"middle",verticalAnchor:"middle"},z)},vce=["labelRef"],yce=["content"];function bD(t,e){if(t==null)return{};var n,r,i=_ce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _ce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xD(Object(n),!0).forEach(function(r){bce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bce(t,e,n){return(e=xce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xce(t){var e=wce(t,"string");return typeof e=="symbol"?e:e+""}function wce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gs(){return gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gs.apply(null,arguments)}var eV=w.createContext(null),Ece=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:d}=t,f=w.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return w.createElement(eV.Provider,{value:f},d)},tV=()=>{var t=w.useContext(eV),e=Fy();return t||(e?NS(e):void 0)},Sce=w.createContext(null),Ace=()=>{var t=w.useContext(Sce),e=ke(P6);return t||e},Tce=t=>{var{value:e,formatter:n}=t,r=Zt(t.children)?e:t.children;return typeof n=="function"?n(r):r},PA=t=>t!=null&&typeof t=="function",jce=(t,e)=>{var n=qr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Nce=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:d,cy:f,innerRadius:m,outerRadius:p,startAngle:g,endAngle:_,clockWise:x}=i,S=(m+p)/2,E=jce(g,_),A=E>=0?1:-1,C,D;switch(e){case"insideStart":C=g+A*s,D=x;break;case"insideEnd":C=_-A*s,D=!x;break;case"end":C=_+A*s,D=x;break;default:throw new Error("Unsupported position ".concat(e))}D=E<=0?D:!D;var k=ar(d,f,S,C),M=ar(d,f,S,C+(D?1:-1)*359),V="M".concat(k.x,",").concat(k.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(D?0:1,`,
    `).concat(M.x,",").concat(M.y),L=Zt(t.id)?Eh("recharts-radial-line-"):t.id;return w.createElement("text",gs({},r,{dominantBaseline:"central",className:kt("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:L,d:V})),w.createElement("textPath",{xlinkHref:"#".concat(L)},n))},Cce=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:d,endAngle:f}=t,m=(d+f)/2;if(n==="outside"){var{x:p,y:g}=ar(r,i,l+e,m);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var _=(s+l)/2,{x,y:S}=ar(r,i,_,m);return{x,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Rg=t=>t!=null&&"cx"in t&&Oe(t.cx),Oce={angle:0,offset:5,zIndex:Hn.label,position:"middle",textBreakAll:!1};function Pce(t){if(!Rg(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Mo(t){var e=Ar(t,Oce),{viewBox:n,parentViewBox:r,position:i,value:s,children:l,content:d,className:f="",textBreakAll:m,labelRef:p}=e,g=Ace(),_=tV(),x=i==="center"?_:g??_,S,E,A;n==null?S=x:Rg(n)?S=n:S=NS(n);var C=Pce(S);if(!S||Zt(s)&&Zt(l)&&!w.isValidElement(d)&&typeof d!="function")return null;var D=eh(eh({},e),{},{viewBox:S});if(w.isValidElement(d)){var{labelRef:k}=D,M=bD(D,vce);return w.cloneElement(d,M)}if(typeof d=="function"){var{content:V}=D,L=bD(D,yce);if(E=w.createElement(d,L),w.isValidElement(E))return E}else E=Tce(e);var P=Er(e);if(Rg(S)){if(i==="insideStart"||i==="insideEnd"||i==="end")return Nce(e,i,E,P,S);A=Cce(S,e.offset,e.position)}else{if(!C)return null;var O=gce({viewBox:C,position:i,offset:e.offset,parentViewBox:Rg(r)?void 0:r});A=eh(eh({x:O.x,y:O.y,textAnchor:O.horizontalAnchor,verticalAnchor:O.verticalAnchor},O.width!==void 0?{width:O.width}:{}),O.height!==void 0?{height:O.height}:{})}return w.createElement(Mi,{zIndex:e.zIndex},w.createElement(OA,gs({ref:p,className:kt("recharts-label",f)},P,A,{textAnchor:lce(P.textAnchor)?P.textAnchor:A.textAnchor,breakAll:m}),E))}Mo.displayName="Label";var Ice=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?w.createElement(Mo,gs({key:"label-implicit"},r)):Fa(t)?w.createElement(Mo,gs({key:"label-implicit",value:t},r)):w.isValidElement(t)?t.type===Mo?w.cloneElement(t,eh({key:"label-implicit"},r)):w.createElement(Mo,gs({key:"label-implicit",content:t},r)):PA(t)?w.createElement(Mo,gs({key:"label-implicit",content:t},r)):t&&typeof t=="object"?w.createElement(Mo,gs({},t,{key:"label-implicit"},r)):null};function Rce(t){var{label:e,labelRef:n}=t,r=tV();return Ice(e,r,n)||null}var s1={},o1={},wD;function Dce(){return wD||(wD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(o1)),o1}var l1={},ED;function kce(){return ED||(ED=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(l1)),l1}var SD;function Mce(){return SD||(SD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dce(),n=kce(),r=vS();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(s1)),s1}var c1,AD;function zce(){return AD||(AD=1,c1=Mce().last),c1}var Lce=zce();const Vce=Ka(Lce);var Uce=["valueAccessor"],qce=["dataKey","clockWise","id","textBreakAll","zIndex"];function $v(){return $v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$v.apply(null,arguments)}function TD(t,e){if(t==null)return{};var n,r,i=Bce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $ce=t=>Array.isArray(t.value)?Vce(t.value):t.value,nV=w.createContext(void 0),rV=nV.Provider,iV=w.createContext(void 0);iV.Provider;function Fce(){return w.useContext(nV)}function Hce(){return w.useContext(iV)}function Dg(t){var{valueAccessor:e=$ce}=t,n=TD(t,Uce),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:d}=n,f=TD(n,qce),m=Fce(),p=Hce(),g=m||p;return!g||!g.length?null:w.createElement(Mi,{zIndex:d??Hn.label},w.createElement(Ii,{className:"recharts-label-list"},g.map((_,x)=>{var S,E=Zt(r)?e(_,x):Nn(_.payload,r),A=Zt(s)?{}:{id:"".concat(s,"-").concat(x)};return w.createElement(Mo,$v({key:"label-".concat(x)},Er(_),f,A,{fill:(S=n.fill)!==null&&S!==void 0?S:_.fill,parentViewBox:_.parentViewBox,value:E,textBreakAll:l,viewBox:_.viewBox,index:x,zIndex:0}))})))}Dg.displayName="LabelList";function aV(t){var{label:e}=t;return e?e===!0?w.createElement(Dg,{key:"labelList-implicit"}):w.isValidElement(e)||PA(e)?w.createElement(Dg,{key:"labelList-implicit",content:e}):typeof e=="object"?w.createElement(Dg,$v({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kw.apply(null,arguments)}var sV=t=>{var{cx:e,cy:n,r,className:i}=t,s=kt("recharts-dot",i);return Oe(e)&&Oe(n)&&Oe(r)?w.createElement("circle",Kw({},sa(t),pS(t),{className:s,cx:e,cy:n,r})):null},Gce={radiusAxis:{},angleAxis:{}},oV=Hr({name:"polarAxis",initialState:Gce,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Spe,removeRadiusAxis:Ape,addAngleAxis:Tpe,removeAngleAxis:jpe}=oV.actions,Kce=oV.reducer;function Wce(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var u1={exports:{}},Dt={};var jD;function Yce(){if(jD)return Dt;jD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var A=E.$$typeof;switch(A){case t:switch(E=E.type,E){case n:case i:case r:case f:case m:case _:return E;default:switch(E=E&&E.$$typeof,E){case l:case d:case g:case p:return E;case s:return E;default:return A}}case e:return A}}}return Dt.ContextConsumer=s,Dt.ContextProvider=l,Dt.Element=t,Dt.ForwardRef=d,Dt.Fragment=n,Dt.Lazy=g,Dt.Memo=p,Dt.Portal=e,Dt.Profiler=i,Dt.StrictMode=r,Dt.Suspense=f,Dt.SuspenseList=m,Dt.isContextConsumer=function(E){return S(E)===s},Dt.isContextProvider=function(E){return S(E)===l},Dt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Dt.isForwardRef=function(E){return S(E)===d},Dt.isFragment=function(E){return S(E)===n},Dt.isLazy=function(E){return S(E)===g},Dt.isMemo=function(E){return S(E)===p},Dt.isPortal=function(E){return S(E)===e},Dt.isProfiler=function(E){return S(E)===i},Dt.isStrictMode=function(E){return S(E)===r},Dt.isSuspense=function(E){return S(E)===f},Dt.isSuspenseList=function(E){return S(E)===m},Dt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===f||E===m||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===p||E.$$typeof===l||E.$$typeof===s||E.$$typeof===d||E.$$typeof===x||E.getModuleId!==void 0)},Dt.typeOf=S,Dt}var ND;function Qce(){return ND||(ND=1,u1.exports=Yce()),u1.exports}var Xce=Qce(),CD=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",OD=null,d1=null,lV=t=>{if(t===OD&&Array.isArray(d1))return d1;var e=[];return w.Children.forEach(t,n=>{Zt(n)||(Xce.isFragment(n)?e=e.concat(lV(n.props.children)):e.push(n))}),d1=e,OD=t,e};function Zce(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>CD(i)):r=[CD(e)],lV(t).forEach(i=>{var s=sd(i,"type.displayName")||sd(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var cV=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,f1={},PD;function Jce(){return PD||(PD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(f1)),f1}var h1,ID;function eue(){return ID||(ID=1,h1=Jce().isPlainObject),h1}var tue=eue();const nue=Ka(tue);var RD,DD,kD,MD,zD;function LD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LD(Object(n),!0).forEach(function(r){rue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rue(t,e,n){return(e=iue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iue(t){var e=aue(t,"string");return typeof e=="symbol"?e:e+""}function aue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(null,arguments)}function Ff(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var UD=(t,e,n,r,i)=>{var s=n-r,l;return l=an(RD||(RD=Ff(["M ",",",""])),t,e),l+=an(DD||(DD=Ff(["L ",",",""])),t+n,e),l+=an(kD||(kD=Ff(["L ",",",""])),t+n-s/2,e+i),l+=an(MD||(MD=Ff(["L ",",",""])),t+n-s/2-r,e+i),l+=an(zD||(zD=Ff(["L ",","," Z"])),t,e),l},sue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oue=t=>{var e=Ar(t,sue),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:d}=e,{animationEasing:f,animationDuration:m,animationBegin:p,isUpdateAnimationActive:g}=e,_=w.useRef(null),[x,S]=w.useState(-1),E=w.useRef(i),A=w.useRef(s),C=w.useRef(l),D=w.useRef(n),k=w.useRef(r),M=Qy(t,"trapezoid-");if(w.useEffect(()=>{if(_.current&&_.current.getTotalLength)try{var be=_.current.getTotalLength();be&&S(be)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var V=kt("recharts-trapezoid",d);if(!g)return w.createElement("g",null,w.createElement("path",Fv({},Er(e),{className:V,d:UD(n,r,i,s,l)})));var L=E.current,P=A.current,O=C.current,I=D.current,$=k.current,q="0px ".concat(x===-1?1:x,"px"),z="".concat(x,"px 0px"),B=E3(["strokeDasharray"],m,f);return w.createElement(Yy,{animationId:M,key:M,canBegin:x>0,duration:m,easing:f,isActive:g,begin:p},be=>{var Se=sn(L,i,be),W=sn(P,s,be),le=sn(O,l,be),ve=sn(I,n,be),xe=sn($,r,be);_.current&&(E.current=Se,A.current=W,C.current=le,D.current=ve,k.current=xe);var we=be>0?{transition:B,strokeDasharray:z}:{strokeDasharray:q};return w.createElement("path",Fv({},Er(e),{className:V,d:UD(ve,xe,Se,W,le),ref:_,style:VD(VD({},we),e.style)}))})},lue=["option","shapeType","activeClassName"];function cue(t,e){if(t==null)return{};var n,r,i=uue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qD(Object(n),!0).forEach(function(r){due(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function due(t,e,n){return(e=fue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fue(t){var e=hue(t,"string");return typeof e=="symbol"?e:e+""}function hue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mue(t,e){return Hv(Hv({},e),t)}function pue(t,e){return t==="symbols"}function BD(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return w.createElement(j3,n);case"trapezoid":return w.createElement(oue,n);case"sector":return w.createElement(O3,n);case"symbols":if(pue(e))return w.createElement(hL,n);break;case"curve":return w.createElement(w3,n);default:return null}}function gue(t){return w.isValidElement(t)?t.props:t}function uV(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=cue(t,lue),s;if(w.isValidElement(e))s=w.cloneElement(e,Hv(Hv({},i),gue(e)));else if(typeof e=="function")s=e(i,i.index);else if(nue(e)&&typeof e!="boolean"){var l=mue(e,i);s=w.createElement(BD,{shapeType:n,elementProps:l})}else{var d=i;s=w.createElement(BD,{shapeType:n,elementProps:d})}return i.isActive?w.createElement(Ii,{className:r},s):s}var dV=(t,e,n)=>{var r=gn();return(i,s)=>l=>{t?.(i,s,l),r(b5({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},fV=t=>{var e=gn();return(n,r)=>i=>{t?.(n,r,i),e(Ise())}},hV=(t,e,n)=>{var r=gn();return(i,s)=>l=>{t?.(i,s,l),r(Rse({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function mV(t){var{tooltipEntrySettings:e}=t,n=gn(),r=gr(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(Nse(e)):i.current!==e&&n(Cse({prev:i.current,next:e})),i.current=e)},[e,n,r]),w.useLayoutEffect(()=>()=>{i.current&&(n(Ose(i.current)),i.current=null)},[n]),null}function pV(t){var{legendPayload:e}=t,n=gn(),r=gr(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(lte(e)):i.current!==e&&n(cte({prev:i.current,next:e})),i.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{i.current&&(n(ute(i.current)),i.current=null)},[n]),null}var m1,vue=()=>{var[t]=w.useState(()=>Eh("uid-"));return t},yue=(m1=yk.useId)!==null&&m1!==void 0?m1:vue;function _ue(t,e){var n=yue();return e||(t?"".concat(t,"-").concat(n):n)}var bue=w.createContext(void 0),gV=t=>{var{id:e,type:n,children:r}=t,i=_ue("recharts-".concat(n),e);return w.createElement(bue.Provider,{value:i},r(i))},xue={cartesianItems:[],polarItems:[]},vV=Hr({name:"graphicalItems",initialState:xue,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Wt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ta(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Wt()},removeCartesianGraphicalItem:{reducer(t,e){var n=ta(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Wt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Wt()},removePolarGraphicalItem:{reducer(t,e){var n=ta(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Wt()}}}),{addCartesianGraphicalItem:wue,replaceCartesianGraphicalItem:Eue,removeCartesianGraphicalItem:Sue,addPolarGraphicalItem:Npe,removePolarGraphicalItem:Cpe}=vV.actions,Aue=vV.reducer,Tue=t=>{var e=gn(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(wue(t)):n.current!==t&&e(Eue({prev:n.current,next:t})),n.current=t},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(e(Sue(n.current)),n.current=null)},[e]),null},yV=w.memo(Tue),jue=["points"];function $D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$D(Object(n),!0).forEach(function(r){Nue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nue(t,e,n){return(e=Cue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cue(t){var e=Oue(t,"string");return typeof e=="symbol"?e:e+""}function Oue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gv(){return Gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gv.apply(null,arguments)}function Pue(t,e){if(t==null)return{};var n,r,i=Iue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Iue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Rue(t){var{option:e,dotProps:n,className:r}=t;if(w.isValidElement(e))return w.cloneElement(e,n);if(typeof e=="function")return e(n);var i=kt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:l}=s,d=Pue(s,jue);return w.createElement(sV,Gv({},d,{className:i}))}function Due(t,e){return t==null?!1:e?!0:t.length===1}function kue(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:l,needClip:d,clipPathId:f,zIndex:m=Hn.scatter}=t;if(!Due(e,n))return null;var p=cV(n),g=JQ(n),_=e.map((S,E)=>{var A,C,D=p1(p1(p1({r:3},l),g),{},{index:E,cx:(A=S.x)!==null&&A!==void 0?A:void 0,cy:(C=S.y)!==null&&C!==void 0?C:void 0,dataKey:s,value:S.value,payload:S.payload,points:e});return w.createElement(Rue,{key:"dot-".concat(E),option:n,dotProps:D,className:i})}),x={};return d&&f!=null&&(x.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),w.createElement(Mi,{zIndex:m},w.createElement(Ii,Gv({className:r},x),_))}function FD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(n),!0).forEach(function(r){Mue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mue(t,e,n){return(e=zue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zue(t){var e=Lue(t,"string");return typeof e=="symbol"?e:e+""}function Lue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _V=0,Vue={xAxis:{},yAxis:{},zAxis:{}},bV=Hr({name:"cartesianAxis",initialState:Vue,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Wt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Wt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Wt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Wt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Wt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Wt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Wt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Wt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Wt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s,l=i.widthHistory||[];if(l.length===3&&l[0]===l[2]&&r===l[1]&&r!==i.width&&Math.abs(r-((s=l[0])!==null&&s!==void 0?s:0))<=1)return;var d=[...l,r].slice(-3);t.yAxis[n]=HD(HD({},i),{},{width:r,widthHistory:d})}}}}),{addXAxis:Uue,replaceXAxis:que,removeXAxis:Bue,addYAxis:$ue,replaceYAxis:Fue,removeYAxis:Hue,addZAxis:Ope,replaceZAxis:Ppe,removeZAxis:Ipe,updateYAxisWidth:Gue}=bV.actions,Kue=bV.reducer,Wue=ae([Kn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Yue=ae([Wue,Fs,Hs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),IA=()=>ke(Yue),Que=()=>ke(woe);function GD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(n),!0).forEach(function(r){Xue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xue(t,e,n){return(e=Zue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zue(t){var e=Jue(t,"string");return typeof e=="symbol"?e:e+""}function Jue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ede=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:l}=t;if(i===!1||e.x==null||e.y==null)return null;var d={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=g1(g1(g1({},d),rm(i)),pS(i)),m;return w.isValidElement(i)?m=w.cloneElement(i,f):typeof i=="function"?m=i(f):m=w.createElement(sV,f),w.createElement(Ii,{className:"recharts-active-dot",clipPath:l},m)};function tde(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:l=Hn.activeDot}=t,d=ke(Tc),f=Que();if(e==null||f==null)return null;var m=e.find(p=>f.includes(p.payload));return Zt(m)?null:w.createElement(Mi,{zIndex:l},w.createElement(ede,{point:m,childIndex:Number(d),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var KD=(t,e,n)=>{var r=n??t;if(!Zt(r))return oa(r,e,0)},nde=(t,e,n)=>{var r={},i=t.filter(l0),s=t.filter(m=>m.stackId==null),l=i.reduce((m,p)=>{var g=m[p.stackId];return g==null&&(g=[]),g.push(p),m[p.stackId]=g,m},r),d=Object.entries(l).map(m=>{var p,[g,_]=m,x=_.map(E=>E.dataKey),S=KD(e,n,(p=_[0])===null||p===void 0?void 0:p.barSize);return{stackId:g,dataKeys:x,barSize:S}}),f=s.map(m=>{var p=[m.dataKey].filter(_=>_!=null),g=KD(e,n,m.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]};function WD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WD(Object(n),!0).forEach(function(r){rde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rde(t,e,n){return(e=ide(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ide(t){var e=ade(t,"string");return typeof e=="symbol"?e:e+""}function ade(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sde(t,e,n,r,i){var s,l=r.length;if(!(l<1)){var d=oa(t,n,0,!0),f,m=[];if(dt((s=r[0])===null||s===void 0?void 0:s.barSize)){var p=!1,g=n/l,_=r.reduce((D,k)=>D+(k.barSize||0),0);_+=(l-1)*d,_>=n&&(_-=(l-1)*d,d=0),_>=n&&g>0&&(p=!0,g*=.9,_=l*g);var x=(n-_)/2>>0,S={offset:x-d,size:0};f=r.reduce((D,k)=>{var M,V={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:S.offset+S.size+d,size:p?g:(M=k.barSize)!==null&&M!==void 0?M:0}},L=[...D,V];return S=V.position,L},m)}else{var E=oa(e,n,0,!0);n-2*E-(l-1)*d<=0&&(d=0);var A=(n-2*E-(l-1)*d)/l;A>1&&(A>>=0);var C=dt(i)?Math.min(A,i):A;f=r.reduce((D,k,M)=>[...D,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:E+(A+d)*M+(A-C)/2,size:C}}],m)}return f}}var ode=(t,e,n,r,i,s,l)=>{var d=Zt(l)?e:l,f=sde(n,r,i!==s?i:s,t,d);return i!==s&&f!=null&&(f=f.map(m=>gg(gg({},m),{},{position:gg(gg({},m.position),{},{offset:m.position.offset-i/2})}))),f},lde=(t,e)=>{var n=cA(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}},cde=(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}};function ude(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&dt(t.zIndex)?t.zIndex:e}var dde=t=>{var{chartData:e}=t,n=gn(),r=gr();return w.useEffect(()=>r?()=>{}:(n(rD(e)),()=>{n(rD(void 0))}),[e,n,r]),null},YD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},xV=Hr({name:"brush",initialState:YD,reducers:{setBrushSettings(t,e){return e.payload==null?YD:e.payload}}}),{setBrushSettings:Rpe}=xV.actions,fde=xV.reducer;function hde(t){return(t%180+180)%180}var mde=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=hde(i),l=s*Math.PI/180,d=Math.atan(r/n),f=l>d&&l<Math.PI-d?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},pde={dots:[],areas:[],lines:[]},wV=Hr({name:"referenceElements",initialState:pde,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ta(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ta(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ta(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Dpe,removeDot:kpe,addArea:Mpe,removeArea:zpe,addLine:Lpe,removeLine:Vpe}=wV.actions,gde=wV.reducer,vde=w.createContext(void 0),yde=t=>{var{children:e}=t,[n]=w.useState("".concat(Eh("recharts"),"-clip")),r=IA();if(r==null)return null;var{x:i,y:s,width:l,height:d}=r;return w.createElement(vde.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:s,height:d,width:l}))),e)};function EV(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function _de(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return mde(r,n)}function bde(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:d}=t;return e===1?{start:r?i:s,end:r?i+l:s+d}:{start:r?i+l:s+d,end:r?i:s}}function zh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function xde(t,e){return EV(t,e+1)}function wde(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:d}=e,f=0,m=1,p=l,g=function(){var S=r?.[f];if(S===void 0)return{v:EV(r,m)};var E=f,A,C=()=>(A===void 0&&(A=n(S,E)),A),D=S.coordinate,k=f===0||zh(t,D,C,p,d);k||(f=0,p=l,m+=1),k&&(p=D+t*(C()/2+i),f+=m)},_;m<=s.length;)if(_=g(),_)return _.v;return[]}function Ede(t,e,n,r,i){var s=(r||[]).slice(),l=s.length;if(l===0)return[];for(var{start:d,end:f}=e,m=1;m<=l;m++){for(var p=(l-1)%m,g=d,_=!0,x=function(){var M=r[E];if(M==null)return 0;var V=E,L,P=()=>(L===void 0&&(L=n(M,V)),L),O=M.coordinate,I=E===p||zh(t,O,P,g,f);if(!I)return _=!1,1;I&&(g=O+t*(P()/2+i))},S,E=p;E<l&&(S=x(),!(S!==0&&S===1));E+=m);if(_){for(var A=[],C=p;C<l;C+=m){var D=r[C];D!=null&&A.push(D)}return A}}return[]}function QD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QD(Object(n),!0).forEach(function(r){Sde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sde(t,e,n){return(e=Ade(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ade(t){var e=Tde(t,"string");return typeof e=="symbol"?e:e+""}function Tde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jde(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:d}=e,{end:f}=e,m=function(_){var x=s[_];if(x==null)return 1;var S=x,E,A=()=>(E===void 0&&(E=n(x,_)),E);if(_===l-1){var C=t*(S.coordinate+t*A()/2-f);s[_]=S=dr(dr({},S),{},{tickCoord:C>0?S.coordinate-C*t:S.coordinate})}else s[_]=S=dr(dr({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var D=zh(t,S.tickCoord,A,d,f);D&&(f=S.tickCoord-t*(A()/2+i),s[_]=dr(dr({},S),{},{isShow:!0}))}},p=l-1;p>=0;p--)m(p);return s}function Nde(t,e,n,r,i,s){var l=(r||[]).slice(),d=l.length,{start:f,end:m}=e;if(s){var p=r[d-1];if(p!=null){var g=n(p,d-1),_=t*(p.coordinate+t*g/2-m);if(l[d-1]=p=dr(dr({},p),{},{tickCoord:_>0?p.coordinate-_*t:p.coordinate}),p.tickCoord!=null){var x=zh(t,p.tickCoord,()=>g,f,m);x&&(m=p.tickCoord-t*(g/2+i),l[d-1]=dr(dr({},p),{},{isShow:!0}))}}}for(var S=s?d-1:d,E=function(D){var k=l[D];if(k==null)return 1;var M=k,V,L=()=>(V===void 0&&(V=n(k,D)),V);if(D===0){var P=t*(M.coordinate-t*L()/2-f);l[D]=M=dr(dr({},M),{},{tickCoord:P<0?M.coordinate-P*t:M.coordinate})}else l[D]=M=dr(dr({},M),{},{tickCoord:M.coordinate});if(M.tickCoord!=null){var O=zh(t,M.tickCoord,L,f,m);O&&(f=M.tickCoord+t*(L()/2+i),l[D]=dr(dr({},M),{},{isShow:!0}))}},A=0;A<S;A++)E(A);return l}function RA(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:d,interval:f,tickFormatter:m,unit:p,angle:g}=t;if(!i||!i.length||!r)return[];if(Oe(f)||Wy.isSsr){var _;return(_=xde(i,Oe(f)?f:0))!==null&&_!==void 0?_:[]}var x=[],S=d==="top"||d==="bottom"?"width":"height",E=p&&S==="width"?uh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(V,L)=>{var P=typeof m=="function"?m(V.value,L):V.value;return S==="width"?_de(uh(P,{fontSize:e,letterSpacing:n}),E,g):uh(P,{fontSize:e,letterSpacing:n})[S]},C=i[0],D=i[1],k=i.length>=2&&C!=null&&D!=null?qr(D.coordinate-C.coordinate):1,M=bde(s,k,S);return f==="equidistantPreserveStart"?wde(k,M,A,i,l):f==="equidistantPreserveEnd"?Ede(k,M,A,i,l):(f==="preserveStart"||f==="preserveStartEnd"?x=Nde(k,M,A,i,l,f==="preserveStartEnd"):x=jde(k,M,A,i,l),x.filter(V=>V.isShow))}var Cde=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var d=n?n.getBoundingClientRect().width:0,f=i+s,m=l+f+d+(n?r:0);return Math.round(m)}return 0},Ode=["axisLine","width","height","className","hide","ticks","axisType"];function Pde(t,e){if(t==null)return{};var n,r,i=Ide(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ide(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(null,arguments)}function XD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XD(Object(n),!0).forEach(function(r){Rde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rde(t,e,n){return(e=Dde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dde(t){var e=kde(t,"string");return typeof e=="symbol"?e:e+""}function kde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ts={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Hn.axis};function Mde(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:d,otherSvgProps:f}=t;if(!d)return null;var m=rn(rn(rn({},f),sa(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);m=rn(rn({},m),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var g=+(s==="left"&&!l||s==="right"&&l);m=rn(rn({},m),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return w.createElement("line",jc({},m,{className:kt("recharts-cartesian-axis-line",sd(d,"className"))}))}function zde(t,e,n,r,i,s,l,d,f){var m,p,g,_,x,S,E=d?-1:1,A=t.tickSize||l,C=Oe(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":m=p=t.coordinate,_=n+ +!d*i,g=_-E*A,S=g-E*f,x=C;break;case"left":g=_=t.coordinate,p=e+ +!d*r,m=p-E*A,x=m-E*f,S=C;break;case"right":g=_=t.coordinate,p=e+ +d*r,m=p+E*A,x=m+E*f,S=C;break;default:m=p=t.coordinate,_=n+ +d*i,g=_+E*A,S=g+E*f,x=C;break}return{line:{x1:m,y1:g,x2:p,y2:_},tick:{x,y:S}}}function Lde(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Vde(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Ude(t){var{option:e,tickProps:n,value:r}=t,i,s=kt(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(e))i=w.cloneElement(e,rn(rn({},n),{},{className:s}));else if(typeof e=="function")i=e(rn(rn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=kt(l,Wce(e))),i=w.createElement(OA,jc({},n,{className:l}),r)}return i}var qde=w.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:d,padding:f,tickTextProps:m,orientation:p,mirror:g,x:_,y:x,width:S,height:E,tickSize:A,tickMargin:C,fontSize:D,letterSpacing:k,getTicksConfig:M,events:V,axisType:L}=t,P=RA(rn(rn({},M),{},{ticks:n}),D,k),O=Lde(p,g),I=Vde(p,g),$=sa(M),q=rm(r),z={};typeof i=="object"&&(z=i);var B=rn(rn({},$),{},{fill:"none"},z),be=P.map(le=>rn({entry:le},zde(le,_,x,S,E,p,A,g,C))),Se=be.map(le=>{var{entry:ve,line:xe}=le;return w.createElement(Ii,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ve.value,"-").concat(ve.coordinate,"-").concat(ve.tickCoord)},i&&w.createElement("line",jc({},B,xe,{className:kt("recharts-cartesian-axis-tick-line",sd(i,"className"))})))}),W=be.map((le,ve)=>{var xe,we,{entry:F,tick:ne}=le,pe=rn(rn(rn(rn({verticalAnchor:I},$),{},{textAnchor:O,stroke:"none",fill:s},ne),{},{index:ve,payload:F,visibleTicksCount:P.length,tickFormatter:l,padding:f},m),{},{angle:(xe=(we=m?.angle)!==null&&we!==void 0?we:$.angle)!==null&&xe!==void 0?xe:0}),_e=rn(rn({},pe),q);return w.createElement(Ii,jc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},gS(V,F,ve)),r&&w.createElement(Ude,{option:r,tickProps:_e,value:"".concat(typeof l=="function"?l(F.value,ve):F.value).concat(d||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(L,"-ticks")},W.length>0&&w.createElement(Mi,{zIndex:Hn.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(L,"-tick-labels"),ref:e},W)),Se.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(L,"-tick-lines")},Se))}),Bde=w.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:d,axisType:f}=t,m=Pde(t,Ode),[p,g]=w.useState(""),[_,x]=w.useState(""),S=w.useRef(null);w.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var A;return Cde({ticks:S.current,label:(A=t.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=w.useCallback(A=>{if(A){var C=A.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=C;var D=C[0];if(D){var k=window.getComputedStyle(D),M=k.fontSize,V=k.letterSpacing;(M!==p||V!==_)&&(g(M),x(V))}}},[p,_]);return l||r!=null&&r<=0||i!=null&&i<=0?null:w.createElement(Mi,{zIndex:t.zIndex},w.createElement(Ii,{className:kt("recharts-cartesian-axis",s)},w.createElement(Mde,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:sa(t)}),w.createElement(qde,{ref:E,axisType:f,events:m,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:_,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:d,unit:t.unit,width:t.width,x:t.x,y:t.y}),w.createElement(Ece,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},w.createElement(Rce,{label:t.label,labelRef:t.labelRef}),t.children)))}),DA=w.forwardRef((t,e)=>{var n=Ar(t,Ts);return w.createElement(Bde,jc({},n,{ref:e}))});DA.displayName="CartesianAxis";var $de=["x1","y1","x2","y2","key"],Fde=["offset"],Hde=["xAxisId","yAxisId"],Gde=["xAxisId","yAxisId"];function ZD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZD(Object(n),!0).forEach(function(r){Kde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kde(t,e,n){return(e=Wde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wde(t){var e=Yde(t,"string");return typeof e=="symbol"?e:e+""}function Yde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rc(){return rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rc.apply(null,arguments)}function Kv(t,e){if(t==null)return{};var n,r,i=Qde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Xde=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:d}=t;return w.createElement("rect",{x:r,y:i,ry:d,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function SV(t){var{option:e,lineItemProps:n}=t,r;if(w.isValidElement(e))r=w.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:l,x2:d,y2:f,key:m}=n,p=Kv(n,$de),g=(i=sa(p))!==null&&i!==void 0?i:{},{offset:_}=g,x=Kv(g,Fde);r=w.createElement("line",rc({},x,{x1:s,y1:l,x2:d,y2:f,fill:"none",key:m}))}return r}function Zde(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,d=Kv(t,Hde),f=i.map((m,p)=>{var g=mr(mr({},d),{},{x1:e,y1:m,x2:e+n,y2:m,key:"line-".concat(p),index:p});return w.createElement(SV,{key:"line-".concat(p),option:r,lineItemProps:g})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Jde(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,d=Kv(t,Gde),f=i.map((m,p)=>{var g=mr(mr({},d),{},{x1:m,y1:e,x2:m,y2:e+n,key:"line-".concat(p),index:p});return w.createElement(SV,{option:r,lineItemProps:g,key:"line-".concat(p)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function efe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:d,horizontal:f=!0}=t;if(!f||!e||!e.length||d==null)return null;var m=d.map(g=>Math.round(g+i-i)).sort((g,_)=>g-_);i!==m[0]&&m.unshift(0);var p=m.map((g,_)=>{var x=m[_+1],S=x==null,E=S?i+l-g:x-g;if(E<=0)return null;var A=_%e.length;return w.createElement("rect",{key:"react-".concat(_),y:g,x:r,height:E,width:s,stroke:"none",fill:e[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function tfe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:d,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var m=f.map(g=>Math.round(g+i-i)).sort((g,_)=>g-_);i!==m[0]&&m.unshift(0);var p=m.map((g,_)=>{var x=m[_+1],S=x==null,E=S?i+l-g:x-g;if(E<=0)return null;var A=_%n.length;return w.createElement("rect",{key:"react-".concat(_),x:g,y:s,width:E,height:d,stroke:"none",fill:n[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var nfe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return r3(RA(mr(mr(mr({},Ts),n),{},{ticks:i3(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},rfe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return r3(RA(mr(mr(mr({},Ts),n),{},{ticks:i3(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},ife={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Hn.grid};function Ww(t){var e=u3(),n=d3(),r=c3(),i=mr(mr({},Ar(t,ife)),{},{x:Oe(t.x)?t.x:r.left,y:Oe(t.y)?t.y:r.top,width:Oe(t.width)?t.width:r.width,height:Oe(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:d,y:f,width:m,height:p,syncWithTicks:g,horizontalValues:_,verticalValues:x}=i,S=gr(),E=ke(I=>HR(I,"xAxis",s,S)),A=ke(I=>HR(I,"yAxis",l,S));if(!Ha(m)||!Ha(p)||!Oe(d)||!Oe(f))return null;var C=i.verticalCoordinatesGenerator||nfe,D=i.horizontalCoordinatesGenerator||rfe,{horizontalPoints:k,verticalPoints:M}=i;if((!k||!k.length)&&typeof D=="function"){var V=_&&_.length,L=D({yAxis:A?mr(mr({},A),{},{ticks:V?_:A.ticks}):void 0,width:e??m,height:n??p,offset:r},V?!0:g);_v(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(k=L)}if((!M||!M.length)&&typeof C=="function"){var P=x&&x.length,O=C({xAxis:E?mr(mr({},E),{},{ticks:P?x:E.ticks}):void 0,width:e??m,height:n??p,offset:r},P?!0:g);_v(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(M=O)}return w.createElement(Mi,{zIndex:i.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(Xde,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(efe,rc({},i,{horizontalPoints:k})),w.createElement(tfe,rc({},i,{verticalPoints:M})),w.createElement(Zde,rc({},i,{offset:r,horizontalPoints:k,xAxis:E,yAxis:A})),w.createElement(Jde,rc({},i,{offset:r,verticalPoints:M,xAxis:E,yAxis:A}))))}Ww.displayName="CartesianGrid";var afe={},AV=Hr({name:"errorBars",initialState:afe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Upe,replaceErrorBar:qpe,removeErrorBar:Bpe}=AV.actions,sfe=AV.reducer,ofe=["children"];function lfe(t,e){if(t==null)return{};var n,r,i=cfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ufe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},dfe=w.createContext(ufe);function TV(t){var{children:e}=t,n=lfe(t,ofe);return w.createElement(dfe.Provider,{value:n},e)}function kA(t,e){var n,r,i=ke(m=>Ws(m,t)),s=ke(m=>Ys(m,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Un.allowDataOverflow,d=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:qn.allowDataOverflow,f=l||d;return{needClip:f,needClipX:l,needClipY:d}}function jV(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=IA(),{needClipX:s,needClipY:l,needClip:d}=kA(e,n);if(!d||!i)return null;var{x:f,y:m,width:p,height:g}=i;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:s?f:f-p/2,y:l?m:m-g/2,width:s?p:p*2,height:l?g:g*2}))}var NV=(t,e,n,r)=>ll(t,"xAxis",e,r),CV=(t,e,n,r)=>ol(t,"xAxis",e,r),OV=(t,e,n,r)=>ll(t,"yAxis",n,r),PV=(t,e,n,r)=>ol(t,"yAxis",n,r),ffe=ae([jt,NV,OV,CV,PV],(t,e,n,r,i)=>$s(t,"xAxis")?ld(e,r,!1):ld(n,i,!1)),hfe=(t,e,n,r,i)=>i;function mfe(t){return t.type==="line"}var pfe=ae([d0,hfe],(t,e)=>t.filter(mfe).find(n=>n.id===e)),gfe=ae([jt,NV,OV,CV,PV,pfe,ffe,eA],(t,e,n,r,i,s,l,d)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:p}=d;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:g,data:_}=s,x;if(_!=null&&_.length>0?x=_:x=f?.slice(m,p+1),x!=null)return rhe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:x})}});function vfe(t){var e=rm(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,l=Number(i),d=Number(s);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(d)||d<0)&&(d=r),{r:l,strokeWidth:d}}return{r:n,strokeWidth:r}}var v1={exports:{}},y1={};var JD;function yfe(){if(JD)return y1;JD=1;var t=hd();function e(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,d=t.useDebugValue;return y1.useSyncExternalStoreWithSelector=function(f,m,p,g,_){var x=i(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=l(function(){function A(V){if(!C){if(C=!0,D=V,V=g(V),_!==void 0&&S.hasValue){var L=S.value;if(_(L,V))return k=L}return k=V}if(L=k,n(D,V))return L;var P=g(V);return _!==void 0&&_(L,P)?(D=V,L):(D=V,k=P)}var C=!1,D,k,M=p===void 0?null:p;return[function(){return A(m())},M===null?void 0:function(){return A(M())}]},[m,p,g,_]);var E=r(f,x[0],x[1]);return s(function(){S.hasValue=!0,S.value=E},[E]),d(E),E},y1}var ek;function _fe(){return ek||(ek=1,v1.exports=yfe()),v1.exports}_fe();function bfe(t){t()}function xfe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){bfe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var tk={notify(){},get:()=>[]};function wfe(t,e){let n,r=tk,i=0,s=!1;function l(E){p();const A=r.subscribe(E);let C=!1;return()=>{C||(C=!0,A(),g())}}function d(){r.notify()}function f(){S.onStateChange&&S.onStateChange()}function m(){return s}function p(){i++,n||(n=t.subscribe(f),r=xfe())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=tk)}function _(){s||(s=!0,p())}function x(){s&&(s=!1,g())}const S={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:m,trySubscribe:_,tryUnsubscribe:x,getListeners:()=>r};return S}var Efe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sfe=Efe(),Afe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Tfe=Afe(),jfe=()=>Sfe||Tfe?w.useLayoutEffect:w.useEffect,Nfe=jfe();function nk(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Cfe(t,e){if(nk(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!nk(t[n[i]],e[n[i]]))return!1;return!0}var Ofe=Symbol.for("react-redux-context"),Pfe=typeof globalThis<"u"?globalThis:{};function Ife(){if(!w.createContext)return{};const t=Pfe[Ofe]??=new Map;let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var Rfe=Ife();function Dfe(t){const{children:e,context:n,serverState:r,store:i}=t,s=w.useMemo(()=>{const f=wfe(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=w.useMemo(()=>i.getState(),[i]);Nfe(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const d=n||Rfe;return w.createElement(d.Provider,{value:s},e)}var kfe=Dfe,Mfe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function zfe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function g0(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Mfe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Cfe(t[r],e[r]))return!1}else if(!zfe(t[r],e[r]))return!1;return!0}var Lfe=["id"],Vfe=["type","layout","connectNulls","needClip","shape"],Ufe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lh.apply(null,arguments)}function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ia(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){qfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qfe(t,e,n){return(e=Bfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bfe(t){var e=$fe(t,"string");return typeof e=="symbol"?e:e+""}function $fe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MA(t,e){if(t==null)return{};var n,r,i=Ffe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ffe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hfe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Vy(n,e),payload:t}]},Gfe=w.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:d,unit:f,tooltipType:m,id:p}=t,g={dataDefinedOnItem:n,getPosition:Rc,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Vy(l,e),hide:d,type:m,color:r,unit:f,graphicalItemId:p}};return w.createElement(mV,{tooltipEntrySettings:g})}),IV=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Kfe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Wfe=(t,e,n)=>{var r=n.reduce((x,S)=>x+S);if(!r)return IV(e,t);for(var i=Math.floor(t/r),s=t%r,l=e-t,d=[],f=0,m=0;f<n.length;m+=(p=n[f])!==null&&p!==void 0?p:0,++f){var p,g=n[f];if(g!=null&&m+g>s){d=[...n.slice(0,f),s-m];break}}var _=d.length%2===0?[0,l]:[l];return[...Kfe(n,i),...d,..._].map(x=>"".concat(x,"px")).join(", ")};function Yfe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:l}=r,{id:d}=r,f=MA(r,Lfe),m=sa(f);return w.createElement(kue,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:m,needClip:l,clipPathId:e})}function Qfe(t){var{showLabels:e,children:n,points:r}=t,i=w.useMemo(()=>r?.map(s=>{var l,d,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ia(Ia({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[r]);return w.createElement(rV,{value:e?i:void 0},n)}function ik(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:l,layout:d,connectNulls:f,needClip:m,shape:p}=s,g=MA(s,Vfe),_=Ia(Ia({},Er(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:d,connectNulls:f,strokeDasharray:i??s.strokeDasharray});return w.createElement(w.Fragment,null,r?.length>1&&w.createElement(uV,Lh({shapeType:"curve",option:p},_,{pathRef:n})),w.createElement(Yfe,{points:r,clipPathId:e,props:s}))}function Xfe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Zfe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:l,strokeDasharray:d,isAnimationActive:f,animationBegin:m,animationDuration:p,animationEasing:g,animateNewValues:_,width:x,height:S,onAnimationEnd:E,onAnimationStart:A}=n,C=i.current,D=Qy(l,"recharts-line-"),k=w.useRef(D),[M,V]=w.useState(!1),L=!M,P=w.useCallback(()=>{typeof E=="function"&&E(),V(!1)},[E]),O=w.useCallback(()=>{typeof A=="function"&&A(),V(!0)},[A]),I=Xfe(r.current),$=w.useRef(0);k.current!==D&&($.current=s.current,k.current=D);var q=$.current;return w.createElement(Qfe,{points:l,showLabels:L},n.children,w.createElement(Yy,{animationId:D,begin:m,duration:p,isActive:f,easing:g,onAnimationEnd:P,onAnimationStart:O,key:D},z=>{var B=sn(q,I+q,z),be=Math.min(B,I),Se;if(f)if(d){var W="".concat(d).split(/[,\s]+/gim).map(xe=>parseFloat(xe));Se=Wfe(be,I,W)}else Se=IV(I,be);else Se=d==null?void 0:String(d);if(z>0&&I>0&&(i.current=l,s.current=Math.max(s.current,be)),C){var le=C.length/l.length,ve=z===1?l:l.map((xe,we)=>{var F=Math.floor(we*le);if(C[F]){var ne=C[F];return Ia(Ia({},xe),{},{x:sn(ne.x,xe.x,z),y:sn(ne.y,xe.y,z)})}return _?Ia(Ia({},xe),{},{x:sn(x*2,xe.x,z),y:sn(S/2,xe.y,z)}):Ia(Ia({},xe),{},{x:xe.x,y:xe.y})});return i.current=ve,w.createElement(ik,{props:n,points:ve,clipPathId:e,pathRef:r,strokeDasharray:Se})}return w.createElement(ik,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:Se})}),w.createElement(aV,{label:n.label}))}function Jfe(t){var{clipPathId:e,props:n}=t,r=w.useRef(null),i=w.useRef(0),s=w.useRef(null);return w.createElement(Zfe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var ehe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Nn(t.payload,e)}};class the extends w.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:l,top:d,left:f,width:m,height:p,id:g,needClip:_,zIndex:x}=this.props;if(e)return null;var S=kt("recharts-line",i),E=g,{r:A,strokeWidth:C}=vfe(n),D=cV(n),k=A*2+C,M=_?"url(#clipPath-".concat(D?"":"dots-").concat(E,")"):void 0;return w.createElement(Mi,{zIndex:x},w.createElement(Ii,{className:S},_&&w.createElement("defs",null,w.createElement(jV,{clipPathId:E,xAxisId:s,yAxisId:l}),!D&&w.createElement("clipPath",{id:"clipPath-dots-".concat(E)},w.createElement("rect",{x:f-k/2,y:d-k/2,width:m+k,height:p+k}))),w.createElement(TV,{xAxisId:s,yAxisId:l,data:r,dataPointFormatter:ehe,errorBarOffset:0},w.createElement(Jfe,{props:this.props,clipPathId:E}))),w.createElement(tde,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:M}))}}var RV={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Hn.line,type:"linear"};function nhe(t){var e=Ar(t,RV),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:d,dot:f,hide:m,isAnimationActive:p,label:g,legendType:_,xAxisId:x,yAxisId:S,id:E}=e,A=MA(e,Ufe),{needClip:C}=kA(x,S),D=IA(),k=Dc(),M=gr(),V=ke($=>gfe($,x,S,M,E));if(k!=="horizontal"&&k!=="vertical"||V==null||D==null)return null;var{height:L,width:P,x:O,y:I}=D;return w.createElement(the,Lh({},A,{id:E,connectNulls:d,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:m,label:g,legendType:_,xAxisId:x,yAxisId:S,points:V,layout:k,height:L,width:P,left:O,top:I,needClip:C}))}function rhe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:l,bandSize:d,displayedData:f}=t;return f.map((m,p)=>{var g=Nn(m,l);if(e==="horizontal"){var _=$P({axis:n,ticks:i,bandSize:d,entry:m,index:p}),x=Zt(g)?null:r.scale.map(g);return{x:_,y:x??null,value:g,payload:m}}var S=Zt(g)?null:n.scale.map(g),E=$P({axis:r,ticks:s,bandSize:d,entry:m,index:p});return S==null||E==null?null:{x:S,y:E,value:g,payload:m}}).filter(Boolean)}function ihe(t){var e=Ar(t,RV),n=gr();return w.createElement(gV,{id:e.id,type:"line"},r=>w.createElement(w.Fragment,null,w.createElement(pV,{legendPayload:Hfe(e)}),w.createElement(Gfe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),w.createElement(yV,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),w.createElement(nhe,Lh({},e,{id:r}))))}var DV=w.memo(ihe,g0);DV.displayName="Line";function zc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:_V}function Lc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:_V}var ahe="Invariant failed";function she(t,e){throw new Error(ahe)}function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yw.apply(null,arguments)}function Wv(t){return w.createElement(uV,Yw({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var ohe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Oe(e))return e;var s=Oe(r)||Zt(r);return s?e(r,i):(s||she(),n)}},lhe=(t,e,n)=>n,che=(t,e)=>e,bm=ae([d0,che],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),uhe=ae([bm],t=>t?.maxBarSize),dhe=(t,e,n,r)=>r,fhe=ae([jt,d0,zc,Lc,lhe],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),hhe=(t,e,n)=>{var r=jt(t),i=zc(t,e),s=Lc(t,e);if(!(i==null||s==null))return r==="horizontal"?qw(t,"yAxis",s,n):qw(t,"xAxis",i,n)},mhe=(t,e)=>{var n=jt(t),r=zc(t,e),i=Lc(t,e);if(!(r==null||i==null))return n==="horizontal"?FR(t,"xAxis",r):FR(t,"yAxis",i)},phe=ae([fhe,vae,mhe],nde),ghe=(t,e,n)=>{var r,i,s=bm(t,e);if(s==null)return 0;var l=zc(t,e),d=Lc(t,e);if(l==null||d==null)return 0;var f=jt(t),m=E6(t),{maxBarSize:p}=s,g=Zt(p)?m:p,_,x;return f==="horizontal"?(_=ll(t,"xAxis",l,n),x=ol(t,"xAxis",l,n)):(_=ll(t,"yAxis",d,n),x=ol(t,"yAxis",d,n)),(r=(i=ld(_,x,!0))!==null&&i!==void 0?i:g)!==null&&r!==void 0?r:0},kV=(t,e,n)=>{var r=jt(t),i=zc(t,e),s=Lc(t,e);if(!(i==null||s==null)){var l,d;return r==="horizontal"?(l=ll(t,"xAxis",i,n),d=ol(t,"xAxis",i,n)):(l=ll(t,"yAxis",s,n),d=ol(t,"yAxis",s,n)),ld(l,d)}},vhe=ae([phe,E6,gae,S6,ghe,kV,uhe],ode),yhe=(t,e,n)=>{var r=zc(t,e);if(r!=null)return ll(t,"xAxis",r,n)},_he=(t,e,n)=>{var r=Lc(t,e);if(r!=null)return ll(t,"yAxis",r,n)},bhe=(t,e,n)=>{var r=zc(t,e);if(r!=null)return ol(t,"xAxis",r,n)},xhe=(t,e,n)=>{var r=Lc(t,e);if(r!=null)return ol(t,"yAxis",r,n)},whe=ae([vhe,bm],cde),Ehe=ae([hhe,bm],lde),She=ae([Kn,TS,yhe,_he,bhe,xhe,whe,jt,lae,kV,Ehe,bm,dhe],(t,e,n,r,i,s,l,d,f,m,p,g,_)=>{var{chartData:x,dataStartIndex:S,dataEndIndex:E}=f;if(!(g==null||l==null||e==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||i==null||s==null||m==null)){var{data:A}=g,C;if(A!=null&&A.length>0?C=A:C=x?.slice(S,E+1),C!=null)return Zhe({layout:d,barSettings:g,pos:l,parentViewBox:e,bandSize:m,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:C,offset:t,cells:_,dataStartIndex:S})}}),Ahe=["index"];function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(null,arguments)}function The(t,e){if(t==null)return{};var n,r,i=jhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var MV=w.createContext(void 0),Nhe=t=>{var e=w.useContext(MV);if(e!=null)return e.stackId;if(t!=null)return dee(t)},Che=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),Ohe=t=>{var e=w.useContext(MV);if(e!=null){var{stackId:n}=e;return"url(#".concat(Che(n,t),")")}},zV=t=>{var{index:e}=t,n=The(t,Ahe),r=Ohe(e);return w.createElement(Ii,Qw({className:"recharts-bar-stack-layer",clipPath:r},n))},Phe=["onMouseEnter","onMouseLeave","onClick"],Ihe=["value","background","tooltipPosition"],Rhe=["id"],Dhe=["onMouseEnter","onClick","onMouseLeave"];function Ls(){return Ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ls.apply(null,arguments)}function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){khe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function khe(t,e,n){return(e=Mhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mhe(t){var e=zhe(t,"string");return typeof e=="symbol"?e:e+""}function zhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yv(t,e){if(t==null)return{};var n,r,i=Lhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vhe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Vy(n,e),payload:t}]},Uhe=w.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:d,tooltipType:f,id:m}=t,p={dataDefinedOnItem:void 0,getPosition:Rc,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Vy(s,e),hide:l,type:f,color:i,unit:d,graphicalItemId:m}};return w.createElement(mV,{tooltipEntrySettings:p})});function qhe(t){var e=ke(Tc),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:d,onClick:f}=s,m=Yv(s,Phe),p=dV(l,r,s.id),g=fV(d),_=hV(f,r,s.id);if(!i||n==null)return null;var x=rm(i);return w.createElement(Mi,{zIndex:ude(i,Hn.barBackground)},n.map((S,E)=>{var{value:A,background:C,tooltipPosition:D}=S,k=Yv(S,Ihe);if(!C)return null;var M=p(S,E),V=g(S,E),L=_(S,E),P=br(br(br(br(br({option:i,isActive:String(E)===e},k),{},{fill:"#eee"},C),x),gS(m,S,E)),{},{onMouseEnter:M,onMouseLeave:V,onClick:L,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return w.createElement(Wv,Ls({key:"background-bar-".concat(E)},P))}))}function Bhe(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return br(br({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return w.createElement(rV,{value:e?i:void 0},n)}function $he(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,d=ke(Tc),f=ke(k5),m=n&&String(s)===d&&(f==null||l===f),p=m?n:e;return m?w.createElement(Mi,{zIndex:Hn.activeBar},w.createElement(zV,{index:s},w.createElement(Wv,Ls({},r,{name:String(r.name)},i,{isActive:m,option:p,index:s,dataKey:l})))):w.createElement(Wv,Ls({},r,{name:String(r.name)},i,{isActive:m,option:p,index:s,dataKey:l}))}function Fhe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return w.createElement(Wv,Ls({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function Hhe(t){var e,{data:n,props:r}=t,i=(e=sa(r))!==null&&e!==void 0?e:{},{id:s}=i,l=Yv(i,Rhe),{shape:d,dataKey:f,activeBar:m}=r,{onMouseEnter:p,onClick:g,onMouseLeave:_}=r,x=Yv(r,Dhe),S=dV(p,f,s),E=fV(_),A=hV(g,f,s);return n?w.createElement(w.Fragment,null,n.map((C,D)=>w.createElement(zV,Ls({index:D,key:"rectangle-".concat(C?.x,"-").concat(C?.y,"-").concat(C?.value,"-").concat(D),className:"recharts-bar-rectangle"},gS(x,C,D),{onMouseEnter:S(C,D),onMouseLeave:E(C,D),onClick:A(C,D)}),m?w.createElement($he,{shape:d,activeBar:m,baseProps:l,entry:C,index:D,dataKey:f}):w.createElement(Fhe,{shape:d,baseProps:l,entry:C,index:D,dataKey:f})))):null}function Ghe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:f,onAnimationEnd:m,onAnimationStart:p}=e,g=n.current,_=Qy(e,"recharts-bar-"),[x,S]=w.useState(!1),E=!x,A=w.useCallback(()=>{typeof m=="function"&&m(),S(!1)},[m]),C=w.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);return w.createElement(Bhe,{showLabels:E,rects:r},w.createElement(Yy,{animationId:_,begin:l,duration:d,isActive:s,easing:f,onAnimationEnd:A,onAnimationStart:C,key:_},D=>{var k=D===1?r:r?.map((M,V)=>{var L=g&&g[V];if(L)return br(br({},M),{},{x:sn(L.x,M.x,D),y:sn(L.y,M.y,D),width:sn(L.width,M.width,D),height:sn(L.height,M.height,D)});if(i==="horizontal"){var P=sn(0,M.height,D),O=sn(M.stackedBarStart,M.y,D);return br(br({},M),{},{y:O,height:P})}var I=sn(0,M.width,D),$=sn(M.stackedBarStart,M.x,D);return br(br({},M),{},{width:I,x:$})});return D>0&&(n.current=k??null),k==null?null:w.createElement(Ii,null,w.createElement(Hhe,{props:e,data:k}))}),w.createElement(aV,{label:e.label}),e.children)}function Khe(t){var e=w.useRef(null);return w.createElement(Ghe,{previousRectanglesRef:e,props:t})}var LV=0,Whe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Nn(t,e)}};class Yhe extends w.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:d,background:f,id:m}=this.props;if(e||n==null)return null;var p=kt("recharts-bar",i),g=m;return w.createElement(Ii,{className:p,id:m},d&&w.createElement("defs",null,w.createElement(jV,{clipPathId:g,xAxisId:s,yAxisId:l})),w.createElement(Ii,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},w.createElement(qhe,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),w.createElement(Khe,this.props)))}}var Qhe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:LV,xAxisId:0,yAxisId:0,zIndex:Hn.bar};function Xhe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:p}=t,{needClip:g}=kA(e,n),_=Dc(),x=gr(),S=Zce(t.children,CA),E=ke(D=>She(D,t.id,x,S));if(_!=="vertical"&&_!=="horizontal")return null;var A,C=E?.[0];return C==null||C.height==null||C.width==null?A=0:A=_==="vertical"?C.height/2:C.width/2,w.createElement(TV,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:Whe,errorBarOffset:A},w.createElement(Yhe,Ls({},t,{layout:_,needClip:g,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:p})))}function Zhe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:d,xAxisTicks:f,yAxisTicks:m,stackedData:p,displayedData:g,offset:_,cells:x,parentViewBox:S,dataStartIndex:E}=t,A=e==="horizontal"?d:l,C=p?A.scale.domain():null,D=fee({numericAxis:A}),k=A.scale.map(D);return g.map((M,V)=>{var L,P,O,I,$,q;if(p){var z=p[V+E];if(z==null)return null;L=see(z,C)}else L=Nn(M,n),Array.isArray(L)||(L=[D,L]);var B=ohe(r,LV)(L[1],V);if(e==="horizontal"){var be,Se=d.scale.map(L[0]),W=d.scale.map(L[1]);if(Se==null||W==null)return null;P=FP({axis:l,ticks:f,bandSize:s,offset:i.offset,entry:M,index:V}),O=(be=W??Se)!==null&&be!==void 0?be:void 0,I=i.size;var le=Se-W;if($=$a(le)?0:le,q={x:P,y:_.top,width:I,height:_.height},Math.abs(B)>0&&Math.abs($)<Math.abs(B)){var ve=qr($||B)*(Math.abs(B)-Math.abs($));O-=ve,$+=ve}}else{var xe=l.scale.map(L[0]),we=l.scale.map(L[1]);if(xe==null||we==null)return null;if(P=xe,O=FP({axis:d,ticks:m,bandSize:s,offset:i.offset,entry:M,index:V}),I=we-xe,$=i.size,q={x:_.left,y:O,width:_.width,height:$},Math.abs(B)>0&&Math.abs(I)<Math.abs(B)){var F=qr(I||B)*(Math.abs(B)-Math.abs(I));I+=F}}if(P==null||O==null||I==null||$==null)return null;var ne=br(br({},M),{},{stackedBarStart:k,x:P,y:O,width:I,height:$,value:p?L:L[1],payload:M,background:q,tooltipPosition:{x:P+I/2,y:O+$/2},parentViewBox:S},x&&x[V]&&x[V].props);return ne}).filter(Boolean)}function Jhe(t){var e=Ar(t,Qhe),n=Nhe(e.stackId),r=gr();return w.createElement(gV,{id:e.id,type:"bar"},i=>w.createElement(w.Fragment,null,w.createElement(pV,{legendPayload:Vhe(e)}),w.createElement(Uhe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),w.createElement(yV,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),w.createElement(Mi,{zIndex:e.zIndex},w.createElement(Xhe,Ls({},e,{id:i})))))}var VV=w.memo(Jhe,g0);VV.displayName="Bar";var eme=["domain","range"],tme=["domain","range"];function sk(t,e){if(t==null)return{};var n,r,i=nme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ok(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function UV(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=sk(t,eme),{domain:s,range:l}=e,d=sk(e,tme);return!ok(n,s)||!ok(r,l)?!1:g0(i,d)}var rme=["type"],ime=["dangerouslySetInnerHTML","ticks","scale"],ame=["id","scale"];function Xw(){return Xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xw.apply(null,arguments)}function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ck(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(n),!0).forEach(function(r){sme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sme(t,e,n){return(e=ome(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ome(t){var e=lme(t,"string");return typeof e=="symbol"?e:e+""}function lme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zw(t,e){if(t==null)return{};var n,r,i=cme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ume(t){var e=gn(),n=w.useRef(null),r=f3(),{type:i}=t,s=Zw(t,rme),l=a0(r,"xAxis",i),d=w.useMemo(()=>{if(l!=null)return ck(ck({},s),{},{type:l})},[s,l]);return w.useLayoutEffect(()=>{d!=null&&(n.current===null?e(Uue(d)):n.current!==d&&e(que({prev:n.current,next:d})),n.current=d)},[d,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(Bue(n.current)),n.current=null)},[e]),null}var dme=t=>{var{xAxisId:e,className:n}=t,r=ke(TS),i=gr(),s="xAxis",l=ke(C=>m5(C,s,e,i)),d=ke(C=>u5(C,e)),f=ke(C=>yse(C,e)),m=ke(C=>R6(C,e));if(d==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:_}=t,x=Zw(t,ime),{id:S,scale:E}=m,A=Zw(m,ame);return w.createElement(DA,Xw({},x,A,{x:f.x,y:f.y,width:d.width,height:d.height,className:kt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},fme={allowDataOverflow:Un.allowDataOverflow,allowDecimals:Un.allowDecimals,allowDuplicatedCategory:Un.allowDuplicatedCategory,angle:Un.angle,axisLine:Ts.axisLine,height:Un.height,hide:!1,includeHidden:Un.includeHidden,interval:Un.interval,label:!1,minTickGap:Un.minTickGap,mirror:Un.mirror,orientation:Un.orientation,padding:Un.padding,reversed:Un.reversed,scale:Un.scale,tick:Un.tick,tickCount:Un.tickCount,tickLine:Ts.tickLine,tickSize:Ts.tickSize,type:Un.type,xAxisId:0},hme=t=>{var e=Ar(t,fme);return w.createElement(w.Fragment,null,w.createElement(ume,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),w.createElement(dme,e))},Jw=w.memo(hme,UV);Jw.displayName="XAxis";var mme=["type"],pme=["dangerouslySetInnerHTML","ticks","scale"],gme=["id","scale"];function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eE.apply(null,arguments)}function uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(n),!0).forEach(function(r){vme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vme(t,e,n){return(e=yme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yme(t){var e=_me(t,"string");return typeof e=="symbol"?e:e+""}function _me(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tE(t,e){if(t==null)return{};var n,r,i=bme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xme(t){var e=gn(),n=w.useRef(null),r=f3(),{type:i}=t,s=tE(t,mme),l=a0(r,"yAxis",i),d=w.useMemo(()=>{if(l!=null)return dk(dk({},s),{},{type:l})},[l,s]);return w.useLayoutEffect(()=>{d!=null&&(n.current===null?e($ue(d)):n.current!==d&&e(Fue({prev:n.current,next:d})),n.current=d)},[d,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(Hue(n.current)),n.current=null)},[e]),null}function wme(t){var{yAxisId:e,className:n,width:r,label:i}=t,s=w.useRef(null),l=w.useRef(null),d=ke(TS),f=gr(),m=gn(),p="yAxis",g=ke(L=>d5(L,e)),_=ke(L=>bse(L,e)),x=ke(L=>m5(L,p,e,f)),S=ke(L=>D6(L,e));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!g||PA(i)||w.isValidElement(i)||S==null)){var L=s.current;if(L){var P=L.getCalculatedWidth();Math.round(g.width)!==Math.round(P)&&m(Gue({id:e,width:P}))}}},[x,g,m,i,e,r,S]),g==null||_==null||S==null)return null;var{dangerouslySetInnerHTML:E,ticks:A,scale:C}=t,D=tE(t,pme),{id:k,scale:M}=S,V=tE(S,gme);return w.createElement(DA,eE({},D,V,{ref:s,labelRef:l,x:_.x,y:_.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:kt("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:x,axisType:p}))}var Eme={allowDataOverflow:qn.allowDataOverflow,allowDecimals:qn.allowDecimals,allowDuplicatedCategory:qn.allowDuplicatedCategory,angle:qn.angle,axisLine:Ts.axisLine,hide:!1,includeHidden:qn.includeHidden,interval:qn.interval,label:!1,minTickGap:qn.minTickGap,mirror:qn.mirror,orientation:qn.orientation,padding:qn.padding,reversed:qn.reversed,scale:qn.scale,tick:qn.tick,tickCount:qn.tickCount,tickLine:Ts.tickLine,tickSize:Ts.tickSize,type:qn.type,width:qn.width,yAxisId:0},Sme=t=>{var e=Ar(t,Eme);return w.createElement(w.Fragment,null,w.createElement(xme,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),w.createElement(wme,e))},nE=w.memo(Sme,UV);nE.displayName="YAxis";var Ame=(t,e)=>e,zA=ae([Ame,jt,P6,Qn,P5,Qs,koe,Kn],Boe),LA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},qV=Ri("mouseClick"),BV=sm();BV.startListening({actionCreator:qV,effect:(t,e)=>{var n=t.payload,r=zA(e.getState(),LA(n));r?.activeIndex!=null&&e.dispatch(Dse({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var rE=Ri("mouseMove"),$V=sm(),vg=null;$V.startListening({actionCreator:rE,effect:(t,e)=>{var n=t.payload;vg!==null&&cancelAnimationFrame(vg);var r=LA(n);vg=requestAnimationFrame(()=>{var i=e.getState(),s=_A(i,i.tooltip.settings.shared);if(s==="axis"){var l=zA(i,r);l?.activeIndex!=null?e.dispatch(w5({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(x5())}vg=null})}});function Tme(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var fk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},FV=Hr({name:"rootProps",initialState:fk,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:fk.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),jme=FV.reducer,{updateOptions:Nme}=FV.actions,Cme=null,Ome={updatePolarOptions:(t,e)=>e.payload},HV=Hr({name:"polarOptions",initialState:Cme,reducers:Ome}),{updatePolarOptions:$pe}=HV.actions,Pme=HV.reducer,GV=Ri("keyDown"),KV=Ri("focus"),VA=sm();VA.startListening({actionCreator:GV,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=bA(i,Pd(n),gm(n),ym(n)),d=l==null?-1:Number(l);if(!(!Number.isFinite(d)||d<0)){var f=Qs(n);if(s==="Enter"){var m=Bv(n,"axis","hover",String(i.index));e.dispatch($w({active:!i.active,activeIndex:i.index,activeCoordinate:m}));return}var p=Sse(n),g=p==="left-to-right"?1:-1,_=s==="ArrowRight"?1:-1,x=d+_*g;if(!(f==null||x>=f.length||x<0)){var S=Bv(n,"axis","hover",String(x));e.dispatch($w({active:!0,activeIndex:x.toString(),activeCoordinate:S}))}}}}}});VA.startListening({actionCreator:KV,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=Bv(n,"axis","hover",String(s));e.dispatch($w({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Ni=Ri("externalEvent"),WV=sm(),_1=new Map;WV.startListening({actionCreator:Ni,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=_1.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var d=e.getState(),f={activeCoordinate:_oe(d),activeDataKey:k5(d),activeIndex:Tc(d),activeLabel:D5(d),activeTooltipIndex:Tc(d),isTooltipActive:boe(d)};n(f,r)}finally{_1.delete(i)}});_1.set(i,l)}}});var Ime=ae([Cd],t=>t.tooltipItemPayloads),Rme=ae([Ime,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(s=>s.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),YV=Ri("touchMove"),QV=sm();QV.startListening({actionCreator:YV,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=_A(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var l=zA(r,LA({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(w5({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var d,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var m=document.elementFromPoint(f.clientX,f.clientY);if(!m||!m.getAttribute)return;var p=m.getAttribute(_ee),g=(d=m.getAttribute(bee))!==null&&d!==void 0?d:void 0,_=Od(r).find(E=>E.id===g);if(p==null||_==null||g==null)return;var{dataKey:x}=_,S=Rme(r,p,g);e.dispatch(b5({activeDataKey:x,activeIndex:p,activeCoordinate:S,activeGraphicalItemId:g}))}}}});var Dme=NL({brush:fde,cartesianAxis:Kue,chartData:_le,errorBars:sfe,graphicalItems:Aue,layout:tee,legend:dte,options:mle,polarAxis:Kce,polarOptions:Pme,referenceElements:gde,rootProps:jme,tooltip:kse,zIndex:nle}),kme=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return TJ({reducer:Dme,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([BV.middleware,$V.middleware,VA.middleware,WV.middleware,QV.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat($L({type:"raf"}))},devTools:{serialize:{replacer:Tme},name:"recharts-".concat(n)}})};function Mme(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=gr(),s=w.useRef(null);if(i)return n;s.current==null&&(s.current=kme(e,r));var l=_S;return w.createElement(kfe,{context:l,store:s.current},n)}function zme(t){var{layout:e,margin:n}=t,r=gn(),i=gr();return w.useEffect(()=>{i||(r(ZJ(e)),r(XJ(n)))},[r,i,e,n]),null}var Lme=w.memo(zme,g0);function Vme(t){var e=gn();return w.useEffect(()=>{e(Nme(t))},[e,t]),null}function hk(t){var{zIndex:e,isPanorama:n}=t,r=w.useRef(null),i=gn();return w.useLayoutEffect(()=>(r.current&&i(ele({zIndex:e,element:r.current,isPanorama:n})),()=>{i(tle({zIndex:e,isPanorama:n}))}),[i,e,n]),w.createElement("g",{tabIndex:-1,ref:r})}function mk(t){var{children:e,isPanorama:n}=t,r=ke(Foe);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return w.createElement(w.Fragment,null,i.map(l=>w.createElement(hk,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>w.createElement(hk,{key:l,zIndex:l,isPanorama:n})))}var Ume=["children"];function qme(t,e){if(t==null)return{};var n,r,i=Bme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qv(){return Qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qv.apply(null,arguments)}var $me={width:"100%",height:"100%",display:"block"},Fme=w.forwardRef((t,e)=>{var n=u3(),r=d3(),i=x3();if(!Ha(n)||!Ha(r))return null;var{children:s,otherAttributes:l,title:d,desc:f}=t,m,p;return l!=null&&(typeof l.tabIndex=="number"?m=l.tabIndex:m=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),w.createElement(Gz,Qv({},l,{title:d,desc:f,role:p,tabIndex:m,width:n,height:r,style:$me,ref:e}),s)}),Hme=t=>{var{children:e}=t,n=ke($y);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return w.createElement(Gz,{width:r,height:i,x:l,y:s},e)},pk=w.forwardRef((t,e)=>{var{children:n}=t,r=qme(t,Ume),i=gr();return i?w.createElement(Hme,null,w.createElement(mk,{isPanorama:!0},n)):w.createElement(Fme,Qv({ref:e},r),w.createElement(mk,{isPanorama:!1},n))});function Gme(){var t=gn(),[e,n]=w.useState(null),r=ke(yee);return w.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;dt(s)&&s!==r&&t(eee(s))}},[e,t,r]),n}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){Wme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wme(t,e,n){return(e=Yme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yme(t){var e=Qme(t,"string");return typeof e=="symbol"?e:e+""}function Qme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zo(){return Zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zo.apply(null,arguments)}var Xme=()=>(Nle(),null);function Xv(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Zme=w.forwardRef((t,e)=>{var n,r,i=w.useRef(null),[s,l]=w.useState({containerWidth:Xv((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Xv((r=t.style)===null||r===void 0?void 0:r.height)}),d=w.useCallback((m,p)=>{l(g=>{var _=Math.round(m),x=Math.round(p);return g.containerWidth===_&&g.containerHeight===x?g:{containerWidth:_,containerHeight:x}})},[]),f=w.useCallback(m=>{if(typeof e=="function"&&e(m),m!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=m.getBoundingClientRect();d(p,g);var _=S=>{var E=S[0];if(E!=null){var{width:A,height:C}=E.contentRect;d(A,C)}},x=new ResizeObserver(_);x.observe(m),i.current=x}},[e,d]);return w.useEffect(()=>()=>{var m=i.current;m?.disconnect()},[d]),w.createElement(w.Fragment,null,w.createElement(lm,{width:s.containerWidth,height:s.containerHeight}),w.createElement("div",Zo({ref:f},t)))}),Jme=w.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=w.useState({containerWidth:Xv(n),containerHeight:Xv(r)}),l=w.useCallback((f,m)=>{s(p=>{var g=Math.round(f),_=Math.round(m);return p.containerWidth===g&&p.containerHeight===_?p:{containerWidth:g,containerHeight:_}})},[]),d=w.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:m,height:p}=f.getBoundingClientRect();l(m,p)}},[e,l]);return w.createElement(w.Fragment,null,w.createElement(lm,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",Zo({ref:d},t)))}),epe=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return w.createElement(w.Fragment,null,w.createElement(lm,{width:n,height:r}),w.createElement("div",Zo({ref:e},t)))}),tpe=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?w.createElement(Jme,Zo({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?w.createElement(epe,Zo({},t,{width:n,height:r,ref:e})):w.createElement(w.Fragment,null,w.createElement(lm,{width:n,height:r}),w.createElement("div",Zo({ref:e},t)))});function npe(t){return t?Zme:tpe}var rpe=w.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:d,onMouseDown:f,onMouseEnter:m,onMouseLeave:p,onMouseMove:g,onMouseUp:_,onTouchEnd:x,onTouchMove:S,onTouchStart:E,style:A,width:C,responsive:D,dispatchTouchEvents:k=!0}=t,M=w.useRef(null),V=gn(),[L,P]=w.useState(null),[O,I]=w.useState(null),$=Gme(),q=jS(),z=q?.width>0?q.width:C,B=q?.height>0?q.height:i,be=w.useCallback(ie=>{$(ie),typeof e=="function"&&e(ie),P(ie),I(ie),ie!=null&&(M.current=ie)},[$,e,P,I]),Se=w.useCallback(ie=>{V(qV(ie)),V(Ni({handler:s,reactEvent:ie}))},[V,s]),W=w.useCallback(ie=>{V(rE(ie)),V(Ni({handler:m,reactEvent:ie}))},[V,m]),le=w.useCallback(ie=>{V(x5()),V(Ni({handler:p,reactEvent:ie}))},[V,p]),ve=w.useCallback(ie=>{V(rE(ie)),V(Ni({handler:g,reactEvent:ie}))},[V,g]),xe=w.useCallback(()=>{V(KV())},[V]),we=w.useCallback(ie=>{V(GV(ie.key))},[V]),F=w.useCallback(ie=>{V(Ni({handler:l,reactEvent:ie}))},[V,l]),ne=w.useCallback(ie=>{V(Ni({handler:d,reactEvent:ie}))},[V,d]),pe=w.useCallback(ie=>{V(Ni({handler:f,reactEvent:ie}))},[V,f]),_e=w.useCallback(ie=>{V(Ni({handler:_,reactEvent:ie}))},[V,_]),Q=w.useCallback(ie=>{V(Ni({handler:E,reactEvent:ie}))},[V,E]),K=w.useCallback(ie=>{k&&V(YV(ie)),V(Ni({handler:S,reactEvent:ie}))},[V,k,S]),ye=w.useCallback(ie=>{V(Ni({handler:x,reactEvent:ie}))},[V,x]),Le=npe(D);return w.createElement(B5.Provider,{value:L},w.createElement(sX.Provider,{value:O},w.createElement(Le,{width:z??A?.width,height:B??A?.height,className:kt("recharts-wrapper",r),style:Kme({position:"relative",cursor:"default",width:z,height:B},A),onClick:Se,onContextMenu:F,onDoubleClick:ne,onFocus:xe,onKeyDown:we,onMouseDown:pe,onMouseEnter:W,onMouseLeave:le,onMouseMove:ve,onMouseUp:_e,onTouchEnd:ye,onTouchMove:K,onTouchStart:Q,ref:be},w.createElement(Xme,null),n)))}),ipe=["width","height","responsive","children","className","style","compact","title","desc"];function ape(t,e){if(t==null)return{};var n,r,i=spe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function spe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ope=w.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:d,compact:f,title:m,desc:p}=t,g=ape(t,ipe),_=sa(g);return f?w.createElement(w.Fragment,null,w.createElement(lm,{width:n,height:r}),w.createElement(pk,{otherAttributes:_,title:m,desc:p},s)):w.createElement(rpe,{className:l,style:d,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(pk,{otherAttributes:_,title:m,desc:p,ref:e},w.createElement(yde,null,s)))});function iE(){return iE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iE.apply(null,arguments)}var lpe={top:5,right:5,bottom:5,left:5},cpe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:lpe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},XV=w.forwardRef(function(e,n){var r,i=Ar(e.categoricalChartProps,cpe),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:m}=e,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return w.createElement(Mme,{preloadedState:{options:p},reduxStoreName:(r=m.id)!==null&&r!==void 0?r:s},w.createElement(dde,{chartData:m.data}),w.createElement(Lme,{layout:i.layout,margin:i.margin}),w.createElement(Vme,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(ope,iE({},i,{ref:n})))}),upe=["axis"],dpe=w.forwardRef((t,e)=>w.createElement(XV,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:upe,tooltipPayloadSearcher:$5,categoricalChartProps:t,ref:e})),fpe=["axis","item"],hpe=w.forwardRef((t,e)=>w.createElement(XV,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fpe,tooltipPayloadSearcher:$5,categoricalChartProps:t,ref:e}));const mpe=()=>{const t=dl(),{currentUser:e}=ca(),[n,r]=w.useState(null),[i,s]=w.useState([]),[l,d]=w.useState([]),[f,m]=w.useState([]),[p,g]=w.useState([]),[_,x]=w.useState([]),[S,E]=w.useState(!0),[A,C]=w.useState("overview");if(w.useEffect(()=>{(async()=>{if(e){E(!0);try{const[L,P,O,I,$]=await Promise.all([HQ(e.uid),GQ(e.uid),KQ(e.uid,20),Ay(e.uid,10),Lz().catch(()=>[])]);r(L),s(P),d(O),m(I),g($);const q=WQ(L,P);x(q)}catch(L){console.error("Erreur chargement dashboard :",L)}finally{E(!1)}}})()},[e]),S)return c.jsxs("div",{className:"sd-loading",children:[c.jsx("div",{className:"admin-spinner"}),c.jsx("p",{children:"Chargement de votre tableau de bord..."})]});const D=_.filter(V=>V.obtenu),k=_.length,M=e?.displayName||e?.email?.split("@")[0]||"lve";return c.jsxs("div",{className:"student-dashboard",children:[c.jsxs("div",{className:"sd-welcome",children:[c.jsxs("div",{className:"sd-welcome-text",children:[c.jsxs("h1",{children:["Bienvenue, ",M," "]}),c.jsx("p",{children:n&&n.totalQuizPasses>0?`Vous avez pass ${n.totalQuizPasses} quiz${n.totalQuizPasses>1,""} avec une moyenne de ${n.moyenneGenerale}%. Continuez !`:"Commencez par passer votre premier quiz pour suivre votre progression !"})]}),e?.isPremium&&c.jsxs("span",{className:"sd-premium-badge",children:[c.jsx(oi,{size:14})," Premium"]})]}),c.jsxs("div",{className:"sd-stats-grid",children:[c.jsxs("div",{className:"sd-stat-card",children:[c.jsx("div",{className:"sd-stat-icon",style:{background:"#eff6ff",color:"#3b82f6"},children:c.jsx(ea,{size:22})}),c.jsxs("div",{className:"sd-stat-content",children:[c.jsx("span",{className:"sd-stat-value",children:n?.totalQuizPasses||0}),c.jsx("span",{className:"sd-stat-label",children:"Quiz passs"})]})]}),c.jsxs("div",{className:"sd-stat-card",children:[c.jsx("div",{className:"sd-stat-icon",style:{background:"#f0fdf4",color:"#10b981"},children:c.jsx(dO,{size:22})}),c.jsxs("div",{className:"sd-stat-content",children:[c.jsxs("span",{className:"sd-stat-value",style:{color:Lu(n?.moyenneGenerale||0)},children:[n?.moyenneGenerale||0,"%"]}),c.jsx("span",{className:"sd-stat-label",children:"Moyenne gnrale"})]})]}),c.jsxs("div",{className:"sd-stat-card",children:[c.jsx("div",{className:"sd-stat-icon",style:{background:"#fefce8",color:"#f59e0b"},children:c.jsx(Dz,{size:22})}),c.jsxs("div",{className:"sd-stat-content",children:[c.jsxs("span",{className:"sd-stat-value",children:[n?.meilleurScore||0,"%"]}),c.jsx("span",{className:"sd-stat-label",children:"Meilleur score"})]})]}),c.jsxs("div",{className:"sd-stat-card",children:[c.jsx("div",{className:"sd-stat-icon",style:{background:"#fef2f2",color:"#ef4444"},children:c.jsx(kz,{size:22})}),c.jsxs("div",{className:"sd-stat-content",children:[c.jsx("span",{className:"sd-stat-value",children:n?.serieReussites||0}),c.jsx("span",{className:"sd-stat-label",children:"Srie en cours "})]})]})]}),c.jsxs("div",{className:"sd-tabs",children:[c.jsxs("button",{className:`sd-tab ${A==="overview"?"active":""}`,onClick:()=>C("overview"),children:[c.jsx(Q1,{size:16})," Vue d'ensemble"]}),c.jsxs("button",{className:`sd-tab ${A==="history"?"active":""}`,onClick:()=>C("history"),children:[c.jsx(Db,{size:16})," Historique"]}),c.jsxs("button",{className:`sd-tab ${A==="badges"?"active":""}`,onClick:()=>C("badges"),children:[c.jsx(_c,{size:16})," Badges (",D.length,"/",k,")"]})]}),A==="overview"&&c.jsxs("div",{className:"sd-overview",children:[l.length>1&&c.jsxs("div",{className:"sd-chart-card",children:[c.jsxs("h3",{className:"sd-section-title",children:[c.jsx(nw,{size:18})," volution de vos scores"]}),c.jsx("div",{className:"sd-chart-container",children:c.jsx(tI,{width:"100%",height:280,children:c.jsxs(dpe,{data:l,children:[c.jsx(Ww,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),c.jsx(Jw,{dataKey:"date",tick:{fontSize:12,fill:"#6b7280"},tickLine:!1}),c.jsx(nE,{domain:[0,100],tick:{fontSize:12,fill:"#6b7280"},tickLine:!1,unit:"%"}),c.jsx(lD,{formatter:V=>[`${V}%`,"Score"],labelFormatter:V=>`Date : ${V}`,contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb",boxShadow:"0 4px 6px rgba(0,0,0,0.07)"}}),c.jsx(DV,{type:"monotone",dataKey:"score",stroke:"#3b82f6",strokeWidth:2.5,dot:{r:4,fill:"#3b82f6",stroke:"#fff",strokeWidth:2},activeDot:{r:6}})]})})})]}),i.length>0&&c.jsxs("div",{className:"sd-chart-card",children:[c.jsxs("h3",{className:"sd-section-title",children:[c.jsx(Q1,{size:18})," Progression par discipline"]}),c.jsx("div",{className:"sd-chart-container",children:c.jsx(tI,{width:"100%",height:280,children:c.jsxs(hpe,{data:i,layout:"vertical",children:[c.jsx(Ww,{strokeDasharray:"3 3",stroke:"#e5e7eb",horizontal:!1}),c.jsx(Jw,{type:"number",domain:[0,100],tick:{fontSize:12,fill:"#6b7280"},unit:"%"}),c.jsx(nE,{type:"category",dataKey:"disciplineNom",width:120,tick:{fontSize:12,fill:"#374151"}}),c.jsx(lD,{formatter:V=>[`${V}%`,"Moyenne"],contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb",boxShadow:"0 4px 6px rgba(0,0,0,0.07)"}}),c.jsx(VV,{dataKey:"moyenne",radius:[0,6,6,0],barSize:24,children:i.map((V,L)=>c.jsx(CA,{fill:Lu(V.moyenne)},L))})]})})}),c.jsx("div",{className:"sd-disc-list",children:i.map(V=>c.jsxs("div",{className:"sd-disc-card",children:[c.jsxs("div",{className:"sd-disc-header",children:[c.jsx("span",{className:"sd-disc-name",children:V.disciplineNom}),c.jsxs("span",{className:"sd-disc-tendance",children:[V.tendance==="up"&&c.jsx(nw,{size:16,className:"tendance-up"}),V.tendance==="down"&&c.jsx(MY,{size:16,className:"tendance-down"}),V.tendance==="stable"&&c.jsx(hY,{size:16,className:"tendance-stable"})]})]}),c.jsxs("div",{className:"sd-disc-stats",children:[c.jsxs("div",{className:"sd-disc-stat",children:[c.jsxs("span",{className:"sd-disc-stat-value",style:{color:Lu(V.moyenne)},children:[V.moyenne,"%"]}),c.jsx("span",{className:"sd-disc-stat-label",children:"Moyenne"})]}),c.jsxs("div",{className:"sd-disc-stat",children:[c.jsx("span",{className:"sd-disc-stat-value",children:V.nombreQuiz}),c.jsx("span",{className:"sd-disc-stat-label",children:"Quiz"})]}),c.jsxs("div",{className:"sd-disc-stat",children:[c.jsxs("span",{className:"sd-disc-stat-value",children:[V.meilleurScore,"%"]}),c.jsx("span",{className:"sd-disc-stat-label",children:"Meilleur"})]}),c.jsxs("div",{className:"sd-disc-stat",children:[c.jsxs("span",{className:"sd-disc-stat-value",children:[V.quizReussis,"/",V.nombreQuiz]}),c.jsx("span",{className:"sd-disc-stat-label",children:"Russis"})]})]}),c.jsx("div",{className:"sd-disc-bar",children:c.jsx("div",{className:"sd-disc-bar-fill",style:{width:`${V.moyenne}%`,background:Lu(V.moyenne)}})})]},V.disciplineId))})]}),p.length>0&&c.jsxs("div",{className:"sd-chart-card",children:[c.jsxs("h3",{className:"sd-section-title",children:[c.jsx(ch,{size:18})," Quiz disponibles"]}),c.jsx("div",{className:"sd-quiz-grid",children:p.slice(0,6).map(V=>{const L=V.isPremium&&!e?.isPremium;return c.jsxs("div",{className:`sd-quiz-card ${L?"locked":""}`,onClick:()=>!L&&t(`/quiz/${V.id}`),children:[V.isPremium&&c.jsxs("span",{className:"sd-quiz-badge-premium",children:[L?c.jsx(tw,{size:10}):c.jsx(oi,{size:10})," Premium"]}),c.jsx("h4",{className:"sd-quiz-title",children:V.titre}),c.jsxs("div",{className:"sd-quiz-meta",children:[c.jsxs("span",{children:[c.jsx(ea,{size:12})," ",V.questions.length," questions"]}),c.jsxs("span",{children:[c.jsx(id,{size:12})," ",V.duree," min"]})]}),!L&&c.jsxs("button",{className:"sd-quiz-play-btn",children:[c.jsx(ch,{size:14})," Commencer"]}),L&&c.jsxs("button",{className:"sd-quiz-unlock-btn",onClick:P=>{P.stopPropagation(),t("/premium")},children:[c.jsx(tw,{size:14})," Dbloquer"]})]},V.id)})})]}),n&&n.totalQuizPasses===0&&c.jsxs("div",{className:"sd-empty-state",children:[c.jsx(dO,{size:48}),c.jsx("h3",{children:"Commencez votre parcours !"}),c.jsx("p",{children:"Passez votre premier quiz pour voir votre progression ici."}),p.length>0&&c.jsxs("button",{className:"sd-btn sd-btn-primary",onClick:()=>t(`/quiz/${p[0].id}`),children:[c.jsx(ch,{size:18})," Passer un quiz"]})]})]}),A==="history"&&c.jsx("div",{className:"sd-history",children:f.length===0?c.jsxs("div",{className:"sd-empty-state",children:[c.jsx(Db,{size:48}),c.jsx("h3",{children:"Aucun quiz pass"}),c.jsx("p",{children:"Votre historique apparatra ici aprs avoir pass des quiz."})]}):c.jsx("div",{className:"sd-history-list",children:f.map(V=>{const L=V.datePassage?.toDate?V.datePassage.toDate():new Date(V.datePassage);return c.jsxs("div",{className:`sd-history-item ${V.reussi?"success":"fail"}`,children:[c.jsx("div",{className:`sd-history-icon ${V.reussi?"success":"fail"}`,children:V.reussi?c.jsx(hn,{size:20}):c.jsx(Z1,{size:20})}),c.jsxs("div",{className:"sd-history-content",children:[c.jsxs("div",{className:"sd-history-top",children:[c.jsx("span",{className:"sd-history-title",children:V.quizTitre}),c.jsx("span",{className:"sd-history-discipline",children:V.disciplineNom})]}),c.jsxs("div",{className:"sd-history-meta",children:[c.jsxs("span",{children:[c.jsx(Db,{size:12}),L.toLocaleDateString("fr-SN",{day:"2-digit",month:"long",year:"numeric"})]}),c.jsxs("span",{children:[c.jsx(id,{size:12})," ",qz(V.tempsEcoule)]}),c.jsxs("span",{children:[c.jsx(hn,{size:12})," ",V.bonnesReponses,"/",V.nombreQuestions]})]})]}),c.jsxs("div",{className:"sd-history-score",style:{color:Lu(V.pourcentage)},children:[c.jsxs("span",{className:"sd-history-score-value",children:[V.pourcentage,"%"]}),c.jsx("span",{className:"sd-history-score-label",children:Bz(V.pourcentage)})]})]},V.id)})})}),A==="badges"&&c.jsxs("div",{className:"sd-badges",children:[c.jsxs("div",{className:"sd-badges-summary",children:[c.jsxs("div",{className:"sd-badges-circle",children:[c.jsx("span",{className:"sd-badges-count",children:D.length}),c.jsxs("span",{className:"sd-badges-total",children:["/ ",k]})]}),c.jsx("p",{children:"badges obtenus"}),c.jsx("div",{className:"sd-badges-progress",children:c.jsx("div",{className:"sd-badges-progress-fill",style:{width:`${D.length/k*100}%`}})})]}),c.jsx("div",{className:"sd-badges-grid",children:_.map(V=>c.jsxs("div",{className:`sd-badge-card ${V.obtenu?"obtained":"locked"}`,children:[c.jsx("span",{className:"sd-badge-icon",children:V.icone}),c.jsx("h4",{className:"sd-badge-name",children:V.nom}),c.jsx("p",{className:"sd-badge-description",children:V.description}),c.jsx("span",{className:"sd-badge-condition",children:V.condition}),V.obtenu&&c.jsx("span",{className:"sd-badge-obtained-tag",children:" Obtenu"})]},V.id))})]})]})},ppe=()=>c.jsx(yW,{children:c.jsxs(Iq,{children:[c.jsx(ur,{path:"/",element:c.jsx(Nu,{children:c.jsx(eQ,{})})}),c.jsx(ur,{path:"/disciplines",element:c.jsx(Nu,{children:c.jsx(sQ,{})})}),c.jsx(ur,{path:"/disciplines/:id",element:c.jsx(Nu,{children:c.jsx(bQ,{})})}),c.jsx(ur,{path:"/premium",element:c.jsx(Nu,{children:c.jsx(EQ,{})})}),c.jsx(ur,{path:"/connexion",element:c.jsx(tQ,{})}),c.jsx(ur,{path:"/inscription",element:c.jsx(nQ,{})}),c.jsx(ur,{path:"/admin",element:c.jsx(ju,{children:c.jsx(Cu,{currentPage:"dashboard",children:c.jsx(AQ,{})})})}),c.jsx(ur,{path:"/admin/disciplines",element:c.jsx(ju,{children:c.jsx(Cu,{currentPage:"disciplines",children:c.jsx(jQ,{})})})}),c.jsx(ur,{path:"/admin/chapitres",element:c.jsx(ju,{children:c.jsx(Cu,{currentPage:"chapitres",children:c.jsx(NQ,{})})})}),c.jsx(ur,{path:"/admin/ressources",element:c.jsx(ju,{children:c.jsx(Cu,{currentPage:"ressources",children:c.jsx(CQ,{})})})}),c.jsx(ur,{path:"/admin/quiz",element:c.jsx(ju,{children:c.jsx(Cu,{currentPage:"quiz",children:c.jsx(kQ,{})})})}),c.jsx(ur,{path:"/admin/utilisateurs",element:c.jsx(ju,{children:c.jsx(Cu,{currentPage:"utilisateurs",children:c.jsx($Q,{})})})}),c.jsx(ur,{path:"/eleve/dashboard",element:c.jsx(Nu,{children:c.jsx(mpe,{})})}),c.jsx(ur,{path:"/quiz/:quizId",element:c.jsx(Nu,{children:c.jsx(YQ,{})})}),c.jsx(ur,{path:"*",element:c.jsx(Oq,{to:"/",replace:!0})})]})}),ZV=document.getElementById("root");if(!ZV)throw new Error("L'lment #root n'existe pas");const gpe=V9.createRoot(ZV);gpe.render(c.jsx(vk.StrictMode,{children:c.jsx(Vq,{children:c.jsx(ppe,{})})}));
//# sourceMappingURL=index-C18bkB8s.js.map
