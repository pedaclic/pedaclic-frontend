function YV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function es(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var __={exports:{}},kf={};var EC;function XV(){if(EC)return kf;EC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var c=null;if(s!==void 0&&(c=""+s),i.key!==void 0&&(c=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:c,ref:i!==void 0?i:null,props:s}}return kf.Fragment=e,kf.jsx=n,kf.jsxs=n,kf}var NC;function ZV(){return NC||(NC=1,__.exports=XV()),__.exports}var o=ZV(),x_={exports:{}},We={};var SC;function JV(){if(SC)return We;SC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function _(F){return F===null||typeof F!="object"?null:(F=y&&F[y]||F["@@iterator"],typeof F=="function"?F:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function A(F,ne,pe){this.props=F,this.context=ne,this.refs=N,this.updater=pe||E}A.prototype.isReactComponent={},A.prototype.setState=function(F,ne){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ne,"setState")},A.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function D(){}D.prototype=A.prototype;function I(F,ne,pe){this.props=F,this.context=ne,this.refs=N,this.updater=pe||E}var O=I.prototype=new D;O.constructor=I,j(O,A.prototype),O.isPureReactComponent=!0;var V=Array.isArray;function B(){}var k={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function R(F,ne,pe){var we=pe.ref;return{$$typeof:t,type:F,key:ne,ref:we!==void 0?we:null,props:pe}}function U(F,ne){return R(F.type,ne,F.props)}function L(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function z(F){var ne={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(pe){return ne[pe]})}var M=/\/+/g;function Q(F,ne){return typeof F=="object"&&F!==null&&F.key!=null?z(""+F.key):ne.toString(36)}function W(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(B,B):(F.status="pending",F.then(function(ne){F.status==="pending"&&(F.status="fulfilled",F.value=ne)},function(ne){F.status==="pending"&&(F.status="rejected",F.reason=ne)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function G(F,ne,pe,we,J){var H=typeof F;(H==="undefined"||H==="boolean")&&(F=null);var de=!1;if(F===null)de=!0;else switch(H){case"bigint":case"string":case"number":de=!0;break;case"object":switch(F.$$typeof){case t:case e:de=!0;break;case p:return de=F._init,G(de(F._payload),ne,pe,we,J)}}if(de)return J=J(F),de=we===""?"."+Q(F,0):we,V(J)?(pe="",de!=null&&(pe=de.replace(M,"$&/")+"/"),G(J,ne,pe,"",function(Ee){return Ee})):J!=null&&(L(J)&&(J=U(J,pe+(J.key==null||F&&F.key===J.key?"":(""+J.key).replace(M,"$&/")+"/")+de)),ne.push(J)),1;de=0;var Ce=we===""?".":we+":";if(V(F))for(var ie=0;ie<F.length;ie++)we=F[ie],H=Ce+Q(we,ie),de+=G(we,ne,pe,H,J);else if(ie=_(F),typeof ie=="function")for(F=ie.call(F),ie=0;!(we=F.next()).done;)we=we.value,H=Ce+Q(we,ie++),de+=G(we,ne,pe,H,J);else if(H==="object"){if(typeof F.then=="function")return G(W(F),ne,pe,we,J);throw ne=String(F),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return de}function le(F,ne,pe){if(F==null)return F;var we=[],J=0;return G(F,we,"","",function(H){return ne.call(pe,H,J++)}),we}function be(F){if(F._status===-1){var ne=F._result;ne=ne(),ne.then(function(pe){(F._status===0||F._status===-1)&&(F._status=1,F._result=pe)},function(pe){(F._status===0||F._status===-1)&&(F._status=2,F._result=pe)}),F._status===-1&&(F._status=0,F._result=ne)}if(F._status===1)return F._result.default;throw F._result}var je=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},X={map:le,forEach:function(F,ne,pe){le(F,function(){ne.apply(this,arguments)},pe)},count:function(F){var ne=0;return le(F,function(){ne++}),ne},toArray:function(F){return le(F,function(ne){return ne})||[]},only:function(F){if(!L(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return We.Activity=g,We.Children=X,We.Component=A,We.Fragment=n,We.Profiler=i,We.PureComponent=I,We.StrictMode=r,We.Suspense=f,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,We.__COMPILER_RUNTIME={__proto__:null,c:function(F){return k.H.useMemoCache(F)}},We.cache=function(F){return function(){return F.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(F,ne,pe){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var we=j({},F.props),J=F.key;if(ne!=null)for(H in ne.key!==void 0&&(J=""+ne.key),ne)!C.call(ne,H)||H==="key"||H==="__self"||H==="__source"||H==="ref"&&ne.ref===void 0||(we[H]=ne[H]);var H=arguments.length-2;if(H===1)we.children=pe;else if(1<H){for(var de=Array(H),Ce=0;Ce<H;Ce++)de[Ce]=arguments[Ce+2];we.children=de}return R(F.type,J,we)},We.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},We.createElement=function(F,ne,pe){var we,J={},H=null;if(ne!=null)for(we in ne.key!==void 0&&(H=""+ne.key),ne)C.call(ne,we)&&we!=="key"&&we!=="__self"&&we!=="__source"&&(J[we]=ne[we]);var de=arguments.length-2;if(de===1)J.children=pe;else if(1<de){for(var Ce=Array(de),ie=0;ie<de;ie++)Ce[ie]=arguments[ie+2];J.children=Ce}if(F&&F.defaultProps)for(we in de=F.defaultProps,de)J[we]===void 0&&(J[we]=de[we]);return R(F,H,J)},We.createRef=function(){return{current:null}},We.forwardRef=function(F){return{$$typeof:u,render:F}},We.isValidElement=L,We.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:be}},We.memo=function(F,ne){return{$$typeof:h,type:F,compare:ne===void 0?null:ne}},We.startTransition=function(F){var ne=k.T,pe={};k.T=pe;try{var we=F(),J=k.S;J!==null&&J(pe,we),typeof we=="object"&&we!==null&&typeof we.then=="function"&&we.then(B,je)}catch(H){je(H)}finally{ne!==null&&pe.types!==null&&(ne.types=pe.types),k.T=ne}},We.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},We.use=function(F){return k.H.use(F)},We.useActionState=function(F,ne,pe){return k.H.useActionState(F,ne,pe)},We.useCallback=function(F,ne){return k.H.useCallback(F,ne)},We.useContext=function(F){return k.H.useContext(F)},We.useDebugValue=function(){},We.useDeferredValue=function(F,ne){return k.H.useDeferredValue(F,ne)},We.useEffect=function(F,ne){return k.H.useEffect(F,ne)},We.useEffectEvent=function(F){return k.H.useEffectEvent(F)},We.useId=function(){return k.H.useId()},We.useImperativeHandle=function(F,ne,pe){return k.H.useImperativeHandle(F,ne,pe)},We.useInsertionEffect=function(F,ne){return k.H.useInsertionEffect(F,ne)},We.useLayoutEffect=function(F,ne){return k.H.useLayoutEffect(F,ne)},We.useMemo=function(F,ne){return k.H.useMemo(F,ne)},We.useOptimistic=function(F,ne){return k.H.useOptimistic(F,ne)},We.useReducer=function(F,ne,pe){return k.H.useReducer(F,ne,pe)},We.useRef=function(F){return k.H.useRef(F)},We.useState=function(F){return k.H.useState(F)},We.useSyncExternalStore=function(F,ne,pe){return k.H.useSyncExternalStore(F,ne,pe)},We.useTransition=function(){return k.H.useTransition()},We.version="19.2.4",We}var AC;function gd(){return AC||(AC=1,x_.exports=JV()),x_.exports}var w=gd();const zD=es(w),LD=YV({__proto__:null,default:zD},[w]);var w_={exports:{}},Df={},j_={exports:{}},E_={};var TC;function e9(){return TC||(TC=1,(function(t){function e(G,le){var be=G.length;G.push(le);e:for(;0<be;){var je=be-1>>>1,X=G[je];if(0<i(X,le))G[je]=le,G[be]=X,be=je;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var le=G[0],be=G.pop();if(be!==le){G[0]=be;e:for(var je=0,X=G.length,F=X>>>1;je<F;){var ne=2*(je+1)-1,pe=G[ne],we=ne+1,J=G[we];if(0>i(pe,be))we<X&&0>i(J,pe)?(G[je]=J,G[we]=be,je=we):(G[je]=pe,G[ne]=be,je=ne);else if(we<X&&0>i(J,be))G[je]=J,G[we]=be,je=we;else break e}}return le}function i(G,le){var be=G.sortIndex-le.sortIndex;return be!==0?be:G.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],h=[],p=1,g=null,y=3,_=!1,E=!1,j=!1,N=!1,A=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function O(G){for(var le=n(h);le!==null;){if(le.callback===null)r(h);else if(le.startTime<=G)r(h),le.sortIndex=le.expirationTime,e(f,le);else break;le=n(h)}}function V(G){if(j=!1,O(G),!E)if(n(f)!==null)E=!0,B||(B=!0,z());else{var le=n(h);le!==null&&W(V,le.startTime-G)}}var B=!1,k=-1,C=5,R=-1;function U(){return N?!0:!(t.unstable_now()-R<C)}function L(){if(N=!1,B){var G=t.unstable_now();R=G;var le=!0;try{e:{E=!1,j&&(j=!1,D(k),k=-1),_=!0;var be=y;try{t:{for(O(G),g=n(f);g!==null&&!(g.expirationTime>G&&U());){var je=g.callback;if(typeof je=="function"){g.callback=null,y=g.priorityLevel;var X=je(g.expirationTime<=G);if(G=t.unstable_now(),typeof X=="function"){g.callback=X,O(G),le=!0;break t}g===n(f)&&r(f),O(G)}else r(f);g=n(f)}if(g!==null)le=!0;else{var F=n(h);F!==null&&W(V,F.startTime-G),le=!1}}break e}finally{g=null,y=be,_=!1}le=void 0}}finally{le?z():B=!1}}}var z;if(typeof I=="function")z=function(){I(L)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Q=M.port2;M.port1.onmessage=L,z=function(){Q.postMessage(null)}}else z=function(){A(L,0)};function W(G,le){k=A(function(){G(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(G){switch(y){case 1:case 2:case 3:var le=3;break;default:le=y}var be=y;y=le;try{return G()}finally{y=be}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(G,le){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var be=y;y=G;try{return le()}finally{y=be}},t.unstable_scheduleCallback=function(G,le,be){var je=t.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?je+be:je):be=je,G){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=be+X,G={id:p++,callback:le,priorityLevel:G,startTime:be,expirationTime:X,sortIndex:-1},be>je?(G.sortIndex=be,e(h,G),n(f)===null&&G===n(h)&&(j?(D(k),k=-1):j=!0,W(V,be-je))):(G.sortIndex=X,e(f,G),E||_||(E=!0,B||(B=!0,z()))),G},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(G){var le=y;return function(){var be=y;y=le;try{return G.apply(this,arguments)}finally{y=be}}}})(E_)),E_}var CC;function t9(){return CC||(CC=1,j_.exports=e9()),j_.exports}var N_={exports:{}},gr={};var OC;function n9(){if(OC)return gr;OC=1;var t=gd();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return gr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},gr.flushSync=function(f){var h=c.T,p=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=h,r.p=p,r.d.f()}},gr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},gr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},gr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:_}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},gr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},gr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},gr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},gr.requestFormReset=function(f){r.d.r(f)},gr.unstable_batchedUpdates=function(f,h){return f(h)},gr.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},gr.useFormStatus=function(){return c.H.useHostTransitionStatus()},gr.version="19.2.4",gr}var PC;function qD(){if(PC)return N_.exports;PC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),N_.exports=n9(),N_.exports}var IC;function r9(){if(IC)return Df;IC=1;var t=t9(),e=gd(),n=qD();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function c(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function h(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(r(188));return l!==a?null:a}for(var d=a,m=l;;){var b=d.return;if(b===null)break;var x=b.alternate;if(x===null){if(m=b.return,m!==null){d=m;continue}break}if(b.child===x.child){for(x=b.child;x;){if(x===d)return f(b),a;if(x===m)return f(b),l;x=x.sibling}throw Error(r(188))}if(d.return!==m.return)d=b,m=x;else{for(var T=!1,q=b.child;q;){if(q===d){T=!0,d=b,m=x;break}if(q===m){T=!0,m=b,d=x;break}q=q.sibling}if(!T){for(q=x.child;q;){if(q===d){T=!0,d=x,m=b;break}if(q===m){T=!0,m=x,d=b;break}q=q.sibling}if(!T)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:l}function p(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=p(a),l!==null)return l;a=a.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),I=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function z(a){return a===null||typeof a!="object"?null:(a=L&&a[L]||a["@@iterator"],typeof a=="function"?a:null)}var M=Symbol.for("react.client.reference");function Q(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===M?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case j:return"Fragment";case A:return"Profiler";case N:return"StrictMode";case V:return"Suspense";case B:return"SuspenseList";case R:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case E:return"Portal";case I:return a.displayName||"Context";case D:return(a._context.displayName||"Context")+".Consumer";case O:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case k:return l=a.displayName||null,l!==null?l:Q(a.type)||"Memo";case C:l=a._payload,a=a._init;try{return Q(a(l))}catch{}}return null}var W=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},je=[],X=-1;function F(a){return{current:a}}function ne(a){0>X||(a.current=je[X],je[X]=null,X--)}function pe(a,l){X++,je[X]=a.current,a.current=l}var we=F(null),J=F(null),H=F(null),de=F(null);function Ce(a,l){switch(pe(H,l),pe(J,a),pe(we,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?KT(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=KT(l),a=QT(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ne(we),pe(we,a)}function ie(){ne(we),ne(J),ne(H)}function Ee(a){a.memoizedState!==null&&pe(de,a);var l=we.current,d=QT(l,a.type);l!==d&&(pe(J,a),pe(we,d))}function Z(a){J.current===a&&(ne(we),ne(J)),de.current===a&&(ne(de),Of._currentValue=be)}var ge,De;function $e(a){if(ge===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);ge=l&&l[1]||"",De=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+a+De}var st=!1;function ft(a,l){if(!a||st)return"";st=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(fe){var oe=fe}Reflect.construct(a,[],_e)}else{try{_e.call()}catch(fe){oe=fe}a.call(_e.prototype)}}else{try{throw Error()}catch(fe){oe=fe}(_e=a())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(fe){if(fe&&oe&&typeof fe.stack=="string")return[fe.stack,oe.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),T=x[0],q=x[1];if(T&&q){var K=T.split(`
`),se=q.split(`
`);for(b=m=0;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;for(;b<se.length&&!se[b].includes("DetermineComponentFrameRoot");)b++;if(m===K.length||b===se.length)for(m=K.length-1,b=se.length-1;1<=m&&0<=b&&K[m]!==se[b];)b--;for(;1<=m&&0<=b;m--,b--)if(K[m]!==se[b]){if(m!==1||b!==1)do if(m--,b--,0>b||K[m]!==se[b]){var me=`
`+K[m].replace(" at new "," at ");return a.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",a.displayName)),me}while(1<=m&&0<=b);break}}}finally{st=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?$e(d):""}function pt(a,l){switch(a.tag){case 26:case 27:case 5:return $e(a.type);case 16:return $e("Lazy");case 13:return a.child!==l&&l!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return ft(a.type,!1);case 11:return ft(a.type.render,!1);case 1:return ft(a.type,!0);case 31:return $e("Activity");default:return""}}function mr(a){try{var l="",d=null;do l+=pt(a,d),d=a,a=a.return;while(a);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Pt=Object.prototype.hasOwnProperty,It=t.unstable_scheduleCallback,kr=t.unstable_cancelCallback,he=t.unstable_shouldYield,Re=t.unstable_requestPaint,Ve=t.unstable_now,Ke=t.unstable_getCurrentPriorityLevel,qt=t.unstable_ImmediatePriority,zn=t.unstable_UserBlockingPriority,Dr=t.unstable_NormalPriority,no=t.unstable_LowPriority,Mr=t.unstable_IdlePriority,Fi=t.log,Fc=t.unstable_setDisableYieldValue,an=null,Nt=null;function zr(a){if(typeof Fi=="function"&&Fc(a),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(an,a)}catch{}}var en=Math.clz32?Math.clz32:Hc,Nl=Math.log,ro=Math.LN2;function Hc(a){return a>>>=0,a===0?32:31-(Nl(a)/ro|0)|0}var gi=256,ns=262144,sn=4194304;function vi(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function pr(a,l,d){var m=a.pendingLanes;if(m===0)return 0;var b=0,x=a.suspendedLanes,T=a.pingedLanes;a=a.warmLanes;var q=m&134217727;return q!==0?(m=q&~x,m!==0?b=vi(m):(T&=q,T!==0?b=vi(T):d||(d=q&~a,d!==0&&(b=vi(d))))):(q=m&~x,q!==0?b=vi(q):T!==0?b=vi(T):d||(d=m&~a,d!==0&&(b=vi(d)))),b===0?0:l!==0&&l!==b&&(l&x)===0&&(x=b&-b,d=l&-l,x>=d||x===32&&(d&4194048)!==0)?l:b}function Zr(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function te(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ue(){var a=sn;return sn<<=1,(sn&62914560)===0&&(sn=4194304),a}function gt(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function $n(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Sl(a,l,d,m,b,x){var T=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var q=a.entanglements,K=a.expirationTimes,se=a.hiddenUpdates;for(d=T&~d;0<d;){var me=31-en(d),_e=1<<me;q[me]=0,K[me]=-1;var oe=se[me];if(oe!==null)for(se[me]=null,me=0;me<oe.length;me++){var fe=oe[me];fe!==null&&(fe.lane&=-536870913)}d&=~_e}m!==0&&yi(a,m,0),x!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=x&~(T&~l))}function yi(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var m=31-en(l);a.entangledLanes|=l,a.entanglements[m]=a.entanglements[m]|1073741824|d&261930}function kd(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var m=31-en(d),b=1<<m;b&l|a[m]&l&&(a[m]|=l),d&=~b}}function Dd(a,l){var d=l&-l;return d=(d&42)!==0?1:Al(d),(d&(a.suspendedLanes|l))!==0?0:d}function Al(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function rs(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function jm(){var a=le.p;return a!==0?a:(a=window.event,a===void 0?32:vC(a.type))}function Hi(a,l){var d=le.p;try{return le.p=a,l()}finally{le.p=d}}var Gi=Math.random().toString(36).slice(2),jn="__reactFiber$"+Gi,Fn="__reactProps$"+Gi,ga="__reactContainer$"+Gi,Gc="__reactEvents$"+Gi,S0="__reactListeners$"+Gi,Em="__reactHandles$"+Gi,Nm="__reactResources$"+Gi,va="__reactMarker$"+Gi;function Kc(a){delete a[jn],delete a[Fn],delete a[Gc],delete a[S0],delete a[Em]}function ya(a){var l=a[jn];if(l)return l;for(var d=a.parentNode;d;){if(l=d[ga]||d[jn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=tC(a);a!==null;){if(d=a[jn])return d;a=tC(a)}return l}a=d,d=a.parentNode}return null}function bi(a){if(a=a[jn]||a[ga]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function Jr(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function ba(a){var l=a[Nm];return l||(l=a[Nm]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function En(a){a[va]=!0}var Md=new Set,zd={};function _a(a,l){xa(a,l),xa(a+"Capture",l)}function xa(a,l){for(zd[a]=l,a=0;a<l.length;a++)Md.add(l[a])}var Ld=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qd={},Ud={};function Sm(a){return Pt.call(Ud,a)?!0:Pt.call(qd,a)?!1:Ld.test(a)?Ud[a]=!0:(qd[a]=!0,!1)}function Qc(a,l,d){if(Sm(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function ei(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function Nn(a,l,d,m){if(m===null)a.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+m)}}function Hn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function io(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Vd(a,l,d){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var b=m.get,x=m.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return b.call(this)},set:function(T){d=""+T,x.call(this,T)}}),Object.defineProperty(a,l,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function St(a){if(!a._valueTracker){var l=io(a)?"checked":"value";a._valueTracker=Vd(a,l,""+a[l])}}function Tl(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return a&&(m=io(a)?a.checked?"true":"false":a.value),a=m,a!==d?(l.setValue(a),!0):!1}function wa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Cl=/[\n"\\]/g;function Lr(a){return a.replace(Cl,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Wc(a,l,d,m,b,x,T,q){a.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?a.type=T:a.removeAttribute("type"),l!=null?T==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Hn(l)):a.value!==""+Hn(l)&&(a.value=""+Hn(l)):T!=="submit"&&T!=="reset"||a.removeAttribute("value"),l!=null?Bd(a,T,Hn(l)):d!=null?Bd(a,T,Hn(d)):m!=null&&a.removeAttribute("value"),b==null&&x!=null&&(a.defaultChecked=!!x),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?a.name=""+Hn(q):a.removeAttribute("name")}function Am(a,l,d,m,b,x,T,q){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),l!=null||d!=null){if(!(x!=="submit"&&x!=="reset"||l!=null)){St(a);return}d=d!=null?""+Hn(d):"",l=l!=null?""+Hn(l):d,q||l===a.value||(a.value=l),a.defaultValue=l}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=q?a.checked:!!m,a.defaultChecked=!!m,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.name=T),St(a)}function Bd(a,l,d){l==="number"&&wa(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function ao(a,l,d,m){if(a=a.options,l){l={};for(var b=0;b<d.length;b++)l["$"+d[b]]=!0;for(d=0;d<a.length;d++)b=l.hasOwnProperty("$"+a[d].value),a[d].selected!==b&&(a[d].selected=b),b&&m&&(a[d].defaultSelected=!0)}else{for(d=""+Hn(d),l=null,b=0;b<a.length;b++){if(a[b].value===d){a[b].selected=!0,m&&(a[b].defaultSelected=!0);return}l!==null||a[b].disabled||(l=a[b])}l!==null&&(l.selected=!0)}}function Tm(a,l,d){if(l!=null&&(l=""+Hn(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+Hn(d):""}function so(a,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(r(92));if(W(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=Hn(l),a.defaultValue=d,m=a.textContent,m===d&&m!==""&&m!==null&&(a.value=m),St(a)}function qr(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var Cm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $d(a,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":m?a.setProperty(l,d):typeof d!="number"||d===0||Cm.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function Fd(a,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var b in l)m=l[b],l.hasOwnProperty(b)&&d[b]!==m&&$d(a,b,m)}else for(var x in l)l.hasOwnProperty(x)&&$d(a,x,l[x])}function Yc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Om=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xc(a){return oo.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ki(){}var Hd=null;function _i(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var lo=null,ja=null;function Ol(a){var l=bi(a);if(l&&(a=l.stateNode)){var d=a[Fn]||null;e:switch(a=l.stateNode,l.type){case"input":if(Wc(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Lr(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==a&&m.form===a.form){var b=m[Fn]||null;if(!b)throw Error(r(90));Wc(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===a.form&&Tl(m)}break e;case"textarea":Tm(a,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&ao(a,!!d.multiple,l,!1)}}}var Zc=!1;function co(a,l,d){if(Zc)return a(l,d);Zc=!0;try{var m=a(l);return m}finally{if(Zc=!1,(lo!==null||ja!==null)&&(jp(),lo&&(l=lo,a=ja,ja=lo=null,Ol(l),a)))for(l=0;l<a.length;l++)Ol(a[l])}}function Qi(a,l){var d=a.stateNode;if(d===null)return null;var m=d[Fn]||null;if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pl=!1;if(xi)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){Pl=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{Pl=!1}var Ea=null,Gd=null,Il=null;function Kd(){if(Il)return Il;var a,l=Gd,d=l.length,m,b="value"in Ea?Ea.value:Ea.textContent,x=b.length;for(a=0;a<d&&l[a]===b[a];a++);var T=d-a;for(m=1;m<=T&&l[d-m]===b[x-m];m++);return Il=b.slice(a,1<m?1-m:void 0)}function Rl(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function is(){return!0}function Wi(){return!1}function rr(a){function l(d,m,b,x,T){this._reactName=d,this._targetInst=b,this.type=m,this.nativeEvent=x,this.target=T,this.currentTarget=null;for(var q in a)a.hasOwnProperty(q)&&(d=a[q],this[q]=d?d(x):x[q]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?is:Wi,this.isPropagationStopped=Wi,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),l}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=rr(as),uo=g({},as,{view:0,detail:0}),Qd=rr(uo),fo,Jc,Sa,eu=g({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ho,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Sa&&(Sa&&a.type==="mousemove"?(fo=a.screenX-Sa.screenX,Jc=a.screenY-Sa.screenY):Jc=fo=0,Sa=a),fo)},movementY:function(a){return"movementY"in a?a.movementY:Jc}}),Wd=rr(eu),kl=g({},eu,{dataTransfer:0}),Pm=rr(kl),Im=g({},uo,{relatedTarget:0}),Dl=rr(Im),Yd=g({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),Rm=rr(Yd),tu=g({},as,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),km=rr(tu),Dm=g({},as,{data:0}),Aa=rr(Dm),Mm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qm(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Lm[a])?!!l[a]:!1}function ho(){return qm}var Er=g({},uo,{key:function(a){if(a.key){var l=Mm[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Rl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?zm[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ho,charCode:function(a){return a.type==="keypress"?Rl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Rl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Um=rr(Er),Vm=g({},eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ss=rr(Vm),v=g({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ho}),S=rr(v),P=g({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),$=rr(P),re=g({},eu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ue=rr(re),Ne=g({},as,{newState:0,oldState:0}),Ze=rr(Ne),pn=[9,13,27,32],wt=xi&&"CompositionEvent"in window,Yt=null;xi&&"documentMode"in document&&(Yt=document.documentMode);var wi=xi&&"TextEvent"in window&&!Yt,Ta=xi&&(!wt||Yt&&8<Yt&&11>=Yt),Yi=" ",Xi=!1;function Ml(a,l){switch(a){case"keyup":return pn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nu(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ru=!1;function _U(a,l){switch(a){case"compositionend":return nu(l);case"keypress":return l.which!==32?null:(Xi=!0,Yi);case"textInput":return a=l.data,a===Yi&&Xi?null:a;default:return null}}function xU(a,l){if(ru)return a==="compositionend"||!wt&&Ml(a,l)?(a=Kd(),Il=Gd=Ea=null,ru=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ta&&l.locale!=="ko"?null:l.data;default:return null}}var wU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iS(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!wU[a.type]:l==="textarea"}function aS(a,l,d,m){lo?ja?ja.push(m):ja=[m]:lo=m,l=Op(l,"onChange"),0<l.length&&(d=new Na("onChange","change",null,d,m),a.push({event:d,listeners:l}))}var Xd=null,Zd=null;function jU(a){VT(a,0)}function Bm(a){var l=Jr(a);if(Tl(l))return a}function sS(a,l){if(a==="change")return l}var oS=!1;if(xi){var A0;if(xi){var T0="oninput"in document;if(!T0){var lS=document.createElement("div");lS.setAttribute("oninput","return;"),T0=typeof lS.oninput=="function"}A0=T0}else A0=!1;oS=A0&&(!document.documentMode||9<document.documentMode)}function cS(){Xd&&(Xd.detachEvent("onpropertychange",uS),Zd=Xd=null)}function uS(a){if(a.propertyName==="value"&&Bm(Zd)){var l=[];aS(l,Zd,a,_i(a)),co(jU,l)}}function EU(a,l,d){a==="focusin"?(cS(),Xd=l,Zd=d,Xd.attachEvent("onpropertychange",uS)):a==="focusout"&&cS()}function NU(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Bm(Zd)}function SU(a,l){if(a==="click")return Bm(l)}function AU(a,l){if(a==="input"||a==="change")return Bm(l)}function TU(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var ti=typeof Object.is=="function"?Object.is:TU;function Jd(a,l){if(ti(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var b=d[m];if(!Pt.call(l,b)||!ti(a[b],l[b]))return!1}return!0}function dS(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function fS(a,l){var d=dS(a);a=0;for(var m;d;){if(d.nodeType===3){if(m=a+d.textContent.length,a<=l&&m>=l)return{node:d,offset:l-a};a=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=dS(d)}}function hS(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?hS(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function mS(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=wa(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=wa(a.document)}return l}function C0(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var CU=xi&&"documentMode"in document&&11>=document.documentMode,iu=null,O0=null,ef=null,P0=!1;function pS(a,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;P0||iu==null||iu!==wa(m)||(m=iu,"selectionStart"in m&&C0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ef&&Jd(ef,m)||(ef=m,m=Op(O0,"onSelect"),0<m.length&&(l=new Na("onSelect","select",null,l,d),a.push({event:l,listeners:m}),l.target=iu)))}function zl(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var au={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionrun:zl("Transition","TransitionRun"),transitionstart:zl("Transition","TransitionStart"),transitioncancel:zl("Transition","TransitionCancel"),transitionend:zl("Transition","TransitionEnd")},I0={},gS={};xi&&(gS=document.createElement("div").style,"AnimationEvent"in window||(delete au.animationend.animation,delete au.animationiteration.animation,delete au.animationstart.animation),"TransitionEvent"in window||delete au.transitionend.transition);function Ll(a){if(I0[a])return I0[a];if(!au[a])return a;var l=au[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in gS)return I0[a]=l[d];return a}var vS=Ll("animationend"),yS=Ll("animationiteration"),bS=Ll("animationstart"),OU=Ll("transitionrun"),PU=Ll("transitionstart"),IU=Ll("transitioncancel"),_S=Ll("transitionend"),xS=new Map,R0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");R0.push("scrollEnd");function Zi(a,l){xS.set(a,l),_a(l,[a])}var $m=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ji=[],su=0,k0=0;function Fm(){for(var a=su,l=k0=su=0;l<a;){var d=ji[l];ji[l++]=null;var m=ji[l];ji[l++]=null;var b=ji[l];ji[l++]=null;var x=ji[l];if(ji[l++]=null,m!==null&&b!==null){var T=m.pending;T===null?b.next=b:(b.next=T.next,T.next=b),m.pending=b}x!==0&&wS(d,b,x)}}function Hm(a,l,d,m){ji[su++]=a,ji[su++]=l,ji[su++]=d,ji[su++]=m,k0|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function D0(a,l,d,m){return Hm(a,l,d,m),Gm(a)}function ql(a,l){return Hm(a,null,null,l),Gm(a)}function wS(a,l,d){a.lanes|=d;var m=a.alternate;m!==null&&(m.lanes|=d);for(var b=!1,x=a.return;x!==null;)x.childLanes|=d,m=x.alternate,m!==null&&(m.childLanes|=d),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(b=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,b&&l!==null&&(b=31-en(d),a=x.hiddenUpdates,m=a[b],m===null?a[b]=[l]:m.push(l),l.lane=d|536870912),x):null}function Gm(a){if(50<jf)throw jf=0,Fb=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var ou={};function RU(a,l,d,m){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(a,l,d,m){return new RU(a,l,d,m)}function M0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function os(a,l){var d=a.alternate;return d===null?(d=ni(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function jS(a,l){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Km(a,l,d,m,b,x){var T=0;if(m=a,typeof a=="function")M0(a)&&(T=1);else if(typeof a=="string")T=LV(a,d,we.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case R:return a=ni(31,d,l,b),a.elementType=R,a.lanes=x,a;case j:return Ul(d.children,b,x,l);case N:T=8,b|=24;break;case A:return a=ni(12,d,l,b|2),a.elementType=A,a.lanes=x,a;case V:return a=ni(13,d,l,b),a.elementType=V,a.lanes=x,a;case B:return a=ni(19,d,l,b),a.elementType=B,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case I:T=10;break e;case D:T=9;break e;case O:T=11;break e;case k:T=14;break e;case C:T=16,m=null;break e}T=29,d=Error(r(130,a===null?"null":typeof a,"")),m=null}return l=ni(T,d,l,b),l.elementType=a,l.type=m,l.lanes=x,l}function Ul(a,l,d,m){return a=ni(7,a,m,l),a.lanes=d,a}function z0(a,l,d){return a=ni(6,a,null,l),a.lanes=d,a}function ES(a){var l=ni(18,null,null,0);return l.stateNode=a,l}function L0(a,l,d){return l=ni(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var NS=new WeakMap;function Ei(a,l){if(typeof a=="object"&&a!==null){var d=NS.get(a);return d!==void 0?d:(l={value:a,source:l,stack:mr(l)},NS.set(a,l),l)}return{value:a,source:l,stack:mr(l)}}var lu=[],cu=0,Qm=null,tf=0,Ni=[],Si=0,mo=null,Ca=1,Oa="";function ls(a,l){lu[cu++]=tf,lu[cu++]=Qm,Qm=a,tf=l}function SS(a,l,d){Ni[Si++]=Ca,Ni[Si++]=Oa,Ni[Si++]=mo,mo=a;var m=Ca;a=Oa;var b=32-en(m)-1;m&=~(1<<b),d+=1;var x=32-en(l)+b;if(30<x){var T=b-b%5;x=(m&(1<<T)-1).toString(32),m>>=T,b-=T,Ca=1<<32-en(l)+b|d<<b|m,Oa=x+a}else Ca=1<<x|d<<b|m,Oa=a}function q0(a){a.return!==null&&(ls(a,1),SS(a,1,0))}function U0(a){for(;a===Qm;)Qm=lu[--cu],lu[cu]=null,tf=lu[--cu],lu[cu]=null;for(;a===mo;)mo=Ni[--Si],Ni[Si]=null,Oa=Ni[--Si],Ni[Si]=null,Ca=Ni[--Si],Ni[Si]=null}function AS(a,l){Ni[Si++]=Ca,Ni[Si++]=Oa,Ni[Si++]=mo,Ca=l.id,Oa=l.overflow,mo=a}var ir=null,Kt=null,ht=!1,po=null,Ai=!1,V0=Error(r(519));function go(a){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nf(Ei(l,a)),V0}function TS(a){var l=a.stateNode,d=a.type,m=a.memoizedProps;switch(l[jn]=a,l[Fn]=m,d){case"dialog":rt("cancel",l),rt("close",l);break;case"iframe":case"object":case"embed":rt("load",l);break;case"video":case"audio":for(d=0;d<Nf.length;d++)rt(Nf[d],l);break;case"source":rt("error",l);break;case"img":case"image":case"link":rt("error",l),rt("load",l);break;case"details":rt("toggle",l);break;case"input":rt("invalid",l),Am(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":rt("invalid",l);break;case"textarea":rt("invalid",l),so(l,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||HT(l.textContent,d)?(m.popover!=null&&(rt("beforetoggle",l),rt("toggle",l)),m.onScroll!=null&&rt("scroll",l),m.onScrollEnd!=null&&rt("scrollend",l),m.onClick!=null&&(l.onclick=Ki),l=!0):l=!1,l||go(a,!0)}function CS(a){for(ir=a.return;ir;)switch(ir.tag){case 5:case 31:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:ir=ir.return}}function uu(a){if(a!==ir)return!1;if(!ht)return CS(a),ht=!0,!1;var l=a.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||a_(a.type,a.memoizedProps)),d=!d),d&&Kt&&go(a),CS(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Kt=eC(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Kt=eC(a)}else l===27?(l=Kt,Oo(a.type)?(a=u_,u_=null,Kt=a):Kt=l):Kt=ir?Ci(a.stateNode.nextSibling):null;return!0}function Vl(){Kt=ir=null,ht=!1}function B0(){var a=po;return a!==null&&($r===null?$r=a:$r.push.apply($r,a),po=null),a}function nf(a){po===null?po=[a]:po.push(a)}var $0=F(null),Bl=null,cs=null;function vo(a,l,d){pe($0,l._currentValue),l._currentValue=d}function us(a){a._currentValue=$0.current,ne($0)}function F0(a,l,d){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===d)break;a=a.return}}function H0(a,l,d,m){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var x=b.dependencies;if(x!==null){var T=b.child;x=x.firstContext;e:for(;x!==null;){var q=x;x=b;for(var K=0;K<l.length;K++)if(q.context===l[K]){x.lanes|=d,q=x.alternate,q!==null&&(q.lanes|=d),F0(x.return,d,a),m||(T=null);break e}x=q.next}}else if(b.tag===18){if(T=b.return,T===null)throw Error(r(341));T.lanes|=d,x=T.alternate,x!==null&&(x.lanes|=d),F0(T,d,a),T=null}else T=b.child;if(T!==null)T.return=b;else for(T=b;T!==null;){if(T===a){T=null;break}if(b=T.sibling,b!==null){b.return=T.return,T=b;break}T=T.return}b=T}}function du(a,l,d,m){a=null;for(var b=l,x=!1;b!==null;){if(!x){if((b.flags&524288)!==0)x=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var T=b.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var q=b.type;ti(b.pendingProps.value,T.value)||(a!==null?a.push(q):a=[q])}}else if(b===de.current){if(T=b.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(Of):a=[Of])}b=b.return}a!==null&&H0(l,a,d,m),l.flags|=262144}function Wm(a){for(a=a.firstContext;a!==null;){if(!ti(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function $l(a){Bl=a,cs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ar(a){return OS(Bl,a)}function Ym(a,l){return Bl===null&&$l(a),OS(a,l)}function OS(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},cs===null){if(a===null)throw Error(r(308));cs=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else cs=cs.next=l;return d}var kU=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,m){a.push(m)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},DU=t.unstable_scheduleCallback,MU=t.unstable_NormalPriority,Sn={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function G0(){return{controller:new kU,data:new Map,refCount:0}}function rf(a){a.refCount--,a.refCount===0&&DU(MU,function(){a.controller.abort()})}var af=null,K0=0,fu=0,hu=null;function zU(a,l){if(af===null){var d=af=[];K0=0,fu=Yb(),hu={status:"pending",value:void 0,then:function(m){d.push(m)}}}return K0++,l.then(PS,PS),l}function PS(){if(--K0===0&&af!==null){hu!==null&&(hu.status="fulfilled");var a=af;af=null,fu=0,hu=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function LU(a,l){var d=[],m={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return a.then(function(){m.status="fulfilled",m.value=l;for(var b=0;b<d.length;b++)(0,d[b])(l)},function(b){for(m.status="rejected",m.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),m}var IS=G.S;G.S=function(a,l){pT=Ve(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&zU(a,l),IS!==null&&IS(a,l)};var Fl=F(null);function Q0(){var a=Fl.current;return a!==null?a:Ut.pooledCache}function Xm(a,l){l===null?pe(Fl,Fl.current):pe(Fl,l.pool)}function RS(){var a=Q0();return a===null?null:{parent:Sn._currentValue,pool:a}}var mu=Error(r(460)),W0=Error(r(474)),Zm=Error(r(542)),Jm={then:function(){}};function kS(a){return a=a.status,a==="fulfilled"||a==="rejected"}function DS(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then(Ki,Ki),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,zS(a),a;default:if(typeof l.status=="string")l.then(Ki,Ki);else{if(a=Ut,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(m){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=m}},function(m){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,zS(a),a}throw Gl=l,mu}}function Hl(a){try{var l=a._init;return l(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Gl=d,mu):d}}var Gl=null;function MS(){if(Gl===null)throw Error(r(459));var a=Gl;return Gl=null,a}function zS(a){if(a===mu||a===Zm)throw Error(r(483))}var pu=null,sf=0;function ep(a){var l=sf;return sf+=1,pu===null&&(pu=[]),DS(pu,a,l)}function of(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function tp(a,l){throw l.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function LS(a){function l(ee,Y){if(a){var ae=ee.deletions;ae===null?(ee.deletions=[Y],ee.flags|=16):ae.push(Y)}}function d(ee,Y){if(!a)return null;for(;Y!==null;)l(ee,Y),Y=Y.sibling;return null}function m(ee){for(var Y=new Map;ee!==null;)ee.key!==null?Y.set(ee.key,ee):Y.set(ee.index,ee),ee=ee.sibling;return Y}function b(ee,Y){return ee=os(ee,Y),ee.index=0,ee.sibling=null,ee}function x(ee,Y,ae){return ee.index=ae,a?(ae=ee.alternate,ae!==null?(ae=ae.index,ae<Y?(ee.flags|=67108866,Y):ae):(ee.flags|=67108866,Y)):(ee.flags|=1048576,Y)}function T(ee){return a&&ee.alternate===null&&(ee.flags|=67108866),ee}function q(ee,Y,ae,ye){return Y===null||Y.tag!==6?(Y=z0(ae,ee.mode,ye),Y.return=ee,Y):(Y=b(Y,ae),Y.return=ee,Y)}function K(ee,Y,ae,ye){var Le=ae.type;return Le===j?me(ee,Y,ae.props.children,ye,ae.key):Y!==null&&(Y.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===C&&Hl(Le)===Y.type)?(Y=b(Y,ae.props),of(Y,ae),Y.return=ee,Y):(Y=Km(ae.type,ae.key,ae.props,null,ee.mode,ye),of(Y,ae),Y.return=ee,Y)}function se(ee,Y,ae,ye){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ae.containerInfo||Y.stateNode.implementation!==ae.implementation?(Y=L0(ae,ee.mode,ye),Y.return=ee,Y):(Y=b(Y,ae.children||[]),Y.return=ee,Y)}function me(ee,Y,ae,ye,Le){return Y===null||Y.tag!==7?(Y=Ul(ae,ee.mode,ye,Le),Y.return=ee,Y):(Y=b(Y,ae),Y.return=ee,Y)}function _e(ee,Y,ae){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=z0(""+Y,ee.mode,ae),Y.return=ee,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:return ae=Km(Y.type,Y.key,Y.props,null,ee.mode,ae),of(ae,Y),ae.return=ee,ae;case E:return Y=L0(Y,ee.mode,ae),Y.return=ee,Y;case C:return Y=Hl(Y),_e(ee,Y,ae)}if(W(Y)||z(Y))return Y=Ul(Y,ee.mode,ae,null),Y.return=ee,Y;if(typeof Y.then=="function")return _e(ee,ep(Y),ae);if(Y.$$typeof===I)return _e(ee,Ym(ee,Y),ae);tp(ee,Y)}return null}function oe(ee,Y,ae,ye){var Le=Y!==null?Y.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Le!==null?null:q(ee,Y,""+ae,ye);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case _:return ae.key===Le?K(ee,Y,ae,ye):null;case E:return ae.key===Le?se(ee,Y,ae,ye):null;case C:return ae=Hl(ae),oe(ee,Y,ae,ye)}if(W(ae)||z(ae))return Le!==null?null:me(ee,Y,ae,ye,null);if(typeof ae.then=="function")return oe(ee,Y,ep(ae),ye);if(ae.$$typeof===I)return oe(ee,Y,Ym(ee,ae),ye);tp(ee,ae)}return null}function fe(ee,Y,ae,ye,Le){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ee=ee.get(ae)||null,q(Y,ee,""+ye,Le);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case _:return ee=ee.get(ye.key===null?ae:ye.key)||null,K(Y,ee,ye,Le);case E:return ee=ee.get(ye.key===null?ae:ye.key)||null,se(Y,ee,ye,Le);case C:return ye=Hl(ye),fe(ee,Y,ae,ye,Le)}if(W(ye)||z(ye))return ee=ee.get(ae)||null,me(Y,ee,ye,Le,null);if(typeof ye.then=="function")return fe(ee,Y,ae,ep(ye),Le);if(ye.$$typeof===I)return fe(ee,Y,ae,Ym(Y,ye),Le);tp(Y,ye)}return null}function Pe(ee,Y,ae,ye){for(var Le=null,bt=null,ke=Y,et=Y=0,lt=null;ke!==null&&et<ae.length;et++){ke.index>et?(lt=ke,ke=null):lt=ke.sibling;var _t=oe(ee,ke,ae[et],ye);if(_t===null){ke===null&&(ke=lt);break}a&&ke&&_t.alternate===null&&l(ee,ke),Y=x(_t,Y,et),bt===null?Le=_t:bt.sibling=_t,bt=_t,ke=lt}if(et===ae.length)return d(ee,ke),ht&&ls(ee,et),Le;if(ke===null){for(;et<ae.length;et++)ke=_e(ee,ae[et],ye),ke!==null&&(Y=x(ke,Y,et),bt===null?Le=ke:bt.sibling=ke,bt=ke);return ht&&ls(ee,et),Le}for(ke=m(ke);et<ae.length;et++)lt=fe(ke,ee,et,ae[et],ye),lt!==null&&(a&&lt.alternate!==null&&ke.delete(lt.key===null?et:lt.key),Y=x(lt,Y,et),bt===null?Le=lt:bt.sibling=lt,bt=lt);return a&&ke.forEach(function(Do){return l(ee,Do)}),ht&&ls(ee,et),Le}function Be(ee,Y,ae,ye){if(ae==null)throw Error(r(151));for(var Le=null,bt=null,ke=Y,et=Y=0,lt=null,_t=ae.next();ke!==null&&!_t.done;et++,_t=ae.next()){ke.index>et?(lt=ke,ke=null):lt=ke.sibling;var Do=oe(ee,ke,_t.value,ye);if(Do===null){ke===null&&(ke=lt);break}a&&ke&&Do.alternate===null&&l(ee,ke),Y=x(Do,Y,et),bt===null?Le=Do:bt.sibling=Do,bt=Do,ke=lt}if(_t.done)return d(ee,ke),ht&&ls(ee,et),Le;if(ke===null){for(;!_t.done;et++,_t=ae.next())_t=_e(ee,_t.value,ye),_t!==null&&(Y=x(_t,Y,et),bt===null?Le=_t:bt.sibling=_t,bt=_t);return ht&&ls(ee,et),Le}for(ke=m(ke);!_t.done;et++,_t=ae.next())_t=fe(ke,ee,et,_t.value,ye),_t!==null&&(a&&_t.alternate!==null&&ke.delete(_t.key===null?et:_t.key),Y=x(_t,Y,et),bt===null?Le=_t:bt.sibling=_t,bt=_t);return a&&ke.forEach(function(WV){return l(ee,WV)}),ht&&ls(ee,et),Le}function Mt(ee,Y,ae,ye){if(typeof ae=="object"&&ae!==null&&ae.type===j&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case _:e:{for(var Le=ae.key;Y!==null;){if(Y.key===Le){if(Le=ae.type,Le===j){if(Y.tag===7){d(ee,Y.sibling),ye=b(Y,ae.props.children),ye.return=ee,ee=ye;break e}}else if(Y.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===C&&Hl(Le)===Y.type){d(ee,Y.sibling),ye=b(Y,ae.props),of(ye,ae),ye.return=ee,ee=ye;break e}d(ee,Y);break}else l(ee,Y);Y=Y.sibling}ae.type===j?(ye=Ul(ae.props.children,ee.mode,ye,ae.key),ye.return=ee,ee=ye):(ye=Km(ae.type,ae.key,ae.props,null,ee.mode,ye),of(ye,ae),ye.return=ee,ee=ye)}return T(ee);case E:e:{for(Le=ae.key;Y!==null;){if(Y.key===Le)if(Y.tag===4&&Y.stateNode.containerInfo===ae.containerInfo&&Y.stateNode.implementation===ae.implementation){d(ee,Y.sibling),ye=b(Y,ae.children||[]),ye.return=ee,ee=ye;break e}else{d(ee,Y);break}else l(ee,Y);Y=Y.sibling}ye=L0(ae,ee.mode,ye),ye.return=ee,ee=ye}return T(ee);case C:return ae=Hl(ae),Mt(ee,Y,ae,ye)}if(W(ae))return Pe(ee,Y,ae,ye);if(z(ae)){if(Le=z(ae),typeof Le!="function")throw Error(r(150));return ae=Le.call(ae),Be(ee,Y,ae,ye)}if(typeof ae.then=="function")return Mt(ee,Y,ep(ae),ye);if(ae.$$typeof===I)return Mt(ee,Y,Ym(ee,ae),ye);tp(ee,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,Y!==null&&Y.tag===6?(d(ee,Y.sibling),ye=b(Y,ae),ye.return=ee,ee=ye):(d(ee,Y),ye=z0(ae,ee.mode,ye),ye.return=ee,ee=ye),T(ee)):d(ee,Y)}return function(ee,Y,ae,ye){try{sf=0;var Le=Mt(ee,Y,ae,ye);return pu=null,Le}catch(ke){if(ke===mu||ke===Zm)throw ke;var bt=ni(29,ke,null,ee.mode);return bt.lanes=ye,bt.return=ee,bt}}}var Kl=LS(!0),qS=LS(!1),yo=!1;function Y0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function X0(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function bo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function _o(a,l,d){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(jt&2)!==0){var b=m.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),m.pending=l,l=Gm(a),wS(a,null,d),l}return Hm(a,m,l,d),Gm(a)}function lf(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,kd(a,d)}}function Z0(a,l){var d=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var b=null,x=null;if(d=d.firstBaseUpdate,d!==null){do{var T={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};x===null?b=x=T:x=x.next=T,d=d.next}while(d!==null);x===null?b=x=l:x=x.next=l}else b=x=l;d={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var J0=!1;function cf(){if(J0){var a=hu;if(a!==null)throw a}}function uf(a,l,d,m){J0=!1;var b=a.updateQueue;yo=!1;var x=b.firstBaseUpdate,T=b.lastBaseUpdate,q=b.shared.pending;if(q!==null){b.shared.pending=null;var K=q,se=K.next;K.next=null,T===null?x=se:T.next=se,T=K;var me=a.alternate;me!==null&&(me=me.updateQueue,q=me.lastBaseUpdate,q!==T&&(q===null?me.firstBaseUpdate=se:q.next=se,me.lastBaseUpdate=K))}if(x!==null){var _e=b.baseState;T=0,me=se=K=null,q=x;do{var oe=q.lane&-536870913,fe=oe!==q.lane;if(fe?(ot&oe)===oe:(m&oe)===oe){oe!==0&&oe===fu&&(J0=!0),me!==null&&(me=me.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Pe=a,Be=q;oe=l;var Mt=d;switch(Be.tag){case 1:if(Pe=Be.payload,typeof Pe=="function"){_e=Pe.call(Mt,_e,oe);break e}_e=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Be.payload,oe=typeof Pe=="function"?Pe.call(Mt,_e,oe):Pe,oe==null)break e;_e=g({},_e,oe);break e;case 2:yo=!0}}oe=q.callback,oe!==null&&(a.flags|=64,fe&&(a.flags|=8192),fe=b.callbacks,fe===null?b.callbacks=[oe]:fe.push(oe))}else fe={lane:oe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},me===null?(se=me=fe,K=_e):me=me.next=fe,T|=oe;if(q=q.next,q===null){if(q=b.shared.pending,q===null)break;fe=q,q=fe.next,fe.next=null,b.lastBaseUpdate=fe,b.shared.pending=null}}while(!0);me===null&&(K=_e),b.baseState=K,b.firstBaseUpdate=se,b.lastBaseUpdate=me,x===null&&(b.shared.lanes=0),No|=T,a.lanes=T,a.memoizedState=_e}}function US(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function VS(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)US(d[a],l)}var gu=F(null),np=F(0);function BS(a,l){a=bs,pe(np,a),pe(gu,l),bs=a|l.baseLanes}function eb(){pe(np,bs),pe(gu,gu.current)}function tb(){bs=np.current,ne(gu),ne(np)}var ri=F(null),Ti=null;function xo(a){var l=a.alternate;pe(gn,gn.current&1),pe(ri,a),Ti===null&&(l===null||gu.current!==null||l.memoizedState!==null)&&(Ti=a)}function nb(a){pe(gn,gn.current),pe(ri,a),Ti===null&&(Ti=a)}function $S(a){a.tag===22?(pe(gn,gn.current),pe(ri,a),Ti===null&&(Ti=a)):wo()}function wo(){pe(gn,gn.current),pe(ri,ri.current)}function ii(a){ne(ri),Ti===a&&(Ti=null),ne(gn)}var gn=F(0);function rp(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||l_(d)||c_(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ds=0,Je=null,kt=null,An=null,ip=!1,vu=!1,Ql=!1,ap=0,df=0,yu=null,qU=0;function on(){throw Error(r(321))}function rb(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!ti(a[d],l[d]))return!1;return!0}function ib(a,l,d,m,b,x){return ds=x,Je=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,G.H=a===null||a.memoizedState===null?SA:bb,Ql=!1,x=d(m,b),Ql=!1,vu&&(x=HS(l,d,m,b)),FS(a),x}function FS(a){G.H=mf;var l=kt!==null&&kt.next!==null;if(ds=0,An=kt=Je=null,ip=!1,df=0,yu=null,l)throw Error(r(300));a===null||Tn||(a=a.dependencies,a!==null&&Wm(a)&&(Tn=!0))}function HS(a,l,d,m){Je=a;var b=0;do{if(vu&&(yu=null),df=0,vu=!1,25<=b)throw Error(r(301));if(b+=1,An=kt=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}G.H=AA,x=l(d,m)}while(vu);return x}function UU(){var a=G.H,l=a.useState()[0];return l=typeof l.then=="function"?ff(l):l,a=a.useState()[0],(kt!==null?kt.memoizedState:null)!==a&&(Je.flags|=1024),l}function ab(){var a=ap!==0;return ap=0,a}function sb(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function ob(a){if(ip){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}ip=!1}ds=0,An=kt=Je=null,vu=!1,df=ap=0,yu=null}function Nr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Je.memoizedState=An=a:An=An.next=a,An}function vn(){if(kt===null){var a=Je.alternate;a=a!==null?a.memoizedState:null}else a=kt.next;var l=An===null?Je.memoizedState:An.next;if(l!==null)An=l,kt=a;else{if(a===null)throw Je.alternate===null?Error(r(467)):Error(r(310));kt=a,a={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},An===null?Je.memoizedState=An=a:An=An.next=a}return An}function sp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ff(a){var l=df;return df+=1,yu===null&&(yu=[]),a=DS(yu,a,l),l=Je,(An===null?l.memoizedState:An.next)===null&&(l=l.alternate,G.H=l===null||l.memoizedState===null?SA:bb),a}function op(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return ff(a);if(a.$$typeof===I)return ar(a)}throw Error(r(438,String(a)))}function lb(a){var l=null,d=Je.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=Je.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=sp(),Je.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),m=0;m<a;m++)d[m]=U;return l.index++,d}function fs(a,l){return typeof l=="function"?l(a):l}function lp(a){var l=vn();return cb(l,kt,a)}function cb(a,l,d){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var b=a.baseQueue,x=m.pending;if(x!==null){if(b!==null){var T=b.next;b.next=x.next,x.next=T}l.baseQueue=b=x,m.pending=null}if(x=a.baseState,b===null)a.memoizedState=x;else{l=b.next;var q=T=null,K=null,se=l,me=!1;do{var _e=se.lane&-536870913;if(_e!==se.lane?(ot&_e)===_e:(ds&_e)===_e){var oe=se.revertLane;if(oe===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),_e===fu&&(me=!0);else if((ds&oe)===oe){se=se.next,oe===fu&&(me=!0);continue}else _e={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},K===null?(q=K=_e,T=x):K=K.next=_e,Je.lanes|=oe,No|=oe;_e=se.action,Ql&&d(x,_e),x=se.hasEagerState?se.eagerState:d(x,_e)}else oe={lane:_e,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},K===null?(q=K=oe,T=x):K=K.next=oe,Je.lanes|=_e,No|=_e;se=se.next}while(se!==null&&se!==l);if(K===null?T=x:K.next=q,!ti(x,a.memoizedState)&&(Tn=!0,me&&(d=hu,d!==null)))throw d;a.memoizedState=x,a.baseState=T,a.baseQueue=K,m.lastRenderedState=x}return b===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function ub(a){var l=vn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var m=d.dispatch,b=d.pending,x=l.memoizedState;if(b!==null){d.pending=null;var T=b=b.next;do x=a(x,T.action),T=T.next;while(T!==b);ti(x,l.memoizedState)||(Tn=!0),l.memoizedState=x,l.baseQueue===null&&(l.baseState=x),d.lastRenderedState=x}return[x,m]}function GS(a,l,d){var m=Je,b=vn(),x=ht;if(x){if(d===void 0)throw Error(r(407));d=d()}else d=l();var T=!ti((kt||b).memoizedState,d);if(T&&(b.memoizedState=d,Tn=!0),b=b.queue,hb(WS.bind(null,m,b,a),[a]),b.getSnapshot!==l||T||An!==null&&An.memoizedState.tag&1){if(m.flags|=2048,bu(9,{destroy:void 0},QS.bind(null,m,b,d,l),null),Ut===null)throw Error(r(349));x||(ds&127)!==0||KS(m,l,d)}return d}function KS(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=Je.updateQueue,l===null?(l=sp(),Je.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function QS(a,l,d,m){l.value=d,l.getSnapshot=m,YS(l)&&XS(a)}function WS(a,l,d){return d(function(){YS(l)&&XS(a)})}function YS(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!ti(a,d)}catch{return!0}}function XS(a){var l=ql(a,2);l!==null&&Fr(l,a,2)}function db(a){var l=Nr();if(typeof a=="function"){var d=a;if(a=d(),Ql){zr(!0);try{d()}finally{zr(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:a},l}function ZS(a,l,d,m){return a.baseState=d,cb(a,kt,typeof m=="function"?m:fs)}function VU(a,l,d,m,b){if(dp(a))throw Error(r(485));if(a=l.action,a!==null){var x={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){x.listeners.push(T)}};G.T!==null?d(!0):x.isTransition=!1,m(x),d=l.pending,d===null?(x.next=l.pending=x,JS(l,x)):(x.next=d.next,l.pending=d.next=x)}}function JS(a,l){var d=l.action,m=l.payload,b=a.state;if(l.isTransition){var x=G.T,T={};G.T=T;try{var q=d(b,m),K=G.S;K!==null&&K(T,q),eA(a,l,q)}catch(se){fb(a,l,se)}finally{x!==null&&T.types!==null&&(x.types=T.types),G.T=x}}else try{x=d(b,m),eA(a,l,x)}catch(se){fb(a,l,se)}}function eA(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){tA(a,l,m)},function(m){return fb(a,l,m)}):tA(a,l,d)}function tA(a,l,d){l.status="fulfilled",l.value=d,nA(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,JS(a,d)))}function fb(a,l,d){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,nA(l),l=l.next;while(l!==m)}a.action=null}function nA(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function rA(a,l){return l}function iA(a,l){if(ht){var d=Ut.formState;if(d!==null){e:{var m=Je;if(ht){if(Kt){t:{for(var b=Kt,x=Ai;b.nodeType!==8;){if(!x){b=null;break t}if(b=Ci(b.nextSibling),b===null){b=null;break t}}x=b.data,b=x==="F!"||x==="F"?b:null}if(b){Kt=Ci(b.nextSibling),m=b.data==="F!";break e}}go(m)}m=!1}m&&(l=d[0])}}return d=Nr(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rA,lastRenderedState:l},d.queue=m,d=jA.bind(null,Je,m),m.dispatch=d,m=db(!1),x=yb.bind(null,Je,!1,m.queue),m=Nr(),b={state:l,dispatch:null,action:a,pending:null},m.queue=b,d=VU.bind(null,Je,b,x,d),b.dispatch=d,m.memoizedState=a,[l,d,!1]}function aA(a){var l=vn();return sA(l,kt,a)}function sA(a,l,d){if(l=cb(a,l,rA)[0],a=lp(fs)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=ff(l)}catch(T){throw T===mu?Zm:T}else m=l;l=vn();var b=l.queue,x=b.dispatch;return d!==l.memoizedState&&(Je.flags|=2048,bu(9,{destroy:void 0},BU.bind(null,b,d),null)),[m,x,a]}function BU(a,l){a.action=l}function oA(a){var l=vn(),d=kt;if(d!==null)return sA(l,d,a);vn(),l=l.memoizedState,d=vn();var m=d.queue.dispatch;return d.memoizedState=a,[l,m,!1]}function bu(a,l,d,m){return a={tag:a,create:d,deps:m,inst:l,next:null},l=Je.updateQueue,l===null&&(l=sp(),Je.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(m=d.next,d.next=a,a.next=m,l.lastEffect=a),a}function lA(){return vn().memoizedState}function cp(a,l,d,m){var b=Nr();Je.flags|=a,b.memoizedState=bu(1|l,{destroy:void 0},d,m===void 0?null:m)}function up(a,l,d,m){var b=vn();m=m===void 0?null:m;var x=b.memoizedState.inst;kt!==null&&m!==null&&rb(m,kt.memoizedState.deps)?b.memoizedState=bu(l,x,d,m):(Je.flags|=a,b.memoizedState=bu(1|l,x,d,m))}function cA(a,l){cp(8390656,8,a,l)}function hb(a,l){up(2048,8,a,l)}function $U(a){Je.flags|=4;var l=Je.updateQueue;if(l===null)l=sp(),Je.updateQueue=l,l.events=[a];else{var d=l.events;d===null?l.events=[a]:d.push(a)}}function uA(a){var l=vn().memoizedState;return $U({ref:l,nextImpl:a}),function(){if((jt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function dA(a,l){return up(4,2,a,l)}function fA(a,l){return up(4,4,a,l)}function hA(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function mA(a,l,d){d=d!=null?d.concat([a]):null,up(4,4,hA.bind(null,l,a),d)}function mb(){}function pA(a,l){var d=vn();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&rb(l,m[1])?m[0]:(d.memoizedState=[a,l],a)}function gA(a,l){var d=vn();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&rb(l,m[1]))return m[0];if(m=a(),Ql){zr(!0);try{a()}finally{zr(!1)}}return d.memoizedState=[m,l],m}function pb(a,l,d){return d===void 0||(ds&1073741824)!==0&&(ot&261930)===0?a.memoizedState=l:(a.memoizedState=d,a=vT(),Je.lanes|=a,No|=a,d)}function vA(a,l,d,m){return ti(d,l)?d:gu.current!==null?(a=pb(a,d,m),ti(a,l)||(Tn=!0),a):(ds&42)===0||(ds&1073741824)!==0&&(ot&261930)===0?(Tn=!0,a.memoizedState=d):(a=vT(),Je.lanes|=a,No|=a,l)}function yA(a,l,d,m,b){var x=le.p;le.p=x!==0&&8>x?x:8;var T=G.T,q={};G.T=q,yb(a,!1,l,d);try{var K=b(),se=G.S;if(se!==null&&se(q,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var me=LU(K,m);hf(a,l,me,oi(a))}else hf(a,l,m,oi(a))}catch(_e){hf(a,l,{then:function(){},status:"rejected",reason:_e},oi())}finally{le.p=x,T!==null&&q.types!==null&&(T.types=q.types),G.T=T}}function FU(){}function gb(a,l,d,m){if(a.tag!==5)throw Error(r(476));var b=bA(a).queue;yA(a,b,l,be,d===null?FU:function(){return _A(a),d(m)})}function bA(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:be},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function _A(a){var l=bA(a);l.next===null&&(l=a.alternate.memoizedState),hf(a,l.next.queue,{},oi())}function vb(){return ar(Of)}function xA(){return vn().memoizedState}function wA(){return vn().memoizedState}function HU(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=oi();a=bo(d);var m=_o(l,a,d);m!==null&&(Fr(m,l,d),lf(m,l,d)),l={cache:G0()},a.payload=l;return}l=l.return}}function GU(a,l,d){var m=oi();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},dp(a)?EA(l,d):(d=D0(a,l,d,m),d!==null&&(Fr(d,a,m),NA(d,l,m)))}function jA(a,l,d){var m=oi();hf(a,l,d,m)}function hf(a,l,d,m){var b={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(dp(a))EA(l,b);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=l.lastRenderedReducer,x!==null))try{var T=l.lastRenderedState,q=x(T,d);if(b.hasEagerState=!0,b.eagerState=q,ti(q,T))return Hm(a,l,b,0),Ut===null&&Fm(),!1}catch{}if(d=D0(a,l,b,m),d!==null)return Fr(d,a,m),NA(d,l,m),!0}return!1}function yb(a,l,d,m){if(m={lane:2,revertLane:Yb(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},dp(a)){if(l)throw Error(r(479))}else l=D0(a,d,m,2),l!==null&&Fr(l,a,2)}function dp(a){var l=a.alternate;return a===Je||l!==null&&l===Je}function EA(a,l){vu=ip=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function NA(a,l,d){if((d&4194048)!==0){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,kd(a,d)}}var mf={readContext:ar,use:op,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on,useHostTransitionStatus:on,useFormState:on,useActionState:on,useOptimistic:on,useMemoCache:on,useCacheRefresh:on};mf.useEffectEvent=on;var SA={readContext:ar,use:op,useCallback:function(a,l){return Nr().memoizedState=[a,l===void 0?null:l],a},useContext:ar,useEffect:cA,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,cp(4194308,4,hA.bind(null,l,a),d)},useLayoutEffect:function(a,l){return cp(4194308,4,a,l)},useInsertionEffect:function(a,l){cp(4,2,a,l)},useMemo:function(a,l){var d=Nr();l=l===void 0?null:l;var m=a();if(Ql){zr(!0);try{a()}finally{zr(!1)}}return d.memoizedState=[m,l],m},useReducer:function(a,l,d){var m=Nr();if(d!==void 0){var b=d(l);if(Ql){zr(!0);try{d(l)}finally{zr(!1)}}}else b=l;return m.memoizedState=m.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},m.queue=a,a=a.dispatch=GU.bind(null,Je,a),[m.memoizedState,a]},useRef:function(a){var l=Nr();return a={current:a},l.memoizedState=a},useState:function(a){a=db(a);var l=a.queue,d=jA.bind(null,Je,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:mb,useDeferredValue:function(a,l){var d=Nr();return pb(d,a,l)},useTransition:function(){var a=db(!1);return a=yA.bind(null,Je,a.queue,!0,!1),Nr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var m=Je,b=Nr();if(ht){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Ut===null)throw Error(r(349));(ot&127)!==0||KS(m,l,d)}b.memoizedState=d;var x={value:d,getSnapshot:l};return b.queue=x,cA(WS.bind(null,m,x,a),[a]),m.flags|=2048,bu(9,{destroy:void 0},QS.bind(null,m,x,d,l),null),d},useId:function(){var a=Nr(),l=Ut.identifierPrefix;if(ht){var d=Oa,m=Ca;d=(m&~(1<<32-en(m)-1)).toString(32)+d,l="_"+l+"R_"+d,d=ap++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=qU++,l="_"+l+"r_"+d.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:vb,useFormState:iA,useActionState:iA,useOptimistic:function(a){var l=Nr();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=yb.bind(null,Je,!0,d),d.dispatch=l,[a,l]},useMemoCache:lb,useCacheRefresh:function(){return Nr().memoizedState=HU.bind(null,Je)},useEffectEvent:function(a){var l=Nr(),d={impl:a};return l.memoizedState=d,function(){if((jt&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},bb={readContext:ar,use:op,useCallback:pA,useContext:ar,useEffect:hb,useImperativeHandle:mA,useInsertionEffect:dA,useLayoutEffect:fA,useMemo:gA,useReducer:lp,useRef:lA,useState:function(){return lp(fs)},useDebugValue:mb,useDeferredValue:function(a,l){var d=vn();return vA(d,kt.memoizedState,a,l)},useTransition:function(){var a=lp(fs)[0],l=vn().memoizedState;return[typeof a=="boolean"?a:ff(a),l]},useSyncExternalStore:GS,useId:xA,useHostTransitionStatus:vb,useFormState:aA,useActionState:aA,useOptimistic:function(a,l){var d=vn();return ZS(d,kt,a,l)},useMemoCache:lb,useCacheRefresh:wA};bb.useEffectEvent=uA;var AA={readContext:ar,use:op,useCallback:pA,useContext:ar,useEffect:hb,useImperativeHandle:mA,useInsertionEffect:dA,useLayoutEffect:fA,useMemo:gA,useReducer:ub,useRef:lA,useState:function(){return ub(fs)},useDebugValue:mb,useDeferredValue:function(a,l){var d=vn();return kt===null?pb(d,a,l):vA(d,kt.memoizedState,a,l)},useTransition:function(){var a=ub(fs)[0],l=vn().memoizedState;return[typeof a=="boolean"?a:ff(a),l]},useSyncExternalStore:GS,useId:xA,useHostTransitionStatus:vb,useFormState:oA,useActionState:oA,useOptimistic:function(a,l){var d=vn();return kt!==null?ZS(d,kt,a,l):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:lb,useCacheRefresh:wA};AA.useEffectEvent=uA;function _b(a,l,d,m){l=a.memoizedState,d=d(m,l),d=d==null?l:g({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var xb={enqueueSetState:function(a,l,d){a=a._reactInternals;var m=oi(),b=bo(m);b.payload=l,d!=null&&(b.callback=d),l=_o(a,b,m),l!==null&&(Fr(l,a,m),lf(l,a,m))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var m=oi(),b=bo(m);b.tag=1,b.payload=l,d!=null&&(b.callback=d),l=_o(a,b,m),l!==null&&(Fr(l,a,m),lf(l,a,m))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=oi(),m=bo(d);m.tag=2,l!=null&&(m.callback=l),l=_o(a,m,d),l!==null&&(Fr(l,a,d),lf(l,a,d))}};function TA(a,l,d,m,b,x,T){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,x,T):l.prototype&&l.prototype.isPureReactComponent?!Jd(d,m)||!Jd(b,x):!0}function CA(a,l,d,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==a&&xb.enqueueReplaceState(l,l.state,null)}function Wl(a,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(a=a.defaultProps){d===l&&(d=g({},d));for(var b in a)d[b]===void 0&&(d[b]=a[b])}return d}function OA(a){$m(a)}function PA(a){console.error(a)}function IA(a){$m(a)}function fp(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function RA(a,l,d){try{var m=a.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function wb(a,l,d){return d=bo(d),d.tag=3,d.payload={element:null},d.callback=function(){fp(a,l)},d}function kA(a){return a=bo(a),a.tag=3,a}function DA(a,l,d,m){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var x=m.value;a.payload=function(){return b(x)},a.callback=function(){RA(l,d,m)}}var T=d.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(a.callback=function(){RA(l,d,m),typeof b!="function"&&(So===null?So=new Set([this]):So.add(this));var q=m.stack;this.componentDidCatch(m.value,{componentStack:q!==null?q:""})})}function KU(a,l,d,m,b){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&du(l,d,b,!0),d=ri.current,d!==null){switch(d.tag){case 31:case 13:return Ti===null?Ep():d.alternate===null&&ln===0&&(ln=3),d.flags&=-257,d.flags|=65536,d.lanes=b,m===Jm?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),Kb(a,m,b)),!1;case 22:return d.flags|=65536,m===Jm?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),Kb(a,m,b)),!1}throw Error(r(435,d.tag))}return Kb(a,m,b),Ep(),!1}if(ht)return l=ri.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,m!==V0&&(a=Error(r(422),{cause:m}),nf(Ei(a,d)))):(m!==V0&&(l=Error(r(423),{cause:m}),nf(Ei(l,d))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,m=Ei(m,d),b=wb(a.stateNode,m,b),Z0(a,b),ln!==4&&(ln=2)),!1;var x=Error(r(520),{cause:m});if(x=Ei(x,d),wf===null?wf=[x]:wf.push(x),ln!==4&&(ln=2),l===null)return!0;m=Ei(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=b&-b,d.lanes|=a,a=wb(d.stateNode,m,a),Z0(d,a),!1;case 1:if(l=d.type,x=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(So===null||!So.has(x))))return d.flags|=65536,b&=-b,d.lanes|=b,b=kA(b),DA(b,a,d,m),Z0(d,b),!1}d=d.return}while(d!==null);return!1}var jb=Error(r(461)),Tn=!1;function sr(a,l,d,m){l.child=a===null?qS(l,null,d,m):Kl(l,a.child,d,m)}function MA(a,l,d,m,b){d=d.render;var x=l.ref;if("ref"in m){var T={};for(var q in m)q!=="ref"&&(T[q]=m[q])}else T=m;return $l(l),m=ib(a,l,d,T,x,b),q=ab(),a!==null&&!Tn?(sb(a,l,b),hs(a,l,b)):(ht&&q&&q0(l),l.flags|=1,sr(a,l,m,b),l.child)}function zA(a,l,d,m,b){if(a===null){var x=d.type;return typeof x=="function"&&!M0(x)&&x.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=x,LA(a,l,x,m,b)):(a=Km(d.type,null,m,l,l.mode,b),a.ref=l.ref,a.return=l,l.child=a)}if(x=a.child,!Pb(a,b)){var T=x.memoizedProps;if(d=d.compare,d=d!==null?d:Jd,d(T,m)&&a.ref===l.ref)return hs(a,l,b)}return l.flags|=1,a=os(x,m),a.ref=l.ref,a.return=l,l.child=a}function LA(a,l,d,m,b){if(a!==null){var x=a.memoizedProps;if(Jd(x,m)&&a.ref===l.ref)if(Tn=!1,l.pendingProps=m=x,Pb(a,b))(a.flags&131072)!==0&&(Tn=!0);else return l.lanes=a.lanes,hs(a,l,b)}return Eb(a,l,d,m,b)}function qA(a,l,d,m){var b=m.children,x=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(x=x!==null?x.baseLanes|d:d,a!==null){for(m=l.child=a.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;m=b&~x}else m=0,l.child=null;return UA(a,l,x,d,m)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Xm(l,x!==null?x.cachePool:null),x!==null?BS(l,x):eb(),$S(l);else return m=l.lanes=536870912,UA(a,l,x!==null?x.baseLanes|d:d,d,m)}else x!==null?(Xm(l,x.cachePool),BS(l,x),wo(),l.memoizedState=null):(a!==null&&Xm(l,null),eb(),wo());return sr(a,l,b,d),l.child}function pf(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function UA(a,l,d,m,b){var x=Q0();return x=x===null?null:{parent:Sn._currentValue,pool:x},l.memoizedState={baseLanes:d,cachePool:x},a!==null&&Xm(l,null),eb(),$S(l),a!==null&&du(a,l,m,!0),l.childLanes=b,null}function hp(a,l){return l=pp({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function VA(a,l,d){return Kl(l,a.child,null,d),a=hp(l,l.pendingProps),a.flags|=2,ii(l),l.memoizedState=null,a}function QU(a,l,d){var m=l.pendingProps,b=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(ht){if(m.mode==="hidden")return a=hp(l,m),l.lanes=536870912,pf(null,a);if(nb(l),(a=Kt)?(a=JT(a,Ai),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:mo!==null?{id:Ca,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},d=ES(a),d.return=l,l.child=d,ir=l,Kt=null)):a=null,a===null)throw go(l);return l.lanes=536870912,null}return hp(l,m)}var x=a.memoizedState;if(x!==null){var T=x.dehydrated;if(nb(l),b)if(l.flags&256)l.flags&=-257,l=VA(a,l,d);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(r(558));else if(Tn||du(a,l,d,!1),b=(d&a.childLanes)!==0,Tn||b){if(m=Ut,m!==null&&(T=Dd(m,d),T!==0&&T!==x.retryLane))throw x.retryLane=T,ql(a,T),Fr(m,a,T),jb;Ep(),l=VA(a,l,d)}else a=x.treeContext,Kt=Ci(T.nextSibling),ir=l,ht=!0,po=null,Ai=!1,a!==null&&AS(l,a),l=hp(l,m),l.flags|=4096;return l}return a=os(a.child,{mode:m.mode,children:m.children}),a.ref=l.ref,l.child=a,a.return=l,a}function mp(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(l.flags|=4194816)}}function Eb(a,l,d,m,b){return $l(l),d=ib(a,l,d,m,void 0,b),m=ab(),a!==null&&!Tn?(sb(a,l,b),hs(a,l,b)):(ht&&m&&q0(l),l.flags|=1,sr(a,l,d,b),l.child)}function BA(a,l,d,m,b,x){return $l(l),l.updateQueue=null,d=HS(l,m,d,b),FS(a),m=ab(),a!==null&&!Tn?(sb(a,l,x),hs(a,l,x)):(ht&&m&&q0(l),l.flags|=1,sr(a,l,d,x),l.child)}function $A(a,l,d,m,b){if($l(l),l.stateNode===null){var x=ou,T=d.contextType;typeof T=="object"&&T!==null&&(x=ar(T)),x=new d(m,x),l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=xb,l.stateNode=x,x._reactInternals=l,x=l.stateNode,x.props=m,x.state=l.memoizedState,x.refs={},Y0(l),T=d.contextType,x.context=typeof T=="object"&&T!==null?ar(T):ou,x.state=l.memoizedState,T=d.getDerivedStateFromProps,typeof T=="function"&&(_b(l,d,T,m),x.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(T=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),T!==x.state&&xb.enqueueReplaceState(x,x.state,null),uf(l,m,x,b),cf(),x.state=l.memoizedState),typeof x.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(a===null){x=l.stateNode;var q=l.memoizedProps,K=Wl(d,q);x.props=K;var se=x.context,me=d.contextType;T=ou,typeof me=="object"&&me!==null&&(T=ar(me));var _e=d.getDerivedStateFromProps;me=typeof _e=="function"||typeof x.getSnapshotBeforeUpdate=="function",q=l.pendingProps!==q,me||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(q||se!==T)&&CA(l,x,m,T),yo=!1;var oe=l.memoizedState;x.state=oe,uf(l,m,x,b),cf(),se=l.memoizedState,q||oe!==se||yo?(typeof _e=="function"&&(_b(l,d,_e,m),se=l.memoizedState),(K=yo||TA(l,d,K,m,oe,se,T))?(me||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(l.flags|=4194308)):(typeof x.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=se),x.props=m,x.state=se,x.context=T,m=K):(typeof x.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{x=l.stateNode,X0(a,l),T=l.memoizedProps,me=Wl(d,T),x.props=me,_e=l.pendingProps,oe=x.context,se=d.contextType,K=ou,typeof se=="object"&&se!==null&&(K=ar(se)),q=d.getDerivedStateFromProps,(se=typeof q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T!==_e||oe!==K)&&CA(l,x,m,K),yo=!1,oe=l.memoizedState,x.state=oe,uf(l,m,x,b),cf();var fe=l.memoizedState;T!==_e||oe!==fe||yo||a!==null&&a.dependencies!==null&&Wm(a.dependencies)?(typeof q=="function"&&(_b(l,d,q,m),fe=l.memoizedState),(me=yo||TA(l,d,me,m,oe,fe,K)||a!==null&&a.dependencies!==null&&Wm(a.dependencies))?(se||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,fe,K),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,fe,K)),typeof x.componentDidUpdate=="function"&&(l.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof x.componentDidUpdate!="function"||T===a.memoizedProps&&oe===a.memoizedState||(l.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&oe===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=fe),x.props=m,x.state=fe,x.context=K,m=me):(typeof x.componentDidUpdate!="function"||T===a.memoizedProps&&oe===a.memoizedState||(l.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&oe===a.memoizedState||(l.flags|=1024),m=!1)}return x=m,mp(a,l),m=(l.flags&128)!==0,x||m?(x=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:x.render(),l.flags|=1,a!==null&&m?(l.child=Kl(l,a.child,null,b),l.child=Kl(l,null,d,b)):sr(a,l,d,b),l.memoizedState=x.state,a=l.child):a=hs(a,l,b),a}function FA(a,l,d,m){return Vl(),l.flags|=256,sr(a,l,d,m),l.child}var Nb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sb(a){return{baseLanes:a,cachePool:RS()}}function Ab(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=si),a}function HA(a,l,d){var m=l.pendingProps,b=!1,x=(l.flags&128)!==0,T;if((T=x)||(T=a!==null&&a.memoizedState===null?!1:(gn.current&2)!==0),T&&(b=!0,l.flags&=-129),T=(l.flags&32)!==0,l.flags&=-33,a===null){if(ht){if(b?xo(l):wo(),(a=Kt)?(a=JT(a,Ai),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:mo!==null?{id:Ca,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},d=ES(a),d.return=l,l.child=d,ir=l,Kt=null)):a=null,a===null)throw go(l);return c_(a)?l.lanes=32:l.lanes=536870912,null}var q=m.children;return m=m.fallback,b?(wo(),b=l.mode,q=pp({mode:"hidden",children:q},b),m=Ul(m,b,d,null),q.return=l,m.return=l,q.sibling=m,l.child=q,m=l.child,m.memoizedState=Sb(d),m.childLanes=Ab(a,T,d),l.memoizedState=Nb,pf(null,m)):(xo(l),Tb(l,q))}var K=a.memoizedState;if(K!==null&&(q=K.dehydrated,q!==null)){if(x)l.flags&256?(xo(l),l.flags&=-257,l=Cb(a,l,d)):l.memoizedState!==null?(wo(),l.child=a.child,l.flags|=128,l=null):(wo(),q=m.fallback,b=l.mode,m=pp({mode:"visible",children:m.children},b),q=Ul(q,b,d,null),q.flags|=2,m.return=l,q.return=l,m.sibling=q,l.child=m,Kl(l,a.child,null,d),m=l.child,m.memoizedState=Sb(d),m.childLanes=Ab(a,T,d),l.memoizedState=Nb,l=pf(null,m));else if(xo(l),c_(q)){if(T=q.nextSibling&&q.nextSibling.dataset,T)var se=T.dgst;T=se,m=Error(r(419)),m.stack="",m.digest=T,nf({value:m,source:null,stack:null}),l=Cb(a,l,d)}else if(Tn||du(a,l,d,!1),T=(d&a.childLanes)!==0,Tn||T){if(T=Ut,T!==null&&(m=Dd(T,d),m!==0&&m!==K.retryLane))throw K.retryLane=m,ql(a,m),Fr(T,a,m),jb;l_(q)||Ep(),l=Cb(a,l,d)}else l_(q)?(l.flags|=192,l.child=a.child,l=null):(a=K.treeContext,Kt=Ci(q.nextSibling),ir=l,ht=!0,po=null,Ai=!1,a!==null&&AS(l,a),l=Tb(l,m.children),l.flags|=4096);return l}return b?(wo(),q=m.fallback,b=l.mode,K=a.child,se=K.sibling,m=os(K,{mode:"hidden",children:m.children}),m.subtreeFlags=K.subtreeFlags&65011712,se!==null?q=os(se,q):(q=Ul(q,b,d,null),q.flags|=2),q.return=l,m.return=l,m.sibling=q,l.child=m,pf(null,m),m=l.child,q=a.child.memoizedState,q===null?q=Sb(d):(b=q.cachePool,b!==null?(K=Sn._currentValue,b=b.parent!==K?{parent:K,pool:K}:b):b=RS(),q={baseLanes:q.baseLanes|d,cachePool:b}),m.memoizedState=q,m.childLanes=Ab(a,T,d),l.memoizedState=Nb,pf(a.child,m)):(xo(l),d=a.child,a=d.sibling,d=os(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,a!==null&&(T=l.deletions,T===null?(l.deletions=[a],l.flags|=16):T.push(a)),l.child=d,l.memoizedState=null,d)}function Tb(a,l){return l=pp({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function pp(a,l){return a=ni(22,a,null,l),a.lanes=0,a}function Cb(a,l,d){return Kl(l,a.child,null,d),a=Tb(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function GA(a,l,d){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),F0(a.return,l,d)}function Ob(a,l,d,m,b,x){var T=a.memoizedState;T===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:b,treeForkCount:x}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=m,T.tail=d,T.tailMode=b,T.treeForkCount=x)}function KA(a,l,d){var m=l.pendingProps,b=m.revealOrder,x=m.tail;m=m.children;var T=gn.current,q=(T&2)!==0;if(q?(T=T&1|2,l.flags|=128):T&=1,pe(gn,T),sr(a,l,m,d),m=ht?tf:0,!q&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&GA(a,d,l);else if(a.tag===19)GA(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(b){case"forwards":for(d=l.child,b=null;d!==null;)a=d.alternate,a!==null&&rp(a)===null&&(b=d),d=d.sibling;d=b,d===null?(b=l.child,l.child=null):(b=d.sibling,d.sibling=null),Ob(l,!1,b,d,x,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,b=l.child,l.child=null;b!==null;){if(a=b.alternate,a!==null&&rp(a)===null){l.child=b;break}a=b.sibling,b.sibling=d,d=b,b=a}Ob(l,!0,d,null,x,m);break;case"together":Ob(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function hs(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),No|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(du(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,d=os(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=os(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function Pb(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Wm(a)))}function WU(a,l,d){switch(l.tag){case 3:Ce(l,l.stateNode.containerInfo),vo(l,Sn,a.memoizedState.cache),Vl();break;case 27:case 5:Ee(l);break;case 4:Ce(l,l.stateNode.containerInfo);break;case 10:vo(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,nb(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(xo(l),l.flags|=128,null):(d&l.child.childLanes)!==0?HA(a,l,d):(xo(l),a=hs(a,l,d),a!==null?a.sibling:null);xo(l);break;case 19:var b=(a.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(du(a,l,d,!1),m=(d&l.childLanes)!==0),b){if(m)return KA(a,l,d);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),pe(gn,gn.current),m)break;return null;case 22:return l.lanes=0,qA(a,l,d,l.pendingProps);case 24:vo(l,Sn,a.memoizedState.cache)}return hs(a,l,d)}function QA(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)Tn=!0;else{if(!Pb(a,d)&&(l.flags&128)===0)return Tn=!1,WU(a,l,d);Tn=(a.flags&131072)!==0}else Tn=!1,ht&&(l.flags&1048576)!==0&&SS(l,tf,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(a=Hl(l.elementType),l.type=a,typeof a=="function")M0(a)?(m=Wl(a,m),l.tag=1,l=$A(null,l,a,m,d)):(l.tag=0,l=Eb(null,l,a,m,d));else{if(a!=null){var b=a.$$typeof;if(b===O){l.tag=11,l=MA(null,l,a,m,d);break e}else if(b===k){l.tag=14,l=zA(null,l,a,m,d);break e}}throw l=Q(a)||a,Error(r(306,l,""))}}return l;case 0:return Eb(a,l,l.type,l.pendingProps,d);case 1:return m=l.type,b=Wl(m,l.pendingProps),$A(a,l,m,b,d);case 3:e:{if(Ce(l,l.stateNode.containerInfo),a===null)throw Error(r(387));m=l.pendingProps;var x=l.memoizedState;b=x.element,X0(a,l),uf(l,m,null,d);var T=l.memoizedState;if(m=T.cache,vo(l,Sn,m),m!==x.cache&&H0(l,[Sn],d,!0),cf(),m=T.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:T.cache},l.updateQueue.baseState=x,l.memoizedState=x,l.flags&256){l=FA(a,l,m,d);break e}else if(m!==b){b=Ei(Error(r(424)),l),nf(b),l=FA(a,l,m,d);break e}else for(a=l.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Kt=Ci(a.firstChild),ir=l,ht=!0,po=null,Ai=!0,d=qS(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Vl(),m===b){l=hs(a,l,d);break e}sr(a,l,m,d)}l=l.child}return l;case 26:return mp(a,l),a===null?(d=aC(l.type,null,l.pendingProps,null))?l.memoizedState=d:ht||(d=l.type,a=l.pendingProps,m=Pp(H.current).createElement(d),m[jn]=l,m[Fn]=a,or(m,d,a),En(m),l.stateNode=m):l.memoizedState=aC(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Ee(l),a===null&&ht&&(m=l.stateNode=nC(l.type,l.pendingProps,H.current),ir=l,Ai=!0,b=Kt,Oo(l.type)?(u_=b,Kt=Ci(m.firstChild)):Kt=b),sr(a,l,l.pendingProps.children,d),mp(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&ht&&((b=m=Kt)&&(m=NV(m,l.type,l.pendingProps,Ai),m!==null?(l.stateNode=m,ir=l,Kt=Ci(m.firstChild),Ai=!1,b=!0):b=!1),b||go(l)),Ee(l),b=l.type,x=l.pendingProps,T=a!==null?a.memoizedProps:null,m=x.children,a_(b,x)?m=null:T!==null&&a_(b,T)&&(l.flags|=32),l.memoizedState!==null&&(b=ib(a,l,UU,null,null,d),Of._currentValue=b),mp(a,l),sr(a,l,m,d),l.child;case 6:return a===null&&ht&&((a=d=Kt)&&(d=SV(d,l.pendingProps,Ai),d!==null?(l.stateNode=d,ir=l,Kt=null,a=!0):a=!1),a||go(l)),null;case 13:return HA(a,l,d);case 4:return Ce(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=Kl(l,null,m,d):sr(a,l,m,d),l.child;case 11:return MA(a,l,l.type,l.pendingProps,d);case 7:return sr(a,l,l.pendingProps,d),l.child;case 8:return sr(a,l,l.pendingProps.children,d),l.child;case 12:return sr(a,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,vo(l,l.type,m.value),sr(a,l,m.children,d),l.child;case 9:return b=l.type._context,m=l.pendingProps.children,$l(l),b=ar(b),m=m(b),l.flags|=1,sr(a,l,m,d),l.child;case 14:return zA(a,l,l.type,l.pendingProps,d);case 15:return LA(a,l,l.type,l.pendingProps,d);case 19:return KA(a,l,d);case 31:return QU(a,l,d);case 22:return qA(a,l,d,l.pendingProps);case 24:return $l(l),m=ar(Sn),a===null?(b=Q0(),b===null&&(b=Ut,x=G0(),b.pooledCache=x,x.refCount++,x!==null&&(b.pooledCacheLanes|=d),b=x),l.memoizedState={parent:m,cache:b},Y0(l),vo(l,Sn,b)):((a.lanes&d)!==0&&(X0(a,l),uf(l,null,null,d),cf()),b=a.memoizedState,x=l.memoizedState,b.parent!==m?(b={parent:m,cache:m},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),vo(l,Sn,m)):(m=x.cache,vo(l,Sn,m),m!==b.cache&&H0(l,[Sn],d,!0))),sr(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ms(a){a.flags|=4}function Ib(a,l,d,m,b){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(b&335544128)===b)if(a.stateNode.complete)a.flags|=8192;else if(xT())a.flags|=8192;else throw Gl=Jm,W0}else a.flags&=-16777217}function WA(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!uC(l))if(xT())a.flags|=8192;else throw Gl=Jm,W0}function gp(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Ue():536870912,a.lanes|=l,ju|=l)}function gf(a,l){if(!ht)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Qt(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,m=0;if(l)for(var b=a.child;b!==null;)d|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)d|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=m,a.childLanes=d,l}function YU(a,l,d){var m=l.pendingProps;switch(U0(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(l),null;case 1:return Qt(l),null;case 3:return d=l.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),us(Sn),ie(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(uu(l)?ms(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,B0())),Qt(l),null;case 26:var b=l.type,x=l.memoizedState;return a===null?(ms(l),x!==null?(Qt(l),WA(l,x)):(Qt(l),Ib(l,b,null,m,d))):x?x!==a.memoizedState?(ms(l),Qt(l),WA(l,x)):(Qt(l),l.flags&=-16777217):(a=a.memoizedProps,a!==m&&ms(l),Qt(l),Ib(l,b,a,m,d)),null;case 27:if(Z(l),d=H.current,b=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&ms(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Qt(l),null}a=we.current,uu(l)?TS(l):(a=nC(b,m,d),l.stateNode=a,ms(l))}return Qt(l),null;case 5:if(Z(l),b=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&ms(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Qt(l),null}if(x=we.current,uu(l))TS(l);else{var T=Pp(H.current);switch(x){case 1:x=T.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:x=T.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":x=T.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":x=T.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":x=T.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof m.is=="string"?T.createElement("select",{is:m.is}):T.createElement("select"),m.multiple?x.multiple=!0:m.size&&(x.size=m.size);break;default:x=typeof m.is=="string"?T.createElement(b,{is:m.is}):T.createElement(b)}}x[jn]=l,x[Fn]=m;e:for(T=l.child;T!==null;){if(T.tag===5||T.tag===6)x.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===l)break e;for(;T.sibling===null;){if(T.return===null||T.return===l)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}l.stateNode=x;e:switch(or(x,b,m),b){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ms(l)}}return Qt(l),Ib(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,d),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==m&&ms(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(a=H.current,uu(l)){if(a=l.stateNode,d=l.memoizedProps,m=null,b=ir,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}a[jn]=l,a=!!(a.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||HT(a.nodeValue,d)),a||go(l,!0)}else a=Pp(a).createTextNode(m),a[jn]=l,l.stateNode=a}return Qt(l),null;case 31:if(d=l.memoizedState,a===null||a.memoizedState!==null){if(m=uu(l),d!==null){if(a===null){if(!m)throw Error(r(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[jn]=l}else Vl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Qt(l),a=!1}else d=B0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return l.flags&256?(ii(l),l):(ii(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Qt(l),null;case 13:if(m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=uu(l),m!==null&&m.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[jn]=l}else Vl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Qt(l),b=!1}else b=B0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(ii(l),l):(ii(l),null)}return ii(l),(l.flags&128)!==0?(l.lanes=d,l):(d=m!==null,a=a!==null&&a.memoizedState!==null,d&&(m=l.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==b&&(m.flags|=2048)),d!==a&&d&&(l.child.flags|=8192),gp(l,l.updateQueue),Qt(l),null);case 4:return ie(),a===null&&e_(l.stateNode.containerInfo),Qt(l),null;case 10:return us(l.type),Qt(l),null;case 19:if(ne(gn),m=l.memoizedState,m===null)return Qt(l),null;if(b=(l.flags&128)!==0,x=m.rendering,x===null)if(b)gf(m,!1);else{if(ln!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(x=rp(a),x!==null){for(l.flags|=128,gf(m,!1),a=x.updateQueue,l.updateQueue=a,gp(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)jS(d,a),d=d.sibling;return pe(gn,gn.current&1|2),ht&&ls(l,m.treeForkCount),l.child}a=a.sibling}m.tail!==null&&Ve()>xp&&(l.flags|=128,b=!0,gf(m,!1),l.lanes=4194304)}else{if(!b)if(a=rp(x),a!==null){if(l.flags|=128,b=!0,a=a.updateQueue,l.updateQueue=a,gp(l,a),gf(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!ht)return Qt(l),null}else 2*Ve()-m.renderingStartTime>xp&&d!==536870912&&(l.flags|=128,b=!0,gf(m,!1),l.lanes=4194304);m.isBackwards?(x.sibling=l.child,l.child=x):(a=m.last,a!==null?a.sibling=x:l.child=x,m.last=x)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Ve(),a.sibling=null,d=gn.current,pe(gn,b?d&1|2:d&1),ht&&ls(l,m.treeForkCount),a):(Qt(l),null);case 22:case 23:return ii(l),tb(),m=l.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&(Qt(l),l.subtreeFlags&6&&(l.flags|=8192)):Qt(l),d=l.updateQueue,d!==null&&gp(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),a!==null&&ne(Fl),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),us(Sn),Qt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function XU(a,l){switch(U0(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return us(Sn),ie(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Z(l),null;case 31:if(l.memoizedState!==null){if(ii(l),l.alternate===null)throw Error(r(340));Vl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(ii(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Vl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return ne(gn),null;case 4:return ie(),null;case 10:return us(l.type),null;case 22:case 23:return ii(l),tb(),a!==null&&ne(Fl),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return us(Sn),null;case 25:return null;default:return null}}function YA(a,l){switch(U0(l),l.tag){case 3:us(Sn),ie();break;case 26:case 27:case 5:Z(l);break;case 4:ie();break;case 31:l.memoizedState!==null&&ii(l);break;case 13:ii(l);break;case 19:ne(gn);break;case 10:us(l.type);break;case 22:case 23:ii(l),tb(),a!==null&&ne(Fl);break;case 24:us(Sn)}}function vf(a,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var b=m.next;d=b;do{if((d.tag&a)===a){m=void 0;var x=d.create,T=d.inst;m=x(),T.destroy=m}d=d.next}while(d!==b)}}catch(q){Tt(l,l.return,q)}}function jo(a,l,d){try{var m=l.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var x=b.next;m=x;do{if((m.tag&a)===a){var T=m.inst,q=T.destroy;if(q!==void 0){T.destroy=void 0,b=l;var K=d,se=q;try{se()}catch(me){Tt(b,K,me)}}}m=m.next}while(m!==x)}}catch(me){Tt(l,l.return,me)}}function XA(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{VS(l,d)}catch(m){Tt(a,a.return,m)}}}function ZA(a,l,d){d.props=Wl(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(m){Tt(a,l,m)}}function yf(a,l){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof d=="function"?a.refCleanup=d(m):d.current=m}}catch(b){Tt(a,l,b)}}function Pa(a,l){var d=a.ref,m=a.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(b){Tt(a,l,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){Tt(a,l,b)}else d.current=null}function JA(a){var l=a.type,d=a.memoizedProps,m=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(b){Tt(a,a.return,b)}}function Rb(a,l,d){try{var m=a.stateNode;bV(m,a.type,d,l),m[Fn]=l}catch(b){Tt(a,a.return,b)}}function eT(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Oo(a.type)||a.tag===4}function kb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||eT(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Oo(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Db(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(a),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Ki));else if(m!==4&&(m===27&&Oo(a.type)&&(d=a.stateNode,l=null),a=a.child,a!==null))for(Db(a,l,d),a=a.sibling;a!==null;)Db(a,l,d),a=a.sibling}function vp(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(m!==4&&(m===27&&Oo(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(vp(a,l,d),a=a.sibling;a!==null;)vp(a,l,d),a=a.sibling}function tT(a){var l=a.stateNode,d=a.memoizedProps;try{for(var m=a.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);or(l,m,d),l[jn]=a,l[Fn]=d}catch(x){Tt(a,a.return,x)}}var ps=!1,Cn=!1,Mb=!1,nT=typeof WeakSet=="function"?WeakSet:Set,Gn=null;function ZU(a,l){if(a=a.containerInfo,r_=Lp,a=mS(a),C0(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var b=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{d.nodeType,x.nodeType}catch{d=null;break e}var T=0,q=-1,K=-1,se=0,me=0,_e=a,oe=null;t:for(;;){for(var fe;_e!==d||b!==0&&_e.nodeType!==3||(q=T+b),_e!==x||m!==0&&_e.nodeType!==3||(K=T+m),_e.nodeType===3&&(T+=_e.nodeValue.length),(fe=_e.firstChild)!==null;)oe=_e,_e=fe;for(;;){if(_e===a)break t;if(oe===d&&++se===b&&(q=T),oe===x&&++me===m&&(K=T),(fe=_e.nextSibling)!==null)break;_e=oe,oe=_e.parentNode}_e=fe}d=q===-1||K===-1?null:{start:q,end:K}}else d=null}d=d||{start:0,end:0}}else d=null;for(i_={focusedElem:a,selectionRange:d},Lp=!1,Gn=l;Gn!==null;)if(l=Gn,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Gn=a;else for(;Gn!==null;){switch(l=Gn,x=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)b=a[d],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,d=l,b=x.memoizedProps,x=x.memoizedState,m=d.stateNode;try{var Pe=Wl(d.type,b);a=m.getSnapshotBeforeUpdate(Pe,x),m.__reactInternalSnapshotBeforeUpdate=a}catch(Be){Tt(d,d.return,Be)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)o_(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":o_(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,Gn=a;break}Gn=l.return}}function rT(a,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:vs(a,d),m&4&&vf(5,d);break;case 1:if(vs(a,d),m&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(T){Tt(d,d.return,T)}else{var b=Wl(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(b,l,a.__reactInternalSnapshotBeforeUpdate)}catch(T){Tt(d,d.return,T)}}m&64&&XA(d),m&512&&yf(d,d.return);break;case 3:if(vs(a,d),m&64&&(a=d.updateQueue,a!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{VS(a,l)}catch(T){Tt(d,d.return,T)}}break;case 27:l===null&&m&4&&tT(d);case 26:case 5:vs(a,d),l===null&&m&4&&JA(d),m&512&&yf(d,d.return);break;case 12:vs(a,d);break;case 31:vs(a,d),m&4&&sT(a,d);break;case 13:vs(a,d),m&4&&oT(a,d),m&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=oV.bind(null,d),AV(a,d))));break;case 22:if(m=d.memoizedState!==null||ps,!m){l=l!==null&&l.memoizedState!==null||Cn,b=ps;var x=Cn;ps=m,(Cn=l)&&!x?ys(a,d,(d.subtreeFlags&8772)!==0):vs(a,d),ps=b,Cn=x}break;case 30:break;default:vs(a,d)}}function iT(a){var l=a.alternate;l!==null&&(a.alternate=null,iT(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Kc(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Xt=null,Ur=!1;function gs(a,l,d){for(d=d.child;d!==null;)aT(a,l,d),d=d.sibling}function aT(a,l,d){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(an,d)}catch{}switch(d.tag){case 26:Cn||Pa(d,l),gs(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Cn||Pa(d,l);var m=Xt,b=Ur;Oo(d.type)&&(Xt=d.stateNode,Ur=!1),gs(a,l,d),Af(d.stateNode),Xt=m,Ur=b;break;case 5:Cn||Pa(d,l);case 6:if(m=Xt,b=Ur,Xt=null,gs(a,l,d),Xt=m,Ur=b,Xt!==null)if(Ur)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(d.stateNode)}catch(x){Tt(d,l,x)}else try{Xt.removeChild(d.stateNode)}catch(x){Tt(d,l,x)}break;case 18:Xt!==null&&(Ur?(a=Xt,XT(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Pu(a)):XT(Xt,d.stateNode));break;case 4:m=Xt,b=Ur,Xt=d.stateNode.containerInfo,Ur=!0,gs(a,l,d),Xt=m,Ur=b;break;case 0:case 11:case 14:case 15:jo(2,d,l),Cn||jo(4,d,l),gs(a,l,d);break;case 1:Cn||(Pa(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&ZA(d,l,m)),gs(a,l,d);break;case 21:gs(a,l,d);break;case 22:Cn=(m=Cn)||d.memoizedState!==null,gs(a,l,d),Cn=m;break;default:gs(a,l,d)}}function sT(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Pu(a)}catch(d){Tt(l,l.return,d)}}}function oT(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Pu(a)}catch(d){Tt(l,l.return,d)}}function JU(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new nT),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new nT),l;default:throw Error(r(435,a.tag))}}function yp(a,l){var d=JU(a);l.forEach(function(m){if(!d.has(m)){d.add(m);var b=lV.bind(null,a,m);m.then(b,b)}})}function Vr(a,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var b=d[m],x=a,T=l,q=T;e:for(;q!==null;){switch(q.tag){case 27:if(Oo(q.type)){Xt=q.stateNode,Ur=!1;break e}break;case 5:Xt=q.stateNode,Ur=!1;break e;case 3:case 4:Xt=q.stateNode.containerInfo,Ur=!0;break e}q=q.return}if(Xt===null)throw Error(r(160));aT(x,T,b),Xt=null,Ur=!1,x=b.alternate,x!==null&&(x.return=null),b.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)lT(l,a),l=l.sibling}var Ji=null;function lT(a,l){var d=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Vr(l,a),Br(a),m&4&&(jo(3,a,a.return),vf(3,a),jo(5,a,a.return));break;case 1:Vr(l,a),Br(a),m&512&&(Cn||d===null||Pa(d,d.return)),m&64&&ps&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var b=Ji;if(Vr(l,a),Br(a),m&512&&(Cn||d===null||Pa(d,d.return)),m&4){var x=d!==null?d.memoizedState:null;if(m=a.memoizedState,d===null)if(m===null)if(a.stateNode===null){e:{m=a.type,d=a.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":x=b.getElementsByTagName("title")[0],(!x||x[va]||x[jn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=b.createElement(m),b.head.insertBefore(x,b.querySelector("head > title"))),or(x,m,d),x[jn]=a,En(x),m=x;break e;case"link":var T=lC("link","href",b).get(m+(d.href||""));if(T){for(var q=0;q<T.length;q++)if(x=T[q],x.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&x.getAttribute("rel")===(d.rel==null?null:d.rel)&&x.getAttribute("title")===(d.title==null?null:d.title)&&x.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){T.splice(q,1);break t}}x=b.createElement(m),or(x,m,d),b.head.appendChild(x);break;case"meta":if(T=lC("meta","content",b).get(m+(d.content||""))){for(q=0;q<T.length;q++)if(x=T[q],x.getAttribute("content")===(d.content==null?null:""+d.content)&&x.getAttribute("name")===(d.name==null?null:d.name)&&x.getAttribute("property")===(d.property==null?null:d.property)&&x.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&x.getAttribute("charset")===(d.charSet==null?null:d.charSet)){T.splice(q,1);break t}}x=b.createElement(m),or(x,m,d),b.head.appendChild(x);break;default:throw Error(r(468,m))}x[jn]=a,En(x),m=x}a.stateNode=m}else cC(b,a.type,a.stateNode);else a.stateNode=oC(b,m,a.memoizedProps);else x!==m?(x===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):x.count--,m===null?cC(b,a.type,a.stateNode):oC(b,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Rb(a,a.memoizedProps,d.memoizedProps)}break;case 27:Vr(l,a),Br(a),m&512&&(Cn||d===null||Pa(d,d.return)),d!==null&&m&4&&Rb(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Vr(l,a),Br(a),m&512&&(Cn||d===null||Pa(d,d.return)),a.flags&32){b=a.stateNode;try{qr(b,"")}catch(Pe){Tt(a,a.return,Pe)}}m&4&&a.stateNode!=null&&(b=a.memoizedProps,Rb(a,b,d!==null?d.memoizedProps:b)),m&1024&&(Mb=!0);break;case 6:if(Vr(l,a),Br(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,d=a.stateNode;try{d.nodeValue=m}catch(Pe){Tt(a,a.return,Pe)}}break;case 3:if(kp=null,b=Ji,Ji=Ip(l.containerInfo),Vr(l,a),Ji=b,Br(a),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Pu(l.containerInfo)}catch(Pe){Tt(a,a.return,Pe)}Mb&&(Mb=!1,cT(a));break;case 4:m=Ji,Ji=Ip(a.stateNode.containerInfo),Vr(l,a),Br(a),Ji=m;break;case 12:Vr(l,a),Br(a);break;case 31:Vr(l,a),Br(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,yp(a,m)));break;case 13:Vr(l,a),Br(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(_p=Ve()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,yp(a,m)));break;case 22:b=a.memoizedState!==null;var K=d!==null&&d.memoizedState!==null,se=ps,me=Cn;if(ps=se||b,Cn=me||K,Vr(l,a),Cn=me,ps=se,Br(a),m&8192)e:for(l=a.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(d===null||K||ps||Cn||Yl(a)),d=null,l=a;;){if(l.tag===5||l.tag===26){if(d===null){K=d=l;try{if(x=K.stateNode,b)T=x.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{q=K.stateNode;var _e=K.memoizedProps.style,oe=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;q.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Pe){Tt(K,K.return,Pe)}}}else if(l.tag===6){if(d===null){K=l;try{K.stateNode.nodeValue=b?"":K.memoizedProps}catch(Pe){Tt(K,K.return,Pe)}}}else if(l.tag===18){if(d===null){K=l;try{var fe=K.stateNode;b?ZT(fe,!0):ZT(K.stateNode,!1)}catch(Pe){Tt(K,K.return,Pe)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=a.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,yp(a,d))));break;case 19:Vr(l,a),Br(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,yp(a,m)));break;case 30:break;case 21:break;default:Vr(l,a),Br(a)}}function Br(a){var l=a.flags;if(l&2){try{for(var d,m=a.return;m!==null;){if(eT(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var b=d.stateNode,x=kb(a);vp(a,x,b);break;case 5:var T=d.stateNode;d.flags&32&&(qr(T,""),d.flags&=-33);var q=kb(a);vp(a,q,T);break;case 3:case 4:var K=d.stateNode.containerInfo,se=kb(a);Db(a,se,K);break;default:throw Error(r(161))}}catch(me){Tt(a,a.return,me)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function cT(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;cT(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function vs(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)rT(a,l.alternate,l),l=l.sibling}function Yl(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:jo(4,l,l.return),Yl(l);break;case 1:Pa(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&ZA(l,l.return,d),Yl(l);break;case 27:Af(l.stateNode);case 26:case 5:Pa(l,l.return),Yl(l);break;case 22:l.memoizedState===null&&Yl(l);break;case 30:Yl(l);break;default:Yl(l)}a=a.sibling}}function ys(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,b=a,x=l,T=x.flags;switch(x.tag){case 0:case 11:case 15:ys(b,x,d),vf(4,x);break;case 1:if(ys(b,x,d),m=x,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(se){Tt(m,m.return,se)}if(m=x,b=m.updateQueue,b!==null){var q=m.stateNode;try{var K=b.shared.hiddenCallbacks;if(K!==null)for(b.shared.hiddenCallbacks=null,b=0;b<K.length;b++)US(K[b],q)}catch(se){Tt(m,m.return,se)}}d&&T&64&&XA(x),yf(x,x.return);break;case 27:tT(x);case 26:case 5:ys(b,x,d),d&&m===null&&T&4&&JA(x),yf(x,x.return);break;case 12:ys(b,x,d);break;case 31:ys(b,x,d),d&&T&4&&sT(b,x);break;case 13:ys(b,x,d),d&&T&4&&oT(b,x);break;case 22:x.memoizedState===null&&ys(b,x,d),yf(x,x.return);break;case 30:break;default:ys(b,x,d)}l=l.sibling}}function zb(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&rf(d))}function Lb(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&rf(a))}function ea(a,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)uT(a,l,d,m),l=l.sibling}function uT(a,l,d,m){var b=l.flags;switch(l.tag){case 0:case 11:case 15:ea(a,l,d,m),b&2048&&vf(9,l);break;case 1:ea(a,l,d,m);break;case 3:ea(a,l,d,m),b&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&rf(a)));break;case 12:if(b&2048){ea(a,l,d,m),a=l.stateNode;try{var x=l.memoizedProps,T=x.id,q=x.onPostCommit;typeof q=="function"&&q(T,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(K){Tt(l,l.return,K)}}else ea(a,l,d,m);break;case 31:ea(a,l,d,m);break;case 13:ea(a,l,d,m);break;case 23:break;case 22:x=l.stateNode,T=l.alternate,l.memoizedState!==null?x._visibility&2?ea(a,l,d,m):bf(a,l):x._visibility&2?ea(a,l,d,m):(x._visibility|=2,_u(a,l,d,m,(l.subtreeFlags&10256)!==0||!1)),b&2048&&zb(T,l);break;case 24:ea(a,l,d,m),b&2048&&Lb(l.alternate,l);break;default:ea(a,l,d,m)}}function _u(a,l,d,m,b){for(b=b&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var x=a,T=l,q=d,K=m,se=T.flags;switch(T.tag){case 0:case 11:case 15:_u(x,T,q,K,b),vf(8,T);break;case 23:break;case 22:var me=T.stateNode;T.memoizedState!==null?me._visibility&2?_u(x,T,q,K,b):bf(x,T):(me._visibility|=2,_u(x,T,q,K,b)),b&&se&2048&&zb(T.alternate,T);break;case 24:_u(x,T,q,K,b),b&&se&2048&&Lb(T.alternate,T);break;default:_u(x,T,q,K,b)}l=l.sibling}}function bf(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,m=l,b=m.flags;switch(m.tag){case 22:bf(d,m),b&2048&&zb(m.alternate,m);break;case 24:bf(d,m),b&2048&&Lb(m.alternate,m);break;default:bf(d,m)}l=l.sibling}}var _f=8192;function xu(a,l,d){if(a.subtreeFlags&_f)for(a=a.child;a!==null;)dT(a,l,d),a=a.sibling}function dT(a,l,d){switch(a.tag){case 26:xu(a,l,d),a.flags&_f&&a.memoizedState!==null&&qV(d,Ji,a.memoizedState,a.memoizedProps);break;case 5:xu(a,l,d);break;case 3:case 4:var m=Ji;Ji=Ip(a.stateNode.containerInfo),xu(a,l,d),Ji=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=_f,_f=16777216,xu(a,l,d),_f=m):xu(a,l,d));break;default:xu(a,l,d)}}function fT(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function xf(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];Gn=m,mT(m,a)}fT(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)hT(a),a=a.sibling}function hT(a){switch(a.tag){case 0:case 11:case 15:xf(a),a.flags&2048&&jo(9,a,a.return);break;case 3:xf(a);break;case 12:xf(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,bp(a)):xf(a);break;default:xf(a)}}function bp(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];Gn=m,mT(m,a)}fT(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:jo(8,l,l.return),bp(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,bp(l));break;default:bp(l)}a=a.sibling}}function mT(a,l){for(;Gn!==null;){var d=Gn;switch(d.tag){case 0:case 11:case 15:jo(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:rf(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,Gn=m;else e:for(d=a;Gn!==null;){m=Gn;var b=m.sibling,x=m.return;if(iT(m),m===d){Gn=null;break e}if(b!==null){b.return=x,Gn=b;break e}Gn=x}}}var eV={getCacheForType:function(a){var l=ar(Sn),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d},cacheSignal:function(){return ar(Sn).controller.signal}},tV=typeof WeakMap=="function"?WeakMap:Map,jt=0,Ut=null,nt=null,ot=0,At=0,ai=null,Eo=!1,wu=!1,qb=!1,bs=0,ln=0,No=0,Xl=0,Ub=0,si=0,ju=0,wf=null,$r=null,Vb=!1,_p=0,pT=0,xp=1/0,wp=null,So=null,Ln=0,Ao=null,Eu=null,_s=0,Bb=0,$b=null,gT=null,jf=0,Fb=null;function oi(){return(jt&2)!==0&&ot!==0?ot&-ot:G.T!==null?Yb():jm()}function vT(){if(si===0)if((ot&536870912)===0||ht){var a=ns;ns<<=1,(ns&3932160)===0&&(ns=262144),si=a}else si=536870912;return a=ri.current,a!==null&&(a.flags|=32),si}function Fr(a,l,d){(a===Ut&&(At===2||At===9)||a.cancelPendingCommit!==null)&&(Nu(a,0),To(a,ot,si,!1)),$n(a,d),((jt&2)===0||a!==Ut)&&(a===Ut&&((jt&2)===0&&(Xl|=d),ln===4&&To(a,ot,si,!1)),Ia(a))}function yT(a,l,d){if((jt&6)!==0)throw Error(r(327));var m=!d&&(l&127)===0&&(l&a.expiredLanes)===0||Zr(a,l),b=m?iV(a,l):Gb(a,l,!0),x=m;do{if(b===0){wu&&!m&&To(a,l,0,!1);break}else{if(d=a.current.alternate,x&&!nV(d)){b=Gb(a,l,!1),x=!1;continue}if(b===2){if(x=l,a.errorRecoveryDisabledLanes&x)var T=0;else T=a.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){l=T;e:{var q=a;b=wf;var K=q.current.memoizedState.isDehydrated;if(K&&(Nu(q,T).flags|=256),T=Gb(q,T,!1),T!==2){if(qb&&!K){q.errorRecoveryDisabledLanes|=x,Xl|=x,b=4;break e}x=$r,$r=b,x!==null&&($r===null?$r=x:$r.push.apply($r,x))}b=T}if(x=!1,b!==2)continue}}if(b===1){Nu(a,0),To(a,l,0,!0);break}e:{switch(m=a,x=b,x){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:To(m,l,si,!Eo);break e;case 2:$r=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(b=_p+300-Ve(),10<b)){if(To(m,l,si,!Eo),pr(m,0,!0)!==0)break e;_s=l,m.timeoutHandle=WT(bT.bind(null,m,d,$r,wp,Vb,l,si,Xl,ju,Eo,x,"Throttled",-0,0),b);break e}bT(m,d,$r,wp,Vb,l,si,Xl,ju,Eo,x,null,-0,0)}}break}while(!0);Ia(a)}function bT(a,l,d,m,b,x,T,q,K,se,me,_e,oe,fe){if(a.timeoutHandle=-1,_e=l.subtreeFlags,_e&8192||(_e&16785408)===16785408){_e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ki},dT(l,x,_e);var Pe=(x&62914560)===x?_p-Ve():(x&4194048)===x?pT-Ve():0;if(Pe=UV(_e,Pe),Pe!==null){_s=x,a.cancelPendingCommit=Pe(AT.bind(null,a,l,x,d,m,b,T,q,K,me,_e,null,oe,fe)),To(a,x,T,!se);return}}AT(a,l,x,d,m,b,T,q,K)}function nV(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var b=d[m],x=b.getSnapshot;b=b.value;try{if(!ti(x(),b))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function To(a,l,d,m){l&=~Ub,l&=~Xl,a.suspendedLanes|=l,a.pingedLanes&=~l,m&&(a.warmLanes|=l),m=a.expirationTimes;for(var b=l;0<b;){var x=31-en(b),T=1<<x;m[x]=-1,b&=~T}d!==0&&yi(a,d,l)}function jp(){return(jt&6)===0?(Ef(0),!1):!0}function Hb(){if(nt!==null){if(At===0)var a=nt.return;else a=nt,cs=Bl=null,ob(a),pu=null,sf=0,a=nt;for(;a!==null;)YA(a.alternate,a),a=a.return;nt=null}}function Nu(a,l){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,wV(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),_s=0,Hb(),Ut=a,nt=d=os(a.current,null),ot=l,At=0,ai=null,Eo=!1,wu=Zr(a,l),qb=!1,ju=si=Ub=Xl=No=ln=0,$r=wf=null,Vb=!1,(l&8)!==0&&(l|=l&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=l;0<m;){var b=31-en(m),x=1<<b;l|=a[b],m&=~x}return bs=l,Fm(),d}function _T(a,l){Je=null,G.H=mf,l===mu||l===Zm?(l=MS(),At=3):l===W0?(l=MS(),At=4):At=l===jb?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ai=l,nt===null&&(ln=1,fp(a,Ei(l,a.current)))}function xT(){var a=ri.current;return a===null?!0:(ot&4194048)===ot?Ti===null:(ot&62914560)===ot||(ot&536870912)!==0?a===Ti:!1}function wT(){var a=G.H;return G.H=mf,a===null?mf:a}function jT(){var a=G.A;return G.A=eV,a}function Ep(){ln=4,Eo||(ot&4194048)!==ot&&ri.current!==null||(wu=!0),(No&134217727)===0&&(Xl&134217727)===0||Ut===null||To(Ut,ot,si,!1)}function Gb(a,l,d){var m=jt;jt|=2;var b=wT(),x=jT();(Ut!==a||ot!==l)&&(wp=null,Nu(a,l)),l=!1;var T=ln;e:do try{if(At!==0&&nt!==null){var q=nt,K=ai;switch(At){case 8:Hb(),T=6;break e;case 3:case 2:case 9:case 6:ri.current===null&&(l=!0);var se=At;if(At=0,ai=null,Su(a,q,K,se),d&&wu){T=0;break e}break;default:se=At,At=0,ai=null,Su(a,q,K,se)}}rV(),T=ln;break}catch(me){_T(a,me)}while(!0);return l&&a.shellSuspendCounter++,cs=Bl=null,jt=m,G.H=b,G.A=x,nt===null&&(Ut=null,ot=0,Fm()),T}function rV(){for(;nt!==null;)ET(nt)}function iV(a,l){var d=jt;jt|=2;var m=wT(),b=jT();Ut!==a||ot!==l?(wp=null,xp=Ve()+500,Nu(a,l)):wu=Zr(a,l);e:do try{if(At!==0&&nt!==null){l=nt;var x=ai;t:switch(At){case 1:At=0,ai=null,Su(a,l,x,1);break;case 2:case 9:if(kS(x)){At=0,ai=null,NT(l);break}l=function(){At!==2&&At!==9||Ut!==a||(At=7),Ia(a)},x.then(l,l);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:kS(x)?(At=0,ai=null,NT(l)):(At=0,ai=null,Su(a,l,x,7));break;case 5:var T=null;switch(nt.tag){case 26:T=nt.memoizedState;case 5:case 27:var q=nt;if(T?uC(T):q.stateNode.complete){At=0,ai=null;var K=q.sibling;if(K!==null)nt=K;else{var se=q.return;se!==null?(nt=se,Np(se)):nt=null}break t}}At=0,ai=null,Su(a,l,x,5);break;case 6:At=0,ai=null,Su(a,l,x,6);break;case 8:Hb(),ln=6;break e;default:throw Error(r(462))}}aV();break}catch(me){_T(a,me)}while(!0);return cs=Bl=null,G.H=m,G.A=b,jt=d,nt!==null?0:(Ut=null,ot=0,Fm(),ln)}function aV(){for(;nt!==null&&!he();)ET(nt)}function ET(a){var l=QA(a.alternate,a,bs);a.memoizedProps=a.pendingProps,l===null?Np(a):nt=l}function NT(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=BA(d,l,l.pendingProps,l.type,void 0,ot);break;case 11:l=BA(d,l,l.pendingProps,l.type.render,l.ref,ot);break;case 5:ob(l);default:YA(d,l),l=nt=jS(l,bs),l=QA(d,l,bs)}a.memoizedProps=a.pendingProps,l===null?Np(a):nt=l}function Su(a,l,d,m){cs=Bl=null,ob(l),pu=null,sf=0;var b=l.return;try{if(KU(a,b,l,d,ot)){ln=1,fp(a,Ei(d,a.current)),nt=null;return}}catch(x){if(b!==null)throw nt=b,x;ln=1,fp(a,Ei(d,a.current)),nt=null;return}l.flags&32768?(ht||m===1?a=!0:wu||(ot&536870912)!==0?a=!1:(Eo=a=!0,(m===2||m===9||m===3||m===6)&&(m=ri.current,m!==null&&m.tag===13&&(m.flags|=16384))),ST(l,a)):Np(l)}function Np(a){var l=a;do{if((l.flags&32768)!==0){ST(l,Eo);return}a=l.return;var d=YU(l.alternate,l,bs);if(d!==null){nt=d;return}if(l=l.sibling,l!==null){nt=l;return}nt=l=a}while(l!==null);ln===0&&(ln=5)}function ST(a,l){do{var d=XU(a.alternate,a);if(d!==null){d.flags&=32767,nt=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){nt=a;return}nt=a=d}while(a!==null);ln=6,nt=null}function AT(a,l,d,m,b,x,T,q,K){a.cancelPendingCommit=null;do Sp();while(Ln!==0);if((jt&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(x=l.lanes|l.childLanes,x|=k0,Sl(a,d,x,T,q,K),a===Ut&&(nt=Ut=null,ot=0),Eu=l,Ao=a,_s=d,Bb=x,$b=b,gT=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,cV(Dr,function(){return IT(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,b=le.p,le.p=2,T=jt,jt|=4;try{ZU(a,l,d)}finally{jt=T,le.p=b,G.T=m}}Ln=1,TT(),CT(),OT()}}function TT(){if(Ln===1){Ln=0;var a=Ao,l=Eu,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=G.T,G.T=null;var m=le.p;le.p=2;var b=jt;jt|=4;try{lT(l,a);var x=i_,T=mS(a.containerInfo),q=x.focusedElem,K=x.selectionRange;if(T!==q&&q&&q.ownerDocument&&hS(q.ownerDocument.documentElement,q)){if(K!==null&&C0(q)){var se=K.start,me=K.end;if(me===void 0&&(me=se),"selectionStart"in q)q.selectionStart=se,q.selectionEnd=Math.min(me,q.value.length);else{var _e=q.ownerDocument||document,oe=_e&&_e.defaultView||window;if(oe.getSelection){var fe=oe.getSelection(),Pe=q.textContent.length,Be=Math.min(K.start,Pe),Mt=K.end===void 0?Be:Math.min(K.end,Pe);!fe.extend&&Be>Mt&&(T=Mt,Mt=Be,Be=T);var ee=fS(q,Be),Y=fS(q,Mt);if(ee&&Y&&(fe.rangeCount!==1||fe.anchorNode!==ee.node||fe.anchorOffset!==ee.offset||fe.focusNode!==Y.node||fe.focusOffset!==Y.offset)){var ae=_e.createRange();ae.setStart(ee.node,ee.offset),fe.removeAllRanges(),Be>Mt?(fe.addRange(ae),fe.extend(Y.node,Y.offset)):(ae.setEnd(Y.node,Y.offset),fe.addRange(ae))}}}}for(_e=[],fe=q;fe=fe.parentNode;)fe.nodeType===1&&_e.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<_e.length;q++){var ye=_e[q];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}Lp=!!r_,i_=r_=null}finally{jt=b,le.p=m,G.T=d}}a.current=l,Ln=2}}function CT(){if(Ln===2){Ln=0;var a=Ao,l=Eu,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=G.T,G.T=null;var m=le.p;le.p=2;var b=jt;jt|=4;try{rT(a,l.alternate,l)}finally{jt=b,le.p=m,G.T=d}}Ln=3}}function OT(){if(Ln===4||Ln===3){Ln=0,Re();var a=Ao,l=Eu,d=_s,m=gT;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Ln=5:(Ln=0,Eu=Ao=null,PT(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(So=null),rs(d),l=l.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(an,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=G.T,b=le.p,le.p=2,G.T=null;try{for(var x=a.onRecoverableError,T=0;T<m.length;T++){var q=m[T];x(q.value,{componentStack:q.stack})}}finally{G.T=l,le.p=b}}(_s&3)!==0&&Sp(),Ia(a),b=a.pendingLanes,(d&261930)!==0&&(b&42)!==0?a===Fb?jf++:(jf=0,Fb=a):jf=0,Ef(0)}}function PT(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,rf(l)))}function Sp(){return TT(),CT(),OT(),IT()}function IT(){if(Ln!==5)return!1;var a=Ao,l=Bb;Bb=0;var d=rs(_s),m=G.T,b=le.p;try{le.p=32>d?32:d,G.T=null,d=$b,$b=null;var x=Ao,T=_s;if(Ln=0,Eu=Ao=null,_s=0,(jt&6)!==0)throw Error(r(331));var q=jt;if(jt|=4,hT(x.current),uT(x,x.current,T,d),jt=q,Ef(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(an,x)}catch{}return!0}finally{le.p=b,G.T=m,PT(a,l)}}function RT(a,l,d){l=Ei(d,l),l=wb(a.stateNode,l,2),a=_o(a,l,2),a!==null&&($n(a,2),Ia(a))}function Tt(a,l,d){if(a.tag===3)RT(a,a,d);else for(;l!==null;){if(l.tag===3){RT(l,a,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(So===null||!So.has(m))){a=Ei(d,a),d=kA(2),m=_o(l,d,2),m!==null&&(DA(d,m,l,a),$n(m,2),Ia(m));break}}l=l.return}}function Kb(a,l,d){var m=a.pingCache;if(m===null){m=a.pingCache=new tV;var b=new Set;m.set(l,b)}else b=m.get(l),b===void 0&&(b=new Set,m.set(l,b));b.has(d)||(qb=!0,b.add(d),a=sV.bind(null,a,l,d),l.then(a,a))}function sV(a,l,d){var m=a.pingCache;m!==null&&m.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,Ut===a&&(ot&d)===d&&(ln===4||ln===3&&(ot&62914560)===ot&&300>Ve()-_p?(jt&2)===0&&Nu(a,0):Ub|=d,ju===ot&&(ju=0)),Ia(a)}function kT(a,l){l===0&&(l=Ue()),a=ql(a,l),a!==null&&($n(a,l),Ia(a))}function oV(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),kT(a,d)}function lV(a,l){var d=0;switch(a.tag){case 31:case 13:var m=a.stateNode,b=a.memoizedState;b!==null&&(d=b.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),kT(a,d)}function cV(a,l){return It(a,l)}var Ap=null,Au=null,Qb=!1,Tp=!1,Wb=!1,Co=0;function Ia(a){a!==Au&&a.next===null&&(Au===null?Ap=Au=a:Au=Au.next=a),Tp=!0,Qb||(Qb=!0,dV())}function Ef(a,l){if(!Wb&&Tp){Wb=!0;do for(var d=!1,m=Ap;m!==null;){if(a!==0){var b=m.pendingLanes;if(b===0)var x=0;else{var T=m.suspendedLanes,q=m.pingedLanes;x=(1<<31-en(42|a)+1)-1,x&=b&~(T&~q),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(d=!0,LT(m,x))}else x=ot,x=pr(m,m===Ut?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(x&3)===0||Zr(m,x)||(d=!0,LT(m,x));m=m.next}while(d);Wb=!1}}function uV(){DT()}function DT(){Tp=Qb=!1;var a=0;Co!==0&&xV()&&(a=Co);for(var l=Ve(),d=null,m=Ap;m!==null;){var b=m.next,x=MT(m,l);x===0?(m.next=null,d===null?Ap=b:d.next=b,b===null&&(Au=d)):(d=m,(a!==0||(x&3)!==0)&&(Tp=!0)),m=b}Ln!==0&&Ln!==5||Ef(a),Co!==0&&(Co=0)}function MT(a,l){for(var d=a.suspendedLanes,m=a.pingedLanes,b=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var T=31-en(x),q=1<<T,K=b[T];K===-1?((q&d)===0||(q&m)!==0)&&(b[T]=te(q,l)):K<=l&&(a.expiredLanes|=q),x&=~q}if(l=Ut,d=ot,d=pr(a,a===l?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,d===0||a===l&&(At===2||At===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&kr(m),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||Zr(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(m!==null&&kr(m),rs(d)){case 2:case 8:d=zn;break;case 32:d=Dr;break;case 268435456:d=Mr;break;default:d=Dr}return m=zT.bind(null,a),d=It(d,m),a.callbackPriority=l,a.callbackNode=d,l}return m!==null&&m!==null&&kr(m),a.callbackPriority=2,a.callbackNode=null,2}function zT(a,l){if(Ln!==0&&Ln!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(Sp()&&a.callbackNode!==d)return null;var m=ot;return m=pr(a,a===Ut?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(yT(a,m,l),MT(a,Ve()),a.callbackNode!=null&&a.callbackNode===d?zT.bind(null,a):null)}function LT(a,l){if(Sp())return null;yT(a,l,!0)}function dV(){jV(function(){(jt&6)!==0?It(qt,uV):DT()})}function Yb(){if(Co===0){var a=fu;a===0&&(a=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Co=a}return Co}function qT(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Xc(""+a)}function UT(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function fV(a,l,d,m,b){if(l==="submit"&&d&&d.stateNode===b){var x=qT((b[Fn]||null).action),T=m.submitter;T&&(l=(l=T[Fn]||null)?qT(l.formAction):T.getAttribute("formAction"),l!==null&&(x=l,T=null));var q=new Na("action","action",null,m,b);a.push({event:q,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Co!==0){var K=T?UT(b,T):new FormData(b);gb(d,{pending:!0,data:K,method:b.method,action:x},null,K)}}else typeof x=="function"&&(q.preventDefault(),K=T?UT(b,T):new FormData(b),gb(d,{pending:!0,data:K,method:b.method,action:x},x,K))},currentTarget:b}]})}}for(var Xb=0;Xb<R0.length;Xb++){var Zb=R0[Xb],hV=Zb.toLowerCase(),mV=Zb[0].toUpperCase()+Zb.slice(1);Zi(hV,"on"+mV)}Zi(vS,"onAnimationEnd"),Zi(yS,"onAnimationIteration"),Zi(bS,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(OU,"onTransitionRun"),Zi(PU,"onTransitionStart"),Zi(IU,"onTransitionCancel"),Zi(_S,"onTransitionEnd"),xa("onMouseEnter",["mouseout","mouseover"]),xa("onMouseLeave",["mouseout","mouseover"]),xa("onPointerEnter",["pointerout","pointerover"]),xa("onPointerLeave",["pointerout","pointerover"]),_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_a("onBeforeInput",["compositionend","keypress","textInput","paste"]),_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nf));function VT(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var m=a[d],b=m.event;m=m.listeners;e:{var x=void 0;if(l)for(var T=m.length-1;0<=T;T--){var q=m[T],K=q.instance,se=q.currentTarget;if(q=q.listener,K!==x&&b.isPropagationStopped())break e;x=q,b.currentTarget=se;try{x(b)}catch(me){$m(me)}b.currentTarget=null,x=K}else for(T=0;T<m.length;T++){if(q=m[T],K=q.instance,se=q.currentTarget,q=q.listener,K!==x&&b.isPropagationStopped())break e;x=q,b.currentTarget=se;try{x(b)}catch(me){$m(me)}b.currentTarget=null,x=K}}}}function rt(a,l){var d=l[Gc];d===void 0&&(d=l[Gc]=new Set);var m=a+"__bubble";d.has(m)||(BT(l,a,2,!1),d.add(m))}function Jb(a,l,d){var m=0;l&&(m|=4),BT(d,a,m,l)}var Cp="_reactListening"+Math.random().toString(36).slice(2);function e_(a){if(!a[Cp]){a[Cp]=!0,Md.forEach(function(d){d!=="selectionchange"&&(pV.has(d)||Jb(d,!1,a),Jb(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Cp]||(l[Cp]=!0,Jb("selectionchange",!1,l))}}function BT(a,l,d,m){switch(vC(l)){case 2:var b=$V;break;case 8:b=FV;break;default:b=p_}d=b.bind(null,l,d,a),b=void 0,!Pl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),m?b!==void 0?a.addEventListener(l,d,{capture:!0,passive:b}):a.addEventListener(l,d,!0):b!==void 0?a.addEventListener(l,d,{passive:b}):a.addEventListener(l,d,!1)}function t_(a,l,d,m,b){var x=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var T=m.tag;if(T===3||T===4){var q=m.stateNode.containerInfo;if(q===b)break;if(T===4)for(T=m.return;T!==null;){var K=T.tag;if((K===3||K===4)&&T.stateNode.containerInfo===b)return;T=T.return}for(;q!==null;){if(T=ya(q),T===null)return;if(K=T.tag,K===5||K===6||K===26||K===27){m=x=T;continue e}q=q.parentNode}}m=m.return}co(function(){var se=x,me=_i(d),_e=[];e:{var oe=xS.get(a);if(oe!==void 0){var fe=Na,Pe=a;switch(a){case"keypress":if(Rl(d)===0)break e;case"keydown":case"keyup":fe=Um;break;case"focusin":Pe="focus",fe=Dl;break;case"focusout":Pe="blur",fe=Dl;break;case"beforeblur":case"afterblur":fe=Dl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Pm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=S;break;case vS:case yS:case bS:fe=Rm;break;case _S:fe=$;break;case"scroll":case"scrollend":fe=Qd;break;case"wheel":fe=ue;break;case"copy":case"cut":case"paste":fe=km;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=ss;break;case"toggle":case"beforetoggle":fe=Ze}var Be=(l&4)!==0,Mt=!Be&&(a==="scroll"||a==="scrollend"),ee=Be?oe!==null?oe+"Capture":null:oe;Be=[];for(var Y=se,ae;Y!==null;){var ye=Y;if(ae=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||ae===null||ee===null||(ye=Qi(Y,ee),ye!=null&&Be.push(Sf(Y,ye,ae))),Mt)break;Y=Y.return}0<Be.length&&(oe=new fe(oe,Pe,null,d,me),_e.push({event:oe,listeners:Be}))}}if((l&7)===0){e:{if(oe=a==="mouseover"||a==="pointerover",fe=a==="mouseout"||a==="pointerout",oe&&d!==Hd&&(Pe=d.relatedTarget||d.fromElement)&&(ya(Pe)||Pe[ga]))break e;if((fe||oe)&&(oe=me.window===me?me:(oe=me.ownerDocument)?oe.defaultView||oe.parentWindow:window,fe?(Pe=d.relatedTarget||d.toElement,fe=se,Pe=Pe?ya(Pe):null,Pe!==null&&(Mt=s(Pe),Be=Pe.tag,Pe!==Mt||Be!==5&&Be!==27&&Be!==6)&&(Pe=null)):(fe=null,Pe=se),fe!==Pe)){if(Be=Wd,ye="onMouseLeave",ee="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(Be=ss,ye="onPointerLeave",ee="onPointerEnter",Y="pointer"),Mt=fe==null?oe:Jr(fe),ae=Pe==null?oe:Jr(Pe),oe=new Be(ye,Y+"leave",fe,d,me),oe.target=Mt,oe.relatedTarget=ae,ye=null,ya(me)===se&&(Be=new Be(ee,Y+"enter",Pe,d,me),Be.target=ae,Be.relatedTarget=Mt,ye=Be),Mt=ye,fe&&Pe)t:{for(Be=gV,ee=fe,Y=Pe,ae=0,ye=ee;ye;ye=Be(ye))ae++;ye=0;for(var Le=Y;Le;Le=Be(Le))ye++;for(;0<ae-ye;)ee=Be(ee),ae--;for(;0<ye-ae;)Y=Be(Y),ye--;for(;ae--;){if(ee===Y||Y!==null&&ee===Y.alternate){Be=ee;break t}ee=Be(ee),Y=Be(Y)}Be=null}else Be=null;fe!==null&&$T(_e,oe,fe,Be,!1),Pe!==null&&Mt!==null&&$T(_e,Mt,Pe,Be,!0)}}e:{if(oe=se?Jr(se):window,fe=oe.nodeName&&oe.nodeName.toLowerCase(),fe==="select"||fe==="input"&&oe.type==="file")var bt=sS;else if(iS(oe))if(oS)bt=AU;else{bt=NU;var ke=EU}else fe=oe.nodeName,!fe||fe.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?se&&Yc(se.elementType)&&(bt=sS):bt=SU;if(bt&&(bt=bt(a,se))){aS(_e,bt,d,me);break e}ke&&ke(a,oe,se),a==="focusout"&&se&&oe.type==="number"&&se.memoizedProps.value!=null&&Bd(oe,"number",oe.value)}switch(ke=se?Jr(se):window,a){case"focusin":(iS(ke)||ke.contentEditable==="true")&&(iu=ke,O0=se,ef=null);break;case"focusout":ef=O0=iu=null;break;case"mousedown":P0=!0;break;case"contextmenu":case"mouseup":case"dragend":P0=!1,pS(_e,d,me);break;case"selectionchange":if(CU)break;case"keydown":case"keyup":pS(_e,d,me)}var et;if(wt)e:{switch(a){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else ru?Ml(a,d)&&(lt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(lt="onCompositionStart");lt&&(Ta&&d.locale!=="ko"&&(ru||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&ru&&(et=Kd()):(Ea=me,Gd="value"in Ea?Ea.value:Ea.textContent,ru=!0)),ke=Op(se,lt),0<ke.length&&(lt=new Aa(lt,a,null,d,me),_e.push({event:lt,listeners:ke}),et?lt.data=et:(et=nu(d),et!==null&&(lt.data=et)))),(et=wi?_U(a,d):xU(a,d))&&(lt=Op(se,"onBeforeInput"),0<lt.length&&(ke=new Aa("onBeforeInput","beforeinput",null,d,me),_e.push({event:ke,listeners:lt}),ke.data=et)),fV(_e,a,se,d,me)}VT(_e,l)})}function Sf(a,l,d){return{instance:a,listener:l,currentTarget:d}}function Op(a,l){for(var d=l+"Capture",m=[];a!==null;){var b=a,x=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||x===null||(b=Qi(a,d),b!=null&&m.unshift(Sf(a,b,x)),b=Qi(a,l),b!=null&&m.push(Sf(a,b,x))),a.tag===3)return m;a=a.return}return[]}function gV(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function $T(a,l,d,m,b){for(var x=l._reactName,T=[];d!==null&&d!==m;){var q=d,K=q.alternate,se=q.stateNode;if(q=q.tag,K!==null&&K===m)break;q!==5&&q!==26&&q!==27||se===null||(K=se,b?(se=Qi(d,x),se!=null&&T.unshift(Sf(d,se,K))):b||(se=Qi(d,x),se!=null&&T.push(Sf(d,se,K)))),d=d.return}T.length!==0&&a.push({event:l,listeners:T})}var vV=/\r\n?/g,yV=/\u0000|\uFFFD/g;function FT(a){return(typeof a=="string"?a:""+a).replace(vV,`
`).replace(yV,"")}function HT(a,l){return l=FT(l),FT(a)===l}function Dt(a,l,d,m,b,x){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||qr(a,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&qr(a,""+m);break;case"className":ei(a,"class",m);break;case"tabIndex":ei(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(a,d,m);break;case"style":Fd(a,m,x);break;case"data":if(l!=="object"){ei(a,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=Xc(""+m),a.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(d==="formAction"?(l!=="input"&&Dt(a,l,"name",b.name,b,null),Dt(a,l,"formEncType",b.formEncType,b,null),Dt(a,l,"formMethod",b.formMethod,b,null),Dt(a,l,"formTarget",b.formTarget,b,null)):(Dt(a,l,"encType",b.encType,b,null),Dt(a,l,"method",b.method,b,null),Dt(a,l,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=Xc(""+m),a.setAttribute(d,m);break;case"onClick":m!=null&&(a.onclick=Ki);break;case"onScroll":m!=null&&rt("scroll",a);break;case"onScrollEnd":m!=null&&rt("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}d=Xc(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""+m):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":m===!0?a.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,m):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(d,m):a.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(d):a.setAttribute(d,m);break;case"popover":rt("beforetoggle",a),rt("toggle",a),Qc(a,"popover",m);break;case"xlinkActuate":Nn(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Nn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Nn(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Nn(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Nn(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Nn(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Nn(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Nn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Nn(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Qc(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Om.get(d)||d,Qc(a,d,m))}}function n_(a,l,d,m,b,x){switch(d){case"style":Fd(a,m,x);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof m=="string"?qr(a,m):(typeof m=="number"||typeof m=="bigint")&&qr(a,""+m);break;case"onScroll":m!=null&&rt("scroll",a);break;case"onScrollEnd":m!=null&&rt("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Ki);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zd.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),l=d.slice(2,b?d.length-7:void 0),x=a[Fn]||null,x=x!=null?x[d]:null,typeof x=="function"&&a.removeEventListener(l,x,b),typeof m=="function")){typeof x!="function"&&x!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,m,b);break e}d in a?a[d]=m:m===!0?a.setAttribute(d,""):Qc(a,d,m)}}}function or(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",a),rt("load",a);var m=!1,b=!1,x;for(x in d)if(d.hasOwnProperty(x)){var T=d[x];if(T!=null)switch(x){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Dt(a,l,x,T,d,null)}}b&&Dt(a,l,"srcSet",d.srcSet,d,null),m&&Dt(a,l,"src",d.src,d,null);return;case"input":rt("invalid",a);var q=x=T=b=null,K=null,se=null;for(m in d)if(d.hasOwnProperty(m)){var me=d[m];if(me!=null)switch(m){case"name":b=me;break;case"type":T=me;break;case"checked":K=me;break;case"defaultChecked":se=me;break;case"value":x=me;break;case"defaultValue":q=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,l));break;default:Dt(a,l,m,me,d,null)}}Am(a,x,q,K,se,T,b,!1);return;case"select":rt("invalid",a),m=T=x=null;for(b in d)if(d.hasOwnProperty(b)&&(q=d[b],q!=null))switch(b){case"value":x=q;break;case"defaultValue":T=q;break;case"multiple":m=q;default:Dt(a,l,b,q,d,null)}l=x,d=T,a.multiple=!!m,l!=null?ao(a,!!m,l,!1):d!=null&&ao(a,!!m,d,!0);return;case"textarea":rt("invalid",a),x=b=m=null;for(T in d)if(d.hasOwnProperty(T)&&(q=d[T],q!=null))switch(T){case"value":m=q;break;case"defaultValue":b=q;break;case"children":x=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:Dt(a,l,T,q,d,null)}so(a,m,b,x);return;case"option":for(K in d)d.hasOwnProperty(K)&&(m=d[K],m!=null)&&(K==="selected"?a.selected=m&&typeof m!="function"&&typeof m!="symbol":Dt(a,l,K,m,d,null));return;case"dialog":rt("beforetoggle",a),rt("toggle",a),rt("cancel",a),rt("close",a);break;case"iframe":case"object":rt("load",a);break;case"video":case"audio":for(m=0;m<Nf.length;m++)rt(Nf[m],a);break;case"image":rt("error",a),rt("load",a);break;case"details":rt("toggle",a);break;case"embed":case"source":case"link":rt("error",a),rt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in d)if(d.hasOwnProperty(se)&&(m=d[se],m!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Dt(a,l,se,m,d,null)}return;default:if(Yc(l)){for(me in d)d.hasOwnProperty(me)&&(m=d[me],m!==void 0&&n_(a,l,me,m,d,void 0));return}}for(q in d)d.hasOwnProperty(q)&&(m=d[q],m!=null&&Dt(a,l,q,m,d,null))}function bV(a,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,x=null,T=null,q=null,K=null,se=null,me=null;for(fe in d){var _e=d[fe];if(d.hasOwnProperty(fe)&&_e!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":K=_e;default:m.hasOwnProperty(fe)||Dt(a,l,fe,null,m,_e)}}for(var oe in m){var fe=m[oe];if(_e=d[oe],m.hasOwnProperty(oe)&&(fe!=null||_e!=null))switch(oe){case"type":x=fe;break;case"name":b=fe;break;case"checked":se=fe;break;case"defaultChecked":me=fe;break;case"value":T=fe;break;case"defaultValue":q=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,l));break;default:fe!==_e&&Dt(a,l,oe,fe,m,_e)}}Wc(a,T,q,K,se,me,x,b);return;case"select":fe=T=q=oe=null;for(x in d)if(K=d[x],d.hasOwnProperty(x)&&K!=null)switch(x){case"value":break;case"multiple":fe=K;default:m.hasOwnProperty(x)||Dt(a,l,x,null,m,K)}for(b in m)if(x=m[b],K=d[b],m.hasOwnProperty(b)&&(x!=null||K!=null))switch(b){case"value":oe=x;break;case"defaultValue":q=x;break;case"multiple":T=x;default:x!==K&&Dt(a,l,b,x,m,K)}l=q,d=T,m=fe,oe!=null?ao(a,!!d,oe,!1):!!m!=!!d&&(l!=null?ao(a,!!d,l,!0):ao(a,!!d,d?[]:"",!1));return;case"textarea":fe=oe=null;for(q in d)if(b=d[q],d.hasOwnProperty(q)&&b!=null&&!m.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:Dt(a,l,q,null,m,b)}for(T in m)if(b=m[T],x=d[T],m.hasOwnProperty(T)&&(b!=null||x!=null))switch(T){case"value":oe=b;break;case"defaultValue":fe=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==x&&Dt(a,l,T,b,m,x)}Tm(a,oe,fe);return;case"option":for(var Pe in d)oe=d[Pe],d.hasOwnProperty(Pe)&&oe!=null&&!m.hasOwnProperty(Pe)&&(Pe==="selected"?a.selected=!1:Dt(a,l,Pe,null,m,oe));for(K in m)oe=m[K],fe=d[K],m.hasOwnProperty(K)&&oe!==fe&&(oe!=null||fe!=null)&&(K==="selected"?a.selected=oe&&typeof oe!="function"&&typeof oe!="symbol":Dt(a,l,K,oe,m,fe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in d)oe=d[Be],d.hasOwnProperty(Be)&&oe!=null&&!m.hasOwnProperty(Be)&&Dt(a,l,Be,null,m,oe);for(se in m)if(oe=m[se],fe=d[se],m.hasOwnProperty(se)&&oe!==fe&&(oe!=null||fe!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,l));break;default:Dt(a,l,se,oe,m,fe)}return;default:if(Yc(l)){for(var Mt in d)oe=d[Mt],d.hasOwnProperty(Mt)&&oe!==void 0&&!m.hasOwnProperty(Mt)&&n_(a,l,Mt,void 0,m,oe);for(me in m)oe=m[me],fe=d[me],!m.hasOwnProperty(me)||oe===fe||oe===void 0&&fe===void 0||n_(a,l,me,oe,m,fe);return}}for(var ee in d)oe=d[ee],d.hasOwnProperty(ee)&&oe!=null&&!m.hasOwnProperty(ee)&&Dt(a,l,ee,null,m,oe);for(_e in m)oe=m[_e],fe=d[_e],!m.hasOwnProperty(_e)||oe===fe||oe==null&&fe==null||Dt(a,l,_e,oe,m,fe)}function GT(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _V(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var b=d[m],x=b.transferSize,T=b.initiatorType,q=b.duration;if(x&&q&&GT(T)){for(T=0,q=b.responseEnd,m+=1;m<d.length;m++){var K=d[m],se=K.startTime;if(se>q)break;var me=K.transferSize,_e=K.initiatorType;me&&GT(_e)&&(K=K.responseEnd,T+=me*(K<q?1:(q-se)/(K-se)))}if(--m,l+=8*(x+T)/(b.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var r_=null,i_=null;function Pp(a){return a.nodeType===9?a:a.ownerDocument}function KT(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function QT(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function a_(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var s_=null;function xV(){var a=window.event;return a&&a.type==="popstate"?a===s_?!1:(s_=a,!0):(s_=null,!1)}var WT=typeof setTimeout=="function"?setTimeout:void 0,wV=typeof clearTimeout=="function"?clearTimeout:void 0,YT=typeof Promise=="function"?Promise:void 0,jV=typeof queueMicrotask=="function"?queueMicrotask:typeof YT<"u"?function(a){return YT.resolve(null).then(a).catch(EV)}:WT;function EV(a){setTimeout(function(){throw a})}function Oo(a){return a==="head"}function XT(a,l){var d=l,m=0;do{var b=d.nextSibling;if(a.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"||d==="/&"){if(m===0){a.removeChild(b),Pu(l);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")Af(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,Af(d);for(var x=d.firstChild;x;){var T=x.nextSibling,q=x.nodeName;x[va]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&x.rel.toLowerCase()==="stylesheet"||d.removeChild(x),x=T}}else d==="body"&&Af(a.ownerDocument.body);d=b}while(d);Pu(l)}function ZT(a,l){var d=a;a=0;do{var m=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=m}while(d)}function o_(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":o_(d),Kc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function NV(a,l,d,m){for(;a.nodeType===1;){var b=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[va])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var x=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=Ci(a.nextSibling),a===null)break}return null}function SV(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Ci(a.nextSibling),a===null))return null;return a}function JT(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Ci(a.nextSibling),a===null))return null;return a}function l_(a){return a.data==="$?"||a.data==="$~"}function c_(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function AV(a,l){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||d.readyState!=="loading")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Ci(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var u_=null;function eC(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(l===0)return Ci(a.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}a=a.nextSibling}return null}function tC(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return a;l--}else d!=="/$"&&d!=="/&"||l++}a=a.previousSibling}return null}function nC(a,l,d){switch(l=Pp(d),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Af(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Kc(a)}var Oi=new Map,rC=new Set;function Ip(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var xs=le.d;le.d={f:TV,r:CV,D:OV,C:PV,L:IV,m:RV,X:DV,S:kV,M:MV};function TV(){var a=xs.f(),l=jp();return a||l}function CV(a){var l=bi(a);l!==null&&l.tag===5&&l.type==="form"?_A(l):xs.r(a)}var Tu=typeof document>"u"?null:document;function iC(a,l,d){var m=Tu;if(m&&typeof l=="string"&&l){var b=Lr(l);b='link[rel="'+a+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),rC.has(b)||(rC.add(b),a={rel:a,crossOrigin:d,href:l},m.querySelector(b)===null&&(l=m.createElement("link"),or(l,"link",a),En(l),m.head.appendChild(l)))}}function OV(a){xs.D(a),iC("dns-prefetch",a,null)}function PV(a,l){xs.C(a,l),iC("preconnect",a,l)}function IV(a,l,d){xs.L(a,l,d);var m=Tu;if(m&&a&&l){var b='link[rel="preload"][as="'+Lr(l)+'"]';l==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+Lr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+Lr(d.imageSizes)+'"]')):b+='[href="'+Lr(a)+'"]';var x=b;switch(l){case"style":x=Cu(a);break;case"script":x=Ou(a)}Oi.has(x)||(a=g({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),Oi.set(x,a),m.querySelector(b)!==null||l==="style"&&m.querySelector(Tf(x))||l==="script"&&m.querySelector(Cf(x))||(l=m.createElement("link"),or(l,"link",a),En(l),m.head.appendChild(l)))}}function RV(a,l){xs.m(a,l);var d=Tu;if(d&&a){var m=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Lr(m)+'"][href="'+Lr(a)+'"]',x=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Ou(a)}if(!Oi.has(x)&&(a=g({rel:"modulepreload",href:a},l),Oi.set(x,a),d.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Cf(x)))return}m=d.createElement("link"),or(m,"link",a),En(m),d.head.appendChild(m)}}}function kV(a,l,d){xs.S(a,l,d);var m=Tu;if(m&&a){var b=ba(m).hoistableStyles,x=Cu(a);l=l||"default";var T=b.get(x);if(!T){var q={loading:0,preload:null};if(T=m.querySelector(Tf(x)))q.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":l},d),(d=Oi.get(x))&&d_(a,d);var K=T=m.createElement("link");En(K),or(K,"link",a),K._p=new Promise(function(se,me){K.onload=se,K.onerror=me}),K.addEventListener("load",function(){q.loading|=1}),K.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Rp(T,l,m)}T={type:"stylesheet",instance:T,count:1,state:q},b.set(x,T)}}}function DV(a,l){xs.X(a,l);var d=Tu;if(d&&a){var m=ba(d).hoistableScripts,b=Ou(a),x=m.get(b);x||(x=d.querySelector(Cf(b)),x||(a=g({src:a,async:!0},l),(l=Oi.get(b))&&f_(a,l),x=d.createElement("script"),En(x),or(x,"link",a),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(b,x))}}function MV(a,l){xs.M(a,l);var d=Tu;if(d&&a){var m=ba(d).hoistableScripts,b=Ou(a),x=m.get(b);x||(x=d.querySelector(Cf(b)),x||(a=g({src:a,async:!0,type:"module"},l),(l=Oi.get(b))&&f_(a,l),x=d.createElement("script"),En(x),or(x,"link",a),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(b,x))}}function aC(a,l,d,m){var b=(b=H.current)?Ip(b):null;if(!b)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Cu(d.href),d=ba(b).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=Cu(d.href);var x=ba(b).hoistableStyles,T=x.get(a);if(T||(b=b.ownerDocument||b,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,T),(x=b.querySelector(Tf(a)))&&!x._p&&(T.instance=x,T.state.loading=5),Oi.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Oi.set(a,d),x||zV(b,a,d,T.state))),l&&m===null)throw Error(r(528,""));return T}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ou(d),d=ba(b).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Cu(a){return'href="'+Lr(a)+'"'}function Tf(a){return'link[rel="stylesheet"]['+a+"]"}function sC(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function zV(a,l,d,m){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=a.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),or(l,"link",d),En(l),a.head.appendChild(l))}function Ou(a){return'[src="'+Lr(a)+'"]'}function Cf(a){return"script[async]"+a}function oC(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=a.querySelector('style[data-href~="'+Lr(d.href)+'"]');if(m)return l.instance=m,En(m),m;var b=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),En(m),or(m,"style",b),Rp(m,d.precedence,a),l.instance=m;case"stylesheet":b=Cu(d.href);var x=a.querySelector(Tf(b));if(x)return l.state.loading|=4,l.instance=x,En(x),x;m=sC(d),(b=Oi.get(b))&&d_(m,b),x=(a.ownerDocument||a).createElement("link"),En(x);var T=x;return T._p=new Promise(function(q,K){T.onload=q,T.onerror=K}),or(x,"link",m),l.state.loading|=4,Rp(x,d.precedence,a),l.instance=x;case"script":return x=Ou(d.src),(b=a.querySelector(Cf(x)))?(l.instance=b,En(b),b):(m=d,(b=Oi.get(x))&&(m=g({},d),f_(m,b)),a=a.ownerDocument||a,b=a.createElement("script"),En(b),or(b,"link",m),a.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Rp(m,d.precedence,a));return l.instance}function Rp(a,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,x=b,T=0;T<m.length;T++){var q=m[T];if(q.dataset.precedence===l)x=q;else if(x!==b)break}x?x.parentNode.insertBefore(a,x.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function d_(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function f_(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var kp=null;function lC(a,l,d){if(kp===null){var m=new Map,b=kp=new Map;b.set(d,m)}else b=kp,m=b.get(d),m||(m=new Map,b.set(d,m));if(m.has(a))return m;for(m.set(a,null),d=d.getElementsByTagName(a),b=0;b<d.length;b++){var x=d[b];if(!(x[va]||x[jn]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var T=x.getAttribute(l)||"";T=a+T;var q=m.get(T);q?q.push(x):m.set(T,[x])}}return m}function cC(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function LV(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(a=l.disabled,typeof l.precedence=="string"&&a==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function uC(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function qV(a,l,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var b=Cu(m.href),x=l.querySelector(Tf(b));if(x){l=x._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=Dp.bind(a),l.then(a,a)),d.state.loading|=4,d.instance=x,En(x);return}x=l.ownerDocument||l,m=sC(m),(b=Oi.get(b))&&d_(m,b),x=x.createElement("link"),En(x);var T=x;T._p=new Promise(function(q,K){T.onload=q,T.onerror=K}),or(x,"link",m),d.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=Dp.bind(a),l.addEventListener("load",d),l.addEventListener("error",d))}}var h_=0;function UV(a,l){return a.stylesheets&&a.count===0&&zp(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var m=setTimeout(function(){if(a.stylesheets&&zp(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+l);0<a.imgBytes&&h_===0&&(h_=62500*_V());var b=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&zp(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>h_?50:800)+l);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(b)}}:null}function Dp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Mp=null;function zp(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Mp=new Map,l.forEach(VV,a),Mp=null,Dp.call(a))}function VV(a,l){if(!(l.state.loading&4)){var d=Mp.get(a);if(d)var m=d.get(null);else{d=new Map,Mp.set(a,d);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<b.length;x++){var T=b[x];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(d.set(T.dataset.precedence,T),m=T)}m&&d.set(null,m)}b=l.instance,T=b.getAttribute("data-precedence"),x=d.get(T)||m,x===m&&d.set(null,b),d.set(T,b),this.count++,m=Dp.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),x?x.parentNode.insertBefore(b,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),l.state.loading|=4}}var Of={$$typeof:I,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function BV(a,l,d,m,b,x,T,q,K){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.hiddenUpdates=gt(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=x,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function dC(a,l,d,m,b,x,T,q,K,se,me,_e){return a=new BV(a,l,d,T,K,se,me,_e,q),l=1,x===!0&&(l|=24),x=ni(3,null,null,l),a.current=x,x.stateNode=a,l=G0(),l.refCount++,a.pooledCache=l,l.refCount++,x.memoizedState={element:m,isDehydrated:d,cache:l},Y0(x),a}function fC(a){return a?(a=ou,a):ou}function hC(a,l,d,m,b,x){b=fC(b),m.context===null?m.context=b:m.pendingContext=b,m=bo(l),m.payload={element:d},x=x===void 0?null:x,x!==null&&(m.callback=x),d=_o(a,m,l),d!==null&&(Fr(d,a,l),lf(d,a,l))}function mC(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function m_(a,l){mC(a,l),(a=a.alternate)&&mC(a,l)}function pC(a){if(a.tag===13||a.tag===31){var l=ql(a,67108864);l!==null&&Fr(l,a,67108864),m_(a,67108864)}}function gC(a){if(a.tag===13||a.tag===31){var l=oi();l=Al(l);var d=ql(a,l);d!==null&&Fr(d,a,l),m_(a,l)}}var Lp=!0;function $V(a,l,d,m){var b=G.T;G.T=null;var x=le.p;try{le.p=2,p_(a,l,d,m)}finally{le.p=x,G.T=b}}function FV(a,l,d,m){var b=G.T;G.T=null;var x=le.p;try{le.p=8,p_(a,l,d,m)}finally{le.p=x,G.T=b}}function p_(a,l,d,m){if(Lp){var b=g_(m);if(b===null)t_(a,l,m,qp,d),yC(a,m);else if(GV(b,a,l,d,m))m.stopPropagation();else if(yC(a,m),l&4&&-1<HV.indexOf(a)){for(;b!==null;){var x=bi(b);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var T=vi(x.pendingLanes);if(T!==0){var q=x;for(q.pendingLanes|=2,q.entangledLanes|=2;T;){var K=1<<31-en(T);q.entanglements[1]|=K,T&=~K}Ia(x),(jt&6)===0&&(xp=Ve()+500,Ef(0))}}break;case 31:case 13:q=ql(x,2),q!==null&&Fr(q,x,2),jp(),m_(x,2)}if(x=g_(m),x===null&&t_(a,l,m,qp,d),x===b)break;b=x}b!==null&&m.stopPropagation()}else t_(a,l,m,null,d)}}function g_(a){return a=_i(a),v_(a)}var qp=null;function v_(a){if(qp=null,a=ya(a),a!==null){var l=s(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=c(l),a!==null)return a;a=null}else if(d===31){if(a=u(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return qp=a,null}function vC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ke()){case qt:return 2;case zn:return 8;case Dr:case no:return 32;case Mr:return 268435456;default:return 32}default:return 32}}var y_=!1,Po=null,Io=null,Ro=null,Pf=new Map,If=new Map,ko=[],HV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yC(a,l){switch(a){case"focusin":case"focusout":Po=null;break;case"dragenter":case"dragleave":Io=null;break;case"mouseover":case"mouseout":Ro=null;break;case"pointerover":case"pointerout":Pf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":If.delete(l.pointerId)}}function Rf(a,l,d,m,b,x){return a===null||a.nativeEvent!==x?(a={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:x,targetContainers:[b]},l!==null&&(l=bi(l),l!==null&&pC(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),a)}function GV(a,l,d,m,b){switch(l){case"focusin":return Po=Rf(Po,a,l,d,m,b),!0;case"dragenter":return Io=Rf(Io,a,l,d,m,b),!0;case"mouseover":return Ro=Rf(Ro,a,l,d,m,b),!0;case"pointerover":var x=b.pointerId;return Pf.set(x,Rf(Pf.get(x)||null,a,l,d,m,b)),!0;case"gotpointercapture":return x=b.pointerId,If.set(x,Rf(If.get(x)||null,a,l,d,m,b)),!0}return!1}function bC(a){var l=ya(a.target);if(l!==null){var d=s(l);if(d!==null){if(l=d.tag,l===13){if(l=c(d),l!==null){a.blockedOn=l,Hi(a.priority,function(){gC(d)});return}}else if(l===31){if(l=u(d),l!==null){a.blockedOn=l,Hi(a.priority,function(){gC(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Up(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=g_(a.nativeEvent);if(d===null){d=a.nativeEvent;var m=new d.constructor(d.type,d);Hd=m,d.target.dispatchEvent(m),Hd=null}else return l=bi(d),l!==null&&pC(l),a.blockedOn=d,!1;l.shift()}return!0}function _C(a,l,d){Up(a)&&d.delete(l)}function KV(){y_=!1,Po!==null&&Up(Po)&&(Po=null),Io!==null&&Up(Io)&&(Io=null),Ro!==null&&Up(Ro)&&(Ro=null),Pf.forEach(_C),If.forEach(_C)}function Vp(a,l){a.blockedOn===l&&(a.blockedOn=null,y_||(y_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,KV)))}var Bp=null;function xC(a){Bp!==a&&(Bp=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Bp===a&&(Bp=null);for(var l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],b=a[l+2];if(typeof m!="function"){if(v_(m||d)===null)continue;break}var x=bi(d);x!==null&&(a.splice(l,3),l-=3,gb(x,{pending:!0,data:b,method:d.method,action:m},m,b))}}))}function Pu(a){function l(K){return Vp(K,a)}Po!==null&&Vp(Po,a),Io!==null&&Vp(Io,a),Ro!==null&&Vp(Ro,a),Pf.forEach(l),If.forEach(l);for(var d=0;d<ko.length;d++){var m=ko[d];m.blockedOn===a&&(m.blockedOn=null)}for(;0<ko.length&&(d=ko[0],d.blockedOn===null);)bC(d),d.blockedOn===null&&ko.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var b=d[m],x=d[m+1],T=b[Fn]||null;if(typeof x=="function")T||xC(d);else if(T){var q=null;if(x&&x.hasAttribute("formAction")){if(b=x,T=x[Fn]||null)q=T.formAction;else if(v_(b)!==null)continue}else q=T.action;typeof q=="function"?d[m+1]=q:(d.splice(m,3),m-=3),xC(d)}}}function wC(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(T){return b=T})},focusReset:"manual",scroll:"manual"})}function l(){b!==null&&(b(),b=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,b=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),b!==null&&(b(),b=null)}}}function b_(a){this._internalRoot=a}$p.prototype.render=b_.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,m=oi();hC(d,m,a,l,null,null)},$p.prototype.unmount=b_.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;hC(a.current,2,null,a,null,null),jp(),l[ga]=null}};function $p(a){this._internalRoot=a}$p.prototype.unstable_scheduleHydration=function(a){if(a){var l=jm();a={blockedOn:null,target:a,priority:l};for(var d=0;d<ko.length&&l!==0&&l<ko[d].priority;d++);ko.splice(d,0,a),d===0&&bC(a)}};var jC=e.version;if(jC!=="19.2.4")throw Error(r(527,jC,"19.2.4"));le.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(l),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var QV={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fp.isDisabled&&Fp.supportsFiber)try{an=Fp.inject(QV),Nt=Fp}catch{}}return Df.createRoot=function(a,l){if(!i(a))throw Error(r(299));var d=!1,m="",b=OA,x=PA,T=IA;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),l=dC(a,1,!1,null,null,d,m,null,b,x,T,wC),a[ga]=l.current,e_(a),new b_(l)},Df.hydrateRoot=function(a,l,d){if(!i(a))throw Error(r(299));var m=!1,b="",x=OA,T=PA,q=IA,K=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(x=d.onUncaughtError),d.onCaughtError!==void 0&&(T=d.onCaughtError),d.onRecoverableError!==void 0&&(q=d.onRecoverableError),d.formState!==void 0&&(K=d.formState)),l=dC(a,1,!0,l,d??null,m,b,K,x,T,q,wC),l.context=fC(null),d=l.current,m=oi(),m=Al(m),b=bo(m),b.callback=null,_o(d,b,m),d=m,l.current.lanes=d,$n(l,d),Ia(l),a[ga]=l.current,e_(a),new $p(l)},Df.version="19.2.4",Df}var RC;function i9(){if(RC)return w_.exports;RC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),w_.exports=r9(),w_.exports}var a9=i9();const s9=es(a9);var UD=qD();function hh(){return hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hh.apply(this,arguments)}var Wo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wo||(Wo={}));const kC="popstate";function o9(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:c,hash:u}=r.location;return O1("",{pathname:s,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ug(i)}return c9(e,n,null,t)}function xn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hj(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function l9(){return Math.random().toString(36).substr(2,8)}function DC(t,e){return{usr:t.state,key:t.key,idx:e}}function O1(t,e,n,r){return n===void 0&&(n=null),hh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vd(e):e,{state:n,key:e&&e.key||r||l9()})}function Ug(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function c9(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,c=i.history,u=Wo.Pop,f=null,h=p();h==null&&(h=0,c.replaceState(hh({},c.state,{idx:h}),""));function p(){return(c.state||{idx:null}).idx}function g(){u=Wo.Pop;let N=p(),A=N==null?null:N-h;h=N,f&&f({action:u,location:j.location,delta:A})}function y(N,A){u=Wo.Push;let D=O1(j.location,N,A);h=p()+1;let I=DC(D,h),O=j.createHref(D);try{c.pushState(I,"",O)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(O)}s&&f&&f({action:u,location:j.location,delta:1})}function _(N,A){u=Wo.Replace;let D=O1(j.location,N,A);h=p();let I=DC(D,h),O=j.createHref(D);c.replaceState(I,"",O),s&&f&&f({action:u,location:j.location,delta:0})}function E(N){let A=i.location.origin!=="null"?i.location.origin:i.location.href,D=typeof N=="string"?N:Ug(N);return D=D.replace(/ $/,"%20"),xn(A,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,A)}let j={get action(){return u},get location(){return t(i,c)},listen(N){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(kC,g),f=N,()=>{i.removeEventListener(kC,g),f=null}},createHref(N){return e(i,N)},createURL:E,encodeLocation(N){let A=E(N);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:_,go(N){return c.go(N)}};return j}var MC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(MC||(MC={}));function u9(t,e,n){return n===void 0&&(n="/"),d9(t,e,n)}function d9(t,e,n,r){let i=typeof e=="string"?vd(e):e,s=mj(i.pathname||"/",n);if(s==null)return null;let c=VD(t);f9(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=E9(s);u=x9(c[f],h)}return u}function VD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,c,u)=>{let f={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};f.relativePath.startsWith("/")&&(xn(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let h=Zo([r,f.relativePath]),p=n.concat(f);s.children&&s.children.length>0&&(xn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),VD(s.children,e,p,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:b9(h,s.index),routesMeta:p})};return t.forEach((s,c)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,c);else for(let f of BD(s.path))i(s,c,f)}),e}function BD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let c=BD(r.join("/")),u=[];return u.push(...c.map(f=>f===""?s:[s,f].join("/"))),i&&u.push(...c),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function f9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const h9=/^:[\w-]+$/,m9=3,p9=2,g9=1,v9=10,y9=-2,zC=t=>t==="*";function b9(t,e){let n=t.split("/"),r=n.length;return n.some(zC)&&(r+=y9),e&&(r+=p9),n.filter(i=>!zC(i)).reduce((i,s)=>i+(h9.test(s)?m9:s===""?g9:v9),r)}function _9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function x9(t,e,n){let{routesMeta:r}=t,i={},s="/",c=[];for(let u=0;u<r.length;++u){let f=r[u],h=u===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=w9({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),y=f.route;if(!g)return null;Object.assign(i,g.params),c.push({params:i,pathname:Zo([s,g.pathname]),pathnameBase:C9(Zo([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=Zo([s,g.pathnameBase]))}return c}function w9(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=j9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],c=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,p,g)=>{let{paramName:y,isOptional:_}=p;if(y==="*"){let j=u[g]||"";c=s.slice(0,s.length-j.length).replace(/(.)\/+$/,"$1")}const E=u[g];return _&&!E?h[y]=void 0:h[y]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:c,pattern:t}}function j9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),hj(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function E9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hj(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mj(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const N9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,S9=t=>N9.test(t);function A9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?vd(t):t,s;if(n)if(S9(n))s=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),hj(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+n))}n.startsWith("/")?s=LC(n.substring(1),"/"):s=LC(n,e)}else s=e;return{pathname:s,search:O9(r),hash:P9(i)}}function LC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function S_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function T9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pj(t,e){let n=T9(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gj(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=vd(t):(i=hh({},t),xn(!i.pathname||!i.pathname.includes("?"),S_("?","pathname","search",i)),xn(!i.pathname||!i.pathname.includes("#"),S_("#","pathname","hash",i)),xn(!i.search||!i.search.includes("#"),S_("#","search","hash",i)));let s=t===""||i.pathname==="",c=s?"/":i.pathname,u;if(c==null)u=n;else{let g=e.length-1;if(!r&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}u=g>=0?e[g]:"/"}let f=A9(i,u),h=c&&c!=="/"&&c.endsWith("/"),p=(s||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}const Zo=t=>t.join("/").replace(/\/\/+/g,"/"),C9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,P9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function I9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $D=["post","put","patch","delete"];new Set($D);const R9=["get",...$D];new Set(R9);function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mh.apply(this,arguments)}const vj=w.createContext(null),k9=w.createContext(null),pl=w.createContext(null),iy=w.createContext(null),Gs=w.createContext({outlet:null,matches:[],isDataRoute:!1}),FD=w.createContext(null);function D9(t,e){let{relative:n}=e===void 0?{}:e;yd()||xn(!1);let{basename:r,navigator:i}=w.useContext(pl),{hash:s,pathname:c,search:u}=GD(t,{relative:n}),f=c;return r!=="/"&&(f=c==="/"?r:Zo([r,c])),i.createHref({pathname:f,search:u,hash:s})}function yd(){return w.useContext(iy)!=null}function gl(){return yd()||xn(!1),w.useContext(iy).location}function HD(t){w.useContext(pl).static||w.useLayoutEffect(t)}function Vi(){let{isDataRoute:t}=w.useContext(Gs);return t?Q9():M9()}function M9(){yd()||xn(!1);let t=w.useContext(vj),{basename:e,future:n,navigator:r}=w.useContext(pl),{matches:i}=w.useContext(Gs),{pathname:s}=gl(),c=JSON.stringify(pj(i,n.v7_relativeSplatPath)),u=w.useRef(!1);return HD(()=>{u.current=!0}),w.useCallback(function(h,p){if(p===void 0&&(p={}),!u.current)return;if(typeof h=="number"){r.go(h);return}let g=gj(h,JSON.parse(c),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Zo([e,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[e,r,c,s,t])}function ay(){let{matches:t}=w.useContext(Gs),e=t[t.length-1];return e?e.params:{}}function GD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(pl),{matches:i}=w.useContext(Gs),{pathname:s}=gl(),c=JSON.stringify(pj(i,r.v7_relativeSplatPath));return w.useMemo(()=>gj(t,JSON.parse(c),s,n==="path"),[t,c,s,n])}function z9(t,e){return L9(t,e)}function L9(t,e,n,r){yd()||xn(!1);let{navigator:i}=w.useContext(pl),{matches:s}=w.useContext(Gs),c=s[s.length-1],u=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let h=gl(),p;if(e){var g;let N=typeof e=="string"?vd(e):e;f==="/"||(g=N.pathname)!=null&&g.startsWith(f)||xn(!1),p=N}else p=h;let y=p.pathname||"/",_=y;if(f!=="/"){let N=f.replace(/^\//,"").split("/");_="/"+y.replace(/^\//,"").split("/").slice(N.length).join("/")}let E=u9(t,{pathname:_}),j=$9(E&&E.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:Zo([f,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?f:Zo([f,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,n,r);return e&&j?w.createElement(iy.Provider,{value:{location:mh({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Wo.Pop}},j):j}function q9(){let t=K9(),e=I9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const U9=w.createElement(q9,null);class V9 extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Gs.Provider,{value:this.props.routeContext},w.createElement(FD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B9(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(vj);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Gs.Provider,{value:e},r)}function $9(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let p=c.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);p>=0||xn(!1),c=c.slice(0,Math.min(c.length,p+1))}let f=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<c.length;p++){let g=c[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:y,errors:_}=n,E=g.route.loader&&y[g.route.id]===void 0&&(!_||_[g.route.id]===void 0);if(g.route.lazy||E){f=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((p,g,y)=>{let _,E=!1,j=null,N=null;n&&(_=u&&g.route.id?u[g.route.id]:void 0,j=g.route.errorElement||U9,f&&(h<0&&y===0?(W9("route-fallback"),E=!0,N=null):h===y&&(E=!0,N=g.route.hydrateFallbackElement||null)));let A=e.concat(c.slice(0,y+1)),D=()=>{let I;return _?I=j:E?I=N:g.route.Component?I=w.createElement(g.route.Component,null):g.route.element?I=g.route.element:I=p,w.createElement(B9,{match:g,routeContext:{outlet:p,matches:A,isDataRoute:n!=null},children:I})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?w.createElement(V9,{location:n.location,revalidation:n.revalidation,component:j,error:_,children:D(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):D()},null)}var KD=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(KD||{}),QD=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(QD||{});function F9(t){let e=w.useContext(vj);return e||xn(!1),e}function H9(t){let e=w.useContext(k9);return e||xn(!1),e}function G9(t){let e=w.useContext(Gs);return e||xn(!1),e}function WD(t){let e=G9(),n=e.matches[e.matches.length-1];return n.route.id||xn(!1),n.route.id}function K9(){var t;let e=w.useContext(FD),n=H9(),r=WD();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Q9(){let{router:t}=F9(KD.UseNavigateStable),e=WD(QD.UseNavigateStable),n=w.useRef(!1);return HD(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,mh({fromRouteId:e},s)))},[t,e])}const qC={};function W9(t,e,n){qC[t]||(qC[t]=!0)}function Y9(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function X9(t){let{to:e,replace:n,state:r,relative:i}=t;yd()||xn(!1);let{future:s,static:c}=w.useContext(pl),{matches:u}=w.useContext(Gs),{pathname:f}=gl(),h=Vi(),p=gj(e,pj(u,s.v7_relativeSplatPath),f,i==="path"),g=JSON.stringify(p);return w.useEffect(()=>h(JSON.parse(g),{replace:n,state:r,relative:i}),[h,g,i,n,r]),null}function cn(t){xn(!1)}function Z9(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Wo.Pop,navigator:s,static:c=!1,future:u}=t;yd()&&xn(!1);let f=e.replace(/^\/*/,"/"),h=w.useMemo(()=>({basename:f,navigator:s,static:c,future:mh({v7_relativeSplatPath:!1},u)}),[f,u,s,c]);typeof r=="string"&&(r=vd(r));let{pathname:p="/",search:g="",hash:y="",state:_=null,key:E="default"}=r,j=w.useMemo(()=>{let N=mj(p,f);return N==null?null:{location:{pathname:N,search:g,hash:y,state:_,key:E},navigationType:i}},[f,p,g,y,_,E,i]);return j==null?null:w.createElement(pl.Provider,{value:h},w.createElement(iy.Provider,{children:n,value:j}))}function J9(t){let{children:e,location:n}=t;return z9(P1(e),n)}new Promise(()=>{});function P1(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let s=[...e,i];if(r.type===w.Fragment){n.push.apply(n,P1(r.props.children,s));return}r.type!==cn&&xn(!1),!r.props.index||!r.props.children||xn(!1);let c={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=P1(r.props.children,s)),n.push(c)}),n}function I1(){return I1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I1.apply(this,arguments)}function e8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function t8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function n8(t,e){return t.button===0&&(!e||e==="_self")&&!t8(t)}const r8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],i8="6";try{window.__reactRouterVersion=i8}catch{}const a8="startTransition",UC=LD[a8];function s8(t){let{basename:e,children:n,future:r,window:i}=t,s=w.useRef();s.current==null&&(s.current=o9({window:i,v5Compat:!0}));let c=s.current,[u,f]=w.useState({action:c.action,location:c.location}),{v7_startTransition:h}=r||{},p=w.useCallback(g=>{h&&UC?UC(()=>f(g)):f(g)},[f,h]);return w.useLayoutEffect(()=>c.listen(p),[c,p]),w.useEffect(()=>Y9(r),[r]),w.createElement(Z9,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:c,future:r})}const o8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",l8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xe=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:c,state:u,target:f,to:h,preventScrollReset:p,viewTransition:g}=e,y=e8(e,r8),{basename:_}=w.useContext(pl),E,j=!1;if(typeof h=="string"&&l8.test(h)&&(E=h,o8))try{let I=new URL(window.location.href),O=h.startsWith("//")?new URL(I.protocol+h):new URL(h),V=mj(O.pathname,_);O.origin===I.origin&&V!=null?h=V+O.search+O.hash:j=!0}catch{}let N=D9(h,{relative:i}),A=c8(h,{replace:c,state:u,target:f,preventScrollReset:p,relative:i,viewTransition:g});function D(I){r&&r(I),I.defaultPrevented||A(I)}return w.createElement("a",I1({},y,{href:E||N,onClick:j||s?r:D,ref:n,target:f}))});var VC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(VC||(VC={}));var BC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(BC||(BC={}));function c8(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:c,viewTransition:u}=e===void 0?{}:e,f=Vi(),h=gl(),p=GD(t,{relative:c});return w.useCallback(g=>{if(n8(g,n)){g.preventDefault();let y=r!==void 0?r:Ug(h)===Ug(p);f(t,{replace:y,state:i,preventScrollReset:s,relative:c,viewTransition:u})}},[h,f,p,r,i,n,t,s,c,u])}const u8=()=>{};var $C={};const YD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},d8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],c=t[n++],u=t[n++],f=((i&7)<<18|(s&63)<<12|(c&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|c&63)}}return e.join("")},XD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],c=i+1<t.length,u=c?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,p=s>>2,g=(s&3)<<4|u>>4;let y=(u&15)<<2|h>>6,_=h&63;f||(_=64,c||(y=64)),r.push(n[p],n[g],n[y],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):d8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||h==null||g==null)throw new f8;const y=s<<2|u>>4;if(r.push(y),h!==64){const _=u<<4&240|h>>2;if(r.push(_),g!==64){const E=h<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class f8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h8=function(t){const e=YD(t);return XD.encodeByteArray(e,!0)},Vg=function(t){return h8(t).replace(/\./g,"")},ZD=function(t){try{return XD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function m8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const p8=()=>m8().__FIREBASE_DEFAULTS__,g8=()=>{if(typeof process>"u"||typeof $C>"u")return;const t=$C.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},v8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZD(t[1]);return e&&JSON.parse(e)},sy=()=>{try{return u8()||p8()||g8()||v8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JD=t=>sy()?.emulatorHosts?.[t],eM=t=>{const e=JD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tM=()=>sy()?.config,nM=t=>sy()?.[`_${t}`];class y8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function vl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yj(t){return(await fetch(t,{credentials:"include"})).ok}function rM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Vg(JSON.stringify(n)),Vg(JSON.stringify(c)),""].join(".")}const ih={};function b8(){const t={prod:[],emulator:[]};for(const e of Object.keys(ih))ih[e]?t.emulator.push(e):t.prod.push(e);return t}function _8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let FC=!1;function bj(t,e){if(typeof window>"u"||typeof document>"u"||!vl(window.location.host)||ih[t]===e||ih[t]||FC)return;ih[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=b8().prod.length>0;function c(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,_){y.setAttribute("width","24"),y.setAttribute("id",_),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{FC=!0,c()},y}function p(y,_){y.setAttribute("id",_),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=_8(r),_=n("text"),E=document.getElementById(_)||document.createElement("span"),j=n("learnmore"),N=document.getElementById(j)||document.createElement("a"),A=n("preprendIcon"),D=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const I=y.element;u(I),p(N,j);const O=h();f(D,A),I.append(D,E,N,O),document.body.appendChild(I)}s?(E.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function wr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wr())}function w8(){const t=sy()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function j8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function E8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function N8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S8(){const t=wr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function A8(){return!w8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T8(){try{return typeof indexedDB=="object"}catch{return!1}}function C8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const O8="FirebaseError";class ts extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=O8,Object.setPrototypeOf(this,ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fh.prototype.create)}}class Fh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],c=s?P8(s,r):"Error",u=`${this.serviceName}: ${c} (${i}).`;return new ts(i,u,r)}}function P8(t,e){return t.replace(I8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const I8=/\{\$([^}]+)}/g;function R8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],c=e[i];if(HC(s)&&HC(c)){if(!gc(s,c))return!1}else if(s!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function HC(t){return t!==null&&typeof t=="object"}function Hh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Wf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function k8(t,e){const n=new D8(t,e);return n.subscribe.bind(n)}class D8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");M8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=A_),i.error===void 0&&(i.error=A_),i.complete===void 0&&(i.complete=A_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function A_(){}function Ft(t){return t&&t._delegate?t._delegate:t}class al{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ec="[DEFAULT]";let z8=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new y8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q8(e))try{this.getOrInitializeService({instanceIdentifier:ec})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ec){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ec){return this.instances.has(e)}getOptions(e=ec){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&c.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:L8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ec){return this.component?this.component.multipleInstances?e:ec:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function L8(t){return t===ec?void 0:t}function q8(t){return t.instantiationMode==="EAGER"}class U8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new z8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ct||(ct={}));const V8={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},B8=ct.INFO,$8={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},F8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=$8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _j{constructor(e){this.name=e,this._logLevel=B8,this._logHandler=F8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const H8=(t,e)=>e.some(n=>t instanceof n);let GC,KC;function G8(){return GC||(GC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K8(){return KC||(KC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iM=new WeakMap,R1=new WeakMap,aM=new WeakMap,T_=new WeakMap,xj=new WeakMap;function Q8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",c)},s=()=>{n(Jo(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&iM.set(n,t)}).catch(()=>{}),xj.set(e,t),e}function W8(t){if(R1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",c),t.removeEventListener("abort",c)},s=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",c),t.addEventListener("abort",c)});R1.set(t,e)}let k1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return R1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Y8(t){k1=t(k1)}function X8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(C_(this),e,...n);return aM.set(r,e.sort?e.sort():[e]),Jo(r)}:K8().includes(t)?function(...e){return t.apply(C_(this),e),Jo(iM.get(this))}:function(...e){return Jo(t.apply(C_(this),e))}}function Z8(t){return typeof t=="function"?X8(t):(t instanceof IDBTransaction&&W8(t),H8(t,G8())?new Proxy(t,k1):t)}function Jo(t){if(t instanceof IDBRequest)return Q8(t);if(T_.has(t))return T_.get(t);const e=Z8(t);return e!==t&&(T_.set(t,e),xj.set(e,t)),e}const C_=t=>xj.get(t);function J8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const c=indexedDB.open(t,e),u=Jo(c);return r&&c.addEventListener("upgradeneeded",f=>{r(Jo(c.result),f.oldVersion,f.newVersion,Jo(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const eB=["get","getKey","getAll","getAllKeys","count"],tB=["put","add","delete","clear"],O_=new Map;function QC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(O_.get(e))return O_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eB.includes(n)))return;const s=async function(c,...u){const f=this.transaction(c,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&f.done]))[0]};return O_.set(e,s),s}Y8(t=>({...t,get:(e,n,r)=>QC(e,n)||t.get(e,n,r),has:(e,n)=>!!QC(e,n)||t.has(e,n)}));class nB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rB(t){return t.getComponent()?.type==="VERSION"}const D1="@firebase/app",WC="0.14.7";const ks=new _j("@firebase/app"),iB="@firebase/app-compat",aB="@firebase/analytics-compat",sB="@firebase/analytics",oB="@firebase/app-check-compat",lB="@firebase/app-check",cB="@firebase/auth",uB="@firebase/auth-compat",dB="@firebase/database",fB="@firebase/data-connect",hB="@firebase/database-compat",mB="@firebase/functions",pB="@firebase/functions-compat",gB="@firebase/installations",vB="@firebase/installations-compat",yB="@firebase/messaging",bB="@firebase/messaging-compat",_B="@firebase/performance",xB="@firebase/performance-compat",wB="@firebase/remote-config",jB="@firebase/remote-config-compat",EB="@firebase/storage",NB="@firebase/storage-compat",SB="@firebase/firestore",AB="@firebase/ai",TB="@firebase/firestore-compat",CB="firebase",OB="12.8.0";const M1="[DEFAULT]",PB={[D1]:"fire-core",[iB]:"fire-core-compat",[sB]:"fire-analytics",[aB]:"fire-analytics-compat",[lB]:"fire-app-check",[oB]:"fire-app-check-compat",[cB]:"fire-auth",[uB]:"fire-auth-compat",[dB]:"fire-rtdb",[fB]:"fire-data-connect",[hB]:"fire-rtdb-compat",[mB]:"fire-fn",[pB]:"fire-fn-compat",[gB]:"fire-iid",[vB]:"fire-iid-compat",[yB]:"fire-fcm",[bB]:"fire-fcm-compat",[_B]:"fire-perf",[xB]:"fire-perf-compat",[wB]:"fire-rc",[jB]:"fire-rc-compat",[EB]:"fire-gcs",[NB]:"fire-gcs-compat",[SB]:"fire-fst",[TB]:"fire-fst-compat",[AB]:"fire-vertex","fire-js":"fire-js",[CB]:"fire-js-all"};const Bg=new Map,IB=new Map,z1=new Map;function YC(t,e){try{t.container.addComponent(e)}catch(n){ks.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vc(t){const e=t.name;if(z1.has(e))return ks.debug(`There were multiple attempts to register component ${e}.`),!1;z1.set(e,t);for(const n of Bg.values())YC(n,t);for(const n of IB.values())YC(n,t);return!0}function oy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function li(t){return t==null?!1:t.settings!==void 0}const RB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},el=new Fh("app","Firebase",RB);class kB{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new al("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw el.create("app-deleted",{appName:this._name})}}const kc=OB;function sM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:M1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw el.create("bad-app-name",{appName:String(i)});if(n||(n=tM()),!n)throw el.create("no-options");const s=Bg.get(i);if(s){if(gc(n,s.options)&&gc(r,s.config))return s;throw el.create("duplicate-app",{appName:i})}const c=new U8(i);for(const f of z1.values())c.addComponent(f);const u=new kB(n,r,c);return Bg.set(i,u),u}function wj(t=M1){const e=Bg.get(t);if(!e&&t===M1&&tM())return sM();if(!e)throw el.create("no-app",{appName:t});return e}function Ba(t,e,n){let r=PB[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ks.warn(c.join(" "));return}vc(new al(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const DB="firebase-heartbeat-database",MB=1,ph="firebase-heartbeat-store";let P_=null;function oM(){return P_||(P_=J8(DB,MB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ph)}catch(n){console.warn(n)}}}}).catch(t=>{throw el.create("idb-open",{originalErrorMessage:t.message})})),P_}async function zB(t){try{const n=(await oM()).transaction(ph),r=await n.objectStore(ph).get(lM(t));return await n.done,r}catch(e){if(e instanceof ts)ks.warn(e.message);else{const n=el.create("idb-get",{originalErrorMessage:e?.message});ks.warn(n.message)}}}async function XC(t,e){try{const r=(await oM()).transaction(ph,"readwrite");await r.objectStore(ph).put(e,lM(t)),await r.done}catch(n){if(n instanceof ts)ks.warn(n.message);else{const r=el.create("idb-set",{originalErrorMessage:n?.message});ks.warn(r.message)}}}function lM(t){return`${t.name}!${t.options.appId}`}const LB=1024,qB=30;class UB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ZC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>qB){const i=$B(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ks.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ZC(),{heartbeatsToSend:n,unsentEntries:r}=VB(this._heartbeatsCache.heartbeats),i=Vg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ks.warn(e),""}}}function ZC(){return new Date().toISOString().substring(0,10)}function VB(t,e=LB){const n=[];let r=t.slice();for(const i of t){const s=n.find(c=>c.agent===i.agent);if(s){if(s.dates.push(i.date),JC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),JC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T8()?C8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return XC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return XC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function JC(t){return Vg(JSON.stringify({version:2,heartbeats:t})).length}function $B(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function FB(t){vc(new al("platform-logger",e=>new nB(e),"PRIVATE")),vc(new al("heartbeat",e=>new UB(e),"PRIVATE")),Ba(D1,WC,t),Ba(D1,WC,"esm2020"),Ba("fire-js","")}FB("");function cM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HB=cM,uM=new Fh("auth","Firebase",cM());const $g=new _j("@firebase/auth");function GB(t,...e){$g.logLevel<=ct.WARN&&$g.warn(`Auth (${kc}): ${t}`,...e)}function wg(t,...e){$g.logLevel<=ct.ERROR&&$g.error(`Auth (${kc}): ${t}`,...e)}function ca(t,...e){throw jj(t,...e)}function $a(t,...e){return jj(t,...e)}function dM(t,e,n){const r={...HB(),[e]:n};return new Fh("auth","Firebase",r).create(e,{appName:t.name})}function Os(t){return dM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jj(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uM.create(t,...e)}function He(t,e,...n){if(!t)throw jj(e,...n)}function Ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wg(e),new Error(e)}function Ds(t,e){t||Ns(e)}function L1(){return typeof self<"u"&&self.location?.href||""}function KB(){return e2()==="http:"||e2()==="https:"}function e2(){return typeof self<"u"&&self.location?.protocol||null}function QB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KB()||E8()||"connection"in navigator)?navigator.onLine:!0}function WB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Gh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ds(n>e,"Short delay should be less than long delay!"),this.isMobile=x8()||N8()}get(){return QB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ej(t,e){Ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class fM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const YB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const XB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZB=new Gh(3e4,6e4);function yl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ks(t,e,n,r,i={}){return hM(t,i,async()=>{let s={},c={};r&&(e==="GET"?c=r:s={body:JSON.stringify(r)});const u=Hh({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return j8()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&vl(t.emulatorConfig.host)&&(h.credentials="include"),fM.fetch()(await mM(t,t.config.apiHost,n,u),h)})}async function hM(t,e,n){t._canInitEmulator=!1;const r={...YB,...e};try{const i=new e7(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const c=await s.json();if("needConfirmation"in c)throw Hp(t,"account-exists-with-different-credential",c);if(s.ok&&!("errorMessage"in c))return c;{const u=s.ok?c.errorMessage:c.error.message,[f,h]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hp(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Hp(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Hp(t,"user-disabled",c);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw dM(t,p,h);ca(t,p)}}catch(i){if(i instanceof ts)throw i;ca(t,"network-request-failed",{message:String(i)})}}async function Kh(t,e,n,r,i={}){const s=await Ks(t,e,n,r,i);return"mfaPendingCredential"in s&&ca(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function mM(t,e,n,r){const i=`${e}${n}?${r}`,s=t,c=s.config.emulator?Ej(t.config,i):`${t.config.apiScheme}://${i}`;return XB.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(c).toString():c}function JB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class e7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($a(this.auth,"network-request-failed")),ZB.get())})}}function Hp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=$a(t,e,r);return i.customData._tokenResponse=n,i}function t2(t){return t!==void 0&&t.enterprise!==void 0}class t7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return JB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function n7(t,e){return Ks(t,"GET","/v2/recaptchaConfig",yl(t,e))}async function r7(t,e){return Ks(t,"POST","/v1/accounts:delete",e)}async function Fg(t,e){return Ks(t,"POST","/v1/accounts:lookup",e)}function ah(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i7(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),i=Nj(r);He(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,c=s?.sign_in_provider;return{claims:i,token:r,authTime:ah(I_(i.auth_time)),issuedAtTime:ah(I_(i.iat)),expirationTime:ah(I_(i.exp)),signInProvider:c||null,signInSecondFactor:s?.sign_in_second_factor||null}}function I_(t){return Number(t)*1e3}function Nj(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wg("JWT malformed, contained fewer than 3 sections"),null;try{const i=ZD(n);return i?JSON.parse(i):(wg("Failed to decode base64 JWT payload"),null)}catch(i){return wg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function n2(t){const e=Nj(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ed(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ts&&a7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function a7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class s7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class q1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ah(this.lastLoginAt),this.creationTime=ah(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hg(t){const e=t.auth,n=await t.getIdToken(),r=await ed(t,Fg(e,{idToken:n}));He(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?pM(i.providerUserInfo):[],c=l7(t.providerData,s),u=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!c?.length,h=u?f:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new q1(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function o7(t){const e=Ft(t);await Hg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function pM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function c7(t,e){const n=await hM(t,{},async()=>{const r=Hh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,c=await mM(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return t.emulatorConfig&&vl(t.emulatorConfig.host)&&(f.credentials="include"),fM.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function u7(t,e){return Ks(t,"POST","/v2/accounts:revokeToken",yl(t,e))}class Hu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):n2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=n2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await c7(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,c=new Hu;return r&&(He(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(He(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),s&&(He(typeof s=="number","internal-error",{appName:e}),c.expirationTime=s),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hu,this.toJSON())}_performRefresh(){return Ns("not implemented")}}function Mo(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ia{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new s7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new q1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ed(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return i7(this,e)}reload(){return o7(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ia({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(Os(this.auth));const e=await this.getIdToken();return await ed(this,r7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,c=n.photoURL??void 0,u=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:y,isAnonymous:_,providerData:E,stsTokenManager:j}=n;He(g&&j,e,"internal-error");const N=Hu.fromJSON(this.name,j);He(typeof g=="string",e,"internal-error"),Mo(r,e.name),Mo(i,e.name),He(typeof y=="boolean",e,"internal-error"),He(typeof _=="boolean",e,"internal-error"),Mo(s,e.name),Mo(c,e.name),Mo(u,e.name),Mo(f,e.name),Mo(h,e.name),Mo(p,e.name);const A=new ia({uid:g,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:_,photoURL:c,phoneNumber:s,tenantId:u,stsTokenManager:N,createdAt:h,lastLoginAt:p});return E&&Array.isArray(E)&&(A.providerData=E.map(D=>({...D}))),f&&(A._redirectEventId=f),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Hu;i.updateFromServerResponse(n);const s=new ia({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Hg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];He(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?pM(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!s?.length,u=new Hu;u.updateFromIdToken(r);const f=new ia({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:c}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new q1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(f,h),f}}const r2=new Map;function Ss(t){Ds(t instanceof Function,"Expected a class definition");let e=r2.get(t);return e?(Ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,r2.set(t,e),e)}class gM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gM.type="NONE";const i2=gM;function jg(t,e,n){return`firebase:${t}:${e}:${n}`}class Gu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=jg(this.userKey,i.apiKey,s),this.fullPersistenceKey=jg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fg(this.auth,{idToken:e}).catch(()=>{});return n?ia._fromGetAccountInfoResponse(this.auth,n,e):null}return ia._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Gu(Ss(i2),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Ss(i2);const c=jg(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const p=await h._get(c);if(p){let g;if(typeof p=="string"){const y=await Fg(e,{idToken:p}).catch(()=>{});if(!y)break;g=await ia._fromGetAccountInfoResponse(e,y,p)}else g=ia._fromJSON(e,p);h!==s&&(u=g),s=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new Gu(s,e,r):(s=f[0],u&&await s._set(c,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(c)}catch{}})),new Gu(s,e,r))}}function a2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_M(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wM(e))return"Blackberry";if(jM(e))return"Webos";if(yM(e))return"Safari";if((e.includes("chrome/")||bM(e))&&!e.includes("edge/"))return"Chrome";if(xM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function vM(t=wr()){return/firefox\//i.test(t)}function yM(t=wr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bM(t=wr()){return/crios\//i.test(t)}function _M(t=wr()){return/iemobile/i.test(t)}function xM(t=wr()){return/android/i.test(t)}function wM(t=wr()){return/blackberry/i.test(t)}function jM(t=wr()){return/webos/i.test(t)}function Sj(t=wr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function d7(t=wr()){return Sj(t)&&!!window.navigator?.standalone}function f7(){return S8()&&document.documentMode===10}function EM(t=wr()){return Sj(t)||xM(t)||jM(t)||wM(t)||/windows phone/i.test(t)||_M(t)}function NM(t,e=[]){let n;switch(t){case"Browser":n=a2(wr());break;case"Worker":n=`${a2(wr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${kc}/${r}`}class h7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((c,u)=>{try{const f=e(s);c(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function m7(t,e={}){return Ks(t,"GET","/v2/passwordPolicy",yl(t,e))}const p7=6;class g7{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??p7,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class v7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new s2(this),this.idTokenSubscription=new s2(this),this.beforeStateQueue=new h7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ss(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Gu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fg(this,{idToken:e}),r=await ia._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(li(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,c=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(li(this.app))return Promise.reject(Os(this));const n=e?Ft(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(Os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return li(this.app)?Promise.reject(Os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await m7(this),n=new g7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await u7(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ss(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await Gu.create(this,[Ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(u,this,"internal-error"),u.then(()=>{c||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&GB(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Dc(t){return Ft(t)}class s2{constructor(e){this.auth=e,this.observer=null,this.addObserver=k8(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ly={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function y7(t){ly=t}function SM(t){return ly.loadJS(t)}function b7(){return ly.recaptchaEnterpriseScript}function _7(){return ly.gapiScript}function x7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class w7{constructor(){this.enterprise=new j7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class j7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const E7="recaptcha-enterprise",AM="NO_RECAPTCHA";class N7{constructor(e){this.type=E7,this.auth=Dc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(c,u)=>{n7(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new t7(f);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,c(h.siteKey)}}).catch(f=>{u(f)})})}function i(s,c,u){const f=window.grecaptcha;t2(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(h=>{c(h)}).catch(()=>{c(AM)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new w7().execute("siteKey",{action:"verify"}):new Promise((s,c)=>{r(this.auth).then(u=>{if(!n&&t2(window.grecaptcha))i(u,s,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=b7();f.length!==0&&(f+=u),SM(f).then(()=>{i(u,s,c)}).catch(h=>{c(h)})}}).catch(u=>{c(u)})})}}async function o2(t,e,n,r=!1,i=!1){const s=new N7(t);let c;if(i)c=AM;else try{c=await s.verify(n)}catch{c=await s.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function U1(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await o2(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await o2(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(s)})}function S7(t,e){const n=oy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(gc(s,e??{}))return i;ca(i,"already-initialized")}return n.initialize({options:e})}function A7(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ss);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function T7(t,e,n){const r=Dc(t);He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=TM(e),{host:c,port:u}=C7(e),f=u===null?"":`:${u}`,h={url:`${s}//${c}${f}/`},p=Object.freeze({host:c,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){He(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),He(gc(h,r.config.emulator)&&gc(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,vl(c)?(yj(`${s}//${c}${f}`),bj("Auth",!0)):O7()}function TM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function C7(t){const e=TM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:l2(r.substr(s.length+1))}}else{const[s,c]=r.split(":");return{host:s,port:l2(c)}}}function l2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function O7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Aj{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ns("not implemented")}_getIdTokenResponse(e){return Ns("not implemented")}_linkToIdToken(e,n){return Ns("not implemented")}_getReauthenticationResolver(e){return Ns("not implemented")}}async function P7(t,e){return Ks(t,"POST","/v1/accounts:signUp",e)}async function I7(t,e){return Kh(t,"POST","/v1/accounts:signInWithPassword",yl(t,e))}async function R7(t,e){return Kh(t,"POST","/v1/accounts:signInWithEmailLink",yl(t,e))}async function k7(t,e){return Kh(t,"POST","/v1/accounts:signInWithEmailLink",yl(t,e))}class gh extends Aj{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new gh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new gh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return U1(e,n,"signInWithPassword",I7);case"emailLink":return R7(e,{email:this._email,oobCode:this._password});default:ca(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return U1(e,r,"signUpPassword",P7);case"emailLink":return k7(e,{idToken:n,email:this._email,oobCode:this._password});default:ca(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ku(t,e){return Kh(t,"POST","/v1/accounts:signInWithIdp",yl(t,e))}const D7="http://localhost";class yc extends Aj{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ca("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const c=new yc(r,i);return c.idToken=s.idToken||void 0,c.accessToken=s.accessToken||void 0,c.secret=s.secret,c.nonce=s.nonce,c.pendingToken=s.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Ku(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ku(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ku(e,n)}buildRequest(){const e={requestUri:D7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hh(n)}return e}}function M7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function z7(t){const e=Qf(Wf(t)).link,n=e?Qf(Wf(e)).deep_link_id:null,r=Qf(Wf(t)).deep_link_id;return(r?Qf(Wf(r)).link:null)||r||n||e||t}class Tj{constructor(e){const n=Qf(Wf(e)),r=n.apiKey??null,i=n.oobCode??null,s=M7(n.mode??null);He(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=z7(e);try{return new Tj(n)}catch{return null}}}class bd{constructor(){this.providerId=bd.PROVIDER_ID}static credential(e,n){return gh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Tj.parseLink(n);return He(r,"argument-error"),gh._fromEmailAndCode(e,r.code,r.tenantId)}}bd.PROVIDER_ID="password";bd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class CM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Qh extends CM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $o extends Qh{constructor(){super("facebook.com")}static credential(e){return yc._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $o.credential(e.oauthAccessToken)}catch{return null}}}$o.FACEBOOK_SIGN_IN_METHOD="facebook.com";$o.PROVIDER_ID="facebook.com";class Fo extends Qh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yc._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fo.credential(n,r)}catch{return null}}}Fo.GOOGLE_SIGN_IN_METHOD="google.com";Fo.PROVIDER_ID="google.com";class Ho extends Qh{constructor(){super("github.com")}static credential(e){return yc._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ho.credential(e.oauthAccessToken)}catch{return null}}}Ho.GITHUB_SIGN_IN_METHOD="github.com";Ho.PROVIDER_ID="github.com";class Go extends Qh{constructor(){super("twitter.com")}static credential(e,n){return yc._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Go.credential(n,r)}catch{return null}}}Go.TWITTER_SIGN_IN_METHOD="twitter.com";Go.PROVIDER_ID="twitter.com";async function L7(t,e){return Kh(t,"POST","/v1/accounts:signUp",yl(t,e))}class bc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ia._fromIdTokenResponse(e,r,i),c=c2(r);return new bc({user:s,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=c2(r);return new bc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function c2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Gg extends ts{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Gg(e,n,r,i)}}function OM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Gg._fromErrorAndOperation(t,s,e,r):s})}async function q7(t,e,n=!1){const r=await ed(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bc._forOperation(t,"link",r)}async function U7(t,e,n=!1){const{auth:r}=t;if(li(r.app))return Promise.reject(Os(r));const i="reauthenticate";try{const s=await ed(t,OM(r,i,e,t),n);He(s.idToken,r,"internal-error");const c=Nj(s.idToken);He(c,r,"internal-error");const{sub:u}=c;return He(t.uid===u,r,"user-mismatch"),bc._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ca(r,"user-mismatch"),s}}async function PM(t,e,n=!1){if(li(t.app))return Promise.reject(Os(t));const r="signIn",i=await OM(t,r,e),s=await bc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function V7(t,e){return PM(Dc(t),e)}async function IM(t){const e=Dc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function B7(t,e,n){if(li(t.app))return Promise.reject(Os(t));const r=Dc(t),c=await U1(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",L7).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&IM(t),f}),u=await bc._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(u.user),u}function $7(t,e,n){return li(t.app)?Promise.reject(Os(t)):V7(Ft(t),bd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&IM(t),r})}async function F7(t,e){return Ks(t,"POST","/v1/accounts:update",e)}async function H7(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ft(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await ed(r,F7(r.auth,s));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const u=r.providerData.find(({providerId:f})=>f==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function G7(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function K7(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function Q7(t,e,n,r){return Ft(t).onAuthStateChanged(e,n,r)}function W7(t){return Ft(t).signOut()}const Kg="__sak";class RM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kg,"1"),this.storage.removeItem(Kg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Y7=1e3,X7=10;class kM extends RM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,u,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);f7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,X7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Y7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kM.type="LOCAL";const Z7=kM;class DM extends RM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}DM.type="SESSION";const MM=DM;function J7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class cy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,c=this.handlersMap[i];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(c).map(async h=>h(n.origin,s)),f=await J7(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cy.receivers=[];function Cj(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class e${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,c;return new Promise((u,f)=>{const h=Cj("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(y.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Fa(){return window}function t$(t){Fa().location.href=t}function zM(){return typeof Fa().WorkerGlobalScope<"u"&&typeof Fa().importScripts=="function"}async function n$(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function r$(){return navigator?.serviceWorker?.controller||null}function i$(){return zM()?self:null}const LM="firebaseLocalStorageDb",a$=1,Qg="firebaseLocalStorage",qM="fbase_key";class Wh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uy(t,e){return t.transaction([Qg],e?"readwrite":"readonly").objectStore(Qg)}function s$(){const t=indexedDB.deleteDatabase(LM);return new Wh(t).toPromise()}function V1(){const t=indexedDB.open(LM,a$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qg,{keyPath:qM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qg)?e(r):(r.close(),await s$(),e(await V1()))})})}async function u2(t,e,n){const r=uy(t,!0).put({[qM]:e,value:n});return new Wh(r).toPromise()}async function o$(t,e){const n=uy(t,!1).get(e),r=await new Wh(n).toPromise();return r===void 0?null:r.value}function d2(t,e){const n=uy(t,!0).delete(e);return new Wh(n).toPromise()}const l$=800,c$=3;class UM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await V1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>c$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cy._getInstance(i$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await n$(),!this.activeServiceWorker)return;this.sender=new e$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||r$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await V1();return await u2(e,Kg,"1"),await d2(e,Kg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>u2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>o$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>d2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=uy(i,!1).getAll();return new Wh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),l$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UM.type="LOCAL";const u$=UM;new Gh(3e4,6e4);function d$(t,e){return e?Ss(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Oj extends Aj{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ku(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ku(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ku(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function f$(t){return PM(t.auth,new Oj(t),t.bypassAuthState)}function h$(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),U7(n,new Oj(t),t.bypassAuthState)}async function m$(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),q7(n,new Oj(t),t.bypassAuthState)}class VM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:c,type:u}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return f$;case"linkViaPopup":case"linkViaRedirect":return m$;case"reauthViaPopup":case"reauthViaRedirect":return h$;default:ca(this.auth,"internal-error")}}resolve(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const p$=new Gh(2e3,1e4);class Bu extends VM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Bu.currentPopupAction&&Bu.currentPopupAction.cancel(),Bu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Ds(this.filter.length===1,"Popup operations only handle one event");const e=Cj();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($a(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($a(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($a(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,p$.get())};e()}}Bu.currentPopupAction=null;const g$="pendingRedirect",Eg=new Map;class v$ extends VM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Eg.get(this.auth._key());if(!e){try{const r=await y$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Eg.set(this.auth._key(),e)}return this.bypassAuthState||Eg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y$(t,e){const n=x$(e),r=_$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function b$(t,e){Eg.set(t._key(),e)}function _$(t){return Ss(t._redirectPersistence)}function x$(t){return jg(g$,t.config.apiKey,t.name)}async function w$(t,e,n=!1){if(li(t.app))return Promise.reject(Os(t));const r=Dc(t),i=d$(r,e),c=await new v$(r,i,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const j$=600*1e3;class E${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!N$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!BM(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError($a(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=j$&&this.cachedEventUids.clear(),this.cachedEventUids.has(f2(e))}saveEventToCache(e){this.cachedEventUids.add(f2(e)),this.lastProcessedEventTime=Date.now()}}function f2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function N$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BM(t);default:return!1}}async function S$(t,e={}){return Ks(t,"GET","/v1/projects",e)}const A$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T$=/^https?/;async function C$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await S$(t);for(const n of e)try{if(O$(n))return}catch{}ca(t,"unauthorized-domain")}function O$(t){const e=L1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!T$.test(n))return!1;if(A$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const P$=new Gh(3e4,6e4);function h2(){const t=Fa().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function I$(t){return new Promise((e,n)=>{function r(){h2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{h2(),n($a(t,"network-request-failed"))},timeout:P$.get()})}if(Fa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fa().gapi?.load)r();else{const i=x7("iframefcb");return Fa()[i]=()=>{gapi.load?r():n($a(t,"network-request-failed"))},SM(`${_7()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw Ng=null,e})}let Ng=null;function R$(t){return Ng=Ng||I$(t),Ng}const k$=new Gh(5e3,15e3),D$="__/auth/iframe",M$="emulator/auth/iframe",z$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function q$(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ej(e,M$):`https://${t.config.authDomain}/${D$}`,r={apiKey:e.apiKey,appName:t.name,v:kc},i=L$.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Hh(r).slice(1)}`}async function U$(t){const e=await R$(t),n=Fa().gapi;return He(n,t,"internal-error"),e.open({where:document.body,url:q$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:z$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const c=$a(t,"network-request-failed"),u=Fa().setTimeout(()=>{s(c)},k$.get());function f(){Fa().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{s(c)})}))}const V$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B$=500,$$=600,F$="_blank",H$="http://localhost";class m2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function G$(t,e,n,r=B$,i=$$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...V$,width:r.toString(),height:i.toString(),top:s,left:c},h=wr().toLowerCase();n&&(u=bM(h)?F$:n),vM(h)&&(e=e||H$,f.scrollbars="yes");const p=Object.entries(f).reduce((y,[_,E])=>`${y}${_}=${E},`,"");if(d7(h)&&u!=="_self")return K$(e||"",u),new m2(null);const g=window.open(e||"",u,p);He(g,t,"popup-blocked");try{g.focus()}catch{}return new m2(g)}function K$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const Q$="__/auth/handler",W$="emulator/auth/handler",Y$=encodeURIComponent("fac");async function p2(t,e,n,r,i,s){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:kc,eventId:i};if(e instanceof CM){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",R8(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))c[p]=g}if(e instanceof Qh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(c.scopes=p.join(","))}t.tenantId&&(c.tid=t.tenantId);const u=c;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const f=await t._getAppCheckToken(),h=f?`#${Y$}=${encodeURIComponent(f)}`:"";return`${X$(t)}?${Hh(u).slice(1)}${h}`}function X$({config:t}){return t.emulator?Ej(t,W$):`https://${t.authDomain}/${Q$}`}const R_="webStorageSupport";class Z${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MM,this._completeRedirectFn=w$,this._overrideRedirectResult=b$}async _openPopup(e,n,r,i){Ds(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await p2(e,n,r,L1(),i);return G$(e,s,Cj())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await p2(e,n,r,L1(),i);return t$(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ds(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await U$(e),r=new E$(e);return n.register("authEvent",i=>(He(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(R_,{type:R_},i=>{const s=i?.[0]?.[R_];s!==void 0&&n(!!s),ca(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=C$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return EM()||yM()||Sj()}}const J$=Z$;var g2="@firebase/auth",v2="1.12.0";class eF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function tF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nF(t){vc(new al("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=r.options;He(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NM(t)},h=new v7(r,i,s,f);return A7(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vc(new al("auth-internal",e=>{const n=Dc(e.getProvider("auth").getImmediate());return(r=>new eF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ba(g2,v2,tF(t)),Ba(g2,v2,"esm2020")}const rF=300,iF=nM("authIdTokenMaxAge")||rF;let y2=null;const aF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iF)return;const i=n?.token;y2!==i&&(y2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function sF(t=wj()){const e=oy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=S7(t,{popupRedirectResolver:J$,persistence:[u$,Z7,MM]}),r=nM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const c=aF(s.toString());K7(n,c,()=>c(n.currentUser)),G7(n,u=>c(u))}}const i=JD("auth");return i&&T7(n,`http://${i}`),n}function oF(){return document.getElementsByTagName("head")?.[0]??document}y7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=$a("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",oF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nF("Browser");var b2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tl,$M;(function(){var t;function e(k,C){function R(){}R.prototype=C.prototype,k.F=C.prototype,k.prototype=new R,k.prototype.constructor=k,k.D=function(U,L,z){for(var M=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)M[Q-2]=arguments[Q];return C.prototype[L].apply(U,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,C,R){R||(R=0);const U=Array(16);if(typeof C=="string")for(var L=0;L<16;++L)U[L]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(L=0;L<16;++L)U[L]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=k.g[0],R=k.g[1],L=k.g[2];let z=k.g[3],M;M=C+(z^R&(L^z))+U[0]+3614090360&4294967295,C=R+(M<<7&4294967295|M>>>25),M=z+(L^C&(R^L))+U[1]+3905402710&4294967295,z=C+(M<<12&4294967295|M>>>20),M=L+(R^z&(C^R))+U[2]+606105819&4294967295,L=z+(M<<17&4294967295|M>>>15),M=R+(C^L&(z^C))+U[3]+3250441966&4294967295,R=L+(M<<22&4294967295|M>>>10),M=C+(z^R&(L^z))+U[4]+4118548399&4294967295,C=R+(M<<7&4294967295|M>>>25),M=z+(L^C&(R^L))+U[5]+1200080426&4294967295,z=C+(M<<12&4294967295|M>>>20),M=L+(R^z&(C^R))+U[6]+2821735955&4294967295,L=z+(M<<17&4294967295|M>>>15),M=R+(C^L&(z^C))+U[7]+4249261313&4294967295,R=L+(M<<22&4294967295|M>>>10),M=C+(z^R&(L^z))+U[8]+1770035416&4294967295,C=R+(M<<7&4294967295|M>>>25),M=z+(L^C&(R^L))+U[9]+2336552879&4294967295,z=C+(M<<12&4294967295|M>>>20),M=L+(R^z&(C^R))+U[10]+4294925233&4294967295,L=z+(M<<17&4294967295|M>>>15),M=R+(C^L&(z^C))+U[11]+2304563134&4294967295,R=L+(M<<22&4294967295|M>>>10),M=C+(z^R&(L^z))+U[12]+1804603682&4294967295,C=R+(M<<7&4294967295|M>>>25),M=z+(L^C&(R^L))+U[13]+4254626195&4294967295,z=C+(M<<12&4294967295|M>>>20),M=L+(R^z&(C^R))+U[14]+2792965006&4294967295,L=z+(M<<17&4294967295|M>>>15),M=R+(C^L&(z^C))+U[15]+1236535329&4294967295,R=L+(M<<22&4294967295|M>>>10),M=C+(L^z&(R^L))+U[1]+4129170786&4294967295,C=R+(M<<5&4294967295|M>>>27),M=z+(R^L&(C^R))+U[6]+3225465664&4294967295,z=C+(M<<9&4294967295|M>>>23),M=L+(C^R&(z^C))+U[11]+643717713&4294967295,L=z+(M<<14&4294967295|M>>>18),M=R+(z^C&(L^z))+U[0]+3921069994&4294967295,R=L+(M<<20&4294967295|M>>>12),M=C+(L^z&(R^L))+U[5]+3593408605&4294967295,C=R+(M<<5&4294967295|M>>>27),M=z+(R^L&(C^R))+U[10]+38016083&4294967295,z=C+(M<<9&4294967295|M>>>23),M=L+(C^R&(z^C))+U[15]+3634488961&4294967295,L=z+(M<<14&4294967295|M>>>18),M=R+(z^C&(L^z))+U[4]+3889429448&4294967295,R=L+(M<<20&4294967295|M>>>12),M=C+(L^z&(R^L))+U[9]+568446438&4294967295,C=R+(M<<5&4294967295|M>>>27),M=z+(R^L&(C^R))+U[14]+3275163606&4294967295,z=C+(M<<9&4294967295|M>>>23),M=L+(C^R&(z^C))+U[3]+4107603335&4294967295,L=z+(M<<14&4294967295|M>>>18),M=R+(z^C&(L^z))+U[8]+1163531501&4294967295,R=L+(M<<20&4294967295|M>>>12),M=C+(L^z&(R^L))+U[13]+2850285829&4294967295,C=R+(M<<5&4294967295|M>>>27),M=z+(R^L&(C^R))+U[2]+4243563512&4294967295,z=C+(M<<9&4294967295|M>>>23),M=L+(C^R&(z^C))+U[7]+1735328473&4294967295,L=z+(M<<14&4294967295|M>>>18),M=R+(z^C&(L^z))+U[12]+2368359562&4294967295,R=L+(M<<20&4294967295|M>>>12),M=C+(R^L^z)+U[5]+4294588738&4294967295,C=R+(M<<4&4294967295|M>>>28),M=z+(C^R^L)+U[8]+2272392833&4294967295,z=C+(M<<11&4294967295|M>>>21),M=L+(z^C^R)+U[11]+1839030562&4294967295,L=z+(M<<16&4294967295|M>>>16),M=R+(L^z^C)+U[14]+4259657740&4294967295,R=L+(M<<23&4294967295|M>>>9),M=C+(R^L^z)+U[1]+2763975236&4294967295,C=R+(M<<4&4294967295|M>>>28),M=z+(C^R^L)+U[4]+1272893353&4294967295,z=C+(M<<11&4294967295|M>>>21),M=L+(z^C^R)+U[7]+4139469664&4294967295,L=z+(M<<16&4294967295|M>>>16),M=R+(L^z^C)+U[10]+3200236656&4294967295,R=L+(M<<23&4294967295|M>>>9),M=C+(R^L^z)+U[13]+681279174&4294967295,C=R+(M<<4&4294967295|M>>>28),M=z+(C^R^L)+U[0]+3936430074&4294967295,z=C+(M<<11&4294967295|M>>>21),M=L+(z^C^R)+U[3]+3572445317&4294967295,L=z+(M<<16&4294967295|M>>>16),M=R+(L^z^C)+U[6]+76029189&4294967295,R=L+(M<<23&4294967295|M>>>9),M=C+(R^L^z)+U[9]+3654602809&4294967295,C=R+(M<<4&4294967295|M>>>28),M=z+(C^R^L)+U[12]+3873151461&4294967295,z=C+(M<<11&4294967295|M>>>21),M=L+(z^C^R)+U[15]+530742520&4294967295,L=z+(M<<16&4294967295|M>>>16),M=R+(L^z^C)+U[2]+3299628645&4294967295,R=L+(M<<23&4294967295|M>>>9),M=C+(L^(R|~z))+U[0]+4096336452&4294967295,C=R+(M<<6&4294967295|M>>>26),M=z+(R^(C|~L))+U[7]+1126891415&4294967295,z=C+(M<<10&4294967295|M>>>22),M=L+(C^(z|~R))+U[14]+2878612391&4294967295,L=z+(M<<15&4294967295|M>>>17),M=R+(z^(L|~C))+U[5]+4237533241&4294967295,R=L+(M<<21&4294967295|M>>>11),M=C+(L^(R|~z))+U[12]+1700485571&4294967295,C=R+(M<<6&4294967295|M>>>26),M=z+(R^(C|~L))+U[3]+2399980690&4294967295,z=C+(M<<10&4294967295|M>>>22),M=L+(C^(z|~R))+U[10]+4293915773&4294967295,L=z+(M<<15&4294967295|M>>>17),M=R+(z^(L|~C))+U[1]+2240044497&4294967295,R=L+(M<<21&4294967295|M>>>11),M=C+(L^(R|~z))+U[8]+1873313359&4294967295,C=R+(M<<6&4294967295|M>>>26),M=z+(R^(C|~L))+U[15]+4264355552&4294967295,z=C+(M<<10&4294967295|M>>>22),M=L+(C^(z|~R))+U[6]+2734768916&4294967295,L=z+(M<<15&4294967295|M>>>17),M=R+(z^(L|~C))+U[13]+1309151649&4294967295,R=L+(M<<21&4294967295|M>>>11),M=C+(L^(R|~z))+U[4]+4149444226&4294967295,C=R+(M<<6&4294967295|M>>>26),M=z+(R^(C|~L))+U[11]+3174756917&4294967295,z=C+(M<<10&4294967295|M>>>22),M=L+(C^(z|~R))+U[2]+718787259&4294967295,L=z+(M<<15&4294967295|M>>>17),M=R+(z^(L|~C))+U[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(L+(M<<21&4294967295|M>>>11))&4294967295,k.g[2]=k.g[2]+L&4294967295,k.g[3]=k.g[3]+z&4294967295}r.prototype.v=function(k,C){C===void 0&&(C=k.length);const R=C-this.blockSize,U=this.C;let L=this.h,z=0;for(;z<C;){if(L==0)for(;z<=R;)i(this,k,z),z+=this.blockSize;if(typeof k=="string"){for(;z<C;)if(U[L++]=k.charCodeAt(z++),L==this.blockSize){i(this,U),L=0;break}}else for(;z<C;)if(U[L++]=k[z++],L==this.blockSize){i(this,U),L=0;break}}this.h=L,this.o+=C},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;C=this.o*8;for(var R=k.length-8;R<k.length;++R)k[R]=C&255,C/=256;for(this.v(k),k=Array(16),C=0,R=0;R<4;++R)for(let U=0;U<32;U+=8)k[C++]=this.g[R]>>>U&255;return k};function s(k,C){var R=u;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=C(k)}function c(k,C){this.h=C;const R=[];let U=!0;for(let L=k.length-1;L>=0;L--){const z=k[L]|0;U&&z==C||(R[L]=z,U=!1)}this.g=R}var u={};function f(k){return-128<=k&&k<128?s(k,function(C){return new c([C|0],C<0?-1:0)}):new c([k|0],k<0?-1:0)}function h(k){if(isNaN(k)||!isFinite(k))return g;if(k<0)return N(h(-k));const C=[];let R=1;for(let U=0;k>=R;U++)C[U]=k/R|0,R*=4294967296;return new c(C,0)}function p(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return N(p(k.substring(1),C));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=h(Math.pow(C,8));let U=g;for(let z=0;z<k.length;z+=8){var L=Math.min(8,k.length-z);const M=parseInt(k.substring(z,z+L),C);L<8?(L=h(Math.pow(C,L)),U=U.j(L).add(h(M))):(U=U.j(R),U=U.add(h(M)))}return U}var g=f(0),y=f(1),_=f(16777216);t=c.prototype,t.m=function(){if(j(this))return-N(this).m();let k=0,C=1;for(let R=0;R<this.g.length;R++){const U=this.i(R);k+=(U>=0?U:4294967296+U)*C,C*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(E(this))return"0";if(j(this))return"-"+N(this).toString(k);const C=h(Math.pow(k,6));var R=this;let U="";for(;;){const L=O(R,C).g;R=A(R,L.j(C));let z=((R.g.length>0?R.g[0]:R.h)>>>0).toString(k);if(R=L,E(R))return z+U;for(;z.length<6;)z="0"+z;U=z+U}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function E(k){if(k.h!=0)return!1;for(let C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function j(k){return k.h==-1}t.l=function(k){return k=A(this,k),j(k)?-1:E(k)?0:1};function N(k){const C=k.g.length,R=[];for(let U=0;U<C;U++)R[U]=~k.g[U];return new c(R,~k.h).add(y)}t.abs=function(){return j(this)?N(this):this},t.add=function(k){const C=Math.max(this.g.length,k.g.length),R=[];let U=0;for(let L=0;L<=C;L++){let z=U+(this.i(L)&65535)+(k.i(L)&65535),M=(z>>>16)+(this.i(L)>>>16)+(k.i(L)>>>16);U=M>>>16,z&=65535,M&=65535,R[L]=M<<16|z}return new c(R,R[R.length-1]&-2147483648?-1:0)};function A(k,C){return k.add(N(C))}t.j=function(k){if(E(this)||E(k))return g;if(j(this))return j(k)?N(this).j(N(k)):N(N(this).j(k));if(j(k))return N(this.j(N(k)));if(this.l(_)<0&&k.l(_)<0)return h(this.m()*k.m());const C=this.g.length+k.g.length,R=[];for(var U=0;U<2*C;U++)R[U]=0;for(U=0;U<this.g.length;U++)for(let L=0;L<k.g.length;L++){const z=this.i(U)>>>16,M=this.i(U)&65535,Q=k.i(L)>>>16,W=k.i(L)&65535;R[2*U+2*L]+=M*W,D(R,2*U+2*L),R[2*U+2*L+1]+=z*W,D(R,2*U+2*L+1),R[2*U+2*L+1]+=M*Q,D(R,2*U+2*L+1),R[2*U+2*L+2]+=z*Q,D(R,2*U+2*L+2)}for(k=0;k<C;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=C;k<2*C;k++)R[k]=0;return new c(R,0)};function D(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function I(k,C){this.g=k,this.h=C}function O(k,C){if(E(C))throw Error("division by zero");if(E(k))return new I(g,g);if(j(k))return C=O(N(k),C),new I(N(C.g),N(C.h));if(j(C))return C=O(k,N(C)),new I(N(C.g),C.h);if(k.g.length>30){if(j(k)||j(C))throw Error("slowDivide_ only works with positive integers.");for(var R=y,U=C;U.l(k)<=0;)R=V(R),U=V(U);var L=B(R,1),z=B(U,1);for(U=B(U,2),R=B(R,2);!E(U);){var M=z.add(U);M.l(k)<=0&&(L=L.add(R),z=M),U=B(U,1),R=B(R,1)}return C=A(k,L.j(C)),new I(L,C)}for(L=g;k.l(C)>=0;){for(R=Math.max(1,Math.floor(k.m()/C.m())),U=Math.ceil(Math.log(R)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),z=h(R),M=z.j(C);j(M)||M.l(k)>0;)R-=U,z=h(R),M=z.j(C);E(z)&&(z=y),L=L.add(z),k=A(k,M)}return new I(L,k)}t.B=function(k){return O(this,k).h},t.and=function(k){const C=Math.max(this.g.length,k.g.length),R=[];for(let U=0;U<C;U++)R[U]=this.i(U)&k.i(U);return new c(R,this.h&k.h)},t.or=function(k){const C=Math.max(this.g.length,k.g.length),R=[];for(let U=0;U<C;U++)R[U]=this.i(U)|k.i(U);return new c(R,this.h|k.h)},t.xor=function(k){const C=Math.max(this.g.length,k.g.length),R=[];for(let U=0;U<C;U++)R[U]=this.i(U)^k.i(U);return new c(R,this.h^k.h)};function V(k){const C=k.g.length+1,R=[];for(let U=0;U<C;U++)R[U]=k.i(U)<<1|k.i(U-1)>>>31;return new c(R,k.h)}function B(k,C){const R=C>>5;C%=32;const U=k.g.length-R,L=[];for(let z=0;z<U;z++)L[z]=C>0?k.i(z+R)>>>C|k.i(z+R+1)<<32-C:k.i(z+R);return new c(L,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,$M=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=h,c.fromString=p,tl=c}).apply(typeof b2<"u"?b2:typeof self<"u"?self:typeof window<"u"?window:{});var Gp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var FM,Yf,HM,Sg,B1,GM,KM,QM;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gp=="object"&&Gp];for(var S=0;S<v.length;++S){var P=v[S];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(v,S){if(S)e:{var P=r;v=v.split(".");for(var $=0;$<v.length-1;$++){var re=v[$];if(!(re in P))break e;P=P[re]}v=v[v.length-1],$=P[v],S=S($),S!=$&&S!=null&&e(P,v,{configurable:!0,writable:!0,value:S})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(S){var P=[],$;for($ in S)Object.prototype.hasOwnProperty.call(S,$)&&P.push([$,S[$]]);return P}});var s=s||{},c=this||self;function u(v){var S=typeof v;return S=="object"&&v!=null||S=="function"}function f(v,S,P){return v.call.apply(v.bind,arguments)}function h(v,S,P){return h=f,h.apply(null,arguments)}function p(v,S){var P=Array.prototype.slice.call(arguments,1);return function(){var $=P.slice();return $.push.apply($,arguments),v.apply(this,$)}}function g(v,S){function P(){}P.prototype=S.prototype,v.Z=S.prototype,v.prototype=new P,v.prototype.constructor=v,v.Ob=function($,re,ue){for(var Ne=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)Ne[Ze-2]=arguments[Ze];return S.prototype[re].apply($,Ne)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function _(v){const S=v.length;if(S>0){const P=Array(S);for(let $=0;$<S;$++)P[$]=v[$];return P}return[]}function E(v,S){for(let $=1;$<arguments.length;$++){const re=arguments[$];var P=typeof re;if(P=P!="object"?P:re?Array.isArray(re)?"array":P:"null",P=="array"||P=="object"&&typeof re.length=="number"){P=v.length||0;const ue=re.length||0;v.length=P+ue;for(let Ne=0;Ne<ue;Ne++)v[P+Ne]=re[Ne]}else v.push(re)}}class j{constructor(S,P){this.i=S,this.j=P,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function N(v){c.setTimeout(()=>{throw v},0)}function A(){var v=k;let S=null;return v.g&&(S=v.g,v.g=v.g.next,v.g||(v.h=null),S.next=null),S}class D{constructor(){this.h=this.g=null}add(S,P){const $=I.get();$.set(S,P),this.h?this.h.next=$:this.g=$,this.h=$}}var I=new j(()=>new O,v=>v.reset());class O{constructor(){this.next=this.g=this.h=null}set(S,P){this.h=S,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let V,B=!1,k=new D,C=()=>{const v=Promise.resolve(void 0);V=()=>{v.then(R)}};function R(){for(var v;v=A();){try{v.h.call(v.g)}catch(P){N(P)}var S=I;S.j(v),S.h<100&&(S.h++,v.next=S.g,S.g=v)}B=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(v,S){this.type=v,this.g=this.target=S,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var v=!1,S=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const P=()=>{};c.addEventListener("test",P,S),c.removeEventListener("test",P,S)}catch{}return v})();function M(v){return/^[\s\xa0]*$/.test(v)}function Q(v,S){L.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,S)}g(Q,L),Q.prototype.init=function(v,S){const P=this.type=v.type,$=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=S,S=v.relatedTarget,S||(P=="mouseover"?S=v.fromElement:P=="mouseout"&&(S=v.toElement)),this.relatedTarget=S,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var W="closure_listenable_"+(Math.random()*1e6|0),G=0;function le(v,S,P,$,re){this.listener=v,this.proxy=null,this.src=S,this.type=P,this.capture=!!$,this.ha=re,this.key=++G,this.da=this.fa=!1}function be(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function je(v,S,P){for(const $ in v)S.call(P,v[$],$,v)}function X(v,S){for(const P in v)S.call(void 0,v[P],P,v)}function F(v){const S={};for(const P in v)S[P]=v[P];return S}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(v,S){let P,$;for(let re=1;re<arguments.length;re++){$=arguments[re];for(P in $)v[P]=$[P];for(let ue=0;ue<ne.length;ue++)P=ne[ue],Object.prototype.hasOwnProperty.call($,P)&&(v[P]=$[P])}}function we(v){this.src=v,this.g={},this.h=0}we.prototype.add=function(v,S,P,$,re){const ue=v.toString();v=this.g[ue],v||(v=this.g[ue]=[],this.h++);const Ne=H(v,S,$,re);return Ne>-1?(S=v[Ne],P||(S.fa=!1)):(S=new le(S,this.src,ue,!!$,re),S.fa=P,v.push(S)),S};function J(v,S){const P=S.type;if(P in v.g){var $=v.g[P],re=Array.prototype.indexOf.call($,S,void 0),ue;(ue=re>=0)&&Array.prototype.splice.call($,re,1),ue&&(be(S),v.g[P].length==0&&(delete v.g[P],v.h--))}}function H(v,S,P,$){for(let re=0;re<v.length;++re){const ue=v[re];if(!ue.da&&ue.listener==S&&ue.capture==!!P&&ue.ha==$)return re}return-1}var de="closure_lm_"+(Math.random()*1e6|0),Ce={};function ie(v,S,P,$,re){if(Array.isArray(S)){for(let ue=0;ue<S.length;ue++)ie(v,S[ue],P,$,re);return null}return P=mr(P),v&&v[W]?v.J(S,P,u($)?!!$.capture:!1,re):Ee(v,S,P,!1,$,re)}function Ee(v,S,P,$,re,ue){if(!S)throw Error("Invalid event type");const Ne=u(re)?!!re.capture:!!re;let Ze=ft(v);if(Ze||(v[de]=Ze=new we(v)),P=Ze.add(S,P,$,Ne,ue),P.proxy)return P;if($=Z(),P.proxy=$,$.src=v,$.listener=P,v.addEventListener)z||(re=Ne),re===void 0&&(re=!1),v.addEventListener(S.toString(),$,re);else if(v.attachEvent)v.attachEvent($e(S.toString()),$);else if(v.addListener&&v.removeListener)v.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Z(){function v(P){return S.call(v.src,v.listener,P)}const S=st;return v}function ge(v,S,P,$,re){if(Array.isArray(S))for(var ue=0;ue<S.length;ue++)ge(v,S[ue],P,$,re);else $=u($)?!!$.capture:!!$,P=mr(P),v&&v[W]?(v=v.i,ue=String(S).toString(),ue in v.g&&(S=v.g[ue],P=H(S,P,$,re),P>-1&&(be(S[P]),Array.prototype.splice.call(S,P,1),S.length==0&&(delete v.g[ue],v.h--)))):v&&(v=ft(v))&&(S=v.g[S.toString()],v=-1,S&&(v=H(S,P,$,re)),(P=v>-1?S[v]:null)&&De(P))}function De(v){if(typeof v!="number"&&v&&!v.da){var S=v.src;if(S&&S[W])J(S.i,v);else{var P=v.type,$=v.proxy;S.removeEventListener?S.removeEventListener(P,$,v.capture):S.detachEvent?S.detachEvent($e(P),$):S.addListener&&S.removeListener&&S.removeListener($),(P=ft(S))?(J(P,v),P.h==0&&(P.src=null,S[de]=null)):be(v)}}}function $e(v){return v in Ce?Ce[v]:Ce[v]="on"+v}function st(v,S){if(v.da)v=!0;else{S=new Q(S,this);const P=v.listener,$=v.ha||v.src;v.fa&&De(v),v=P.call($,S)}return v}function ft(v){return v=v[de],v instanceof we?v:null}var pt="__closure_events_fn_"+(Math.random()*1e9>>>0);function mr(v){return typeof v=="function"?v:(v[pt]||(v[pt]=function(S){return v.handleEvent(S)}),v[pt])}function Pt(){U.call(this),this.i=new we(this),this.M=this,this.G=null}g(Pt,U),Pt.prototype[W]=!0,Pt.prototype.removeEventListener=function(v,S,P,$){ge(this,v,S,P,$)};function It(v,S){var P,$=v.G;if($)for(P=[];$;$=$.G)P.push($);if(v=v.M,$=S.type||S,typeof S=="string")S=new L(S,v);else if(S instanceof L)S.target=S.target||v;else{var re=S;S=new L($,v),pe(S,re)}re=!0;let ue,Ne;if(P)for(Ne=P.length-1;Ne>=0;Ne--)ue=S.g=P[Ne],re=kr(ue,$,!0,S)&&re;if(ue=S.g=v,re=kr(ue,$,!0,S)&&re,re=kr(ue,$,!1,S)&&re,P)for(Ne=0;Ne<P.length;Ne++)ue=S.g=P[Ne],re=kr(ue,$,!1,S)&&re}Pt.prototype.N=function(){if(Pt.Z.N.call(this),this.i){var v=this.i;for(const S in v.g){const P=v.g[S];for(let $=0;$<P.length;$++)be(P[$]);delete v.g[S],v.h--}}this.G=null},Pt.prototype.J=function(v,S,P,$){return this.i.add(String(v),S,!1,P,$)},Pt.prototype.K=function(v,S,P,$){return this.i.add(String(v),S,!0,P,$)};function kr(v,S,P,$){if(S=v.i.g[String(S)],!S)return!0;S=S.concat();let re=!0;for(let ue=0;ue<S.length;++ue){const Ne=S[ue];if(Ne&&!Ne.da&&Ne.capture==P){const Ze=Ne.listener,pn=Ne.ha||Ne.src;Ne.fa&&J(v.i,Ne),re=Ze.call(pn,$)!==!1&&re}}return re&&!$.defaultPrevented}function he(v,S){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=h(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:c.setTimeout(v,S||0)}function Re(v){v.g=he(()=>{v.g=null,v.i&&(v.i=!1,Re(v))},v.l);const S=v.h;v.h=null,v.m.apply(null,S)}class Ve extends U{constructor(S,P){super(),this.m=S,this.l=P,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Re(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ke(v){U.call(this),this.h=v,this.g={}}g(Ke,U);var qt=[];function zn(v){je(v.g,function(S,P){this.g.hasOwnProperty(P)&&De(S)},v),v.g={}}Ke.prototype.N=function(){Ke.Z.N.call(this),zn(this)},Ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dr=c.JSON.stringify,no=c.JSON.parse,Mr=class{stringify(v){return c.JSON.stringify(v,void 0)}parse(v){return c.JSON.parse(v,void 0)}};function Fi(){}function Fc(){}var an={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Nt(){L.call(this,"d")}g(Nt,L);function zr(){L.call(this,"c")}g(zr,L);var en={},Nl=null;function ro(){return Nl=Nl||new Pt}en.Ia="serverreachability";function Hc(v){L.call(this,en.Ia,v)}g(Hc,L);function gi(v){const S=ro();It(S,new Hc(S))}en.STAT_EVENT="statevent";function ns(v,S){L.call(this,en.STAT_EVENT,v),this.stat=S}g(ns,L);function sn(v){const S=ro();It(S,new ns(S,v))}en.Ja="timingevent";function vi(v,S){L.call(this,en.Ja,v),this.size=S}g(vi,L);function pr(v,S){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){v()},S)}function Zr(){this.g=!0}Zr.prototype.ua=function(){this.g=!1};function te(v,S,P,$,re,ue){v.info(function(){if(v.g)if(ue){var Ne="",Ze=ue.split("&");for(let wt=0;wt<Ze.length;wt++){var pn=Ze[wt].split("=");if(pn.length>1){const Yt=pn[0];pn=pn[1];const wi=Yt.split("_");Ne=wi.length>=2&&wi[1]=="type"?Ne+(Yt+"="+pn+"&"):Ne+(Yt+"=redacted&")}}}else Ne=null;else Ne=ue;return"XMLHTTP REQ ("+$+") [attempt "+re+"]: "+S+`
`+P+`
`+Ne})}function Ue(v,S,P,$,re,ue,Ne){v.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+re+"]: "+S+`
`+P+`
`+ue+" "+Ne})}function gt(v,S,P,$){v.info(function(){return"XMLHTTP TEXT ("+S+"): "+Sl(v,P)+($?" "+$:"")})}function $n(v,S){v.info(function(){return"TIMEOUT: "+S})}Zr.prototype.info=function(){};function Sl(v,S){if(!v.g)return S;if(!S)return null;try{const ue=JSON.parse(S);if(ue){for(v=0;v<ue.length;v++)if(Array.isArray(ue[v])){var P=ue[v];if(!(P.length<2)){var $=P[1];if(Array.isArray($)&&!($.length<1)){var re=$[0];if(re!="noop"&&re!="stop"&&re!="close")for(let Ne=1;Ne<$.length;Ne++)$[Ne]=""}}}}return Dr(ue)}catch{return S}}var yi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kd={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Dd;function Al(){}g(Al,Fi),Al.prototype.g=function(){return new XMLHttpRequest},Dd=new Al;function rs(v){return encodeURIComponent(String(v))}function jm(v){var S=1;v=v.split(":");const P=[];for(;S>0&&v.length;)P.push(v.shift()),S--;return v.length&&P.push(v.join(":")),P}function Hi(v,S,P,$){this.j=v,this.i=S,this.l=P,this.S=$||1,this.V=new Ke(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gi}function Gi(){this.i=null,this.g="",this.h=!1}var jn={},Fn={};function ga(v,S,P){v.M=1,v.A=Tl(Nn(S)),v.u=P,v.R=!0,Gc(v,null)}function Gc(v,S){v.F=Date.now(),va(v),v.B=Nn(v.A);var P=v.B,$=v.S;Array.isArray($)||($=[String($)]),Yc(P.i,"t",$),v.C=0,P=v.j.L,v.h=new Gi,v.g=Lm(v.j,P?S:null,!v.u),v.P>0&&(v.O=new Ve(h(v.Y,v,v.g),v.P)),S=v.V,P=v.g,$=v.ba;var re="readystatechange";Array.isArray(re)||(re&&(qt[0]=re.toString()),re=qt);for(let ue=0;ue<re.length;ue++){const Ne=ie(P,re[ue],$||S.handleEvent,!1,S.h||S);if(!Ne)break;S.g[Ne.key]=Ne}S=v.J?F(v.J):{},v.u?(v.v||(v.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,S)):(v.v="GET",v.g.ea(v.B,v.v,null,S)),gi(),te(v.i,v.v,v.B,v.l,v.S,v.u)}Hi.prototype.ba=function(v){v=v.target;const S=this.O;S&&Wi(v)==3?S.j():this.Y(v)},Hi.prototype.Y=function(v){try{if(v==this.g)e:{const Ze=Wi(this.g),pn=this.g.ya(),wt=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||rr(this.g)))){this.K||Ze!=4||pn==7||(pn==8||wt<=0?gi(3):gi(2)),ya(this);var S=this.g.ca();this.X=S;var P=S0(this);if(this.o=S==200,Ue(this.i,this.v,this.B,this.l,this.S,Ze,S),this.o){if(this.U&&!this.L){t:{if(this.g){var $,re=this.g;if(($=re.g?re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M($)){var ue=$;break t}}ue=null}if(v=ue)gt(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ba(this,v);else{this.o=!1,this.m=3,sn(12),Jr(this),bi(this);break e}}if(this.R){v=!0;let Yt;for(;!this.K&&this.C<P.length;)if(Yt=Nm(this,P),Yt==Fn){Ze==4&&(this.m=4,sn(14),v=!1),gt(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==jn){this.m=4,sn(15),gt(this.i,this.l,P,"[Invalid Chunk]"),v=!1;break}else gt(this.i,this.l,Yt,null),ba(this,Yt);if(Em(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||P.length!=0||this.h.h||(this.m=1,sn(16),v=!1),this.o=this.o&&v,!v)gt(this.i,this.l,P,"[Invalid Chunked Response]"),Jr(this),bi(this);else if(P.length>0&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.aa&&!Ne.P&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Yd(Ne),Ne.P=!0,sn(11))}}else gt(this.i,this.l,P,null),ba(this,P);Ze==4&&Jr(this),this.o&&!this.K&&(Ze==4?km(this.j,this):(this.o=!1,va(this)))}else as(this.g),S==400&&P.indexOf("Unknown SID")>0?(this.m=3,sn(12)):(this.m=0,sn(13)),Jr(this),bi(this)}}}catch{}};function S0(v){if(!Em(v))return v.g.la();const S=rr(v.g);if(S==="")return"";let P="";const $=S.length,re=Wi(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return Jr(v),bi(v),"";v.h.i=new c.TextDecoder}for(let ue=0;ue<$;ue++)v.h.h=!0,P+=v.h.i.decode(S[ue],{stream:!(re&&ue==$-1)});return S.length=0,v.h.g+=P,v.C=0,v.h.g}function Em(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function Nm(v,S){var P=v.C,$=S.indexOf(`
`,P);return $==-1?Fn:(P=Number(S.substring(P,$)),isNaN(P)?jn:($+=1,$+P>S.length?Fn:(S=S.slice($,$+P),v.C=$+P,S)))}Hi.prototype.cancel=function(){this.K=!0,Jr(this)};function va(v){v.T=Date.now()+v.H,Kc(v,v.H)}function Kc(v,S){if(v.D!=null)throw Error("WatchDog timer not null");v.D=pr(h(v.aa,v),S)}function ya(v){v.D&&(c.clearTimeout(v.D),v.D=null)}Hi.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?($n(this.i,this.B),this.M!=2&&(gi(),sn(17)),Jr(this),this.m=2,bi(this)):Kc(this,this.T-v)};function bi(v){v.j.I==0||v.K||km(v.j,v)}function Jr(v){ya(v);var S=v.O;S&&typeof S.dispose=="function"&&S.dispose(),v.O=null,zn(v.V),v.g&&(S=v.g,v.g=null,S.abort(),S.dispose())}function ba(v,S){try{var P=v.j;if(P.I!=0&&(P.g==v||xa(P.h,v))){if(!v.L&&xa(P.h,v)&&P.I==3){try{var $=P.Ba.g.parse(S)}catch{$=null}if(Array.isArray($)&&$.length==3){var re=$;if(re[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<v.F)tu(P),fo(P);else break e;Dl(P),sn(18)}}else P.xa=re[1],0<P.xa-P.K&&re[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=pr(h(P.Va,P),6e3));_a(P.h)<=1&&P.ta&&(P.ta=void 0)}else Aa(P,11)}else if((v.L||P.g==v)&&tu(P),!M(S))for(re=P.Ba.g.parse(S),S=0;S<re.length;S++){let wt=re[S];const Yt=wt[0];if(!(Yt<=P.K))if(P.K=Yt,wt=wt[1],P.I==2)if(wt[0]=="c"){P.M=wt[1],P.ba=wt[2];const wi=wt[3];wi!=null&&(P.ka=wi,P.j.info("VER="+P.ka));const Ta=wt[4];Ta!=null&&(P.za=Ta,P.j.info("SVER="+P.za));const Yi=wt[5];Yi!=null&&typeof Yi=="number"&&Yi>0&&($=1.5*Yi,P.O=$,P.j.info("backChannelRequestTimeoutMs_="+$)),$=P;const Xi=v.g;if(Xi){const Ml=Xi.g?Xi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ml){var ue=$.h;ue.g||Ml.indexOf("spdy")==-1&&Ml.indexOf("quic")==-1&&Ml.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(Ld(ue,ue.h),ue.h=null))}if($.G){const nu=Xi.g?Xi.g.getResponseHeader("X-HTTP-Session-Id"):null;nu&&($.wa=nu,St($.J,$.G,nu))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-v.F,P.j.info("Handshake RTT: "+P.T+"ms")),$=P;var Ne=v;if($.na=zm($,$.L?$.ba:null,$.W),Ne.L){qd($.h,Ne);var Ze=Ne,pn=$.O;pn&&(Ze.H=pn),Ze.D&&(ya(Ze),va(Ze)),$.g=Ne}else Im($);P.i.length>0&&Sa(P)}else wt[0]!="stop"&&wt[0]!="close"||Aa(P,7);else P.I==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?Aa(P,7):Qd(P):wt[0]!="noop"&&P.l&&P.l.qa(wt),P.A=0)}}gi(4)}catch{}}var En=class{constructor(v,S){this.g=v,this.map=S}};function Md(v){this.l=v||10,c.PerformanceNavigationTiming?(v=c.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zd(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function _a(v){return v.h?1:v.g?v.g.size:0}function xa(v,S){return v.h?v.h==S:v.g?v.g.has(S):!1}function Ld(v,S){v.g?v.g.add(S):v.h=S}function qd(v,S){v.h&&v.h==S?v.h=null:v.g&&v.g.has(S)&&v.g.delete(S)}Md.prototype.cancel=function(){if(this.i=Ud(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Ud(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let S=v.i;for(const P of v.g.values())S=S.concat(P.G);return S}return _(v.i)}var Sm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qc(v,S){if(v){v=v.split("&");for(let P=0;P<v.length;P++){const $=v[P].indexOf("=");let re,ue=null;$>=0?(re=v[P].substring(0,$),ue=v[P].substring($+1)):re=v[P],S(re,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function ei(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;v instanceof ei?(this.l=v.l,Hn(this,v.j),this.o=v.o,this.g=v.g,io(this,v.u),this.h=v.h,Vd(this,Om(v.i)),this.m=v.m):v&&(S=String(v).match(Sm))?(this.l=!1,Hn(this,S[1]||"",!0),this.o=wa(S[2]||""),this.g=wa(S[3]||"",!0),io(this,S[4]),this.h=wa(S[5]||"",!0),Vd(this,S[6]||"",!0),this.m=wa(S[7]||"")):(this.l=!1,this.i=new so(null,this.l))}ei.prototype.toString=function(){const v=[];var S=this.j;S&&v.push(Cl(S,Wc,!0),":");var P=this.g;return(P||S=="file")&&(v.push("//"),(S=this.o)&&v.push(Cl(S,Wc,!0),"@"),v.push(rs(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&v.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&v.push("/"),v.push(Cl(P,P.charAt(0)=="/"?Bd:Am,!0))),(P=this.i.toString())&&v.push("?",P),(P=this.m)&&v.push("#",Cl(P,Tm)),v.join("")},ei.prototype.resolve=function(v){const S=Nn(this);let P=!!v.j;P?Hn(S,v.j):P=!!v.o,P?S.o=v.o:P=!!v.g,P?S.g=v.g:P=v.u!=null;var $=v.h;if(P)io(S,v.u);else if(P=!!v.h){if($.charAt(0)!="/")if(this.g&&!this.h)$="/"+$;else{var re=S.h.lastIndexOf("/");re!=-1&&($=S.h.slice(0,re+1)+$)}if(re=$,re==".."||re==".")$="";else if(re.indexOf("./")!=-1||re.indexOf("/.")!=-1){$=re.lastIndexOf("/",0)==0,re=re.split("/");const ue=[];for(let Ne=0;Ne<re.length;){const Ze=re[Ne++];Ze=="."?$&&Ne==re.length&&ue.push(""):Ze==".."?((ue.length>1||ue.length==1&&ue[0]!="")&&ue.pop(),$&&Ne==re.length&&ue.push("")):(ue.push(Ze),$=!0)}$=ue.join("/")}else $=re}return P?S.h=$:P=v.i.toString()!=="",P?Vd(S,Om(v.i)):P=!!v.m,P&&(S.m=v.m),S};function Nn(v){return new ei(v)}function Hn(v,S,P){v.j=P?wa(S,!0):S,v.j&&(v.j=v.j.replace(/:$/,""))}function io(v,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);v.u=S}else v.u=null}function Vd(v,S,P){S instanceof so?(v.i=S,Xc(v.i,v.l)):(P||(S=Cl(S,ao)),v.i=new so(S,v.l))}function St(v,S,P){v.i.set(S,P)}function Tl(v){return St(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function wa(v,S){return v?S?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Cl(v,S,P){return typeof v=="string"?(v=encodeURI(v).replace(S,Lr),P&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Lr(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Wc=/[#\/\?@]/g,Am=/[#\?:]/g,Bd=/[#\?]/g,ao=/[#\?@]/g,Tm=/#/g;function so(v,S){this.h=this.g=null,this.i=v||null,this.j=!!S}function qr(v){v.g||(v.g=new Map,v.h=0,v.i&&Qc(v.i,function(S,P){v.add(decodeURIComponent(S.replace(/\+/g," ")),P)}))}t=so.prototype,t.add=function(v,S){qr(this),this.i=null,v=oo(this,v);let P=this.g.get(v);return P||this.g.set(v,P=[]),P.push(S),this.h+=1,this};function Cm(v,S){qr(v),S=oo(v,S),v.g.has(S)&&(v.i=null,v.h-=v.g.get(S).length,v.g.delete(S))}function $d(v,S){return qr(v),S=oo(v,S),v.g.has(S)}t.forEach=function(v,S){qr(this),this.g.forEach(function(P,$){P.forEach(function(re){v.call(S,re,$,this)},this)},this)};function Fd(v,S){qr(v);let P=[];if(typeof S=="string")$d(v,S)&&(P=P.concat(v.g.get(oo(v,S))));else for(v=Array.from(v.g.values()),S=0;S<v.length;S++)P=P.concat(v[S]);return P}t.set=function(v,S){return qr(this),this.i=null,v=oo(this,v),$d(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[S]),this.h+=1,this},t.get=function(v,S){return v?(v=Fd(this,v),v.length>0?String(v[0]):S):S};function Yc(v,S,P){Cm(v,S),P.length>0&&(v.i=null,v.g.set(oo(v,S),_(P)),v.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],S=Array.from(this.g.keys());for(let $=0;$<S.length;$++){var P=S[$];const re=rs(P);P=Fd(this,P);for(let ue=0;ue<P.length;ue++){let Ne=re;P[ue]!==""&&(Ne+="="+rs(P[ue])),v.push(Ne)}}return this.i=v.join("&")};function Om(v){const S=new so;return S.i=v.i,v.g&&(S.g=new Map(v.g),S.h=v.h),S}function oo(v,S){return S=String(S),v.j&&(S=S.toLowerCase()),S}function Xc(v,S){S&&!v.j&&(qr(v),v.i=null,v.g.forEach(function(P,$){const re=$.toLowerCase();$!=re&&(Cm(this,$),Yc(this,re,P))},v)),v.j=S}function Ki(v,S){const P=new Zr;if(c.Image){const $=new Image;$.onload=p(_i,P,"TestLoadImage: loaded",!0,S,$),$.onerror=p(_i,P,"TestLoadImage: error",!1,S,$),$.onabort=p(_i,P,"TestLoadImage: abort",!1,S,$),$.ontimeout=p(_i,P,"TestLoadImage: timeout",!1,S,$),c.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=v}else S(!1)}function Hd(v,S){const P=new Zr,$=new AbortController,re=setTimeout(()=>{$.abort(),_i(P,"TestPingServer: timeout",!1,S)},1e4);fetch(v,{signal:$.signal}).then(ue=>{clearTimeout(re),ue.ok?_i(P,"TestPingServer: ok",!0,S):_i(P,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(re),_i(P,"TestPingServer: error",!1,S)})}function _i(v,S,P,$,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),$(P)}catch{}}function lo(){this.g=new Mr}function ja(v){this.i=v.Sb||null,this.h=v.ab||!1}g(ja,Fi),ja.prototype.g=function(){return new Ol(this.i,this.h)};function Ol(v,S){Pt.call(this),this.H=v,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Ol,Pt),t=Ol.prototype,t.open=function(v,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=S,this.readyState=1,Qi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(S.body=v),(this.H||c).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,co(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Qi(this)),this.g&&(this.readyState=3,Qi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zc(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zc(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var S=v.value?v.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!v.done}))&&(this.response=this.responseText+=S)}v.done?co(this):Qi(this),this.readyState==3&&Zc(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,co(this))},t.Na=function(v){this.g&&(this.response=v,co(this))},t.ga=function(){this.g&&co(this)};function co(v){v.readyState=4,v.l=null,v.j=null,v.B=null,Qi(v)}t.setRequestHeader=function(v,S){this.A.append(v,S)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],S=this.h.entries();for(var P=S.next();!P.done;)P=P.value,v.push(P[0]+": "+P[1]),P=S.next();return v.join(`\r
`)};function Qi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Ol.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function xi(v){let S="";return je(v,function(P,$){S+=$,S+=":",S+=P,S+=`\r
`}),S}function Pl(v,S,P){e:{for($ in P){var $=!1;break e}$=!0}$||(P=xi(P),typeof v=="string"?P!=null&&rs(P):St(v,S,P))}function Rt(v){Pt.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Rt,Pt);var Ea=/^https?$/i,Gd=["POST","PUT"];t=Rt.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,S,P,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);S=S?S.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Dd.g(),this.g.onreadystatechange=y(h(this.Ca,this));try{this.B=!0,this.g.open(S,String(v),!0),this.B=!1}catch(ue){Il(this,ue);return}if(v=P||"",P=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var re in $)P.set(re,$[re]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const ue of $.keys())P.set(ue,$.get(ue));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(P.keys()).find(ue=>ue.toLowerCase()=="content-type"),re=c.FormData&&v instanceof c.FormData,!(Array.prototype.indexOf.call(Gd,S,void 0)>=0)||$||re||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Ne]of P)this.g.setRequestHeader(ue,Ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(ue){Il(this,ue)}};function Il(v,S){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=S,v.o=5,Kd(v),is(v)}function Kd(v){v.A||(v.A=!0,It(v,"complete"),It(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,It(this,"complete"),It(this,"abort"),is(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),is(this,!0)),Rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Rl(this):this.Xa())},t.Xa=function(){Rl(this)};function Rl(v){if(v.h&&typeof s<"u"){if(v.v&&Wi(v)==4)setTimeout(v.Ca.bind(v),0);else if(It(v,"readystatechange"),Wi(v)==4){v.h=!1;try{const ue=v.ca();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var P;if(!(P=S)){var $;if($=ue===0){let Ne=String(v.D).match(Sm)[1]||null;!Ne&&c.self&&c.self.location&&(Ne=c.self.location.protocol.slice(0,-1)),$=!Ea.test(Ne?Ne.toLowerCase():"")}P=$}if(P)It(v,"complete"),It(v,"success");else{v.o=6;try{var re=Wi(v)>2?v.g.statusText:""}catch{re=""}v.l=re+" ["+v.ca()+"]",Kd(v)}}finally{is(v)}}}}function is(v,S){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const P=v.g;v.g=null,S||It(v,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Wi(v){return v.g?v.g.readyState:0}t.ca=function(){try{return Wi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var S=this.g.responseText;return v&&S.indexOf(v)==0&&(S=S.substring(v.length)),no(S)}};function rr(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function as(v){const S={};v=(v.g&&Wi(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<v.length;$++){if(M(v[$]))continue;var P=jm(v[$]);const re=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const ue=S[re]||[];S[re]=ue,ue.push(P)}X(S,function($){return $.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Na(v,S,P){return P&&P.internalChannelParams&&P.internalChannelParams[v]||S}function uo(v){this.za=0,this.i=[],this.j=new Zr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Na("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Na("baseRetryDelayMs",5e3,v),this.Za=Na("retryDelaySeedMs",1e4,v),this.Ta=Na("forwardChannelMaxRetries",2,v),this.va=Na("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new Md(v&&v.concurrentRequestLimit),this.Ba=new lo,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=uo.prototype,t.ka=8,t.I=1,t.connect=function(v,S,P,$){sn(0),this.W=v,this.H=S||{},P&&$!==void 0&&(this.H.OSID=P,this.H.OAID=$),this.F=this.X,this.J=zm(this,null,this.W),Sa(this)};function Qd(v){if(Jc(v),v.I==3){var S=v.V++,P=Nn(v.J);if(St(P,"SID",v.M),St(P,"RID",S),St(P,"TYPE","terminate"),kl(v,P),S=new Hi(v,v.j,S),S.M=2,S.A=Tl(Nn(P)),P=!1,c.navigator&&c.navigator.sendBeacon)try{P=c.navigator.sendBeacon(S.A.toString(),"")}catch{}!P&&c.Image&&(new Image().src=S.A,P=!0),P||(S.g=Lm(S.j,null),S.g.ea(S.A)),S.F=Date.now(),va(S)}Mm(v)}function fo(v){v.g&&(Yd(v),v.g.cancel(),v.g=null)}function Jc(v){fo(v),v.v&&(c.clearTimeout(v.v),v.v=null),tu(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&c.clearTimeout(v.m),v.m=null)}function Sa(v){if(!zd(v.h)&&!v.m){v.m=!0;var S=v.Ea;V||C(),B||(V(),B=!0),k.add(S,v),v.D=0}}function eu(v,S){return _a(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=S.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=pr(h(v.Ea,v,S),Dm(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const re=new Hi(this,this.j,v);let ue=this.o;if(this.U&&(ue?(ue=F(ue),pe(ue,this.U)):ue=this.U),this.u!==null||this.R||(re.J=ue,ue=null),this.S)e:{for(var S=0,P=0;P<this.i.length;P++){t:{var $=this.i[P];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(S+=$,S>4096){S=P;break e}if(S===4096||P===this.i.length-1){S=P+1;break e}}S=1e3}else S=1e3;S=Pm(this,re,S),P=Nn(this.J),St(P,"RID",v),St(P,"CVER",22),this.G&&St(P,"X-HTTP-Session-Id",this.G),kl(this,P),ue&&(this.R?S="headers="+rs(xi(ue))+"&"+S:this.u&&Pl(P,this.u,ue)),Ld(this.h,re),this.Ra&&St(P,"TYPE","init"),this.S?(St(P,"$req",S),St(P,"SID","null"),re.U=!0,ga(re,P,null)):ga(re,P,S),this.I=2}}else this.I==3&&(v?Wd(this,v):this.i.length==0||zd(this.h)||Wd(this))};function Wd(v,S){var P;S?P=S.l:P=v.V++;const $=Nn(v.J);St($,"SID",v.M),St($,"RID",P),St($,"AID",v.K),kl(v,$),v.u&&v.o&&Pl($,v.u,v.o),P=new Hi(v,v.j,P,v.D+1),v.u===null&&(P.J=v.o),S&&(v.i=S.G.concat(v.i)),S=Pm(v,P,1e3),P.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),Ld(v.h,P),ga(P,$,S)}function kl(v,S){v.H&&je(v.H,function(P,$){St(S,$,P)}),v.l&&je({},function(P,$){St(S,$,P)})}function Pm(v,S,P){P=Math.min(v.i.length,P);const $=v.l?h(v.l.Ka,v.l,v):null;e:{var re=v.i;let Ze=-1;for(;;){const pn=["count="+P];Ze==-1?P>0?(Ze=re[0].g,pn.push("ofs="+Ze)):Ze=0:pn.push("ofs="+Ze);let wt=!0;for(let Yt=0;Yt<P;Yt++){var ue=re[Yt].g;const wi=re[Yt].map;if(ue-=Ze,ue<0)Ze=Math.max(0,re[Yt].g-100),wt=!1;else try{ue="req"+ue+"_"||"";try{var Ne=wi instanceof Map?wi:Object.entries(wi);for(const[Ta,Yi]of Ne){let Xi=Yi;u(Yi)&&(Xi=Dr(Yi)),pn.push(ue+Ta+"="+encodeURIComponent(Xi))}}catch(Ta){throw pn.push(ue+"type="+encodeURIComponent("_badmap")),Ta}}catch{$&&$(wi)}}if(wt){Ne=pn.join("&");break e}}Ne=void 0}return v=v.i.splice(0,P),S.G=v,Ne}function Im(v){if(!v.g&&!v.v){v.Y=1;var S=v.Da;V||C(),B||(V(),B=!0),k.add(S,v),v.A=0}}function Dl(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=pr(h(v.Da,v),Dm(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,Rm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=pr(h(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,sn(10),fo(this),Rm(this))};function Yd(v){v.B!=null&&(c.clearTimeout(v.B),v.B=null)}function Rm(v){v.g=new Hi(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var S=Nn(v.na);St(S,"RID","rpc"),St(S,"SID",v.M),St(S,"AID",v.K),St(S,"CI",v.F?"0":"1"),!v.F&&v.ia&&St(S,"TO",v.ia),St(S,"TYPE","xmlhttp"),kl(v,S),v.u&&v.o&&Pl(S,v.u,v.o),v.O&&(v.g.H=v.O);var P=v.g;v=v.ba,P.M=1,P.A=Tl(Nn(S)),P.u=null,P.R=!0,Gc(P,v)}t.Va=function(){this.C!=null&&(this.C=null,fo(this),Dl(this),sn(19))};function tu(v){v.C!=null&&(c.clearTimeout(v.C),v.C=null)}function km(v,S){var P=null;if(v.g==S){tu(v),Yd(v),v.g=null;var $=2}else if(xa(v.h,S))P=S.G,qd(v.h,S),$=1;else return;if(v.I!=0){if(S.o)if($==1){P=S.u?S.u.length:0,S=Date.now()-S.F;var re=v.D;$=ro(),It($,new vi($,P)),Sa(v)}else Im(v);else if(re=S.m,re==3||re==0&&S.X>0||!($==1&&eu(v,S)||$==2&&Dl(v)))switch(P&&P.length>0&&(S=v.h,S.i=S.i.concat(P)),re){case 1:Aa(v,5);break;case 4:Aa(v,10);break;case 3:Aa(v,6);break;default:Aa(v,2)}}}function Dm(v,S){let P=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(P*=2),P*S}function Aa(v,S){if(v.j.info("Error code "+S),S==2){var P=h(v.bb,v),$=v.Ua;const re=!$;$=new ei($||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Hn($,"https"),Tl($),re?Ki($.toString(),P):Hd($.toString(),P)}else sn(2);v.I=0,v.l&&v.l.pa(S),Mm(v),Jc(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function Mm(v){if(v.I=0,v.ja=[],v.l){const S=Ud(v.h);(S.length!=0||v.i.length!=0)&&(E(v.ja,S),E(v.ja,v.i),v.h.i.length=0,_(v.i),v.i.length=0),v.l.oa()}}function zm(v,S,P){var $=P instanceof ei?Nn(P):new ei(P);if($.g!="")S&&($.g=S+"."+$.g),io($,$.u);else{var re=c.location;$=re.protocol,S=S?S+"."+re.hostname:re.hostname,re=+re.port;const ue=new ei(null);$&&Hn(ue,$),S&&(ue.g=S),re&&io(ue,re),P&&(ue.h=P),$=ue}return P=v.G,S=v.wa,P&&S&&St($,P,S),St($,"VER",v.ka),kl(v,$),$}function Lm(v,S,P){if(S&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=v.Aa&&!v.ma?new Rt(new ja({ab:P})):new Rt(v.ma),S.Fa(v.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qm(){}t=qm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ho(){}ho.prototype.g=function(v,S){return new Er(v,S)};function Er(v,S){Pt.call(this),this.g=new uo(S),this.l=v,this.h=S&&S.messageUrlParams||null,v=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(v?v["X-WebChannel-Content-Type"]=S.messageContentType:v={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(v?v["X-WebChannel-Client-Profile"]=S.sa:v={"X-WebChannel-Client-Profile":S.sa}),this.g.U=v,(v=S&&S.Qb)&&!M(v)&&(this.g.u=v),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!M(S)&&(this.g.G=S,v=this.h,v!==null&&S in v&&(v=this.h,S in v&&delete v[S])),this.j=new ss(this)}g(Er,Pt),Er.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Er.prototype.close=function(){Qd(this.g)},Er.prototype.o=function(v){var S=this.g;if(typeof v=="string"){var P={};P.__data__=v,v=P}else this.v&&(P={},P.__data__=Dr(v),v=P);S.i.push(new En(S.Ya++,v)),S.I==3&&Sa(S)},Er.prototype.N=function(){this.g.l=null,delete this.j,Qd(this.g),delete this.g,Er.Z.N.call(this)};function Um(v){Nt.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var S=v.__sm__;if(S){e:{for(const P in S){v=P;break e}v=void 0}(this.i=v)&&(v=this.i,S=S!==null&&v in S?S[v]:void 0),this.data=S}else this.data=v}g(Um,Nt);function Vm(){zr.call(this),this.status=1}g(Vm,zr);function ss(v){this.g=v}g(ss,qm),ss.prototype.ra=function(){It(this.g,"a")},ss.prototype.qa=function(v){It(this.g,new Um(v))},ss.prototype.pa=function(v){It(this.g,new Vm)},ss.prototype.oa=function(){It(this.g,"b")},ho.prototype.createWebChannel=ho.prototype.g,Er.prototype.send=Er.prototype.o,Er.prototype.open=Er.prototype.m,Er.prototype.close=Er.prototype.close,QM=function(){return new ho},KM=function(){return ro()},GM=en,B1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yi.NO_ERROR=0,yi.TIMEOUT=8,yi.HTTP_ERROR=6,Sg=yi,kd.COMPLETE="complete",HM=kd,Fc.EventType=an,an.OPEN="a",an.CLOSE="b",an.ERROR="c",an.MESSAGE="d",Pt.prototype.listen=Pt.prototype.J,Yf=Fc,Rt.prototype.listenOnce=Rt.prototype.K,Rt.prototype.getLastError=Rt.prototype.Ha,Rt.prototype.getLastErrorCode=Rt.prototype.ya,Rt.prototype.getStatus=Rt.prototype.ca,Rt.prototype.getResponseJson=Rt.prototype.La,Rt.prototype.getResponseText=Rt.prototype.la,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Fa,FM=Rt}).apply(typeof Gp<"u"?Gp:typeof self<"u"?self:typeof window<"u"?window:{});let br=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};br.UNAUTHENTICATED=new br(null),br.GOOGLE_CREDENTIALS=new br("google-credentials-uid"),br.FIRST_PARTY=new br("first-party-uid"),br.MOCK_USER=new br("mock-user");let _d="12.8.0";function lF(t){_d=t}const _c=new _j("@firebase/firestore");function Mu(){return _c.logLevel}function Te(t,...e){if(_c.logLevel<=ct.DEBUG){const n=e.map(Pj);_c.debug(`Firestore (${_d}): ${t}`,...n)}}function Ms(t,...e){if(_c.logLevel<=ct.ERROR){const n=e.map(Pj);_c.error(`Firestore (${_d}): ${t}`,...n)}}function td(t,...e){if(_c.logLevel<=ct.WARN){const n=e.map(Pj);_c.warn(`Firestore (${_d}): ${t}`,...n)}}function Pj(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,WM(t,r,n)}function WM(t,e,n){let r=`FIRESTORE (${_d}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ms(r),new Error(r)}function Et(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||WM(e,i,r)}function Ye(t,e){return t}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends ts{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ps{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class YM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(br.UNAUTHENTICATED)))}shutdown(){}}class uF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class dF{constructor(e){this.t=e,this.currentUser=br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Et(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ps,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ps)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string",31837,{l:r}),new YM(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string",2055,{h:e}),new br(e)}}class fF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=br.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class hF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new fF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(br.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Et(this.o===void 0,3512);const r=s=>{s.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.m;return this.m=s.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _2(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Ij{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=pF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ut(t,e){return t<e?-1:t>e?1:0}function $1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return k_(i)===k_(s)?ut(i,s):k_(i)?1:-1}return ut(t.length,e.length)}const gF=55296,vF=57343;function k_(t){const e=t.charCodeAt(0);return e>=gF&&e<=vF}function nd(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const x2="__name__";class za{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return za.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof za?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=za.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ut(e.length,n.length)}static compareSegments(e,n){const r=za.isNumericId(e),i=za.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?za.extractNumericId(e).compare(za.extractNumericId(n)):$1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return tl.fromString(e.substring(4,e.length-2))}}class $t extends za{construct(e,n,r){return new $t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new $t(n)}static emptyPath(){return new $t([])}}const yF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends za{construct(e,n,r){return new dr(e,n,r)}static isValidIdentifier(e){return yF.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x2}static keyField(){return new dr([x2])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ae(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ae(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ae(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(c=!c,i++):u!=="."||c?(r+=u,i++):(s(),i++)}if(s(),c)throw new Ae(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dr(n)}static emptyPath(){return new dr([])}}class qe{constructor(e){this.path=e}static fromPath(e){return new qe($t.fromString(e))}static fromName(e){return new qe($t.fromString(e).popFirst(5))}static empty(){return new qe($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new $t(e.slice()))}}function XM(t,e,n){if(!n)throw new Ae(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bF(t,e,n,r){if(e===!0&&r===!0)throw new Ae(ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function w2(t){if(!qe.isDocumentKey(t))throw new Ae(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j2(t){if(qe.isDocumentKey(t))throw new Ae(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ZM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function dy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ge(12329,{type:typeof t})}function Mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dy(t);throw new Ae(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function _F(t,e){if(e<=0)throw new Ae(ve.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Yh(t,e){if(!ZM(t))throw new Ae(ve.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(i&&typeof c!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&c!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ae(ve.INVALID_ARGUMENT,n);return!0}const E2=-62135596800,N2=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*N2);return new it(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<E2)throw new Ae(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N2}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yh(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-E2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Rn("string",it._jsonSchemaVersion),seconds:Rn("number"),nanoseconds:Rn("number")};class Qe{static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new it(0,0))}static max(){return new Qe(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const vh=-1;function xF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Qe.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new sl(i,qe.empty(),e)}function wF(t){return new sl(t.readTime,t.key,vh)}class sl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new sl(Qe.min(),qe.empty(),vh)}static max(){return new sl(Qe.max(),qe.empty(),vh)}}function jF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qe.comparator(t.documentKey,e.documentKey),n!==0?n:ut(t.largestBatchId,e.largestBatchId))}const EF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function xd(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==EF)throw t;Te("LocalStore","Unexpectedly lost primary lease")}class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new xe(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof xe?n:xe.resolve(n)}catch(n){return xe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):xe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):xe.reject(n)}static resolve(e){return new xe(((n,r)=>{n(e)}))}static reject(e){return new xe(((n,r)=>{r(e)}))}static waitFor(e){return new xe(((n,r)=>{let i=0,s=0,c=!1;e.forEach((u=>{++i,u.next((()=>{++s,c&&s===i&&n()}),(f=>r(f)))})),c=!0,s===i&&n()}))}static or(e){let n=xe.resolve(!1);for(const r of e)n=n.next((i=>i?xe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new xe(((r,i)=>{const s=e.length,c=new Array(s);let u=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((p=>{c[h]=p,++u,u===s&&r(c)}),(p=>i(p)))}}))}static doWhile(e,n){return new xe(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function SF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wd(t){return t.name==="IndexedDbTransactionError"}class fy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fy.ce=-1;const Rj=-1;function hy(t){return t==null}function Wg(t){return t===0&&1/t==-1/0}function AF(t){return typeof t=="number"&&Number.isInteger(t)&&!Wg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const JM="";function TF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=S2(e)),e=CF(t.get(n),e);return S2(e)}function CF(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case JM:n+="";break;default:n+=s}}return n}function S2(t){return t+JM+""}function A2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ez(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class nn{constructor(e,n){this.comparator=e,this.root=n||ur.EMPTY}insert(e,n){return new nn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ur.BLACK,null,null))}remove(e){return new nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ur.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kp(this.root,e,this.comparator,!0)}}class Kp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ur{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ur.RED,this.left=i??ur.EMPTY,this.right=s??ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ur(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ur.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}ur.EMPTY=null,ur.RED=!0,ur.BLACK=!1;ur.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ur(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Un{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new T2(this.data.getIterator())}getIteratorFrom(e){return new T2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Un(this.comparator);return n.data=e,n}}class T2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ui{constructor(e){this.fields=e,e.sort(dr.comparator)}static empty(){return new ui([])}unionWith(e){let n=new Un(dr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ui(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nd(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class tz extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new tz("Invalid base64 string: "+s):s}})(e);return new hr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let c=0;c<i.length;++c)s+=String.fromCharCode(i[c]);return s})(e);return new hr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hr.EMPTY_BYTE_STRING=new hr("");const OF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ol(t){if(Et(!!t,39018),typeof t=="string"){let e=0;const n=OF.exec(t);if(Et(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bn(t.seconds),nanos:bn(t.nanos)}}function bn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ll(t){return typeof t=="string"?hr.fromBase64String(t):hr.fromUint8Array(t)}const nz="server_timestamp",rz="__type__",iz="__previous_value__",az="__local_write_time__";function kj(t){return(t?.mapValue?.fields||{})[rz]?.stringValue===nz}function my(t){const e=t.mapValue.fields[iz];return kj(e)?my(e):e}function yh(t){const e=ol(t.mapValue.fields[az].timestampValue);return new it(e.seconds,e.nanos)}class PF{constructor(e,n,r,i,s,c,u,f,h,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p,this.apiKey=g}}const Yg="(default)";class bh{constructor(e,n){this.projectId=e,this.database=n||Yg}static empty(){return new bh("","")}get isDefaultDatabase(){return this.database===Yg}isEqual(e){return e instanceof bh&&e.projectId===this.projectId&&e.database===this.database}}function IF(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ae(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bh(t.options.projectId,e)}const sz="__type__",RF="__max__",Qp={mapValue:{}},oz="__vector__",Xg="value";function cl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kj(t)?4:DF(t)?9007199254740991:kF(t)?10:11:Ge(28295,{value:t})}function Wa(t,e){if(t===e)return!0;const n=cl(t);if(n!==cl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yh(t).isEqual(yh(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const c=ol(i.timestampValue),u=ol(s.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return ll(i.bytesValue).isEqual(ll(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return bn(i.geoPointValue.latitude)===bn(s.geoPointValue.latitude)&&bn(i.geoPointValue.longitude)===bn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return bn(i.integerValue)===bn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const c=bn(i.doubleValue),u=bn(s.doubleValue);return c===u?Wg(c)===Wg(u):isNaN(c)&&isNaN(u)}return!1})(t,e);case 9:return nd(t.arrayValue.values||[],e.arrayValue.values||[],Wa);case 10:case 11:return(function(i,s){const c=i.mapValue.fields||{},u=s.mapValue.fields||{};if(A2(c)!==A2(u))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(u[f]===void 0||!Wa(c[f],u[f])))return!1;return!0})(t,e);default:return Ge(52216,{left:t})}}function _h(t,e){return(t.values||[]).find((n=>Wa(n,e)))!==void 0}function rd(t,e){if(t===e)return 0;const n=cl(t),r=cl(e);if(n!==r)return ut(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ut(t.booleanValue,e.booleanValue);case 2:return(function(s,c){const u=bn(s.integerValue||s.doubleValue),f=bn(c.integerValue||c.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return C2(t.timestampValue,e.timestampValue);case 4:return C2(yh(t),yh(e));case 5:return $1(t.stringValue,e.stringValue);case 6:return(function(s,c){const u=ll(s),f=ll(c);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,c){const u=s.split("/"),f=c.split("/");for(let h=0;h<u.length&&h<f.length;h++){const p=ut(u[h],f[h]);if(p!==0)return p}return ut(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,c){const u=ut(bn(s.latitude),bn(c.latitude));return u!==0?u:ut(bn(s.longitude),bn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return O2(t.arrayValue,e.arrayValue);case 10:return(function(s,c){const u=s.fields||{},f=c.fields||{},h=u[Xg]?.arrayValue,p=f[Xg]?.arrayValue,g=ut(h?.values?.length||0,p?.values?.length||0);return g!==0?g:O2(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,c){if(s===Qp.mapValue&&c===Qp.mapValue)return 0;if(s===Qp.mapValue)return 1;if(c===Qp.mapValue)return-1;const u=s.fields||{},f=Object.keys(u),h=c.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const y=$1(f[g],p[g]);if(y!==0)return y;const _=rd(u[f[g]],h[p[g]]);if(_!==0)return _}return ut(f.length,p.length)})(t.mapValue,e.mapValue);default:throw Ge(23264,{he:n})}}function C2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ut(t,e);const n=ol(t),r=ol(e),i=ut(n.seconds,r.seconds);return i!==0?i:ut(n.nanos,r.nanos)}function O2(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=rd(n[i],r[i]);if(s)return s}return ut(n.length,r.length)}function id(t){return F1(t)}function F1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ol(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ll(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return qe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=F1(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const c of r)s?s=!1:i+=",",i+=`${c}:${F1(n.fields[c])}`;return i+"}"})(t.mapValue):Ge(61005,{value:t})}function Ag(t){switch(cl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=my(t);return e?16+Ag(e):16;case 5:return 2*t.stringValue.length;case 6:return ll(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Ag(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return bl(r.fields,((s,c)=>{i+=s.length+Ag(c)})),i})(t.mapValue);default:throw Ge(13486,{value:t})}}function P2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function H1(t){return!!t&&"integerValue"in t}function Dj(t){return!!t&&"arrayValue"in t}function I2(t){return!!t&&"nullValue"in t}function R2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tg(t){return!!t&&"mapValue"in t}function kF(t){return(t?.mapValue?.fields||{})[sz]?.stringValue===oz}function sh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return bl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=sh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sh(t.arrayValue.values[n]);return e}return{...t}}function DF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===RF}class Gr{constructor(e){this.value=e}static empty(){return new Gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sh(n)}setAll(e){let n=dr.emptyPath(),r={},i=[];e.forEach(((c,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}c?r[u.lastSegment()]=sh(c):i.push(u.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Tg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Tg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bl(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Gr(sh(this.value))}}function lz(t){const e=[];return bl(t.fields,((n,r)=>{const i=new dr([n]);if(Tg(r)){const s=lz(r.mapValue).fields;if(s.length===0)e.push(i);else for(const c of s)e.push(i.child(c))}else e.push(i)})),new ui(e)}class _r{constructor(e,n,r,i,s,c,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=c,this.documentState=u}static newInvalidDocument(e){return new _r(e,0,Qe.min(),Qe.min(),Qe.min(),Gr.empty(),0)}static newFoundDocument(e,n,r,i){return new _r(e,1,n,Qe.min(),r,i,0)}static newNoDocument(e,n){return new _r(e,2,n,Qe.min(),Qe.min(),Gr.empty(),0)}static newUnknownDocument(e,n){return new _r(e,3,n,Qe.min(),Qe.min(),Gr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zg{constructor(e,n){this.position=e,this.inclusive=n}}function k2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],c=t.position[i];if(s.field.isKeyField()?r=qe.comparator(qe.fromName(c.referenceValue),n.key):r=rd(c,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function D2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wa(t.position[n],e.position[n]))return!1;return!0}class xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function MF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class cz{}class In extends cz{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new LF(e,n,r):n==="array-contains"?new VF(e,r):n==="in"?new BF(e,r):n==="not-in"?new $F(e,r):n==="array-contains-any"?new FF(e,r):new In(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qF(e,r):new UF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rd(n,this.value)):n!==null&&cl(this.value)===cl(n)&&this.matchesComparison(rd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ua extends cz{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ua(e,n)}matches(e){return uz(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uz(t){return t.op==="and"}function dz(t){return zF(t)&&uz(t)}function zF(t){for(const e of t.filters)if(e instanceof ua)return!1;return!0}function G1(t){if(t instanceof In)return t.field.canonicalString()+t.op.toString()+id(t.value);if(dz(t))return t.filters.map((e=>G1(e))).join(",");{const e=t.filters.map((n=>G1(n))).join(",");return`${t.op}(${e})`}}function fz(t,e){return t instanceof In?(function(r,i){return i instanceof In&&r.op===i.op&&r.field.isEqual(i.field)&&Wa(r.value,i.value)})(t,e):t instanceof ua?(function(r,i){return i instanceof ua&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,c,u)=>s&&fz(c,i.filters[u])),!0):!1})(t,e):void Ge(19439)}function hz(t){return t instanceof In?(function(n){return`${n.field.canonicalString()} ${n.op} ${id(n.value)}`})(t):t instanceof ua?(function(n){return n.op.toString()+" {"+n.getFilters().map(hz).join(" ,")+"}"})(t):"Filter"}class LF extends In{constructor(e,n,r){super(e,n,r),this.key=qe.fromName(r.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class qF extends In{constructor(e,n){super(e,"in",n),this.keys=mz("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class UF extends In{constructor(e,n){super(e,"not-in",n),this.keys=mz("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function mz(t,e){return(e.arrayValue?.values||[]).map((n=>qe.fromName(n.referenceValue)))}class VF extends In{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dj(n)&&_h(n.arrayValue,this.value)}}class BF extends In{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_h(this.value.arrayValue,n)}}class $F extends In{constructor(e,n){super(e,"not-in",n)}matches(e){if(_h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_h(this.value.arrayValue,n)}}class FF extends In{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dj(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>_h(this.value.arrayValue,r)))}}class HF{constructor(e,n=null,r=[],i=[],s=null,c=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=c,this.endAt=u,this.Te=null}}function M2(t,e=null,n=[],r=[],i=null,s=null,c=null){return new HF(t,e,n,r,i,s,c)}function Mj(t){const e=Ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>G1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),hy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>id(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>id(r))).join(",")),e.Te=n}return e.Te}function zj(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!MF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fz(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!D2(t.startAt,e.startAt)&&D2(t.endAt,e.endAt)}function K1(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class jd{constructor(e,n=null,r=[],i=[],s=null,c="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=c,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function GF(t,e,n,r,i,s,c,u){return new jd(t,e,n,r,i,s,c,u)}function Lj(t){return new jd(t)}function z2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KF(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function pz(t){return t.collectionGroup!==null}function oh(t){const e=Ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new Un(dr.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new xh(s,r))})),n.has(dr.keyField().canonicalString())||e.Ie.push(new xh(dr.keyField(),r))}return e.Ie}function Ha(t){const e=Ye(t);return e.Ee||(e.Ee=QF(e,oh(t))),e.Ee}function QF(t,e){if(t.limitType==="F")return M2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new xh(i.field,s)}));const n=t.endAt?new Zg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zg(t.startAt.position,t.startAt.inclusive):null;return M2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Q1(t,e){const n=t.filters.concat([e]);return new jd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function WF(t,e){const n=t.explicitOrderBy.concat([e]);return new jd(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Jg(t,e,n){return new jd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function py(t,e){return zj(Ha(t),Ha(e))&&t.limitType===e.limitType}function gz(t){return`${Mj(Ha(t))}|lt:${t.limitType}`}function zu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>hz(i))).join(", ")}]`),hy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>id(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>id(i))).join(",")),`Target(${r})`})(Ha(t))}; limitType=${t.limitType})`}function gy(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):qe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of oh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(c,u,f){const h=k2(c,u,f);return c.inclusive?h<=0:h<0})(r.startAt,oh(r),i)||r.endAt&&!(function(c,u,f){const h=k2(c,u,f);return c.inclusive?h>=0:h>0})(r.endAt,oh(r),i))})(t,e)}function YF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vz(t){return(e,n)=>{let r=!1;for(const i of oh(t)){const s=XF(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function XF(t,e,n){const r=t.field.isKeyField()?qe.comparator(e.key,n.key):(function(s,c,u){const f=c.data.field(s),h=u.data.field(s);return f!==null&&h!==null?rd(f,h):Ge(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:t.dir})}}class Mc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bl(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return ez(this.inner)}size(){return this.innerSize}}const ZF=new nn(qe.comparator);function zs(){return ZF}const yz=new nn(qe.comparator);function Xf(...t){let e=yz;for(const n of t)e=e.insert(n.key,n);return e}function bz(t){let e=yz;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ac(){return lh()}function _z(){return lh()}function lh(){return new Mc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const JF=new nn(qe.comparator),eH=new Un(qe.comparator);function dt(...t){let e=eH;for(const n of t)e=e.add(n);return e}const tH=new Un(ut);function nH(){return tH}function qj(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wg(e)?"-0":e}}function xz(t){return{integerValue:""+t}}function wz(t,e){return AF(e)?xz(e):qj(t,e)}class vy{constructor(){this._=void 0}}function rH(t,e,n){return t instanceof wh?(function(i,s){const c={fields:{[rz]:{stringValue:nz},[az]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&kj(s)&&(s=my(s)),s&&(c.fields[iz]=s),{mapValue:c}})(n,e):t instanceof jh?Ez(t,e):t instanceof Eh?Nz(t,e):(function(i,s){const c=jz(i,s),u=L2(c)+L2(i.Ae);return H1(c)&&H1(i.Ae)?xz(u):qj(i.serializer,u)})(t,e)}function iH(t,e,n){return t instanceof jh?Ez(t,e):t instanceof Eh?Nz(t,e):n}function jz(t,e){return t instanceof Nh?(function(r){return H1(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class wh extends vy{}class jh extends vy{constructor(e){super(),this.elements=e}}function Ez(t,e){const n=Sz(e);for(const r of t.elements)n.some((i=>Wa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Eh extends vy{constructor(e){super(),this.elements=e}}function Nz(t,e){let n=Sz(e);for(const r of t.elements)n=n.filter((i=>!Wa(i,r)));return{arrayValue:{values:n}}}class Nh extends vy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function L2(t){return bn(t.integerValue||t.doubleValue)}function Sz(t){return Dj(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Az{constructor(e,n){this.field=e,this.transform=n}}function aH(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof jh&&i instanceof jh||r instanceof Eh&&i instanceof Eh?nd(r.elements,i.elements,Wa):r instanceof Nh&&i instanceof Nh?Wa(r.Ae,i.Ae):r instanceof wh&&i instanceof wh})(t.transform,e.transform)}class sH{constructor(e,n){this.version=e,this.transformResults=n}}class Cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yy{}function Tz(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new by(t.key,Cr.none()):new Xh(t.key,t.data,Cr.none());{const n=t.data,r=Gr.empty();let i=new Un(dr.comparator);for(let s of e.fields)if(!i.has(s)){let c=n.field(s);c===null&&s.length>1&&(s=s.popLast(),c=n.field(s)),c===null?r.delete(s):r.set(s,c),i=i.add(s)}return new _l(t.key,r,new ui(i.toArray()),Cr.none())}}function oH(t,e,n){t instanceof Xh?(function(i,s,c){const u=i.value.clone(),f=U2(i.fieldTransforms,s,c.transformResults);u.setAll(f),s.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(t,e,n):t instanceof _l?(function(i,s,c){if(!Cg(i.precondition,s))return void s.convertToUnknownDocument(c.version);const u=U2(i.fieldTransforms,s,c.transformResults),f=s.data;f.setAll(Cz(i)),f.setAll(u),s.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,c){s.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function ch(t,e,n,r){return t instanceof Xh?(function(s,c,u,f){if(!Cg(s.precondition,c))return u;const h=s.value.clone(),p=V2(s.fieldTransforms,f,c);return h.setAll(p),c.convertToFoundDocument(c.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof _l?(function(s,c,u,f){if(!Cg(s.precondition,c))return u;const h=V2(s.fieldTransforms,f,c),p=c.data;return p.setAll(Cz(s)),p.setAll(h),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,c,u){return Cg(s.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u})(t,e,n)}function lH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=jz(r.transform,i||null);s!=null&&(n===null&&(n=Gr.empty()),n.set(r.field,s))}return n||null}function q2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&nd(r,i,((s,c)=>aH(s,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xh extends yy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _l extends yy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Cz(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function U2(t,e,n){const r=new Map;Et(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],c=s.transform,u=e.data.field(s.field);r.set(s.field,iH(c,u,n[i]))}return r}function V2(t,e,n){const r=new Map;for(const i of t){const s=i.transform,c=n.data.field(i.field);r.set(i.field,rH(s,c,e))}return r}class by extends yy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cH extends yy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&oH(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ch(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ch(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_z();return this.mutations.forEach((i=>{const s=e.get(i.key),c=s.overlayedDocument;let u=this.applyToLocalView(c,s.mutatedFields);u=n.has(i.key)?null:u;const f=Tz(c,u);f!==null&&r.set(i.key,f),c.isValidDocument()||c.convertToNoDocument(Qe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),dt())}isEqual(e){return this.batchId===e.batchId&&nd(this.mutations,e.mutations,((n,r)=>q2(n,r)))&&nd(this.baseMutations,e.baseMutations,((n,r)=>q2(n,r)))}}class Uj{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Et(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return JF})();const s=e.mutations;for(let c=0;c<s.length;c++)i=i.insert(s[c].key,r[c].version);return new Uj(e,n,r,i)}}class dH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class fH{constructor(e,n){this.count=e,this.unchangedNames=n}}var On,vt;function hH(t){switch(t){case ve.OK:return Ge(64938);case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return Ge(15467,{code:t})}}function Oz(t){if(t===void 0)return Ms("GRPC error has no .code"),ve.UNKNOWN;switch(t){case On.OK:return ve.OK;case On.CANCELLED:return ve.CANCELLED;case On.UNKNOWN:return ve.UNKNOWN;case On.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case On.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case On.INTERNAL:return ve.INTERNAL;case On.UNAVAILABLE:return ve.UNAVAILABLE;case On.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case On.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case On.NOT_FOUND:return ve.NOT_FOUND;case On.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case On.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case On.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case On.ABORTED:return ve.ABORTED;case On.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case On.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case On.DATA_LOSS:return ve.DATA_LOSS;default:return Ge(39323,{code:t})}}(vt=On||(On={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";function mH(){return new TextEncoder}const pH=new tl([4294967295,4294967295],0);function B2(t){const e=mH().encode(t),n=new $M;return n.update(e),new Uint8Array(n.digest())}function $2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new tl([n,r],0),new tl([i,s],0)]}class Vj{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zf(`Invalid padding: ${n}`);if(r<0)throw new Zf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=tl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(tl.fromNumber(r)));return i.compare(pH)===1&&(i=new tl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=B2(e),[r,i]=$2(n);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,i,s);if(!this.we(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new Vj(s,i,n);return r.forEach((u=>c.insert(u))),c}insert(e){if(this.ge===0)return;const n=B2(e),[r,i]=$2(n);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,i,s);this.be(c)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _y{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Zh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _y(Qe.min(),i,new nn(ut),zs(),dt())}}class Zh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zh(r,n,dt(),dt(),dt())}}class Og{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Pz{constructor(e,n){this.targetId=e,this.Ce=n}}class Iz{constructor(e,n,r=hr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class F2{constructor(){this.ve=0,this.Fe=H2(),this.Me=hr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=dt(),n=dt(),r=dt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ge(38017,{changeType:s})}})),new Zh(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=H2()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Et(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class gH{constructor(e){this.Ge=e,this.ze=new Map,this.je=zs(),this.He=Wp(),this.Je=Wp(),this.Ze=new nn(ut)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(K1(s))if(r===0){const c=new qe(s.path);this.et(n,c,_r.newNoDocument(c,Qe.min()))}else Et(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const u=this.ut(e),f=u?this.ct(u,e,c):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let c,u;try{c=ll(r).toUint8Array()}catch(f){if(f instanceof tz)return td("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new Vj(c,i,s)}catch(f){return td(f instanceof Zf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const c=this.Ge.ht(),u=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,c)=>{const u=this.ot(c);if(u){if(s.current&&K1(u.target)){const f=new qe(u.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,_r.newNoDocument(f,e))}s.Be&&(n.set(c,s.ke()),s.Ke())}}));let r=dt();this.Je.forEach(((s,c)=>{let u=!0;c.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,c)=>c.setReadTime(e)));const i=new _y(e,n,this.Ze,this.je,r);return this.je=zs(),this.He=Wp(),this.Je=Wp(),this.Ze=new nn(ut),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new F2,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Un(ut),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Un(ut),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new F2),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wp(){return new nn(qe.comparator)}function H2(){return new nn(qe.comparator)}const vH={asc:"ASCENDING",desc:"DESCENDING"},yH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bH={and:"AND",or:"OR"};class _H{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function W1(t,e){return t.useProto3Json||hy(e)?e:{value:e}}function ev(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rz(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xH(t,e){return ev(t,e.toTimestamp())}function Ga(t){return Et(!!t,49232),Qe.fromTimestamp((function(n){const r=ol(n);return new it(r.seconds,r.nanos)})(t))}function Bj(t,e){return Y1(t,e).canonicalString()}function Y1(t,e){const n=(function(i){return new $t(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function kz(t){const e=$t.fromString(t);return Et(qz(e),10190,{key:e.toString()}),e}function X1(t,e){return Bj(t.databaseId,e.path)}function D_(t,e){const n=kz(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe(Mz(n))}function Dz(t,e){return Bj(t.databaseId,e)}function wH(t){const e=kz(t);return e.length===4?$t.emptyPath():Mz(e)}function Z1(t){return new $t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Mz(t){return Et(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function G2(t,e,n){return{name:X1(t,e),fields:n.value.mapValue.fields}}function jH(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ge(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(Et(p===void 0||typeof p=="string",58123),hr.fromBase64String(p||"")):(Et(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),hr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,u=c&&(function(h){const p=h.code===void 0?ve.UNKNOWN:Oz(h.code);return new Ae(p,h.message||"")})(c);n=new Iz(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=D_(t,r.document.name),s=Ga(r.document.updateTime),c=r.document.createTime?Ga(r.document.createTime):Qe.min(),u=new Gr({mapValue:{fields:r.document.fields}}),f=_r.newFoundDocument(i,s,c,u),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Og(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=D_(t,r.document),s=r.readTime?Ga(r.readTime):Qe.min(),c=_r.newNoDocument(i,s),u=r.removedTargetIds||[];n=new Og([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=D_(t,r.document),s=r.removedTargetIds||[];n=new Og([],s,i,null)}else{if(!("filter"in e))return Ge(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,c=new fH(i,s),u=r.targetId;n=new Pz(u,c)}}return n}function EH(t,e){let n;if(e instanceof Xh)n={update:G2(t,e.key,e.value)};else if(e instanceof by)n={delete:X1(t,e.key)};else if(e instanceof _l)n={update:G2(t,e.key,e.data),updateMask:RH(e.fieldMask)};else{if(!(e instanceof cH))return Ge(16599,{dt:e.type});n={verify:X1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,c){const u=c.transform;if(u instanceof wh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof jh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Eh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Nh)return{fieldPath:c.field.canonicalString(),increment:u.Ae};throw Ge(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:xH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ge(27497)})(t,e.precondition)),n}function NH(t,e){return t&&t.length>0?(Et(e!==void 0,14353),t.map((n=>(function(i,s){let c=i.updateTime?Ga(i.updateTime):Ga(s);return c.isEqual(Qe.min())&&(c=Ga(s)),new sH(c,i.transformResults||[])})(n,e)))):[]}function SH(t,e){return{documents:[Dz(t,e.path)]}}function AH(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Dz(t,i);const s=(function(h){if(h.length!==0)return Lz(ua.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const c=(function(h){if(h.length!==0)return h.map((p=>(function(y){return{field:Lu(y.field),direction:OH(y.dir)}})(p)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const u=W1(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function TH(t){let e=wH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Et(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const y=zz(g);return y instanceof ua&&dz(y)?y.getFilters():[y]})(n.where));let c=[];n.orderBy&&(c=(function(g){return g.map((y=>(function(E){return new xh(qu(E.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(y)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let y;return y=typeof g=="object"?g.value:g,hy(y)?null:y})(n.limit));let f=null;n.startAt&&(f=(function(g){const y=!!g.before,_=g.values||[];return new Zg(_,y)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const y=!g.before,_=g.values||[];return new Zg(_,y)})(n.endAt)),GF(e,i,c,s,u,"F",f,h)}function CH(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zz(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qu(n.unaryFilter.field);return In.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=qu(n.unaryFilter.field);return In.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=qu(n.unaryFilter.field);return In.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=qu(n.unaryFilter.field);return In.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(t):t.fieldFilter!==void 0?(function(n){return In.create(qu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ua.create(n.compositeFilter.filters.map((r=>zz(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(n.compositeFilter.op))})(t):Ge(30097,{filter:t})}function OH(t){return vH[t]}function PH(t){return yH[t]}function IH(t){return bH[t]}function Lu(t){return{fieldPath:t.canonicalString()}}function qu(t){return dr.fromServerFormat(t.fieldPath)}function Lz(t){return t instanceof In?(function(n){if(n.op==="=="){if(R2(n.value))return{unaryFilter:{field:Lu(n.field),op:"IS_NAN"}};if(I2(n.value))return{unaryFilter:{field:Lu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(R2(n.value))return{unaryFilter:{field:Lu(n.field),op:"IS_NOT_NAN"}};if(I2(n.value))return{unaryFilter:{field:Lu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lu(n.field),op:PH(n.op),value:n.value}}})(t):t instanceof ua?(function(n){const r=n.getFilters().map((i=>Lz(i)));return r.length===1?r[0]:{compositeFilter:{op:IH(n.op),filters:r}}})(t):Ge(54877,{filter:t})}function RH(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function qz(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Uz(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Yo{constructor(e,n,r,i,s=Qe.min(),c=Qe.min(),u=hr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kH{constructor(e){this.yt=e}}function DH(t){const e=TH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jg(e,e.limit,"L"):e}class MH{constructor(){this.Sn=new zH}addToCollectionParentIndex(e,n){return this.Sn.add(n),xe.resolve()}getCollectionParents(e,n){return xe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return xe.resolve()}deleteFieldIndex(e,n){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,n){return xe.resolve()}getDocumentsMatchingTarget(e,n){return xe.resolve(null)}getIndexType(e,n){return xe.resolve(0)}getFieldIndexes(e,n){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,n){return xe.resolve(sl.min())}getMinOffsetFromCollectionGroup(e,n){return xe.resolve(sl.min())}updateCollectionGroup(e,n,r){return xe.resolve()}updateIndexEntries(e,n){return xe.resolve()}}class zH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Un($t.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Un($t.comparator)).toArray()}}const K2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vz=41943040;class Hr{static withCacheSize(e){return new Hr(e,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Hr.DEFAULT_COLLECTION_PERCENTILE=10,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hr.DEFAULT=new Hr(Vz,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hr.DISABLED=new Hr(-1,0,0);class ad{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ad(0)}static ar(){return new ad(-1)}}const Q2="LruGarbageCollector",LH=1048576;function W2([t,e],[n,r]){const i=ut(t,n);return i===0?ut(e,r):i}class qH{constructor(e){this.Pr=e,this.buffer=new Un(W2),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();W2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Te(Q2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wd(n)?Te(Q2,"Ignoring IndexedDB error during garbage collection: ",n):await xd(n)}await this.Ar(3e5)}))}}class VH{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return xe.resolve(fy.ce);const r=new qH(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(K2)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K2):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,c,u,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,c=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),Mu()<=ct.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${i} in `+(u-c)+`ms
	Removed ${s} targets in `+(f-u)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function BH(t,e){return new VH(t,e)}class $H{constructor(){this.changes=new Mc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_r.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?xe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class FH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class HH{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&ch(r.mutation,i,ui.empty(),it.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,dt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=dt()){const i=ac();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let c=Xf();return s.forEach(((u,f)=>{c=c.insert(u,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=ac();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,dt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((c,u)=>{n.set(c,u)}))}))}computeViews(e,n,r,i){let s=zs();const c=lh(),u=(function(){return lh()})();return n.forEach(((f,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof _l)?s=s.insert(h.key,h):p!==void 0?(c.set(h.key,p.mutation.getFieldMask()),ch(p.mutation,h,p.mutation.getFieldMask(),it.now())):c.set(h.key,ui.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,p)=>c.set(h,p))),n.forEach(((h,p)=>u.set(h,new FH(p,c.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=lh();let i=new nn(((c,u)=>c-u)),s=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const u of c)u.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||ui.empty();p=u.applyToLocalView(h,p),r.set(f,p);const g=(i.get(u.batchId)||dt()).add(f);i=i.insert(u.batchId,g)}))})).next((()=>{const c=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),h=f.key,p=f.value,g=_z();p.forEach((y=>{if(!s.has(y)){const _=Tz(n.get(y),r.get(y));_!==null&&g.set(y,_),s=s.add(y)}})),c.push(this.documentOverlayCache.saveOverlays(e,h,g))}return xe.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return KF(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pz(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const c=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):xe.resolve(ac());let u=vh,f=s;return c.next((h=>xe.forEach(h,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(p)?xe.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{f=f.insert(p,y)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,dt()))).next((p=>({batchId:u,changes:bz(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next((r=>{let i=Xf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let c=Xf();return this.indexManager.getCollectionParents(e,s).next((u=>xe.forEach(u,(f=>{const h=(function(g,y){return new jd(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((g,y)=>{c=c.insert(g,y)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(s=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((c=>{s.forEach(((f,h)=>{const p=h.getKey();c.get(p)===null&&(c=c.insert(p,_r.newInvalidDocument(p)))}));let u=Xf();return c.forEach(((f,h)=>{const p=s.get(f);p!==void 0&&ch(p.mutation,h,ui.empty(),it.now()),gy(n,h)&&(u=u.insert(f,h))})),u}))}}class GH{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return xe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ga(i.createTime)}})(n)),xe.resolve()}getNamedQuery(e,n){return xe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:DH(i.bundledQuery),readTime:Ga(i.readTime)}})(n)),xe.resolve()}}class KH{constructor(){this.overlays=new nn(qe.comparator),this.Lr=new Map}getOverlay(e,n){return xe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ac();return xe.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.bt(e,n,s)})),xe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Lr.delete(r)),xe.resolve()}getOverlaysForCollection(e,n,r){const i=ac(),s=n.length+1,c=new qe(n.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const f=u.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return xe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new nn(((h,p)=>h-p));const c=this.overlays.getIterator();for(;c.hasNext();){const h=c.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=ac(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=ac(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=i)););return xe.resolve(u)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new dH(n,r));let s=this.Lr.get(n);s===void 0&&(s=dt(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}class QH{constructor(){this.sessionToken=hr.EMPTY_BYTE_STRING}getSessionToken(e){return xe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,xe.resolve()}}class $j{constructor(){this.kr=new Un(Wn.Kr),this.qr=new Un(Wn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Wn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Wn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new qe(new $t([])),r=new Wn(n,e),i=new Wn(n,e+1),s=[];return this.qr.forEachInRange([r,i],(c=>{this.Wr(c),s.push(c.key)})),s}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new qe(new $t([])),r=new Wn(n,e),i=new Wn(n,e+1);let s=dt();return this.qr.forEachInRange([r,i],(c=>{s=s.add(c.key)})),s}containsKey(e){const n=new Wn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return qe.comparator(e.key,n.key)||ut(e.Hr,n.Hr)}static Ur(e,n){return ut(e.Hr,n.Hr)||qe.comparator(e.key,n.key)}}class WH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Un(Wn.Kr)}checkEmpty(e){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new uH(s,n,r,i);this.mutationQueue.push(c);for(const u of i)this.Jr=this.Jr.add(new Wn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return xe.resolve(c)}lookupMutationBatch(e,n){return xe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return xe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?Rj:this.Yn-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wn(n,0),i=new Wn(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],(c=>{const u=this.Zr(c.Hr);s.push(u)})),xe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Un(ut);return n.forEach((i=>{const s=new Wn(i,0),c=new Wn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,c],(u=>{r=r.add(u.Hr)}))})),xe.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;qe.isDocumentKey(s)||(s=s.child(""));const c=new Wn(new qe(s),0);let u=new Un(ut);return this.Jr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(f.Hr)),!0)}),c),xe.resolve(this.Yr(u))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Et(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return xe.forEach(n.mutations,(i=>{const s=new Wn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Wn(n,0),i=this.Jr.firstAfterOrEqual(r);return xe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,xe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class YH{constructor(e){this.ti=e,this.docs=(function(){return new nn(qe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,c=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return xe.resolve(r?r.document.mutableCopy():_r.newInvalidDocument(n))}getEntries(e,n){let r=zs();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_r.newInvalidDocument(i))})),xe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=zs();const c=n.path,u=new qe(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!c.isPrefixOf(h.path))break;h.path.length>c.length+1||jF(wF(p),r)<=0||(i.has(p.key)||gy(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return xe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ge(9500)}ni(e,n){return xe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new XH(this)}getSize(e){return xe.resolve(this.size)}}class XH extends $H{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),xe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class ZH{constructor(e){this.persistence=e,this.ri=new Mc((n=>Mj(n)),zj),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.ii=0,this.si=new $j,this.targetCount=0,this.oi=ad._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),xe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ad(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,xe.resolve()}updateTargetData(e,n){return this.lr(n),xe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach(((c,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ri.delete(c),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),xe.waitFor(s).next((()=>i))}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return xe.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),xe.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((c=>{s.push(i.markPotentiallyOrphaned(e,c))})),xe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),xe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return xe.resolve(r)}containsKey(e,n){return xe.resolve(this.si.containsKey(n))}}class Bz{constructor(e,n){this._i={},this.overlays={},this.ai=new fy(0),this.ui=!1,this.ui=!0,this.ci=new QH,this.referenceDelegate=e(this),this.li=new ZH(this),this.indexManager=new MH,this.remoteDocumentCache=(function(i){return new YH(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new kH(n),this.Pi=new GH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new WH(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new JH(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((s=>this.referenceDelegate.Ii(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ei(e,n){return xe.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class JH extends NF{constructor(e){super(),this.currentSequenceNumber=e}}class Fj{constructor(e){this.persistence=e,this.Ri=new $j,this.Ai=null}static Vi(e){return new Fj(e)}get di(){if(this.Ai)return this.Ai;throw Ge(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),xe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),xe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),xe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.di.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.di,(r=>{const i=qe.fromPath(r);return this.mi(e,i).next((s=>{s||n.removeEntry(i,Qe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return xe.or([()=>xe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class tv{constructor(e,n){this.persistence=e,this.fi=new Mc((r=>TF(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=BH(this,n)}static Vi(e,n){return new tv(e,n)}Ti(){}Ii(e){return xe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return xe.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((s=>s?xe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,(c=>this.wr(e,c,n).next((u=>{u||(r++,s.removeEntry(c,Qe.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),xe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),xe.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),xe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),xe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ag(e.data.value)),n}wr(e,n,r){return xe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return xe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Hj{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=dt(),i=dt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Hj(e,n.fromCache,r,i)}}class eG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class tG{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return A8()?8:SF(wr())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next((c=>{s.result=c})).next((()=>{if(!s.result)return this.ps(e,n,i,r).next((c=>{s.result=c}))})).next((()=>{if(s.result)return;const c=new eG;return this.ys(e,n,c).next((u=>{if(s.result=u,this.As)return this.ws(e,n,c,u.size)}))})).next((()=>s.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Mu()<=ct.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",zu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),xe.resolve()):(Mu()<=ct.DEBUG&&Te("QueryEngine","Query:",zu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Mu()<=ct.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",zu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ha(n))):xe.resolve())}gs(e,n){if(z2(n))return xe.resolve(null);let r=Ha(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Jg(n,null,"F"),r=Ha(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const c=dt(...s);return this.fs.getDocuments(e,c).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.bs(n,u);return this.Ss(n,h,c,f.readTime)?this.gs(e,Jg(n,null,"F")):this.Ds(e,h,n,f)}))))})))))}ps(e,n,r,i){return z2(n)||i.isEqual(Qe.min())?xe.resolve(null):this.fs.getDocuments(e,r).next((s=>{const c=this.bs(n,s);return this.Ss(n,c,r,i)?xe.resolve(null):(Mu()<=ct.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zu(n)),this.Ds(e,c,n,xF(i,vh)).next((u=>u)))}))}bs(e,n){let r=new Un(vz(e));return n.forEach(((i,s)=>{gy(e,s)&&(r=r.add(s))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return Mu()<=ct.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",zu(n)),this.fs.getDocumentsMatchingQuery(e,n,sl.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((c=>{s=s.insert(c.key,c)})),s)))}}const Gj="LocalStore",nG=3e8;class rG{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new nn(ut),this.Fs=new Mc((s=>Mj(s)),zj),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HH(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function iG(t,e,n,r){return new rG(t,e,n,r)}async function $z(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const c=[],u=[];let f=dt();for(const h of i){c.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of s){u.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ns:h,removedBatchIds:c,addedBatchIds:u})))}))}))}function aG(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return(function(u,f,h,p){const g=h.batch,y=g.keys();let _=xe.resolve();return y.forEach((E=>{_=_.next((()=>p.getEntry(f,E))).next((j=>{const N=h.docVersions.get(E);Et(N!==null,48541),j.version.compareTo(N)<0&&(g.applyToRemoteDocument(j,h),j.isValidDocument()&&(j.setReadTime(h.commitVersion),p.addEntry(j)))}))})),_.next((()=>u.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=dt();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(f=f.add(u.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function Fz(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function sG(t,e){const n=Ye(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const u=[];e.targetChanges.forEach(((p,g)=>{const y=i.get(g);if(!y)return;u.push(n.li.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.li.addMatchingKeys(s,p.addedDocuments,g))));let _=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(hr.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(g,_),(function(j,N,A){return j.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=nG?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0})(y,_,p)&&u.push(n.li.updateTargetData(s,_))}));let f=zs(),h=dt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),u.push(oG(s,c,e.documentUpdates).next((p=>{f=p.Bs,h=p.Ls}))),!r.isEqual(Qe.min())){const p=n.li.getLastRemoteSnapshotVersion(s).next((g=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(p)}return xe.waitFor(u).next((()=>c.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.vs=i,s)))}function oG(t,e,n){let r=dt(),i=dt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let c=zs();return n.forEach(((u,f)=>{const h=s.get(u);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(Qe.min())?(e.removeEntry(u,f.readTime),c=c.insert(u,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),c=c.insert(u,f)):Te(Gj,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",f.version)})),{Bs:c,Ls:i}}))}function lG(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Rj),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function cG(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((s=>s?(i=s,xe.resolve(i)):n.li.allocateTargetId(r).next((c=>(i=new Yo(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function J1(t,e,n){const r=Ye(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!wd(c))throw c;Te(Gj,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function Y2(t,e,n){const r=Ye(t);let i=Qe.min(),s=dt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,h,p){const g=Ye(f),y=g.Fs.get(p);return y!==void 0?xe.resolve(g.vs.get(y)):g.li.getTargetData(h,p)})(r,c,Ha(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,u.targetId).next((f=>{s=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,n?i:Qe.min(),n?s:dt()))).next((u=>(uG(r,YF(e),u),{documents:u,ks:s})))))}function uG(t,e,n){let r=t.Ms.get(e)||Qe.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Ms.set(e,r)}class X2{constructor(){this.activeTargetIds=nH()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dG{constructor(){this.vo=new X2,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new X2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fG{Mo(e){}shutdown(){}}const Z2="ConnectivityMonitor";class J2{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Te(Z2,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Te(Z2,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yp=null;function ew(){return Yp===null?Yp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yp++,"0x"+Yp.toString(16)}const M_="RestConnection",hG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class mG{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Yg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const c=ew(),u=this.Qo(e,n.toUriEncodedString());Te(M_,`Sending RPC '${e}' ${c}:`,u,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,i,s);const{host:h}=new URL(u),p=vl(h);return this.zo(e,u,f,r,p).then((g=>(Te(M_,`Received RPC '${e}' ${c}: `,g),g)),(g=>{throw td(M_,`RPC '${e}' ${c} failed with error: `,g,"url: ",u,"request:",r),g}))}jo(e,n,r,i,s,c){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_d})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}Qo(e,n){const r=hG[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class pG{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const vr="WebChannelConnection",Mf=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Qu extends mG{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Qu.c_){const e=KM();Mf(e,GM.STAT_EVENT,(n=>{n.stat===B1.PROXY?Te(vr,"STAT_EVENT: detected buffering proxy"):n.stat===B1.NOPROXY&&Te(vr,"STAT_EVENT: detected no buffering proxy")})),Qu.c_=!0}}zo(e,n,r,i,s){const c=ew();return new Promise(((u,f)=>{const h=new FM;h.setWithCredentials(!0),h.listenOnce(HM.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Sg.NO_ERROR:const g=h.getResponseJson();Te(vr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(g)),u(g);break;case Sg.TIMEOUT:Te(vr,`RPC '${e}' ${c} timed out`),f(new Ae(ve.DEADLINE_EXCEEDED,"Request time out"));break;case Sg.HTTP_ERROR:const y=h.getStatus();if(Te(vr,`RPC '${e}' ${c} failed with status:`,y,"response text:",h.getResponseText()),y>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_?.error;if(E&&E.status&&E.message){const j=(function(A){const D=A.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(D)>=0?D:ve.UNKNOWN})(E.status);f(new Ae(j,E.message))}else f(new Ae(ve.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Ae(ve.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:c,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Te(vr,`RPC '${e}' ${c} completed.`)}}));const p=JSON.stringify(i);Te(vr,`RPC '${e}' ${c} sending request:`,i),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=ew(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");Te(vr,`Creating RPC '${e}' stream ${i}: ${h}`,u);const p=c.createWebChannel(h,u);this.I_(p);let g=!1,y=!1;const _=new pG({Ho:E=>{y?Te(vr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(g||(Te(vr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),Te(vr,`RPC '${e}' stream ${i} sending:`,E),p.send(E))},Jo:()=>p.close()});return Mf(p,Yf.EventType.OPEN,(()=>{y||(Te(vr,`RPC '${e}' stream ${i} transport opened.`),_.i_())})),Mf(p,Yf.EventType.CLOSE,(()=>{y||(y=!0,Te(vr,`RPC '${e}' stream ${i} transport closed`),_.o_(),this.E_(p))})),Mf(p,Yf.EventType.ERROR,(E=>{y||(y=!0,td(vr,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),_.o_(new Ae(ve.UNAVAILABLE,"The operation could not be completed")))})),Mf(p,Yf.EventType.MESSAGE,(E=>{if(!y){const j=E.data[0];Et(!!j,16349);const N=j,A=N?.error||N[0]?.error;if(A){Te(vr,`RPC '${e}' stream ${i} received error:`,A);const D=A.status;let I=(function(B){const k=On[B];if(k!==void 0)return Oz(k)})(D),O=A.message;I===void 0&&(I=ve.INTERNAL,O="Unknown error status: "+D+" with message "+A.message),y=!0,_.o_(new Ae(I,O)),p.close()}else Te(vr,`RPC '${e}' stream ${i} received:`,j),_.__(j)}})),Qu.u_(),setTimeout((()=>{_.s_()}),0),_}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return QM()}}function gG(t){return new Qu(t)}function z_(){return typeof document<"u"?document:null}function xy(t){return new _H(t,!0)}Qu.c_=!1;class Hz{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const eO="PersistentStream";class Gz{constructor(e,n,r,i,s,c,u,f){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Hz(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ve.RESOURCE_EXHAUSTED?(Ms(n.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ae(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(eO,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Te(eO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vG extends Gz{constructor(e,n,r,i,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=jH(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Qe.min();const c=s.targetChange;return c.targetIds&&c.targetIds.length?Qe.min():c.readTime?Ga(c.readTime):Qe.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Z1(this.serializer),n.addTarget=(function(s,c){let u;const f=c.target;if(u=K1(f)?{documents:SH(s,f)}:{query:AH(s,f).ft},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=Rz(s,c.resumeToken);const h=W1(s,c.expectedCount);h!==null&&(u.expectedCount=h)}else if(c.snapshotVersion.compareTo(Qe.min())>0){u.readTime=ev(s,c.snapshotVersion.toTimestamp());const h=W1(s,c.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const r=CH(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Z1(this.serializer),n.removeTarget=e,this.K_(n)}}class yG extends Gz{constructor(e,n,r,i,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=NH(e.writeResults,e.commitTime),r=Ga(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Z1(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>EH(this.serializer,r)))};this.K_(n)}}class bG{}class _G extends bG{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ae(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,c])=>this.connection.Wo(e,Y1(n,r),i,s,c))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ae(ve.UNKNOWN,s.toString())}))}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.jo(e,Y1(n,r),i,c,u,s))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ae(ve.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function xG(t,e,n,r){return new _G(t,e,n,r)}class wG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ms(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const xc="RemoteStore";class jG{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{zc(this)&&(Te(xc,"Restarting streams for network reachability change."),await(async function(f){const h=Ye(f);h.Ea.add(4),await Jh(h),h.Va.set("Unknown"),h.Ea.delete(4),await wy(h)})(this))}))})),this.Va=new wG(r,i)}}async function wy(t){if(zc(t))for(const e of t.Ra)await e(!0)}async function Jh(t){for(const e of t.Ra)await e(!1)}function Kz(t,e){const n=Ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Yj(n)?Wj(n):Ed(n).O_()&&Qj(n,e))}function Kj(t,e){const n=Ye(t),r=Ed(n);n.Ia.delete(e),r.O_()&&Qz(n,e),n.Ia.size===0&&(r.O_()?r.L_():zc(n)&&n.Va.set("Unknown"))}function Qj(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ed(t).Z_(e)}function Qz(t,e){t.da.$e(e),Ed(t).X_(e)}function Wj(t){t.da=new gH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ed(t).start(),t.Va.ua()}function Yj(t){return zc(t)&&!Ed(t).x_()&&t.Ia.size>0}function zc(t){return Ye(t).Ea.size===0}function Wz(t){t.da=void 0}async function EG(t){t.Va.set("Online")}async function NG(t){t.Ia.forEach(((e,n)=>{Qj(t,e)}))}async function SG(t,e){Wz(t),Yj(t)?(t.Va.ha(e),Wj(t)):t.Va.set("Unknown")}async function AG(t,e,n){if(t.Va.set("Online"),e instanceof Iz&&e.state===2&&e.cause)try{await(async function(i,s){const c=s.cause;for(const u of s.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,c),i.Ia.delete(u),i.da.removeTarget(u))})(t,e)}catch(r){Te(xc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await nv(t,r)}else if(e instanceof Og?t.da.Xe(e):e instanceof Pz?t.da.st(e):t.da.tt(e),!n.isEqual(Qe.min()))try{const r=await Fz(t.localStore);n.compareTo(r)>=0&&await(function(s,c){const u=s.da.Tt(c);return u.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(f.resumeToken,c))}})),u.targetMismatches.forEach(((f,h)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(hr.EMPTY_BYTE_STRING,p.snapshotVersion)),Qz(s,f);const g=new Yo(p.target,f,h,p.sequenceNumber);Qj(s,g)})),s.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Te(xc,"Failed to raise snapshot:",r),await nv(t,r)}}async function nv(t,e,n){if(!wd(e))throw e;t.Ea.add(1),await Jh(t),t.Va.set("Offline"),n||(n=()=>Fz(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te(xc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await wy(t)}))}function Yz(t,e){return e().catch((n=>nv(t,n,e)))}async function jy(t){const e=Ye(t),n=ul(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rj;for(;TG(e);)try{const i=await lG(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,CG(e,i)}catch(i){await nv(e,i)}Xz(e)&&Zz(e)}function TG(t){return zc(t)&&t.Ta.length<10}function CG(t,e){t.Ta.push(e);const n=ul(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Xz(t){return zc(t)&&!ul(t).x_()&&t.Ta.length>0}function Zz(t){ul(t).start()}async function OG(t){ul(t).ra()}async function PG(t){const e=ul(t);for(const n of t.Ta)e.ea(n.mutations)}async function IG(t,e,n){const r=t.Ta.shift(),i=Uj.from(r,e,n);await Yz(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await jy(t)}async function RG(t,e){e&&ul(t).Y_&&await(async function(r,i){if((function(c){return hH(c)&&c!==ve.ABORTED})(i.code)){const s=r.Ta.shift();ul(r).B_(),await Yz(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await jy(r)}})(t,e),Xz(t)&&Zz(t)}async function tO(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),Te(xc,"RemoteStore received new credentials");const r=zc(n);n.Ea.add(3),await Jh(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wy(n)}async function kG(t,e){const n=Ye(t);e?(n.Ea.delete(2),await wy(n)):e||(n.Ea.add(2),await Jh(n),n.Va.set("Unknown"))}function Ed(t){return t.ma||(t.ma=(function(n,r,i){const s=Ye(n);return s.sa(),new vG(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:EG.bind(null,t),Yo:NG.bind(null,t),t_:SG.bind(null,t),J_:AG.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Yj(t)?Wj(t):t.Va.set("Unknown")):(await t.ma.stop(),Wz(t))}))),t.ma}function ul(t){return t.fa||(t.fa=(function(n,r,i){const s=Ye(n);return s.sa(),new yG(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:OG.bind(null,t),t_:RG.bind(null,t),ta:PG.bind(null,t),na:IG.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await jy(t)):(await t.fa.stop(),t.Ta.length>0&&(Te(xc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Xj{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const c=Date.now()+r,u=new Xj(e,n,c,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zj(t,e){if(Ms("AsyncQueue",`${e}: ${t}`),wd(t))return new Ae(ve.UNAVAILABLE,`${e}: ${t}`);throw t}class Wu{static emptySet(e){return new Wu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||qe.comparator(n.key,r.key):(n,r)=>qe.comparator(n.key,r.key),this.keyedMap=Xf(),this.sortedSet=new nn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class nO{constructor(){this.ga=new nn(qe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ge(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class sd{constructor(e,n,r,i,s,c,u,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const c=[];return n.forEach((u=>{c.push({type:0,doc:u})})),new sd(e,n,Wu.emptySet(n),c,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&py(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class DG{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class MG{constructor(){this.queries=rO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ye(n),s=i.queries;i.queries=rO(),s.forEach(((c,u)=>{for(const f of u.ba)f.onError(r)}))})(this,new Ae(ve.ABORTED,"Firestore shutting down"))}}function rO(){return new Mc((t=>gz(t)),py)}async function Jz(t,e){const n=Ye(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new DG,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const u=Zj(c,`Initialization of query '${zu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Jj(n)}async function e4(t,e){const n=Ye(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const c=s.ba.indexOf(e);c>=0&&(s.ba.splice(c,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zG(t,e){const n=Ye(t);let r=!1;for(const i of e){const s=i.query,c=n.queries.get(s);if(c){for(const u of c.ba)u.Fa(i)&&(r=!0);c.wa=i}}r&&Jj(n)}function LG(t,e,n){const r=Ye(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function Jj(t){t.Ca.forEach((e=>{e.next()}))}var tw,iO;(iO=tw||(tw={})).Ma="default",iO.Cache="cache";class t4{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new sd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tw.Cache}}class n4{constructor(e){this.key=e}}class r4{constructor(e){this.key=e}}class qG{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=dt(),this.mutatedKeys=dt(),this.eu=vz(e),this.tu=new Wu(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new nO,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,c=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const y=i.get(p),_=gy(this.query,g)?g:null,E=!!y&&this.mutatedKeys.has(y.key),j=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let N=!1;y&&_?y.data.isEqual(_.data)?E!==j&&(r.track({type:3,doc:_}),N=!0):this.su(y,_)||(r.track({type:2,doc:_}),N=!0,(f&&this.eu(_,f)>0||h&&this.eu(_,h)<0)&&(u=!0)):!y&&_?(r.track({type:0,doc:_}),N=!0):y&&!_&&(r.track({type:1,doc:y}),N=!0,(f||h)&&(u=!0)),N&&(_?(c=c.add(_),s=j?s.add(p):s.delete(p)):(c=c.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:c,iu:r,Ss:u,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((p,g)=>(function(_,E){const j=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Vt:N})}};return j(_)-j(E)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Ya.size===0&&this.current&&!i?1:0,h=f!==this.Xa;return this.Xa=f,c.length!==0||h?{snapshot:new sd(this.query,e.tu,s,c,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nO,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=dt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new r4(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new n4(r))})),n}cu(e){this.Za=e.ks,this.Ya=dt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const eE="SyncEngine";class UG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class VG{constructor(e){this.key=e,this.hu=!1}}class BG{constructor(e,n,r,i,s,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Mc((u=>gz(u)),py),this.Iu=new Map,this.Eu=new Set,this.Ru=new nn(qe.comparator),this.Au=new Map,this.Vu=new $j,this.du={},this.mu=new Map,this.fu=ad.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $G(t,e,n=!0){const r=c4(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await i4(r,e,n,!0),i}async function FG(t,e){const n=c4(t);await i4(n,e,!0,!1)}async function i4(t,e,n,r){const i=await cG(t.localStore,Ha(e)),s=i.targetId,c=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await HG(t,e,s,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&Kz(t.remoteStore,i),u}async function HG(t,e,n,r,i){t.pu=(g,y,_)=>(async function(j,N,A,D){let I=N.view.ru(A);I.Ss&&(I=await Y2(j.localStore,N.query,!1).then((({documents:k})=>N.view.ru(k,I))));const O=D&&D.targetChanges.get(N.targetId),V=D&&D.targetMismatches.get(N.targetId)!=null,B=N.view.applyChanges(I,j.isPrimaryClient,O,V);return sO(j,N.targetId,B.au),B.snapshot})(t,g,y,_);const s=await Y2(t.localStore,e,!0),c=new qG(e,s.ks),u=c.ru(s.documents),f=Zh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=c.applyChanges(u,t.isPrimaryClient,f);sO(t,n,h.au);const p=new UG(e,n,c);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function GG(t,e,n){const r=Ye(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((c=>!py(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await J1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Kj(r.remoteStore,i.targetId),nw(r,i.targetId)})).catch(xd)):(nw(r,i.targetId),await J1(r.localStore,i.targetId,!0))}async function KG(t,e){const n=Ye(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kj(n.remoteStore,r.targetId))}async function QG(t,e,n){const r=tK(t);try{const i=await(function(c,u){const f=Ye(c),h=it.now(),p=u.reduce(((_,E)=>_.add(E.key)),dt());let g,y;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let E=zs(),j=dt();return f.xs.getEntries(_,p).next((N=>{E=N,E.forEach(((A,D)=>{D.isValidDocument()||(j=j.add(A))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,E))).next((N=>{g=N;const A=[];for(const D of u){const I=lH(D,g.get(D.key).overlayedDocument);I!=null&&A.push(new _l(D.key,I,lz(I.value.mapValue),Cr.exists(!0)))}return f.mutationQueue.addMutationBatch(_,h,A,u)})).next((N=>{y=N;const A=N.applyToLocalDocumentSet(g,j);return f.documentOverlayCache.saveOverlays(_,N.batchId,A)}))})).then((()=>({batchId:y.batchId,changes:bz(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,u,f){let h=c.du[c.currentUser.toKey()];h||(h=new nn(ut)),h=h.insert(u,f),c.du[c.currentUser.toKey()]=h})(r,i.batchId,n),await em(r,i.changes),await jy(r.remoteStore)}catch(i){const s=Zj(i,"Failed to persist write");n.reject(s)}}async function a4(t,e){const n=Ye(t);try{const r=await sG(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const c=n.Au.get(s);c&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.hu=!0:i.modifiedDocuments.size>0?Et(c.hu,14607):i.removedDocuments.size>0&&(Et(c.hu,42227),c.hu=!1))})),await em(n,r,e)}catch(r){await xd(r)}}function aO(t,e,n){const r=Ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,c)=>{const u=c.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(c,u){const f=Ye(c);f.onlineState=u;let h=!1;f.queries.forEach(((p,g)=>{for(const y of g.ba)y.va(u)&&(h=!0)})),h&&Jj(f)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function WG(t,e,n){const r=Ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let c=new nn(qe.comparator);c=c.insert(s,_r.newNoDocument(s,Qe.min()));const u=dt().add(s),f=new _y(Qe.min(),new Map,new nn(ut),c,u);await a4(r,f),r.Ru=r.Ru.remove(s),r.Au.delete(e),tE(r)}else await J1(r.localStore,e,!1).then((()=>nw(r,e,n))).catch(xd)}async function YG(t,e){const n=Ye(t),r=e.batch.batchId;try{const i=await aG(n.localStore,e);o4(n,r,null),s4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await em(n,i)}catch(i){await xd(i)}}async function XG(t,e,n){const r=Ye(t);try{const i=await(function(c,u){const f=Ye(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,u).next((g=>(Et(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(h,g)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);o4(r,e,n),s4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await em(r,i)}catch(i){await xd(i)}}function s4(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function o4(t,e,n){const r=Ye(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function nw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||l4(t,r)}))}function l4(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Kj(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),tE(t))}function sO(t,e,n){for(const r of n)r instanceof n4?(t.Vu.addReference(r.key,e),ZG(t,r)):r instanceof r4?(Te(eE,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||l4(t,r.key)):Ge(19791,{wu:r})}function ZG(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Te(eE,"New document in limbo: "+n),t.Eu.add(r),tE(t))}function tE(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new qe($t.fromString(e)),r=t.fu.next();t.Au.set(r,new VG(n)),t.Ru=t.Ru.insert(n,r),Kz(t.remoteStore,new Yo(Ha(Lj(n.path)),r,"TargetPurposeLimboResolution",fy.ce))}}async function em(t,e,n){const r=Ye(t),i=[],s=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{c.push(r.pu(f,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(h){i.push(h);const p=Hj.Es(f.targetId,h);s.push(p)}})))})),await Promise.all(c),r.Pu.J_(i),await(async function(f,h){const p=Ye(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>xe.forEach(h,(y=>xe.forEach(y.Ts,(_=>p.persistence.referenceDelegate.addReference(g,y.targetId,_))).next((()=>xe.forEach(y.Is,(_=>p.persistence.referenceDelegate.removeReference(g,y.targetId,_)))))))))}catch(g){if(!wd(g))throw g;Te(Gj,"Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const _=p.vs.get(y),E=_.snapshotVersion,j=_.withLastLimboFreeSnapshotVersion(E);p.vs=p.vs.insert(y,j)}}})(r.localStore,s))}async function JG(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){Te(eE,"User change. New user:",e.toKey());const r=await $z(n.localStore,e);n.currentUser=e,(function(s,c){s.mu.forEach((u=>{u.forEach((f=>{f.reject(new Ae(ve.CANCELLED,c))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await em(n,r.Ns)}}function eK(t,e){const n=Ye(t),r=n.Au.get(e);if(r&&r.hu)return dt().add(r.key);{let i=dt();const s=n.Iu.get(e);if(!s)return i;for(const c of s){const u=n.Tu.get(c);i=i.unionWith(u.view.nu)}return i}}function c4(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=a4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WG.bind(null,e),e.Pu.J_=zG.bind(null,e.eventManager),e.Pu.yu=LG.bind(null,e.eventManager),e}function tK(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XG.bind(null,e),e}class rv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return iG(this.persistence,new tG,e.initialUser,this.serializer)}Cu(e){return new Bz(Fj.Vi,this.serializer)}Du(e){return new dG}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rv.provider={build:()=>new rv};class nK extends rv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Et(this.persistence.referenceDelegate instanceof tv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new UH(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Hr.withCacheSize(this.cacheSizeBytes):Hr.DEFAULT;return new Bz((r=>tv.Vi(r,n)),this.serializer)}}class rw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JG.bind(null,this.syncEngine),await kG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new MG})()}createDatastore(e){const n=xy(e.databaseInfo.databaseId),r=gG(e.databaseInfo);return xG(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,c,u){return new jG(r,i,s,c,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>aO(this.syncEngine,n,0)),(function(){return J2.v()?new J2:new fG})())}createSyncEngine(e,n){return(function(i,s,c,u,f,h,p){const g=new BG(i,s,c,u,f,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ye(n);Te(xc,"RemoteStore shutting down."),r.Ea.add(5),await Jh(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rw.provider={build:()=>new rw};class u4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ms("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const dl="FirestoreClient";class rK{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=br.UNAUTHENTICATED,this.clientId=Ij.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async c=>{Te(dl,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Te(dl,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zj(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function L_(t,e){t.asyncQueue.verifyOperationInProgress(),Te(dl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await $z(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function oO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await iK(t);Te(dl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>tO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>tO(e.remoteStore,i))),t._onlineComponents=e}async function iK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(dl,"Using user provided OfflineComponentProvider");try{await L_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ve.FAILED_PRECONDITION||i.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;td("Error using user provided cache. Falling back to memory cache: "+n),await L_(t,new rv)}}else Te(dl,"Using default OfflineComponentProvider"),await L_(t,new nK(void 0));return t._offlineComponents}async function d4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(dl,"Using user provided OnlineComponentProvider"),await oO(t,t._uninitializedComponentsProvider._online)):(Te(dl,"Using default OnlineComponentProvider"),await oO(t,new rw))),t._onlineComponents}function aK(t){return d4(t).then((e=>e.syncEngine))}async function f4(t){const e=await d4(t),n=e.eventManager;return n.onListen=$G.bind(null,e.syncEngine),n.onUnlisten=GG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KG.bind(null,e.syncEngine),n}function sK(t,e,n={}){const r=new Ps;return t.asyncQueue.enqueueAndForget((async()=>(function(s,c,u,f,h){const p=new u4({next:y=>{p.Nu(),c.enqueueAndForget((()=>e4(s,g)));const _=y.docs.has(u);!_&&y.fromCache?h.reject(new Ae(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&f&&f.source==="server"?h.reject(new Ae(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new t4(Lj(u.path),p,{includeMetadataChanges:!0,Ka:!0});return Jz(s,g)})(await f4(t),t.asyncQueue,e,n,r))),r.promise}function oK(t,e,n={}){const r=new Ps;return t.asyncQueue.enqueueAndForget((async()=>(function(s,c,u,f,h){const p=new u4({next:y=>{p.Nu(),c.enqueueAndForget((()=>e4(s,g))),y.fromCache&&f.source==="server"?h.reject(new Ae(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new t4(u,p,{includeMetadataChanges:!0,Ka:!0});return Jz(s,g)})(await f4(t),t.asyncQueue,e,n,r))),r.promise}function lK(t,e){const n=new Ps;return t.asyncQueue.enqueueAndForget((async()=>QG(await aK(t),e,n))),n.promise}function h4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const cK="ComponentProvider",lO=new Map;function uK(t,e,n,r,i){return new PF(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,h4(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const m4="firestore.googleapis.com",cO=!0;class uO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=m4,this.ssl=cO}else this.host=e.host,this.ssl=e.ssl??cO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Vz;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LH)throw new Ae(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h4(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ae(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ae(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ae(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ey{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new cF;switch(r.type){case"firstParty":return new hF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=lO.get(n);r&&(Te(cK,"Removing Datastore"),lO.delete(n),r.terminate())})(this),Promise.resolve()}}function dK(t,e,n,r={}){t=Mi(t,Ey);const i=vl(e),s=t._getSettings(),c={...s,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(yj(`https://${u}`),bj("Firestore",!0)),s.host!==m4&&s.host!==u&&td("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:u,ssl:i,emulatorOptions:r};if(!gc(f,c)&&(t._setSettings(f),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=br.MOCK_USER;else{h=rM(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ae(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new br(g)}t._authCredentials=new uF(new YM(h,p))}}class xl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xl(this.firestore,e,this._query)}}class _n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}toJSON(){return{type:_n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Yh(n,_n._jsonSchema))return new _n(e,r||null,new qe($t.fromString(n.referencePath)))}}_n._jsonSchemaVersion="firestore/documentReference/1.0",_n._jsonSchema={type:Rn("string",_n._jsonSchemaVersion),referencePath:Rn("string")};class nl extends xl{constructor(e,n,r){super(e,n,Lj(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new qe(e))}withConverter(e){return new nl(this.firestore,e,this._path)}}function yt(t,e,...n){if(t=Ft(t),XM("collection","path",e),t instanceof Ey){const r=$t.fromString(e,...n);return j2(r),new nl(t,null,r)}{if(!(t instanceof _n||t instanceof nl))throw new Ae(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return j2(r),new nl(t.firestore,null,r)}}function tt(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=Ij.newId()),XM("doc","path",e),t instanceof Ey){const r=$t.fromString(e,...n);return w2(r),new _n(t,null,new qe(r))}{if(!(t instanceof _n||t instanceof nl))throw new Ae(ve.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return w2(r),new _n(t.firestore,t instanceof nl?t.converter:null,new qe(r))}}const dO="AsyncQueue";class fO{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Hz(this,"async_queue_retry"),this._c=()=>{const r=z_();r&&Te(dO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=z_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=z_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ps;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!wd(e))throw e;Te(dO,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ms("INTERNAL UNHANDLED ERROR: ",hO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Xj.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Ge(47125,{Pc:hO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function hO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class wl extends Ey{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new fO,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fO(e),this._firestoreClient=void 0,await e}}}function fK(t,e){const n=typeof t=="object"?t:wj(),r=typeof t=="string"?t:Yg,i=oy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=eM("firestore");s&&dK(i,...s)}return i}function Ny(t){if(t._terminated)throw new Ae(ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||hK(t),t._firestoreClient}function hK(t){const e=t._freezeSettings(),n=uK(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new rK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ki(hr.fromBase64String(e))}catch(n){throw new Ae(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ki(hr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ki._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yh(e,ki._jsonSchema))return ki.fromBase64String(e.bytes)}}ki._jsonSchemaVersion="firestore/bytes/1.0",ki._jsonSchema={type:Rn("string",ki._jsonSchemaVersion),bytes:Rn("string")};class Sy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tm{constructor(e){this._methodName=e}}class Ka{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ka._jsonSchemaVersion}}static fromJSON(e){if(Yh(e,Ka._jsonSchema))return new Ka(e.latitude,e.longitude)}}Ka._jsonSchemaVersion="firestore/geoPoint/1.0",Ka._jsonSchema={type:Rn("string",Ka._jsonSchemaVersion),latitude:Rn("number"),longitude:Rn("number")};class sa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:sa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yh(e,sa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new sa(e.vectorValues);throw new Ae(ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sa._jsonSchemaVersion="firestore/vectorValue/1.0",sa._jsonSchema={type:Rn("string",sa._jsonSchemaVersion),vectorValues:Rn("object")};const mK=/^__.*__$/;class pK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _l(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xh(e,this.data,n,this.fieldTransforms)}}class p4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _l(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function g4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{dataSource:t})}}class nE{constructor(e,n,r,i,s,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new nE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return iv(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(g4(this.dataSource)&&mK.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class gK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xy(e)}createContext(e,n,r,i=!1){return new nE({dataSource:e,methodName:n,targetDoc:r,path:dr.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nm(t){const e=t._freezeSettings(),n=xy(t._databaseId);return new gK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rE(t,e,n,r,i,s={}){const c=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);sE("Data must be an object, but it was:",c,r);const u=b4(r,c);let f,h;if(s.merge)f=new ui(c.fieldMask),h=c.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const y=wc(e,g,n);if(!c.contains(y))throw new Ae(ve.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);w4(p,y)||p.push(y)}f=new ui(p),h=c.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,h=c.fieldTransforms;return new pK(new Gr(u),f,h)}class Ay extends tm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ay}}class iE extends tm{_toFieldTransform(e){return new Az(e.path,new wh)}isEqual(e){return e instanceof iE}}class aE extends tm{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new Nh(e.serializer,wz(e.serializer,this.Vc));return new Az(e.path,n)}isEqual(e){return e instanceof aE&&this.Vc===e.Vc}}function v4(t,e,n,r){const i=t.createContext(1,e,n);sE("Data must be an object, but it was:",i,r);const s=[],c=Gr.empty();bl(r,((f,h)=>{const p=x4(e,f,n);h=Ft(h);const g=i.childContextForFieldPath(p);if(h instanceof Ay)s.push(p);else{const y=rm(h,g);y!=null&&(s.push(p),c.set(p,y))}}));const u=new ui(s);return new p4(c,u,i.fieldTransforms)}function y4(t,e,n,r,i,s){const c=t.createContext(1,e,n),u=[wc(e,r,n)],f=[i];if(s.length%2!=0)throw new Ae(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)u.push(wc(e,s[y])),f.push(s[y+1]);const h=[],p=Gr.empty();for(let y=u.length-1;y>=0;--y)if(!w4(h,u[y])){const _=u[y];let E=f[y];E=Ft(E);const j=c.childContextForFieldPath(_);if(E instanceof Ay)h.push(_);else{const N=rm(E,j);N!=null&&(h.push(_),p.set(_,N))}}const g=new ui(h);return new p4(p,g,c.fieldTransforms)}function vK(t,e,n,r=!1){return rm(n,t.createContext(r?4:3,e))}function rm(t,e){if(_4(t=Ft(t)))return sE("Unsupported field value:",e,t),b4(t,e);if(t instanceof tm)return(function(r,i){if(!g4(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const s=[];let c=0;for(const u of r){let f=rm(u,i.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),c++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=it.fromDate(r);return{timestampValue:ev(i.serializer,s)}}if(r instanceof it){const s=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ev(i.serializer,s)}}if(r instanceof Ka)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ki)return{bytesValue:Rz(i.serializer,r._byteString)};if(r instanceof _n){const s=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(s))throw i.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Bj(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof sa)return(function(c,u){const f=c instanceof sa?c.toArray():c;return{mapValue:{fields:{[sz]:{stringValue:oz},[Xg]:{arrayValue:{values:f.map((p=>{if(typeof p!="number")throw u.createError("VectorValues must only contain numeric values.");return qj(u.serializer,p)}))}}}}}})(r,i);if(Uz(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${dy(r)}`)})(t,e)}function b4(t,e){const n={};return ez(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bl(t,((r,i)=>{const s=rm(i,e.childContextForField(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function _4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof Ka||t instanceof ki||t instanceof _n||t instanceof tm||t instanceof sa||Uz(t))}function sE(t,e,n){if(!_4(n)||!ZM(n)){const r=dy(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function wc(t,e,n){if((e=Ft(e))instanceof Sy)return e._internalPath;if(typeof e=="string")return x4(t,e);throw iv("Field path arguments must be of type string or ",t,!1,void 0,n)}const yK=new RegExp("[~\\*/\\[\\]]");function x4(t,e,n){if(e.search(yK)>=0)throw iv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sy(...e.split("."))._internalPath}catch{throw iv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function iv(t,e,n,r,i){const s=r&&!r.isEmpty(),c=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(s||c)&&(f+=" (found",s&&(f+=` in field ${r}`),c&&(f+=` in document ${i}`),f+=")"),new Ae(ve.INVALID_ARGUMENT,u+t+f)}function w4(t,e){return t.some((n=>n.isEqual(e)))}class bK{convertValue(e,n="none"){switch(cl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ll(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bl(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Xg].arrayValue?.values?.map((r=>bn(r.doubleValue)));return new sa(n)}convertGeoPoint(e){return new Ka(bn(e.latitude),bn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=my(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yh(e));default:return null}}convertTimestamp(e){const n=ol(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$t.fromString(e);Et(qz(r),9688,{name:e});const i=new bh(r.get(1),r.get(3)),s=new qe(r.popFirst(5));return i.isEqual(n)||Ms(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class j4 extends bK{constructor(e){super(),this.firestore=e}convertBytes(e){return new ki(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function tn(){return new iE("serverTimestamp")}function E4(t){return new aE("increment",t)}const mO="@firebase/firestore",pO="4.10.0";class N4{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _K(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(wc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _K extends N4{data(){return super.data()}}function xK(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oE{}class lE extends oE{}function Ht(t,e,...n){let r=[];e instanceof oE&&r.push(e),r=r.concat(n),(function(s){const c=s.filter((f=>f instanceof cE)).length,u=s.filter((f=>f instanceof Ty)).length;if(c>1||c>0&&u>0)throw new Ae(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Ty extends lE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ty(e,n,r)}_apply(e){const n=this._parse(e);return S4(e._query,n),new xl(e.firestore,e.converter,Q1(e._query,n))}_parse(e){const n=nm(e.firestore);return(function(s,c,u,f,h,p,g){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ae(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){vO(g,p);const E=[];for(const j of g)E.push(gO(f,s,j));y={arrayValue:{values:E}}}else y=gO(f,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||vO(g,p),y=vK(u,c,g,p==="in"||p==="not-in");return In.create(h,p,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function at(t,e,n){const r=e,i=wc("where",t);return Ty._create(i,r,n)}class cE extends oE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cE(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ua.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let c=i;const u=s.getFlattenedFilters();for(const f of u)S4(c,f),c=Q1(c,f)})(e._query,n),new xl(e.firestore,e.converter,Q1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class uE extends lE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new uE(e,n)}_apply(e){const n=(function(i,s,c){if(i.startAt!==null)throw new Ae(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ae(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xh(s,c)})(e._query,this._field,this._direction);return new xl(e.firestore,e.converter,WF(e._query,n))}}function Yr(t,e="asc"){const n=e,r=wc("orderBy",t);return uE._create(r,n)}class dE extends lE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new dE(e,n,r)}_apply(e){return new xl(e.firestore,e.converter,Jg(e._query,this._limit,this._limitType))}}function fl(t){return _F("limit",t),dE._create("limit",t,"F")}function gO(t,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new Ae(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pz(e)&&n.indexOf("/")!==-1)throw new Ae(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($t.fromString(n));if(!qe.isDocumentKey(r))throw new Ae(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return P2(t,new qe(r))}if(n instanceof _n)return P2(t,n._key);throw new Ae(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dy(n)}.`)}function vO(t,e){if(!Array.isArray(t)||t.length===0)throw new Ae(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function S4(t,e){const n=(function(i,s){for(const c of i)for(const u of c.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ae(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function fE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Jf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uc extends N4{constructor(e,n,r,i,s,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=uc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}uc._jsonSchemaVersion="firestore/documentSnapshot/1.0",uc._jsonSchema={type:Rn("string",uc._jsonSchemaVersion),bundleSource:Rn("string","DocumentSnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class Pg extends uc{data(e={}){return super.data(e)}}class Yu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Jf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Pg(this._firestore,this._userDataWriter,r.key,r,new Jf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((u=>{const f=new Pg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Jf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const f=new Pg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Jf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return u.type!==0&&(h=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),p=c.indexOf(u.doc.key)),{type:wK(u.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Yu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ij.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function wK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:t})}}Yu._jsonSchemaVersion="firestore/querySnapshot/1.0",Yu._jsonSchema={type:Rn("string",Yu._jsonSchemaVersion),bundleSource:Rn("string","QuerySnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class jK{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=nm(e)}set(e,n,r){this._verifyNotCommitted();const i=q_(e,this._firestore),s=fE(i.converter,n,r),c=rE(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(c.toMutation(i._key,Cr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=q_(e,this._firestore);let c;return c=typeof(n=Ft(n))=="string"||n instanceof Sy?y4(this._dataReader,"WriteBatch.update",s._key,n,r,i):v4(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(c.toMutation(s._key,Cr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=q_(e,this._firestore);return this._mutations=this._mutations.concat(new by(n._key,Cr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function q_(t,e){if((t=Ft(t)).firestore!==e)throw new Ae(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function zi(t){t=Mi(t,_n);const e=Mi(t.firestore,wl),n=Ny(e);return sK(n,t._key).then((r=>NK(e,t,r)))}function Gt(t){t=Mi(t,xl);const e=Mi(t.firestore,wl),n=Ny(e),r=new j4(e);return xK(t._query),oK(n,t._query).then((i=>new Yu(e,r,t,i)))}function EK(t,e,n){t=Mi(t,_n);const r=Mi(t.firestore,wl),i=fE(t.converter,e,n),s=nm(r);return im(r,[rE(s,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Cr.none())])}function Mn(t,e,n,...r){t=Mi(t,_n);const i=Mi(t.firestore,wl),s=nm(i);let c;return c=typeof(e=Ft(e))=="string"||e instanceof Sy?y4(s,"updateDoc",t._key,e,n,r):v4(s,"updateDoc",t._key,e),im(i,[c.toMutation(t._key,Cr.exists(!0))])}function Cy(t){return im(Mi(t.firestore,wl),[new by(t._key,Cr.none())])}function ma(t,e){const n=Mi(t.firestore,wl),r=tt(t),i=fE(t.converter,e),s=nm(t.firestore);return im(n,[rE(s,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Cr.exists(!1))]).then((()=>r))}function im(t,e){const n=Ny(t);return lK(n,e)}function NK(t,e,n){const r=n.docs.get(e._key),i=new j4(t);return new uc(t,i,e._key,r,new Jf(n.hasPendingWrites,n.fromCache),e.converter)}function Sh(t){return t=Mi(t,wl),Ny(t),new jK(t,(e=>im(t,e)))}(function(e,n=!0){lF(kc),vc(new al("firestore",((r,{instanceIdentifier:i,options:s})=>{const c=r.getProvider("app").getImmediate(),u=new wl(new dF(r.getProvider("auth-internal")),new mF(c,r.getProvider("app-check-internal")),IF(c,i),c);return s={useFetchStreams:n,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),Ba(mO,pO,e),Ba(mO,pO,"esm2020")})();var SK="firebase",AK="12.8.0";Ba(SK,AK,"app");const A4="firebasestorage.googleapis.com",T4="storageBucket",TK=120*1e3,CK=600*1e3;class mn extends ts{constructor(e,n,r=0){super(U_(e),`Firebase Storage: ${n} (${U_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return U_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var hn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(hn||(hn={}));function U_(t){return"storage/"+t}function hE(){const t="An unknown error occurred, please check the error payload for server response.";return new mn(hn.UNKNOWN,t)}function OK(t){return new mn(hn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function PK(t){return new mn(hn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function IK(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mn(hn.UNAUTHENTICATED,t)}function RK(){return new mn(hn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function kK(t){return new mn(hn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function DK(){return new mn(hn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function MK(){return new mn(hn.CANCELED,"User canceled the upload/download.")}function zK(t){return new mn(hn.INVALID_URL,"Invalid URL '"+t+"'.")}function LK(t){return new mn(hn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function qK(){return new mn(hn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+T4+"' property when initializing the app?")}function UK(){return new mn(hn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function VK(){return new mn(hn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function BK(t){return new mn(hn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function iw(t){return new mn(hn.INVALID_ARGUMENT,t)}function C4(){return new mn(hn.APP_DELETED,"The Firebase app was deleted.")}function $K(t){return new mn(hn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function uh(t,e){return new mn(hn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function zf(t){throw new mn(hn.INTERNAL_ERROR,"Internal error: "+t)}class di{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=di.makeFromUrl(e,n)}catch{return new di(e,"")}if(r.path==="")return r;throw LK(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const c="(/(.*))?$",u=new RegExp("^gs://"+i+c,"i"),f={bucket:1,path:3};function h(O){O.path_=decodeURIComponent(O.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",_=new RegExp(`^https?://${g}/${p}/b/${i}/o${y}`,"i"),E={bucket:1,path:3},j=n===A4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",A=new RegExp(`^https?://${j}/${i}/${N}`,"i"),I=[{regex:u,indices:f,postModify:s},{regex:_,indices:E,postModify:h},{regex:A,indices:{bucket:1,path:2},postModify:h}];for(let O=0;O<I.length;O++){const V=I[O],B=V.regex.exec(e);if(B){const k=B[V.indices.bucket];let C=B[V.indices.path];C||(C=""),r=new di(k,C),V.postModify(r);break}}if(r==null)throw zK(e);return r}}class FK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function HK(t,e,n){let r=1,i=null,s=null,c=!1,u=0;function f(){return u===2}let h=!1;function p(...N){h||(h=!0,e.apply(null,N))}function g(N){i=setTimeout(()=>{i=null,t(_,f())},N)}function y(){s&&clearTimeout(s)}function _(N,...A){if(h){y();return}if(N){y(),p.call(null,N,...A);return}if(f()||c){y(),p.call(null,N,...A);return}r<64&&(r*=2);let I;u===1?(u=2,I=0):I=(r+Math.random())*1e3,g(I)}let E=!1;function j(N){E||(E=!0,y(),!h&&(i!==null?(N||(u=2),clearTimeout(i),g(0)):N||(u=1)))}return g(0),s=setTimeout(()=>{c=!0,j(!0)},n),j}function GK(t){t(!1)}function KK(t){return t!==void 0}function QK(t){return typeof t=="object"&&!Array.isArray(t)}function mE(t){return typeof t=="string"||t instanceof String}function yO(t){return pE()&&t instanceof Blob}function pE(){return typeof Blob<"u"}function bO(t,e,n,r){if(r<e)throw iw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw iw(`Invalid value for '${t}'. Expected ${n} or less.`)}function Oy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function O4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var dc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(dc||(dc={}));function WK(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}class YK{constructor(e,n,r,i,s,c,u,f,h,p,g,y=!0,_=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=u,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=y,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,j)=>{this.resolve_=E,this.reject_=j,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Xp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const c=u=>{const f=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const u=s.getErrorCode()===dc.NO_ERROR,f=s.getStatus();if(!u||WK(f,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===dc.ABORT;r(!1,new Xp(!1,null,p));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new Xp(h,s))})},n=(r,i)=>{const s=this.resolve_,c=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());KK(f)?s(f):s()}catch(f){c(f)}else if(u!==null){const f=hE();f.serverResponse=u.getErrorText(),this.errorCallback_?c(this.errorCallback_(u,f)):c(f)}else if(i.canceled){const f=this.appDelete_?C4():MK();c(f)}else{const f=DK();c(f)}};this.canceled_?n(!1,new Xp(!1,null,!0)):this.backoffId_=HK(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&GK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function XK(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function ZK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function eQ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function tQ(t,e,n,r,i,s,c=!0,u=!1){const f=O4(t.urlParams),h=t.url+f,p=Object.assign({},t.headers);return JK(p,e),XK(p,n),ZK(p,s),eQ(p,r),new YK(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,c,u)}function nQ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function rQ(...t){const e=nQ();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(pE())return new Blob(t);throw new mn(hn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function iQ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function aQ(t){if(typeof atob>"u")throw BK("base-64");return atob(t)}const qa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class V_{constructor(e,n){this.data=e,this.contentType=n||null}}function sQ(t,e){switch(t){case qa.RAW:return new V_(P4(e));case qa.BASE64:case qa.BASE64URL:return new V_(I4(t,e));case qa.DATA_URL:return new V_(lQ(e),cQ(e))}throw hE()}function P4(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,c=t.charCodeAt(++n);r=65536|(s&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function oQ(t){let e;try{e=decodeURIComponent(t)}catch{throw uh(qa.DATA_URL,"Malformed data URL.")}return P4(e)}function I4(t,e){switch(t){case qa.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw uh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case qa.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw uh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=aQ(e)}catch(i){throw i.message.includes("polyfill")?i:uh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class R4{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw uh(qa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=uQ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function lQ(t){const e=new R4(t);return e.base64?I4(qa.BASE64,e.rest):oQ(e.rest)}function cQ(t){return new R4(t).contentType}function uQ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class Ko{constructor(e,n){let r=0,i="";yO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(yO(this.data_)){const r=this.data_,i=iQ(r,e,n);return i===null?null:new Ko(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ko(r,!0)}}static getBlob(...e){if(pE()){const n=e.map(r=>r instanceof Ko?r.data_:r);return new Ko(rQ.apply(null,n))}else{const n=e.map(c=>mE(c)?sQ(qa.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(c=>{for(let u=0;u<c.length;u++)i[s++]=c[u]}),new Ko(i,!0)}}uploadData(){return this.data_}}function k4(t){let e;try{e=JSON.parse(t)}catch{return null}return QK(e)?e:null}function dQ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function fQ(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function D4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function hQ(t,e){return e}class Sr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||hQ}}let Zp=null;function mQ(t){return!mE(t)||t.length<2?t:D4(t)}function M4(){if(Zp)return Zp;const t=[];t.push(new Sr("bucket")),t.push(new Sr("generation")),t.push(new Sr("metageneration")),t.push(new Sr("name","fullPath",!0));function e(s,c){return mQ(c)}const n=new Sr("name");n.xform=e,t.push(n);function r(s,c){return c!==void 0?Number(c):c}const i=new Sr("size");return i.xform=r,t.push(i),t.push(new Sr("timeCreated")),t.push(new Sr("updated")),t.push(new Sr("md5Hash",null,!0)),t.push(new Sr("cacheControl",null,!0)),t.push(new Sr("contentDisposition",null,!0)),t.push(new Sr("contentEncoding",null,!0)),t.push(new Sr("contentLanguage",null,!0)),t.push(new Sr("contentType",null,!0)),t.push(new Sr("metadata","customMetadata",!0)),Zp=t,Zp}function pQ(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new di(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function gQ(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const c=n[s];r[c.local]=c.xform(r,e[c.server])}return pQ(r,t),r}function z4(t,e,n){const r=k4(e);return r===null?null:gQ(t,r,n)}function vQ(t,e,n,r){const i=k4(e);if(i===null||!mE(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const c=encodeURIComponent;return s.split(",").map(h=>{const p=t.bucket,g=t.fullPath,y="/b/"+c(p)+"/o/"+c(g),_=Oy(y,n,r),E=O4({alt:"media",token:h});return _+E})[0]}function yQ(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class gE{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function L4(t){if(!t)throw hE()}function bQ(t,e){function n(r,i){const s=z4(t,i,e);return L4(s!==null),s}return n}function _Q(t,e){function n(r,i){const s=z4(t,i,e);return L4(s!==null),vQ(s,i,t.host,t._protocol)}return n}function q4(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=RK():i=IK():n.getStatus()===402?i=PK(t.bucket):n.getStatus()===403?i=kK(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function U4(t){const e=q4(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=OK(t.path)),s.serverResponse=i.serverResponse,s}return n}function xQ(t,e,n){const r=e.fullServerUrl(),i=Oy(r,t.host,t._protocol),s="GET",c=t.maxOperationRetryTime,u=new gE(i,s,_Q(t,n),c);return u.errorHandler=U4(e),u}function wQ(t,e){const n=e.fullServerUrl(),r=Oy(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function c(f,h){}const u=new gE(r,i,c,s);return u.successCodes=[200,204],u.errorHandler=U4(e),u}function jQ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function EQ(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=jQ(null,e)),r}function NQ(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function u(){let I="";for(let O=0;O<2;O++)I=I+Math.random().toString().slice(2);return I}const f=u();c["Content-Type"]="multipart/related; boundary="+f;const h=EQ(e,r,i),p=yQ(h,n),g="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+h.contentType+`\r
\r
`,y=`\r
--`+f+"--",_=Ko.getBlob(g,r,y);if(_===null)throw UK();const E={name:h.fullPath},j=Oy(s,t.host,t._protocol),N="POST",A=t.maxUploadRetryTime,D=new gE(j,N,bQ(t,n),A);return D.urlParams=E,D.headers=c,D.body=_.uploadData(),D.errorHandler=q4(e),D}class SQ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=dc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=dc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=dc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw zf("cannot .send() more than once");if(vl(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const c in s)s.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,s[c].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class AQ extends SQ{initXhr(){this.xhr_.responseType="text"}}function vE(){return new AQ}class jc{constructor(e,n){this._service=e,n instanceof di?this._location=n:this._location=di.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new jc(e,n)}get root(){const e=new di(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return D4(this._location.path)}get storage(){return this._service}get parent(){const e=dQ(this._location.path);if(e===null)return null;const n=new di(this._location.bucket,e);return new jc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw $K(e)}}function TQ(t,e,n){t._throwIfRoot("uploadBytes");const r=NQ(t.storage,t._location,M4(),new Ko(e,!0),n);return t.storage.makeRequestWithTokens(r,vE).then(i=>({metadata:i,ref:t}))}function CQ(t){t._throwIfRoot("getDownloadURL");const e=xQ(t.storage,t._location,M4());return t.storage.makeRequestWithTokens(e,vE).then(n=>{if(n===null)throw VK();return n})}function OQ(t){t._throwIfRoot("deleteObject");const e=wQ(t.storage,t._location);return t.storage.makeRequestWithTokens(e,vE)}function PQ(t,e){const n=fQ(t._location.path,e),r=new di(t._location.bucket,n);return new jc(t.storage,r)}function IQ(t){return/^[A-Za-z]+:\/\//.test(t)}function RQ(t,e){return new jc(t,e)}function V4(t,e){if(t instanceof yE){const n=t;if(n._bucket==null)throw qK();const r=new jc(n,n._bucket);return e!=null?V4(r,e):r}else return e!==void 0?PQ(t,e):t}function kQ(t,e){if(e&&IQ(e)){if(t instanceof yE)return RQ(t,e);throw iw("To use ref(service, url), the first argument must be a Storage instance.")}else return V4(t,e)}function _O(t,e){const n=e?.[T4];return n==null?null:di.makeFromBucketSpec(n,t)}function DQ(t,e,n,r={}){t.host=`${e}:${n}`;const i=vl(e);i&&(yj(`https://${t.host}/b`),bj("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:rM(s,t.app.options.projectId))}class yE{constructor(e,n,r,i,s,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=c,this._bucket=null,this._host=A4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=TK,this._maxUploadRetryTime=CK,this._requests=new Set,i!=null?this._bucket=di.makeFromBucketSpec(i,this._host):this._bucket=_O(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=di.makeFromBucketSpec(this._url,e):this._bucket=_O(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jc(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new FK(C4());{const c=tQ(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const xO="@firebase/storage",wO="0.14.0";const B4="storage";function MQ(t,e,n){return t=Ft(t),TQ(t,e,n)}function zQ(t){return t=Ft(t),CQ(t)}function LQ(t){return t=Ft(t),OQ(t)}function jO(t,e){return t=Ft(t),kQ(t,e)}function qQ(t=wj(),e){t=Ft(t);const r=oy(t,B4).getImmediate({identifier:e}),i=eM("storage");return i&&UQ(r,...i),r}function UQ(t,e,n,r={}){DQ(t,e,n,r)}function VQ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new yE(n,r,i,e,kc)}function BQ(){vc(new al(B4,VQ,"PUBLIC").setMultipleInstances(!0)),Ba(xO,wO,""),Ba(xO,wO,"esm2020")}BQ();const $Q={apiKey:"AIzaSyDgk_1graNBFkIURTJnyLZTZ1nyxi7slUo",authDomain:"pedaclic.firebaseapp.com",projectId:"pedaclic",storageBucket:"pedaclic.firebasestorage.app",messagingSenderId:"863649621890",appId:"1:863649621890:web:6ab56a8c8db111e3a9119b"},bE=sM($Q),Jp=sF(bE),Se=fK(bE),EO=qQ(bE),NO={"auth/email-already-in-use":"Cette adresse email est dj utilise.","auth/invalid-email":"Adresse email invalide.","auth/operation-not-allowed":"Opration non autorise.","auth/weak-password":"Le mot de passe doit contenir au moins 6 caractres.","auth/user-disabled":"Ce compte a t dsactiv.","auth/user-not-found":"Aucun compte associ  cette adresse email.","auth/wrong-password":"Mot de passe incorrect.","auth/too-many-requests":"Trop de tentatives. Veuillez ressayer plus tard.","auth/network-request-failed":"Erreur de connexion. Vrifiez votre connexion internet.",default:"Une erreur est survenue. Veuillez ressayer."},SO=t=>NO[t]||NO.default,$4=w.createContext(null),FQ=({children:t})=>{const[e,n]=w.useState(null),[r,i]=w.useState(!0),s=async y=>{try{const _=await zi(tt(Se,"users",y));if(_.exists()){const E=_.data();return{uid:y,email:E.email,displayName:E.displayName,role:E.role,isPremium:E.isPremium||!1,subscriptionEnd:E.subscriptionEnd?.toDate()||null,photoURL:E.photoURL,createdAt:E.createdAt?.toDate()||new Date,lastLogin:E.lastLogin?.toDate()}}return null}catch(_){return console.error("Erreur lors de la rcupration des donnes utilisateur:",_),null}},c=async(y,_)=>{const E=tt(Se,"users",y.uid);(await zi(E)).exists()?await Mn(E,{lastLogin:tn()}):await EK(E,{email:y.email,displayName:y.displayName||_?.displayName||"",role:_?.role||"eleve",isPremium:!1,photoURL:y.photoURL,createdAt:tn(),lastLogin:tn()})},u=async(y,_)=>{try{const E=await $7(Jp,y,_);await c(E.user)}catch(E){throw new Error(SO(E.code))}},f=async y=>{try{if(y.password!==y.confirmPassword)throw new Error("Les mots de passe ne correspondent pas.");const _=await B7(Jp,y.email,y.password);await H7(_.user,{displayName:y.displayName}),await c(_.user,{displayName:y.displayName,role:y.role})}catch(_){throw _.message?_:new Error(SO(_.code))}},h=async()=>{try{await W7(Jp),n(null)}catch{throw new Error("Erreur lors de la dconnexion.")}},p=async y=>{if(!e)throw new Error("Aucun utilisateur connect.");try{const _=tt(Se,"users",e.uid);await Mn(_,{...y,updatedAt:tn()}),n(E=>E?{...E,...y}:null)}catch{throw new Error("Erreur lors de la mise  jour du profil.")}};w.useEffect(()=>{const y=Q7(Jp,async _=>{if(_){const E=await s(_.uid);n(E)}else n(null);i(!1)});return()=>y()},[]);const g={currentUser:e,loading:r,login:u,register:f,logout:h,updateProfile:p};return o.jsx($4.Provider,{value:g,children:r?o.jsxs("div",{className:"loading-container",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Chargement..."})]}):t})},Zn=()=>{const t=w.useContext($4);if(!t)throw new Error("useAuth doit tre utilis  l'intrieur d'un AuthProvider");return t},_E=({children:t,allowedRoles:e,requirePremium:n=!1})=>{const{currentUser:r,loading:i}=Zn();return i?o.jsxs("div",{className:"loading-container",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Vrification des autorisations..."})]}):r?e&&!e.includes(r.role)?o.jsxs("div",{className:"error-container",children:[o.jsx("h2",{children:"Accs non autoris"}),o.jsx("p",{children:"Vous n'avez pas les permissions ncessaires pour accder  cette page."}),o.jsx("a",{href:"/",className:"btn btn-primary",children:"Retour  l'accueil"})]}):n&&!r.isPremium?o.jsxs("div",{className:"error-container premium-required",children:[o.jsx("h2",{children:"Contenu Premium"}),o.jsx("p",{children:"Cette ressource est rserve aux abonns Premium."}),o.jsxs("div",{className:"premium-cta",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"2 000 FCFA/mois"})," ou ",o.jsx("strong",{children:"20 000 FCFA/an"})]}),o.jsx("a",{href:"/premium",className:"btn btn-premium",children:"Devenir Premium"})]})]}):o.jsx(o.Fragment,{children:t}):o.jsxs("div",{className:"error-container",children:[o.jsx("h2",{children:"Accs refus"}),o.jsx("p",{children:"Vous devez tre connect pour accder  cette page."}),o.jsx("a",{href:"/connexion",className:"btn btn-primary",children:"Se connecter"})]})},zo=({children:t})=>o.jsx(_E,{allowedRoles:["admin"],children:t}),HQ=({children:t})=>o.jsx(_E,{allowedRoles:["admin","prof"],children:t});const GQ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KQ=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),AO=t=>{const e=KQ(t);return e.charAt(0).toUpperCase()+e.slice(1)},F4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),QQ=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var WQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const YQ=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:c,...u},f)=>w.createElement("svg",{ref:f,...WQ,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:F4("lucide",i),...!s&&!QQ(u)&&{"aria-hidden":"true"},...u},[...c.map(([h,p])=>w.createElement(h,p)),...Array.isArray(s)?s:[s]]));const Me=(t,e)=>{const n=w.forwardRef(({className:r,...i},s)=>w.createElement(YQ,{ref:s,iconNode:e,className:F4(`lucide-${GQ(AO(t))}`,`lucide-${t}`,r),...i}));return n.displayName=AO(t),n};const XQ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],B_=Me("arrow-left",XQ);const ZQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],tc=Me("arrow-right",ZQ);const JQ=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ec=Me("award",JQ);const eW=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],oa=Me("book-open",eW);const tW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$_=Me("calendar",tW);const nW=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Xu=Me("chart-column",nW);const rW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],av=Me("chevron-down",rW);const iW=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],aw=Me("chevron-up",iW);const aW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],sv=Me("circle-alert",aW);const sW=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yn=Me("circle-check-big",sW);const oW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ig=Me("circle-question-mark",oW);const lW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],sw=Me("circle-x",lW);const cW=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],od=Me("clock",cW);const uW=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],dW=Me("copy",uW);const fW=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],eh=Me("crown",fW);const hW=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ow=Me("eye",hW);const mW=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],pW=Me("facebook",mW);const gW=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vW=Me("file-text",gW);const yW=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],H4=Me("funnel",yW);const bW=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],ld=Me("graduation-cap",bW);const _W=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],xW=Me("grip-vertical",_W);const wW=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],jW=Me("heart",wW);const EW=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],lw=Me("house",EW);const NW=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],SW=Me("instagram",NW);const AW=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],TO=Me("layout-dashboard",AW);const TW=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],CW=Me("linkedin",TW);const OW=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cw=Me("lock",OW);const PW=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],CO=Me("log-out",PW);const IW=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],RW=Me("mail",IW);const kW=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],DW=Me("map-pin",kW);const MW=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],zW=Me("menu",MW);const LW=[["path",{d:"M5 12h14",key:"1ays0h"}]],qW=Me("minus",LW);const UW=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],VW=Me("pen-line",UW);const BW=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],$W=Me("phone",BW);const FW=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],dh=Me("play",FW);const HW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],eg=Me("plus",HW);const GW=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],KW=Me("refresh-cw",GW);const QW=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],WW=Me("rotate-ccw",QW);const YW=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],XW=Me("save",YW);const ZW=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],G4=Me("search",ZW);const JW=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eY=Me("settings",JW);const tY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xE=Me("shield",tY);const nY=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],fi=Me("star",nY);const rY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],OO=Me("target",rY);const iY=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],aY=Me("timer",iY);const sY=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],PO=Me("trash-2",sY);const oY=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],lY=Me("trending-down",oY);const cY=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],uw=Me("trending-up",cY);const uY=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],K4=Me("trophy",uY);const dY=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],fY=Me("twitter",dY);const hY=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mY=Me("user-check",hY);const pY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],gY=Me("user-x",pY);const vY=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yY=Me("user",vY);const bY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Rg=Me("users",bY);const _Y=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fc=Me("x",_Y);const xY=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],wY=Me("youtube",xY);const jY=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Q4=Me("zap",jY),EY=()=>{const{currentUser:t,logout:e,loading:n}=Zn(),r=Vi(),i=gl(),[s,c]=w.useState(!1),[u,f]=w.useState(!1),[h,p]=w.useState(!1),g=w.useRef(null),y=[{path:"/",label:"Accueil",icon:o.jsx(lw,{size:18})},{path:"/disciplines",label:"Disciplines",icon:o.jsx(oa,{size:18})},{path:"/quiz",label:"Quiz",icon:o.jsx(ld,{size:18}),requireAuth:!0,requirePremium:!0},{path:t?.role==="eleve"?"/eleve/dashboard":t?.role==="prof"?"/prof/dashboard":"/admin",label:"Tableau de bord",icon:o.jsx(TO,{size:18}),requireAuth:!0},{path:"/parent/dashboard",label:"Espace Parent",icon:o.jsx(Xu,{size:18}),requireAuth:!0,requireRole:["parent"]}];w.useEffect(()=>{const O=V=>{g.current&&!g.current.contains(V.target)&&f(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]),w.useEffect(()=>{c(!1),f(!1)},[i.pathname]),w.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]);const _=async()=>{try{p(!0),await e(),f(!1),r("/")}catch(O){console.error("Erreur lors de la dconnexion:",O)}finally{p(!1)}},E=()=>{c(!s)},j=()=>{f(!u)},N=O=>!(O.requireAuth&&!t||O.requirePremium&&t&&!t.isPremium||O.requireRole&&t&&!O.requireRole.includes(t.role)),A=O=>O==="/"?i.pathname==="/":i.pathname.startsWith(O),D=O=>({admin:"Administrateur",prof:"Professeur",eleve:"lve",parent:"Parent"})[O]||O,I=()=>t?t.displayName?t.displayName.split(" ").map(V=>V[0]).join("").toUpperCase().slice(0,2):t.email[0].toUpperCase():"?";return o.jsxs("header",{className:"header",children:[o.jsxs("div",{className:"header__container",children:[o.jsxs(Xe,{to:"/",className:"header__logo",children:[o.jsx(ld,{className:"header__logo-icon",size:32}),o.jsxs("div",{className:"header__logo-text",children:[o.jsx("span",{className:"header__logo-name",children:"PedaClic"}),o.jsx("span",{className:"header__logo-tagline",children:"L'cole en un clic"})]})]}),o.jsx("nav",{className:"header__nav header__nav--desktop",children:o.jsx("ul",{className:"header__nav-list",children:y.map(O=>N(O)&&o.jsx("li",{className:"header__nav-item",children:o.jsxs(Xe,{to:O.path,className:`header__nav-link ${A(O.path)?"header__nav-link--active":""}`,children:[O.icon,o.jsx("span",{children:O.label}),O.requirePremium&&o.jsx(eh,{size:14,className:"header__premium-badge"})]})},O.path))})}),o.jsxs("div",{className:"header__actions",children:[n?o.jsx("div",{className:"header__loading",children:o.jsx("div",{className:"header__spinner"})}):t?o.jsxs("div",{className:"header__user",ref:g,children:[t.isPremium&&o.jsxs("span",{className:"header__premium-tag",children:[o.jsx(eh,{size:14}),"Premium"]}),o.jsxs("button",{className:"header__user-button",onClick:j,"aria-expanded":u,"aria-haspopup":"true",children:[o.jsx("div",{className:"header__avatar",children:t.photoURL?o.jsx("img",{src:t.photoURL,alt:t.displayName||"Avatar",className:"header__avatar-img"}):o.jsx("span",{className:"header__avatar-initials",children:I()})}),o.jsx("span",{className:"header__user-name",children:t.displayName||t.email.split("@")[0]}),o.jsx(av,{size:16,className:`header__chevron ${u?"header__chevron--open":""}`})]}),u&&o.jsxs("div",{className:"header__dropdown",children:[o.jsxs("div",{className:"header__dropdown-header",children:[o.jsx("p",{className:"header__dropdown-email",children:t.email}),o.jsx("span",{className:`header__dropdown-role header__dropdown-role--${t.role}`,children:D(t.role)})]}),o.jsx("div",{className:"header__dropdown-divider"}),o.jsxs("nav",{className:"header__dropdown-nav",children:[o.jsxs(Xe,{to:t.role==="eleve"?"/eleve/dashboard":t.role==="prof"?"/prof/dashboard":"/admin",className:"header__dropdown-link",children:[o.jsx(TO,{size:18}),o.jsx("span",{children:"Tableau de bord"})]}),t.role==="eleve"&&o.jsxs(Xe,{to:"/eleve/suivi",className:"header__dropdown-link",children:[o.jsx(Xu,{size:18}),o.jsx("span",{children:"Mes points  amliorer"})]}),t.role==="parent"&&o.jsxs(Xe,{to:"/parent/dashboard",className:"header__dropdown-link",children:[o.jsx(Xu,{size:18}),o.jsx("span",{children:"Espace Parent"})]}),o.jsxs(Xe,{to:"/profil",className:"header__dropdown-link",children:[o.jsx(yY,{size:18}),o.jsx("span",{children:"Mon profil"})]}),t.role==="admin"&&o.jsxs(Xe,{to:"/admin",className:"header__dropdown-link",children:[o.jsx(eY,{size:18}),o.jsx("span",{children:"Administration"})]}),!t.isPremium&&o.jsxs(Xe,{to:"/premium",className:"header__dropdown-link header__dropdown-link--premium",children:[o.jsx(eh,{size:18}),o.jsx("span",{children:"Passer Premium"})]})]}),o.jsx("div",{className:"header__dropdown-divider"}),o.jsxs("button",{className:"header__dropdown-logout",onClick:_,disabled:h,children:[o.jsx(CO,{size:18}),o.jsx("span",{children:h?"Dconnexion...":"Se dconnecter"})]})]})]}):o.jsxs("div",{className:"header__auth-buttons",children:[o.jsx(Xe,{to:"/connexion",className:"header__btn header__btn--outline",children:"Connexion"}),o.jsx(Xe,{to:"/inscription",className:"header__btn header__btn--primary",children:"S'inscrire"})]}),o.jsx("button",{className:"header__mobile-toggle",onClick:E,"aria-label":s?"Fermer le menu":"Ouvrir le menu","aria-expanded":s,children:s?o.jsx(fc,{size:24}):o.jsx(zW,{size:24})})]})]}),o.jsxs("div",{className:`header__mobile-menu ${s?"header__mobile-menu--open":""}`,children:[o.jsx("div",{className:"header__mobile-overlay",onClick:()=>c(!1)}),o.jsxs("div",{className:"header__mobile-content",children:[o.jsx("nav",{className:"header__mobile-nav",children:o.jsx("ul",{className:"header__mobile-list",children:y.map(O=>N(O)&&o.jsx("li",{className:"header__mobile-item",children:o.jsxs(Xe,{to:O.path,className:`header__mobile-link ${A(O.path)?"header__mobile-link--active":""}`,children:[O.icon,o.jsx("span",{children:O.label}),O.requirePremium&&o.jsx(eh,{size:14,className:"header__premium-badge"})]})},O.path))})}),!t&&o.jsxs("div",{className:"header__mobile-auth",children:[o.jsx(Xe,{to:"/connexion",className:"header__btn header__btn--outline header__btn--block",children:"Connexion"}),o.jsx(Xe,{to:"/inscription",className:"header__btn header__btn--primary header__btn--block",children:"S'inscrire"})]}),t&&o.jsxs("div",{className:"header__mobile-user",children:[o.jsxs("div",{className:"header__mobile-user-info",children:[o.jsx("div",{className:"header__avatar header__avatar--large",children:t.photoURL?o.jsx("img",{src:t.photoURL,alt:t.displayName||"Avatar",className:"header__avatar-img"}):o.jsx("span",{className:"header__avatar-initials",children:I()})}),o.jsxs("div",{className:"header__mobile-user-details",children:[o.jsx("p",{className:"header__mobile-user-name",children:t.displayName||t.email.split("@")[0]}),o.jsx("p",{className:"header__mobile-user-email",children:t.email})]})]}),o.jsxs("button",{className:"header__mobile-logout",onClick:_,disabled:h,children:[o.jsx(CO,{size:18}),o.jsx("span",{children:h?"Dconnexion...":"Se dconnecter"})]})]})]})]})]})},NY=()=>{const t=new Date().getFullYear(),e=[{label:"Accueil",path:"/"},{label:"Disciplines",path:"/disciplines"},{label:"Quiz Premium",path:"/quiz"},{label:"Tarifs",path:"/premium"},{label:"Tableau de bord",path:"/dashboard"}],n=[{label:"Cours en ligne",path:"/disciplines"},{label:"Exercices corrigs",path:"/disciplines"},{label:"Annales examens",path:"/disciplines"},{label:"Fiches de rvision",path:"/disciplines"}],r=[{name:"Facebook",url:"https://facebook.com/pedaclic",icon:o.jsx(pW,{size:20})},{name:"Twitter",url:"https://twitter.com/pedaclic",icon:o.jsx(fY,{size:20})},{name:"Instagram",url:"https://instagram.com/pedaclic",icon:o.jsx(SW,{size:20})},{name:"LinkedIn",url:"https://linkedin.com/company/pedaclic",icon:o.jsx(CW,{size:20})},{name:"YouTube",url:"https://youtube.com/@pedaclic",icon:o.jsx(wY,{size:20})}];return o.jsxs("footer",{className:"footer",children:[o.jsx("div",{className:"footer__main",children:o.jsxs("div",{className:"footer__container",children:[o.jsxs("div",{className:"footer__column footer__column--about",children:[o.jsxs(Xe,{to:"/",className:"footer__logo",children:[o.jsx(ld,{className:"footer__logo-icon",size:36}),o.jsxs("div",{className:"footer__logo-text",children:[o.jsx("span",{className:"footer__logo-name",children:"PedaClic"}),o.jsx("span",{className:"footer__logo-tagline",children:"L'cole en un clic"})]})]}),o.jsx("p",{className:"footer__description",children:"PedaClic est la plateforme ducative de rfrence au Sngal. Nous accompagnons les lves du collge au lyce avec des cours, exercices et quiz de qualit."}),o.jsxs("div",{className:"footer__stats",children:[o.jsxs("div",{className:"footer__stat",children:[o.jsx(oa,{size:18}),o.jsx("span",{children:"500+ cours"})]}),o.jsxs("div",{className:"footer__stat",children:[o.jsx(Rg,{size:18}),o.jsx("span",{children:"10 000+ lves"})]})]})]}),o.jsxs("div",{className:"footer__column",children:[o.jsxs("h3",{className:"footer__title",children:[o.jsx("span",{className:"footer__title-icon",children:""}),"Plateforme"]}),o.jsx("nav",{className:"footer__nav",children:o.jsx("ul",{className:"footer__list",children:e.map((i,s)=>o.jsx("li",{className:"footer__item",children:o.jsx(Xe,{to:i.path,className:"footer__link",children:i.label})},s))})})]}),o.jsxs("div",{className:"footer__column",children:[o.jsxs("h3",{className:"footer__title",children:[o.jsx("span",{className:"footer__title-icon",children:""}),"Ressources"]}),o.jsx("nav",{className:"footer__nav",children:o.jsx("ul",{className:"footer__list",children:n.map((i,s)=>o.jsx("li",{className:"footer__item",children:o.jsx(Xe,{to:i.path,className:"footer__link",children:i.label})},s))})})]}),o.jsxs("div",{className:"footer__column",children:[o.jsxs("h3",{className:"footer__title",children:[o.jsx("span",{className:"footer__title-icon",children:""}),"Contact"]}),o.jsxs("div",{className:"footer__contact",children:[o.jsxs("a",{href:"mailto:contact@pedaclic.sn",className:"footer__contact-item",children:[o.jsx(RW,{size:16,className:"footer__contact-icon"}),o.jsx("span",{children:"contact@pedaclic.sn"})]}),o.jsxs("a",{href:"tel:+221770000000",className:"footer__contact-item",children:[o.jsx($W,{size:16,className:"footer__contact-icon"}),o.jsx("span",{children:"+221 77 000 00 00"})]}),o.jsxs("div",{className:"footer__contact-item",children:[o.jsx(DW,{size:16,className:"footer__contact-icon"}),o.jsx("span",{children:"Dakar, Sngal"})]})]}),o.jsxs("div",{className:"footer__social",children:[o.jsx("h4",{className:"footer__social-title",children:"Suivez-nous"}),o.jsx("div",{className:"footer__social-links",children:r.map((i,s)=>o.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"footer__social-link",title:i.name,children:i.icon},s))})]})]})]})}),o.jsx("div",{className:"footer__bottom",children:o.jsxs("div",{className:"footer__container footer__bottom-content",children:[o.jsxs("p",{className:"footer__copyright",children:[" ",t," PedaClic. Tous droits rservs."]}),o.jsxs("p",{className:"footer__made-with",children:["Fait avec ",o.jsx(jW,{size:14,className:"footer__heart"})," au Sngal "]}),o.jsxs("nav",{className:"footer__legal",children:[o.jsxs(Xe,{to:"/mentions-legales",className:"footer__legal-link",children:[o.jsx(vW,{size:14})," Mentions lgales"]}),o.jsxs(Xe,{to:"/confidentialite",className:"footer__legal-link",children:[o.jsx(xE,{size:14})," Confidentialit"]}),o.jsxs(Xe,{to:"/aide",className:"footer__legal-link",children:[o.jsx(Ig,{size:14})," Aide"]})]})]})})]})},Ra=({children:t,hideHeader:e=!1,hideFooter:n=!1,className:r=""})=>o.jsxs("div",{className:"layout",children:[!e&&o.jsx(EY,{}),o.jsx("main",{className:`layout__main ${e?"":"layout__main--with-header"} ${r}`,children:t}),!n&&o.jsx(NY,{})]}),SY=()=>{const{currentUser:t}=Zn();return o.jsxs("div",{className:"home-page",children:[o.jsxs("section",{className:"home-page__hero",children:[o.jsxs("div",{className:"home-page__hero-content",children:[o.jsxs("div",{className:"home-page__hero-badge",children:[o.jsx(fi,{size:14}),o.jsx("span",{children:"Plateforme N1 au Sngal"})]}),o.jsxs("h1",{className:"home-page__hero-title",children:["Russis tes examens avec",o.jsx("span",{className:"home-page__hero-highlight",children:" PedaClic"})]}),o.jsx("p",{className:"home-page__hero-subtitle",children:"La plateforme ducative qui accompagne les lves sngalais du collge au lyce avec des cours, exercices et quiz de qualit."}),o.jsx("div",{className:"home-page__hero-cta",children:t?o.jsxs(Xe,{to:t.role==="eleve"?"/eleve/dashboard":t.role==="prof"?"/prof/dashboard":"/admin",className:"home-page__btn home-page__btn--primary",children:["  Accder  mon espace",o.jsx(tc,{size:20})]}):o.jsxs(o.Fragment,{children:[o.jsxs(Xe,{to:"/register",className:"home-page__btn home-page__btn--primary",children:["Commencer gratuitement",o.jsx(tc,{size:20})]}),o.jsxs(Xe,{to:"/disciplines",className:"home-page__btn home-page__btn--outline",children:[o.jsx(dh,{size:18}),"Dcouvrir les cours"]})]})}),o.jsxs("div",{className:"home-page__hero-stats",children:[o.jsxs("div",{className:"home-page__hero-stat",children:[o.jsx("strong",{children:"10 000+"}),o.jsx("span",{children:"lves inscrits"})]}),o.jsxs("div",{className:"home-page__hero-stat",children:[o.jsx("strong",{children:"500+"}),o.jsx("span",{children:"Cours disponibles"})]}),o.jsxs("div",{className:"home-page__hero-stat",children:[o.jsx("strong",{children:"95%"}),o.jsx("span",{children:"Taux de russite"})]})]})]}),o.jsx("div",{className:"home-page__hero-image",children:o.jsxs("div",{className:"home-page__hero-illustration",children:[o.jsx(ld,{size:120}),o.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--1",children:""}),o.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--2",children:""}),o.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--3",children:""})]})})]}),o.jsx("section",{className:"home-page__levels",children:o.jsxs("div",{className:"home-page__container",children:[o.jsx("h2",{className:"home-page__section-title",children:"Tous les niveaux, toutes les matires"}),o.jsx("p",{className:"home-page__section-subtitle",children:"Du collge au lyce, prpare tes examens avec confiance"}),o.jsxs("div",{className:"home-page__levels-grid",children:[o.jsxs(Xe,{to:"/disciplines?niveau=college",className:"home-page__level-card",children:[o.jsx("div",{className:"home-page__level-icon home-page__level-icon--college",children:""}),o.jsx("h3",{children:"Collge"}),o.jsx("p",{children:"6me  3me"}),o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx(yn,{size:16})," Prparation au BFEM"]}),o.jsxs("li",{children:[o.jsx(yn,{size:16})," 9 matires disponibles"]}),o.jsxs("li",{children:[o.jsx(yn,{size:16})," Exercices corrigs"]})]}),o.jsxs("span",{className:"home-page__level-link",children:["Voir les cours ",o.jsx(tc,{size:16})]})]}),o.jsxs(Xe,{to:"/disciplines?niveau=lycee",className:"home-page__level-card",children:[o.jsx("div",{className:"home-page__level-icon home-page__level-icon--lycee",children:""}),o.jsx("h3",{children:"Lyce"}),o.jsx("p",{children:"2nde  Terminale"}),o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx(yn,{size:16})," Prparation au BAC"]}),o.jsxs("li",{children:[o.jsx(yn,{size:16})," 12 matires disponibles"]}),o.jsxs("li",{children:[o.jsx(yn,{size:16})," Annales d'examens"]})]}),o.jsxs("span",{className:"home-page__level-link",children:["Voir les cours ",o.jsx(tc,{size:16})]})]})]})]})}),o.jsx("section",{className:"home-page__features",children:o.jsxs("div",{className:"home-page__container",children:[o.jsx("h2",{className:"home-page__section-title",children:"Pourquoi choisir PedaClic ?"}),o.jsx("p",{className:"home-page__section-subtitle",children:"Des outils modernes pour une ducation de qualit"}),o.jsxs("div",{className:"home-page__features-grid",children:[o.jsxs("div",{className:"home-page__feature-card",children:[o.jsx("div",{className:"home-page__feature-icon",children:o.jsx(oa,{size:28})}),o.jsx("h3",{children:"Cours complets"}),o.jsx("p",{children:"Des cours structurs et conformes au programme sngalais, rdigs par des enseignants expriments."})]}),o.jsxs("div",{className:"home-page__feature-card",children:[o.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--secondary",children:o.jsx(Q4,{size:28})}),o.jsx("h3",{children:"Quiz interactifs"}),o.jsx("p",{children:"Testez vos connaissances avec des quiz adapts  chaque niveau et obtenez un feedback instantan."})]}),o.jsxs("div",{className:"home-page__feature-card",children:[o.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--warning",children:o.jsx(K4,{size:28})}),o.jsx("h3",{children:"Suivi de progression"}),o.jsx("p",{children:"Visualisez vos progrs et identifiez vos points faibles pour cibler vos rvisions."})]}),o.jsxs("div",{className:"home-page__feature-card",children:[o.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--success",children:o.jsx(xE,{size:28})}),o.jsx("h3",{children:"Contenu vrifi"}),o.jsx("p",{children:"Tous nos contenus sont valids par des professeurs certifis pour garantir leur qualit."})]}),o.jsxs("div",{className:"home-page__feature-card",children:[o.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--info",children:o.jsx(od,{size:28})}),o.jsx("h3",{children:"Accessible 24/7"}),o.jsx("p",{children:"tudiez  votre rythme, o que vous soyez, sur ordinateur, tablette ou smartphone."})]}),o.jsxs("div",{className:"home-page__feature-card",children:[o.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--premium",children:o.jsx(Ec,{size:28})}),o.jsx("h3",{children:"Certificats"}),o.jsx("p",{children:"Obtenez des certificats de russite pour valoriser vos comptences acquises."})]})]})]})}),o.jsx("section",{className:"home-page__premium",children:o.jsx("div",{className:"home-page__container",children:o.jsxs("div",{className:"home-page__premium-content",children:[o.jsxs("div",{className:"home-page__premium-text",children:[o.jsx("span",{className:"home-page__premium-badge",children:" Premium"}),o.jsx("h2",{children:"Passez  la vitesse suprieure"}),o.jsxs("p",{children:["Accdez  tous les quiz, exercices corrigs et ressources exclusives pour seulement ",o.jsx("strong",{children:"2 000 FCFA/mois"}),"."]}),o.jsxs("ul",{className:"home-page__premium-features",children:[o.jsxs("li",{children:[o.jsx(yn,{size:18})," Quiz illimits dans toutes les matires"]}),o.jsxs("li",{children:[o.jsx(yn,{size:18})," Corrections dtailles des exercices"]}),o.jsxs("li",{children:[o.jsx(yn,{size:18})," Annales des examens (BFEM, BAC)"]}),o.jsxs("li",{children:[o.jsx(yn,{size:18})," Support prioritaire"]})]}),o.jsxs(Xe,{to:"/premium",className:"home-page__btn home-page__btn--premium",children:["Dcouvrir Premium",o.jsx(tc,{size:20})]})]}),o.jsx("div",{className:"home-page__premium-pricing",children:o.jsxs("div",{className:"home-page__pricing-card",children:[o.jsx("span",{className:"home-page__pricing-popular",children:"Plus populaire"}),o.jsx("h3",{children:"Abonnement Annuel"}),o.jsxs("div",{className:"home-page__pricing-price",children:[o.jsx("span",{className:"home-page__pricing-amount",children:"20 000"}),o.jsx("span",{className:"home-page__pricing-currency",children:"FCFA"}),o.jsx("span",{className:"home-page__pricing-period",children:"/an"})]}),o.jsx("p",{className:"home-page__pricing-save",children:"conomisez 4 000 FCFA vs mensuel"}),o.jsx(Xe,{to:"/premium",className:"home-page__btn home-page__btn--primary home-page__btn--block",children:"Choisir ce plan"})]})})]})})}),o.jsx("section",{className:"home-page__testimonials",children:o.jsxs("div",{className:"home-page__container",children:[o.jsx("h2",{className:"home-page__section-title",children:"Ce qu'en disent nos lves"}),o.jsxs("div",{className:"home-page__testimonials-grid",children:[o.jsxs("div",{className:"home-page__testimonial-card",children:[o.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>o.jsx(fi,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),o.jsx("p",{className:"home-page__testimonial-text",children:`"Grce  PedaClic, j'ai obtenu mon BFEM avec mention. Les quiz m'ont vraiment aid  me prparer !"`}),o.jsxs("div",{className:"home-page__testimonial-author",children:[o.jsx("div",{className:"home-page__testimonial-avatar",children:"FA"}),o.jsxs("div",{children:[o.jsx("strong",{children:"Fatou Adara"}),o.jsx("span",{children:"lve en 3me - Dakar"})]})]})]}),o.jsxs("div",{className:"home-page__testimonial-card",children:[o.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>o.jsx(fi,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),o.jsx("p",{className:"home-page__testimonial-text",children:`"Les cours de maths sont trs bien expliqus. J'ai enfin compris les quations du second degr !"`}),o.jsxs("div",{className:"home-page__testimonial-author",children:[o.jsx("div",{className:"home-page__testimonial-avatar",children:"MD"}),o.jsxs("div",{children:[o.jsx("strong",{children:"Moussa Diallo"}),o.jsx("span",{children:"lve en Terminale S - This"})]})]})]}),o.jsxs("div",{className:"home-page__testimonial-card",children:[o.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>o.jsx(fi,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),o.jsx("p",{className:"home-page__testimonial-text",children:`"Je recommande PedaClic  tous les parents. Ma fille a beaucoup progress depuis qu'elle l'utilise."`}),o.jsxs("div",{className:"home-page__testimonial-author",children:[o.jsx("div",{className:"home-page__testimonial-avatar",children:"AN"}),o.jsxs("div",{children:[o.jsx("strong",{children:"Aminata Ndiaye"}),o.jsx("span",{children:"Parent d'lve - Saint-Louis"})]})]})]})]})]})}),o.jsx("section",{className:"home-page__final-cta",children:o.jsxs("div",{className:"home-page__container",children:[o.jsx("h2",{children:"Prt  russir ?"}),o.jsx("p",{children:"Rejoignez les milliers d'lves qui font confiance  PedaClic"}),!t&&o.jsxs(Xe,{to:"/register",className:"home-page__btn home-page__btn--large",children:["Crer mon compte gratuit",o.jsx(tc,{size:24})]})]})})]})},AY=()=>{const{login:t}=Zn(),e=Vi(),r=gl().state?.from||"/",[i,s]=w.useState({email:"",password:""}),[c,u]=w.useState(!1),[f,h]=w.useState(""),[p,g]=w.useState(!1),y=j=>{const{name:N,value:A}=j.target;s(D=>({...D,[N]:A})),f&&h("")},_=()=>i.email.trim()?i.password?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)?!0:(h("Veuillez entrer une adresse email valide."),!1):(h("Veuillez entrer votre mot de passe."),!1):(h("Veuillez entrer votre adresse email."),!1),E=async j=>{if(j.preventDefault(),!!_()){u(!0),h("");try{await t(i.email,i.password),e(r,{replace:!0})}catch(N){N instanceof Error?h(N.message):h("Une erreur est survenue lors de la connexion.")}finally{u(!1)}}};return o.jsx("div",{className:"auth-page",children:o.jsxs("div",{className:"auth-container",children:[o.jsxs("div",{className:"auth-card",children:[o.jsxs("div",{className:"auth-header",children:[o.jsxs(Xe,{to:"/",className:"auth-logo",children:[o.jsx("div",{className:"auth-logo__icon",children:o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),o.jsx("span",{children:"PedaClic"})]}),o.jsx("h1",{className:"auth-title",children:"Connexion"}),o.jsx("p",{className:"auth-subtitle",children:"Accdez  votre espace d'apprentissage"})]}),f&&o.jsxs("div",{className:"auth-error",children:[o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("path",{d:"M12 8v4M12 16h.01"})]}),o.jsx("span",{children:f})]}),o.jsxs("form",{onSubmit:E,className:"auth-form",children:[o.jsxs("div",{className:"auth-field",children:[o.jsx("label",{htmlFor:"email",className:"auth-label",children:"Adresse email"}),o.jsxs("div",{className:"auth-input-wrapper",children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),o.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:y,placeholder:"exemple@email.com",className:"auth-input",autoComplete:"email",disabled:c})]})]}),o.jsxs("div",{className:"auth-field",children:[o.jsx("label",{htmlFor:"password",className:"auth-label",children:"Mot de passe"}),o.jsxs("div",{className:"auth-input-wrapper",children:[o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:[o.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",strokeWidth:"2"}),o.jsx("path",{strokeWidth:"2",d:"M7 11V7a5 5 0 0110 0v4"})]}),o.jsx("input",{type:p?"text":"password",id:"password",name:"password",value:i.password,onChange:y,placeholder:"Votre mot de passe",className:"auth-input",autoComplete:"current-password",disabled:c}),o.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>g(!p),"aria-label":p?"Masquer le mot de passe":"Afficher le mot de passe",children:p?o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),o.jsx("div",{className:"auth-forgot",children:o.jsx(Xe,{to:"/mot-de-passe-oublie",className:"auth-forgot-link",children:"Mot de passe oubli ?"})}),o.jsx("button",{type:"submit",className:"auth-button",disabled:c,children:c?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"auth-button-spinner"}),"Connexion en cours..."]}):"Se connecter"})]}),o.jsx("div",{className:"auth-divider",children:o.jsx("span",{children:"ou"})}),o.jsxs("p",{className:"auth-switch",children:["Pas encore de compte ?"," ",o.jsx(Xe,{to:"/inscription",className:"auth-switch-link",children:"Crer un compte"})]})]}),o.jsxs("div",{className:"auth-welcome",children:[o.jsx("h2",{children:"Bienvenue sur PedaClic !"}),o.jsx("p",{children:"L'cole en un clic - Accdez  des milliers de cours, exercices et quiz."}),o.jsxs("ul",{className:"auth-features",children:[o.jsxs("li",{children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Cours du programme sngalais"]}),o.jsxs("li",{children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Exercices interactifs"]}),o.jsxs("li",{children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quiz pour tester vos connaissances"]}),o.jsxs("li",{children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Suivi de progression"]})]})]})]})})},TY=()=>{const{register:t}=Zn(),e=Vi(),[n,r]=w.useState({email:"",password:"",confirmPassword:"",displayName:"",role:"eleve"}),[i,s]=w.useState(!1),[c,u]=w.useState(""),[f,h]=w.useState(!1),[p,g]=w.useState(!1),[y,_]=w.useState(!1),E=A=>{const{name:D,value:I}=A.target;r(O=>({...O,[D]:I})),c&&u("")},j=()=>n.displayName.trim()?n.displayName.trim().length<2?(u("Le nom doit contenir au moins 2 caractres."),!1):n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?n.password?n.password.length<6?(u("Le mot de passe doit contenir au moins 6 caractres."),!1):n.password!==n.confirmPassword?(u("Les mots de passe ne correspondent pas."),!1):y?!0:(u("Veuillez accepter les conditions d'utilisation."),!1):(u("Veuillez entrer un mot de passe."),!1):(u("Veuillez entrer une adresse email valide."),!1):(u("Veuillez entrer votre adresse email."),!1):(u("Veuillez entrer votre nom complet."),!1),N=async A=>{if(A.preventDefault(),!!j()){s(!0),u("");try{await t(n),e("/disciplines",{replace:!0})}catch(D){D instanceof Error?u(D.message):u("Une erreur est survenue lors de l'inscription.")}finally{s(!1)}}};return o.jsx("div",{className:"auth-page",children:o.jsxs("div",{className:"auth-container",children:[o.jsxs("div",{className:"auth-card auth-card--register",children:[o.jsxs("div",{className:"auth-header",children:[o.jsxs(Xe,{to:"/",className:"auth-logo",children:[o.jsx("div",{className:"auth-logo__icon",children:o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),o.jsx("span",{children:"PedaClic"})]}),o.jsx("h1",{className:"auth-title",children:"Crer un compte"}),o.jsx("p",{className:"auth-subtitle",children:"Rejoignez PedaClic et commencez  apprendre"})]}),c&&o.jsxs("div",{className:"auth-error",children:[o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("path",{d:"M12 8v4M12 16h.01"})]}),o.jsx("span",{children:c})]}),o.jsxs("form",{onSubmit:N,className:"auth-form",children:[o.jsxs("div",{className:"auth-field",children:[o.jsx("label",{htmlFor:"displayName",className:"auth-label",children:"Nom complet"}),o.jsxs("div",{className:"auth-input-wrapper",children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),o.jsx("input",{type:"text",id:"displayName",name:"displayName",value:n.displayName,onChange:E,placeholder:"Amadou Diallo",className:"auth-input",autoComplete:"name",disabled:i})]})]}),o.jsxs("div",{className:"auth-field",children:[o.jsx("label",{htmlFor:"email",className:"auth-label",children:"Adresse email"}),o.jsxs("div",{className:"auth-input-wrapper",children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),o.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:E,placeholder:"exemple@email.com",className:"auth-input",autoComplete:"email",disabled:i})]})]}),o.jsxs("div",{className:"auth-field",children:[o.jsx("label",{className:"auth-label",children:"Je suis :"}),o.jsxs("div",{className:"auth-role-selector",children:[o.jsxs("label",{className:`auth-role-option ${n.role==="eleve"?"auth-role-option--selected":""}`,children:[o.jsx("input",{type:"radio",name:"role",value:"eleve",checked:n.role==="eleve",onChange:E,className:"auth-role-input",disabled:i}),o.jsxs("div",{className:"auth-role-content",children:[o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l9-5-9-5-9 5 9 5z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"})]}),o.jsx("span",{children:"lve"})]})]}),o.jsxs("label",{className:`auth-role-option ${n.role==="prof"?"auth-role-option--selected":""}`,children:[o.jsx("input",{type:"radio",name:"role",value:"prof",checked:n.role==="prof",onChange:E,className:"auth-role-input",disabled:i}),o.jsxs("div",{className:"auth-role-content",children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),o.jsx("span",{children:"Professeur"})]})]}),o.jsxs("label",{className:`auth-role-option ${n.role==="parent"?"auth-role-option--selected":""}`,children:[o.jsx("input",{type:"radio",name:"role",value:"parent",checked:n.role==="parent",onChange:E,className:"auth-role-input",disabled:i}),o.jsxs("div",{className:"auth-role-content",children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),o.jsx("span",{children:"Parent d'lve"})]})]})]})]}),o.jsxs("div",{className:"auth-field",children:[o.jsx("label",{htmlFor:"password",className:"auth-label",children:"Mot de passe"}),o.jsxs("div",{className:"auth-input-wrapper",children:[o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:[o.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",strokeWidth:"2"}),o.jsx("path",{strokeWidth:"2",d:"M7 11V7a5 5 0 0110 0v4"})]}),o.jsx("input",{type:f?"text":"password",id:"password",name:"password",value:n.password,onChange:E,placeholder:"Minimum 6 caractres",className:"auth-input",autoComplete:"new-password",disabled:i}),o.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>h(!f),"aria-label":f?"Masquer":"Afficher",children:f?o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),o.jsx("p",{className:"auth-hint",children:"Au moins 6 caractres avec des lettres et des chiffres"})]}),o.jsxs("div",{className:"auth-field",children:[o.jsx("label",{htmlFor:"confirmPassword",className:"auth-label",children:"Confirmer le mot de passe"}),o.jsxs("div",{className:"auth-input-wrapper",children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),o.jsx("input",{type:p?"text":"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:E,placeholder:"Retapez votre mot de passe",className:"auth-input",autoComplete:"new-password",disabled:i}),o.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>g(!p),"aria-label":p?"Masquer":"Afficher",children:p?o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),o.jsx("div",{className:"auth-checkbox-field",children:o.jsxs("label",{className:"auth-checkbox-label",children:[o.jsx("input",{type:"checkbox",checked:y,onChange:A=>_(A.target.checked),className:"auth-checkbox",disabled:i}),o.jsx("span",{className:"auth-checkbox-custom"}),o.jsxs("span",{children:["J'accepte les"," ",o.jsx(Xe,{to:"/cgu",target:"_blank",className:"auth-link",children:"conditions d'utilisation"})," ","et la"," ",o.jsx(Xe,{to:"/confidentialite",target:"_blank",className:"auth-link",children:"politique de confidentialit"})]})]})}),o.jsx("button",{type:"submit",className:"auth-button",disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"auth-button-spinner"}),"Cration du compte..."]}):"Crer mon compte"})]}),o.jsx("div",{className:"auth-divider",children:o.jsx("span",{children:"ou"})}),o.jsxs("p",{className:"auth-switch",children:["Dj un compte ?"," ",o.jsx(Xe,{to:"/connexion",className:"auth-switch-link",children:"Se connecter"})]})]}),o.jsxs("div",{className:"auth-welcome auth-welcome--register",children:[o.jsx("h2",{children:"Rejoignez la communaut PedaClic"}),o.jsx("p",{children:"Des milliers d'lves et professeurs sngalais nous font dj confiance."}),o.jsxs("div",{className:"auth-stats",children:[o.jsxs("div",{className:"auth-stat",children:[o.jsx("span",{className:"auth-stat-number",children:"10 000+"}),o.jsx("span",{className:"auth-stat-label",children:"lves inscrits"})]}),o.jsxs("div",{className:"auth-stat",children:[o.jsx("span",{className:"auth-stat-number",children:"500+"}),o.jsx("span",{className:"auth-stat-label",children:"Cours disponibles"})]}),o.jsxs("div",{className:"auth-stat",children:[o.jsx("span",{className:"auth-stat-number",children:"95%"}),o.jsx("span",{className:"auth-stat-label",children:"Taux de satisfaction"})]})]}),o.jsxs("div",{className:"auth-testimonial",children:[o.jsx("p",{className:"auth-testimonial-text",children:`"Grce  PedaClic, j'ai amlior mes notes en mathmatiques de 4 points !"`}),o.jsx("p",{className:"auth-testimonial-author",children:" Fatou N., lve de 3me  Dakar"})]})]})]})})},CY=()=>{const[t,e]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState(!0),[c,u]=w.useState(null),[f,h]=w.useState("tous"),[p,g]=w.useState("");w.useEffect(()=>{(async()=>{try{s(!0);const E=Ht(yt(Se,"disciplines"),Yr("ordre","asc")),N=(await Gt(E)).docs.map(A=>({id:A.id,...A.data()}));e(N),r(N),u(null)}catch(E){console.error("Erreur chargement disciplines:",E),u("Impossible de charger les disciplines. Veuillez ressayer.")}finally{s(!1)}})()},[]),w.useEffect(()=>{let _=t;if(f!=="tous"&&(_=_.filter(E=>E.niveau===f)),p.trim()){const E=p.toLowerCase();_=_.filter(j=>j.nom.toLowerCase().includes(E)||j.description.toLowerCase().includes(E)||j.classe.toLowerCase().includes(E))}r(_)},[t,f,p]);const y={tous:t.length,college:t.filter(_=>_.niveau==="college").length,lycee:t.filter(_=>_.niveau==="lycee").length};return i?o.jsx("div",{style:Fe.container,children:o.jsxs("div",{style:Fe.loadingContainer,children:[o.jsx("div",{style:Fe.spinner}),o.jsx("p",{style:Fe.loadingText,children:"Chargement des disciplines..."})]})}):c?o.jsx("div",{style:Fe.container,children:o.jsxs("div",{style:Fe.errorContainer,children:[o.jsx("span",{style:Fe.errorIcon,children:""}),o.jsx("h2",{style:Fe.errorTitle,children:"Erreur"}),o.jsx("p",{style:Fe.errorText,children:c}),o.jsx("button",{onClick:()=>window.location.reload(),style:Fe.retryButton,children:" Ressayer"})]})}):o.jsxs("div",{style:Fe.container,children:[o.jsx("header",{style:Fe.header,children:o.jsxs("div",{style:Fe.headerContent,children:[o.jsx(Xe,{to:"/",style:Fe.backLink,children:" Accueil"}),o.jsx("h1",{style:Fe.title,children:" Nos Disciplines"}),o.jsx("p",{style:Fe.subtitle,children:"Dcouvrez toutes les matires disponibles sur PedaClic, de la 6me  la Terminale."})]})}),o.jsx("div",{style:Fe.filtersSection,children:o.jsxs("div",{style:Fe.filtersContainer,children:[o.jsxs("div",{style:Fe.searchBox,children:[o.jsx("span",{style:Fe.searchIcon,children:""}),o.jsx("input",{type:"text",placeholder:"Rechercher une discipline...",value:p,onChange:_=>g(_.target.value),style:Fe.searchInput}),p&&o.jsx("button",{onClick:()=>g(""),style:Fe.clearSearch,children:""})]}),o.jsxs("div",{style:Fe.niveauFilters,children:[o.jsxs("button",{onClick:()=>h("tous"),style:{...Fe.filterButton,...f==="tous"?Fe.filterButtonActive:{}},children:[" Tous (",y.tous,")"]}),o.jsxs("button",{onClick:()=>h("college"),style:{...Fe.filterButton,...f==="college"?Fe.filterButtonActive:{}},children:[" Collge (",y.college,")"]}),o.jsxs("button",{onClick:()=>h("lycee"),style:{...Fe.filterButton,...f==="lycee"?Fe.filterButtonActive:{}},children:[" Lyce (",y.lycee,")"]})]})]})}),o.jsx("main",{style:Fe.main,children:n.length===0?o.jsxs("div",{style:Fe.emptyState,children:[o.jsx("span",{style:Fe.emptyIcon,children:""}),o.jsx("h3",{style:Fe.emptyTitle,children:"Aucune discipline trouve"}),o.jsx("p",{style:Fe.emptyText,children:"Essayez de modifier vos critres de recherche."}),o.jsx("button",{onClick:()=>{h("tous"),g("")},style:Fe.resetButton,children:"Rinitialiser les filtres"})]}):o.jsx("div",{style:Fe.grid,children:n.map(_=>o.jsx(OY,{discipline:_},_.id))})}),o.jsxs("footer",{style:Fe.footer,children:[o.jsx("p",{children:" PedaClic - L'cole en un clic"}),o.jsxs("p",{style:Fe.footerSubtext,children:[t.length," disciplines disponibles  6me  Terminale"]})]})]})},OY=({discipline:t})=>{const e=t.niveau==="college"?"Collge":"Lyce",n=t.niveau==="college"?"":"";return o.jsxs(Xe,{to:`/disciplines/${t.id}`,style:Fe.card,className:"discipline-card",children:[o.jsx("div",{style:{...Fe.cardIcon,backgroundColor:t.couleur||"#2563eb"},children:o.jsx("span",{style:Fe.cardEmoji,children:t.icone||""})}),o.jsxs("div",{style:Fe.cardContent,children:[o.jsx("h3",{style:Fe.cardTitle,children:t.nom}),o.jsxs("div",{style:Fe.cardMeta,children:[o.jsxs("span",{style:Fe.cardBadge,children:[n," ",e]}),o.jsxs("span",{style:Fe.cardBadge,children:[" ",t.classe]}),o.jsxs("span",{style:Fe.cardBadge,children:[" Coef. ",t.coefficient]})]}),o.jsx("p",{style:Fe.cardDescription,children:t.description})]}),o.jsx("div",{style:Fe.cardArrow,children:""})]})},Fe={container:{minHeight:"100vh",backgroundColor:"#f3f4f6",fontFamily:"system-ui, -apple-system, sans-serif"},header:{background:"linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%)",color:"white",padding:"2rem 1rem 3rem"},headerContent:{maxWidth:"1200px",margin:"0 auto"},backLink:{color:"rgba(255,255,255,0.8)",textDecoration:"none",fontSize:"0.9rem",display:"inline-block",marginBottom:"1rem"},title:{fontSize:"2.5rem",fontWeight:"700",margin:"0 0 0.5rem 0"},subtitle:{fontSize:"1.1rem",opacity:.9,margin:0,maxWidth:"600px"},filtersSection:{backgroundColor:"white",borderBottom:"1px solid #e5e7eb",padding:"1rem",position:"sticky",top:0,zIndex:10,boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},filtersContainer:{maxWidth:"1200px",margin:"0 auto",display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"center",justifyContent:"space-between"},searchBox:{display:"flex",alignItems:"center",backgroundColor:"#f3f4f6",borderRadius:"8px",padding:"0.5rem 1rem",flex:"1",maxWidth:"400px",minWidth:"200px"},searchIcon:{marginRight:"0.5rem",fontSize:"1rem"},searchInput:{border:"none",background:"transparent",flex:1,fontSize:"1rem",outline:"none"},clearSearch:{background:"none",border:"none",cursor:"pointer",color:"#6b7280",fontSize:"1rem",padding:"0 0.25rem"},niveauFilters:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},filterButton:{padding:"0.5rem 1rem",borderRadius:"20px",border:"1px solid #e5e7eb",backgroundColor:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.2s",color:"#374151"},filterButtonActive:{backgroundColor:"#2563eb",borderColor:"#2563eb",color:"white"},main:{maxWidth:"1200px",margin:"0 auto",padding:"2rem 1rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"1.5rem"},card:{display:"flex",alignItems:"flex-start",gap:"1rem",backgroundColor:"white",borderRadius:"12px",padding:"1.5rem",textDecoration:"none",color:"inherit",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",transition:"all 0.2s ease",border:"1px solid #e5e7eb"},cardIcon:{width:"60px",height:"60px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},cardEmoji:{fontSize:"1.75rem"},cardContent:{flex:1,minWidth:0},cardTitle:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",margin:"0 0 0.5rem 0"},cardMeta:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"0.75rem"},cardBadge:{fontSize:"0.75rem",padding:"0.25rem 0.5rem",backgroundColor:"#f3f4f6",borderRadius:"4px",color:"#6b7280"},cardDescription:{fontSize:"0.9rem",color:"#6b7280",margin:0,lineHeight:"1.5",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},cardArrow:{color:"#9ca3af",fontSize:"1.25rem",alignSelf:"center",transition:"transform 0.2s"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh"},spinner:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTopColor:"#2563eb",borderRadius:"50%",animation:"spin 1s linear infinite"},loadingText:{marginTop:"1rem",color:"#6b7280"},errorContainer:{textAlign:"center",padding:"4rem 2rem"},errorIcon:{fontSize:"4rem"},errorTitle:{color:"#dc2626",margin:"1rem 0 0.5rem"},errorText:{color:"#6b7280",marginBottom:"1.5rem"},retryButton:{padding:"0.75rem 1.5rem",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem"},emptyState:{textAlign:"center",padding:"4rem 2rem",backgroundColor:"white",borderRadius:"12px"},emptyIcon:{fontSize:"4rem"},emptyTitle:{color:"#1f2937",margin:"1rem 0 0.5rem"},emptyText:{color:"#6b7280",marginBottom:"1.5rem"},resetButton:{padding:"0.75rem 1.5rem",backgroundColor:"#f3f4f6",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"8px",cursor:"pointer",fontSize:"1rem"},footer:{textAlign:"center",padding:"2rem",backgroundColor:"#1f2937",color:"white",marginTop:"2rem"},footerSubtext:{fontSize:"0.85rem",opacity:.7,marginTop:"0.5rem"}},PY=()=>o.jsx("style",{children:`
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .discipline-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 24px rgba(0,0,0,0.15) !important;
      border-color: #2563eb !important;
    }
    
    .discipline-card:hover .card-arrow {
      transform: translateX(4px);
    }
  `}),IY=()=>o.jsxs(o.Fragment,{children:[o.jsx(PY,{}),o.jsx(CY,{})]}),Lf="disciplines",IO=t=>{const e=t.data();return{id:t.id,nom:e.nom,niveau:e.niveau,classe:e.classe,ordre:e.ordre,coefficient:e.coefficient,couleur:e.couleur,icone:e.icone,description:e.description,createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()}},aa={async getAll(t){try{const e=[Yr("ordre","asc")];t?.niveau&&e.unshift(at("niveau","==",t.niveau)),t?.classe&&e.unshift(at("classe","==",t.classe));const n=Ht(yt(Se,Lf),...e);return(await Gt(n)).docs.map(IO)}catch(e){throw console.error("Erreur lors de la rcupration des disciplines:",e),new Error("Impossible de rcuprer les disciplines")}},async getById(t){try{const e=tt(Se,Lf,t),n=await zi(e);return n.exists()?IO(n):null}catch(e){throw console.error("Erreur lors de la rcupration de la discipline:",e),new Error("Impossible de rcuprer la discipline")}},async getByNiveau(t){return this.getAll({niveau:t})},async getByClasse(t){return this.getAll({classe:t})},async create(t){try{return(await ma(yt(Se,Lf),{...t,createdAt:tn(),updatedAt:tn()})).id}catch(e){throw console.error("Erreur lors de la cration de la discipline:",e),new Error("Impossible de crer la discipline")}},async update(t,e){try{const n=tt(Se,Lf,t);await Mn(n,{...e,updatedAt:tn()})}catch(n){throw console.error("Erreur lors de la mise  jour de la discipline:",n),new Error("Impossible de mettre  jour la discipline")}},async delete(t){try{const e=tt(Se,Lf,t);await Cy(e)}catch(e){throw console.error("Erreur lors de la suppression de la discipline:",e),new Error("Impossible de supprimer la discipline")}},async exists(t){return await this.getById(t)!==null},async countByNiveau(t){return(await this.getByNiveau(t)).length}},Zl="ressources",RY="ressources",RO=t=>{const e=t.data();return{id:t.id,disciplineId:e.disciplineId,titre:e.titre,type:e.type,contenu:e.contenu,description:e.description,isPremium:e.isPremium||!1,ordre:e.ordre||0,chapitre:e.chapitre,fichierURL:e.fichierURL,dureeEstimee:e.dureeEstimee,tags:e.tags||[],auteurId:e.auteurId,createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()}},kY=t=>{const e=Date.now(),n=t.split(".").pop();return`${t.replace(/\.[^/.]+$/,"").replace(/[^a-zA-Z0-9]/g,"_")}_${e}.${n}`},ws={async getAll(t,e){try{const n=[Yr("ordre","asc")];t?.disciplineId&&n.unshift(at("disciplineId","==",t.disciplineId)),t?.chapitreId&&n.unshift(at("chapitre","==",t.chapitreId)),t?.type&&n.unshift(at("type","==",t.type)),t?.isPremium!==void 0&&n.unshift(at("isPremium","==",t.isPremium)),t?.auteurId&&n.unshift(at("auteurId","==",t.auteurId)),e&&n.push(fl(e));const r=Ht(yt(Se,Zl),...n);return(await Gt(r)).docs.map(RO)}catch(n){throw console.error("Erreur lors de la rcupration des ressources:",n),new Error("Impossible de rcuprer les ressources")}},async getById(t){try{const e=tt(Se,Zl,t),n=await zi(e);return n.exists()?RO(n):null}catch(e){throw console.error("Erreur lors de la rcupration de la ressource:",e),new Error("Impossible de rcuprer la ressource")}},async getByDiscipline(t){return this.getAll({disciplineId:t})},async getByChapitre(t){return this.getAll({chapitreId:t})},async getByType(t){return this.getAll({type:t})},async getPremium(){return this.getAll({isPremium:!0})},async getFree(){return this.getAll({isPremium:!1})},async create(t,e){try{return(await ma(yt(Se,Zl),{...t,auteurId:e,createdAt:tn(),updatedAt:tn()})).id}catch(n){throw console.error("Erreur lors de la cration de la ressource:",n),new Error("Impossible de crer la ressource")}},async update(t,e){try{const n=tt(Se,Zl,t);await Mn(n,{...e,updatedAt:tn()})}catch(n){throw console.error("Erreur lors de la mise  jour de la ressource:",n),new Error("Impossible de mettre  jour la ressource")}},async delete(t){try{const e=await this.getById(t);e?.fichierURL&&await this.deleteFile(e.fichierURL);const n=tt(Se,Zl,t);await Cy(n)}catch(e){throw console.error("Erreur lors de la suppression de la ressource:",e),new Error("Impossible de supprimer la ressource")}},async deleteByDiscipline(t){try{const e=await this.getByDiscipline(t),n=Sh(Se);for(const r of e){r.fichierURL&&await this.deleteFile(r.fichierURL);const i=tt(Se,Zl,r.id);n.delete(i)}await n.commit()}catch(e){throw console.error("Erreur lors de la suppression des ressources:",e),new Error("Impossible de supprimer les ressources")}},async uploadFile(t,e){try{const n=kY(t.name),r=`${RY}/${e}/${n}`,i=jO(EO,r);return await MQ(i,t),await zQ(i)}catch(n){throw console.error("Erreur lors de l'upload du fichier:",n),new Error("Impossible d'uploader le fichier")}},async deleteFile(t){try{const e=jO(EO,t);await LQ(e)}catch(e){console.warn("Fichier non trouv ou dj supprim:",e)}},async reorder(t,e){try{const n=Sh(Se);e.forEach((r,i)=>{const s=tt(Se,Zl,r);n.update(s,{ordre:i+1,updatedAt:tn()})}),await n.commit()}catch(n){throw console.error("Erreur lors de la rorganisation des ressources:",n),new Error("Impossible de rorganiser les ressources")}},async togglePremium(t,e){await this.update(t,{isPremium:e})},async countByType(t){return(await this.getByType(t)).length},async getStats(){try{const t=await this.getAll(),e={total:t.length,premium:t.filter(n=>n.isPremium).length,gratuit:t.filter(n=>!n.isPremium).length,parType:{cours:0,exercice:0,video:0,document:0,quiz:0}};return t.forEach(n=>{e.parType[n.type]!==void 0&&e.parType[n.type]++}),e}catch(t){throw console.error("Erreur lors du calcul des statistiques:",t),new Error("Impossible de calculer les statistiques")}}},DY=()=>{const{id:t}=ay(),e=Vi(),[n,r]=w.useState(null),[i,s]=w.useState([]),[c,u]=w.useState([]),[f,h]=w.useState(!0),[p,g]=w.useState(null),[y,_]=w.useState("tous"),[E,j]=w.useState(new Set),N=w.useCallback(async()=>{if(t)try{h(!0),g(null);const R=await aa.getById(t);if(!R){g("Discipline introuvable."),h(!1);return}r(R);const U=await ws.getAll({disciplineId:t}),L=new Map,z=[];for(const Q of U){const W=Q.chapitre||Q.chapitreId;W?(L.has(W)||L.set(W,[]),L.get(W).push(Q)):z.push(Q)}const M=Array.from(L.entries()).map(([Q,W])=>({chapitreNom:Q,ressources:W.sort((G,le)=>G.ordre-le.ordre)})).sort((Q,W)=>Q.chapitreNom.localeCompare(W.chapitreNom,"fr"));s(M),u(z),M.length>0&&j(new Set([M[0].chapitreNom]))}catch(R){console.error("Erreur chargement discipline:",R),g("Impossible de charger les donnes. Ressayez plus tard.")}finally{h(!1)}},[t]);w.useEffect(()=>{N()},[N]);const A=R=>{j(U=>{const L=new Set(U);return L.has(R)?L.delete(R):L.add(R),L})},D=R=>y==="tous"?R:R.filter(U=>U.type===y),I=R=>{switch(R){case"cours":return"";case"exercice":return"";case"video":return"";case"document":return"";case"quiz":return"";default:return""}},O=R=>{switch(R){case"cours":return"Cours";case"exercice":return"Exercice";case"video":return"Vido";case"document":return"Document";case"quiz":return"Quiz";default:return R}},V=R=>{switch(R){case"cours":return"#3b82f6";case"exercice":return"#10b981";case"video":return"#f59e0b";case"document":return"#8b5cf6";case"quiz":return"#ef4444";default:return"#6b7280"}},B=R=>R==="college"?"Collge":"Lyce";if(f)return o.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"4rem 1rem",minHeight:"50vh"},children:[o.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTopColor:"#2563eb",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),o.jsx("p",{style:{marginTop:"1rem",color:"#6b7280"},children:"Chargement de la discipline..."}),o.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]});if(p||!n)return o.jsxs("div",{style:{maxWidth:"600px",margin:"3rem auto",padding:"2rem",textAlign:"center",background:"#fef2f2",borderRadius:"12px",border:"1px solid #fecaca"},children:[o.jsx("span",{style:{fontSize:"3rem"},children:""}),o.jsx("h2",{style:{color:"#991b1b",margin:"1rem 0 0.5rem"},children:p||"Discipline introuvable"}),o.jsx("p",{style:{color:"#b91c1c",marginBottom:"1.5rem"},children:"Vrifiez le lien ou retournez  la liste des disciplines."}),o.jsx("button",{onClick:()=>e("/disciplines"),style:{padding:"0.75rem 1.5rem",background:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:600},children:" Retour aux disciplines"})]});const k=[...i.flatMap(R=>R.ressources),...c],C=[...new Set(k.map(R=>R.type))];return o.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"1.5rem 1rem"},children:[o.jsxs("nav",{style:{marginBottom:"1.5rem",fontSize:"0.875rem",color:"#6b7280"},children:[o.jsx(Xe,{to:"/",style:{color:"#2563eb",textDecoration:"none"},children:"Accueil"}),o.jsx("span",{style:{margin:"0 0.5rem"},children:"/"}),o.jsx(Xe,{to:"/disciplines",style:{color:"#2563eb",textDecoration:"none"},children:"Disciplines"}),o.jsx("span",{style:{margin:"0 0.5rem"},children:"/"}),o.jsx("span",{style:{color:"#374151"},children:n.nom})]}),o.jsxs("header",{style:{background:"linear-gradient(135deg, #1e40af 0%, #3b82f6 100%)",borderRadius:"16px",padding:"2rem",color:"#fff",marginBottom:"2rem"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.75rem"},children:[o.jsx("span",{style:{fontSize:"2.5rem"},children:n.icone||""}),o.jsxs("div",{children:[o.jsx("h1",{style:{fontSize:"1.75rem",fontWeight:700,margin:0},children:n.nom}),n.description&&o.jsx("p",{style:{margin:"0.25rem 0 0",opacity:.9,fontSize:"0.95rem"},children:n.description})]})]}),o.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap",marginTop:"1rem"},children:[o.jsxs("span",{style:{background:"rgba(255,255,255,0.2)",padding:"0.35rem 0.75rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:600},children:[" ",B(n.niveau),"  ",n.classe]}),o.jsxs("span",{style:{background:"rgba(255,255,255,0.2)",padding:"0.35rem 0.75rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:600},children:[" ",k.length," ressource",k.length!==1?"s":""]}),n.coefficient&&o.jsxs("span",{style:{background:"rgba(255,255,255,0.2)",padding:"0.35rem 0.75rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:600},children:[" Coeff. ",n.coefficient]})]})]}),C.length>1&&o.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",marginBottom:"1.5rem"},children:[o.jsxs("button",{onClick:()=>_("tous"),style:{padding:"0.5rem 1rem",borderRadius:"20px",border:y==="tous"?"2px solid #2563eb":"1px solid #d1d5db",background:y==="tous"?"#2563eb":"#fff",color:y==="tous"?"#fff":"#374151",cursor:"pointer",fontSize:"0.85rem",fontWeight:600,transition:"all 0.2s"},children:["Tous (",k.length,")"]}),C.map(R=>{const U=k.filter(z=>z.type===R).length,L=y===R;return o.jsxs("button",{onClick:()=>_(R),style:{padding:"0.5rem 1rem",borderRadius:"20px",border:L?`2px solid ${V(R)}`:"1px solid #d1d5db",background:L?V(R):"#fff",color:L?"#fff":"#374151",cursor:"pointer",fontSize:"0.85rem",fontWeight:600,transition:"all 0.2s"},children:[I(R)," ",O(R)," (",U,")"]},R)})]}),i.length===0&&c.length===0?o.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem",background:"#f9fafb",borderRadius:"12px",border:"1px solid #e5e7eb"},children:[o.jsx("span",{style:{fontSize:"3rem"},children:""}),o.jsx("h3",{style:{color:"#374151",margin:"1rem 0 0.5rem"},children:"Aucune ressource disponible"}),o.jsx("p",{style:{color:"#6b7280"},children:"Les cours et exercices pour cette discipline seront bientt ajouts."})]}):o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[i.map(R=>{const U=D(R.ressources);if(U.length===0&&y!=="tous")return null;const L=E.has(R.chapitreNom),z=y==="tous"?R.ressources:U;return o.jsxs("div",{style:{background:"#fff",borderRadius:"12px",border:"1px solid #e5e7eb",overflow:"hidden",transition:"box-shadow 0.2s",boxShadow:L?"0 4px 12px rgba(0,0,0,0.08)":"none"},children:[o.jsx("button",{onClick:()=>A(R.chapitreNom),style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1.25rem",background:L?"#f0f5ff":"#fff",border:"none",cursor:"pointer",textAlign:"left",transition:"background 0.2s"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[o.jsx("span",{style:{fontSize:"1.25rem",transform:L?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""}),o.jsxs("div",{children:[o.jsx("span",{style:{fontWeight:700,color:"#1f2937",fontSize:"1rem"},children:R.chapitreNom}),o.jsxs("span",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginTop:"2px"},children:[R.ressources.length," ressource",R.ressources.length!==1?"s":""]})]})]})}),L&&o.jsx("div",{style:{padding:"0 1.25rem 1rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:z.map(M=>o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem",background:"#f9fafb",borderRadius:"8px",border:"1px solid #f3f4f6",transition:"background 0.15s",cursor:"pointer"},onMouseEnter:Q=>Q.currentTarget.style.background="#eef2ff",onMouseLeave:Q=>Q.currentTarget.style.background="#f9fafb",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flex:1},children:[o.jsx("span",{style:{fontSize:"1.2rem"},children:I(M.type)}),o.jsxs("div",{children:[o.jsx("span",{style:{fontWeight:600,color:"#1f2937",fontSize:"0.9rem"},children:M.titre}),M.description&&o.jsx("span",{style:{display:"block",fontSize:"0.75rem",color:"#9ca3af",marginTop:"2px"},children:M.description})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexShrink:0},children:[o.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,color:"#fff",background:V(M.type)},children:O(M.type)}),M.isPremium&&o.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,color:"#92400e",background:"#fef3c7",border:"1px solid #fde68a"},children:" Premium"}),M.dureeEstimee&&o.jsxs("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:[" ",M.dureeEstimee," min"]})]})]},M.id))})]},R.chapitreNom)}),D(c).length>0&&o.jsxs("div",{style:{background:"#fff",borderRadius:"12px",border:"1px solid #e5e7eb",padding:"1rem 1.25rem"},children:[o.jsx("h3",{style:{fontSize:"1rem",fontWeight:700,color:"#374151",marginBottom:"0.75rem"},children:" Autres ressources"}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:D(c).map(R=>o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem",background:"#f9fafb",borderRadius:"8px",border:"1px solid #f3f4f6"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[o.jsx("span",{style:{fontSize:"1.2rem"},children:I(R.type)}),o.jsx("span",{style:{fontWeight:600,color:"#1f2937",fontSize:"0.9rem"},children:R.titre})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[o.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,color:"#fff",background:V(R.type)},children:O(R.type)}),R.isPremium&&o.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,color:"#92400e",background:"#fef3c7",border:"1px solid #fde68a"},children:" Premium"})]})]},R.id))})]})]}),o.jsx("div",{style:{marginTop:"2rem",textAlign:"center"},children:o.jsx(Xe,{to:"/disciplines",style:{display:"inline-block",padding:"0.75rem 1.5rem",background:"#f3f4f6",color:"#374151",borderRadius:"8px",textDecoration:"none",fontWeight:600,transition:"background 0.2s"},children:" Retour aux disciplines"})})]})},F_=[{id:"mensuel",nom:"Mensuel",prix:2e3,duree:"1 mois"},{id:"annuel",nom:"Annuel",prix:2e4,prixOriginal:24e3,duree:"12 mois",economie:"4 000 FCFA",popular:!0}],MY=[{icone:"",titre:"Accs illimit",description:"Tous les cours de la 6me  la Terminale, sans restriction."},{icone:"",titre:"Vidos explicatives",description:"Des cours en vido par des professeurs expriments."},{icone:"",titre:"Exercices corrigs",description:"Des milliers d'exercices avec corrections dtailles."},{icone:"",titre:"Suivi de progression",description:"Tableau de bord personnel pour suivre vos rsultats."},{icone:"",titre:"Quiz interactifs",description:"Testez vos connaissances avec des quiz par matire."},{icone:"",titre:"Support prioritaire",description:"Assistance rapide pour toutes vos questions."},{icone:"",titre:"Accs mobile",description:"Apprenez partout, sur tlphone ou tablette."},{icone:"",titre:"Mises  jour",description:"Nouveaux contenus ajouts rgulirement."}],zY=[{question:"Comment fonctionne l'abonnement Premium ?",reponse:"Une fois votre paiement effectu via Wave, Orange Money ou carte bancaire, votre compte est instantanment mis  niveau. Vous avez accs  tous les contenus Premium pendant la dure de votre abonnement."},{question:"Puis-je annuler mon abonnement ?",reponse:"Oui, vous pouvez annuler  tout moment depuis votre espace personnel. Vous conservez l'accs Premium jusqu' la fin de la priode paye."},{question:"L'abonnement se renouvelle-t-il automatiquement ?",reponse:"Non, chez PedaClic, il n'y a pas de renouvellement automatique. Vous dcidez quand renouveler votre abonnement."},{question:"Quels moyens de paiement acceptez-vous ?",reponse:"Nous acceptons Wave, Orange Money, Free Money et les cartes bancaires (Visa, Mastercard) via notre partenaire PayTech."},{question:"Puis-je partager mon compte Premium ?",reponse:"Chaque compte Premium est personnel et li  une adresse email. Le partage de compte est interdit pour garantir un suivi de progression personnalis."}],LY=()=>{const{currentUser:t}=Zn(),e=gl(),n=Vi(),[r,i]=w.useState("annuel"),[s,c]=w.useState(!1),[u,f]=w.useState(null),[h,p]=w.useState(null);e.state?.from;const g=()=>!t||!t.isPremium?!1:t.subscriptionEnd?(t.subscriptionEnd instanceof Date?t.subscriptionEnd:new Date(t.subscriptionEnd))>new Date:!0,y=async()=>{if(!t){n("/connexion",{state:{from:"/premium"}});return}if(g()){f("Vous tes dj abonn Premium !");return}try{c(!0),f(null);const j=F_.find(O=>O.id===r);if(!j)throw new Error("Plan invalide");const N=await ma(yt(Se,"transactions"),{userId:t.uid,userEmail:t.email,planType:r,montant:j.prix,devise:"XOF",statut:"pending",dateTransaction:tn(),createdAt:tn()}),A={apiKey:"your_paytech_key",apiSecret:"demo_api_secret",item_name:`PedaClic Premium ${j.nom}`,item_price:j.prix,currency:"XOF",ref_command:N.id,success_url:`${window.location.origin}/premium/success?ref=${N.id}`,cancel_url:`${window.location.origin}/premium/cancel?ref=${N.id}`,ipn_url:"/api/paytech/ipn",custom_field:JSON.stringify({userId:t.uid,planType:r,transactionId:N.id}),env:"test"},I=await(await fetch("https://paytech.sn/api/payment/request-payment",{method:"POST",headers:{"Content-Type":"application/json",API_KEY:A.apiKey,API_SECRET:A.apiSecret},body:JSON.stringify({item_name:A.item_name,item_price:A.item_price,currency:A.currency,ref_command:A.ref_command,command_name:`Abonnement Premium ${j.nom} - ${t.email}`,env:A.env,ipn_url:A.ipn_url,success_url:A.success_url,cancel_url:A.cancel_url,custom_field:A.custom_field})})).json();if(I.success===1&&I.redirect_url)window.location.href=I.redirect_url;else{console.log("Mode dmo PayTech - Simulation de paiement");const O=new Date,V=new Date(O);r==="mensuel"?V.setMonth(V.getMonth()+1):V.setFullYear(V.getFullYear()+1),await Mn(tt(Se,"users",t.uid),{isPremium:!0,subscriptionEnd:V,subscriptionPlan:r,updatedAt:tn()}),await Mn(tt(Se,"transactions",N.id),{statut:"success",paytechTransactionId:"DEMO_"+Date.now(),dateExpiration:V,updatedAt:tn()}),n("/premium/success",{state:{plan:j.nom,montant:j.prix,expiration:V.toLocaleDateString("fr-FR")}})}}catch(j){console.error("Erreur paiement:",j),f("Une erreur est survenue lors du paiement. Veuillez ressayer.")}finally{c(!1)}},_=j=>{p(h===j?null:j)},E=j=>j.toLocaleString("fr-FR")+" FCFA";if(g()){const j=t?.subscriptionEnd instanceof Date?t.subscriptionEnd:new Date(t?.subscriptionEnd||Date.now());return o.jsx("div",{className:"premium-page",children:o.jsx("div",{className:"container",children:o.jsxs("div",{className:"premium-already",children:[o.jsx("span",{className:"premium-already__icon",children:""}),o.jsx("h1",{children:"Vous tes dj Premium !"}),o.jsxs("p",{children:["Votre abonnement est actif jusqu'au"," ",o.jsx("strong",{children:j.toLocaleDateString("fr-FR")})]}),o.jsxs("div",{className:"premium-already__actions",children:[o.jsx(Xe,{to:"/disciplines",className:"btn btn--primary",children:"Accder aux cours"}),o.jsx(Xe,{to:"/dashboard",className:"btn btn--outline",children:"Mon tableau de bord"})]})]})})})}return o.jsxs("div",{className:"premium-page",children:[o.jsx("section",{className:"premium-hero",children:o.jsxs("div",{className:"container",children:[o.jsx("span",{className:"premium-hero__badge",children:" Premium"}),o.jsxs("h1",{className:"premium-hero__title",children:["Dbloquez tout le potentiel de ",o.jsx("span",{children:"PedaClic"})]}),o.jsx("p",{className:"premium-hero__subtitle",children:"Accdez  tous les cours, exercices corrigs, vidos et quiz de la 6me  la Terminale. Russissez vos examens !"})]})}),o.jsx("section",{className:"premium-pricing",children:o.jsxs("div",{className:"container",children:[o.jsx("h2",{className:"section-title",children:"Choisissez votre formule"}),o.jsx("div",{className:"pricing-cards",children:F_.map(j=>o.jsxs("div",{className:`pricing-card ${r===j.id?"pricing-card--selected":""} ${j.popular?"pricing-card--popular":""}`,onClick:()=>i(j.id),children:[j.popular&&o.jsx("span",{className:"pricing-card__badge",children:"Le plus populaire"}),o.jsxs("div",{className:"pricing-card__header",children:[o.jsx("h3",{className:"pricing-card__name",children:j.nom}),o.jsx("p",{className:"pricing-card__duration",children:j.duree})]}),o.jsxs("div",{className:"pricing-card__price",children:[j.prixOriginal&&o.jsx("span",{className:"pricing-card__original",children:E(j.prixOriginal)}),o.jsx("span",{className:"pricing-card__amount",children:E(j.prix)}),j.id==="mensuel"&&o.jsx("span",{className:"pricing-card__period",children:"/mois"})]}),j.economie&&o.jsxs("p",{className:"pricing-card__savings",children:["conomisez ",j.economie]}),o.jsx("div",{className:"pricing-card__radio",children:o.jsx("span",{className:`radio-dot ${r===j.id?"radio-dot--active":""}`})})]},j.id))}),o.jsxs("div",{className:"pricing-cta",children:[u&&o.jsxs("div",{className:"pricing-error",children:[o.jsx("span",{children:""})," ",u]}),t?o.jsx("button",{className:"btn btn--premium btn--lg",onClick:y,disabled:s,children:s?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-sm"}),"Traitement en cours..."]}):o.jsxs(o.Fragment,{children:["Payer ",E(F_.find(j=>j.id===r)?.prix||0)]})}):o.jsxs("div",{className:"pricing-login",children:[o.jsx("p",{children:"Connectez-vous pour souscrire  Premium"}),o.jsx(Xe,{to:"/connexion",state:{from:"/premium"},className:"btn btn--primary btn--lg",children:"Se connecter"}),o.jsxs("p",{className:"pricing-login__register",children:["Pas encore inscrit ?"," ",o.jsx(Xe,{to:"/inscription",state:{from:"/premium"},children:"Crer un compte"})]})]}),o.jsxs("div",{className:"payment-methods",children:[o.jsx("p",{children:"Paiement scuris par"}),o.jsxs("div",{className:"payment-methods__logos",children:[o.jsx("span",{className:"payment-logo",children:" Orange Money"}),o.jsx("span",{className:"payment-logo",children:" Wave"}),o.jsx("span",{className:"payment-logo",children:" Free Money"}),o.jsx("span",{className:"payment-logo",children:" Carte bancaire"})]})]})]})]})}),o.jsx("section",{className:"premium-features",children:o.jsxs("div",{className:"container",children:[o.jsx("h2",{className:"section-title",children:"Tout ce que vous obtenez"}),o.jsx("p",{className:"section-subtitle",children:"Un accs complet  toutes les ressources pdagogiques"}),o.jsx("div",{className:"features-grid",children:MY.map((j,N)=>o.jsxs("div",{className:"feature-card",children:[o.jsx("span",{className:"feature-card__icon",children:j.icone}),o.jsx("h3",{className:"feature-card__title",children:j.titre}),o.jsx("p",{className:"feature-card__description",children:j.description})]},N))})]})}),o.jsx("section",{className:"premium-comparison",children:o.jsxs("div",{className:"container",children:[o.jsx("h2",{className:"section-title",children:"Gratuit vs Premium"}),o.jsxs("div",{className:"comparison-table",children:[o.jsxs("div",{className:"comparison-header",children:[o.jsx("div",{className:"comparison-feature",children:"Fonctionnalits"}),o.jsx("div",{className:"comparison-free",children:"Gratuit"}),o.jsx("div",{className:"comparison-premium",children:"Premium"})]}),[{feature:"Cours de base",free:!0,premium:!0},{feature:"Exercices avec corrections",free:!1,premium:!0},{feature:"Vidos explicatives",free:!1,premium:!0},{feature:"Quiz interactifs",free:!1,premium:!0},{feature:"Suivi de progression",free:!1,premium:!0},{feature:"Tlchargement de documents",free:!1,premium:!0},{feature:"Support prioritaire",free:!1,premium:!0},{feature:"Accs mobile optimis",free:!0,premium:!0}].map((j,N)=>o.jsxs("div",{className:"comparison-row",children:[o.jsx("div",{className:"comparison-feature",children:j.feature}),o.jsx("div",{className:"comparison-free",children:j.free?o.jsx("span",{className:"check",children:""}):o.jsx("span",{className:"cross",children:""})}),o.jsx("div",{className:"comparison-premium",children:o.jsx("span",{className:"check check--premium",children:""})})]},N))]})]})}),o.jsx("section",{className:"premium-testimonials",children:o.jsxs("div",{className:"container",children:[o.jsx("h2",{className:"section-title",children:"Ils ont choisi Premium"}),o.jsxs("div",{className:"testimonials-grid",children:[o.jsxs("div",{className:"testimonial-card",children:[o.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),o.jsx("p",{className:"testimonial-card__text",children:`"Grce  PedaClic Premium, j'ai eu 16/20 au BFEM. Les exercices corrigs m'ont beaucoup aid !"`}),o.jsxs("div",{className:"testimonial-card__author",children:[o.jsx("div",{className:"testimonial-card__avatar",children:"AN"}),o.jsxs("div",{children:[o.jsx("p",{className:"testimonial-card__name",children:"Aminata Ndiaye"}),o.jsx("p",{className:"testimonial-card__info",children:"3me - Dakar"})]})]})]}),o.jsxs("div",{className:"testimonial-card",children:[o.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),o.jsx("p",{className:"testimonial-card__text",children:'"Les vidos sont trs bien expliques. Je comprends mieux les maths maintenant. Merci PedaClic !"'}),o.jsxs("div",{className:"testimonial-card__author",children:[o.jsx("div",{className:"testimonial-card__avatar",children:"IF"}),o.jsxs("div",{children:[o.jsx("p",{className:"testimonial-card__name",children:"Ibrahima Fall"}),o.jsx("p",{className:"testimonial-card__info",children:"Terminale S - This"})]})]})]}),o.jsxs("div",{className:"testimonial-card",children:[o.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),o.jsx("p",{className:"testimonial-card__text",children:`"20 000 FCFA pour l'anne, c'est vraiment abordable. Mon fils a accs  tout ce dont il a besoin."`}),o.jsxs("div",{className:"testimonial-card__author",children:[o.jsx("div",{className:"testimonial-card__avatar",children:"FD"}),o.jsxs("div",{children:[o.jsx("p",{className:"testimonial-card__name",children:"Fatou Diop"}),o.jsx("p",{className:"testimonial-card__info",children:"Parent d'lve - Saint-Louis"})]})]})]})]})]})}),o.jsx("section",{className:"premium-faq",children:o.jsxs("div",{className:"container",children:[o.jsx("h2",{className:"section-title",children:"Questions frquentes"}),o.jsx("div",{className:"faq-list",children:zY.map((j,N)=>o.jsxs("div",{className:`faq-item ${h===N?"faq-item--open":""}`,children:[o.jsxs("button",{className:"faq-item__question",onClick:()=>_(N),"aria-expanded":h===N,children:[o.jsx("span",{children:j.question}),o.jsx("span",{className:"faq-item__icon",children:h===N?"":"+"})]}),h===N&&o.jsx("div",{className:"faq-item__answer",children:o.jsx("p",{children:j.reponse})})]},N))})]})}),o.jsx("section",{className:"premium-cta-final",children:o.jsxs("div",{className:"container",children:[o.jsx("h2",{children:"Prt  russir vos examens ?"}),o.jsx("p",{children:"Rejoignez des milliers d'lves sngalais qui ont choisi PedaClic Premium"}),o.jsx("button",{className:"btn btn--white btn--lg",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"Commencer maintenant"})]})})]})},qY=[{title:"Principal",items:[{id:"dashboard",label:"Tableau de bord",icon:"",href:"/admin"},{id:"disciplines",label:"Disciplines",icon:"",href:"/admin/disciplines"},{id:"chapitres",label:"Chapitres",icon:"",href:"/admin/chapitres"},{id:"ressources",label:"Ressources",icon:"",href:"/admin/ressources"}]},{title:"valuation",items:[{id:"quiz",label:"Quiz",icon:"",href:"/admin/quiz"},{id:"resultats",label:"Rsultats",icon:"",href:"/admin/resultats"}]},{title:"Utilisateurs",items:[{id:"utilisateurs",label:"Tous les utilisateurs",icon:"",href:"/admin/utilisateurs"},{id:"premium",label:"Abonns Premium",icon:"",href:"/admin/premium"}]},{title:"Paramtres",items:[{id:"settings",label:"Configuration",icon:"",href:"/admin/settings"}]}],Lo=({children:t,currentPage:e="dashboard"})=>{const{currentUser:n,logout:r}=Zn(),[i,s]=w.useState(!0),[c,u]=w.useState(!1),f=async()=>{try{u(!0),await r(),window.location.href="/connexion"}catch(g){console.error("Erreur lors de la dconnexion:",g),u(!1)}},h=()=>n?.displayName?n.displayName.split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2):"AD",p=()=>{switch(n?.role){case"admin":return"Administrateur";case"prof":return"Professeur";case"eleve":return"lve";default:return"Utilisateur"}};return o.jsxs("div",{className:"admin-layout",children:[o.jsxs("aside",{className:`admin-sidebar ${i?"":"admin-sidebar--collapsed"}`,children:[o.jsx("header",{className:"admin-sidebar__header",children:o.jsxs("a",{href:"/",className:"admin-sidebar__logo",children:[o.jsx("div",{className:"admin-sidebar__logo-icon",children:""}),o.jsx("span",{children:"PedaClic"})]})}),o.jsx("nav",{className:"admin-sidebar__nav",children:qY.map((g,y)=>o.jsxs("div",{className:"admin-nav__section",children:[o.jsx("h3",{className:"admin-nav__title",children:g.title}),o.jsx("ul",{className:"admin-nav__list",children:g.items.map(_=>o.jsx("li",{className:"admin-nav__item",children:o.jsxs("a",{href:_.href,className:`admin-nav__link ${e===_.id?"admin-nav__link--active":""}`,children:[o.jsx("span",{className:"admin-nav__icon",children:_.icon}),o.jsx("span",{className:"admin-nav__label",children:_.label})]})},_.id))})]},y))}),o.jsx("footer",{className:"admin-sidebar__footer",children:o.jsxs("div",{className:"admin-user",children:[o.jsx("div",{className:"admin-user__avatar",children:h()}),o.jsxs("div",{className:"admin-user__info",children:[o.jsx("div",{className:"admin-user__name",children:n?.displayName||"Administrateur"}),o.jsx("div",{className:"admin-user__role",children:p()})]}),o.jsx("button",{onClick:f,disabled:c,className:"admin-logout-btn",title:"Se dconnecter",children:c?"...":""})]})})]}),o.jsxs("main",{className:"admin-content",children:[o.jsx("button",{className:"admin-sidebar-toggle",onClick:()=>s(!i),"aria-label":"Toggle sidebar",children:""}),t]}),o.jsx("style",{children:`
        /* Bouton de dconnexion */
        .admin-logout-btn {
          width: 36px;
          height: 36px;
          border: none;
          background: rgba(255, 255, 255, 0.1);
          color: white;
          border-radius: var(--radius-md);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all var(--transition-base);
          font-size: var(--text-lg);
        }

        .admin-logout-btn:hover {
          background: rgba(255, 255, 255, 0.2);
        }

        .admin-logout-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        /* Bouton toggle sidebar (mobile) */
        .admin-sidebar-toggle {
          display: none;
          position: fixed;
          top: var(--spacing-md);
          left: var(--spacing-md);
          z-index: var(--z-fixed);
          width: 44px;
          height: 44px;
          border: none;
          background: var(--color-primary);
          color: white;
          border-radius: var(--radius-md);
          cursor: pointer;
          font-size: var(--text-xl);
        }

        @media (max-width: 768px) {
          .admin-sidebar-toggle {
            display: flex;
            align-items: center;
            justify-content: center;
          }

          .admin-sidebar {
            transform: translateX(-100%);
            transition: transform var(--transition-base);
          }

          .admin-sidebar:not(.admin-sidebar--collapsed) {
            transform: translateX(0);
          }

          .admin-content {
            padding-top: calc(var(--spacing-xl) + 44px);
          }
        }

        /* Animation de la sidebar */
        .admin-sidebar--collapsed {
          width: 80px;
        }

        .admin-sidebar--collapsed .admin-nav__label,
        .admin-sidebar--collapsed .admin-nav__title,
        .admin-sidebar--collapsed .admin-sidebar__logo span,
        .admin-sidebar--collapsed .admin-user__info {
          display: none;
        }

        .admin-sidebar--collapsed .admin-sidebar__logo {
          justify-content: center;
        }
      `})]})},qo="chapitres",H_=t=>{const e=t.data();return{id:t.id,disciplineId:e.disciplineId,numero:e.numero,titre:e.titre,description:e.description,objectifs:e.objectifs||[],dureeEstimee:e.dureeEstimee,isPremium:e.isPremium||!1,actif:e.actif!==!1,createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()}},Uo={async getByDiscipline(t){try{const e=Ht(yt(Se,qo),at("disciplineId","==",t),Yr("numero","asc"));return(await Gt(e)).docs.map(H_)}catch(e){throw console.error("Erreur lors de la rcupration des chapitres:",e),new Error("Impossible de rcuprer les chapitres")}},async getAll(){try{const t=Ht(yt(Se,qo),Yr("numero","asc"));return(await Gt(t)).docs.map(H_)}catch(t){throw console.error("Erreur lors de la rcupration des chapitres:",t),new Error("Impossible de rcuprer les chapitres")}},async getById(t){try{const e=tt(Se,qo,t),n=await zi(e);return n.exists()?H_(n):null}catch(e){throw console.error("Erreur lors de la rcupration du chapitre:",e),new Error("Impossible de rcuprer le chapitre")}},async create(t){try{return(await ma(yt(Se,qo),{...t,actif:t.actif!==!1,createdAt:tn(),updatedAt:tn()})).id}catch(e){throw console.error("Erreur lors de la cration du chapitre:",e),new Error("Impossible de crer le chapitre")}},async update(t,e){try{const n=tt(Se,qo,t);await Mn(n,{...e,updatedAt:tn()})}catch(n){throw console.error("Erreur lors de la mise  jour du chapitre:",n),new Error("Impossible de mettre  jour le chapitre")}},async delete(t){try{const e=tt(Se,qo,t);await Cy(e)}catch(e){throw console.error("Erreur lors de la suppression du chapitre:",e),new Error("Impossible de supprimer le chapitre")}},async deleteByDiscipline(t){try{const e=await this.getByDiscipline(t),n=Sh(Se);e.forEach(r=>{const i=tt(Se,qo,r.id);n.delete(i)}),await n.commit()}catch(e){throw console.error("Erreur lors de la suppression des chapitres:",e),new Error("Impossible de supprimer les chapitres")}},async reorder(t,e){try{const n=Sh(Se);e.forEach((r,i)=>{const s=tt(Se,qo,r);n.update(s,{numero:i+1,updatedAt:tn()})}),await n.commit()}catch(n){throw console.error("Erreur lors de la rorganisation des chapitres:",n),new Error("Impossible de rorganiser les chapitres")}},async toggleActive(t,e){await this.update(t,{actif:e})},async countByDiscipline(t){return(await this.getByDiscipline(t)).length},async getNextNumero(t){return await this.countByDiscipline(t)+1}},UY=()=>{const{currentUser:t}=Zn(),[e,n]=w.useState({totalDisciplines:0,totalChapitres:0,totalRessources:0,ressourcesPremium:0,ressourcesGratuites:0,ressourcesParType:{cours:0,exercice:0,video:0,document:0,quiz:0}}),[r,i]=w.useState(!0),[s,c]=w.useState(null);return w.useEffect(()=>{(async()=>{try{i(!0),c(null);const[f,h,p]=await Promise.all([aa.getAll(),Uo.getAll(),ws.getStats()]);n({totalDisciplines:f.length,totalChapitres:h.length,totalRessources:p.total,ressourcesPremium:p.premium,ressourcesGratuites:p.gratuit,ressourcesParType:p.parType})}catch(f){console.error("Erreur lors du chargement des statistiques:",f),c("Impossible de charger les statistiques")}finally{i(!1)}})()},[]),o.jsxs("div",{className:"admin-dashboard",children:[o.jsx("header",{className:"admin-page-header",children:o.jsxs("div",{className:"admin-page-header__info",children:[o.jsx("h1",{className:"admin-page-header__title",children:"Tableau de bord"}),o.jsxs("p",{className:"admin-page-header__subtitle",children:["Bienvenue, ",t?.displayName||"Administrateur"," ! Grez votre contenu pdagogique depuis cette interface."]})]})}),s&&o.jsxs("div",{className:"alert alert--error",children:[o.jsx("span",{className:"alert__icon",children:""}),o.jsx("div",{className:"alert__content",children:o.jsx("p",{className:"alert__message",children:s})})]}),r?o.jsxs("div",{className:"loading-container",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Chargement des statistiques..."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"stats-grid",children:[o.jsxs("div",{className:"stat-card",children:[o.jsx("div",{className:"stat-card__icon stat-card__icon--primary",children:""}),o.jsxs("div",{className:"stat-card__content",children:[o.jsx("div",{className:"stat-card__value",children:e.totalDisciplines}),o.jsx("div",{className:"stat-card__label",children:"Disciplines"})]})]}),o.jsxs("div",{className:"stat-card",children:[o.jsx("div",{className:"stat-card__icon stat-card__icon--secondary",children:""}),o.jsxs("div",{className:"stat-card__content",children:[o.jsx("div",{className:"stat-card__value",children:e.totalChapitres}),o.jsx("div",{className:"stat-card__label",children:"Chapitres"})]})]}),o.jsxs("div",{className:"stat-card",children:[o.jsx("div",{className:"stat-card__icon stat-card__icon--info",children:""}),o.jsxs("div",{className:"stat-card__content",children:[o.jsx("div",{className:"stat-card__value",children:e.totalRessources}),o.jsx("div",{className:"stat-card__label",children:"Ressources"})]})]}),o.jsxs("div",{className:"stat-card",children:[o.jsx("div",{className:"stat-card__icon stat-card__icon--warning",children:""}),o.jsxs("div",{className:"stat-card__content",children:[o.jsx("div",{className:"stat-card__value",children:e.ressourcesPremium}),o.jsx("div",{className:"stat-card__label",children:"Ressources Premium"})]})]})]}),o.jsxs("section",{className:"content-card",children:[o.jsx("div",{className:"content-card__header",children:o.jsx("h2",{children:"Rpartition des ressources par type"})}),o.jsx("div",{className:"content-card__body",children:o.jsxs("div",{className:"resource-type-grid",children:[o.jsxs("div",{className:"resource-type-item",children:[o.jsx("div",{className:"resource-item__icon resource-item__icon--cours",children:""}),o.jsxs("div",{className:"resource-type-info",children:[o.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.cours}),o.jsx("span",{className:"resource-type-label",children:"Cours"})]})]}),o.jsxs("div",{className:"resource-type-item",children:[o.jsx("div",{className:"resource-item__icon resource-item__icon--exercice",children:""}),o.jsxs("div",{className:"resource-type-info",children:[o.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.exercice}),o.jsx("span",{className:"resource-type-label",children:"Exercices"})]})]}),o.jsxs("div",{className:"resource-type-item",children:[o.jsx("div",{className:"resource-item__icon resource-item__icon--video",children:""}),o.jsxs("div",{className:"resource-type-info",children:[o.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.video}),o.jsx("span",{className:"resource-type-label",children:"Vidos"})]})]}),o.jsxs("div",{className:"resource-type-item",children:[o.jsx("div",{className:"resource-item__icon resource-item__icon--document",children:""}),o.jsxs("div",{className:"resource-type-info",children:[o.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.document}),o.jsx("span",{className:"resource-type-label",children:"Documents"})]})]}),o.jsxs("div",{className:"resource-type-item",children:[o.jsx("div",{className:"resource-item__icon resource-item__icon--quiz",children:""}),o.jsxs("div",{className:"resource-type-info",children:[o.jsx("span",{className:"resource-type-value",children:e.ressourcesParType.quiz}),o.jsx("span",{className:"resource-type-label",children:"Quiz"})]})]})]})})]}),o.jsxs("section",{className:"content-card",style:{marginTop:"var(--spacing-xl)"},children:[o.jsx("div",{className:"content-card__header",children:o.jsx("h2",{children:"Actions rapides"})}),o.jsx("div",{className:"content-card__body",children:o.jsxs("div",{className:"quick-actions-grid",children:[o.jsxs("a",{href:"/admin/disciplines",className:"quick-action-card",children:[o.jsx("div",{className:"quick-action-icon",children:""}),o.jsxs("div",{className:"quick-action-content",children:[o.jsx("h3",{children:"Grer les disciplines"}),o.jsx("p",{children:"Ajouter, modifier ou supprimer des matires"})]})]}),o.jsxs("a",{href:"/admin/chapitres",className:"quick-action-card",children:[o.jsx("div",{className:"quick-action-icon",children:""}),o.jsxs("div",{className:"quick-action-content",children:[o.jsx("h3",{children:"Grer les chapitres"}),o.jsx("p",{children:"Organiser le contenu par chapitres"})]})]}),o.jsxs("a",{href:"/admin/ressources",className:"quick-action-card",children:[o.jsx("div",{className:"quick-action-icon",children:""}),o.jsxs("div",{className:"quick-action-content",children:[o.jsx("h3",{children:"Grer les ressources"}),o.jsx("p",{children:"Cours, exercices, vidos et documents"})]})]}),o.jsxs("a",{href:"/admin/utilisateurs",className:"quick-action-card",children:[o.jsx("div",{className:"quick-action-icon",children:""}),o.jsxs("div",{className:"quick-action-content",children:[o.jsx("h3",{children:"Grer les utilisateurs"}),o.jsx("p",{children:"lves, professeurs et administrateurs"})]})]})]})})]})]}),o.jsx("style",{children:`
        /* Grille des types de ressources */
        .resource-type-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
          gap: var(--spacing-lg);
        }

        .resource-type-item {
          display: flex;
          align-items: center;
          gap: var(--spacing-md);
          padding: var(--spacing-md);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-lg);
        }

        .resource-type-info {
          display: flex;
          flex-direction: column;
        }

        .resource-type-value {
          font-size: var(--text-2xl);
          font-weight: var(--font-bold);
          color: var(--color-text);
        }

        .resource-type-label {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        /* Actions rapides */
        .quick-actions-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
          gap: var(--spacing-lg);
        }

        .quick-action-card {
          display: flex;
          align-items: flex-start;
          gap: var(--spacing-lg);
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          text-decoration: none;
          color: inherit;
          transition: all var(--transition-base);
        }

        .quick-action-card:hover {
          border-color: var(--color-primary);
          box-shadow: var(--shadow-md);
          transform: translateY(-2px);
        }

        .quick-action-icon {
          font-size: 2rem;
          line-height: 1;
        }

        .quick-action-content h3 {
          font-size: var(--text-base);
          font-weight: var(--font-semibold);
          margin-bottom: var(--spacing-xs);
          color: var(--color-text);
        }

        .quick-action-content p {
          font-size: var(--text-sm);
          color: var(--color-text-light);
          margin: 0;
        }

        @media (max-width: 768px) {
          .resource-type-grid,
          .quick-actions-grid {
            grid-template-columns: 1fr;
          }
        }
      `})]})},kO=[{value:"college",label:"Collge"},{value:"lycee",label:"Lyce"}],tg={college:[{value:"6eme",label:"6me"},{value:"5eme",label:"5me"},{value:"4eme",label:"4me"},{value:"3eme",label:"3me"}],lycee:[{value:"2nde",label:"Seconde"},{value:"1ere",label:"Premire"},{value:"Terminale",label:"Terminale"}]},VY=[{value:"#2563eb",label:"Bleu"},{value:"#059669",label:"Vert"},{value:"#dc2626",label:"Rouge"},{value:"#7c3aed",label:"Violet"},{value:"#ea580c",label:"Orange"},{value:"#0891b2",label:"Cyan"},{value:"#be185d",label:"Rose"},{value:"#4b5563",label:"Gris"}],G_={nom:"",niveau:"college",classe:"6eme",ordre:1,coefficient:1,couleur:"#2563eb",icone:"",description:""},BY=()=>{const[t,e]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState(!0),[c,u]=w.useState(!1),[f,h]=w.useState(null),[p,g]=w.useState(null),[y,_]=w.useState(null),[E,j]=w.useState(!1),[N,A]=w.useState(!1),[D,I]=w.useState(null),[O,V]=w.useState(null),[B,k]=w.useState(G_),[C,R]=w.useState({}),[U,L]=w.useState(""),[z,M]=w.useState(""),[Q,W]=w.useState(""),G=w.useCallback(async()=>{try{s(!0),g(null);const H=await aa.getAll();e(H),r(H)}catch(H){console.error("Erreur lors du chargement:",H),g("Impossible de charger les disciplines. Veuillez ressayer.")}finally{s(!1)}},[]);w.useEffect(()=>{G()},[G]),w.useEffect(()=>{let H=[...t];if(U&&(H=H.filter(de=>de.niveau===U)),z&&(H=H.filter(de=>de.classe===z)),Q){const de=Q.toLowerCase();H=H.filter(Ce=>Ce.nom.toLowerCase().includes(de)||Ce.description?.toLowerCase().includes(de))}r(H)},[t,U,z,Q]);const le=()=>{const H={};return B.nom.trim()?B.nom.length<2&&(H.nom="Le nom doit contenir au moins 2 caractres"):H.nom="Le nom de la discipline est requis",B.niveau||(H.niveau="Veuillez slectionner un niveau"),B.classe||(H.classe="Veuillez slectionner une classe"),B.ordre<1&&(H.ordre="L'ordre doit tre suprieur  0"),R(H),Object.keys(H).length===0},be=()=>{I(null),k(G_),R({}),j(!0)},je=H=>{I(H),k({nom:H.nom,niveau:H.niveau,classe:H.classe,ordre:H.ordre,coefficient:H.coefficient,couleur:H.couleur,icone:H.icone,description:H.description}),R({}),j(!0)},X=H=>{V(H),A(!0)},F=()=>{j(!1),A(!1),I(null),V(null),k(G_),R({})},ne=H=>{const{name:de,value:Ce,type:ie}=H.target;if(de==="niveau"){const Ee=Ce;k(Z=>({...Z,niveau:Ee,classe:tg[Ee][0].value}))}else k(Ee=>({...Ee,[de]:ie==="number"?Number(Ce):Ce}));C[de]&&R(Ee=>({...Ee,[de]:void 0}))},pe=async H=>{if(H.preventDefault(),!!le())try{u(!0),g(null),D?(await aa.update(D.id,B),_("Discipline modifie avec succs !")):(await aa.create(B),_("Discipline cre avec succs !")),F(),await G(),setTimeout(()=>_(null),3e3)}catch(de){console.error("Erreur lors de la sauvegarde:",de),g("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{u(!1)}},we=async()=>{if(O)try{h(O.id),await aa.delete(O.id),_("Discipline supprime avec succs !"),F(),await G(),setTimeout(()=>_(null),3e3)}catch(H){console.error("Erreur lors de la suppression:",H),g("Erreur lors de la suppression. Veuillez ressayer.")}finally{h(null)}},J=H=>{for(const de of Object.values(tg)){const Ce=de.find(ie=>ie.value===H);if(Ce)return Ce.label}return H};return o.jsxs("div",{className:"discipline-manager",children:[o.jsxs("header",{className:"admin-page-header",children:[o.jsxs("div",{className:"admin-page-header__info",children:[o.jsx("h1",{className:"admin-page-header__title",children:"Gestion des Disciplines"}),o.jsx("p",{className:"admin-page-header__subtitle",children:"Grez les matires enseignes sur PedaClic"})]}),o.jsx("div",{className:"admin-page-header__actions",children:o.jsxs("button",{onClick:be,className:"btn btn--primary",children:[o.jsx("span",{children:""}),"Nouvelle discipline"]})})]}),p&&o.jsxs("div",{className:"alert alert--error",children:[o.jsx("span",{className:"alert__icon",children:""}),o.jsx("div",{className:"alert__content",children:o.jsx("p",{className:"alert__message",children:p})}),o.jsx("button",{onClick:()=>g(null),className:"alert__close",children:""})]}),y&&o.jsxs("div",{className:"alert alert--success",children:[o.jsx("span",{className:"alert__icon",children:""}),o.jsx("div",{className:"alert__content",children:o.jsx("p",{className:"alert__message",children:y})})]}),o.jsxs("div",{className:"admin-table-container",children:[o.jsxs("div",{className:"admin-table-header",children:[o.jsxs("h2",{className:"admin-table-title",children:["Liste des disciplines (",n.length,")"]}),o.jsxs("div",{className:"admin-table-actions",children:[o.jsxs("div",{className:"search-input",children:[o.jsx("span",{className:"search-input__icon",children:""}),o.jsx("input",{type:"text",className:"search-input__field",placeholder:"Rechercher...",value:Q,onChange:H=>W(H.target.value)})]}),o.jsxs("select",{className:"form-select",value:U,onChange:H=>L(H.target.value),style:{width:"auto"},children:[o.jsx("option",{value:"",children:"Tous les niveaux"}),kO.map(H=>o.jsx("option",{value:H.value,children:H.label},H.value))]}),o.jsxs("select",{className:"form-select",value:z,onChange:H=>M(H.target.value),style:{width:"auto"},disabled:!U,children:[o.jsx("option",{value:"",children:"Toutes les classes"}),U&&tg[U].map(H=>o.jsx("option",{value:H.value,children:H.label},H.value))]})]})]}),i?o.jsxs("div",{className:"loading-container",style:{padding:"var(--spacing-2xl)"},children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Chargement des disciplines..."})]}):n.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"empty-state__icon",children:""}),o.jsx("h3",{className:"empty-state__title",children:"Aucune discipline trouve"}),o.jsx("p",{className:"empty-state__message",children:Q||U||z?"Aucune discipline ne correspond aux critres de recherche.":"Commencez par crer votre premire discipline."}),!Q&&!U&&!z&&o.jsx("button",{onClick:be,className:"btn btn--primary",children:"Crer une discipline"})]}):o.jsxs("table",{className:"admin-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Discipline"}),o.jsx("th",{children:"Niveau"}),o.jsx("th",{children:"Classe"}),o.jsx("th",{children:"Coefficient"}),o.jsx("th",{children:"Ordre"}),o.jsx("th",{children:"Actions"})]})}),o.jsx("tbody",{children:n.map(H=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("div",{className:"table-cell-icon",children:[o.jsx("div",{className:"table-icon",style:{backgroundColor:`${H.couleur}20`,color:H.couleur},children:H.icone||""}),o.jsxs("div",{children:[o.jsx("strong",{children:H.nom}),H.description&&o.jsx("div",{className:"text-muted text-sm",children:H.description})]})]})}),o.jsx("td",{children:o.jsx("span",{className:`badge badge--${H.niveau==="college"?"primary":"secondary"}`,children:H.niveau==="college"?"Collge":"Lyce"})}),o.jsx("td",{children:J(H.classe)}),o.jsx("td",{children:H.coefficient||"-"}),o.jsx("td",{children:H.ordre}),o.jsx("td",{children:o.jsxs("div",{className:"table-actions",children:[o.jsx("button",{onClick:()=>je(H),className:"table-action-btn table-action-btn--edit",title:"Modifier",children:""}),o.jsx("button",{onClick:()=>X(H),className:"table-action-btn table-action-btn--delete",title:"Supprimer",disabled:f===H.id,children:f===H.id?"":""})]})})]},H.id))})]})]}),E&&o.jsx("div",{className:"modal-overlay",onClick:F,children:o.jsxs("div",{className:"modal modal--lg",onClick:H=>H.stopPropagation(),children:[o.jsxs("div",{className:"modal__header",children:[o.jsx("h2",{className:"modal__title",children:D?"Modifier la discipline":"Nouvelle discipline"}),o.jsx("button",{onClick:F,className:"modal__close",children:""})]}),o.jsxs("form",{onSubmit:pe,children:[o.jsxs("div",{className:"modal__body",children:[o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",style:{flex:2},children:[o.jsx("label",{className:"form-label form-label--required",children:"Nom de la discipline"}),o.jsx("input",{type:"text",name:"nom",className:`form-input ${C.nom?"form-input--error":""}`,placeholder:"Ex: Mathmatiques, Franais, SVT...",value:B.nom,onChange:ne}),C.nom&&o.jsx("span",{className:"form-error",children:C.nom})]}),o.jsxs("div",{className:"form-group",style:{flex:1},children:[o.jsx("label",{className:"form-label",children:"Icne"}),o.jsx("input",{type:"text",name:"icone",className:"form-input",placeholder:"",value:B.icone||"",onChange:ne,maxLength:4}),o.jsx("span",{className:"form-helper",children:"Emoji uniquement"})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label form-label--required",children:"Niveau"}),o.jsx("select",{name:"niveau",className:`form-select ${C.niveau?"form-select--error":""}`,value:B.niveau,onChange:ne,children:kO.map(H=>o.jsx("option",{value:H.value,children:H.label},H.value))}),C.niveau&&o.jsx("span",{className:"form-error",children:C.niveau})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label form-label--required",children:"Classe"}),o.jsx("select",{name:"classe",className:`form-select ${C.classe?"form-select--error":""}`,value:B.classe,onChange:ne,children:tg[B.niveau].map(H=>o.jsx("option",{value:H.value,children:H.label},H.value))}),C.classe&&o.jsx("span",{className:"form-error",children:C.classe})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Coefficient"}),o.jsx("input",{type:"number",name:"coefficient",className:"form-input",min:"1",max:"10",value:B.coefficient||1,onChange:ne}),o.jsx("span",{className:"form-helper",children:"Pour les calculs de moyennes"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label form-label--required",children:"Ordre d'affichage"}),o.jsx("input",{type:"number",name:"ordre",className:`form-input ${C.ordre?"form-input--error":""}`,min:"1",value:B.ordre,onChange:ne}),C.ordre&&o.jsx("span",{className:"form-error",children:C.ordre})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Couleur"}),o.jsx("div",{className:"color-picker",children:VY.map(H=>o.jsx("button",{type:"button",className:`color-option ${B.couleur===H.value?"color-option--active":""}`,style:{backgroundColor:H.value},onClick:()=>k(de=>({...de,couleur:H.value})),title:H.label,children:B.couleur===H.value&&""},H.value))})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Description (optionnel)"}),o.jsx("textarea",{name:"description",className:"form-textarea",placeholder:"Description courte de la discipline...",rows:3,value:B.description||"",onChange:ne})]})]}),o.jsxs("div",{className:"modal__footer",children:[o.jsx("button",{type:"button",onClick:F,className:"btn btn--outline",disabled:c,children:"Annuler"}),o.jsx("button",{type:"submit",className:"btn btn--primary",disabled:c,children:c?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-small"}),"Enregistrement..."]}):D?"Mettre  jour":"Crer la discipline"})]})]})]})}),N&&O&&o.jsx("div",{className:"modal-overlay",onClick:F,children:o.jsxs("div",{className:"modal",onClick:H=>H.stopPropagation(),children:[o.jsxs("div",{className:"modal__header",children:[o.jsx("h2",{className:"modal__title",children:"Confirmer la suppression"}),o.jsx("button",{onClick:F,className:"modal__close",children:""})]}),o.jsxs("div",{className:"modal__body",children:[o.jsxs("p",{children:["tes-vous sr de vouloir supprimer la discipline",o.jsxs("strong",{children:[" ",O.nom]})," ?"]}),o.jsxs("div",{className:"alert alert--warning",style:{marginTop:"var(--spacing-md)"},children:[o.jsx("span",{className:"alert__icon",children:""}),o.jsx("div",{className:"alert__content",children:o.jsx("p",{className:"alert__message",children:"Cette action est irrversible. Tous les chapitres et ressources associs devront tre supprims manuellement."})})]})]}),o.jsxs("div",{className:"modal__footer",children:[o.jsx("button",{onClick:F,className:"btn btn--outline",disabled:f!==null,children:"Annuler"}),o.jsx("button",{onClick:we,className:"btn btn--danger",disabled:f!==null,children:f?"Suppression...":"Supprimer"})]})]})}),o.jsx("style",{children:`
        /* Ligne de formulaire */
        .form-row {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: var(--spacing-lg);
        }

        @media (max-width: 600px) {
          .form-row {
            grid-template-columns: 1fr;
          }
        }

        /* Slecteur de couleur */
        .color-picker {
          display: flex;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
        }

        .color-option {
          width: 36px;
          height: 36px;
          border: 2px solid transparent;
          border-radius: var(--radius-md);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-weight: bold;
          transition: all var(--transition-base);
        }

        .color-option:hover {
          transform: scale(1.1);
        }

        .color-option--active {
          border-color: var(--color-text);
          box-shadow: 0 0 0 2px white, 0 0 0 4px var(--color-text);
        }

        /* Fermer l'alerte */
        .alert__close {
          background: none;
          border: none;
          cursor: pointer;
          font-size: var(--text-lg);
          opacity: 0.7;
          transition: opacity var(--transition-base);
        }

        .alert__close:hover {
          opacity: 1;
        }

        /* Spinner petit pour les boutons */
        .spinner-small {
          width: 16px;
          height: 16px;
          border: 2px solid rgba(255, 255, 255, 0.3);
          border-top-color: white;
          border-radius: 50%;
          animation: spin 0.8s linear infinite;
        }

        /* Ajustement du form-select */
        .form-select {
          min-width: 150px;
        }
      `})]})},DO={numero:1,titre:"",description:"",objectifs:[],dureeEstimee:void 0,isPremium:!1,actif:!0},$Y=()=>{const[t,e]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState(""),[c,u]=w.useState(!0),[f,h]=w.useState(!1),[p,g]=w.useState(!1),[y,_]=w.useState(null),[E,j]=w.useState(null),[N,A]=w.useState(null),[D,I]=w.useState(!1),[O,V]=w.useState(!1),[B,k]=w.useState(null),[C,R]=w.useState(null),[U,L]=w.useState({...DO,disciplineId:""}),[z,M]=w.useState({}),[Q,W]=w.useState(""),G=w.useCallback(async()=>{try{u(!0);const Z=await aa.getAll();e(Z),Z.length>0&&!i&&s(Z[0].id)}catch(Z){console.error("Erreur lors du chargement des disciplines:",Z),j("Impossible de charger les disciplines.")}finally{u(!1)}},[i]),le=w.useCallback(async()=>{if(!i){r([]);return}try{h(!0);const Z=await Uo.getByDiscipline(i);r(Z)}catch(Z){console.error("Erreur lors du chargement des chapitres:",Z),j("Impossible de charger les chapitres.")}finally{h(!1)}},[i]);w.useEffect(()=>{G()},[G]),w.useEffect(()=>{le()},[le]);const be=()=>{const Z={};return U.disciplineId||(Z.disciplineId="Veuillez slectionner une discipline"),U.titre.trim()?U.titre.length<3&&(Z.titre="Le titre doit contenir au moins 3 caractres"):Z.titre="Le titre du chapitre est requis",U.numero<1&&(Z.numero="Le numro doit tre suprieur  0"),M(Z),Object.keys(Z).length===0},je=Z=>{s(Z),j(null)},X=async()=>{const Z=await Uo.getNextNumero(i);k(null),L({...DO,disciplineId:i,numero:Z}),M({}),W(""),I(!0)},F=Z=>{k(Z),L({disciplineId:Z.disciplineId,numero:Z.numero,titre:Z.titre,description:Z.description,objectifs:Z.objectifs||[],dureeEstimee:Z.dureeEstimee,isPremium:Z.isPremium,actif:Z.actif}),M({}),W(""),I(!0)},ne=Z=>{R(Z),V(!0)},pe=()=>{I(!1),V(!1),k(null),R(null),M({}),W("")},we=Z=>{const{name:ge,value:De,type:$e}=Z.target,st=Z.target.checked;L(ft=>({...ft,[ge]:$e==="checkbox"?st:$e==="number"?Number(De):De})),z[ge]&&M(ft=>({...ft,[ge]:void 0}))},J=()=>{Q.trim()&&(L(Z=>({...Z,objectifs:[...Z.objectifs||[],Q.trim()]})),W(""))},H=Z=>{L(ge=>({...ge,objectifs:(ge.objectifs||[]).filter((De,$e)=>$e!==Z)}))},de=async Z=>{if(Z.preventDefault(),!!be())try{g(!0),j(null),B?(await Uo.update(B.id,U),A("Chapitre modifi avec succs !")):(await Uo.create(U),A("Chapitre cr avec succs !")),pe(),await le(),setTimeout(()=>A(null),3e3)}catch(ge){console.error("Erreur lors de la sauvegarde:",ge),j("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{g(!1)}},Ce=async()=>{if(C)try{_(C.id),await Uo.delete(C.id),A("Chapitre supprim avec succs !"),pe(),await le(),setTimeout(()=>A(null),3e3)}catch(Z){console.error("Erreur lors de la suppression:",Z),j("Erreur lors de la suppression. Veuillez ressayer.")}finally{_(null)}},ie=async Z=>{try{await Uo.toggleActive(Z.id,!Z.actif),await le(),A(Z.actif?"Chapitre dsactiv":"Chapitre activ"),setTimeout(()=>A(null),2e3)}catch{j("Erreur lors de la mise  jour")}},Ee=Z=>{const ge=t.find(De=>De.id===Z);return ge?ge.nom:"Non trouve"};return o.jsxs("div",{className:"chapitre-manager",children:[o.jsxs("header",{className:"admin-page-header",children:[o.jsxs("div",{className:"admin-page-header__info",children:[o.jsx("h1",{className:"admin-page-header__title",children:"Gestion des Chapitres"}),o.jsx("p",{className:"admin-page-header__subtitle",children:"Organisez le contenu pdagogique par chapitres"})]}),o.jsx("div",{className:"admin-page-header__actions",children:o.jsxs("button",{onClick:X,className:"btn btn--primary",disabled:!i||c,children:[o.jsx("span",{children:""}),"Nouveau chapitre"]})})]}),E&&o.jsxs("div",{className:"alert alert--error",children:[o.jsx("span",{className:"alert__icon",children:""}),o.jsx("div",{className:"alert__content",children:o.jsx("p",{className:"alert__message",children:E})}),o.jsx("button",{onClick:()=>j(null),className:"alert__close",children:""})]}),N&&o.jsxs("div",{className:"alert alert--success",children:[o.jsx("span",{className:"alert__icon",children:""}),o.jsx("div",{className:"alert__content",children:o.jsx("p",{className:"alert__message",children:N})})]}),o.jsx("div",{className:"content-card",style:{marginBottom:"var(--spacing-lg)"},children:o.jsx("div",{className:"content-card__body",children:o.jsxs("div",{className:"discipline-selector",children:[o.jsx("label",{className:"form-label",children:"Slectionner une discipline :"}),c?o.jsx("p",{className:"text-muted",children:"Chargement des disciplines..."}):t.length===0?o.jsxs("p",{className:"text-muted",children:["Aucune discipline disponible.",o.jsx("a",{href:"/admin/disciplines",children:" Crer une discipline"})]}):o.jsx("div",{className:"discipline-tabs",children:t.map(Z=>o.jsxs("button",{className:`discipline-tab ${i===Z.id?"discipline-tab--active":""}`,onClick:()=>je(Z.id),style:{"--discipline-color":Z.couleur||"#2563eb"},children:[o.jsx("span",{className:"discipline-tab__icon",children:Z.icone||""}),o.jsx("span",{className:"discipline-tab__name",children:Z.nom}),o.jsx("span",{className:"discipline-tab__class",children:Z.classe})]},Z.id))})]})})}),o.jsxs("div",{className:"admin-table-container",children:[o.jsx("div",{className:"admin-table-header",children:o.jsxs("h2",{className:"admin-table-title",children:["Chapitres ",i&&`- ${Ee(i)}`,n.length>0&&` (${n.length})`]})}),f?o.jsxs("div",{className:"loading-container",style:{padding:"var(--spacing-2xl)"},children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Chargement des chapitres..."})]}):i?n.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"empty-state__icon",children:""}),o.jsx("h3",{className:"empty-state__title",children:"Aucun chapitre"}),o.jsx("p",{className:"empty-state__message",children:"Cette discipline n'a pas encore de chapitres."}),o.jsx("button",{onClick:X,className:"btn btn--primary",children:"Crer le premier chapitre"})]}):o.jsx("div",{className:"chapitres-list",children:n.map(Z=>o.jsxs("div",{className:`chapitre-card ${Z.actif?"":"chapitre-card--inactive"}`,children:[o.jsx("div",{className:"chapitre-card__number",children:Z.numero}),o.jsxs("div",{className:"chapitre-card__content",children:[o.jsxs("h3",{className:"chapitre-card__title",children:[Z.titre,Z.isPremium&&o.jsx("span",{className:"badge badge--premium",children:"Premium"}),!Z.actif&&o.jsx("span",{className:"badge badge--warning",children:"Inactif"})]}),Z.description&&o.jsx("p",{className:"chapitre-card__description",children:Z.description}),o.jsxs("div",{className:"chapitre-card__meta",children:[Z.dureeEstimee&&o.jsxs("span",{children:[" ",Z.dureeEstimee,"h estime"]}),Z.objectifs&&Z.objectifs.length>0&&o.jsxs("span",{children:[" ",Z.objectifs.length," objectif(s)"]})]})]}),o.jsxs("div",{className:"chapitre-card__actions",children:[o.jsx("button",{onClick:()=>ie(Z),className:`table-action-btn ${Z.actif?"table-action-btn--view":"table-action-btn--edit"}`,title:Z.actif?"Dsactiver":"Activer",children:Z.actif?"":""}),o.jsx("button",{onClick:()=>F(Z),className:"table-action-btn table-action-btn--edit",title:"Modifier",children:""}),o.jsx("button",{onClick:()=>ne(Z),className:"table-action-btn table-action-btn--delete",title:"Supprimer",disabled:y===Z.id,children:y===Z.id?"":""})]})]},Z.id))}):o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"empty-state__icon",children:""}),o.jsx("h3",{className:"empty-state__title",children:"Slectionnez une discipline"}),o.jsx("p",{className:"empty-state__message",children:"Choisissez une discipline ci-dessus pour voir ses chapitres."})]})]}),D&&o.jsx("div",{className:"modal-overlay",onClick:pe,children:o.jsxs("div",{className:"modal modal--lg",onClick:Z=>Z.stopPropagation(),children:[o.jsxs("div",{className:"modal__header",children:[o.jsx("h2",{className:"modal__title",children:B?"Modifier le chapitre":"Nouveau chapitre"}),o.jsx("button",{onClick:pe,className:"modal__close",children:""})]}),o.jsxs("form",{onSubmit:de,children:[o.jsxs("div",{className:"modal__body",children:[!B&&o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label form-label--required",children:"Discipline"}),o.jsxs("select",{name:"disciplineId",className:`form-select ${z.disciplineId?"form-select--error":""}`,value:U.disciplineId,onChange:we,children:[o.jsx("option",{value:"",children:"Slectionner une discipline"}),t.map(Z=>o.jsxs("option",{value:Z.id,children:[Z.icone," ",Z.nom," (",Z.classe,")"]},Z.id))]}),z.disciplineId&&o.jsx("span",{className:"form-error",children:z.disciplineId})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",style:{flex:"0 0 100px"},children:[o.jsx("label",{className:"form-label form-label--required",children:"N"}),o.jsx("input",{type:"number",name:"numero",className:`form-input ${z.numero?"form-input--error":""}`,min:"1",value:U.numero,onChange:we}),z.numero&&o.jsx("span",{className:"form-error",children:z.numero})]}),o.jsxs("div",{className:"form-group",style:{flex:1},children:[o.jsx("label",{className:"form-label form-label--required",children:"Titre du chapitre"}),o.jsx("input",{type:"text",name:"titre",className:`form-input ${z.titre?"form-input--error":""}`,placeholder:"Ex: Les fractions, La Rvolution franaise...",value:U.titre,onChange:we}),z.titre&&o.jsx("span",{className:"form-error",children:z.titre})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Description"}),o.jsx("textarea",{name:"description",className:"form-textarea",rows:3,placeholder:"Description du chapitre...",value:U.description||"",onChange:we})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Objectifs pdagogiques"}),o.jsxs("div",{className:"objectifs-input",children:[o.jsx("input",{type:"text",className:"form-input",placeholder:"Ajouter un objectif...",value:Q,onChange:Z=>W(Z.target.value),onKeyPress:Z=>Z.key==="Enter"&&(Z.preventDefault(),J())}),o.jsx("button",{type:"button",onClick:J,className:"btn btn--outline btn--sm",children:"Ajouter"})]}),U.objectifs&&U.objectifs.length>0&&o.jsx("ul",{className:"objectifs-list",children:U.objectifs.map((Z,ge)=>o.jsxs("li",{className:"objectif-item",children:[o.jsxs("span",{children:[" ",Z]}),o.jsx("button",{type:"button",onClick:()=>H(ge),className:"objectif-remove",children:""})]},ge))})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Dure estime (heures)"}),o.jsx("input",{type:"number",name:"dureeEstimee",className:"form-input",min:"0",step:"0.5",placeholder:"Ex: 2",value:U.dureeEstimee||"",onChange:we})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Options"}),o.jsxs("div",{className:"form-options",children:[o.jsxs("label",{className:"form-checkbox",children:[o.jsx("input",{type:"checkbox",name:"isPremium",checked:U.isPremium,onChange:we}),o.jsx("span",{children:"Contenu Premium "})]}),o.jsxs("label",{className:"form-checkbox",children:[o.jsx("input",{type:"checkbox",name:"actif",checked:U.actif!==!1,onChange:we}),o.jsx("span",{children:"Chapitre actif"})]})]})]})]})]}),o.jsxs("div",{className:"modal__footer",children:[o.jsx("button",{type:"button",onClick:pe,className:"btn btn--outline",disabled:p,children:"Annuler"}),o.jsx("button",{type:"submit",className:"btn btn--primary",disabled:p,children:p?"Enregistrement...":B?"Mettre  jour":"Crer le chapitre"})]})]})]})}),O&&C&&o.jsx("div",{className:"modal-overlay",onClick:pe,children:o.jsxs("div",{className:"modal",onClick:Z=>Z.stopPropagation(),children:[o.jsxs("div",{className:"modal__header",children:[o.jsx("h2",{className:"modal__title",children:"Confirmer la suppression"}),o.jsx("button",{onClick:pe,className:"modal__close",children:""})]}),o.jsxs("div",{className:"modal__body",children:[o.jsxs("p",{children:["Supprimer le chapitre ",o.jsxs("strong",{children:[C.numero,". ",C.titre]})," ?"]}),o.jsxs("div",{className:"alert alert--warning",style:{marginTop:"var(--spacing-md)"},children:[o.jsx("span",{className:"alert__icon",children:""}),o.jsx("div",{className:"alert__content",children:o.jsx("p",{className:"alert__message",children:"Les ressources associes ne seront pas supprimes automatiquement."})})]})]}),o.jsxs("div",{className:"modal__footer",children:[o.jsx("button",{onClick:pe,className:"btn btn--outline",children:"Annuler"}),o.jsx("button",{onClick:Ce,className:"btn btn--danger",disabled:y!==null,children:y?"Suppression...":"Supprimer"})]})]})}),o.jsx("style",{children:`
        /* Slecteur de discipline */
        .discipline-tabs {
          display: flex;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
          margin-top: var(--spacing-md);
        }

        .discipline-tab {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          padding: var(--spacing-sm) var(--spacing-md);
          border: 2px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: white;
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .discipline-tab:hover {
          border-color: var(--discipline-color, var(--color-primary));
        }

        .discipline-tab--active {
          border-color: var(--discipline-color, var(--color-primary));
          background: color-mix(in srgb, var(--discipline-color, var(--color-primary)) 10%, white);
        }

        .discipline-tab__icon {
          font-size: var(--text-lg);
        }

        .discipline-tab__name {
          font-weight: var(--font-medium);
        }

        .discipline-tab__class {
          font-size: var(--text-xs);
          color: var(--color-text-light);
          background: var(--color-bg-secondary);
          padding: 2px 6px;
          border-radius: var(--radius-sm);
        }

        /* Liste des chapitres */
        .chapitres-list {
          display: flex;
          flex-direction: column;
          gap: var(--spacing-md);
          padding: var(--spacing-lg);
        }

        .chapitre-card {
          display: flex;
          align-items: center;
          gap: var(--spacing-lg);
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          transition: all var(--transition-base);
        }

        .chapitre-card:hover {
          border-color: var(--color-primary);
          box-shadow: var(--shadow-md);
        }

        .chapitre-card--inactive {
          opacity: 0.6;
          background: var(--color-bg-tertiary);
        }

        .chapitre-card__number {
          width: 48px;
          height: 48px;
          background: var(--color-primary);
          color: white;
          border-radius: var(--radius-md);
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: var(--text-xl);
          font-weight: var(--font-bold);
          flex-shrink: 0;
        }

        .chapitre-card__content {
          flex: 1;
          min-width: 0;
        }

        .chapitre-card__title {
          font-size: var(--text-base);
          font-weight: var(--font-semibold);
          margin-bottom: var(--spacing-xs);
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
        }

        .chapitre-card__description {
          font-size: var(--text-sm);
          color: var(--color-text-light);
          margin: 0 0 var(--spacing-sm);
        }

        .chapitre-card__meta {
          display: flex;
          gap: var(--spacing-lg);
          font-size: var(--text-xs);
          color: var(--color-text-lighter);
        }

        .chapitre-card__actions {
          display: flex;
          gap: var(--spacing-sm);
        }

        /* Formulaire: Ligne */
        .form-row {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: var(--spacing-lg);
        }

        @media (max-width: 600px) {
          .form-row {
            grid-template-columns: 1fr;
          }
        }

        /* Objectifs */
        .objectifs-input {
          display: flex;
          gap: var(--spacing-sm);
        }

        .objectifs-list {
          list-style: none;
          margin-top: var(--spacing-md);
        }

        .objectif-item {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: var(--spacing-sm) var(--spacing-md);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-md);
          margin-bottom: var(--spacing-xs);
        }

        .objectif-remove {
          background: none;
          border: none;
          cursor: pointer;
          color: var(--color-error);
          opacity: 0.7;
        }

        .objectif-remove:hover {
          opacity: 1;
        }

        /* Options */
        .form-options {
          display: flex;
          flex-direction: column;
          gap: var(--spacing-sm);
          margin-top: var(--spacing-sm);
        }
      `})]})},ng=[{value:"cours",label:"Cours",icon:"",color:"#2563eb"},{value:"exercice",label:"Exercice",icon:"",color:"#10b981"},{value:"video",label:"Vido",icon:"",color:"#ef4444"},{value:"document",label:"Document",icon:"",color:"#f59e0b"},{value:"quiz",label:"Quiz",icon:"",color:"#8b5cf6"}],rg={cours:[".pdf",".doc",".docx",".ppt",".pptx"],exercice:[".pdf",".doc",".docx"],video:[".mp4",".webm",".mov",".avi"],document:[".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx"],quiz:[".json",".pdf"]},K_=50,MO={titre:"",type:"cours",description:"",contenu:"",chapitre:"",ordre:1,isPremium:!1,actif:!0,tags:[],duree:void 0,urlExterne:""},FY=()=>{const{currentUser:t}=Zn(),[e,n]=w.useState([]),[r,i]=w.useState([]),[s,c]=w.useState([]),[u,f]=w.useState([]),[h,p]=w.useState(""),[g,y]=w.useState(""),[_,E]=w.useState(""),[j,N]=w.useState(""),[A,D]=w.useState(""),[I,O]=w.useState(!0),[V,B]=w.useState(!1),[k,C]=w.useState(!1),[R,U]=w.useState(!1),[L,z]=w.useState(null),[M,Q]=w.useState(!1),[W,G]=w.useState(0),[le,be]=w.useState(null),[je,X]=w.useState(null),[F,ne]=w.useState(!1),[pe,we]=w.useState(!1),[J,H]=w.useState(!1),[de,Ce]=w.useState(null),[ie,Ee]=w.useState(null),[Z,ge]=w.useState(null),[De,$e]=w.useState({...MO,disciplineId:""}),[st,ft]=w.useState({}),[pt,mr]=w.useState(null),[Pt,It]=w.useState(null),kr=w.useRef(null),[he,Re]=w.useState(""),Ve=w.useCallback(async()=>{try{O(!0);const te=await aa.getAll();n(te),te.length>0&&!h&&p(te[0].id)}catch(te){console.error("Erreur lors du chargement des disciplines:",te),be("Impossible de charger les disciplines.")}finally{O(!1)}},[h]),Ke=w.useCallback(async()=>{if(!h){i([]);return}try{B(!0);const te=await Uo.getByDiscipline(h);i(te)}catch(te){console.error("Erreur lors du chargement des chapitres:",te)}finally{B(!1)}},[h]),qt=w.useCallback(async()=>{if(!h){c([]),f([]);return}try{C(!0);const te=await ws.getByDiscipline(h);c(te),f(te)}catch(te){console.error("Erreur lors du chargement des ressources:",te),be("Impossible de charger les ressources.")}finally{C(!1)}},[h]);w.useEffect(()=>{Ve()},[Ve]),w.useEffect(()=>{Ke()},[Ke]),w.useEffect(()=>{qt()},[qt]),w.useEffect(()=>{let te=[...s];if(g&&(te=te.filter(Ue=>Ue.chapitre===g)),_&&(te=te.filter(Ue=>Ue.type===_)),j==="premium"?te=te.filter(Ue=>Ue.isPremium):j==="free"&&(te=te.filter(Ue=>!Ue.isPremium)),A){const Ue=A.toLowerCase();te=te.filter(gt=>gt.titre.toLowerCase().includes(Ue)||gt.description?.toLowerCase().includes(Ue)||gt.tags?.some($n=>$n.toLowerCase().includes(Ue)))}f(te)},[s,g,_,j,A]);const zn=()=>{const te={};if(De.disciplineId||(te.disciplineId="Veuillez slectionner une discipline"),De.titre.trim()?De.titre.length<3&&(te.titre="Le titre doit contenir au moins 3 caractres"):te.titre="Le titre est requis",De.type||(te.type="Veuillez slectionner un type de ressource"),pt){const Ue="."+pt.name.split(".").pop()?.toLowerCase(),gt=rg[De.type];gt.includes(Ue)||(te.fichier=`Extension non autorise. Extensions acceptes : ${gt.join(", ")}`),pt.size/(1024*1024)>K_&&(te.fichier=`Le fichier est trop volumineux (max ${K_} Mo)`)}return ft(te),Object.keys(te).length===0},Dr=te=>{p(te),y(""),be(null)},no=()=>{Ce(null),$e({...MO,disciplineId:h}),ft({}),mr(null),It(null),Re(""),ne(!0)},Mr=te=>{Ce(te),$e({disciplineId:te.disciplineId,titre:te.titre,type:te.type,description:te.description,contenu:te.contenu,chapitre:te.chapitre||"",ordre:te.ordre,isPremium:te.isPremium,actif:te.actif,tags:te.tags||[],duree:te.duree,urlExterne:te.urlExterne||""}),ft({}),mr(null),It(te.fichierURL||null),Re(""),ne(!0)},Fi=te=>{ge(te),H(!0)},Fc=te=>{Ee(te),we(!0)},an=()=>{ne(!1),we(!1),H(!1),Ce(null),Ee(null),ge(null),ft({}),mr(null),It(null),Re("")},Nt=te=>{const{name:Ue,value:gt,type:$n}=te.target,Sl=te.target.checked;$e(yi=>({...yi,[Ue]:$n==="checkbox"?Sl:$n==="number"?Number(gt):gt})),st[Ue]&&ft(yi=>({...yi,[Ue]:void 0}))},zr=te=>{const Ue=te.target.files?.[0];if(Ue)if(mr(Ue),ft(gt=>({...gt,fichier:void 0})),Ue.type.startsWith("image/")||Ue.type.startsWith("video/")){const gt=new FileReader;gt.onloadend=()=>{It(gt.result)},gt.readAsDataURL(Ue)}else It(null)},en=()=>{mr(null),It(null),kr.current&&(kr.current.value="")},Nl=()=>{he.trim()&&!De.tags?.includes(he.trim())&&($e(te=>({...te,tags:[...te.tags||[],he.trim()]})),Re(""))},ro=te=>{$e(Ue=>({...Ue,tags:(Ue.tags||[]).filter((gt,$n)=>$n!==te)}))},Hc=async te=>{if(te.preventDefault(),!!zn())try{U(!0),be(null);let Ue=de?.fichierURL,gt=de?.fichierNom;if(pt){Q(!0);const Sl=de?.id||`temp_${Date.now()}`;Ue=await ws.uploadFile(pt,Sl),gt=pt?.name||"fichier",Q(!1)}const $n={...De,fichierURL:Ue,fichierNom:gt};de?(await ws.update(de.id,$n),X("Ressource modifie avec succs !")):(await ws.create($n,"admin"),X("Ressource cre avec succs !")),an(),await qt(),setTimeout(()=>X(null),3e3)}catch(Ue){console.error("Erreur lors de la sauvegarde:",Ue),be("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{U(!1),Q(!1),G(0)}},gi=async()=>{if(ie)try{z(ie.id),ie.fichierURL&&await ws.deleteFile(ie.fichierURL),await ws.delete(ie.id),X("Ressource supprime avec succs !"),an(),await qt(),setTimeout(()=>X(null),3e3)}catch(te){console.error("Erreur lors de la suppression:",te),be("Erreur lors de la suppression. Veuillez ressayer.")}finally{z(null)}},ns=async te=>{try{await ws.togglePremium(te.id,!te.isPremium),await qt(),X(te.isPremium?"Ressource passe en gratuit":"Ressource passe en Premium"),setTimeout(()=>X(null),2e3)}catch{be("Erreur lors de la mise  jour")}},sn=te=>{const Ue=e.find(gt=>gt.id===te);return Ue?Ue.nom:"Non trouve"},vi=te=>{const Ue=r.find(gt=>gt.id===te);return Ue?`${Ue.numero}. ${Ue.titre}`:""},pr=te=>ng.find(Ue=>Ue.value===te)||ng[0],Zr=te=>te<1024?te+" o":te<1024*1024?(te/1024).toFixed(1)+" Ko":(te/(1024*1024)).toFixed(1)+" Mo";return o.jsxs("div",{className:"resource-manager",children:[o.jsxs("header",{className:"admin-page-header",children:[o.jsxs("div",{className:"admin-page-header__info",children:[o.jsx("h1",{className:"admin-page-header__title",children:"Gestion des Ressources"}),o.jsx("p",{className:"admin-page-header__subtitle",children:"Grez les cours, exercices, vidos et documents pdagogiques"})]}),o.jsx("div",{className:"admin-page-header__actions",children:o.jsxs("button",{onClick:no,className:"btn btn--primary",disabled:!h||I,children:[o.jsx("span",{children:""}),"Nouvelle ressource"]})})]}),le&&o.jsxs("div",{className:"alert alert--error",children:[o.jsx("span",{className:"alert__icon",children:""}),o.jsx("div",{className:"alert__content",children:o.jsx("p",{className:"alert__message",children:le})}),o.jsx("button",{onClick:()=>be(null),className:"alert__close",children:""})]}),je&&o.jsxs("div",{className:"alert alert--success",children:[o.jsx("span",{className:"alert__icon",children:""}),o.jsx("div",{className:"alert__content",children:o.jsx("p",{className:"alert__message",children:je})})]}),o.jsx("div",{className:"content-card",style:{marginBottom:"var(--spacing-lg)"},children:o.jsx("div",{className:"content-card__body",children:o.jsxs("div",{className:"discipline-selector",children:[o.jsx("label",{className:"form-label",children:"Slectionner une discipline :"}),I?o.jsx("p",{className:"text-muted",children:"Chargement des disciplines..."}):e.length===0?o.jsxs("p",{className:"text-muted",children:["Aucune discipline disponible.",o.jsx("a",{href:"/admin/disciplines",children:" Crer une discipline"})]}):o.jsx("div",{className:"discipline-tabs",children:e.map(te=>o.jsxs("button",{className:`discipline-tab ${h===te.id?"discipline-tab--active":""}`,onClick:()=>Dr(te.id),style:{"--discipline-color":te.couleur||"#2563eb"},children:[o.jsx("span",{className:"discipline-tab__icon",children:te.icone||""}),o.jsx("span",{className:"discipline-tab__name",children:te.nom}),o.jsx("span",{className:"discipline-tab__class",children:te.classe})]},te.id))})]})})}),o.jsxs("div",{className:"admin-table-container",children:[o.jsxs("div",{className:"admin-table-header",children:[o.jsxs("h2",{className:"admin-table-title",children:["Ressources ",h&&`- ${sn(h)}`,u.length>0&&` (${u.length})`]}),o.jsxs("div",{className:"admin-table-actions",children:[o.jsxs("div",{className:"search-input",children:[o.jsx("span",{className:"search-input__icon",children:""}),o.jsx("input",{type:"text",className:"search-input__field",placeholder:"Rechercher...",value:A,onChange:te=>D(te.target.value)})]}),o.jsxs("select",{className:"form-select form-select--sm",value:g,onChange:te=>y(te.target.value),disabled:V||r.length===0,children:[o.jsx("option",{value:"",children:"Tous les chapitres"}),r.map(te=>o.jsxs("option",{value:te.id,children:[te.numero,". ",te.titre]},te.id))]}),o.jsxs("select",{className:"form-select form-select--sm",value:_,onChange:te=>E(te.target.value),children:[o.jsx("option",{value:"",children:"Tous les types"}),ng.map(te=>o.jsxs("option",{value:te.value,children:[te.icon," ",te.label]},te.value))]}),o.jsxs("select",{className:"form-select form-select--sm",value:j,onChange:te=>N(te.target.value),children:[o.jsx("option",{value:"",children:"Tous"}),o.jsx("option",{value:"premium",children:" Premium"}),o.jsx("option",{value:"free",children:"Gratuit"})]})]})]}),k?o.jsxs("div",{className:"loading-container",style:{padding:"var(--spacing-2xl)"},children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Chargement des ressources..."})]}):h?u.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"empty-state__icon",children:""}),o.jsx("h3",{className:"empty-state__title",children:"Aucune ressource"}),o.jsx("p",{className:"empty-state__message",children:A||_||j||g?"Aucune ressource ne correspond aux critres de recherche.":"Cette discipline n'a pas encore de ressources."}),!A&&!_&&!j&&!g&&o.jsx("button",{onClick:no,className:"btn btn--primary",children:"Crer la premire ressource"})]}):o.jsx("div",{className:"resource-list",style:{padding:"var(--spacing-lg)"},children:u.map(te=>{const Ue=pr(te.type);return o.jsxs("div",{className:"resource-item",children:[o.jsx("div",{className:`resource-item__icon resource-item__icon--${te.type}`,style:{backgroundColor:`${Ue.color}15`,color:Ue.color},children:Ue.icon}),o.jsxs("div",{className:"resource-item__content",children:[o.jsxs("div",{className:"resource-item__title",children:[te.titre,te.isPremium&&o.jsx("span",{className:"badge badge--premium",children:"Premium"}),!te.actif&&o.jsx("span",{className:"badge badge--warning",children:"Inactif"})]}),o.jsxs("div",{className:"resource-item__meta",children:[o.jsx("span",{children:Ue.label}),te.chapitre&&o.jsxs("span",{children:[" ",vi(te.chapitre)]}),te.duree&&o.jsxs("span",{children:[" ",te.duree," min"]}),te.fichierNom&&o.jsxs("span",{children:[" ",te.fichierNom]}),te.tags&&te.tags.length>0&&o.jsxs("span",{children:[" ",te.tags.join(", ")]})]})]}),o.jsxs("div",{className:"resource-item__actions",children:[o.jsx("button",{onClick:()=>ns(te),className:`table-action-btn ${te.isPremium?"table-action-btn--warning":"table-action-btn--view"}`,title:te.isPremium?"Passer en gratuit":"Passer en Premium",children:te.isPremium?"":""}),(te.fichierURL||te.urlExterne)&&o.jsx("button",{onClick:()=>Fi(te),className:"table-action-btn table-action-btn--view",title:"Prvisualiser",children:""}),o.jsx("button",{onClick:()=>Mr(te),className:"table-action-btn table-action-btn--edit",title:"Modifier",children:""}),o.jsx("button",{onClick:()=>Fc(te),className:"table-action-btn table-action-btn--delete",title:"Supprimer",disabled:L===te.id,children:L===te.id?"":""})]})]},te.id)})}):o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"empty-state__icon",children:""}),o.jsx("h3",{className:"empty-state__title",children:"Slectionnez une discipline"}),o.jsx("p",{className:"empty-state__message",children:"Choisissez une discipline ci-dessus pour voir ses ressources."})]})]}),F&&o.jsx("div",{className:"modal-overlay",onClick:an,children:o.jsxs("div",{className:"modal modal--xl",onClick:te=>te.stopPropagation(),children:[o.jsxs("div",{className:"modal__header",children:[o.jsx("h2",{className:"modal__title",children:de?"Modifier la ressource":"Nouvelle ressource"}),o.jsx("button",{onClick:an,className:"modal__close",children:""})]}),o.jsxs("form",{onSubmit:Hc,children:[o.jsxs("div",{className:"modal__body",children:[!de&&o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label form-label--required",children:"Discipline"}),o.jsxs("select",{name:"disciplineId",className:`form-select ${st.disciplineId?"form-select--error":""}`,value:De.disciplineId,onChange:Nt,children:[o.jsx("option",{value:"",children:"Slectionner une discipline"}),e.map(te=>o.jsxs("option",{value:te.id,children:[te.icone," ",te.nom," (",te.classe,")"]},te.id))]}),st.disciplineId&&o.jsx("span",{className:"form-error",children:st.disciplineId})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",style:{flex:2},children:[o.jsx("label",{className:"form-label form-label--required",children:"Titre"}),o.jsx("input",{type:"text",name:"titre",className:`form-input ${st.titre?"form-input--error":""}`,placeholder:"Ex: Introduction aux fractions",value:De.titre,onChange:Nt}),st.titre&&o.jsx("span",{className:"form-error",children:st.titre})]}),o.jsxs("div",{className:"form-group",style:{flex:1},children:[o.jsx("label",{className:"form-label form-label--required",children:"Type"}),o.jsx("select",{name:"type",className:`form-select ${st.type?"form-select--error":""}`,value:De.type,onChange:Nt,children:ng.map(te=>o.jsxs("option",{value:te.value,children:[te.icon," ",te.label]},te.value))}),st.type&&o.jsx("span",{className:"form-error",children:st.type})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Chapitre (optionnel)"}),o.jsxs("select",{name:"chapitreId",className:"form-select",value:De.chapitre||"",onChange:Nt,disabled:V,children:[o.jsx("option",{value:"",children:"Aucun chapitre"}),r.map(te=>o.jsxs("option",{value:te.id,children:[te.numero,". ",te.titre]},te.id))]})]}),o.jsxs("div",{className:"form-group",style:{flex:"0 0 120px"},children:[o.jsx("label",{className:"form-label",children:"Ordre"}),o.jsx("input",{type:"number",name:"ordre",className:"form-input",min:"1",value:De.ordre,onChange:Nt})]}),o.jsxs("div",{className:"form-group",style:{flex:"0 0 120px"},children:[o.jsx("label",{className:"form-label",children:"Dure (min)"}),o.jsx("input",{type:"number",name:"duree",className:"form-input",min:"0",placeholder:"Ex: 30",value:De.duree||"",onChange:Nt})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Description"}),o.jsx("textarea",{name:"description",className:"form-textarea",rows:3,placeholder:"Description de la ressource...",value:De.description||"",onChange:Nt})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",children:["Fichier",o.jsxs("span",{className:"form-helper",style:{marginLeft:"var(--spacing-sm)"},children:["(",rg[De.type].join(", ")," - max ",K_," Mo)"]})]}),o.jsxs("div",{className:"file-upload",children:[o.jsx("input",{ref:kr,type:"file",accept:rg[De.type].join(","),onChange:zr,className:"file-upload__input",id:"file-input"}),!pt&&!Pt?o.jsxs("label",{htmlFor:"file-input",className:"file-upload__dropzone",children:[o.jsx("div",{className:"file-upload__icon",children:""}),o.jsx("p",{className:"file-upload__text",children:"Cliquez ou glissez un fichier ici"}),o.jsx("p",{className:"file-upload__hint",children:rg[De.type].join(", ")})]}):o.jsxs("div",{className:"file-upload__preview",children:[pt?.type.startsWith("image/")&&Pt&&o.jsx("img",{src:Pt,alt:"Aperu",className:"file-preview__image"}),pt?.type.startsWith("video/")&&Pt&&o.jsx("video",{src:Pt,controls:!0,className:"file-preview__video"}),!pt?.type.startsWith("image/")&&!pt?.type.startsWith("video/")&&o.jsx("div",{className:"file-preview__document",children:o.jsx("span",{className:"file-preview__icon",children:pr(De.type).icon})}),o.jsxs("div",{className:"file-preview__info",children:[o.jsx("p",{className:"file-preview__name",children:pt?.name||de?.fichierNom}),pt&&o.jsx("p",{className:"file-preview__size",children:Zr(pt.size)})]}),o.jsx("button",{type:"button",onClick:en,className:"file-preview__remove",children:""})]})]}),st.fichier&&o.jsx("span",{className:"form-error",children:st.fichier}),M&&o.jsxs("div",{className:"upload-progress",children:[o.jsx("div",{className:"upload-progress__bar",style:{width:`${W}%`}}),o.jsxs("span",{className:"upload-progress__text",children:[W,"%"]})]})]}),De.type==="video"&&o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"URL externe (YouTube, Vimeo...)"}),o.jsx("input",{type:"url",name:"urlExterne",className:"form-input",placeholder:"https://www.youtube.com/watch?v=...",value:De.urlExterne||"",onChange:Nt}),o.jsx("span",{className:"form-helper",children:"Alternative  l'upload de fichier"})]}),De.type==="cours"&&o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Contenu du cours"}),o.jsx("textarea",{name:"contenu",className:"form-textarea",rows:6,placeholder:"Saisissez le contenu du cours ici...",value:De.contenu||"",onChange:Nt}),o.jsx("span",{className:"form-helper",children:"Optionnel si vous uploadez un fichier"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Tags"}),o.jsxs("div",{className:"tags-input",children:[o.jsx("input",{type:"text",className:"form-input",placeholder:"Ajouter un tag...",value:he,onChange:te=>Re(te.target.value),onKeyPress:te=>te.key==="Enter"&&(te.preventDefault(),Nl())}),o.jsx("button",{type:"button",onClick:Nl,className:"btn btn--outline btn--sm",children:"Ajouter"})]}),De.tags&&De.tags.length>0&&o.jsx("div",{className:"tags-list",children:De.tags.map((te,Ue)=>o.jsxs("span",{className:"tag",children:[te,o.jsx("button",{type:"button",onClick:()=>ro(Ue),className:"tag__remove",children:""})]},Ue))})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Options"}),o.jsxs("div",{className:"form-options",children:[o.jsxs("label",{className:"form-checkbox",children:[o.jsx("input",{type:"checkbox",name:"isPremium",checked:De.isPremium,onChange:Nt}),o.jsx("span",{children:"Contenu Premium "})]}),o.jsxs("label",{className:"form-checkbox",children:[o.jsx("input",{type:"checkbox",name:"actif",checked:De.actif!==!1,onChange:Nt}),o.jsx("span",{children:"Ressource active"})]})]})]})]}),o.jsxs("div",{className:"modal__footer",children:[o.jsx("button",{type:"button",onClick:an,className:"btn btn--outline",disabled:R||M,children:"Annuler"}),o.jsx("button",{type:"submit",className:"btn btn--primary",disabled:R||M,children:R||M?M?`Upload ${W}%...`:"Enregistrement...":de?"Mettre  jour":"Crer la ressource"})]})]})]})}),J&&Z&&o.jsx("div",{className:"modal-overlay",onClick:an,children:o.jsxs("div",{className:"modal modal--xl",onClick:te=>te.stopPropagation(),children:[o.jsxs("div",{className:"modal__header",children:[o.jsxs("h2",{className:"modal__title",children:[pr(Z.type).icon," ",Z.titre]}),o.jsx("button",{onClick:an,className:"modal__close",children:""})]}),o.jsxs("div",{className:"modal__body",children:[Z.type==="video"&&Z.urlExterne?o.jsx("div",{className:"preview-video",children:o.jsx("iframe",{src:Z.urlExterne.replace("watch?v=","embed/"),title:Z.titre,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):Z.fichierURL?o.jsx("div",{className:"preview-file",children:Z.fichierURL.match(/\.(jpg|jpeg|png|gif|webp)$/i)?o.jsx("img",{src:Z.fichierURL,alt:Z.titre}):Z.fichierURL.match(/\.(mp4|webm)$/i)?o.jsx("video",{src:Z.fichierURL,controls:!0}):Z.fichierURL.match(/\.pdf$/i)?o.jsx("iframe",{src:Z.fichierURL,title:Z.titre}):o.jsxs("div",{className:"preview-download",children:[o.jsx("span",{className:"preview-download__icon",children:pr(Z.type).icon}),o.jsx("p",{children:Z.fichierNom}),o.jsx("a",{href:Z.fichierURL,target:"_blank",rel:"noopener noreferrer",className:"btn btn--primary",children:"Tlcharger"})]})}):Z.contenu?o.jsx("div",{className:"preview-content",children:o.jsx("p",{children:Z.contenu})}):o.jsx("div",{className:"preview-empty",children:o.jsx("p",{children:"Aucun contenu  prvisualiser"})}),o.jsxs("div",{className:"preview-info",children:[Z.description&&o.jsx("p",{className:"preview-description",children:Z.description}),o.jsxs("div",{className:"preview-meta",children:[o.jsxs("span",{children:["Type : ",pr(Z.type).label]}),Z.duree&&o.jsxs("span",{children:["Dure : ",Z.duree," min"]}),Z.isPremium&&o.jsx("span",{className:"badge badge--premium",children:"Premium"})]})]})]})]})}),pe&&ie&&o.jsx("div",{className:"modal-overlay",onClick:an,children:o.jsxs("div",{className:"modal",onClick:te=>te.stopPropagation(),children:[o.jsxs("div",{className:"modal__header",children:[o.jsx("h2",{className:"modal__title",children:"Confirmer la suppression"}),o.jsx("button",{onClick:an,className:"modal__close",children:""})]}),o.jsxs("div",{className:"modal__body",children:[o.jsxs("p",{children:["Supprimer la ressource ",o.jsx("strong",{children:ie.titre})," ?"]}),ie.fichierURL&&o.jsxs("div",{className:"alert alert--warning",style:{marginTop:"var(--spacing-md)"},children:[o.jsx("span",{className:"alert__icon",children:""}),o.jsx("div",{className:"alert__content",children:o.jsx("p",{className:"alert__message",children:"Le fichier associ sera galement supprim de faon permanente."})})]})]}),o.jsxs("div",{className:"modal__footer",children:[o.jsx("button",{onClick:an,className:"btn btn--outline",children:"Annuler"}),o.jsx("button",{onClick:gi,className:"btn btn--danger",disabled:L!==null,children:L?"Suppression...":"Supprimer"})]})]})}),o.jsx("style",{children:`
        /* ==================== SLECTEUR DE DISCIPLINE ==================== */
        
        .discipline-tabs {
          display: flex;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
          margin-top: var(--spacing-md);
        }

        .discipline-tab {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          padding: var(--spacing-sm) var(--spacing-md);
          border: 2px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: white;
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .discipline-tab:hover {
          border-color: var(--discipline-color, var(--color-primary));
        }

        .discipline-tab--active {
          border-color: var(--discipline-color, var(--color-primary));
          background: color-mix(in srgb, var(--discipline-color, var(--color-primary)) 10%, white);
        }

        .discipline-tab__icon {
          font-size: var(--text-lg);
        }

        .discipline-tab__name {
          font-weight: var(--font-medium);
        }

        .discipline-tab__class {
          font-size: var(--text-xs);
          color: var(--color-text-light);
          background: var(--color-bg-secondary);
          padding: 2px 6px;
          border-radius: var(--radius-sm);
        }

        /* ==================== FORMULAIRE ==================== */
        
        .form-row {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: var(--spacing-lg);
        }

        .form-options {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-lg);
          margin-top: var(--spacing-sm);
        }

        .form-select--sm {
          padding: var(--spacing-sm) var(--spacing-md);
          font-size: var(--text-sm);
          min-width: 140px;
        }

        /* ==================== UPLOAD DE FICHIER ==================== */
        
        .file-upload {
          position: relative;
        }

        .file-upload__input {
          position: absolute;
          opacity: 0;
          pointer-events: none;
        }

        .file-upload__dropzone {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: var(--spacing-xl);
          border: 2px dashed var(--color-border);
          border-radius: var(--radius-lg);
          background: var(--color-bg-secondary);
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .file-upload__dropzone:hover {
          border-color: var(--color-primary);
          background: rgba(37, 99, 235, 0.05);
        }

        .file-upload__icon {
          font-size: 48px;
          margin-bottom: var(--spacing-md);
        }

        .file-upload__text {
          font-weight: var(--font-medium);
          margin-bottom: var(--spacing-xs);
        }

        .file-upload__hint {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        .file-upload__preview {
          display: flex;
          align-items: center;
          gap: var(--spacing-lg);
          padding: var(--spacing-md);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: var(--color-bg-secondary);
        }

        .file-preview__image,
        .file-preview__video {
          width: 120px;
          height: 80px;
          object-fit: cover;
          border-radius: var(--radius-md);
        }

        .file-preview__document {
          width: 80px;
          height: 80px;
          background: white;
          border: 1px solid var(--color-border);
          border-radius: var(--radius-md);
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .file-preview__icon {
          font-size: 32px;
        }

        .file-preview__info {
          flex: 1;
        }

        .file-preview__name {
          font-weight: var(--font-medium);
          margin-bottom: var(--spacing-xs);
          word-break: break-all;
        }

        .file-preview__size {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        .file-preview__remove {
          width: 32px;
          height: 32px;
          border: none;
          background: var(--color-error);
          color: white;
          border-radius: 50%;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all var(--transition-base);
        }

        .file-preview__remove:hover {
          background: #dc2626;
          transform: scale(1.1);
        }

        /* ==================== BARRE DE PROGRESSION ==================== */
        
        .upload-progress {
          margin-top: var(--spacing-md);
          height: 8px;
          background: var(--color-bg-tertiary);
          border-radius: var(--radius-full);
          overflow: hidden;
          position: relative;
        }

        .upload-progress__bar {
          height: 100%;
          background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
          border-radius: var(--radius-full);
          transition: width var(--transition-base);
        }

        .upload-progress__text {
          position: absolute;
          right: var(--spacing-sm);
          top: 50%;
          transform: translateY(-50%);
          font-size: var(--text-xs);
          font-weight: var(--font-semibold);
          color: var(--color-text);
        }

        /* ==================== TAGS ==================== */
        
        .tags-input {
          display: flex;
          gap: var(--spacing-sm);
        }

        .tags-list {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-sm);
          margin-top: var(--spacing-md);
        }

        .tag {
          display: inline-flex;
          align-items: center;
          gap: var(--spacing-xs);
          padding: var(--spacing-xs) var(--spacing-sm);
          background: var(--color-bg-tertiary);
          border-radius: var(--radius-full);
          font-size: var(--text-sm);
          color: var(--color-text);
        }

        .tag__remove {
          width: 18px;
          height: 18px;
          border: none;
          background: transparent;
          color: var(--color-text-light);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
          transition: all var(--transition-base);
        }

        .tag__remove:hover {
          background: var(--color-error);
          color: white;
        }

        /* ==================== PRVISUALISATION ==================== */
        
        .preview-video {
          position: relative;
          padding-bottom: 56.25%;
          height: 0;
          overflow: hidden;
          border-radius: var(--radius-lg);
        }

        .preview-video iframe {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          border: none;
        }

        .preview-file {
          text-align: center;
        }

        .preview-file img,
        .preview-file video {
          max-width: 100%;
          max-height: 60vh;
          border-radius: var(--radius-lg);
        }

        .preview-file iframe {
          width: 100%;
          height: 60vh;
          border: none;
          border-radius: var(--radius-lg);
        }

        .preview-download {
          padding: var(--spacing-2xl);
          text-align: center;
        }

        .preview-download__icon {
          font-size: 64px;
          display: block;
          margin-bottom: var(--spacing-lg);
        }

        .preview-content {
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-lg);
          white-space: pre-wrap;
        }

        .preview-empty {
          padding: var(--spacing-2xl);
          text-align: center;
          color: var(--color-text-light);
        }

        .preview-info {
          margin-top: var(--spacing-lg);
          padding-top: var(--spacing-lg);
          border-top: 1px solid var(--color-border);
        }

        .preview-description {
          color: var(--color-text-light);
          margin-bottom: var(--spacing-md);
        }

        .preview-meta {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-lg);
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        /* ==================== RESSOURCES - AFFICHAGE CARTE ==================== */
        
        .resource-item__title {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
        }

        /* ==================== ACTION WARNING ==================== */
        
        .table-action-btn--warning {
          color: var(--color-warning);
        }

        /* ==================== RESPONSIVE ==================== */
        
        @media (max-width: 768px) {
          .form-row {
            grid-template-columns: 1fr;
          }

          .admin-table-actions {
            flex-direction: column;
            align-items: stretch;
          }

          .search-input__field {
            width: 100%;
          }

          .file-upload__preview {
            flex-direction: column;
            text-align: center;
          }

          .preview-meta {
            flex-direction: column;
            gap: var(--spacing-sm);
          }
        }
      `})]})},W4=yt(Se,"quizzes"),Y4=async t=>{try{let e=Ht(W4,Yr("titre","asc"));t?.disciplineId;let r=(await Gt(e)).docs.map(i=>({id:i.id,...i.data()}));return t?.isPremium,t?.difficulte,r}catch(e){throw console.error("Erreur lors de la rcupration des quiz :",e),e}},HY=async t=>{try{const e=await zi(tt(Se,"quizzes",t));return e.exists()?{id:e.id,...e.data()}:null}catch(e){throw console.error("Erreur lors de la rcupration du quiz :",e),e}},GY=async t=>{try{return(await ma(W4,{...t,createdAt:it.now(),updatedAt:it.now()})).id}catch(e){throw console.error("Erreur lors de la cration du quiz :",e),e}},KY=async(t,e)=>{try{await Mn(tt(Se,"quizzes",t),{...e,updatedAt:it.now()})}catch(n){throw console.error("Erreur lors de la mise  jour du quiz :",n),n}},QY=async t=>{try{await Cy(tt(Se,"quizzes",t))}catch(e){throw console.error("Erreur lors de la suppression du quiz :",e),e}},WY=()=>`q_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,zO=()=>({id:WY(),question:"",options:["","","",""],reponseCorrecte:0,explication:"",difficulte:"moyen",points:1}),LO=t=>{const e=t.questions||[],n=e.reduce((i,s)=>i+(s.points||1),0),r={facile:e.filter(i=>i.difficulte==="facile").length,moyen:e.filter(i=>i.difficulte==="moyen").length,difficile:e.filter(i=>i.difficulte==="difficile").length};return{nombreQuestions:e.length,totalPoints:n,parDifficulte:r,duree:t.duree||0}},YY=()=>{const[t,e]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState(!0),[c,u]=w.useState(null),[f,h]=w.useState(null),[p,g]=w.useState(""),[y,_]=w.useState(""),[E,j]=w.useState(""),[N,A]=w.useState(""),[D,I]=w.useState(!1),[O,V]=w.useState("list"),[B,k]=w.useState(null),[C,R]=w.useState({disciplineId:"",titre:"",questions:[],duree:15,isPremium:!1,noteMinimale:50}),[U,L]=w.useState(null),[z,M]=w.useState(!1),[Q,W]=w.useState(null),[G,le]=w.useState(null),[be,je]=w.useState({}),[X,F]=w.useState(!1),ne=w.useCallback(async()=>{s(!0),u(null);try{const[he,Re]=await Promise.all([Y4(),aa.getAll()]);e(he),r(Re.map(Ve=>({id:Ve.id,nom:Ve.nom||Ve.name||Ve.id})))}catch(he){u("Erreur lors du chargement des donnes."),console.error(he)}finally{s(!1)}},[]);w.useEffect(()=>{ne()},[ne]),w.useEffect(()=>{if(f){const he=setTimeout(()=>h(null),4e3);return()=>clearTimeout(he)}},[f]);const pe=t.filter(he=>{if(p){const Re=p.toLowerCase();if(!he.titre.toLowerCase().includes(Re))return!1}return!(y&&he.disciplineId!==y||E==="true"&&!he.isPremium||E==="false"&&he.isPremium||N&&!he.questions?.some(Ve=>Ve.difficulte===N))}),we=()=>{k(null),R({disciplineId:"",titre:"",questions:[zO()],duree:15,isPremium:!1,noteMinimale:50}),L(null),V("form")},J=he=>{k(he),R({disciplineId:he.disciplineId,titre:he.titre,questions:he.questions||[],duree:he.duree||15,isPremium:he.isPremium||!1,noteMinimale:he.noteMinimale||50}),L(null),V("form")},H=async()=>{if(!C.titre.trim()){u("Le titre du quiz est obligatoire.");return}if(!C.disciplineId){u("Veuillez slectionner une discipline.");return}if(C.questions.length===0){u("Le quiz doit contenir au moins une question.");return}for(let he=0;he<C.questions.length;he++){const Re=C.questions[he];if(!Re.question.trim()){u(`La question ${he+1} n'a pas d'nonc.`);return}if(Re.options.filter(Ke=>!Ke.trim()).length>0){u(`La question ${he+1} a des options vides.`);return}}M(!0),u(null);try{B?(await KY(B.id,C),h("Quiz mis  jour avec succs !")):(await GY(C),h("Quiz cr avec succs !")),await ne(),V("list")}catch(he){u("Erreur lors de la sauvegarde du quiz."),console.error(he)}finally{M(!1)}},de=async he=>{try{await QY(he),h("Quiz supprim avec succs."),W(null),await ne()}catch(Re){u("Erreur lors de la suppression du quiz."),console.error(Re)}},Ce=()=>{const he=zO();R(Re=>({...Re,questions:[...Re.questions,he]})),L(he.id)},ie=he=>{const Re=C.questions.find(zn=>zn.id===he);if(!Re)return;const Ve={...Re,id:`q_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,question:`${Re.question} (copie)`},Ke=C.questions.findIndex(zn=>zn.id===he),qt=[...C.questions];qt.splice(Ke+1,0,Ve),R(zn=>({...zn,questions:qt})),L(Ve.id)},Ee=he=>{R(Re=>({...Re,questions:Re.questions.filter(Ve=>Ve.id!==he)})),U===he&&L(null)},Z=(he,Re,Ve)=>{R(Ke=>({...Ke,questions:Ke.questions.map(qt=>qt.id===he?{...qt,[Re]:Ve}:qt)}))},ge=(he,Re,Ve)=>{R(Ke=>({...Ke,questions:Ke.questions.map(qt=>qt.id===he?{...qt,options:qt.options.map((zn,Dr)=>Dr===Re?Ve:zn)}:qt)}))},De=he=>{le(he),je({}),F(!1),V("preview")},$e=(he,Re)=>{X||je(Ve=>({...Ve,[he]:Re}))},st=()=>{F(!0)},ft=he=>n.find(Re=>Re.id===he)?.nom||he,pt=({level:he})=>{const Re={facile:"quiz-badge-facile",moyen:"quiz-badge-moyen",difficile:"quiz-badge-difficile"};return o.jsx("span",{className:`quiz-badge ${Re[he]||"quiz-badge-moyen"}`,children:he.charAt(0).toUpperCase()+he.slice(1)})},mr=()=>o.jsxs(o.Fragment,{children:[c&&o.jsxs("div",{className:"admin-message admin-message-error",children:[o.jsx(sv,{size:18}),o.jsx("span",{children:c}),o.jsx("button",{onClick:()=>u(null),className:"admin-message-close",children:o.jsx(fc,{size:16})})]}),f&&o.jsxs("div",{className:"admin-message admin-message-success",children:[o.jsx(yn,{size:18}),o.jsx("span",{children:f})]})]}),Pt=()=>o.jsxs("div",{className:"quiz-manager",children:[o.jsxs("div",{className:"admin-header",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"admin-title",children:[o.jsx(oa,{size:24})," Gestion des Quiz"]}),o.jsxs("p",{className:"admin-subtitle",children:[t.length," quiz au total  ",pe.length," affich(s)"]})]}),o.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:we,children:[o.jsx(eg,{size:18})," Nouveau Quiz"]})]}),o.jsxs("div",{className:"admin-toolbar",children:[o.jsxs("div",{className:"admin-search-wrapper",children:[o.jsx(G4,{size:18,className:"admin-search-icon"}),o.jsx("input",{type:"text",className:"admin-search-input",placeholder:"Rechercher un quiz...",value:p,onChange:he=>g(he.target.value)})]}),o.jsxs("button",{className:`admin-btn admin-btn-outline ${D?"active":""}`,onClick:()=>I(!D),children:[o.jsx(H4,{size:16})," Filtres",D?o.jsx(aw,{size:14}):o.jsx(av,{size:14})]})]}),D&&o.jsxs("div",{className:"admin-filters-panel",children:[o.jsxs("div",{className:"admin-filter-group",children:[o.jsx("label",{className:"admin-filter-label",children:"Discipline"}),o.jsxs("select",{className:"admin-select",value:y,onChange:he=>_(he.target.value),children:[o.jsx("option",{value:"",children:"Toutes les disciplines"}),n.map(he=>o.jsx("option",{value:he.id,children:he.nom},he.id))]})]}),o.jsxs("div",{className:"admin-filter-group",children:[o.jsx("label",{className:"admin-filter-label",children:"Accs"}),o.jsxs("select",{className:"admin-select",value:E,onChange:he=>j(he.target.value),children:[o.jsx("option",{value:"",children:"Tous"}),o.jsx("option",{value:"false",children:"Gratuit"}),o.jsx("option",{value:"true",children:"Premium"})]})]}),o.jsxs("div",{className:"admin-filter-group",children:[o.jsx("label",{className:"admin-filter-label",children:"Difficult"}),o.jsxs("select",{className:"admin-select",value:N,onChange:he=>A(he.target.value),children:[o.jsx("option",{value:"",children:"Toutes"}),o.jsx("option",{value:"facile",children:"Facile"}),o.jsx("option",{value:"moyen",children:"Moyen"}),o.jsx("option",{value:"difficile",children:"Difficile"})]})]}),o.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{_(""),j(""),A(""),g("")},children:"Rinitialiser"})]}),i?o.jsxs("div",{className:"admin-loading",children:[o.jsx("div",{className:"admin-spinner"}),o.jsx("p",{children:"Chargement des quiz..."})]}):pe.length===0?o.jsxs("div",{className:"admin-empty-state",children:[o.jsx(Ig,{size:48}),o.jsx("h3",{children:"Aucun quiz trouv"}),o.jsx("p",{children:t.length===0?"Crez votre premier quiz pour vos lves.":"Aucun quiz ne correspond  vos filtres."}),t.length===0&&o.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:we,children:[o.jsx(eg,{size:18})," Crer un quiz"]})]}):o.jsx("div",{className:"quiz-grid",children:pe.map(he=>{const Re=LO(he);return o.jsxs("div",{className:"quiz-card",children:[o.jsxs("div",{className:"quiz-card-header",children:[o.jsxs("div",{className:"quiz-card-title-row",children:[o.jsx("h3",{className:"quiz-card-title",children:he.titre}),he.isPremium&&o.jsxs("span",{className:"quiz-badge quiz-badge-premium",children:[o.jsx(fi,{size:12})," Premium"]})]}),o.jsx("span",{className:"quiz-card-discipline",children:ft(he.disciplineId)})]}),o.jsxs("div",{className:"quiz-card-stats",children:[o.jsxs("div",{className:"quiz-stat",children:[o.jsx(Ig,{size:14}),o.jsxs("span",{children:[Re.nombreQuestions," question(s)"]})]}),o.jsxs("div",{className:"quiz-stat",children:[o.jsx(Ec,{size:14}),o.jsxs("span",{children:[Re.totalPoints," pts"]})]}),o.jsxs("div",{className:"quiz-stat",children:[o.jsx(od,{size:14}),o.jsxs("span",{children:[Re.duree," min"]})]})]}),o.jsxs("div",{className:"quiz-card-difficulty",children:[Re.parDifficulte.facile>0&&o.jsx(pt,{level:"facile"}),Re.parDifficulte.moyen>0&&o.jsx(pt,{level:"moyen"}),Re.parDifficulte.difficile>0&&o.jsx(pt,{level:"difficile"})]}),o.jsxs("div",{className:"quiz-card-actions",children:[o.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>De(he),title:"Prvisualiser",children:[o.jsx(ow,{size:14})," Aperu"]}),o.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>J(he),title:"Modifier",children:[o.jsx(VW,{size:14})," Modifier"]}),Q===he.id?o.jsxs("div",{className:"quiz-delete-confirm",children:[o.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-danger",onClick:()=>de(he.id),children:"Confirmer"}),o.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-ghost",onClick:()=>W(null),children:"Annuler"})]}):o.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-danger-outline",onClick:()=>W(he.id),title:"Supprimer",children:o.jsx(PO,{size:14})})]})]},he.id)})})]}),It=()=>o.jsxs("div",{className:"quiz-manager",children:[o.jsxs("div",{className:"admin-header",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"admin-title",children:[o.jsx(oa,{size:24}),B?"Modifier le quiz":"Nouveau quiz"]}),o.jsxs("p",{className:"admin-subtitle",children:[C.questions.length," question(s) ajoute(s)"]})]}),o.jsxs("div",{className:"admin-header-actions",children:[o.jsxs("button",{className:"admin-btn admin-btn-ghost",onClick:()=>V("list"),children:[o.jsx(fc,{size:18})," Annuler"]}),o.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:H,disabled:z,children:[o.jsx(XW,{size:18})," ",z?"Enregistrement...":"Enregistrer"]})]})]}),o.jsxs("div",{className:"admin-card quiz-form-section",children:[o.jsx("h3",{className:"quiz-form-section-title",children:"Informations gnrales"}),o.jsxs("div",{className:"quiz-form-grid",children:[o.jsxs("div",{className:"admin-form-group quiz-form-full",children:[o.jsx("label",{className:"admin-label",children:"Titre du quiz *"}),o.jsx("input",{type:"text",className:"admin-input",placeholder:"Ex : Quiz - Les Misrables, Chapitre 1",value:C.titre,onChange:he=>R(Re=>({...Re,titre:he.target.value}))})]}),o.jsxs("div",{className:"admin-form-group",children:[o.jsx("label",{className:"admin-label",children:"Discipline *"}),o.jsxs("select",{className:"admin-select",value:C.disciplineId,onChange:he=>R(Re=>({...Re,disciplineId:he.target.value})),children:[o.jsx("option",{value:"",children:"-- Slectionner --"}),n.map(he=>o.jsx("option",{value:he.id,children:he.nom},he.id))]})]}),o.jsxs("div",{className:"admin-form-group",children:[o.jsx("label",{className:"admin-label",children:"Dure (minutes)"}),o.jsx("input",{type:"number",className:"admin-input",min:1,max:180,value:C.duree,onChange:he=>R(Re=>({...Re,duree:parseInt(he.target.value)||15}))})]}),o.jsxs("div",{className:"admin-form-group",children:[o.jsx("label",{className:"admin-label",children:"Note minimale (%)"}),o.jsx("input",{type:"number",className:"admin-input",min:0,max:100,value:C.noteMinimale,onChange:he=>R(Re=>({...Re,noteMinimale:parseInt(he.target.value)||50}))})]}),o.jsxs("div",{className:"admin-form-group",children:[o.jsx("label",{className:"admin-label",children:"Accs"}),o.jsxs("div",{className:`quiz-toggle ${C.isPremium?"quiz-toggle-active":""}`,onClick:()=>R(he=>({...he,isPremium:!he.isPremium})),children:[o.jsx(fi,{size:16}),o.jsx("span",{children:C.isPremium?"Premium (2 000 FCFA/mois)":"Gratuit"})]})]})]})]}),o.jsxs("div",{className:"admin-card quiz-form-section",children:[o.jsxs("div",{className:"quiz-questions-header",children:[o.jsxs("h3",{className:"quiz-form-section-title",children:["Questions (",C.questions.length,")"]}),o.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-primary",onClick:Ce,children:[o.jsx(eg,{size:14})," Ajouter une question"]})]}),C.questions.length===0?o.jsxs("div",{className:"admin-empty-state",style:{padding:"2rem"},children:[o.jsx(Ig,{size:36}),o.jsx("p",{children:'Aucune question. Cliquez sur "Ajouter une question" pour commencer.'})]}):o.jsx("div",{className:"quiz-questions-list",children:C.questions.map((he,Re)=>o.jsxs("div",{className:`quiz-question-item ${U===he.id?"expanded":""}`,children:[o.jsxs("div",{className:"quiz-question-header",onClick:()=>L(U===he.id?null:he.id),children:[o.jsxs("div",{className:"quiz-question-header-left",children:[o.jsx(xW,{size:16,className:"quiz-grip-icon"}),o.jsxs("span",{className:"quiz-question-number",children:["Q",Re+1]}),o.jsx("span",{className:"quiz-question-preview",children:he.question||"Question sans nonc..."})]}),o.jsxs("div",{className:"quiz-question-header-right",children:[o.jsx(pt,{level:he.difficulte||"moyen"}),o.jsxs("span",{className:"quiz-question-points",children:[he.points," pt(s)"]}),U===he.id?o.jsx(aw,{size:16}):o.jsx(av,{size:16})]})]}),U===he.id&&o.jsxs("div",{className:"quiz-question-body",children:[o.jsxs("div",{className:"admin-form-group",children:[o.jsx("label",{className:"admin-label",children:"nonc de la question *"}),o.jsx("textarea",{className:"admin-textarea",rows:2,placeholder:"Ex : Quel est le personnage principal du roman ?",value:he.question,onChange:Ve=>Z(he.id,"question",Ve.target.value)})]}),o.jsxs("div",{className:"admin-form-group",children:[o.jsx("label",{className:"admin-label",children:"Options de rponse (cliquez sur la bonne rponse)"}),o.jsx("div",{className:"quiz-options-grid",children:he.options.map((Ve,Ke)=>o.jsxs("div",{className:`quiz-option-item ${he.reponseCorrecte===Ke?"quiz-option-correct":""}`,children:[o.jsx("button",{type:"button",className:`quiz-option-radio ${he.reponseCorrecte===Ke?"active":""}`,onClick:()=>Z(he.id,"reponseCorrecte",Ke),title:he.reponseCorrecte===Ke?"Bonne rponse":"Marquer comme bonne rponse",children:he.reponseCorrecte===Ke?o.jsx(yn,{size:16}):o.jsx("span",{className:"quiz-option-letter",children:String.fromCharCode(65+Ke)})}),o.jsx("input",{type:"text",className:"admin-input",placeholder:`Option ${String.fromCharCode(65+Ke)}`,value:Ve,onChange:qt=>ge(he.id,Ke,qt.target.value)})]},Ke))})]}),o.jsxs("div",{className:"admin-form-group",children:[o.jsx("label",{className:"admin-label",children:"Explication (affiche aprs rponse)"}),o.jsx("textarea",{className:"admin-textarea",rows:2,placeholder:"Ex : Jean Valjean est le protagoniste du roman de Victor Hugo...",value:he.explication,onChange:Ve=>Z(he.id,"explication",Ve.target.value)})]}),o.jsxs("div",{className:"quiz-question-meta",children:[o.jsxs("div",{className:"admin-form-group",children:[o.jsx("label",{className:"admin-label",children:"Difficult"}),o.jsxs("select",{className:"admin-select",value:he.difficulte,onChange:Ve=>Z(he.id,"difficulte",Ve.target.value),children:[o.jsx("option",{value:"facile",children:"Facile"}),o.jsx("option",{value:"moyen",children:"Moyen"}),o.jsx("option",{value:"difficile",children:"Difficile"})]})]}),o.jsxs("div",{className:"admin-form-group",children:[o.jsx("label",{className:"admin-label",children:"Points"}),o.jsx("input",{type:"number",className:"admin-input",min:1,max:10,value:he.points,onChange:Ve=>Z(he.id,"points",parseInt(Ve.target.value)||1)})]})]}),o.jsxs("div",{className:"quiz-question-actions",children:[o.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>ie(he.id),children:[o.jsx(dW,{size:14})," Dupliquer"]}),o.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-danger-outline",onClick:()=>Ee(he.id),children:[o.jsx(PO,{size:14})," Supprimer"]})]})]})]},he.id))}),C.questions.length>0&&o.jsx("div",{className:"quiz-add-question-bottom",children:o.jsxs("button",{className:"admin-btn admin-btn-outline",onClick:Ce,children:[o.jsx(eg,{size:16})," Ajouter une question"]})})]})]}),kr=()=>{if(!G)return null;const he=LO(G);let Re=0,Ve=0;return X&&G.questions.forEach(Ke=>{Ve+=Ke.points||1,be[Ke.id]===Ke.reponseCorrecte&&(Re+=Ke.points||1)}),o.jsxs("div",{className:"quiz-manager",children:[o.jsxs("div",{className:"admin-header",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"admin-title",children:[o.jsx(ow,{size:24})," Prvisualisation : ",G.titre]}),o.jsxs("p",{className:"admin-subtitle",children:[ft(G.disciplineId),"  ",he.nombreQuestions," questions  ",he.duree," min"]})]}),o.jsxs("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{V("list"),le(null)},children:[o.jsx(fc,{size:18})," Fermer"]})]}),X&&o.jsxs("div",{className:`quiz-preview-score ${Re/Ve>=(G.noteMinimale||50)/100?"success":"fail"}`,children:[o.jsx(Ec,{size:32}),o.jsxs("div",{children:[o.jsxs("h3",{children:["Score : ",Re,"/",Ve," (",Math.round(Re/Ve*100),"%)"]}),o.jsxs("p",{children:["Note minimale : ",G.noteMinimale||50,"% "," ",Re/Ve>=(G.noteMinimale||50)/100?" Russi !":" Non russi"]})]})]}),o.jsx("div",{className:"quiz-preview-questions",children:G.questions.map((Ke,qt)=>{const zn=be[Ke.id],Dr=zn===Ke.reponseCorrecte;return o.jsxs("div",{className:"admin-card quiz-preview-question",children:[o.jsxs("div",{className:"quiz-preview-question-header",children:[o.jsxs("span",{className:"quiz-question-number",children:["Q",qt+1]}),o.jsx(pt,{level:Ke.difficulte||"moyen"}),o.jsxs("span",{className:"quiz-question-points",children:[Ke.points," pt(s)"]})]}),o.jsx("p",{className:"quiz-preview-question-text",children:Ke.question}),o.jsx("div",{className:"quiz-preview-options",children:Ke.options.map((no,Mr)=>{let Fi="quiz-preview-option";return X?Mr===Ke.reponseCorrecte?Fi+=" correct":Mr===zn&&!Dr&&(Fi+=" incorrect"):zn===Mr&&(Fi+=" selected"),o.jsxs("button",{className:Fi,onClick:()=>$e(Ke.id,Mr),disabled:X,children:[o.jsx("span",{className:"quiz-preview-option-letter",children:String.fromCharCode(65+Mr)}),o.jsx("span",{children:no}),X&&Mr===Ke.reponseCorrecte&&o.jsx(yn,{size:16,className:"quiz-preview-check"})]},Mr)})}),X&&Ke.explication&&o.jsxs("div",{className:"quiz-preview-explication",children:[o.jsx("strong",{children:"Explication :"})," ",Ke.explication]})]},Ke.id)})}),!X&&o.jsx("div",{className:"quiz-preview-submit",children:o.jsxs("button",{className:"admin-btn admin-btn-primary admin-btn-lg",onClick:st,disabled:Object.keys(be).length<G.questions.length,children:[o.jsx(yn,{size:18})," Soumettre (",Object.keys(be).length,"/",G.questions.length,")"]})})]})};return o.jsxs("div",{className:"admin-container",children:[mr(),O==="list"&&Pt(),O==="form"&&It(),O==="preview"&&kr()]})},X4=yt(Se,"users"),XY=yt(Se,"quizResults"),ZY=async t=>{try{let e=Ht(X4,Yr("displayName","asc"));t?.role;let r=(await Gt(e)).docs.map(i=>({uid:i.id,...i.data()}));return t?.isPremium,t?.isActive,t?.search,r}catch(e){throw console.error("Erreur lors de la rcupration des utilisateurs :",e),e}},JY=async(t,e)=>{try{await Mn(tt(Se,"users",t),{role:e,updatedAt:it.now()})}catch(n){throw console.error("Erreur lors de la mise  jour du rle :",n),n}},eX=async(t,e)=>{try{const n={isPremium:e,updatedAt:it.now()};if(e){const r=new Date;r.setDate(r.getDate()+30),n.subscriptionEnd=it.fromDate(r)}else n.subscriptionEnd=null;await Mn(tt(Se,"users",t),n)}catch(n){throw console.error("Erreur lors de la mise  jour du statut Premium :",n),n}},tX=async(t,e)=>{try{await Mn(tt(Se,"users",t),{isActive:e,updatedAt:it.now()})}catch(n){throw console.error("Erreur lors du changement de statut du compte :",n),n}},nX=async t=>{try{const e=Ht(XY,at("userId","==",t)),r=(await Gt(e)).docs.map(f=>({id:f.id,...f.data()})),i=r.length,s=r.filter(f=>f.reussi).length,c=i>0?Math.round(r.reduce((f,h)=>f+h.score,0)/i):0,u=r.length>0?new Date(Math.max(...r.map(f=>{const h=f.datePassage;return h?.toDate?h.toDate().getTime():new Date(h).getTime()}))):null;return{totalQuizPasses:i,scoresMoyens:c,quizReussis:s,dernierQuiz:u}}catch(e){return console.error("Erreur lors du calcul des statistiques :",e),{totalQuizPasses:0,scoresMoyens:0,quizReussis:0,dernierQuiz:null}}},rX=async()=>{try{const e=(await Gt(X4)).docs.map(n=>n.data());return{total:e.length,admins:e.filter(n=>n.role==="admin").length,profs:e.filter(n=>n.role==="prof").length,eleves:e.filter(n=>n.role==="eleve").length,premium:e.filter(n=>n.isPremium).length,actifs:e.filter(n=>n.isActive!==!1).length}}catch(t){throw console.error("Erreur lors du calcul des stats globales :",t),t}},iX=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(null),[i,s]=w.useState(!0),[c,u]=w.useState(null),[f,h]=w.useState(null),[p,g]=w.useState(""),[y,_]=w.useState(""),[E,j]=w.useState(""),[N,A]=w.useState(""),[D,I]=w.useState(!1),[O,V]=w.useState(null),[B,k]=w.useState(null),[C,R]=w.useState(!1),[U,L]=w.useState(null),[z,M]=w.useState(null),Q=w.useCallback(async()=>{s(!0),u(null);try{const[J,H]=await Promise.all([ZY(),rX()]);e(J),r(H)}catch(J){u("Erreur lors du chargement des utilisateurs."),console.error(J)}finally{s(!1)}},[]);w.useEffect(()=>{Q()},[Q]),w.useEffect(()=>{if(f){const J=setTimeout(()=>h(null),4e3);return()=>clearTimeout(J)}},[f]);const W=t.filter(J=>{if(p){const H=p.toLowerCase();if(!J.displayName?.toLowerCase().includes(H)&&!J.email?.toLowerCase().includes(H))return!1}return!(y&&J.role!==y||E==="true"&&!J.isPremium||E==="false"&&J.isPremium||N==="true"&&J.isActive===!1||N==="false"&&J.isActive!==!1)}),G=async J=>{V(J),R(!0);try{const H=await nX(J.uid);k(H)}catch(H){console.error("Erreur lors du chargement des statistiques :",H),k(null)}finally{R(!1)}},le=async()=>{if(z){L(z.userId);try{switch(z.type){case"role":await JY(z.userId,z.value),h("Rle mis  jour avec succs.");break;case"premium":await eX(z.userId,z.value),h(z.value?"Statut Premium activ (30 jours).":"Statut Premium dsactiv.");break;case"active":await tX(z.userId,z.value),h(z.value?"Compte ractiv.":"Compte dsactiv.");break}await Q()}catch(J){u("Erreur lors de l'excution de l'action."),console.error(J)}finally{L(null),M(null)}}},be=({role:J})=>{const H={admin:{icon:o.jsx(xE,{size:12}),className:"user-badge-admin",label:"Admin"},prof:{icon:o.jsx(ld,{size:12}),className:"user-badge-prof",label:"Professeur"},eleve:{icon:o.jsx(oa,{size:12}),className:"user-badge-eleve",label:"lve"}},de=H[J]||H.eleve;return o.jsxs("span",{className:`user-badge ${de.className}`,children:[de.icon," ",de.label]})},je=J=>J?(J?.toDate?J.toDate():new Date(J)).toLocaleDateString("fr-SN",{day:"2-digit",month:"short",year:"numeric"}):"N/A",X=J=>J?J.charAt(0).toUpperCase():"?",F=()=>o.jsxs(o.Fragment,{children:[c&&o.jsxs("div",{className:"admin-message admin-message-error",children:[o.jsx(sv,{size:18}),o.jsx("span",{children:c}),o.jsx("button",{onClick:()=>u(null),className:"admin-message-close",children:o.jsx(fc,{size:16})})]}),f&&o.jsxs("div",{className:"admin-message admin-message-success",children:[o.jsx(yn,{size:18}),o.jsx("span",{children:f})]})]}),ne=()=>{if(!n)return null;const J=[{label:"Total",value:n.total,icon:o.jsx(Rg,{size:20}),color:"stat-blue"},{label:"lves",value:n.eleves,icon:o.jsx(oa,{size:20}),color:"stat-green"},{label:"Professeurs",value:n.profs,icon:o.jsx(ld,{size:20}),color:"stat-purple"},{label:"Premium",value:n.premium,icon:o.jsx(fi,{size:20}),color:"stat-gold"}];return o.jsx("div",{className:"user-stats-grid",children:J.map(H=>o.jsxs("div",{className:`user-stat-card ${H.color}`,children:[o.jsx("div",{className:"user-stat-icon",children:H.icon}),o.jsxs("div",{className:"user-stat-info",children:[o.jsx("span",{className:"user-stat-value",children:H.value}),o.jsx("span",{className:"user-stat-label",children:H.label})]})]},H.label))})},pe=()=>z?o.jsx("div",{className:"admin-modal-overlay",onClick:()=>M(null),children:o.jsxs("div",{className:"admin-modal",onClick:J=>J.stopPropagation(),children:[o.jsxs("div",{className:"admin-modal-header",children:[o.jsx("h3",{children:"Confirmer l'action"}),o.jsx("button",{className:"admin-modal-close",onClick:()=>M(null),children:o.jsx(fc,{size:20})})]}),o.jsx("div",{className:"admin-modal-body",children:o.jsx("p",{children:z.label})}),o.jsxs("div",{className:"admin-modal-footer",children:[o.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>M(null),children:"Annuler"}),o.jsx("button",{className:"admin-btn admin-btn-primary",onClick:le,disabled:U===z.userId,children:U===z.userId?"En cours...":"Confirmer"})]})]})}):null,we=()=>O?o.jsx("div",{className:"admin-modal-overlay",onClick:()=>V(null),children:o.jsxs("div",{className:"admin-modal admin-modal-lg",onClick:J=>J.stopPropagation(),children:[o.jsxs("div",{className:"admin-modal-header",children:[o.jsx("h3",{children:"Dtail de l'utilisateur"}),o.jsx("button",{className:"admin-modal-close",onClick:()=>V(null),children:o.jsx(fc,{size:20})})]}),o.jsxs("div",{className:"admin-modal-body",children:[o.jsxs("div",{className:"user-detail-profile",children:[o.jsx("div",{className:"user-detail-avatar",children:X(O.displayName)}),o.jsxs("div",{className:"user-detail-info",children:[o.jsx("h4",{children:O.displayName||"Sans nom"}),o.jsx("p",{children:O.email}),o.jsxs("div",{className:"user-detail-badges",children:[o.jsx(be,{role:O.role}),O.isPremium&&o.jsxs("span",{className:"user-badge user-badge-premium",children:[o.jsx(fi,{size:12})," Premium"]}),o.jsx("span",{className:`user-badge ${O.isActive!==!1?"user-badge-active":"user-badge-inactive"}`,children:O.isActive!==!1?"Actif":"Dsactiv"})]})]})]}),o.jsxs("div",{className:"user-detail-dates",children:[o.jsxs("div",{children:[o.jsx("span",{className:"user-detail-date-label",children:"Inscription"}),o.jsx("span",{children:je(O.createdAt)})]}),O.isPremium&&O.subscriptionEnd&&o.jsxs("div",{children:[o.jsx("span",{className:"user-detail-date-label",children:"Premium jusqu'au"}),o.jsx("span",{children:je(O.subscriptionEnd)})]})]}),o.jsxs("div",{className:"user-detail-stats-section",children:[o.jsxs("h4",{children:[o.jsx(Xu,{size:18})," Statistiques"]}),C?o.jsxs("div",{className:"admin-loading",style:{padding:"1rem"},children:[o.jsx("div",{className:"admin-spinner"}),o.jsx("p",{children:"Chargement des statistiques..."})]}):B?o.jsxs("div",{className:"user-detail-stats-grid",children:[o.jsxs("div",{className:"user-detail-stat",children:[o.jsx(oa,{size:20}),o.jsx("span",{className:"user-detail-stat-value",children:B.totalQuizPasses}),o.jsx("span",{className:"user-detail-stat-label",children:"Quiz passs"})]}),o.jsxs("div",{className:"user-detail-stat",children:[o.jsx(uw,{size:20}),o.jsxs("span",{className:"user-detail-stat-value",children:[B.scoresMoyens,"%"]}),o.jsx("span",{className:"user-detail-stat-label",children:"Score moyen"})]}),o.jsxs("div",{className:"user-detail-stat",children:[o.jsx(Ec,{size:20}),o.jsx("span",{className:"user-detail-stat-value",children:B.quizReussis}),o.jsx("span",{className:"user-detail-stat-label",children:"Quiz russis"})]}),o.jsxs("div",{className:"user-detail-stat",children:[o.jsx(od,{size:20}),o.jsx("span",{className:"user-detail-stat-value",children:B.dernierQuiz?je(B.dernierQuiz):"Aucun"}),o.jsx("span",{className:"user-detail-stat-label",children:"Dernier quiz"})]})]}):o.jsx("p",{className:"user-detail-no-stats",children:"Aucune statistique disponible."})]})]})]})}):null;return o.jsxs("div",{className:"admin-container",children:[F(),pe(),we(),o.jsxs("div",{className:"user-manager",children:[o.jsxs("div",{className:"admin-header",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"admin-title",children:[o.jsx(Rg,{size:24})," Gestion des Utilisateurs"]}),o.jsxs("p",{className:"admin-subtitle",children:[t.length," utilisateur(s) au total  ",W.length," affich(s)"]})]}),o.jsxs("button",{className:"admin-btn admin-btn-outline",onClick:Q,children:[o.jsx(KW,{size:16})," Actualiser"]})]}),ne(),o.jsxs("div",{className:"admin-toolbar",children:[o.jsxs("div",{className:"admin-search-wrapper",children:[o.jsx(G4,{size:18,className:"admin-search-icon"}),o.jsx("input",{type:"text",className:"admin-search-input",placeholder:"Rechercher par nom ou email...",value:p,onChange:J=>g(J.target.value)})]}),o.jsxs("button",{className:`admin-btn admin-btn-outline ${D?"active":""}`,onClick:()=>I(!D),children:[o.jsx(H4,{size:16})," Filtres",D?o.jsx(aw,{size:14}):o.jsx(av,{size:14})]})]}),D&&o.jsxs("div",{className:"admin-filters-panel",children:[o.jsxs("div",{className:"admin-filter-group",children:[o.jsx("label",{className:"admin-filter-label",children:"Rle"}),o.jsxs("select",{className:"admin-select",value:y,onChange:J=>_(J.target.value),children:[o.jsx("option",{value:"",children:"Tous les rles"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"prof",children:"Professeur"}),o.jsx("option",{value:"eleve",children:"lve"})]})]}),o.jsxs("div",{className:"admin-filter-group",children:[o.jsx("label",{className:"admin-filter-label",children:"Abonnement"}),o.jsxs("select",{className:"admin-select",value:E,onChange:J=>j(J.target.value),children:[o.jsx("option",{value:"",children:"Tous"}),o.jsx("option",{value:"true",children:"Premium"}),o.jsx("option",{value:"false",children:"Gratuit"})]})]}),o.jsxs("div",{className:"admin-filter-group",children:[o.jsx("label",{className:"admin-filter-label",children:"Statut"}),o.jsxs("select",{className:"admin-select",value:N,onChange:J=>A(J.target.value),children:[o.jsx("option",{value:"",children:"Tous"}),o.jsx("option",{value:"true",children:"Actifs"}),o.jsx("option",{value:"false",children:"Dsactivs"})]})]}),o.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{_(""),j(""),A(""),g("")},children:"Rinitialiser"})]}),i?o.jsxs("div",{className:"admin-loading",children:[o.jsx("div",{className:"admin-spinner"}),o.jsx("p",{children:"Chargement des utilisateurs..."})]}):W.length===0?o.jsxs("div",{className:"admin-empty-state",children:[o.jsx(Rg,{size:48}),o.jsx("h3",{children:"Aucun utilisateur trouv"}),o.jsx("p",{children:t.length===0?"Aucun utilisateur n'est encore inscrit.":"Aucun utilisateur ne correspond  vos filtres."})]}):o.jsx("div",{className:"user-table-wrapper",children:o.jsxs("table",{className:"user-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Utilisateur"}),o.jsx("th",{children:"Rle"}),o.jsx("th",{children:"Abonnement"}),o.jsx("th",{children:"Statut"}),o.jsx("th",{children:"Actions"})]})}),o.jsx("tbody",{children:W.map(J=>o.jsxs("tr",{className:J.isActive===!1?"user-row-inactive":"",children:[o.jsx("td",{children:o.jsxs("div",{className:"user-cell-info",children:[o.jsx("div",{className:"user-avatar-sm",children:X(J.displayName)}),o.jsxs("div",{children:[o.jsx("span",{className:"user-cell-name",children:J.displayName||"Sans nom"}),o.jsx("span",{className:"user-cell-email",children:J.email})]})]})}),o.jsx("td",{children:o.jsxs("select",{className:"admin-select admin-select-sm",value:J.role,onChange:H=>M({type:"role",userId:J.uid,value:H.target.value,label:`Changer le rle de "${J.displayName||J.email}" en "${H.target.value}" ?`}),children:[o.jsx("option",{value:"eleve",children:"lve"}),o.jsx("option",{value:"prof",children:"Professeur"}),o.jsx("option",{value:"admin",children:"Admin"})]})}),o.jsx("td",{children:o.jsx("button",{className:`user-premium-toggle ${J.isPremium?"active":""}`,onClick:()=>M({type:"premium",userId:J.uid,value:!J.isPremium,label:J.isPremium?`Dsactiver le statut Premium de "${J.displayName||J.email}" ?`:`Activer le statut Premium de "${J.displayName||J.email}" pour 30 jours ?`}),disabled:U===J.uid,children:J.isPremium?o.jsxs(o.Fragment,{children:[o.jsx(eh,{size:14})," Premium"]}):o.jsxs(o.Fragment,{children:[o.jsx(fi,{size:14})," Gratuit"]})})}),o.jsx("td",{children:o.jsx("button",{className:`user-status-toggle ${J.isActive!==!1?"active":"inactive"}`,onClick:()=>M({type:"active",userId:J.uid,value:J.isActive===!1,label:J.isActive===!1?`Ractiver le compte de "${J.displayName||J.email}" ?`:`Dsactiver le compte de "${J.displayName||J.email}" ?`}),disabled:U===J.uid,children:J.isActive!==!1?o.jsxs(o.Fragment,{children:[o.jsx(mY,{size:14})," Actif"]}):o.jsxs(o.Fragment,{children:[o.jsx(gY,{size:14})," Dsactiv"]})})}),o.jsx("td",{children:o.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>G(J),title:"Voir les statistiques",children:[o.jsx(ow,{size:14})," Dtail"]})})]},J.uid))})]})})]})]})},Z4=yt(Se,"quiz_results"),aX=async t=>{try{return(await ma(Z4,{...t,datePassage:it.now()})).id}catch(e){throw console.error("Erreur lors de la sauvegarde du rsultat :",e),e}},Py=async(t,e)=>{try{let n=Ht(Z4,at("userId","==",t),Yr("datePassage","desc"));return e&&(n=Ht(n,fl(e))),(await Gt(n)).docs.map(i=>({id:i.id,...i.data()}))}catch(n){throw console.error("Erreur lors de la rcupration de l'historique :",n),n}},sX=async t=>{try{const e=await Py(t);if(e.length===0)return{totalQuizPasses:0,totalQuizReussis:0,moyenneGenerale:0,tempsTotal:0,meilleurScore:0,serieReussites:0,meilleureSerieReussites:0};const n=e.reduce((p,g)=>p+g.pourcentage,0),r=Math.round(n/e.length),i=Math.max(...e.map(p=>p.pourcentage)),s=e.reduce((p,g)=>p+(g.tempsEcoule||0),0),c=e.filter(p=>p.reussi).length;let u=0,f=0;for(const p of e)p.reussi?(u++,f=Math.max(f,u)):(e.find(g=>!g.reussi),f=Math.max(f,u),u=0);let h=0;for(const p of e)if(p.reussi)h++;else break;return{totalQuizPasses:e.length,totalQuizReussis:c,moyenneGenerale:r,tempsTotal:s,meilleurScore:i,serieReussites:h,meilleureSerieReussites:Math.max(f,h)}}catch(e){return console.error("Erreur lors du calcul des stats :",e),{totalQuizPasses:0,totalQuizReussis:0,moyenneGenerale:0,tempsTotal:0,meilleurScore:0,serieReussites:0,meilleureSerieReussites:0}}},oX=async t=>{try{const e=await Py(t);if(e.length===0)return[];const n={};for(const r of e){const i=r.disciplineId;n[i]||(n[i]=[]),n[i].push(r)}return Object.entries(n).map(([r,i])=>{const s=Math.round(i.reduce((g,y)=>g+y.pourcentage,0)/i.length),c=Math.max(...i.map(g=>g.pourcentage)),u=i[0].pourcentage,f=i.filter(g=>g.reussi).length,h=i.reduce((g,y)=>g+(y.tempsEcoule||0),0);let p="stable";if(i.length>=4){const g=i.slice(0,3),y=i.slice(3,6),_=g.reduce((j,N)=>j+N.pourcentage,0)/g.length,E=y.reduce((j,N)=>j+N.pourcentage,0)/y.length;_-E>5?p="up":E-_>5&&(p="down")}return{disciplineId:r,disciplineNom:i[0].disciplineNom||r,nombreQuiz:i.length,moyenne:s,meilleurScore:c,dernierScore:u,quizReussis:f,tempsTotal:h,tendance:p}})}catch(e){return console.error("Erreur lors du calcul de la progression par discipline :",e),[]}},lX=async(t,e)=>{try{return(await Py(t,e||20)).reverse().map(r=>({date:(r.datePassage?.toDate?r.datePassage.toDate():new Date(r.datePassage)).toLocaleDateString("fr-SN",{day:"2-digit",month:"2-digit"}),score:r.pourcentage,discipline:r.disciplineNom||r.disciplineId}))}catch(n){return console.error("Erreur lors de la rcupration des donnes temporelles :",n),[]}},cX=(t,e)=>[{id:"premier_quiz",nom:"Premier pas",description:"Passer votre premier quiz",icone:"",condition:"1 quiz pass",obtenu:t.totalQuizPasses>=1},{id:"dix_quiz",nom:"Explorateur",description:"Passer 10 quiz",icone:"",condition:"10 quiz passs",obtenu:t.totalQuizPasses>=10},{id:"vingt_cinq_quiz",nom:"Assidu",description:"Passer 25 quiz",icone:"",condition:"25 quiz passs",obtenu:t.totalQuizPasses>=25},{id:"cinquante_quiz",nom:"Champion",description:"Passer 50 quiz",icone:"",condition:"50 quiz passs",obtenu:t.totalQuizPasses>=50},{id:"score_parfait",nom:"Score parfait",description:"Obtenir 100%  un quiz",icone:"",condition:"100%  un quiz",obtenu:t.meilleurScore>=100},{id:"moyenne_80",nom:"Excellent",description:"Maintenir une moyenne de 80%+",icone:"",condition:"Moyenne  80%",obtenu:t.moyenneGenerale>=80&&t.totalQuizPasses>=5},{id:"moyenne_60",nom:"Bon lve",description:"Maintenir une moyenne de 60%+",icone:"",condition:"Moyenne  60%",obtenu:t.moyenneGenerale>=60&&t.totalQuizPasses>=5},{id:"serie_3",nom:"En forme",description:"3 quiz russis d'affile",icone:"",condition:"Srie de 3 russites",obtenu:t.meilleureSerieReussites>=3},{id:"serie_5",nom:"Imbattable",description:"5 quiz russis d'affile",icone:"",condition:"Srie de 5 russites",obtenu:t.meilleureSerieReussites>=5},{id:"serie_10",nom:"Lgende",description:"10 quiz russis d'affile",icone:"",condition:"Srie de 10 russites",obtenu:t.meilleureSerieReussites>=10},{id:"multi_3",nom:"Polyvalent",description:"Passer des quiz dans 3 disciplines",icone:"",condition:"3 disciplines diffrentes",obtenu:e.length>=3},{id:"multi_5",nom:"Touche--tout",description:"Passer des quiz dans 5 disciplines",icone:"",condition:"5 disciplines diffrentes",obtenu:e.length>=5}],J4=t=>{if(t<60)return`${t} s`;const e=Math.floor(t/60),n=t%60;return n>0?`${e} min ${n.toString().padStart(2,"0")} s`:`${e} min`},Uu=t=>t>=80?"#10b981":t>=60?"#3b82f6":t>=40?"#f59e0b":"#ef4444",eL=t=>t>=80?"Excellent":t>=60?"Bien":t>=40?"Passable":" amliorer",uX=()=>{const{quizId:t}=ay(),e=Vi(),{currentUser:n}=Zn(),[r,i]=w.useState(null),[s,c]=w.useState(""),[u,f]=w.useState(!0),[h,p]=w.useState(null),[g,y]=w.useState("intro"),[_,E]=w.useState(0),[j,N]=w.useState({}),[A,D]=w.useState(0),[I,O]=w.useState(0),V=w.useRef(null),[B,k]=w.useState(0),[C,R]=w.useState(0),[U,L]=w.useState(0),[z,M]=w.useState(!1),[Q,W]=w.useState(!1);w.useEffect(()=>{(async()=>{if(!t){p("ID du quiz manquant."),f(!1);return}try{const H=await HY(t);if(!H){p("Quiz introuvable."),f(!1);return}i(H),D(H.duree*60);try{const Ce=(await aa.getAll()).find(ie=>ie.id===H.disciplineId);c(Ce?.nom||H.disciplineId)}catch{c(H.disciplineId)}}catch(H){p("Erreur lors du chargement du quiz."),console.error(H)}finally{f(!1)}})()},[t]),w.useEffect(()=>{if(g==="playing")return V.current=setInterval(()=>{D(J=>J<=1?(clearInterval(V.current),je(),0):J-1),O(J=>J+1)},1e3),()=>{V.current&&clearInterval(V.current)}},[g]);const G=()=>{y("playing"),E(0),N({}),O(0),r&&D(r.duree*60)},le=(J,H)=>{N(de=>({...de,[J]:H}))},be=J=>{r&&J>=0&&J<r.questions.length&&E(J)},je=w.useCallback(async()=>{if(!r||!n||g==="review")return;V.current&&clearInterval(V.current);let J=0,H=0,de=0;r.questions.forEach(Ee=>{const Z=Ee.points||1;H+=Z,j[Ee.id]===Ee.reponseCorrecte&&(J+=Z,de++)});const Ce=H>0?Math.round(J/H*100):0,ie=Ce>=(r.noteMinimale||50);k(J),R(H),L(de),y("review"),M(!0);try{const Ee={quizId:r.id,quizTitre:r.titre,disciplineId:r.disciplineId,disciplineNom:s,userId:n.uid,reponses:r.questions.map(Z=>j[Z.id]??-1),tempsEcoule:I,score:J,totalPoints:H,pourcentage:Ce,reussi:ie,nombreQuestions:r.questions.length,bonnesReponses:de};await aX(Ee),W(!0)}catch(Ee){console.error("Erreur lors de la sauvegarde :",Ee)}finally{M(!1)}},[r,n,j,I,s,g]),X=J=>{const H=Math.floor(J/60),de=J%60;return`${H.toString().padStart(2,"0")}:${de.toString().padStart(2,"0")}`},F=()=>{if(!r)return"";const J=r.duree*60,H=A/J;return H<=.1?"timer-critical":H<=.25?"timer-warning":""},ne=Object.keys(j).length;if(u)return o.jsxs("div",{className:"quiz-player-loading",children:[o.jsx("div",{className:"admin-spinner"}),o.jsx("p",{children:"Chargement du quiz..."})]});if(h||!r)return o.jsxs("div",{className:"quiz-player-error",children:[o.jsx(sv,{size:48}),o.jsx("h3",{children:h||"Quiz introuvable"}),o.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>e("/eleve/dashboard"),children:[o.jsx(lw,{size:18})," Retour au tableau de bord"]})]});if(r.isPremium&&!n?.isPremium)return o.jsx("div",{className:"quiz-player-locked",children:o.jsxs("div",{className:"qp-locked-card",children:[o.jsx(cw,{size:48}),o.jsx("h3",{children:"Quiz Premium"}),o.jsx("p",{children:"Ce quiz est rserv aux abonns Premium."}),o.jsxs("p",{className:"qp-locked-price",children:[" partir de ",o.jsx("strong",{children:"2 000 FCFA/mois"})]}),o.jsxs("div",{className:"qp-locked-actions",children:[o.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>e("/premium"),children:[o.jsx(fi,{size:18})," Devenir Premium"]}),o.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:()=>e("/eleve/dashboard"),children:[o.jsx(B_,{size:18})," Retour"]})]})]})});if(g==="intro")return o.jsx("div",{className:"quiz-player-intro",children:o.jsxs("div",{className:"qp-intro-card",children:[o.jsxs("div",{className:"qp-intro-header",children:[o.jsxs("button",{className:"qp-back-btn",onClick:()=>e(-1),children:[o.jsx(B_,{size:20})," Retour"]}),r.isPremium&&o.jsxs("span",{className:"qp-badge qp-badge-premium",children:[o.jsx(fi,{size:12})," Premium"]})]}),o.jsxs("div",{className:"qp-intro-content",children:[o.jsx("h1",{className:"qp-intro-title",children:r.titre}),o.jsx("span",{className:"qp-intro-discipline",children:s}),o.jsxs("div",{className:"qp-intro-stats",children:[o.jsxs("div",{className:"qp-intro-stat",children:[o.jsx(oa,{size:20}),o.jsxs("div",{children:[o.jsx("span",{className:"qp-intro-stat-value",children:r.questions.length}),o.jsx("span",{className:"qp-intro-stat-label",children:"Questions"})]})]}),o.jsxs("div",{className:"qp-intro-stat",children:[o.jsx(od,{size:20}),o.jsxs("div",{children:[o.jsxs("span",{className:"qp-intro-stat-value",children:[r.duree," min"]}),o.jsx("span",{className:"qp-intro-stat-label",children:"Dure"})]})]}),o.jsxs("div",{className:"qp-intro-stat",children:[o.jsx(Ec,{size:20}),o.jsxs("div",{children:[o.jsxs("span",{className:"qp-intro-stat-value",children:[r.noteMinimale||50,"%"]}),o.jsx("span",{className:"qp-intro-stat-label",children:"Note min."})]})]})]}),o.jsxs("div",{className:"qp-intro-instructions",children:[o.jsx("h3",{children:"Instructions"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Rpondez  toutes les questions dans le temps imparti"}),o.jsx("li",{children:"Chaque question a une seule bonne rponse"}),o.jsx("li",{children:"Vous pouvez naviguer entre les questions"}),o.jsx("li",{children:"Le quiz est soumis automatiquement quand le temps est coul"}),o.jsxs("li",{children:["Il faut obtenir au moins ",r.noteMinimale||50,"% pour russir"]})]})]})]}),o.jsxs("button",{className:"qp-btn qp-btn-start",onClick:G,children:[o.jsx(dh,{size:20})," Commencer le quiz"]})]})});if(g==="playing"){const J=r.questions[_];return o.jsxs("div",{className:"quiz-player-game",children:[o.jsxs("div",{className:"qp-game-header",children:[o.jsxs("div",{className:"qp-game-info",children:[o.jsx("span",{className:"qp-game-title",children:r.titre}),o.jsx("span",{className:"qp-game-discipline",children:s})]}),o.jsxs("div",{className:`qp-timer ${F()}`,children:[o.jsx(aY,{size:18}),o.jsx("span",{children:X(A)})]})]}),o.jsx("div",{className:"qp-progress-bar",children:o.jsx("div",{className:"qp-progress-fill",style:{width:`${(_+1)/r.questions.length*100}%`}})}),o.jsxs("div",{className:"qp-game-content",children:[o.jsxs("div",{className:"qp-question-header",children:[o.jsxs("span",{className:"qp-question-number",children:["Question ",_+1,"/",r.questions.length]}),o.jsxs("span",{className:"qp-question-points",children:[J.points||1," pt(s)"]})]}),o.jsx("h2",{className:"qp-question-text",children:J.question}),o.jsx("div",{className:"qp-options-list",children:J.options.map((H,de)=>o.jsxs("button",{className:`qp-option ${j[J.id]===de?"selected":""}`,onClick:()=>le(J.id,de),children:[o.jsx("span",{className:"qp-option-letter",children:String.fromCharCode(65+de)}),o.jsx("span",{className:"qp-option-text",children:H}),j[J.id]===de&&o.jsx(yn,{size:18,className:"qp-option-check"})]},de))})]}),o.jsxs("div",{className:"qp-game-footer",children:[o.jsx("div",{className:"qp-question-indicators",children:r.questions.map((H,de)=>o.jsx("button",{className:`qp-indicator ${de===_?"active":""} ${j[H.id]!==void 0?"answered":""}`,onClick:()=>be(de),children:de+1},H.id))}),o.jsxs("div",{className:"qp-nav-buttons",children:[o.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:()=>be(_-1),disabled:_===0,children:[o.jsx(B_,{size:16})," Prcdent"]}),_<r.questions.length-1?o.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>be(_+1),children:["Suivant ",o.jsx(tc,{size:16})]}):o.jsxs("button",{className:"qp-btn qp-btn-submit",onClick:je,disabled:ne<r.questions.length,children:[o.jsx(yn,{size:16}),"Soumettre (",ne,"/",r.questions.length,")"]})]})]})]})}const pe=C>0?Math.round(B/C*100):0,we=pe>=(r.noteMinimale||50);return o.jsxs("div",{className:"quiz-player-review",children:[o.jsxs("div",{className:`qp-score-card ${we?"success":"fail"}`,children:[o.jsx("div",{className:"qp-score-icon",children:we?o.jsx(Ec,{size:48}):o.jsx(sv,{size:48})}),o.jsx("h2",{className:"qp-score-title",children:we?"Flicitations ! ":"Continuez vos efforts ! "}),o.jsxs("div",{className:"qp-score-circle",style:{borderColor:Uu(pe)},children:[o.jsxs("span",{className:"qp-score-value",children:[pe,"%"]}),o.jsx("span",{className:"qp-score-label",children:eL(pe)})]}),o.jsxs("div",{className:"qp-score-details",children:[o.jsxs("div",{className:"qp-score-detail",children:[o.jsxs("span",{children:[U,"/",r.questions.length]}),o.jsx("small",{children:"Bonnes rponses"})]}),o.jsxs("div",{className:"qp-score-detail",children:[o.jsxs("span",{children:[B,"/",C]}),o.jsx("small",{children:"Points"})]}),o.jsxs("div",{className:"qp-score-detail",children:[o.jsx("span",{children:J4(I)}),o.jsx("small",{children:"Temps"})]})]}),z&&o.jsx("p",{className:"qp-saving",children:"Sauvegarde en cours..."}),Q&&o.jsx("p",{className:"qp-saved",children:" Rsultat sauvegard"})]}),o.jsxs("div",{className:"qp-review-actions",children:[o.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>e("/eleve/dashboard"),children:[o.jsx(lw,{size:18})," Tableau de bord"]}),o.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:G,children:[o.jsx(WW,{size:18})," Recommencer"]})]}),o.jsxs("div",{className:"qp-review-questions",children:[o.jsx("h3",{className:"qp-review-title",children:"Correction dtaille"}),r.questions.map((J,H)=>{const de=j[J.id],Ce=de===J.reponseCorrecte;return o.jsxs("div",{className:`qp-review-question ${Ce?"correct":"incorrect"}`,children:[o.jsxs("div",{className:"qp-review-question-header",children:[o.jsxs("span",{className:"qp-review-q-number",children:["Q",H+1]}),Ce?o.jsxs("span",{className:"qp-review-badge correct",children:[o.jsx(yn,{size:14})," Correct"]}):o.jsxs("span",{className:"qp-review-badge incorrect",children:[o.jsx(sw,{size:14})," Incorrect"]}),o.jsxs("span",{className:"qp-review-q-points",children:[Ce?J.points||1:0,"/",J.points||1," pt(s)"]})]}),o.jsx("p",{className:"qp-review-q-text",children:J.question}),o.jsx("div",{className:"qp-review-options",children:J.options.map((ie,Ee)=>{let Z="qp-review-option";return Ee===J.reponseCorrecte&&(Z+=" correct-answer"),Ee===de&&!Ce&&(Z+=" wrong-answer"),o.jsxs("div",{className:Z,children:[o.jsx("span",{className:"qp-review-option-letter",children:String.fromCharCode(65+Ee)}),o.jsx("span",{children:ie}),Ee===J.reponseCorrecte&&o.jsx(yn,{size:14,className:"qp-review-check"}),Ee===de&&!Ce&&o.jsx(sw,{size:14,className:"qp-review-x"})]},Ee)})}),J.explication&&o.jsxs("div",{className:"qp-review-explication",children:[o.jsx("strong",{children:" Explication :"})," ",J.explication]})]},J.id)})]})]})};function tL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=tL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Lt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=tL(t))&&(r&&(r+=" "),r+=e);return r}var dX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function wE(t){if(typeof t!="string")return!1;var e=dX;return e.includes(t)}var fX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hX=new Set(fX);function nL(t){return typeof t!="string"?!1:hX.has(t)}function rL(t){return typeof t=="string"&&t.startsWith("data-")}function da(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(nL(n)||rL(n))&&(e[n]=t[n]);return e}function am(t){if(t==null)return null;if(w.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return da(e)}return typeof t=="object"&&!Array.isArray(t)?da(t):null}function Or(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(nL(n)||rL(n)||wE(n))&&(e[n]=t[n]);return e}function mX(t){return t==null?null:w.isValidElement(t)?Or(t.props):typeof t=="object"&&!Array.isArray(t)?Or(t):null}var pX=["children","width","height","viewBox","className","style","title","desc"];function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dw.apply(null,arguments)}function gX(t,e){if(t==null)return{};var n,r,i=vX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var iL=w.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:c,style:u,title:f,desc:h}=t,p=gX(t,pX),g=s||{width:r,height:i,x:0,y:0},y=Lt("recharts-surface",c);return w.createElement("svg",dw({},Or(p),{className:y,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),w.createElement("title",null,f),w.createElement("desc",null,h),n)}),yX=["children","className"];function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fw.apply(null,arguments)}function bX(t,e){if(t==null)return{};var n,r,i=_X(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _X(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Li=w.forwardRef((t,e)=>{var{children:n,className:r}=t,i=bX(t,yX),s=Lt("recharts-layer",r);return w.createElement("g",fw({className:s},Or(i),{ref:e}),n)}),xX=w.createContext(null);function Bt(t){return function(){return t}}const aL=Math.cos,ov=Math.sin,pa=Math.sqrt,lv=Math.PI,Iy=2*lv,hw=Math.PI,mw=2*hw,nc=1e-6,wX=mw-nc;function sL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function jX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return sL;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class EX{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?sL:jX(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,c){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+c}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,u=this._y1,f=r-e,h=i-n,p=c-e,g=u-n,y=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>nc)if(!(Math.abs(g*f-h*p)>nc)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-c,E=i-u,j=f*f+h*h,N=_*_+E*E,A=Math.sqrt(j),D=Math.sqrt(y),I=s*Math.tan((hw-Math.acos((j+y-N)/(2*A*D)))/2),O=I/D,V=I/A;Math.abs(O-1)>nc&&this._append`L${e+O*p},${n+O*g}`,this._append`A${s},${s},0,0,${+(g*_>p*E)},${this._x1=e+V*f},${this._y1=n+V*h}`}}arc(e,n,r,i,s,c){if(e=+e,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),h=e+u,p=n+f,g=1^c,y=c?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>nc||Math.abs(this._y1-p)>nc)&&this._append`L${h},${p}`,r&&(y<0&&(y=y%mw+mw),y>wX?this._append`A${r},${r},0,1,${g},${e-u},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:y>nc&&this._append`A${r},${r},0,${+(y>=hw)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function jE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new EX(e)}function EE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function oL(t){this._context=t}oL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ry(t){return new oL(t)}function lL(t){return t[0]}function cL(t){return t[1]}function uL(t,e){var n=Bt(!0),r=null,i=Ry,s=null,c=jE(u);t=typeof t=="function"?t:t===void 0?lL:Bt(t),e=typeof e=="function"?e:e===void 0?cL:Bt(e);function u(f){var h,p=(f=EE(f)).length,g,y=!1,_;for(r==null&&(s=i(_=c())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+t(g,h,f),+e(g,h,f));if(_)return s=null,_+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Bt(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Bt(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Bt(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(s=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=s=null:s=i(r=f),u):r},u}function ig(t,e,n){var r=null,i=Bt(!0),s=null,c=Ry,u=null,f=jE(h);t=typeof t=="function"?t:t===void 0?lL:Bt(+t),e=typeof e=="function"?e:Bt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?cL:Bt(+n);function h(g){var y,_,E,j=(g=EE(g)).length,N,A=!1,D,I=new Array(j),O=new Array(j);for(s==null&&(u=c(D=f())),y=0;y<=j;++y){if(!(y<j&&i(N=g[y],y,g))===A)if(A=!A)_=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),E=y-1;E>=_;--E)u.point(I[E],O[E]);u.lineEnd(),u.areaEnd()}A&&(I[y]=+t(N,y,g),O[y]=+e(N,y,g),u.point(r?+r(N,y,g):I[y],n?+n(N,y,g):O[y]))}if(D)return u=null,D+""||null}function p(){return uL().defined(i).curve(c).context(s)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Bt(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Bt(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Bt(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:Bt(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Bt(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Bt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Bt(!!g),h):i},h.curve=function(g){return arguments.length?(c=g,s!=null&&(u=c(s)),h):c},h.context=function(g){return arguments.length?(g==null?s=u=null:u=c(s=g),h):s},h}class dL{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function NX(t){return new dL(t,!0)}function SX(t){return new dL(t,!1)}const NE={draw(t,e){const n=pa(e/lv);t.moveTo(n,0),t.arc(0,0,n,0,Iy)}},AX={draw(t,e){const n=pa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},fL=pa(1/3),TX=fL*2,CX={draw(t,e){const n=pa(e/TX),r=n*fL;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},OX={draw(t,e){const n=pa(e),r=-n/2;t.rect(r,r,n,n)}},PX=.8908130915292852,hL=ov(lv/10)/ov(7*lv/10),IX=ov(Iy/10)*hL,RX=-aL(Iy/10)*hL,kX={draw(t,e){const n=pa(e*PX),r=IX*n,i=RX*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const c=Iy*s/5,u=aL(c),f=ov(c);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},Q_=pa(3),DX={draw(t,e){const n=-pa(e/(Q_*3));t.moveTo(0,n*2),t.lineTo(-Q_*n,-n),t.lineTo(Q_*n,-n),t.closePath()}},Pi=-.5,Ii=pa(3)/2,pw=1/pa(12),MX=(pw/2+1)*3,zX={draw(t,e){const n=pa(e/MX),r=n/2,i=n*pw,s=r,c=n*pw+n,u=-s,f=c;t.moveTo(r,i),t.lineTo(s,c),t.lineTo(u,f),t.lineTo(Pi*r-Ii*i,Ii*r+Pi*i),t.lineTo(Pi*s-Ii*c,Ii*s+Pi*c),t.lineTo(Pi*u-Ii*f,Ii*u+Pi*f),t.lineTo(Pi*r+Ii*i,Pi*i-Ii*r),t.lineTo(Pi*s+Ii*c,Pi*c-Ii*s),t.lineTo(Pi*u+Ii*f,Pi*f-Ii*u),t.closePath()}};function LX(t,e){let n=null,r=jE(i);t=typeof t=="function"?t:Bt(t||NE),e=typeof e=="function"?e:Bt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Bt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Bt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function cv(){}function uv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function mL(t){this._context=t}mL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:uv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:uv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qX(t){return new mL(t)}function pL(t){this._context=t}pL.prototype={areaStart:cv,areaEnd:cv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:uv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function UX(t){return new pL(t)}function gL(t){this._context=t}gL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:uv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function VX(t){return new gL(t)}function vL(t){this._context=t}vL.prototype={areaStart:cv,areaEnd:cv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function BX(t){return new vL(t)}function qO(t){return t<0?-1:1}function UO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),c=(n-t._y1)/(i||r<0&&-0),u=(s*i+c*r)/(r+i);return(qO(s)+qO(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(u))||0}function VO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function W_(t,e,n){var r=t._x0,i=t._y0,s=t._x1,c=t._y1,u=(s-r)/3;t._context.bezierCurveTo(r+u,i+u*e,s-u,c-u*n,s,c)}function dv(t){this._context=t}dv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:W_(this,this._t0,VO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,W_(this,VO(this,n=UO(this,t,e)),n);break;default:W_(this,this._t0,n=UO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function yL(t){this._context=new bL(t)}(yL.prototype=Object.create(dv.prototype)).point=function(t,e){dv.prototype.point.call(this,e,t)};function bL(t){this._context=t}bL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function $X(t){return new dv(t)}function FX(t){return new yL(t)}function _L(t){this._context=t}_L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=BO(t),i=BO(e),s=0,c=1;c<n;++s,++c)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function BO(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),c=new Array(n);for(i[0]=0,s[0]=2,c[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,c[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,c[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,c[e]-=r*c[e-1];for(i[n-1]=c[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(c[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function HX(t){return new _L(t)}function ky(t,e){this._context=t,this._t=e}ky.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function GX(t){return new ky(t,.5)}function KX(t){return new ky(t,0)}function QX(t){return new ky(t,1)}function Nc(t,e){if((c=t.length)>1)for(var n=1,r,i,s=t[e[0]],c,u=s.length;n<c;++n)for(i=s,s=t[e[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function gw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function WX(t,e){return t[e]}function YX(t){const e=[];return e.key=t,e}function XX(){var t=Bt([]),e=gw,n=Nc,r=WX;function i(s){var c=Array.from(t.apply(this,arguments),YX),u,f=c.length,h=-1,p;for(const g of s)for(u=0,++h;u<f;++u)(c[u][h]=[0,+r(g,c[u].key,h,s)]).data=g;for(u=0,p=EE(e(c));u<f;++u)c[p[u]].index=u;return n(c,p),c}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Bt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Bt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?gw:typeof s=="function"?s:Bt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Nc,i):n},i}function ZX(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,c;i<s;++i){for(c=n=0;n<r;++n)c+=t[n][i][1]||0;if(c)for(n=0;n<r;++n)t[n][i][1]/=c}Nc(t,e)}}function JX(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var c=0,u=0;c<i;++c)u+=t[c][n][1]||0;r[n][1]+=r[n][0]=-u/2}Nc(t,e)}}function eZ(t,e){if(!(!((c=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,c;r<s;++r){for(var u=0,f=0,h=0;u<c;++u){for(var p=t[e[u]],g=p[r][1]||0,y=p[r-1][1]||0,_=(g-y)/2,E=0;E<u;++E){var j=t[e[E]],N=j[r][1]||0,A=j[r-1][1]||0;_+=N-A}f+=g,h+=_*g}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,Nc(t,e)}}var Y_={},X_={},$O;function tZ(){return $O||($O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(X_)),X_}var Z_={},FO;function xL(){return FO||(FO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Z_)),Z_}var J_={},HO;function SE(){return HO||(HO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(J_)),J_}var ex={},tx={},GO;function nZ(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(tx)),tx}var KO;function AE(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nZ(),n=SE();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],c=i.length;if(c===0)return s;let u=0,f="",h="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),u++);u<c;){const g=i[u];h?g==="\\"&&u+1<c?(u++,f+=i[u]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,u++}return f&&s.push(f),s}t.toPath=r})(ex)),ex}var QO;function TE(){return QO||(QO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tZ(),n=xL(),r=SE(),i=AE();function s(u,f,h){if(u==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=u[f];return p===void 0?n.isDeepKey(f)?s(u,i.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=u[f];return p===void 0?h:p}default:{if(Array.isArray(f))return c(u,f,h);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=u[f];return p===void 0?h:p}}}function c(u,f,h){if(f.length===0)return h;let p=u;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}t.get=s})(Y_)),Y_}var nx,WO;function rZ(){return WO||(WO=1,nx=TE().get),nx}var iZ=rZ();const cd=es(iZ);var aZ=4;function Xo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:aZ,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function dn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,c)=>{var u=n[c-1];return typeof u=="string"?i+u+s:u!==void 0?i+Xo(u)+s:i+s},"")}var Kr=t=>t===0?0:t>0?1:-1,Ya=t=>typeof t=="number"&&t!=+t,Sc=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ie=t=>(typeof t=="number"||t instanceof Number)&&!Ya(t),Xa=t=>Ie(t)||typeof t=="string",sZ=0,Ah=t=>{var e=++sZ;return"".concat(t||"").concat(e)},fa=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ie(e)&&typeof e!="string")return r;var s;if(Sc(e)){if(n==null)return r;var c=e.indexOf("%");s=n*parseFloat(e.slice(0,c))/100}else s=+e;return Ya(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},wL=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function fn(t,e,n){return Ie(t)&&Ie(e)?Xo(t+n*(e-t)):e}function jL(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):cd(r,e))===n)}var rn=t=>t===null||typeof t>"u",sm=t=>rn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Qr(t){return t!=null}function Lc(){}var oZ=["type","size","sizeType"];function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vw.apply(null,arguments)}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){lZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lZ(t,e,n){return(e=cZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cZ(t){var e=uZ(t,"string");return typeof e=="symbol"?e:e+""}function uZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dZ(t,e){if(t==null)return{};var n,r,i=fZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var EL={symbolCircle:NE,symbolCross:AX,symbolDiamond:CX,symbolSquare:OX,symbolStar:kX,symbolTriangle:DX,symbolWye:zX},hZ=Math.PI/180,mZ=t=>{var e="symbol".concat(sm(t));return EL[e]||NE},pZ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*hZ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},gZ=(t,e)=>{EL["symbol".concat(sm(t))]=e},NL=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=dZ(t,oZ),s=XO(XO({},i),{},{type:e,size:n,sizeType:r}),c="circle";typeof e=="string"&&(c=e);var u=()=>{var y=mZ(c),_=LX().type(y).size(pZ(n,r,c)),E=_();if(E!==null)return E},{className:f,cx:h,cy:p}=s,g=Or(s);return Ie(h)&&Ie(p)&&Ie(n)?w.createElement("path",vw({},g,{className:Lt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};NL.registerSymbol=gZ;var SL=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,CE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{wE(i)&&(r[i]=(s=>n[i](n,s)))}),r},vZ=(t,e,n)=>r=>(t(e,n,r),null),OE=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];wE(i)&&typeof s=="function"&&(r||(r={}),r[i]=vZ(s,e,n))}),r};function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){bZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bZ(t,e,n){return(e=_Z(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Z(t){var e=xZ(t,"string");return typeof e=="symbol"?e:e+""}function xZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ir(t,e){var n=yZ({},t),r=e,i=Object.keys(e),s=i.reduce((c,u)=>(c[u]===void 0&&r[u]!==void 0&&(c[u]=r[u]),c),n);return s}var rx={},ix={},JO;function wZ(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const c=n[s],u=r(c,s,n);i.has(u)||i.set(u,c)}return Array.from(i.values())}t.uniqBy=e})(ix)),ix}var ax={},eP;function jZ(){return eP||(eP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(ax)),ax}var sx={},tP;function AL(){return tP||(tP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(sx)),sx}var ox={},lx={},cx={},nP;function EZ(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(cx)),cx}var rP;function PE(){return rP||(rP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EZ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(lx)),lx}var ux={},iP;function NZ(){return iP||(iP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(ux)),ux}var aP;function SZ(){return aP||(aP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PE(),n=NZ();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(ox)),ox}var dx={},fx={},sP;function AZ(){return sP||(sP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TE();function n(r){return function(i){return e.get(i,r)}}t.property=n})(fx)),fx}var hx={},mx={},px={},gx={},oP;function TL(){return oP||(oP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(gx)),gx}var vx={},lP;function CL(){return lP||(lP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(vx)),vx}var yx={},cP;function OL(){return cP||(cP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(yx)),yx}var uP;function TZ(){return uP||(uP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TL(),n=CL(),r=OL();function i(p,g,y){return typeof y!="function"?i(p,g,()=>{}):s(p,g,function _(E,j,N,A,D,I){const O=y(E,j,N,A,D,I);return O!==void 0?!!O:s(E,j,_,I)},new Map)}function s(p,g,y,_){if(g===p)return!0;switch(typeof g){case"object":return c(p,g,y,_);case"function":return Object.keys(g).length>0?s(p,{...g},y,_):r.isEqualsSameValueZero(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.isEqualsSameValueZero(p,g)}}function c(p,g,y,_){if(g==null)return!0;if(Array.isArray(g))return f(p,g,y,_);if(g instanceof Map)return u(p,g,y,_);if(g instanceof Set)return h(p,g,y,_);const E=Object.keys(g);if(p==null||n.isPrimitive(p))return E.length===0;if(E.length===0)return!0;if(_?.has(g))return _.get(g)===p;_?.set(g,p);try{for(let j=0;j<E.length;j++){const N=E[j];if(!n.isPrimitive(p)&&!(N in p)||g[N]===void 0&&p[N]!==void 0||g[N]===null&&p[N]!==null||!y(p[N],g[N],N,p,g,_))return!1}return!0}finally{_?.delete(g)}}function u(p,g,y,_){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[E,j]of g.entries()){const N=p.get(E);if(y(N,j,E,p,g,_)===!1)return!1}return!0}function f(p,g,y,_){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const E=new Set;for(let j=0;j<g.length;j++){const N=g[j];let A=!1;for(let D=0;D<p.length;D++){if(E.has(D))continue;const I=p[D];let O=!1;if(y(I,N,j,p,g,_)&&(O=!0),O){E.add(D),A=!0;break}}if(!A)return!1}return!0}function h(p,g,y,_){return g.size===0?!0:p instanceof Set?f([...p],[...g],y,_):!1}t.isMatchWith=i,t.isSetMatch=h})(px)),px}var dP;function PL(){return dP||(dP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TZ();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(mx)),mx}var bx={},_x={},xx={},fP;function CZ(){return fP||(fP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(xx)),xx}var wx={},hP;function IE(){return hP||(hP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(wx)),wx}var jx={},mP;function IL(){return mP||(mP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",c="[object Symbol]",u="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",y="[object ArrayBuffer]",_="[object Object]",E="[object Error]",j="[object DataView]",N="[object Uint8Array]",A="[object Uint8ClampedArray]",D="[object Uint16Array]",I="[object Uint32Array]",O="[object BigUint64Array]",V="[object Int8Array]",B="[object Int16Array]",k="[object Int32Array]",C="[object BigInt64Array]",R="[object Float32Array]",U="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=y,t.arrayTag=p,t.bigInt64ArrayTag=C,t.bigUint64ArrayTag=O,t.booleanTag=i,t.dataViewTag=j,t.dateTag=u,t.errorTag=E,t.float32ArrayTag=R,t.float64ArrayTag=U,t.functionTag=g,t.int16ArrayTag=B,t.int32ArrayTag=k,t.int8ArrayTag=V,t.mapTag=f,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=c,t.uint16ArrayTag=D,t.uint32ArrayTag=I,t.uint8ArrayTag=N,t.uint8ClampedArrayTag=A})(jx)),jx}var Ex={},pP;function OZ(){return pP||(pP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Ex)),Ex}var gP;function RL(){return gP||(gP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CZ(),n=IE(),r=IL(),i=CL(),s=OZ();function c(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,y,_=new Map,E=void 0){const j=E?.(p,g,y,_);if(j!==void 0)return j;if(i.isPrimitive(p))return p;if(_.has(p))return _.get(p);if(Array.isArray(p)){const N=new Array(p.length);_.set(p,N);for(let A=0;A<p.length;A++)N[A]=u(p[A],A,y,_,E);return Object.hasOwn(p,"index")&&(N.index=p.index),Object.hasOwn(p,"input")&&(N.input=p.input),N}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const N=new RegExp(p.source,p.flags);return N.lastIndex=p.lastIndex,N}if(p instanceof Map){const N=new Map;_.set(p,N);for(const[A,D]of p)N.set(A,u(D,A,y,_,E));return N}if(p instanceof Set){const N=new Set;_.set(p,N);for(const A of p)N.add(u(A,void 0,y,_,E));return N}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const N=new(Object.getPrototypeOf(p)).constructor(p.length);_.set(p,N);for(let A=0;A<p.length;A++)N[A]=u(p[A],A,y,_,E);return N}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const N=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return _.set(p,N),f(N,p,y,_,E),N}if(typeof File<"u"&&p instanceof File){const N=new File([p],p.name,{type:p.type});return _.set(p,N),f(N,p,y,_,E),N}if(typeof Blob<"u"&&p instanceof Blob){const N=new Blob([p],{type:p.type});return _.set(p,N),f(N,p,y,_,E),N}if(p instanceof Error){const N=new p.constructor;return _.set(p,N),N.message=p.message,N.name=p.name,N.stack=p.stack,N.cause=p.cause,f(N,p,y,_,E),N}if(p instanceof Boolean){const N=new Boolean(p.valueOf());return _.set(p,N),f(N,p,y,_,E),N}if(p instanceof Number){const N=new Number(p.valueOf());return _.set(p,N),f(N,p,y,_,E),N}if(p instanceof String){const N=new String(p.valueOf());return _.set(p,N),f(N,p,y,_,E),N}if(typeof p=="object"&&h(p)){const N=Object.create(Object.getPrototypeOf(p));return _.set(p,N),f(N,p,y,_,E),N}return p}function f(p,g,y=p,_,E){const j=[...Object.keys(g),...e.getSymbols(g)];for(let N=0;N<j.length;N++){const A=j[N],D=Object.getOwnPropertyDescriptor(p,A);(D==null||D.writable)&&(p[A]=u(g[A],A,y,_,E))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=c,t.cloneDeepWithImpl=u,t.copyProperties=f})(_x)),_x}var vP;function PZ(){return vP||(vP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RL();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(bx)),bx}var yP;function IZ(){return yP||(yP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PL(),n=PZ();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(hx)),hx}var Nx={},Sx={},Ax={},bP;function RZ(){return bP||(bP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RL(),n=IE(),r=IL();function i(s,c){return e.cloneDeepWith(s,(u,f,h,p)=>{const g=c?.(u,f,h,p);if(g!==void 0)return g;if(typeof s=="object"){if(n.getTag(s)===r.objectTag&&typeof s.constructor!="function"){const y={};return p.set(s,y),e.copyProperties(y,s,h,p),y}switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const y=new s.constructor(s?.valueOf());return e.copyProperties(y,s),y}case r.argumentsTag:{const y={};return e.copyProperties(y,s),y.length=s.length,y[Symbol.iterator]=s[Symbol.iterator],y}default:return}}})}t.cloneDeepWith=i})(Ax)),Ax}var _P;function kZ(){return _P||(_P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RZ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Sx)),Sx}var Tx={},Cx={},xP;function kL(){return xP||(xP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Cx)),Cx}var Ox={},wP;function DZ(){return wP||(wP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IE();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Ox)),Ox}var jP;function MZ(){return jP||(jP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xL(),n=kL(),r=DZ(),i=AE();function s(c,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&c?.[u]==null?f=i.toPath(u):f=[u],f.length===0)return!1;let h=c;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=s})(Tx)),Tx}var EP;function zZ(){return EP||(EP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PL(),n=SE(),r=kZ(),i=TE(),s=MZ();function c(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(h){const p=i.get(h,u);return p===void 0?s.has(h,u):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=c})(Nx)),Nx}var NP;function LZ(){return NP||(NP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AL(),n=AZ(),r=IZ(),i=zZ();function s(c){if(c==null)return e.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}t.iteratee=s})(dx)),dx}var SP;function qZ(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wZ(),n=jZ(),r=AL(),i=SZ(),s=LZ();function c(u,f=r.identity){return i.isArrayLikeObject(u)?e.uniqBy(Array.from(u),n.ary(s.iteratee(f),1)):[]}t.uniqBy=c})(rx)),rx}var Px,AP;function UZ(){return AP||(AP=1,Px=qZ().uniqBy),Px}var VZ=UZ();const TP=es(VZ);function BZ(t,e,n){return e===!0?TP(t,n):typeof e=="function"?TP(t,e):t}var Ix={exports:{}},Rx={},kx={exports:{}},Dx={};var CP;function $Z(){if(CP)return Dx;CP=1;var t=gd();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,c=t.useDebugValue;function u(g,y){var _=y(),E=r({inst:{value:_,getSnapshot:y}}),j=E[0].inst,N=E[1];return s(function(){j.value=_,j.getSnapshot=y,f(j)&&N({inst:j})},[g,_,y]),i(function(){return f(j)&&N({inst:j}),g(function(){f(j)&&N({inst:j})})},[g]),c(_),_}function f(g){var y=g.getSnapshot;g=g.value;try{var _=y();return!n(g,_)}catch{return!0}}function h(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return Dx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Dx}var OP;function FZ(){return OP||(OP=1,kx.exports=$Z()),kx.exports}var PP;function HZ(){if(PP)return Rx;PP=1;var t=gd(),e=FZ();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,c=t.useEffect,u=t.useMemo,f=t.useDebugValue;return Rx.useSyncExternalStoreWithSelector=function(h,p,g,y,_){var E=s(null);if(E.current===null){var j={hasValue:!1,value:null};E.current=j}else j=E.current;E=u(function(){function A(B){if(!D){if(D=!0,I=B,B=y(B),_!==void 0&&j.hasValue){var k=j.value;if(_(k,B))return O=k}return O=B}if(k=O,r(I,B))return k;var C=y(B);return _!==void 0&&_(k,C)?(I=B,k):(I=B,O=C)}var D=!1,I,O,V=g===void 0?null:g;return[function(){return A(p())},V===null?void 0:function(){return A(V())}]},[p,g,y,_]);var N=i(h,E[0],E[1]);return c(function(){j.hasValue=!0,j.value=N},[N]),f(N),N},Rx}var IP;function GZ(){return IP||(IP=1,Ix.exports=HZ()),Ix.exports}var KZ=GZ(),RE=w.createContext(null),QZ=t=>t,wn=()=>{var t=w.useContext(RE);return t?t.store.dispatch:QZ},kg=()=>{},WZ=()=>kg,YZ=(t,e)=>t===e;function ze(t){var e=w.useContext(RE),n=w.useMemo(()=>e?r=>{if(r!=null)return t(r)}:kg,[e,t]);return KZ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:WZ,e?e.store.getState:kg,e?e.store.getState:kg,n,YZ)}function XZ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function ZZ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function JZ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var RP=t=>Array.isArray(t)?t:[t];function eJ(t){const e=Array.isArray(t[0])?t[0]:t;return JZ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function tJ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var nJ=class{constructor(t){this.value=t}deref(){return this.value}},rJ=typeof WeakRef<"u"?WeakRef:nJ,iJ=0,kP=1;function ag(){return{s:iJ,v:void 0,o:null,p:null}}function DL(t,e={}){let n=ag();const{resultEqualityCheck:r}=e;let i,s=0;function c(){let u=n;const{length:f}=arguments;for(let g=0,y=f;g<y;g++){const _=arguments[g];if(typeof _=="function"||typeof _=="object"&&_!==null){let E=u.o;E===null&&(u.o=E=new WeakMap);const j=E.get(_);j===void 0?(u=ag(),E.set(_,u)):u=j}else{let E=u.p;E===null&&(u.p=E=new Map);const j=E.get(_);j===void 0?(u=ag(),E.set(_,u)):u=j}}const h=u;let p;if(u.s===kP)p=u.v;else if(p=t.apply(null,arguments),s++,r){const g=i?.deref?.()??i;g!=null&&r(g,p)&&(p=g,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new rJ(p):p}return h.s=kP,h.v=p,p}return c.clearCache=()=>{n=ag(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function aJ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,c=0,u,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),XZ(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:y=[],argsMemoize:_=DL,argsMemoizeOptions:E=[]}=p,j=RP(y),N=RP(E),A=eJ(i),D=g(function(){return s++,h.apply(null,arguments)},...j),I=_(function(){c++;const V=tJ(A,arguments);return u=D.apply(null,V),u},...N);return Object.assign(I,{resultFunc:h,memoizedResultFunc:D,dependencies:A,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var ce=aJ(DL),sJ=Object.assign((t,e=ce)=>{ZZ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((c,u,f)=>(c[n[f]]=u,c),{}))},{withTypes:()=>sJ}),Mx={},zx={},Lx={},DP;function oJ(){return DP||(DP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const c=e(r),u=e(i);if(c===u&&c===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?u-c:c-u}return 0};t.compareValues=n})(Lx)),Lx}var qx={},Ux={},MP;function ML(){return MP||(MP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Ux)),Ux}var zP;function lJ(){return zP||(zP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ML(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||c!=null&&Object.hasOwn(c,s)}t.isKey=i})(qx)),qx}var LP;function cJ(){return LP||(LP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oJ(),n=lJ(),r=AE();function i(s,c,u,f){if(s==null)return[];u=f?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const h=(_,E)=>{let j=_;for(let N=0;N<E.length&&j!=null;++N)j=j[E[N]];return j},p=(_,E)=>E==null||_==null?E:typeof _=="object"&&"key"in _?Object.hasOwn(E,_.key)?E[_.key]:h(E,_.path):typeof _=="function"?_(E):Array.isArray(_)?h(E,_):typeof E=="object"?E[_]:E,g=c.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return s.map(_=>({original:_,criteria:g.map(E=>p(E,_))})).slice().sort((_,E)=>{for(let j=0;j<g.length;j++){const N=e.compareValues(_.criteria[j],E.criteria[j],u[j]);if(N!==0)return N}return 0}).map(_=>_.original)}t.orderBy=i})(zx)),zx}var Vx={},qP;function uJ(){return qP||(qP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),c=(u,f)=>{for(let h=0;h<u.length;h++){const p=u[h];Array.isArray(p)&&f<s?c(p,f+1):i.push(p)}};return c(n,0),i}t.flatten=e})(Vx)),Vx}var Bx={},UP;function zL(){return UP||(UP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kL(),n=PE(),r=TL(),i=OL();function s(c,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.isEqualsSameValueZero(f[u],c):!1}t.isIterateeCall=s})(Bx)),Bx}var VP;function dJ(){return VP||(VP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cJ(),n=uJ(),r=zL();function i(s,...c){const u=c.length;return u>1&&r.isIterateeCall(s,c[0],c[1])?c=[]:u>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),e.orderBy(s,n.flatten(c),["asc"])}t.sortBy=i})(Mx)),Mx}var $x,BP;function fJ(){return BP||(BP=1,$x=dJ().sortBy),$x}var hJ=fJ();const Dy=es(hJ);var LL=t=>t.legend.settings,mJ=t=>t.legend.size,pJ=t=>t.legend.payload;ce([pJ,LL],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Dy(r,n):r});var sg=1;function gJ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-e.height)>sg||Math.abs(c.left-e.left)>sg||Math.abs(c.top-e.top)>sg||Math.abs(c.width-e.width)>sg)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function lr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var vJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",$P=vJ,Fx=()=>Math.random().toString(36).substring(7).split("").join("."),yJ={INIT:`@@redux/INIT${Fx()}`,REPLACE:`@@redux/REPLACE${Fx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Fx()}`},fv=yJ;function kE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function qL(t,e,n){if(typeof t!="function")throw new Error(lr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(lr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(lr(1));return n(qL)(t,e)}let r=t,i=e,s=new Map,c=s,u=0,f=!1;function h(){c===s&&(c=new Map,s.forEach((N,A)=>{c.set(A,N)}))}function p(){if(f)throw new Error(lr(3));return i}function g(N){if(typeof N!="function")throw new Error(lr(4));if(f)throw new Error(lr(5));let A=!0;h();const D=u++;return c.set(D,N),function(){if(A){if(f)throw new Error(lr(6));A=!1,h(),c.delete(D),s=null}}}function y(N){if(!kE(N))throw new Error(lr(7));if(typeof N.type>"u")throw new Error(lr(8));if(typeof N.type!="string")throw new Error(lr(17));if(f)throw new Error(lr(9));try{f=!0,i=r(i,N)}finally{f=!1}return(s=c).forEach(D=>{D()}),N}function _(N){if(typeof N!="function")throw new Error(lr(10));r=N,y({type:fv.REPLACE})}function E(){const N=g;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(lr(11));function D(){const O=A;O.next&&O.next(p())}return D(),{unsubscribe:N(D)}},[$P](){return this}}}return y({type:fv.INIT}),{dispatch:y,subscribe:g,getState:p,replaceReducer:_,[$P]:E}}function bJ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:fv.INIT})>"u")throw new Error(lr(12));if(typeof n(void 0,{type:fv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(lr(13))})}function UL(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const c=e[s];typeof t[c]=="function"&&(n[c]=t[c])}const r=Object.keys(n);let i;try{bJ(n)}catch(s){i=s}return function(c={},u){if(i)throw i;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],y=n[g],_=c[g],E=y(_,u);if(typeof E>"u")throw u&&u.type,new Error(lr(14));h[g]=E,f=f||E!==_}return f=f||r.length!==Object.keys(c).length,f?h:c}}function hv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function _J(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(lr(15))};const c={getState:i.getState,dispatch:(f,...h)=>s(f,...h)},u=t.map(f=>f(c));return s=hv(...u)(i.dispatch),{...i,dispatch:s}}}function VL(t){return kE(t)&&"type"in t&&typeof t.type=="string"}var BL=Symbol.for("immer-nothing"),FP=Symbol.for("immer-draftable"),Pr=Symbol.for("immer-state");function ta(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var hi=Object,ud=hi.getPrototypeOf,mv="constructor",My="prototype",yw="configurable",pv="enumerable",Dg="writable",Th="value",Ls=t=>!!t&&!!t[Pr];function ha(t){return t?$L(t)||Ly(t)||!!t[FP]||!!t[mv]?.[FP]||qy(t)||Uy(t):!1}var xJ=hi[My][mv].toString(),HP=new WeakMap;function $L(t){if(!t||!DE(t))return!1;const e=ud(t);if(e===null||e===hi[My])return!0;const n=hi.hasOwnProperty.call(e,mv)&&e[mv];if(n===Object)return!0;if(!Vu(n))return!1;let r=HP.get(n);return r===void 0&&(r=Function.toString.call(n),HP.set(n,r)),r===xJ}function zy(t,e,n=!0){om(t)===0?(n?Reflect.ownKeys(t):hi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function om(t){const e=t[Pr];return e?e.type_:Ly(t)?1:qy(t)?2:Uy(t)?3:0}var GP=(t,e,n=om(t))=>n===2?t.has(e):hi[My].hasOwnProperty.call(t,e),bw=(t,e,n=om(t))=>n===2?t.get(e):t[e],gv=(t,e,n,r=om(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function wJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Ly=Array.isArray,qy=t=>t instanceof Map,Uy=t=>t instanceof Set,DE=t=>typeof t=="object",Vu=t=>typeof t=="function",Hx=t=>typeof t=="boolean";function jJ(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var js=t=>t.copy_||t.base_,ME=t=>t.modified_?t.copy_:t.base_;function _w(t,e){if(qy(t))return new Map(t);if(Uy(t))return new Set(t);if(Ly(t))return Array[My].slice.call(t);const n=$L(t);if(e===!0||e==="class_only"&&!n){const r=hi.getOwnPropertyDescriptors(t);delete r[Pr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const c=i[s],u=r[c];u[Dg]===!1&&(u[Dg]=!0,u[yw]=!0),(u.get||u.set)&&(r[c]={[yw]:!0,[Dg]:!0,[pv]:u[pv],[Th]:t[c]})}return hi.create(ud(t),r)}else{const r=ud(t);if(r!==null&&n)return{...t};const i=hi.create(r);return hi.assign(i,t)}}function zE(t,e=!1){return Vy(t)||Ls(t)||!ha(t)||(om(t)>1&&hi.defineProperties(t,{set:og,add:og,clear:og,delete:og}),hi.freeze(t),e&&zy(t,(n,r)=>{zE(r,!0)},!1)),t}function EJ(){ta(2)}var og={[Th]:EJ};function Vy(t){return t===null||!DE(t)?!0:hi.isFrozen(t)}var vv="MapSet",xw="Patches",KP="ArrayMethods",FL={};function Ac(t){const e=FL[t];return e||ta(0,t),e}var QP=t=>!!FL[t],Ch,HL=()=>Ch,NJ=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:QP(vv)?Ac(vv):void 0,arrayMethodsPlugin_:QP(KP)?Ac(KP):void 0});function WP(t,e){e&&(t.patchPlugin_=Ac(xw),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function ww(t){jw(t),t.drafts_.forEach(SJ),t.drafts_=null}function jw(t){t===Ch&&(Ch=t.parent_)}var YP=t=>Ch=NJ(Ch,t);function SJ(t){const e=t[Pr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function XP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Pr].modified_&&(ww(e),ta(4)),ha(t)&&(t=ZP(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Pr].base_,t,e)}else t=ZP(e,n);return AJ(e,t,!0),ww(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==BL?t:void 0}function ZP(t,e){if(Vy(e))return e;const n=e[Pr];if(!n)return yv(e,t.handledSet_,t);if(!By(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);QL(n,t)}return n.copy_}function AJ(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&zE(e,n)}function GL(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var By=(t,e)=>t.scope_===e,TJ=[];function KL(t,e,n,r){const i=js(t),s=t.type_;if(r!==void 0&&bw(i,r,s)===e){gv(i,r,n,s);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;zy(i,(f,h)=>{if(Ls(h)){const p=u.get(h)||[];p.push(f),u.set(h,p)}})}const c=t.draftLocations_.get(e)??TJ;for(const u of c)gv(i,u,n,s)}function CJ(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!By(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const c=ME(s);KL(t,s.draft_??s,c,n),QL(s,i)})}function QL(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}GL(t)}}function OJ(t,e,n){const{scope_:r}=t;if(Ls(n)){const i=n[Pr];By(i,r)&&i.callbacks_.push(function(){Mg(t);const c=ME(i);KL(t,n,c,e)})}else ha(n)&&t.callbacks_.push(function(){const s=js(t);t.type_===3?s.has(n)&&yv(n,r.handledSet_,r):bw(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&yv(bw(t.copy_,e,t.type_),r.handledSet_,r)})}function yv(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ls(t)||e.has(t)||!ha(t)||Vy(t)||(e.add(t),zy(t,(r,i)=>{if(Ls(i)){const s=i[Pr];if(By(s,n)){const c=ME(s);gv(t,r,c,t.type_),GL(s)}}else ha(i)&&yv(i,e,n)})),t}function PJ(t,e){const n=Ly(t),r={type_:n?1:0,scope_:e?e.scope_:HL(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=bv;n&&(i=[r],s=Oh);const{revoke:c,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=c,[u,r]}var bv={get(t,e){if(e===Pr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=js(t);if(!GP(i,e,t.type_))return IJ(t,i,e);const s=i[e];if(t.finalized_||!ha(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&jJ(e))return s;if(s===Gx(t.base_,e)){Mg(t);const c=t.type_===1?+e:e,u=Nw(t.scope_,s,t,c);return t.copy_[c]=u}return s},has(t,e){return e in js(t)},ownKeys(t){return Reflect.ownKeys(js(t))},set(t,e,n){const r=WL(js(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Gx(js(t),e),s=i?.[Pr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(wJ(n,i)&&(n!==void 0||GP(t.base_,e,t.type_)))return!0;Mg(t),Ew(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),OJ(t,e,n)),!0},deleteProperty(t,e){return Mg(t),Gx(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),Ew(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=js(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Dg]:!0,[yw]:t.type_!==1||e!=="length",[pv]:r[pv],[Th]:n[e]}},defineProperty(){ta(11)},getPrototypeOf(t){return ud(t.base_)},setPrototypeOf(){ta(12)}},Oh={};for(let t in bv){let e=bv[t];Oh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Oh.deleteProperty=function(t,e){return Oh.set.call(this,t,e,void 0)};Oh.set=function(t,e,n){return bv.set.call(this,t[0],e,n,t[0])};function Gx(t,e){const n=t[Pr];return(n?js(n):t)[e]}function IJ(t,e,n){const r=WL(e,n);return r?Th in r?r[Th]:r.get?.call(t.draft_):void 0}function WL(t,e){if(!(e in t))return;let n=ud(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ud(n)}}function Ew(t){t.modified_||(t.modified_=!0,t.parent_&&Ew(t.parent_))}function Mg(t){t.copy_||(t.assigned_=new Map,t.copy_=_w(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var RJ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Vu(n)&&!Vu(r)){const c=r;r=n;const u=this;return function(h=c,...p){return u.produce(h,g=>r.call(this,g,...p))}}Vu(r)||ta(6),i!==void 0&&!Vu(i)&&ta(7);let s;if(ha(n)){const c=YP(this),u=Nw(c,n,void 0);let f=!0;try{s=r(u),f=!1}finally{f?ww(c):jw(c)}return WP(c,i),XP(s,c)}else if(!n||!DE(n)){if(s=r(n),s===void 0&&(s=n),s===BL&&(s=void 0),this.autoFreeze_&&zE(s,!0),i){const c=[],u=[];Ac(xw).generateReplacementPatches_(n,s,{patches_:c,inversePatches_:u}),i(c,u)}return s}else ta(1,n)},this.produceWithPatches=(n,r)=>{if(Vu(n))return(u,...f)=>this.produceWithPatches(u,h=>n(h,...f));let i,s;return[this.produce(n,r,(u,f)=>{i=u,s=f}),i,s]},Hx(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Hx(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Hx(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ha(e)||ta(8),Ls(e)&&(e=la(e));const n=YP(this),r=Nw(n,e,void 0);return r[Pr].isManual_=!0,jw(n),r}finishDraft(e,n){const r=e&&e[Pr];(!r||!r.isManual_)&&ta(9);const{scope_:i}=r;return WP(i,n),XP(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=Ac(xw).applyPatches_;return Ls(e)?i(e,n):this.produce(e,s=>i(s,n))}};function Nw(t,e,n,r){const[i,s]=qy(e)?Ac(vv).proxyMap_(e,n):Uy(e)?Ac(vv).proxySet_(e,n):PJ(e,n);return(n?.scope_??HL()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?CJ(n,s,r):s.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),i}function la(t){return Ls(t)||ta(10,t),YL(t)}function YL(t){if(!ha(t)||Vy(t))return t;const e=t[Pr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=_w(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=_w(t,!0);return zy(n,(i,s)=>{gv(n,i,YL(s))},r),e&&(e.finalized_=!1),n}var kJ=new RJ,XL=kJ.produce;function ZL(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var DJ=ZL(),MJ=ZL,zJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?hv:hv.apply(null,arguments)};function qi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(mi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>VL(r)&&r.type===t,n}var JL=class th extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,th.prototype)}static get[Symbol.species](){return th}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new th(...e[0].concat(this)):new th(...e.concat(this))}};function JP(t){return ha(t)?XL(t,()=>{}):t}function lg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function LJ(t){return typeof t=="boolean"}var qJ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let c=new JL;return n&&(LJ(n)?c.push(DJ):c.push(MJ(n.extraArgument))),c},e3="RTK_autoBatch",Zt=()=>t=>({payload:t,meta:{[e3]:!0}}),eI=t=>e=>{setTimeout(e,t)},t3=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,c=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:eI(10):t.type==="callback"?t.queueNotification:eI(t.timeout),h=()=>{c=!1,s&&(s=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),y=r.subscribe(g);return u.add(p),()=>{y(),u.delete(p)}},dispatch(p){try{return i=!p?.meta?.[e3],s=!i,s&&(c||(c=!0,f(h))),r.dispatch(p)}finally{i=!0}}})},UJ=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new JL(t);return r&&i.push(t3(typeof r=="object"?r:void 0)),i};function VJ(t){const e=qJ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:c=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(kE(n))u=UL(n);else throw new Error(mi(1));let f;typeof r=="function"?f=r(e):f=e();let h=hv;i&&(h=zJ({trace:!1,...typeof i=="object"&&i}));const p=_J(...f),g=UJ(p);let y=typeof c=="function"?c(g):g();const _=h(...y);return qL(u,s,_)}function n3(t){const e={},n=[];let r;const i={addCase(s,c){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(mi(28));if(u in e)throw new Error(mi(29));return e[u]=c,i},addAsyncThunk(s,c){return c.pending&&(e[s.pending.type]=c.pending),c.rejected&&(e[s.rejected.type]=c.rejected),c.fulfilled&&(e[s.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:s.settled,reducer:c.settled}),i},addMatcher(s,c){return n.push({matcher:s,reducer:c}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function BJ(t){return typeof t=="function"}function $J(t,e){let[n,r,i]=n3(e),s;if(BJ(t))s=()=>JP(t());else{const u=JP(t);s=()=>u}function c(u=s(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if(Ls(p)){const _=g(p,f);return _===void 0?p:_}else{if(ha(p))return XL(p,y=>g(y,f));{const y=g(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},u)}return c.getInitialState=s,c}var FJ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",HJ=(t=21)=>{let e="",n=t;for(;n--;)e+=FJ[Math.random()*64|0];return e},GJ=Symbol.for("rtk-slice-createasyncthunk");function KJ(t,e){return`${t}/${e}`}function QJ({creators:t}={}){const e=t?.asyncThunk?.[GJ];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(mi(11));const c=(typeof r.reducers=="function"?r.reducers(YJ()):r.reducers)||{},u=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(I,O){const V=typeof I=="string"?I:I.type;if(!V)throw new Error(mi(12));if(V in f.sliceCaseReducersByType)throw new Error(mi(13));return f.sliceCaseReducersByType[V]=O,h},addMatcher(I,O){return f.sliceMatchers.push({matcher:I,reducer:O}),h},exposeAction(I,O){return f.actionCreators[I]=O,h},exposeCaseReducer(I,O){return f.sliceCaseReducersByName[I]=O,h}};u.forEach(I=>{const O=c[I],V={reducerName:I,type:KJ(i,I),createNotation:typeof r.reducers=="function"};ZJ(O)?eee(V,O,h,e):XJ(V,O,h)});function p(){const[I={},O=[],V=void 0]=typeof r.extraReducers=="function"?n3(r.extraReducers):[r.extraReducers],B={...I,...f.sliceCaseReducersByType};return $J(r.initialState,k=>{for(let C in B)k.addCase(C,B[C]);for(let C of f.sliceMatchers)k.addMatcher(C.matcher,C.reducer);for(let C of O)k.addMatcher(C.matcher,C.reducer);V&&k.addDefaultCase(V)})}const g=I=>I,y=new Map,_=new WeakMap;let E;function j(I,O){return E||(E=p()),E(I,O)}function N(){return E||(E=p()),E.getInitialState()}function A(I,O=!1){function V(k){let C=k[I];return typeof C>"u"&&O&&(C=lg(_,V,N)),C}function B(k=g){const C=lg(y,O,()=>new WeakMap);return lg(C,k,()=>{const R={};for(const[U,L]of Object.entries(r.selectors??{}))R[U]=WJ(L,k,()=>lg(_,k,N),O);return R})}return{reducerPath:I,getSelectors:B,get selectors(){return B(V)},selectSlice:V}}const D={name:i,reducer:j,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:N,...A(s),injectInto(I,{reducerPath:O,...V}={}){const B=O??s;return I.inject({reducerPath:B,reducer:j},V),{...D,...A(B,!0)}}};return D}}function WJ(t,e,n,r){function i(s,...c){let u=e(s);return typeof u>"u"&&r&&(u=n()),t(u,...c)}return i.unwrapped=t,i}var Xr=QJ();function YJ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function XJ({type:t,reducerName:e,createNotation:n},r,i){let s,c;if("reducer"in r){if(n&&!JJ(r))throw new Error(mi(17));s=r.reducer,c=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,c?qi(t,c):qi(t))}function ZJ(t){return t._reducerDefinitionType==="asyncThunk"}function JJ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function eee({type:t,reducerName:e},n,r,i){if(!i)throw new Error(mi(18));const{payloadCreator:s,fulfilled:c,pending:u,rejected:f,settled:h,options:p}=n,g=i(t,s,p);r.exposeAction(e,g),c&&r.addCase(g.fulfilled,c),u&&r.addCase(g.pending,u),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:c||cg,pending:u||cg,rejected:f||cg,settled:h||cg})}function cg(){}var tee="task",r3="listener",i3="completed",LE="cancelled",nee=`task-${LE}`,ree=`task-${i3}`,Sw=`${r3}-${LE}`,iee=`${r3}-${i3}`,$y=class{constructor(t){this.code=t,this.message=`${tee} ${LE} (reason: ${t})`}name="TaskAbortError";message},qE=(t,e)=>{if(typeof t!="function")throw new TypeError(mi(32))},_v=()=>{},a3=(t,e=_v)=>(t.catch(e),t),s3=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),hc=t=>{if(t.aborted)throw new $y(t.reason)};function o3(t,e){let n=_v;return new Promise((r,i)=>{const s=()=>i(new $y(t.reason));if(t.aborted){s();return}n=s3(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=_v})}var aee=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof $y?"cancelled":"rejected",error:n}}finally{e?.()}},xv=t=>e=>a3(o3(t,e).then(n=>(hc(t),n))),l3=t=>{const e=xv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Zu}=Object,tI={},Fy="listenerMiddleware",see=(t,e)=>{const n=r=>s3(t,()=>r.abort(t.reason));return(r,i)=>{qE(r);const s=new AbortController;n(s);const c=aee(async()=>{hc(t),hc(s.signal);const u=await r({pause:xv(s.signal),delay:l3(s.signal),signal:s.signal});return hc(s.signal),u},()=>s.abort(ree));return i?.autoJoin&&e.push(c.catch(_v)),{result:xv(t)(c),cancel(){s.abort(nee)}}}},oee=(t,e)=>{const n=async(r,i)=>{hc(e);let s=()=>{};const u=[new Promise((f,h)=>{let p=t({predicate:r,effect:(g,y)=>{y.unsubscribe(),f([g,y.getState(),y.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await o3(e,Promise.race(u));return hc(e),f}finally{s()}};return(r,i)=>a3(n(r,i))},c3=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=qi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(mi(21));return qE(s),{predicate:i,type:e,effect:s}},u3=Zu(t=>{const{type:e,predicate:n,effect:r}=c3(t);return{id:HJ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(mi(22))}}},{withTypes:()=>u3}),nI=(t,e)=>{const{type:n,effect:r,predicate:i}=c3(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},Aw=t=>{t.pending.forEach(e=>{e.abort(Sw)})},lee=(t,e)=>()=>{for(const n of e.keys())Aw(n);t.clear()},rI=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},d3=Zu(qi(`${Fy}/add`),{withTypes:()=>d3}),cee=qi(`${Fy}/removeAll`),f3=Zu(qi(`${Fy}/remove`),{withTypes:()=>f3}),uee=(...t)=>{console.error(`${Fy}/error`,...t)},lm=(t={})=>{const e=new Map,n=new Map,r=_=>{const E=n.get(_)??0;n.set(_,E+1)},i=_=>{const E=n.get(_)??1;E===1?n.delete(_):n.set(_,E-1)},{extra:s,onError:c=uee}=t;qE(c);const u=_=>(_.unsubscribe=()=>e.delete(_.id),e.set(_.id,_),E=>{_.unsubscribe(),E?.cancelActive&&Aw(_)}),f=_=>{const E=nI(e,_)??u3(_);return u(E)};Zu(f,{withTypes:()=>f});const h=_=>{const E=nI(e,_);return E&&(E.unsubscribe(),_.cancelActive&&Aw(E)),!!E};Zu(h,{withTypes:()=>h});const p=async(_,E,j,N)=>{const A=new AbortController,D=oee(f,A.signal),I=[];try{_.pending.add(A),r(_),await Promise.resolve(_.effect(E,Zu({},j,{getOriginalState:N,condition:(O,V)=>D(O,V).then(Boolean),take:D,delay:l3(A.signal),pause:xv(A.signal),extra:s,signal:A.signal,fork:see(A.signal,I),unsubscribe:_.unsubscribe,subscribe:()=>{e.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((O,V,B)=>{O!==A&&(O.abort(Sw),B.delete(O))})},cancel:()=>{A.abort(Sw),_.pending.delete(A)},throwIfCancelled:()=>{hc(A.signal)}})))}catch(O){O instanceof $y||rI(c,O,{raisedBy:"effect"})}finally{await Promise.all(I),A.abort(iee),i(_),_.pending.delete(A)}},g=lee(e,n);return{middleware:_=>E=>j=>{if(!VL(j))return E(j);if(d3.match(j))return f(j.payload);if(cee.match(j)){g();return}if(f3.match(j))return h(j.payload);let N=_.getState();const A=()=>{if(N===tI)throw new Error(mi(23));return N};let D;try{if(D=E(j),e.size>0){const I=_.getState(),O=Array.from(e.values());for(const V of O){let B=!1;try{B=V.predicate(j,I,N)}catch(k){B=!1,rI(c,k,{raisedBy:"predicate"})}B&&p(V,j,_,A)}}}finally{N=tI}return D},startListening:f,stopListening:h,clearListeners:g}};function mi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var dee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},h3=Xr({name:"chartLayout",initialState:dee,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:fee,setLayout:hee,setChartSize:mee,setScale:pee}=h3.actions,gee=h3.reducer;function m3(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function mt(t){return Number.isFinite(t)}function Za(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){vee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vee(t,e,n){return(e=yee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yee(t){var e=bee(t,"string");return typeof e=="symbol"?e:e+""}function bee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kn(t,e,n){return rn(t)||rn(e)?n:Xa(e)?cd(t,e,n):typeof e=="function"?e(t):n}var _ee=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:c,layout:u}=e;if((u==="vertical"||u==="horizontal"&&c==="middle")&&s!=="center"&&Ie(t[s]))return $u($u({},t),{},{[s]:t[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&c!=="middle"&&Ie(t[c]))return $u($u({},t),{},{[c]:t[c]+(i||0)})}return t},Qs=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",p3=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,s,c=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(s=!0),u.coordinate));return i||c.push(e),s||c.push(n),c},g3=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:c,realScaleType:u,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:y,axisType:_}=t;if(!c)return null;var E=u==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,j=i==="category"&&c.bandwidth?c.bandwidth()/E:0;if(j=_==="angleAxis"&&s&&s.length>=2?Kr(s[0]-s[1])*2*j:j,g||y){var N=(g||y||[]).map((A,D)=>{var I=r?r.indexOf(A):A,O=c.map(I);return mt(O)?{coordinate:O+j,value:A,offset:j,index:D}:null}).filter(Qr);return N}return f&&h?h.map((A,D)=>{var I=c.map(A);return mt(I)?{coordinate:I+j,value:A,index:D,offset:j}:null}).filter(Qr):c.ticks&&p!=null?c.ticks(p).map((A,D)=>{var I=c.map(A);return mt(I)?{coordinate:I+j,value:A,index:D,offset:j}:null}).filter(Qr):c.domain().map((A,D)=>{var I=c.map(A);return mt(I)?{coordinate:I+j,value:r?r[A]:A,index:D,offset:j}:null}).filter(Qr)},xee=(t,e)=>{if(!e||e.length!==2||!Ie(e[0])||!Ie(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ie(t[0])||t[0]<n)&&(i[0]=n),(!Ie(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},wee=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,c=0,u=0;u<n;++u){var f=t[u],h=f?.[i];if(h!=null){var p=h[1],g=h[0],y=Ya(p)?g:p;y>=0?(h[0]=s,s+=y,h[1]=s):(h[0]=c,c+=y,h[1]=c)}}}},jee=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,c=0;c<n;++c){var u=t[c],f=u?.[i];if(f!=null){var h=Ya(f[1])?f[0]:f[1];h>=0?(f[0]=s,s+=h,f[1]=s):(f[0]=0,f[1]=0)}}}},Eee={sign:wee,expand:ZX,none:Nc,silhouette:JX,wiggle:eZ,positive:jee},Nee=(t,e,n)=>{var r,i=(r=Eee[n])!==null&&r!==void 0?r:Nc,s=XX().keys(e).value((u,f)=>Number(kn(u,f,0))).order(gw).offset(i),c=s(t);return c.forEach((u,f)=>{u.forEach((h,p)=>{var g=kn(t[p],e[f],0);Array.isArray(g)&&g.length===2&&Ie(g[0])&&Ie(g[1])&&(h[0]=g[0],h[1]=g[1])})}),c};function See(t){return t==null?void 0:String(t)}function aI(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:c}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!rn(i[e.dataKey])){var u=jL(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n!=null&&n[s]?n[s].coordinate+r/2:null}var f=kn(i,rn(c)?e.dataKey:c),h=e.scale.map(f);return Ie(h)?h:null}var sI=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:c}=t;if(e.type==="category")return n[c]?n[c].coordinate+r:null;var u=kn(s,e.dataKey,e.scale.domain()[c]);if(rn(u))return null;var f=e.scale.map(u);return Ie(f)?f-i/2+r:null},Aee=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Tee=t=>{var e=t.flat(2).filter(Ie);return[Math.min(...e),Math.max(...e)]},Cee=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Oee=(t,e,n)=>{if(t!=null)return Cee(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:c}=s,u=c.reduce((f,h)=>{var p=m3(h,e,n),g=Tee(p);return!mt(g[0])||!mt(g[1])?f:[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},oI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dd=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Dy(e,p=>p.coordinate),s=1/0,c=1,u=i.length;c<u;c++){var f=i[c],h=i[c-1];s=Math.min((f?.coordinate||0)-(h?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function cI(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return $u($u({},e),{},{dataKey:n,payload:r,value:i,name:s})}function Hy(t,e){if(t)return String(t);if(typeof e=="string")return e}var Pee=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Iee=(t,e)=>e==="centric"?t.angle:t.radius,Ws=t=>t.layout.width,Ys=t=>t.layout.height,Ree=t=>t.layout.scale,v3=t=>t.layout.margin,Gy=ce(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Ky=ce(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),kee="data-recharts-item-index",Dee="data-recharts-item-id",cm=60;function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ug(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){Mee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mee(t,e,n){return(e=zee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zee(t){var e=Lee(t,"string");return typeof e=="symbol"?e:e+""}function Lee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qee=t=>t.brush.height;function Uee(t){var e=Ky(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:cm;return n+i}return n},0)}function Vee(t){var e=Ky(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:cm;return n+i}return n},0)}function Bee(t){var e=Gy(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function $ee(t){var e=Gy(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Jn=ce([Ws,Ys,v3,qee,Uee,Vee,Bee,$ee,LL,mJ],(t,e,n,r,i,s,c,u,f,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},g={top:(n.top||0)+c,bottom:(n.bottom||0)+u},y=ug(ug({},g),p),_=y.bottom;y.bottom+=r,y=_ee(y,f,h);var E=t-y.left-y.right,j=e-y.top-y.bottom;return ug(ug({brushBottom:_},y),{},{width:Math.max(E,0),height:Math.max(j,0)})}),Fee=ce(Jn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),UE=ce(Ws,Ys,(t,e)=>({x:0,y:0,width:t,height:e})),Hee=w.createContext(null),jr=()=>w.useContext(Hee)!=null,Qy=t=>t.brush,Wy=ce([Qy,Jn,v3],(t,e,n)=>({height:t.height,x:Ie(t.x)?t.x:e.left,y:Ie(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ie(t.width)?t.width:e.width})),Kx={},Qx={},Wx={},dI;function Gee(){return dI||(dI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let c,u=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{u!==null&&(n.apply(c,u),c=void 0,u=null)},g=()=>{h&&p(),j()};let y=null;const _=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},r)},E=()=>{y!==null&&(clearTimeout(y),y=null)},j=()=>{E(),c=void 0,u=null},N=()=>{p()},A=function(...D){if(i?.aborted)return;c=this,u=D;const I=y==null;_(),f&&I&&p()};return A.schedule=_,A.cancel=j,A.flush=N,i?.addEventListener("abort",j,{once:!0}),A}t.debounce=e})(Wx)),Wx}var fI;function Kee(){return fI||(fI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gee();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:u=!0,maxWait:f}=s,h=Array(2);c&&(h[0]="leading"),u&&(h[1]="trailing");let p,g=null;const y=e.debounce(function(...j){p=r.apply(this,j),g=null},i,{edges:h}),_=function(...j){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,j),g=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,j),p)},E=()=>(y.flush(),p);return _.cancel=y.cancel,_.flush=E,_}t.debounce=n})(Qx)),Qx}var hI;function Qee(){return hI||(hI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kee();function n(r,i=0,s={}){const{leading:c=!0,trailing:u=!0}=s;return e.debounce(r,i,{leading:c,maxWait:i,trailing:u})}t.throttle=n})(Kx)),Kx}var Yx,mI;function Wee(){return mI||(mI=1,Yx=Qee().throttle),Yx}var Yee=Wee();const Xee=es(Yee);var wv=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(n.replace(/%s/g,()=>i[c++]))}},Ua={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},y3=(t,e,n)=>{var{width:r=Ua.width,height:i=Ua.height,aspect:s,maxHeight:c}=n,u=Sc(r)?t:Number(r),f=Sc(i)?e:Number(i);return s&&s>0&&(u?f=u/s:f&&(u=f*s),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:u,calculatedHeight:f}},Zee={width:0,height:0,overflow:"visible"},Jee={width:0,overflowX:"visible"},ete={height:0,overflowY:"visible"},tte={},nte=t=>{var{width:e,height:n}=t,r=Sc(e),i=Sc(n);return r&&i?Zee:r?Jee:i?ete:tte};function rte(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i=Ua.width,s=Ua.height):i===void 0?i=r&&r>0?void 0:Ua.width:s===void 0&&(s=r&&r>0?void 0:Ua.height),{width:i,height:s}}function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tw.apply(null,arguments)}function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){ite(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ite(t,e,n){return(e=ate(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ate(t){var e=ste(t,"string");return typeof e=="symbol"?e:e+""}function ste(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b3=w.createContext(Ua.initialDimension);function ote(t){return Za(t.width)&&Za(t.height)}function _3(t){var{children:e,width:n,height:r}=t,i=w.useMemo(()=>({width:n,height:r}),[n,r]);return ote(i)?w.createElement(b3.Provider,{value:i},e):null}var VE=()=>w.useContext(b3),lte=w.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=Ua.initialDimension,width:i,height:s,minWidth:c=Ua.minWidth,minHeight:u,maxHeight:f,children:h,debounce:p=Ua.debounce,id:g,className:y,onResize:_,style:E={}}=t,j=w.useRef(null),N=w.useRef();N.current=_,w.useImperativeHandle(e,()=>j.current);var[A,D]=w.useState({containerWidth:r.width,containerHeight:r.height}),I=w.useCallback((C,R)=>{D(U=>{var L=Math.round(C),z=Math.round(R);return U.containerWidth===L&&U.containerHeight===z?U:{containerWidth:L,containerHeight:z}})},[]);w.useEffect(()=>{if(j.current==null||typeof ResizeObserver>"u")return Lc;var C=z=>{var M,Q=z[0];if(Q!=null){var{width:W,height:G}=Q.contentRect;I(W,G),(M=N.current)===null||M===void 0||M.call(N,W,G)}};p>0&&(C=Xee(C,p,{trailing:!0,leading:!1}));var R=new ResizeObserver(C),{width:U,height:L}=j.current.getBoundingClientRect();return I(U,L),R.observe(j.current),()=>{R.disconnect()}},[I,p]);var{containerWidth:O,containerHeight:V}=A;wv(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:B,calculatedHeight:k}=y3(O,V,{width:i,height:s,aspect:n,maxHeight:f});return wv(B!=null&&B>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,k,i,s,c,u,n),w.createElement("div",{id:g?"".concat(g):void 0,className:Lt("recharts-responsive-container",y),style:gI(gI({},E),{},{width:i,height:s,minWidth:c,minHeight:u,maxHeight:f}),ref:j},w.createElement("div",{style:nte({width:i,height:s})},w.createElement(_3,{width:B,height:k},h)))}),vI=w.forwardRef((t,e)=>{var n=VE();if(Za(n.width)&&Za(n.height))return t.children;var{width:r,height:i}=rte({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:c}=y3(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ie(s)&&Ie(c)?w.createElement(_3,{width:s,height:c},t.children):w.createElement(lte,Tw({},t,{width:r,height:i,ref:e}))});function BE(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Yy=()=>{var t,e=jr(),n=ze(Fee),r=ze(Wy),i=(t=ze(Qy))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},cte={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},x3=()=>{var t;return(t=ze(Jn))!==null&&t!==void 0?t:cte},w3=()=>ze(Ws),j3=()=>ze(Ys),Ot=t=>t.layout.layoutType,qc=()=>ze(Ot),E3=()=>{var t=qc();if(t==="horizontal"||t==="vertical")return t},N3=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},ute=()=>{var t=qc();return t!==void 0},um=t=>{var e=wn(),n=jr(),{width:r,height:i}=t,s=VE(),c=r,u=i;return s&&(c=s.width>0?s.width:r,u=s.height>0?s.height:i),w.useEffect(()=>{!n&&Za(c)&&Za(u)&&e(mee({width:c,height:u}))},[e,n,c,u]),null},S3=Symbol.for("immer-nothing"),yI=Symbol.for("immer-draftable"),pi=Symbol.for("immer-state");function na(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ph=Object.getPrototypeOf;function fd(t){return!!t&&!!t[pi]}function Tc(t){return t?A3(t)||Array.isArray(t)||!!t[yI]||!!t.constructor?.[yI]||dm(t)||Zy(t):!1}var dte=Object.prototype.constructor.toString(),bI=new WeakMap;function A3(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=bI.get(n);return r===void 0&&(r=Function.toString.call(n),bI.set(n,r)),r===dte}function jv(t,e,n=!0){Xy(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Xy(t){const e=t[pi];return e?e.type_:Array.isArray(t)?1:dm(t)?2:Zy(t)?3:0}function Cw(t,e){return Xy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function T3(t,e,n){const r=Xy(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function fte(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function dm(t){return t instanceof Map}function Zy(t){return t instanceof Set}function rc(t){return t.copy_||t.base_}function Ow(t,e){if(dm(t))return new Map(t);if(Zy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=A3(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[pi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const c=i[s],u=r[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[c]})}return Object.create(Ph(t),r)}else{const r=Ph(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function $E(t,e=!1){return Jy(t)||fd(t)||!Tc(t)||(Xy(t)>1&&Object.defineProperties(t,{set:dg,add:dg,clear:dg,delete:dg}),Object.freeze(t),e&&Object.values(t).forEach(n=>$E(n,!0))),t}function hte(){na(2)}var dg={value:hte};function Jy(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var mte={};function Cc(t){const e=mte[t];return e||na(0,t),e}var Ih;function C3(){return Ih}function pte(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _I(t,e){e&&(Cc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Pw(t){Iw(t),t.drafts_.forEach(gte),t.drafts_=null}function Iw(t){t===Ih&&(Ih=t.parent_)}function xI(t){return Ih=pte(Ih,t)}function gte(t){const e=t[pi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function wI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[pi].modified_&&(Pw(e),na(4)),Tc(t)&&(t=Ev(e,t),e.parent_||Nv(e,t)),e.patches_&&Cc("Patches").generateReplacementPatches_(n[pi].base_,t,e.patches_,e.inversePatches_)):t=Ev(e,n,[]),Pw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==S3?t:void 0}function Ev(t,e,n){if(Jy(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[pi];if(!i)return jv(e,(s,c)=>jI(t,i,e,s,c,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Nv(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let c=s,u=!1;i.type_===3&&(c=new Set(s),s.clear(),u=!0),jv(c,(f,h)=>jI(t,i,s,f,h,n,u),r),Nv(t,s,!1),n&&t.patches_&&Cc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function jI(t,e,n,r,i,s,c){if(i==null||typeof i!="object"&&!c)return;const u=Jy(i);if(!(u&&!c)){if(fd(i)){const f=s&&e&&e.type_!==3&&!Cw(e.assigned_,r)?s.concat(r):void 0,h=Ev(t,i,f);if(T3(n,r,h),fd(h))t.canAutoFreeze_=!1;else return}else c&&n.add(i);if(Tc(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;Ev(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(dm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Nv(t,i)}}}function Nv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&$E(e,n)}function vte(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:C3(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=FE;n&&(i=[r],s=Rh);const{revoke:c,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=c,u}var FE={get(t,e){if(e===pi)return t;const n=rc(t);if(!Cw(n,e))return yte(t,n,e);const r=n[e];return t.finalized_||!Tc(r)?r:r===Xx(t.base_,e)?(Zx(t),t.copy_[e]=kw(r,t)):r},has(t,e){return e in rc(t)},ownKeys(t){return Reflect.ownKeys(rc(t))},set(t,e,n){const r=O3(rc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Xx(rc(t),e),s=i?.[pi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(fte(n,i)&&(n!==void 0||Cw(t.base_,e)))return!0;Zx(t),Rw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Xx(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Zx(t),Rw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=rc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){na(11)},getPrototypeOf(t){return Ph(t.base_)},setPrototypeOf(){na(12)}},Rh={};jv(FE,(t,e)=>{Rh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Rh.deleteProperty=function(t,e){return Rh.set.call(this,t,e,void 0)};Rh.set=function(t,e,n){return FE.set.call(this,t[0],e,n,t[0])};function Xx(t,e){const n=t[pi];return(n?rc(n):t)[e]}function yte(t,e,n){const r=O3(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function O3(t,e){if(!(e in t))return;let n=Ph(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ph(n)}}function Rw(t){t.modified_||(t.modified_=!0,t.parent_&&Rw(t.parent_))}function Zx(t){t.copy_||(t.copy_=Ow(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var bte=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const c=this;return function(f=s,...h){return c.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&na(6),r!==void 0&&typeof r!="function"&&na(7);let i;if(Tc(e)){const s=xI(this),c=kw(e,void 0);let u=!0;try{i=n(c),u=!1}finally{u?Pw(s):Iw(s)}return _I(s,r),wI(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===S3&&(i=void 0),this.autoFreeze_&&$E(i,!0),r){const s=[],c=[];Cc("Patches").generateReplacementPatches_(e,i,s,c),r(s,c)}return i}else na(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...u)=>this.produceWithPatches(c,f=>e(f,...u));let r,i;return[this.produce(e,n,(c,u)=>{r=c,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Tc(t)||na(8),fd(t)&&(t=_te(t));const e=xI(this),n=kw(t,void 0);return n[pi].isManual_=!0,Iw(e),n}finishDraft(t,e){const n=t&&t[pi];(!n||!n.isManual_)&&na(9);const{scope_:r}=n;return _I(r,e),wI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Cc("Patches").applyPatches_;return fd(t)?r(t,e):this.produce(t,i=>r(i,e))}};function kw(t,e){const n=dm(t)?Cc("MapSet").proxyMap_(t,e):Zy(t)?Cc("MapSet").proxySet_(t,e):vte(t,e);return(e?e.scope_:C3()).drafts_.push(n),n}function _te(t){return fd(t)||na(10,t),P3(t)}function P3(t){if(!Tc(t)||Jy(t))return t;const e=t[pi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Ow(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Ow(t,!0);return jv(n,(i,s)=>{T3(n,i,P3(s))},r),e&&(e.finalized_=!1),n}var xte=new bte;xte.produce;var wte={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},I3=Xr({name:"legend",initialState:wte,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Zt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=la(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Zt()},removeLegendPayload:{reducer(t,e){var n=la(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Zt()}}}),{setLegendSize:cve,setLegendSettings:uve,addLegendPayload:jte,replaceLegendPayload:Ete,removeLegendPayload:Nte}=I3.actions,Ste=I3.reducer;function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dw.apply(null,arguments)}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){Ate(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ate(t,e,n){return(e=Tte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tte(t){var e=Cte(t,"string");return typeof e=="symbol"?e:e+""}function Cte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ote(t){return Array.isArray(t)&&Xa(t[0])&&Xa(t[1])?t.join(" ~ "):t}var Iu={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Pte=t=>{var{separator:e=Iu.separator,contentStyle:n,itemStyle:r,labelStyle:i=Iu.labelStyle,payload:s,formatter:c,itemSorter:u,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:y=Iu.accessibilityLayer}=t,_=()=>{if(s&&s.length){var V={padding:0,margin:0},B=(u?Dy(s,u):s).map((k,C)=>{if(k.type==="none")return null;var R=k.formatter||c||Ote,{value:U,name:L}=k,z=U,M=L;if(R){var Q=R(U,L,k,C,s);if(Array.isArray(Q))[z,M]=Q;else if(Q!=null)z=Q;else return null}var W=qf(qf({},Iu.itemStyle),{},{color:k.color||Iu.itemStyle.color},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:W},Xa(M)?w.createElement("span",{className:"recharts-tooltip-item-name"},M):null,Xa(M)?w.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,w.createElement("span",{className:"recharts-tooltip-item-value"},z),w.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:V},B)}return null},E=qf(qf({},Iu.contentStyle),n),j=qf({margin:0},i),N=!rn(p),A=N?p:"",D=Lt("recharts-default-tooltip",f),I=Lt("recharts-tooltip-label",h);N&&g&&s!==void 0&&s!==null&&(A=g(p,s));var O=y?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",Dw({className:D,style:E},O),w.createElement("p",{className:I,style:j},w.isValidElement(A)?A:"".concat(A)),_())},Uf="recharts-tooltip-wrapper",Ite={visibility:"hidden"};function Rte(t){var{coordinate:e,translateX:n,translateY:r}=t;return Lt(Uf,{["".concat(Uf,"-right")]:Ie(n)&&e&&Ie(e.x)&&n>=e.x,["".concat(Uf,"-left")]:Ie(n)&&e&&Ie(e.x)&&n<e.x,["".concat(Uf,"-bottom")]:Ie(r)&&e&&Ie(e.y)&&r>=e.y,["".concat(Uf,"-top")]:Ie(r)&&e&&Ie(e.y)&&r<e.y})}function NI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:s,reverseDirection:c,tooltipDimension:u,viewBox:f,viewBoxDimension:h}=t;if(s&&Ie(s[r]))return s[r];var p=n[r]-u-(i>0?i:0),g=n[r]+i;if(e[r])return c[r]?p:g;var y=f[r];if(y==null)return 0;if(c[r]){var _=p,E=y;return _<E?Math.max(g,y):Math.max(p,y)}if(h==null)return 0;var j=g+u,N=y+h;return j>N?Math.max(p,y):Math.max(g,y)}function kte(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Dte(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:s,reverseDirection:c,tooltipBox:u,useTranslate3d:f,viewBox:h}=t,p,g,y;return u.height>0&&u.width>0&&n?(g=NI({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:s,reverseDirection:c,tooltipDimension:u.width,viewBox:h,viewBoxDimension:h.width}),y=NI({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:s,reverseDirection:c,tooltipDimension:u.height,viewBox:h,viewBoxDimension:h.height}),p=kte({translateX:g,translateY:y,useTranslate3d:f})):p=Ite,{cssProperties:p,cssClasses:Rte({translateX:g,translateY:y,coordinate:n})}}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){Mw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mw(t,e,n){return(e=Mte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mte(t){var e=zte(t,"string");return typeof e=="symbol"?e:e+""}function zte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Lte extends w.PureComponent{constructor(){super(...arguments),Mw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Mw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:c,hasPayload:u,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:y,viewBox:_,wrapperStyle:E,lastBoundingBox:j,innerRef:N,hasPortalFromProps:A}=this.props,D=typeof h=="number"?h:h.x,I=typeof h=="number"?h:h.y,{cssClasses:O,cssProperties:V}=Dte({allowEscapeViewBox:n,coordinate:c,offsetLeft:D,offsetTop:I,position:p,reverseDirection:g,tooltipBox:{height:j.height,width:j.width},useTranslate3d:y,viewBox:_}),B=A?{}:fg(fg({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},V),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),k=fg(fg({},B),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},E);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:k,ref:N},s)}}var R3=()=>{var t;return(t=ze(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function zw(){return zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zw.apply(null,arguments)}function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){qte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qte(t,e,n){return(e=Ute(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ute(t){var e=Vte(t,"string");return typeof e=="symbol"?e:e+""}function Vte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CI={curveBasisClosed:UX,curveBasisOpen:VX,curveBasis:qX,curveBumpX:NX,curveBumpY:SX,curveLinearClosed:BX,curveLinear:Ry,curveMonotoneX:$X,curveMonotoneY:FX,curveNatural:HX,curveStep:GX,curveStepAfter:QX,curveStepBefore:KX},Sv=t=>mt(t.x)&&mt(t.y),OI=t=>t.base!=null&&Sv(t.base)&&Sv(t),Vf=t=>t.x,Bf=t=>t.y,Bte=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(sm(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=CI["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return CI[n]||Ry},PI={connectNulls:!1,type:"linear"},$te=t=>{var{type:e=PI.type,points:n=[],baseLine:r,layout:i,connectNulls:s=PI.connectNulls}=t,c=Bte(e,i),u=s?n.filter(Sv):n;if(Array.isArray(r)){var f,h=n.map((E,j)=>TI(TI({},E),{},{base:r[j]}));i==="vertical"?f=ig().y(Bf).x1(Vf).x0(E=>E.base.x):f=ig().x(Vf).y1(Bf).y0(E=>E.base.y);var p=f.defined(OI).curve(c),g=s?h.filter(OI):h;return p(g)}var y;i==="vertical"&&Ie(r)?y=ig().y(Bf).x1(Vf).x0(r):Ie(r)?y=ig().x(Vf).y1(Bf).y0(r):y=uL().x(Vf).y(Bf);var _=y.defined(Sv).curve(c);return _(u)},k3=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=qc();if((!n||!n.length)&&!r)return null;var c={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},u=n&&n.length?$te(c):r;return w.createElement("path",zw({},da(t),CE(t),{className:Lt("recharts-curve",e),d:u===null?void 0:u,ref:i}))},Fte=["x","y","top","left","width","height","className"];function Lw(){return Lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lw.apply(null,arguments)}function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(r){Gte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gte(t,e,n){return(e=Kte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kte(t){var e=Qte(t,"string");return typeof e=="symbol"?e:e+""}function Qte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wte(t,e){if(t==null)return{};var n,r,i=Yte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Xte=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),Zte=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:c=0,className:u}=t,f=Wte(t,Fte),h=Hte({x:e,y:n,top:r,left:i,width:s,height:c},f);return!Ie(e)||!Ie(n)||!Ie(s)||!Ie(c)||!Ie(r)||!Ie(i)?null:w.createElement("path",Lw({},Or(h),{className:Lt("recharts-cross",u),d:Xte(e,n,s,c,r,i)}))};function Jte(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function RI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(n),!0).forEach(function(r){ene(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ene(t,e,n){return(e=tne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tne(t){var e=nne(t,"string");return typeof e=="symbol"?e:e+""}function nne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rne=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),D3=(t,e,n)=>t.map(r=>"".concat(rne(r)," ").concat(e,"ms ").concat(n)).join(","),ine=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),kh=(t,e)=>Object.keys(e).reduce((n,r)=>kI(kI({},n),{},{[r]:t(r,e[r])}),{});function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){ane(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ane(t,e,n){return(e=sne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sne(t){var e=one(t,"string");return typeof e=="symbol"?e:e+""}function one(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Av=(t,e,n)=>t+(e-t)*n,qw=t=>{var{from:e,to:n}=t;return e!==n},M3=(t,e,n)=>{var r=kh((i,s)=>{if(qw(s)){var[c,u]=t(s.from,s.to,s.velocity);return qn(qn({},s),{},{from:c,velocity:u})}return s},e);return n<1?kh((i,s)=>qw(s)&&r[i]!=null?qn(qn({},s),{},{velocity:Av(s.velocity,r[i].velocity,n),from:Av(s.from,r[i].from,n)}):s,e):M3(t,r,n-1)};function lne(t,e,n,r,i,s){var c,u=r.reduce((y,_)=>qn(qn({},y),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),f=()=>kh((y,_)=>_.from,u),h=()=>!Object.values(u).filter(qw).length,p=null,g=y=>{c||(c=y);var _=y-c,E=_/n.dt;u=M3(n,u,E),i(qn(qn(qn({},t),e),f())),c=y,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var y;(y=p)===null||y===void 0||y()})}function cne(t,e,n,r,i,s,c){var u=null,f=i.reduce((g,y)=>{var _=t[y],E=e[y];return _==null||E==null?g:qn(qn({},g),{},{[y]:[_,E]})},{}),h,p=g=>{h||(h=g);var y=(g-h)/r,_=kh((j,N)=>Av(...N,n(y)),f);if(s(qn(qn(qn({},t),e),_)),y<1)u=c.setTimeout(p);else{var E=kh((j,N)=>Av(...N,n(1)),f);s(qn(qn(qn({},t),e),E))}};return()=>(u=c.setTimeout(p),()=>{var g;(g=u)===null||g===void 0||g()})}const une=(t,e,n,r,i,s)=>{var c=ine(t,e);return n==null?()=>(i(qn(qn({},t),e)),()=>{}):n.isStepper===!0?lne(t,e,n,c,i,s):cne(t,e,n,r,c,i,s)};var Tv=1e-4,z3=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],L3=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),MI=(t,e)=>n=>{var r=z3(t,e);return L3(r,n)},dne=(t,e)=>n=>{var r=z3(t,e),i=[...r.map((s,c)=>s*c).slice(1),0];return L3(i,n)},fne=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},hne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=fne(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},mne=(t,e,n,r)=>{var i=MI(t,n),s=MI(e,r),c=dne(t,n),u=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,y=0;y<8;++y){var _=i(g)-p,E=c(g);if(Math.abs(_-p)<Tv||E<Tv)return s(g);g=u(g-_/E)}return s(g)};return f.isStepper=!1,f},zI=function(){return mne(...hne(...arguments))},pne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(c,u,f)=>{var h=-(c-u)*n,p=f*r,g=f+(h-p)*i/1e3,y=f*i/1e3+c;return Math.abs(y-u)<Tv&&Math.abs(g)<Tv?[u,0]:[y,g]};return s.isStepper=!0,s.dt=i,s},gne=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zI(t);case"spring":return pne();default:if(t.split("(")[0]==="cubic-bezier")return zI(t)}return typeof t=="function"?t:null};function vne(t){var e,n=()=>null,r=!1,i=null,s=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var u=c,[f,...h]=u;if(typeof f=="number"){i=t.setTimeout(s.bind(null,h),f);return}s(f),i=t.setTimeout(s.bind(null,h));return}typeof c=="string"&&(e=c,n(e)),typeof c=="object"&&(e=c,n(e)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,i&&(i(),i=null),s(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>t}}class yne{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=c=>{c-r>=n?e(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function bne(){return vne(new yne)}var _ne=w.createContext(bne);function xne(t,e){var n=w.useContext(_ne);return w.useMemo(()=>e??n(t),[t,e,n])}var wne=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),e0={isSsr:wne()},jne={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},LI={t:0},Jx={t:1};function t0(t){var e=Ir(t,jne),{isActive:n,canBegin:r,duration:i,easing:s,begin:c,onAnimationEnd:u,onAnimationStart:f,children:h}=e,p=n==="auto"?!e0.isSsr:n,g=xne(e.animationId,e.animationManager),[y,_]=w.useState(p?LI:Jx),E=w.useRef(null);return w.useEffect(()=>{p||_(Jx)},[p]),w.useEffect(()=>{if(!p||!r)return Lc;var j=une(LI,Jx,gne(s),i,_,g.getTimeoutController()),N=()=>{E.current=j()};return g.start([f,c,N,i,u]),()=>{g.stop(),E.current&&E.current(),u()}},[p,r,i,s,c,f,u,g]),h(y.t)}function n0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Ah(e)),r=w.useRef(t);return r.current!==t&&(n.current=Ah(e),r.current=t),n.current}var Ene=["radius"],Nne=["radius"],qI,UI,VI,BI,$I,FI,HI,GI,KI,QI;function WI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(n),!0).forEach(function(r){Sne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sne(t,e,n){return(e=Ane(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ane(t){var e=Tne(t,"string");return typeof e=="symbol"?e:e+""}function Tne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cv.apply(null,arguments)}function XI(t,e){if(t==null)return{};var n,r,i=Cne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ka(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var ZI=(t,e,n,r,i)=>{var s=Xo(n),c=Xo(r),u=Math.min(Math.abs(s)/2,Math.abs(c)/2),f=c>=0?1:-1,h=s>=0?1:-1,p=c>=0&&s>=0||c<0&&s<0?1:0,g;if(u>0&&Array.isArray(i)){for(var y=[0,0,0,0],_=0,E=4;_<E;_++){var j,N=(j=i[_])!==null&&j!==void 0?j:0;y[_]=N>u?u:N}g=dn(qI||(qI=ka(["M",",",""])),t,e+f*y[0]),y[0]>0&&(g+=dn(UI||(UI=ka(["A ",",",",0,0,",",",",",""])),y[0],y[0],p,t+h*y[0],e)),g+=dn(VI||(VI=ka(["L ",",",""])),t+n-h*y[1],e),y[1]>0&&(g+=dn(BI||(BI=ka(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],p,t+n,e+f*y[1])),g+=dn($I||($I=ka(["L ",",",""])),t+n,e+r-f*y[2]),y[2]>0&&(g+=dn(FI||(FI=ka(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],p,t+n-h*y[2],e+r)),g+=dn(HI||(HI=ka(["L ",",",""])),t+h*y[3],e+r),y[3]>0&&(g+=dn(GI||(GI=ka(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],p,t,e+r-f*y[3])),g+="Z"}else if(u>0&&i===+i&&i>0){var A=Math.min(u,i);g=dn(KI||(KI=ka(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+f*A,A,A,p,t+h*A,e,t+n-h*A,e,A,A,p,t+n,e+f*A,t+n,e+r-f*A,A,A,p,t+n-h*A,e+r,t+h*A,e+r,A,A,p,t,e+r-f*A)}else g=dn(QI||(QI=ka(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return g},JI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},q3=t=>{var e=Ir(t,JI),n=w.useRef(null),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var le=n.current.getTotalLength();le&&i(le)}catch{}},[]);var{x:s,y:c,width:u,height:f,radius:h,className:p}=e,{animationEasing:g,animationDuration:y,animationBegin:_,isAnimationActive:E,isUpdateAnimationActive:j}=e,N=w.useRef(u),A=w.useRef(f),D=w.useRef(s),I=w.useRef(c),O=w.useMemo(()=>({x:s,y:c,width:u,height:f,radius:h}),[s,c,u,f,h]),V=n0(O,"rectangle-");if(s!==+s||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var B=Lt("recharts-rectangle",p);if(!j){var k=Or(e),{radius:C}=k,R=XI(k,Ene);return w.createElement("path",Cv({},R,{x:Xo(s),y:Xo(c),width:Xo(u),height:Xo(f),radius:typeof h=="number"?h:void 0,className:B,d:ZI(s,c,u,f,h)}))}var U=N.current,L=A.current,z=D.current,M=I.current,Q="0px ".concat(r===-1?1:r,"px"),W="".concat(r,"px 0px"),G=D3(["strokeDasharray"],y,typeof g=="string"?g:JI.animationEasing);return w.createElement(t0,{animationId:V,key:V,canBegin:r>0,duration:y,easing:g,isActive:j,begin:_},le=>{var be=fn(U,u,le),je=fn(L,f,le),X=fn(z,s,le),F=fn(M,c,le);n.current&&(N.current=be,A.current=je,D.current=X,I.current=F);var ne;E?le>0?ne={transition:G,strokeDasharray:W}:ne={strokeDasharray:Q}:ne={strokeDasharray:W};var pe=Or(e),{radius:we}=pe,J=XI(pe,Nne);return w.createElement("path",Cv({},J,{radius:typeof h=="number"?h:void 0,className:B,d:ZI(X,F,be,je,h),ref:n,style:YI(YI({},ne),e.style)}))})};function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(r){One(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function One(t,e,n){return(e=Pne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pne(t){var e=Ine(t,"string");return typeof e=="symbol"?e:e+""}function Ine(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ov=Math.PI/180,Rne=t=>t*180/Math.PI,fr=(t,e,n,r)=>({x:t+Math.cos(-Ov*r)*n,y:e+Math.sin(-Ov*r)*n}),kne=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Dne=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},Mne=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,c=Dne({x:n,y:r},{x:i,y:s});if(c<=0)return{radius:c,angle:0};var u=(n-i)/c,f=Math.acos(u);return r>s&&(f=2*Math.PI-f),{radius:c,angle:Rne(f),angleInRadian:f}},zne=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},Lne=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),c=Math.min(i,s);return t+c*360},qne=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=Mne({x:n,y:r},e),{innerRadius:c,outerRadius:u}=e;if(i<c||i>u||i===0)return null;var{startAngle:f,endAngle:h}=zne(e),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?tR(tR({},e),{},{radius:i,angle:Lne(p,e)}):null};function U3(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,c=fr(e,n,r,i),u=fr(e,n,r,s);return{points:[c,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var nR,rR,iR,aR,sR,oR,lR;function Uw(){return Uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uw.apply(null,arguments)}function sc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Une=(t,e)=>{var n=Kr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},hg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:c,cornerRadius:u,cornerIsExternal:f}=t,h=u*(c?1:-1)+r,p=Math.asin(u/h)/Ov,g=f?i:i+s*p,y=fr(e,n,h,g),_=fr(e,n,r,g),E=f?i-s*p:i,j=fr(e,n,h*Math.cos(p*Ov),E);return{center:y,circleTangency:_,lineTangency:j,theta:p}},V3=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:c}=t,u=Une(s,c),f=s+u,h=fr(e,n,i,s),p=fr(e,n,i,f),g=dn(nR||(nR=sc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(u)>180),+(s>f),p.x,p.y);if(r>0){var y=fr(e,n,r,s),_=fr(e,n,r,f);g+=dn(rR||(rR=sc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,r,r,+(Math.abs(u)>180),+(s<=f),y.x,y.y)}else g+=dn(iR||(iR=sc(["L ",","," Z"])),e,n);return g},Vne=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:h}=t,p=Kr(h-f),{circleTangency:g,lineTangency:y,theta:_}=hg({cx:e,cy:n,radius:i,angle:f,sign:p,cornerRadius:s,cornerIsExternal:u}),{circleTangency:E,lineTangency:j,theta:N}=hg({cx:e,cy:n,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:u}),A=u?Math.abs(f-h):Math.abs(f-h)-_-N;if(A<0)return c?dn(aR||(aR=sc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,s,s,s*2,s,s,-s*2):V3({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var D=dn(sR||(sR=sc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,s,s,+(p<0),g.x,g.y,i,i,+(A>180),+(p<0),E.x,E.y,s,s,+(p<0),j.x,j.y);if(r>0){var{circleTangency:I,lineTangency:O,theta:V}=hg({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:B,lineTangency:k,theta:C}=hg({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),R=u?Math.abs(f-h):Math.abs(f-h)-V-C;if(R<0&&s===0)return"".concat(D,"L").concat(e,",").concat(n,"Z");D+=dn(oR||(oR=sc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),k.x,k.y,s,s,+(p<0),B.x,B.y,r,r,+(R>180),+(p>0),I.x,I.y,s,s,+(p<0),O.x,O.y)}else D+=dn(lR||(lR=sc(["L",",","Z"])),e,n);return D},Bne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},B3=t=>{var e=Ir(t,Bne),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=e;if(s<i||h===p)return null;var y=Lt("recharts-sector",g),_=s-i,E=fa(c,_,0,!0),j;return E>0&&Math.abs(h-p)<360?j=Vne({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(E,_/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:p}):j=V3({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),w.createElement("path",Uw({},Or(e),{className:y,d:j}))};function $ne(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(SL(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:c,angle:u}=e,f=fr(r,i,s,u),h=fr(r,i,c,u);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return U3(e)}}var e1={},t1={},n1={},cR;function Fne(){return cR||(cR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ML();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(n1)),n1}var uR;function Hne(){return uR||(uR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fne();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(t1)),t1}var dR;function Gne(){return dR||(dR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zL(),n=Hne();function r(i,s,c){c&&typeof c!="number"&&e.isIterateeCall(i,s,c)&&(s=c=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),c=c===void 0?i<s?1:-1:n.toFinite(c);const u=Math.max(Math.ceil((s-i)/(c||1)),0),f=new Array(u);for(let h=0;h<u;h++)f[h]=i,i+=c;return f}t.range=r})(e1)),e1}var r1,fR;function Kne(){return fR||(fR=1,r1=Gne().range),r1}var Qne=Kne();const $3=es(Qne);function rl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function HE(t){let e,n,r;t.length!==2?(e=rl,n=(u,f)=>rl(t(u),f),r=(u,f)=>t(u)-f):(e=t===rl||t===Wne?t:Yne,n=t,r=t);function i(u,f,h=0,p=u.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(u[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(u,f,h=0,p=u.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(u[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function c(u,f,h=0,p=u.length){const g=i(u,f,h,p-1);return g>h&&r(u[g-1],f)>-r(u[g],f)?g-1:g}return{left:i,center:c,right:s}}function Yne(){return 0}function F3(t){return t===null?NaN:+t}function*Xne(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Zne=HE(rl),fm=Zne.right;HE(F3).center;class hR extends Map{constructor(e,n=tre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(mR(this,e))}has(e){return super.has(mR(this,e))}set(e,n){return super.set(Jne(this,e),n)}delete(e){return super.delete(ere(this,e))}}function mR({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Jne({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ere({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function tre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function nre(t=rl){if(t===rl)return H3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function H3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const rre=Math.sqrt(50),ire=Math.sqrt(10),are=Math.sqrt(2);function Pv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),c=s>=rre?10:s>=ire?5:s>=are?2:1;let u,f,h;return i<0?(h=Math.pow(10,-i)/c,u=Math.round(t*h),f=Math.round(e*h),u/h<t&&++u,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*c,u=Math.round(t/h),f=Math.round(e/h),u*h<t&&++u,f*h>e&&--f),f<u&&.5<=n&&n<2?Pv(t,e,n*2):[u,f,h]}function Vw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,c]=r?Pv(e,t,n):Pv(t,e,n);if(!(s>=i))return[];const u=s-i+1,f=new Array(u);if(r)if(c<0)for(let h=0;h<u;++h)f[h]=(s-h)/-c;else for(let h=0;h<u;++h)f[h]=(s-h)*c;else if(c<0)for(let h=0;h<u;++h)f[h]=(i+h)/-c;else for(let h=0;h<u;++h)f[h]=(i+h)*c;return f}function Bw(t,e,n){return e=+e,t=+t,n=+n,Pv(t,e,n)[2]}function $w(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Bw(e,t,n):Bw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function pR(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function gR(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function G3(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?H3:nre(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),_=Math.max(n,Math.floor(e-h*g/f+y)),E=Math.min(r,Math.floor(e+(f-h)*g/f+y));G3(t,e,_,E,i)}const s=t[e];let c=n,u=r;for($f(t,n,e),i(t[r],s)>0&&$f(t,n,r);c<u;){for($f(t,c,u),++c,--u;i(t[c],s)<0;)++c;for(;i(t[u],s)>0;)--u}i(t[n],s)===0?$f(t,n,u):(++u,$f(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function $f(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function sre(t,e,n){if(t=Float64Array.from(Xne(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return gR(t);if(e>=1)return pR(t);var r,i=(r-1)*e,s=Math.floor(i),c=pR(G3(t,s).subarray(0,s+1)),u=gR(t.subarray(s+1));return c+(u-c)*(i-s)}}function ore(t,e,n=F3){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),c=+n(t[s],s,t),u=+n(t[s+1],s+1,t);return c+(u-c)*(i-s)}}function lre(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Bi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Xs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Fw=Symbol("implicit");function GE(){var t=new hR,e=[],n=[],r=Fw;function i(s){let c=t.get(s);if(c===void 0){if(r!==Fw)return r;t.set(s,c=e.push(s)-1)}return n[c%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new hR;for(const c of s)t.has(c)||t.set(c,e.push(c)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return GE(e,n).unknown(r)},Bi.apply(i,arguments),i}function KE(){var t=GE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,c,u=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var y=e().length,_=i<r,E=_?i:r,j=_?r:i;s=(j-E)/Math.max(1,y-f+h*2),u&&(s=Math.floor(s)),E+=(j-E-s*(y-f))*p,c=s*(1-f),u&&(E=Math.round(E),c=Math.round(c));var N=lre(y).map(function(A){return E+s*A});return n(_?N.reverse():N)}return t.domain=function(y){return arguments.length?(e(y),g()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,u=!0,g()},t.bandwidth=function(){return c},t.step=function(){return s},t.round=function(y){return arguments.length?(u=!!y,g()):u},t.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),g()):f},t.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),g()):f},t.paddingOuter=function(y){return arguments.length?(h=+y,g()):h},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),g()):p},t.copy=function(){return KE(e(),[r,i]).round(u).paddingInner(f).paddingOuter(h).align(p)},Bi.apply(g(),arguments)}function K3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return K3(e())},t}function cre(){return K3(KE.apply(null,arguments).paddingInner(1))}function QE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Q3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function hm(){}var Dh=.7,Iv=1/Dh,Ju="\\s*([+-]?\\d+)\\s*",Mh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ure=/^#([0-9a-f]{3,8})$/,dre=new RegExp(`^rgb\\(${Ju},${Ju},${Ju}\\)$`),fre=new RegExp(`^rgb\\(${Qa},${Qa},${Qa}\\)$`),hre=new RegExp(`^rgba\\(${Ju},${Ju},${Ju},${Mh}\\)$`),mre=new RegExp(`^rgba\\(${Qa},${Qa},${Qa},${Mh}\\)$`),pre=new RegExp(`^hsl\\(${Mh},${Qa},${Qa}\\)$`),gre=new RegExp(`^hsla\\(${Mh},${Qa},${Qa},${Mh}\\)$`),vR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};QE(hm,zh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:yR,formatHex:yR,formatHex8:vre,formatHsl:yre,formatRgb:bR,toString:bR});function yR(){return this.rgb().formatHex()}function vre(){return this.rgb().formatHex8()}function yre(){return W3(this).formatHsl()}function bR(){return this.rgb().formatRgb()}function zh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ure.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?_R(e):n===3?new Wr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?mg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?mg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=dre.exec(t))?new Wr(e[1],e[2],e[3],1):(e=fre.exec(t))?new Wr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=hre.exec(t))?mg(e[1],e[2],e[3],e[4]):(e=mre.exec(t))?mg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=pre.exec(t))?jR(e[1],e[2]/100,e[3]/100,1):(e=gre.exec(t))?jR(e[1],e[2]/100,e[3]/100,e[4]):vR.hasOwnProperty(t)?_R(vR[t]):t==="transparent"?new Wr(NaN,NaN,NaN,0):null}function _R(t){return new Wr(t>>16&255,t>>8&255,t&255,1)}function mg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wr(t,e,n,r)}function bre(t){return t instanceof hm||(t=zh(t)),t?(t=t.rgb(),new Wr(t.r,t.g,t.b,t.opacity)):new Wr}function Hw(t,e,n,r){return arguments.length===1?bre(t):new Wr(t,e,n,r??1)}function Wr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}QE(Wr,Hw,Q3(hm,{brighter(t){return t=t==null?Iv:Math.pow(Iv,t),new Wr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Dh:Math.pow(Dh,t),new Wr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wr(mc(this.r),mc(this.g),mc(this.b),Rv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xR,formatHex:xR,formatHex8:_re,formatRgb:wR,toString:wR}));function xR(){return`#${oc(this.r)}${oc(this.g)}${oc(this.b)}`}function _re(){return`#${oc(this.r)}${oc(this.g)}${oc(this.b)}${oc((isNaN(this.opacity)?1:this.opacity)*255)}`}function wR(){const t=Rv(this.opacity);return`${t===1?"rgb(":"rgba("}${mc(this.r)}, ${mc(this.g)}, ${mc(this.b)}${t===1?")":`, ${t})`}`}function Rv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function mc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function oc(t){return t=mc(t),(t<16?"0":"")+t.toString(16)}function jR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ra(t,e,n,r)}function W3(t){if(t instanceof ra)return new ra(t.h,t.s,t.l,t.opacity);if(t instanceof hm||(t=zh(t)),!t)return new ra;if(t instanceof ra)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),c=NaN,u=s-i,f=(s+i)/2;return u?(e===s?c=(n-r)/u+(n<r)*6:n===s?c=(r-e)/u+2:c=(e-n)/u+4,u/=f<.5?s+i:2-s-i,c*=60):u=f>0&&f<1?0:c,new ra(c,u,f,t.opacity)}function xre(t,e,n,r){return arguments.length===1?W3(t):new ra(t,e,n,r??1)}function ra(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}QE(ra,xre,Q3(hm,{brighter(t){return t=t==null?Iv:Math.pow(Iv,t),new ra(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Dh:Math.pow(Dh,t),new ra(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Wr(i1(t>=240?t-240:t+120,i,r),i1(t,i,r),i1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ra(ER(this.h),pg(this.s),pg(this.l),Rv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Rv(this.opacity);return`${t===1?"hsl(":"hsla("}${ER(this.h)}, ${pg(this.s)*100}%, ${pg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ER(t){return t=(t||0)%360,t<0?t+360:t}function pg(t){return Math.max(0,Math.min(1,t||0))}function i1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const WE=t=>()=>t;function wre(t,e){return function(n){return t+n*e}}function jre(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ere(t){return(t=+t)==1?Y3:function(e,n){return n-e?jre(e,n,t):WE(isNaN(e)?n:e)}}function Y3(t,e){var n=e-t;return n?wre(t,n):WE(isNaN(t)?e:t)}const NR=(function t(e){var n=Ere(e);function r(i,s){var c=n((i=Hw(i)).r,(s=Hw(s)).r),u=n(i.g,s.g),f=n(i.b,s.b),h=Y3(i.opacity,s.opacity);return function(p){return i.r=c(p),i.g=u(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=t,r})(1);function Nre(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Sre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Are(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),c;for(c=0;c<r;++c)i[c]=Nd(t[c],e[c]);for(;c<n;++c)s[c]=e[c];return function(u){for(c=0;c<r;++c)s[c]=i[c](u);return s}}function Tre(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function kv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Cre(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Nd(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Gw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a1=new RegExp(Gw.source,"g");function Ore(t){return function(){return t}}function Pre(t){return function(e){return t(e)+""}}function Ire(t,e){var n=Gw.lastIndex=a1.lastIndex=0,r,i,s,c=-1,u=[],f=[];for(t=t+"",e=e+"";(r=Gw.exec(t))&&(i=a1.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),u[c]?u[c]+=s:u[++c]=s),(r=r[0])===(i=i[0])?u[c]?u[c]+=i:u[++c]=i:(u[++c]=null,f.push({i:c,x:kv(r,i)})),n=a1.lastIndex;return n<e.length&&(s=e.slice(n),u[c]?u[c]+=s:u[++c]=s),u.length<2?f[0]?Pre(f[0].x):Ore(e):(e=f.length,function(h){for(var p=0,g;p<e;++p)u[(g=f[p]).i]=g.x(h);return u.join("")})}function Nd(t,e){var n=typeof e,r;return e==null||n==="boolean"?WE(e):(n==="number"?kv:n==="string"?(r=zh(e))?(e=r,NR):Ire:e instanceof zh?NR:e instanceof Date?Tre:Sre(e)?Nre:Array.isArray(e)?Are:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Cre:kv)(t,e)}function YE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Rre(t,e){e===void 0&&(e=t,t=Nd);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(c){var u=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return s[u](c-u)}}function kre(t){return function(){return t}}function Dv(t){return+t}var SR=[0,1];function Tr(t){return t}function Kw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:kre(isNaN(e)?NaN:.5)}function Dre(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Mre(t,e,n){var r=t[0],i=t[1],s=e[0],c=e[1];return i<r?(r=Kw(i,r),s=n(c,s)):(r=Kw(r,i),s=n(s,c)),function(u){return s(r(u))}}function zre(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),c=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<r;)i[c]=Kw(t[c],t[c+1]),s[c]=n(e[c],e[c+1]);return function(u){var f=fm(t,u,1,r)-1;return s[f](i[f](u))}}function mm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function r0(){var t=SR,e=SR,n=Nd,r,i,s,c=Tr,u,f,h;function p(){var y=Math.min(t.length,e.length);return c!==Tr&&(c=Dre(t[0],t[y-1])),u=y>2?zre:Mre,f=h=null,g}function g(y){return y==null||isNaN(y=+y)?s:(f||(f=u(t.map(r),e,n)))(r(c(y)))}return g.invert=function(y){return c(i((h||(h=u(e,t.map(r),kv)))(y)))},g.domain=function(y){return arguments.length?(t=Array.from(y,Dv),p()):t.slice()},g.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},g.rangeRound=function(y){return e=Array.from(y),n=YE,p()},g.clamp=function(y){return arguments.length?(c=y?!0:Tr,p()):c!==Tr},g.interpolate=function(y){return arguments.length?(n=y,p()):n},g.unknown=function(y){return arguments.length?(s=y,g):s},function(y,_){return r=y,i=_,p()}}function XE(){return r0()(Tr,Tr)}function Lre(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Mv(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function hd(t){return t=Mv(Math.abs(t)),t?t[1]:NaN}function qre(t,e){return function(n,r){for(var i=n.length,s=[],c=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),s.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[c=(c+1)%t.length];return s.reverse().join(e)}}function Ure(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Vre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lh(t){if(!(e=Vre.exec(t)))throw new Error("invalid format: "+t);var e;return new ZE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Lh.prototype=ZE.prototype;function ZE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ZE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bre(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var zv;function $re(t,e){var n=Mv(t,e);if(!n)return zv=void 0,t.toPrecision(e);var r=n[0],i=n[1],s=i-(zv=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=r.length;return s===c?r:s>c?r+new Array(s-c+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Mv(t,Math.max(0,e+s-1))[0]}function AR(t,e){var n=Mv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const TR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Lre,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>AR(t*100,e),r:AR,s:$re,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function CR(t){return t}var OR=Array.prototype.map,PR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Fre(t){var e=t.grouping===void 0||t.thousands===void 0?CR:qre(OR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?CR:Ure(OR.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(g,y){g=Lh(g);var _=g.fill,E=g.align,j=g.sign,N=g.symbol,A=g.zero,D=g.width,I=g.comma,O=g.precision,V=g.trim,B=g.type;B==="n"?(I=!0,B="g"):TR[B]||(O===void 0&&(O=12),V=!0,B="g"),(A||_==="0"&&E==="=")&&(A=!0,_="0",E="=");var k=(y&&y.prefix!==void 0?y.prefix:"")+(N==="$"?n:N==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():""),C=(N==="$"?r:/[%p]/.test(B)?c:"")+(y&&y.suffix!==void 0?y.suffix:""),R=TR[B],U=/[defgprs%]/.test(B);O=O===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function L(z){var M=k,Q=C,W,G,le;if(B==="c")Q=R(z)+Q,z="";else{z=+z;var be=z<0||1/z<0;if(z=isNaN(z)?f:R(Math.abs(z),O),V&&(z=Bre(z)),be&&+z==0&&j!=="+"&&(be=!1),M=(be?j==="("?j:u:j==="-"||j==="("?"":j)+M,Q=(B==="s"&&!isNaN(z)&&zv!==void 0?PR[8+zv/3]:"")+Q+(be&&j==="("?")":""),U){for(W=-1,G=z.length;++W<G;)if(le=z.charCodeAt(W),48>le||le>57){Q=(le===46?i+z.slice(W+1):z.slice(W))+Q,z=z.slice(0,W);break}}}I&&!A&&(z=e(z,1/0));var je=M.length+z.length+Q.length,X=je<D?new Array(D-je+1).join(_):"";switch(I&&A&&(z=e(X+z,X.length?D-Q.length:1/0),X=""),E){case"<":z=M+z+Q+X;break;case"=":z=M+X+z+Q;break;case"^":z=X.slice(0,je=X.length>>1)+M+z+Q+X.slice(je);break;default:z=X+M+z+Q;break}return s(z)}return L.toString=function(){return g+""},L}function p(g,y){var _=Math.max(-8,Math.min(8,Math.floor(hd(y)/3)))*3,E=Math.pow(10,-_),j=h((g=Lh(g),g.type="f",g),{suffix:PR[8+_/3]});return function(N){return j(E*N)}}return{format:h,formatPrefix:p}}var gg,JE,X3;Hre({thousands:",",grouping:[3],currency:["$",""]});function Hre(t){return gg=Fre(t),JE=gg.format,X3=gg.formatPrefix,gg}function Gre(t){return Math.max(0,-hd(Math.abs(t)))}function Kre(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hd(e)/3)))*3-hd(Math.abs(t)))}function Qre(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,hd(e)-hd(t))+1}function Z3(t,e,n,r){var i=$w(t,e,n),s;switch(r=Lh(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Kre(i,c))&&(r.precision=s),X3(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Qre(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Gre(i))&&(r.precision=s-(r.type==="%")*2);break}}return JE(r)}function jl(t){var e=t.domain;return t.ticks=function(n){var r=e();return Vw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Z3(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,c=r[i],u=r[s],f,h,p=10;for(u<c&&(h=c,c=u,u=h,h=i,i=s,s=h);p-- >0;){if(h=Bw(c,u,n),h===f)return r[i]=c,r[s]=u,e(r);if(h>0)c=Math.floor(c/h)*h,u=Math.ceil(u/h)*h;else if(h<0)c=Math.ceil(c*h)/h,u=Math.floor(u*h)/h;else break;f=h}return t},t}function J3(){var t=XE();return t.copy=function(){return mm(t,J3())},Bi.apply(t,arguments),jl(t)}function e6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Dv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return e6(t).unknown(e)},t=arguments.length?Array.from(t,Dv):[0,1],jl(n)}function t6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],c;return s<i&&(c=n,n=r,r=c,c=i,i=s,s=c),t[n]=e.floor(i),t[r]=e.ceil(s),t}function IR(t){return Math.log(t)}function RR(t){return Math.exp(t)}function Wre(t){return-Math.log(-t)}function Yre(t){return-Math.exp(-t)}function Xre(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Zre(t){return t===10?Xre:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Jre(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function kR(t){return(e,n)=>-t(-e,n)}function eN(t){const e=t(IR,RR),n=e.domain;let r=10,i,s;function c(){return i=Jre(r),s=Zre(r),n()[0]<0?(i=kR(i),s=kR(s),t(Wre,Yre)):t(IR,RR),e}return e.base=function(u){return arguments.length?(r=+u,c()):r},e.domain=function(u){return arguments.length?(n(u),c()):n()},e.ticks=u=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let y=i(h),_=i(p),E,j;const N=u==null?10:+u;let A=[];if(!(r%1)&&_-y<N){if(y=Math.floor(y),_=Math.ceil(_),h>0){for(;y<=_;++y)for(E=1;E<r;++E)if(j=y<0?E/s(-y):E*s(y),!(j<h)){if(j>p)break;A.push(j)}}else for(;y<=_;++y)for(E=r-1;E>=1;--E)if(j=y>0?E/s(-y):E*s(y),!(j<h)){if(j>p)break;A.push(j)}A.length*2<N&&(A=Vw(h,p,N))}else A=Vw(y,_,Math.min(_-y,N)).map(s);return g?A.reverse():A},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Lh(f)).precision==null&&(f.trim=!0),f=JE(f)),u===1/0)return f;const h=Math.max(1,r*u/e.ticks().length);return p=>{let g=p/s(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},e.nice=()=>n(t6(n(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),e}function n6(){const t=eN(r0()).domain([1,10]);return t.copy=()=>mm(t,n6()).base(t.base()),Bi.apply(t,arguments),t}function DR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function MR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function tN(t){var e=1,n=t(DR(e),MR(e));return n.constant=function(r){return arguments.length?t(DR(e=+r),MR(e)):e},jl(n)}function r6(){var t=tN(r0());return t.copy=function(){return mm(t,r6()).constant(t.constant())},Bi.apply(t,arguments)}function zR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function eie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function tie(t){return t<0?-t*t:t*t}function nN(t){var e=t(Tr,Tr),n=1;function r(){return n===1?t(Tr,Tr):n===.5?t(eie,tie):t(zR(n),zR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},jl(e)}function rN(){var t=nN(r0());return t.copy=function(){return mm(t,rN()).exponent(t.exponent())},Bi.apply(t,arguments),t}function nie(){return rN.apply(null,arguments).exponent(.5)}function LR(t){return Math.sign(t)*t*t}function rie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function i6(){var t=XE(),e=[0,1],n=!1,r;function i(s){var c=rie(t(s));return isNaN(c)?r:n?Math.round(c):c}return i.invert=function(s){return t.invert(LR(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Dv)).map(LR)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return i6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Bi.apply(i,arguments),jl(i)}function a6(){var t=[],e=[],n=[],r;function i(){var c=0,u=Math.max(1,e.length);for(n=new Array(u-1);++c<u;)n[c-1]=ore(t,c/u);return s}function s(c){return c==null||isNaN(c=+c)?r:e[fm(n,c)]}return s.invertExtent=function(c){var u=e.indexOf(c);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},s.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let u of c)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(rl),i()},s.range=function(c){return arguments.length?(e=Array.from(c),i()):e.slice()},s.unknown=function(c){return arguments.length?(r=c,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return a6().domain(t).range(e).unknown(r)},Bi.apply(s,arguments)}function s6(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function c(f){return f!=null&&f<=f?i[fm(r,f,0,n)]:s}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return c}return c.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},c.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},c.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},c.unknown=function(f){return arguments.length&&(s=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return s6().domain([t,e]).range(i).unknown(s)},Bi.apply(jl(c),arguments)}function o6(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[fm(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var c=e.indexOf(s);return[t[c-1],t[c]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return o6().domain(t).range(e).unknown(n)},Bi.apply(i,arguments)}const s1=new Date,o1=new Date;function Vn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const c=i(s),u=i.ceil(s);return s-c<u-s?c:u},i.offset=(s,c)=>(e(s=new Date(+s),c==null?1:Math.floor(c)),s),i.range=(s,c,u)=>{const f=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<c)||!(u>0))return f;let h;do f.push(h=new Date(+s)),e(s,u),t(s);while(h<s&&s<c);return f},i.filter=s=>Vn(c=>{if(c>=c)for(;t(c),!s(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;e(c,-1),!s(c););else for(;--u>=0;)for(;e(c,1),!s(c););}),n&&(i.count=(s,c)=>(s1.setTime(+s),o1.setTime(+c),t(s1),t(o1),Math.floor(n(s1,o1))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?c=>r(c)%s===0:c=>i.count(0,c)%s===0):i)),i}const Lv=Vn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Lv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Vn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Lv);Lv.range;const As=1e3,Di=As*60,Ts=Di*60,qs=Ts*24,iN=qs*7,qR=qs*30,l1=qs*365,lc=Vn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*As)},(t,e)=>(e-t)/As,t=>t.getUTCSeconds());lc.range;const aN=Vn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*As)},(t,e)=>{t.setTime(+t+e*Di)},(t,e)=>(e-t)/Di,t=>t.getMinutes());aN.range;const sN=Vn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Di)},(t,e)=>(e-t)/Di,t=>t.getUTCMinutes());sN.range;const oN=Vn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*As-t.getMinutes()*Di)},(t,e)=>{t.setTime(+t+e*Ts)},(t,e)=>(e-t)/Ts,t=>t.getHours());oN.range;const lN=Vn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ts)},(t,e)=>(e-t)/Ts,t=>t.getUTCHours());lN.range;const pm=Vn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Di)/qs,t=>t.getDate()-1);pm.range;const i0=Vn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qs,t=>t.getUTCDate()-1);i0.range;const l6=Vn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qs,t=>Math.floor(t/qs));l6.range;function Uc(t){return Vn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Di)/iN)}const a0=Uc(0),qv=Uc(1),iie=Uc(2),aie=Uc(3),md=Uc(4),sie=Uc(5),oie=Uc(6);a0.range;qv.range;iie.range;aie.range;md.range;sie.range;oie.range;function Vc(t){return Vn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/iN)}const s0=Vc(0),Uv=Vc(1),lie=Vc(2),cie=Vc(3),pd=Vc(4),uie=Vc(5),die=Vc(6);s0.range;Uv.range;lie.range;cie.range;pd.range;uie.range;die.range;const cN=Vn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());cN.range;const uN=Vn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());uN.range;const Us=Vn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Us.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Us.range;const Vs=Vn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Vs.range;function c6(t,e,n,r,i,s){const c=[[lc,1,As],[lc,5,5*As],[lc,15,15*As],[lc,30,30*As],[s,1,Di],[s,5,5*Di],[s,15,15*Di],[s,30,30*Di],[i,1,Ts],[i,3,3*Ts],[i,6,6*Ts],[i,12,12*Ts],[r,1,qs],[r,2,2*qs],[n,1,iN],[e,1,qR],[e,3,3*qR],[t,1,l1]];function u(h,p,g){const y=p<h;y&&([h,p]=[p,h]);const _=g&&typeof g.range=="function"?g:f(h,p,g),E=_?_.range(h,+p+1):[];return y?E.reverse():E}function f(h,p,g){const y=Math.abs(p-h)/g,_=HE(([,,N])=>N).right(c,y);if(_===c.length)return t.every($w(h/l1,p/l1,g));if(_===0)return Lv.every(Math.max($w(h,p,g),1));const[E,j]=c[y/c[_-1][2]<c[_][2]/y?_-1:_];return E.every(j)}return[u,f]}const[fie,hie]=c6(Vs,uN,s0,l6,lN,sN),[mie,pie]=c6(Us,cN,a0,pm,oN,aN);function c1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function u1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ff(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function gie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,c=t.shortDays,u=t.months,f=t.shortMonths,h=Hf(i),p=Gf(i),g=Hf(s),y=Gf(s),_=Hf(c),E=Gf(c),j=Hf(u),N=Gf(u),A=Hf(f),D=Gf(f),I={a:le,A:be,b:je,B:X,c:null,d:HR,e:HR,f:qie,g:Wie,G:Xie,H:Mie,I:zie,j:Lie,L:u6,m:Uie,M:Vie,p:F,q:ne,Q:QR,s:WR,S:Bie,u:$ie,U:Fie,V:Hie,w:Gie,W:Kie,x:null,X:null,y:Qie,Y:Yie,Z:Zie,"%":KR},O={a:pe,A:we,b:J,B:H,c:null,d:GR,e:GR,f:nae,g:fae,G:mae,H:Jie,I:eae,j:tae,L:f6,m:rae,M:iae,p:de,q:Ce,Q:QR,s:WR,S:aae,u:sae,U:oae,V:lae,w:cae,W:uae,x:null,X:null,y:dae,Y:hae,Z:pae,"%":KR},V={a:U,A:L,b:z,B:M,c:Q,d:$R,e:$R,f:Iie,g:BR,G:VR,H:FR,I:FR,j:Tie,L:Pie,m:Aie,M:Cie,p:R,q:Sie,Q:kie,s:Die,S:Oie,u:xie,U:wie,V:jie,w:_ie,W:Eie,x:W,X:G,y:BR,Y:VR,Z:Nie,"%":Rie};I.x=B(n,I),I.X=B(r,I),I.c=B(e,I),O.x=B(n,O),O.X=B(r,O),O.c=B(e,O);function B(ie,Ee){return function(Z){var ge=[],De=-1,$e=0,st=ie.length,ft,pt,mr;for(Z instanceof Date||(Z=new Date(+Z));++De<st;)ie.charCodeAt(De)===37&&(ge.push(ie.slice($e,De)),(pt=UR[ft=ie.charAt(++De)])!=null?ft=ie.charAt(++De):pt=ft==="e"?" ":"0",(mr=Ee[ft])&&(ft=mr(Z,pt)),ge.push(ft),$e=De+1);return ge.push(ie.slice($e,De)),ge.join("")}}function k(ie,Ee){return function(Z){var ge=Ff(1900,void 0,1),De=C(ge,ie,Z+="",0),$e,st;if(De!=Z.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Ee&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?($e=u1(Ff(ge.y,0,1)),st=$e.getUTCDay(),$e=st>4||st===0?Uv.ceil($e):Uv($e),$e=i0.offset($e,(ge.V-1)*7),ge.y=$e.getUTCFullYear(),ge.m=$e.getUTCMonth(),ge.d=$e.getUTCDate()+(ge.w+6)%7):($e=c1(Ff(ge.y,0,1)),st=$e.getDay(),$e=st>4||st===0?qv.ceil($e):qv($e),$e=pm.offset($e,(ge.V-1)*7),ge.y=$e.getFullYear(),ge.m=$e.getMonth(),ge.d=$e.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),st="Z"in ge?u1(Ff(ge.y,0,1)).getUTCDay():c1(Ff(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(st+5)%7:ge.w+ge.U*7-(st+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,u1(ge)):c1(ge)}}function C(ie,Ee,Z,ge){for(var De=0,$e=Ee.length,st=Z.length,ft,pt;De<$e;){if(ge>=st)return-1;if(ft=Ee.charCodeAt(De++),ft===37){if(ft=Ee.charAt(De++),pt=V[ft in UR?Ee.charAt(De++):ft],!pt||(ge=pt(ie,Z,ge))<0)return-1}else if(ft!=Z.charCodeAt(ge++))return-1}return ge}function R(ie,Ee,Z){var ge=h.exec(Ee.slice(Z));return ge?(ie.p=p.get(ge[0].toLowerCase()),Z+ge[0].length):-1}function U(ie,Ee,Z){var ge=_.exec(Ee.slice(Z));return ge?(ie.w=E.get(ge[0].toLowerCase()),Z+ge[0].length):-1}function L(ie,Ee,Z){var ge=g.exec(Ee.slice(Z));return ge?(ie.w=y.get(ge[0].toLowerCase()),Z+ge[0].length):-1}function z(ie,Ee,Z){var ge=A.exec(Ee.slice(Z));return ge?(ie.m=D.get(ge[0].toLowerCase()),Z+ge[0].length):-1}function M(ie,Ee,Z){var ge=j.exec(Ee.slice(Z));return ge?(ie.m=N.get(ge[0].toLowerCase()),Z+ge[0].length):-1}function Q(ie,Ee,Z){return C(ie,e,Ee,Z)}function W(ie,Ee,Z){return C(ie,n,Ee,Z)}function G(ie,Ee,Z){return C(ie,r,Ee,Z)}function le(ie){return c[ie.getDay()]}function be(ie){return s[ie.getDay()]}function je(ie){return f[ie.getMonth()]}function X(ie){return u[ie.getMonth()]}function F(ie){return i[+(ie.getHours()>=12)]}function ne(ie){return 1+~~(ie.getMonth()/3)}function pe(ie){return c[ie.getUTCDay()]}function we(ie){return s[ie.getUTCDay()]}function J(ie){return f[ie.getUTCMonth()]}function H(ie){return u[ie.getUTCMonth()]}function de(ie){return i[+(ie.getUTCHours()>=12)]}function Ce(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var Ee=B(ie+="",I);return Ee.toString=function(){return ie},Ee},parse:function(ie){var Ee=k(ie+="",!1);return Ee.toString=function(){return ie},Ee},utcFormat:function(ie){var Ee=B(ie+="",O);return Ee.toString=function(){return ie},Ee},utcParse:function(ie){var Ee=k(ie+="",!0);return Ee.toString=function(){return ie},Ee}}}var UR={"-":"",_:" ",0:"0"},er=/^\s*\d+/,vie=/^%/,yie=/[\\^$*+?|[\]().{}]/g;function xt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function bie(t){return t.replace(yie,"\\$&")}function Hf(t){return new RegExp("^(?:"+t.map(bie).join("|")+")","i")}function Gf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function _ie(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function xie(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function wie(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function jie(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Eie(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function VR(t,e,n){var r=er.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function BR(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Nie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Sie(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Aie(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function $R(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Tie(t,e,n){var r=er.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function FR(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Cie(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Oie(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Pie(t,e,n){var r=er.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Iie(t,e,n){var r=er.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Rie(t,e,n){var r=vie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function kie(t,e,n){var r=er.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Die(t,e,n){var r=er.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function HR(t,e){return xt(t.getDate(),e,2)}function Mie(t,e){return xt(t.getHours(),e,2)}function zie(t,e){return xt(t.getHours()%12||12,e,2)}function Lie(t,e){return xt(1+pm.count(Us(t),t),e,3)}function u6(t,e){return xt(t.getMilliseconds(),e,3)}function qie(t,e){return u6(t,e)+"000"}function Uie(t,e){return xt(t.getMonth()+1,e,2)}function Vie(t,e){return xt(t.getMinutes(),e,2)}function Bie(t,e){return xt(t.getSeconds(),e,2)}function $ie(t){var e=t.getDay();return e===0?7:e}function Fie(t,e){return xt(a0.count(Us(t)-1,t),e,2)}function d6(t){var e=t.getDay();return e>=4||e===0?md(t):md.ceil(t)}function Hie(t,e){return t=d6(t),xt(md.count(Us(t),t)+(Us(t).getDay()===4),e,2)}function Gie(t){return t.getDay()}function Kie(t,e){return xt(qv.count(Us(t)-1,t),e,2)}function Qie(t,e){return xt(t.getFullYear()%100,e,2)}function Wie(t,e){return t=d6(t),xt(t.getFullYear()%100,e,2)}function Yie(t,e){return xt(t.getFullYear()%1e4,e,4)}function Xie(t,e){var n=t.getDay();return t=n>=4||n===0?md(t):md.ceil(t),xt(t.getFullYear()%1e4,e,4)}function Zie(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+xt(e/60|0,"0",2)+xt(e%60,"0",2)}function GR(t,e){return xt(t.getUTCDate(),e,2)}function Jie(t,e){return xt(t.getUTCHours(),e,2)}function eae(t,e){return xt(t.getUTCHours()%12||12,e,2)}function tae(t,e){return xt(1+i0.count(Vs(t),t),e,3)}function f6(t,e){return xt(t.getUTCMilliseconds(),e,3)}function nae(t,e){return f6(t,e)+"000"}function rae(t,e){return xt(t.getUTCMonth()+1,e,2)}function iae(t,e){return xt(t.getUTCMinutes(),e,2)}function aae(t,e){return xt(t.getUTCSeconds(),e,2)}function sae(t){var e=t.getUTCDay();return e===0?7:e}function oae(t,e){return xt(s0.count(Vs(t)-1,t),e,2)}function h6(t){var e=t.getUTCDay();return e>=4||e===0?pd(t):pd.ceil(t)}function lae(t,e){return t=h6(t),xt(pd.count(Vs(t),t)+(Vs(t).getUTCDay()===4),e,2)}function cae(t){return t.getUTCDay()}function uae(t,e){return xt(Uv.count(Vs(t)-1,t),e,2)}function dae(t,e){return xt(t.getUTCFullYear()%100,e,2)}function fae(t,e){return t=h6(t),xt(t.getUTCFullYear()%100,e,2)}function hae(t,e){return xt(t.getUTCFullYear()%1e4,e,4)}function mae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?pd(t):pd.ceil(t),xt(t.getUTCFullYear()%1e4,e,4)}function pae(){return"+0000"}function KR(){return"%"}function QR(t){return+t}function WR(t){return Math.floor(+t/1e3)}var Ru,m6,p6;gae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gae(t){return Ru=gie(t),m6=Ru.format,Ru.parse,p6=Ru.utcFormat,Ru.utcParse,Ru}function vae(t){return new Date(t)}function yae(t){return t instanceof Date?+t:+new Date(+t)}function dN(t,e,n,r,i,s,c,u,f,h){var p=XE(),g=p.invert,y=p.domain,_=h(".%L"),E=h(":%S"),j=h("%I:%M"),N=h("%I %p"),A=h("%a %d"),D=h("%b %d"),I=h("%B"),O=h("%Y");function V(B){return(f(B)<B?_:u(B)<B?E:c(B)<B?j:s(B)<B?N:r(B)<B?i(B)<B?A:D:n(B)<B?I:O)(B)}return p.invert=function(B){return new Date(g(B))},p.domain=function(B){return arguments.length?y(Array.from(B,yae)):y().map(vae)},p.ticks=function(B){var k=y();return t(k[0],k[k.length-1],B??10)},p.tickFormat=function(B,k){return k==null?V:h(k)},p.nice=function(B){var k=y();return(!B||typeof B.range!="function")&&(B=e(k[0],k[k.length-1],B??10)),B?y(t6(k,B)):p},p.copy=function(){return mm(p,dN(t,e,n,r,i,s,c,u,f,h))},p}function bae(){return Bi.apply(dN(mie,pie,Us,cN,a0,pm,oN,aN,lc,m6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _ae(){return Bi.apply(dN(fie,hie,Vs,uN,s0,i0,lN,sN,lc,p6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function o0(){var t=0,e=1,n,r,i,s,c=Tr,u=!1,f;function h(g){return g==null||isNaN(g=+g)?f:c(i===0?.5:(g=(s(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(c=g,h):c};function p(g){return function(y){var _,E;return arguments.length?([_,E]=y,c=g(_,E),h):[c(0),c(1)]}}return h.range=p(Nd),h.rangeRound=p(YE),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),h}}function El(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function g6(){var t=jl(o0()(Tr));return t.copy=function(){return El(t,g6())},Xs.apply(t,arguments)}function v6(){var t=eN(o0()).domain([1,10]);return t.copy=function(){return El(t,v6()).base(t.base())},Xs.apply(t,arguments)}function y6(){var t=tN(o0());return t.copy=function(){return El(t,y6()).constant(t.constant())},Xs.apply(t,arguments)}function fN(){var t=nN(o0());return t.copy=function(){return El(t,fN()).exponent(t.exponent())},Xs.apply(t,arguments)}function xae(){return fN.apply(null,arguments).exponent(.5)}function b6(){var t=[],e=Tr;function n(r){if(r!=null&&!isNaN(r=+r))return e((fm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(rl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>sre(t,s/r))},n.copy=function(){return b6(e).domain(t)},Xs.apply(n,arguments)}function l0(){var t=0,e=.5,n=1,r=1,i,s,c,u,f,h=Tr,p,g=!1,y;function _(j){return isNaN(j=+j)?y:(j=.5+((j=+p(j))-s)*(r*j<r*s?u:f),h(g?Math.max(0,Math.min(1,j)):j))}_.domain=function(j){return arguments.length?([t,e,n]=j,i=p(t=+t),s=p(e=+e),c=p(n=+n),u=i===s?0:.5/(s-i),f=s===c?0:.5/(c-s),r=s<i?-1:1,_):[t,e,n]},_.clamp=function(j){return arguments.length?(g=!!j,_):g},_.interpolator=function(j){return arguments.length?(h=j,_):h};function E(j){return function(N){var A,D,I;return arguments.length?([A,D,I]=N,h=Rre(j,[A,D,I]),_):[h(0),h(.5),h(1)]}}return _.range=E(Nd),_.rangeRound=E(YE),_.unknown=function(j){return arguments.length?(y=j,_):y},function(j){return p=j,i=j(t),s=j(e),c=j(n),u=i===s?0:.5/(s-i),f=s===c?0:.5/(c-s),r=s<i?-1:1,_}}function _6(){var t=jl(l0()(Tr));return t.copy=function(){return El(t,_6())},Xs.apply(t,arguments)}function x6(){var t=eN(l0()).domain([.1,1,10]);return t.copy=function(){return El(t,x6()).base(t.base())},Xs.apply(t,arguments)}function w6(){var t=tN(l0());return t.copy=function(){return El(t,w6()).constant(t.constant())},Xs.apply(t,arguments)}function hN(){var t=nN(l0());return t.copy=function(){return El(t,hN()).exponent(t.exponent())},Xs.apply(t,arguments)}function wae(){return hN.apply(null,arguments).exponent(.5)}const nh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:KE,scaleDiverging:_6,scaleDivergingLog:x6,scaleDivergingPow:hN,scaleDivergingSqrt:wae,scaleDivergingSymlog:w6,scaleIdentity:e6,scaleImplicit:Fw,scaleLinear:J3,scaleLog:n6,scaleOrdinal:GE,scalePoint:cre,scalePow:rN,scaleQuantile:a6,scaleQuantize:s6,scaleRadial:i6,scaleSequential:g6,scaleSequentialLog:v6,scaleSequentialPow:fN,scaleSequentialQuantile:b6,scaleSequentialSqrt:xae,scaleSequentialSymlog:y6,scaleSqrt:nie,scaleSymlog:r6,scaleThreshold:o6,scaleTime:bae,scaleUtc:_ae,tickFormat:Z3},Symbol.toStringTag,{value:"Module"}));var Zs=t=>t.chartData,j6=ce([Zs],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),mN=(t,e,n,r)=>r?j6(t):Zs(t),jae=(t,e,n)=>n?j6(t):Zs(t);function Bs(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(mt(e)&&mt(n))return!0}return!1}function YR(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function E6(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(mt(n))i=n;else if(typeof n=="function")return;if(mt(r))s=r;else if(typeof r=="function")return;var c=[i,s];if(Bs(c))return c}}function Eae(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Bs(r))return YR(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,c,u;if(i==="auto")e!=null&&(c=Math.min(...e));else if(Ie(i))c=i;else if(typeof i=="function")try{e!=null&&(c=i(e?.[0]))}catch{}else if(typeof i=="string"&&oI.test(i)){var f=oI.exec(i);if(f==null||f[1]==null||e==null)c=void 0;else{var h=+f[1];c=e[0]-h}}else c=e?.[0];if(s==="auto")e!=null&&(u=Math.max(...e));else if(Ie(s))u=s;else if(typeof s=="function")try{e!=null&&(u=s(e?.[1]))}catch{}else if(typeof s=="string"&&lI.test(s)){var p=lI.exec(s);if(p==null||p[1]==null||e==null)u=void 0;else{var g=+p[1];u=e[1]+g}}else u=e?.[1];var y=[c,u];if(Bs(y))return e==null?y:YR(y,e,n)}}}var Sd=1e9,Nae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gN,Jt=!0,Ui="[DecimalError] ",pc=Ui+"Invalid argument: ",pN=Ui+"Exponent out of range: ",Ad=Math.floor,ic=Math.pow,Sae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ci,Yn=1e7,Wt=7,N6=9007199254740991,Vv=Ad(N6/Wt),Oe={};Oe.absoluteValue=Oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Oe.comparedTo=Oe.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Wt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Oe.dividedBy=Oe.div=function(t){return Is(this,new this.constructor(t))};Oe.dividedToIntegerBy=Oe.idiv=function(t){var e=this,n=e.constructor;return Vt(Is(e,new n(t),0,1),n.precision)};Oe.equals=Oe.eq=function(t){return!this.cmp(t)};Oe.exponent=function(){return Dn(this)};Oe.greaterThan=Oe.gt=function(t){return this.cmp(t)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(t){return this.cmp(t)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(t){return this.cmp(t)<0};Oe.lessThanOrEqualTo=Oe.lte=function(t){return this.cmp(t)<1};Oe.logarithm=Oe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ci))throw Error(Ui+"NaN");if(n.s<1)throw Error(Ui+(n.s?"NaN":"-Infinity"));return n.eq(ci)?new r(0):(Jt=!1,e=Is(qh(n,s),qh(t,s),s),Jt=!0,Vt(e,i))};Oe.minus=Oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?T6(e,t):S6(e,(t.s=-t.s,t))};Oe.modulo=Oe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ui+"NaN");return n.s?(Jt=!1,e=Is(n,t,0,1).times(t),Jt=!0,n.minus(e)):Vt(new r(n),i)};Oe.naturalExponential=Oe.exp=function(){return A6(this)};Oe.naturalLogarithm=Oe.ln=function(){return qh(this)};Oe.negated=Oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Oe.plus=Oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?S6(e,t):T6(e,(t.s=-t.s,t))};Oe.precision=Oe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(pc+t);if(e=Dn(i)+1,r=i.d.length-1,n=r*Wt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Oe.squareRoot=Oe.sqrt=function(){var t,e,n,r,i,s,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Ui+"NaN")}for(t=Dn(u),Jt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Va(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ad((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=c=n+3;;)if(s=r,r=s.plus(Is(u,s,c+2)).times(.5),Va(s.d).slice(0,c)===(e=Va(r.d)).slice(0,c)){if(e=e.slice(c-3,c+1),i==c&&e=="4999"){if(Vt(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(e!="9999")break;c+=4}return Jt=!0,Vt(r,n)};Oe.times=Oe.mul=function(t){var e,n,r,i,s,c,u,f,h,p=this,g=p.constructor,y=p.d,_=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,f=y.length,h=_.length,f<h&&(s=y,y=_,_=s,c=f,f=h,h=c),s=[],c=f+h,r=c;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)u=s[i]+_[r]*y[i-r-1]+e,s[i--]=u%Yn|0,e=u/Yn|0;s[i]=(s[i]+e)%Yn|0}for(;!s[--c];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Jt?Vt(t,g.precision):t};Oe.toDecimalPlaces=Oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ja(t,0,Sd),e===void 0?e=r.rounding:Ja(e,0,8),Vt(n,t+Dn(n)+1,e))};Oe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Oc(r,!0):(Ja(t,0,Sd),e===void 0?e=i.rounding:Ja(e,0,8),r=Vt(new i(r),t+1,e),n=Oc(r,!0,t+1)),n};Oe.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Oc(i):(Ja(t,0,Sd),e===void 0?e=s.rounding:Ja(e,0,8),r=Vt(new s(i),t+Dn(i)+1,e),n=Oc(r.abs(),!1,t+Dn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Oe.toInteger=Oe.toint=function(){var t=this,e=t.constructor;return Vt(new e(t),Dn(t)+1,e.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(t){var e,n,r,i,s,c,u=this,f=u.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(ci);if(u=new f(u),!u.s){if(t.s<1)throw Error(Ui+"Infinity");return u}if(u.eq(ci))return u;if(r=f.precision,t.eq(ci))return Vt(u,r);if(e=t.e,n=t.d.length-1,c=e>=n,s=u.s,c){if((n=p<0?-p:p)<=N6){for(i=new f(ci),e=Math.ceil(r/Wt+4),Jt=!1;n%2&&(i=i.times(u),ZR(i.d,e)),n=Ad(n/2),n!==0;)u=u.times(u),ZR(u.d,e);return Jt=!0,t.s<0?new f(ci).div(i):Vt(i,r)}}else if(s<0)throw Error(Ui+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Jt=!1,i=t.times(qh(u,r+h)),Jt=!0,i=A6(i),i.s=s,i};Oe.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Dn(i),r=Oc(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ja(t,1,Sd),e===void 0?e=s.rounding:Ja(e,0,8),i=Vt(new s(i),t,e),n=Dn(i),r=Oc(i,t<=n||n<=s.toExpNeg,t)),r};Oe.toSignificantDigits=Oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ja(t,1,Sd),e===void 0?e=r.rounding:Ja(e,0,8)),Vt(new r(n),t,e)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Dn(t),n=t.constructor;return Oc(t,e<=n.toExpNeg||e>=n.toExpPos)};function S6(t,e){var n,r,i,s,c,u,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Jt?Vt(e,g):e;if(f=t.d,h=e.d,c=t.e,i=e.e,f=f.slice(),s=c-i,s){for(s<0?(r=f,s=-s,u=h.length):(r=h,i=c,u=f.length),c=Math.ceil(g/Wt),u=c>u?c+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=f.length,s=h.length,u-s<0&&(s=u,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/Yn|0,f[s]%=Yn;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,Jt?Vt(e,g):e}function Ja(t,e,n){if(t!==~~t||t<e||t>n)throw Error(pc+t)}function Va(t){var e,n,r,i=t.length-1,s="",c=t[0];if(i>0){for(s+=c,e=1;e<i;e++)r=t[e]+"",n=Wt-r.length,n&&(s+=Vo(n)),s+=r;c=t[e],r=c+"",n=Wt-r.length,n&&(s+=Vo(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Is=(function(){function t(r,i){var s,c=0,u=r.length;for(r=r.slice();u--;)s=r[u]*i+c,r[u]=s%Yn|0,c=s/Yn|0;return c&&r.unshift(c),r}function e(r,i,s,c){var u,f;if(s!=c)f=s>c?1:-1;else for(u=f=0;u<s;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,s){for(var c=0;s--;)r[s]-=c,c=r[s]<i[s]?1:0,r[s]=c*Yn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,c){var u,f,h,p,g,y,_,E,j,N,A,D,I,O,V,B,k,C,R=r.constructor,U=r.s==i.s?1:-1,L=r.d,z=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(Ui+"Division by zero");for(f=r.e-i.e,k=z.length,V=L.length,_=new R(U),E=_.d=[],h=0;z[h]==(L[h]||0);)++h;if(z[h]>(L[h]||0)&&--f,s==null?D=s=R.precision:c?D=s+(Dn(r)-Dn(i))+1:D=s,D<0)return new R(0);if(D=D/Wt+2|0,h=0,k==1)for(p=0,z=z[0],D++;(h<V||p)&&D--;h++)I=p*Yn+(L[h]||0),E[h]=I/z|0,p=I%z|0;else{for(p=Yn/(z[0]+1)|0,p>1&&(z=t(z,p),L=t(L,p),k=z.length,V=L.length),O=k,j=L.slice(0,k),N=j.length;N<k;)j[N++]=0;C=z.slice(),C.unshift(0),B=z[0],z[1]>=Yn/2&&++B;do p=0,u=e(z,j,k,N),u<0?(A=j[0],k!=N&&(A=A*Yn+(j[1]||0)),p=A/B|0,p>1?(p>=Yn&&(p=Yn-1),g=t(z,p),y=g.length,N=j.length,u=e(g,j,y,N),u==1&&(p--,n(g,k<y?C:z,y))):(p==0&&(u=p=1),g=z.slice()),y=g.length,y<N&&g.unshift(0),n(j,g,N),u==-1&&(N=j.length,u=e(z,j,k,N),u<1&&(p++,n(j,k<N?C:z,N))),N=j.length):u===0&&(p++,j=[0]),E[h++]=p,u&&j[0]?j[N++]=L[O]||0:(j=[L[O]],N=1);while((O++<V||j[0]!==void 0)&&D--)}return E[0]||E.shift(),_.e=f,Vt(_,c?s+Dn(_)+1:s)}})();function A6(t,e){var n,r,i,s,c,u,f=0,h=0,p=t.constructor,g=p.precision;if(Dn(t)>16)throw Error(pN+Dn(t));if(!t.s)return new p(ci);for(Jt=!1,u=g,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),h+=5;for(r=Math.log(ic(2,h))/Math.LN10*2+5|0,u+=r,n=i=s=new p(ci),p.precision=u;;){if(i=Vt(i.times(t),u),n=n.times(++f),c=s.plus(Is(i,n,u)),Va(c.d).slice(0,u)===Va(s.d).slice(0,u)){for(;h--;)s=Vt(s.times(s),u);return p.precision=g,e==null?(Jt=!0,Vt(s,g)):s}s=c}}function Dn(t){for(var e=t.e*Wt,n=t.d[0];n>=10;n/=10)e++;return e}function d1(t,e,n){if(e>t.LN10.sd())throw Jt=!0,n&&(t.precision=n),Error(Ui+"LN10 precision limit exceeded");return Vt(new t(t.LN10),e)}function Vo(t){for(var e="";t--;)e+="0";return e}function qh(t,e){var n,r,i,s,c,u,f,h,p,g=1,y=10,_=t,E=_.d,j=_.constructor,N=j.precision;if(_.s<1)throw Error(Ui+(_.s?"NaN":"-Infinity"));if(_.eq(ci))return new j(0);if(e==null?(Jt=!1,h=N):h=e,_.eq(10))return e==null&&(Jt=!0),d1(j,h);if(h+=y,j.precision=h,n=Va(E),r=n.charAt(0),s=Dn(_),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=Va(_.d),r=n.charAt(0),g++;s=Dn(_),r>1?(_=new j("0."+n),s++):_=new j(r+"."+n.slice(1))}else return f=d1(j,h+2,N).times(s+""),_=qh(new j(r+"."+n.slice(1)),h-y).plus(f),j.precision=N,e==null?(Jt=!0,Vt(_,N)):_;for(u=c=_=Is(_.minus(ci),_.plus(ci),h),p=Vt(_.times(_),h),i=3;;){if(c=Vt(c.times(p),h),f=u.plus(Is(c,new j(i),h)),Va(f.d).slice(0,h)===Va(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(d1(j,h+2,N).times(s+""))),u=Is(u,new j(g),h),j.precision=N,e==null?(Jt=!0,Vt(u,N)):u;u=f,i+=2}}function XR(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ad(n/Wt),t.d=[],r=(n+1)%Wt,n<0&&(r+=Wt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Wt;r<i;)t.d.push(+e.slice(r,r+=Wt));e=e.slice(r),r=Wt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Jt&&(t.e>Vv||t.e<-Vv))throw Error(pN+n)}else t.s=0,t.e=0,t.d=[0];return t}function Vt(t,e,n){var r,i,s,c,u,f,h,p,g=t.d;for(c=1,s=g[0];s>=10;s/=10)c++;if(r=e-c,r<0)r+=Wt,i=e,h=g[p=0];else{if(p=Math.ceil((r+1)/Wt),s=g.length,p>=s)return t;for(h=s=g[p],c=1;s>=10;s/=10)c++;r%=Wt,i=r-Wt+c}if(n!==void 0&&(s=ic(10,c-i-1),u=h/s%10|0,f=e<0||g[p+1]!==void 0||h%s,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?h/ic(10,c-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(s=Dn(t),g.length=1,e=e-s-1,g[0]=ic(10,(Wt-e%Wt)%Wt),t.e=Ad(-e/Wt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=ic(10,Wt-r),g[p]=i>0?(h/ic(10,c-i)%ic(10,i)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==Yn&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=Yn)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(Jt&&(t.e>Vv||t.e<-Vv))throw Error(pN+Dn(t));return t}function T6(t,e){var n,r,i,s,c,u,f,h,p,g,y=t.constructor,_=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Jt?Vt(e,_):e;if(f=t.d,g=e.d,r=e.e,h=t.e,f=f.slice(),c=h-r,c){for(p=c<0,p?(n=f,c=-c,u=g.length):(n=g,r=h,u=f.length),i=Math.max(Math.ceil(_/Wt),u)+2,c>i&&(c=i,n.length=1),n.reverse(),i=c;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(f[i]!=g[i]){p=f[i]<g[i];break}c=0}for(p&&(n=f,f=g,g=n,e.s=-e.s),u=f.length,i=g.length-u;i>0;--i)f[u++]=0;for(i=g.length;i>c;){if(f[--i]<g[i]){for(s=i;s&&f[--s]===0;)f[s]=Yn-1;--f[s],f[i]+=Yn}f[i]-=g[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Jt?Vt(e,_):e):new y(0)}function Oc(t,e,n){var r,i=Dn(t),s=Va(t.d),c=s.length;return e?(n&&(r=n-c)>0?s=s.charAt(0)+"."+s.slice(1)+Vo(r):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Vo(-i-1)+s,n&&(r=n-c)>0&&(s+=Vo(r))):i>=c?(s+=Vo(i+1-c),n&&(r=n-i-1)>0&&(s=s+"."+Vo(r))):((r=i+1)<c&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-c)>0&&(i+1===c&&(s+="."),s+=Vo(r))),t.s<0?"-"+s:s}function ZR(t,e){if(t.length>e)return t.length=e,!0}function C6(t){var e,n,r;function i(s){var c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,s instanceof i){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(pc+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return XR(c,s.toString())}else if(typeof s!="string")throw Error(pc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,Sae.test(s))XR(c,s);else throw Error(pc+s)}if(i.prototype=Oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=C6,i.config=i.set=Aae,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Aae(t){if(!t||typeof t!="object")throw Error(Ui+"Object expected");var e,n,r,i=["precision",1,Sd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ad(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(pc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(pc+n+": "+r);return this}var gN=C6(Nae);ci=new gN(1);const Ct=gN;function O6(t){var e;return t===0?e=1:e=Math.floor(new Ct(t).abs().log(10).toNumber())+1,e}function P6(t,e,n){for(var r=new Ct(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var I6=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},R6=(t,e,n)=>{if(t.lte(0))return new Ct(0);var r=O6(t.toNumber()),i=new Ct(10).pow(r),s=t.div(i),c=r!==1?.05:.1,u=new Ct(Math.ceil(s.div(c).toNumber())).add(n).mul(c),f=u.mul(i);return e?new Ct(f.toNumber()):new Ct(Math.ceil(f.toNumber()))},Tae=(t,e,n)=>{var r=new Ct(1),i=new Ct(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Ct(10).pow(O6(t)-1),i=new Ct(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ct(Math.floor(t)))}else t===0?i=new Ct(Math.floor((e-1)/2)):n||(i=new Ct(Math.floor(t)));for(var c=Math.floor((e-1)/2),u=[],f=0;f<e;f++)u.push(i.add(new Ct(f-c).mul(r)).toNumber());return u},k6=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ct(0),tickMin:new Ct(0),tickMax:new Ct(0)};var c=R6(new Ct(n).sub(e).div(r-1),i,s),u;e<=0&&n>=0?u=new Ct(0):(u=new Ct(e).add(n).div(2),u=u.sub(new Ct(u).mod(c)));var f=Math.ceil(u.sub(e).div(c).toNumber()),h=Math.ceil(new Ct(n).sub(u).div(c).toNumber()),p=f+h+1;return p>r?k6(e,n,r,i,s+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:c,tickMin:u.sub(new Ct(f).mul(c)),tickMax:u.add(new Ct(h).mul(c))})},Cae=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[u,f]=I6([n,r]);if(u===-1/0||f===1/0){var h=f===1/0?[u,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),f];return n>r?h.reverse():h}if(u===f)return Tae(u,i,s);var{step:p,tickMin:g,tickMax:y}=k6(u,f,c,s,0),_=P6(g,y.add(new Ct(.1).mul(p)),p);return n>r?_.reverse():_},Oae=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,u]=I6([r,i]);if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var f=Math.max(n,2),h=R6(new Ct(u).sub(c).div(f-1),s,0),p=[...P6(new Ct(c),new Ct(u),h),u];return s===!1&&(p=p.map(g=>Math.round(g))),r>i?p.reverse():p},D6=t=>t.rootProps.maxBarSize,Pae=t=>t.rootProps.barGap,M6=t=>t.rootProps.barCategoryGap,Iae=t=>t.rootProps.barSize,c0=t=>t.rootProps.stackOffset,z6=t=>t.rootProps.reverseStackOrder,vN=t=>t.options.chartName,yN=t=>t.rootProps.syncId,L6=t=>t.rootProps.syncMethod,bN=t=>t.options.eventEmitter,Xn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Jl={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Da={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},u0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function d0(t,e,n){if(n!=="auto")return n;if(t!=null)return Qs(t,e)?"category":"number"}function JR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(n),!0).forEach(function(r){Rae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rae(t,e,n){return(e=kae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kae(t){var e=Dae(t,"string");return typeof e=="symbol"?e:e+""}function Dae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ek={allowDataOverflow:Jl.allowDataOverflow,allowDecimals:Jl.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Jl.angleAxisId,includeHidden:!1,name:void 0,reversed:Jl.reversed,scale:Jl.scale,tick:Jl.tick,tickCount:void 0,ticks:void 0,type:Jl.type,unit:void 0},tk={allowDataOverflow:Da.allowDataOverflow,allowDecimals:Da.allowDecimals,allowDuplicatedCategory:Da.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Da.radiusAxisId,includeHidden:Da.includeHidden,name:void 0,reversed:Da.reversed,scale:Da.scale,tick:Da.tick,tickCount:Da.tickCount,ticks:void 0,type:Da.type,unit:void 0},Mae=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},_N=ce([Mae,N3],(t,e)=>{var n;if(t!=null)return t;var r=(n=d0(e,"angleAxis",ek.type))!==null&&n!==void 0?n:"category";return Bv(Bv({},ek),{},{type:r})}),zae=(t,e)=>t.polarAxis.radiusAxis[e],xN=ce([zae,N3],(t,e)=>{var n;if(t!=null)return t;var r=(n=d0(e,"radiusAxis",tk.type))!==null&&n!==void 0?n:"category";return Bv(Bv({},tk),{},{type:r})}),f0=t=>t.polarOptions,wN=ce([Ws,Ys,Jn],kne),q6=ce([f0,wN],(t,e)=>{if(t!=null)return fa(t.innerRadius,e,0)}),U6=ce([f0,wN],(t,e)=>{if(t!=null)return fa(t.outerRadius,e,e*.8)}),Lae=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},V6=ce([f0],Lae);ce([_N,V6],u0);var B6=ce([wN,q6,U6],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ce([xN,B6],u0);var $6=ce([Ot,f0,q6,U6,Ws,Ys],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:c,cy:u,startAngle:f,endAngle:h}=e;return{cx:fa(c,i,i/2),cy:fa(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),tr=(t,e)=>e,h0=(t,e,n)=>n;function jN(t){return t?.id}function F6(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,c=new Map;return t.forEach(u=>{var f,h=(f=u.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=jN(u);h.forEach((g,y)=>{var _=s==null||i?y:String(kn(g,s,null)),E=kn(g,u.dataKey,0),j;c.has(_)?j=c.get(_):j={},Object.assign(j,{[p]:E}),c.set(_,j)})}}),Array.from(c.values())}function m0(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var p0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function g0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function qae(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var nr=t=>{var e=Ot(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Td=t=>t.tooltip.settings.axisId;function Uae(t){if(t in nh)return nh[t]();var e="scale".concat(sm(t));if(e in nh)return nh[e]()}function nk(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(s){function c(){return s.apply(this,arguments)}return c.toString=function(){return s.toString()},c})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(s){var c=i[0],u=i[1];return c<=u?s>=c&&s<=u:s>=u&&s<=c},bandwidth:n?()=>n.call(t):void 0,ticks:e?s=>e.call(t,s):void 0,map:(s,c)=>{var u=t(s);if(u!=null){if(t.bandwidth&&c!==null&&c!==void 0&&c.position){var f=t.bandwidth();switch(c.position){case"middle":u+=f/2;break;case"end":u+=f;break}}return u}}}}function rk(t,e,n){if(typeof t=="function")return nk(t.copy().domain(e).range(n));if(t!=null){var r=Uae(t);if(r!=null)return r.domain(e).range(n),nk(r)}}var Vae=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Bs(e)){for(var n,r,i=0;i<e.length;i++){var s=e[i];mt(s)&&((n===void 0||s<n)&&(n=s),(r===void 0||s>r)&&(r=s))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $v(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(n),!0).forEach(function(r){Bae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bae(t,e,n){return(e=$ae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ae(t){var e=Fae(t,"string");return typeof e=="symbol"?e:e+""}function Fae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qw=[0,"auto"],Kn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},H6=(t,e)=>t.cartesianAxis.xAxis[e],Js=(t,e)=>{var n=H6(t,e);return n??Kn},Qn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Qw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:cm},G6=(t,e)=>t.cartesianAxis.yAxis[e],eo=(t,e)=>{var n=G6(t,e);return n??Qn},Hae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},EN=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Hae},Rr=(t,e,n)=>{switch(e){case"xAxis":return Js(t,n);case"yAxis":return eo(t,n);case"zAxis":return EN(t,n);case"angleAxis":return _N(t,n);case"radiusAxis":return xN(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Gae=(t,e,n)=>{switch(e){case"xAxis":return Js(t,n);case"yAxis":return eo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},gm=(t,e,n)=>{switch(e){case"xAxis":return Js(t,n);case"yAxis":return eo(t,n);case"angleAxis":return _N(t,n);case"radiusAxis":return xN(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},K6=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function Q6(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var v0=t=>t.graphicalItems.cartesianItems,Kae=ce([tr,h0],Q6),W6=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),vm=ce([v0,Rr,Kae],W6,{memoizeOptions:{resultEqualityCheck:g0}}),Y6=ce([vm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(m0)),X6=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Qae=ce([vm],X6),Z6=t=>t.map(e=>e.data).filter(Boolean).flat(1),Wae=ce([vm],Z6,{memoizeOptions:{resultEqualityCheck:g0}}),J6=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},NN=ce([Wae,mN],J6),e5=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:kn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:kn(i,r)}))):t.map(r=>({value:r})),y0=ce([NN,Rr,vm],e5);function t5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function zg(t){if(Xa(t)||t instanceof Date){var e=Number(t);if(mt(e))return e}}function ak(t){if(Array.isArray(t)){var e=[zg(t[0]),zg(t[1])];return Bs(e)?e:void 0}var n=zg(t);if(n!=null)return[n,n]}function $s(t){return t.map(zg).filter(Qr)}function Yae(t,e,n){return!n||typeof e!="number"||Ya(e)?[]:n.length?$s(n.flatMap(r=>{var i=kn(t,r.dataKey),s,c;if(Array.isArray(i)?[s,c]=i:s=c=i,!(!mt(s)||!mt(c)))return[e-s,e+c]})):[]}var Bn=t=>{var e=nr(t),n=Td(t);return gm(t,e,n)},ym=ce([Bn],t=>t?.dataKey),Xae=ce([Y6,mN,Bn],F6),n5=(t,e,n,r)=>{var i={},s=e.reduce((c,u)=>{if(u.stackId==null)return c;var f=c[u.stackId];return f==null&&(f=[]),f.push(u),c[u.stackId]=f,c},i);return Object.fromEntries(Object.entries(s).map(c=>{var[u,f]=c,h=r?[...f].reverse():f,p=h.map(jN);return[u,{stackedData:Nee(t,p,n),graphicalItems:h}]}))},Ww=ce([Xae,Y6,c0,z6],n5),r5=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var c=Oee(t,i,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},Zae=ce([Rr],t=>t.allowDataOverflow),SN=t=>{var e;if(t==null||!("domain"in t))return Qw;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=$s(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Qw},i5=ce([Rr],SN),a5=ce([i5,Zae],E6),Jae=ce([Ww,Zs,tr,a5],r5,{memoizeOptions:{resultEqualityCheck:p0}}),AN=t=>t.errorBars,ese=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>t5(n,r)),Fv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),c=Math.min(...s),u=Math.max(...s);return[c,u]}},s5=(t,e,n,r,i)=>{var s,c;if(n.length>0&&t.forEach(u=>{n.forEach(f=>{var h,p,g=(h=r[f.id])===null||h===void 0?void 0:h.filter(A=>t5(i,A)),y=kn(u,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),_=Yae(u,y,g);if(_.length>=2){var E=Math.min(..._),j=Math.max(..._);(s==null||E<s)&&(s=E),(c==null||j>c)&&(c=j)}var N=ak(y);N!=null&&(s=s==null?N[0]:Math.min(s,N[0]),c=c==null?N[1]:Math.max(c,N[1]))})}),e?.dataKey!=null&&t.forEach(u=>{var f=ak(kn(u,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),mt(s)&&mt(c))return[s,c]},tse=ce([NN,Rr,Qae,AN,tr],s5,{memoizeOptions:{resultEqualityCheck:p0}});function nse(t){var{value:e}=t;if(Xa(e)||e instanceof Date)return e}var rse=(t,e,n)=>{var r=t.map(nse).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&wL(r))?$3(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},o5=t=>t.referenceElements.dots,Cd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),ise=ce([o5,tr,h0],Cd),l5=t=>t.referenceElements.areas,ase=ce([l5,tr,h0],Cd),c5=t=>t.referenceElements.lines,sse=ce([c5,tr,h0],Cd),u5=(t,e)=>{if(t!=null){var n=$s(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},ose=ce(ise,tr,u5),d5=(t,e)=>{if(t!=null){var n=$s(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},lse=ce([ase,tr],d5);function cse(t){var e;if(t.x!=null)return $s([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:$s(n)}function use(t){var e;if(t.y!=null)return $s([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:$s(n)}var f5=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?cse(r):use(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},dse=ce([sse,tr],f5),fse=ce(ose,dse,lse,(t,e,n)=>Fv(t,n,e)),h5=(t,e,n,r,i,s,c,u)=>{if(n!=null)return n;var f=c==="vertical"&&u==="xAxis"||c==="horizontal"&&u==="yAxis",h=f?Fv(r,s,i):Fv(s,i);return Eae(e,h,t.allowDataOverflow)},hse=ce([Rr,i5,a5,Jae,tse,fse,Ot,tr],h5,{memoizeOptions:{resultEqualityCheck:p0}}),mse=[0,1],m5=(t,e,n,r,i,s,c)=>{if(!((t==null||n==null||n.length===0)&&c===void 0)){var{dataKey:u,type:f}=t,h=Qs(e,s);if(h&&u==null){var p;return $3(0,(p=n?.length)!==null&&p!==void 0?p:0)}return f==="category"?rse(r,t,h):i==="expand"?mse:c}},TN=ce([Rr,Ot,NN,y0,c0,tr,hse],m5);function pse(t){return t in nh}var p5=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var s="scale".concat(sm(r));return pse(s)?s:"point"}}},Od=ce([Rr,K6,vN],p5);function CN(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?rk(t.scale,n,r):rk(e,n,r)}var g5=(t,e,n)=>{var r=SN(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Bs(t))return Cae(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Bs(t))return Oae(t,e.tickCount,e.allowDecimals)}},ON=ce([TN,gm,Od],g5),v5=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Bs(e)&&Array.isArray(n)&&n.length>0){var i,s,c=e[0],u=(i=n[0])!==null&&i!==void 0?i:0,f=e[1],h=(s=n[n.length-1])!==null&&s!==void 0?s:0;return[Math.min(c,u),Math.max(f,h)]}return e},gse=ce([Rr,TN,ON,tr],v5),vse=ce(y0,Rr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from($s(t.map(g=>g.value))).sort((g,y)=>g-y),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var c=s-i;if(c===0)return 1/0;for(var u=0;u<r.length-1;u++){var f=r[u],h=r[u+1];if(!(f==null||h==null)){var p=h-f;n=Math.min(n,p)}}return n/c}}),y5=ce(vse,Ot,M6,Jn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!mt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var c=fa(n,t*s),u=t*s/2;return u-c-(u-c)/s*c}return 0}),yse=(t,e,n)=>{var r=Js(t,e);return r==null||typeof r.padding!="string"?0:y5(t,"xAxis",e,n,r.padding)},bse=(t,e,n)=>{var r=eo(t,e);return r==null||typeof r.padding!="string"?0:y5(t,"yAxis",e,n,r.padding)},_se=ce(Js,yse,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),xse=ce(eo,bse,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),wse=ce([Jn,_se,Wy,Qy,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),jse=ce([Jn,Ot,xse,Wy,Qy,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:c}=i;return s?[r.height-c.bottom,c.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),bm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return wse(t,n,r);case"yAxis":return jse(t,n,r);case"zAxis":return(i=EN(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return V6(t);case"radiusAxis":return B6(t,n);default:return}},b5=ce([Rr,bm],u0),Ese=ce([Od,gse],Vae),b0=ce([Rr,Od,Ese,b5],CN);ce([vm,AN,tr],ese);function _5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var _0=(t,e)=>e,x0=(t,e,n)=>n,Nse=ce(Gy,_0,x0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(_5)),Sse=ce(Ky,_0,x0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(_5)),x5=(t,e)=>({width:t.width,height:e.height}),Ase=(t,e)=>{var n=typeof e.width=="number"?e.width:cm;return{width:n,height:t.height}},w5=ce(Jn,Js,x5),Tse=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Cse=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Ose=ce(Ys,Jn,Nse,_0,x0,(t,e,n,r,i)=>{var s={},c;return n.forEach(u=>{var f=x5(e,u);c==null&&(c=Tse(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;s[u.id]=c-Number(h)*f.height,c+=(h?-1:1)*f.height}),s}),Pse=ce(Ws,Jn,Sse,_0,x0,(t,e,n,r,i)=>{var s={},c;return n.forEach(u=>{var f=Ase(e,u);c==null&&(c=Cse(e,r,t));var h=r==="left"&&!i||r==="right"&&i;s[u.id]=c-Number(h)*f.width,c+=(h?-1:1)*f.width}),s}),Ise=(t,e)=>{var n=Js(t,e);if(n!=null)return Ose(t,n.orientation,n.mirror)},Rse=ce([Jn,Js,Ise,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),kse=(t,e)=>{var n=eo(t,e);if(n!=null)return Pse(t,n.orientation,n.mirror)},Dse=ce([Jn,eo,kse,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),j5=ce(Jn,eo,(t,e)=>{var n=typeof e.width=="number"?e.width:cm;return{width:n,height:t.height}}),sk=(t,e,n)=>{switch(e){case"xAxis":return w5(t,n).width;case"yAxis":return j5(t,n).height;default:return}},E5=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:c}=n,u=Qs(t,r),f=e.map(h=>h.value);if(c&&u&&s==="category"&&i&&wL(f))return f}},PN=ce([Ot,y0,Rr,tr],E5),N5=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,c=Qs(t,r);if(c&&(i==="number"||s!=="auto"))return e.map(u=>u.value)}},IN=ce([Ot,y0,gm,tr],N5),ok=ce([Ot,Gae,Od,b0,PN,IN,bm,ON,tr],(t,e,n,r,i,s,c,u,f)=>{if(e!=null){var h=Qs(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:u,range:c,realScaleType:n,scale:r}}}),Mse=(t,e,n,r,i,s,c,u,f)=>{if(!(e==null||r==null)){var h=Qs(t,f),{type:p,ticks:g,tickCount:y}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=p==="category"&&r.bandwidth?r.bandwidth()/_:0;E=f==="angleAxis"&&s!=null&&s.length>=2?Kr(s[0]-s[1])*2*E:E;var j=g||i;return j?j.map((N,A)=>{var D=c?c.indexOf(N):N,I=r.map(D);return mt(I)?{index:A,coordinate:I+E,value:N,offset:E}:null}).filter(Qr):h&&u?u.map((N,A)=>{var D=r.map(N);return mt(D)?{coordinate:D+E,value:N,index:A,offset:E}:null}).filter(Qr):r.ticks?r.ticks(y).map((N,A)=>{var D=r.map(N);return mt(D)?{coordinate:D+E,value:N,index:A,offset:E}:null}).filter(Qr):r.domain().map((N,A)=>{var D=r.map(N);return mt(D)?{coordinate:D+E,value:c?c[N]:N,index:A,offset:E}:null}).filter(Qr)}},S5=ce([Ot,gm,Od,b0,ON,bm,PN,IN,tr],Mse),zse=(t,e,n,r,i,s,c)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Qs(t,c),{tickCount:f}=e,h=0;return h=c==="angleAxis"&&r?.length>=2?Kr(r[0]-r[1])*2*h:h,u&&s?s.map((p,g)=>{var y=n.map(p);return mt(y)?{coordinate:y+h,value:p,index:g,offset:h}:null}).filter(Qr):n.ticks?n.ticks(f).map((p,g)=>{var y=n.map(p);return mt(y)?{coordinate:y+h,value:p,index:g,offset:h}:null}).filter(Qr):n.domain().map((p,g)=>{var y=n.map(p);return mt(y)?{coordinate:y+h,value:i?i[p]:p,index:g,offset:h}:null}).filter(Qr)}},hl=ce([Ot,gm,b0,bm,PN,IN,tr],zse),ml=ce(Rr,b0,(t,e)=>{if(!(t==null||e==null))return $v($v({},t),{},{scale:e})}),Lse=ce([Rr,Od,TN,b5],CN);ce((t,e,n)=>EN(t,n),Lse,(t,e)=>{if(!(t==null||e==null))return $v($v({},t),{},{scale:e})});var qse=ce([Ot,Gy,Ky],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),A5=t=>t.options.defaultTooltipEventType,T5=t=>t.options.validateTooltipEventTypes;function C5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function RN(t,e){var n=A5(t),r=T5(t);return C5(e,n,r)}function Use(t){return ze(e=>RN(e,t))}var O5=(t,e)=>{var n,r=Number(e);if(!(Ya(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Vse=t=>t.tooltip.settings,Qo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Bse={itemInteraction:{click:Qo,hover:Qo},axisInteraction:{click:Qo,hover:Qo},keyboardInteraction:Qo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},P5=Xr({name:"tooltip",initialState:Bse,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Zt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=la(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Zt()},removeTooltipEntrySettings:{reducer(t,e){var n=la(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Zt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:$se,replaceTooltipEntrySettings:Fse,removeTooltipEntrySettings:Hse,setTooltipSettingsState:Gse,setActiveMouseOverItemIndex:I5,mouseLeaveItem:Kse,mouseLeaveChart:R5,setActiveClickItemIndex:Qse,setMouseOverAxisIndex:k5,setMouseClickAxisIndex:Wse,setSyncInteraction:Yw,setKeyboardInteraction:Xw}=P5.actions,Yse=P5.reducer;function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(n),!0).forEach(function(r){Xse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xse(t,e,n){return(e=Zse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zse(t){var e=Jse(t,"string");return typeof e=="symbol"?e:e+""}function Jse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eoe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function toe(t){return t.index!=null}var D5=(t,e,n,r)=>{if(e==null)return Qo;var i=eoe(t,e,n);if(i==null)return Qo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(toe(i)){if(s)return vg(vg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return vg(vg({},Qo),{},{coordinate:i.coordinate})};function noe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function roe(t,e){var n=noe(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),c=Math.max(r,i);return n>=s&&n<=c}function ioe(t,e,n){if(n==null||e==null)return!0;var r=kn(t,e);return r==null||!Bs(n)?!0:roe(r,n)}var kN=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!mt(s))return i;var c=0,u=1/0;e.length>0&&(u=e.length-1);var f=Math.max(c,Math.min(s,u)),h=e[f];return h==null||ioe(h,n,r)?String(f):null},M5=(t,e,n,r,i,s,c)=>{if(s!=null){var u=c[0],f=u?.getPosition(s);if(f!=null)return f;var h=i?.[Number(s)];if(h)return n==="horizontal"?{x:h.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:h.coordinate}}},z5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(c=>{var u;return((u=c.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},L5=t=>t.options.tooltipPayloadSearcher,Pd=t=>t.tooltip;function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(r){aoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aoe(t,e,n){return(e=soe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function soe(t){var e=ooe(t,"string");return typeof e=="symbol"?e:e+""}function ooe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function loe(t,e){return t??e}var q5=(t,e,n,r,i,s,c)=>{if(!(e==null||s==null)){var{chartData:u,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((y,_)=>{var E,{dataDefinedOnItem:j,settings:N}=_,A=loe(j,u),D=Array.isArray(A)?m3(A,h,p):A,I=(E=N?.dataKey)!==null&&E!==void 0?E:r,O=N?.nameKey,V;if(r&&Array.isArray(D)&&!Array.isArray(D[0])&&c==="axis"?V=jL(D,r,i):V=s(D,e,f,O),Array.isArray(V))V.forEach(k=>{var C=uk(uk({},N),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});y.push(cI({tooltipEntrySettings:C,dataKey:k.dataKey,payload:k.payload,value:kn(k.payload,k.dataKey),name:k.name}))});else{var B;y.push(cI({tooltipEntrySettings:N,dataKey:I,payload:V,value:kn(V,I),name:(B=kn(V,O))!==null&&B!==void 0?B:N?.name}))}return y},g)}},DN=ce([Bn,K6,vN],p5),coe=ce([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),uoe=ce([nr,Td],Q6),Id=ce([coe,Bn,uoe],W6,{memoizeOptions:{resultEqualityCheck:g0}}),doe=ce([Id],t=>t.filter(m0)),foe=ce([Id],Z6,{memoizeOptions:{resultEqualityCheck:g0}}),Rd=ce([foe,Zs],J6),hoe=ce([doe,Zs,Bn],F6),MN=ce([Rd,Bn,Id],e5),U5=ce([Bn],SN),moe=ce([Bn],t=>t.allowDataOverflow),V5=ce([U5,moe],E6),poe=ce([Id],t=>t.filter(m0)),goe=ce([hoe,poe,c0,z6],n5),voe=ce([goe,Zs,nr,V5],r5),yoe=ce([Id],X6),boe=ce([Rd,Bn,yoe,AN,nr],s5,{memoizeOptions:{resultEqualityCheck:p0}}),_oe=ce([o5,nr,Td],Cd),xoe=ce([_oe,nr],u5),woe=ce([l5,nr,Td],Cd),joe=ce([woe,nr],d5),Eoe=ce([c5,nr,Td],Cd),Noe=ce([Eoe,nr],f5),Soe=ce([xoe,Noe,joe],Fv),Aoe=ce([Bn,U5,V5,voe,boe,Soe,Ot,nr],h5),_m=ce([Bn,Ot,Rd,MN,c0,nr,Aoe],m5),Toe=ce([_m,Bn,DN],g5),Coe=ce([Bn,_m,Toe,nr],v5),B5=t=>{var e=nr(t),n=Td(t),r=!1;return bm(t,e,n,r)},$5=ce([Bn,B5],u0),F5=ce([Bn,DN,Coe,$5],CN),Ooe=ce([Ot,MN,Bn,nr],E5),Poe=ce([Ot,MN,Bn,nr],N5),Ioe=(t,e,n,r,i,s,c,u)=>{if(e){var{type:f}=e,h=Qs(t,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&i!=null&&i?.length>=2?Kr(i[0]-i[1])*2*g:g,h&&c?c.map((y,_)=>{var E=r.map(y);return mt(E)?{coordinate:E+g,value:y,index:_,offset:g}:null}).filter(Qr):r.domain().map((y,_)=>{var E=r.map(y);return mt(E)?{coordinate:E+g,value:s?s[y]:y,index:_,offset:g}:null}).filter(Qr)}}},to=ce([Ot,Bn,DN,F5,B5,Ooe,Poe,nr],Ioe),zN=ce([A5,T5,Vse],(t,e,n)=>C5(n.shared,t,e)),H5=t=>t.tooltip.settings.trigger,LN=t=>t.tooltip.settings.defaultIndex,xm=ce([Pd,zN,H5,LN],D5),Pc=ce([xm,Rd,ym,_m],kN),G5=ce([to,Pc],O5),K5=ce([xm],t=>{if(t)return t.dataKey});ce([xm],t=>{if(t)return t.graphicalItemId});var Q5=ce([Pd,zN,H5,LN],z5),Roe=ce([Ws,Ys,Ot,Jn,to,LN,Q5],M5),koe=ce([xm,Roe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Doe=ce([xm],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),Moe=ce([Q5,Pc,Zs,ym,G5,L5,zN],q5),zoe=ce([Moe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(n),!0).forEach(function(r){Loe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Loe(t,e,n){return(e=qoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qoe(t){var e=Uoe(t,"string");return typeof e=="symbol"?e:e+""}function Uoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Voe=()=>ze(Bn),Boe=()=>{var t=Voe(),e=ze(to),n=ze(F5);return dd(!t||!n?void 0:fk(fk({},t),{},{scale:n}),e)};function hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ku(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(n),!0).forEach(function(r){$oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $oe(t,e,n){return(e=Foe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Foe(t){var e=Hoe(t,"string");return typeof e=="symbol"?e:e+""}function Hoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Goe=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Koe=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:c}=r;return ku(ku(ku({},r),fr(r.cx,r.cy,c,s)),{},{angle:s,radius:c})}var u=i.coordinate,{angle:f}=r;return ku(ku(ku({},r),fr(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Qoe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var W5=(t,e,n,r,i)=>{var s,c=(s=e?.length)!==null&&s!==void 0?s:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<c;u++){var f,h,p,g,y,_=u>0?(f=n[u-1])===null||f===void 0?void 0:f.coordinate:(h=n[c-1])===null||h===void 0?void 0:h.coordinate,E=(p=n[u])===null||p===void 0?void 0:p.coordinate,j=u>=c-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(y=n[u+1])===null||y===void 0?void 0:y.coordinate,N=void 0;if(!(_==null||E==null||j==null))if(Kr(E-_)!==Kr(j-E)){var A=[];if(Kr(j-E)===Kr(i[1]-i[0])){N=j;var D=E+i[1]-i[0];A[0]=Math.min(D,(D+_)/2),A[1]=Math.max(D,(D+_)/2)}else{N=_;var I=j+i[1]-i[0];A[0]=Math.min(E,(I+E)/2),A[1]=Math.max(E,(I+E)/2)}var O=[Math.min(E,(N+E)/2),Math.max(E,(N+E)/2)];if(t>O[0]&&t<=O[1]||t>=A[0]&&t<=A[1]){var V;return(V=n[u])===null||V===void 0?void 0:V.index}}else{var B=Math.min(_,j),k=Math.max(_,j);if(t>(B+E)/2&&t<=(k+E)/2){var C;return(C=n[u])===null||C===void 0?void 0:C.index}}}else if(e)for(var R=0;R<c;R++){var U=e[R];if(U!=null){var L=e[R+1],z=e[R-1];if(R===0&&L!=null&&t<=(U.coordinate+L.coordinate)/2||R===c-1&&z!=null&&t>(U.coordinate+z.coordinate)/2||R>0&&R<c-1&&z!=null&&L!=null&&t>(U.coordinate+z.coordinate)/2&&t<=(U.coordinate+L.coordinate)/2)return U.index}}return-1},Woe=()=>ze(vN),qN=(t,e)=>e,Y5=(t,e,n)=>n,UN=(t,e,n,r)=>r,Yoe=ce(to,t=>Dy(t,e=>e.coordinate)),VN=ce([Pd,qN,Y5,UN],D5),BN=ce([VN,Rd,ym,_m],kN),Xoe=(t,e,n)=>{if(e!=null){var r=Pd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},X5=ce([Pd,qN,Y5,UN],z5),Hv=ce([Ws,Ys,Ot,Jn,to,UN,X5],M5),Zoe=ce([VN,Hv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),Z5=ce([to,BN],O5),Joe=ce([X5,BN,Zs,ym,Z5,L5,qN],q5),ele=ce([VN,BN],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),tle=(t,e,n,r,i,s,c)=>{if(!(!t||!n||!r||!i)&&Qoe(t,c)){var u=Pee(t,e),f=W5(u,s,i,n,r),h=Goe(e,i,f,t);return{activeIndex:String(f),activeCoordinate:h}}},nle=(t,e,n,r,i,s,c)=>{if(!(!t||!r||!i||!s||!n)){var u=qne(t,n);if(u){var f=Iee(u,e),h=W5(f,c,s,r,i),p=Koe(e,s,h,u);return{activeIndex:String(h),activeCoordinate:p}}}},rle=(t,e,n,r,i,s,c,u)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?tle(t,e,r,i,s,c,u):nle(t,e,n,r,i,s,c)},ile=ce(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),ale=ce(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Xn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:qae}});function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(r){sle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sle(t,e,n){return(e=ole(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ole(t){var e=lle(t,"string");return typeof e=="symbol"?e:e+""}function lle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cle={},ule={zIndexMap:Object.values(Xn).reduce((t,e)=>pk(pk({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),cle)},dle=new Set(Object.values(Xn));function fle(t){return dle.has(t)}var J5=Xr({name:"zIndex",initialState:ule,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Zt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!fle(n)&&delete t.zIndexMap[n])},prepare:Zt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Zt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Zt()}}}),{registerZIndexPortal:hle,unregisterZIndexPortal:mle,registerZIndexPortalElement:ple,unregisterZIndexPortalElement:gle}=J5.actions,vle=J5.reducer;function $i(t){var{zIndex:e,children:n}=t,r=ute(),i=r&&e!==void 0&&e!==0,s=jr(),c=wn();w.useLayoutEffect(()=>i?(c(hle({zIndex:e})),()=>{c(mle({zIndex:e}))}):Lc,[c,e,i]);var u=ze(f=>ile(f,e,s));return i?u?UD.createPortal(n,u):null:n}function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(null,arguments)}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){yle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yle(t,e,n){return(e=ble(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ble(t){var e=_le(t,"string");return typeof e=="symbol"?e:e+""}function _le(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xle(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return w.isValidElement(e)?w.cloneElement(e,r):w.createElement(n,r)}function wle(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:c,layout:u,cursor:f,tooltipEventType:h,chartName:p}=t,g=n,y=r,_=i;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var E,j,N;if(p==="ScatterChart")E=g,j=Zte,N=Xn.cursorLine;else if(p==="BarChart")E=Jte(u,g,s,c),j=q3,N=Xn.cursorRectangle;else if(u==="radial"&&SL(g)){var{cx:A,cy:D,radius:I,startAngle:O,endAngle:V}=U3(g);E={cx:A,cy:D,startAngle:O,endAngle:V,innerRadius:I,outerRadius:I},j=B3,N=Xn.cursorLine}else E={points:$ne(u,g,s)},j=k3,N=Xn.cursorLine;var B=typeof f=="object"&&"className"in f?f.className:void 0,k=yg(yg(yg(yg({stroke:"#ccc",pointerEvents:"none"},s),E),am(f)),{},{payload:y,payloadIndex:_,className:Lt("recharts-tooltip-cursor",B)});return w.createElement($i,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:N},w.createElement(xle,{cursor:f,cursorComp:j,cursorProps:k}))}function jle(t){var e=Boe(),n=x3(),r=qc(),i=Woe();return e==null||n==null||r==null||i==null?null:w.createElement(wle,Zw({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var eq=w.createContext(null),Ele=()=>w.useContext(eq),f1={exports:{}},vk;function Nle(){return vk||(vk=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new i(p,g||f,y),E=n?n+h:h;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],_]:f._events[E].push(_):(f._events[E]=_,f._eventsCount++),f}function c(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,_=g.length,E=new Array(_);y<_;y++)E[y]=g[y].fn;return E},u.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,p,g,y,_,E){var j=n?n+h:h;if(!this._events[j])return!1;var N=this._events[j],A=arguments.length,D,I;if(N.fn){switch(N.once&&this.removeListener(h,N.fn,void 0,!0),A){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,p),!0;case 3:return N.fn.call(N.context,p,g),!0;case 4:return N.fn.call(N.context,p,g,y),!0;case 5:return N.fn.call(N.context,p,g,y,_),!0;case 6:return N.fn.call(N.context,p,g,y,_,E),!0}for(I=1,D=new Array(A-1);I<A;I++)D[I-1]=arguments[I];N.fn.apply(N.context,D)}else{var O=N.length,V;for(I=0;I<O;I++)switch(N[I].once&&this.removeListener(h,N[I].fn,void 0,!0),A){case 1:N[I].fn.call(N[I].context);break;case 2:N[I].fn.call(N[I].context,p);break;case 3:N[I].fn.call(N[I].context,p,g);break;case 4:N[I].fn.call(N[I].context,p,g,y);break;default:if(!D)for(V=1,D=new Array(A-1);V<A;V++)D[V-1]=arguments[V];N[I].fn.apply(N[I].context,D)}}return!0},u.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},u.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},u.prototype.removeListener=function(h,p,g,y){var _=n?n+h:h;if(!this._events[_])return this;if(!p)return c(this,_),this;var E=this._events[_];if(E.fn)E.fn===p&&(!y||E.once)&&(!g||E.context===g)&&c(this,_);else{for(var j=0,N=[],A=E.length;j<A;j++)(E[j].fn!==p||y&&!E[j].once||g&&E[j].context!==g)&&N.push(E[j]);N.length?this._events[_]=N.length===1?N[0]:N:c(this,_)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(f1)),f1.exports}var Sle=Nle();const Ale=es(Sle);var Uh=new Ale,Jw="recharts.syncEvent.tooltip",yk="recharts.syncEvent.brush",tq=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Ya(n))return t[n]}},Tle={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},nq=Xr({name:"options",initialState:Tle,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Cle=nq.reducer,{createEventEmitter:Ole}=nq.actions;function Ple(t){return t.tooltip.syncInteraction}var Ile={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},rq=Xr({name:"chartData",initialState:Ile,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:bk,setDataStartEndIndexes:Rle,setComputedData:dve}=rq.actions,kle=rq.reducer,Dle=["x","y"];function _k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Du(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(n),!0).forEach(function(r){Mle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mle(t,e,n){return(e=zle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zle(t){var e=Lle(t,"string");return typeof e=="symbol"?e:e+""}function Lle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qle(t,e){if(t==null)return{};var n,r,i=Ule(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ule(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vle(){var t=ze(yN),e=ze(bN),n=wn(),r=ze(L6),i=ze(to),s=qc(),c=Yy(),u=ze(f=>f.rootProps.className);w.useEffect(()=>{if(t==null)return Lc;var f=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var y;if(c&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate&&p.payload.sourceViewBox){var _=p.payload.coordinate,{x:E,y:j}=_,N=qle(_,Dle),{x:A,y:D,width:I,height:O}=p.payload.sourceViewBox,V=Du(Du({},N),{},{x:c.x+(I?(E-A)/I:0)*c.width,y:c.y+(O?(j-D)/O:0)*c.height});n(Du(Du({},p),{},{payload:Du(Du({},p.payload),{},{coordinate:V})}))}else n(p);return}if(i!=null){var B;if(typeof r=="function"){var k={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},C=r(i,k);B=i[C]}else r==="value"&&(B=i.find(G=>String(G.value)===p.payload.label));var{coordinate:R}=p.payload;if(B==null||p.payload.active===!1||R==null||c==null){n(Yw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:U,y:L}=R,z=Math.min(U,c.x+c.width),M=Math.min(L,c.y+c.height),Q={x:s==="horizontal"?B.coordinate:z,y:s==="horizontal"?M:B.coordinate},W=Yw({active:p.payload.active,coordinate:Q,dataKey:p.payload.dataKey,index:String(B.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(W)}}};return Uh.on(Jw,f),()=>{Uh.off(Jw,f)}},[u,n,e,t,r,i,s,c])}function Ble(){var t=ze(yN),e=ze(bN),n=wn();w.useEffect(()=>{if(t==null)return Lc;var r=(i,s,c)=>{e!==c&&t===i&&n(Rle(s))};return Uh.on(yk,r),()=>{Uh.off(yk,r)}},[n,e,t])}function $le(){var t=wn();w.useEffect(()=>{t(Ole())},[t]),Vle(),Ble()}function Fle(t,e,n,r,i,s){var c=ze(_=>Xoe(_,t,e)),u=ze(bN),f=ze(yN),h=ze(L6),p=ze(Ple),g=p?.active,y=Yy();w.useEffect(()=>{if(!g&&f!=null&&u!=null){var _=Yw({active:s,coordinate:n,dataKey:c,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});Uh.emit(Jw,f,_,u)}},[g,n,c,i,r,u,f,h,s,y])}function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(r){Hle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hle(t,e,n){return(e=Gle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gle(t){var e=Kle(t,"string");return typeof e=="symbol"?e:e+""}function Kle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qle(t){return t.dataKey}function Wle(t,e){return w.isValidElement(t)?w.cloneElement(t,e):typeof t=="function"?w.createElement(t,e):w.createElement(Pte,e)}var jk=[],Yle={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ek(t){var e,n,r=Ir(t,Yle),{active:i,allowEscapeViewBox:s,animationDuration:c,animationEasing:u,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:y,position:_,reverseDirection:E,useTranslate3d:j,wrapperStyle:N,cursor:A,shared:D,trigger:I,defaultIndex:O,portal:V,axisId:B}=r,k=wn(),C=typeof O=="number"?String(O):O;w.useEffect(()=>{k(Gse({shared:D,trigger:I,axisId:B,active:i,defaultIndex:C}))},[k,D,I,B,i,C]);var R=Yy(),U=R3(),L=Use(D),{activeIndex:z,isActive:M}=(e=ze(de=>ele(de,L,I,C)))!==null&&e!==void 0?e:{},Q=ze(de=>Joe(de,L,I,C)),W=ze(de=>Z5(de,L,I,C)),G=ze(de=>Zoe(de,L,I,C)),le=Q,be=Ele(),je=(n=i??M)!==null&&n!==void 0?n:!1,[X,F]=gJ([le,je]),ne=L==="axis"?W:void 0;Fle(L,I,G,ne,z,je);var pe=V??be;if(pe==null||R==null||L==null)return null;var we=le??jk;je||(we=jk),h&&we.length&&(we=BZ(we.filter(de=>de.value!=null&&(de.hide!==!0||r.includeHidden)),y,Qle));var J=we.length>0,H=w.createElement(Lte,{allowEscapeViewBox:s,animationDuration:c,animationEasing:u,isAnimationActive:p,active:je,coordinate:G,hasPayload:J,offset:g,position:_,reverseDirection:E,useTranslate3d:j,viewBox:R,wrapperStyle:N,lastBoundingBox:X,innerRef:F,hasPortalFromProps:!!V},Wle(f,wk(wk({},r),{},{payload:we,label:ne,active:je,activeIndex:z,coordinate:G,accessibilityLayer:U})));return w.createElement(w.Fragment,null,UD.createPortal(H,pe),je&&w.createElement(jle,{cursor:A,tooltipEventType:L,coordinate:G,payload:we,index:z}))}var $N=t=>null;$N.displayName="Cell";function Xle(t,e,n){return(e=Zle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zle(t){var e=Jle(t,"string");return typeof e=="symbol"?e:e+""}function Jle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ece{constructor(e){Xle(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){nce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nce(t,e,n){return(e=rce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rce(t){var e=ice(t,"string");return typeof e=="symbol"?e:e+""}function ice(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ace={cacheSize:2e3,enableCache:!0},iq=tce({},ace),Sk=new ece(iq.cacheSize),sce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Ak="recharts_measurement_span";function oce(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",c=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(c,"|").concat(u)}var Tk=(t,e)=>{try{var n=document.getElementById(Ak);n||(n=document.createElement("span"),n.setAttribute("id",Ak),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,sce,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},fh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||e0.isSsr)return{width:0,height:0};if(!iq.enableCache)return Tk(e,n);var r=oce(e,n),i=Sk.get(r);if(i)return i;var s=Tk(e,n);return Sk.set(r,s),s},aq;function lce(t,e,n){return(e=cce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cce(t){var e=uce(t,"string");return typeof e=="symbol"?e:e+""}function uce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ck=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ok=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,fce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hce={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},mce=["cm","mm","pt","pc","in","Q","px"];function pce(t){return mce.includes(t)}var Fu="NaN";function gce(t,e){return t*hce[e]}class cr{static parse(e){var n,[,r,i]=(n=fce.exec(e))!==null&&n!==void 0?n:[];return r==null?cr.NaN:new cr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ya(e)&&(this.unit=""),n!==""&&!dce.test(n)&&(this.num=NaN,this.unit=""),pce(n)&&(this.num=gce(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new cr(NaN,""):new cr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new cr(NaN,""):new cr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new cr(NaN,""):new cr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new cr(NaN,""):new cr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ya(this.num)}}aq=cr;lce(cr,"NaN",new aq(NaN,""));function sq(t){if(t==null||t.includes(Fu))return Fu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=Ck.exec(e))!==null&&n!==void 0?n:[],c=cr.parse(r??""),u=cr.parse(s??""),f=i==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Fu;e=e.replace(Ck,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,y]=(h=Ok.exec(e))!==null&&h!==void 0?h:[],_=cr.parse(p??""),E=cr.parse(y??""),j=g==="+"?_.add(E):_.subtract(E);if(j.isNaN())return Fu;e=e.replace(Ok,j.toString())}return e}var Pk=/\(([^()]*)\)/;function vce(t){for(var e=t,n;(n=Pk.exec(e))!=null;){var[,r]=n;e=e.replace(Pk,sq(r))}return e}function yce(t){var e=t.replace(/\s+/g,"");return e=vce(e),e=sq(e),e}function bce(t){try{return yce(t)}catch{return Fu}}function h1(t){var e=bce(t.slice(5,-1));return e===Fu?"":e}var _ce=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],xce=["dx","dy","angle","className","breakAll"];function ej(){return ej=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ej.apply(null,arguments)}function Ik(t,e){if(t==null)return{};var n,r,i=wce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var oq=/[ \f\n\r\t\v\u2028\u2029]+/,lq=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];rn(e)||(n?i=e.toString().split(""):i=e.toString().split(oq));var s=i.map(u=>({word:u,width:fh(u,r).width})),c=n?0:fh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function jce(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var cq=(t,e,n,r)=>t.reduce((i,s)=>{var{word:c,width:u}=s,f=i[i.length-1];if(f&&u!=null&&(e==null||r||f.width+u+n<Number(e)))f.words.push(c),f.width+=u+n;else{var h={words:[c],width:u};i.push(h)}return i},[]),uq=t=>t.reduce((e,n)=>e.width>n.width?e:n),Ece="",Rk=(t,e,n,r,i,s,c,u)=>{var f=t.slice(0,e),h=lq({breakAll:n,style:r,children:f+Ece});if(!h)return[!1,[]];var p=cq(h.wordsWithComputedWidth,s,c,u),g=p.length>i||uq(p).width>Number(s);return[g,p]},Nce=(t,e,n,r,i)=>{var{maxLines:s,children:c,style:u,breakAll:f}=t,h=Ie(s),p=String(c),g=cq(e,r,n,i);if(!h||i)return g;var y=g.length>s||uq(g).width>Number(r);if(!y)return g;for(var _=0,E=p.length-1,j=0,N;_<=E&&j<=p.length-1;){var A=Math.floor((_+E)/2),D=A-1,[I,O]=Rk(p,D,f,u,s,r,n,i),[V]=Rk(p,A,f,u,s,r,n,i);if(!I&&!V&&(_=A+1),I&&V&&(E=A-1),!I&&V){N=O;break}j++}return N||g},kk=t=>{var e=rn(t)?[]:t.toString().split(oq);return[{words:e,width:void 0}]},Sce=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:c}=t;if((e||n)&&!e0.isSsr){var u,f,h=lq({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;u=p,f=g}else return kk(r);return Nce({breakAll:s,children:r,maxLines:c,style:i},u,f,e,!!n)}return kk(r)},dq="#808080",Ace={angle:0,breakAll:!1,capHeight:"0.71em",fill:dq,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},FN=w.forwardRef((t,e)=>{var n=Ir(t,Ace),{x:r,y:i,lineHeight:s,capHeight:c,fill:u,scaleToFit:f,textAnchor:h,verticalAnchor:p}=n,g=Ik(n,_ce),y=w.useMemo(()=>Sce({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:_,dy:E,angle:j,className:N,breakAll:A}=g,D=Ik(g,xce);if(!Xa(r)||!Xa(i)||y.length===0)return null;var I=Number(r)+(Ie(_)?_:0),O=Number(i)+(Ie(E)?E:0);if(!mt(I)||!mt(O))return null;var V;switch(p){case"start":V=h1("calc(".concat(c,")"));break;case"middle":V=h1("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:V=h1("calc(".concat(y.length-1," * -").concat(s,")"));break}var B=[],k=y[0];if(f&&k!=null){var C=k.width,{width:R}=g;B.push("scale(".concat(Ie(R)&&Ie(C)?R/C:1,")"))}return j&&B.push("rotate(".concat(j,", ").concat(I,", ").concat(O,")")),B.length&&(D.transform=B.join(" ")),w.createElement("text",ej({},Or(D),{ref:e,x:I,y:O,className:Lt("recharts-text",N),textAnchor:h,fill:u.includes("url")?dq:u}),y.map((U,L)=>{var z=U.words.join(A?"":" ");return w.createElement("tspan",{x:I,dy:L===0?V:s,key:"".concat(z,"-").concat(L)},z)}))});FN.displayName="Text";function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach(function(r){Tce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tce(t,e,n){return(e=Cce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cce(t){var e=Oce(t,"string");return typeof e=="symbol"?e:e+""}function Oce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pce=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:s,y:c,height:u,upperWidth:f,lowerWidth:h}=BE(e),p=s,g=s+(f-h)/2,y=(p+g)/2,_=(f+h)/2,E=p+f/2,j=u>=0?1:-1,N=j*r,A=j>0?"end":"start",D=j>0?"start":"end",I=f>=0?1:-1,O=I*r,V=I>0?"end":"start",B=I>0?"start":"end",k=i;if(n==="top"){var C={x:p+f/2,y:c-N,horizontalAnchor:"middle",verticalAnchor:A};return k&&(C.height=Math.max(c-k.y,0),C.width=f),C}if(n==="bottom"){var R={x:g+h/2,y:c+u+N,horizontalAnchor:"middle",verticalAnchor:D};return k&&(R.height=Math.max(k.y+k.height-(c+u),0),R.width=h),R}if(n==="left"){var U={x:y-O,y:c+u/2,horizontalAnchor:V,verticalAnchor:"middle"};return k&&(U.width=Math.max(U.x-k.x,0),U.height=u),U}if(n==="right"){var L={x:y+_+O,y:c+u/2,horizontalAnchor:B,verticalAnchor:"middle"};return k&&(L.width=Math.max(k.x+k.width-L.x,0),L.height=u),L}var z=k?{width:_,height:u}:{};return n==="insideLeft"?Ma({x:y+O,y:c+u/2,horizontalAnchor:B,verticalAnchor:"middle"},z):n==="insideRight"?Ma({x:y+_-O,y:c+u/2,horizontalAnchor:V,verticalAnchor:"middle"},z):n==="insideTop"?Ma({x:p+f/2,y:c+N,horizontalAnchor:"middle",verticalAnchor:D},z):n==="insideBottom"?Ma({x:g+h/2,y:c+u-N,horizontalAnchor:"middle",verticalAnchor:A},z):n==="insideTopLeft"?Ma({x:p+O,y:c+N,horizontalAnchor:B,verticalAnchor:D},z):n==="insideTopRight"?Ma({x:p+f-O,y:c+N,horizontalAnchor:V,verticalAnchor:D},z):n==="insideBottomLeft"?Ma({x:g+O,y:c+u-N,horizontalAnchor:B,verticalAnchor:A},z):n==="insideBottomRight"?Ma({x:g+h-O,y:c+u-N,horizontalAnchor:V,verticalAnchor:A},z):n&&typeof n=="object"&&(Ie(n.x)||Sc(n.x))&&(Ie(n.y)||Sc(n.y))?Ma({x:s+fa(n.x,_),y:c+fa(n.y,u),horizontalAnchor:"end",verticalAnchor:"end"},z):Ma({x:E,y:c+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},z)},Ice=["labelRef"],Rce=["content"];function Mk(t,e){if(t==null)return{};var n,r,i=kce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(r){Dce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dce(t,e,n){return(e=Mce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mce(t){var e=zce(t,"string");return typeof e=="symbol"?e:e+""}function zce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Es(){return Es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Es.apply(null,arguments)}var fq=w.createContext(null),Lce=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:c,children:u}=t,f=w.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:c}),[e,n,r,i,s,c]);return w.createElement(fq.Provider,{value:f},u)},hq=()=>{var t=w.useContext(fq),e=Yy();return t||(e?BE(e):void 0)},qce=w.createContext(null),Uce=()=>{var t=w.useContext(qce),e=ze($6);return t||e},Vce=t=>{var{value:e,formatter:n}=t,r=rn(t.children)?e:t.children;return typeof n=="function"?n(r):r},HN=t=>t!=null&&typeof t=="function",Bce=(t,e)=>{var n=Kr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},$ce=(t,e,n,r,i)=>{var{offset:s,className:c}=t,{cx:u,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:y,clockWise:_}=i,E=(h+p)/2,j=Bce(g,y),N=j>=0?1:-1,A,D;switch(e){case"insideStart":A=g+N*s,D=_;break;case"insideEnd":A=y-N*s,D=!_;break;case"end":A=y+N*s,D=_;break;default:throw new Error("Unsupported position ".concat(e))}D=j<=0?D:!D;var I=fr(u,f,E,A),O=fr(u,f,E,A+(D?1:-1)*359),V="M".concat(I.x,",").concat(I.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(D?0:1,`,
    `).concat(O.x,",").concat(O.y),B=rn(t.id)?Ah("recharts-radial-line-"):t.id;return w.createElement("text",Es({},r,{dominantBaseline:"central",className:Lt("recharts-radial-bar-label",c)}),w.createElement("defs",null,w.createElement("path",{id:B,d:V})),w.createElement("textPath",{xlinkHref:"#".concat(B)},n))},Fce=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:c,startAngle:u,endAngle:f}=t,h=(u+f)/2;if(n==="outside"){var{x:p,y:g}=fr(r,i,c+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(s+c)/2,{x:_,y:E}=fr(r,i,y,h);return{x:_,y:E,textAnchor:"middle",verticalAnchor:"middle"}},Lg=t=>t!=null&&"cx"in t&&Ie(t.cx),Hce={angle:0,offset:5,zIndex:Xn.label,position:"middle",textBreakAll:!1};function Gce(t){if(!Lg(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Bo(t){var e=Ir(t,Hce),{viewBox:n,parentViewBox:r,position:i,value:s,children:c,content:u,className:f="",textBreakAll:h,labelRef:p}=e,g=Uce(),y=hq(),_=i==="center"?y:g??y,E,j,N;n==null?E=_:Lg(n)?E=n:E=BE(n);var A=Gce(E);if(!E||rn(s)&&rn(c)&&!w.isValidElement(u)&&typeof u!="function")return null;var D=rh(rh({},e),{},{viewBox:E});if(w.isValidElement(u)){var{labelRef:I}=D,O=Mk(D,Ice);return w.cloneElement(u,O)}if(typeof u=="function"){var{content:V}=D,B=Mk(D,Rce);if(j=w.createElement(u,B),w.isValidElement(j))return j}else j=Vce(e);var k=Or(e);if(Lg(E)){if(i==="insideStart"||i==="insideEnd"||i==="end")return $ce(e,i,j,k,E);N=Fce(E,e.offset,e.position)}else{if(!A)return null;var C=Pce({viewBox:A,position:i,offset:e.offset,parentViewBox:Lg(r)?void 0:r});N=rh(rh({x:C.x,y:C.y,textAnchor:C.horizontalAnchor,verticalAnchor:C.verticalAnchor},C.width!==void 0?{width:C.width}:{}),C.height!==void 0?{height:C.height}:{})}return w.createElement($i,{zIndex:e.zIndex},w.createElement(FN,Es({ref:p,className:Lt("recharts-label",f)},k,N,{textAnchor:jce(k.textAnchor)?k.textAnchor:N.textAnchor,breakAll:h}),j))}Bo.displayName="Label";var Kce=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?w.createElement(Bo,Es({key:"label-implicit"},r)):Xa(t)?w.createElement(Bo,Es({key:"label-implicit",value:t},r)):w.isValidElement(t)?t.type===Bo?w.cloneElement(t,rh({key:"label-implicit"},r)):w.createElement(Bo,Es({key:"label-implicit",content:t},r)):HN(t)?w.createElement(Bo,Es({key:"label-implicit",content:t},r)):t&&typeof t=="object"?w.createElement(Bo,Es({},t,{key:"label-implicit"},r)):null};function Qce(t){var{label:e,labelRef:n}=t,r=hq();return Kce(e,r,n)||null}var m1={},p1={},Lk;function Wce(){return Lk||(Lk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(p1)),p1}var g1={},qk;function Yce(){return qk||(qk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(g1)),g1}var Uk;function Xce(){return Uk||(Uk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wce(),n=Yce(),r=PE();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(m1)),m1}var v1,Vk;function Zce(){return Vk||(Vk=1,v1=Xce().last),v1}var Jce=Zce();const eue=es(Jce);var tue=["valueAccessor"],nue=["dataKey","clockWise","id","textBreakAll","zIndex"];function Gv(){return Gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gv.apply(null,arguments)}function Bk(t,e){if(t==null)return{};var n,r,i=rue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var iue=t=>Array.isArray(t.value)?eue(t.value):t.value,mq=w.createContext(void 0),pq=mq.Provider,gq=w.createContext(void 0);gq.Provider;function aue(){return w.useContext(mq)}function sue(){return w.useContext(gq)}function qg(t){var{valueAccessor:e=iue}=t,n=Bk(t,tue),{dataKey:r,clockWise:i,id:s,textBreakAll:c,zIndex:u}=n,f=Bk(n,nue),h=aue(),p=sue(),g=h||p;return!g||!g.length?null:w.createElement($i,{zIndex:u??Xn.label},w.createElement(Li,{className:"recharts-label-list"},g.map((y,_)=>{var E,j=rn(r)?e(y,_):kn(y.payload,r),N=rn(s)?{}:{id:"".concat(s,"-").concat(_)};return w.createElement(Bo,Gv({key:"label-".concat(_)},Or(y),f,N,{fill:(E=n.fill)!==null&&E!==void 0?E:y.fill,parentViewBox:y.parentViewBox,value:j,textBreakAll:c,viewBox:y.viewBox,index:_,zIndex:0}))})))}qg.displayName="LabelList";function vq(t){var{label:e}=t;return e?e===!0?w.createElement(qg,{key:"labelList-implicit"}):w.isValidElement(e)||HN(e)?w.createElement(qg,{key:"labelList-implicit",content:e}):typeof e=="object"?w.createElement(qg,Gv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function tj(){return tj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tj.apply(null,arguments)}var yq=t=>{var{cx:e,cy:n,r,className:i}=t,s=Lt("recharts-dot",i);return Ie(e)&&Ie(n)&&Ie(r)?w.createElement("circle",tj({},da(t),CE(t),{className:s,cx:e,cy:n,r})):null},oue={radiusAxis:{},angleAxis:{}},bq=Xr({name:"polarAxis",initialState:oue,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:fve,removeRadiusAxis:hve,addAngleAxis:mve,removeAngleAxis:pve}=bq.actions,lue=bq.reducer;function cue(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var y1={exports:{}},zt={};var $k;function uue(){if($k)return zt;$k=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function E(j){if(typeof j=="object"&&j!==null){var N=j.$$typeof;switch(N){case t:switch(j=j.type,j){case n:case i:case r:case f:case h:case y:return j;default:switch(j=j&&j.$$typeof,j){case c:case u:case g:case p:return j;case s:return j;default:return N}}case e:return N}}}return zt.ContextConsumer=s,zt.ContextProvider=c,zt.Element=t,zt.ForwardRef=u,zt.Fragment=n,zt.Lazy=g,zt.Memo=p,zt.Portal=e,zt.Profiler=i,zt.StrictMode=r,zt.Suspense=f,zt.SuspenseList=h,zt.isContextConsumer=function(j){return E(j)===s},zt.isContextProvider=function(j){return E(j)===c},zt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===t},zt.isForwardRef=function(j){return E(j)===u},zt.isFragment=function(j){return E(j)===n},zt.isLazy=function(j){return E(j)===g},zt.isMemo=function(j){return E(j)===p},zt.isPortal=function(j){return E(j)===e},zt.isProfiler=function(j){return E(j)===i},zt.isStrictMode=function(j){return E(j)===r},zt.isSuspense=function(j){return E(j)===f},zt.isSuspenseList=function(j){return E(j)===h},zt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===n||j===i||j===r||j===f||j===h||typeof j=="object"&&j!==null&&(j.$$typeof===g||j.$$typeof===p||j.$$typeof===c||j.$$typeof===s||j.$$typeof===u||j.$$typeof===_||j.getModuleId!==void 0)},zt.typeOf=E,zt}var Fk;function due(){return Fk||(Fk=1,y1.exports=uue()),y1.exports}var fue=due(),Hk=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",Gk=null,b1=null,_q=t=>{if(t===Gk&&Array.isArray(b1))return b1;var e=[];return w.Children.forEach(t,n=>{rn(n)||(fue.isFragment(n)?e=e.concat(_q(n.props.children)):e.push(n))}),b1=e,Gk=t,e};function hue(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>Hk(i)):r=[Hk(e)],_q(t).forEach(i=>{var s=cd(i,"type.displayName")||cd(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var xq=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,_1={},Kk;function mue(){return Kk||(Kk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(_1)),_1}var x1,Qk;function pue(){return Qk||(Qk=1,x1=mue().isPlainObject),x1}var gue=pue();const vue=es(gue);var Wk,Yk,Xk,Zk,Jk;function eD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(n),!0).forEach(function(r){yue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yue(t,e,n){return(e=bue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bue(t){var e=_ue(t,"string");return typeof e=="symbol"?e:e+""}function _ue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kv.apply(null,arguments)}function Kf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var nD=(t,e,n,r,i)=>{var s=n-r,c;return c=dn(Wk||(Wk=Kf(["M ",",",""])),t,e),c+=dn(Yk||(Yk=Kf(["L ",",",""])),t+n,e),c+=dn(Xk||(Xk=Kf(["L ",",",""])),t+n-s/2,e+i),c+=dn(Zk||(Zk=Kf(["L ",",",""])),t+n-s/2-r,e+i),c+=dn(Jk||(Jk=Kf(["L ",","," Z"])),t,e),c},xue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wue=t=>{var e=Ir(t,xue),{x:n,y:r,upperWidth:i,lowerWidth:s,height:c,className:u}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,y=w.useRef(null),[_,E]=w.useState(-1),j=w.useRef(i),N=w.useRef(s),A=w.useRef(c),D=w.useRef(n),I=w.useRef(r),O=n0(t,"trapezoid-");if(w.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var Q=y.current.getTotalLength();Q&&E(Q)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||c!==+c||i===0&&s===0||c===0)return null;var V=Lt("recharts-trapezoid",u);if(!g)return w.createElement("g",null,w.createElement("path",Kv({},Or(e),{className:V,d:nD(n,r,i,s,c)})));var B=j.current,k=N.current,C=A.current,R=D.current,U=I.current,L="0px ".concat(_===-1?1:_,"px"),z="".concat(_,"px 0px"),M=D3(["strokeDasharray"],h,f);return w.createElement(t0,{animationId:O,key:O,canBegin:_>0,duration:h,easing:f,isActive:g,begin:p},Q=>{var W=fn(B,i,Q),G=fn(k,s,Q),le=fn(C,c,Q),be=fn(R,n,Q),je=fn(U,r,Q);y.current&&(j.current=W,N.current=G,A.current=le,D.current=be,I.current=je);var X=Q>0?{transition:M,strokeDasharray:z}:{strokeDasharray:L};return w.createElement("path",Kv({},Or(e),{className:V,d:nD(be,je,W,G,le),ref:y,style:tD(tD({},X),e.style)}))})},jue=["option","shapeType","activeClassName"];function Eue(t,e){if(t==null)return{};var n,r,i=Nue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){Sue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sue(t,e,n){return(e=Aue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aue(t){var e=Tue(t,"string");return typeof e=="symbol"?e:e+""}function Tue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cue(t,e){return Qv(Qv({},e),t)}function Oue(t,e){return t==="symbols"}function iD(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return w.createElement(q3,n);case"trapezoid":return w.createElement(wue,n);case"sector":return w.createElement(B3,n);case"symbols":if(Oue(e))return w.createElement(NL,n);break;case"curve":return w.createElement(k3,n);default:return null}}function Pue(t){return w.isValidElement(t)?t.props:t}function wq(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=Eue(t,jue),s;if(w.isValidElement(e))s=w.cloneElement(e,Qv(Qv({},i),Pue(e)));else if(typeof e=="function")s=e(i,i.index);else if(vue(e)&&typeof e!="boolean"){var c=Cue(e,i);s=w.createElement(iD,{shapeType:n,elementProps:c})}else{var u=i;s=w.createElement(iD,{shapeType:n,elementProps:u})}return i.isActive?w.createElement(Li,{className:r},s):s}var jq=(t,e,n)=>{var r=wn();return(i,s)=>c=>{t?.(i,s,c),r(I5({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},Eq=t=>{var e=wn();return(n,r)=>i=>{t?.(n,r,i),e(Kse())}},Nq=(t,e,n)=>{var r=wn();return(i,s)=>c=>{t?.(i,s,c),r(Qse({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Sq(t){var{tooltipEntrySettings:e}=t,n=wn(),r=jr(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n($se(e)):i.current!==e&&n(Fse({prev:i.current,next:e})),i.current=e)},[e,n,r]),w.useLayoutEffect(()=>()=>{i.current&&(n(Hse(i.current)),i.current=null)},[n]),null}function Aq(t){var{legendPayload:e}=t,n=wn(),r=jr(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(jte(e)):i.current!==e&&n(Ete({prev:i.current,next:e})),i.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{i.current&&(n(Nte(i.current)),i.current=null)},[n]),null}var w1,Iue=()=>{var[t]=w.useState(()=>Ah("uid-"));return t},Rue=(w1=LD.useId)!==null&&w1!==void 0?w1:Iue;function kue(t,e){var n=Rue();return e||(t?"".concat(t,"-").concat(n):n)}var Due=w.createContext(void 0),Tq=t=>{var{id:e,type:n,children:r}=t,i=kue("recharts-".concat(n),e);return w.createElement(Due.Provider,{value:i},r(i))},Mue={cartesianItems:[],polarItems:[]},Cq=Xr({name:"graphicalItems",initialState:Mue,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Zt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=la(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Zt()},removeCartesianGraphicalItem:{reducer(t,e){var n=la(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Zt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Zt()},removePolarGraphicalItem:{reducer(t,e){var n=la(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Zt()}}}),{addCartesianGraphicalItem:zue,replaceCartesianGraphicalItem:Lue,removeCartesianGraphicalItem:que,addPolarGraphicalItem:gve,removePolarGraphicalItem:vve}=Cq.actions,Uue=Cq.reducer,Vue=t=>{var e=wn(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(zue(t)):n.current!==t&&e(Lue({prev:n.current,next:t})),n.current=t},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(e(que(n.current)),n.current=null)},[e]),null},Oq=w.memo(Vue),Bue=["points"];function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){$ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ue(t,e,n){return(e=Fue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fue(t){var e=Hue(t,"string");return typeof e=="symbol"?e:e+""}function Hue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wv(){return Wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wv.apply(null,arguments)}function Gue(t,e){if(t==null)return{};var n,r,i=Kue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Que(t){var{option:e,dotProps:n,className:r}=t;if(w.isValidElement(e))return w.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Lt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:c}=s,u=Gue(s,Bue);return w.createElement(yq,Wv({},u,{className:i}))}function Wue(t,e){return t==null?!1:e?!0:t.length===1}function Yue(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:c,needClip:u,clipPathId:f,zIndex:h=Xn.scatter}=t;if(!Wue(e,n))return null;var p=xq(n),g=mX(n),y=e.map((E,j)=>{var N,A,D=j1(j1(j1({r:3},c),g),{},{index:j,cx:(N=E.x)!==null&&N!==void 0?N:void 0,cy:(A=E.y)!==null&&A!==void 0?A:void 0,dataKey:s,value:E.value,payload:E.payload,points:e});return w.createElement(Que,{key:"dot-".concat(j),option:n,dotProps:D,className:i})}),_={};return u&&f!=null&&(_.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),w.createElement($i,{zIndex:h},w.createElement(Li,Wv({className:r},_),y))}function sD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sD(Object(n),!0).forEach(function(r){Xue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xue(t,e,n){return(e=Zue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zue(t){var e=Jue(t,"string");return typeof e=="symbol"?e:e+""}function Jue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pq=0,ede={xAxis:{},yAxis:{},zAxis:{}},Iq=Xr({name:"cartesianAxis",initialState:ede,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Zt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Zt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Zt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Zt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Zt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Zt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Zt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Zt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Zt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s,c=i.widthHistory||[];if(c.length===3&&c[0]===c[2]&&r===c[1]&&r!==i.width&&Math.abs(r-((s=c[0])!==null&&s!==void 0?s:0))<=1)return;var u=[...c,r].slice(-3);t.yAxis[n]=oD(oD({},i),{},{width:r,widthHistory:u})}}}}),{addXAxis:tde,replaceXAxis:nde,removeXAxis:rde,addYAxis:ide,replaceYAxis:ade,removeYAxis:sde,addZAxis:yve,replaceZAxis:bve,removeZAxis:_ve,updateYAxisWidth:ode}=Iq.actions,lde=Iq.reducer,cde=ce([Jn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),ude=ce([cde,Ws,Ys],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),GN=()=>ze(ude),dde=()=>ze(zoe);function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){fde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fde(t,e,n){return(e=hde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hde(t){var e=mde(t,"string");return typeof e=="symbol"?e:e+""}function mde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pde=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:c}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=E1(E1(E1({},u),am(i)),CE(i)),h;return w.isValidElement(i)?h=w.cloneElement(i,f):typeof i=="function"?h=i(f):h=w.createElement(yq,f),w.createElement(Li,{className:"recharts-active-dot",clipPath:c},h)};function gde(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:c=Xn.activeDot}=t,u=ze(Pc),f=dde();if(e==null||f==null)return null;var h=e.find(p=>f.includes(p.payload));return rn(h)?null:w.createElement($i,{zIndex:c},w.createElement(pde,{point:h,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var cD=(t,e,n)=>{var r=n??t;if(!rn(r))return fa(r,e,0)},vde=(t,e,n)=>{var r={},i=t.filter(m0),s=t.filter(h=>h.stackId==null),c=i.reduce((h,p)=>{var g=h[p.stackId];return g==null&&(g=[]),g.push(p),h[p.stackId]=g,h},r),u=Object.entries(c).map(h=>{var p,[g,y]=h,_=y.map(j=>j.dataKey),E=cD(e,n,(p=y[0])===null||p===void 0?void 0:p.barSize);return{stackId:g,dataKeys:_,barSize:E}}),f=s.map(h=>{var p=[h.dataKey].filter(y=>y!=null),g=cD(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...u,...f]};function uD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uD(Object(n),!0).forEach(function(r){yde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yde(t,e,n){return(e=bde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bde(t){var e=_de(t,"string");return typeof e=="symbol"?e:e+""}function _de(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xde(t,e,n,r,i){var s,c=r.length;if(!(c<1)){var u=fa(t,n,0,!0),f,h=[];if(mt((s=r[0])===null||s===void 0?void 0:s.barSize)){var p=!1,g=n/c,y=r.reduce((D,I)=>D+(I.barSize||0),0);y+=(c-1)*u,y>=n&&(y-=(c-1)*u,u=0),y>=n&&g>0&&(p=!0,g*=.9,y=c*g);var _=(n-y)/2>>0,E={offset:_-u,size:0};f=r.reduce((D,I)=>{var O,V={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:E.offset+E.size+u,size:p?g:(O=I.barSize)!==null&&O!==void 0?O:0}},B=[...D,V];return E=V.position,B},h)}else{var j=fa(e,n,0,!0);n-2*j-(c-1)*u<=0&&(u=0);var N=(n-2*j-(c-1)*u)/c;N>1&&(N>>=0);var A=mt(i)?Math.min(N,i):N;f=r.reduce((D,I,O)=>[...D,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:j+(N+u)*O+(N-A)/2,size:A}}],h)}return f}}var wde=(t,e,n,r,i,s,c)=>{var u=rn(c)?e:c,f=xde(n,r,i!==s?i:s,t,u);return i!==s&&f!=null&&(f=f.map(h=>bg(bg({},h),{},{position:bg(bg({},h.position),{},{offset:h.position.offset-i/2})}))),f},jde=(t,e)=>{var n=jN(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(c=>c.key===n)}}}},Ede=(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}};function Nde(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&mt(t.zIndex)?t.zIndex:e}var Sde=t=>{var{chartData:e}=t,n=wn(),r=jr();return w.useEffect(()=>r?()=>{}:(n(bk(e)),()=>{n(bk(void 0))}),[e,n,r]),null},dD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Rq=Xr({name:"brush",initialState:dD,reducers:{setBrushSettings(t,e){return e.payload==null?dD:e.payload}}}),{setBrushSettings:xve}=Rq.actions,Ade=Rq.reducer;function Tde(t){return(t%180+180)%180}var Cde=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Tde(i),c=s*Math.PI/180,u=Math.atan(r/n),f=c>u&&c<Math.PI-u?r/Math.sin(c):n/Math.cos(c);return Math.abs(f)},Ode={dots:[],areas:[],lines:[]},kq=Xr({name:"referenceElements",initialState:Ode,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=la(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=la(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=la(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:wve,removeDot:jve,addArea:Eve,removeArea:Nve,addLine:Sve,removeLine:Ave}=kq.actions,Pde=kq.reducer,Ide=w.createContext(void 0),Rde=t=>{var{children:e}=t,[n]=w.useState("".concat(Ah("recharts"),"-clip")),r=GN();if(r==null)return null;var{x:i,y:s,width:c,height:u}=r;return w.createElement(Ide.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:s,height:u,width:c}))),e)};function Dq(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function kde(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Cde(r,n)}function Dde(t,e,n){var r=n==="width",{x:i,y:s,width:c,height:u}=t;return e===1?{start:r?i:s,end:r?i+c:s+u}:{start:r?i+c:s+u,end:r?i:s}}function Vh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Mde(t,e){return Dq(t,e+1)}function zde(t,e,n,r,i){for(var s=(r||[]).slice(),{start:c,end:u}=e,f=0,h=1,p=c,g=function(){var E=r?.[f];if(E===void 0)return{v:Dq(r,h)};var j=f,N,A=()=>(N===void 0&&(N=n(E,j)),N),D=E.coordinate,I=f===0||Vh(t,D,A,p,u);I||(f=0,p=c,h+=1),I&&(p=D+t*(A()/2+i),f+=h)},y;h<=s.length;)if(y=g(),y)return y.v;return[]}function Lde(t,e,n,r,i){var s=(r||[]).slice(),c=s.length;if(c===0)return[];for(var{start:u,end:f}=e,h=1;h<=c;h++){for(var p=(c-1)%h,g=u,y=!0,_=function(){var O=r[j];if(O==null)return 0;var V=j,B,k=()=>(B===void 0&&(B=n(O,V)),B),C=O.coordinate,R=j===p||Vh(t,C,k,g,f);if(!R)return y=!1,1;R&&(g=C+t*(k()/2+i))},E,j=p;j<c&&(E=_(),!(E!==0&&E===1));j+=h);if(y){for(var N=[],A=p;A<c;A+=h){var D=r[A];D!=null&&N.push(D)}return N}}return[]}function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){qde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qde(t,e,n){return(e=Ude(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ude(t){var e=Vde(t,"string");return typeof e=="symbol"?e:e+""}function Vde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bde(t,e,n,r,i){for(var s=(r||[]).slice(),c=s.length,{start:u}=e,{end:f}=e,h=function(y){var _=s[y];if(_==null)return 1;var E=_,j,N=()=>(j===void 0&&(j=n(_,y)),j);if(y===c-1){var A=t*(E.coordinate+t*N()/2-f);s[y]=E=yr(yr({},E),{},{tickCoord:A>0?E.coordinate-A*t:E.coordinate})}else s[y]=E=yr(yr({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var D=Vh(t,E.tickCoord,N,u,f);D&&(f=E.tickCoord-t*(N()/2+i),s[y]=yr(yr({},E),{},{isShow:!0}))}},p=c-1;p>=0;p--)h(p);return s}function $de(t,e,n,r,i,s){var c=(r||[]).slice(),u=c.length,{start:f,end:h}=e;if(s){var p=r[u-1];if(p!=null){var g=n(p,u-1),y=t*(p.coordinate+t*g/2-h);if(c[u-1]=p=yr(yr({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate}),p.tickCoord!=null){var _=Vh(t,p.tickCoord,()=>g,f,h);_&&(h=p.tickCoord-t*(g/2+i),c[u-1]=yr(yr({},p),{},{isShow:!0}))}}}for(var E=s?u-1:u,j=function(D){var I=c[D];if(I==null)return 1;var O=I,V,B=()=>(V===void 0&&(V=n(I,D)),V);if(D===0){var k=t*(O.coordinate-t*B()/2-f);c[D]=O=yr(yr({},O),{},{tickCoord:k<0?O.coordinate-k*t:O.coordinate})}else c[D]=O=yr(yr({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var C=Vh(t,O.tickCoord,B,f,h);C&&(f=O.tickCoord+t*(B()/2+i),c[D]=yr(yr({},O),{},{isShow:!0}))}},N=0;N<E;N++)j(N);return c}function KN(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:c,orientation:u,interval:f,tickFormatter:h,unit:p,angle:g}=t;if(!i||!i.length||!r)return[];if(Ie(f)||e0.isSsr){var y;return(y=Mde(i,Ie(f)?f:0))!==null&&y!==void 0?y:[]}var _=[],E=u==="top"||u==="bottom"?"width":"height",j=p&&E==="width"?fh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},N=(V,B)=>{var k=typeof h=="function"?h(V.value,B):V.value;return E==="width"?kde(fh(k,{fontSize:e,letterSpacing:n}),j,g):fh(k,{fontSize:e,letterSpacing:n})[E]},A=i[0],D=i[1],I=i.length>=2&&A!=null&&D!=null?Kr(D.coordinate-A.coordinate):1,O=Dde(s,I,E);return f==="equidistantPreserveStart"?zde(I,O,N,i,c):f==="equidistantPreserveEnd"?Lde(I,O,N,i,c):(f==="preserveStart"||f==="preserveStartEnd"?_=$de(I,O,N,i,c,f==="preserveStartEnd"):_=Bde(I,O,N,i,c),_.filter(V=>V.isShow))}var Fde=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,c=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>c&&(c=g.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+s,h=c+f+u+(n?r:0);return Math.round(h)}return 0},Hde=["axisLine","width","height","className","hide","ticks","axisType"];function Gde(t,e){if(t==null)return{};var n,r,i=Kde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ic(){return Ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ic.apply(null,arguments)}function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){Qde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qde(t,e,n){return(e=Wde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wde(t){var e=Yde(t,"string");return typeof e=="symbol"?e:e+""}function Yde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Xn.axis};function Xde(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:c,axisLine:u,otherSvgProps:f}=t;if(!u)return null;var h=un(un(un({},f),da(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!c||s==="bottom"&&c);h=un(un({},h),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var g=+(s==="left"&&!c||s==="right"&&c);h=un(un({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return w.createElement("line",Ic({},h,{className:Lt("recharts-cartesian-axis-line",cd(u,"className"))}))}function Zde(t,e,n,r,i,s,c,u,f){var h,p,g,y,_,E,j=u?-1:1,N=t.tickSize||c,A=Ie(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,y=n+ +!u*i,g=y-j*N,E=g-j*f,_=A;break;case"left":g=y=t.coordinate,p=e+ +!u*r,h=p-j*N,_=h-j*f,E=A;break;case"right":g=y=t.coordinate,p=e+ +u*r,h=p+j*N,_=h+j*f,E=A;break;default:h=p=t.coordinate,y=n+ +u*i,g=y+j*N,E=g+j*f,_=A;break}return{line:{x1:h,y1:g,x2:p,y2:y},tick:{x:_,y:E}}}function Jde(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function efe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function tfe(t){var{option:e,tickProps:n,value:r}=t,i,s=Lt(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(e))i=w.cloneElement(e,un(un({},n),{},{className:s}));else if(typeof e=="function")i=e(un(un({},n),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(c=Lt(c,cue(e))),i=w.createElement(FN,Ic({},n,{className:c}),r)}return i}var nfe=w.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:c,unit:u,padding:f,tickTextProps:h,orientation:p,mirror:g,x:y,y:_,width:E,height:j,tickSize:N,tickMargin:A,fontSize:D,letterSpacing:I,getTicksConfig:O,events:V,axisType:B}=t,k=KN(un(un({},O),{},{ticks:n}),D,I),C=Jde(p,g),R=efe(p,g),U=da(O),L=am(r),z={};typeof i=="object"&&(z=i);var M=un(un({},U),{},{fill:"none"},z),Q=k.map(le=>un({entry:le},Zde(le,y,_,E,j,p,N,g,A))),W=Q.map(le=>{var{entry:be,line:je}=le;return w.createElement(Li,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(be.value,"-").concat(be.coordinate,"-").concat(be.tickCoord)},i&&w.createElement("line",Ic({},M,je,{className:Lt("recharts-cartesian-axis-tick-line",cd(i,"className"))})))}),G=Q.map((le,be)=>{var je,X,{entry:F,tick:ne}=le,pe=un(un(un(un({verticalAnchor:R},U),{},{textAnchor:C,stroke:"none",fill:s},ne),{},{index:be,payload:F,visibleTicksCount:k.length,tickFormatter:c,padding:f},h),{},{angle:(je=(X=h?.angle)!==null&&X!==void 0?X:U.angle)!==null&&je!==void 0?je:0}),we=un(un({},pe),L);return w.createElement(Li,Ic({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},OE(V,F,be)),r&&w.createElement(tfe,{option:r,tickProps:we,value:"".concat(typeof c=="function"?c(F.value,be):F.value).concat(u||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(B,"-ticks")},G.length>0&&w.createElement($i,{zIndex:Xn.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(B,"-tick-labels"),ref:e},G)),W.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(B,"-tick-lines")},W))}),rfe=w.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:c,ticks:u,axisType:f}=t,h=Gde(t,Hde),[p,g]=w.useState(""),[y,_]=w.useState(""),E=w.useRef(null);w.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var N;return Fde({ticks:E.current,label:(N=t.labelRef)===null||N===void 0?void 0:N.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var j=w.useCallback(N=>{if(N){var A=N.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=A;var D=A[0];if(D){var I=window.getComputedStyle(D),O=I.fontSize,V=I.letterSpacing;(O!==p||V!==y)&&(g(O),_(V))}}},[p,y]);return c||r!=null&&r<=0||i!=null&&i<=0?null:w.createElement($i,{zIndex:t.zIndex},w.createElement(Li,{className:Lt("recharts-cartesian-axis",s)},w.createElement(Xde,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:da(t)}),w.createElement(nfe,{ref:j,axisType:f,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),w.createElement(Lce,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},w.createElement(Qce,{label:t.label,labelRef:t.labelRef}),t.children)))}),QN=w.forwardRef((t,e)=>{var n=Ir(t,Rs);return w.createElement(rfe,Ic({},n,{ref:e}))});QN.displayName="CartesianAxis";var ife=["x1","y1","x2","y2","key"],afe=["offset"],sfe=["xAxisId","yAxisId"],ofe=["xAxisId","yAxisId"];function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){lfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lfe(t,e,n){return(e=cfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cfe(t){var e=ufe(t,"string");return typeof e=="symbol"?e:e+""}function ufe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cc.apply(null,arguments)}function Yv(t,e){if(t==null)return{};var n,r,i=dfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ffe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:c,ry:u}=t;return w.createElement("rect",{x:r,y:i,ry:u,width:s,height:c,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Mq(t){var{option:e,lineItemProps:n}=t,r;if(w.isValidElement(e))r=w.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:c,x2:u,y2:f,key:h}=n,p=Yv(n,ife),g=(i=da(p))!==null&&i!==void 0?i:{},{offset:y}=g,_=Yv(g,afe);r=w.createElement("line",cc({},_,{x1:s,y1:c,x2:u,y2:f,fill:"none",key:h}))}return r}function hfe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=t,u=Yv(t,sfe),f=i.map((h,p)=>{var g=xr(xr({},u),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return w.createElement(Mq,{key:"line-".concat(p),option:r,lineItemProps:g})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function mfe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=t,u=Yv(t,ofe),f=i.map((h,p)=>{var g=xr(xr({},u),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return w.createElement(Mq,{option:r,lineItemProps:g,key:"line-".concat(p)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function pfe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:c,horizontalPoints:u,horizontal:f=!0}=t;if(!f||!e||!e.length||u==null)return null;var h=u.map(g=>Math.round(g+i-i)).sort((g,y)=>g-y);i!==h[0]&&h.unshift(0);var p=h.map((g,y)=>{var _=h[y+1],E=_==null,j=E?i+c-g:_-g;if(j<=0)return null;var N=y%e.length;return w.createElement("rect",{key:"react-".concat(y),y:g,x:r,height:j,width:s,stroke:"none",fill:e[N],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function gfe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:c,height:u,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(g=>Math.round(g+i-i)).sort((g,y)=>g-y);i!==h[0]&&h.unshift(0);var p=h.map((g,y)=>{var _=h[y+1],E=_==null,j=E?i+c-g:_-g;if(j<=0)return null;var N=y%n.length;return w.createElement("rect",{key:"react-".concat(y),x:g,y:s,width:j,height:u,stroke:"none",fill:n[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var vfe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return p3(KN(xr(xr(xr({},Rs),n),{},{ticks:g3(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},yfe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return p3(KN(xr(xr(xr({},Rs),n),{},{ticks:g3(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},bfe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Xn.grid};function nj(t){var e=w3(),n=j3(),r=x3(),i=xr(xr({},Ir(t,bfe)),{},{x:Ie(t.x)?t.x:r.left,y:Ie(t.y)?t.y:r.top,width:Ie(t.width)?t.width:r.width,height:Ie(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:c,x:u,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:y,verticalValues:_}=i,E=jr(),j=ze(R=>ok(R,"xAxis",s,E)),N=ze(R=>ok(R,"yAxis",c,E));if(!Za(h)||!Za(p)||!Ie(u)||!Ie(f))return null;var A=i.verticalCoordinatesGenerator||vfe,D=i.horizontalCoordinatesGenerator||yfe,{horizontalPoints:I,verticalPoints:O}=i;if((!I||!I.length)&&typeof D=="function"){var V=y&&y.length,B=D({yAxis:N?xr(xr({},N),{},{ticks:V?y:N.ticks}):void 0,width:e??h,height:n??p,offset:r},V?!0:g);wv(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(I=B)}if((!O||!O.length)&&typeof A=="function"){var k=_&&_.length,C=A({xAxis:j?xr(xr({},j),{},{ticks:k?_:j.ticks}):void 0,width:e??h,height:n??p,offset:r},k?!0:g);wv(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(O=C)}return w.createElement($i,{zIndex:i.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(ffe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(pfe,cc({},i,{horizontalPoints:I})),w.createElement(gfe,cc({},i,{verticalPoints:O})),w.createElement(hfe,cc({},i,{offset:r,horizontalPoints:I,xAxis:j,yAxis:N})),w.createElement(mfe,cc({},i,{offset:r,verticalPoints:O,xAxis:j,yAxis:N}))))}nj.displayName="CartesianGrid";var _fe={},zq=Xr({name:"errorBars",initialState:_fe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Tve,replaceErrorBar:Cve,removeErrorBar:Ove}=zq.actions,xfe=zq.reducer,wfe=["children"];function jfe(t,e){if(t==null)return{};var n,r,i=Efe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Efe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Nfe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Sfe=w.createContext(Nfe);function Lq(t){var{children:e}=t,n=jfe(t,wfe);return w.createElement(Sfe.Provider,{value:n},e)}function WN(t,e){var n,r,i=ze(h=>Js(h,t)),s=ze(h=>eo(h,e)),c=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Kn.allowDataOverflow,u=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Qn.allowDataOverflow,f=c||u;return{needClip:f,needClipX:c,needClipY:u}}function qq(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=GN(),{needClipX:s,needClipY:c,needClip:u}=WN(e,n);if(!u||!i)return null;var{x:f,y:h,width:p,height:g}=i;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:s?f:f-p/2,y:c?h:h-g/2,width:s?p:p*2,height:c?g:g*2}))}var Uq=(t,e,n,r)=>ml(t,"xAxis",e,r),Vq=(t,e,n,r)=>hl(t,"xAxis",e,r),Bq=(t,e,n,r)=>ml(t,"yAxis",n,r),$q=(t,e,n,r)=>hl(t,"yAxis",n,r),Afe=ce([Ot,Uq,Bq,Vq,$q],(t,e,n,r,i)=>Qs(t,"xAxis")?dd(e,r,!1):dd(n,i,!1)),Tfe=(t,e,n,r,i)=>i;function Cfe(t){return t.type==="line"}var Ofe=ce([v0,Tfe],(t,e)=>t.filter(Cfe).find(n=>n.id===e)),Pfe=ce([Ot,Uq,Bq,Vq,$q,Ofe,Afe,mN],(t,e,n,r,i,s,c,u)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=u;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||c==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:g,data:y}=s,_;if(y!=null&&y.length>0?_=y:_=f?.slice(h,p+1),_!=null)return yhe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:c,displayedData:_})}});function Ife(t){var e=am(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,c=Number(i),u=Number(s);return(Number.isNaN(c)||c<0)&&(c=n),(Number.isNaN(u)||u<0)&&(u=r),{r:c,strokeWidth:u}}return{r:n,strokeWidth:r}}var N1={exports:{}},S1={};var pD;function Rfe(){if(pD)return S1;pD=1;var t=gd();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,c=t.useMemo,u=t.useDebugValue;return S1.useSyncExternalStoreWithSelector=function(f,h,p,g,y){var _=i(null);if(_.current===null){var E={hasValue:!1,value:null};_.current=E}else E=_.current;_=c(function(){function N(V){if(!A){if(A=!0,D=V,V=g(V),y!==void 0&&E.hasValue){var B=E.value;if(y(B,V))return I=B}return I=V}if(B=I,n(D,V))return B;var k=g(V);return y!==void 0&&y(B,k)?(D=V,B):(D=V,I=k)}var A=!1,D,I,O=p===void 0?null:p;return[function(){return N(h())},O===null?void 0:function(){return N(O())}]},[h,p,g,y]);var j=r(f,_[0],_[1]);return s(function(){E.hasValue=!0,E.value=j},[j]),u(j),j},S1}var gD;function kfe(){return gD||(gD=1,N1.exports=Rfe()),N1.exports}kfe();function Dfe(t){t()}function Mfe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Dfe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var vD={notify(){},get:()=>[]};function zfe(t,e){let n,r=vD,i=0,s=!1;function c(j){p();const N=r.subscribe(j);let A=!1;return()=>{A||(A=!0,N(),g())}}function u(){r.notify()}function f(){E.onStateChange&&E.onStateChange()}function h(){return s}function p(){i++,n||(n=t.subscribe(f),r=Mfe())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=vD)}function y(){s||(s=!0,p())}function _(){s&&(s=!1,g())}const E={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:_,getListeners:()=>r};return E}var Lfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qfe=Lfe(),Ufe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Vfe=Ufe(),Bfe=()=>qfe||Vfe?w.useLayoutEffect:w.useEffect,$fe=Bfe();function yD(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Ffe(t,e){if(yD(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!yD(t[n[i]],e[n[i]]))return!1;return!0}var Hfe=Symbol.for("react-redux-context"),Gfe=typeof globalThis<"u"?globalThis:{};function Kfe(){if(!w.createContext)return{};const t=Gfe[Hfe]??=new Map;let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var Qfe=Kfe();function Wfe(t){const{children:e,context:n,serverState:r,store:i}=t,s=w.useMemo(()=>{const f=zfe(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),c=w.useMemo(()=>i.getState(),[i]);$fe(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,c]);const u=n||Qfe;return w.createElement(u.Provider,{value:s},e)}var Yfe=Wfe,Xfe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Zfe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function w0(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Xfe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Ffe(t[r],e[r]))return!1}else if(!Zfe(t[r],e[r]))return!1;return!0}var Jfe=["id"],ehe=["type","layout","connectNulls","needClip","shape"],the=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bh.apply(null,arguments)}function bD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function La(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bD(Object(n),!0).forEach(function(r){nhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nhe(t,e,n){return(e=rhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rhe(t){var e=ihe(t,"string");return typeof e=="symbol"?e:e+""}function ihe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YN(t,e){if(t==null)return{};var n,r,i=ahe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ahe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var she=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Hy(n,e),payload:t}]},ohe=w.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:c,hide:u,unit:f,tooltipType:h,id:p}=t,g={dataDefinedOnItem:n,getPosition:Lc,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Hy(c,e),hide:u,type:h,color:r,unit:f,graphicalItemId:p}};return w.createElement(Sq,{tooltipEntrySettings:g})}),Fq=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function lhe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var che=(t,e,n)=>{var r=n.reduce((_,E)=>_+E);if(!r)return Fq(e,t);for(var i=Math.floor(t/r),s=t%r,c=e-t,u=[],f=0,h=0;f<n.length;h+=(p=n[f])!==null&&p!==void 0?p:0,++f){var p,g=n[f];if(g!=null&&h+g>s){u=[...n.slice(0,f),s-h];break}}var y=u.length%2===0?[0,c]:[c];return[...lhe(n,i),...u,...y].map(_=>"".concat(_,"px")).join(", ")};function uhe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:c}=r,{id:u}=r,f=YN(r,Jfe),h=da(f);return w.createElement(Yue,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:c,clipPathId:e})}function dhe(t){var{showLabels:e,children:n,points:r}=t,i=w.useMemo(()=>r?.map(s=>{var c,u,f={x:(c=s.x)!==null&&c!==void 0?c:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return La(La({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[r]);return w.createElement(pq,{value:e?i:void 0},n)}function _D(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:c,layout:u,connectNulls:f,needClip:h,shape:p}=s,g=YN(s,ehe),y=La(La({},Or(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:c,layout:u,connectNulls:f,strokeDasharray:i??s.strokeDasharray});return w.createElement(w.Fragment,null,r?.length>1&&w.createElement(wq,Bh({shapeType:"curve",option:p},y,{pathRef:n})),w.createElement(uhe,{points:r,clipPathId:e,props:s}))}function fhe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function hhe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:c,strokeDasharray:u,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:y,width:_,height:E,onAnimationEnd:j,onAnimationStart:N}=n,A=i.current,D=n0(c,"recharts-line-"),I=w.useRef(D),[O,V]=w.useState(!1),B=!O,k=w.useCallback(()=>{typeof j=="function"&&j(),V(!1)},[j]),C=w.useCallback(()=>{typeof N=="function"&&N(),V(!0)},[N]),R=fhe(r.current),U=w.useRef(0);I.current!==D&&(U.current=s.current,I.current=D);var L=U.current;return w.createElement(dhe,{points:c,showLabels:B},n.children,w.createElement(t0,{animationId:D,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:k,onAnimationStart:C,key:D},z=>{var M=fn(L,R+L,z),Q=Math.min(M,R),W;if(f)if(u){var G="".concat(u).split(/[,\s]+/gim).map(je=>parseFloat(je));W=che(Q,R,G)}else W=Fq(R,Q);else W=u==null?void 0:String(u);if(z>0&&R>0&&(i.current=c,s.current=Math.max(s.current,Q)),A){var le=A.length/c.length,be=z===1?c:c.map((je,X)=>{var F=Math.floor(X*le);if(A[F]){var ne=A[F];return La(La({},je),{},{x:fn(ne.x,je.x,z),y:fn(ne.y,je.y,z)})}return y?La(La({},je),{},{x:fn(_*2,je.x,z),y:fn(E/2,je.y,z)}):La(La({},je),{},{x:je.x,y:je.y})});return i.current=be,w.createElement(_D,{props:n,points:be,clipPathId:e,pathRef:r,strokeDasharray:W})}return w.createElement(_D,{props:n,points:c,clipPathId:e,pathRef:r,strokeDasharray:W})}),w.createElement(vq,{label:n.label}))}function mhe(t){var{clipPathId:e,props:n}=t,r=w.useRef(null),i=w.useRef(0),s=w.useRef(null);return w.createElement(hhe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var phe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:kn(t.payload,e)}};class ghe extends w.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:c,top:u,left:f,width:h,height:p,id:g,needClip:y,zIndex:_}=this.props;if(e)return null;var E=Lt("recharts-line",i),j=g,{r:N,strokeWidth:A}=Ife(n),D=xq(n),I=N*2+A,O=y?"url(#clipPath-".concat(D?"":"dots-").concat(j,")"):void 0;return w.createElement($i,{zIndex:_},w.createElement(Li,{className:E},y&&w.createElement("defs",null,w.createElement(qq,{clipPathId:j,xAxisId:s,yAxisId:c}),!D&&w.createElement("clipPath",{id:"clipPath-dots-".concat(j)},w.createElement("rect",{x:f-I/2,y:u-I/2,width:h+I,height:p+I}))),w.createElement(Lq,{xAxisId:s,yAxisId:c,data:r,dataPointFormatter:phe,errorBarOffset:0},w.createElement(mhe,{props:this.props,clipPathId:j}))),w.createElement(gde,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:O}))}}var Hq={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Xn.line,type:"linear"};function vhe(t){var e=Ir(t,Hq),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:c,connectNulls:u,dot:f,hide:h,isAnimationActive:p,label:g,legendType:y,xAxisId:_,yAxisId:E,id:j}=e,N=YN(e,the),{needClip:A}=WN(_,E),D=GN(),I=qc(),O=jr(),V=ze(U=>Pfe(U,_,E,O,j));if(I!=="horizontal"&&I!=="vertical"||V==null||D==null)return null;var{height:B,width:k,x:C,y:R}=D;return w.createElement(ghe,Bh({},N,{id:j,connectNulls:u,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:c,isAnimationActive:p,hide:h,label:g,legendType:y,xAxisId:_,yAxisId:E,points:V,layout:I,height:B,width:k,left:C,top:R,needClip:A}))}function yhe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:c,bandSize:u,displayedData:f}=t;return f.map((h,p)=>{var g=kn(h,c);if(e==="horizontal"){var y=aI({axis:n,ticks:i,bandSize:u,entry:h,index:p}),_=rn(g)?null:r.scale.map(g);return{x:y,y:_??null,value:g,payload:h}}var E=rn(g)?null:n.scale.map(g),j=aI({axis:r,ticks:s,bandSize:u,entry:h,index:p});return E==null||j==null?null:{x:E,y:j,value:g,payload:h}}).filter(Boolean)}function bhe(t){var e=Ir(t,Hq),n=jr();return w.createElement(Tq,{id:e.id,type:"line"},r=>w.createElement(w.Fragment,null,w.createElement(Aq,{legendPayload:she(e)}),w.createElement(ohe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),w.createElement(Oq,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),w.createElement(vhe,Bh({},e,{id:r}))))}var Gq=w.memo(bhe,w0);Gq.displayName="Line";function Bc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:Pq}function $c(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:Pq}var _he="Invariant failed";function xhe(t,e){throw new Error(_he)}function rj(){return rj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rj.apply(null,arguments)}function Xv(t){return w.createElement(wq,rj({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var whe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ie(e))return e;var s=Ie(r)||rn(r);return s?e(r,i):(s||xhe(),n)}},jhe=(t,e,n)=>n,Ehe=(t,e)=>e,wm=ce([v0,Ehe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Nhe=ce([wm],t=>t?.maxBarSize),She=(t,e,n,r)=>r,Ahe=ce([Ot,v0,Bc,$c,jhe],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),The=(t,e,n)=>{var r=Ot(t),i=Bc(t,e),s=$c(t,e);if(!(i==null||s==null))return r==="horizontal"?Ww(t,"yAxis",s,n):Ww(t,"xAxis",i,n)},Che=(t,e)=>{var n=Ot(t),r=Bc(t,e),i=$c(t,e);if(!(r==null||i==null))return n==="horizontal"?sk(t,"xAxis",r):sk(t,"yAxis",i)},Ohe=ce([Ahe,Iae,Che],vde),Phe=(t,e,n)=>{var r,i,s=wm(t,e);if(s==null)return 0;var c=Bc(t,e),u=$c(t,e);if(c==null||u==null)return 0;var f=Ot(t),h=D6(t),{maxBarSize:p}=s,g=rn(p)?h:p,y,_;return f==="horizontal"?(y=ml(t,"xAxis",c,n),_=hl(t,"xAxis",c,n)):(y=ml(t,"yAxis",u,n),_=hl(t,"yAxis",u,n)),(r=(i=dd(y,_,!0))!==null&&i!==void 0?i:g)!==null&&r!==void 0?r:0},Kq=(t,e,n)=>{var r=Ot(t),i=Bc(t,e),s=$c(t,e);if(!(i==null||s==null)){var c,u;return r==="horizontal"?(c=ml(t,"xAxis",i,n),u=hl(t,"xAxis",i,n)):(c=ml(t,"yAxis",s,n),u=hl(t,"yAxis",s,n)),dd(c,u)}},Ihe=ce([Ohe,D6,Pae,M6,Phe,Kq,Nhe],wde),Rhe=(t,e,n)=>{var r=Bc(t,e);if(r!=null)return ml(t,"xAxis",r,n)},khe=(t,e,n)=>{var r=$c(t,e);if(r!=null)return ml(t,"yAxis",r,n)},Dhe=(t,e,n)=>{var r=Bc(t,e);if(r!=null)return hl(t,"xAxis",r,n)},Mhe=(t,e,n)=>{var r=$c(t,e);if(r!=null)return hl(t,"yAxis",r,n)},zhe=ce([Ihe,wm],Ede),Lhe=ce([The,wm],jde),qhe=ce([Jn,UE,Rhe,khe,Dhe,Mhe,zhe,Ot,jae,Kq,Lhe,wm,She],(t,e,n,r,i,s,c,u,f,h,p,g,y)=>{var{chartData:_,dataStartIndex:E,dataEndIndex:j}=f;if(!(g==null||c==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||s==null||h==null)){var{data:N}=g,A;if(N!=null&&N.length>0?A=N:A=_?.slice(E,j+1),A!=null)return hme({layout:u,barSettings:g,pos:c,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:A,offset:t,cells:y,dataStartIndex:E})}}),Uhe=["index"];function ij(){return ij=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ij.apply(null,arguments)}function Vhe(t,e){if(t==null)return{};var n,r,i=Bhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Qq=w.createContext(void 0),$he=t=>{var e=w.useContext(Qq);if(e!=null)return e.stackId;if(t!=null)return See(t)},Fhe=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),Hhe=t=>{var e=w.useContext(Qq);if(e!=null){var{stackId:n}=e;return"url(#".concat(Fhe(n,t),")")}},Wq=t=>{var{index:e}=t,n=Vhe(t,Uhe),r=Hhe(e);return w.createElement(Li,ij({className:"recharts-bar-stack-layer",clipPath:r},n))},Ghe=["onMouseEnter","onMouseLeave","onClick"],Khe=["value","background","tooltipPosition"],Qhe=["id"],Whe=["onMouseEnter","onClick","onMouseLeave"];function Fs(){return Fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fs.apply(null,arguments)}function xD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xD(Object(n),!0).forEach(function(r){Yhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yhe(t,e,n){return(e=Xhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xhe(t){var e=Zhe(t,"string");return typeof e=="symbol"?e:e+""}function Zhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zv(t,e){if(t==null)return{};var n,r,i=Jhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var eme=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Hy(n,e),payload:t}]},tme=w.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:c,unit:u,tooltipType:f,id:h}=t,p={dataDefinedOnItem:void 0,getPosition:Lc,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Hy(s,e),hide:c,type:f,color:i,unit:u,graphicalItemId:h}};return w.createElement(Sq,{tooltipEntrySettings:p})});function nme(t){var e=ze(Pc),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:c,onMouseLeave:u,onClick:f}=s,h=Zv(s,Ghe),p=jq(c,r,s.id),g=Eq(u),y=Nq(f,r,s.id);if(!i||n==null)return null;var _=am(i);return w.createElement($i,{zIndex:Nde(i,Xn.barBackground)},n.map((E,j)=>{var{value:N,background:A,tooltipPosition:D}=E,I=Zv(E,Khe);if(!A)return null;var O=p(E,j),V=g(E,j),B=y(E,j),k=Ar(Ar(Ar(Ar(Ar({option:i,isActive:String(j)===e},I),{},{fill:"#eee"},A),_),OE(h,E,j)),{},{onMouseEnter:O,onMouseLeave:V,onClick:B,dataKey:r,index:j,className:"recharts-bar-background-rectangle"});return w.createElement(Xv,Fs({key:"background-bar-".concat(j)},k))}))}function rme(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var c={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Ar(Ar({},c),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:c,fill:s.fill})});return w.createElement(pq,{value:e?i:void 0},n)}function ime(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:c}=t,u=ze(Pc),f=ze(K5),h=n&&String(s)===u&&(f==null||c===f),p=h?n:e;return h?w.createElement($i,{zIndex:Xn.activeBar},w.createElement(Wq,{index:s},w.createElement(Xv,Fs({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:c})))):w.createElement(Xv,Fs({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:c}))}function ame(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return w.createElement(Xv,Fs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function sme(t){var e,{data:n,props:r}=t,i=(e=da(r))!==null&&e!==void 0?e:{},{id:s}=i,c=Zv(i,Qhe),{shape:u,dataKey:f,activeBar:h}=r,{onMouseEnter:p,onClick:g,onMouseLeave:y}=r,_=Zv(r,Whe),E=jq(p,f,s),j=Eq(y),N=Nq(g,f,s);return n?w.createElement(w.Fragment,null,n.map((A,D)=>w.createElement(Wq,Fs({index:D,key:"rectangle-".concat(A?.x,"-").concat(A?.y,"-").concat(A?.value,"-").concat(D),className:"recharts-bar-rectangle"},OE(_,A,D),{onMouseEnter:E(A,D),onMouseLeave:j(A,D),onClick:N(A,D)}),h?w.createElement(ime,{shape:u,activeBar:h,baseProps:c,entry:A,index:D,dataKey:f}):w.createElement(ame,{shape:u,baseProps:c,entry:A,index:D,dataKey:f})))):null}function ome(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:c,animationDuration:u,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,y=n0(e,"recharts-bar-"),[_,E]=w.useState(!1),j=!_,N=w.useCallback(()=>{typeof h=="function"&&h(),E(!1)},[h]),A=w.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return w.createElement(rme,{showLabels:j,rects:r},w.createElement(t0,{animationId:y,begin:c,duration:u,isActive:s,easing:f,onAnimationEnd:N,onAnimationStart:A,key:y},D=>{var I=D===1?r:r?.map((O,V)=>{var B=g&&g[V];if(B)return Ar(Ar({},O),{},{x:fn(B.x,O.x,D),y:fn(B.y,O.y,D),width:fn(B.width,O.width,D),height:fn(B.height,O.height,D)});if(i==="horizontal"){var k=fn(0,O.height,D),C=fn(O.stackedBarStart,O.y,D);return Ar(Ar({},O),{},{y:C,height:k})}var R=fn(0,O.width,D),U=fn(O.stackedBarStart,O.x,D);return Ar(Ar({},O),{},{width:R,x:U})});return D>0&&(n.current=I??null),I==null?null:w.createElement(Li,null,w.createElement(sme,{props:e,data:I}))}),w.createElement(vq,{label:e.label}),e.children)}function lme(t){var e=w.useRef(null);return w.createElement(ome,{previousRectanglesRef:e,props:t})}var Yq=0,cme=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:kn(t,e)}};class ume extends w.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:c,needClip:u,background:f,id:h}=this.props;if(e||n==null)return null;var p=Lt("recharts-bar",i),g=h;return w.createElement(Li,{className:p,id:h},u&&w.createElement("defs",null,w.createElement(qq,{clipPathId:g,xAxisId:s,yAxisId:c})),w.createElement(Li,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},w.createElement(nme,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),w.createElement(lme,this.props)))}}var dme={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Yq,xAxisId:0,yAxisId:0,zIndex:Xn.bar};function fme(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:c,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=WN(e,n),y=qc(),_=jr(),E=hue(t.children,$N),j=ze(D=>qhe(D,t.id,_,E));if(y!=="vertical"&&y!=="horizontal")return null;var N,A=j?.[0];return A==null||A.height==null||A.width==null?N=0:N=y==="vertical"?A.height/2:A.width/2,w.createElement(Lq,{xAxisId:e,yAxisId:n,data:j,dataPointFormatter:cme,errorBarOffset:N},w.createElement(ume,Fs({},t,{layout:y,needClip:g,data:j,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:c,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function hme(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:c,yAxis:u,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:y,cells:_,parentViewBox:E,dataStartIndex:j}=t,N=e==="horizontal"?u:c,A=p?N.scale.domain():null,D=Aee({numericAxis:N}),I=N.scale.map(D);return g.map((O,V)=>{var B,k,C,R,U,L;if(p){var z=p[V+j];if(z==null)return null;B=xee(z,A)}else B=kn(O,n),Array.isArray(B)||(B=[D,B]);var M=whe(r,Yq)(B[1],V);if(e==="horizontal"){var Q,W=u.scale.map(B[0]),G=u.scale.map(B[1]);if(W==null||G==null)return null;k=sI({axis:c,ticks:f,bandSize:s,offset:i.offset,entry:O,index:V}),C=(Q=G??W)!==null&&Q!==void 0?Q:void 0,R=i.size;var le=W-G;if(U=Ya(le)?0:le,L={x:k,y:y.top,width:R,height:y.height},Math.abs(M)>0&&Math.abs(U)<Math.abs(M)){var be=Kr(U||M)*(Math.abs(M)-Math.abs(U));C-=be,U+=be}}else{var je=c.scale.map(B[0]),X=c.scale.map(B[1]);if(je==null||X==null)return null;if(k=je,C=sI({axis:u,ticks:h,bandSize:s,offset:i.offset,entry:O,index:V}),R=X-je,U=i.size,L={x:y.left,y:C,width:y.width,height:U},Math.abs(M)>0&&Math.abs(R)<Math.abs(M)){var F=Kr(R||M)*(Math.abs(M)-Math.abs(R));R+=F}}if(k==null||C==null||R==null||U==null)return null;var ne=Ar(Ar({},O),{},{stackedBarStart:I,x:k,y:C,width:R,height:U,value:p?B:B[1],payload:O,background:L,tooltipPosition:{x:k+R/2,y:C+U/2},parentViewBox:E},_&&_[V]&&_[V].props);return ne}).filter(Boolean)}function mme(t){var e=Ir(t,dme),n=$he(e.stackId),r=jr();return w.createElement(Tq,{id:e.id,type:"bar"},i=>w.createElement(w.Fragment,null,w.createElement(Aq,{legendPayload:eme(e)}),w.createElement(tme,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),w.createElement(Oq,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),w.createElement($i,{zIndex:e.zIndex},w.createElement(fme,Fs({},e,{id:i})))))}var Xq=w.memo(mme,w0);Xq.displayName="Bar";var pme=["domain","range"],gme=["domain","range"];function wD(t,e){if(t==null)return{};var n,r,i=vme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jD(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function Zq(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=wD(t,pme),{domain:s,range:c}=e,u=wD(e,gme);return!jD(n,s)||!jD(r,c)?!1:w0(i,u)}var yme=["type"],bme=["dangerouslySetInnerHTML","ticks","scale"],_me=["id","scale"];function aj(){return aj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aj.apply(null,arguments)}function ED(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ND(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(n),!0).forEach(function(r){xme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xme(t,e,n){return(e=wme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wme(t){var e=jme(t,"string");return typeof e=="symbol"?e:e+""}function jme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sj(t,e){if(t==null)return{};var n,r,i=Eme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Eme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Nme(t){var e=wn(),n=w.useRef(null),r=E3(),{type:i}=t,s=sj(t,yme),c=d0(r,"xAxis",i),u=w.useMemo(()=>{if(c!=null)return ND(ND({},s),{},{type:c})},[s,c]);return w.useLayoutEffect(()=>{u!=null&&(n.current===null?e(tde(u)):n.current!==u&&e(nde({prev:n.current,next:u})),n.current=u)},[u,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(rde(n.current)),n.current=null)},[e]),null}var Sme=t=>{var{xAxisId:e,className:n}=t,r=ze(UE),i=jr(),s="xAxis",c=ze(A=>S5(A,s,e,i)),u=ze(A=>w5(A,e)),f=ze(A=>Rse(A,e)),h=ze(A=>H6(A,e));if(u==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:y}=t,_=sj(t,bme),{id:E,scale:j}=h,N=sj(h,_me);return w.createElement(QN,aj({},_,N,{x:f.x,y:f.y,width:u.width,height:u.height,className:Lt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:c,axisType:s}))},Ame={allowDataOverflow:Kn.allowDataOverflow,allowDecimals:Kn.allowDecimals,allowDuplicatedCategory:Kn.allowDuplicatedCategory,angle:Kn.angle,axisLine:Rs.axisLine,height:Kn.height,hide:!1,includeHidden:Kn.includeHidden,interval:Kn.interval,label:!1,minTickGap:Kn.minTickGap,mirror:Kn.mirror,orientation:Kn.orientation,padding:Kn.padding,reversed:Kn.reversed,scale:Kn.scale,tick:Kn.tick,tickCount:Kn.tickCount,tickLine:Rs.tickLine,tickSize:Rs.tickSize,type:Kn.type,xAxisId:0},Tme=t=>{var e=Ir(t,Ame);return w.createElement(w.Fragment,null,w.createElement(Nme,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),w.createElement(Sme,e))},oj=w.memo(Tme,Zq);oj.displayName="XAxis";var Cme=["type"],Ome=["dangerouslySetInnerHTML","ticks","scale"],Pme=["id","scale"];function lj(){return lj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lj.apply(null,arguments)}function SD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(n),!0).forEach(function(r){Ime(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ime(t,e,n){return(e=Rme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rme(t){var e=kme(t,"string");return typeof e=="symbol"?e:e+""}function kme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cj(t,e){if(t==null)return{};var n,r,i=Dme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Mme(t){var e=wn(),n=w.useRef(null),r=E3(),{type:i}=t,s=cj(t,Cme),c=d0(r,"yAxis",i),u=w.useMemo(()=>{if(c!=null)return AD(AD({},s),{},{type:c})},[c,s]);return w.useLayoutEffect(()=>{u!=null&&(n.current===null?e(ide(u)):n.current!==u&&e(ade({prev:n.current,next:u})),n.current=u)},[u,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(sde(n.current)),n.current=null)},[e]),null}function zme(t){var{yAxisId:e,className:n,width:r,label:i}=t,s=w.useRef(null),c=w.useRef(null),u=ze(UE),f=jr(),h=wn(),p="yAxis",g=ze(B=>j5(B,e)),y=ze(B=>Dse(B,e)),_=ze(B=>S5(B,p,e,f)),E=ze(B=>G6(B,e));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!g||HN(i)||w.isValidElement(i)||E==null)){var B=s.current;if(B){var k=B.getCalculatedWidth();Math.round(g.width)!==Math.round(k)&&h(ode({id:e,width:k}))}}},[_,g,h,i,e,r,E]),g==null||y==null||E==null)return null;var{dangerouslySetInnerHTML:j,ticks:N,scale:A}=t,D=cj(t,Ome),{id:I,scale:O}=E,V=cj(E,Pme);return w.createElement(QN,lj({},D,V,{ref:s,labelRef:c,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:Lt("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:_,axisType:p}))}var Lme={allowDataOverflow:Qn.allowDataOverflow,allowDecimals:Qn.allowDecimals,allowDuplicatedCategory:Qn.allowDuplicatedCategory,angle:Qn.angle,axisLine:Rs.axisLine,hide:!1,includeHidden:Qn.includeHidden,interval:Qn.interval,label:!1,minTickGap:Qn.minTickGap,mirror:Qn.mirror,orientation:Qn.orientation,padding:Qn.padding,reversed:Qn.reversed,scale:Qn.scale,tick:Qn.tick,tickCount:Qn.tickCount,tickLine:Rs.tickLine,tickSize:Rs.tickSize,type:Qn.type,width:Qn.width,yAxisId:0},qme=t=>{var e=Ir(t,Lme);return w.createElement(w.Fragment,null,w.createElement(Mme,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),w.createElement(zme,e))},uj=w.memo(qme,Zq);uj.displayName="YAxis";var Ume=(t,e)=>e,XN=ce([Ume,Ot,$6,nr,$5,to,Yoe,Jn],rle),ZN=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},Jq=qi("mouseClick"),eU=lm();eU.startListening({actionCreator:Jq,effect:(t,e)=>{var n=t.payload,r=XN(e.getState(),ZN(n));r?.activeIndex!=null&&e.dispatch(Wse({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var dj=qi("mouseMove"),tU=lm(),_g=null;tU.startListening({actionCreator:dj,effect:(t,e)=>{var n=t.payload;_g!==null&&cancelAnimationFrame(_g);var r=ZN(n);_g=requestAnimationFrame(()=>{var i=e.getState(),s=RN(i,i.tooltip.settings.shared);if(s==="axis"){var c=XN(i,r);c?.activeIndex!=null?e.dispatch(k5({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):e.dispatch(R5())}_g=null})}});function Vme(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var TD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},nU=Xr({name:"rootProps",initialState:TD,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:TD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Bme=nU.reducer,{updateOptions:$me}=nU.actions,Fme=null,Hme={updatePolarOptions:(t,e)=>e.payload},rU=Xr({name:"polarOptions",initialState:Fme,reducers:Hme}),{updatePolarOptions:Pve}=rU.actions,Gme=rU.reducer,iU=qi("keyDown"),aU=qi("focus"),JN=lm();JN.startListening({actionCreator:iU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=kN(i,Rd(n),ym(n),_m(n)),u=c==null?-1:Number(c);if(!(!Number.isFinite(u)||u<0)){var f=to(n);if(s==="Enter"){var h=Hv(n,"axis","hover",String(i.index));e.dispatch(Xw({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var p=qse(n),g=p==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,_=u+y*g;if(!(f==null||_>=f.length||_<0)){var E=Hv(n,"axis","hover",String(_));e.dispatch(Xw({active:!0,activeIndex:_.toString(),activeCoordinate:E}))}}}}}});JN.startListening({actionCreator:aU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",c=Hv(n,"axis","hover",String(s));e.dispatch(Xw({active:!0,activeIndex:s,activeCoordinate:c}))}}}});var Ri=qi("externalEvent"),sU=lm(),A1=new Map;sU.startListening({actionCreator:Ri,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=A1.get(i);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var u=e.getState(),f={activeCoordinate:koe(u),activeDataKey:K5(u),activeIndex:Pc(u),activeLabel:G5(u),activeTooltipIndex:Pc(u),isTooltipActive:Doe(u)};n(f,r)}finally{A1.delete(i)}});A1.set(i,c)}}});var Kme=ce([Pd],t=>t.tooltipItemPayloads),Qme=ce([Kme,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(s=>s.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),oU=qi("touchMove"),lU=lm();lU.startListening({actionCreator:oU,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=RN(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var c=XN(r,ZN({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));c?.activeIndex!=null&&e.dispatch(k5({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(i==="item"){var u,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(kee),g=(u=h.getAttribute(Dee))!==null&&u!==void 0?u:void 0,y=Id(r).find(j=>j.id===g);if(p==null||y==null||g==null)return;var{dataKey:_}=y,E=Qme(r,p,g);e.dispatch(I5({activeDataKey:_,activeIndex:p,activeCoordinate:E,activeGraphicalItemId:g}))}}}});var Wme=UL({brush:Ade,cartesianAxis:lde,chartData:kle,errorBars:xfe,graphicalItems:Uue,layout:gee,legend:Ste,options:Cle,polarAxis:lue,polarOptions:Gme,referenceElements:Pde,rootProps:Bme,tooltip:Yse,zIndex:vle}),Yme=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return VJ({reducer:Wme,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([eU.middleware,tU.middleware,JN.middleware,sU.middleware,lU.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(t3({type:"raf"}))},devTools:{serialize:{replacer:Vme},name:"recharts-".concat(n)}})};function Xme(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=jr(),s=w.useRef(null);if(i)return n;s.current==null&&(s.current=Yme(e,r));var c=RE;return w.createElement(Yfe,{context:c,store:s.current},n)}function Zme(t){var{layout:e,margin:n}=t,r=wn(),i=jr();return w.useEffect(()=>{i||(r(hee(e)),r(fee(n)))},[r,i,e,n]),null}var Jme=w.memo(Zme,w0);function epe(t){var e=wn();return w.useEffect(()=>{e($me(t))},[e,t]),null}function CD(t){var{zIndex:e,isPanorama:n}=t,r=w.useRef(null),i=wn();return w.useLayoutEffect(()=>(r.current&&i(ple({zIndex:e,element:r.current,isPanorama:n})),()=>{i(gle({zIndex:e,isPanorama:n}))}),[i,e,n]),w.createElement("g",{tabIndex:-1,ref:r})}function OD(t){var{children:e,isPanorama:n}=t,r=ze(ale);if(!r||r.length===0)return e;var i=r.filter(c=>c<0),s=r.filter(c=>c>0);return w.createElement(w.Fragment,null,i.map(c=>w.createElement(CD,{key:c,zIndex:c,isPanorama:n})),e,s.map(c=>w.createElement(CD,{key:c,zIndex:c,isPanorama:n})))}var tpe=["children"];function npe(t,e){if(t==null)return{};var n,r,i=rpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jv(){return Jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jv.apply(null,arguments)}var ipe={width:"100%",height:"100%",display:"block"},ape=w.forwardRef((t,e)=>{var n=w3(),r=j3(),i=R3();if(!Za(n)||!Za(r))return null;var{children:s,otherAttributes:c,title:u,desc:f}=t,h,p;return c!=null&&(typeof c.tabIndex=="number"?h=c.tabIndex:h=i?0:void 0,typeof c.role=="string"?p=c.role:p=i?"application":void 0),w.createElement(iL,Jv({},c,{title:u,desc:f,role:p,tabIndex:h,width:n,height:r,style:ipe,ref:e}),s)}),spe=t=>{var{children:e}=t,n=ze(Wy);if(!n)return null;var{width:r,height:i,y:s,x:c}=n;return w.createElement(iL,{width:r,height:i,x:c,y:s},e)},PD=w.forwardRef((t,e)=>{var{children:n}=t,r=npe(t,tpe),i=jr();return i?w.createElement(spe,null,w.createElement(OD,{isPanorama:!0},n)):w.createElement(ape,Jv({ref:e},r),w.createElement(OD,{isPanorama:!1},n))});function ope(){var t=wn(),[e,n]=w.useState(null),r=ze(Ree);return w.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;mt(s)&&s!==r&&t(pee(s))}},[e,t,r]),n}function ID(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lpe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(n),!0).forEach(function(r){cpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cpe(t,e,n){return(e=upe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function upe(t){var e=dpe(t,"string");return typeof e=="symbol"?e:e+""}function dpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function il(){return il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},il.apply(null,arguments)}var fpe=()=>($le(),null);function ey(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var hpe=w.forwardRef((t,e)=>{var n,r,i=w.useRef(null),[s,c]=w.useState({containerWidth:ey((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:ey((r=t.style)===null||r===void 0?void 0:r.height)}),u=w.useCallback((h,p)=>{c(g=>{var y=Math.round(h),_=Math.round(p);return g.containerWidth===y&&g.containerHeight===_?g:{containerWidth:y,containerHeight:_}})},[]),f=w.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();u(p,g);var y=E=>{var j=E[0];if(j!=null){var{width:N,height:A}=j.contentRect;u(N,A)}},_=new ResizeObserver(y);_.observe(h),i.current=_}},[e,u]);return w.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[u]),w.createElement(w.Fragment,null,w.createElement(um,{width:s.containerWidth,height:s.containerHeight}),w.createElement("div",il({ref:f},t)))}),mpe=w.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=w.useState({containerWidth:ey(n),containerHeight:ey(r)}),c=w.useCallback((f,h)=>{s(p=>{var g=Math.round(f),y=Math.round(h);return p.containerWidth===g&&p.containerHeight===y?p:{containerWidth:g,containerHeight:y}})},[]),u=w.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();c(h,p)}},[e,c]);return w.createElement(w.Fragment,null,w.createElement(um,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",il({ref:u},t)))}),ppe=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return w.createElement(w.Fragment,null,w.createElement(um,{width:n,height:r}),w.createElement("div",il({ref:e},t)))}),gpe=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?w.createElement(mpe,il({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?w.createElement(ppe,il({},t,{width:n,height:r,ref:e})):w.createElement(w.Fragment,null,w.createElement(um,{width:n,height:r}),w.createElement("div",il({ref:e},t)))});function vpe(t){return t?hpe:gpe}var ype=w.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:c,onDoubleClick:u,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:y,onTouchEnd:_,onTouchMove:E,onTouchStart:j,style:N,width:A,responsive:D,dispatchTouchEvents:I=!0}=t,O=w.useRef(null),V=wn(),[B,k]=w.useState(null),[C,R]=w.useState(null),U=ope(),L=VE(),z=L?.width>0?L.width:A,M=L?.height>0?L.height:i,Q=w.useCallback(ie=>{U(ie),typeof e=="function"&&e(ie),k(ie),R(ie),ie!=null&&(O.current=ie)},[U,e,k,R]),W=w.useCallback(ie=>{V(Jq(ie)),V(Ri({handler:s,reactEvent:ie}))},[V,s]),G=w.useCallback(ie=>{V(dj(ie)),V(Ri({handler:h,reactEvent:ie}))},[V,h]),le=w.useCallback(ie=>{V(R5()),V(Ri({handler:p,reactEvent:ie}))},[V,p]),be=w.useCallback(ie=>{V(dj(ie)),V(Ri({handler:g,reactEvent:ie}))},[V,g]),je=w.useCallback(()=>{V(aU())},[V]),X=w.useCallback(ie=>{V(iU(ie.key))},[V]),F=w.useCallback(ie=>{V(Ri({handler:c,reactEvent:ie}))},[V,c]),ne=w.useCallback(ie=>{V(Ri({handler:u,reactEvent:ie}))},[V,u]),pe=w.useCallback(ie=>{V(Ri({handler:f,reactEvent:ie}))},[V,f]),we=w.useCallback(ie=>{V(Ri({handler:y,reactEvent:ie}))},[V,y]),J=w.useCallback(ie=>{V(Ri({handler:j,reactEvent:ie}))},[V,j]),H=w.useCallback(ie=>{I&&V(oU(ie)),V(Ri({handler:E,reactEvent:ie}))},[V,I,E]),de=w.useCallback(ie=>{V(Ri({handler:_,reactEvent:ie}))},[V,_]),Ce=vpe(D);return w.createElement(eq.Provider,{value:B},w.createElement(xX.Provider,{value:C},w.createElement(Ce,{width:z??N?.width,height:M??N?.height,className:Lt("recharts-wrapper",r),style:lpe({position:"relative",cursor:"default",width:z,height:M},N),onClick:W,onContextMenu:F,onDoubleClick:ne,onFocus:je,onKeyDown:X,onMouseDown:pe,onMouseEnter:G,onMouseLeave:le,onMouseMove:be,onMouseUp:we,onTouchEnd:de,onTouchMove:H,onTouchStart:J,ref:Q},w.createElement(fpe,null),n)))}),bpe=["width","height","responsive","children","className","style","compact","title","desc"];function _pe(t,e){if(t==null)return{};var n,r,i=xpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wpe=w.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:c,style:u,compact:f,title:h,desc:p}=t,g=_pe(t,bpe),y=da(g);return f?w.createElement(w.Fragment,null,w.createElement(um,{width:n,height:r}),w.createElement(PD,{otherAttributes:y,title:h,desc:p},s)):w.createElement(ype,{className:c,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(PD,{otherAttributes:y,title:h,desc:p,ref:e},w.createElement(Rde,null,s)))});function fj(){return fj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fj.apply(null,arguments)}var jpe={top:5,right:5,bottom:5,left:5},Epe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:jpe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},cU=w.forwardRef(function(e,n){var r,i=Ir(e.categoricalChartProps,Epe),{chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return w.createElement(Xme,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},w.createElement(Sde,{chartData:h.data}),w.createElement(Jme,{layout:i.layout,margin:i.margin}),w.createElement(epe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(wpe,fj({},i,{ref:n})))}),Npe=["axis"],Spe=w.forwardRef((t,e)=>w.createElement(cU,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Npe,tooltipPayloadSearcher:tq,categoricalChartProps:t,ref:e})),Ape=["axis","item"],Tpe=w.forwardRef((t,e)=>w.createElement(cU,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ape,tooltipPayloadSearcher:tq,categoricalChartProps:t,ref:e}));const Cpe=8,Ope=12,Ppe=14,Ipe=1;function eS(t){return t instanceof it?t.toDate():t instanceof Date?t:t?.seconds?new Date(t.seconds*1e3):new Date(t)}function RD(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}function j0(){const t=new Date,e=t.getDay(),n=e===0?-6:1-e,r=new Date(t);return r.setDate(t.getDate()+n),r.setHours(0,0,0,0),r}function Rpe(){const t=j0(),e=new Date(t);return e.setDate(t.getDate()+6),e.setHours(23,59,59,999),e}function T1(t,e){return Math.floor(Math.abs(e.getTime()-t.getTime())/864e5)}async function E0(t){try{const e=Ht(yt(Se,"quiz_results"),at("userId","==",t),Yr("datePassage","desc"));return(await Gt(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Erreur rcupration rsultats lve:",e),[]}}async function kpe(t){try{const e=await E0(t);if(e.length===0)return[];const n=new Map;e.forEach(s=>{const c=s.disciplineId;n.has(c)||n.set(c,[]),n.get(c).push(s)});const r=[];n.forEach((s,c)=>{if(s.length<Ipe)return;const u=s.map(N=>N.pourcentage/100*20),f=u.reduce((N,A)=>N+A,0)/u.length;if(f>=Ppe)return;let h="stable";if(u.length>=3){const N=u.slice(0,2),A=u.slice(2,4),D=N.reduce((V,B)=>V+B,0)/N.length,I=A.reduce((V,B)=>V+B,0)/A.length,O=D-I;O>1.5?h="hausse":O<-1.5&&(h="baisse")}let p="modere";f<Cpe?p="critique":f<Ope&&(p="important");const g=u[0],y=Math.max(...u),_=Math.min(...u),E=eS(s[0].datePassage),j=s[0].disciplineNom||"Discipline inconnue";r.push({id:`lacune_${c}`,disciplineId:c,disciplineNom:j,moyenne:Math.round(f*10)/10,nombreQuiz:s.length,tendance:h,niveauUrgence:p,dernierQuizDate:E,scoreDetails:{dernierScore:Math.round(g*10)/10,meilleurScore:Math.round(y*10)/10,pireScore:Math.round(_*10)/10}})});const i={critique:0,important:1,modere:2};return r.sort((s,c)=>{const u=i[s.niveauUrgence]-i[c.niveauUrgence];return u!==0?u:s.moyenne-c.moyenne}),r}catch(e){return console.error("Erreur dtection lacunes:",e),[]}}function Dpe(t){const e=[];let n=1;return t.forEach(r=>{const{id:i,disciplineNom:s,niveauUrgence:c,moyenne:u,tendance:f}=r;switch(c){case"critique":e.push({id:`reco_cours_${i}`,lacuneId:i,type:"revoir_cours",titre:` Revoir les cours de ${s}`,description:`Ta moyenne est de ${u}/20 en ${s}. Il est important de reprendre les bases. Consulte les cours disponibles et prends des notes.`,disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date}),e.push({id:`reco_quiz_${i}`,lacuneId:i,type:"refaire_quiz",titre:` Refaire les quiz de ${s}`,description:"Aprs avoir rvis, refais les quiz pour vrifier ta comprhension. Vise au moins 12/20 !",disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date});break;case"important":e.push({id:`reco_exercice_${i}`,lacuneId:i,type:"exercice_cible",titre:` Exercices cibls en ${s}`,description:`Avec ${u}/20 de moyenne, concentre-toi sur les exercices pratiques. ${f==="hausse"?"Tu progresses, continue !":"Un effort supplmentaire est ncessaire."}`,disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date}),e.push({id:`reco_cours2_${i}`,lacuneId:i,type:"revoir_cours",titre:` Rviser les points cls en ${s}`,description:"Identifie les concepts qui te posent problme et revois-les attentivement.",disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date});break;case"modere":e.push({id:`reco_consolider_${i}`,lacuneId:i,type:"refaire_quiz",titre:` Consolider tes acquis en ${s}`,description:`Tu es proche du niveau attendu (${u}/20). Un quiz supplmentaire devrait suffire pour atteindre 14/20 !`,disciplineNom:s,priorite:n++,completee:!1,dateCreation:new Date});break}}),e}async function Mpe(t){try{const e=await E0(t);if(e.length===0)return{userId:t,streakActuel:0,meilleurStreak:0,dernierJourActif:null,totalJoursActifs:0,semaineCourante:[!1,!1,!1,!1,!1,!1,!1],historiqueHebdo:[]};const n=new Set;e.forEach(j=>{const N=eS(j.datePassage),A=`${N.getFullYear()}-${N.getMonth()}-${N.getDate()}`;n.add(A)});const r=Array.from(n).map(j=>{const[N,A,D]=j.split("-").map(Number);return new Date(N,A,D)}).sort((j,N)=>N.getTime()-j.getTime()),i=r.length,s=r[0];let c=0;const u=new Date;u.setHours(0,0,0,0);const f=r[0];if(T1(f,u)<=1){c=1;for(let j=1;j<r.length&&T1(r[j],r[j-1])===1;j++)c++}let p=0,g=1;for(let j=1;j<r.length;j++)T1(r[j],r[j-1])===1?g++:(p=Math.max(p,g),g=1);p=Math.max(p,g,c);const y=j0(),_=[];for(let j=0;j<7;j++){const N=new Date(y);N.setDate(y.getDate()+j);const A=r.some(D=>RD(D,N));_.push(A)}const E=[];for(let j=0;j<4;j++){const N=new Date(y);N.setDate(y.getDate()-j*7);let A=0;for(let I=0;I<7;I++){const O=new Date(N);O.setDate(N.getDate()+I),r.some(V=>RD(V,O))&&A++}const D=Math.ceil((N.getDate()+new Date(N.getFullYear(),N.getMonth(),1).getDay())/7);E.push({semaine:j===0?"Cette sem.":`Sem. -${j}`,joursActifs:A})}return{userId:t,streakActuel:c,meilleurStreak:p,dernierJourActif:s,totalJoursActifs:i,semaineCourante:_,historiqueHebdo:E.reverse()}}catch(e){return console.error("Erreur calcul streak:",e),{userId:t,streakActuel:0,meilleurStreak:0,dernierJourActif:null,totalJoursActifs:0,semaineCourante:[!1,!1,!1,!1,!1,!1,!1],historiqueHebdo:[]}}}function zpe(t,e,n){const r=[],i=j0(),s=Rpe(),c=e.length>2?5:3;if(r.push({id:`obj_quiz_${t}_${i.getTime()}`,userId:t,titre:`Passer ${c} quiz cette semaine`,description:`Entrane-toi en passant au moins ${c} quiz pour progresser dans tes matires.`,type:"quiz_count",cible:c,progression:0,statut:"en_cours",dateDebut:i,dateFin:s,recompense:' Badge "Travailleur"'}),e.length>0){const f=e[0],h=Math.min(f.moyenne+3,14);r.push({id:`obj_score_${t}_${i.getTime()}`,userId:t,titre:`Atteindre ${Math.round(h)}/20 en ${f.disciplineNom}`,description:`Ta moyenne actuelle est de ${f.moyenne}/20. Vise ${Math.round(h)}/20 lors de ton prochain quiz !`,type:"score_min",cible:Math.round(h),progression:Math.round(f.moyenne),statut:"en_cours",disciplineId:f.disciplineId,disciplineNom:f.disciplineNom,dateDebut:i,dateFin:s,recompense:' Badge "En progrs"'})}const u=n.streakActuel>=5?7:n.streakActuel+2;return r.push({id:`obj_streak_${t}_${i.getTime()}`,userId:t,titre:`Maintenir un streak de ${u} jours`,description:`Tu es actuellement  ${n.streakActuel} jour(s) conscutif(s). Continue !`,type:"streak",cible:u,progression:n.streakActuel,statut:n.streakActuel>=u?"atteint":"en_cours",dateDebut:i,dateFin:s,recompense:' Badge "Flamme"'}),r}function Lpe(t,e,n,r){let i=0;if(r.length>0){const g=r.reduce((y,_)=>y+_.pourcentage/100*20,0)/r.length;i=Math.min(g/20*100,100)}let s=100;const c=t.filter(g=>g.niveauUrgence==="critique").length,u=t.filter(g=>g.niveauUrgence==="important").length;s-=c*25,s-=u*15,s=Math.max(s,0);const f=Math.min(e.streakActuel/7*100,100);let h=0;n.length>0&&(h=n.filter(y=>y.statut==="atteint").length/n.length*100);const p=i*.4+s*.25+f*.2+h*.15;return Math.round(Math.min(Math.max(p,0),100))}function qpe(t,e,n){const r=j0(),i=e.filter(s=>eS(s.datePassage)>=r);return t.map(s=>{const c={...s};switch(s.type){case"quiz_count":c.progression=i.length;break;case"score_min":if(s.disciplineId){const u=i.filter(f=>f.disciplineId===s.disciplineId);if(u.length>0){const f=Math.max(...u.map(h=>h.pourcentage));c.progression=Math.round(f/100*20)}}break;case"streak":c.progression=n.streakActuel;break}return c.progression>=c.cible&&(c.statut="atteint"),c})}async function tS(t){try{const e=await kpe(t),n=Dpe(e),r=await Mpe(t);let i=zpe(t,e,r);const s=await E0(t);i=qpe(i,s,r);const c=Lpe(e,r,i,s);return{lacunes:e,recommandations:n,streak:r,objectifs:i,scoreGlobal:c}}catch(e){return console.error("Erreur suivi complet:",e),{lacunes:[],recommandations:[],streak:{userId:t,streakActuel:0,meilleurStreak:0,dernierJourActif:null,totalJoursActifs:0,semaineCourante:[!1,!1,!1,!1,!1,!1,!1],historiqueHebdo:[]},objectifs:[],scoreGlobal:0}}}function ty(t){switch(t){case"critique":return"#ef4444";case"important":return"#f59e0b";case"modere":return"#eab308";case"info":return"#10b981";default:return"#6b7280"}}function uU(t){switch(t){case"critique":return"Critique";case"important":return"Important";case"modere":return"Modr";case"info":return"Info";default:return"Inconnu"}}function dU(t){switch(t){case"hausse":return"";case"baisse":return"";case"stable":return"";default:return""}}function Upe(t){return t>=80?"Excellent travail ! Continue comme a, tu es sur la bonne voie ! ":t>=60?"Bon travail ! Quelques efforts supplmentaires et tu seras au top ! ":t>=40?"Tu peux faire mieux ! Suis les recommandations pour progresser. ":t>=20?"Courage ! Chaque effort compte. Commence par les recommandations prioritaires. ":"C'est le moment de se lancer ! Passe ton premier quiz pour commencer. "}function Vpe(t){return t.cible===0?0:Math.min(Math.round(t.progression/t.cible*100),100)}const Bpe="PEDA",$pe=4,Fpe=5,Hpe=40,fU=5;function Cs(t){return t instanceof it?t.toDate():t instanceof Date?t:t?.seconds?new Date(t.seconds*1e3):new Date(t)}function hU(t){const e=new Date,n=e.getDay(),r=n===0?-6:1-n,i=new Date(e);return i.setDate(e.getDate()+r),i.setHours(0,0,0,0),i}function Gpe(t){const e=hU(),n=new Date(e);return n.setDate(e.getDate()+6),n.setHours(23,59,59,999),n}function kD(t){const e=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"];return`${t.getDate()} ${e[t.getMonth()]}`}function mU(t,e){return Math.floor(Math.abs(e.getTime()-t.getTime())/864e5)}async function Kpe(t){try{const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let n="",r="";for(let c=0;c<$pe;c++)n+=e.charAt(Math.floor(Math.random()*e.length)),r+=e.charAt(Math.floor(Math.random()*e.length));const i=`${Bpe}-${n}-${r}`,s=tt(Se,"users",t);return await Mn(s,{codeParent:i,codeParentGenere:new Date}),i}catch(e){throw console.error("Erreur gnration code invitation:",e),new Error("Impossible de gnrer le code d'invitation")}}async function Qpe(t){try{const e=tt(Se,"users",t),n=await zi(e);if(!n.exists())throw new Error("lve introuvable");const r=n.data();return r.codeParent?r.codeParent:await Kpe(t)}catch(e){throw console.error("Erreur rcupration code invitation:",e),new Error("Impossible de rcuprer le code d'invitation")}}async function Wpe(t,e){try{const n=e.trim().toUpperCase(),r=yt(Se,"users"),i=Ht(r,at("codeParent","==",n),at("role","==","eleve"),fl(1)),s=await Gt(i);if(s.empty)throw new Error("Code d'invitation invalide. Vrifiez le code et ressayez.");const c=s.docs[0],u=c.data(),f=c.id,h=yt(Se,"liens_parent_enfant"),p=Ht(h,at("parentId","==",t),at("enfantId","==",f),at("statut","==","actif"),fl(1));if(!(await Gt(p)).empty)throw new Error("Cet enfant est dj li  votre compte.");const y={parentId:t,enfantId:f,enfantNom:u.displayName||u.email,enfantEmail:u.email,enfantClasse:u.classe||void 0,codeInvitation:n,statut:"actif",dateCreation:new Date};return{id:(await ma(h,y)).id,...y}}catch(n){throw console.error("Erreur liaison parent-enfant:",n),n}}async function Ype(t){try{const e=yt(Se,"liens_parent_enfant"),n=Ht(e,at("parentId","==",t),at("statut","==","actif"),Yr("dateCreation","desc"));return(await Gt(n)).docs.map(i=>({id:i.id,...i.data(),dateCreation:Cs(i.data().dateCreation),dateDerniereConsultation:i.data().dateDerniereConsultation?Cs(i.data().dateDerniereConsultation):void 0}))}catch(e){return console.error("Erreur rcupration enfants lis:",e),[]}}async function Xpe(t,e){try{const n=tt(Se,"liens_parent_enfant",t),r=await zi(n);if(!r.exists())throw new Error("Lien introuvable");if(r.data().parentId!==e)throw new Error("Action non autorise");await Mn(n,{statut:"revoque",dateRevocation:new Date})}catch(n){throw console.error("Erreur rvocation lien:",n),n}}async function Zpe(t,e){try{const n=yt(Se,"liens_parent_enfant"),r=Ht(n,at("parentId","==",t),at("enfantId","==",e),at("statut","==","actif"),fl(1)),i=await Gt(r);if(i.empty)throw new Error("Vous n'tes pas autoris  consulter le suivi de cet enfant.");const s=tt(Se,"users",e),c=await zi(s);if(!c.exists())throw new Error("Profil de l'enfant introuvable.");const u=c.data(),f=await tS(e),h=await E0(e),p=h.slice(0,fU).map(E=>({quizTitre:E.quizTitre||"Quiz",disciplineNom:E.disciplineNom||"Discipline",pourcentage:E.pourcentage,noteSur20:Math.round(E.pourcentage/100*20*10)/10,reussi:E.reussi,datePassage:Cs(E.datePassage)})),g=await Jpe(t,e,u.displayName||u.email,f.lacunes,f.streak,f.scoreGlobal,h),y=ege(e,u.displayName||u.email,f,h),_=i.docs[0];return await Mn(tt(Se,"liens_parent_enfant",_.id),{dateDerniereConsultation:new Date}),{enfant:{id:e,nom:u.displayName||u.email,email:u.email,classe:u.classe||void 0,derniereConnexion:u.lastLogin?Cs(u.lastLogin):void 0},scoreGlobal:f.scoreGlobal,streak:{actuel:f.streak.streakActuel,meilleur:f.streak.meilleurStreak,semaineCourante:f.streak.semaineCourante},lacunes:f.lacunes.map(E=>({disciplineNom:E.disciplineNom,moyenne:E.moyenne,niveauUrgence:E.niveauUrgence,tendance:E.tendance})),objectifs:f.objectifs.map(E=>({titre:E.titre,progression:E.progression,cible:E.cible,statut:E.statut})),derniersQuiz:p,resume:y,alertes:g}}catch(n){throw console.error("Erreur dashboard parent:",n),n}}async function Jpe(t,e,n,r,i,s,c){const u=[],f=new Date;if(r.filter(p=>p.niveauUrgence==="critique").forEach(p=>{u.push({id:`alerte_parent_lacune_${p.id}`,parentId:t,enfantId:e,enfantNom:n,type:"lacune_critique",niveau:"critique",titre:` Alerte critique en ${p.disciplineNom}`,message:`${n} a une moyenne de ${p.moyenne}/20 en ${p.disciplineNom}. Un suivi rapproch est recommand.`,lue:!1,dateCreation:f})}),i.dernierJourActif){const p=mU(Cs(i.dernierJourActif),f);p>=Fpe&&u.push({id:`alerte_parent_inactif_${e}`,parentId:t,enfantId:e,enfantNom:n,type:"inactivite",niveau:"important",titre:` ${n} est inactif`,message:`${n} n'a pas utilis PedaClic depuis ${p} jours. Un petit encouragement pourrait aider !`,lue:!1,dateCreation:f})}else c.length===0&&u.push({id:`alerte_parent_jamais_actif_${e}`,parentId:t,enfantId:e,enfantNom:n,type:"inactivite",niveau:"modere",titre:` ${n} n'a pas encore commenc`,message:`${n} n'a pas encore pass de quiz sur PedaClic. Encouragez-le  commencer !`,lue:!1,dateCreation:f});s<Hpe&&c.length>0&&u.push({id:`alerte_parent_score_${e}`,parentId:t,enfantId:e,enfantNom:n,type:"score_bas",niveau:"important",titre:` Score global bas : ${s}/100`,message:`Le score de sant global de ${n} est de ${s}/100. Des efforts supplmentaires sont ncessaires dans plusieurs matires.`,lue:!1,dateCreation:f}),r.filter(p=>p.tendance==="hausse").forEach(p=>{u.push({id:`alerte_parent_progression_${p.id}`,parentId:t,enfantId:e,enfantNom:n,type:"progression",niveau:"info",titre:` Progression en ${p.disciplineNom}`,message:`Bonne nouvelle ! ${n} montre une tendance  la hausse en ${p.disciplineNom}.`,lue:!1,dateCreation:f})}),i.streakActuel>=5&&u.push({id:`alerte_parent_streak_${e}`,parentId:t,enfantId:e,enfantNom:n,type:"objectif_atteint",niveau:"info",titre:` Streak de ${i.streakActuel} jours !`,message:`Flicitations ! ${n} maintient un streak de ${i.streakActuel} jours conscutifs de travail.`,lue:!1,dateCreation:f});const h={critique:0,important:1,modere:2,info:3};return u.sort((p,g)=>h[p.niveau]-h[g.niveau]),u}function ege(t,e,n,r){const i=hU(),s=Gpe(),c=new Date(i);c.setDate(c.getDate()-7);const u=new Date(s);u.setDate(u.getDate()-7);const f=r.filter(O=>{const V=Cs(O.datePassage);return V>=i&&V<=s}),h=r.filter(O=>{const V=Cs(O.datePassage);return V>=c&&V<=u}),p=f.slice(0,fU).map(O=>({quizTitre:O.quizTitre||"Quiz",disciplineNom:O.disciplineNom||"Discipline",pourcentage:O.pourcentage,noteSur20:Math.round(O.pourcentage/100*20*10)/10,reussi:O.reussi,datePassage:Cs(O.datePassage)})),g=tge(f,h),y=new Set;f.forEach(O=>{const V=Cs(O.datePassage);y.add(`${V.getFullYear()}-${V.getMonth()}-${V.getDate()}`)});const _=f.reduce((O,V)=>O+(V.tempsEcoule||5),0);let E=0;if(h.length>0){const O=h.reduce((V,B)=>V+B.pourcentage,0)/h.length;E=Math.round(O)}let j="stable";const N=n.scoreGlobal-E;N>5?j="hausse":N<-5&&(j="baisse");const A=n.lacunes.filter(O=>O.niveauUrgence==="critique"||O.niveauUrgence==="important").map(O=>O.disciplineNom),D=n.objectifs.filter(O=>O.statut==="atteint").length,I=`${kD(i)} - ${kD(s)} ${s.getFullYear()}`;return{enfantId:t,enfantNom:e,semaine:I,dateDebut:i,dateFin:s,scoreGlobal:n.scoreGlobal,scoreGlobalPrecedent:E,evolutionScore:j,nombreQuizSemaine:f.length,tempsEstimeMinutes:Math.round(_),joursActifsSemaine:y.size,streakActuel:n.streak.streakActuel,derniersQuiz:p,evolutionDisciplines:g,lacunesCritiques:n.lacunes.filter(O=>O.niveauUrgence==="critique").length,lacunesImportantes:n.lacunes.filter(O=>O.niveauUrgence==="important").length,disciplinesEnDifficulte:A,objectifsAtteints:D,objectifsTotal:n.objectifs.length}}function tge(t,e){const n=new Map;t.forEach(s=>{n.has(s.disciplineId)||n.set(s.disciplineId,{scores:[],nom:s.disciplineNom||"Discipline"}),n.get(s.disciplineId).scores.push(s.pourcentage)});const r=new Map;e.forEach(s=>{r.has(s.disciplineId)||r.set(s.disciplineId,[]),r.get(s.disciplineId).push(s.pourcentage)});const i=[];return n.forEach((s,c)=>{const u=s.scores.reduce((E,j)=>E+j,0)/s.scores.length,f=r.get(c)||[],h=f.length>0?f.reduce((E,j)=>E+j,0)/f.length:u,p=Math.round(u/100*20*10)/10,g=Math.round(h/100*20*10)/10,y=Math.round((p-g)*10)/10;let _="stable";y>1?_="hausse":y<-1&&(_="baisse"),i.push({disciplineNom:s.nom,disciplineId:c,moyenneSemainePrecedente:g,moyenneSemaineCourante:p,evolution:_,ecart:y})}),i}function nge(t){return ty(t)}function rge(t){return{lacune_critique:"Lacune critique",inactivite:"Inactivit",streak_perdu:"Streak perdu",objectif_atteint:"Objectif atteint",progression:"Progression",score_bas:"Score bas",nouveau_quiz:"Nouveau quiz"}[t]||"Alerte"}function DD(t){switch(t){case"hausse":return"";case"baisse":return"";case"stable":return"";default:return""}}function ige(t){return t>=80?"Votre enfant fait un excellent travail ! Continuez  l'encourager. ":t>=60?"De bons rsultats ! Quelques efforts supplmentaires et ce sera parfait. ":t>=40?"Des progrs sont possibles. Encouragez votre enfant  suivre les recommandations. ":t>=20?"Votre enfant a besoin de soutien. Un suivi rgulier est recommand. ":"Il est temps de commencer ! Encouragez votre enfant  passer ses premiers quiz. "}function C1(t){const n=mU(t,new Date);return n===0?"Aujourd'hui":n===1?"Hier":n<7?`Il y a ${n} jours`:n<30?`Il y a ${Math.floor(n/7)} semaine(s)`:`Il y a ${Math.floor(n/30)} mois`}const age="PROF",sge=4,xg="ABCDEFGHJKLMNPQRSTUVWXYZ23456789",pU=8,oge=7,lge=16;function Rc(t){return t instanceof it?t.toDate():t instanceof Date?t:t?.seconds?new it(t.seconds,t.nanoseconds||0).toDate():new Date(t)}function cge(t,e){return Math.floor(Math.abs(e.getTime()-t.getTime())/864e5)}async function gU(){let t=0;const e=10;for(;t<e;){let n="",r="";for(let u=0;u<sge;u++)n+=xg.charAt(Math.floor(Math.random()*xg.length)),r+=xg.charAt(Math.floor(Math.random()*xg.length));const i=`${age}-${n}-${r}`,s=Ht(yt(Se,"groupes_prof"),at("codeInvitation","==",i),fl(1));if((await Gt(s)).empty)return i;t++}throw new Error("Impossible de gnrer un code unique aprs plusieurs tentatives")}async function uge(t,e,n){try{const r=await gU(),i={profId:t,profNom:e,nom:n.nom.trim(),description:n.description?.trim()||"",matiereId:n.matiereId,matiereNom:n.matiereNom,classeNiveau:n.classeNiveau,codeInvitation:r,nombreInscrits:0,statut:"actif",anneeScolaire:n.anneeScolaire,dateCreation:new Date,dateMiseAJour:new Date},s=await ma(yt(Se,"groupes_prof"),i);return console.log(` Groupe "${n.nom}" cr avec code: ${r}`),{id:s.id,...i}}catch(r){throw console.error(" Erreur cration groupe:",r),new Error("Impossible de crer le groupe. Ressayez.")}}async function vU(t){try{const e=Ht(yt(Se,"groupes_prof"),at("profId","==",t),Yr("dateCreation","desc"));return(await Gt(e)).docs.map(r=>({id:r.id,...r.data(),dateCreation:Rc(r.data().dateCreation),dateMiseAJour:r.data().dateMiseAJour?Rc(r.data().dateMiseAJour):void 0}))}catch(e){throw console.error(" Erreur rcupration groupes:",e),new Error("Impossible de charger vos groupes.")}}async function dge(t){try{const e=await zi(tt(Se,"groupes_prof",t));if(!e.exists())return null;const n=e.data();return{id:e.id,...n,dateCreation:Rc(n.dateCreation),dateMiseAJour:n.dateMiseAJour?Rc(n.dateMiseAJour):void 0}}catch(e){return console.error(" Erreur rcupration groupe:",e),null}}async function fge(t,e){try{const n=tt(Se,"groupes_prof",t);await Mn(n,{...e,dateMiseAJour:new Date}),console.log(` Groupe ${t} mis  jour`)}catch(n){throw console.error(" Erreur modification groupe:",n),new Error("Impossible de modifier le groupe.")}}async function hge(t){try{const e=Sh(Se),n=Ht(yt(Se,"inscriptions_groupe"),at("groupeId","==",t));(await Gt(n)).docs.forEach(i=>e.delete(i.ref)),e.delete(tt(Se,"groupes_prof",t)),await e.commit(),console.log(` Groupe ${t} et ses inscriptions supprims`)}catch(e){throw console.error(" Erreur suppression groupe:",e),new Error("Impossible de supprimer le groupe.")}}async function mge(t){await fge(t,{statut:"archive"})}async function pge(t){try{const e=await gU();return await Mn(tt(Se,"groupes_prof",t),{codeInvitation:e,dateMiseAJour:new Date}),console.log(` Nouveau code pour groupe ${t}: ${e}`),e}catch(e){throw console.error(" Erreur rgnration code:",e),new Error("Impossible de rgnrer le code.")}}async function gge(t,e,n,r){try{const i=r.trim().toUpperCase(),s=Ht(yt(Se,"groupes_prof"),at("codeInvitation","==",i),fl(1)),c=await Gt(s);if(c.empty)throw new Error("Code d'invitation invalide. Vrifiez le code et ressayez.");const u=c.docs[0],f=u.data();if(f.statut!=="actif")throw new Error("Ce groupe n'accepte plus de nouvelles inscriptions.");const h=Ht(yt(Se,"inscriptions_groupe"),at("groupeId","==",u.id),at("eleveId","==",t),at("statut","==","actif"),fl(1));if(!(await Gt(h)).empty)throw new Error("Tu es dj inscrit(e) dans ce groupe.");const g={groupeId:u.id,eleveId:t,eleveNom:e,eleveEmail:n,statut:"actif",dateInscription:new Date},y=await ma(yt(Se,"inscriptions_groupe"),g);return await Mn(tt(Se,"groupes_prof",u.id),{nombreInscrits:E4(1),dateMiseAJour:new Date}),console.log(` lve ${e} inscrit au groupe "${f.nom}"`),{id:y.id,...g}}catch(i){throw console.error(" Erreur inscription groupe:",i),i}}async function N0(t,e="actif"){try{const n=Ht(yt(Se,"inscriptions_groupe"),at("groupeId","==",t),at("statut","==",e),Yr("dateInscription","asc"));return(await Gt(n)).docs.map(i=>({id:i.id,...i.data(),dateInscription:Rc(i.data().dateInscription),dateRetrait:i.data().dateRetrait?Rc(i.data().dateRetrait):void 0}))}catch(n){throw console.error(" Erreur rcupration lves groupe:",n),new Error("Impossible de charger les lves du groupe.")}}async function vge(t){try{const e=Ht(yt(Se,"inscriptions_groupe"),at("eleveId","==",t),at("statut","==","actif")),n=await Gt(e);if(n.empty)return[];const r=[];for(const i of n.docs){const s=i.data().groupeId,c=await dge(s);c&&c.statut==="actif"&&r.push(c)}return r}catch(e){return console.error(" Erreur rcupration groupes lve:",e),[]}}async function yge(t,e){try{await Mn(tt(Se,"inscriptions_groupe",t),{statut:"retire",dateRetrait:new Date}),await Mn(tt(Se,"groupes_prof",e),{nombreInscrits:E4(-1),dateMiseAJour:new Date}),console.log(" lve retir du groupe")}catch(n){throw console.error(" Erreur retrait lve:",n),new Error("Impossible de retirer l'lve du groupe.")}}async function nS(t){try{const n=(await N0(t)).map(y=>y.eleveId);if(n.length===0)return{groupeId:t,nombreEleves:0,moyenneClasse:0,tauxReussite:0,tauxParticipation:0,totalQuizPasses:0,elevesEnDifficulte:0,meilleureNote:0,pireNote:0,derniereMiseAJour:new Date};const r=[],i=[];for(let y=0;y<n.length;y+=10)i.push(n.slice(y,y+10));for(const y of i){const _=Ht(yt(Se,"quiz_results"),at("userId","in",y));(await Gt(_)).docs.forEach(j=>r.push({id:j.id,...j.data()}))}const s=new Map;for(const y of r){const _=y.userId;s.has(_)||s.set(_,{total:0,somme:0,reussis:0});const E=s.get(_);E.total++,E.somme+=y.score||0,(y.score||0)>=10&&E.reussis++}let c=0,u=0,f=0,h=0,p=20,g=0;for(const[,y]of s){const _=y.total>0?y.somme/y.total:0;c+=_,u++,g+=y.total,_<pU&&f++,_>h&&(h=_),_<p&&(p=_)}return u===0&&(p=0),{groupeId:t,nombreEleves:n.length,moyenneClasse:u>0?Math.round(c/u*10)/10:0,tauxReussite:g>0?Math.round(Array.from(s.values()).reduce((y,_)=>y+_.reussis,0)/g*100):0,tauxParticipation:Math.round(u/n.length*100),totalQuizPasses:g,elevesEnDifficulte:f,meilleureNote:Math.round(h*10)/10,pireNote:Math.round(p*10)/10,derniereMiseAJour:new Date}}catch(e){throw console.error(" Erreur calcul stats groupe:",e),new Error("Impossible de calculer les statistiques du groupe.")}}async function bge(t){try{const e=await N0(t);if(e.length===0)return[];const n=[];for(const r of e)try{const i=await tS(r.eleveId),s=Ht(yt(Se,"quiz_results"),at("userId","==",r.eleveId),Yr("datePassage","desc")),u=(await Gt(s)).docs.map(_=>_.data());let f=0,h=0,p;if(u.length>0){const _=u.reduce((E,j)=>E+(j.score||0),0);f=Math.round(_/u.length*10)/10,h=Math.round(u.filter(E=>(E.score||0)>=10).length/u.length*100),p=Rc(u[0].datePassage)}let g="stable";if(u.length>=4){const _=u.slice(0,Math.ceil(u.length/2)),E=u.slice(Math.ceil(u.length/2)),j=_.reduce((A,D)=>A+(D.score||0),0)/_.length,N=E.reduce((A,D)=>A+(D.score||0),0)/E.length;j-N>1?g="hausse":N-j>1&&(g="baisse")}const y=i.lacunes.map(_=>({disciplineNom:_.disciplineNom,chapitre:_.chapitre,moyenne:_.moyenne,niveauUrgence:_.niveauUrgence}));n.push({eleveId:r.eleveId,eleveNom:r.eleveNom,eleveEmail:r.eleveEmail,moyenne:f,totalQuiz:u.length,tauxReussite:h,scoreGlobal:i.scoreGlobal,streak:{actuel:i.streak.streakActuel,meilleur:i.streak.meilleurStreak},lacunes:y,dernierQuiz:p,tendance:g})}catch(i){console.warn(` Suivi incomplet pour lve ${r.eleveNom}:`,i),n.push({eleveId:r.eleveId,eleveNom:r.eleveNom,eleveEmail:r.eleveEmail,moyenne:0,totalQuiz:0,tauxReussite:0,scoreGlobal:0,streak:{actuel:0,meilleur:0},lacunes:[],tendance:"stable"})}return n.sort((r,i)=>i.moyenne-r.moyenne),n}catch(e){throw console.error(" Erreur stats lves groupe:",e),new Error("Impossible de charger les statistiques des lves.")}}async function _ge(t,e){try{const r=(await N0(t)).map(y=>y.eleveId);if(r.length===0)return null;const i=await zi(tt(Se,"quizzes",e));if(!i.exists())return null;const s=i.data(),c=[],u=[];for(let y=0;y<r.length;y+=10)u.push(r.slice(y,y+10));for(const y of u){const _=Ht(yt(Se,"quiz_results"),at("quizId","==",e),at("userId","in",y));(await Gt(_)).docs.forEach(j=>c.push(j.data()))}if(c.length===0)return null;const f=c.map(y=>y.score||0),h=c.map(y=>y.tempsEcoule||0),p=s.questions||[],g=[];for(let y=0;y<p.length;y++){const _=p[y];let E=0;const j=new Map;for(const D of c){const I=D.reponses?.[y];I!==void 0&&(j.set(I,(j.get(I)||0)+1),I!==_.reponseCorrecte&&E++)}const N=Math.round(E/c.length*100),A=Array.from(j.entries()).filter(([D])=>D!==_.reponseCorrecte).map(([D,I])=>({reponse:_.options?.[D]||`Option ${D+1}`,nombre:I})).sort((D,I)=>I.nombre-D.nombre);g.push({questionIndex:y,questionTexte:_.question,tauxEchec:N,reponseCorrecte:_.options?.[_.reponseCorrecte]||"N/A",reponsesFrequentes:A})}return g.sort((y,_)=>_.tauxEchec-y.tauxEchec),{quizId:e,quizTitre:s.titre||"Quiz sans titre",disciplineNom:s.disciplineNom||"",totalPassages:c.length,moyenneScore:Math.round(f.reduce((y,_)=>y+_,0)/f.length*10)/10,tauxReussite:Math.round(f.filter(y=>y>=10).length/f.length*100),tempsEcouleMoyen:Math.round(h.reduce((y,_)=>y+_,0)/h.length),questionsRatees:g}}catch(n){return console.error(" Erreur analyse quiz groupe:",n),null}}async function xge(t){try{const e=Ht(yt(Se,"quizzes"),at("disciplineId","==",t),Yr("createdAt","desc"));return(await Gt(e)).docs.map(r=>({id:r.id,titre:r.data().titre||"Quiz sans titre"}))}catch(e){return console.error(" Erreur rcupration quiz par matire:",e),[]}}function wge(t,e){const n=[],r=new Date;for(const s of t){if(s.totalQuiz>0&&s.moyenne<pU&&n.push({id:`diff-${s.eleveId}`,type:"difficulte",eleveNom:s.eleveNom,eleveId:s.eleveId,groupeNom:e,message:`${s.eleveNom} a une moyenne de ${s.moyenne}/20. Lacunes : ${s.lacunes.map(c=>c.disciplineNom).join(", ")||"non dtectes"}.`,niveauUrgence:s.moyenne<5?"critique":"important",dateCreation:r}),s.dernierQuiz){const c=cge(s.dernierQuiz,r);c>=oge&&n.push({id:`inact-${s.eleveId}`,type:"inactivite",eleveNom:s.eleveNom,eleveId:s.eleveId,groupeNom:e,message:`${s.eleveNom} n'a pas fait de quiz depuis ${c} jours.`,niveauUrgence:c>=14?"important":"info",dateCreation:r})}else s.totalQuiz===0&&n.push({id:`inact-${s.eleveId}`,type:"inactivite",eleveNom:s.eleveNom,eleveId:s.eleveId,groupeNom:e,message:`${s.eleveNom} n'a encore pass aucun quiz.`,niveauUrgence:"info",dateCreation:r});s.tendance==="baisse"&&s.totalQuiz>=4&&n.push({id:`baisse-${s.eleveId}`,type:"baisse",eleveNom:s.eleveNom,eleveId:s.eleveId,groupeNom:e,message:`${s.eleveNom} est en baisse de rsultats (tendance ngative).`,niveauUrgence:"important",dateCreation:r}),s.moyenne>=lge&&s.totalQuiz>=3&&n.push({id:`felicite-${s.eleveId}`,type:"felicitation",eleveNom:s.eleveNom,eleveId:s.eleveId,groupeNom:e,message:`${s.eleveNom} excelle avec ${s.moyenne}/20 ! `,niveauUrgence:"info",dateCreation:r})}const i={critique:0,important:1,info:2};return n.sort((s,c)=>i[s.niveauUrgence]-i[c.niveauUrgence]),n}function jge(t,e){const n=["Nom","Email","Moyenne (/20)","Quiz passs","Taux russite (%)","Streak (jours)","Lacunes principales","Tendance"],r=t.map(s=>{const c=s.lacunes.map(u=>`${u.disciplineNom} (${u.moyenne}/20)`).join(" | ")||"Aucune";return[`"${s.eleveNom}"`,`"${s.eleveEmail}"`,s.moyenne.toString(),s.totalQuiz.toString(),s.tauxReussite.toString(),s.streak.actuel.toString(),`"${c}"`,s.tendance].join(",")});return"\uFEFF"+[n.join(","),...r].join(`
`)}function Ege(t,e){const n=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`${e}.csv`,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}const Nge=()=>{const{currentUser:t}=Zn(),[e,n]=w.useState([]),[r,i]=w.useState(!1),[s,c]=w.useState(""),[u,f]=w.useState(!0),[h,p]=w.useState(!1),[g,y]=w.useState(null),[_,E]=w.useState(null),j=w.useCallback(async()=>{if(t?.uid)try{f(!0);const A=await vge(t.uid);n(A)}catch(A){console.error("Erreur chargement groupes:",A)}finally{f(!1)}},[t?.uid]);w.useEffect(()=>{j()},[j]);const N=async A=>{if(A.preventDefault(),!(!t?.uid||!s.trim()))try{p(!0),y(null),E(null),await gge(t.uid,t.displayName||t.email||"lve",t.email||"",s),E("Tu as rejoint le groupe avec succs ! "),c(""),i(!1),await j(),setTimeout(()=>E(null),5e3)}catch(D){y(D.message||"Impossible de rejoindre le groupe.")}finally{p(!1)}};return o.jsxs("div",{className:"rejoindre-groupe-section",children:[o.jsxs("div",{className:"rejoindre-groupe-header",children:[o.jsx("h3",{children:" Mes groupes-classes"}),o.jsx("button",{className:"prof-btn prof-btn-primary prof-btn-sm",onClick:()=>i(!r),children:r?" Annuler":" Rejoindre un groupe"})]}),g&&o.jsxs("div",{className:"prof-alert prof-alert-error",children:[" ",g,o.jsx("button",{onClick:()=>y(null),className:"prof-alert-close",children:""})]}),_&&o.jsx("div",{className:"prof-alert",style:{background:"#d1fae5",border:"1px solid #a7f3d0",color:"#065f46"},children:_}),r&&o.jsxs("div",{className:"groupe-form-container",style:{marginBottom:"1rem"},children:[o.jsx("p",{style:{marginBottom:"0.75rem",color:"#6b7280",fontSize:"0.875rem"},children:"Saisis le code donn par ton professeur (format: PROF-XXXX-XXXX)"}),o.jsxs("form",{onSubmit:N,style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[o.jsx("input",{type:"text",placeholder:"PROF-XXXX-XXXX",value:s,onChange:A=>c(A.target.value.toUpperCase()),maxLength:14,disabled:h,className:"prof-input",style:{flex:1,maxWidth:"280px",fontFamily:"monospace",letterSpacing:"2px"}}),o.jsx("button",{type:"submit",className:"prof-btn prof-btn-primary",disabled:h||s.length<14,children:h?" Vrification...":" Rejoindre"})]})]}),u?o.jsx("p",{style:{color:"#9ca3af",textAlign:"center",padding:"1rem"},children:"Chargement..."}):e.length===0?o.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#9ca3af"},children:[o.jsx("p",{children:"Tu n'es inscrit(e) dans aucun groupe-classe."}),o.jsx("p",{style:{fontSize:"0.875rem"},children:"Demande  ton professeur un code d'invitation pour rejoindre son groupe."})]}):o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:e.map(A=>o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem",background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[o.jsxs("div",{children:[o.jsx("strong",{style:{color:"#1f2937"},children:A.nom}),o.jsxs("span",{style:{display:"block",fontSize:"0.75rem",color:"#9ca3af"},children:[A.matiereNom,"  Prof: ",A.profNom]})]}),o.jsx("span",{style:{fontSize:"0.875rem",color:"#10b981",fontWeight:600},children:" Inscrit(e)"})]},A.id))})]})},Sge=()=>{const t=Vi(),{currentUser:e}=Zn(),[n,r]=w.useState(null),[i,s]=w.useState([]),[c,u]=w.useState([]),[f,h]=w.useState([]),[p,g]=w.useState([]),[y,_]=w.useState([]),[E,j]=w.useState(!0),[N,A]=w.useState("overview"),[D,I]=w.useState(null),[O,V]=w.useState(!1),[B,k]=w.useState(!1),C=async()=>{if(e){V(!0);try{const M=await Qpe(e.uid);I(M)}catch(M){console.error("Erreur gnration code parent :",M)}finally{V(!1)}}},R=()=>{D&&(navigator.clipboard.writeText(D),k(!0),setTimeout(()=>k(!1),2e3))};if(w.useEffect(()=>{(async()=>{if(e){j(!0);try{const[Q,W,G,le,be]=await Promise.all([sX(e.uid),oX(e.uid),lX(e.uid,20),Py(e.uid,10),Y4().catch(()=>[])]);r(Q),s(W),u(G),h(le),g(be);const je=cX(Q,W);_(je)}catch(Q){console.error("Erreur chargement dashboard :",Q)}finally{j(!1)}}})()},[e]),E)return o.jsxs("div",{className:"sd-loading",children:[o.jsx("div",{className:"admin-spinner"}),o.jsx("p",{children:"Chargement de votre tableau de bord..."})]});const U=y.filter(M=>M.obtenu),L=y.length,z=e?.displayName||e?.email?.split("@")[0]||"lve";return o.jsxs("div",{className:"student-dashboard",children:[o.jsxs("div",{className:"sd-welcome",children:[o.jsxs("div",{className:"sd-welcome-text",children:[o.jsxs("h1",{children:["Bienvenue, ",z," "]}),o.jsx("p",{children:n&&n.totalQuizPasses>0?`Vous avez pass ${n.totalQuizPasses} quiz${n.totalQuizPasses>1,""} avec une moyenne de ${n.moyenneGenerale}%. Continuez !`:"Commencez par passer votre premier quiz pour suivre votre progression !"})]}),e?.isPremium&&o.jsxs("span",{className:"sd-premium-badge",children:[o.jsx(fi,{size:14})," Premium"]})]}),o.jsxs("div",{className:"sd-stats-grid",children:[o.jsxs("div",{className:"sd-stat-card",children:[o.jsx("div",{className:"sd-stat-icon",style:{background:"#eff6ff",color:"#3b82f6"},children:o.jsx(oa,{size:22})}),o.jsxs("div",{className:"sd-stat-content",children:[o.jsx("span",{className:"sd-stat-value",children:n?.totalQuizPasses||0}),o.jsx("span",{className:"sd-stat-label",children:"Quiz passs"})]})]}),o.jsxs("div",{className:"sd-stat-card",children:[o.jsx("div",{className:"sd-stat-icon",style:{background:"#f0fdf4",color:"#10b981"},children:o.jsx(OO,{size:22})}),o.jsxs("div",{className:"sd-stat-content",children:[o.jsxs("span",{className:"sd-stat-value",style:{color:Uu(n?.moyenneGenerale||0)},children:[n?.moyenneGenerale||0,"%"]}),o.jsx("span",{className:"sd-stat-label",children:"Moyenne gnrale"})]})]}),o.jsxs("div",{className:"sd-stat-card",children:[o.jsx("div",{className:"sd-stat-icon",style:{background:"#fefce8",color:"#f59e0b"},children:o.jsx(K4,{size:22})}),o.jsxs("div",{className:"sd-stat-content",children:[o.jsxs("span",{className:"sd-stat-value",children:[n?.meilleurScore||0,"%"]}),o.jsx("span",{className:"sd-stat-label",children:"Meilleur score"})]})]}),o.jsxs("div",{className:"sd-stat-card",children:[o.jsx("div",{className:"sd-stat-icon",style:{background:"#fef2f2",color:"#ef4444"},children:o.jsx(Q4,{size:22})}),o.jsxs("div",{className:"sd-stat-content",children:[o.jsx("span",{className:"sd-stat-value",children:n?.serieReussites||0}),o.jsx("span",{className:"sd-stat-label",children:"Srie en cours "})]})]})]}),o.jsxs("div",{className:"sd-chart-card",style:{marginBottom:"1.5rem"},children:[o.jsx("h3",{className:"sd-section-title",children:" Code Parent"}),o.jsx("p",{style:{color:"#6b7280",fontSize:"0.9rem",marginBottom:"1rem"},children:"Partagez ce code avec vos parents pour qu'ils puissent suivre votre progression depuis leur Espace Parent."}),D?o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[o.jsx("span",{style:{fontFamily:"monospace",fontSize:"1.4rem",fontWeight:700,letterSpacing:"0.1em",background:"#eff6ff",color:"#2563eb",padding:"0.75rem 1.5rem",borderRadius:"12px",border:"2px dashed #93c5fd",userSelect:"all"},children:D}),o.jsx("button",{className:"sd-btn",onClick:R,style:{display:"inline-flex",alignItems:"center",gap:"0.4rem",background:B?"#10b981":"#f3f4f6",color:B?"#fff":"#374151",border:"none",padding:"0.6rem 1rem",borderRadius:"8px",cursor:"pointer",fontWeight:500,transition:"all 0.2s"},children:B?" Copi !":" Copier"})]}):o.jsx("button",{className:"sd-btn sd-btn-primary",onClick:C,disabled:O,style:{display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:O?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"admin-spinner",style:{width:"16px",height:"16px"}}),"Gnration..."]}):o.jsx(o.Fragment,{children:" Gnrer mon code"})})]}),o.jsx("div",{className:"sd-chart-card",style:{marginBottom:"1.5rem"},children:o.jsx(Nge,{})}),o.jsxs("div",{className:"sd-tabs",children:[o.jsxs("button",{className:`sd-tab ${N==="overview"?"active":""}`,onClick:()=>A("overview"),children:[o.jsx(Xu,{size:16})," Vue d'ensemble"]}),o.jsxs("button",{className:`sd-tab ${N==="history"?"active":""}`,onClick:()=>A("history"),children:[o.jsx($_,{size:16})," Historique"]}),o.jsxs("button",{className:`sd-tab ${N==="badges"?"active":""}`,onClick:()=>A("badges"),children:[o.jsx(Ec,{size:16})," Badges (",U.length,"/",L,")"]})]}),N==="overview"&&o.jsxs("div",{className:"sd-overview",children:[c.length>1&&o.jsxs("div",{className:"sd-chart-card",children:[o.jsxs("h3",{className:"sd-section-title",children:[o.jsx(uw,{size:18})," volution de vos scores"]}),o.jsx("div",{className:"sd-chart-container",children:o.jsx(vI,{width:"100%",height:280,children:o.jsxs(Spe,{data:c,children:[o.jsx(nj,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),o.jsx(oj,{dataKey:"date",tick:{fontSize:12,fill:"#6b7280"},tickLine:!1}),o.jsx(uj,{domain:[0,100],tick:{fontSize:12,fill:"#6b7280"},tickLine:!1,unit:"%"}),o.jsx(Ek,{formatter:M=>[`${M}%`,"Score"],labelFormatter:M=>`Date : ${M}`,contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb",boxShadow:"0 4px 6px rgba(0,0,0,0.07)"}}),o.jsx(Gq,{type:"monotone",dataKey:"score",stroke:"#3b82f6",strokeWidth:2.5,dot:{r:4,fill:"#3b82f6",stroke:"#fff",strokeWidth:2},activeDot:{r:6}})]})})})]}),i.length>0&&o.jsxs("div",{className:"sd-chart-card",children:[o.jsxs("h3",{className:"sd-section-title",children:[o.jsx(Xu,{size:18})," Progression par discipline"]}),o.jsx("div",{className:"sd-chart-container",children:o.jsx(vI,{width:"100%",height:280,children:o.jsxs(Tpe,{data:i,layout:"vertical",children:[o.jsx(nj,{strokeDasharray:"3 3",stroke:"#e5e7eb",horizontal:!1}),o.jsx(oj,{type:"number",domain:[0,100],tick:{fontSize:12,fill:"#6b7280"},unit:"%"}),o.jsx(uj,{type:"category",dataKey:"disciplineNom",width:120,tick:{fontSize:12,fill:"#374151"}}),o.jsx(Ek,{formatter:M=>[`${M}%`,"Moyenne"],contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb",boxShadow:"0 4px 6px rgba(0,0,0,0.07)"}}),o.jsx(Xq,{dataKey:"moyenne",radius:[0,6,6,0],barSize:24,children:i.map((M,Q)=>o.jsx($N,{fill:Uu(M.moyenne)},Q))})]})})}),o.jsx("div",{className:"sd-disc-list",children:i.map(M=>o.jsxs("div",{className:"sd-disc-card",children:[o.jsxs("div",{className:"sd-disc-header",children:[o.jsx("span",{className:"sd-disc-name",children:M.disciplineNom}),o.jsxs("span",{className:"sd-disc-tendance",children:[M.tendance==="up"&&o.jsx(uw,{size:16,className:"tendance-up"}),M.tendance==="down"&&o.jsx(lY,{size:16,className:"tendance-down"}),M.tendance==="stable"&&o.jsx(qW,{size:16,className:"tendance-stable"})]})]}),o.jsxs("div",{className:"sd-disc-stats",children:[o.jsxs("div",{className:"sd-disc-stat",children:[o.jsxs("span",{className:"sd-disc-stat-value",style:{color:Uu(M.moyenne)},children:[M.moyenne,"%"]}),o.jsx("span",{className:"sd-disc-stat-label",children:"Moyenne"})]}),o.jsxs("div",{className:"sd-disc-stat",children:[o.jsx("span",{className:"sd-disc-stat-value",children:M.nombreQuiz}),o.jsx("span",{className:"sd-disc-stat-label",children:"Quiz"})]}),o.jsxs("div",{className:"sd-disc-stat",children:[o.jsxs("span",{className:"sd-disc-stat-value",children:[M.meilleurScore,"%"]}),o.jsx("span",{className:"sd-disc-stat-label",children:"Meilleur"})]}),o.jsxs("div",{className:"sd-disc-stat",children:[o.jsxs("span",{className:"sd-disc-stat-value",children:[M.quizReussis,"/",M.nombreQuiz]}),o.jsx("span",{className:"sd-disc-stat-label",children:"Russis"})]})]}),o.jsx("div",{className:"sd-disc-bar",children:o.jsx("div",{className:"sd-disc-bar-fill",style:{width:`${M.moyenne}%`,background:Uu(M.moyenne)}})})]},M.disciplineId))})]}),p.length>0&&o.jsxs("div",{className:"sd-chart-card",children:[o.jsxs("h3",{className:"sd-section-title",children:[o.jsx(dh,{size:18})," Quiz disponibles"]}),o.jsx("div",{className:"sd-quiz-grid",children:p.slice(0,6).map(M=>{const Q=M.isPremium&&!e?.isPremium;return o.jsxs("div",{className:`sd-quiz-card ${Q?"locked":""}`,onClick:()=>!Q&&t(`/quiz/${M.id}`),children:[M.isPremium&&o.jsxs("span",{className:"sd-quiz-badge-premium",children:[Q?o.jsx(cw,{size:10}):o.jsx(fi,{size:10})," Premium"]}),o.jsx("h4",{className:"sd-quiz-title",children:M.titre}),o.jsxs("div",{className:"sd-quiz-meta",children:[o.jsxs("span",{children:[o.jsx(oa,{size:12})," ",M.questions.length," questions"]}),o.jsxs("span",{children:[o.jsx(od,{size:12})," ",M.duree," min"]})]}),!Q&&o.jsxs("button",{className:"sd-quiz-play-btn",children:[o.jsx(dh,{size:14})," Commencer"]}),Q&&o.jsxs("button",{className:"sd-quiz-unlock-btn",onClick:W=>{W.stopPropagation(),t("/premium")},children:[o.jsx(cw,{size:14})," Dbloquer"]})]},M.id)})})]}),n&&n.totalQuizPasses===0&&o.jsxs("div",{className:"sd-empty-state",children:[o.jsx(OO,{size:48}),o.jsx("h3",{children:"Commencez votre parcours !"}),o.jsx("p",{children:"Passez votre premier quiz pour voir votre progression ici."}),p.length>0&&o.jsxs("button",{className:"sd-btn sd-btn-primary",onClick:()=>t(`/quiz/${p[0].id}`),children:[o.jsx(dh,{size:18})," Passer un quiz"]})]})]}),N==="history"&&o.jsx("div",{className:"sd-history",children:f.length===0?o.jsxs("div",{className:"sd-empty-state",children:[o.jsx($_,{size:48}),o.jsx("h3",{children:"Aucun quiz pass"}),o.jsx("p",{children:"Votre historique apparatra ici aprs avoir pass des quiz."})]}):o.jsx("div",{className:"sd-history-list",children:f.map(M=>{const Q=M.datePassage?.toDate?M.datePassage.toDate():new Date(M.datePassage);return o.jsxs("div",{className:`sd-history-item ${M.reussi?"success":"fail"}`,children:[o.jsx("div",{className:`sd-history-icon ${M.reussi?"success":"fail"}`,children:M.reussi?o.jsx(yn,{size:20}):o.jsx(sw,{size:20})}),o.jsxs("div",{className:"sd-history-content",children:[o.jsxs("div",{className:"sd-history-top",children:[o.jsx("span",{className:"sd-history-title",children:M.quizTitre}),o.jsx("span",{className:"sd-history-discipline",children:M.disciplineNom})]}),o.jsxs("div",{className:"sd-history-meta",children:[o.jsxs("span",{children:[o.jsx($_,{size:12}),Q.toLocaleDateString("fr-SN",{day:"2-digit",month:"long",year:"numeric"})]}),o.jsxs("span",{children:[o.jsx(od,{size:12})," ",J4(M.tempsEcoule)]}),o.jsxs("span",{children:[o.jsx(yn,{size:12})," ",M.bonnesReponses,"/",M.nombreQuestions]})]})]}),o.jsxs("div",{className:"sd-history-score",style:{color:Uu(M.pourcentage)},children:[o.jsxs("span",{className:"sd-history-score-value",children:[M.pourcentage,"%"]}),o.jsx("span",{className:"sd-history-score-label",children:eL(M.pourcentage)})]})]},M.id)})})}),N==="badges"&&o.jsxs("div",{className:"sd-badges",children:[o.jsxs("div",{className:"sd-badges-summary",children:[o.jsxs("div",{className:"sd-badges-circle",children:[o.jsx("span",{className:"sd-badges-count",children:U.length}),o.jsxs("span",{className:"sd-badges-total",children:["/ ",L]})]}),o.jsx("p",{children:"badges obtenus"}),o.jsx("div",{className:"sd-badges-progress",children:o.jsx("div",{className:"sd-badges-progress-fill",style:{width:`${U.length/L*100}%`}})})]}),o.jsx("div",{className:"sd-badges-grid",children:y.map(M=>o.jsxs("div",{className:`sd-badge-card ${M.obtenu?"obtained":"locked"}`,children:[o.jsx("span",{className:"sd-badge-icon",children:M.icone}),o.jsx("h4",{className:"sd-badge-name",children:M.nom}),o.jsx("p",{className:"sd-badge-description",children:M.description}),o.jsx("span",{className:"sd-badge-condition",children:M.condition}),M.obtenu&&o.jsx("span",{className:"sd-badge-obtained-tag",children:" Obtenu"})]},M.id))})]})]})},Age=()=>{const{currentUser:t}=Zn(),e=Vi(),[n,r]=w.useState(null),[i,s]=w.useState(!0),[c,u]=w.useState(null),f=["L","M","M","J","V","S","D"],h=w.useCallback(async()=>{if(t?.uid)try{s(!0),u(null);const I=await tS(t.uid);r(I)}catch(I){console.error("Erreur chargement suivi:",I),u("Impossible de charger ton suivi. Vrifie ta connexion et ressaie.")}finally{s(!1)}},[t?.uid]);w.useEffect(()=>{h()},[h]);const p=(()=>{const I=new Date().getDay();return I===0?6:I-1})();if(i)return o.jsx("div",{className:"suivi-page",children:o.jsx("div",{className:"suivi-container",children:o.jsxs("div",{className:"suivi-loading",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{className:"suivi-loading-text",children:"Analyse de ta progression en cours..."})]})})});if(c)return o.jsx("div",{className:"suivi-page",children:o.jsx("div",{className:"suivi-container",children:o.jsxs("div",{className:"suivi-error",children:[o.jsx("p",{className:"suivi-error-title",children:" Erreur de chargement"}),o.jsx("p",{className:"suivi-error-text",children:c}),o.jsx("button",{className:"suivi-btn-retry",onClick:h,children:" Ressayer"})]})})});if(!n)return null;const{lacunes:g,recommandations:y,streak:_,objectifs:E,scoreGlobal:j}=n,N=2*Math.PI*40,A=N-j/100*N,D=j>=60?"#10b981":j>=30?"#f59e0b":"#ef4444";return o.jsx("div",{className:"suivi-page",children:o.jsxs("div",{className:"suivi-container",children:[o.jsx("div",{className:"suivi-header",children:o.jsxs("div",{className:"suivi-header-content",children:[o.jsxs("div",{children:[o.jsx("h1",{children:" Mes points  amliorer"}),o.jsx("p",{className:"suivi-motivation",children:Upe(j)})]}),o.jsxs("div",{className:"score-global-circle",children:[o.jsxs("svg",{className:"score-circle-svg",viewBox:"0 0 100 100",children:[o.jsx("circle",{className:"score-circle-bg",cx:"50",cy:"50",r:"40"}),o.jsx("circle",{className:"score-circle-progress",cx:"50",cy:"50",r:"40",stroke:D,strokeDasharray:N,strokeDashoffset:A}),o.jsx("text",{className:"score-circle-text",x:"50",y:"50",children:j})]}),o.jsx("span",{className:"score-global-label",children:"Score global"})]})]})}),o.jsxs("div",{className:"streak-card",children:[o.jsxs("div",{className:"streak-header",children:[o.jsx("span",{className:"streak-flamme",children:_.streakActuel>0?"":""}),o.jsxs("div",{children:[o.jsx("div",{className:"streak-nombre",children:_.streakActuel}),o.jsx("div",{className:"streak-label",children:_.streakActuel<=1?"jour conscutif":"jours conscutifs"})]})]}),o.jsx("div",{className:"streak-semaine",children:f.map((I,O)=>o.jsxs("div",{className:"streak-jour",children:[o.jsx("span",{className:"streak-jour-label",children:I}),o.jsx("div",{className:`streak-jour-indicateur ${_.semaineCourante[O]?"actif":"inactif"} ${O===p?"aujourd-hui":""}`,children:_.semaineCourante[O]?"":""})]},O))}),o.jsxs("div",{className:"streak-stats",children:[o.jsxs("div",{className:"streak-stat",children:[o.jsx("span",{className:"streak-stat-icon",children:""}),o.jsx("span",{className:"streak-stat-value",children:_.meilleurStreak}),o.jsx("span",{className:"streak-stat-label",children:"record"})]}),o.jsxs("div",{className:"streak-stat",children:[o.jsx("span",{className:"streak-stat-icon",children:""}),o.jsx("span",{className:"streak-stat-value",children:_.totalJoursActifs}),o.jsx("span",{className:"streak-stat-label",children:"jours actifs au total"})]}),_.dernierJourActif&&o.jsxs("div",{className:"streak-stat",children:[o.jsx("span",{className:"streak-stat-icon",children:""}),o.jsxs("span",{className:"streak-stat-label",children:["Dernier quiz : ",new Date(_.dernierJourActif).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})]})]})]})]}),o.jsxs("h2",{className:"suivi-section-title",children:[" Objectifs de la semaine",o.jsx("span",{className:"suivi-section-badge",children:E.length})]}),E.length>0?o.jsx("div",{className:"objectifs-grid",children:E.map(I=>{const O=Vpe(I);return o.jsxs("div",{className:`objectif-card ${I.statut==="atteint"?"atteint":""}`,children:[o.jsxs("div",{className:"objectif-header",children:[o.jsx("span",{className:"objectif-titre",children:I.titre}),I.recompense&&o.jsx("span",{className:"objectif-recompense",children:I.recompense})]}),o.jsx("p",{className:"objectif-description",children:I.description}),o.jsxs("div",{className:"objectif-progress",children:[o.jsxs("div",{className:"objectif-progress-labels",children:[o.jsxs("span",{className:"objectif-progress-value",children:[I.progression," / ",I.cible]}),o.jsxs("span",{className:"objectif-progress-cible",children:[O,"%"]})]}),o.jsx("div",{className:"objectif-progress-track",children:o.jsx("div",{className:`objectif-progress-fill ${I.statut==="atteint"?"atteint":""}`,style:{width:`${O}%`}})})]}),o.jsx("p",{className:`objectif-statut ${I.statut}`,children:I.statut==="atteint"?" Objectif atteint !":I.statut==="en_cours"?" En cours...":" Non commenc"})]},I.id)})}):o.jsxs("div",{className:"suivi-empty",children:[o.jsx("div",{className:"suivi-empty-icon",children:""}),o.jsx("p",{className:"suivi-empty-title",children:"Pas encore d'objectifs"}),o.jsx("p",{className:"suivi-empty-text",children:"Passe ton premier quiz pour dbloquer tes objectifs hebdomadaires !"})]}),o.jsxs("h2",{className:"suivi-section-title",children:[" Points faibles dtects",g.length>0&&o.jsx("span",{className:"suivi-section-badge",children:g.length})]}),g.length>0?o.jsx("div",{className:"lacunes-grid",children:g.map(I=>o.jsxs("div",{className:`lacune-card ${I.niveauUrgence}`,children:[o.jsxs("div",{className:"lacune-card-header",children:[o.jsx("span",{className:"lacune-discipline",children:I.disciplineNom}),o.jsx("span",{className:`lacune-badge ${I.niveauUrgence}`,children:uU(I.niveauUrgence)})]}),o.jsxs("div",{className:"lacune-score-bar",children:[o.jsxs("div",{className:"lacune-score-labels",children:[o.jsxs("span",{className:"lacune-score-value",style:{color:ty(I.niveauUrgence)},children:[I.moyenne,"/20"]}),o.jsx("span",{className:"lacune-score-objectif",children:"Objectif : 14/20"})]}),o.jsx("div",{className:"lacune-progress-track",children:o.jsx("div",{className:`lacune-progress-fill ${I.niveauUrgence}`,style:{width:`${I.moyenne/20*100}%`}})})]}),o.jsxs("div",{className:"lacune-details",children:[o.jsxs("span",{className:"lacune-detail-tag",children:[dU(I.tendance)," ",I.tendance]}),o.jsxs("span",{className:"lacune-detail-tag",children:[" ",I.nombreQuiz," quiz"]}),o.jsxs("span",{className:"lacune-detail-tag",children:["Dernier : ",I.scoreDetails.dernierScore,"/20"]})]})]},I.id))}):o.jsxs("div",{className:"suivi-empty",children:[o.jsx("div",{className:"suivi-empty-icon",children:""}),o.jsx("p",{className:"suivi-empty-title",children:"Aucune lacune dtecte !"}),o.jsx("p",{className:"suivi-empty-text",children:j>0?"Toutes tes moyennes sont au-dessus de 14/20. Bravo, continue !":"Passe des quiz pour que l'analyse puisse commencer."}),o.jsx("button",{className:"suivi-cta-btn",onClick:()=>e("/disciplines"),style:{marginTop:"1rem"},children:" Voir les disciplines"})]}),y.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs("h2",{className:"suivi-section-title",children:[" Recommandations personnalises",o.jsx("span",{className:"suivi-section-badge",children:y.length})]}),o.jsx("div",{className:"recommandations-list",children:y.map(I=>o.jsxs("div",{className:"recommandation-card",children:[o.jsx("div",{className:"recommandation-priorite",children:I.priorite}),o.jsxs("div",{className:"recommandation-content",children:[o.jsx("p",{className:"recommandation-titre",children:I.titre}),o.jsx("p",{className:"recommandation-description",children:I.description}),o.jsx("span",{className:"recommandation-discipline-tag",children:I.disciplineNom})]})]},I.id))})]}),o.jsx("div",{style:{textAlign:"center",marginTop:"1rem",marginBottom:"2rem"},children:o.jsx("button",{className:"suivi-cta-btn",onClick:()=>e("/disciplines"),children:" Passer un quiz maintenant"})})]})})},Tge=["2024-2025","2025-2026","2026-2027"],Cge=[{value:"6eme",label:"6me"},{value:"5eme",label:"5me"},{value:"4eme",label:"4me"},{value:"3eme",label:"3me"},{value:"2nde",label:"2nde"},{value:"1ere",label:"1re"},{value:"Terminale",label:"Terminale"}],Oge=({onSelectGroupe:t})=>{const{currentUser:e}=Zn(),[n,r]=w.useState([]),[i,s]=w.useState(new Map),[c,u]=w.useState(!0),[f,h]=w.useState(null),[p,g]=w.useState(!1),[y,_]=w.useState(!1),[E,j]=w.useState(null),[N,A]=w.useState(null),[D,I]=w.useState({nom:"",description:"",matiereId:"",matiereNom:"",classeNiveau:"6eme",anneeScolaire:"2024-2025"}),[O,V]=w.useState("actif"),B=w.useCallback(async()=>{if(e?.uid)try{u(!0),h(null);const Q=await vU(e.uid);r(Q);const W=new Map;for(const G of Q)if(G.statut==="actif")try{const le=await nS(G.id);W.set(G.id,le)}catch{console.warn(`Stats indisponibles pour ${G.nom}`)}s(W)}catch(Q){console.error("Erreur chargement groupes:",Q),h("Impossible de charger vos groupes. Vrifiez votre connexion.")}finally{u(!1)}},[e?.uid]);w.useEffect(()=>{B()},[B]);const k=async Q=>{if(Q.preventDefault(),!(!e?.uid||!D.nom.trim()))try{_(!0),await uge(e.uid,e.displayName||e.email||"Professeur",D),I({nom:"",description:"",matiereId:"",matiereNom:"",classeNiveau:"6eme",anneeScolaire:"2024-2025"}),g(!1),await B()}catch(W){h(W.message||"Erreur lors de la cration du groupe.")}finally{_(!1)}},C=async Q=>{try{await navigator.clipboard.writeText(Q),j(Q),setTimeout(()=>j(null),2e3)}catch{const W=document.createElement("textarea");W.value=Q,document.body.appendChild(W),W.select(),document.execCommand("copy"),document.body.removeChild(W),j(Q),setTimeout(()=>j(null),2e3)}},R=async Q=>{try{await hge(Q),A(null),await B()}catch(W){h(W.message)}},U=async Q=>{try{await mge(Q),await B()}catch(W){h(W.message)}},L=async Q=>{try{await pge(Q),await B()}catch(W){h(W.message)}},z=(Q,W)=>{I(G=>({...G,[Q]:W}))},M=n.filter(Q=>O==="tous"?!0:Q.statut===O);return c?o.jsxs("div",{className:"prof-loading",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Chargement de vos groupes-classes..."})]}):o.jsxs("div",{className:"groupe-manager",children:[o.jsxs("div",{className:"groupe-manager-header",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"groupe-manager-titre",children:"Mes groupes-classes"}),o.jsxs("p",{className:"groupe-manager-subtitle",children:[n.length," groupe",n.length!==1?"s":"","  Anne ",D.anneeScolaire]})]}),o.jsx("button",{className:"prof-btn prof-btn-primary",onClick:()=>g(!p),children:p?" Annuler":" Nouveau groupe"})]}),f&&o.jsxs("div",{className:"prof-alert prof-alert-error",children:[o.jsx("span",{children:""})," ",f,o.jsx("button",{onClick:()=>h(null),className:"prof-alert-close",children:""})]}),p&&o.jsxs("div",{className:"groupe-form-container",children:[o.jsx("h3",{children:"Crer un nouveau groupe-classe"}),o.jsxs("form",{onSubmit:k,className:"groupe-form",children:[o.jsxs("div",{className:"prof-form-group",children:[o.jsx("label",{htmlFor:"groupe-nom",children:"Nom du groupe *"}),o.jsx("input",{id:"groupe-nom",type:"text",placeholder:"Ex: 3me A - Maths 2025",value:D.nom,onChange:Q=>z("nom",Q.target.value),required:!0,className:"prof-input",maxLength:60})]}),o.jsxs("div",{className:"prof-form-group",children:[o.jsx("label",{htmlFor:"groupe-desc",children:"Description (optionnelle)"}),o.jsx("input",{id:"groupe-desc",type:"text",placeholder:"Ex: Cours du mardi et jeudi matin",value:D.description||"",onChange:Q=>z("description",Q.target.value),className:"prof-input",maxLength:120})]}),o.jsxs("div",{className:"prof-form-row",children:[o.jsxs("div",{className:"prof-form-group",children:[o.jsx("label",{htmlFor:"groupe-niveau",children:"Niveau de classe *"}),o.jsx("select",{id:"groupe-niveau",value:D.classeNiveau,onChange:Q=>z("classeNiveau",Q.target.value),className:"prof-select",children:Cge.map(Q=>o.jsx("option",{value:Q.value,children:Q.label},Q.value))})]}),o.jsxs("div",{className:"prof-form-group",children:[o.jsx("label",{htmlFor:"groupe-annee",children:"Anne scolaire *"}),o.jsx("select",{id:"groupe-annee",value:D.anneeScolaire,onChange:Q=>z("anneeScolaire",Q.target.value),className:"prof-select",children:Tge.map(Q=>o.jsx("option",{value:Q,children:Q},Q))})]})]}),o.jsxs("div",{className:"prof-form-row",children:[o.jsxs("div",{className:"prof-form-group",children:[o.jsx("label",{htmlFor:"groupe-matiere-id",children:"ID Matire *"}),o.jsx("input",{id:"groupe-matiere-id",type:"text",placeholder:"Ex: maths_3eme",value:D.matiereId,onChange:Q=>z("matiereId",Q.target.value),required:!0,className:"prof-input"})]}),o.jsxs("div",{className:"prof-form-group",children:[o.jsx("label",{htmlFor:"groupe-matiere-nom",children:"Nom de la matire *"}),o.jsx("input",{id:"groupe-matiere-nom",type:"text",placeholder:"Ex: Mathmatiques",value:D.matiereNom,onChange:Q=>z("matiereNom",Q.target.value),required:!0,className:"prof-input"})]})]}),o.jsx("div",{className:"prof-form-actions",children:o.jsx("button",{type:"submit",className:"prof-btn prof-btn-primary",disabled:y||!D.nom.trim(),children:y?" Cration...":" Crer le groupe"})})]})]}),o.jsxs("div",{className:"groupe-filtres",children:[o.jsxs("button",{className:`prof-filtre-btn ${O==="actif"?"active":""}`,onClick:()=>V("actif"),children:["Actifs (",n.filter(Q=>Q.statut==="actif").length,")"]}),o.jsxs("button",{className:`prof-filtre-btn ${O==="archive"?"active":""}`,onClick:()=>V("archive"),children:["Archivs (",n.filter(Q=>Q.statut==="archive").length,")"]}),o.jsxs("button",{className:`prof-filtre-btn ${O==="tous"?"active":""}`,onClick:()=>V("tous"),children:["Tous (",n.length,")"]})]}),M.length===0?o.jsxs("div",{className:"prof-empty-state",children:[o.jsx("div",{className:"prof-empty-icon",children:""}),o.jsx("h3",{children:O==="archive"?"Aucun groupe archiv":"Aucun groupe-classe cr"}),o.jsx("p",{children:O==="archive"?"Vos groupes archivs apparatront ici.":"Crez votre premier groupe-classe pour commencer  suivre vos lves."}),O!=="archive"&&o.jsx("button",{className:"prof-btn prof-btn-primary",onClick:()=>g(!0),children:" Crer mon premier groupe"})]}):o.jsx("div",{className:"groupe-grid",children:M.map(Q=>{const W=i.get(Q.id);return o.jsxs("div",{className:`groupe-card ${Q.statut==="archive"?"groupe-card-archive":""}`,children:[o.jsxs("div",{className:"groupe-card-header",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"groupe-card-titre",children:Q.nom}),o.jsx("span",{className:"groupe-card-matiere",children:Q.matiereNom})]}),o.jsx("span",{className:`groupe-badge groupe-badge-${Q.statut}`,children:Q.statut==="actif"?" Actif":" Archiv"})]}),o.jsxs("div",{className:"groupe-card-infos",children:[o.jsxs("span",{children:[" ",Q.classeNiveau]}),o.jsxs("span",{children:[" ",Q.anneeScolaire]}),o.jsxs("span",{children:[" ",Q.nombreInscrits," lve",Q.nombreInscrits!==1?"s":""]})]}),o.jsxs("div",{className:"groupe-card-code",children:[o.jsx("span",{className:"groupe-code-label",children:"Code d'invitation :"}),o.jsxs("div",{className:"groupe-code-box",children:[o.jsx("code",{className:"groupe-code-value",children:Q.codeInvitation}),o.jsx("button",{className:"prof-btn-icon",onClick:G=>{G.stopPropagation(),C(Q.codeInvitation)},title:"Copier le code",children:E===Q.codeInvitation?"":""}),Q.statut==="actif"&&o.jsx("button",{className:"prof-btn-icon",onClick:G=>{G.stopPropagation(),L(Q.id)},title:"Rgnrer le code",children:""})]})]}),W&&W.nombreEleves>0&&o.jsxs("div",{className:"groupe-card-stats",children:[o.jsxs("div",{className:"groupe-stat-item",children:[o.jsx("span",{className:"groupe-stat-value",children:W.moyenneClasse}),o.jsx("span",{className:"groupe-stat-label",children:"Moyenne"})]}),o.jsxs("div",{className:"groupe-stat-item",children:[o.jsxs("span",{className:"groupe-stat-value",children:[W.tauxReussite,"%"]}),o.jsx("span",{className:"groupe-stat-label",children:"Russite"})]}),o.jsxs("div",{className:"groupe-stat-item",children:[o.jsx("span",{className:"groupe-stat-value",children:W.elevesEnDifficulte}),o.jsx("span",{className:"groupe-stat-label",children:"En difficult"})]})]}),o.jsxs("div",{className:"groupe-card-actions",children:[Q.statut==="actif"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"prof-btn prof-btn-primary prof-btn-sm",onClick:()=>t(Q),children:" Voir dtails"}),o.jsx("button",{className:"prof-btn prof-btn-secondary prof-btn-sm",onClick:()=>U(Q.id),children:" Archiver"})]}),N===Q.id?o.jsxs("div",{className:"groupe-confirm-suppression",children:[o.jsx("span",{children:"Confirmer ?"}),o.jsx("button",{className:"prof-btn prof-btn-danger prof-btn-sm",onClick:()=>R(Q.id),children:"Oui, supprimer"}),o.jsx("button",{className:"prof-btn prof-btn-secondary prof-btn-sm",onClick:()=>A(null),children:"Non"})]}):o.jsx("button",{className:"prof-btn prof-btn-danger prof-btn-sm",onClick:()=>A(Q.id),children:" Supprimer"})]})]},Q.id)})})]})},Pge=({groupe:t,onRetour:e})=>{const[n,r]=w.useState(null),[i,s]=w.useState([]),[c,u]=w.useState([]),[f,h]=w.useState([]),[p,g]=w.useState(null),[y,_]=w.useState(!0),[E,j]=w.useState(null),[N,A]=w.useState("apercu"),[D,I]=w.useState("moyenne_desc"),[O,V]=w.useState(null),[B,k]=w.useState(null),[C,R]=w.useState(!1),[U,L]=w.useState(null),z=w.useCallback(async()=>{try{_(!0),j(null);const[X,F,ne]=await Promise.all([nS(t.id),bge(t.id),xge(t.matiereId)]);r(X),s(F),h(ne);const pe=wge(F,t.nom);u(pe)}catch(X){console.error("Erreur chargement dtail groupe:",X),j("Impossible de charger les donnes du groupe.")}finally{_(!1)}},[t.id,t.matiereId,t.nom]);w.useEffect(()=>{z()},[z]);const M=async X=>{try{R(!0),k(X);const F=await _ge(t.id,X);g(F)}catch(F){console.error("Erreur analyse quiz:",F)}finally{R(!1)}},Q=()=>{const X=jge(i,t.nom),F=`PedaClic_${t.nom.replace(/\s+/g,"_")}_${new Date().toISOString().slice(0,10)}`;Ege(X,F)},W=async X=>{try{L(X);const ne=(await N0(t.id)).find(pe=>pe.eleveId===X);ne&&(await yge(ne.id,t.id),await z())}catch(F){j(F.message)}finally{L(null)}},G=[...i].sort((X,F)=>{switch(D){case"moyenne_desc":return F.moyenne-X.moyenne;case"moyenne_asc":return X.moyenne-F.moyenne;case"nom":return X.eleveNom.localeCompare(F.eleveNom);case"streak":return F.streak.actuel-X.streak.actuel;case"quiz_count":return F.totalQuiz-X.totalQuiz;default:return 0}}),le=X=>X>=16?"prof-note-excellent":X>=12?"prof-note-bien":X>=10?"prof-note-passable":X>=8?"prof-note-insuffisant":"prof-note-critique",be=X=>{switch(X){case"hausse":return"";case"baisse":return"";default:return""}},je=X=>{switch(X){case"difficulte":return"";case"inactivite":return"";case"baisse":return"";case"felicitation":return"";default:return""}};return y?o.jsxs("div",{className:"prof-loading",children:[o.jsx("div",{className:"spinner"}),o.jsxs("p",{children:['Chargement des donnes de "',t.nom,'"...']})]}):o.jsxs("div",{className:"groupe-detail",children:[o.jsxs("div",{className:"groupe-detail-header",children:[o.jsx("button",{className:"prof-btn prof-btn-secondary",onClick:e,children:" Retour aux groupes"}),o.jsxs("div",{className:"groupe-detail-titre-section",children:[o.jsx("h2",{className:"groupe-detail-titre",children:t.nom}),o.jsxs("p",{className:"groupe-detail-subtitle",children:[t.matiereNom,"  ",t.classeNiveau,"  ",t.anneeScolaire]})]}),o.jsx("button",{className:"prof-btn prof-btn-secondary",onClick:Q,children:" Export CSV"})]}),E&&o.jsxs("div",{className:"prof-alert prof-alert-error",children:[" ",E,o.jsx("button",{onClick:()=>j(null),className:"prof-alert-close",children:""})]}),o.jsx("div",{className:"groupe-detail-onglets",children:[{id:"apercu",label:" Aperu",count:null},{id:"eleves",label:" lves",count:i.length},{id:"quiz",label:" Quiz",count:f.length},{id:"alertes",label:" Alertes",count:c.length}].map(X=>o.jsxs("button",{className:`groupe-onglet ${N===X.id?"active":""}`,onClick:()=>A(X.id),children:[X.label,X.count!==null&&X.count>0&&o.jsx("span",{className:"groupe-onglet-badge",children:X.count})]},X.id))}),N==="apercu"&&n&&o.jsxs("div",{className:"groupe-apercu",children:[o.jsxs("div",{className:"groupe-stats-grid",children:[o.jsxs("div",{className:"groupe-stat-card",children:[o.jsx("div",{className:"groupe-stat-card-icon",children:""}),o.jsxs("div",{className:"groupe-stat-card-content",children:[o.jsxs("span",{className:`groupe-stat-card-value ${le(n.moyenneClasse)}`,children:[n.moyenneClasse,"/20"]}),o.jsx("span",{className:"groupe-stat-card-label",children:"Moyenne classe"})]})]}),o.jsxs("div",{className:"groupe-stat-card",children:[o.jsx("div",{className:"groupe-stat-card-icon",children:""}),o.jsxs("div",{className:"groupe-stat-card-content",children:[o.jsxs("span",{className:"groupe-stat-card-value",children:[n.tauxReussite,"%"]}),o.jsx("span",{className:"groupe-stat-card-label",children:"Taux de russite"})]})]}),o.jsxs("div",{className:"groupe-stat-card",children:[o.jsx("div",{className:"groupe-stat-card-icon",children:""}),o.jsxs("div",{className:"groupe-stat-card-content",children:[o.jsx("span",{className:"groupe-stat-card-value",children:n.nombreEleves}),o.jsx("span",{className:"groupe-stat-card-label",children:"lves inscrits"})]})]}),o.jsxs("div",{className:"groupe-stat-card",children:[o.jsx("div",{className:"groupe-stat-card-icon",children:""}),o.jsxs("div",{className:"groupe-stat-card-content",children:[o.jsx("span",{className:"groupe-stat-card-value",children:n.totalQuizPasses}),o.jsx("span",{className:"groupe-stat-card-label",children:"Quiz passs"})]})]}),o.jsxs("div",{className:"groupe-stat-card",children:[o.jsx("div",{className:"groupe-stat-card-icon",children:""}),o.jsxs("div",{className:"groupe-stat-card-content",children:[o.jsxs("span",{className:"groupe-stat-card-value",children:[n.tauxParticipation,"%"]}),o.jsx("span",{className:"groupe-stat-card-label",children:"Participation"})]})]}),o.jsxs("div",{className:"groupe-stat-card",children:[o.jsx("div",{className:"groupe-stat-card-icon",children:""}),o.jsxs("div",{className:"groupe-stat-card-content",children:[o.jsx("span",{className:`groupe-stat-card-value ${n.elevesEnDifficulte>0?"prof-note-critique":"prof-note-excellent"}`,children:n.elevesEnDifficulte}),o.jsx("span",{className:"groupe-stat-card-label",children:"En difficult"})]})]})]}),o.jsx("div",{className:"groupe-apercu-notes",children:o.jsxs("div",{className:"groupe-note-range",children:[o.jsx("span",{className:"groupe-note-range-label",children:"Plage des notes :"}),o.jsxs("span",{className:"prof-note-critique",children:[n.pireNote,"/20"]}),o.jsx("div",{className:"groupe-note-barre",children:o.jsx("div",{className:"groupe-note-barre-fill",style:{left:`${n.pireNote/20*100}%`,width:`${(n.meilleureNote-n.pireNote)/20*100}%`}})}),o.jsxs("span",{className:"prof-note-excellent",children:[n.meilleureNote,"/20"]})]})}),i.length>=3&&o.jsxs("div",{className:"groupe-apercu-classement",children:[o.jsxs("div",{className:"groupe-classement-section",children:[o.jsx("h4",{children:" Top 3"}),i.slice(0,3).map((X,F)=>o.jsxs("div",{className:"groupe-classement-item",children:[o.jsx("span",{className:"groupe-classement-rang",children:F===0?"":F===1?"":""}),o.jsx("span",{className:"groupe-classement-nom",children:X.eleveNom}),o.jsxs("span",{className:`groupe-classement-note ${le(X.moyenne)}`,children:[X.moyenne,"/20"]})]},X.eleveId))]}),o.jsxs("div",{className:"groupe-classement-section",children:[o.jsx("h4",{children:"  surveiller"}),i.filter(X=>X.moyenne<8&&X.totalQuiz>0).slice(0,3).map(X=>o.jsxs("div",{className:"groupe-classement-item",children:[o.jsx("span",{className:"groupe-classement-rang",children:""}),o.jsx("span",{className:"groupe-classement-nom",children:X.eleveNom}),o.jsxs("span",{className:`groupe-classement-note ${le(X.moyenne)}`,children:[X.moyenne,"/20"]})]},X.eleveId)),i.filter(X=>X.moyenne<8&&X.totalQuiz>0).length===0&&o.jsx("p",{className:"groupe-classement-vide",children:"Aucun lve en difficult "})]})]})]}),N==="eleves"&&o.jsxs("div",{className:"groupe-eleves",children:[o.jsxs("div",{className:"groupe-eleves-toolbar",children:[o.jsx("label",{htmlFor:"tri-eleves",children:"Trier par :"}),o.jsxs("select",{id:"tri-eleves",value:D,onChange:X=>I(X.target.value),className:"prof-select prof-select-sm",children:[o.jsx("option",{value:"moyenne_desc",children:"Moyenne ()"}),o.jsx("option",{value:"moyenne_asc",children:"Moyenne ()"}),o.jsx("option",{value:"nom",children:"Nom (A-Z)"}),o.jsx("option",{value:"streak",children:"Streak ()"}),o.jsx("option",{value:"quiz_count",children:"Quiz passs ()"})]}),o.jsxs("span",{className:"groupe-eleves-count",children:[i.length," lve",i.length!==1?"s":""]})]}),i.length===0?o.jsxs("div",{className:"prof-empty-state",children:[o.jsx("div",{className:"prof-empty-icon",children:""}),o.jsx("h3",{children:"Aucun lve inscrit"}),o.jsxs("p",{children:["Partagez le code ",o.jsx("strong",{children:t.codeInvitation}),"  vos lves."]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"groupe-eleves-table-wrapper",children:o.jsxs("table",{className:"groupe-eleves-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"#"}),o.jsx("th",{children:"lve"}),o.jsx("th",{children:"Moyenne"}),o.jsx("th",{children:"Quiz"}),o.jsx("th",{children:"Russite"}),o.jsx("th",{children:"Streak"}),o.jsx("th",{children:"Tendance"}),o.jsx("th",{children:"Actions"})]})}),o.jsx("tbody",{children:G.map((X,F)=>o.jsxs("tr",{className:`${O===X.eleveId?"groupe-eleve-row-active":""}`,children:[o.jsx("td",{className:"groupe-eleve-rang",children:F+1}),o.jsx("td",{className:"groupe-eleve-nom-cell",children:o.jsxs("div",{children:[o.jsx("strong",{children:X.eleveNom}),o.jsx("span",{className:"groupe-eleve-email",children:X.eleveEmail})]})}),o.jsx("td",{children:o.jsxs("span",{className:`groupe-note-badge ${le(X.moyenne)}`,children:[X.moyenne,"/20"]})}),o.jsx("td",{children:X.totalQuiz}),o.jsxs("td",{children:[X.tauxReussite,"%"]}),o.jsx("td",{children:o.jsxs("span",{className:"groupe-streak",children:[" ",X.streak.actuel,"j"]})}),o.jsxs("td",{children:[be(X.tendance)," ",X.tendance]}),o.jsxs("td",{className:"groupe-eleve-actions",children:[o.jsx("button",{className:"prof-btn-icon",onClick:()=>V(O===X.eleveId?null:X.eleveId),title:"Voir dtails",children:O===X.eleveId?"":""}),o.jsx("button",{className:"prof-btn-icon prof-btn-icon-danger",onClick:()=>W(X.eleveId),disabled:U===X.eleveId,title:"Retirer du groupe",children:U===X.eleveId?"":""})]})]},X.eleveId))})]})}),O&&(()=>{const X=i.find(F=>F.eleveId===O);return X?o.jsxs("div",{className:"groupe-eleve-detail",children:[o.jsxs("div",{className:"groupe-eleve-detail-header",children:[o.jsxs("h3",{children:[" Dtail  ",X.eleveNom]}),o.jsx("button",{className:"prof-btn-icon",onClick:()=>V(null),children:""})]}),o.jsxs("div",{className:"groupe-eleve-detail-grid",children:[o.jsxs("div",{className:"groupe-eleve-detail-card",children:[o.jsx("h4",{children:"Score global"}),o.jsx("div",{className:"groupe-eleve-score-circle",children:o.jsxs("span",{className:le(X.scoreGlobal/5),children:[X.scoreGlobal,"/100"]})})]}),o.jsxs("div",{className:"groupe-eleve-detail-card",children:[o.jsx("h4",{children:" Streak"}),o.jsxs("p",{children:["Actuel : ",o.jsxs("strong",{children:[X.streak.actuel," jour",X.streak.actuel!==1?"s":""]})]}),o.jsxs("p",{children:["Meilleur : ",X.streak.meilleur," jours"]})]}),o.jsxs("div",{className:"groupe-eleve-detail-card groupe-eleve-detail-card-wide",children:[o.jsx("h4",{children:" Lacunes dtectes"}),X.lacunes.length===0?o.jsx("p",{className:"text-muted",children:"Aucune lacune dtecte "}):o.jsx("ul",{className:"groupe-lacunes-liste",children:X.lacunes.map((F,ne)=>o.jsxs("li",{className:`groupe-lacune-item groupe-lacune-${F.niveauUrgence}`,children:[o.jsxs("span",{className:"groupe-lacune-nom",children:[F.disciplineNom,F.chapitre&&`  ${F.chapitre}`]}),o.jsxs("span",{className:"groupe-lacune-moyenne",children:[F.moyenne,"/20"]}),o.jsx("span",{className:`groupe-lacune-badge groupe-lacune-badge-${F.niveauUrgence}`,children:F.niveauUrgence})]},ne))})]})]})]}):null})()]})]}),N==="quiz"&&o.jsxs("div",{className:"groupe-quiz",children:[o.jsxs("div",{className:"groupe-quiz-selector",children:[o.jsx("label",{htmlFor:"select-quiz",children:"Slectionner un quiz  analyser :"}),o.jsxs("select",{id:"select-quiz",value:B||"",onChange:X=>{X.target.value&&M(X.target.value)},className:"prof-select",children:[o.jsx("option",{value:"",children:" Choisir un quiz "}),f.map(X=>o.jsx("option",{value:X.id,children:X.titre},X.id))]})]}),!B&&o.jsxs("div",{className:"prof-empty-state",children:[o.jsx("div",{className:"prof-empty-icon",children:""}),o.jsx("h3",{children:"Analyse par quiz"}),o.jsx("p",{children:"Slectionnez un quiz pour voir les statistiques dtailles et les questions les plus rates."})]}),C&&o.jsxs("div",{className:"prof-loading",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Analyse en cours..."})]}),p&&!C&&o.jsxs("div",{className:"groupe-quiz-resultats",children:[o.jsxs("div",{className:"groupe-quiz-stats-header",children:[o.jsx("h3",{children:p.quizTitre}),o.jsxs("div",{className:"groupe-quiz-stats-grid",children:[o.jsxs("div",{className:"groupe-stat-mini",children:[o.jsx("span",{className:"groupe-stat-mini-value",children:p.totalPassages}),o.jsx("span",{className:"groupe-stat-mini-label",children:"Passages"})]}),o.jsxs("div",{className:"groupe-stat-mini",children:[o.jsxs("span",{className:`groupe-stat-mini-value ${le(p.moyenneScore)}`,children:[p.moyenneScore,"/20"]}),o.jsx("span",{className:"groupe-stat-mini-label",children:"Moyenne"})]}),o.jsxs("div",{className:"groupe-stat-mini",children:[o.jsxs("span",{className:"groupe-stat-mini-value",children:[p.tauxReussite,"%"]}),o.jsx("span",{className:"groupe-stat-mini-label",children:"Russite"})]}),o.jsxs("div",{className:"groupe-stat-mini",children:[o.jsxs("span",{className:"groupe-stat-mini-value",children:[Math.floor(p.tempsEcouleMoyen/60),"min"]}),o.jsx("span",{className:"groupe-stat-mini-label",children:"Temps moyen"})]})]})]}),o.jsxs("div",{className:"groupe-quiz-questions",children:[o.jsx("h4",{children:" Questions les plus rates"}),p.questionsRatees.filter(X=>X.tauxEchec>30).map((X,F)=>o.jsxs("div",{className:"groupe-quiz-question-card",children:[o.jsxs("div",{className:"groupe-quiz-question-header",children:[o.jsxs("span",{className:"groupe-quiz-question-num",children:["Q",X.questionIndex+1]}),o.jsxs("span",{className:"groupe-quiz-question-echec",children:[X.tauxEchec,"% d'chec"]})]}),o.jsx("p",{className:"groupe-quiz-question-texte",children:X.questionTexte}),o.jsx("div",{className:"groupe-quiz-question-reponse",children:o.jsxs("span",{className:"groupe-quiz-bonne-reponse",children:[" Bonne rponse : ",X.reponseCorrecte]})}),X.reponsesFrequentes.length>0&&o.jsxs("div",{className:"groupe-quiz-mauvaises-reponses",children:[o.jsx("span",{children:"Erreurs frquentes :"}),X.reponsesFrequentes.slice(0,2).map((ne,pe)=>o.jsxs("span",{className:"groupe-quiz-mauvaise-reponse",children:[" ",ne.reponse," (",ne.nombre," lve",ne.nombre>1?"s":"",")"]},pe))]})]},F)),p.questionsRatees.filter(X=>X.tauxEchec>30).length===0&&o.jsx("p",{className:"text-muted",children:"Toutes les questions ont un taux de russite suprieur  70% "})]})]})]}),N==="alertes"&&o.jsx("div",{className:"groupe-alertes",children:c.length===0?o.jsxs("div",{className:"prof-empty-state",children:[o.jsx("div",{className:"prof-empty-icon",children:""}),o.jsx("h3",{children:"Aucune alerte"}),o.jsx("p",{children:"Tous vos lves se portent bien ! Les alertes apparatront ici quand un lve aura besoin d'attention."})]}):o.jsx("div",{className:"groupe-alertes-liste",children:c.map(X=>o.jsxs("div",{className:`groupe-alerte-card groupe-alerte-${X.niveauUrgence}`,children:[o.jsxs("div",{className:"groupe-alerte-header",children:[o.jsx("span",{className:"groupe-alerte-emoji",children:je(X.type)}),o.jsx("span",{className:"groupe-alerte-eleve",children:X.eleveNom}),o.jsx("span",{className:`groupe-alerte-badge groupe-alerte-badge-${X.niveauUrgence}`,children:X.niveauUrgence})]}),o.jsx("p",{className:"groupe-alerte-message",children:X.message}),o.jsx("button",{className:"prof-btn prof-btn-secondary prof-btn-sm",onClick:()=>{A("eleves"),V(X.eleveId)},children:" Voir dtail"})]},X.id))})})]})},Ige=()=>{const{currentUser:t}=Zn(),[e,n]=w.useState("overview"),[r,i]=w.useState(null),[s,c]=w.useState(0),[u,f]=w.useState(0),[h,p]=w.useState(0),[g,y]=w.useState(0),[_,E]=w.useState([]),[j,N]=w.useState(!0),A=w.useCallback(async()=>{if(t?.uid)try{N(!0);const V=(await vU(t.uid)).filter(L=>L.statut==="actif");c(V.length);let B=0,k=0,C=0,R=0;const U=[];for(const L of V)try{const z=await nS(L.id);B+=z.nombreEleves,z.nombreEleves>0&&(k+=z.moyenneClasse,C++),R+=z.elevesEnDifficulte,U.push({...L,stats:z})}catch{U.push({...L})}f(B),p(C>0?Math.round(k/C*10)/10:0),y(R),E(U)}catch(O){console.error("Erreur chargement rsum prof:",O)}finally{N(!1)}},[t?.uid]);w.useEffect(()=>{A()},[A]);const D=O=>{i(O),n("detail")},I=()=>{i(null),n("groupes"),A()};return j?o.jsxs("div",{className:"prof-loading",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Chargement de votre espace professeur..."})]}):o.jsxs("div",{className:"prof-dashboard",children:[o.jsx("header",{className:"prof-dashboard-header",children:o.jsxs("div",{children:[o.jsx("h1",{className:"prof-dashboard-titre",children:"Tableau de bord Professeur"}),o.jsxs("p",{className:"prof-dashboard-subtitle",children:["Bienvenue, ",t?.displayName||"Professeur"," "]})]})}),e!=="detail"&&o.jsxs("nav",{className:"prof-nav",children:[o.jsx("button",{className:`prof-nav-btn ${e==="overview"?"active":""}`,onClick:()=>n("overview"),children:" Vue d'ensemble"}),o.jsx("button",{className:`prof-nav-btn ${e==="groupes"?"active":""}`,onClick:()=>n("groupes"),children:" Mes groupes-classes"})]}),e==="overview"&&o.jsxs("div",{className:"prof-overview",children:[o.jsxs("div",{className:"prof-overview-cards",children:[o.jsxs("div",{className:"prof-overview-card prof-overview-card-clickable",onClick:()=>n("groupes"),children:[o.jsx("div",{className:"prof-overview-card-icon",children:""}),o.jsxs("div",{className:"prof-overview-card-content",children:[o.jsx("span",{className:"prof-overview-card-value",children:s}),o.jsxs("span",{className:"prof-overview-card-label",children:["Groupe",s!==1?"s":""," actif",s!==1?"s":""]})]})]}),o.jsxs("div",{className:"prof-overview-card",children:[o.jsx("div",{className:"prof-overview-card-icon",children:""}),o.jsxs("div",{className:"prof-overview-card-content",children:[o.jsx("span",{className:"prof-overview-card-value",children:u}),o.jsxs("span",{className:"prof-overview-card-label",children:["lve",u!==1?"s":""," inscrit",u!==1?"s":""]})]})]}),o.jsxs("div",{className:"prof-overview-card",children:[o.jsx("div",{className:"prof-overview-card-icon",children:""}),o.jsxs("div",{className:"prof-overview-card-content",children:[o.jsxs("span",{className:"prof-overview-card-value",children:[h,"/20"]}),o.jsx("span",{className:"prof-overview-card-label",children:"Moyenne gnrale"})]})]}),o.jsxs("div",{className:"prof-overview-card",children:[o.jsx("div",{className:"prof-overview-card-icon",children:""}),o.jsxs("div",{className:"prof-overview-card-content",children:[o.jsx("span",{className:`prof-overview-card-value ${g>0?"prof-note-critique":""}`,children:g}),o.jsxs("span",{className:"prof-overview-card-label",children:["lve",g!==1?"s":""," en difficult"]})]})]})]}),_.length===0?o.jsxs("div",{className:"prof-empty-state",children:[o.jsx("div",{className:"prof-empty-icon",children:""}),o.jsx("h3",{children:"Bienvenue sur votre espace Professeur !"}),o.jsx("p",{children:"Crez votre premier groupe-classe pour commencer  suivre vos lves."}),o.jsx("button",{className:"prof-btn prof-btn-primary",onClick:()=>n("groupes"),children:" Crer un groupe-classe"})]}):o.jsxs("div",{className:"prof-overview-groupes",children:[o.jsx("h2",{children:"Mes groupes"}),o.jsx("div",{className:"prof-overview-groupes-grid",children:_.map(O=>o.jsxs("div",{className:"prof-overview-groupe-card",onClick:()=>D(O),children:[o.jsxs("div",{className:"prof-overview-groupe-header",children:[o.jsx("h3",{children:O.nom}),o.jsx("span",{className:"prof-overview-groupe-matiere",children:O.matiereNom})]}),O.stats&&o.jsxs("div",{className:"prof-overview-groupe-stats",children:[o.jsxs("div",{children:[o.jsx("span",{className:"prof-overview-groupe-stat-value",children:O.stats.nombreEleves}),o.jsx("span",{className:"prof-overview-groupe-stat-label",children:"lves"})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"prof-overview-groupe-stat-value",children:[O.stats.moyenneClasse,"/20"]}),o.jsx("span",{className:"prof-overview-groupe-stat-label",children:"Moyenne"})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"prof-overview-groupe-stat-value",children:[O.stats.tauxReussite,"%"]}),o.jsx("span",{className:"prof-overview-groupe-stat-label",children:"Russite"})]})]}),o.jsx("span",{className:"prof-overview-groupe-arrow",children:""})]},O.id))})]})]}),e==="groupes"&&o.jsx(Oge,{onSelectGroupe:D}),e==="detail"&&r&&o.jsx(Pge,{groupe:r,onRetour:I})]})},Rge=()=>{const{currentUser:t}=Zn(),e=t?.uid||"",n=t?.displayName||"Parent",[r,i]=w.useState([]),[s,c]=w.useState(null),[u,f]=w.useState(null),[h,p]=w.useState(!0),[g,y]=w.useState(!1),[_,E]=w.useState(null),[j,N]=w.useState(!1),[A,D]=w.useState(""),[I,O]=w.useState(!1),[V,B]=w.useState(null),[k,C]=w.useState(null),[R,U]=w.useState("apercu");w.useEffect(()=>{L()},[e]),w.useEffect(()=>{s&&z(s)},[s]);const L=async()=>{try{p(!0),E(null);const W=await Ype(e);i(W),W.length===1&&c(W[0].enfantId)}catch(W){E("Erreur lors du chargement des enfants."),console.error(W)}finally{p(!1)}},z=async W=>{try{y(!0),E(null);const G=await Zpe(e,W);f(G)}catch(G){E(G.message||"Erreur lors du chargement du suivi."),f(null)}finally{y(!1)}},M=async W=>{if(W.preventDefault(),B(null),C(null),!A.trim()){B("Veuillez saisir le code d'invitation.");return}try{O(!0);const G=await Wpe(e,A);C(`${G.enfantNom} a t ajout avec succs !`),D(""),N(!1),await L(),c(G.enfantId)}catch(G){B(G.message||"Erreur lors de la liaison.")}finally{O(!1)}},Q=async W=>{if(window.confirm(`tes-vous sr de vouloir retirer ${W.enfantNom} de votre suivi ? Cette action est irrversible.`))try{await Xpe(W.id,e),s===W.enfantId&&(c(null),f(null)),await L()}catch(le){E(le.message||"Erreur lors de la suppression.")}};return h?o.jsxs("div",{className:"parent-loading",children:[o.jsx("div",{className:"parent-spinner"}),o.jsx("p",{children:"Chargement de votre espace parent..."})]}):o.jsxs("div",{className:"parent-dashboard",children:[o.jsxs("header",{className:"parent-header",children:[o.jsxs("div",{className:"parent-header-info",children:[o.jsx("h1",{className:"parent-titre",children:" Espace Parent"}),o.jsxs("p",{className:"parent-bienvenue",children:["Bienvenue, ",o.jsx("strong",{children:n}),"  Suivez la progression de vos enfants"]})]}),o.jsx("button",{className:"parent-btn parent-btn-primary",onClick:()=>{N(!j),B(null),C(null)},children:" Ajouter un enfant"})]}),_&&o.jsxs("div",{className:"parent-alerte parent-alerte-erreur",children:[o.jsxs("span",{children:[" ",_]}),o.jsx("button",{onClick:()=>E(null),children:""})]}),k&&o.jsxs("div",{className:"parent-alerte parent-alerte-succes",children:[o.jsxs("span",{children:[" ",k]}),o.jsx("button",{onClick:()=>C(null),children:""})]}),j&&o.jsxs("div",{className:"parent-form-liaison",children:[o.jsx("h3",{children:" Lier un enfant  votre compte"}),o.jsx("p",{className:"parent-form-aide",children:"Demandez le code d'invitation  votre enfant. Il peut le trouver dans son profil sur PedaClic (format: PEDA-XXXX-XXXX)."}),o.jsxs("form",{onSubmit:M,className:"parent-form",children:[o.jsxs("div",{className:"parent-form-group",children:[o.jsx("label",{htmlFor:"code-invitation",children:"Code d'invitation"}),o.jsx("input",{id:"code-invitation",type:"text",placeholder:"PEDA-XXXX-XXXX",value:A,onChange:W=>D(W.target.value.toUpperCase()),maxLength:14,disabled:I,className:"parent-input"})]}),V&&o.jsxs("p",{className:"parent-form-erreur",children:[" ",V]}),o.jsxs("div",{className:"parent-form-actions",children:[o.jsx("button",{type:"submit",className:"parent-btn parent-btn-primary",disabled:I,children:I?"Vrification...":" Valider"}),o.jsx("button",{type:"button",className:"parent-btn parent-btn-secondary",onClick:()=>N(!1),children:"Annuler"})]})]})]}),r.length===0?o.jsxs("div",{className:"parent-empty-state",children:[o.jsx("div",{className:"parent-empty-icon",children:""}),o.jsx("h2",{children:"Aucun enfant li"}),o.jsx("p",{children:"Cliquez sur  Ajouter un enfant  et saisissez le code d'invitation de votre enfant pour commencer  suivre sa progression."}),o.jsx("button",{className:"parent-btn parent-btn-primary",onClick:()=>N(!0),children:" Ajouter mon premier enfant"})]}):o.jsxs("div",{className:"parent-content",children:[o.jsxs("aside",{className:"parent-sidebar",children:[o.jsx("h3",{className:"parent-sidebar-titre",children:"Mes enfants"}),o.jsx("ul",{className:"parent-enfants-liste",children:r.map(W=>o.jsxs("li",{className:`parent-enfant-card ${s===W.enfantId?"parent-enfant-actif":""}`,onClick:()=>c(W.enfantId),children:[o.jsx("div",{className:"parent-enfant-avatar",children:W.enfantNom.charAt(0).toUpperCase()}),o.jsxs("div",{className:"parent-enfant-info",children:[o.jsx("span",{className:"parent-enfant-nom",children:W.enfantNom}),W.enfantClasse&&o.jsx("span",{className:"parent-enfant-classe",children:W.enfantClasse})]}),o.jsx("button",{className:"parent-enfant-supprimer",onClick:G=>{G.stopPropagation(),Q(W)},title:"Retirer cet enfant",children:""})]},W.id))})]}),o.jsx("main",{className:"parent-main",children:s?g?o.jsxs("div",{className:"parent-loading",children:[o.jsx("div",{className:"parent-spinner"}),o.jsx("p",{children:"Chargement du suivi..."})]}):u?o.jsxs("div",{className:"parent-dashboard-detail",children:[o.jsxs("div",{className:"parent-enfant-header",children:[o.jsxs("div",{className:"parent-enfant-header-info",children:[o.jsx("h2",{children:u.enfant.nom}),u.enfant.classe&&o.jsx("span",{className:"parent-badge",children:u.enfant.classe}),u.enfant.derniereConnexion&&o.jsxs("span",{className:"parent-derniere-connexion",children:["Dernire connexion : ",C1(u.enfant.derniereConnexion)]})]}),o.jsx("p",{className:"parent-message-motivation",children:ige(u.scoreGlobal)})]}),o.jsxs("div",{className:"parent-indicateurs",children:[o.jsxs("div",{className:"parent-card parent-card-score",children:[o.jsx("div",{className:"parent-card-icon",children:""}),o.jsxs("div",{className:"parent-card-content",children:[o.jsx("span",{className:"parent-card-label",children:"Score Global"}),o.jsxs("span",{className:`parent-card-value parent-score-${u.scoreGlobal>=60?"bon":u.scoreGlobal>=40?"moyen":"bas"}`,children:[u.scoreGlobal,"/100"]})]})]}),o.jsxs("div",{className:"parent-card parent-card-streak",children:[o.jsx("div",{className:"parent-card-icon",children:""}),o.jsxs("div",{className:"parent-card-content",children:[o.jsx("span",{className:"parent-card-label",children:"Streak"}),o.jsxs("span",{className:"parent-card-value",children:[u.streak.actuel," jour",u.streak.actuel>1?"s":""]})]})]}),o.jsxs("div",{className:"parent-card parent-card-lacunes",children:[o.jsx("div",{className:"parent-card-icon",children:""}),o.jsxs("div",{className:"parent-card-content",children:[o.jsx("span",{className:"parent-card-label",children:"Lacunes"}),o.jsxs("span",{className:"parent-card-value",children:[u.lacunes.length," matire",u.lacunes.length>1?"s":""]})]})]}),o.jsxs("div",{className:"parent-card parent-card-objectifs",children:[o.jsx("div",{className:"parent-card-icon",children:""}),o.jsxs("div",{className:"parent-card-content",children:[o.jsx("span",{className:"parent-card-label",children:"Objectifs"}),o.jsxs("span",{className:"parent-card-value",children:[u.objectifs.filter(W=>W.statut==="atteint").length,"/",u.objectifs.length]})]})]})]}),o.jsxs("div",{className:"parent-section parent-section-semaine",children:[o.jsx("h3",{children:" Activit de la semaine"}),o.jsx("div",{className:"parent-semaine-jours",children:["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map((W,G)=>o.jsxs("div",{className:`parent-jour ${u.streak.semaineCourante[G]?"parent-jour-actif":"parent-jour-inactif"}`,children:[o.jsx("span",{className:"parent-jour-label",children:W}),o.jsx("span",{className:"parent-jour-icon",children:u.streak.semaineCourante[G]?"":""})]},W))})]}),o.jsxs("div",{className:"parent-onglets",children:[o.jsx("button",{className:`parent-onglet ${R==="apercu"?"parent-onglet-actif":""}`,onClick:()=>U("apercu"),children:" Aperu"}),o.jsxs("button",{className:`parent-onglet ${R==="lacunes"?"parent-onglet-actif":""}`,onClick:()=>U("lacunes"),children:[" Lacunes (",u.lacunes.length,")"]}),o.jsxs("button",{className:`parent-onglet ${R==="alertes"?"parent-onglet-actif":""}`,onClick:()=>U("alertes"),children:[" Alertes (",u.alertes.length,")"]}),o.jsx("button",{className:`parent-onglet ${R==="resume"?"parent-onglet-actif":""}`,onClick:()=>U("resume"),children:" Rsum"})]}),o.jsxs("div",{className:"parent-onglet-contenu",children:[R==="apercu"&&o.jsxs("div",{className:"parent-tab-apercu",children:[o.jsxs("div",{className:"parent-section",children:[o.jsx("h3",{children:" Derniers quiz passs"}),u.derniersQuiz.length===0?o.jsx("p",{className:"parent-vide",children:"Aucun quiz pass rcemment."}):o.jsx("div",{className:"parent-quiz-liste",children:u.derniersQuiz.map((W,G)=>o.jsxs("div",{className:`parent-quiz-item ${W.reussi?"parent-quiz-reussi":"parent-quiz-echoue"}`,children:[o.jsxs("div",{className:"parent-quiz-info",children:[o.jsx("span",{className:"parent-quiz-discipline",children:W.disciplineNom}),o.jsx("span",{className:"parent-quiz-titre",children:W.quizTitre})]}),o.jsxs("div",{className:"parent-quiz-score",children:[o.jsxs("span",{className:`parent-quiz-note ${W.reussi?"note-ok":"note-ko"}`,children:[W.noteSur20,"/20"]}),o.jsx("span",{className:"parent-quiz-statut",children:W.reussi?" Russi":" chou"})]}),o.jsx("span",{className:"parent-quiz-date",children:C1(W.datePassage)})]},G))})]}),o.jsxs("div",{className:"parent-section",children:[o.jsx("h3",{children:" Objectifs de la semaine"}),u.objectifs.length===0?o.jsx("p",{className:"parent-vide",children:"Aucun objectif cette semaine."}):o.jsx("div",{className:"parent-objectifs-liste",children:u.objectifs.map((W,G)=>o.jsxs("div",{className:"parent-objectif-item",children:[o.jsxs("div",{className:"parent-objectif-header",children:[o.jsx("span",{className:"parent-objectif-titre",children:W.titre}),o.jsx("span",{className:`parent-objectif-statut parent-statut-${W.statut}`,children:W.statut==="atteint"?" Atteint":W.statut==="en_cours"?" En cours":W.statut==="echoue"?" chou":" Non commenc"})]}),o.jsx("div",{className:"parent-progress-bar",children:o.jsx("div",{className:`parent-progress-fill parent-progress-${W.statut}`,style:{width:`${Math.min(W.progression/W.cible*100,100)}%`}})}),o.jsxs("span",{className:"parent-objectif-detail",children:[W.progression,"/",W.cible]})]},G))})]})]}),R==="lacunes"&&o.jsx("div",{className:"parent-tab-lacunes",children:u.lacunes.length===0?o.jsxs("div",{className:"parent-vide-section",children:[o.jsx("span",{className:"parent-vide-icon",children:""}),o.jsx("p",{children:"Aucune lacune dtecte ! Votre enfant est sur la bonne voie."})]}):o.jsx("div",{className:"parent-lacunes-liste",children:u.lacunes.map((W,G)=>o.jsxs("div",{className:"parent-lacune-item",style:{borderLeftColor:ty(W.niveauUrgence)},children:[o.jsxs("div",{className:"parent-lacune-header",children:[o.jsx("span",{className:"parent-lacune-discipline",children:W.disciplineNom}),o.jsx("span",{className:"parent-lacune-badge",style:{backgroundColor:ty(W.niveauUrgence),color:"#fff"},children:uU(W.niveauUrgence)})]}),o.jsxs("div",{className:"parent-lacune-details",children:[o.jsxs("span",{className:"parent-lacune-moyenne",children:["Moyenne : ",o.jsxs("strong",{children:[W.moyenne,"/20"]})]}),o.jsxs("span",{className:"parent-lacune-tendance",children:["Tendance : ",dU(W.tendance)," ",W.tendance==="hausse"?"En hausse":W.tendance==="baisse"?"En baisse":"Stable"]})]}),o.jsx("p",{className:"parent-lacune-conseil",children:W.niveauUrgence==="critique"?" Intervention recommande : discutez avec votre enfant et envisagez un soutien scolaire.":W.niveauUrgence==="important"?" Encouragez votre enfant  rviser cette matire rgulirement.":" Quelques rvisions suffiront pour consolider les acquis."})]},G))})}),R==="alertes"&&o.jsx("div",{className:"parent-tab-alertes",children:u.alertes.length===0?o.jsxs("div",{className:"parent-vide-section",children:[o.jsx("span",{className:"parent-vide-icon",children:""}),o.jsx("p",{children:"Aucune alerte pour le moment. Tout va bien !"})]}):o.jsx("div",{className:"parent-alertes-liste",children:u.alertes.map((W,G)=>o.jsxs("div",{className:`parent-alerte-item parent-alerte-${W.niveau}`,children:[o.jsxs("div",{className:"parent-alerte-header",children:[o.jsx("span",{className:"parent-alerte-titre",children:W.titre}),o.jsx("span",{className:"parent-alerte-badge",style:{backgroundColor:nge(W.niveau),color:"#fff"},children:rge(W.type)})]}),o.jsx("p",{className:"parent-alerte-message",children:W.message}),o.jsx("span",{className:"parent-alerte-date",children:C1(W.dateCreation)})]},G))})}),R==="resume"&&u.resume&&o.jsxs("div",{className:"parent-tab-resume",children:[o.jsxs("div",{className:"parent-resume-header",children:[o.jsxs("h3",{children:[" Rsum : ",u.resume.semaine]}),o.jsxs("span",{className:"parent-resume-evolution",children:["Score : ",u.resume.scoreGlobal,"/100"," ",DD(u.resume.evolutionScore)]})]}),o.jsxs("div",{className:"parent-resume-stats",children:[o.jsxs("div",{className:"parent-resume-stat",children:[o.jsx("span",{className:"parent-resume-stat-value",children:u.resume.nombreQuizSemaine}),o.jsx("span",{className:"parent-resume-stat-label",children:"Quiz passs"})]}),o.jsxs("div",{className:"parent-resume-stat",children:[o.jsxs("span",{className:"parent-resume-stat-value",children:[u.resume.joursActifsSemaine,"/7"]}),o.jsx("span",{className:"parent-resume-stat-label",children:"Jours actifs"})]}),o.jsxs("div",{className:"parent-resume-stat",children:[o.jsxs("span",{className:"parent-resume-stat-value",children:[u.resume.tempsEstimeMinutes," min"]}),o.jsx("span",{className:"parent-resume-stat-label",children:"Temps d'tude"})]}),o.jsxs("div",{className:"parent-resume-stat",children:[o.jsxs("span",{className:"parent-resume-stat-value",children:[u.resume.objectifsAtteints,"/",u.resume.objectifsTotal]}),o.jsx("span",{className:"parent-resume-stat-label",children:"Objectifs atteints"})]})]}),u.resume.evolutionDisciplines.length>0&&o.jsxs("div",{className:"parent-section",children:[o.jsx("h4",{children:" volution par matire"}),o.jsx("div",{className:"parent-evolution-liste",children:u.resume.evolutionDisciplines.map((W,G)=>o.jsxs("div",{className:"parent-evolution-item",children:[o.jsx("span",{className:"parent-evolution-discipline",children:W.disciplineNom}),o.jsxs("div",{className:"parent-evolution-scores",children:[o.jsxs("span",{className:"parent-evolution-prec",children:[W.moyenneSemainePrecedente,"/20"]}),o.jsx("span",{className:"parent-evolution-fleche",children:DD(W.evolution)}),o.jsxs("span",{className:"parent-evolution-courante",children:[W.moyenneSemaineCourante,"/20"]}),o.jsxs("span",{className:`parent-evolution-ecart ${W.ecart>0?"ecart-positif":W.ecart<0?"ecart-negatif":""}`,children:["(",W.ecart>0?"+":"",W.ecart,")"]})]})]},G))})]}),u.resume.disciplinesEnDifficulte.length>0&&o.jsxs("div",{className:"parent-section parent-section-warning",children:[o.jsx("h4",{children:" Matires ncessitant une attention"}),o.jsx("ul",{className:"parent-disciplines-difficulte",children:u.resume.disciplinesEnDifficulte.map((W,G)=>o.jsx("li",{children:W},G))})]})]}),R==="resume"&&!u.resume&&o.jsxs("div",{className:"parent-vide-section",children:[o.jsx("span",{className:"parent-vide-icon",children:""}),o.jsx("p",{children:"Le rsum sera disponible une fois que votre enfant aura pass des quiz."})]})]})]}):o.jsxs("div",{className:"parent-erreur-dashboard",children:[o.jsx("p",{children:" Impossible de charger le suivi. Veuillez ressayer."}),o.jsx("button",{className:"parent-btn parent-btn-primary",onClick:()=>s&&z(s),children:" Ressayer"})]}):o.jsx("div",{className:"parent-select-enfant",children:o.jsx("p",{children:" Slectionnez un enfant dans la liste pour voir son suivi."})})})]})]})},kge=["bold","italic","underline","strikethrough","heading","color","highlight","alignLeft","alignCenter","alignRight","bulletList","numberedList","subscript","superscript","link","clean"],Dge=["#000000","#dc2626","#2563eb","#059669","#d97706","#7c3aed","#ec4899","#64748b","#ffffff"],Mge=["#fef08a","#bbf7d0","#bfdbfe","#fecaca","#e9d5ff","#fed7aa","transparent"],Hs=({value:t,onChange:e,placeholder:n="Saisissez votre texte...",minHeight:r=100,maxHeight:i=400,toolbar:s=kge,disabled:c=!1,className:u=""})=>{const f=w.useRef(null),h=w.useRef(!1),[p,g]=w.useState(!1),[y,_]=w.useState(!1);w.useEffect(()=>{f.current&&!h.current&&f.current.innerHTML!==t&&(f.current.innerHTML=t||""),h.current=!1},[t]);const E=w.useCallback(()=>{f.current&&(h.current=!0,e(f.current.innerHTML))},[e]),j=w.useCallback((I,O)=>{f.current?.focus(),document.execCommand(I,!1,O),E()},[E]),N=w.useCallback(()=>{const I=prompt("URL du lien :","https://");I&&j("createLink",I)},[j]),A=w.useCallback(()=>{j("removeFormat"),j("formatBlock","p")},[j]);w.useEffect(()=>{const I=()=>{g(!1),_(!1)};return document.addEventListener("click",I),()=>document.removeEventListener("click",I)},[]);const D=I=>{switch(I){case"bold":return o.jsx("button",{type:"button",className:"rte-btn",title:"Gras (Ctrl+B)",onMouseDown:O=>{O.preventDefault(),j("bold")},children:o.jsx("strong",{children:"G"})},"bold");case"italic":return o.jsx("button",{type:"button",className:"rte-btn",title:"Italique (Ctrl+I)",onMouseDown:O=>{O.preventDefault(),j("italic")},children:o.jsx("em",{children:"I"})},"italic");case"underline":return o.jsx("button",{type:"button",className:"rte-btn",title:"Soulign (Ctrl+U)",onMouseDown:O=>{O.preventDefault(),j("underline")},children:o.jsx("u",{children:"S"})},"underline");case"strikethrough":return o.jsx("button",{type:"button",className:"rte-btn",title:"Barr",onMouseDown:O=>{O.preventDefault(),j("strikeThrough")},children:o.jsx("s",{children:"B"})},"strike");case"heading":return o.jsx("button",{type:"button",className:"rte-btn",title:"Titre",onMouseDown:O=>{O.preventDefault(),j("formatBlock","h3")},children:"H"},"heading");case"color":return o.jsxs("span",{className:"rte-dropdown-wrapper",onClick:O=>O.stopPropagation(),children:[o.jsx("button",{type:"button",className:"rte-btn",title:"Couleur du texte",onClick:()=>{g(!p),_(!1)},children:o.jsx("span",{style:{borderBottom:"3px solid #dc2626"},children:"A"})}),p&&o.jsx("div",{className:"rte-color-picker",children:Dge.map(O=>o.jsx("button",{type:"button",className:"rte-color-swatch",style:{backgroundColor:O,border:O==="#ffffff"?"1px solid #ccc":"none"},onMouseDown:V=>{V.preventDefault(),j("foreColor",O),g(!1)}},O))})]},"color");case"highlight":return o.jsxs("span",{className:"rte-dropdown-wrapper",onClick:O=>O.stopPropagation(),children:[o.jsx("button",{type:"button",className:"rte-btn",title:"Surligner",onClick:()=>{_(!y),g(!1)},children:o.jsx("span",{style:{backgroundColor:"#fef08a",padding:"0 3px"},children:"S"})}),y&&o.jsx("div",{className:"rte-color-picker",children:Mge.map(O=>o.jsx("button",{type:"button",className:"rte-color-swatch",style:{backgroundColor:O==="transparent"?"#fff":O,border:"1px solid #ccc"},onMouseDown:V=>{V.preventDefault(),j("hiliteColor",O),_(!1)},children:O==="transparent"?"":""},O))})]},"highlight");case"alignLeft":return o.jsx("button",{type:"button",className:"rte-btn",title:"Aligner  gauche",onMouseDown:O=>{O.preventDefault(),j("justifyLeft")},children:""},"alignL");case"alignCenter":return o.jsx("button",{type:"button",className:"rte-btn",title:"Centrer",onMouseDown:O=>{O.preventDefault(),j("justifyCenter")},children:""},"alignC");case"alignRight":return o.jsx("button",{type:"button",className:"rte-btn",title:"Aligner  droite",onMouseDown:O=>{O.preventDefault(),j("justifyRight")},children:""},"alignR");case"bulletList":return o.jsx("button",{type:"button",className:"rte-btn",title:"Liste  puces",onMouseDown:O=>{O.preventDefault(),j("insertUnorderedList")},children:""},"ul");case"numberedList":return o.jsx("button",{type:"button",className:"rte-btn",title:"Liste numrote",onMouseDown:O=>{O.preventDefault(),j("insertOrderedList")},children:"1"},"ol");case"subscript":return o.jsxs("button",{type:"button",className:"rte-btn",title:"Indice",onMouseDown:O=>{O.preventDefault(),j("subscript")},children:["X",o.jsx("sub",{children:""})]},"sub");case"superscript":return o.jsxs("button",{type:"button",className:"rte-btn",title:"Exposant",onMouseDown:O=>{O.preventDefault(),j("superscript")},children:["X",o.jsx("sup",{children:""})]},"sup");case"link":return o.jsx("button",{type:"button",className:"rte-btn",title:"Insrer un lien",onMouseDown:O=>{O.preventDefault(),N()},children:""},"link");case"clean":return o.jsx("button",{type:"button",className:"rte-btn rte-btn-clean",title:"Nettoyer le formatage",onMouseDown:O=>{O.preventDefault(),A()},children:""},"clean");default:return null}};return o.jsxs("div",{className:`rte-container ${c?"rte-disabled":""} ${u}`,children:[!c&&o.jsx("div",{className:"rte-toolbar",children:s.map(I=>D(I))}),o.jsx("div",{ref:f,className:"rte-editor",contentEditable:!c,onInput:E,onBlur:E,"data-placeholder":n,style:{minHeight:`${r}px`,maxHeight:`${i}px`},suppressContentEditableWarning:!0})]})},$h={qcm_unique:"QCM  Choix unique",qcm_multiple:"QCM  Choix multiple",drag_drop:"Glisser-Dposer",mise_en_relation:"Mise en relation",essai:"Essai / Rdaction"},ny={qcm_unique:"",qcm_multiple:"",drag_drop:"",mise_en_relation:"",essai:""},ry={qcm_unique:"#2563eb",qcm_multiple:"#7c3aed",drag_drop:"#059669",mise_en_relation:"#d97706",essai:"#dc2626"};function Pn(t="id"){return`${t}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function zge(t,e){const n={id:Pn("q"),type:t,enonce:"",difficulte:"moyen",points:2,ordre:e};switch(t){case"qcm_unique":return{...n,typeData:{options:[{id:Pn("opt"),texte:"",isCorrect:!0},{id:Pn("opt"),texte:"",isCorrect:!1},{id:Pn("opt"),texte:"",isCorrect:!1},{id:Pn("opt"),texte:"",isCorrect:!1}]}};case"qcm_multiple":return{...n,typeData:{options:[{id:Pn("opt"),texte:"",isCorrect:!0},{id:Pn("opt"),texte:"",isCorrect:!0},{id:Pn("opt"),texte:"",isCorrect:!1},{id:Pn("opt"),texte:"",isCorrect:!1}],scoringPartiel:!0}};case"drag_drop":return{...n,typeData:{items:[{id:Pn("item"),texte:"",ordreCorrect:1},{id:Pn("item"),texte:"",ordreCorrect:2},{id:Pn("item"),texte:"",ordreCorrect:3}],consigneOrdre:"Remettez les lments dans le bon ordre"}};case"mise_en_relation":return{...n,typeData:{paires:[{id:Pn("pair"),gauche:"",droite:""},{id:Pn("pair"),gauche:"",droite:""},{id:Pn("pair"),gauche:"",droite:""}]}};case"essai":return{...n,points:5,typeData:{nombreMotsMin:50,nombreMotsMax:500,motsCles:[],correctionMode:"manuelle"}}}}const rS="quizzes_v2",Lge="quiz_results_v2";async function qge(t,e){try{const n=await ma(yt(Se,rS),{...t,auteurId:e,createdAt:tn(),updatedAt:tn()});return console.log(" Quiz avanc cr :",n.id),n.id}catch(n){throw console.error(" Erreur cration quiz avanc :",n),new Error("Impossible de crer le quiz")}}async function Uge(t,e){try{const n=tt(Se,rS,t);await Mn(n,{...e,updatedAt:tn()}),console.log(" Quiz avanc mis  jour :",t)}catch(n){throw console.error(" Erreur mise  jour quiz :",n),new Error("Impossible de mettre  jour le quiz")}}async function yU(t){try{const e=await zi(tt(Se,rS,t));if(!e.exists())return null;const n=e.data();return{id:e.id,...n,createdAt:n.createdAt?.toDate()||new Date,updatedAt:n.updatedAt?.toDate()||void 0}}catch(e){throw console.error(" Erreur rcupration quiz :",e),new Error("Impossible de rcuprer le quiz")}}function Vge(t,e){let n=0,r=0;const i=[];for(const s of t.questions){r+=s.points;const c=e.find(g=>g.questionId===s.id);if(!c){i.push({questionId:s.id,type:s.type,pointsObtenus:0,pointsMax:s.points,isCorrect:!1});continue}let u=0,f=!1,h=!1,p=!1;switch(s.type){case"qcm_unique":{const y=s.typeData.options.find(_=>_.isCorrect);y&&c.selectedOptionId===y.id&&(u=s.points,f=!0);break}case"qcm_multiple":{const g=s.typeData,y=g.options.filter(A=>A.isCorrect).map(A=>A.id),_=g.options.filter(A=>!A.isCorrect).map(A=>A.id),E=c.selectedOptionIds||[],j=E.some(A=>_.includes(A)),N=E.filter(A=>y.includes(A)).length;!j&&N===y.length?(u=s.points,f=!0):g.scoringPartiel&&N>0&&!j&&(u=Math.round(s.points*N/y.length*100)/100,h=!0);break}case"drag_drop":{const g=s.typeData,y=c.ordrePropose||[],_=g.items.sort((j,N)=>j.ordreCorrect-N.ordreCorrect).map(j=>j.id);let E=0;for(let j=0;j<_.length;j++)y[j]===_[j]&&E++;E===_.length?(u=s.points,f=!0):E>0&&(u=Math.round(s.points*E/_.length*100)/100,h=!0);break}case"mise_en_relation":{const g=s.typeData,y=c.relationsProposees||{};let _=0;for(const E of g.paires)y[E.id]===E.id&&_++;_===g.paires.length?(u=s.points,f=!0):_>0&&(u=Math.round(s.points*_/g.paires.length*100)/100,h=!0);break}case"essai":{const g=s.typeData,y=c.texteReponse||"";if(g.correctionMode==="mots_cles"&&g.motsCles.length>0){const _=y.toLowerCase().replace(/<[^>]*>/g,"");let E=0,j=0;for(const N of g.motsCles)E+=N.poids,_.includes(N.mot.toLowerCase())&&(j+=N.poids);E>0&&(u=Math.round(s.points*j/E*100)/100,f=j===E,h=j>0&&j<E)}else p=!0;break}}n+=u,i.push({questionId:s.id,type:s.type,pointsObtenus:u,pointsMax:s.points,isCorrect:f,isPartiel:h,correctionManuelleRequise:p})}return{score:n,scoreMax:r,details:i}}async function Bge(t,e,n,r){try{const{score:i,scoreMax:s,details:c}=Vge(t,n),u=s>0?Math.round(i/s*20*100)/100:0,f=c.some(g=>g.correctionManuelleRequise),h={quizId:t.id,userId:e,reponses:n,score:i,scoreMax:s,note20:u,tempsEcoule:r,datePassage:new Date,reussi:u>=t.noteMinimale,correctionManuelle:f,detailsParQuestion:c},p=await ma(yt(Se,Lge),{...h,datePassage:tn()});return console.log(" Rsultat quiz enregistr :",p.id),{id:p.id,...h}}catch(i){throw console.error(" Erreur soumission quiz :",i),new Error("Impossible d'enregistrer le rsultat")}}const $ge=({existingQuiz:t,disciplines:e,auteurId:n,onSave:r,onCancel:i})=>{const[s,c]=w.useState(t?.titre||""),[u,f]=w.useState(t?.description||""),[h,p]=w.useState(t?.disciplineId||""),[g,y]=w.useState(t?.duree||30),[_,E]=w.useState(t?.isPremium??!0),[j,N]=w.useState(t?.noteMinimale||10),[A,D]=w.useState(t?.melangerQuestions??!1),[I,O]=w.useState(t?.melangerOptions??!1),[V,B]=w.useState(t?.afficherCorrection??!0),[k,C]=w.useState(t?.tentativesMax||0),[R,U]=w.useState(t?.questions||[]),[L,z]=w.useState(null),[M,Q]=w.useState(!1),[W,G]=w.useState(null),[le,be]=w.useState(!1),je=w.useCallback(H=>{const de=zge(H,R.length+1);U(Ce=>[...Ce,de]),z(R.length),be(!1)},[R.length]),X=w.useCallback(H=>{confirm("Supprimer cette question ?")&&(U(de=>de.filter((ie,Ee)=>Ee!==H).map((ie,Ee)=>({...ie,ordre:Ee+1}))),z(null))},[]),F=w.useCallback(H=>{U(de=>{const Ce=de[H],ie={...JSON.parse(JSON.stringify(Ce)),id:Pn("q"),ordre:de.length+1};return[...de,ie]})},[]),ne=w.useCallback((H,de)=>{U(Ce=>{const ie=[...Ce],Ee=de==="up"?H-1:H+1;return Ee<0||Ee>=ie.length?Ce:([ie[H],ie[Ee]]=[ie[Ee],ie[H]],ie.map((Z,ge)=>({...Z,ordre:ge+1})))}),z(de==="up"?L!==null?L-1:null:L!==null?L+1:null)},[L]),pe=w.useCallback((H,de)=>{U(Ce=>Ce.map((ie,Ee)=>Ee===H?{...ie,...de}:ie))},[]),we=async()=>{if(!s.trim()){G("Le titre est obligatoire");return}if(!h){G("Slectionnez une discipline");return}if(R.length===0){G("Ajoutez au moins une question");return}for(let H=0;H<R.length;H++)if(!R[H].enonce.replace(/<[^>]*>/g,"").trim()){G(`La question ${H+1} n'a pas d'nonc`),z(H);return}G(null),Q(!0);try{const H={disciplineId:h,titre:s.trim(),description:u.trim()||void 0,questions:R,duree:g,isPremium:_,noteMinimale:j,melangerQuestions:A,melangerOptions:I,afficherCorrection:V,tentativesMax:k};let de;t?.id?(await Uge(t.id,H),de=t.id):de=await qge(H,n),r?.(de)}catch(H){G(H.message||"Erreur lors de la sauvegarde")}finally{Q(!1)}},J=R.reduce((H,de)=>H+de.points,0);return o.jsxs("div",{className:"quiz-editor",children:[o.jsxs("div",{className:"quiz-editor__header",children:[o.jsx("h2",{children:t?" Modifier le quiz":" Nouveau quiz avanc"}),o.jsxs("div",{className:"quiz-editor__header-actions",children:[o.jsxs("span",{className:"quiz-editor__score-badge",children:["Score total : ",J," pts"]}),o.jsxs("span",{className:"quiz-editor__count-badge",children:[R.length," question",R.length>1?"s":""]})]})]}),W&&o.jsxs("div",{className:"quiz-editor__error",children:[" ",W,o.jsx("button",{onClick:()=>G(null),children:""})]}),o.jsxs("div",{className:"quiz-editor__section",children:[o.jsx("h3",{className:"quiz-editor__section-title",children:" Paramtres du quiz"}),o.jsxs("div",{className:"quiz-editor__grid",children:[o.jsxs("div",{className:"quiz-editor__field quiz-editor__field--full",children:[o.jsx("label",{children:"Titre du quiz *"}),o.jsx("input",{type:"text",value:s,onChange:H=>c(H.target.value),placeholder:"Ex: valuation Chapitre 3  Les fonctions",className:"quiz-editor__input"})]}),o.jsxs("div",{className:"quiz-editor__field",children:[o.jsx("label",{children:"Discipline *"}),o.jsxs("select",{value:h,onChange:H=>p(H.target.value),className:"quiz-editor__select",children:[o.jsx("option",{value:"",children:" Slectionner "}),e.map(H=>o.jsxs("option",{value:H.id,children:[H.nom," (",H.classe,")"]},H.id))]})]}),o.jsxs("div",{className:"quiz-editor__field",children:[o.jsx("label",{children:"Dure (minutes)"}),o.jsx("input",{type:"number",value:g,onChange:H=>y(Number(H.target.value)),min:1,max:180,className:"quiz-editor__input"})]}),o.jsxs("div",{className:"quiz-editor__field",children:[o.jsx("label",{children:"Note minimale (/20)"}),o.jsx("input",{type:"number",value:j,onChange:H=>N(Number(H.target.value)),min:0,max:20,className:"quiz-editor__input"})]}),o.jsxs("div",{className:"quiz-editor__field",children:[o.jsx("label",{children:"Tentatives max (0 = illimit)"}),o.jsx("input",{type:"number",value:k,onChange:H=>C(Number(H.target.value)),min:0,max:10,className:"quiz-editor__input"})]}),o.jsxs("div",{className:"quiz-editor__field quiz-editor__field--full",children:[o.jsx("label",{children:"Description (optionnel)"}),o.jsx(Hs,{value:u,onChange:f,placeholder:"Dcrivez le contenu et les objectifs de ce quiz...",minHeight:80,toolbar:["bold","italic","underline","color","bulletList"]})]})]}),o.jsxs("div",{className:"quiz-editor__options-row",children:[o.jsxs("label",{className:"quiz-editor__checkbox",children:[o.jsx("input",{type:"checkbox",checked:_,onChange:H=>E(H.target.checked)}),o.jsx("span",{children:" Premium"})]}),o.jsxs("label",{className:"quiz-editor__checkbox",children:[o.jsx("input",{type:"checkbox",checked:A,onChange:H=>D(H.target.checked)}),o.jsx("span",{children:" Mlanger les questions"})]}),o.jsxs("label",{className:"quiz-editor__checkbox",children:[o.jsx("input",{type:"checkbox",checked:I,onChange:H=>O(H.target.checked)}),o.jsx("span",{children:" Mlanger les options QCM"})]}),o.jsxs("label",{className:"quiz-editor__checkbox",children:[o.jsx("input",{type:"checkbox",checked:V,onChange:H=>B(H.target.checked)}),o.jsx("span",{children:" Afficher la correction"})]})]})]}),o.jsxs("div",{className:"quiz-editor__section",children:[o.jsx("h3",{className:"quiz-editor__section-title",children:" Questions"}),o.jsx("div",{className:"quiz-editor__questions-list",children:R.map((H,de)=>o.jsx(Fge,{question:H,index:de,isActive:L===de,onToggle:()=>z(L===de?null:de),onUpdate:Ce=>pe(de,Ce),onDelete:()=>X(de),onDuplicate:()=>F(de),onMoveUp:()=>ne(de,"up"),onMoveDown:()=>ne(de,"down"),isFirst:de===0,isLast:de===R.length-1},H.id))}),o.jsxs("div",{className:"quiz-editor__add-wrapper",children:[o.jsx("button",{type:"button",className:"quiz-editor__add-btn",onClick:()=>be(!le),children:"+ Ajouter une question"}),le&&o.jsx("div",{className:"quiz-editor__add-menu",children:Object.keys($h).map(H=>o.jsxs("button",{type:"button",className:"quiz-editor__add-menu-item",onClick:()=>je(H),children:[o.jsx("span",{className:"quiz-editor__type-badge",style:{backgroundColor:ry[H]},children:ny[H]}),o.jsx("span",{children:$h[H]})]},H))})]})]}),o.jsxs("div",{className:"quiz-editor__actions",children:[o.jsx("button",{type:"button",className:"quiz-editor__btn quiz-editor__btn--secondary",onClick:i,disabled:M,children:"Annuler"}),o.jsx("button",{type:"button",className:"quiz-editor__btn quiz-editor__btn--primary",onClick:we,disabled:M||R.length===0,children:M?" Sauvegarde...":t?" Mettre  jour":" Crer le quiz"})]})]})},Fge=({question:t,index:e,isActive:n,onToggle:r,onUpdate:i,onDelete:s,onDuplicate:c,onMoveUp:u,onMoveDown:f,isFirst:h,isLast:p})=>{const g=ry[t.type],y=ny[t.type],_=$h[t.type],E=j=>{const N=j.replace(/<[^>]*>/g,"").trim();return N.length>80?N.substring(0,80)+"...":N||"(sans nonc)"};return o.jsxs("div",{className:`question-editor ${n?"question-editor--active":""}`,style:{borderLeftColor:g},children:[o.jsxs("div",{className:"question-editor__header",onClick:r,children:[o.jsxs("div",{className:"question-editor__header-left",children:[o.jsx("span",{className:"question-editor__number",children:e+1}),o.jsxs("span",{className:"question-editor__type-badge",style:{backgroundColor:g},children:[y," ",_]}),!n&&o.jsx("span",{className:"question-editor__preview",children:E(t.enonce)})]}),o.jsxs("div",{className:"question-editor__header-right",children:[o.jsxs("span",{className:"question-editor__points",children:[t.points," pts"]}),o.jsx("span",{className:"question-editor__toggle",children:n?"":""})]})]}),n&&o.jsxs("div",{className:"question-editor__body",children:[o.jsxs("div",{className:"question-editor__toolbar",children:[o.jsx("button",{type:"button",onClick:u,disabled:h,title:"Monter",children:""}),o.jsx("button",{type:"button",onClick:f,disabled:p,title:"Descendre",children:""}),o.jsx("button",{type:"button",onClick:c,title:"Dupliquer",children:""}),o.jsx("button",{type:"button",onClick:s,className:"btn-danger",title:"Supprimer",children:""})]}),o.jsxs("div",{className:"question-editor__field",children:[o.jsx("label",{children:"nonc de la question *"}),o.jsx(Hs,{value:t.enonce,onChange:j=>i({enonce:j}),placeholder:"Saisissez l'nonc de la question...",minHeight:100})]}),o.jsxs("div",{className:"question-editor__params",children:[o.jsxs("div",{className:"question-editor__param",children:[o.jsx("label",{children:"Difficult"}),o.jsxs("select",{value:t.difficulte,onChange:j=>i({difficulte:j.target.value}),children:[o.jsx("option",{value:"facile",children:" Facile"}),o.jsx("option",{value:"moyen",children:" Moyen"}),o.jsx("option",{value:"difficile",children:" Difficile"})]})]}),o.jsxs("div",{className:"question-editor__param",children:[o.jsx("label",{children:"Points"}),o.jsx("input",{type:"number",value:t.points,onChange:j=>i({points:Number(j.target.value)}),min:1,max:20})]})]}),o.jsxs("div",{className:"question-editor__type-specific",children:[t.type==="qcm_unique"&&o.jsx(Hge,{data:t.typeData,onChange:j=>i({typeData:j})}),t.type==="qcm_multiple"&&o.jsx(Gge,{data:t.typeData,onChange:j=>i({typeData:j})}),t.type==="drag_drop"&&o.jsx(Kge,{data:t.typeData,onChange:j=>i({typeData:j})}),t.type==="mise_en_relation"&&o.jsx(Qge,{data:t.typeData,onChange:j=>i({typeData:j})}),t.type==="essai"&&o.jsx(Wge,{data:t.typeData,onChange:j=>i({typeData:j})})]}),o.jsxs("div",{className:"question-editor__field",children:[o.jsx("label",{children:"Explication (affiche aprs correction, optionnel)"}),o.jsx(Hs,{value:t.explication||"",onChange:j=>i({explication:j}),placeholder:"Expliquez la bonne rponse...",minHeight:60,toolbar:["bold","italic","color","link"]})]})]})]})},Hge=({data:t,onChange:e})=>{const n=(s,c)=>{const u=t.options.map((f,h)=>h===s?{...f,...c}:c.isCorrect===!0?{...f,isCorrect:!1}:f);e({options:u})},r=()=>{t.options.length>=6||e({options:[...t.options,{id:Pn("opt"),texte:"",isCorrect:!1}]})},i=s=>{t.options.length<=2||e({options:t.options.filter((c,u)=>u!==s)})};return o.jsxs("div",{className:"type-editor",children:[o.jsx("label",{className:"type-editor__label",children:" Options (slectionnez la bonne rponse)"}),t.options.map((s,c)=>o.jsxs("div",{className:"type-editor__option-row",children:[o.jsx("input",{type:"radio",name:`qcm_unique_${s.id}`,checked:s.isCorrect,onChange:()=>n(c,{isCorrect:!0}),className:"type-editor__radio",title:"Bonne rponse"}),o.jsx("div",{className:"type-editor__option-text",children:o.jsx(Hs,{value:s.texte,onChange:u=>n(c,{texte:u}),placeholder:`Option ${c+1}...`,minHeight:40,toolbar:["bold","italic","color","subscript","superscript"]})}),s.isCorrect&&o.jsx("span",{className:"type-editor__correct-badge",children:""}),o.jsx("button",{type:"button",className:"type-editor__remove-btn",onClick:()=>i(c),disabled:t.options.length<=2,title:"Supprimer cette option",children:""})]},s.id)),t.options.length<6&&o.jsx("button",{type:"button",className:"type-editor__add-btn",onClick:r,children:"+ Ajouter une option"})]})},Gge=({data:t,onChange:e})=>{const n=(s,c)=>{const u=t.options.map((f,h)=>h===s?{...f,...c}:f);e({...t,options:u})},r=()=>{t.options.length>=8||e({...t,options:[...t.options,{id:Pn("opt"),texte:"",isCorrect:!1}]})},i=s=>{t.options.length<=2||e({...t,options:t.options.filter((c,u)=>u!==s)})};return o.jsxs("div",{className:"type-editor",children:[o.jsx("label",{className:"type-editor__label",children:" Options (cochez toutes les bonnes rponses)"}),t.options.map((s,c)=>o.jsxs("div",{className:"type-editor__option-row",children:[o.jsx("input",{type:"checkbox",checked:s.isCorrect,onChange:u=>n(c,{isCorrect:u.target.checked}),className:"type-editor__checkbox",title:"Bonne rponse"}),o.jsx("div",{className:"type-editor__option-text",children:o.jsx(Hs,{value:s.texte,onChange:u=>n(c,{texte:u}),placeholder:`Option ${c+1}...`,minHeight:40,toolbar:["bold","italic","color","subscript","superscript"]})}),s.isCorrect&&o.jsx("span",{className:"type-editor__correct-badge",children:""}),o.jsx("button",{type:"button",className:"type-editor__remove-btn",onClick:()=>i(c),disabled:t.options.length<=2,children:""})]},s.id)),t.options.length<8&&o.jsx("button",{type:"button",className:"type-editor__add-btn",onClick:r,children:"+ Ajouter une option"}),o.jsxs("label",{className:"type-editor__sub-option",children:[o.jsx("input",{type:"checkbox",checked:t.scoringPartiel,onChange:s=>e({...t,scoringPartiel:s.target.checked})}),o.jsx("span",{children:"Accorder des points partiels (proportionnel aux bonnes rponses trouves)"})]})]})},Kge=({data:t,onChange:e})=>{const n=(s,c)=>{const u=t.items.map((f,h)=>h===s?{...f,...c}:f);e({...t,items:u})},r=()=>{t.items.length>=10||e({...t,items:[...t.items,{id:Pn("item"),texte:"",ordreCorrect:t.items.length+1}]})},i=s=>{if(t.items.length<=2)return;const c=t.items.filter((u,f)=>f!==s).map((u,f)=>({...u,ordreCorrect:f+1}));e({...t,items:c})};return o.jsxs("div",{className:"type-editor",children:[o.jsx("label",{className:"type-editor__label",children:" lments  rordonner (dans l'ordre correct)"}),o.jsx("p",{className:"type-editor__hint",children:"Saisissez les lments dans l'ordre correct. Ils seront mlangs automatiquement pour l'lve."}),o.jsxs("div",{className:"type-editor__field-inline",children:[o.jsx("label",{children:"Consigne :"}),o.jsx("input",{type:"text",value:t.consigneOrdre,onChange:s=>e({...t,consigneOrdre:s.target.value}),placeholder:"Ex: Classez du plus ancien au plus rcent",className:"type-editor__input"})]}),t.items.map((s,c)=>o.jsxs("div",{className:"type-editor__drag-row",children:[o.jsx("span",{className:"type-editor__drag-number",children:c+1}),o.jsx("div",{className:"type-editor__option-text",children:o.jsx(Hs,{value:s.texte,onChange:u=>n(c,{texte:u}),placeholder:`lment ${c+1}...`,minHeight:40,toolbar:["bold","italic","color"]})}),o.jsx("button",{type:"button",className:"type-editor__remove-btn",onClick:()=>i(c),disabled:t.items.length<=2,children:""})]},s.id)),t.items.length<10&&o.jsx("button",{type:"button",className:"type-editor__add-btn",onClick:r,children:"+ Ajouter un lment"})]})},Qge=({data:t,onChange:e})=>{const n=(s,c)=>{const u=t.paires.map((f,h)=>h===s?{...f,...c}:f);e({paires:u})},r=()=>{t.paires.length>=8||e({paires:[...t.paires,{id:Pn("pair"),gauche:"",droite:""}]})},i=s=>{t.paires.length<=2||e({paires:t.paires.filter((c,u)=>u!==s)})};return o.jsxs("div",{className:"type-editor",children:[o.jsx("label",{className:"type-editor__label",children:" Paires  relier (gauche  droite)"}),o.jsx("p",{className:"type-editor__hint",children:"Saisissez les correspondances correctes. La colonne droite sera mlange pour l'lve."}),o.jsxs("div",{className:"type-editor__relation-header",children:[o.jsx("span",{children:"Colonne A (gauche)"}),o.jsx("span",{}),o.jsx("span",{children:"Colonne B (droite)"}),o.jsx("span",{})]}),t.paires.map((s,c)=>o.jsxs("div",{className:"type-editor__relation-row",children:[o.jsx("div",{className:"type-editor__relation-cell",children:o.jsx(Hs,{value:s.gauche,onChange:u=>n(c,{gauche:u}),placeholder:`lment A${c+1}...`,minHeight:40,toolbar:["bold","italic","color"]})}),o.jsx("span",{className:"type-editor__relation-arrow",children:""}),o.jsx("div",{className:"type-editor__relation-cell",children:o.jsx(Hs,{value:s.droite,onChange:u=>n(c,{droite:u}),placeholder:`lment B${c+1}...`,minHeight:40,toolbar:["bold","italic","color"]})}),o.jsx("button",{type:"button",className:"type-editor__remove-btn",onClick:()=>i(c),disabled:t.paires.length<=2,children:""})]},s.id)),t.paires.length<8&&o.jsx("button",{type:"button",className:"type-editor__add-btn",onClick:r,children:"+ Ajouter une paire"})]})},Wge=({data:t,onChange:e})=>{const n=()=>{e({...t,motsCles:[...t.motsCles,{mot:"",poids:1,obligatoire:!1}]})},r=(s,c)=>{const u=t.motsCles.map((f,h)=>h===s?{...f,...c}:f);e({...t,motsCles:u})},i=s=>{e({...t,motsCles:t.motsCles.filter((c,u)=>u!==s)})};return o.jsxs("div",{className:"type-editor",children:[o.jsx("label",{className:"type-editor__label",children:" Paramtres de l'essai"}),o.jsxs("div",{className:"type-editor__params-row",children:[o.jsxs("div",{className:"type-editor__param-inline",children:[o.jsx("label",{children:"Mots minimum :"}),o.jsx("input",{type:"number",value:t.nombreMotsMin||"",onChange:s=>e({...t,nombreMotsMin:Number(s.target.value)||void 0}),min:0,placeholder:"Ex: 50"})]}),o.jsxs("div",{className:"type-editor__param-inline",children:[o.jsx("label",{children:"Mots maximum :"}),o.jsx("input",{type:"number",value:t.nombreMotsMax||"",onChange:s=>e({...t,nombreMotsMax:Number(s.target.value)||void 0}),min:0,placeholder:"Ex: 500"})]})]}),o.jsxs("div",{className:"type-editor__field-inline",children:[o.jsx("label",{children:"Mode de correction :"}),o.jsxs("select",{value:t.correctionMode,onChange:s=>e({...t,correctionMode:s.target.value}),children:[o.jsx("option",{value:"manuelle",children:" Manuelle (par le prof)"}),o.jsx("option",{value:"mots_cles",children:" Par mots-cls (automatique)"}),o.jsx("option",{value:"semi_auto",children:" Semi-automatique (mots-cls + validation prof)"})]})]}),(t.correctionMode==="mots_cles"||t.correctionMode==="semi_auto")&&o.jsxs("div",{className:"type-editor__keywords",children:[o.jsx("label",{className:"type-editor__sub-label",children:"Mots-cls attendus"}),t.motsCles.map((s,c)=>o.jsxs("div",{className:"type-editor__keyword-row",children:[o.jsx("input",{type:"text",value:s.mot,onChange:u=>r(c,{mot:u.target.value}),placeholder:"Mot ou expression...",className:"type-editor__keyword-input"}),o.jsxs("select",{value:s.poids,onChange:u=>r(c,{poids:Number(u.target.value)}),className:"type-editor__keyword-weight",children:[o.jsx("option",{value:1,children:"Poids 1"}),o.jsx("option",{value:2,children:"Poids 2"}),o.jsx("option",{value:3,children:"Poids 3"}),o.jsx("option",{value:4,children:"Poids 4"}),o.jsx("option",{value:5,children:"Poids 5"})]}),o.jsxs("label",{className:"type-editor__keyword-required",children:[o.jsx("input",{type:"checkbox",checked:s.obligatoire,onChange:u=>r(c,{obligatoire:u.target.checked})}),o.jsx("span",{children:"Obligatoire"})]}),o.jsx("button",{type:"button",className:"type-editor__remove-btn",onClick:()=>i(c),children:""})]},c)),o.jsx("button",{type:"button",className:"type-editor__add-btn",onClick:n,children:"+ Ajouter un mot-cl"})]}),o.jsxs("div",{className:"type-editor__field-block",children:[o.jsx("label",{children:"Rponse modle (optionnel  pour le prof)"}),o.jsx(Hs,{value:t.reponseModele||"",onChange:s=>e({...t,reponseModele:s}),placeholder:"Saisissez une rponse modle...",minHeight:80})]})]})},MD=()=>{const{quizId:t}=ay(),e=Vi(),{currentUser:n}=Zn(),[r,i]=w.useState([]),[s,c]=w.useState(void 0),[u,f]=w.useState(!0),[h,p]=w.useState(null);return w.useEffect(()=>{(async()=>{try{f(!0);const y=await aa.getAll();if(i(y.map(_=>({id:_.id,nom:_.nom,classe:_.classe||""}))),t){const _=await yU(t);_?c(_):p("Quiz introuvable")}}catch(y){console.error("Erreur chargement donnes:",y),p(y.message||"Erreur de chargement")}finally{f(!1)}})()},[t]),u?o.jsx("div",{style:{textAlign:"center",padding:"3rem"},children:o.jsx("p",{children:" Chargement..."})}):h?o.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[o.jsxs("p",{style:{color:"#dc2626"},children:[" ",h]}),o.jsx("button",{onClick:()=>e(-1),children:" Retour"})]}):o.jsx($ge,{existingQuiz:s?{...s,id:s.id}:void 0,disciplines:r,auteurId:n?.uid||"",onSave:g=>{alert(" Quiz sauvegard avec succs !"),e("/admin/quiz")},onCancel:()=>e(-1)})},Yge=({quiz:t,userId:e,onComplete:n,onQuit:r})=>{const i=w.useMemo(()=>{let C=[...t.questions];return t.melangerQuestions&&(C=C.sort(()=>Math.random()-.5)),C},[t]),[s,c]=w.useState(0),[u,f]=w.useState(new Map),[h,p]=w.useState(t.duree*60),[g,y]=w.useState(!1),[_,E]=w.useState(null),[j,N]=w.useState(!1),A=w.useRef(Date.now());w.useEffect(()=>{if(_)return;const C=setInterval(()=>{p(R=>R<=1?(clearInterval(C),B(),0):R-1)},1e3);return()=>clearInterval(C)},[_]);const D=C=>{const R=Math.floor(C/60),U=C%60;return`${R.toString().padStart(2,"0")}:${U.toString().padStart(2,"0")}`},I=i[s],O=w.useCallback((C,R)=>{f(U=>{const L=new Map(U),z=L.get(C)||{questionId:C,type:I.type};return L.set(C,{...z,...R}),L})},[I]),V=C=>{C>=0&&C<i.length&&c(C)},B=async()=>{N(!1),y(!0);try{const C=Array.from(u.values()),R=Math.round((Date.now()-A.current)/1e3),U=await Bge(t,e,C,R);E(U),n?.(U)}catch(C){alert("Erreur lors de la soumission : "+C.message)}finally{y(!1)}},k=u.size;return _?o.jsx("div",{className:"quiz-player quiz-player--results",children:o.jsxs("div",{className:"quiz-results",children:[o.jsxs("div",{className:`quiz-results__header ${_.reussi?"quiz-results__header--success":"quiz-results__header--fail"}`,children:[o.jsx("div",{className:"quiz-results__emoji",children:_.reussi?"":""}),o.jsx("h2",{children:_.reussi?"Flicitations !":"Quiz termin"}),o.jsxs("div",{className:"quiz-results__score",children:[o.jsxs("span",{className:"quiz-results__note",children:[_.note20,"/20"]}),o.jsxs("span",{className:"quiz-results__detail",children:[_.score,"/",_.scoreMax," points"]})]}),o.jsxs("div",{className:"quiz-results__time",children:[" Temps : ",D(_.tempsEcoule)]}),_.correctionManuelle&&o.jsx("p",{className:"quiz-results__pending",children:" Ce quiz contient des questions  correction manuelle. Votre note finale pourra tre ajuste par le professeur."})]}),t.afficherCorrection&&o.jsxs("div",{className:"quiz-results__details",children:[o.jsx("h3",{children:" Dtail des rponses"}),i.map((C,R)=>{const U=_.detailsParQuestion.find(L=>L.questionId===C.id);return o.jsxs("div",{className:`quiz-results__question ${U?.isCorrect?"quiz-results__question--correct":U?.isPartiel?"quiz-results__question--partial":"quiz-results__question--wrong"}`,children:[o.jsxs("div",{className:"quiz-results__q-header",children:[o.jsxs("span",{children:["Q",R+1," "," ",o.jsxs("span",{style:{color:ry[C.type]},children:[ny[C.type]," ",$h[C.type]]})]}),o.jsxs("span",{className:"quiz-results__q-score",children:[U?.pointsObtenus||0,"/",U?.pointsMax||C.points," pts",U?.isCorrect&&" ",U?.isPartiel&&" ",!U?.isCorrect&&!U?.isPartiel&&" "]})]}),o.jsx("div",{className:"quiz-results__q-enonce",dangerouslySetInnerHTML:{__html:C.enonce}}),C.explication&&o.jsxs("div",{className:"quiz-results__q-explanation",children:[o.jsx("strong",{children:" Explication :"}),o.jsx("div",{dangerouslySetInnerHTML:{__html:C.explication}})]})]},C.id)})]}),o.jsx("div",{className:"quiz-results__actions",children:o.jsx("button",{className:"quiz-player__btn quiz-player__btn--primary",onClick:r,children:"Retour au tableau de bord"})})]})}):o.jsxs("div",{className:"quiz-player",children:[o.jsxs("div",{className:"quiz-player__topbar",children:[o.jsxs("div",{className:"quiz-player__info",children:[o.jsx("span",{className:"quiz-player__title",children:t.titre}),o.jsxs("span",{className:"quiz-player__progress",children:["Question ",s+1,"/",i.length]})]}),o.jsxs("div",{className:"quiz-player__topbar-right",children:[o.jsxs("span",{className:`quiz-player__timer ${h<60?"quiz-player__timer--danger":h<300?"quiz-player__timer--warning":""}`,children:[" ",D(h)]}),o.jsxs("span",{className:"quiz-player__answered",children:[k,"/",i.length," rpondue",k>1?"s":""]})]})]}),o.jsx("div",{className:"quiz-player__progress-bar",children:o.jsx("div",{className:"quiz-player__progress-fill",style:{width:`${(s+1)/i.length*100}%`}})}),o.jsxs("div",{className:"quiz-player__question-area",children:[o.jsxs("div",{className:"quiz-player__question-meta",children:[o.jsxs("span",{className:"quiz-player__type-badge",style:{backgroundColor:ry[I.type]},children:[ny[I.type]," ",$h[I.type]]}),o.jsxs("span",{className:"quiz-player__points",children:[I.points," point",I.points>1?"s":""]})]}),o.jsx("div",{className:"quiz-player__enonce",dangerouslySetInnerHTML:{__html:I.enonce}}),o.jsxs("div",{className:"quiz-player__answer-area",children:[I.type==="qcm_unique"&&o.jsx(Xge,{question:I,reponse:u.get(I.id),onUpdate:C=>O(I.id,C),melangerOptions:t.melangerOptions}),I.type==="qcm_multiple"&&o.jsx(Zge,{question:I,reponse:u.get(I.id),onUpdate:C=>O(I.id,C),melangerOptions:t.melangerOptions}),I.type==="drag_drop"&&o.jsx(Jge,{question:I,reponse:u.get(I.id),onUpdate:C=>O(I.id,C)}),I.type==="mise_en_relation"&&o.jsx(eve,{question:I,reponse:u.get(I.id),onUpdate:C=>O(I.id,C)}),I.type==="essai"&&o.jsx(tve,{question:I,reponse:u.get(I.id),onUpdate:C=>O(I.id,C)})]})]}),o.jsxs("div",{className:"quiz-player__nav",children:[o.jsx("button",{className:"quiz-player__btn quiz-player__btn--secondary",onClick:()=>V(s-1),disabled:s===0,children:" Prcdent"}),o.jsx("div",{className:"quiz-player__pagination",children:i.map((C,R)=>o.jsx("button",{className:`quiz-player__page-dot ${R===s?"quiz-player__page-dot--current":""} ${u.has(C.id)?"quiz-player__page-dot--answered":""}`,onClick:()=>V(R),title:`Question ${R+1}`,children:R+1},C.id))}),s<i.length-1?o.jsx("button",{className:"quiz-player__btn quiz-player__btn--primary",onClick:()=>V(s+1),children:"Suivant "}):o.jsx("button",{className:"quiz-player__btn quiz-player__btn--submit",onClick:()=>N(!0),disabled:g,children:g?" Envoi...":" Soumettre le quiz"})]}),j&&o.jsx("div",{className:"quiz-player__modal-overlay",children:o.jsxs("div",{className:"quiz-player__modal",children:[o.jsx("h3",{children:"Soumettre le quiz ?"}),o.jsxs("p",{children:["Vous avez rpondu  ",o.jsx("strong",{children:k})," question",k>1?"s":""," sur"," ",o.jsx("strong",{children:i.length}),"."]}),k<i.length&&o.jsxs("p",{className:"quiz-player__modal-warning",children:[" ",i.length-k," question",i.length-k>1?"s":""," sans rponse !"]}),o.jsxs("div",{className:"quiz-player__modal-actions",children:[o.jsx("button",{className:"quiz-player__btn quiz-player__btn--secondary",onClick:()=>N(!1),children:"Continuer le quiz"}),o.jsx("button",{className:"quiz-player__btn quiz-player__btn--submit",onClick:B,children:"Confirmer la soumission"})]})]})})]})},Xge=({question:t,reponse:e,onUpdate:n,melangerOptions:r})=>{const i=t.typeData,s=w.useMemo(()=>r?[...i.options].sort(()=>Math.random()-.5):i.options,[i.options,r]);return o.jsx("div",{className:"player-qcm",children:s.map(c=>o.jsxs("label",{className:`player-qcm__option ${e?.selectedOptionId===c.id?"player-qcm__option--selected":""}`,children:[o.jsx("input",{type:"radio",name:`q_${t.id}`,checked:e?.selectedOptionId===c.id,onChange:()=>n({selectedOptionId:c.id})}),o.jsx("div",{className:"player-qcm__text",dangerouslySetInnerHTML:{__html:c.texte}})]},c.id))})},Zge=({question:t,reponse:e,onUpdate:n,melangerOptions:r})=>{const i=t.typeData,s=w.useMemo(()=>r?[...i.options].sort(()=>Math.random()-.5):i.options,[i.options,r]),c=e?.selectedOptionIds||[],u=f=>{const h=c.includes(f)?c.filter(p=>p!==f):[...c,f];n({selectedOptionIds:h})};return o.jsxs("div",{className:"player-qcm",children:[o.jsx("p",{className:"player-qcm__hint",children:"Plusieurs rponses possibles"}),s.map(f=>o.jsxs("label",{className:`player-qcm__option ${c.includes(f.id)?"player-qcm__option--selected":""}`,children:[o.jsx("input",{type:"checkbox",checked:c.includes(f.id),onChange:()=>u(f.id)}),o.jsx("div",{className:"player-qcm__text",dangerouslySetInnerHTML:{__html:f.texte}})]},f.id))]})},Jge=({question:t,reponse:e,onUpdate:n})=>{const r=t.typeData,[i,s]=w.useState(()=>e?.ordrePropose?e.ordrePropose.map(y=>r.items.find(_=>_.id===y)).filter(Boolean):[...r.items].sort(()=>Math.random()-.5)),[c,u]=w.useState(null);w.useEffect(()=>{n({ordrePropose:i.map(y=>y.id)})},[i]);const f=y=>{u(y)},h=(y,_)=>{if(y.preventDefault(),c===null||c===_)return;const E=[...i],[j]=E.splice(c,1);E.splice(_,0,j),s(E),u(_)},p=()=>{u(null)},g=(y,_)=>{const E=_==="up"?y-1:y+1;if(E<0||E>=i.length)return;const j=[...i];[j[y],j[E]]=[j[E],j[y]],s(j)};return o.jsxs("div",{className:"player-dragdrop",children:[o.jsx("p",{className:"player-dragdrop__consigne",children:r.consigneOrdre}),o.jsx("div",{className:"player-dragdrop__list",children:i.map((y,_)=>o.jsxs("div",{className:`player-dragdrop__item ${c===_?"player-dragdrop__item--dragging":""}`,draggable:!0,onDragStart:()=>f(_),onDragOver:E=>h(E,_),onDragEnd:p,children:[o.jsx("span",{className:"player-dragdrop__handle",children:""}),o.jsx("span",{className:"player-dragdrop__number",children:_+1}),o.jsx("div",{className:"player-dragdrop__text",dangerouslySetInnerHTML:{__html:y.texte}}),o.jsxs("div",{className:"player-dragdrop__mobile-btns",children:[o.jsx("button",{type:"button",onClick:()=>g(_,"up"),disabled:_===0,children:""}),o.jsx("button",{type:"button",onClick:()=>g(_,"down"),disabled:_===i.length-1,children:""})]})]},y.id))})]})},eve=({question:t,reponse:e,onUpdate:n})=>{const r=t.typeData,i=w.useMemo(()=>[...r.paires].sort(()=>Math.random()-.5),[r.paires]),[s,c]=w.useState(e?.relationsProposees||{}),[u,f]=w.useState(null);w.useEffect(()=>{n({relationsProposees:s})},[s]);const h=_=>{f(_)},p=_=>{u&&(c(E=>({...E,[u]:_})),f(null))},g=_=>{c(E=>{const j={...E};return delete j[_],j})},y=new Set(Object.values(s));return o.jsxs("div",{className:"player-relation",children:[o.jsx("p",{className:"player-relation__hint",children:"Cliquez sur un lment  gauche puis sur son correspondant  droite"}),o.jsxs("div",{className:"player-relation__columns",children:[o.jsxs("div",{className:"player-relation__col",children:[o.jsx("h4",{className:"player-relation__col-title",children:"Colonne A"}),r.paires.map(_=>o.jsxs("div",{className:`player-relation__item player-relation__item--left ${u===_.id?"player-relation__item--selected":""} ${s[_.id]?"player-relation__item--matched":""}`,onClick:()=>{s[_.id]?g(_.id):h(_.id)},children:[o.jsx("div",{dangerouslySetInnerHTML:{__html:_.gauche}}),s[_.id]&&o.jsx("span",{className:"player-relation__linked",children:""})]},_.id))]}),o.jsxs("div",{className:"player-relation__col",children:[o.jsx("h4",{className:"player-relation__col-title",children:"Colonne B"}),i.map(_=>o.jsxs("div",{className:`player-relation__item player-relation__item--right ${y.has(_.id)?"player-relation__item--matched":""} ${u&&!y.has(_.id)?"player-relation__item--clickable":""}`,onClick:()=>{u&&!y.has(_.id)&&p(_.id)},children:[o.jsx("div",{dangerouslySetInnerHTML:{__html:_.droite}}),y.has(_.id)&&o.jsx("span",{className:"player-relation__linked",children:""})]},_.id))]})]})]})},tve=({question:t,reponse:e,onUpdate:n})=>{const r=t.typeData,[i,s]=w.useState(e?.texteReponse||""),c=i.replace(/<[^>]*>/g,"").trim().split(/\s+/).filter(Boolean).length;return w.useEffect(()=>{n({texteReponse:i})},[i]),o.jsxs("div",{className:"player-essai",children:[o.jsxs("div",{className:"player-essai__info",children:[r.nombreMotsMin&&o.jsxs("span",{className:c<r.nombreMotsMin?"player-essai__warning":"",children:["Minimum : ",r.nombreMotsMin," mots"]}),r.nombreMotsMax&&o.jsxs("span",{className:c>r.nombreMotsMax?"player-essai__warning":"",children:["Maximum : ",r.nombreMotsMax," mots"]}),o.jsxs("span",{className:"player-essai__count",children:[c," mot",c>1?"s":""]})]}),o.jsx("textarea",{className:"player-essai__textarea",value:i,onChange:u=>s(u.target.value),placeholder:"Rdigez votre rponse ici...",rows:10})]})},nve=()=>{const{quizId:t}=ay(),e=Vi(),{currentUser:n}=Zn(),[r,i]=w.useState(null),[s,c]=w.useState(!0),[u,f]=w.useState(null);return w.useEffect(()=>{(async()=>{if(!t){f("ID du quiz manquant"),c(!1);return}try{const p=await yU(t);if(!p){f("Quiz introuvable");return}if(p.isPremium&&!n?.isPremium){f("Ce quiz est rserv aux abonns Premium");return}i(p)}catch(p){console.error("Erreur chargement quiz:",p),f(p.message||"Impossible de charger le quiz")}finally{c(!1)}})()},[t,n]),s?o.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[o.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),o.jsx("p",{children:"Chargement du quiz..."})]}):u?o.jsx("div",{style:{textAlign:"center",padding:"3rem",maxWidth:"500px",margin:"2rem auto"},children:o.jsxs("div",{style:{padding:"2rem",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"12px"},children:[o.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),o.jsx("p",{style:{color:"#991b1b",fontWeight:600,marginBottom:"1rem"},children:u}),u.includes("Premium")&&o.jsx("button",{onClick:()=>e("/premium"),style:{padding:"0.6rem 1.5rem",background:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",marginRight:"0.5rem",fontWeight:600},children:" Devenir Premium"}),o.jsx("button",{onClick:()=>e(-1),style:{padding:"0.6rem 1.5rem",background:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"8px",cursor:"pointer",fontWeight:600},children:" Retour"})]})}):r?o.jsx(Yge,{quiz:r,userId:n?.uid||"",onComplete:h=>{console.log(" Quiz termin  Note:",h.note20,"/20")},onQuit:()=>e("/dashboard")}):o.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[o.jsx("p",{children:"Quiz introuvable"}),o.jsx("button",{onClick:()=>e(-1),children:" Retour"})]})},rve=()=>o.jsx(FQ,{children:o.jsxs(J9,{children:[o.jsx(cn,{path:"/",element:o.jsx(Ra,{children:o.jsx(SY,{})})}),o.jsx(cn,{path:"/disciplines",element:o.jsx(Ra,{children:o.jsx(IY,{})})}),o.jsx(cn,{path:"/disciplines/:id",element:o.jsx(Ra,{children:o.jsx(DY,{})})}),o.jsx(cn,{path:"/premium",element:o.jsx(Ra,{children:o.jsx(LY,{})})}),o.jsx(cn,{path:"/connexion",element:o.jsx(AY,{})}),o.jsx(cn,{path:"/inscription",element:o.jsx(TY,{})}),o.jsx(cn,{path:"/admin",element:o.jsx(zo,{children:o.jsx(Lo,{currentPage:"dashboard",children:o.jsx(UY,{})})})}),o.jsx(cn,{path:"/admin/disciplines",element:o.jsx(zo,{children:o.jsx(Lo,{currentPage:"disciplines",children:o.jsx(BY,{})})})}),o.jsx(cn,{path:"/admin/chapitres",element:o.jsx(zo,{children:o.jsx(Lo,{currentPage:"chapitres",children:o.jsx($Y,{})})})}),o.jsx(cn,{path:"/admin/ressources",element:o.jsx(zo,{children:o.jsx(Lo,{currentPage:"ressources",children:o.jsx(FY,{})})})}),o.jsx(cn,{path:"/admin/quiz",element:o.jsx(zo,{children:o.jsx(Lo,{currentPage:"quiz",children:o.jsx(YY,{})})})}),o.jsx(cn,{path:"/admin/quiz/nouveau",element:o.jsx(zo,{children:o.jsx(Lo,{currentPage:"quiz",children:o.jsx(MD,{})})})}),o.jsx(cn,{path:"/admin/quiz/modifier/:quizId",element:o.jsx(zo,{children:o.jsx(Lo,{currentPage:"quiz",children:o.jsx(MD,{})})})}),o.jsx(cn,{path:"/quiz-avance/:quizId",element:o.jsx(Ra,{children:o.jsx(nve,{})})}),o.jsx(cn,{path:"/admin/utilisateurs",element:o.jsx(zo,{children:o.jsx(Lo,{currentPage:"utilisateurs",children:o.jsx(iX,{})})})}),o.jsx(cn,{path:"/eleve/dashboard",element:o.jsx(Ra,{children:o.jsx(Sge,{})})}),o.jsx(cn,{path:"/eleve/suivi",element:o.jsx(Ra,{children:o.jsx(Age,{})})}),o.jsx(cn,{path:"/quiz/:quizId",element:o.jsx(Ra,{children:o.jsx(uX,{})})}),o.jsx(cn,{path:"/parent/dashboard",element:o.jsx(_E,{allowedRoles:["parent","admin"],children:o.jsx(Ra,{children:o.jsx(Rge,{})})})}),o.jsx(cn,{path:"/prof/dashboard",element:o.jsx(HQ,{children:o.jsx(Ra,{children:o.jsx(Ige,{})})})}),o.jsx(cn,{path:"*",element:o.jsx(X9,{to:"/",replace:!0})})]})}),bU=document.getElementById("root");if(!bU)throw new Error("L'lment #root n'existe pas");const ive=s9.createRoot(bU);ive.render(o.jsx(zD.StrictMode,{children:o.jsx(s8,{children:o.jsx(rve,{})})}));
//# sourceMappingURL=index-A9Dzo6Rv.js.map
