function pA(s,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in s)){const c=Object.getOwnPropertyDescriptor(r,o);c&&Object.defineProperty(s,o,c.get?c:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function z1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var pm={exports:{}},Ul={};var Vv;function gA(){if(Vv)return Ul;Vv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return Ul.Fragment=e,Ul.jsx=n,Ul.jsxs=n,Ul}var Lv;function _A(){return Lv||(Lv=1,pm.exports=gA()),pm.exports}var f=_A(),gm={exports:{}},xe={};var Pv;function yA(){if(Pv)return xe;Pv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),x=Symbol.iterator;function U(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,V={};function $(M,ee,ae){this.props=M,this.context=ee,this.refs=V,this.updater=ae||H}$.prototype.isReactComponent={},$.prototype.setState=function(M,ee){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ee,"setState")},$.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function se(){}se.prototype=$.prototype;function ne(M,ee,ae){this.props=M,this.context=ee,this.refs=V,this.updater=ae||H}var me=ne.prototype=new se;me.constructor=ne,O(me,$.prototype),me.isPureReactComponent=!0;var Ae=Array.isArray;function le(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(M,ee,ae){var ue=ae.ref;return{$$typeof:s,type:M,key:ee,ref:ue!==void 0?ue:null,props:ae}}function k(M,ee){return C(M.type,ee,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function P(M){var ee={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return ee[ae]})}var N=/\/+/g;function ot(M,ee){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):ee.toString(36)}function Mt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(le,le):(M.status="pending",M.then(function(ee){M.status==="pending"&&(M.status="fulfilled",M.value=ee)},function(ee){M.status==="pending"&&(M.status="rejected",M.reason=ee)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Y(M,ee,ae,ue,be){var Ne=typeof M;(Ne==="undefined"||Ne==="boolean")&&(M=null);var Ue=!1;if(M===null)Ue=!0;else switch(Ne){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(M.$$typeof){case s:case e:Ue=!0;break;case T:return Ue=M._init,Y(Ue(M._payload),ee,ae,ue,be)}}if(Ue)return be=be(M),Ue=ue===""?"."+ot(M,0):ue,Ae(be)?(ae="",Ue!=null&&(ae=Ue.replace(N,"$&/")+"/"),Y(be,ee,ae,"",function(Ar){return Ar})):be!=null&&(D(be)&&(be=k(be,ae+(be.key==null||M&&M.key===be.key?"":(""+be.key).replace(N,"$&/")+"/")+Ue)),ee.push(be)),1;Ue=0;var kt=ue===""?".":ue+":";if(Ae(M))for(var lt=0;lt<M.length;lt++)ue=M[lt],Ne=kt+ot(ue,lt),Ue+=Y(ue,ee,ae,Ne,be);else if(lt=U(M),typeof lt=="function")for(M=lt.call(M),lt=0;!(ue=M.next()).done;)ue=ue.value,Ne=kt+ot(ue,lt++),Ue+=Y(ue,ee,ae,Ne,be);else if(Ne==="object"){if(typeof M.then=="function")return Y(Mt(M),ee,ae,ue,be);throw ee=String(M),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function re(M,ee,ae){if(M==null)return M;var ue=[],be=0;return Y(M,ue,"","",function(Ne){return ee.call(ae,Ne,be++)}),ue}function _e(M){if(M._status===-1){var ee=M._result;ee=ee(),ee.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=ee)}if(M._status===1)return M._result.default;throw M._result}var Be=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ye={map:re,forEach:function(M,ee,ae){re(M,function(){ee.apply(this,arguments)},ae)},count:function(M){var ee=0;return re(M,function(){ee++}),ee},toArray:function(M){return re(M,function(ee){return ee})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return xe.Activity=A,xe.Children=Ye,xe.Component=$,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=ne,xe.StrictMode=r,xe.Suspense=g,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,xe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},xe.cache=function(M){return function(){return M.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(M,ee,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ue=O({},M.props),be=M.key;if(ee!=null)for(Ne in ee.key!==void 0&&(be=""+ee.key),ee)!w.call(ee,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ee.ref===void 0||(ue[Ne]=ee[Ne]);var Ne=arguments.length-2;if(Ne===1)ue.children=ae;else if(1<Ne){for(var Ue=Array(Ne),kt=0;kt<Ne;kt++)Ue[kt]=arguments[kt+2];ue.children=Ue}return C(M.type,be,ue)},xe.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},xe.createElement=function(M,ee,ae){var ue,be={},Ne=null;if(ee!=null)for(ue in ee.key!==void 0&&(Ne=""+ee.key),ee)w.call(ee,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(be[ue]=ee[ue]);var Ue=arguments.length-2;if(Ue===1)be.children=ae;else if(1<Ue){for(var kt=Array(Ue),lt=0;lt<Ue;lt++)kt[lt]=arguments[lt+2];be.children=kt}if(M&&M.defaultProps)for(ue in Ue=M.defaultProps,Ue)be[ue]===void 0&&(be[ue]=Ue[ue]);return C(M,Ne,be)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(M){return{$$typeof:p,render:M}},xe.isValidElement=D,xe.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:_e}},xe.memo=function(M,ee){return{$$typeof:y,type:M,compare:ee===void 0?null:ee}},xe.startTransition=function(M){var ee=R.T,ae={};R.T=ae;try{var ue=M(),be=R.S;be!==null&&be(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(le,Be)}catch(Ne){Be(Ne)}finally{ee!==null&&ae.types!==null&&(ee.types=ae.types),R.T=ee}},xe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},xe.use=function(M){return R.H.use(M)},xe.useActionState=function(M,ee,ae){return R.H.useActionState(M,ee,ae)},xe.useCallback=function(M,ee){return R.H.useCallback(M,ee)},xe.useContext=function(M){return R.H.useContext(M)},xe.useDebugValue=function(){},xe.useDeferredValue=function(M,ee){return R.H.useDeferredValue(M,ee)},xe.useEffect=function(M,ee){return R.H.useEffect(M,ee)},xe.useEffectEvent=function(M){return R.H.useEffectEvent(M)},xe.useId=function(){return R.H.useId()},xe.useImperativeHandle=function(M,ee,ae){return R.H.useImperativeHandle(M,ee,ae)},xe.useInsertionEffect=function(M,ee){return R.H.useInsertionEffect(M,ee)},xe.useLayoutEffect=function(M,ee){return R.H.useLayoutEffect(M,ee)},xe.useMemo=function(M,ee){return R.H.useMemo(M,ee)},xe.useOptimistic=function(M,ee){return R.H.useOptimistic(M,ee)},xe.useReducer=function(M,ee,ae){return R.H.useReducer(M,ee,ae)},xe.useRef=function(M){return R.H.useRef(M)},xe.useState=function(M){return R.H.useState(M)},xe.useSyncExternalStore=function(M,ee,ae){return R.H.useSyncExternalStore(M,ee,ae)},xe.useTransition=function(){return R.H.useTransition()},xe.version="19.2.4",xe}var Uv;function mp(){return Uv||(Uv=1,gm.exports=yA()),gm.exports}var J=mp();const B1=z1(J),vA=pA({__proto__:null,default:B1},[J]);var _m={exports:{}},zl={},ym={exports:{}},vm={};var zv;function EA(){return zv||(zv=1,(function(s){function e(Y,re){var _e=Y.length;Y.push(re);e:for(;0<_e;){var Be=_e-1>>>1,Ye=Y[Be];if(0<o(Ye,re))Y[Be]=re,Y[_e]=Ye,_e=Be;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var re=Y[0],_e=Y.pop();if(_e!==re){Y[0]=_e;e:for(var Be=0,Ye=Y.length,M=Ye>>>1;Be<M;){var ee=2*(Be+1)-1,ae=Y[ee],ue=ee+1,be=Y[ue];if(0>o(ae,_e))ue<Ye&&0>o(be,ae)?(Y[Be]=be,Y[ue]=_e,Be=ue):(Y[Be]=ae,Y[ee]=_e,Be=ee);else if(ue<Ye&&0>o(be,_e))Y[Be]=be,Y[ue]=_e,Be=ue;else break e}}return re}function o(Y,re){var _e=Y.sortIndex-re.sortIndex;return _e!==0?_e:Y.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],y=[],T=1,A=null,x=3,U=!1,H=!1,O=!1,V=!1,$=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function me(Y){for(var re=n(y);re!==null;){if(re.callback===null)r(y);else if(re.startTime<=Y)r(y),re.sortIndex=re.expirationTime,e(g,re);else break;re=n(y)}}function Ae(Y){if(O=!1,me(Y),!H)if(n(g)!==null)H=!0,le||(le=!0,P());else{var re=n(y);re!==null&&Mt(Ae,re.startTime-Y)}}var le=!1,R=-1,w=5,C=-1;function k(){return V?!0:!(s.unstable_now()-C<w)}function D(){if(V=!1,le){var Y=s.unstable_now();C=Y;var re=!0;try{e:{H=!1,O&&(O=!1,se(R),R=-1),U=!0;var _e=x;try{t:{for(me(Y),A=n(g);A!==null&&!(A.expirationTime>Y&&k());){var Be=A.callback;if(typeof Be=="function"){A.callback=null,x=A.priorityLevel;var Ye=Be(A.expirationTime<=Y);if(Y=s.unstable_now(),typeof Ye=="function"){A.callback=Ye,me(Y),re=!0;break t}A===n(g)&&r(g),me(Y)}else r(g);A=n(g)}if(A!==null)re=!0;else{var M=n(y);M!==null&&Mt(Ae,M.startTime-Y),re=!1}}break e}finally{A=null,x=_e,U=!1}re=void 0}}finally{re?P():le=!1}}}var P;if(typeof ne=="function")P=function(){ne(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ot=N.port2;N.port1.onmessage=D,P=function(){ot.postMessage(null)}}else P=function(){$(D,0)};function Mt(Y,re){R=$(function(){Y(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Y){Y.callback=null},s.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Y?Math.floor(1e3/Y):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(Y){switch(x){case 1:case 2:case 3:var re=3;break;default:re=x}var _e=x;x=re;try{return Y()}finally{x=_e}},s.unstable_requestPaint=function(){V=!0},s.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var _e=x;x=Y;try{return re()}finally{x=_e}},s.unstable_scheduleCallback=function(Y,re,_e){var Be=s.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Be+_e:Be):_e=Be,Y){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=_e+Ye,Y={id:T++,callback:re,priorityLevel:Y,startTime:_e,expirationTime:Ye,sortIndex:-1},_e>Be?(Y.sortIndex=_e,e(y,Y),n(g)===null&&Y===n(y)&&(O?(se(R),R=-1):O=!0,Mt(Ae,_e-Be))):(Y.sortIndex=Ye,e(g,Y),H||U||(H=!0,le||(le=!0,P()))),Y},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(Y){var re=x;return function(){var _e=x;x=re;try{return Y.apply(this,arguments)}finally{x=_e}}}})(vm)),vm}var Bv;function TA(){return Bv||(Bv=1,ym.exports=EA()),ym.exports}var Em={exports:{}},Zt={};var qv;function bA(){if(qv)return Zt;qv=1;var s=mp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zt.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,T)},Zt.flushSync=function(g){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=y,r.p=T,r.d.f()}},Zt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},Zt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Zt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,A=p(T,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:x,fetchPriority:U}):T==="script"&&r.d.X(g,{crossOrigin:A,integrity:x,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Zt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},Zt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,A=p(T,y.crossOrigin);r.d.L(g,T,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Zt.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},Zt.requestFormReset=function(g){r.d.r(g)},Zt.unstable_batchedUpdates=function(g,y){return g(y)},Zt.useFormState=function(g,y,T){return d.H.useFormState(g,y,T)},Zt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Zt.version="19.2.4",Zt}var Fv;function q1(){if(Fv)return Em.exports;Fv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Em.exports=bA(),Em.exports}var Hv;function AA(){if(Hv)return zl;Hv=1;var s=TA(),e=mp(),n=q1();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return g(h),t;if(m===l)return g(h),i;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=m;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=m;break}if(b===l){v=!0,l=h,a=m;break}b=b.sibling}if(!v){for(b=m.child;b;){if(b===a){v=!0,a=m,l=h;break}if(b===l){v=!0,l=m,a=h;break}b=b.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,x=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case $:return"Profiler";case V:return"StrictMode";case Ae:return"Suspense";case le:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case ne:return t.displayName||"Context";case se:return(t._context.displayName||"Context")+".Consumer";case me:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:ot(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return ot(t(i))}catch{}}return null}var Mt=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Be=[],Ye=-1;function M(t){return{current:t}}function ee(t){0>Ye||(t.current=Be[Ye],Be[Ye]=null,Ye--)}function ae(t,i){Ye++,Be[Ye]=t.current,t.current=i}var ue=M(null),be=M(null),Ne=M(null),Ue=M(null);function kt(t,i){switch(ae(Ne,i),ae(be,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?rv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=rv(i),t=av(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(ue),ae(ue,t)}function lt(){ee(ue),ee(be),ee(Ne)}function Ar(t){t.memoizedState!==null&&ae(Ue,t);var i=ue.current,a=av(i,t.type);i!==a&&(ae(be,t),ae(ue,a))}function ya(t){be.current===t&&(ee(ue),ee(be)),Ue.current===t&&(ee(Ue),kl._currentValue=_e)}var va,Ea;function ui(t){if(va===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);va=i&&i[1]||"",Ea=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+va+t+Ea}var ko=!1;function Sr(t,i){if(!t||ko)return"";ko=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Q){var F=Q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Q){F=Q}t.call(Z.prototype)}}else{try{throw Error()}catch(Q){F=Q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),v=m[0],b=m[1];if(v&&b){var I=v.split(`
`),q=b.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===q.length)for(l=I.length-1,h=q.length-1;1<=l&&0<=h&&I[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==q[h]){var K=`
`+I[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{ko=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ui(a):""}function Vo(t,i){switch(t.tag){case 26:case 27:case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return t.child!==i&&i!==null?ui("Suspense Fallback"):ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return Sr(t.type,!1);case 11:return Sr(t.type.render,!1);case 1:return Sr(t.type,!0);case 31:return ui("Activity");default:return""}}function Lo(t){try{var i="",a=null;do i+=Vo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,Vt=s.unstable_scheduleCallback,vs=s.unstable_cancelCallback,gd=s.unstable_shouldYield,Cc=s.unstable_requestPaint,rn=s.unstable_now,xr=s.unstable_getCurrentPriorityLevel,Po=s.unstable_ImmediatePriority,Uo=s.unstable_UserBlockingPriority,Es=s.unstable_NormalPriority,_d=s.unstable_LowPriority,Nc=s.unstable_IdlePriority,Ic=s.log,Dc=s.unstable_setDisableYieldValue,Hn=null,Ft=null;function Nn(t){if(typeof Ic=="function"&&Dc(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Hn,t)}catch{}}var pt=Math.clz32?Math.clz32:Oc,jc=Math.log,Ta=Math.LN2;function Oc(t){return t>>>=0,t===0?32:31-(jc(t)/Ta|0)|0}var hi=256,wr=262144,bt=4194304;function di(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,m=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~m,l!==0?h=di(l):(v&=b,v!==0?h=di(v):a||(a=b&~t,a!==0&&(h=di(a))))):(b=l&~m,b!==0?h=di(b):v!==0?h=di(v):a||(a=l&~t,a!==0&&(h=di(a)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:h}function Gn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function yd(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mc(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function mi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Rr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function vd(t,i,a,l,h,m){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var K=31-pt(a),Z=1<<K;b[K]=0,I[K]=-1;var F=q[K];if(F!==null)for(q[K]=null,K=0;K<F.length;K++){var Q=F[K];Q!==null&&(Q.lane&=-536870913)}a&=~Z}l!==0&&Cr(t,l,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(v&~i))}function Cr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function zo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Bo(t,i){var a=i&-i;return a=(a&42)!==0?1:Nr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Nr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function kc(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:Nv(t.type))}function Qn(t,i){var a=re.p;try{return re.p=t,i()}finally{re.p=a}}var Kn=Math.random().toString(36).slice(2),At="__reactFiber$"+Kn,Ut="__reactProps$"+Kn,pi="__reactContainer$"+Kn,ba="__reactEvents$"+Kn,Ed="__reactListeners$"+Kn,Vc="__reactHandles$"+Kn,Lc="__reactResources$"+Kn,gi="__reactMarker$"+Kn;function Aa(t){delete t[At],delete t[Ut],delete t[ba],delete t[Ed],delete t[Vc]}function _i(t){var i=t[At];if(i)return i;for(var a=t.parentNode;a;){if(i=a[pi]||a[At]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=fv(t);t!==null;){if(a=t[At])return a;t=fv(t)}return i}t=a,a=t.parentNode}return null}function In(t){if(t=t[At]||t[pi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function yn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function yi(t){var i=t[Lc];return i||(i=t[Lc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[gi]=!0}var qo=new Set,Fo={};function vi(t,i){Ei(t,i),Ei(t+"Capture",i)}function Ei(t,i){for(Fo[t]=i,t=0;t<i.length;t++)qo.add(i[t])}var Ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Go={},Qo={};function Pc(t){return Tt.call(Qo,t)?!0:Tt.call(Go,t)?!1:Ho.test(t)?Qo[t]=!0:(Go[t]=!0,!1)}function Sa(t,i,a){if(Pc(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function vn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function xt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ts(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ko(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,m=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,m.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function $e(t){if(!t._valueTracker){var i=Ts(t)?"checked":"value";t._valueTracker=Ko(t,i,""+t[i])}}function Ir(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ts(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dr=/[\n"\\]/g;function ln(t){return t.replace(Dr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function xa(t,i,a,l,h,m,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+zt(i)):t.value!==""+zt(i)&&(t.value=""+zt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Yo(t,v,zt(i)):a!=null?Yo(t,v,zt(a)):l!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+zt(b):t.removeAttribute("name")}function Uc(t,i,a,l,h,m,v,b){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){$e(t);return}a=a!=null?""+zt(a):"",i=i!=null?""+zt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),$e(t)}function Yo(t,i,a){i==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function bs(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function zc(t,i,a){if(i!=null&&(i=""+zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+zt(a):""}function As(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Mt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=zt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$e(t)}function cn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Bc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Bc.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Xo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&$o(t,h,l)}else for(var m in i)i.hasOwnProperty(m)&&$o(t,m,i[m])}function wa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(t){return Ss.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var Wo=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xs=null,bi=null;function jr(t){var i=In(t);if(i&&(t=i.stateNode)){var a=t[Ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(xa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Ut]||null;if(!h)throw Error(r(90));xa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ir(l)}break e;case"textarea":zc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&bs(t,!!a.multiple,i,!1)}}}var Ca=!1;function ws(t,i,a){if(Ca)return t(i,a);Ca=!0;try{var l=t(i);return l}finally{if(Ca=!1,(xs!==null||bi!==null)&&(ku(),xs&&(i=xs,t=bi,bi=xs=null,jr(i),t)))for(i=0;i<t.length;i++)jr(t[i])}}function $n(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Or=!1;if(jn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Or=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Or=!1}var Ai=null,Jo=null,Mr=null;function Zo(){if(Mr)return Mr;var t,i=Jo,a=i.length,l,h="value"in Ai?Ai.value:Ai.textContent,m=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[m-l];l++);return Mr=h.slice(t,1<l?1-l:void 0)}function kr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Qi(){return!0}function Xn(){return!1}function Ht(t){function i(a,l,h,m,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Qi:Xn,this.isPropagationStopped=Xn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),i}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Ht(Ki),Rs=A({},Ki,{view:0,detail:0}),el=Ht(Rs),Cs,Na,xi,Ia=A({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(Cs=t.screenX-xi.screenX,Na=t.screenY-xi.screenY):Na=Cs=0,xi=t),Cs)},movementY:function(t){return"movementY"in t?t.movementY:Na}}),tl=Ht(Ia),Vr=A({},Ia,{dataTransfer:0}),Fc=Ht(Vr),Hc=A({},Rs,{relatedTarget:0}),Lr=Ht(Hc),nl=A({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Gc=Ht(nl),Da=A({},Ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qc=Ht(Da),Kc=A({},Ki,{data:0}),wi=Ht(Kc),Yc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$c={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Xc[t])?!!i[t]:!1}function Ns(){return Wc}var an=A({},Rs,{key:function(t){if(t.key){var i=Yc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$c[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(t){return t.type==="keypress"?kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Jc=Ht(an),Zc=A({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=Ht(Zc),u=A({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),_=Ht(u),E=A({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ht(E),z=A({},Ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Ht(z),ie=A({},Ki,{newState:0,oldState:0}),Re=Ht(ie),gt=[9,13,27,32],He=jn&&"CompositionEvent"in window,ct=null;jn&&"documentMode"in document&&(ct=document.documentMode);var On=jn&&"TextEvent"in window&&!ct,Ri=jn&&(!He||ct&&8<ct&&11>=ct),Wn=" ",Jn=!1;function Pr(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ja(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oa=!1;function UT(t,i){switch(t){case"compositionend":return ja(i);case"keypress":return i.which!==32?null:(Jn=!0,Wn);case"textInput":return t=i.data,t===Wn&&Jn?null:t;default:return null}}function zT(t,i){if(Oa)return t==="compositionend"||!He&&Pr(t,i)?(t=Zo(),Mr=Jo=Ai=null,Oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ri&&i.locale!=="ko"?null:i.data;default:return null}}var BT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!BT[t.type]:i==="textarea"}function _g(t,i,a,l){xs?bi?bi.push(l):bi=[l]:xs=l,i=qu(i,"onChange"),0<i.length&&(a=new Si("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var il=null,sl=null;function qT(t){Zy(t,0)}function eu(t){var i=yn(t);if(Ir(i))return t}function yg(t,i){if(t==="change")return i}var vg=!1;if(jn){var Td;if(jn){var bd="oninput"in document;if(!bd){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),bd=typeof Eg.oninput=="function"}Td=bd}else Td=!1;vg=Td&&(!document.documentMode||9<document.documentMode)}function Tg(){il&&(il.detachEvent("onpropertychange",bg),sl=il=null)}function bg(t){if(t.propertyName==="value"&&eu(sl)){var i=[];_g(i,sl,t,Dn(t)),ws(qT,i)}}function FT(t,i,a){t==="focusin"?(Tg(),il=i,sl=a,il.attachEvent("onpropertychange",bg)):t==="focusout"&&Tg()}function HT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eu(sl)}function GT(t,i){if(t==="click")return eu(i)}function QT(t,i){if(t==="input"||t==="change")return eu(i)}function KT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var En=typeof Object.is=="function"?Object.is:KT;function rl(t,i){if(En(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Tt.call(i,h)||!En(t[h],i[h]))return!1}return!0}function Ag(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sg(t,i){var a=Ag(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ag(a)}}function xg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?xg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function wg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ti(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ti(t.document)}return i}function Ad(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var YT=jn&&"documentMode"in document&&11>=document.documentMode,Ma=null,Sd=null,al=null,xd=!1;function Rg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xd||Ma==null||Ma!==Ti(l)||(l=Ma,"selectionStart"in l&&Ad(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&rl(al,l)||(al=l,l=qu(Sd,"onSelect"),0<l.length&&(i=new Si("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ma)))}function Ur(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ka={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},wd={},Cg={};jn&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function zr(t){if(wd[t])return wd[t];if(!ka[t])return t;var i=ka[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Cg)return wd[t]=i[a];return t}var Ng=zr("animationend"),Ig=zr("animationiteration"),Dg=zr("animationstart"),$T=zr("transitionrun"),XT=zr("transitionstart"),WT=zr("transitioncancel"),jg=zr("transitionend"),Og=new Map,Rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rd.push("scrollEnd");function Zn(t,i){Og.set(t,i),vi(i,[t])}var tu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],Va=0,Cd=0;function nu(){for(var t=Va,i=Cd=Va=0;i<t;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var h=Mn[i];Mn[i++]=null;var m=Mn[i];if(Mn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}m!==0&&Mg(a,h,m)}}function iu(t,i,a,l){Mn[Va++]=t,Mn[Va++]=i,Mn[Va++]=a,Mn[Va++]=l,Cd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Nd(t,i,a,l){return iu(t,i,a,l),su(t)}function Br(t,i){return iu(t,null,null,i),su(t)}function Mg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&i!==null&&(h=31-pt(a),t=m.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),m):null}function su(t){if(50<Cl)throw Cl=0,Uf=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var La={};function JT(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,i,a,l){return new JT(t,i,a,l)}function Id(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $i(t,i){var a=t.alternate;return a===null?(a=Tn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function kg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ru(t,i,a,l,h,m){var v=0;if(l=t,typeof t=="function")Id(t)&&(v=1);else if(typeof t=="string")v=iA(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Tn(31,a,i,h),t.elementType=C,t.lanes=m,t;case O:return qr(a.children,h,m,i);case V:v=8,h|=24;break;case $:return t=Tn(12,a,i,h|2),t.elementType=$,t.lanes=m,t;case Ae:return t=Tn(13,a,i,h),t.elementType=Ae,t.lanes=m,t;case le:return t=Tn(19,a,i,h),t.elementType=le,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:v=10;break e;case se:v=9;break e;case me:v=11;break e;case R:v=14;break e;case w:v=16,l=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=Tn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=m,i}function qr(t,i,a,l){return t=Tn(7,t,l,i),t.lanes=a,t}function Dd(t,i,a){return t=Tn(6,t,null,i),t.lanes=a,t}function Vg(t){var i=Tn(18,null,null,0);return i.stateNode=t,i}function jd(t,i,a){return i=Tn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Lg=new WeakMap;function kn(t,i){if(typeof t=="object"&&t!==null){var a=Lg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Lo(i)},Lg.set(t,i),i)}return{value:t,source:i,stack:Lo(i)}}var Pa=[],Ua=0,au=null,ol=0,Vn=[],Ln=0,Is=null,Ci=1,Ni="";function Xi(t,i){Pa[Ua++]=ol,Pa[Ua++]=au,au=t,ol=i}function Pg(t,i,a){Vn[Ln++]=Ci,Vn[Ln++]=Ni,Vn[Ln++]=Is,Is=t;var l=Ci;t=Ni;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var m=32-pt(i)+h;if(30<m){var v=h-h%5;m=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ci=1<<32-pt(i)+h|a<<h|l,Ni=m+t}else Ci=1<<m|a<<h|l,Ni=t}function Od(t){t.return!==null&&(Xi(t,1),Pg(t,1,0))}function Md(t){for(;t===au;)au=Pa[--Ua],Pa[Ua]=null,ol=Pa[--Ua],Pa[Ua]=null;for(;t===Is;)Is=Vn[--Ln],Vn[Ln]=null,Ni=Vn[--Ln],Vn[Ln]=null,Ci=Vn[--Ln],Vn[Ln]=null}function Ug(t,i){Vn[Ln++]=Ci,Vn[Ln++]=Ni,Vn[Ln++]=Is,Ci=i.id,Ni=i.overflow,Is=t}var Gt=null,rt=null,Pe=!1,Ds=null,Pn=!1,kd=Error(r(519));function js(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ll(kn(i,t)),kd}function zg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[At]=t,i[Ut]=l,a){case"dialog":je("cancel",i),je("close",i);break;case"iframe":case"object":case"embed":je("load",i);break;case"video":case"audio":for(a=0;a<Il.length;a++)je(Il[a],i);break;case"source":je("error",i);break;case"img":case"image":case"link":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"input":je("invalid",i),Uc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":je("invalid",i);break;case"textarea":je("invalid",i),As(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||iv(i.textContent,a)?(l.popover!=null&&(je("beforetoggle",i),je("toggle",i)),l.onScroll!=null&&je("scroll",i),l.onScrollEnd!=null&&je("scrollend",i),l.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||js(t,!0)}function Bg(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Gt=Gt.return}}function za(t){if(t!==Gt)return!1;if(!Pe)return Bg(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||em(t.type,t.memoizedProps)),a=!a),a&&rt&&js(t),Bg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=dv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=dv(t)}else i===27?(i=rt,Qs(t.type)?(t=rm,rm=null,rt=t):rt=i):rt=Gt?zn(t.stateNode.nextSibling):null;return!0}function Fr(){rt=Gt=null,Pe=!1}function Vd(){var t=Ds;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Ds=null),t}function ll(t){Ds===null?Ds=[t]:Ds.push(t)}var Ld=M(null),Hr=null,Wi=null;function Os(t,i,a){ae(Ld,i._currentValue),i._currentValue=a}function Ji(t){t._currentValue=Ld.current,ee(Ld)}function Pd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Ud(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var v=h.child;m=m.firstContext;e:for(;m!==null;){var b=m;m=h;for(var I=0;I<i.length;I++)if(b.context===i[I]){m.lanes|=a,b=m.alternate,b!==null&&(b.lanes|=a),Pd(m.return,a,t),l||(v=null);break e}m=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,m=v.alternate,m!==null&&(m.lanes|=a),Pd(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Ba(t,i,a,l){t=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var b=h.type;En(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===Ue.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}h=h.return}t!==null&&Ud(i,t,a,l),i.flags|=262144}function ou(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gr(t){Hr=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return qg(Hr,t)}function lu(t,i){return Hr===null&&Gr(t),qg(t,i)}function qg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Wi===null){if(t===null)throw Error(r(308));Wi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Wi=Wi.next=i;return a}var ZT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},eb=s.unstable_scheduleCallback,tb=s.unstable_NormalPriority,wt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zd(){return{controller:new ZT,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&eb(tb,function(){t.controller.abort()})}var ul=null,Bd=0,qa=0,Fa=null;function nb(t,i){if(ul===null){var a=ul=[];Bd=0,qa=Gf(),Fa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Bd++,i.then(Fg,Fg),i}function Fg(){if(--Bd===0&&ul!==null){Fa!==null&&(Fa.status="fulfilled");var t=ul;ul=null,qa=0,Fa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function ib(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Hg=Y.S;Y.S=function(t,i){Ry=rn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&nb(t,i),Hg!==null&&Hg(t,i)};var Qr=M(null);function qd(){var t=Qr.current;return t!==null?t:it.pooledCache}function cu(t,i){i===null?ae(Qr,Qr.current):ae(Qr,i.pool)}function Gg(){var t=qd();return t===null?null:{parent:wt._currentValue,pool:t}}var Ha=Error(r(460)),Fd=Error(r(474)),uu=Error(r(542)),hu={then:function(){}};function Qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Kg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,$g(t),t;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,$g(t),t}throw Yr=i,Ha}}function Kr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Yr=a,Ha):a}}var Yr=null;function Yg(){if(Yr===null)throw Error(r(459));var t=Yr;return Yr=null,t}function $g(t){if(t===Ha||t===uu)throw Error(r(483))}var Ga=null,hl=0;function du(t){var i=hl;return hl+=1,Ga===null&&(Ga=[]),Kg(Ga,t,i)}function dl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function fu(t,i){throw i.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Xg(t){function i(L,j){if(t){var B=L.deletions;B===null?(L.deletions=[j],L.flags|=16):B.push(j)}}function a(L,j){if(!t)return null;for(;j!==null;)i(L,j),j=j.sibling;return null}function l(L){for(var j=new Map;L!==null;)L.key!==null?j.set(L.key,L):j.set(L.index,L),L=L.sibling;return j}function h(L,j){return L=$i(L,j),L.index=0,L.sibling=null,L}function m(L,j,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<j?(L.flags|=67108866,j):B):(L.flags|=67108866,j)):(L.flags|=1048576,j)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function b(L,j,B,X){return j===null||j.tag!==6?(j=Dd(B,L.mode,X),j.return=L,j):(j=h(j,B),j.return=L,j)}function I(L,j,B,X){var pe=B.type;return pe===O?K(L,j,B.props.children,X,B.key):j!==null&&(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Kr(pe)===j.type)?(j=h(j,B.props),dl(j,B),j.return=L,j):(j=ru(B.type,B.key,B.props,null,L.mode,X),dl(j,B),j.return=L,j)}function q(L,j,B,X){return j===null||j.tag!==4||j.stateNode.containerInfo!==B.containerInfo||j.stateNode.implementation!==B.implementation?(j=jd(B,L.mode,X),j.return=L,j):(j=h(j,B.children||[]),j.return=L,j)}function K(L,j,B,X,pe){return j===null||j.tag!==7?(j=qr(B,L.mode,X,pe),j.return=L,j):(j=h(j,B),j.return=L,j)}function Z(L,j,B){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Dd(""+j,L.mode,B),j.return=L,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case U:return B=ru(j.type,j.key,j.props,null,L.mode,B),dl(B,j),B.return=L,B;case H:return j=jd(j,L.mode,B),j.return=L,j;case w:return j=Kr(j),Z(L,j,B)}if(Mt(j)||P(j))return j=qr(j,L.mode,B,null),j.return=L,j;if(typeof j.then=="function")return Z(L,du(j),B);if(j.$$typeof===ne)return Z(L,lu(L,j),B);fu(L,j)}return null}function F(L,j,B,X){var pe=j!==null?j.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return pe!==null?null:b(L,j,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case U:return B.key===pe?I(L,j,B,X):null;case H:return B.key===pe?q(L,j,B,X):null;case w:return B=Kr(B),F(L,j,B,X)}if(Mt(B)||P(B))return pe!==null?null:K(L,j,B,X,null);if(typeof B.then=="function")return F(L,j,du(B),X);if(B.$$typeof===ne)return F(L,j,lu(L,B),X);fu(L,B)}return null}function Q(L,j,B,X,pe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(B)||null,b(j,L,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case U:return L=L.get(X.key===null?B:X.key)||null,I(j,L,X,pe);case H:return L=L.get(X.key===null?B:X.key)||null,q(j,L,X,pe);case w:return X=Kr(X),Q(L,j,B,X,pe)}if(Mt(X)||P(X))return L=L.get(B)||null,K(j,L,X,pe,null);if(typeof X.then=="function")return Q(L,j,B,du(X),pe);if(X.$$typeof===ne)return Q(L,j,B,lu(j,X),pe);fu(j,X)}return null}function he(L,j,B,X){for(var pe=null,qe=null,fe=j,Ie=j=0,Me=null;fe!==null&&Ie<B.length;Ie++){fe.index>Ie?(Me=fe,fe=null):Me=fe.sibling;var Fe=F(L,fe,B[Ie],X);if(Fe===null){fe===null&&(fe=Me);break}t&&fe&&Fe.alternate===null&&i(L,fe),j=m(Fe,j,Ie),qe===null?pe=Fe:qe.sibling=Fe,qe=Fe,fe=Me}if(Ie===B.length)return a(L,fe),Pe&&Xi(L,Ie),pe;if(fe===null){for(;Ie<B.length;Ie++)fe=Z(L,B[Ie],X),fe!==null&&(j=m(fe,j,Ie),qe===null?pe=fe:qe.sibling=fe,qe=fe);return Pe&&Xi(L,Ie),pe}for(fe=l(fe);Ie<B.length;Ie++)Me=Q(fe,L,Ie,B[Ie],X),Me!==null&&(t&&Me.alternate!==null&&fe.delete(Me.key===null?Ie:Me.key),j=m(Me,j,Ie),qe===null?pe=Me:qe.sibling=Me,qe=Me);return t&&fe.forEach(function(Ws){return i(L,Ws)}),Pe&&Xi(L,Ie),pe}function ye(L,j,B,X){if(B==null)throw Error(r(151));for(var pe=null,qe=null,fe=j,Ie=j=0,Me=null,Fe=B.next();fe!==null&&!Fe.done;Ie++,Fe=B.next()){fe.index>Ie?(Me=fe,fe=null):Me=fe.sibling;var Ws=F(L,fe,Fe.value,X);if(Ws===null){fe===null&&(fe=Me);break}t&&fe&&Ws.alternate===null&&i(L,fe),j=m(Ws,j,Ie),qe===null?pe=Ws:qe.sibling=Ws,qe=Ws,fe=Me}if(Fe.done)return a(L,fe),Pe&&Xi(L,Ie),pe;if(fe===null){for(;!Fe.done;Ie++,Fe=B.next())Fe=Z(L,Fe.value,X),Fe!==null&&(j=m(Fe,j,Ie),qe===null?pe=Fe:qe.sibling=Fe,qe=Fe);return Pe&&Xi(L,Ie),pe}for(fe=l(fe);!Fe.done;Ie++,Fe=B.next())Fe=Q(fe,L,Ie,Fe.value,X),Fe!==null&&(t&&Fe.alternate!==null&&fe.delete(Fe.key===null?Ie:Fe.key),j=m(Fe,j,Ie),qe===null?pe=Fe:qe.sibling=Fe,qe=Fe);return t&&fe.forEach(function(mA){return i(L,mA)}),Pe&&Xi(L,Ie),pe}function nt(L,j,B,X){if(typeof B=="object"&&B!==null&&B.type===O&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case U:e:{for(var pe=B.key;j!==null;){if(j.key===pe){if(pe=B.type,pe===O){if(j.tag===7){a(L,j.sibling),X=h(j,B.props.children),X.return=L,L=X;break e}}else if(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Kr(pe)===j.type){a(L,j.sibling),X=h(j,B.props),dl(X,B),X.return=L,L=X;break e}a(L,j);break}else i(L,j);j=j.sibling}B.type===O?(X=qr(B.props.children,L.mode,X,B.key),X.return=L,L=X):(X=ru(B.type,B.key,B.props,null,L.mode,X),dl(X,B),X.return=L,L=X)}return v(L);case H:e:{for(pe=B.key;j!==null;){if(j.key===pe)if(j.tag===4&&j.stateNode.containerInfo===B.containerInfo&&j.stateNode.implementation===B.implementation){a(L,j.sibling),X=h(j,B.children||[]),X.return=L,L=X;break e}else{a(L,j);break}else i(L,j);j=j.sibling}X=jd(B,L.mode,X),X.return=L,L=X}return v(L);case w:return B=Kr(B),nt(L,j,B,X)}if(Mt(B))return he(L,j,B,X);if(P(B)){if(pe=P(B),typeof pe!="function")throw Error(r(150));return B=pe.call(B),ye(L,j,B,X)}if(typeof B.then=="function")return nt(L,j,du(B),X);if(B.$$typeof===ne)return nt(L,j,lu(L,B),X);fu(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,j!==null&&j.tag===6?(a(L,j.sibling),X=h(j,B),X.return=L,L=X):(a(L,j),X=Dd(B,L.mode,X),X.return=L,L=X),v(L)):a(L,j)}return function(L,j,B,X){try{hl=0;var pe=nt(L,j,B,X);return Ga=null,pe}catch(fe){if(fe===Ha||fe===uu)throw fe;var qe=Tn(29,fe,null,L.mode);return qe.lanes=X,qe.return=L,qe}}}var $r=Xg(!0),Wg=Xg(!1),Ms=!1;function Hd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ks(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=su(t),Mg(t,null,a),i}return iu(t,l,i,a),su(t)}function fl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,zo(t,a)}}function Qd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?h=m=i:m=m.next=i}else h=m=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Kd=!1;function ml(){if(Kd){var t=Fa;if(t!==null)throw t}}function pl(t,i,a,l){Kd=!1;var h=t.updateQueue;Ms=!1;var m=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var I=b,q=I.next;I.next=null,v===null?m=q:v.next=q,v=I;var K=t.alternate;K!==null&&(K=K.updateQueue,b=K.lastBaseUpdate,b!==v&&(b===null?K.firstBaseUpdate=q:b.next=q,K.lastBaseUpdate=I))}if(m!==null){var Z=h.baseState;v=0,K=q=I=null,b=m;do{var F=b.lane&-536870913,Q=F!==b.lane;if(Q?(Oe&F)===F:(l&F)===F){F!==0&&F===qa&&(Kd=!0),K!==null&&(K=K.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var he=t,ye=b;F=i;var nt=a;switch(ye.tag){case 1:if(he=ye.payload,typeof he=="function"){Z=he.call(nt,Z,F);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ye.payload,F=typeof he=="function"?he.call(nt,Z,F):he,F==null)break e;Z=A({},Z,F);break e;case 2:Ms=!0}}F=b.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},K===null?(q=K=Q,I=Z):K=K.next=Q,v|=F;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);K===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=q,h.lastBaseUpdate=K,m===null&&(h.shared.lanes=0),Bs|=v,t.lanes=v,t.memoizedState=Z}}function Jg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Zg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Jg(a[t],i)}var Qa=M(null),mu=M(0);function e_(t,i){t=os,ae(mu,t),ae(Qa,i),os=t|i.baseLanes}function Yd(){ae(mu,os),ae(Qa,Qa.current)}function $d(){os=mu.current,ee(Qa),ee(mu)}var bn=M(null),Un=null;function Ls(t){var i=t.alternate;ae(_t,_t.current&1),ae(bn,t),Un===null&&(i===null||Qa.current!==null||i.memoizedState!==null)&&(Un=t)}function Xd(t){ae(_t,_t.current),ae(bn,t),Un===null&&(Un=t)}function t_(t){t.tag===22?(ae(_t,_t.current),ae(bn,t),Un===null&&(Un=t)):Ps()}function Ps(){ae(_t,_t.current),ae(bn,bn.current)}function An(t){ee(bn),Un===t&&(Un=null),ee(_t)}var _t=M(0);function pu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||im(a)||sm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Zi=0,Ce=null,et=null,Rt=null,gu=!1,Ka=!1,Xr=!1,_u=0,gl=0,Ya=null,sb=0;function dt(){throw Error(r(321))}function Wd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!En(t[a],i[a]))return!1;return!0}function Jd(t,i,a,l,h,m){return Zi=m,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?P_:mf,Xr=!1,m=a(l,h),Xr=!1,Ka&&(m=i_(i,a,l,h)),n_(t),m}function n_(t){Y.H=vl;var i=et!==null&&et.next!==null;if(Zi=0,Rt=et=Ce=null,gu=!1,gl=0,Ya=null,i)throw Error(r(300));t===null||Ct||(t=t.dependencies,t!==null&&ou(t)&&(Ct=!0))}function i_(t,i,a,l){Ce=t;var h=0;do{if(Ka&&(Ya=null),gl=0,Ka=!1,25<=h)throw Error(r(301));if(h+=1,Rt=et=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Y.H=U_,m=i(a,l)}while(Ka);return m}function rb(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?_l(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Ce.flags|=1024),i}function Zd(){var t=_u!==0;return _u=0,t}function ef(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function tf(t){if(gu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}gu=!1}Zi=0,Rt=et=Ce=null,Ka=!1,gl=_u=0,Ya=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ce.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function yt(){if(et===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=Rt===null?Ce.memoizedState:Rt.next;if(i!==null)Rt=i,et=t;else{if(t===null)throw Ce.alternate===null?Error(r(467)):Error(r(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Rt===null?Ce.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var i=gl;return gl+=1,Ya===null&&(Ya=[]),t=Kg(Ya,t,i),i=Ce,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?P_:mf),t}function vu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===ne)return Qt(t)}throw Error(r(438,String(t)))}function nf(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=yu(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function es(t,i){return typeof i=="function"?i(t):i}function Eu(t){var i=yt();return sf(i,et,t)}function sf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,m=l.pending;if(m!==null){if(h!==null){var v=h.next;h.next=m.next,m.next=v}i.baseQueue=h=m,l.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{i=h.next;var b=v=null,I=null,q=i,K=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(Oe&Z)===Z:(Zi&Z)===Z){var F=q.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===qa&&(K=!0);else if((Zi&F)===F){q=q.next,F===qa&&(K=!0);continue}else Z={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(b=I=Z,v=m):I=I.next=Z,Ce.lanes|=F,Bs|=F;Z=q.action,Xr&&a(m,Z),m=q.hasEagerState?q.eagerState:a(m,Z)}else F={lane:Z,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(b=I=F,v=m):I=I.next=F,Ce.lanes|=Z,Bs|=Z;q=q.next}while(q!==null&&q!==i);if(I===null?v=m:I.next=b,!En(m,t.memoizedState)&&(Ct=!0,K&&(a=Fa,a!==null)))throw a;t.memoizedState=m,t.baseState=v,t.baseQueue=I,l.lastRenderedState=m}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function rf(t){var i=yt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,m=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do m=t(m,v.action),v=v.next;while(v!==h);En(m,i.memoizedState)||(Ct=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function s_(t,i,a){var l=Ce,h=yt(),m=Pe;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!En((et||h).memoizedState,a);if(v&&(h.memoizedState=a,Ct=!0),h=h.queue,lf(o_.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,$a(9,{destroy:void 0},a_.bind(null,l,h,a,i),null),it===null)throw Error(r(349));m||(Zi&127)!==0||r_(l,i,a)}return a}function r_(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=yu(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function a_(t,i,a,l){i.value=a,i.getSnapshot=l,l_(i)&&c_(t)}function o_(t,i,a){return a(function(){l_(i)&&c_(t)})}function l_(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!En(t,a)}catch{return!0}}function c_(t){var i=Br(t,2);i!==null&&mn(i,t,2)}function af(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),Xr){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:t},i}function u_(t,i,a,l){return t.baseState=a,sf(t,et,typeof l=="function"?l:es)}function ab(t,i,a,l,h){if(Au(t))throw Error(r(485));if(t=i.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};Y.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,h_(i,m)):(m.next=a.next,i.pending=a.next=m)}}function h_(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var m=Y.T,v={};Y.T=v;try{var b=a(h,l),I=Y.S;I!==null&&I(v,b),d_(t,i,b)}catch(q){of(t,i,q)}finally{m!==null&&v.types!==null&&(m.types=v.types),Y.T=m}}else try{m=a(h,l),d_(t,i,m)}catch(q){of(t,i,q)}}function d_(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){f_(t,i,l)},function(l){return of(t,i,l)}):f_(t,i,a)}function f_(t,i,a){i.status="fulfilled",i.value=a,m_(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,h_(t,a)))}function of(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,m_(i),i=i.next;while(i!==l)}t.action=null}function m_(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function p_(t,i){return i}function g_(t,i){if(Pe){var a=it.formState;if(a!==null){e:{var l=Ce;if(Pe){if(rt){t:{for(var h=rt,m=Pn;h.nodeType!==8;){if(!m){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){rt=zn(h.nextSibling),l=h.data==="F!";break e}}js(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p_,lastRenderedState:i},a.queue=l,a=k_.bind(null,Ce,l),l.dispatch=a,l=af(!1),m=ff.bind(null,Ce,!1,l.queue),l=on(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=ab.bind(null,Ce,h,m,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function __(t){var i=yt();return y_(i,et,t)}function y_(t,i,a){if(i=sf(t,i,p_)[0],t=Eu(es)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=_l(i)}catch(v){throw v===Ha?uu:v}else l=i;i=yt();var h=i.queue,m=h.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,$a(9,{destroy:void 0},ob.bind(null,h,a),null)),[l,m,t]}function ob(t,i){t.action=i}function v_(t){var i=yt(),a=et;if(a!==null)return y_(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function $a(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=yu(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function E_(){return yt().memoizedState}function Tu(t,i,a,l){var h=on();Ce.flags|=t,h.memoizedState=$a(1|i,{destroy:void 0},a,l===void 0?null:l)}function bu(t,i,a,l){var h=yt();l=l===void 0?null:l;var m=h.memoizedState.inst;et!==null&&l!==null&&Wd(l,et.memoizedState.deps)?h.memoizedState=$a(i,m,a,l):(Ce.flags|=t,h.memoizedState=$a(1|i,m,a,l))}function T_(t,i){Tu(8390656,8,t,i)}function lf(t,i){bu(2048,8,t,i)}function lb(t){Ce.flags|=4;var i=Ce.updateQueue;if(i===null)i=yu(),Ce.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function b_(t){var i=yt().memoizedState;return lb({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function A_(t,i){return bu(4,2,t,i)}function S_(t,i){return bu(4,4,t,i)}function x_(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function w_(t,i,a){a=a!=null?a.concat([t]):null,bu(4,4,x_.bind(null,i,t),a)}function cf(){}function R_(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Wd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function C_(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Wd(i,l[1]))return l[0];if(l=t(),Xr){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,i],l}function uf(t,i,a){return a===void 0||(Zi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Ny(),Ce.lanes|=t,Bs|=t,a)}function N_(t,i,a,l){return En(a,i)?a:Qa.current!==null?(t=uf(t,a,l),En(t,i)||(Ct=!0),t):(Zi&42)===0||(Zi&1073741824)!==0&&(Oe&261930)===0?(Ct=!0,t.memoizedState=a):(t=Ny(),Ce.lanes|=t,Bs|=t,i)}function I_(t,i,a,l,h){var m=re.p;re.p=m!==0&&8>m?m:8;var v=Y.T,b={};Y.T=b,ff(t,!1,i,a);try{var I=h(),q=Y.S;if(q!==null&&q(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var K=ib(I,l);yl(t,i,K,wn(t))}else yl(t,i,l,wn(t))}catch(Z){yl(t,i,{then:function(){},status:"rejected",reason:Z},wn())}finally{re.p=m,v!==null&&b.types!==null&&(v.types=b.types),Y.T=v}}function cb(){}function hf(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=D_(t).queue;I_(t,h,i,_e,a===null?cb:function(){return j_(t),a(l)})}function D_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:_e},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function j_(t){var i=D_(t);i.next===null&&(i=t.alternate.memoizedState),yl(t,i.next.queue,{},wn())}function df(){return Qt(kl)}function O_(){return yt().memoizedState}function M_(){return yt().memoizedState}function ub(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();t=ks(a);var l=Vs(i,t,a);l!==null&&(mn(l,i,a),fl(l,i,a)),i={cache:zd()},t.payload=i;return}i=i.return}}function hb(t,i,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Au(t)?V_(i,a):(a=Nd(t,i,a,l),a!==null&&(mn(a,t,l),L_(a,i,l)))}function k_(t,i,a){var l=wn();yl(t,i,a,l)}function yl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Au(t))V_(i,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var v=i.lastRenderedState,b=m(v,a);if(h.hasEagerState=!0,h.eagerState=b,En(b,v))return iu(t,i,h,0),it===null&&nu(),!1}catch{}if(a=Nd(t,i,h,l),a!==null)return mn(a,t,l),L_(a,i,l),!0}return!1}function ff(t,i,a,l){if(l={lane:2,revertLane:Gf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Au(t)){if(i)throw Error(r(479))}else i=Nd(t,a,l,2),i!==null&&mn(i,t,2)}function Au(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function V_(t,i){Ka=gu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function L_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,zo(t,a)}}var vl={readContext:Qt,use:vu,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};vl.useEffectEvent=dt;var P_={readContext:Qt,use:vu,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:T_,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Tu(4194308,4,x_.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Tu(4194308,4,t,i)},useInsertionEffect:function(t,i){Tu(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(Xr){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var h=a(i);if(Xr){Nn(!0);try{a(i)}finally{Nn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=hb.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=af(t);var i=t.queue,a=k_.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:cf,useDeferredValue:function(t,i){var a=on();return uf(a,t,i)},useTransition:function(){var t=af(!1);return t=I_.bind(null,Ce,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,h=on();if(Pe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),it===null)throw Error(r(349));(Oe&127)!==0||r_(l,i,a)}h.memoizedState=a;var m={value:a,getSnapshot:i};return h.queue=m,T_(o_.bind(null,l,m,t),[t]),l.flags|=2048,$a(9,{destroy:void 0},a_.bind(null,l,m,a,i),null),a},useId:function(){var t=on(),i=it.identifierPrefix;if(Pe){var a=Ni,l=Ci;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=_u++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=sb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:df,useFormState:g_,useActionState:g_,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ff.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:nf,useCacheRefresh:function(){return on().memoizedState=ub.bind(null,Ce)},useEffectEvent:function(t){var i=on(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},mf={readContext:Qt,use:vu,useCallback:R_,useContext:Qt,useEffect:lf,useImperativeHandle:w_,useInsertionEffect:A_,useLayoutEffect:S_,useMemo:C_,useReducer:Eu,useRef:E_,useState:function(){return Eu(es)},useDebugValue:cf,useDeferredValue:function(t,i){var a=yt();return N_(a,et.memoizedState,t,i)},useTransition:function(){var t=Eu(es)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:_l(t),i]},useSyncExternalStore:s_,useId:O_,useHostTransitionStatus:df,useFormState:__,useActionState:__,useOptimistic:function(t,i){var a=yt();return u_(a,et,t,i)},useMemoCache:nf,useCacheRefresh:M_};mf.useEffectEvent=b_;var U_={readContext:Qt,use:vu,useCallback:R_,useContext:Qt,useEffect:lf,useImperativeHandle:w_,useInsertionEffect:A_,useLayoutEffect:S_,useMemo:C_,useReducer:rf,useRef:E_,useState:function(){return rf(es)},useDebugValue:cf,useDeferredValue:function(t,i){var a=yt();return et===null?uf(a,t,i):N_(a,et.memoizedState,t,i)},useTransition:function(){var t=rf(es)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:_l(t),i]},useSyncExternalStore:s_,useId:O_,useHostTransitionStatus:df,useFormState:v_,useActionState:v_,useOptimistic:function(t,i){var a=yt();return et!==null?u_(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:nf,useCacheRefresh:M_};U_.useEffectEvent=b_;function pf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:A({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var gf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=wn(),h=ks(l);h.payload=i,a!=null&&(h.callback=a),i=Vs(t,h,l),i!==null&&(mn(i,t,l),fl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=wn(),h=ks(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Vs(t,h,l),i!==null&&(mn(i,t,l),fl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=wn(),l=ks(a);l.tag=2,i!=null&&(l.callback=i),i=Vs(t,l,a),i!==null&&(mn(i,t,a),fl(i,t,a))}};function z_(t,i,a,l,h,m,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,v):i.prototype&&i.prototype.isPureReactComponent?!rl(a,l)||!rl(h,m):!0}function B_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&gf.enqueueReplaceState(i,i.state,null)}function Wr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function q_(t){tu(t)}function F_(t){console.error(t)}function H_(t){tu(t)}function Su(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function G_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function _f(t,i,a){return a=ks(a),a.tag=3,a.payload={element:null},a.callback=function(){Su(t,i)},a}function Q_(t){return t=ks(t),t.tag=3,t}function K_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;t.payload=function(){return h(m)},t.callback=function(){G_(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){G_(i,a,l),typeof h!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function db(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ba(i,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?Vu():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===hu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),qf(t,l,h)),!1;case 22:return a.flags|=65536,l===hu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),qf(t,l,h)),!1}throw Error(r(435,a.tag))}return qf(t,l,h),Vu(),!1}if(Pe)return i=bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==kd&&(t=Error(r(422),{cause:l}),ll(kn(t,a)))):(l!==kd&&(i=Error(r(423),{cause:l}),ll(kn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=kn(l,a),h=_f(t.stateNode,l,h),Qd(t,h),ft!==4&&(ft=2)),!1;var m=Error(r(520),{cause:l});if(m=kn(m,a),Rl===null?Rl=[m]:Rl.push(m),ft!==4&&(ft=2),i===null)return!0;l=kn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=_f(a.stateNode,l,t),Qd(a,t),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(qs===null||!qs.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Q_(h),K_(h,t,a,l),Qd(a,h),!1}a=a.return}while(a!==null);return!1}var yf=Error(r(461)),Ct=!1;function Kt(t,i,a,l){i.child=t===null?Wg(i,null,a,l):$r(i,t.child,a,l)}function Y_(t,i,a,l,h){a=a.render;var m=i.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Gr(i),l=Jd(t,i,a,v,m,h),b=Zd(),t!==null&&!Ct?(ef(t,i,h),ts(t,i,h)):(Pe&&b&&Od(i),i.flags|=1,Kt(t,i,l,h),i.child)}function $_(t,i,a,l,h){if(t===null){var m=a.type;return typeof m=="function"&&!Id(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,X_(t,i,m,l,h)):(t=ru(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!wf(t,h)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:rl,a(v,l)&&t.ref===i.ref)return ts(t,i,h)}return i.flags|=1,t=$i(m,l),t.ref=i.ref,t.return=i,i.child=t}function X_(t,i,a,l,h){if(t!==null){var m=t.memoizedProps;if(rl(m,l)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=l=m,wf(t,h))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,ts(t,i,h)}return vf(t,i,a,l,h)}function W_(t,i,a,l){var h=l.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~m}else l=0,i.child=null;return J_(t,i,m,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&cu(i,m!==null?m.cachePool:null),m!==null?e_(i,m):Yd(),t_(i);else return l=i.lanes=536870912,J_(t,i,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(cu(i,m.cachePool),e_(i,m),Ps(),i.memoizedState=null):(t!==null&&cu(i,null),Yd(),Ps());return Kt(t,i,h,a),i.child}function El(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function J_(t,i,a,l,h){var m=qd();return m=m===null?null:{parent:wt._currentValue,pool:m},i.memoizedState={baseLanes:a,cachePool:m},t!==null&&cu(i,null),Yd(),t_(i),t!==null&&Ba(t,i,l,!0),i.childLanes=h,null}function xu(t,i){return i=Ru({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Z_(t,i,a){return $r(i,t.child,null,a),t=xu(i,i.pendingProps),t.flags|=2,An(i),i.memoizedState=null,t}function fb(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=xu(i,l),i.lanes=536870912,El(null,t);if(Xd(i),(t=rt)?(t=hv(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Is!==null?{id:Ci,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,Gt=i,rt=null)):t=null,t===null)throw js(i);return i.lanes=536870912,null}return xu(i,l)}var m=t.memoizedState;if(m!==null){var v=m.dehydrated;if(Xd(i),h)if(i.flags&256)i.flags&=-257,i=Z_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ct||Ba(t,i,a,!1),h=(a&t.childLanes)!==0,Ct||h){if(l=it,l!==null&&(v=Bo(l,a),v!==0&&v!==m.retryLane))throw m.retryLane=v,Br(t,v),mn(l,t,v),yf;Vu(),i=Z_(t,i,a)}else t=m.treeContext,rt=zn(v.nextSibling),Gt=i,Pe=!0,Ds=null,Pn=!1,t!==null&&Ug(i,t),i=xu(i,l),i.flags|=4096;return i}return t=$i(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function wu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function vf(t,i,a,l,h){return Gr(i),a=Jd(t,i,a,l,void 0,h),l=Zd(),t!==null&&!Ct?(ef(t,i,h),ts(t,i,h)):(Pe&&l&&Od(i),i.flags|=1,Kt(t,i,a,h),i.child)}function ey(t,i,a,l,h,m){return Gr(i),i.updateQueue=null,a=i_(i,l,a,h),n_(t),l=Zd(),t!==null&&!Ct?(ef(t,i,m),ts(t,i,m)):(Pe&&l&&Od(i),i.flags|=1,Kt(t,i,a,m),i.child)}function ty(t,i,a,l,h){if(Gr(i),i.stateNode===null){var m=La,v=a.contextType;typeof v=="object"&&v!==null&&(m=Qt(v)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=gf,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},Hd(i),v=a.contextType,m.context=typeof v=="object"&&v!==null?Qt(v):La,m.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(pf(i,a,v,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&gf.enqueueReplaceState(m,m.state,null),pl(i,l,m,h),ml(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){m=i.stateNode;var b=i.memoizedProps,I=Wr(a,b);m.props=I;var q=m.context,K=a.contextType;v=La,typeof K=="object"&&K!==null&&(v=Qt(K));var Z=a.getDerivedStateFromProps;K=typeof Z=="function"||typeof m.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,K||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b||q!==v)&&B_(i,m,l,v),Ms=!1;var F=i.memoizedState;m.state=F,pl(i,l,m,h),ml(),q=i.memoizedState,b||F!==q||Ms?(typeof Z=="function"&&(pf(i,a,Z,l),q=i.memoizedState),(I=Ms||z_(i,a,I,l,F,q,v))?(K||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),m.props=l,m.state=q,m.context=v,l=I):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,Gd(t,i),v=i.memoizedProps,K=Wr(a,v),m.props=K,Z=i.pendingProps,F=m.context,q=a.contextType,I=La,typeof q=="object"&&q!==null&&(I=Qt(q)),b=a.getDerivedStateFromProps,(q=typeof b=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==Z||F!==I)&&B_(i,m,l,I),Ms=!1,F=i.memoizedState,m.state=F,pl(i,l,m,h),ml();var Q=i.memoizedState;v!==Z||F!==Q||Ms||t!==null&&t.dependencies!==null&&ou(t.dependencies)?(typeof b=="function"&&(pf(i,a,b,l),Q=i.memoizedState),(K=Ms||z_(i,a,K,l,F,Q,I)||t!==null&&t.dependencies!==null&&ou(t.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Q,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Q,I)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),m.props=l,m.state=Q,m.context=I,l=K):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return m=l,wu(t,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&l?(i.child=$r(i,t.child,null,h),i.child=$r(i,null,a,h)):Kt(t,i,a,h),i.memoizedState=m.state,t=i.child):t=ts(t,i,h),t}function ny(t,i,a,l){return Fr(),i.flags|=256,Kt(t,i,a,l),i.child}var Ef={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tf(t){return{baseLanes:t,cachePool:Gg()}}function bf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=xn),t}function iy(t,i,a){var l=i.pendingProps,h=!1,m=(i.flags&128)!==0,v;if((v=m)||(v=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(h?Ls(i):Ps(),(t=rt)?(t=hv(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Is!==null?{id:Ci,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,Gt=i,rt=null)):t=null,t===null)throw js(i);return sm(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Ps(),h=i.mode,b=Ru({mode:"hidden",children:b},h),l=qr(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=Tf(a),l.childLanes=bf(t,v,a),i.memoizedState=Ef,El(null,l)):(Ls(i),Af(i,b))}var I=t.memoizedState;if(I!==null&&(b=I.dehydrated,b!==null)){if(m)i.flags&256?(Ls(i),i.flags&=-257,i=Sf(t,i,a)):i.memoizedState!==null?(Ps(),i.child=t.child,i.flags|=128,i=null):(Ps(),b=l.fallback,h=i.mode,l=Ru({mode:"visible",children:l.children},h),b=qr(b,h,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,$r(i,t.child,null,a),l=i.child,l.memoizedState=Tf(a),l.childLanes=bf(t,v,a),i.memoizedState=Ef,i=El(null,l));else if(Ls(i),sm(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(r(419)),l.stack="",l.digest=v,ll({value:l,source:null,stack:null}),i=Sf(t,i,a)}else if(Ct||Ba(t,i,a,!1),v=(a&t.childLanes)!==0,Ct||v){if(v=it,v!==null&&(l=Bo(v,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Br(t,l),mn(v,t,l),yf;im(b)||Vu(),i=Sf(t,i,a)}else im(b)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,rt=zn(b.nextSibling),Gt=i,Pe=!0,Ds=null,Pn=!1,t!==null&&Ug(i,t),i=Af(i,l.children),i.flags|=4096);return i}return h?(Ps(),b=l.fallback,h=i.mode,I=t.child,q=I.sibling,l=$i(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?b=$i(q,b):(b=qr(b,h,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,El(null,l),l=i.child,b=t.child.memoizedState,b===null?b=Tf(a):(h=b.cachePool,h!==null?(I=wt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Gg(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=bf(t,v,a),i.memoizedState=Ef,El(t.child,l)):(Ls(i),a=t.child,t=a.sibling,a=$i(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Af(t,i){return i=Ru({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ru(t,i){return t=Tn(22,t,null,i),t.lanes=0,t}function Sf(t,i,a){return $r(i,t.child,null,a),t=Af(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function sy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Pd(t.return,i,a)}function xf(t,i,a,l,h,m){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:m}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=m)}function ry(t,i,a){var l=i.pendingProps,h=l.revealOrder,m=l.tail;l=l.children;var v=_t.current,b=(v&2)!==0;if(b?(v=v&1|2,i.flags|=128):v&=1,ae(_t,v),Kt(t,i,l,a),l=Pe?ol:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sy(t,a,i);else if(t.tag===19)sy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&pu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),xf(i,!1,h,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&pu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}xf(i,!0,a,null,m,l);break;case"together":xf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ts(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Bs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ba(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=$i(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=$i(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function wf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ou(t)))}function mb(t,i,a){switch(i.tag){case 3:kt(i,i.stateNode.containerInfo),Os(i,wt,t.memoizedState.cache),Fr();break;case 27:case 5:Ar(i);break;case 4:kt(i,i.stateNode.containerInfo);break;case 10:Os(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Xd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ls(i),i.flags|=128,null):(a&i.child.childLanes)!==0?iy(t,i,a):(Ls(i),t=ts(t,i,a),t!==null?t.sibling:null);Ls(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ba(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return ry(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(_t,_t.current),l)break;return null;case 22:return i.lanes=0,W_(t,i,a,i.pendingProps);case 24:Os(i,wt,t.memoizedState.cache)}return ts(t,i,a)}function ay(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!wf(t,a)&&(i.flags&128)===0)return Ct=!1,mb(t,i,a);Ct=(t.flags&131072)!==0}else Ct=!1,Pe&&(i.flags&1048576)!==0&&Pg(i,ol,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Kr(i.elementType),i.type=t,typeof t=="function")Id(t)?(l=Wr(t,l),i.tag=1,i=ty(null,i,t,l,a)):(i.tag=0,i=vf(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===me){i.tag=11,i=Y_(null,i,t,l,a);break e}else if(h===R){i.tag=14,i=$_(null,i,t,l,a);break e}}throw i=ot(t)||t,Error(r(306,i,""))}}return i;case 0:return vf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Wr(l,i.pendingProps),ty(t,i,l,h,a);case 3:e:{if(kt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var m=i.memoizedState;h=m.element,Gd(t,i),pl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Os(i,wt,l),l!==m.cache&&Ud(i,[wt],a,!0),ml(),l=v.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=ny(t,i,l,a);break e}else if(l!==h){h=kn(Error(r(424)),i),ll(h),i=ny(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,rt=zn(t.firstChild),Gt=i,Pe=!0,Ds=null,Pn=!0,a=Wg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Fr(),l===h){i=ts(t,i,a);break e}Kt(t,i,l,a)}i=i.child}return i;case 26:return wu(t,i),t===null?(a=_v(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,l=Fu(Ne.current).createElement(a),l[At]=i,l[Ut]=t,Yt(l,a,t),St(l),i.stateNode=l):i.memoizedState=_v(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ar(i),t===null&&Pe&&(l=i.stateNode=mv(i.type,i.pendingProps,Ne.current),Gt=i,Pn=!0,h=rt,Qs(i.type)?(rm=h,rt=zn(l.firstChild)):rt=h),Kt(t,i,i.pendingProps.children,a),wu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((h=l=rt)&&(l=Hb(l,i.type,i.pendingProps,Pn),l!==null?(i.stateNode=l,Gt=i,rt=zn(l.firstChild),Pn=!1,h=!0):h=!1),h||js(i)),Ar(i),h=i.type,m=i.pendingProps,v=t!==null?t.memoizedProps:null,l=m.children,em(h,m)?l=null:v!==null&&em(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Jd(t,i,rb,null,null,a),kl._currentValue=h),wu(t,i),Kt(t,i,l,a),i.child;case 6:return t===null&&Pe&&((t=a=rt)&&(a=Gb(a,i.pendingProps,Pn),a!==null?(i.stateNode=a,Gt=i,rt=null,t=!0):t=!1),t||js(i)),null;case 13:return iy(t,i,a);case 4:return kt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=$r(i,null,l,a):Kt(t,i,l,a),i.child;case 11:return Y_(t,i,i.type,i.pendingProps,a);case 7:return Kt(t,i,i.pendingProps,a),i.child;case 8:return Kt(t,i,i.pendingProps.children,a),i.child;case 12:return Kt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Os(i,i.type,l.value),Kt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Gr(i),h=Qt(h),l=l(h),i.flags|=1,Kt(t,i,l,a),i.child;case 14:return $_(t,i,i.type,i.pendingProps,a);case 15:return X_(t,i,i.type,i.pendingProps,a);case 19:return ry(t,i,a);case 31:return fb(t,i,a);case 22:return W_(t,i,a,i.pendingProps);case 24:return Gr(i),l=Qt(wt),t===null?(h=qd(),h===null&&(h=it,m=zd(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),i.memoizedState={parent:l,cache:h},Hd(i),Os(i,wt,h)):((t.lanes&a)!==0&&(Gd(t,i),pl(i,null,null,a),ml()),h=t.memoizedState,m=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Os(i,wt,l)):(l=m.cache,Os(i,wt,l),l!==h.cache&&Ud(i,[wt],a,!0))),Kt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ns(t){t.flags|=4}function Rf(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Oy())t.flags|=8192;else throw Yr=hu,Fd}else t.flags&=-16777217}function oy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!bv(i))if(Oy())t.flags|=8192;else throw Yr=hu,Fd}function Cu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Mc():536870912,t.lanes|=i,Za|=i)}function Tl(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function pb(t,i,a){var l=i.pendingProps;switch(Md(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ji(wt),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(za(i)?ns(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vd())),at(i),null;case 26:var h=i.type,m=i.memoizedState;return t===null?(ns(i),m!==null?(at(i),oy(i,m)):(at(i),Rf(i,h,null,l,a))):m?m!==t.memoizedState?(ns(i),at(i),oy(i,m)):(at(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ns(i),at(i),Rf(i,h,t,l,a)),null;case 27:if(ya(i),a=Ne.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ns(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return at(i),null}t=ue.current,za(i)?zg(i):(t=mv(h,l,a),i.stateNode=t,ns(i))}return at(i),null;case 5:if(ya(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ns(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return at(i),null}if(m=ue.current,za(i))zg(i);else{var v=Fu(Ne.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}m[At]=i,m[Ut]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=m;e:switch(Yt(m,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ns(i)}}return at(i),Rf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ns(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=Ne.current,za(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Gt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[At]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||iv(t.nodeValue,a)),t||js(i,!0)}else t=Fu(t).createTextNode(l),t[At]=i,i.stateNode=t}return at(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=za(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[At]=i}else Fr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),t=!1}else a=Vd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(An(i),i):(An(i),null);if((i.flags&128)!==0)throw Error(r(558))}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=za(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[At]=i}else Fr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=Vd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(An(i),i):(An(i),null)}return An(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Cu(i,i.updateQueue),at(i),null);case 4:return lt(),t===null&&$f(i.stateNode.containerInfo),at(i),null;case 10:return Ji(i.type),at(i),null;case 19:if(ee(_t),l=i.memoizedState,l===null)return at(i),null;if(h=(i.flags&128)!==0,m=l.rendering,m===null)if(h)Tl(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=pu(t),m!==null){for(i.flags|=128,Tl(l,!1),t=m.updateQueue,i.updateQueue=t,Cu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)kg(a,t),a=a.sibling;return ae(_t,_t.current&1|2),Pe&&Xi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&rn()>Ou&&(i.flags|=128,h=!0,Tl(l,!1),i.lanes=4194304)}else{if(!h)if(t=pu(m),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Cu(i,t),Tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Pe)return at(i),null}else 2*rn()-l.renderingStartTime>Ou&&a!==536870912&&(i.flags|=128,h=!0,Tl(l,!1),i.lanes=4194304);l.isBackwards?(m.sibling=i.child,i.child=m):(t=l.last,t!==null?t.sibling=m:i.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,a=_t.current,ae(_t,h?a&1|2:a&1),Pe&&Xi(i,l.treeForkCount),t):(at(i),null);case 22:case 23:return An(i),$d(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&Cu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ee(Qr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ji(wt),at(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function gb(t,i){switch(Md(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ji(wt),lt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ya(i),null;case 31:if(i.memoizedState!==null){if(An(i),i.alternate===null)throw Error(r(340));Fr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(An(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Fr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ee(_t),null;case 4:return lt(),null;case 10:return Ji(i.type),null;case 22:case 23:return An(i),$d(),t!==null&&ee(Qr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ji(wt),null;case 25:return null;default:return null}}function ly(t,i){switch(Md(i),i.tag){case 3:Ji(wt),lt();break;case 26:case 27:case 5:ya(i);break;case 4:lt();break;case 31:i.memoizedState!==null&&An(i);break;case 13:An(i);break;case 19:ee(_t);break;case 10:Ji(i.type);break;case 22:case 23:An(i),$d(),t!==null&&ee(Qr);break;case 24:Ji(wt)}}function bl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var m=a.create,v=a.inst;l=m(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){We(i,i.return,b)}}function Us(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=i;var I=a,q=b;try{q()}catch(K){We(h,I,K)}}}l=l.next}while(l!==m)}}catch(K){We(i,i.return,K)}}function cy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Zg(i,a)}catch(l){We(t,t.return,l)}}}function uy(t,i,a){a.props=Wr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function Al(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function Ii(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function hy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function Cf(t,i,a){try{var l=t.stateNode;Pb(l,t.type,a,i),l[Ut]=i}catch(h){We(t,t.return,h)}}function dy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qs(t.type)||t.tag===4}function Nf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function If(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(l!==4&&(l===27&&Qs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(If(t,i,a),t=t.sibling;t!==null;)If(t,i,a),t=t.sibling}function Nu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Qs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Nu(t,i,a),t=t.sibling;t!==null;)Nu(t,i,a),t=t.sibling}function fy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Yt(i,l,a),i[At]=t,i[Ut]=a}catch(m){We(t,t.return,m)}}var is=!1,Nt=!1,Df=!1,my=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function _b(t,i){if(t=t.containerInfo,Jf=Xu,t=wg(t),Ad(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,b=-1,I=-1,q=0,K=0,Z=t,F=null;t:for(;;){for(var Q;Z!==a||h!==0&&Z.nodeType!==3||(b=v+h),Z!==m||l!==0&&Z.nodeType!==3||(I=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(Q=Z.firstChild)!==null;)F=Z,Z=Q;for(;;){if(Z===t)break t;if(F===a&&++q===h&&(b=v),F===m&&++K===l&&(I=v),(Q=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=Q}a=b===-1||I===-1?null:{start:b,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zf={focusedElem:t,selectionRange:a},Xu=!1,Bt=i;Bt!==null;)if(i=Bt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Bt=t;else for(;Bt!==null;){switch(i=Bt,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=i,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var he=Wr(a.type,h);t=l.getSnapshotBeforeUpdate(he,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){We(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)nm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Bt=t;break}Bt=i.return}}function py(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:rs(t,a),l&4&&bl(5,a);break;case 1:if(rs(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=Wr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&cy(a),l&512&&Al(a,a.return);break;case 3:if(rs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Zg(t,i)}catch(v){We(a,a.return,v)}}break;case 27:i===null&&l&4&&fy(a);case 26:case 5:rs(t,a),i===null&&l&4&&hy(a),l&512&&Al(a,a.return);break;case 12:rs(t,a);break;case 31:rs(t,a),l&4&&yy(t,a);break;case 13:rs(t,a),l&4&&vy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=wb.bind(null,a),Qb(t,a))));break;case 22:if(l=a.memoizedState!==null||is,!l){i=i!==null&&i.memoizedState!==null||Nt,h=is;var m=Nt;is=l,(Nt=i)&&!m?as(t,a,(a.subtreeFlags&8772)!==0):rs(t,a),is=h,Nt=m}break;case 30:break;default:rs(t,a)}}function gy(t){var i=t.alternate;i!==null&&(t.alternate=null,gy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Aa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,un=!1;function ss(t,i,a){for(a=a.child;a!==null;)_y(t,i,a),a=a.sibling}function _y(t,i,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:Nt||Ii(a,i),ss(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Ii(a,i);var l=ut,h=un;Qs(a.type)&&(ut=a.stateNode,un=!1),ss(t,i,a),jl(a.stateNode),ut=l,un=h;break;case 5:Nt||Ii(a,i);case 6:if(l=ut,h=un,ut=null,ss(t,i,a),ut=l,un=h,ut!==null)if(un)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(m){We(a,i,m)}else try{ut.removeChild(a.stateNode)}catch(m){We(a,i,m)}break;case 18:ut!==null&&(un?(t=ut,cv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),oo(t)):cv(ut,a.stateNode));break;case 4:l=ut,h=un,ut=a.stateNode.containerInfo,un=!0,ss(t,i,a),ut=l,un=h;break;case 0:case 11:case 14:case 15:Us(2,a,i),Nt||Us(4,a,i),ss(t,i,a);break;case 1:Nt||(Ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&uy(a,i,l)),ss(t,i,a);break;case 21:ss(t,i,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,ss(t,i,a),Nt=l;break;default:ss(t,i,a)}}function yy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{oo(t)}catch(a){We(i,i.return,a)}}}function vy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{oo(t)}catch(a){We(i,i.return,a)}}function yb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new my),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new my),i;default:throw Error(r(435,t.tag))}}function Iu(t,i){var a=yb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Rb.bind(null,t,l);l.then(h,h)}})}function hn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=t,v=i,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Qs(b.type)){ut=b.stateNode,un=!1;break e}break;case 5:ut=b.stateNode,un=!1;break e;case 3:case 4:ut=b.stateNode.containerInfo,un=!0;break e}b=b.return}if(ut===null)throw Error(r(160));_y(m,v,h),ut=null,un=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ey(i,t),i=i.sibling}var ei=null;function Ey(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(i,t),dn(t),l&4&&(Us(3,t,t.return),bl(3,t),Us(5,t,t.return));break;case 1:hn(i,t),dn(t),l&512&&(Nt||a===null||Ii(a,a.return)),l&64&&is&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ei;if(hn(i,t),dn(t),l&512&&(Nt||a===null||Ii(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[gi]||m[At]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),Yt(m,l,a),m[At]=t,St(m),l=m;break e;case"link":var v=Ev("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(m=v[b],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}m=h.createElement(l),Yt(m,l,a),h.head.appendChild(m);break;case"meta":if(v=Ev("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(m=v[b],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}m=h.createElement(l),Yt(m,l,a),h.head.appendChild(m);break;default:throw Error(r(468,l))}m[At]=t,St(m),l=m}t.stateNode=l}else Tv(h,t.type,t.stateNode);else t.stateNode=vv(h,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Tv(h,t.type,t.stateNode):vv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Cf(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(i,t),dn(t),l&512&&(Nt||a===null||Ii(a,a.return)),a!==null&&l&4&&Cf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,t),dn(t),l&512&&(Nt||a===null||Ii(a,a.return)),t.flags&32){h=t.stateNode;try{cn(h,"")}catch(he){We(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Cf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Df=!0);break;case 6:if(hn(i,t),dn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){We(t,t.return,he)}}break;case 3:if(Qu=null,h=ei,ei=Hu(i.containerInfo),hn(i,t),ei=h,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{oo(i.containerInfo)}catch(he){We(t,t.return,he)}Df&&(Df=!1,Ty(t));break;case 4:l=ei,ei=Hu(t.stateNode.containerInfo),hn(i,t),dn(t),ei=l;break;case 12:hn(i,t),dn(t);break;case 31:hn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Iu(t,l)));break;case 13:hn(i,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ju=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Iu(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=is,K=Nt;if(is=q||h,Nt=K||I,hn(i,t),Nt=K,is=q,dn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||is||Nt||Jr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(m=I.stateNode,h)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=I.stateNode;var Z=I.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(he){We(I,I.return,he)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(he){We(I,I.return,he)}}}else if(i.tag===18){if(a===null){I=i;try{var Q=I.stateNode;h?uv(Q,!0):uv(I.stateNode,!1)}catch(he){We(I,I.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Iu(t,a))));break;case 19:hn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Iu(t,l)));break;case 30:break;case 21:break;default:hn(i,t),dn(t)}}function dn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(dy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,m=Nf(t);Nu(t,m,h);break;case 5:var v=a.stateNode;a.flags&32&&(cn(v,""),a.flags&=-33);var b=Nf(t);Nu(t,b,v);break;case 3:case 4:var I=a.stateNode.containerInfo,q=Nf(t);If(t,q,I);break;default:throw Error(r(161))}}catch(K){We(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ty(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ty(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function rs(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)py(t,i.alternate,i),i=i.sibling}function Jr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Us(4,i,i.return),Jr(i);break;case 1:Ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&uy(i,i.return,a),Jr(i);break;case 27:jl(i.stateNode);case 26:case 5:Ii(i,i.return),Jr(i);break;case 22:i.memoizedState===null&&Jr(i);break;case 30:Jr(i);break;default:Jr(i)}t=t.sibling}}function as(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,m=i,v=m.flags;switch(m.tag){case 0:case 11:case 15:as(h,m,a),bl(4,m);break;case 1:if(as(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){We(l,l.return,q)}if(l=m,h=l.updateQueue,h!==null){var b=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Jg(I[h],b)}catch(q){We(l,l.return,q)}}a&&v&64&&cy(m),Al(m,m.return);break;case 27:fy(m);case 26:case 5:as(h,m,a),a&&l===null&&v&4&&hy(m),Al(m,m.return);break;case 12:as(h,m,a);break;case 31:as(h,m,a),a&&v&4&&yy(h,m);break;case 13:as(h,m,a),a&&v&4&&vy(h,m);break;case 22:m.memoizedState===null&&as(h,m,a),Al(m,m.return);break;case 30:break;default:as(h,m,a)}i=i.sibling}}function jf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&cl(a))}function Of(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t))}function ti(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)by(t,i,a,l),i=i.sibling}function by(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ti(t,i,a,l),h&2048&&bl(9,i);break;case 1:ti(t,i,a,l);break;case 3:ti(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t)));break;case 12:if(h&2048){ti(t,i,a,l),t=i.stateNode;try{var m=i.memoizedProps,v=m.id,b=m.onPostCommit;typeof b=="function"&&b(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){We(i,i.return,I)}}else ti(t,i,a,l);break;case 31:ti(t,i,a,l);break;case 13:ti(t,i,a,l);break;case 23:break;case 22:m=i.stateNode,v=i.alternate,i.memoizedState!==null?m._visibility&2?ti(t,i,a,l):Sl(t,i):m._visibility&2?ti(t,i,a,l):(m._visibility|=2,Xa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&jf(v,i);break;case 24:ti(t,i,a,l),h&2048&&Of(i.alternate,i);break;default:ti(t,i,a,l)}}function Xa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,v=i,b=a,I=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:Xa(m,v,b,I,h),bl(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?Xa(m,v,b,I,h):Sl(m,v):(K._visibility|=2,Xa(m,v,b,I,h)),h&&q&2048&&jf(v.alternate,v);break;case 24:Xa(m,v,b,I,h),h&&q&2048&&Of(v.alternate,v);break;default:Xa(m,v,b,I,h)}i=i.sibling}}function Sl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Sl(a,l),h&2048&&jf(l.alternate,l);break;case 24:Sl(a,l),h&2048&&Of(l.alternate,l);break;default:Sl(a,l)}i=i.sibling}}var xl=8192;function Wa(t,i,a){if(t.subtreeFlags&xl)for(t=t.child;t!==null;)Ay(t,i,a),t=t.sibling}function Ay(t,i,a){switch(t.tag){case 26:Wa(t,i,a),t.flags&xl&&t.memoizedState!==null&&sA(a,ei,t.memoizedState,t.memoizedProps);break;case 5:Wa(t,i,a);break;case 3:case 4:var l=ei;ei=Hu(t.stateNode.containerInfo),Wa(t,i,a),ei=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=xl,xl=16777216,Wa(t,i,a),xl=l):Wa(t,i,a));break;default:Wa(t,i,a)}}function Sy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function wl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,wy(l,t)}Sy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xy(t),t=t.sibling}function xy(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&Us(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Du(t)):wl(t);break;default:wl(t)}}function Du(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,wy(l,t)}Sy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Us(8,i,i.return),Du(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Du(i));break;default:Du(i)}t=t.sibling}}function wy(t,i){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Us(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var h=l.sibling,m=l.return;if(gy(l),l===a){Bt=null;break e}if(h!==null){h.return=m,Bt=h;break e}Bt=m}}}var vb={getCacheForType:function(t){var i=Qt(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Qt(wt).controller.signal}},Eb=typeof WeakMap=="function"?WeakMap:Map,Ge=0,it=null,De=null,Oe=0,Xe=0,Sn=null,zs=!1,Ja=!1,Mf=!1,os=0,ft=0,Bs=0,Zr=0,kf=0,xn=0,Za=0,Rl=null,fn=null,Vf=!1,ju=0,Ry=0,Ou=1/0,Mu=null,qs=null,Lt=0,Fs=null,eo=null,ls=0,Lf=0,Pf=null,Cy=null,Cl=0,Uf=null;function wn(){return(Ge&2)!==0&&Oe!==0?Oe&-Oe:Y.T!==null?Gf():kc()}function Ny(){if(xn===0)if((Oe&536870912)===0||Pe){var t=wr;wr<<=1,(wr&3932160)===0&&(wr=262144),xn=t}else xn=536870912;return t=bn.current,t!==null&&(t.flags|=32),xn}function mn(t,i,a){(t===it&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(to(t,0),Hs(t,Oe,xn,!1)),Rr(t,a),((Ge&2)===0||t!==it)&&(t===it&&((Ge&2)===0&&(Zr|=a),ft===4&&Hs(t,Oe,xn,!1)),Di(t))}function Iy(t,i,a){if((Ge&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Gn(t,i),h=l?Ab(t,i):Bf(t,i,!0),m=l;do{if(h===0){Ja&&!l&&Hs(t,i,0,!1);break}else{if(a=t.current.alternate,m&&!Tb(a)){h=Bf(t,i,!1),m=!1;continue}if(h===2){if(m=i,t.errorRecoveryDisabledLanes&m)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var b=t;h=Rl;var I=b.current.memoizedState.isDehydrated;if(I&&(to(b,v).flags|=256),v=Bf(b,v,!1),v!==2){if(Mf&&!I){b.errorRecoveryDisabledLanes|=m,Zr|=m,h=4;break e}m=fn,fn=h,m!==null&&(fn===null?fn=m:fn.push.apply(fn,m))}h=v}if(m=!1,h!==2)continue}}if(h===1){to(t,0),Hs(t,i,0,!0);break}e:{switch(l=t,m=h,m){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Hs(l,i,xn,!zs);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=ju+300-rn(),10<h)){if(Hs(l,i,xn,!zs),fi(l,0,!0)!==0)break e;ls=i,l.timeoutHandle=ov(Dy.bind(null,l,a,fn,Mu,Vf,i,xn,Zr,Za,zs,m,"Throttled",-0,0),h);break e}Dy(l,a,fn,Mu,Vf,i,xn,Zr,Za,zs,m,null,-0,0)}}break}while(!0);Di(t)}function Dy(t,i,a,l,h,m,v,b,I,q,K,Z,F,Q){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},Ay(i,m,Z);var he=(m&62914560)===m?ju-rn():(m&4194048)===m?Ry-rn():0;if(he=rA(Z,he),he!==null){ls=m,t.cancelPendingCommit=he(Uy.bind(null,t,i,m,a,l,h,v,b,I,K,Z,null,F,Q)),Hs(t,m,v,!q);return}}Uy(t,i,m,a,l,h,v,b,I)}function Tb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!En(m(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hs(t,i,a,l){i&=~kf,i&=~Zr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var m=31-pt(h),v=1<<m;l[m]=-1,h&=~v}a!==0&&Cr(t,a,i)}function ku(){return(Ge&6)===0?(Nl(0),!1):!0}function zf(){if(De!==null){if(Xe===0)var t=De.return;else t=De,Wi=Hr=null,tf(t),Ga=null,hl=0,t=De;for(;t!==null;)ly(t.alternate,t),t=t.return;De=null}}function to(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Bb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ls=0,zf(),it=t,De=a=$i(t.current,null),Oe=i,Xe=0,Sn=null,zs=!1,Ja=Gn(t,i),Mf=!1,Za=xn=kf=Zr=Bs=ft=0,fn=Rl=null,Vf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-pt(l),m=1<<h;i|=t[h],l&=~m}return os=i,nu(),a}function jy(t,i){Ce=null,Y.H=vl,i===Ha||i===uu?(i=Yg(),Xe=3):i===Fd?(i=Yg(),Xe=4):Xe=i===yf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,De===null&&(ft=1,Su(t,kn(i,t.current)))}function Oy(){var t=bn.current;return t===null?!0:(Oe&4194048)===Oe?Un===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Un:!1}function My(){var t=Y.H;return Y.H=vl,t===null?vl:t}function ky(){var t=Y.A;return Y.A=vb,t}function Vu(){ft=4,zs||(Oe&4194048)!==Oe&&bn.current!==null||(Ja=!0),(Bs&134217727)===0&&(Zr&134217727)===0||it===null||Hs(it,Oe,xn,!1)}function Bf(t,i,a){var l=Ge;Ge|=2;var h=My(),m=ky();(it!==t||Oe!==i)&&(Mu=null,to(t,i)),i=!1;var v=ft;e:do try{if(Xe!==0&&De!==null){var b=De,I=Sn;switch(Xe){case 8:zf(),v=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(i=!0);var q=Xe;if(Xe=0,Sn=null,no(t,b,I,q),a&&Ja){v=0;break e}break;default:q=Xe,Xe=0,Sn=null,no(t,b,I,q)}}bb(),v=ft;break}catch(K){jy(t,K)}while(!0);return i&&t.shellSuspendCounter++,Wi=Hr=null,Ge=l,Y.H=h,Y.A=m,De===null&&(it=null,Oe=0,nu()),v}function bb(){for(;De!==null;)Vy(De)}function Ab(t,i){var a=Ge;Ge|=2;var l=My(),h=ky();it!==t||Oe!==i?(Mu=null,Ou=rn()+500,to(t,i)):Ja=Gn(t,i);e:do try{if(Xe!==0&&De!==null){i=De;var m=Sn;t:switch(Xe){case 1:Xe=0,Sn=null,no(t,i,m,1);break;case 2:case 9:if(Qg(m)){Xe=0,Sn=null,Ly(i);break}i=function(){Xe!==2&&Xe!==9||it!==t||(Xe=7),Di(t)},m.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Qg(m)?(Xe=0,Sn=null,Ly(i)):(Xe=0,Sn=null,no(t,i,m,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var b=De;if(v?bv(v):b.stateNode.complete){Xe=0,Sn=null;var I=b.sibling;if(I!==null)De=I;else{var q=b.return;q!==null?(De=q,Lu(q)):De=null}break t}}Xe=0,Sn=null,no(t,i,m,5);break;case 6:Xe=0,Sn=null,no(t,i,m,6);break;case 8:zf(),ft=6;break e;default:throw Error(r(462))}}Sb();break}catch(K){jy(t,K)}while(!0);return Wi=Hr=null,Y.H=l,Y.A=h,Ge=a,De!==null?0:(it=null,Oe=0,nu(),ft)}function Sb(){for(;De!==null&&!gd();)Vy(De)}function Vy(t){var i=ay(t.alternate,t,os);t.memoizedProps=t.pendingProps,i===null?Lu(t):De=i}function Ly(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=ey(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=ey(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:tf(i);default:ly(a,i),i=De=kg(i,os),i=ay(a,i,os)}t.memoizedProps=t.pendingProps,i===null?Lu(t):De=i}function no(t,i,a,l){Wi=Hr=null,tf(i),Ga=null,hl=0;var h=i.return;try{if(db(t,h,i,a,Oe)){ft=1,Su(t,kn(a,t.current)),De=null;return}}catch(m){if(h!==null)throw De=h,m;ft=1,Su(t,kn(a,t.current)),De=null;return}i.flags&32768?(Pe||l===1?t=!0:Ja||(Oe&536870912)!==0?t=!1:(zs=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Py(i,t)):Lu(i)}function Lu(t){var i=t;do{if((i.flags&32768)!==0){Py(i,zs);return}t=i.return;var a=pb(i.alternate,i,os);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ft===0&&(ft=5)}function Py(t,i){do{var a=gb(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ft=6,De=null}function Uy(t,i,a,l,h,m,v,b,I){t.cancelPendingCommit=null;do Pu();while(Lt!==0);if((Ge&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(m=i.lanes|i.childLanes,m|=Cd,vd(t,a,m,v,b,I),t===it&&(De=it=null,Oe=0),eo=i,Fs=t,ls=a,Lf=m,Pf=h,Cy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Cb(Es,function(){return Hy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=re.p,re.p=2,v=Ge,Ge|=4;try{_b(t,i,a)}finally{Ge=v,re.p=h,Y.T=l}}Lt=1,zy(),By(),qy()}}function zy(){if(Lt===1){Lt=0;var t=Fs,i=eo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=re.p;re.p=2;var h=Ge;Ge|=4;try{Ey(i,t);var m=Zf,v=wg(t.containerInfo),b=m.focusedElem,I=m.selectionRange;if(v!==b&&b&&b.ownerDocument&&xg(b.ownerDocument.documentElement,b)){if(I!==null&&Ad(b)){var q=I.start,K=I.end;if(K===void 0&&(K=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min(K,b.value.length);else{var Z=b.ownerDocument||document,F=Z&&Z.defaultView||window;if(F.getSelection){var Q=F.getSelection(),he=b.textContent.length,ye=Math.min(I.start,he),nt=I.end===void 0?ye:Math.min(I.end,he);!Q.extend&&ye>nt&&(v=nt,nt=ye,ye=v);var L=Sg(b,ye),j=Sg(b,nt);if(L&&j&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==j.node||Q.focusOffset!==j.offset)){var B=Z.createRange();B.setStart(L.node,L.offset),Q.removeAllRanges(),ye>nt?(Q.addRange(B),Q.extend(j.node,j.offset)):(B.setEnd(j.node,j.offset),Q.addRange(B))}}}}for(Z=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&Z.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Z.length;b++){var X=Z[b];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Xu=!!Jf,Zf=Jf=null}finally{Ge=h,re.p=l,Y.T=a}}t.current=i,Lt=2}}function By(){if(Lt===2){Lt=0;var t=Fs,i=eo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=re.p;re.p=2;var h=Ge;Ge|=4;try{py(t,i.alternate,i)}finally{Ge=h,re.p=l,Y.T=a}}Lt=3}}function qy(){if(Lt===4||Lt===3){Lt=0,Cc();var t=Fs,i=eo,a=ls,l=Cy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,eo=Fs=null,Fy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(qs=null),Gi(a),i=i.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=re.p,re.p=2,Y.T=null;try{for(var m=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];m(b.value,{componentStack:b.stack})}}finally{Y.T=i,re.p=h}}(ls&3)!==0&&Pu(),Di(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Uf?Cl++:(Cl=0,Uf=t):Cl=0,Nl(0)}}function Fy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,cl(i)))}function Pu(){return zy(),By(),qy(),Hy()}function Hy(){if(Lt!==5)return!1;var t=Fs,i=Lf;Lf=0;var a=Gi(ls),l=Y.T,h=re.p;try{re.p=32>a?32:a,Y.T=null,a=Pf,Pf=null;var m=Fs,v=ls;if(Lt=0,eo=Fs=null,ls=0,(Ge&6)!==0)throw Error(r(331));var b=Ge;if(Ge|=4,xy(m.current),by(m,m.current,v,a),Ge=b,Nl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Hn,m)}catch{}return!0}finally{re.p=h,Y.T=l,Fy(t,i)}}function Gy(t,i,a){i=kn(a,i),i=_f(t.stateNode,i,2),t=Vs(t,i,2),t!==null&&(Rr(t,2),Di(t))}function We(t,i,a){if(t.tag===3)Gy(t,t,a);else for(;i!==null;){if(i.tag===3){Gy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qs===null||!qs.has(l))){t=kn(a,t),a=Q_(2),l=Vs(i,a,2),l!==null&&(K_(a,l,i,t),Rr(l,2),Di(l));break}}i=i.return}}function qf(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Eb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Mf=!0,h.add(a),t=xb.bind(null,t,i,a),i.then(t,t))}function xb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(Oe&a)===a&&(ft===4||ft===3&&(Oe&62914560)===Oe&&300>rn()-ju?(Ge&2)===0&&to(t,0):kf|=a,Za===Oe&&(Za=0)),Di(t)}function Qy(t,i){i===0&&(i=Mc()),t=Br(t,i),t!==null&&(Rr(t,i),Di(t))}function wb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Qy(t,a)}function Rb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Qy(t,a)}function Cb(t,i){return Vt(t,i)}var Uu=null,io=null,Ff=!1,zu=!1,Hf=!1,Gs=0;function Di(t){t!==io&&t.next===null&&(io===null?Uu=io=t:io=io.next=t),zu=!0,Ff||(Ff=!0,Ib())}function Nl(t,i){if(!Hf&&zu){Hf=!0;do for(var a=!1,l=Uu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var v=l.suspendedLanes,b=l.pingedLanes;m=(1<<31-pt(42|t)+1)-1,m&=h&~(v&~b),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Xy(l,m))}else m=Oe,m=fi(l,l===it?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Gn(l,m)||(a=!0,Xy(l,m));l=l.next}while(a);Hf=!1}}function Nb(){Ky()}function Ky(){zu=Ff=!1;var t=0;Gs!==0&&zb()&&(t=Gs);for(var i=rn(),a=null,l=Uu;l!==null;){var h=l.next,m=Yy(l,i);m===0?(l.next=null,a===null?Uu=h:a.next=h,h===null&&(io=a)):(a=l,(t!==0||(m&3)!==0)&&(zu=!0)),l=h}Lt!==0&&Lt!==5||Nl(t),Gs!==0&&(Gs=0)}function Yy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var v=31-pt(m),b=1<<v,I=h[v];I===-1?((b&a)===0||(b&l)!==0)&&(h[v]=yd(b,i)):I<=i&&(t.expiredLanes|=b),m&=~b}if(i=it,a=Oe,a=fi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Gn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&vs(l),Gi(a)){case 2:case 8:a=Uo;break;case 32:a=Es;break;case 268435456:a=Nc;break;default:a=Es}return l=$y.bind(null,t),a=Vt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&vs(l),t.callbackPriority=2,t.callbackNode=null,2}function $y(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Pu()&&t.callbackNode!==a)return null;var l=Oe;return l=fi(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Iy(t,l,i),Yy(t,rn()),t.callbackNode!=null&&t.callbackNode===a?$y.bind(null,t):null)}function Xy(t,i){if(Pu())return null;Iy(t,i,!0)}function Ib(){qb(function(){(Ge&6)!==0?Vt(Po,Nb):Ky()})}function Gf(){if(Gs===0){var t=qa;t===0&&(t=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Gs=t}return Gs}function Wy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ra(""+t)}function Jy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Db(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var m=Wy((h[Ut]||null).action),v=l.submitter;v&&(i=(i=v[Ut]||null)?Wy(i.formAction):v.getAttribute("formAction"),i!==null&&(m=i,v=null));var b=new Si("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gs!==0){var I=v?Jy(h,v):new FormData(h);hf(a,{pending:!0,data:I,method:h.method,action:m},null,I)}}else typeof m=="function"&&(b.preventDefault(),I=v?Jy(h,v):new FormData(h),hf(a,{pending:!0,data:I,method:h.method,action:m},m,I))},currentTarget:h}]})}}for(var Qf=0;Qf<Rd.length;Qf++){var Kf=Rd[Qf],jb=Kf.toLowerCase(),Ob=Kf[0].toUpperCase()+Kf.slice(1);Zn(jb,"on"+Ob)}Zn(Ng,"onAnimationEnd"),Zn(Ig,"onAnimationIteration"),Zn(Dg,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn($T,"onTransitionRun"),Zn(XT,"onTransitionStart"),Zn(WT,"onTransitionCancel"),Zn(jg,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function Zy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var v=l.length-1;0<=v;v--){var b=l[v],I=b.instance,q=b.currentTarget;if(b=b.listener,I!==m&&h.isPropagationStopped())break e;m=b,h.currentTarget=q;try{m(h)}catch(K){tu(K)}h.currentTarget=null,m=I}else for(v=0;v<l.length;v++){if(b=l[v],I=b.instance,q=b.currentTarget,b=b.listener,I!==m&&h.isPropagationStopped())break e;m=b,h.currentTarget=q;try{m(h)}catch(K){tu(K)}h.currentTarget=null,m=I}}}}function je(t,i){var a=i[ba];a===void 0&&(a=i[ba]=new Set);var l=t+"__bubble";a.has(l)||(ev(i,t,2,!1),a.add(l))}function Yf(t,i,a){var l=0;i&&(l|=4),ev(a,t,l,i)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function $f(t){if(!t[Bu]){t[Bu]=!0,qo.forEach(function(a){a!=="selectionchange"&&(Mb.has(a)||Yf(a,!1,t),Yf(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Bu]||(i[Bu]=!0,Yf("selectionchange",!1,i))}}function ev(t,i,a,l){switch(Nv(i)){case 2:var h=lA;break;case 8:h=cA;break;default:h=um}a=h.bind(null,i,a,t),h=void 0,!Or||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Xf(t,i,a,l,h){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=_i(b),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=m=v;continue e}b=b.parentNode}}l=l.return}ws(function(){var q=m,K=Dn(a),Z=[];e:{var F=Og.get(t);if(F!==void 0){var Q=Si,he=t;switch(t){case"keypress":if(kr(a)===0)break e;case"keydown":case"keyup":Q=Jc;break;case"focusin":he="focus",Q=Lr;break;case"focusout":he="blur",Q=Lr;break;case"beforeblur":case"afterblur":Q=Lr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=_;break;case Ng:case Ig:case Dg:Q=Gc;break;case jg:Q=S;break;case"scroll":case"scrollend":Q=el;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=Qc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Yi;break;case"toggle":case"beforetoggle":Q=Re}var ye=(i&4)!==0,nt=!ye&&(t==="scroll"||t==="scrollend"),L=ye?F!==null?F+"Capture":null:F;ye=[];for(var j=q,B;j!==null;){var X=j;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||L===null||(X=$n(j,L),X!=null&&ye.push(Dl(j,X,B))),nt)break;j=j.return}0<ye.length&&(F=new Q(F,he,null,a,K),Z.push({event:F,listeners:ye}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&a!==Wo&&(he=a.relatedTarget||a.fromElement)&&(_i(he)||he[pi]))break e;if((Q||F)&&(F=K.window===K?K:(F=K.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(he=a.relatedTarget||a.toElement,Q=q,he=he?_i(he):null,he!==null&&(nt=c(he),ye=he.tag,he!==nt||ye!==5&&ye!==27&&ye!==6)&&(he=null)):(Q=null,he=q),Q!==he)){if(ye=tl,X="onMouseLeave",L="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Yi,X="onPointerLeave",L="onPointerEnter",j="pointer"),nt=Q==null?F:yn(Q),B=he==null?F:yn(he),F=new ye(X,j+"leave",Q,a,K),F.target=nt,F.relatedTarget=B,X=null,_i(K)===q&&(ye=new ye(L,j+"enter",he,a,K),ye.target=B,ye.relatedTarget=nt,X=ye),nt=X,Q&&he)t:{for(ye=kb,L=Q,j=he,B=0,X=L;X;X=ye(X))B++;X=0;for(var pe=j;pe;pe=ye(pe))X++;for(;0<B-X;)L=ye(L),B--;for(;0<X-B;)j=ye(j),X--;for(;B--;){if(L===j||j!==null&&L===j.alternate){ye=L;break t}L=ye(L),j=ye(j)}ye=null}else ye=null;Q!==null&&tv(Z,F,Q,ye,!1),he!==null&&nt!==null&&tv(Z,nt,he,ye,!0)}}e:{if(F=q?yn(q):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var qe=yg;else if(gg(F))if(vg)qe=QT;else{qe=HT;var fe=FT}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&wa(q.elementType)&&(qe=yg):qe=GT;if(qe&&(qe=qe(t,q))){_g(Z,qe,a,K);break e}fe&&fe(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Yo(F,"number",F.value)}switch(fe=q?yn(q):window,t){case"focusin":(gg(fe)||fe.contentEditable==="true")&&(Ma=fe,Sd=q,al=null);break;case"focusout":al=Sd=Ma=null;break;case"mousedown":xd=!0;break;case"contextmenu":case"mouseup":case"dragend":xd=!1,Rg(Z,a,K);break;case"selectionchange":if(YT)break;case"keydown":case"keyup":Rg(Z,a,K)}var Ie;if(He)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Oa?Pr(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Ri&&a.locale!=="ko"&&(Oa||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Oa&&(Ie=Zo()):(Ai=K,Jo="value"in Ai?Ai.value:Ai.textContent,Oa=!0)),fe=qu(q,Me),0<fe.length&&(Me=new wi(Me,t,null,a,K),Z.push({event:Me,listeners:fe}),Ie?Me.data=Ie:(Ie=ja(a),Ie!==null&&(Me.data=Ie)))),(Ie=On?UT(t,a):zT(t,a))&&(Me=qu(q,"onBeforeInput"),0<Me.length&&(fe=new wi("onBeforeInput","beforeinput",null,a,K),Z.push({event:fe,listeners:Me}),fe.data=Ie)),Db(Z,t,q,a,K)}Zy(Z,i)})}function Dl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function qu(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=$n(t,a),h!=null&&l.unshift(Dl(t,h,m)),h=$n(t,i),h!=null&&l.push(Dl(t,h,m))),t.tag===3)return l;t=t.return}return[]}function kb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function tv(t,i,a,l,h){for(var m=i._reactName,v=[];a!==null&&a!==l;){var b=a,I=b.alternate,q=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||q===null||(I=q,h?(q=$n(a,m),q!=null&&v.unshift(Dl(a,q,I))):h||(q=$n(a,m),q!=null&&v.push(Dl(a,q,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var Vb=/\r\n?/g,Lb=/\u0000|\uFFFD/g;function nv(t){return(typeof t=="string"?t:""+t).replace(Vb,`
`).replace(Lb,"")}function iv(t,i){return i=nv(i),nv(t)===i}function tt(t,i,a,l,h,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||cn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&cn(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":Xo(t,l,m);break;case"data":if(i!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ra(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",h.name,h,null),tt(t,i,"formEncType",h.formEncType,h,null),tt(t,i,"formMethod",h.formMethod,h,null),tt(t,i,"formTarget",h.formTarget,h,null)):(tt(t,i,"encType",h.encType,h,null),tt(t,i,"method",h.method,h,null),tt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ra(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ra(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":je("beforetoggle",t),je("toggle",t),Sa(t,"popover",l);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Sa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qc.get(a)||a,Sa(t,a,l))}}function Wf(t,i,a,l,h,m){switch(a){case"style":Xo(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?cn(t,l):(typeof l=="number"||typeof l=="bigint")&&cn(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),m=t[Ut]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(i,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Sa(t,a,l)}}}function Yt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var v=a[m];if(v!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,m,v,a,null)}}h&&tt(t,i,"srcSet",a.srcSet,a,null),l&&tt(t,i,"src",a.src,a,null);return;case"input":je("invalid",t);var b=m=v=h=null,I=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":v=K;break;case"checked":I=K;break;case"defaultChecked":q=K;break;case"value":m=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:tt(t,i,l,K,a,null)}}Uc(t,m,b,I,q,v,h,!1);return;case"select":je("invalid",t),l=v=m=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":m=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:tt(t,i,h,b,a,null)}i=m,a=v,t.multiple=!!l,i!=null?bs(t,!!l,i,!1):a!=null&&bs(t,!!l,a,!0);return;case"textarea":je("invalid",t),m=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":m=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:tt(t,i,v,b,a,null)}As(t,l,h,m);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":tt(t,i,I,l,a,null));return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<Il.length;l++)je(Il[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,q,l,a,null)}return;default:if(wa(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Wf(t,i,K,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&tt(t,i,b,l,a,null))}function Pb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,v=null,b=null,I=null,q=null,K=null;for(Q in a){var Z=a[Q];if(a.hasOwnProperty(Q)&&Z!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(Q)||tt(t,i,Q,null,l,Z)}}for(var F in l){var Q=l[F];if(Z=a[F],l.hasOwnProperty(F)&&(Q!=null||Z!=null))switch(F){case"type":m=Q;break;case"name":h=Q;break;case"checked":q=Q;break;case"defaultChecked":K=Q;break;case"value":v=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:Q!==Z&&tt(t,i,F,Q,l,Z)}}xa(t,v,b,I,q,K,m,h);return;case"select":Q=v=b=F=null;for(m in a)if(I=a[m],a.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(m)||tt(t,i,m,null,l,I)}for(h in l)if(m=l[h],I=a[h],l.hasOwnProperty(h)&&(m!=null||I!=null))switch(h){case"value":F=m;break;case"defaultValue":b=m;break;case"multiple":v=m;default:m!==I&&tt(t,i,h,m,l,I)}i=b,a=v,l=Q,F!=null?bs(t,!!a,F,!1):!!l!=!!a&&(i!=null?bs(t,!!a,i,!0):bs(t,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:tt(t,i,b,null,l,h)}for(v in l)if(h=l[v],m=a[v],l.hasOwnProperty(v)&&(h!=null||m!=null))switch(v){case"value":F=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==m&&tt(t,i,v,h,l,m)}zc(t,F,Q);return;case"option":for(var he in a)F=a[he],a.hasOwnProperty(he)&&F!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:tt(t,i,he,null,l,F));for(I in l)F=l[I],Q=a[I],l.hasOwnProperty(I)&&F!==Q&&(F!=null||Q!=null)&&(I==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":tt(t,i,I,F,l,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)F=a[ye],a.hasOwnProperty(ye)&&F!=null&&!l.hasOwnProperty(ye)&&tt(t,i,ye,null,l,F);for(q in l)if(F=l[q],Q=a[q],l.hasOwnProperty(q)&&F!==Q&&(F!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:tt(t,i,q,F,l,Q)}return;default:if(wa(i)){for(var nt in a)F=a[nt],a.hasOwnProperty(nt)&&F!==void 0&&!l.hasOwnProperty(nt)&&Wf(t,i,nt,void 0,l,F);for(K in l)F=l[K],Q=a[K],!l.hasOwnProperty(K)||F===Q||F===void 0&&Q===void 0||Wf(t,i,K,F,l,Q);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&tt(t,i,L,null,l,F);for(Z in l)F=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||F===Q||F==null&&Q==null||tt(t,i,Z,F,l,Q)}function sv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ub(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],m=h.transferSize,v=h.initiatorType,b=h.duration;if(m&&b&&sv(v)){for(v=0,b=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],q=I.startTime;if(q>b)break;var K=I.transferSize,Z=I.initiatorType;K&&sv(Z)&&(I=I.responseEnd,v+=K*(I<b?1:(b-q)/(I-q)))}if(--l,i+=8*(m+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Jf=null,Zf=null;function Fu(t){return t.nodeType===9?t:t.ownerDocument}function rv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function av(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function em(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var tm=null;function zb(){var t=window.event;return t&&t.type==="popstate"?t===tm?!1:(tm=t,!0):(tm=null,!1)}var ov=typeof setTimeout=="function"?setTimeout:void 0,Bb=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,qb=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(t){return lv.resolve(null).then(t).catch(Fb)}:ov;function Fb(t){setTimeout(function(){throw t})}function Qs(t){return t==="head"}function cv(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),oo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")jl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,jl(a);for(var m=a.firstChild;m;){var v=m.nextSibling,b=m.nodeName;m[gi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=v}}else a==="body"&&jl(t.ownerDocument.body);a=h}while(a);oo(i)}function uv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function nm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nm(a),Aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Hb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function Gb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function hv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=zn(t.nextSibling),t===null))return null;return t}function im(t){return t.data==="$?"||t.data==="$~"}function sm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Qb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var rm=null;function dv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return zn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function fv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function mv(t,i,a){switch(i=Fu(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function jl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Aa(t)}var Bn=new Map,pv=new Set;function Hu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var cs=re.d;re.d={f:Kb,r:Yb,D:$b,C:Xb,L:Wb,m:Jb,X:eA,S:Zb,M:tA};function Kb(){var t=cs.f(),i=ku();return t||i}function Yb(t){var i=In(t);i!==null&&i.tag===5&&i.type==="form"?j_(i):cs.r(t)}var so=typeof document>"u"?null:document;function gv(t,i,a){var l=so;if(l&&typeof i=="string"&&i){var h=ln(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),pv.has(h)||(pv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Yt(i,"link",t),St(i),l.head.appendChild(i)))}}function $b(t){cs.D(t),gv("dns-prefetch",t,null)}function Xb(t,i){cs.C(t,i),gv("preconnect",t,i)}function Wb(t,i,a){cs.L(t,i,a);var l=so;if(l&&t&&i){var h='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ln(a.imageSizes)+'"]')):h+='[href="'+ln(t)+'"]';var m=h;switch(i){case"style":m=ro(t);break;case"script":m=ao(t)}Bn.has(m)||(t=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Bn.set(m,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ol(m))||i==="script"&&l.querySelector(Ml(m))||(i=l.createElement("link"),Yt(i,"link",t),St(i),l.head.appendChild(i)))}}function Jb(t,i){cs.m(t,i);var a=so;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(t)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ao(t)}if(!Bn.has(m)&&(t=A({rel:"modulepreload",href:t},i),Bn.set(m,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(m)))return}l=a.createElement("link"),Yt(l,"link",t),St(l),a.head.appendChild(l)}}}function Zb(t,i,a){cs.S(t,i,a);var l=so;if(l&&t){var h=yi(l).hoistableStyles,m=ro(t);i=i||"default";var v=h.get(m);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(Ol(m)))b.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Bn.get(m))&&am(t,a);var I=v=l.createElement("link");St(I),Yt(I,"link",t),I._p=new Promise(function(q,K){I.onload=q,I.onerror=K}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Gu(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(m,v)}}}function eA(t,i){cs.X(t,i);var a=so;if(a&&t){var l=yi(a).hoistableScripts,h=ao(t),m=l.get(h);m||(m=a.querySelector(Ml(h)),m||(t=A({src:t,async:!0},i),(i=Bn.get(h))&&om(t,i),m=a.createElement("script"),St(m),Yt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function tA(t,i){cs.M(t,i);var a=so;if(a&&t){var l=yi(a).hoistableScripts,h=ao(t),m=l.get(h);m||(m=a.querySelector(Ml(h)),m||(t=A({src:t,async:!0,type:"module"},i),(i=Bn.get(h))&&om(t,i),m=a.createElement("script"),St(m),Yt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function _v(t,i,a,l){var h=(h=Ne.current)?Hu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ro(a.href),a=yi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ro(a.href);var m=yi(h).hoistableStyles,v=m.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,v),(m=h.querySelector(Ol(t)))&&!m._p&&(v.instance=m,v.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),m||nA(h,t,a,v.state))),i&&l===null)throw Error(r(528,""));return v}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ao(a),a=yi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ro(t){return'href="'+ln(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function yv(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function nA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Yt(i,"link",a),St(i),t.head.appendChild(i))}function ao(t){return'[src="'+ln(t)+'"]'}function Ml(t){return"script[async]"+t}function vv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return i.instance=l,St(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Yt(l,"style",h),Gu(l,a.precedence,t),i.instance=l;case"stylesheet":h=ro(a.href);var m=t.querySelector(Ol(h));if(m)return i.state.loading|=4,i.instance=m,St(m),m;l=yv(a),(h=Bn.get(h))&&am(l,h),m=(t.ownerDocument||t).createElement("link"),St(m);var v=m;return v._p=new Promise(function(b,I){v.onload=b,v.onerror=I}),Yt(m,"link",l),i.state.loading|=4,Gu(m,a.precedence,t),i.instance=m;case"script":return m=ao(a.src),(h=t.querySelector(Ml(m)))?(i.instance=h,St(h),h):(l=a,(h=Bn.get(m))&&(l=A({},a),om(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Yt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Gu(l,a.precedence,t));return i.instance}function Gu(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===i)m=b;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function am(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function om(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Qu=null;function Ev(t,i,a){if(Qu===null){var l=new Map,h=Qu=new Map;h.set(a,l)}else h=Qu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[gi]||m[At]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(i)||"";v=t+v;var b=l.get(v);b?b.push(m):l.set(v,[m])}}return l}function Tv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function iA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function bv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function sA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ro(l.href),m=i.querySelector(Ol(h));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Ku.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=m,St(m);return}m=i.ownerDocument||i,l=yv(l),(h=Bn.get(h))&&am(l,h),m=m.createElement("link"),St(m);var v=m;v._p=new Promise(function(b,I){v.onload=b,v.onerror=I}),Yt(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Ku.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var lm=0;function rA(t,i){return t.stylesheets&&t.count===0&&$u(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&$u(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&lm===0&&(lm=62500*Ub());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&$u(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>lm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ku(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$u(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yu=null;function $u(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yu=new Map,i.forEach(aA,t),Yu=null,Ku.call(t))}function aA(t,i){if(!(i.state.loading&4)){var a=Yu.get(t);if(a)var l=a.get(null);else{a=new Map,Yu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var v=h[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),m=a.get(v)||l,m===l&&a.set(null,h),a.set(v,h),this.count++,l=Ku.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var kl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function oA(t,i,a,l,h,m,v,b,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Av(t,i,a,l,h,m,v,b,I,q,K,Z){return t=new oA(t,i,a,v,I,q,K,Z,b),i=1,m===!0&&(i|=24),m=Tn(3,null,null,i),t.current=m,m.stateNode=t,i=zd(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},Hd(m),t}function Sv(t){return t?(t=La,t):La}function xv(t,i,a,l,h,m){h=Sv(h),l.context===null?l.context=h:l.pendingContext=h,l=ks(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Vs(t,l,i),a!==null&&(mn(a,t,i),fl(a,t,i))}function wv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function cm(t,i){wv(t,i),(t=t.alternate)&&wv(t,i)}function Rv(t){if(t.tag===13||t.tag===31){var i=Br(t,67108864);i!==null&&mn(i,t,67108864),cm(t,67108864)}}function Cv(t){if(t.tag===13||t.tag===31){var i=wn();i=Nr(i);var a=Br(t,i);a!==null&&mn(a,t,i),cm(t,i)}}var Xu=!0;function lA(t,i,a,l){var h=Y.T;Y.T=null;var m=re.p;try{re.p=2,um(t,i,a,l)}finally{re.p=m,Y.T=h}}function cA(t,i,a,l){var h=Y.T;Y.T=null;var m=re.p;try{re.p=8,um(t,i,a,l)}finally{re.p=m,Y.T=h}}function um(t,i,a,l){if(Xu){var h=hm(l);if(h===null)Xf(t,i,l,Wu,a),Iv(t,l);else if(hA(h,t,i,a,l))l.stopPropagation();else if(Iv(t,l),i&4&&-1<uA.indexOf(t)){for(;h!==null;){var m=In(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=di(m.pendingLanes);if(v!==0){var b=m;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var I=1<<31-pt(v);b.entanglements[1]|=I,v&=~I}Di(m),(Ge&6)===0&&(Ou=rn()+500,Nl(0))}}break;case 31:case 13:b=Br(m,2),b!==null&&mn(b,m,2),ku(),cm(m,2)}if(m=hm(l),m===null&&Xf(t,i,l,Wu,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else Xf(t,i,l,null,a)}}function hm(t){return t=Dn(t),dm(t)}var Wu=null;function dm(t){if(Wu=null,t=_i(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Wu=t,null}function Nv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xr()){case Po:return 2;case Uo:return 8;case Es:case _d:return 32;case Nc:return 268435456;default:return 32}default:return 32}}var fm=!1,Ks=null,Ys=null,$s=null,Vl=new Map,Ll=new Map,Xs=[],uA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iv(t,i){switch(t){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(i.pointerId)}}function Pl(t,i,a,l,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},i!==null&&(i=In(i),i!==null&&Rv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function hA(t,i,a,l,h){switch(i){case"focusin":return Ks=Pl(Ks,t,i,a,l,h),!0;case"dragenter":return Ys=Pl(Ys,t,i,a,l,h),!0;case"mouseover":return $s=Pl($s,t,i,a,l,h),!0;case"pointerover":var m=h.pointerId;return Vl.set(m,Pl(Vl.get(m)||null,t,i,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,Ll.set(m,Pl(Ll.get(m)||null,t,i,a,l,h)),!0}return!1}function Dv(t){var i=_i(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,Qn(t.priority,function(){Cv(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,Qn(t.priority,function(){Cv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ju(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=hm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Wo=l,a.target.dispatchEvent(l),Wo=null}else return i=In(a),i!==null&&Rv(i),t.blockedOn=a,!1;i.shift()}return!0}function jv(t,i,a){Ju(t)&&a.delete(i)}function dA(){fm=!1,Ks!==null&&Ju(Ks)&&(Ks=null),Ys!==null&&Ju(Ys)&&(Ys=null),$s!==null&&Ju($s)&&($s=null),Vl.forEach(jv),Ll.forEach(jv)}function Zu(t,i){t.blockedOn===i&&(t.blockedOn=null,fm||(fm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,dA)))}var eh=null;function Ov(t){eh!==t&&(eh=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){eh===t&&(eh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(dm(l||a)===null)continue;break}var m=In(a);m!==null&&(t.splice(i,3),i-=3,hf(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function oo(t){function i(I){return Zu(I,t)}Ks!==null&&Zu(Ks,t),Ys!==null&&Zu(Ys,t),$s!==null&&Zu($s,t),Vl.forEach(i),Ll.forEach(i);for(var a=0;a<Xs.length;a++){var l=Xs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Xs.length&&(a=Xs[0],a.blockedOn===null);)Dv(a),a.blockedOn===null&&Xs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],v=h[Ut]||null;if(typeof m=="function")v||Ov(a);else if(v){var b=null;if(m&&m.hasAttribute("formAction")){if(h=m,v=m[Ut]||null)b=v.formAction;else if(dm(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Ov(a)}}}function Mv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function mm(t){this._internalRoot=t}th.prototype.render=mm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=wn();xv(a,l,t,i,null,null)},th.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;xv(t.current,2,null,t,null,null),ku(),i[pi]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var i=kc();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Xs.length&&i!==0&&i<Xs[a].priority;a++);Xs.splice(a,0,t),a===0&&Dv(t)}};var kv=e.version;if(kv!=="19.2.4")throw Error(r(527,kv,"19.2.4"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var fA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{Hn=nh.inject(fA),Ft=nh}catch{}}return zl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=q_,m=F_,v=H_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=Av(t,1,!1,null,null,a,l,null,h,m,v,Mv),t[pi]=i.current,$f(t),new mm(i)},zl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",m=q_,v=F_,b=H_,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=Av(t,1,!0,i,a??null,l,h,I,m,v,b,Mv),i.context=Sv(null),a=i.current,l=wn(),l=Nr(l),h=ks(l),h.callback=null,Vs(a,h,l),a=l,i.current.lanes=a,Rr(i,a),Di(i),t[pi]=i.current,$f(t),new th(i)},zl.version="19.2.4",zl}var Gv;function SA(){if(Gv)return _m.exports;Gv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),_m.exports=AA(),_m.exports}var xA=SA();const wA=z1(xA);q1();function ec(){return ec=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])}return s},ec.apply(this,arguments)}var sr;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(sr||(sr={}));const Qv="popstate";function RA(s){s===void 0&&(s={});function e(r,o){let{pathname:c,search:d,hash:p}=r.location;return Pm("",{pathname:c,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Th(o)}return NA(e,n,null,s)}function Ot(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function pp(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CA(){return Math.random().toString(36).substr(2,8)}function Kv(s,e){return{usr:s.state,key:s.key,idx:e}}function Pm(s,e,n,r){return n===void 0&&(n=null),ec({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof e=="string"?Co(e):e,{state:n,key:e&&e.key||r||CA()})}function Th(s){let{pathname:e="/",search:n="",hash:r=""}=s;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Co(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substr(n),s=s.substr(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substr(r),s=s.substr(0,r)),s&&(e.pathname=s)}return e}function NA(s,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:c=!1}=r,d=o.history,p=sr.Pop,g=null,y=T();y==null&&(y=0,d.replaceState(ec({},d.state,{idx:y}),""));function T(){return(d.state||{idx:null}).idx}function A(){p=sr.Pop;let V=T(),$=V==null?null:V-y;y=V,g&&g({action:p,location:O.location,delta:$})}function x(V,$){p=sr.Push;let se=Pm(O.location,V,$);y=T()+1;let ne=Kv(se,y),me=O.createHref(se);try{d.pushState(ne,"",me)}catch(Ae){if(Ae instanceof DOMException&&Ae.name==="DataCloneError")throw Ae;o.location.assign(me)}c&&g&&g({action:p,location:O.location,delta:1})}function U(V,$){p=sr.Replace;let se=Pm(O.location,V,$);y=T();let ne=Kv(se,y),me=O.createHref(se);d.replaceState(ne,"",me),c&&g&&g({action:p,location:O.location,delta:0})}function H(V){let $=o.location.origin!=="null"?o.location.origin:o.location.href,se=typeof V=="string"?V:Th(V);return se=se.replace(/ $/,"%20"),Ot($,"No window.location.(origin|href) available to create URL for href: "+se),new URL(se,$)}let O={get action(){return p},get location(){return s(o,d)},listen(V){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Qv,A),g=V,()=>{o.removeEventListener(Qv,A),g=null}},createHref(V){return e(o,V)},createURL:H,encodeLocation(V){let $=H(V);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:x,replace:U,go(V){return d.go(V)}};return O}var Yv;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Yv||(Yv={}));function IA(s,e,n){return n===void 0&&(n="/"),DA(s,e,n)}function DA(s,e,n,r){let o=typeof e=="string"?Co(e):e,c=gp(o.pathname||"/",n);if(c==null)return null;let d=F1(s);jA(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=HA(c);p=BA(d[g],y)}return p}function F1(s,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(c,d,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};g.relativePath.startsWith("/")&&(Ot(g.relativePath.startsWith(r),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(r.length));let y=ar([r,g.relativePath]),T=n.concat(g);c.children&&c.children.length>0&&(Ot(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),F1(c.children,e,T,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:UA(y,c.index),routesMeta:T})};return s.forEach((c,d)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))o(c,d);else for(let g of H1(c.path))o(c,d,g)}),e}function H1(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let d=H1(r.join("/")),p=[];return p.push(...d.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...d),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function jA(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:zA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const OA=/^:[\w-]+$/,MA=3,kA=2,VA=1,LA=10,PA=-2,$v=s=>s==="*";function UA(s,e){let n=s.split("/"),r=n.length;return n.some($v)&&(r+=PA),e&&(r+=kA),n.filter(o=>!$v(o)).reduce((o,c)=>o+(OA.test(c)?MA:c===""?VA:LA),r)}function zA(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function BA(s,e,n){let{routesMeta:r}=s,o={},c="/",d=[];for(let p=0;p<r.length;++p){let g=r[p],y=p===r.length-1,T=c==="/"?e:e.slice(c.length)||"/",A=qA({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},T),x=g.route;if(!A)return null;Object.assign(o,A.params),d.push({params:o,pathname:ar([c,A.pathname]),pathnameBase:$A(ar([c,A.pathnameBase])),route:x}),A.pathnameBase!=="/"&&(c=ar([c,A.pathnameBase]))}return d}function qA(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=FA(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((y,T,A)=>{let{paramName:x,isOptional:U}=T;if(x==="*"){let O=p[A]||"";d=c.slice(0,c.length-O.length).replace(/(.)\/+$/,"$1")}const H=p[A];return U&&!H?y[x]=void 0:y[x]=(H||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:s}}function FA(s,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),pp(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function HA(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pp(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),s}}function gp(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}const GA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QA=s=>GA.test(s);function KA(s,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof s=="string"?Co(s):s,c;if(n)if(QA(n))c=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),pp(!1,"Pathnames cannot have embedded double slashes - normalizing "+(d+" -> "+n))}n.startsWith("/")?c=Xv(n.substring(1),"/"):c=Xv(n,e)}else c=e;return{pathname:c,search:XA(r),hash:WA(o)}}function Xv(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Tm(s,e,n,r){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YA(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function G1(s,e){let n=YA(s);return e?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Q1(s,e,n,r){r===void 0&&(r=!1);let o;typeof s=="string"?o=Co(s):(o=ec({},s),Ot(!o.pathname||!o.pathname.includes("?"),Tm("?","pathname","search",o)),Ot(!o.pathname||!o.pathname.includes("#"),Tm("#","pathname","hash",o)),Ot(!o.search||!o.search.includes("#"),Tm("#","search","hash",o)));let c=s===""||o.pathname==="",d=c?"/":o.pathname,p;if(d==null)p=n;else{let A=e.length-1;if(!r&&d.startsWith("..")){let x=d.split("/");for(;x[0]==="..";)x.shift(),A-=1;o.pathname=x.join("/")}p=A>=0?e[A]:"/"}let g=KA(o,p),y=d&&d!=="/"&&d.endsWith("/"),T=(c||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||T)&&(g.pathname+="/"),g}const ar=s=>s.join("/").replace(/\/\/+/g,"/"),$A=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),XA=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,WA=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function JA(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const K1=["post","put","patch","delete"];new Set(K1);const ZA=["get",...K1];new Set(ZA);function tc(){return tc=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])}return s},tc.apply(this,arguments)}const _p=J.createContext(null),eS=J.createContext(null),ua=J.createContext(null),Gh=J.createContext(null),yr=J.createContext({outlet:null,matches:[],isDataRoute:!1}),Y1=J.createContext(null);function tS(s,e){let{relative:n}=e===void 0?{}:e;dc()||Ot(!1);let{basename:r,navigator:o}=J.useContext(ua),{hash:c,pathname:d,search:p}=X1(s,{relative:n}),g=d;return r!=="/"&&(g=d==="/"?r:ar([r,d])),o.createHref({pathname:g,search:p,hash:c})}function dc(){return J.useContext(Gh)!=null}function vr(){return dc()||Ot(!1),J.useContext(Gh).location}function $1(s){J.useContext(ua).static||J.useLayoutEffect(s)}function fc(){let{isDataRoute:s}=J.useContext(yr);return s?pS():nS()}function nS(){dc()||Ot(!1);let s=J.useContext(_p),{basename:e,future:n,navigator:r}=J.useContext(ua),{matches:o}=J.useContext(yr),{pathname:c}=vr(),d=JSON.stringify(G1(o,n.v7_relativeSplatPath)),p=J.useRef(!1);return $1(()=>{p.current=!0}),J.useCallback(function(y,T){if(T===void 0&&(T={}),!p.current)return;if(typeof y=="number"){r.go(y);return}let A=Q1(y,JSON.parse(d),c,T.relative==="path");s==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:ar([e,A.pathname])),(T.replace?r.replace:r.push)(A,T.state,T)},[e,r,d,c,s])}function iS(){let{matches:s}=J.useContext(yr),e=s[s.length-1];return e?e.params:{}}function X1(s,e){let{relative:n}=e===void 0?{}:e,{future:r}=J.useContext(ua),{matches:o}=J.useContext(yr),{pathname:c}=vr(),d=JSON.stringify(G1(o,r.v7_relativeSplatPath));return J.useMemo(()=>Q1(s,JSON.parse(d),c,n==="path"),[s,d,c,n])}function sS(s,e){return rS(s,e)}function rS(s,e,n,r){dc()||Ot(!1);let{navigator:o}=J.useContext(ua),{matches:c}=J.useContext(yr),d=c[c.length-1],p=d?d.params:{};d&&d.pathname;let g=d?d.pathnameBase:"/";d&&d.route;let y=vr(),T;if(e){var A;let V=typeof e=="string"?Co(e):e;g==="/"||(A=V.pathname)!=null&&A.startsWith(g)||Ot(!1),T=V}else T=y;let x=T.pathname||"/",U=x;if(g!=="/"){let V=g.replace(/^\//,"").split("/");U="/"+x.replace(/^\//,"").split("/").slice(V.length).join("/")}let H=IA(s,{pathname:U}),O=uS(H&&H.map(V=>Object.assign({},V,{params:Object.assign({},p,V.params),pathname:ar([g,o.encodeLocation?o.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?g:ar([g,o.encodeLocation?o.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),c,n,r);return e&&O?J.createElement(Gh.Provider,{value:{location:tc({pathname:"/",search:"",hash:"",state:null,key:"default"},T),navigationType:sr.Pop}},O):O}function aS(){let s=mS(),e=JA(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),n?J.createElement("pre",{style:o},n):null,null)}const oS=J.createElement(aS,null);class lS extends J.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?J.createElement(yr.Provider,{value:this.props.routeContext},J.createElement(Y1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cS(s){let{routeContext:e,match:n,children:r}=s,o=J.useContext(_p);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),J.createElement(yr.Provider,{value:e},r)}function uS(s,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),s==null){var c;if(!n)return null;if(n.errors)s=n.matches;else if((c=r)!=null&&c.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let d=s,p=(o=n)==null?void 0:o.errors;if(p!=null){let T=d.findIndex(A=>A.route.id&&p?.[A.route.id]!==void 0);T>=0||Ot(!1),d=d.slice(0,Math.min(d.length,T+1))}let g=!1,y=-1;if(n&&r&&r.v7_partialHydration)for(let T=0;T<d.length;T++){let A=d[T];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(y=T),A.route.id){let{loaderData:x,errors:U}=n,H=A.route.loader&&x[A.route.id]===void 0&&(!U||U[A.route.id]===void 0);if(A.route.lazy||H){g=!0,y>=0?d=d.slice(0,y+1):d=[d[0]];break}}}return d.reduceRight((T,A,x)=>{let U,H=!1,O=null,V=null;n&&(U=p&&A.route.id?p[A.route.id]:void 0,O=A.route.errorElement||oS,g&&(y<0&&x===0?(gS("route-fallback"),H=!0,V=null):y===x&&(H=!0,V=A.route.hydrateFallbackElement||null)));let $=e.concat(d.slice(0,x+1)),se=()=>{let ne;return U?ne=O:H?ne=V:A.route.Component?ne=J.createElement(A.route.Component,null):A.route.element?ne=A.route.element:ne=T,J.createElement(cS,{match:A,routeContext:{outlet:T,matches:$,isDataRoute:n!=null},children:ne})};return n&&(A.route.ErrorBoundary||A.route.errorElement||x===0)?J.createElement(lS,{location:n.location,revalidation:n.revalidation,component:O,error:U,children:se(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):se()},null)}var W1=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(W1||{}),J1=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(J1||{});function hS(s){let e=J.useContext(_p);return e||Ot(!1),e}function dS(s){let e=J.useContext(eS);return e||Ot(!1),e}function fS(s){let e=J.useContext(yr);return e||Ot(!1),e}function Z1(s){let e=fS(),n=e.matches[e.matches.length-1];return n.route.id||Ot(!1),n.route.id}function mS(){var s;let e=J.useContext(Y1),n=dS(),r=Z1();return e!==void 0?e:(s=n.errors)==null?void 0:s[r]}function pS(){let{router:s}=hS(W1.UseNavigateStable),e=Z1(J1.UseNavigateStable),n=J.useRef(!1);return $1(()=>{n.current=!0}),J.useCallback(function(o,c){c===void 0&&(c={}),n.current&&(typeof o=="number"?s.navigate(o):s.navigate(o,tc({fromRouteId:e},c)))},[s,e])}const Wv={};function gS(s,e,n){Wv[s]||(Wv[s]=!0)}function _S(s,e){s?.v7_startTransition,s?.v7_relativeSplatPath}function ni(s){Ot(!1)}function yS(s){let{basename:e="/",children:n=null,location:r,navigationType:o=sr.Pop,navigator:c,static:d=!1,future:p}=s;dc()&&Ot(!1);let g=e.replace(/^\/*/,"/"),y=J.useMemo(()=>({basename:g,navigator:c,static:d,future:tc({v7_relativeSplatPath:!1},p)}),[g,p,c,d]);typeof r=="string"&&(r=Co(r));let{pathname:T="/",search:A="",hash:x="",state:U=null,key:H="default"}=r,O=J.useMemo(()=>{let V=gp(T,g);return V==null?null:{location:{pathname:V,search:A,hash:x,state:U,key:H},navigationType:o}},[g,T,A,x,U,H,o]);return O==null?null:J.createElement(ua.Provider,{value:y},J.createElement(Gh.Provider,{children:n,value:O}))}function vS(s){let{children:e,location:n}=s;return sS(Um(e),n)}new Promise(()=>{});function Um(s,e){e===void 0&&(e=[]);let n=[];return J.Children.forEach(s,(r,o)=>{if(!J.isValidElement(r))return;let c=[...e,o];if(r.type===J.Fragment){n.push.apply(n,Um(r.props.children,c));return}r.type!==ni&&Ot(!1),!r.props.index||!r.props.children||Ot(!1);let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Um(r.props.children,c)),n.push(d)}),n}function zm(){return zm=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])}return s},zm.apply(this,arguments)}function ES(s,e){if(s==null)return{};var n={},r=Object.keys(s),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=s[o]);return n}function TS(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function bS(s,e){return s.button===0&&(!e||e==="_self")&&!TS(s)}const AS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],SS="6";try{window.__reactRouterVersion=SS}catch{}const xS="startTransition",Jv=vA[xS];function wS(s){let{basename:e,children:n,future:r,window:o}=s,c=J.useRef();c.current==null&&(c.current=RA({window:o,v5Compat:!0}));let d=c.current,[p,g]=J.useState({action:d.action,location:d.location}),{v7_startTransition:y}=r||{},T=J.useCallback(A=>{y&&Jv?Jv(()=>g(A)):g(A)},[g,y]);return J.useLayoutEffect(()=>d.listen(T),[d,T]),J.useEffect(()=>_S(r),[r]),J.createElement(yS,{basename:e,children:n,location:p.location,navigationType:p.action,navigator:d,future:r})}const RS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,de=J.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:c,replace:d,state:p,target:g,to:y,preventScrollReset:T,viewTransition:A}=e,x=ES(e,AS),{basename:U}=J.useContext(ua),H,O=!1;if(typeof y=="string"&&CS.test(y)&&(H=y,RS))try{let ne=new URL(window.location.href),me=y.startsWith("//")?new URL(ne.protocol+y):new URL(y),Ae=gp(me.pathname,U);me.origin===ne.origin&&Ae!=null?y=Ae+me.search+me.hash:O=!0}catch{}let V=tS(y,{relative:o}),$=NS(y,{replace:d,state:p,target:g,preventScrollReset:T,relative:o,viewTransition:A});function se(ne){r&&r(ne),ne.defaultPrevented||$(ne)}return J.createElement("a",zm({},x,{href:H||V,onClick:O||c?r:se,ref:n,target:g}))});var Zv;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(Zv||(Zv={}));var e0;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(e0||(e0={}));function NS(s,e){let{target:n,replace:r,state:o,preventScrollReset:c,relative:d,viewTransition:p}=e===void 0?{}:e,g=fc(),y=vr(),T=X1(s,{relative:d});return J.useCallback(A=>{if(bS(A,n)){A.preventDefault();let x=r!==void 0?r:Th(y)===Th(T);g(s,{replace:x,state:o,preventScrollReset:c,relative:d,viewTransition:p})}},[y,g,T,r,o,n,s,c,d,p])}const IS=()=>{};var t0={};const eE=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},DS=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],d=s[n++],p=s[n++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],d=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},tE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,T=c>>2,A=(c&3)<<4|p>>4;let x=(p&15)<<2|y>>6,U=y&63;g||(U=64,d||(x=64)),r.push(n[T],n[A],n[x],n[U])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(eE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):DS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],p=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const A=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||p==null||y==null||A==null)throw new jS;const x=c<<2|p>>4;if(r.push(x),y!==64){const U=p<<4&240|y>>2;if(r.push(U),A!==64){const H=y<<6&192|A;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class jS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OS=function(s){const e=eE(s);return tE.encodeByteArray(e,!0)},bh=function(s){return OS(s).replace(/\./g,"")},nE=function(s){try{return tE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function MS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const kS=()=>MS().__FIREBASE_DEFAULTS__,VS=()=>{if(typeof process>"u"||typeof t0>"u")return;const s=t0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},LS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&nE(s[1]);return e&&JSON.parse(e)},Qh=()=>{try{return IS()||kS()||VS()||LS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},iE=s=>Qh()?.emulatorHosts?.[s],sE=s=>{const e=iE(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rE=()=>Qh()?.config,aE=s=>Qh()?.[`_${s}`];class PS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function ha(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yp(s){return(await fetch(s,{credentials:"include"})).ok}function oE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[bh(JSON.stringify(n)),bh(JSON.stringify(d)),""].join(".")}const Yl={};function US(){const s={prod:[],emulator:[]};for(const e of Object.keys(Yl))Yl[e]?s.emulator.push(e):s.prod.push(e);return s}function zS(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let n0=!1;function vp(s,e){if(typeof window>"u"||typeof document>"u"||!ha(window.location.host)||Yl[s]===e||Yl[s]||n0)return;Yl[s]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",c=US().prod.length>0;function d(){const x=document.getElementById(r);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function g(x,U){x.setAttribute("width","24"),x.setAttribute("id",U),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{n0=!0,d()},x}function T(x,U){x.setAttribute("id",U),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function A(){const x=zS(r),U=n("text"),H=document.getElementById(U)||document.createElement("span"),O=n("learnmore"),V=document.getElementById(O)||document.createElement("a"),$=n("preprendIcon"),se=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ne=x.element;p(ne),T(V,O);const me=y();g(se,$),ne.append(se,H,V,me),document.body.appendChild(ne)}c?(H.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function qS(){const s=Qh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function GS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QS(){const s=sn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function KS(){return!qS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YS(){try{return typeof indexedDB=="object"}catch{return!1}}function $S(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const XS="FirebaseError";class Fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XS,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mc.prototype.create)}}class mc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?WS(c,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Fi(o,p,r)}}function WS(s,e){return s.replace(JS,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const JS=/\{\$([^}]+)}/g;function ZS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ia(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=s[o],d=e[o];if(i0(c)&&i0(d)){if(!ia(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function i0(s){return s!==null&&typeof s=="object"}function pc(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ql(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Fl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function ex(s,e){const n=new tx(s,e);return n.subscribe.bind(n)}class tx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=bm),o.error===void 0&&(o.error=bm),o.complete===void 0&&(o.complete=bm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nx(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function bm(){}function mt(s){return s&&s._delegate?s._delegate:s}class hr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ea="[DEFAULT]";class ix{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new PS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rx(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sx(s){return s===ea?void 0:s}function rx(s){return s.instantiationMode==="EAGER"}class ax{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ix(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ke||(ke={}));const ox={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},lx=ke.INFO,cx={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},ux=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=cx[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ep{constructor(e){this.name=e,this._logLevel=lx,this._logHandler=ux,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ox[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const hx=(s,e)=>e.some(n=>s instanceof n);let s0,r0;function dx(){return s0||(s0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fx(){return r0||(r0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lE=new WeakMap,Bm=new WeakMap,cE=new WeakMap,Am=new WeakMap,Tp=new WeakMap;function mx(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(or(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&lE.set(n,s)}).catch(()=>{}),Tp.set(e,s),e}function px(s){if(Bm.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Bm.set(s,e)}let qm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Bm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||cE.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return or(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function gx(s){qm=s(qm)}function _x(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Sm(this),e,...n);return cE.set(r,e.sort?e.sort():[e]),or(r)}:fx().includes(s)?function(...e){return s.apply(Sm(this),e),or(lE.get(this))}:function(...e){return or(s.apply(Sm(this),e))}}function yx(s){return typeof s=="function"?_x(s):(s instanceof IDBTransaction&&px(s),hx(s,dx())?new Proxy(s,qm):s)}function or(s){if(s instanceof IDBRequest)return mx(s);if(Am.has(s))return Am.get(s);const e=yx(s);return e!==s&&(Am.set(s,e),Tp.set(e,s)),e}const Sm=s=>Tp.get(s);function vx(s,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=or(d);return r&&d.addEventListener("upgradeneeded",g=>{r(or(d.result),g.oldVersion,g.newVersion,or(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const Ex=["get","getKey","getAll","getAllKeys","count"],Tx=["put","add","delete","clear"],xm=new Map;function a0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(xm.get(e))return xm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=Tx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Ex.includes(n)))return;const c=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return xm.set(e,c),c}gx(s=>({...s,get:(e,n,r)=>a0(e,n)||s.get(e,n,r),has:(e,n)=>!!a0(e,n)||s.has(e,n)}));class bx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ax(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ax(s){return s.getComponent()?.type==="VERSION"}const Fm="@firebase/app",o0="0.14.7";const ms=new Ep("@firebase/app"),Sx="@firebase/app-compat",xx="@firebase/analytics-compat",wx="@firebase/analytics",Rx="@firebase/app-check-compat",Cx="@firebase/app-check",Nx="@firebase/auth",Ix="@firebase/auth-compat",Dx="@firebase/database",jx="@firebase/data-connect",Ox="@firebase/database-compat",Mx="@firebase/functions",kx="@firebase/functions-compat",Vx="@firebase/installations",Lx="@firebase/installations-compat",Px="@firebase/messaging",Ux="@firebase/messaging-compat",zx="@firebase/performance",Bx="@firebase/performance-compat",qx="@firebase/remote-config",Fx="@firebase/remote-config-compat",Hx="@firebase/storage",Gx="@firebase/storage-compat",Qx="@firebase/firestore",Kx="@firebase/ai",Yx="@firebase/firestore-compat",$x="firebase",Xx="12.8.0";const Hm="[DEFAULT]",Wx={[Fm]:"fire-core",[Sx]:"fire-core-compat",[wx]:"fire-analytics",[xx]:"fire-analytics-compat",[Cx]:"fire-app-check",[Rx]:"fire-app-check-compat",[Nx]:"fire-auth",[Ix]:"fire-auth-compat",[Dx]:"fire-rtdb",[jx]:"fire-data-connect",[Ox]:"fire-rtdb-compat",[Mx]:"fire-fn",[kx]:"fire-fn-compat",[Vx]:"fire-iid",[Lx]:"fire-iid-compat",[Px]:"fire-fcm",[Ux]:"fire-fcm-compat",[zx]:"fire-perf",[Bx]:"fire-perf-compat",[qx]:"fire-rc",[Fx]:"fire-rc-compat",[Hx]:"fire-gcs",[Gx]:"fire-gcs-compat",[Qx]:"fire-fst",[Yx]:"fire-fst-compat",[Kx]:"fire-vertex","fire-js":"fire-js",[$x]:"fire-js-all"};const Ah=new Map,Jx=new Map,Gm=new Map;function l0(s,e){try{s.container.addComponent(e)}catch(n){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function sa(s){const e=s.name;if(Gm.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;Gm.set(e,s);for(const n of Ah.values())l0(n,s);for(const n of Jx.values())l0(n,s);return!0}function Kh(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Rn(s){return s==null?!1:s.settings!==void 0}const Zx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new mc("app","Firebase",Zx);class ew{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const da=Xx;function uE(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Hm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw lr.create("bad-app-name",{appName:String(o)});if(n||(n=rE()),!n)throw lr.create("no-options");const c=Ah.get(o);if(c){if(ia(n,c.options)&&ia(r,c.config))return c;throw lr.create("duplicate-app",{appName:o})}const d=new ax(o);for(const g of Gm.values())d.addComponent(g);const p=new ew(n,r,d);return Ah.set(o,p),p}function bp(s=Hm){const e=Ah.get(s);if(!e&&s===Hm&&rE())return uE();if(!e)throw lr.create("no-app",{appName:s});return e}function ki(s,e,n){let r=Wx[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(d.join(" "));return}sa(new hr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const tw="firebase-heartbeat-database",nw=1,nc="firebase-heartbeat-store";let wm=null;function hE(){return wm||(wm=vx(tw,nw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(nc)}catch(n){console.warn(n)}}}}).catch(s=>{throw lr.create("idb-open",{originalErrorMessage:s.message})})),wm}async function iw(s){try{const n=(await hE()).transaction(nc),r=await n.objectStore(nc).get(dE(s));return await n.done,r}catch(e){if(e instanceof Fi)ms.warn(e.message);else{const n=lr.create("idb-get",{originalErrorMessage:e?.message});ms.warn(n.message)}}}async function c0(s,e){try{const r=(await hE()).transaction(nc,"readwrite");await r.objectStore(nc).put(e,dE(s)),await r.done}catch(n){if(n instanceof Fi)ms.warn(n.message);else{const r=lr.create("idb-set",{originalErrorMessage:n?.message});ms.warn(r.message)}}}function dE(s){return`${s.name}!${s.options.appId}`}const sw=1024,rw=30;class aw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=u0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>rw){const o=cw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=u0(),{heartbeatsToSend:n,unsentEntries:r}=ow(this._heartbeatsCache.heartbeats),o=bh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ms.warn(e),""}}}function u0(){return new Date().toISOString().substring(0,10)}function ow(s,e=sw){const n=[];let r=s.slice();for(const o of s){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),h0(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),h0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YS()?$S().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return c0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return c0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function h0(s){return bh(JSON.stringify({version:2,heartbeats:s})).length}function cw(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function uw(s){sa(new hr("platform-logger",e=>new bx(e),"PRIVATE")),sa(new hr("heartbeat",e=>new aw(e),"PRIVATE")),ki(Fm,o0,s),ki(Fm,o0,"esm2020"),ki("fire-js","")}uw("");function fE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hw=fE,mE=new mc("auth","Firebase",fE());const Sh=new Ep("@firebase/auth");function dw(s,...e){Sh.logLevel<=ke.WARN&&Sh.warn(`Auth (${da}): ${s}`,...e)}function hh(s,...e){Sh.logLevel<=ke.ERROR&&Sh.error(`Auth (${da}): ${s}`,...e)}function ai(s,...e){throw Ap(s,...e)}function Vi(s,...e){return Ap(s,...e)}function pE(s,e,n){const r={...hw(),[e]:n};return new mc("auth","Firebase",r).create(e,{appName:s.name})}function ds(s){return pE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ap(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return mE.create(s,...e)}function Ee(s,e,...n){if(!s)throw Ap(e,...n)}function us(s){const e="INTERNAL ASSERTION FAILED: "+s;throw hh(e),new Error(e)}function ps(s,e){s||us(e)}function Qm(){return typeof self<"u"&&self.location?.href||""}function fw(){return d0()==="http:"||d0()==="https:"}function d0(){return typeof self<"u"&&self.location?.protocol||null}function mw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fw()||HS()||"connection"in navigator)?navigator.onLine:!0}function pw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class gc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ps(n>e,"Short delay should be less than long delay!"),this.isMobile=BS()||GS()}get(){return mw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sp(s,e){ps(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class gE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _w=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yw=new gc(3e4,6e4);function Er(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ys(s,e,n,r,o={}){return _E(s,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=pc({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return FS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&ha(s.emulatorConfig.host)&&(y.credentials="include"),gE.fetch()(await yE(s,s.config.apiHost,n,p),y)})}async function _E(s,e,n){s._canInitEmulator=!1;const r={...gw,...e};try{const o=new Ew(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw ih(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw ih(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw ih(s,"user-disabled",d);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw pE(s,T,y);ai(s,T)}}catch(o){if(o instanceof Fi)throw o;ai(s,"network-request-failed",{message:String(o)})}}async function _c(s,e,n,r,o={}){const c=await ys(s,e,n,r,o);return"mfaPendingCredential"in c&&ai(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function yE(s,e,n,r){const o=`${e}${n}?${r}`,c=s,d=c.config.emulator?Sp(s.config,o):`${s.config.apiScheme}://${o}`;return _w.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function vw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ew{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vi(this.auth,"network-request-failed")),yw.get())})}}function ih(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Vi(s,e,r);return o.customData._tokenResponse=n,o}function f0(s){return s!==void 0&&s.enterprise!==void 0}class Tw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vw(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bw(s,e){return ys(s,"GET","/v2/recaptchaConfig",Er(s,e))}async function Aw(s,e){return ys(s,"POST","/v1/accounts:delete",e)}async function xh(s,e){return ys(s,"POST","/v1/accounts:lookup",e)}function $l(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Sw(s,e=!1){const n=mt(s),r=await n.getIdToken(e),o=xp(r);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:$l(Rm(o.auth_time)),issuedAtTime:$l(Rm(o.iat)),expirationTime:$l(Rm(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Rm(s){return Number(s)*1e3}function xp(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const o=nE(n);return o?JSON.parse(o):(hh("Failed to decode base64 JWT payload"),null)}catch(o){return hh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function m0(s){const e=xp(s);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function To(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fi&&xw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function xw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class ww{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Km{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function wh(s){const e=s.auth,n=await s.getIdToken(),r=await To(s,xh(e,{idToken:n}));Ee(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?vE(o.providerUserInfo):[],d=Cw(s.providerData,c),p=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!d?.length,y=p?g:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function Rw(s){const e=mt(s);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Cw(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function vE(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Nw(s,e){const n=await _E(s,{},async()=>{const r=pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await yE(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&ha(s.emulatorConfig.host)&&(g.credentials="include"),gE.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Iw(s,e){return ys(s,"POST","/v2/accounts:revokeToken",Er(s,e))}class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):m0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=m0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await Nw(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,d=new po;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Ee(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return us("not implemented")}}function Js(s,e){Ee(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new ww(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Km(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await To(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Sw(this,e)}reload(){return Rw(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(ds(this.auth));const e=await this.getIdToken();return await To(this,Aw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:A,emailVerified:x,isAnonymous:U,providerData:H,stsTokenManager:O}=n;Ee(A&&O,e,"internal-error");const V=po.fromJSON(this.name,O);Ee(typeof A=="string",e,"internal-error"),Js(r,e.name),Js(o,e.name),Ee(typeof x=="boolean",e,"internal-error"),Ee(typeof U=="boolean",e,"internal-error"),Js(c,e.name),Js(d,e.name),Js(p,e.name),Js(g,e.name),Js(y,e.name),Js(T,e.name);const $=new ii({uid:A,auth:e,email:o,emailVerified:x,displayName:r,isAnonymous:U,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:V,createdAt:y,lastLoginAt:T});return H&&Array.isArray(H)&&($.providerData=H.map(se=>({...se}))),g&&($._redirectEventId=g),$}static async _fromIdTokenResponse(e,n,r=!1){const o=new po;o.updateFromServerResponse(n);const c=new ii({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await wh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?vE(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new po;p.updateFromIdToken(r);const g=new ii({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const p0=new Map;function hs(s){ps(s instanceof Function,"Expected a class definition");let e=p0.get(s);return e?(ps(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,p0.set(s,e),e)}class EE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}EE.type="NONE";const g0=EE;function dh(s,e,n){return`firebase:${s}:${e}:${n}`}class go{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=dh(this.userKey,o.apiKey,c),this.fullPersistenceKey=dh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xh(this.auth,{idToken:e}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new go(hs(g0),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||hs(g0);const d=dh(r,e.config.apiKey,e.name);let p=null;for(const y of n)try{const T=await y._get(d);if(T){let A;if(typeof T=="string"){const x=await xh(e,{idToken:T}).catch(()=>{});if(!x)break;A=await ii._fromGetAccountInfoResponse(e,x,T)}else A=ii._fromJSON(e,T);y!==c&&(p=A),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new go(c,e,r):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new go(c,e,r))}}function _0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wE(e))return"Blackberry";if(RE(e))return"Webos";if(bE(e))return"Safari";if((e.includes("chrome/")||AE(e))&&!e.includes("edge/"))return"Chrome";if(xE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function TE(s=sn()){return/firefox\//i.test(s)}function bE(s=sn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AE(s=sn()){return/crios\//i.test(s)}function SE(s=sn()){return/iemobile/i.test(s)}function xE(s=sn()){return/android/i.test(s)}function wE(s=sn()){return/blackberry/i.test(s)}function RE(s=sn()){return/webos/i.test(s)}function wp(s=sn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Dw(s=sn()){return wp(s)&&!!window.navigator?.standalone}function jw(){return QS()&&document.documentMode===10}function CE(s=sn()){return wp(s)||xE(s)||RE(s)||wE(s)||/windows phone/i.test(s)||SE(s)}function NE(s,e=[]){let n;switch(s){case"Browser":n=_0(sn());break;case"Worker":n=`${_0(sn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${da}/${r}`}class Ow{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((d,p)=>{try{const g=e(c);d(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Mw(s,e={}){return ys(s,"GET","/v2/passwordPolicy",Er(s,e))}const kw=6;class Vw{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??kw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class Lw{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y0(this),this.idTokenSubscription=new y0(this),this.beforeStateQueue=new Ow(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await go.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xh(this,{idToken:e}),r=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Rn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(ds(this));const n=e?mt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Mw(this),n=new Vw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Iw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hs(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[hs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&dw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fa(s){return mt(s)}class y0{constructor(e){this.auth=e,this.observer=null,this.addObserver=ex(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pw(s){Yh=s}function IE(s){return Yh.loadJS(s)}function Uw(){return Yh.recaptchaEnterpriseScript}function zw(){return Yh.gapiScript}function Bw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class qw{constructor(){this.enterprise=new Fw}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Fw{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Hw="recaptcha-enterprise",DE="NO_RECAPTCHA";class Gw{constructor(e){this.type=Hw,this.auth=fa(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{bw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new Tw(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,d,p){const g=window.grecaptcha;f0(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(DE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qw().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!n&&f0(window.grecaptcha))o(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=Uw();g.length!==0&&(g+=p),IE(g).then(()=>{o(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function v0(s,e,n,r=!1,o=!1){const c=new Gw(s);let d;if(o)d=DE;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Ym(s,e,n,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await v0(s,e,n,n==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await v0(s,e,n,n==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function Qw(s,e){const n=Kh(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(ia(c,e??{}))return o;ai(o,"already-initialized")}return n.initialize({options:e})}function Kw(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(hs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function Yw(s,e,n){const r=fa(s);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=jE(e),{host:d,port:p}=$w(e),g=p===null?"":`:${p}`,y={url:`${c}//${d}${g}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(ia(y,r.config.emulator)&&ia(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,ha(d)?(yp(`${c}//${d}${g}`),vp("Auth",!0)):Xw()}function jE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function $w(s){const e=jE(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:E0(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:E0(d)}}}function E0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Xw(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Rp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return us("not implemented")}_getIdTokenResponse(e){return us("not implemented")}_linkToIdToken(e,n){return us("not implemented")}_getReauthenticationResolver(e){return us("not implemented")}}async function Ww(s,e){return ys(s,"POST","/v1/accounts:signUp",e)}async function Jw(s,e){return _c(s,"POST","/v1/accounts:signInWithPassword",Er(s,e))}async function Zw(s,e){return _c(s,"POST","/v1/accounts:signInWithEmailLink",Er(s,e))}async function eR(s,e){return _c(s,"POST","/v1/accounts:signInWithEmailLink",Er(s,e))}class ic extends Rp{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ic(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ic(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ym(e,n,"signInWithPassword",Jw);case"emailLink":return Zw(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ym(e,r,"signUpPassword",Ww);case"emailLink":return eR(e,{idToken:n,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function _o(s,e){return _c(s,"POST","/v1/accounts:signInWithIdp",Er(s,e))}const tR="http://localhost";class ra extends Rp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const d=new ra(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_o(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:tR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pc(n)}return e}}function nR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iR(s){const e=ql(Fl(s)).link,n=e?ql(Fl(e)).deep_link_id:null,r=ql(Fl(s)).deep_link_id;return(r?ql(Fl(r)).link:null)||r||n||e||s}class Cp{constructor(e){const n=ql(Fl(e)),r=n.apiKey??null,o=n.oobCode??null,c=nR(n.mode??null);Ee(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=iR(e);try{return new Cp(n)}catch{return null}}}class No{constructor(){this.providerId=No.PROVIDER_ID}static credential(e,n){return ic._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Cp.parseLink(n);return Ee(r,"argument-error"),ic._fromEmailAndCode(e,r.code,r.tenantId)}}No.PROVIDER_ID="password";No.EMAIL_PASSWORD_SIGN_IN_METHOD="password";No.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class OE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yc extends OE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class er extends yc{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";class tr extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return tr.credential(n,r)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";class nr extends yc{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";class ir extends yc{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ir.credential(n,r)}catch{return null}}}ir.TWITTER_SIGN_IN_METHOD="twitter.com";ir.PROVIDER_ID="twitter.com";async function sR(s,e){return _c(s,"POST","/v1/accounts:signUp",Er(s,e))}class aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await ii._fromIdTokenResponse(e,r,o),d=T0(r);return new aa({user:c,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=T0(r);return new aa({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function T0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Rh extends Fi{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Rh(e,n,r,o)}}function ME(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(s,c,e,r):c})}async function rR(s,e,n=!1){const r=await To(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return aa._forOperation(s,"link",r)}async function aR(s,e,n=!1){const{auth:r}=s;if(Rn(r.app))return Promise.reject(ds(r));const o="reauthenticate";try{const c=await To(s,ME(r,o,e,s),n);Ee(c.idToken,r,"internal-error");const d=xp(c.idToken);Ee(d,r,"internal-error");const{sub:p}=d;return Ee(s.uid===p,r,"user-mismatch"),aa._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ai(r,"user-mismatch"),c}}async function kE(s,e,n=!1){if(Rn(s.app))return Promise.reject(ds(s));const r="signIn",o=await ME(s,r,e),c=await aa._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(c.user),c}async function oR(s,e){return kE(fa(s),e)}async function VE(s){const e=fa(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lR(s,e,n){if(Rn(s.app))return Promise.reject(ds(s));const r=fa(s),d=await Ym(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&VE(s),g}),p=await aa._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function cR(s,e,n){return Rn(s.app)?Promise.reject(ds(s)):oR(mt(s),No.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VE(s),r})}async function uR(s,e){return ys(s,"POST","/v1/accounts:update",e)}async function b0(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=mt(s),c={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=await To(r,uR(r.auth,c));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const p=r.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function hR(s,e,n,r){return mt(s).onIdTokenChanged(e,n,r)}function dR(s,e,n){return mt(s).beforeAuthStateChanged(e,n)}function fR(s,e,n,r){return mt(s).onAuthStateChanged(e,n,r)}function mR(s){return mt(s).signOut()}const Ch="__sak";class LE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const pR=1e3,gR=10;class PE extends LE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);jw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,gR):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PE.type="LOCAL";const _R=PE;class UE extends LE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UE.type="SESSION";const zE=UE;function yR(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new $h(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(d).map(async y=>y(n.origin,c)),g=await yR(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];function Np(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class vR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const y=Np("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(A){const x=A;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(T),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Li(){return window}function ER(s){Li().location.href=s}function BE(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function TR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bR(){return navigator?.serviceWorker?.controller||null}function AR(){return BE()?self:null}const qE="firebaseLocalStorageDb",SR=1,Nh="firebaseLocalStorage",FE="fbase_key";class vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(s,e){return s.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function xR(){const s=indexedDB.deleteDatabase(qE);return new vc(s).toPromise()}function $m(){const s=indexedDB.open(qE,SR);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Nh,{keyPath:FE})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Nh)?e(r):(r.close(),await xR(),e(await $m()))})})}async function A0(s,e,n){const r=Xh(s,!0).put({[FE]:e,value:n});return new vc(r).toPromise()}async function wR(s,e){const n=Xh(s,!1).get(e),r=await new vc(n).toPromise();return r===void 0?null:r.value}function S0(s,e){const n=Xh(s,!0).delete(e);return new vc(n).toPromise()}const RR=800,CR=3;class HE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $m(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>CR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(AR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await TR(),!this.activeServiceWorker)return;this.sender=new vR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $m();return await A0(e,Ch,"1"),await S0(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>A0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>S0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Xh(o,!1).getAll();return new vc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HE.type="LOCAL";const NR=HE;new gc(3e4,6e4);function IR(s,e){return e?hs(e):(Ee(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Ip extends Rp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DR(s){return kE(s.auth,new Ip(s),s.bypassAuthState)}function jR(s){const{auth:e,user:n}=s;return Ee(n,e,"internal-error"),aR(n,new Ip(s),s.bypassAuthState)}async function OR(s){const{auth:e,user:n}=s;return Ee(n,e,"internal-error"),rR(n,new Ip(s),s.bypassAuthState)}class GE{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DR;case"linkViaPopup":case"linkViaRedirect":return OR;case"reauthViaPopup":case"reauthViaRedirect":return jR;default:ai(this.auth,"internal-error")}}resolve(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const MR=new gc(2e3,1e4);class mo extends GE{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const e=Np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MR.get())};e()}}mo.currentPopupAction=null;const kR="pendingRedirect",fh=new Map;class VR extends GE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const r=await LR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LR(s,e){const n=zR(e),r=UR(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function PR(s,e){fh.set(s._key(),e)}function UR(s){return hs(s._redirectPersistence)}function zR(s){return dh(kR,s.config.apiKey,s.name)}async function BR(s,e,n=!1){if(Rn(s.app))return Promise.reject(ds(s));const r=fa(s),o=IR(r,e),d=await new VR(r,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const qR=600*1e3;class FR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!QE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Vi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qR&&this.cachedEventUids.clear(),this.cachedEventUids.has(x0(e))}saveEventToCache(e){this.cachedEventUids.add(x0(e)),this.lastProcessedEventTime=Date.now()}}function x0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function QE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function HR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QE(s);default:return!1}}async function GR(s,e={}){return ys(s,"GET","/v1/projects",e)}const QR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KR=/^https?/;async function YR(s){if(s.config.emulator)return;const{authorizedDomains:e}=await GR(s);for(const n of e)try{if($R(n))return}catch{}ai(s,"unauthorized-domain")}function $R(s){const e=Qm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!KR.test(n))return!1;if(QR.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const XR=new gc(3e4,6e4);function w0(){const s=Li().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function WR(s){return new Promise((e,n)=>{function r(){w0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w0(),n(Vi(s,"network-request-failed"))},timeout:XR.get()})}if(Li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Li().gapi?.load)r();else{const o=Bw("iframefcb");return Li()[o]=()=>{gapi.load?r():n(Vi(s,"network-request-failed"))},IE(`${zw()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw mh=null,e})}let mh=null;function JR(s){return mh=mh||WR(s),mh}const ZR=new gc(5e3,15e3),eC="__/auth/iframe",tC="emulator/auth/iframe",nC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sC(s){const e=s.config;Ee(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Sp(e,tC):`https://${s.config.authDomain}/${eC}`,r={apiKey:e.apiKey,appName:s.name,v:da},o=iC.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${pc(r).slice(1)}`}async function rC(s){const e=await JR(s),n=Li().gapi;return Ee(n,s,"internal-error"),e.open({where:document.body,url:sC(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nC,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=Vi(s,"network-request-failed"),p=Li().setTimeout(()=>{c(d)},ZR.get());function g(){Li().clearTimeout(p),o(r)}r.ping(g).then(g,()=>{c(d)})}))}const aC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oC=500,lC=600,cC="_blank",uC="http://localhost";class R0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hC(s,e,n,r=oC,o=lC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...aC,width:r.toString(),height:o.toString(),top:c,left:d},y=sn().toLowerCase();n&&(p=AE(y)?cC:n),TE(y)&&(e=e||uC,g.scrollbars="yes");const T=Object.entries(g).reduce((x,[U,H])=>`${x}${U}=${H},`,"");if(Dw(y)&&p!=="_self")return dC(e||"",p),new R0(null);const A=window.open(e||"",p,T);Ee(A,s,"popup-blocked");try{A.focus()}catch{}return new R0(A)}function dC(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const fC="__/auth/handler",mC="emulator/auth/handler",pC=encodeURIComponent("fac");async function C0(s,e,n,r,o,c){Ee(s.config.authDomain,s,"auth-domain-config-required"),Ee(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:da,eventId:o};if(e instanceof OE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",ZS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(e instanceof yc){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await s._getAppCheckToken(),y=g?`#${pC}=${encodeURIComponent(g)}`:"";return`${gC(s)}?${pc(p).slice(1)}${y}`}function gC({config:s}){return s.emulator?Sp(s,mC):`https://${s.authDomain}/${fC}`}const Cm="webStorageSupport";class _C{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zE,this._completeRedirectFn=BR,this._overrideRedirectResult=PR}async _openPopup(e,n,r,o){ps(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await C0(e,n,r,Qm(),o);return hC(e,c,Np())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await C0(e,n,r,Qm(),o);return ER(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(ps(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await rC(e),r=new FR(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cm,{type:Cm},o=>{const c=o?.[0]?.[Cm];c!==void 0&&n(!!c),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CE()||bE()||wp()}}const yC=_C;var N0="@firebase/auth",I0="1.12.0";class vC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function EC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TC(s){sa(new hr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NE(s)},y=new Lw(r,o,c,g);return Kw(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sa(new hr("auth-internal",e=>{const n=fa(e.getProvider("auth").getImmediate());return(r=>new vC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ki(N0,I0,EC(s)),ki(N0,I0,"esm2020")}const bC=300,AC=aE("authIdTokenMaxAge")||bC;let D0=null;const SC=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AC)return;const o=n?.token;D0!==o&&(D0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function xC(s=bp()){const e=Kh(s,"auth");if(e.isInitialized())return e.getImmediate();const n=Qw(s,{popupRedirectResolver:yC,persistence:[NR,_R,zE]}),r=aE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=SC(c.toString());dR(n,d,()=>d(n.currentUser)),hR(n,p=>d(p))}}const o=iE("auth");return o&&Yw(n,`http://${o}`),n}function wC(){return document.getElementsByTagName("head")?.[0]??document}Pw({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=Vi("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",wC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TC("Browser");var j0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cr,KE;(function(){var s;function e(R,w){function C(){}C.prototype=w.prototype,R.F=w.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(k,D,P){for(var N=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)N[ot-2]=arguments[ot];return w.prototype[D].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,C){C||(C=0);const k=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)k[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)k[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=R.g[0],C=R.g[1],D=R.g[2];let P=R.g[3],N;N=w+(P^C&(D^P))+k[0]+3614090360&4294967295,w=C+(N<<7&4294967295|N>>>25),N=P+(D^w&(C^D))+k[1]+3905402710&4294967295,P=w+(N<<12&4294967295|N>>>20),N=D+(C^P&(w^C))+k[2]+606105819&4294967295,D=P+(N<<17&4294967295|N>>>15),N=C+(w^D&(P^w))+k[3]+3250441966&4294967295,C=D+(N<<22&4294967295|N>>>10),N=w+(P^C&(D^P))+k[4]+4118548399&4294967295,w=C+(N<<7&4294967295|N>>>25),N=P+(D^w&(C^D))+k[5]+1200080426&4294967295,P=w+(N<<12&4294967295|N>>>20),N=D+(C^P&(w^C))+k[6]+2821735955&4294967295,D=P+(N<<17&4294967295|N>>>15),N=C+(w^D&(P^w))+k[7]+4249261313&4294967295,C=D+(N<<22&4294967295|N>>>10),N=w+(P^C&(D^P))+k[8]+1770035416&4294967295,w=C+(N<<7&4294967295|N>>>25),N=P+(D^w&(C^D))+k[9]+2336552879&4294967295,P=w+(N<<12&4294967295|N>>>20),N=D+(C^P&(w^C))+k[10]+4294925233&4294967295,D=P+(N<<17&4294967295|N>>>15),N=C+(w^D&(P^w))+k[11]+2304563134&4294967295,C=D+(N<<22&4294967295|N>>>10),N=w+(P^C&(D^P))+k[12]+1804603682&4294967295,w=C+(N<<7&4294967295|N>>>25),N=P+(D^w&(C^D))+k[13]+4254626195&4294967295,P=w+(N<<12&4294967295|N>>>20),N=D+(C^P&(w^C))+k[14]+2792965006&4294967295,D=P+(N<<17&4294967295|N>>>15),N=C+(w^D&(P^w))+k[15]+1236535329&4294967295,C=D+(N<<22&4294967295|N>>>10),N=w+(D^P&(C^D))+k[1]+4129170786&4294967295,w=C+(N<<5&4294967295|N>>>27),N=P+(C^D&(w^C))+k[6]+3225465664&4294967295,P=w+(N<<9&4294967295|N>>>23),N=D+(w^C&(P^w))+k[11]+643717713&4294967295,D=P+(N<<14&4294967295|N>>>18),N=C+(P^w&(D^P))+k[0]+3921069994&4294967295,C=D+(N<<20&4294967295|N>>>12),N=w+(D^P&(C^D))+k[5]+3593408605&4294967295,w=C+(N<<5&4294967295|N>>>27),N=P+(C^D&(w^C))+k[10]+38016083&4294967295,P=w+(N<<9&4294967295|N>>>23),N=D+(w^C&(P^w))+k[15]+3634488961&4294967295,D=P+(N<<14&4294967295|N>>>18),N=C+(P^w&(D^P))+k[4]+3889429448&4294967295,C=D+(N<<20&4294967295|N>>>12),N=w+(D^P&(C^D))+k[9]+568446438&4294967295,w=C+(N<<5&4294967295|N>>>27),N=P+(C^D&(w^C))+k[14]+3275163606&4294967295,P=w+(N<<9&4294967295|N>>>23),N=D+(w^C&(P^w))+k[3]+4107603335&4294967295,D=P+(N<<14&4294967295|N>>>18),N=C+(P^w&(D^P))+k[8]+1163531501&4294967295,C=D+(N<<20&4294967295|N>>>12),N=w+(D^P&(C^D))+k[13]+2850285829&4294967295,w=C+(N<<5&4294967295|N>>>27),N=P+(C^D&(w^C))+k[2]+4243563512&4294967295,P=w+(N<<9&4294967295|N>>>23),N=D+(w^C&(P^w))+k[7]+1735328473&4294967295,D=P+(N<<14&4294967295|N>>>18),N=C+(P^w&(D^P))+k[12]+2368359562&4294967295,C=D+(N<<20&4294967295|N>>>12),N=w+(C^D^P)+k[5]+4294588738&4294967295,w=C+(N<<4&4294967295|N>>>28),N=P+(w^C^D)+k[8]+2272392833&4294967295,P=w+(N<<11&4294967295|N>>>21),N=D+(P^w^C)+k[11]+1839030562&4294967295,D=P+(N<<16&4294967295|N>>>16),N=C+(D^P^w)+k[14]+4259657740&4294967295,C=D+(N<<23&4294967295|N>>>9),N=w+(C^D^P)+k[1]+2763975236&4294967295,w=C+(N<<4&4294967295|N>>>28),N=P+(w^C^D)+k[4]+1272893353&4294967295,P=w+(N<<11&4294967295|N>>>21),N=D+(P^w^C)+k[7]+4139469664&4294967295,D=P+(N<<16&4294967295|N>>>16),N=C+(D^P^w)+k[10]+3200236656&4294967295,C=D+(N<<23&4294967295|N>>>9),N=w+(C^D^P)+k[13]+681279174&4294967295,w=C+(N<<4&4294967295|N>>>28),N=P+(w^C^D)+k[0]+3936430074&4294967295,P=w+(N<<11&4294967295|N>>>21),N=D+(P^w^C)+k[3]+3572445317&4294967295,D=P+(N<<16&4294967295|N>>>16),N=C+(D^P^w)+k[6]+76029189&4294967295,C=D+(N<<23&4294967295|N>>>9),N=w+(C^D^P)+k[9]+3654602809&4294967295,w=C+(N<<4&4294967295|N>>>28),N=P+(w^C^D)+k[12]+3873151461&4294967295,P=w+(N<<11&4294967295|N>>>21),N=D+(P^w^C)+k[15]+530742520&4294967295,D=P+(N<<16&4294967295|N>>>16),N=C+(D^P^w)+k[2]+3299628645&4294967295,C=D+(N<<23&4294967295|N>>>9),N=w+(D^(C|~P))+k[0]+4096336452&4294967295,w=C+(N<<6&4294967295|N>>>26),N=P+(C^(w|~D))+k[7]+1126891415&4294967295,P=w+(N<<10&4294967295|N>>>22),N=D+(w^(P|~C))+k[14]+2878612391&4294967295,D=P+(N<<15&4294967295|N>>>17),N=C+(P^(D|~w))+k[5]+4237533241&4294967295,C=D+(N<<21&4294967295|N>>>11),N=w+(D^(C|~P))+k[12]+1700485571&4294967295,w=C+(N<<6&4294967295|N>>>26),N=P+(C^(w|~D))+k[3]+2399980690&4294967295,P=w+(N<<10&4294967295|N>>>22),N=D+(w^(P|~C))+k[10]+4293915773&4294967295,D=P+(N<<15&4294967295|N>>>17),N=C+(P^(D|~w))+k[1]+2240044497&4294967295,C=D+(N<<21&4294967295|N>>>11),N=w+(D^(C|~P))+k[8]+1873313359&4294967295,w=C+(N<<6&4294967295|N>>>26),N=P+(C^(w|~D))+k[15]+4264355552&4294967295,P=w+(N<<10&4294967295|N>>>22),N=D+(w^(P|~C))+k[6]+2734768916&4294967295,D=P+(N<<15&4294967295|N>>>17),N=C+(P^(D|~w))+k[13]+1309151649&4294967295,C=D+(N<<21&4294967295|N>>>11),N=w+(D^(C|~P))+k[4]+4149444226&4294967295,w=C+(N<<6&4294967295|N>>>26),N=P+(C^(w|~D))+k[11]+3174756917&4294967295,P=w+(N<<10&4294967295|N>>>22),N=D+(w^(P|~C))+k[2]+718787259&4294967295,D=P+(N<<15&4294967295|N>>>17),N=C+(P^(D|~w))+k[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+P&4294967295}r.prototype.v=function(R,w){w===void 0&&(w=R.length);const C=w-this.blockSize,k=this.C;let D=this.h,P=0;for(;P<w;){if(D==0)for(;P<=C;)o(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<w;)if(k[D++]=R.charCodeAt(P++),D==this.blockSize){o(this,k),D=0;break}}else for(;P<w;)if(k[D++]=R[P++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)R[w++]=this.g[C]>>>k&255;return R};function c(R,w){var C=p;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=w(R)}function d(R,w){this.h=w;const C=[];let k=!0;for(let D=R.length-1;D>=0;D--){const P=R[D]|0;k&&P==w||(C[D]=P,k=!1)}this.g=C}var p={};function g(R){return-128<=R&&R<128?c(R,function(w){return new d([w|0],w<0?-1:0)}):new d([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return A;if(R<0)return V(y(-R));const w=[];let C=1;for(let k=0;R>=C;k++)w[k]=R/C|0,C*=4294967296;return new d(w,0)}function T(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return V(T(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let k=A;for(let P=0;P<R.length;P+=8){var D=Math.min(8,R.length-P);const N=parseInt(R.substring(P,P+D),w);D<8?(D=y(Math.pow(w,D)),k=k.j(D).add(y(N))):(k=k.j(C),k=k.add(y(N)))}return k}var A=g(0),x=g(1),U=g(16777216);s=d.prototype,s.m=function(){if(O(this))return-V(this).m();let R=0,w=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);R+=(k>=0?k:4294967296+k)*w,w*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(H(this))return"0";if(O(this))return"-"+V(this).toString(R);const w=y(Math.pow(R,6));var C=this;let k="";for(;;){const D=me(C,w).g;C=$(C,D.j(w));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=D,H(C))return P+k;for(;P.length<6;)P="0"+P;k=P+k}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function H(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function O(R){return R.h==-1}s.l=function(R){return R=$(this,R),O(R)?-1:H(R)?0:1};function V(R){const w=R.g.length,C=[];for(let k=0;k<w;k++)C[k]=~R.g[k];return new d(C,~R.h).add(x)}s.abs=function(){return O(this)?V(this):this},s.add=function(R){const w=Math.max(this.g.length,R.g.length),C=[];let k=0;for(let D=0;D<=w;D++){let P=k+(this.i(D)&65535)+(R.i(D)&65535),N=(P>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);k=N>>>16,P&=65535,N&=65535,C[D]=N<<16|P}return new d(C,C[C.length-1]&-2147483648?-1:0)};function $(R,w){return R.add(V(w))}s.j=function(R){if(H(this)||H(R))return A;if(O(this))return O(R)?V(this).j(V(R)):V(V(this).j(R));if(O(R))return V(this.j(V(R)));if(this.l(U)<0&&R.l(U)<0)return y(this.m()*R.m());const w=this.g.length+R.g.length,C=[];for(var k=0;k<2*w;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<R.g.length;D++){const P=this.i(k)>>>16,N=this.i(k)&65535,ot=R.i(D)>>>16,Mt=R.i(D)&65535;C[2*k+2*D]+=N*Mt,se(C,2*k+2*D),C[2*k+2*D+1]+=P*Mt,se(C,2*k+2*D+1),C[2*k+2*D+1]+=N*ot,se(C,2*k+2*D+1),C[2*k+2*D+2]+=P*ot,se(C,2*k+2*D+2)}for(R=0;R<w;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=w;R<2*w;R++)C[R]=0;return new d(C,0)};function se(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function ne(R,w){this.g=R,this.h=w}function me(R,w){if(H(w))throw Error("division by zero");if(H(R))return new ne(A,A);if(O(R))return w=me(V(R),w),new ne(V(w.g),V(w.h));if(O(w))return w=me(R,V(w)),new ne(V(w.g),w.h);if(R.g.length>30){if(O(R)||O(w))throw Error("slowDivide_ only works with positive integers.");for(var C=x,k=w;k.l(R)<=0;)C=Ae(C),k=Ae(k);var D=le(C,1),P=le(k,1);for(k=le(k,2),C=le(C,2);!H(k);){var N=P.add(k);N.l(R)<=0&&(D=D.add(C),P=N),k=le(k,1),C=le(C,1)}return w=$(R,D.j(w)),new ne(D,w)}for(D=A;R.l(w)>=0;){for(C=Math.max(1,Math.floor(R.m()/w.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),P=y(C),N=P.j(w);O(N)||N.l(R)>0;)C-=k,P=y(C),N=P.j(w);H(P)&&(P=x),D=D.add(P),R=$(R,N)}return new ne(D,R)}s.B=function(R){return me(this,R).h},s.and=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)&R.i(k);return new d(C,this.h&R.h)},s.or=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)|R.i(k);return new d(C,this.h|R.h)},s.xor=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)^R.i(k);return new d(C,this.h^R.h)};function Ae(R){const w=R.g.length+1,C=[];for(let k=0;k<w;k++)C[k]=R.i(k)<<1|R.i(k-1)>>>31;return new d(C,R.h)}function le(R,w){const C=w>>5;w%=32;const k=R.g.length-C,D=[];for(let P=0;P<k;P++)D[P]=w>0?R.i(P+C)>>>w|R.i(P+C+1)<<32-w:R.i(P+C);return new d(D,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,KE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,cr=d}).apply(typeof j0<"u"?j0:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var YE,Hl,$E,ph,Xm,XE,WE,JE;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var _=0;_<u.length;++_){var E=u[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function o(u,_){if(_)e:{var E=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var z=u[S];if(!(z in E))break e;E=E[z]}u=u[u.length-1],S=E[u],_=_(S),_!=S&&_!=null&&e(E,u,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(_){var E=[],S;for(S in _)Object.prototype.hasOwnProperty.call(_,S)&&E.push([S,_[S]]);return E}});var c=c||{},d=this||self;function p(u){var _=typeof u;return _=="object"&&u!=null||_=="function"}function g(u,_,E){return u.call.apply(u.bind,arguments)}function y(u,_,E){return y=g,y.apply(null,arguments)}function T(u,_){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,_){function E(){}E.prototype=_.prototype,u.Z=_.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(S,z,G){for(var ie=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)ie[Re-2]=arguments[Re];return _.prototype[z].apply(S,ie)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function U(u){const _=u.length;if(_>0){const E=Array(_);for(let S=0;S<_;S++)E[S]=u[S];return E}return[]}function H(u,_){for(let S=1;S<arguments.length;S++){const z=arguments[S];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=u.length||0;const G=z.length||0;u.length=E+G;for(let ie=0;ie<G;ie++)u[E+ie]=z[ie]}else u.push(z)}}class O{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function V(u){d.setTimeout(()=>{throw u},0)}function $(){var u=R;let _=null;return u.g&&(_=u.g,u.g=u.g.next,u.g||(u.h=null),_.next=null),_}class se{constructor(){this.h=this.g=null}add(_,E){const S=ne.get();S.set(_,E),this.h?this.h.next=S:this.g=S,this.h=S}}var ne=new O(()=>new me,u=>u.reset());class me{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,le=!1,R=new se,w=()=>{const u=Promise.resolve(void 0);Ae=()=>{u.then(C)}};function C(){for(var u;u=$();){try{u.h.call(u.g)}catch(E){V(E)}var _=ne;_.j(u),_.h<100&&(_.h++,u.next=_.g,_.g=u)}le=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,_){this.type=u,this.g=this.target=_,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,_=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};d.addEventListener("test",E,_),d.removeEventListener("test",E,_)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function ot(u,_){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,_)}A(ot,D),ot.prototype.init=function(u,_){const E=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=_,_=u.relatedTarget,_||(E=="mouseover"?_=u.fromElement:E=="mouseout"&&(_=u.toElement)),this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Mt="closure_listenable_"+(Math.random()*1e6|0),Y=0;function re(u,_,E,S,z){this.listener=u,this.proxy=null,this.src=_,this.type=E,this.capture=!!S,this.ha=z,this.key=++Y,this.da=this.fa=!1}function _e(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Be(u,_,E){for(const S in u)_.call(E,u[S],S,u)}function Ye(u,_){for(const E in u)_.call(void 0,u[E],E,u)}function M(u){const _={};for(const E in u)_[E]=u[E];return _}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,_){let E,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(E in S)u[E]=S[E];for(let G=0;G<ee.length;G++)E=ee[G],Object.prototype.hasOwnProperty.call(S,E)&&(u[E]=S[E])}}function ue(u){this.src=u,this.g={},this.h=0}ue.prototype.add=function(u,_,E,S,z){const G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);const ie=Ne(u,_,S,z);return ie>-1?(_=u[ie],E||(_.fa=!1)):(_=new re(_,this.src,G,!!S,z),_.fa=E,u.push(_)),_};function be(u,_){const E=_.type;if(E in u.g){var S=u.g[E],z=Array.prototype.indexOf.call(S,_,void 0),G;(G=z>=0)&&Array.prototype.splice.call(S,z,1),G&&(_e(_),u.g[E].length==0&&(delete u.g[E],u.h--))}}function Ne(u,_,E,S){for(let z=0;z<u.length;++z){const G=u[z];if(!G.da&&G.listener==_&&G.capture==!!E&&G.ha==S)return z}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),kt={};function lt(u,_,E,S,z){if(Array.isArray(_)){for(let G=0;G<_.length;G++)lt(u,_[G],E,S,z);return null}return E=Lo(E),u&&u[Mt]?u.J(_,E,p(S)?!!S.capture:!1,z):Ar(u,_,E,!1,S,z)}function Ar(u,_,E,S,z,G){if(!_)throw Error("Invalid event type");const ie=p(z)?!!z.capture:!!z;let Re=Sr(u);if(Re||(u[Ue]=Re=new ue(u)),E=Re.add(_,E,S,ie,G),E.proxy)return E;if(S=ya(),E.proxy=S,S.src=u,S.listener=E,u.addEventListener)P||(z=ie),z===void 0&&(z=!1),u.addEventListener(_.toString(),S,z);else if(u.attachEvent)u.attachEvent(ui(_.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ya(){function u(E){return _.call(u.src,u.listener,E)}const _=ko;return u}function va(u,_,E,S,z){if(Array.isArray(_))for(var G=0;G<_.length;G++)va(u,_[G],E,S,z);else S=p(S)?!!S.capture:!!S,E=Lo(E),u&&u[Mt]?(u=u.i,G=String(_).toString(),G in u.g&&(_=u.g[G],E=Ne(_,E,S,z),E>-1&&(_e(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete u.g[G],u.h--)))):u&&(u=Sr(u))&&(_=u.g[_.toString()],u=-1,_&&(u=Ne(_,E,S,z)),(E=u>-1?_[u]:null)&&Ea(E))}function Ea(u){if(typeof u!="number"&&u&&!u.da){var _=u.src;if(_&&_[Mt])be(_.i,u);else{var E=u.type,S=u.proxy;_.removeEventListener?_.removeEventListener(E,S,u.capture):_.detachEvent?_.detachEvent(ui(E),S):_.addListener&&_.removeListener&&_.removeListener(S),(E=Sr(_))?(be(E,u),E.h==0&&(E.src=null,_[Ue]=null)):_e(u)}}}function ui(u){return u in kt?kt[u]:kt[u]="on"+u}function ko(u,_){if(u.da)u=!0;else{_=new ot(_,this);const E=u.listener,S=u.ha||u.src;u.fa&&Ea(u),u=E.call(S,_)}return u}function Sr(u){return u=u[Ue],u instanceof ue?u:null}var Vo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lo(u){return typeof u=="function"?u:(u[Vo]||(u[Vo]=function(_){return u.handleEvent(_)}),u[Vo])}function Tt(){k.call(this),this.i=new ue(this),this.M=this,this.G=null}A(Tt,k),Tt.prototype[Mt]=!0,Tt.prototype.removeEventListener=function(u,_,E,S){va(this,u,_,E,S)};function Vt(u,_){var E,S=u.G;if(S)for(E=[];S;S=S.G)E.push(S);if(u=u.M,S=_.type||_,typeof _=="string")_=new D(_,u);else if(_ instanceof D)_.target=_.target||u;else{var z=_;_=new D(S,u),ae(_,z)}z=!0;let G,ie;if(E)for(ie=E.length-1;ie>=0;ie--)G=_.g=E[ie],z=vs(G,S,!0,_)&&z;if(G=_.g=u,z=vs(G,S,!0,_)&&z,z=vs(G,S,!1,_)&&z,E)for(ie=0;ie<E.length;ie++)G=_.g=E[ie],z=vs(G,S,!1,_)&&z}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var u=this.i;for(const _ in u.g){const E=u.g[_];for(let S=0;S<E.length;S++)_e(E[S]);delete u.g[_],u.h--}}this.G=null},Tt.prototype.J=function(u,_,E,S){return this.i.add(String(u),_,!1,E,S)},Tt.prototype.K=function(u,_,E,S){return this.i.add(String(u),_,!0,E,S)};function vs(u,_,E,S){if(_=u.i.g[String(_)],!_)return!0;_=_.concat();let z=!0;for(let G=0;G<_.length;++G){const ie=_[G];if(ie&&!ie.da&&ie.capture==E){const Re=ie.listener,gt=ie.ha||ie.src;ie.fa&&be(u.i,ie),z=Re.call(gt,S)!==!1&&z}}return z&&!S.defaultPrevented}function gd(u,_){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:d.setTimeout(u,_||0)}function Cc(u){u.g=gd(()=>{u.g=null,u.i&&(u.i=!1,Cc(u))},u.l);const _=u.h;u.h=null,u.m.apply(null,_)}class rn extends k{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Cc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(u){k.call(this),this.h=u,this.g={}}A(xr,k);var Po=[];function Uo(u){Be(u.g,function(_,E){this.g.hasOwnProperty(E)&&Ea(_)},u),u.g={}}xr.prototype.N=function(){xr.Z.N.call(this),Uo(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Es=d.JSON.stringify,_d=d.JSON.parse,Nc=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ic(){}function Dc(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){D.call(this,"d")}A(Ft,D);function Nn(){D.call(this,"c")}A(Nn,D);var pt={},jc=null;function Ta(){return jc=jc||new Tt}pt.Ia="serverreachability";function Oc(u){D.call(this,pt.Ia,u)}A(Oc,D);function hi(u){const _=Ta();Vt(_,new Oc(_))}pt.STAT_EVENT="statevent";function wr(u,_){D.call(this,pt.STAT_EVENT,u),this.stat=_}A(wr,D);function bt(u){const _=Ta();Vt(_,new wr(_,u))}pt.Ja="timingevent";function di(u,_){D.call(this,pt.Ja,u),this.size=_}A(di,D);function fi(u,_){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},_)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function yd(u,_,E,S,z,G){u.info(function(){if(u.g)if(G){var ie="",Re=G.split("&");for(let He=0;He<Re.length;He++){var gt=Re[He].split("=");if(gt.length>1){const ct=gt[0];gt=gt[1];const On=ct.split("_");ie=On.length>=2&&On[1]=="type"?ie+(ct+"="+gt+"&"):ie+(ct+"=redacted&")}}}else ie=null;else ie=G;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+_+`
`+E+`
`+ie})}function Mc(u,_,E,S,z,G,ie){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+_+`
`+E+`
`+G+" "+ie})}function mi(u,_,E,S){u.info(function(){return"XMLHTTP TEXT ("+_+"): "+vd(u,E)+(S?" "+S:"")})}function Rr(u,_){u.info(function(){return"TIMEOUT: "+_})}Gn.prototype.info=function(){};function vd(u,_){if(!u.g)return _;if(!_)return null;try{const G=JSON.parse(_);if(G){for(u=0;u<G.length;u++)if(Array.isArray(G[u])){var E=G[u];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var z=S[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ie=1;ie<S.length;ie++)S[ie]=""}}}}return Es(G)}catch{return _}}var Cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bo;function Nr(){}A(Nr,Ic),Nr.prototype.g=function(){return new XMLHttpRequest},Bo=new Nr;function Gi(u){return encodeURIComponent(String(u))}function kc(u){var _=1;u=u.split(":");const E=[];for(;_>0&&u.length;)E.push(u.shift()),_--;return u.length&&E.push(u.join(":")),E}function Qn(u,_,E,S){this.j=u,this.i=_,this.l=E,this.S=S||1,this.V=new xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var At={},Ut={};function pi(u,_,E){u.M=1,u.A=Ir(xt(_)),u.u=E,u.R=!0,ba(u,null)}function ba(u,_){u.F=Date.now(),gi(u),u.B=xt(u.A);var E=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),wa(E.i,"t",S),u.C=0,E=u.j.L,u.h=new Kn,u.g=Xc(u.j,E?_:null,!u.u),u.P>0&&(u.O=new rn(y(u.Y,u,u.g),u.P)),_=u.V,E=u.g,S=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(Po[0]=z.toString()),z=Po);for(let G=0;G<z.length;G++){const ie=lt(E,z[G],S||_.handleEvent,!1,_.h||_);if(!ie)break;_.g[ie.key]=ie}_=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,_)):(u.v="GET",u.g.ea(u.B,u.v,null,_)),hi(),yd(u.i,u.v,u.B,u.l,u.S,u.u)}Qn.prototype.ba=function(u){u=u.target;const _=this.O;_&&Xn(u)==3?_.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)e:{const Re=Xn(this.g),gt=this.g.ya(),He=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Re!=4||gt==7||(gt==8||He<=0?hi(3):hi(2)),_i(this);var _=this.g.ca();this.X=_;var E=Ed(this);if(this.o=_==200,Mc(this.i,this.v,this.B,this.l,this.S,Re,_),this.o){if(this.U&&!this.L){t:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var G=S;break t}}G=null}if(u=G)mi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,u);else{this.o=!1,this.m=3,bt(12),yn(this),In(this);break e}}if(this.R){u=!0;let ct;for(;!this.K&&this.C<E.length;)if(ct=Lc(this,E),ct==Ut){Re==4&&(this.m=4,bt(14),u=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==At){this.m=4,bt(15),mi(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else mi(this.i,this.l,ct,null),yi(this,ct);if(Vc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||E.length!=0||this.h.h||(this.m=1,bt(16),u=!1),this.o=this.o&&u,!u)mi(this.i,this.l,E,"[Invalid Chunked Response]"),yn(this),In(this);else if(E.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),nl(ie),ie.P=!0,bt(11))}}else mi(this.i,this.l,E,null),yi(this,E);Re==4&&yn(this),this.o&&!this.K&&(Re==4?Qc(this.j,this):(this.o=!1,gi(this)))}else Ki(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),yn(this),In(this)}}}catch{}};function Ed(u){if(!Vc(u))return u.g.la();const _=Ht(u.g);if(_==="")return"";let E="";const S=_.length,z=Xn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return yn(u),In(u),"";u.h.i=new d.TextDecoder}for(let G=0;G<S;G++)u.h.h=!0,E+=u.h.i.decode(_[G],{stream:!(z&&G==S-1)});return _.length=0,u.h.g+=E,u.C=0,u.h.g}function Vc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Lc(u,_){var E=u.C,S=_.indexOf(`
`,E);return S==-1?Ut:(E=Number(_.substring(E,S)),isNaN(E)?At:(S+=1,S+E>_.length?Ut:(_=_.slice(S,S+E),u.C=S+E,_)))}Qn.prototype.cancel=function(){this.K=!0,yn(this)};function gi(u){u.T=Date.now()+u.H,Aa(u,u.H)}function Aa(u,_){if(u.D!=null)throw Error("WatchDog timer not null");u.D=fi(y(u.aa,u),_)}function _i(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Rr(this.i,this.B),this.M!=2&&(hi(),bt(17)),yn(this),this.m=2,In(this)):Aa(this,this.T-u)};function In(u){u.j.I==0||u.K||Qc(u.j,u)}function yn(u){_i(u);var _=u.O;_&&typeof _.dispose=="function"&&_.dispose(),u.O=null,Uo(u.V),u.g&&(_=u.g,u.g=null,_.abort(),_.dispose())}function yi(u,_){try{var E=u.j;if(E.I!=0&&(E.g==u||Ei(E.h,u))){if(!u.L&&Ei(E.h,u)&&E.I==3){try{var S=E.Ba.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)Da(E),Cs(E);else break e;Lr(E),bt(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=fi(y(E.Va,E),6e3));vi(E.h)<=1&&E.ta&&(E.ta=void 0)}else wi(E,11)}else if((u.L||E.g==u)&&Da(E),!N(_))for(z=E.Ba.g.parse(_),_=0;_<z.length;_++){let He=z[_];const ct=He[0];if(!(ct<=E.K))if(E.K=ct,He=He[1],E.I==2)if(He[0]=="c"){E.M=He[1],E.ba=He[2];const On=He[3];On!=null&&(E.ka=On,E.j.info("VER="+E.ka));const Ri=He[4];Ri!=null&&(E.za=Ri,E.j.info("SVER="+E.za));const Wn=He[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(S=1.5*Wn,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const Jn=u.g;if(Jn){const Pr=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var G=S.h;G.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ho(G,G.h),G.h=null))}if(S.G){const ja=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(S.wa=ja,$e(S.J,S.G,ja))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var ie=u;if(S.na=$c(S,S.L?S.ba:null,S.W),ie.L){Go(S.h,ie);var Re=ie,gt=S.O;gt&&(Re.H=gt),Re.D&&(_i(Re),gi(Re)),S.g=ie}else Hc(S);E.i.length>0&&xi(E)}else He[0]!="stop"&&He[0]!="close"||wi(E,7);else E.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?wi(E,7):el(E):He[0]!="noop"&&E.l&&E.l.qa(He),E.A=0)}}hi(4)}catch{}}var St=class{constructor(u,_){this.g=u,this.map=_}};function qo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vi(u){return u.h?1:u.g?u.g.size:0}function Ei(u,_){return u.h?u.h==_:u.g?u.g.has(_):!1}function Ho(u,_){u.g?u.g.add(_):u.h=_}function Go(u,_){u.h&&u.h==_?u.h=null:u.g&&u.g.has(_)&&u.g.delete(_)}qo.prototype.cancel=function(){if(this.i=Qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Qo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let _=u.i;for(const E of u.g.values())_=_.concat(E.G);return _}return U(u.i)}var Pc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(u,_){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const S=u[E].indexOf("=");let z,G=null;S>=0?(z=u[E].substring(0,S),G=u[E].substring(S+1)):z=u[E],_(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;u instanceof vn?(this.l=u.l,zt(this,u.j),this.o=u.o,this.g=u.g,Ts(this,u.u),this.h=u.h,Ko(this,qc(u.i)),this.m=u.m):u&&(_=String(u).match(Pc))?(this.l=!1,zt(this,_[1]||"",!0),this.o=Ti(_[2]||""),this.g=Ti(_[3]||"",!0),Ts(this,_[4]),this.h=Ti(_[5]||"",!0),Ko(this,_[6]||"",!0),this.m=Ti(_[7]||"")):(this.l=!1,this.i=new As(null,this.l))}vn.prototype.toString=function(){const u=[];var _=this.j;_&&u.push(Dr(_,xa,!0),":");var E=this.g;return(E||_=="file")&&(u.push("//"),(_=this.o)&&u.push(Dr(_,xa,!0),"@"),u.push(Gi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Dr(E,E.charAt(0)=="/"?Yo:Uc,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Dr(E,zc)),u.join("")},vn.prototype.resolve=function(u){const _=xt(this);let E=!!u.j;E?zt(_,u.j):E=!!u.o,E?_.o=u.o:E=!!u.g,E?_.g=u.g:E=u.u!=null;var S=u.h;if(E)Ts(_,u.u);else if(E=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var z=_.h.lastIndexOf("/");z!=-1&&(S=_.h.slice(0,z+1)+S)}if(z=S,z==".."||z==".")S="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){S=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let ie=0;ie<z.length;){const Re=z[ie++];Re=="."?S&&ie==z.length&&G.push(""):Re==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&ie==z.length&&G.push("")):(G.push(Re),S=!0)}S=G.join("/")}else S=z}return E?_.h=S:E=u.i.toString()!=="",E?Ko(_,qc(u.i)):E=!!u.m,E&&(_.m=u.m),_};function xt(u){return new vn(u)}function zt(u,_,E){u.j=E?Ti(_,!0):_,u.j&&(u.j=u.j.replace(/:$/,""))}function Ts(u,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);u.u=_}else u.u=null}function Ko(u,_,E){_ instanceof As?(u.i=_,Ra(u.i,u.l)):(E||(_=Dr(_,bs)),u.i=new As(_,u.l))}function $e(u,_,E){u.i.set(_,E)}function Ir(u){return $e(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ti(u,_){return u?_?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Dr(u,_,E){return typeof u=="string"?(u=encodeURI(u).replace(_,ln),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ln(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xa=/[#\/\?@]/g,Uc=/[#\?:]/g,Yo=/[#\?]/g,bs=/[#\?@]/g,zc=/#/g;function As(u,_){this.h=this.g=null,this.i=u||null,this.j=!!_}function cn(u){u.g||(u.g=new Map,u.h=0,u.i&&Sa(u.i,function(_,E){u.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}s=As.prototype,s.add=function(u,_){cn(this),this.i=null,u=Ss(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(_),this.h+=1,this};function Bc(u,_){cn(u),_=Ss(u,_),u.g.has(_)&&(u.i=null,u.h-=u.g.get(_).length,u.g.delete(_))}function $o(u,_){return cn(u),_=Ss(u,_),u.g.has(_)}s.forEach=function(u,_){cn(this),this.g.forEach(function(E,S){E.forEach(function(z){u.call(_,z,S,this)},this)},this)};function Xo(u,_){cn(u);let E=[];if(typeof _=="string")$o(u,_)&&(E=E.concat(u.g.get(Ss(u,_))));else for(u=Array.from(u.g.values()),_=0;_<u.length;_++)E=E.concat(u[_]);return E}s.set=function(u,_){return cn(this),this.i=null,u=Ss(this,u),$o(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[_]),this.h+=1,this},s.get=function(u,_){return u?(u=Xo(this,u),u.length>0?String(u[0]):_):_};function wa(u,_,E){Bc(u,_),E.length>0&&(u.i=null,u.g.set(Ss(u,_),U(E)),u.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],_=Array.from(this.g.keys());for(let S=0;S<_.length;S++){var E=_[S];const z=Gi(E);E=Xo(this,E);for(let G=0;G<E.length;G++){let ie=z;E[G]!==""&&(ie+="="+Gi(E[G])),u.push(ie)}}return this.i=u.join("&")};function qc(u){const _=new As;return _.i=u.i,u.g&&(_.g=new Map(u.g),_.h=u.h),_}function Ss(u,_){return _=String(_),u.j&&(_=_.toLowerCase()),_}function Ra(u,_){_&&!u.j&&(cn(u),u.i=null,u.g.forEach(function(E,S){const z=S.toLowerCase();S!=z&&(Bc(this,S),wa(this,z,E))},u)),u.j=_}function Yn(u,_){const E=new Gn;if(d.Image){const S=new Image;S.onload=T(Dn,E,"TestLoadImage: loaded",!0,_,S),S.onerror=T(Dn,E,"TestLoadImage: error",!1,_,S),S.onabort=T(Dn,E,"TestLoadImage: abort",!1,_,S),S.ontimeout=T(Dn,E,"TestLoadImage: timeout",!1,_,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else _(!1)}function Wo(u,_){const E=new Gn,S=new AbortController,z=setTimeout(()=>{S.abort(),Dn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(u,{signal:S.signal}).then(G=>{clearTimeout(z),G.ok?Dn(E,"TestPingServer: ok",!0,_):Dn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(z),Dn(E,"TestPingServer: error",!1,_)})}function Dn(u,_,E,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(E)}catch{}}function xs(){this.g=new Nc}function bi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(bi,Ic),bi.prototype.g=function(){return new jr(this.i,this.h)};function jr(u,_){Tt.call(this),this.H=u,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(jr,Tt),s=jr.prototype,s.open=function(u,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=_,this.readyState=1,$n(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(_.body=u),(this.H||d).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var _=u.value?u.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!u.done}))&&(this.response=this.responseText+=_)}u.done?ws(this):$n(this),this.readyState==3&&Ca(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ws(this))},s.Na=function(u){this.g&&(this.response=u,ws(this))},s.ga=function(){this.g&&ws(this)};function ws(u){u.readyState=4,u.l=null,u.j=null,u.B=null,$n(u)}s.setRequestHeader=function(u,_){this.A.append(u,_)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=_.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function jn(u){let _="";return Be(u,function(E,S){_+=S,_+=":",_+=E,_+=`\r
`}),_}function Or(u,_,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=jn(E),typeof u=="string"?E!=null&&Gi(E):$e(u,_,E))}function Ze(u){Tt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Ze,Tt);var Ai=/^https?$/i,Jo=["POST","PUT"];s=Ze.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,_,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);_=_?_.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bo.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(_,String(u),!0),this.B=!1}catch(G){Mr(this,G);return}if(u=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)E.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())E.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Jo,_,void 0)>=0)||S||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ie]of E)this.g.setRequestHeader(G,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(G){Mr(this,G)}};function Mr(u,_){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=_,u.o=5,Zo(u),Qi(u)}function Zo(u){u.A||(u.A=!0,Vt(u,"complete"),Vt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Vt(this,"complete"),Vt(this,"abort"),Qi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),Ze.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?kr(this):this.Xa())},s.Xa=function(){kr(this)};function kr(u){if(u.h&&typeof c<"u"){if(u.v&&Xn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Vt(u,"readystatechange"),Xn(u)==4){u.h=!1;try{const G=u.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var S;if(S=G===0){let ie=String(u.D).match(Pc)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),S=!Ai.test(ie?ie.toLowerCase():"")}E=S}if(E)Vt(u,"complete"),Vt(u,"success");else{u.o=6;try{var z=Xn(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",Zo(u)}}finally{Qi(u)}}}}function Qi(u,_){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,_||Vt(u,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Xn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var _=this.g.responseText;return u&&_.indexOf(u)==0&&(_=_.substring(u.length)),_d(_)}};function Ht(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(u){const _={};u=(u.g&&Xn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(N(u[S]))continue;var E=kc(u[S]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=_[z]||[];_[z]=G,G.push(E)}Ye(_,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(u,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||_}function Rs(u){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,u),this.Za=Si("retryDelaySeedMs",1e4,u),this.Ta=Si("forwardChannelMaxRetries",2,u),this.va=Si("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new qo(u&&u.concurrentRequestLimit),this.Ba=new xs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Rs.prototype,s.ka=8,s.I=1,s.connect=function(u,_,E,S){bt(0),this.W=u,this.H=_||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=$c(this,null,this.W),xi(this)};function el(u){if(Na(u),u.I==3){var _=u.V++,E=xt(u.J);if($e(E,"SID",u.M),$e(E,"RID",_),$e(E,"TYPE","terminate"),Vr(u,E),_=new Qn(u,u.j,_),_.M=2,_.A=Ir(xt(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=_.A,E=!0),E||(_.g=Xc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),gi(_)}Yc(u)}function Cs(u){u.g&&(nl(u),u.g.cancel(),u.g=null)}function Na(u){Cs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Da(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function xi(u){if(!Fo(u.h)&&!u.m){u.m=!0;var _=u.Ea;Ae||w(),le||(Ae(),le=!0),R.add(_,u),u.D=0}}function Ia(u,_){return vi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=_.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=fi(y(u.Ea,u,_),Kc(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new Qn(this,this.j,u);let G=this.o;if(this.U&&(G?(G=M(G),ae(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Fc(this,z,_),E=xt(this.J),$e(E,"RID",u),$e(E,"CVER",22),this.G&&$e(E,"X-HTTP-Session-Id",this.G),Vr(this,E),G&&(this.R?_="headers="+Gi(jn(G))+"&"+_:this.u&&Or(E,this.u,G)),Ho(this.h,z),this.Ra&&$e(E,"TYPE","init"),this.S?($e(E,"$req",_),$e(E,"SID","null"),z.U=!0,pi(z,E,null)):pi(z,E,_),this.I=2}}else this.I==3&&(u?tl(this,u):this.i.length==0||Fo(this.h)||tl(this))};function tl(u,_){var E;_?E=_.l:E=u.V++;const S=xt(u.J);$e(S,"SID",u.M),$e(S,"RID",E),$e(S,"AID",u.K),Vr(u,S),u.u&&u.o&&Or(S,u.u,u.o),E=new Qn(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),_&&(u.i=_.G.concat(u.i)),_=Fc(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ho(u.h,E),pi(E,S,_)}function Vr(u,_){u.H&&Be(u.H,function(E,S){$e(_,S,E)}),u.l&&Be({},function(E,S){$e(_,S,E)})}function Fc(u,_,E){E=Math.min(u.i.length,E);const S=u.l?y(u.l.Ka,u.l,u):null;e:{var z=u.i;let Re=-1;for(;;){const gt=["count="+E];Re==-1?E>0?(Re=z[0].g,gt.push("ofs="+Re)):Re=0:gt.push("ofs="+Re);let He=!0;for(let ct=0;ct<E;ct++){var G=z[ct].g;const On=z[ct].map;if(G-=Re,G<0)Re=Math.max(0,z[ct].g-100),He=!1;else try{G="req"+G+"_"||"";try{var ie=On instanceof Map?On:Object.entries(On);for(const[Ri,Wn]of ie){let Jn=Wn;p(Wn)&&(Jn=Es(Wn)),gt.push(G+Ri+"="+encodeURIComponent(Jn))}}catch(Ri){throw gt.push(G+"type="+encodeURIComponent("_badmap")),Ri}}catch{S&&S(On)}}if(He){ie=gt.join("&");break e}}ie=void 0}return u=u.i.splice(0,E),_.G=u,ie}function Hc(u){if(!u.g&&!u.v){u.Y=1;var _=u.Da;Ae||w(),le||(Ae(),le=!0),R.add(_,u),u.A=0}}function Lr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=fi(y(u.Da,u),Kc(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Gc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=fi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),Cs(this),Gc(this))};function nl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Gc(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var _=xt(u.na);$e(_,"RID","rpc"),$e(_,"SID",u.M),$e(_,"AID",u.K),$e(_,"CI",u.F?"0":"1"),!u.F&&u.ia&&$e(_,"TO",u.ia),$e(_,"TYPE","xmlhttp"),Vr(u,_),u.u&&u.o&&Or(_,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=Ir(xt(_)),E.u=null,E.R=!0,ba(E,u)}s.Va=function(){this.C!=null&&(this.C=null,Cs(this),Lr(this),bt(19))};function Da(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Qc(u,_){var E=null;if(u.g==_){Da(u),nl(u),u.g=null;var S=2}else if(Ei(u.h,_))E=_.G,Go(u.h,_),S=1;else return;if(u.I!=0){if(_.o)if(S==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var z=u.D;S=Ta(),Vt(S,new di(S,E)),xi(u)}else Hc(u);else if(z=_.m,z==3||z==0&&_.X>0||!(S==1&&Ia(u,_)||S==2&&Lr(u)))switch(E&&E.length>0&&(_=u.h,_.i=_.i.concat(E)),z){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function Kc(u,_){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*_}function wi(u,_){if(u.j.info("Error code "+_),_==2){var E=y(u.bb,u),S=u.Ua;const z=!S;S=new vn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||zt(S,"https"),Ir(S),z?Yn(S.toString(),E):Wo(S.toString(),E)}else bt(2);u.I=0,u.l&&u.l.pa(_),Yc(u),Na(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Yc(u){if(u.I=0,u.ja=[],u.l){const _=Qo(u.h);(_.length!=0||u.i.length!=0)&&(H(u.ja,_),H(u.ja,u.i),u.h.i.length=0,U(u.i),u.i.length=0),u.l.oa()}}function $c(u,_,E){var S=E instanceof vn?xt(E):new vn(E);if(S.g!="")_&&(S.g=_+"."+S.g),Ts(S,S.u);else{var z=d.location;S=z.protocol,_=_?_+"."+z.hostname:z.hostname,z=+z.port;const G=new vn(null);S&&zt(G,S),_&&(G.g=_),z&&Ts(G,z),E&&(G.h=E),S=G}return E=u.G,_=u.wa,E&&_&&$e(S,E,_),$e(S,"VER",u.ka),Vr(u,S),S}function Xc(u,_,E){if(_&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=u.Aa&&!u.ma?new Ze(new bi({ab:E})):new Ze(u.ma),_.Fa(u.L),_}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wc(){}s=Wc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ns(){}Ns.prototype.g=function(u,_){return new an(u,_)};function an(u,_){Tt.call(this),this.g=new Rs(_),this.l=u,this.h=_&&_.messageUrlParams||null,u=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(u?u["X-WebChannel-Content-Type"]=_.messageContentType:u={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(u?u["X-WebChannel-Client-Profile"]=_.sa:u={"X-WebChannel-Client-Profile":_.sa}),this.g.U=u,(u=_&&_.Qb)&&!N(u)&&(this.g.u=u),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,u=this.h,u!==null&&_ in u&&(u=this.h,_ in u&&delete u[_])),this.j=new Yi(this)}A(an,Tt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){el(this.g)},an.prototype.o=function(u){var _=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=Es(u),u=E);_.i.push(new St(_.Ya++,u)),_.I==3&&xi(_)},an.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,an.Z.N.call(this)};function Jc(u){Ft.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var _=u.__sm__;if(_){e:{for(const E in _){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,_=_!==null&&u in _?_[u]:void 0),this.data=_}else this.data=u}A(Jc,Ft);function Zc(){Nn.call(this),this.status=1}A(Zc,Nn);function Yi(u){this.g=u}A(Yi,Wc),Yi.prototype.ra=function(){Vt(this.g,"a")},Yi.prototype.qa=function(u){Vt(this.g,new Jc(u))},Yi.prototype.pa=function(u){Vt(this.g,new Zc)},Yi.prototype.oa=function(){Vt(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,JE=function(){return new Ns},WE=function(){return Ta()},XE=pt,Xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,ph=Cr,zo.COMPLETE="complete",$E=zo,Dc.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Hl=Dc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,YE=Ze}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let Io="12.8.0";function RC(s){Io=s}const oa=new Ep("@firebase/firestore");function co(){return oa.logLevel}function ce(s,...e){if(oa.logLevel<=ke.DEBUG){const n=e.map(Dp);oa.debug(`Firestore (${Io}): ${s}`,...n)}}function gs(s,...e){if(oa.logLevel<=ke.ERROR){const n=e.map(Dp);oa.error(`Firestore (${Io}): ${s}`,...n)}}function bo(s,...e){if(oa.logLevel<=ke.WARN){const n=e.map(Dp);oa.warn(`Firestore (${Io}): ${s}`,...n)}}function Dp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Te(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ZE(s,r,n)}function ZE(s,e,n){let r=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw gs(r),new Error(r)}function Ke(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||ZE(e,o,r)}function we(s,e){return s}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class e2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class NC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class IC{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new fs,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new fs)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new e2(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class DC{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class jC{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new DC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class O0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const r=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new O0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new O0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function MC(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class jp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=MC(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function Ve(s,e){return s<e?-1:s>e?1:0}function Wm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return Nm(o)===Nm(c)?Ve(o,c):Nm(o)?1:-1}return Ve(s.length,e.length)}const kC=55296,VC=57343;function Nm(s){const e=s.charCodeAt(0);return e>=kC&&e<=VC}function Ao(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}const M0="__name__";class Oi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=Oi.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Ve(e.length,n.length)}static compareSegments(e,n){const r=Oi.isNumericId(e),o=Oi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Oi.extractNumericId(e).compare(Oi.extractNumericId(n)):Wm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cr.fromString(e.substring(4,e.length-2))}}class st extends Oi{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const LC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Oi{construct(e,n,r){return new Xt(e,n,r)}static isValidIdentifier(e){return LC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M0}static keyField(){return new Xt([M0])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new oe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new oe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(c(),o++)}if(c(),d)throw new oe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(st.fromString(e))}static fromName(e){return new ge(st.fromString(e).popFirst(5))}static empty(){return new ge(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new st(e.slice()))}}function t2(s,e,n){if(!n)throw new oe(W.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function PC(s,e,n,r){if(e===!0&&r===!0)throw new oe(W.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function k0(s){if(!ge.isDocumentKey(s))throw new oe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function V0(s){if(ge.isDocumentKey(s))throw new oe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function n2(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Wh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te(12329,{type:typeof s})}function oi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new oe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(s);throw new oe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function jt(s,e){const n={typeString:s};return e&&(n.value=e),n}function Ec(s,e){if(!n2(s))throw new oe(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new oe(W.INVALID_ARGUMENT,n);return!0}const L0=-62135596800,P0=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*P0);return new Je(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<L0)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ec(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-L0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:jt("string",Je._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Je(0,0))}static max(){return new Se(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const sc=-1;function UC(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new dr(o,ge.empty(),e)}function zC(s){return new dr(s.readTime,s.key,sc)}class dr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new dr(Se.min(),ge.empty(),sc)}static max(){return new dr(Se.max(),ge.empty(),sc)}}function BC(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(s.documentKey,e.documentKey),n!==0?n:Ve(s.largestBatchId,e.largestBatchId))}const qC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Do(s){if(s.code!==W.FAILED_PRECONDITION||s.message!==qC)throw s;ce("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,r)=>{n(e)}))}static reject(e){return new te(((n,r)=>{r(e)}))}static waitFor(e){return new te(((n,r)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&n()}),(g=>r(g)))})),d=!0,c===o&&n()}))}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next((o=>o?te.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,c)=>{r.push(n.call(this,o,c))})),this.waitFor(r)}static mapArray(e,n){return new te(((r,o)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((T=>{d[y]=T,++p,p===c&&r(d)}),(T=>o(T)))}}))}static doWhile(e,n){return new te(((r,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):r()};c()}))}}function HC(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jo(s){return s.name==="IndexedDbTransactionError"}class Jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jh.ce=-1;const Op=-1;function Zh(s){return s==null}function Ih(s){return s===0&&1/s==-1/0}function GC(s){return typeof s=="number"&&Number.isInteger(s)&&!Ih(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const i2="";function QC(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=U0(e)),e=KC(s.get(n),e);return U0(e)}function KC(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":n+="";break;case i2:n+="";break;default:n+=c}}return n}function U0(s){return s+i2+""}function z0(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Tr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function s2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??$t.RED,this.left=o??$t.EMPTY,this.right=c??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new $t(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new B0(this.data.getIterator())}getIteratorFrom(e){return new B0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class B0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Pt(Xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class r2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new r2("Invalid base64 string: "+c):c}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const YC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(s){if(Ke(!!s,39018),typeof s=="string"){let e=0;const n=YC.exec(s);if(Ke(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(s.seconds),nanos:vt(s.nanos)}}function vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function mr(s){return typeof s=="string"?Jt.fromBase64String(s):Jt.fromUint8Array(s)}const a2="server_timestamp",o2="__type__",l2="__previous_value__",c2="__local_write_time__";function Mp(s){return(s?.mapValue?.fields||{})[o2]?.stringValue===a2}function ed(s){const e=s.mapValue.fields[l2];return Mp(e)?ed(e):e}function rc(s){const e=fr(s.mapValue.fields[c2].timestampValue);return new Je(e.seconds,e.nanos)}class $C{constructor(e,n,r,o,c,d,p,g,y,T,A){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=A}}const Dh="(default)";class ac{constructor(e,n){this.projectId=e,this.database=n||Dh}static empty(){return new ac("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(e){return e instanceof ac&&e.projectId===this.projectId&&e.database===this.database}}function XC(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new oe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(s.options.projectId,e)}const u2="__type__",WC="__max__",ah={mapValue:{}},h2="__vector__",jh="value";function pr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Mp(s)?4:ZC(s)?9007199254740991:JC(s)?10:11:Te(28295,{value:s})}function Bi(s,e){if(s===e)return!0;const n=pr(s);if(n!==pr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return rc(s).isEqual(rc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=fr(o.timestampValue),p=fr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return mr(o.bytesValue).isEqual(mr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return vt(o.geoPointValue.latitude)===vt(c.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return vt(o.integerValue)===vt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=vt(o.doubleValue),p=vt(c.doubleValue);return d===p?Ih(d)===Ih(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Ao(s.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(z0(d)!==z0(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Bi(d[g],p[g])))return!1;return!0})(s,e);default:return Te(52216,{left:s})}}function oc(s,e){return(s.values||[]).find((n=>Bi(n,e)))!==void 0}function So(s,e){if(s===e)return 0;const n=pr(s),r=pr(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=vt(c.integerValue||c.doubleValue),g=vt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return q0(s.timestampValue,e.timestampValue);case 4:return q0(rc(s),rc(e));case 5:return Wm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=mr(c),g=mr(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const T=Ve(p[y],g[y]);if(T!==0)return T}return Ve(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Ve(vt(c.latitude),vt(d.latitude));return p!==0?p:Ve(vt(c.longitude),vt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return F0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},y=p[jh]?.arrayValue,T=g[jh]?.arrayValue,A=Ve(y?.values?.length||0,T?.values?.length||0);return A!==0?A:F0(y,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===ah.mapValue&&d===ah.mapValue)return 0;if(c===ah.mapValue)return 1;if(d===ah.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=d.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let A=0;A<g.length&&A<T.length;++A){const x=Wm(g[A],T[A]);if(x!==0)return x;const U=So(p[g[A]],y[T[A]]);if(U!==0)return U}return Ve(g.length,T.length)})(s.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function q0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ve(s,e);const n=fr(s),r=fr(e),o=Ve(n.seconds,r.seconds);return o!==0?o:Ve(n.nanos,r.nanos)}function F0(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=So(n[o],r[o]);if(c)return c}return Ve(n.length,r.length)}function xo(s){return Jm(s)}function Jm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=fr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return mr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ge.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=Jm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${Jm(n.fields[d])}`;return o+"}"})(s.mapValue):Te(61005,{value:s})}function gh(s){switch(pr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ed(s);return e?16+gh(e):16;case 5:return 2*s.stringValue.length;case 6:return mr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+gh(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Tr(r.fields,((c,d)=>{o+=c.length+gh(d)})),o})(s.mapValue);default:throw Te(13486,{value:s})}}function H0(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Zm(s){return!!s&&"integerValue"in s}function kp(s){return!!s&&"arrayValue"in s}function G0(s){return!!s&&"nullValue"in s}function Q0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function _h(s){return!!s&&"mapValue"in s}function JC(s){return(s?.mapValue?.fields||{})[u2]?.stringValue===h2}function Xl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Tr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Xl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(s.arrayValue.values[n]);return e}return{...s}}function ZC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===WC}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=Xt.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=p.popLast()}d?r[p.lastSegment()]=Xl(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());_h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];_h(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Tr(n,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new gn(Xl(this.value))}}function d2(s){const e=[];return Tr(s.fields,((n,r)=>{const o=new Xt([n]);if(_h(r)){const c=d2(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Cn(e)}class nn{constructor(e,n,r,o,c,d,p){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new nn(e,0,Se.min(),Se.min(),Se.min(),gn.empty(),0)}static newFoundDocument(e,n,r,o){return new nn(e,1,n,Se.min(),r,o,0)}static newNoDocument(e,n){return new nn(e,2,n,Se.min(),Se.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Se.min(),Se.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oh{constructor(e,n){this.position=e,this.inclusive=n}}function K0(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=ge.comparator(ge.fromName(d.referenceValue),n.key):r=So(d,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Y0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Bi(s.position[n],e.position[n]))return!1;return!0}class lc{constructor(e,n="asc"){this.field=e,this.dir=n}}function eN(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class f2{}class Dt extends f2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nN(e,n,r):n==="array-contains"?new rN(e,r):n==="in"?new aN(e,r):n==="not-in"?new oN(e,r):n==="array-contains-any"?new lN(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iN(e,r):new sN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(So(n,this.value)):n!==null&&pr(this.value)===pr(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends f2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new li(e,n)}matches(e){return m2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function m2(s){return s.op==="and"}function p2(s){return tN(s)&&m2(s)}function tN(s){for(const e of s.filters)if(e instanceof li)return!1;return!0}function ep(s){if(s instanceof Dt)return s.field.canonicalString()+s.op.toString()+xo(s.value);if(p2(s))return s.filters.map((e=>ep(e))).join(",");{const e=s.filters.map((n=>ep(n))).join(",");return`${s.op}(${e})`}}function g2(s,e){return s instanceof Dt?(function(r,o){return o instanceof Dt&&r.op===o.op&&r.field.isEqual(o.field)&&Bi(r.value,o.value)})(s,e):s instanceof li?(function(r,o){return o instanceof li&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,p)=>c&&g2(d,o.filters[p])),!0):!1})(s,e):void Te(19439)}function _2(s){return s instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${xo(n.value)}`})(s):s instanceof li?(function(n){return n.op.toString()+" {"+n.getFilters().map(_2).join(" ,")+"}"})(s):"Filter"}class nN extends Dt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class iN extends Dt{constructor(e,n){super(e,"in",n),this.keys=y2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class sN extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=y2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function y2(s,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class rN extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kp(n)&&oc(n.arrayValue,this.value)}}class aN extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&oc(this.value.arrayValue,n)}}class oN extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!oc(this.value.arrayValue,n)}}class lN extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>oc(this.value.arrayValue,r)))}}class cN{constructor(e,n=null,r=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function $0(s,e=null,n=[],r=[],o=null,c=null,d=null){return new cN(s,e,n,r,o,c,d)}function Vp(s){const e=we(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>ep(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>xo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>xo(r))).join(",")),e.Te=n}return e.Te}function Lp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!eN(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!g2(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Y0(s.startAt,e.startAt)&&Y0(s.endAt,e.endAt)}function tp(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Oo{constructor(e,n=null,r=[],o=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function uN(s,e,n,r,o,c,d,p){return new Oo(s,e,n,r,o,c,d,p)}function Pp(s){return new Oo(s)}function X0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function hN(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function v2(s){return s.collectionGroup!==null}function Wl(s){const e=we(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Pt(Xt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new lc(c,r))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new lc(Xt.keyField(),r))}return e.Ie}function Pi(s){const e=we(s);return e.Ee||(e.Ee=dN(e,Wl(s))),e.Ee}function dN(s,e){if(s.limitType==="F")return $0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new lc(o.field,c)}));const n=s.endAt?new Oh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Oh(s.startAt.position,s.startAt.inclusive):null;return $0(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function np(s,e){const n=s.filters.concat([e]);return new Oo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function fN(s,e){const n=s.explicitOrderBy.concat([e]);return new Oo(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function ip(s,e,n){return new Oo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function td(s,e){return Lp(Pi(s),Pi(e))&&s.limitType===e.limitType}function E2(s){return`${Vp(Pi(s))}|lt:${s.limitType}`}function uo(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>_2(o))).join(", ")}]`),Zh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>xo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>xo(o))).join(",")),`Target(${r})`})(Pi(s))}; limitType=${s.limitType})`}function nd(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ge.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of Wl(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,g){const y=K0(d,p,g);return d.inclusive?y<=0:y<0})(r.startAt,Wl(r),o)||r.endAt&&!(function(d,p,g){const y=K0(d,p,g);return d.inclusive?y>=0:y>0})(r.endAt,Wl(r),o))})(s,e)}function mN(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function T2(s){return(e,n)=>{let r=!1;for(const o of Wl(s)){const c=pN(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function pN(s,e,n){const r=s.field.isKeyField()?ge.comparator(e.key,n.key):(function(c,d,p){const g=d.data.field(c),y=p.data.field(c);return g!==null&&y!==null?So(g,y):Te(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:s.dir})}}class ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Tr(this.inner,((n,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return s2(this.inner)}size(){return this.innerSize}}const gN=new ht(ge.comparator);function _s(){return gN}const b2=new ht(ge.comparator);function Gl(...s){let e=b2;for(const n of s)e=e.insert(n.key,n);return e}function A2(s){let e=b2;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ta(){return Jl()}function S2(){return Jl()}function Jl(){return new ma((s=>s.toString()),((s,e)=>s.isEqual(e)))}const _N=new ht(ge.comparator),yN=new Pt(ge.comparator);function Le(...s){let e=yN;for(const n of s)e=e.add(n);return e}const vN=new Pt(Ve);function EN(){return vN}function Up(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function x2(s){return{integerValue:""+s}}function TN(s,e){return GC(e)?x2(e):Up(s,e)}class id{constructor(){this._=void 0}}function bN(s,e,n){return s instanceof cc?(function(o,c){const d={fields:{[o2]:{stringValue:a2},[c2]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Mp(c)&&(c=ed(c)),c&&(d.fields[l2]=c),{mapValue:d}})(n,e):s instanceof uc?R2(s,e):s instanceof hc?C2(s,e):(function(o,c){const d=w2(o,c),p=W0(d)+W0(o.Ae);return Zm(d)&&Zm(o.Ae)?x2(p):Up(o.serializer,p)})(s,e)}function AN(s,e,n){return s instanceof uc?R2(s,e):s instanceof hc?C2(s,e):n}function w2(s,e){return s instanceof Mh?(function(r){return Zm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class cc extends id{}class uc extends id{constructor(e){super(),this.elements=e}}function R2(s,e){const n=N2(e);for(const r of s.elements)n.some((o=>Bi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class hc extends id{constructor(e){super(),this.elements=e}}function C2(s,e){let n=N2(e);for(const r of s.elements)n=n.filter((o=>!Bi(o,r)));return{arrayValue:{values:n}}}class Mh extends id{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function W0(s){return vt(s.integerValue||s.doubleValue)}function N2(s){return kp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class SN{constructor(e,n){this.field=e,this.transform=n}}function xN(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof uc&&o instanceof uc||r instanceof hc&&o instanceof hc?Ao(r.elements,o.elements,Bi):r instanceof Mh&&o instanceof Mh?Bi(r.Ae,o.Ae):r instanceof cc&&o instanceof cc})(s.transform,e.transform)}class wN{constructor(e,n){this.version=e,this.transformResults=n}}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class sd{}function I2(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new zp(s.key,_n.none()):new Tc(s.key,s.data,_n.none());{const n=s.data,r=gn.empty();let o=new Pt(Xt.comparator);for(let c of e.fields)if(!o.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new br(s.key,r,new Cn(o.toArray()),_n.none())}}function RN(s,e,n){s instanceof Tc?(function(o,c,d){const p=o.value.clone(),g=Z0(o.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,n):s instanceof br?(function(o,c,d){if(!yh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Z0(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(D2(o)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,n):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Zl(s,e,n,r){return s instanceof Tc?(function(c,d,p,g){if(!yh(c.precondition,d))return p;const y=c.value.clone(),T=e1(c.fieldTransforms,g,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof br?(function(c,d,p,g){if(!yh(c.precondition,d))return p;const y=e1(c.fieldTransforms,g,d),T=d.data;return T.setAll(D2(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,n,r):(function(c,d,p){return yh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,n)}function CN(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=w2(r.transform,o||null);c!=null&&(n===null&&(n=gn.empty()),n.set(r.field,c))}return n||null}function J0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ao(r,o,((c,d)=>xN(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Tc extends sd{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class br extends sd{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function D2(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function Z0(s,e,n){const r=new Map;Ke(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);r.set(c.field,AN(d,p,n[o]))}return r}function e1(s,e,n){const r=new Map;for(const o of s){const c=o.transform,d=n.data.field(o.field);r.set(o.field,bN(c,d,e))}return r}class zp extends sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NN extends sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IN{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&RN(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=S2();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(o.key)?null:p;const g=I2(d,p);g!==null&&r.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,((n,r)=>J0(n,r)))&&Ao(this.baseMutations,e.baseMutations,((n,r)=>J0(n,r)))}}class Bp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return _N})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new Bp(e,n,r,o)}}class DN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class jN{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,ze;function ON(s){switch(s){case W.OK:return Te(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Te(15467,{code:s})}}function j2(s){if(s===void 0)return gs("GRPC error has no .code"),W.UNKNOWN;switch(s){case It.OK:return W.OK;case It.CANCELLED:return W.CANCELLED;case It.UNKNOWN:return W.UNKNOWN;case It.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case It.INTERNAL:return W.INTERNAL;case It.UNAVAILABLE:return W.UNAVAILABLE;case It.UNAUTHENTICATED:return W.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case It.NOT_FOUND:return W.NOT_FOUND;case It.ALREADY_EXISTS:return W.ALREADY_EXISTS;case It.PERMISSION_DENIED:return W.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case It.ABORTED:return W.ABORTED;case It.OUT_OF_RANGE:return W.OUT_OF_RANGE;case It.UNIMPLEMENTED:return W.UNIMPLEMENTED;case It.DATA_LOSS:return W.DATA_LOSS;default:return Te(39323,{code:s})}}(ze=It||(It={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function MN(){return new TextEncoder}const kN=new cr([4294967295,4294967295],0);function t1(s){const e=MN().encode(s),n=new KE;return n.update(e),new Uint8Array(n.digest())}function n1(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new cr([n,r],0),new cr([o,c],0)]}class qp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(r<0)throw new Ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=cr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(cr.fromNumber(r)));return o.compare(kN)===1&&(o=new cr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=t1(e),[r,o]=n1(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new qp(c,o,n);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=t1(e),[r,o]=n1(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.be(d)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rd{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rd(Se.min(),o,new ht(Ve),_s(),Le())}}class bc{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bc(r,n,Le(),Le(),Le())}}class vh{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class O2{constructor(e,n){this.targetId=e,this.Ce=n}}class M2{constructor(e,n,r=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class i1{constructor(){this.ve=0,this.Fe=s1(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),r=Le();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Te(38017,{changeType:c})}})),new bc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=s1()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class VN{constructor(e){this.Ge=e,this.ze=new Map,this.je=_s(),this.He=oh(),this.Je=oh(),this.Ze=new ht(Ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(tp(c))if(r===0){const d=new ge(c.path);this.et(n,d,nn.newNoDocument(d,Se.min()))}else Ke(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let d,p;try{d=mr(r).toUint8Array()}catch(g){if(g instanceof r2)return bo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new qp(d,o,c)}catch(g){return bo(g instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&tp(p.target)){const g=new ge(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,nn.newNoDocument(g,e))}c.Be&&(n.set(d,c.ke()),c.Ke())}}));let r=Le();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new rd(e,n,this.Ze,this.je,r);return this.je=_s(),this.He=oh(),this.Je=oh(),this.Ze=new ht(Ve),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new i1,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Pt(Ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Pt(Ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new i1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function oh(){return new ht(ge.comparator)}function s1(){return new ht(ge.comparator)}const LN={asc:"ASCENDING",desc:"DESCENDING"},PN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UN={and:"AND",or:"OR"};class zN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sp(s,e){return s.useProto3Json||Zh(e)?e:{value:e}}function kh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k2(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function BN(s,e){return kh(s,e.toTimestamp())}function Ui(s){return Ke(!!s,49232),Se.fromTimestamp((function(n){const r=fr(n);return new Je(r.seconds,r.nanos)})(s))}function Fp(s,e){return rp(s,e).canonicalString()}function rp(s,e){const n=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function V2(s){const e=st.fromString(s);return Ke(B2(e),10190,{key:e.toString()}),e}function ap(s,e){return Fp(s.databaseId,e.path)}function Im(s,e){const n=V2(e);if(n.get(1)!==s.databaseId.projectId)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ge(P2(n))}function L2(s,e){return Fp(s.databaseId,e)}function qN(s){const e=V2(s);return e.length===4?st.emptyPath():P2(e)}function op(s){return new st(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function P2(s){return Ke(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function r1(s,e,n){return{name:ap(s,e),fields:n.value.mapValue.fields}}function FN(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(Ke(T===void 0||typeof T=="string",58123),Jt.fromBase64String(T||"")):(Ke(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Jt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?W.UNKNOWN:j2(y.code);return new oe(T,y.message||"")})(d);n=new M2(r,o,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Im(s,r.document.name),c=Ui(r.document.updateTime),d=r.document.createTime?Ui(r.document.createTime):Se.min(),p=new gn({mapValue:{fields:r.document.fields}}),g=nn.newFoundDocument(o,c,d,p),y=r.targetIds||[],T=r.removedTargetIds||[];n=new vh(y,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Im(s,r.document),c=r.readTime?Ui(r.readTime):Se.min(),d=nn.newNoDocument(o,c),p=r.removedTargetIds||[];n=new vh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Im(s,r.document),c=r.removedTargetIds||[];n=new vh([],c,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new jN(o,c),p=r.targetId;n=new O2(p,d)}}return n}function HN(s,e){let n;if(e instanceof Tc)n={update:r1(s,e.key,e.value)};else if(e instanceof zp)n={delete:ap(s,e.key)};else if(e instanceof br)n={update:r1(s,e.key,e.data),updateMask:ZN(e.fieldMask)};else{if(!(e instanceof NN))return Te(16599,{dt:e.type});n={verify:ap(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof cc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof uc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof hc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Mh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Te(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:BN(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(s,e.precondition)),n}function GN(s,e){return s&&s.length>0?(Ke(e!==void 0,14353),s.map((n=>(function(o,c){let d=o.updateTime?Ui(o.updateTime):Ui(c);return d.isEqual(Se.min())&&(d=Ui(c)),new wN(d,o.transformResults||[])})(n,e)))):[]}function QN(s,e){return{documents:[L2(s,e.path)]}}function KN(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=L2(s,o);const c=(function(y){if(y.length!==0)return z2(li.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(x){return{field:ho(x.field),direction:XN(x.dir)}})(T)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=sp(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function YN(s){let e=qN(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ke(r===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=(function(A){const x=U2(A);return x instanceof li&&p2(x)?x.getFilters():[x]})(n.where));let d=[];n.orderBy&&(d=(function(A){return A.map((x=>(function(H){return new lc(fo(H.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(x)))})(n.orderBy));let p=null;n.limit&&(p=(function(A){let x;return x=typeof A=="object"?A.value:A,Zh(x)?null:x})(n.limit));let g=null;n.startAt&&(g=(function(A){const x=!!A.before,U=A.values||[];return new Oh(U,x)})(n.startAt));let y=null;return n.endAt&&(y=(function(A){const x=!A.before,U=A.values||[];return new Oh(U,x)})(n.endAt)),uN(e,o,d,c,p,"F",g,y)}function $N(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function U2(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fo(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=fo(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=fo(n.unaryFilter.field);return Dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=fo(n.unaryFilter.field);return Dt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Dt.create(fo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return li.create(n.compositeFilter.filters.map((r=>U2(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(s):Te(30097,{filter:s})}function XN(s){return LN[s]}function WN(s){return PN[s]}function JN(s){return UN[s]}function ho(s){return{fieldPath:s.canonicalString()}}function fo(s){return Xt.fromServerFormat(s.fieldPath)}function z2(s){return s instanceof Dt?(function(n){if(n.op==="=="){if(Q0(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NAN"}};if(G0(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Q0(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NAN"}};if(G0(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(n.field),op:WN(n.op),value:n.value}}})(s):s instanceof li?(function(n){const r=n.getFilters().map((o=>z2(o)));return r.length===1?r[0]:{compositeFilter:{op:JN(n.op),filters:r}}})(s):Te(54877,{filter:s})}function ZN(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function B2(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function q2(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class rr{constructor(e,n,r,o,c=Se.min(),d=Se.min(),p=Jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class eI{constructor(e){this.yt=e}}function tI(s){const e=YN({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ip(e,e.limit,"L"):e}class nI{constructor(){this.Sn=new iI}addToCollectionParentIndex(e,n){return this.Sn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(dr.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class iI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Pt(st.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Pt(st.comparator)).toArray()}}const a1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},F2=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(F2,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class wo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new wo(0)}static ar(){return new wo(-1)}}const o1="LruGarbageCollector",sI=1048576;function l1([s,e],[n,r]){const o=Ve(s,n);return o===0?Ve(e,r):o}class rI{constructor(e){this.Pr=e,this.buffer=new Pt(l1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();l1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(o1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jo(n)?ce(o1,"Ignoring IndexedDB error during garbage collection: ",n):await Do(n)}await this.Ar(3e5)}))}}class oI{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Jh.ce);const r=new rI(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(a1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a1):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,c,d,p,g,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,p=Date.now(),this.removeTargets(e,r,n)))).next((A=>(c=A,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(y=Date.now(),co()<=ke.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function lI(s,e){return new oI(s,e)}class cI{constructor(){this.changes=new ma((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class hI{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Zl(r.mutation,o,Cn.empty(),Je.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Le()){const o=ta();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((c=>{let d=Gl();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=ta();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Le())))}populateOverlays(e,n,r){const o=[];return r.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,r,o){let c=_s();const d=Jl(),p=(function(){return Jl()})();return n.forEach(((g,y)=>{const T=r.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof br)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Zl(T.mutation,y,T.mutation.getFieldMask(),Je.now())):d.set(y.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,T)=>d.set(y,T))),n.forEach(((y,T)=>p.set(y,new uI(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=Jl();let o=new ht(((d,p)=>d-p)),c=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let T=r.get(g)||Cn.empty();T=p.applyToLocalView(y,T),r.set(g,T);const A=(o.get(p.batchId)||Le()).add(g);o=o.insert(p.batchId,A)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,T=g.value,A=S2();T.forEach((x=>{if(!c.has(x)){const U=I2(n.get(x),r.get(x));U!==null&&A.set(x,U),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,A))}return te.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return hN(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):v2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):te.resolve(ta());let p=sc,g=c;return d.next((y=>te.forEach(y,((T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(T)?te.resolve():this.remoteDocumentCache.getEntry(e,T).next((x=>{g=g.insert(T,x)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Le()))).next((T=>({batchId:p,changes:A2(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((r=>{let o=Gl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let d=Gl();return this.indexManager.getCollectionParents(e,c).next((p=>te.forEach(p,(g=>{const y=(function(A,x){return new Oo(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((T=>{T.forEach(((A,x)=>{d=d.insert(A,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o)))).next((d=>{c.forEach(((g,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,nn.newInvalidDocument(T)))}));let p=Gl();return d.forEach(((g,y)=>{const T=c.get(g);T!==void 0&&Zl(T.mutation,y,Cn.empty(),Je.now()),nd(n,y)&&(p=p.insert(g,y))})),p}))}}class dI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return te.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ui(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:tI(o.bundledQuery),readTime:Ui(o.readTime)}})(n)),te.resolve()}}class fI{constructor(){this.overlays=new ht(ge.comparator),this.Lr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ta();return te.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,c)=>{this.bt(e,n,c)})),te.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const o=ta(),c=n.length+1,d=new ge(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new ht(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let T=c.get(y.largestBatchId);T===null&&(T=ta(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=ta(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=o)););return te.resolve(p)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new DN(n,r));let c=this.Lr.get(n);c===void 0&&(c=Le(),this.Lr.set(n,c)),this.Lr.set(n,c.add(r.key))}}class mI{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class Hp{constructor(){this.kr=new Pt(qt.Kr),this.qr=new Pt(qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new qt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new qt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ge(new st([])),r=new qt(n,e),o=new qt(n,e+1),c=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ge(new st([])),r=new qt(n,e),o=new qt(n,e+1);let c=Le();return this.qr.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new qt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ge.comparator(e.key,n.key)||Ve(e.Hr,n.Hr)}static Ur(e,n){return Ve(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}class pI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Pt(qt.Kr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new IN(c,n,r,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new qt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(d)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),c=o<0?0:o;return te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Op:this.Yn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(d=>{const p=this.Zr(d.Hr);c.push(p)})),te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(Ve);return n.forEach((o=>{const c=new qt(o,0),d=new qt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{r=r.add(p.Hr)}))})),te.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;ge.isDocumentKey(c)||(c=c.child(""));const d=new qt(new ge(c),0);let p=new Pt(Ve);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)}),d),te.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return te.forEach(n.mutations,(o=>{const c=new qt(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new qt(n,0),o=this.Jr.firstAfterOrEqual(r);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class gI{constructor(e){this.ti=e,this.docs=(function(){return new ht(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,d=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=_s();return n.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():nn.newInvalidDocument(o))})),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=_s();const d=n.path,p=new ge(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||BC(zC(T),r)<=0||(o.has(T.key)||nd(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return te.resolve(c)}getAllFromCollectionGroup(e,n,r,o){Te(9500)}ni(e,n){return te.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new _I(this)}getSize(e){return te.resolve(this.size)}}class _I extends cI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),te.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class yI{constructor(e){this.persistence=e,this.ri=new ma((n=>Vp(n)),Lp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new Hp,this.targetCount=0,this.oi=wo._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),te.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new wo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.lr(n),te.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),te.waitFor(c).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),te.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.si.containsKey(n))}}class H2{constructor(e,n){this._i={},this.overlays={},this.ai=new Jh(0),this.ui=!1,this.ui=!0,this.ci=new mI,this.referenceDelegate=e(this),this.li=new yI(this),this.indexManager=new nI,this.remoteDocumentCache=(function(o){return new gI(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new eI(n),this.Pi=new dI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new pI(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const o=new vI(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return te.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class vI extends FC{constructor(e){super(),this.currentSequenceNumber=e}}class Gp{constructor(e){this.persistence=e,this.Ri=new Hp,this.Ai=null}static Vi(e){return new Gp(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,(r=>{const o=ge.fromPath(r);return this.mi(e,o).next((c=>{c||n.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Vh{constructor(e,n){this.persistence=e,this.fi=new ma((r=>QC(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=lI(this,n)}static Vi(e,n){return new Vh(e,n)}Ti(){}Ii(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return te.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?te.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,n).next((p=>{p||(r++,c.removeEntry(d,Se.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gh(e.data.value)),n}wr(e,n,r){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return te.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Qp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=Le(),o=Le();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Qp(e,n.fromCache,r,o)}}class EI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class TI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return KS()?8:HC(sn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.gs(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,n,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new EI;return this.ys(e,n,d).next((p=>{if(c.result=p,this.As)return this.ws(e,n,d,p.size)}))})).next((()=>c.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(co()<=ke.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(co()<=ke.DEBUG&&ce("QueryEngine","Query:",uo(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(co()<=ke.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(n))):te.resolve())}gs(e,n){if(X0(n))return te.resolve(null);let r=Pi(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ip(n,null,"F"),r=Pi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Le(...c);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,d,g.readTime)?this.gs(e,ip(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,r,o){return X0(n)||o.isEqual(Se.min())?te.resolve(null):this.fs.getDocuments(e,r).next((c=>{const d=this.bs(n,c);return this.Ss(n,d,r,o)?te.resolve(null):(co()<=ke.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),uo(n)),this.Ds(e,d,n,UC(o,sc)).next((p=>p)))}))}bs(e,n){let r=new Pt(T2(e));return n.forEach(((o,c)=>{nd(e,c)&&(r=r.add(c))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,r){return co()<=ke.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",uo(n)),this.fs.getDocumentsMatchingQuery(e,n,dr.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Kp="LocalStore",bI=3e8;class AI{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ht(Ve),this.Fs=new ma((c=>Vp(c)),Lp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function SI(s,e,n,r){return new AI(s,e,n,r)}async function G2(s,e){const n=we(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let g=Le();for(const y of o){d.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function xI(s,e){const n=we(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,T){const A=y.batch,x=A.keys();let U=te.resolve();return x.forEach((H=>{U=U.next((()=>T.getEntry(g,H))).next((O=>{const V=y.docVersions.get(H);Ke(V!==null,48541),O.version.compareTo(V)<0&&(A.applyToRemoteDocument(O,y),O.isValidDocument()&&(O.setReadTime(y.commitVersion),T.addEntry(O)))}))})),U.next((()=>p.mutationQueue.removeMutationBatch(g,A)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Le();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function Q2(s){const e=we(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function wI(s,e){const n=we(s),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((T,A)=>{const x=o.get(A);if(!x)return;p.push(n.li.removeMatchingKeys(c,T.removedDocuments,A).next((()=>n.li.addMatchingKeys(c,T.addedDocuments,A))));let U=x.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?U=U.withResumeToken(Jt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(T.resumeToken,r)),o=o.insert(A,U),(function(O,V,$){return O.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=bI?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(x,U,T)&&p.push(n.li.updateTargetData(c,U))}));let g=_s(),y=Le();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(RI(c,d,e.documentUpdates).next((T=>{g=T.Bs,y=T.Ls}))),!r.isEqual(Se.min())){const T=n.li.getLastRemoteSnapshotVersion(c).next((A=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(T)}return te.waitFor(p).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.vs=o,c)))}function RI(s,e,n){let r=Le(),o=Le();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=_s();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):ce(Kp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:d,Ls:o}}))}function CI(s,e){const n=we(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Op),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function NI(s,e){const n=we(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((c=>c?(o=c,te.resolve(o)):n.li.allocateTargetId(r).next((d=>(o=new rr(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function lp(s,e,n){const r=we(s),o=r.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!jo(d))throw d;ce(Kp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function c1(s,e,n){const r=we(s);let o=Se.min(),c=Le();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,T){const A=we(g),x=A.Fs.get(T);return x!==void 0?te.resolve(A.vs.get(x)):A.li.getTargetData(y,T)})(r,d,Pi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,n?o:Se.min(),n?c:Le()))).next((p=>(II(r,mN(e),p),{documents:p,ks:c})))))}function II(s,e,n){let r=s.Ms.get(e)||Se.min();n.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class u1{constructor(){this.activeTargetIds=EN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DI{constructor(){this.vo=new u1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new u1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jI{Mo(e){}shutdown(){}}const h1="ConnectivityMonitor";class d1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(h1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(h1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let lh=null;function cp(){return lh===null?lh=(function(){return 268435456+Math.round(2147483648*Math.random())})():lh++,"0x"+lh.toString(16)}const Dm="RestConnection",OI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class MI{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Dh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,c){const d=cp(),p=this.Qo(e,n.toUriEncodedString());ce(Dm,`Sending RPC '${e}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:y}=new URL(p),T=ha(y);return this.zo(e,p,g,r,T).then((A=>(ce(Dm,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw bo(Dm,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",r),A}))}jo(e,n,r,o,c,d){return this.Wo(e,n,r,o,c)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const r=OI[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class kI{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const en="WebChannelConnection",Bl=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class yo extends MI{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!yo.c_){const e=WE();Bl(e,XE.STAT_EVENT,(n=>{n.stat===Xm.PROXY?ce(en,"STAT_EVENT: detected buffering proxy"):n.stat===Xm.NOPROXY&&ce(en,"STAT_EVENT: detected no buffering proxy")})),yo.c_=!0}}zo(e,n,r,o,c){const d=cp();return new Promise(((p,g)=>{const y=new YE;y.setWithCredentials(!0),y.listenOnce($E.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case ph.NO_ERROR:const A=y.getResponseJson();ce(en,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case ph.TIMEOUT:ce(en,`RPC '${e}' ${d} timed out`),g(new oe(W.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const x=y.getStatus();if(ce(en,`RPC '${e}' ${d} failed with status:`,x,"response text:",y.getResponseText()),x>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const H=U?.error;if(H&&H.status&&H.message){const O=(function($){const se=$.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(se)>=0?se:W.UNKNOWN})(H.status);g(new oe(O,H.message))}else g(new oe(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new oe(W.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce(en,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);ce(en,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",T,r,15)}))}T_(e,n,r){const o=cp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const y=c.join("");ce(en,`Creating RPC '${e}' stream ${o}: ${y}`,p);const T=d.createWebChannel(y,p);this.I_(T);let A=!1,x=!1;const U=new kI({Ho:H=>{x?ce(en,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(A||(ce(en,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),ce(en,`RPC '${e}' stream ${o} sending:`,H),T.send(H))},Jo:()=>T.close()});return Bl(T,Hl.EventType.OPEN,(()=>{x||(ce(en,`RPC '${e}' stream ${o} transport opened.`),U.i_())})),Bl(T,Hl.EventType.CLOSE,(()=>{x||(x=!0,ce(en,`RPC '${e}' stream ${o} transport closed`),U.o_(),this.E_(T))})),Bl(T,Hl.EventType.ERROR,(H=>{x||(x=!0,bo(en,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),U.o_(new oe(W.UNAVAILABLE,"The operation could not be completed")))})),Bl(T,Hl.EventType.MESSAGE,(H=>{if(!x){const O=H.data[0];Ke(!!O,16349);const V=O,$=V?.error||V[0]?.error;if($){ce(en,`RPC '${e}' stream ${o} received error:`,$);const se=$.status;let ne=(function(le){const R=It[le];if(R!==void 0)return j2(R)})(se),me=$.message;ne===void 0&&(ne=W.INTERNAL,me="Unknown error status: "+se+" with message "+$.message),x=!0,U.o_(new oe(ne,me)),T.close()}else ce(en,`RPC '${e}' stream ${o} received:`,O),U.__(O)}})),yo.u_(),setTimeout((()=>{U.s_()}),0),U}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return JE()}}function VI(s){return new yo(s)}function jm(){return typeof document<"u"?document:null}function ad(s){return new zN(s,!0)}yo.c_=!1;class K2{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const f1="PersistentStream";class Y2{constructor(e,n,r,o,c,d,p,g){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new K2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(gs(n.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new oe(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(f1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ce(f1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LI extends Y2{constructor(e,n,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=FN(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Se.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Ui(d.readTime):Se.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=op(this.serializer),n.addTarget=(function(c,d){let p;const g=d.target;if(p=tp(g)?{documents:QN(c,g)}:{query:KN(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=k2(c,d.resumeToken);const y=sp(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Se.min())>0){p.readTime=kh(c,d.snapshotVersion.toTimestamp());const y=sp(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=$N(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=op(this.serializer),n.removeTarget=e,this.K_(n)}}class PI extends Y2{constructor(e,n,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=GN(e.writeResults,e.commitTime),r=Ui(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=op(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>HN(this.serializer,r)))};this.K_(n)}}class UI{}class zI extends UI{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,rp(n,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe(W.UNKNOWN,c.toString())}))}jo(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,rp(n,r),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new oe(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function BI(s,e,n,r){return new zI(s,e,n,r)}class qI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gs(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const la="RemoteStore";class FI{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{pa(this)&&(ce(la,"Restarting streams for network reachability change."),await(async function(g){const y=we(g);y.Ea.add(4),await Ac(y),y.Va.set("Unknown"),y.Ea.delete(4),await od(y)})(this))}))})),this.Va=new qI(r,o)}}async function od(s){if(pa(s))for(const e of s.Ra)await e(!0)}async function Ac(s){for(const e of s.Ra)await e(!1)}function $2(s,e){const n=we(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Wp(n)?Xp(n):Mo(n).O_()&&$p(n,e))}function Yp(s,e){const n=we(s),r=Mo(n);n.Ia.delete(e),r.O_()&&X2(n,e),n.Ia.size===0&&(r.O_()?r.L_():pa(n)&&n.Va.set("Unknown"))}function $p(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(s).Z_(e)}function X2(s,e){s.da.$e(e),Mo(s).X_(e)}function Xp(s){s.da=new VN({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Mo(s).start(),s.Va.ua()}function Wp(s){return pa(s)&&!Mo(s).x_()&&s.Ia.size>0}function pa(s){return we(s).Ea.size===0}function W2(s){s.da=void 0}async function HI(s){s.Va.set("Online")}async function GI(s){s.Ia.forEach(((e,n)=>{$p(s,e)}))}async function QI(s,e){W2(s),Wp(s)?(s.Va.ha(e),Xp(s)):s.Va.set("Unknown")}async function KI(s,e,n){if(s.Va.set("Online"),e instanceof M2&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(s,e)}catch(r){ce(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lh(s,r)}else if(e instanceof vh?s.da.Xe(e):e instanceof O2?s.da.st(e):s.da.tt(e),!n.isEqual(Se.min()))try{const r=await Q2(s.localStore);n.compareTo(r)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const T=c.Ia.get(g);if(!T)return;c.Ia.set(g,T.withResumeToken(Jt.EMPTY_BYTE_STRING,T.snapshotVersion)),X2(c,g);const A=new rr(T.target,g,y,T.sequenceNumber);$p(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){ce(la,"Failed to raise snapshot:",r),await Lh(s,r)}}async function Lh(s,e,n){if(!jo(e))throw e;s.Ea.add(1),await Ac(s),s.Va.set("Offline"),n||(n=()=>Q2(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ce(la,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await od(s)}))}function J2(s,e){return e().catch((n=>Lh(s,n,e)))}async function ld(s){const e=we(s),n=gr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Op;for(;YI(e);)try{const o=await CI(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,$I(e,o)}catch(o){await Lh(e,o)}Z2(e)&&eT(e)}function YI(s){return pa(s)&&s.Ta.length<10}function $I(s,e){s.Ta.push(e);const n=gr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function Z2(s){return pa(s)&&!gr(s).x_()&&s.Ta.length>0}function eT(s){gr(s).start()}async function XI(s){gr(s).ra()}async function WI(s){const e=gr(s);for(const n of s.Ta)e.ea(n.mutations)}async function JI(s,e,n){const r=s.Ta.shift(),o=Bp.from(r,e,n);await J2(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await ld(s)}async function ZI(s,e){e&&gr(s).Y_&&await(async function(r,o){if((function(d){return ON(d)&&d!==W.ABORTED})(o.code)){const c=r.Ta.shift();gr(r).B_(),await J2(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await ld(r)}})(s,e),Z2(s)&&eT(s)}async function m1(s,e){const n=we(s);n.asyncQueue.verifyOperationInProgress(),ce(la,"RemoteStore received new credentials");const r=pa(n);n.Ea.add(3),await Ac(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await od(n)}async function e4(s,e){const n=we(s);e?(n.Ea.delete(2),await od(n)):e||(n.Ea.add(2),await Ac(n),n.Va.set("Unknown"))}function Mo(s){return s.ma||(s.ma=(function(n,r,o){const c=we(n);return c.sa(),new LI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:HI.bind(null,s),Yo:GI.bind(null,s),t_:QI.bind(null,s),J_:KI.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Wp(s)?Xp(s):s.Va.set("Unknown")):(await s.ma.stop(),W2(s))}))),s.ma}function gr(s){return s.fa||(s.fa=(function(n,r,o){const c=we(n);return c.sa(),new PI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:XI.bind(null,s),t_:ZI.bind(null,s),ta:WI.bind(null,s),na:JI.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await ld(s)):(await s.fa.stop(),s.Ta.length>0&&(ce(la,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Jp{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const d=Date.now()+r,p=new Jp(e,n,d,o,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zp(s,e){if(gs("AsyncQueue",`${e}: ${s}`),jo(s))return new oe(W.UNAVAILABLE,`${e}: ${s}`);throw s}class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=Gl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class p1{constructor(){this.ga=new ht(ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ro{constructor(e,n,r,o,c,d,p,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,c){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new Ro(e,n,vo.emptySet(n),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class t4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class n4{constructor(){this.queries=g1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=we(n),c=o.queries;o.queries=g1(),c.forEach(((d,p)=>{for(const g of p.ba)g.onError(r)}))})(this,new oe(W.ABORTED,"Firestore shutting down"))}}function g1(){return new ma((s=>E2(s)),td)}async function tT(s,e){const n=we(s);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new t4,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const p=Zp(d,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&eg(n)}async function nT(s,e){const n=we(s),r=e.query;let o=3;const c=n.queries.get(r);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function i4(s,e){const n=we(s);let r=!1;for(const o of e){const c=o.query,d=n.queries.get(c);if(d){for(const p of d.ba)p.Fa(o)&&(r=!0);d.wa=o}}r&&eg(n)}function s4(s,e,n){const r=we(s),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(n);r.queries.delete(e)}function eg(s){s.Ca.forEach((e=>{e.next()}))}var up,_1;(_1=up||(up={})).Ma="default",_1.Cache="cache";class iT{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ro(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==up.Cache}}class sT{constructor(e){this.key=e}}class rT{constructor(e){this.key=e}}class r4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.eu=T2(e),this.tu=new vo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new p1,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,A)=>{const x=o.get(T),U=nd(this.query,A)?A:null,H=!!x&&this.mutatedKeys.has(x.key),O=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let V=!1;x&&U?x.data.isEqual(U.data)?H!==O&&(r.track({type:3,doc:U}),V=!0):this.su(x,U)||(r.track({type:2,doc:U}),V=!0,(g&&this.eu(U,g)>0||y&&this.eu(U,y)<0)&&(p=!0)):!x&&U?(r.track({type:0,doc:U}),V=!0):x&&!U&&(r.track({type:1,doc:x}),V=!0,(g||y)&&(p=!0)),V&&(U?(d=d.add(U),c=O?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Ss:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,A)=>(function(U,H){const O=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:V})}};return O(U)-O(H)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(r),o=o??!1;const p=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,d.length!==0||y?{snapshot:new Ro(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new p1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new rT(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new sT(r))})),n}cu(e){this.Za=e.ks,this.Ya=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const tg="SyncEngine";class a4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class o4{constructor(e){this.key=e,this.hu=!1}}class l4{constructor(e,n,r,o,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ma((p=>E2(p)),td),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(ge.comparator),this.Au=new Map,this.Vu=new Hp,this.du={},this.mu=new Map,this.fu=wo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function c4(s,e,n=!0){const r=hT(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await aT(r,e,n,!0),o}async function u4(s,e){const n=hT(s);await aT(n,e,!0,!1)}async function aT(s,e,n,r){const o=await NI(s.localStore,Pi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let p;return r&&(p=await h4(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&n&&$2(s.remoteStore,o),p}async function h4(s,e,n,r,o){s.pu=(A,x,U)=>(async function(O,V,$,se){let ne=V.view.ru($);ne.Ss&&(ne=await c1(O.localStore,V.query,!1).then((({documents:R})=>V.view.ru(R,ne))));const me=se&&se.targetChanges.get(V.targetId),Ae=se&&se.targetMismatches.get(V.targetId)!=null,le=V.view.applyChanges(ne,O.isPrimaryClient,me,Ae);return v1(O,V.targetId,le.au),le.snapshot})(s,A,x,U);const c=await c1(s.localStore,e,!0),d=new r4(e,c.ks),p=d.ru(c.documents),g=bc.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=d.applyChanges(p,s.isPrimaryClient,g);v1(s,n,y.au);const T=new a4(e,n,d);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function d4(s,e,n){const r=we(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!td(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await lp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Yp(r.remoteStore,o.targetId),hp(r,o.targetId)})).catch(Do)):(hp(r,o.targetId),await lp(r.localStore,o.targetId,!0))}async function f4(s,e){const n=we(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yp(n.remoteStore,r.targetId))}async function m4(s,e,n){const r=T4(s);try{const o=await(function(d,p){const g=we(d),y=Je.now(),T=p.reduce(((U,H)=>U.add(H.key)),Le());let A,x;return g.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let H=_s(),O=Le();return g.xs.getEntries(U,T).next((V=>{H=V,H.forEach((($,se)=>{se.isValidDocument()||(O=O.add($))}))})).next((()=>g.localDocuments.getOverlayedDocuments(U,H))).next((V=>{A=V;const $=[];for(const se of p){const ne=CN(se,A.get(se.key).overlayedDocument);ne!=null&&$.push(new br(se.key,ne,d2(ne.value.mapValue),_n.exists(!0)))}return g.mutationQueue.addMutationBatch(U,y,$,p)})).next((V=>{x=V;const $=V.applyToLocalDocumentSet(A,O);return g.documentOverlayCache.saveOverlays(U,V.batchId,$)}))})).then((()=>({batchId:x.batchId,changes:A2(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,g){let y=d.du[d.currentUser.toKey()];y||(y=new ht(Ve)),y=y.insert(p,g),d.du[d.currentUser.toKey()]=y})(r,o.batchId,n),await Sc(r,o.changes),await ld(r.remoteStore)}catch(o){const c=Zp(o,"Failed to persist write");n.reject(c)}}async function oT(s,e){const n=we(s);try{const r=await wI(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=n.Au.get(c);d&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ke(d.hu,14607):o.removedDocuments.size>0&&(Ke(d.hu,42227),d.hu=!1))})),await Sc(n,r,e)}catch(r){await Do(r)}}function y1(s,e,n){const r=we(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const g=we(d);g.onlineState=p;let y=!1;g.queries.forEach(((T,A)=>{for(const x of A.ba)x.va(p)&&(y=!0)})),y&&eg(g)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function p4(s,e,n){const r=we(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new ht(ge.comparator);d=d.insert(c,nn.newNoDocument(c,Se.min()));const p=Le().add(c),g=new rd(Se.min(),new Map,new ht(Ve),d,p);await oT(r,g),r.Ru=r.Ru.remove(c),r.Au.delete(e),ng(r)}else await lp(r.localStore,e,!1).then((()=>hp(r,e,n))).catch(Do)}async function g4(s,e){const n=we(s),r=e.batch.batchId;try{const o=await xI(n.localStore,e);cT(n,r,null),lT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sc(n,o)}catch(o){await Do(o)}}async function _4(s,e,n){const r=we(s);try{const o=await(function(d,p){const g=we(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,p).next((A=>(Ke(A!==null,37113),T=A.keys(),g.mutationQueue.removeMutationBatch(y,A)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(r.localStore,e);cT(r,e,n),lT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sc(r,o)}catch(o){await Do(o)}}function lT(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function cT(s,e,n){const r=we(s);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function hp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||uT(s,r)}))}function uT(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(Yp(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),ng(s))}function v1(s,e,n){for(const r of n)r instanceof sT?(s.Vu.addReference(r.key,e),y4(s,r)):r instanceof rT?(ce(tg,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||uT(s,r.key)):Te(19791,{wu:r})}function y4(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(ce(tg,"New document in limbo: "+n),s.Eu.add(r),ng(s))}function ng(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ge(st.fromString(e)),r=s.fu.next();s.Au.set(r,new o4(n)),s.Ru=s.Ru.insert(n,r),$2(s.remoteStore,new rr(Pi(Pp(n.path)),r,"TargetPurposeLimboResolution",Jh.ce))}}async function Sc(s,e,n){const r=we(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Qp.Es(g.targetId,y);c.push(T)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(g,y){const T=we(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>te.forEach(y,(x=>te.forEach(x.Ts,(U=>T.persistence.referenceDelegate.addReference(A,x.targetId,U))).next((()=>te.forEach(x.Is,(U=>T.persistence.referenceDelegate.removeReference(A,x.targetId,U)))))))))}catch(A){if(!jo(A))throw A;ce(Kp,"Failed to update sequence numbers: "+A)}for(const A of y){const x=A.targetId;if(!A.fromCache){const U=T.vs.get(x),H=U.snapshotVersion,O=U.withLastLimboFreeSnapshotVersion(H);T.vs=T.vs.insert(x,O)}}})(r.localStore,c))}async function v4(s,e){const n=we(s);if(!n.currentUser.isEqual(e)){ce(tg,"User change. New user:",e.toKey());const r=await G2(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new oe(W.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sc(n,r.Ns)}}function E4(s,e){const n=we(s),r=n.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let o=Le();const c=n.Iu.get(e);if(!c)return o;for(const d of c){const p=n.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function hT(s){const e=we(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=oT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p4.bind(null,e),e.Pu.J_=i4.bind(null,e.eventManager),e.Pu.yu=s4.bind(null,e.eventManager),e}function T4(s){const e=we(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_4.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ad(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return SI(this.persistence,new TI,e.initialUser,this.serializer)}Cu(e){return new H2(Gp.Vi,this.serializer)}Du(e){return new DI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class b4 extends Ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof Vh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new aI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new H2((r=>Vh.Vi(r,n)),this.serializer)}}class dp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>y1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=v4.bind(null,this.syncEngine),await e4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new n4})()}createDatastore(e){const n=ad(e.databaseInfo.databaseId),r=VI(e.databaseInfo);return BI(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,c,d,p){return new FI(r,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>y1(this.syncEngine,n,0)),(function(){return d1.v()?new d1:new jI})())}createSyncEngine(e,n){return(function(o,c,d,p,g,y,T){const A=new l4(o,c,d,p,g,y);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=we(n);ce(la,"RemoteStore shutting down."),r.Ea.add(5),await Ac(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dp.provider={build:()=>new dp};class dT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const _r="FirestoreClient";class A4{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ce(_r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ce(_r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Om(s,e){s.asyncQueue.verifyOperationInProgress(),ce(_r,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await G2(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function E1(s,e){s.asyncQueue.verifyOperationInProgress();const n=await S4(s);ce(_r,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>m1(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>m1(e.remoteStore,o))),s._onlineComponents=e}async function S4(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ce(_r,"Using user provided OfflineComponentProvider");try{await Om(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await Om(s,new Ph)}}else ce(_r,"Using default OfflineComponentProvider"),await Om(s,new b4(void 0));return s._offlineComponents}async function fT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ce(_r,"Using user provided OnlineComponentProvider"),await E1(s,s._uninitializedComponentsProvider._online)):(ce(_r,"Using default OnlineComponentProvider"),await E1(s,new dp))),s._onlineComponents}function x4(s){return fT(s).then((e=>e.syncEngine))}async function mT(s){const e=await fT(s),n=e.eventManager;return n.onListen=c4.bind(null,e.syncEngine),n.onUnlisten=d4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=u4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=f4.bind(null,e.syncEngine),n}function w4(s,e,n={}){const r=new fs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const T=new dT({next:x=>{T.Nu(),d.enqueueAndForget((()=>nT(c,A)));const U=x.docs.has(p);!U&&x.fromCache?y.reject(new oe(W.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&x.fromCache&&g&&g.source==="server"?y.reject(new oe(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),A=new iT(Pp(p.path),T,{includeMetadataChanges:!0,Ka:!0});return tT(c,A)})(await mT(s),s.asyncQueue,e,n,r))),r.promise}function R4(s,e,n={}){const r=new fs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const T=new dT({next:x=>{T.Nu(),d.enqueueAndForget((()=>nT(c,A))),x.fromCache&&g.source==="server"?y.reject(new oe(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),A=new iT(p,T,{includeMetadataChanges:!0,Ka:!0});return tT(c,A)})(await mT(s),s.asyncQueue,e,n,r))),r.promise}function C4(s,e){const n=new fs;return s.asyncQueue.enqueueAndForget((async()=>m4(await x4(s),e,n))),n.promise}function pT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const N4="ComponentProvider",T1=new Map;function I4(s,e,n,r,o){return new $C(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,pT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const gT="firestore.googleapis.com",b1=!0;class A1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gT,this.ssl=b1}else this.host=e.host,this.ssl=e.ssl??b1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=F2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sI)throw new oe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cd{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new CC;switch(r.type){case"firstParty":return new jC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=T1.get(n);r&&(ce(N4,"Removing Datastore"),T1.delete(n),r.terminate())})(this),Promise.resolve()}}function D4(s,e,n,r={}){s=oi(s,cd);const o=ha(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;o&&(yp(`https://${p}`),vp("Firestore",!0)),c.host!==gT&&c.host!==p&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:r};if(!ia(g,d)&&(s._setSettings(g),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=tn.MOCK_USER;else{y=oE(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new oe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new tn(A)}s._authCredentials=new NC(new e2(y,T))}}class ga{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ga(this.firestore,e,this._query)}}class Et{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ec(n,Et._jsonSchema))return new Et(e,r||null,new ge(st.fromString(n.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:jt("string",Et._jsonSchemaVersion),referencePath:jt("string")};class ur extends ga{constructor(e,n,r){super(e,n,Pp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new ge(e))}withConverter(e){return new ur(this.firestore,e,this._path)}}function ig(s,e,...n){if(s=mt(s),t2("collection","path",e),s instanceof cd){const r=st.fromString(e,...n);return V0(r),new ur(s,null,r)}{if(!(s instanceof Et||s instanceof ur))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(st.fromString(e,...n));return V0(r),new ur(s.firestore,null,r)}}function Fn(s,e,...n){if(s=mt(s),arguments.length===1&&(e=jp.newId()),t2("doc","path",e),s instanceof cd){const r=st.fromString(e,...n);return k0(r),new Et(s,null,new ge(r))}{if(!(s instanceof Et||s instanceof ur))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(st.fromString(e,...n));return k0(r),new Et(s.firestore,s instanceof ur?s.converter:null,new ge(r))}}const S1="AsyncQueue";class x1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new K2(this,"async_queue_retry"),this._c=()=>{const r=jm();r&&ce(S1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=jm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!jo(e))throw e;ce(S1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,gs("INTERNAL UNHANDLED ERROR: ",w1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Jp.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:w1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function w1(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class _a extends cd{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new x1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new x1(e),this._firestoreClient=void 0,await e}}}function j4(s,e){const n=typeof s=="object"?s:bp(),r=typeof s=="string"?s:Dh,o=Kh(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=sE("firestore");c&&D4(o,...c)}return o}function ud(s){if(s._terminated)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||O4(s),s._firestoreClient}function O4(s){const e=s._freezeSettings(),n=I4(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new A4(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(Jt.fromBase64String(e))}catch(n){throw new oe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ec(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:jt("string",qn._jsonSchemaVersion),bytes:jt("string")};class hd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dd{constructor(e){this._methodName=e}}class zi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(Ec(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:jt("string",zi._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};class ri{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ec(e,ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ri(e.vectorValues);throw new oe(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:jt("string",ri._jsonSchemaVersion),vectorValues:jt("object")};const M4=/^__.*__$/;class k4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tc(e,this.data,n,this.fieldTransforms)}}class _T{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new br(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:s})}}class sg{constructor(e,n,r,o,c,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new sg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Uh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(yT(this.dataSource)&&M4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class V4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ad(e)}createContext(e,n,r,o=!1){return new sg({dataSource:e,methodName:n,targetDoc:r,path:Xt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xc(s){const e=s._freezeSettings(),n=ad(s._databaseId);return new V4(s._databaseId,!!e.ignoreUndefinedProperties,n)}function rg(s,e,n,r,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,n,o);og("Data must be an object, but it was:",d,r);const p=TT(r,d);let g,y;if(c.merge)g=new Cn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const A of c.mergeFields){const x=ca(e,A,n);if(!d.contains(x))throw new oe(W.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);ST(T,x)||T.push(x)}g=new Cn(T),y=d.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,y=d.fieldTransforms;return new k4(new gn(p),g,y)}class fd extends dd{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fd}}class ag extends dd{_toFieldTransform(e){return new SN(e.path,new cc)}isEqual(e){return e instanceof ag}}function vT(s,e,n,r){const o=s.createContext(1,e,n);og("Data must be an object, but it was:",o,r);const c=[],d=gn.empty();Tr(r,((g,y)=>{const T=AT(e,g,n);y=mt(y);const A=o.childContextForFieldPath(T);if(y instanceof fd)c.push(T);else{const x=wc(y,A);x!=null&&(c.push(T),d.set(T,x))}}));const p=new Cn(c);return new _T(d,p,o.fieldTransforms)}function ET(s,e,n,r,o,c){const d=s.createContext(1,e,n),p=[ca(e,r,n)],g=[o];if(c.length%2!=0)throw new oe(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)p.push(ca(e,c[x])),g.push(c[x+1]);const y=[],T=gn.empty();for(let x=p.length-1;x>=0;--x)if(!ST(y,p[x])){const U=p[x];let H=g[x];H=mt(H);const O=d.childContextForFieldPath(U);if(H instanceof fd)y.push(U);else{const V=wc(H,O);V!=null&&(y.push(U),T.set(U,V))}}const A=new Cn(y);return new _T(T,A,d.fieldTransforms)}function L4(s,e,n,r=!1){return wc(n,s.createContext(r?4:3,e))}function wc(s,e){if(bT(s=mt(s)))return og("Unsupported field value:",e,s),TT(s,e);if(s instanceof dd)return(function(r,o){if(!yT(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const p of r){let g=wc(p,o.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Je.fromDate(r);return{timestampValue:kh(o.serializer,c)}}if(r instanceof Je){const c=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kh(o.serializer,c)}}if(r instanceof zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qn)return{bytesValue:k2(o.serializer,r._byteString)};if(r instanceof Et){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Fp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ri)return(function(d,p){const g=d instanceof ri?d.toArray():d;return{mapValue:{fields:{[u2]:{stringValue:h2},[jh]:{arrayValue:{values:g.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return Up(p.serializer,T)}))}}}}}})(r,o);if(q2(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Wh(r)}`)})(s,e)}function TT(s,e){const n={};return s2(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tr(s,((r,o)=>{const c=wc(o,e.childContextForField(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function bT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Je||s instanceof zi||s instanceof qn||s instanceof Et||s instanceof dd||s instanceof ri||q2(s))}function og(s,e,n){if(!bT(n)||!n2(n)){const r=Wh(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function ca(s,e,n){if((e=mt(e))instanceof hd)return e._internalPath;if(typeof e=="string")return AT(s,e);throw Uh("Field path arguments must be of type string or ",s,!1,void 0,n)}const P4=new RegExp("[~\\*/\\[\\]]");function AT(s,e,n){if(e.search(P4)>=0)throw Uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new hd(...e.split("."))._internalPath}catch{throw Uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Uh(s,e,n,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${r}`),d&&(g+=` in document ${o}`),g+=")"),new oe(W.INVALID_ARGUMENT,p+s+g)}function ST(s,e){return s.some((n=>n.isEqual(e)))}class U4{convertValue(e,n="none"){switch(pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Tr(e,((o,c)=>{r[o]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[jh].arrayValue?.values?.map((r=>vt(r.doubleValue)));return new ri(n)}convertGeoPoint(e){return new zi(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ed(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rc(e));default:return null}}convertTimestamp(e){const n=fr(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Ke(B2(r),9688,{name:e});const o=new ac(r.get(1),r.get(3)),c=new ge(r.popFirst(5));return o.isEqual(n)||gs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class xT extends U4{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function Mi(){return new ag("serverTimestamp")}const R1="@firebase/firestore",C1="4.10.0";class wT{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ca("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class z4 extends wT{data(){return super.data()}}function B4(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new oe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lg{}class RT extends lg{}function cg(s,e,...n){let r=[];e instanceof lg&&r.push(e),r=r.concat(n),(function(c){const d=c.filter((g=>g instanceof ug)).length,p=c.filter((g=>g instanceof md)).length;if(d>1||d>0&&p>0)throw new oe(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class md extends RT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new md(e,n,r)}_apply(e){const n=this._parse(e);return NT(e._query,n),new ga(e.firestore,e.converter,np(e._query,n))}_parse(e){const n=xc(e.firestore);return(function(c,d,p,g,y,T,A){let x;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new oe(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){I1(A,T);const H=[];for(const O of A)H.push(N1(g,c,O));x={arrayValue:{values:H}}}else x=N1(g,c,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||I1(A,T),x=L4(p,d,A,T==="in"||T==="not-in");return Dt.create(y,T,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function CT(s,e,n){const r=e,o=ca("where",s);return md._create(o,r,n)}class ug extends lg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ug(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:li.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let d=o;const p=c.getFlattenedFilters();for(const g of p)NT(d,g),d=np(d,g)})(e._query,n),new ga(e.firestore,e.converter,np(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hg extends RT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new hg(e,n)}_apply(e){const n=(function(o,c,d){if(o.startAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lc(c,d)})(e._query,this._field,this._direction);return new ga(e.firestore,e.converter,fN(e._query,n))}}function fp(s,e="asc"){const n=e,r=ca("orderBy",s);return hg._create(r,n)}function N1(s,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new oe(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!v2(e)&&n.indexOf("/")!==-1)throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!ge.isDocumentKey(r))throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return H0(s,new ge(r))}if(n instanceof Et)return H0(s,n._key);throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function I1(s,e){if(!Array.isArray(s)||s.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NT(s,e){const n=(function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function dg(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class Kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class na extends wT{constructor(e,n,r,o,c,d){super(e,n,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ca("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=na._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:jt("string",na._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Eh extends na{data(e={}){return super.data(e)}}class Eo{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Kl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Eh(this._firestore,this._userDataWriter,r.key,r,new Kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const g=new Eh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Kl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Eh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Kl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:q4(p.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Eo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function q4(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:s})}}Eo._jsonSchemaVersion="firestore/querySnapshot/1.0",Eo._jsonSchema={type:jt("string",Eo._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class F4{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xc(e)}set(e,n,r){this._verifyNotCommitted();const o=Mm(e,this._firestore),c=dg(o.converter,n,r),d=rg(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,r);return this._mutations.push(d.toMutation(o._key,_n.none())),this}update(e,n,r,...o){this._verifyNotCommitted();const c=Mm(e,this._firestore);let d;return d=typeof(n=mt(n))=="string"||n instanceof hd?ET(this._dataReader,"WriteBatch.update",c._key,n,r,o):vT(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(d.toMutation(c._key,_n.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Mm(e,this._firestore);return this._mutations=this._mutations.concat(new zp(n._key,_n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mm(s,e){if((s=mt(s)).firestore!==e)throw new oe(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function IT(s){s=oi(s,Et);const e=oi(s.firestore,_a),n=ud(e);return w4(n,s._key).then((r=>G4(e,s,r)))}function fg(s){s=oi(s,ga);const e=oi(s.firestore,_a),n=ud(e),r=new xT(e);return B4(s._query),R4(n,s._query).then((o=>new Eo(e,r,s,o)))}function D1(s,e,n){s=oi(s,Et);const r=oi(s.firestore,_a),o=dg(s.converter,e,n),c=xc(r);return pd(r,[rg(c,"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,_n.none())])}function zh(s,e,n,...r){s=oi(s,Et);const o=oi(s.firestore,_a),c=xc(o);let d;return d=typeof(e=mt(e))=="string"||e instanceof hd?ET(c,"updateDoc",s._key,e,n,r):vT(c,"updateDoc",s._key,e),pd(o,[d.toMutation(s._key,_n.exists(!0))])}function H4(s,e){const n=oi(s.firestore,_a),r=Fn(s),o=dg(s.converter,e),c=xc(s.firestore);return pd(n,[rg(c,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,_n.exists(!1))]).then((()=>r))}function pd(s,e){const n=ud(s);return C4(n,e)}function G4(s,e,n){const r=n.docs.get(e._key),o=new xT(s);return new na(s,o,e._key,r,new Kl(n.hasPendingWrites,n.fromCache),e.converter)}function mg(s){return s=oi(s,_a),ud(s),new F4(s,(e=>pd(s,e)))}(function(e,n=!0){RC(da),sa(new hr("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new _a(new IC(r.getProvider("auth-internal")),new OC(d,r.getProvider("app-check-internal")),XC(d,o),d);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ki(R1,C1,e),ki(R1,C1,"esm2020")})();var Q4="firebase",K4="12.8.0";ki(Q4,K4,"app");const DT="firebasestorage.googleapis.com",Y4="storageBucket",$4=120*1e3,X4=600*1e3;class Hi extends Fi{constructor(e,n,r=0){super(km(e),`Firebase Storage: ${n} (${km(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Hi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return km(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qi;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qi||(qi={}));function km(s){return"storage/"+s}function W4(){const s="An unknown error occurred, please check the error payload for server response.";return new Hi(qi.UNKNOWN,s)}function J4(){return new Hi(qi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Z4(){return new Hi(qi.CANCELED,"User canceled the upload/download.")}function e3(s){return new Hi(qi.INVALID_URL,"Invalid URL '"+s+"'.")}function t3(s){return new Hi(qi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function j1(s){return new Hi(qi.INVALID_ARGUMENT,s)}function jT(){return new Hi(qi.APP_DELETED,"The Firebase app was deleted.")}function n3(s){return new Hi(qi.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class si{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=si.makeFromUrl(e,n)}catch{return new si(e,"")}if(r.path==="")return r;throw t3(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function c(me){me.path.charAt(me.path.length-1)==="/"&&(me.path_=me.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),g={bucket:1,path:3};function y(me){me.path_=decodeURIComponent(me.path)}const T="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",U=new RegExp(`^https?://${A}/${T}/b/${o}/o${x}`,"i"),H={bucket:1,path:3},O=n===DT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",$=new RegExp(`^https?://${O}/${o}/${V}`,"i"),ne=[{regex:p,indices:g,postModify:c},{regex:U,indices:H,postModify:y},{regex:$,indices:{bucket:1,path:2},postModify:y}];for(let me=0;me<ne.length;me++){const Ae=ne[me],le=Ae.regex.exec(e);if(le){const R=le[Ae.indices.bucket];let w=le[Ae.indices.path];w||(w=""),r=new si(R,w),Ae.postModify(r);break}}if(r==null)throw e3(e);return r}}class i3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function s3(s,e,n){let r=1,o=null,c=null,d=!1,p=0;function g(){return p===2}let y=!1;function T(...V){y||(y=!0,e.apply(null,V))}function A(V){o=setTimeout(()=>{o=null,s(U,g())},V)}function x(){c&&clearTimeout(c)}function U(V,...$){if(y){x();return}if(V){x(),T.call(null,V,...$);return}if(g()||d){x(),T.call(null,V,...$);return}r<64&&(r*=2);let ne;p===1?(p=2,ne=0):ne=(r+Math.random())*1e3,A(ne)}let H=!1;function O(V){H||(H=!0,x(),!y&&(o!==null?(V||(p=2),clearTimeout(o),A(0)):V||(p=1)))}return A(0),c=setTimeout(()=>{d=!0,O(!0)},n),O}function r3(s){s(!1)}function a3(s){return s!==void 0}function O1(s,e,n,r){if(r<e)throw j1(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>n)throw j1(`Invalid value for '${s}'. Expected ${n} or less.`)}function o3(s){const e=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const o=e(r)+"="+e(s[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Bh;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Bh||(Bh={}));function l3(s,e){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return n||o||c}class c3{constructor(e,n,r,o,c,d,p,g,y,T,A,x=!0,U=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=T,this.connectionFactory_=A,this.retry=x,this.isUsingEmulator=U,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,O)=>{this.resolve_=H,this.reject_=O,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new ch(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const p=c.getErrorCode()===Bh.NO_ERROR,g=c.getStatus();if(!p||l3(g,this.additionalRetryCodes_)&&this.retry){const T=c.getErrorCode()===Bh.ABORT;r(!1,new ch(!1,null,T));return}const y=this.successCodes_.indexOf(g)!==-1;r(!0,new ch(y,c))})},n=(r,o)=>{const c=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());a3(g)?c(g):c()}catch(g){d(g)}else if(p!==null){const g=W4();g.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,g)):d(g)}else if(o.canceled){const g=this.appDelete_?jT():Z4();d(g)}else{const g=J4();d(g)}};this.canceled_?n(!1,new ch(!1,null,!0)):this.backoffId_=s3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&r3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ch{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function u3(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function h3(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function d3(s,e){e&&(s["X-Firebase-GMPID"]=e)}function f3(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function m3(s,e,n,r,o,c,d=!0,p=!1){const g=o3(s.urlParams),y=s.url+g,T=Object.assign({},s.headers);return d3(T,e),u3(T,n),h3(T,c),f3(T,r),new c3(y,s.method,T,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,d,p)}function p3(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function g3(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}class qh{constructor(e,n){this._service=e,n instanceof si?this._location=n:this._location=si.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new qh(e,n)}get root(){const e=new si(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return g3(this._location.path)}get storage(){return this._service}get parent(){const e=p3(this._location.path);if(e===null)return null;const n=new si(this._location.bucket,e);return new qh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw n3(e)}}function M1(s,e){const n=e?.[Y4];return n==null?null:si.makeFromBucketSpec(n,s)}function _3(s,e,n,r={}){s.host=`${e}:${n}`;const o=ha(e);o&&(yp(`https://${s.host}/b`),vp("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:c}=r;c&&(s._overrideAuthToken=typeof c=="string"?c:oE(c,s.app.options.projectId))}class y3{constructor(e,n,r,o,c,d=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=DT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$4,this._maxUploadRetryTime=X4,this._requests=new Set,o!=null?this._bucket=si.makeFromBucketSpec(o,this._host):this._bucket=M1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=si.makeFromBucketSpec(this._url,e):this._bucket=M1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){O1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){O1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qh(this,e)}_makeRequest(e,n,r,o,c=!0){if(this._deleted)return new i3(jT());{const d=m3(e,this._appId,r,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const k1="@firebase/storage",V1="0.14.0";const OT="storage";function v3(s=bp(),e){s=mt(s);const r=Kh(s,OT).getImmediate({identifier:e}),o=sE("storage");return o&&E3(r,...o),r}function E3(s,e,n,r={}){_3(s,e,n,r)}function T3(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new y3(n,r,o,e,da)}function b3(){sa(new hr(OT,T3,"PUBLIC").setMultipleInstances(!0)),ki(k1,V1,""),ki(k1,V1,"esm2020")}b3();const A3={apiKey:"AIzaSyDgk_1graNBFkIURTJnyLZTZ1nyxi7slUo",authDomain:"pedaclic.firebaseapp.com",projectId:"pedaclic",storageBucket:"pedaclic.firebasestorage.app",messagingSenderId:"863649621890",appId:"1:863649621890:web:6ab56a8c8db111e3a9119b"},pg=uE(A3),Zs=xC(pg),Wt=j4(pg);v3(pg);const MT=J.createContext(null),S3=({children:s})=>{const[e,n]=J.useState(null),[r,o]=J.useState(!0),[c,d]=J.useState(null),p=async O=>{try{const V=Fn(Wt,"users",O.uid),$=await IT(V);if($.exists()){const ne=$.data();return{uid:O.uid,email:O.email||"",displayName:ne.displayName||O.displayName,photoURL:ne.photoURL||O.photoURL,role:ne.role||"eleve",isPremium:ne.isPremium||!1,subscriptionEnd:ne.subscriptionEnd?.toDate()||null,createdAt:ne.createdAt?.toDate()||new Date,lastLogin:ne.lastLogin?.toDate()||new Date}}const se={uid:O.uid,email:O.email||"",displayName:O.displayName,photoURL:O.photoURL,role:"eleve",isPremium:!1,subscriptionEnd:null,createdAt:new Date,lastLogin:new Date};return await D1(V,{...se,createdAt:Mi(),lastLogin:Mi()}),se}catch(V){return console.error("Erreur lors de la rcupration des donnes utilisateur:",V),null}},g=O=>({"auth/email-already-in-use":"Cette adresse email est dj utilise.","auth/invalid-email":"Adresse email invalide.","auth/operation-not-allowed":"Opration non autorise.","auth/weak-password":"Le mot de passe doit contenir au moins 6 caractres.","auth/user-disabled":"Ce compte a t dsactiv.","auth/user-not-found":"Aucun compte trouv avec cette adresse email.","auth/wrong-password":"Mot de passe incorrect.","auth/invalid-credential":"Email ou mot de passe incorrect.","auth/too-many-requests":"Trop de tentatives. Veuillez ressayer plus tard.","auth/network-request-failed":"Erreur de connexion. Vrifiez votre connexion internet."})[O]||"Une erreur est survenue. Veuillez ressayer.";J.useEffect(()=>{const O=fR(Zs,async V=>{try{if(V){const $=await p(V);if(n($),$){const se=Fn(Wt,"users",V.uid);await zh(se,{lastLogin:Mi()})}}else n(null)}catch($){console.error("Erreur lors de l'coute de l'authentification:",$),n(null)}finally{o(!1)}});return()=>O()},[]);const H={currentUser:e,loading:r,error:c,login:async(O,V)=>{try{d(null),o(!0),await cR(Zs,O,V)}catch($){const se=g($.code);throw d(se),new Error(se)}finally{o(!1)}},register:async O=>{try{d(null),o(!0);const V=await lR(Zs,O.email,O.password);await b0(V.user,{displayName:O.displayName});const $=Fn(Wt,"users",V.user.uid);await D1($,{uid:V.user.uid,email:O.email,displayName:O.displayName,photoURL:null,role:O.role,isPremium:!1,subscriptionEnd:null,createdAt:Mi(),lastLogin:Mi()})}catch(V){const $=g(V.code);throw d($),new Error($)}finally{o(!1)}},logout:async()=>{try{d(null),await mR(Zs)}catch{const V="Erreur lors de la dconnexion.";throw d(V),new Error(V)}},updateProfile:async O=>{if(!e)throw new Error("Aucun utilisateur connect.");try{d(null);const V=Fn(Wt,"users",e.uid);await zh(V,{...O,updatedAt:Mi()}),Zs.currentUser&&(O.displayName||O.photoURL)&&await b0(Zs.currentUser,{displayName:O.displayName||Zs.currentUser.displayName,photoURL:O.photoURL||Zs.currentUser.photoURL}),n($=>$?{...$,...O}:null)}catch{const $="Erreur lors de la mise  jour du profil.";throw d($),new Error($)}},clearError:()=>{d(null)}};return f.jsx(MT.Provider,{value:H,children:s})},Rc=()=>{const s=J.useContext(MT);if(!s)throw new Error("useAuth doit tre utilis  l'intrieur d'un AuthProvider");return s},x3=()=>{const{currentUser:s,logout:e}=Rc(),n=vr(),r=fc(),[o,c]=J.useState(!1),[d,p]=J.useState(!1);J.useEffect(()=>{c(!1),p(!1)},[n.pathname]),J.useEffect(()=>{const x=U=>{const H=U.target;!H.closest(".navbar__user-menu")&&!H.closest(".navbar__user-button")&&p(!1)};return document.addEventListener("click",x),()=>document.removeEventListener("click",x)},[]);const g=async()=>{try{await e(),r("/")}catch(x){console.error("Erreur lors de la dconnexion:",x)}},y=()=>{c(!o)},T=()=>{p(!d)},A=x=>x==="/"?n.pathname==="/":n.pathname.startsWith(x);return f.jsxs("nav",{className:"navbar",children:[f.jsxs("div",{className:"navbar__container",children:[f.jsxs(de,{to:"/",className:"navbar__brand",children:[f.jsx("div",{className:"navbar__logo",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"navbar__logo-icon",children:f.jsx("path",{d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),f.jsx("span",{className:"navbar__brand-name",children:"PedaClic"})]}),f.jsxs("ul",{className:"navbar__nav",children:[f.jsx("li",{className:"navbar__nav-item",children:f.jsx(de,{to:"/",className:`navbar__nav-link ${A("/")?"navbar__nav-link--active":""}`,children:"Accueil"})}),f.jsx("li",{className:"navbar__nav-item",children:f.jsx(de,{to:"/disciplines",className:`navbar__nav-link ${A("/disciplines")?"navbar__nav-link--active":""}`,children:"Disciplines"})}),f.jsx("li",{className:"navbar__nav-item",children:f.jsxs(de,{to:"/premium",className:`navbar__nav-link navbar__nav-link--premium ${A("/premium")?"navbar__nav-link--active":""}`,children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"navbar__premium-icon",children:f.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"})}),"Premium"]})})]}),f.jsx("div",{className:"navbar__auth",children:s?f.jsxs("div",{className:"navbar__user",children:[f.jsxs("button",{className:"navbar__user-button",onClick:T,"aria-expanded":d,"aria-label":"Menu utilisateur",children:[f.jsx("div",{className:"navbar__avatar",children:s.photoURL?f.jsx("img",{src:s.photoURL,alt:s.displayName||"Avatar",className:"navbar__avatar-img"}):f.jsx("span",{className:"navbar__avatar-initial",children:(s.displayName||s.email||"U").charAt(0).toUpperCase()})}),f.jsxs("div",{className:"navbar__user-info",children:[f.jsx("span",{className:"navbar__user-name",children:s.displayName||s.email?.split("@")[0]}),f.jsxs("span",{className:"navbar__user-role",children:[s.role==="admin"&&"Administrateur",s.role==="prof"&&"Professeur",s.role==="eleve"&&"lve",s.isPremium&&f.jsx("span",{className:"navbar__premium-badge",children:"Premium"})]})]}),f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:`navbar__chevron ${d?"navbar__chevron--open":""}`,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),d&&f.jsxs("div",{className:"navbar__user-menu",children:[f.jsxs(de,{to:"/profil",className:"navbar__menu-item",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Mon Profil"]}),(s.role==="admin"||s.role==="prof")&&f.jsxs(de,{to:"/dashboard",className:"navbar__menu-item",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),"Tableau de bord"]}),s.role==="admin"&&f.jsxs(de,{to:"/admin",className:"navbar__menu-item",children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Administration"]}),f.jsx("div",{className:"navbar__menu-divider"}),f.jsxs("button",{onClick:g,className:"navbar__menu-item navbar__menu-item--danger",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Dconnexion"]})]})]}):f.jsxs("div",{className:"navbar__auth-buttons",children:[f.jsx(de,{to:"/connexion",className:"navbar__btn navbar__btn--outline",children:"Connexion"}),f.jsx(de,{to:"/inscription",className:"navbar__btn navbar__btn--primary",children:"S'inscrire"})]})}),f.jsxs("button",{className:`navbar__hamburger ${o?"navbar__hamburger--open":""}`,onClick:y,"aria-label":"Menu de navigation","aria-expanded":o,children:[f.jsx("span",{className:"navbar__hamburger-line"}),f.jsx("span",{className:"navbar__hamburger-line"}),f.jsx("span",{className:"navbar__hamburger-line"})]})]}),f.jsxs("div",{className:`navbar__mobile-menu ${o?"navbar__mobile-menu--open":""}`,children:[f.jsxs("ul",{className:"navbar__mobile-nav",children:[f.jsx("li",{children:f.jsxs(de,{to:"/",className:`navbar__mobile-link ${A("/")?"navbar__mobile-link--active":""}`,children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Accueil"]})}),f.jsx("li",{children:f.jsxs(de,{to:"/disciplines",className:`navbar__mobile-link ${A("/disciplines")?"navbar__mobile-link--active":""}`,children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),"Disciplines"]})}),f.jsx("li",{children:f.jsxs(de,{to:"/premium",className:`navbar__mobile-link navbar__mobile-link--premium ${A("/premium")?"navbar__mobile-link--active":""}`,children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"})}),"Premium"]})})]}),f.jsx("div",{className:"navbar__mobile-divider"}),s?f.jsxs("div",{className:"navbar__mobile-user",children:[f.jsxs("div",{className:"navbar__mobile-user-info",children:[f.jsx("div",{className:"navbar__avatar navbar__avatar--large",children:s.photoURL?f.jsx("img",{src:s.photoURL,alt:"Avatar",className:"navbar__avatar-img"}):f.jsx("span",{className:"navbar__avatar-initial",children:(s.displayName||s.email||"U").charAt(0).toUpperCase()})}),f.jsxs("div",{children:[f.jsx("p",{className:"navbar__mobile-user-name",children:s.displayName||s.email?.split("@")[0]}),f.jsxs("p",{className:"navbar__mobile-user-role",children:[s.role==="admin"&&"Administrateur",s.role==="prof"&&"Professeur",s.role==="eleve"&&"lve"]})]})]}),f.jsxs(de,{to:"/profil",className:"navbar__mobile-link",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Mon Profil"]}),(s.role==="admin"||s.role==="prof")&&f.jsxs(de,{to:"/dashboard",className:"navbar__mobile-link",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6z"})}),"Tableau de bord"]}),s.role==="admin"&&f.jsxs(de,{to:"/admin",className:"navbar__mobile-link",children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Administration"]}),f.jsxs("button",{onClick:g,className:"navbar__mobile-link navbar__mobile-link--danger",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Dconnexion"]})]}):f.jsxs("div",{className:"navbar__mobile-auth",children:[f.jsx(de,{to:"/connexion",className:"navbar__btn navbar__btn--outline navbar__btn--full",children:"Connexion"}),f.jsx(de,{to:"/inscription",className:"navbar__btn navbar__btn--primary navbar__btn--full",children:"S'inscrire gratuitement"})]})]}),o&&f.jsx("div",{className:"navbar__overlay",onClick:()=>c(!1),"aria-hidden":"true"})]})},w3=()=>{const s=new Date().getFullYear();return f.jsxs("footer",{className:"footer",children:[f.jsxs("div",{className:"footer__container",children:[f.jsxs("div",{className:"footer__brand",children:[f.jsxs(de,{to:"/",className:"footer__logo",children:[f.jsx("div",{className:"footer__logo-icon",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),f.jsx("span",{className:"footer__logo-text",children:"PedaClic"})]}),f.jsx("p",{className:"footer__tagline",children:"L'cole en un clic"}),f.jsx("p",{className:"footer__description",children:"Plateforme ducative sngalaise offrant des cours, exercices et quiz interactifs pour les lves de la 6me  la Terminale."}),f.jsxs("div",{className:"footer__social",children:[f.jsx("a",{href:"https://facebook.com/pedaclic",target:"_blank",rel:"noopener noreferrer",className:"footer__social-link","aria-label":"Suivez-nous sur Facebook",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),f.jsx("a",{href:"https://twitter.com/pedaclic",target:"_blank",rel:"noopener noreferrer",className:"footer__social-link","aria-label":"Suivez-nous sur Twitter",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),f.jsx("a",{href:"https://linkedin.com/company/pedaclic",target:"_blank",rel:"noopener noreferrer",className:"footer__social-link","aria-label":"Suivez-nous sur LinkedIn",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),f.jsx("a",{href:"https://youtube.com/@pedaclic",target:"_blank",rel:"noopener noreferrer",className:"footer__social-link","aria-label":"Suivez-nous sur YouTube",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),f.jsx("a",{href:"https://wa.me/221770000000",target:"_blank",rel:"noopener noreferrer",className:"footer__social-link footer__social-link--whatsapp","aria-label":"Contactez-nous sur WhatsApp",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})})]})]}),f.jsxs("div",{className:"footer__links",children:[f.jsx("h4",{className:"footer__title",children:"Navigation"}),f.jsxs("ul",{className:"footer__list",children:[f.jsx("li",{children:f.jsx(de,{to:"/",className:"footer__link",children:"Accueil"})}),f.jsx("li",{children:f.jsx(de,{to:"/disciplines",className:"footer__link",children:"Disciplines"})}),f.jsx("li",{children:f.jsx(de,{to:"/premium",className:"footer__link",children:"Premium"})}),f.jsx("li",{children:f.jsx(de,{to:"/connexion",className:"footer__link",children:"Connexion"})}),f.jsx("li",{children:f.jsx(de,{to:"/inscription",className:"footer__link",children:"Inscription"})})]})]}),f.jsxs("div",{className:"footer__links",children:[f.jsx("h4",{className:"footer__title",children:"Niveaux"}),f.jsxs("ul",{className:"footer__list",children:[f.jsx("li",{children:f.jsx(de,{to:"/disciplines?niveau=college&classe=6eme",className:"footer__link",children:"6me"})}),f.jsx("li",{children:f.jsx(de,{to:"/disciplines?niveau=college&classe=5eme",className:"footer__link",children:"5me"})}),f.jsx("li",{children:f.jsx(de,{to:"/disciplines?niveau=college&classe=4eme",className:"footer__link",children:"4me"})}),f.jsx("li",{children:f.jsx(de,{to:"/disciplines?niveau=college&classe=3eme",className:"footer__link",children:"3me"})}),f.jsx("li",{children:f.jsx(de,{to:"/disciplines?niveau=lycee",className:"footer__link",children:"Lyce (2nde - Tle)"})})]})]}),f.jsxs("div",{className:"footer__links",children:[f.jsx("h4",{className:"footer__title",children:" propos"}),f.jsxs("ul",{className:"footer__list",children:[f.jsx("li",{children:f.jsx(de,{to:"/a-propos",className:"footer__link",children:"Qui sommes-nous ?"})}),f.jsx("li",{children:f.jsx(de,{to:"/contact",className:"footer__link",children:"Nous contacter"})}),f.jsx("li",{children:f.jsx(de,{to:"/faq",className:"footer__link",children:"FAQ"})}),f.jsx("li",{children:f.jsx(de,{to:"/cgu",className:"footer__link",children:"Conditions d'utilisation"})}),f.jsx("li",{children:f.jsx(de,{to:"/confidentialite",className:"footer__link",children:"Politique de confidentialit"})})]})]})]}),f.jsx("div",{className:"footer__newsletter",children:f.jsxs("div",{className:"footer__newsletter-container",children:[f.jsxs("div",{className:"footer__newsletter-content",children:[f.jsx("h4",{className:"footer__newsletter-title",children:"Restez inform"}),f.jsx("p",{className:"footer__newsletter-text",children:"Recevez nos actualits et nouveaux cours directement dans votre bote mail."})]}),f.jsxs("form",{className:"footer__newsletter-form",onSubmit:e=>e.preventDefault(),children:[f.jsx("input",{type:"email",placeholder:"Votre adresse email",className:"footer__newsletter-input","aria-label":"Adresse email pour la newsletter"}),f.jsx("button",{type:"submit",className:"footer__newsletter-btn",children:"S'abonner"})]})]})}),f.jsx("div",{className:"footer__bottom",children:f.jsxs("div",{className:"footer__bottom-container",children:[f.jsxs("p",{className:"footer__copyright",children:[" ",s," PedaClic. Tous droits rservs."]}),f.jsxs("p",{className:"footer__made-in",children:["Fait avec ",f.jsx("span",{className:"footer__heart",children:""})," au Sngal "]})]})})]})};const R3=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),C3=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),L1=s=>{const e=C3(s);return e.charAt(0).toUpperCase()+e.slice(1)},kT=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),N3=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var I3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const D3=J.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...p},g)=>J.createElement("svg",{ref:g,...I3,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:kT("lucide",o),...!c&&!N3(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,T])=>J.createElement(y,T)),...Array.isArray(c)?c:[c]]));const ci=(s,e)=>{const n=J.forwardRef(({className:r,...o},c)=>J.createElement(D3,{ref:c,iconNode:e,className:kT(`lucide-${R3(L1(s))}`,`lucide-${s}`,r),...o}));return n.displayName=L1(s),n};const j3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],lo=ci("arrow-right",j3);const O3=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],M3=ci("award",O3);const k3=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],V3=ci("book-open",k3);const L3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ji=ci("circle-check-big",L3);const P3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],U3=ci("clock",P3);const z3=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],B3=ci("graduation-cap",z3);const q3=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],F3=ci("play",q3);const H3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],G3=ci("shield",H3);const Q3=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],uh=ci("star",Q3);const K3=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Y3=ci("trophy",K3);const $3=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],X3=ci("zap",$3),W3=()=>{const{currentUser:s}=Rc();return f.jsxs("div",{className:"home-page",children:[f.jsxs("section",{className:"home-page__hero",children:[f.jsxs("div",{className:"home-page__hero-content",children:[f.jsxs("div",{className:"home-page__hero-badge",children:[f.jsx(uh,{size:14}),f.jsx("span",{children:"Plateforme N1 au Sngal"})]}),f.jsxs("h1",{className:"home-page__hero-title",children:["Russis tes examens avec",f.jsx("span",{className:"home-page__hero-highlight",children:" PedaClic"})]}),f.jsx("p",{className:"home-page__hero-subtitle",children:"La plateforme ducative qui accompagne les lves sngalais du collge au lyce avec des cours, exercices et quiz de qualit."}),f.jsx("div",{className:"home-page__hero-cta",children:s?f.jsxs(de,{to:"/dashboard",className:"home-page__btn home-page__btn--primary",children:["Accder  mon espace",f.jsx(lo,{size:20})]}):f.jsxs(f.Fragment,{children:[f.jsxs(de,{to:"/register",className:"home-page__btn home-page__btn--primary",children:["Commencer gratuitement",f.jsx(lo,{size:20})]}),f.jsxs(de,{to:"/disciplines",className:"home-page__btn home-page__btn--outline",children:[f.jsx(F3,{size:18}),"Dcouvrir les cours"]})]})}),f.jsxs("div",{className:"home-page__hero-stats",children:[f.jsxs("div",{className:"home-page__hero-stat",children:[f.jsx("strong",{children:"10 000+"}),f.jsx("span",{children:"lves inscrits"})]}),f.jsxs("div",{className:"home-page__hero-stat",children:[f.jsx("strong",{children:"500+"}),f.jsx("span",{children:"Cours disponibles"})]}),f.jsxs("div",{className:"home-page__hero-stat",children:[f.jsx("strong",{children:"95%"}),f.jsx("span",{children:"Taux de russite"})]})]})]}),f.jsx("div",{className:"home-page__hero-image",children:f.jsxs("div",{className:"home-page__hero-illustration",children:[f.jsx(B3,{size:120}),f.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--1",children:""}),f.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--2",children:""}),f.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--3",children:""})]})})]}),f.jsx("section",{className:"home-page__levels",children:f.jsxs("div",{className:"home-page__container",children:[f.jsx("h2",{className:"home-page__section-title",children:"Tous les niveaux, toutes les matires"}),f.jsx("p",{className:"home-page__section-subtitle",children:"Du collge au lyce, prpare tes examens avec confiance"}),f.jsxs("div",{className:"home-page__levels-grid",children:[f.jsxs(de,{to:"/disciplines?niveau=college",className:"home-page__level-card",children:[f.jsx("div",{className:"home-page__level-icon home-page__level-icon--college",children:""}),f.jsx("h3",{children:"Collge"}),f.jsx("p",{children:"6me  3me"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx(ji,{size:16})," Prparation au BFEM"]}),f.jsxs("li",{children:[f.jsx(ji,{size:16})," 9 matires disponibles"]}),f.jsxs("li",{children:[f.jsx(ji,{size:16})," Exercices corrigs"]})]}),f.jsxs("span",{className:"home-page__level-link",children:["Voir les cours ",f.jsx(lo,{size:16})]})]}),f.jsxs(de,{to:"/disciplines?niveau=lycee",className:"home-page__level-card",children:[f.jsx("div",{className:"home-page__level-icon home-page__level-icon--lycee",children:""}),f.jsx("h3",{children:"Lyce"}),f.jsx("p",{children:"2nde  Terminale"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx(ji,{size:16})," Prparation au BAC"]}),f.jsxs("li",{children:[f.jsx(ji,{size:16})," 12 matires disponibles"]}),f.jsxs("li",{children:[f.jsx(ji,{size:16})," Annales d'examens"]})]}),f.jsxs("span",{className:"home-page__level-link",children:["Voir les cours ",f.jsx(lo,{size:16})]})]})]})]})}),f.jsx("section",{className:"home-page__features",children:f.jsxs("div",{className:"home-page__container",children:[f.jsx("h2",{className:"home-page__section-title",children:"Pourquoi choisir PedaClic ?"}),f.jsx("p",{className:"home-page__section-subtitle",children:"Des outils modernes pour une ducation de qualit"}),f.jsxs("div",{className:"home-page__features-grid",children:[f.jsxs("div",{className:"home-page__feature-card",children:[f.jsx("div",{className:"home-page__feature-icon",children:f.jsx(V3,{size:28})}),f.jsx("h3",{children:"Cours complets"}),f.jsx("p",{children:"Des cours structurs et conformes au programme sngalais, rdigs par des enseignants expriments."})]}),f.jsxs("div",{className:"home-page__feature-card",children:[f.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--secondary",children:f.jsx(X3,{size:28})}),f.jsx("h3",{children:"Quiz interactifs"}),f.jsx("p",{children:"Testez vos connaissances avec des quiz adapts  chaque niveau et obtenez un feedback instantan."})]}),f.jsxs("div",{className:"home-page__feature-card",children:[f.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--warning",children:f.jsx(Y3,{size:28})}),f.jsx("h3",{children:"Suivi de progression"}),f.jsx("p",{children:"Visualisez vos progrs et identifiez vos points faibles pour cibler vos rvisions."})]}),f.jsxs("div",{className:"home-page__feature-card",children:[f.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--success",children:f.jsx(G3,{size:28})}),f.jsx("h3",{children:"Contenu vrifi"}),f.jsx("p",{children:"Tous nos contenus sont valids par des professeurs certifis pour garantir leur qualit."})]}),f.jsxs("div",{className:"home-page__feature-card",children:[f.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--info",children:f.jsx(U3,{size:28})}),f.jsx("h3",{children:"Accessible 24/7"}),f.jsx("p",{children:"tudiez  votre rythme, o que vous soyez, sur ordinateur, tablette ou smartphone."})]}),f.jsxs("div",{className:"home-page__feature-card",children:[f.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--premium",children:f.jsx(M3,{size:28})}),f.jsx("h3",{children:"Certificats"}),f.jsx("p",{children:"Obtenez des certificats de russite pour valoriser vos comptences acquises."})]})]})]})}),f.jsx("section",{className:"home-page__premium",children:f.jsx("div",{className:"home-page__container",children:f.jsxs("div",{className:"home-page__premium-content",children:[f.jsxs("div",{className:"home-page__premium-text",children:[f.jsx("span",{className:"home-page__premium-badge",children:" Premium"}),f.jsx("h2",{children:"Passez  la vitesse suprieure"}),f.jsxs("p",{children:["Accdez  tous les quiz, exercices corrigs et ressources exclusives pour seulement ",f.jsx("strong",{children:"2 000 FCFA/mois"}),"."]}),f.jsxs("ul",{className:"home-page__premium-features",children:[f.jsxs("li",{children:[f.jsx(ji,{size:18})," Quiz illimits dans toutes les matires"]}),f.jsxs("li",{children:[f.jsx(ji,{size:18})," Corrections dtailles des exercices"]}),f.jsxs("li",{children:[f.jsx(ji,{size:18})," Annales des examens (BFEM, BAC)"]}),f.jsxs("li",{children:[f.jsx(ji,{size:18})," Support prioritaire"]})]}),f.jsxs(de,{to:"/premium",className:"home-page__btn home-page__btn--premium",children:["Dcouvrir Premium",f.jsx(lo,{size:20})]})]}),f.jsx("div",{className:"home-page__premium-pricing",children:f.jsxs("div",{className:"home-page__pricing-card",children:[f.jsx("span",{className:"home-page__pricing-popular",children:"Plus populaire"}),f.jsx("h3",{children:"Abonnement Annuel"}),f.jsxs("div",{className:"home-page__pricing-price",children:[f.jsx("span",{className:"home-page__pricing-amount",children:"20 000"}),f.jsx("span",{className:"home-page__pricing-currency",children:"FCFA"}),f.jsx("span",{className:"home-page__pricing-period",children:"/an"})]}),f.jsx("p",{className:"home-page__pricing-save",children:"conomisez 4 000 FCFA vs mensuel"}),f.jsx(de,{to:"/premium",className:"home-page__btn home-page__btn--primary home-page__btn--block",children:"Choisir ce plan"})]})})]})})}),f.jsx("section",{className:"home-page__testimonials",children:f.jsxs("div",{className:"home-page__container",children:[f.jsx("h2",{className:"home-page__section-title",children:"Ce qu'en disent nos lves"}),f.jsxs("div",{className:"home-page__testimonials-grid",children:[f.jsxs("div",{className:"home-page__testimonial-card",children:[f.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>f.jsx(uh,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),f.jsx("p",{className:"home-page__testimonial-text",children:`"Grce  PedaClic, j'ai obtenu mon BFEM avec mention. Les quiz m'ont vraiment aid  me prparer !"`}),f.jsxs("div",{className:"home-page__testimonial-author",children:[f.jsx("div",{className:"home-page__testimonial-avatar",children:"FA"}),f.jsxs("div",{children:[f.jsx("strong",{children:"Fatou Adara"}),f.jsx("span",{children:"lve en 3me - Dakar"})]})]})]}),f.jsxs("div",{className:"home-page__testimonial-card",children:[f.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>f.jsx(uh,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),f.jsx("p",{className:"home-page__testimonial-text",children:`"Les cours de maths sont trs bien expliqus. J'ai enfin compris les quations du second degr !"`}),f.jsxs("div",{className:"home-page__testimonial-author",children:[f.jsx("div",{className:"home-page__testimonial-avatar",children:"MD"}),f.jsxs("div",{children:[f.jsx("strong",{children:"Moussa Diallo"}),f.jsx("span",{children:"lve en Terminale S - This"})]})]})]}),f.jsxs("div",{className:"home-page__testimonial-card",children:[f.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>f.jsx(uh,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),f.jsx("p",{className:"home-page__testimonial-text",children:`"Je recommande PedaClic  tous les parents. Ma fille a beaucoup progress depuis qu'elle l'utilise."`}),f.jsxs("div",{className:"home-page__testimonial-author",children:[f.jsx("div",{className:"home-page__testimonial-avatar",children:"AN"}),f.jsxs("div",{children:[f.jsx("strong",{children:"Aminata Ndiaye"}),f.jsx("span",{children:"Parent d'lve - Saint-Louis"})]})]})]})]})]})}),f.jsx("section",{className:"home-page__final-cta",children:f.jsxs("div",{className:"home-page__container",children:[f.jsx("h2",{children:"Prt  russir ?"}),f.jsx("p",{children:"Rejoignez les milliers d'lves qui font confiance  PedaClic"}),!s&&f.jsxs(de,{to:"/register",className:"home-page__btn home-page__btn--large",children:["Crer mon compte gratuit",f.jsx(lo,{size:24})]})]})})]})},J3=()=>{const[s,e]=J.useState([]),[n,r]=J.useState([]),[o,c]=J.useState(!0),[d,p]=J.useState(null),[g,y]=J.useState("tous"),[T,A]=J.useState("");J.useEffect(()=>{(async()=>{try{c(!0);const H=cg(ig(Wt,"disciplines"),fp("ordre","asc")),V=(await fg(H)).docs.map($=>({id:$.id,...$.data()}));e(V),r(V),p(null)}catch(H){console.error("Erreur chargement disciplines:",H),p("Impossible de charger les disciplines. Veuillez ressayer.")}finally{c(!1)}})()},[]),J.useEffect(()=>{let U=s;if(g!=="tous"&&(U=U.filter(H=>H.niveau===g)),T.trim()){const H=T.toLowerCase();U=U.filter(O=>O.nom.toLowerCase().includes(H)||O.description.toLowerCase().includes(H)||O.classe.toLowerCase().includes(H))}r(U)},[s,g,T]);const x={tous:s.length,college:s.filter(U=>U.niveau==="college").length,lycee:s.filter(U=>U.niveau==="lycee").length};return o?f.jsx("div",{style:ve.container,children:f.jsxs("div",{style:ve.loadingContainer,children:[f.jsx("div",{style:ve.spinner}),f.jsx("p",{style:ve.loadingText,children:"Chargement des disciplines..."})]})}):d?f.jsx("div",{style:ve.container,children:f.jsxs("div",{style:ve.errorContainer,children:[f.jsx("span",{style:ve.errorIcon,children:""}),f.jsx("h2",{style:ve.errorTitle,children:"Erreur"}),f.jsx("p",{style:ve.errorText,children:d}),f.jsx("button",{onClick:()=>window.location.reload(),style:ve.retryButton,children:" Ressayer"})]})}):f.jsxs("div",{style:ve.container,children:[f.jsx("header",{style:ve.header,children:f.jsxs("div",{style:ve.headerContent,children:[f.jsx(de,{to:"/",style:ve.backLink,children:" Accueil"}),f.jsx("h1",{style:ve.title,children:" Nos Disciplines"}),f.jsx("p",{style:ve.subtitle,children:"Dcouvrez toutes les matires disponibles sur PedaClic, de la 6me  la Terminale."})]})}),f.jsx("div",{style:ve.filtersSection,children:f.jsxs("div",{style:ve.filtersContainer,children:[f.jsxs("div",{style:ve.searchBox,children:[f.jsx("span",{style:ve.searchIcon,children:""}),f.jsx("input",{type:"text",placeholder:"Rechercher une discipline...",value:T,onChange:U=>A(U.target.value),style:ve.searchInput}),T&&f.jsx("button",{onClick:()=>A(""),style:ve.clearSearch,children:""})]}),f.jsxs("div",{style:ve.niveauFilters,children:[f.jsxs("button",{onClick:()=>y("tous"),style:{...ve.filterButton,...g==="tous"?ve.filterButtonActive:{}},children:[" Tous (",x.tous,")"]}),f.jsxs("button",{onClick:()=>y("college"),style:{...ve.filterButton,...g==="college"?ve.filterButtonActive:{}},children:[" Collge (",x.college,")"]}),f.jsxs("button",{onClick:()=>y("lycee"),style:{...ve.filterButton,...g==="lycee"?ve.filterButtonActive:{}},children:[" Lyce (",x.lycee,")"]})]})]})}),f.jsx("main",{style:ve.main,children:n.length===0?f.jsxs("div",{style:ve.emptyState,children:[f.jsx("span",{style:ve.emptyIcon,children:""}),f.jsx("h3",{style:ve.emptyTitle,children:"Aucune discipline trouve"}),f.jsx("p",{style:ve.emptyText,children:"Essayez de modifier vos critres de recherche."}),f.jsx("button",{onClick:()=>{y("tous"),A("")},style:ve.resetButton,children:"Rinitialiser les filtres"})]}):f.jsx("div",{style:ve.grid,children:n.map(U=>f.jsx(Z3,{discipline:U},U.id))})}),f.jsxs("footer",{style:ve.footer,children:[f.jsx("p",{children:" PedaClic - L'cole en un clic"}),f.jsxs("p",{style:ve.footerSubtext,children:[s.length," disciplines disponibles  6me  Terminale"]})]})]})},Z3=({discipline:s})=>{const e=s.niveau==="college"?"Collge":"Lyce",n=s.niveau==="college"?"":"";return f.jsxs(de,{to:`/disciplines/${s.id}`,style:ve.card,className:"discipline-card",children:[f.jsx("div",{style:{...ve.cardIcon,backgroundColor:s.couleur||"#2563eb"},children:f.jsx("span",{style:ve.cardEmoji,children:s.icone||""})}),f.jsxs("div",{style:ve.cardContent,children:[f.jsx("h3",{style:ve.cardTitle,children:s.nom}),f.jsxs("div",{style:ve.cardMeta,children:[f.jsxs("span",{style:ve.cardBadge,children:[n," ",e]}),f.jsxs("span",{style:ve.cardBadge,children:[" ",s.classe]}),f.jsxs("span",{style:ve.cardBadge,children:[" Coef. ",s.coefficient]})]}),f.jsx("p",{style:ve.cardDescription,children:s.description})]}),f.jsx("div",{style:ve.cardArrow,children:""})]})},ve={container:{minHeight:"100vh",backgroundColor:"#f3f4f6",fontFamily:"system-ui, -apple-system, sans-serif"},header:{background:"linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%)",color:"white",padding:"2rem 1rem 3rem"},headerContent:{maxWidth:"1200px",margin:"0 auto"},backLink:{color:"rgba(255,255,255,0.8)",textDecoration:"none",fontSize:"0.9rem",display:"inline-block",marginBottom:"1rem"},title:{fontSize:"2.5rem",fontWeight:"700",margin:"0 0 0.5rem 0"},subtitle:{fontSize:"1.1rem",opacity:.9,margin:0,maxWidth:"600px"},filtersSection:{backgroundColor:"white",borderBottom:"1px solid #e5e7eb",padding:"1rem",position:"sticky",top:0,zIndex:10,boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},filtersContainer:{maxWidth:"1200px",margin:"0 auto",display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"center",justifyContent:"space-between"},searchBox:{display:"flex",alignItems:"center",backgroundColor:"#f3f4f6",borderRadius:"8px",padding:"0.5rem 1rem",flex:"1",maxWidth:"400px",minWidth:"200px"},searchIcon:{marginRight:"0.5rem",fontSize:"1rem"},searchInput:{border:"none",background:"transparent",flex:1,fontSize:"1rem",outline:"none"},clearSearch:{background:"none",border:"none",cursor:"pointer",color:"#6b7280",fontSize:"1rem",padding:"0 0.25rem"},niveauFilters:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},filterButton:{padding:"0.5rem 1rem",borderRadius:"20px",border:"1px solid #e5e7eb",backgroundColor:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.2s",color:"#374151"},filterButtonActive:{backgroundColor:"#2563eb",borderColor:"#2563eb",color:"white"},main:{maxWidth:"1200px",margin:"0 auto",padding:"2rem 1rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"1.5rem"},card:{display:"flex",alignItems:"flex-start",gap:"1rem",backgroundColor:"white",borderRadius:"12px",padding:"1.5rem",textDecoration:"none",color:"inherit",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",transition:"all 0.2s ease",border:"1px solid #e5e7eb"},cardIcon:{width:"60px",height:"60px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},cardEmoji:{fontSize:"1.75rem"},cardContent:{flex:1,minWidth:0},cardTitle:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",margin:"0 0 0.5rem 0"},cardMeta:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"0.75rem"},cardBadge:{fontSize:"0.75rem",padding:"0.25rem 0.5rem",backgroundColor:"#f3f4f6",borderRadius:"4px",color:"#6b7280"},cardDescription:{fontSize:"0.9rem",color:"#6b7280",margin:0,lineHeight:"1.5",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},cardArrow:{color:"#9ca3af",fontSize:"1.25rem",alignSelf:"center",transition:"transform 0.2s"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh"},spinner:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTopColor:"#2563eb",borderRadius:"50%",animation:"spin 1s linear infinite"},loadingText:{marginTop:"1rem",color:"#6b7280"},errorContainer:{textAlign:"center",padding:"4rem 2rem"},errorIcon:{fontSize:"4rem"},errorTitle:{color:"#dc2626",margin:"1rem 0 0.5rem"},errorText:{color:"#6b7280",marginBottom:"1.5rem"},retryButton:{padding:"0.75rem 1.5rem",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem"},emptyState:{textAlign:"center",padding:"4rem 2rem",backgroundColor:"white",borderRadius:"12px"},emptyIcon:{fontSize:"4rem"},emptyTitle:{color:"#1f2937",margin:"1rem 0 0.5rem"},emptyText:{color:"#6b7280",marginBottom:"1.5rem"},resetButton:{padding:"0.75rem 1.5rem",backgroundColor:"#f3f4f6",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"8px",cursor:"pointer",fontSize:"1rem"},footer:{textAlign:"center",padding:"2rem",backgroundColor:"#1f2937",color:"white",marginTop:"2rem"},footerSubtext:{fontSize:"0.85rem",opacity:.7,marginTop:"0.5rem"}},eD=()=>f.jsx("style",{children:`
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .discipline-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 24px rgba(0,0,0,0.15) !important;
      border-color: #2563eb !important;
    }
    
    .discipline-card:hover .card-arrow {
      transform: translateX(4px);
    }
  `}),tD=()=>f.jsxs(f.Fragment,{children:[f.jsx(eD,{}),f.jsx(J3,{})]}),VT={cours:{icon:"",label:"Cours",color:"#2563eb",bgColor:"#dbeafe"},exercice:{icon:"",label:"Exercice",color:"#059669",bgColor:"#d1fae5"},video:{icon:"",label:"Vido",color:"#dc2626",bgColor:"#fee2e2"},document:{icon:"",label:"Document",color:"#7c3aed",bgColor:"#ede9fe"},quiz:{icon:"",label:"Quiz",color:"#ea580c",bgColor:"#ffedd5"}},nD=s=>{if(!s||s<=0)return null;if(s<60)return`${s} min`;const e=Math.floor(s/60),n=s%60;return n>0?`${e}h${n.toString().padStart(2,"0")}`:`${e}h`},P1=(s,e)=>s.length<=e?s:s.slice(0,e).trim()+"...",iD=({resource:s,compact:e=!1,onClick:n,className:r=""})=>{const o=VT[s.type],c=nD(s.dureeEstimee),d=p=>{n&&(p.preventDefault(),n(s))};return e?f.jsxs(de,{to:`/resources/${s.id}`,className:`resource-card resource-card--compact ${r}`,onClick:d,"aria-label":`${o.label}: ${s.titre}`,children:[f.jsx("span",{className:"resource-card__icon",style:{backgroundColor:o.bgColor},title:o.label,children:o.icon}),f.jsx("span",{className:"resource-card__title",children:P1(s.titre,50)}),f.jsx("span",{className:`resource-card__badge ${s.isPremium?"resource-card__badge--premium":"resource-card__badge--free"}`,children:s.isPremium?"":""})]}):f.jsxs(de,{to:`/resources/${s.id}`,className:`resource-card ${r}`,onClick:d,"aria-label":`${o.label}: ${s.titre}`,children:[f.jsxs("div",{className:"resource-card__header",children:[f.jsx("div",{className:"resource-card__type-icon",style:{backgroundColor:o.bgColor},children:o.icon}),f.jsx("span",{className:"resource-card__type-badge",style:{color:o.color,backgroundColor:o.bgColor},children:o.label}),f.jsx("div",{className:"resource-card__spacer"}),f.jsx("span",{className:`resource-card__status ${s.isPremium?"resource-card__status--premium":"resource-card__status--free"}`,children:s.isPremium?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"resource-card__status-icon",children:""}),f.jsx("span",{children:"Premium"})]}):f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"resource-card__status-icon",children:""}),f.jsx("span",{children:"Gratuit"})]})})]}),f.jsxs("div",{className:"resource-card__content",children:[f.jsx("h4",{className:"resource-card__title",children:s.titre}),s.description&&f.jsx("p",{className:"resource-card__description",children:P1(s.description,120)})]}),f.jsxs("div",{className:"resource-card__footer",children:[c&&f.jsxs("span",{className:"resource-card__meta",children:[f.jsx("span",{className:"resource-card__meta-icon",children:""}),c]}),s.tags&&s.tags.length>0&&f.jsxs("div",{className:"resource-card__tags",children:[s.tags.slice(0,3).map((p,g)=>f.jsx("span",{className:"resource-card__tag",children:p},g)),s.tags.length>3&&f.jsxs("span",{className:"resource-card__tag resource-card__tag--more",children:["+",s.tags.length-3]})]}),s.fichierURL&&f.jsx("span",{className:"resource-card__file-indicator",title:"Fichier attach",children:""}),f.jsx("span",{className:"resource-card__arrow",children:""})]})]})},sD=s=>{const e={total:s.length,premium:0,gratuit:0,parType:{cours:0,exercice:0,video:0,document:0,quiz:0}};return s.forEach(n=>{n.isPremium?e.premium++:e.gratuit++,e.parType.hasOwnProperty(n.type)&&e.parType[n.type]++}),e},rD=s=>{const e={cours:1,exercice:2,video:3,document:4,quiz:5};return[...s].sort((n,r)=>n.ordre!==r.ordre?n.ordre-r.ordre:e[n.type]-e[r.type])},aD=({chapterName:s,chapterNumber:e,resources:n,isExpanded:r,onToggle:o,className:c=""})=>{const d=J.useMemo(()=>sD(n),[n]),p=J.useMemo(()=>rD(n),[n]),g=J.useMemo(()=>["cours","exercice","video","document","quiz"].filter(A=>d.parType[A]>0).map(A=>({type:A,count:d.parType[A],config:VT[A]})),[d]),y=d.premium>0;return f.jsxs("div",{className:`chapter-card ${r?"chapter-card--expanded":""} ${c}`,children:[f.jsxs("button",{type:"button",className:"chapter-card__header",onClick:o,"aria-expanded":r,"aria-controls":`chapter-content-${e}`,children:[f.jsx("div",{className:"chapter-card__number",children:f.jsx("span",{children:e})}),f.jsxs("div",{className:"chapter-card__info",children:[f.jsx("h3",{className:"chapter-card__title",children:s}),f.jsx("div",{className:"chapter-card__type-summary",children:g.map(({type:T,count:A,config:x})=>f.jsxs("span",{className:"chapter-card__type-count",title:`${A} ${x.label.toLowerCase()}${A>1?"s":""}`,children:[f.jsx("span",{className:"chapter-card__type-icon",children:x.icon}),f.jsx("span",{children:A})]},T))})]}),f.jsxs("div",{className:"chapter-card__badges",children:[f.jsxs("span",{className:"chapter-card__count-badge",children:[d.total," ressource",d.total>1?"s":""]}),y&&f.jsxs("span",{className:"chapter-card__premium-badge",title:`${d.premium} contenu(s) premium`,children:[" ",d.premium]})]}),f.jsx("div",{className:`chapter-card__chevron ${r?"chapter-card__chevron--open":""}`,children:f.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),f.jsxs("div",{id:`chapter-content-${e}`,className:`chapter-card__content ${r?"chapter-card__content--visible":""}`,"aria-hidden":!r,children:[f.jsxs("div",{className:"chapter-card__progress",children:[f.jsx("div",{className:"chapter-card__progress-bar",children:f.jsx("div",{className:"chapter-card__progress-fill",style:{width:"0%"}})}),f.jsxs("span",{className:"chapter-card__progress-text",children:["0/",d.total," termin",d.total>1?"s":""]})]}),f.jsx("div",{className:"chapter-card__resources",children:p.length>0?p.map(T=>f.jsx(iD,{resource:T,className:"chapter-card__resource"},T.id)):f.jsxs("div",{className:"chapter-card__empty",children:[f.jsx("span",{className:"chapter-card__empty-icon",children:""}),f.jsx("p",{children:"Aucune ressource dans ce chapitre"})]})}),f.jsxs("div",{className:"chapter-card__stats",children:[f.jsxs("div",{className:"chapter-card__stat",children:[f.jsx("span",{className:"chapter-card__stat-value",children:d.total}),f.jsx("span",{className:"chapter-card__stat-label",children:"Total"})]}),f.jsxs("div",{className:"chapter-card__stat",children:[f.jsx("span",{className:"chapter-card__stat-value chapter-card__stat-value--premium",children:d.premium}),f.jsx("span",{className:"chapter-card__stat-label",children:"Premium"})]}),f.jsxs("div",{className:"chapter-card__stat",children:[f.jsx("span",{className:"chapter-card__stat-value chapter-card__stat-value--free",children:d.gratuit}),f.jsx("span",{className:"chapter-card__stat-label",children:"Gratuit"})]})]})]})]})},Vm=()=>f.jsx("div",{className:"chapter-card chapter-card--skeleton",children:f.jsxs("div",{className:"chapter-card__header",children:[f.jsx("div",{className:"skeleton skeleton--number"}),f.jsxs("div",{className:"chapter-card__info",children:[f.jsx("div",{className:"skeleton skeleton--title",style:{width:"60%"}}),f.jsx("div",{className:"skeleton skeleton--meta",style:{width:"40%"}})]}),f.jsx("div",{className:"skeleton skeleton--badge",style:{width:"100px"}}),f.jsx("div",{className:"skeleton skeleton--chevron"})]})}),oD="resources",LT=ig(Wt,oD),lD=s=>{const e=s.data();return{id:s.id,disciplineId:e.disciplineId,titre:e.titre,type:e.type,contenu:e.contenu,description:e.description||"",isPremium:e.isPremium||!1,ordre:e.ordre||0,chapitre:e.chapitre||"",fichierURL:e.fichierURL||"",dureeEstimee:e.dureeEstimee||0,tags:e.tags||[],auteurId:e.auteurId,createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()}},cD=async s=>{try{const e=cg(LT,CT("disciplineId","==",s),fp("chapitre","asc"),fp("ordre","asc")),n=await fg(e),r=new Map;return n.docs.forEach(o=>{const c=lD(o),d=c.chapitre||"Non class";r.has(d)||r.set(d,[]),r.get(d).push(c)}),{success:!0,data:r}}catch(e){return console.error("Erreur rcupration par chapitre:",e),{success:!1,error:e instanceof Error?e.message:"Erreur lors de la rcupration"}}},uD=async s=>{try{const e=cg(LT,CT("disciplineId","==",s)),n=await fg(e);let r=0,o=0,c=0;const d={cours:0,exercice:0,video:0,document:0,quiz:0};return n.docs.forEach(p=>{const g=p.data();r++,g.isPremium?o++:c++;const y=g.type;d.hasOwnProperty(y)&&d[y]++}),{success:!0,data:{total:r,premium:o,gratuit:c,parType:d}}}catch(e){return console.error("Erreur comptage ressources:",e),{success:!1,error:e instanceof Error?e.message:"Erreur lors du comptage"}}},U1=[{value:"all",label:"Tous",icon:""},{value:"cours",label:"Cours",icon:""},{value:"exercice",label:"Exercices",icon:""},{value:"video",label:"Vidos",icon:""},{value:"document",label:"Documents",icon:""},{value:"quiz",label:"Quiz",icon:""}],hD={college:"Collge",lycee:"Lyce"},dD={"6eme":"6me","5eme":"5me","4eme":"4me","3eme":"3me","2nde":"Seconde","1ere":"Premire",Terminale:"Terminale"},fD=()=>{const{id:s}=iS(),[e,n]=J.useState(null),[r,o]=J.useState(new Map),[c,d]=J.useState(null),[p,g]=J.useState(new Set),[y,T]=J.useState("all"),[A,x]=J.useState(!0),[U,H]=J.useState(null);J.useEffect(()=>{(async()=>{if(!s){H("ID de discipline manquant"),x(!1);return}x(!0),H(null);try{const R=Fn(Wt,"disciplines",s),w=await IT(R);if(!w.exists()){H("Discipline non trouve"),x(!1);return}const C=w.data(),k={id:w.id,nom:C.nom,niveau:C.niveau,classe:C.classe,ordre:C.ordre||0,coefficient:C.coefficient,couleur:C.couleur,icone:C.icone,description:C.description,createdAt:C.createdAt?.toDate()||new Date,updatedAt:C.updatedAt?.toDate()};n(k);const D=await cD(s);if(D.success&&D.data){o(D.data);const N=Array.from(D.data.keys())[0];N&&g(new Set([N]))}const P=await uD(s);P.success&&P.data&&d(P.data)}catch(R){console.error("Erreur chargement discipline:",R),H("Erreur lors du chargement des donnes")}finally{x(!1)}})()},[s]);const O=J.useMemo(()=>{if(y==="all")return r;const le=new Map;return r.forEach((R,w)=>{const C=R.filter(k=>k.type===y);C.length>0&&le.set(w,C)}),le},[r,y]),V=J.useMemo(()=>{const le={all:0};return r.forEach(R=>{le.all+=R.length,R.forEach(w=>{le[w.type]=(le[w.type]||0)+1})}),le},[r]),$=J.useCallback(le=>{g(R=>{const w=new Set(R);return w.has(le)?w.delete(le):w.add(le),w})},[]),se=J.useCallback(()=>{const le=new Set(O.keys());g(le)},[O]),ne=J.useCallback(()=>{g(new Set)},[]);if(A)return f.jsxs("div",{className:"discipline-detail",children:[f.jsx("div",{className:"discipline-detail__header discipline-detail__header--skeleton",children:f.jsxs("div",{className:"container",children:[f.jsx("div",{className:"skeleton skeleton--title",style:{width:"200px",height:"40px"}}),f.jsx("div",{className:"skeleton skeleton--text",style:{width:"300px",marginTop:"16px"}})]})}),f.jsx("div",{className:"discipline-detail__filters",children:f.jsx("div",{className:"container",children:f.jsx("div",{className:"discipline-detail__filter-bar",children:[1,2,3,4,5].map(le=>f.jsx("div",{className:"skeleton skeleton--button",style:{width:"100px",height:"40px"}},le))})})}),f.jsx("div",{className:"discipline-detail__content",children:f.jsxs("div",{className:"container",children:[f.jsx(Vm,{}),f.jsx(Vm,{}),f.jsx(Vm,{})]})})]});if(U||!e)return f.jsx("div",{className:"discipline-detail",children:f.jsx("div",{className:"discipline-detail__error",children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:"error-box",children:[f.jsx("span",{className:"error-box__icon",children:""}),f.jsx("h2",{className:"error-box__title",children:U||"Discipline non trouve"}),f.jsx("p",{className:"error-box__message",children:"La discipline demande n'existe pas ou a t supprime."}),f.jsx(de,{to:"/disciplines",className:"error-box__link",children:" Retour aux disciplines"})]})})})});const me=Array.from(O.entries()),Ae=Array.from(r.keys()).length;return f.jsxs("div",{className:"discipline-detail",children:[f.jsx("header",{className:"discipline-detail__header",children:f.jsxs("div",{className:"container",children:[f.jsxs("nav",{className:"discipline-detail__breadcrumb","aria-label":"Fil d'ariane",children:[f.jsx(de,{to:"/",children:"Accueil"}),f.jsx("span",{className:"discipline-detail__breadcrumb-separator",children:"/"}),f.jsx(de,{to:"/disciplines",children:"Disciplines"}),f.jsx("span",{className:"discipline-detail__breadcrumb-separator",children:"/"}),f.jsx("span",{className:"discipline-detail__breadcrumb-current",children:e.nom})]}),f.jsxs("div",{className:"discipline-detail__title-section",children:[e.icone&&f.jsx("span",{className:"discipline-detail__icon",children:e.icone}),f.jsxs("div",{className:"discipline-detail__title-info",children:[f.jsx("h1",{className:"discipline-detail__title",children:e.nom}),f.jsxs("div",{className:"discipline-detail__meta",children:[f.jsx("span",{className:"discipline-detail__niveau",children:hD[e.niveau]||e.niveau}),f.jsx("span",{className:"discipline-detail__separator",children:""}),f.jsx("span",{className:"discipline-detail__classe",children:dD[e.classe]||e.classe}),e.coefficient&&f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"discipline-detail__separator",children:""}),f.jsxs("span",{className:"discipline-detail__coefficient",children:["Coef. ",e.coefficient]})]})]})]})]}),c&&f.jsxs("div",{className:"discipline-detail__stats",children:[f.jsxs("div",{className:"discipline-detail__stat",children:[f.jsx("span",{className:"discipline-detail__stat-value",children:Ae}),f.jsxs("span",{className:"discipline-detail__stat-label",children:["Chapitre",Ae>1?"s":""]})]}),f.jsxs("div",{className:"discipline-detail__stat",children:[f.jsx("span",{className:"discipline-detail__stat-value",children:c.total}),f.jsxs("span",{className:"discipline-detail__stat-label",children:["Ressource",c.total>1?"s":""]})]}),f.jsxs("div",{className:"discipline-detail__stat discipline-detail__stat--free",children:[f.jsx("span",{className:"discipline-detail__stat-value",children:c.gratuit}),f.jsxs("span",{className:"discipline-detail__stat-label",children:["Gratuit",c.gratuit>1?"s":""]})]}),f.jsxs("div",{className:"discipline-detail__stat discipline-detail__stat--premium",children:[f.jsx("span",{className:"discipline-detail__stat-value",children:c.premium}),f.jsx("span",{className:"discipline-detail__stat-label",children:"Premium"})]})]}),e.description&&f.jsx("p",{className:"discipline-detail__description",children:e.description})]})}),f.jsx("section",{className:"discipline-detail__filters",children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:"discipline-detail__filter-bar",children:[f.jsx("div",{className:"discipline-detail__type-filters",children:U1.map(le=>{const R=V[le.value]||0,w=y===le.value,C=le.value!=="all"&&R===0;return f.jsxs("button",{type:"button",className:`discipline-detail__filter-btn ${w?"discipline-detail__filter-btn--active":""}`,onClick:()=>T(le.value),disabled:C,"aria-pressed":w,children:[f.jsx("span",{className:"discipline-detail__filter-icon",children:le.icon}),f.jsx("span",{className:"discipline-detail__filter-label",children:le.label}),f.jsx("span",{className:"discipline-detail__filter-count",children:R})]},le.value)})}),f.jsxs("div",{className:"discipline-detail__chapter-actions",children:[f.jsxs("button",{type:"button",className:"discipline-detail__expand-btn",onClick:se,title:"Tout dplier",children:[f.jsx("span",{children:""})," Tout dplier"]}),f.jsxs("button",{type:"button",className:"discipline-detail__collapse-btn",onClick:ne,title:"Tout replier",children:[f.jsx("span",{children:""})," Tout replier"]})]})]})})}),f.jsx("main",{className:"discipline-detail__content",children:f.jsx("div",{className:"container",children:me.length>0?f.jsx("div",{className:"discipline-detail__chapters",children:me.map(([le,R],w)=>f.jsx(aD,{chapterName:le,chapterNumber:w+1,resources:R,isExpanded:p.has(le),onToggle:()=>$(le)},le))}):f.jsxs("div",{className:"discipline-detail__empty",children:[f.jsx("span",{className:"discipline-detail__empty-icon",children:""}),f.jsx("h3",{className:"discipline-detail__empty-title",children:y==="all"?"Aucune ressource disponible":`Aucun(e) ${U1.find(le=>le.value===y)?.label.toLowerCase()} disponible`}),f.jsx("p",{className:"discipline-detail__empty-message",children:y==="all"?"Cette discipline ne contient pas encore de ressources pdagogiques.":"Essayez de changer de filtre ou revenez plus tard."}),y!=="all"&&f.jsx("button",{type:"button",className:"discipline-detail__reset-filter",onClick:()=>T("all"),children:"Afficher toutes les ressources"})]})})}),c&&c.premium>0&&f.jsx("aside",{className:"discipline-detail__premium-banner",children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:"premium-banner",children:[f.jsxs("div",{className:"premium-banner__content",children:[f.jsx("span",{className:"premium-banner__icon",children:""}),f.jsxs("div",{className:"premium-banner__text",children:[f.jsxs("strong",{children:[c.premium," ressource",c.premium>1?"s":""," Premium"]}),f.jsx("span",{children:"Accdez  tout le contenu pour seulement 2 000 FCFA/mois"})]})]}),f.jsx(de,{to:"/premium",className:"premium-banner__cta",children:"Devenir Premium"})]})})})]})},Lm=[{id:"mensuel",nom:"Mensuel",prix:2e3,duree:"1 mois"},{id:"annuel",nom:"Annuel",prix:2e4,prixOriginal:24e3,duree:"12 mois",economie:"4 000 FCFA",popular:!0}],mD=[{icone:"",titre:"Accs illimit",description:"Tous les cours de la 6me  la Terminale, sans restriction."},{icone:"",titre:"Vidos explicatives",description:"Des cours en vido par des professeurs expriments."},{icone:"",titre:"Exercices corrigs",description:"Des milliers d'exercices avec corrections dtailles."},{icone:"",titre:"Suivi de progression",description:"Tableau de bord personnel pour suivre vos rsultats."},{icone:"",titre:"Quiz interactifs",description:"Testez vos connaissances avec des quiz par matire."},{icone:"",titre:"Support prioritaire",description:"Assistance rapide pour toutes vos questions."},{icone:"",titre:"Accs mobile",description:"Apprenez partout, sur tlphone ou tablette."},{icone:"",titre:"Mises  jour",description:"Nouveaux contenus ajouts rgulirement."}],pD=[{question:"Comment fonctionne l'abonnement Premium ?",reponse:"Une fois votre paiement effectu via Wave, Orange Money ou carte bancaire, votre compte est instantanment mis  niveau. Vous avez accs  tous les contenus Premium pendant la dure de votre abonnement."},{question:"Puis-je annuler mon abonnement ?",reponse:"Oui, vous pouvez annuler  tout moment depuis votre espace personnel. Vous conservez l'accs Premium jusqu' la fin de la priode paye."},{question:"L'abonnement se renouvelle-t-il automatiquement ?",reponse:"Non, chez PedaClic, il n'y a pas de renouvellement automatique. Vous dcidez quand renouveler votre abonnement."},{question:"Quels moyens de paiement acceptez-vous ?",reponse:"Nous acceptons Wave, Orange Money, Free Money et les cartes bancaires (Visa, Mastercard) via notre partenaire PayTech."},{question:"Puis-je partager mon compte Premium ?",reponse:"Chaque compte Premium est personnel et li  une adresse email. Le partage de compte est interdit pour garantir un suivi de progression personnalis."}],gD=()=>{const{currentUser:s}=Rc(),e=vr(),n=fc(),[r,o]=J.useState("annuel"),[c,d]=J.useState(!1),[p,g]=J.useState(null),[y,T]=J.useState(null);e.state?.from;const A=()=>!s||!s.isPremium?!1:s.subscriptionEnd?(s.subscriptionEnd instanceof Date?s.subscriptionEnd:new Date(s.subscriptionEnd))>new Date:!0,x=async()=>{if(!s){n("/connexion",{state:{from:"/premium"}});return}if(A()){g("Vous tes dj abonn Premium !");return}try{d(!0),g(null);const O=Lm.find(me=>me.id===r);if(!O)throw new Error("Plan invalide");const V=await H4(ig(Wt,"transactions"),{userId:s.uid,userEmail:s.email,planType:r,montant:O.prix,devise:"XOF",statut:"pending",dateTransaction:Mi(),createdAt:Mi()}),$={apiKey:"your_paytech_key",apiSecret:"demo_api_secret",item_name:`PedaClic Premium ${O.nom}`,item_price:O.prix,currency:"XOF",ref_command:V.id,success_url:`${window.location.origin}/premium/success?ref=${V.id}`,cancel_url:`${window.location.origin}/premium/cancel?ref=${V.id}`,ipn_url:"/api/paytech/ipn",custom_field:JSON.stringify({userId:s.uid,planType:r,transactionId:V.id}),env:"test"},ne=await(await fetch("https://paytech.sn/api/payment/request-payment",{method:"POST",headers:{"Content-Type":"application/json",API_KEY:$.apiKey,API_SECRET:$.apiSecret},body:JSON.stringify({item_name:$.item_name,item_price:$.item_price,currency:$.currency,ref_command:$.ref_command,command_name:`Abonnement Premium ${O.nom} - ${s.email}`,env:$.env,ipn_url:$.ipn_url,success_url:$.success_url,cancel_url:$.cancel_url,custom_field:$.custom_field})})).json();if(ne.success===1&&ne.redirect_url)window.location.href=ne.redirect_url;else{console.log("Mode dmo PayTech - Simulation de paiement");const me=new Date,Ae=new Date(me);r==="mensuel"?Ae.setMonth(Ae.getMonth()+1):Ae.setFullYear(Ae.getFullYear()+1),await zh(Fn(Wt,"users",s.uid),{isPremium:!0,subscriptionEnd:Ae,subscriptionPlan:r,updatedAt:Mi()}),await zh(Fn(Wt,"transactions",V.id),{statut:"success",paytechTransactionId:"DEMO_"+Date.now(),dateExpiration:Ae,updatedAt:Mi()}),n("/premium/success",{state:{plan:O.nom,montant:O.prix,expiration:Ae.toLocaleDateString("fr-FR")}})}}catch(O){console.error("Erreur paiement:",O),g("Une erreur est survenue lors du paiement. Veuillez ressayer.")}finally{d(!1)}},U=O=>{T(y===O?null:O)},H=O=>O.toLocaleString("fr-FR")+" FCFA";if(A()){const O=s?.subscriptionEnd instanceof Date?s.subscriptionEnd:new Date(s?.subscriptionEnd||Date.now());return f.jsx("div",{className:"premium-page",children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:"premium-already",children:[f.jsx("span",{className:"premium-already__icon",children:""}),f.jsx("h1",{children:"Vous tes dj Premium !"}),f.jsxs("p",{children:["Votre abonnement est actif jusqu'au"," ",f.jsx("strong",{children:O.toLocaleDateString("fr-FR")})]}),f.jsxs("div",{className:"premium-already__actions",children:[f.jsx(de,{to:"/disciplines",className:"btn btn--primary",children:"Accder aux cours"}),f.jsx(de,{to:"/dashboard",className:"btn btn--outline",children:"Mon tableau de bord"})]})]})})})}return f.jsxs("div",{className:"premium-page",children:[f.jsx("section",{className:"premium-hero",children:f.jsxs("div",{className:"container",children:[f.jsx("span",{className:"premium-hero__badge",children:" Premium"}),f.jsxs("h1",{className:"premium-hero__title",children:["Dbloquez tout le potentiel de ",f.jsx("span",{children:"PedaClic"})]}),f.jsx("p",{className:"premium-hero__subtitle",children:"Accdez  tous les cours, exercices corrigs, vidos et quiz de la 6me  la Terminale. Russissez vos examens !"})]})}),f.jsx("section",{className:"premium-pricing",children:f.jsxs("div",{className:"container",children:[f.jsx("h2",{className:"section-title",children:"Choisissez votre formule"}),f.jsx("div",{className:"pricing-cards",children:Lm.map(O=>f.jsxs("div",{className:`pricing-card ${r===O.id?"pricing-card--selected":""} ${O.popular?"pricing-card--popular":""}`,onClick:()=>o(O.id),children:[O.popular&&f.jsx("span",{className:"pricing-card__badge",children:"Le plus populaire"}),f.jsxs("div",{className:"pricing-card__header",children:[f.jsx("h3",{className:"pricing-card__name",children:O.nom}),f.jsx("p",{className:"pricing-card__duration",children:O.duree})]}),f.jsxs("div",{className:"pricing-card__price",children:[O.prixOriginal&&f.jsx("span",{className:"pricing-card__original",children:H(O.prixOriginal)}),f.jsx("span",{className:"pricing-card__amount",children:H(O.prix)}),O.id==="mensuel"&&f.jsx("span",{className:"pricing-card__period",children:"/mois"})]}),O.economie&&f.jsxs("p",{className:"pricing-card__savings",children:["conomisez ",O.economie]}),f.jsx("div",{className:"pricing-card__radio",children:f.jsx("span",{className:`radio-dot ${r===O.id?"radio-dot--active":""}`})})]},O.id))}),f.jsxs("div",{className:"pricing-cta",children:[p&&f.jsxs("div",{className:"pricing-error",children:[f.jsx("span",{children:""})," ",p]}),s?f.jsx("button",{className:"btn btn--premium btn--lg",onClick:x,disabled:c,children:c?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"spinner-sm"}),"Traitement en cours..."]}):f.jsxs(f.Fragment,{children:["Payer ",H(Lm.find(O=>O.id===r)?.prix||0)]})}):f.jsxs("div",{className:"pricing-login",children:[f.jsx("p",{children:"Connectez-vous pour souscrire  Premium"}),f.jsx(de,{to:"/connexion",state:{from:"/premium"},className:"btn btn--primary btn--lg",children:"Se connecter"}),f.jsxs("p",{className:"pricing-login__register",children:["Pas encore inscrit ?"," ",f.jsx(de,{to:"/inscription",state:{from:"/premium"},children:"Crer un compte"})]})]}),f.jsxs("div",{className:"payment-methods",children:[f.jsx("p",{children:"Paiement scuris par"}),f.jsxs("div",{className:"payment-methods__logos",children:[f.jsx("span",{className:"payment-logo",children:" Orange Money"}),f.jsx("span",{className:"payment-logo",children:" Wave"}),f.jsx("span",{className:"payment-logo",children:" Free Money"}),f.jsx("span",{className:"payment-logo",children:" Carte bancaire"})]})]})]})]})}),f.jsx("section",{className:"premium-features",children:f.jsxs("div",{className:"container",children:[f.jsx("h2",{className:"section-title",children:"Tout ce que vous obtenez"}),f.jsx("p",{className:"section-subtitle",children:"Un accs complet  toutes les ressources pdagogiques"}),f.jsx("div",{className:"features-grid",children:mD.map((O,V)=>f.jsxs("div",{className:"feature-card",children:[f.jsx("span",{className:"feature-card__icon",children:O.icone}),f.jsx("h3",{className:"feature-card__title",children:O.titre}),f.jsx("p",{className:"feature-card__description",children:O.description})]},V))})]})}),f.jsx("section",{className:"premium-comparison",children:f.jsxs("div",{className:"container",children:[f.jsx("h2",{className:"section-title",children:"Gratuit vs Premium"}),f.jsxs("div",{className:"comparison-table",children:[f.jsxs("div",{className:"comparison-header",children:[f.jsx("div",{className:"comparison-feature",children:"Fonctionnalits"}),f.jsx("div",{className:"comparison-free",children:"Gratuit"}),f.jsx("div",{className:"comparison-premium",children:"Premium"})]}),[{feature:"Cours de base",free:!0,premium:!0},{feature:"Exercices avec corrections",free:!1,premium:!0},{feature:"Vidos explicatives",free:!1,premium:!0},{feature:"Quiz interactifs",free:!1,premium:!0},{feature:"Suivi de progression",free:!1,premium:!0},{feature:"Tlchargement de documents",free:!1,premium:!0},{feature:"Support prioritaire",free:!1,premium:!0},{feature:"Accs mobile optimis",free:!0,premium:!0}].map((O,V)=>f.jsxs("div",{className:"comparison-row",children:[f.jsx("div",{className:"comparison-feature",children:O.feature}),f.jsx("div",{className:"comparison-free",children:O.free?f.jsx("span",{className:"check",children:""}):f.jsx("span",{className:"cross",children:""})}),f.jsx("div",{className:"comparison-premium",children:f.jsx("span",{className:"check check--premium",children:""})})]},V))]})]})}),f.jsx("section",{className:"premium-testimonials",children:f.jsxs("div",{className:"container",children:[f.jsx("h2",{className:"section-title",children:"Ils ont choisi Premium"}),f.jsxs("div",{className:"testimonials-grid",children:[f.jsxs("div",{className:"testimonial-card",children:[f.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),f.jsx("p",{className:"testimonial-card__text",children:`"Grce  PedaClic Premium, j'ai eu 16/20 au BFEM. Les exercices corrigs m'ont beaucoup aid !"`}),f.jsxs("div",{className:"testimonial-card__author",children:[f.jsx("div",{className:"testimonial-card__avatar",children:"AN"}),f.jsxs("div",{children:[f.jsx("p",{className:"testimonial-card__name",children:"Aminata Ndiaye"}),f.jsx("p",{className:"testimonial-card__info",children:"3me - Dakar"})]})]})]}),f.jsxs("div",{className:"testimonial-card",children:[f.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),f.jsx("p",{className:"testimonial-card__text",children:'"Les vidos sont trs bien expliques. Je comprends mieux les maths maintenant. Merci PedaClic !"'}),f.jsxs("div",{className:"testimonial-card__author",children:[f.jsx("div",{className:"testimonial-card__avatar",children:"IF"}),f.jsxs("div",{children:[f.jsx("p",{className:"testimonial-card__name",children:"Ibrahima Fall"}),f.jsx("p",{className:"testimonial-card__info",children:"Terminale S - This"})]})]})]}),f.jsxs("div",{className:"testimonial-card",children:[f.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),f.jsx("p",{className:"testimonial-card__text",children:`"20 000 FCFA pour l'anne, c'est vraiment abordable. Mon fils a accs  tout ce dont il a besoin."`}),f.jsxs("div",{className:"testimonial-card__author",children:[f.jsx("div",{className:"testimonial-card__avatar",children:"FD"}),f.jsxs("div",{children:[f.jsx("p",{className:"testimonial-card__name",children:"Fatou Diop"}),f.jsx("p",{className:"testimonial-card__info",children:"Parent d'lve - Saint-Louis"})]})]})]})]})]})}),f.jsx("section",{className:"premium-faq",children:f.jsxs("div",{className:"container",children:[f.jsx("h2",{className:"section-title",children:"Questions frquentes"}),f.jsx("div",{className:"faq-list",children:pD.map((O,V)=>f.jsxs("div",{className:`faq-item ${y===V?"faq-item--open":""}`,children:[f.jsxs("button",{className:"faq-item__question",onClick:()=>U(V),"aria-expanded":y===V,children:[f.jsx("span",{children:O.question}),f.jsx("span",{className:"faq-item__icon",children:y===V?"":"+"})]}),y===V&&f.jsx("div",{className:"faq-item__answer",children:f.jsx("p",{children:O.reponse})})]},V))})]})}),f.jsx("section",{className:"premium-cta-final",children:f.jsxs("div",{className:"container",children:[f.jsx("h2",{children:"Prt  russir vos examens ?"}),f.jsx("p",{children:"Rejoignez des milliers d'lves sngalais qui ont choisi PedaClic Premium"}),f.jsx("button",{className:"btn btn--white btn--lg",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"Commencer maintenant"})]})})]})},_D=()=>{const{login:s}=Rc(),e=fc(),r=vr().state?.from||"/",[o,c]=J.useState({email:"",password:""}),[d,p]=J.useState(!1),[g,y]=J.useState(""),[T,A]=J.useState(!1),x=O=>{const{name:V,value:$}=O.target;c(se=>({...se,[V]:$})),g&&y("")},U=()=>o.email.trim()?o.password?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)?!0:(y("Veuillez entrer une adresse email valide."),!1):(y("Veuillez entrer votre mot de passe."),!1):(y("Veuillez entrer votre adresse email."),!1),H=async O=>{if(O.preventDefault(),!!U()){p(!0),y("");try{await s(o.email,o.password),e(r,{replace:!0})}catch(V){V instanceof Error?y(V.message):y("Une erreur est survenue lors de la connexion.")}finally{p(!1)}}};return f.jsx("div",{className:"auth-page",children:f.jsxs("div",{className:"auth-container",children:[f.jsxs("div",{className:"auth-card",children:[f.jsxs("div",{className:"auth-header",children:[f.jsxs(de,{to:"/",className:"auth-logo",children:[f.jsx("div",{className:"auth-logo__icon",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),f.jsx("span",{children:"PedaClic"})]}),f.jsx("h1",{className:"auth-title",children:"Connexion"}),f.jsx("p",{className:"auth-subtitle",children:"Accdez  votre espace d'apprentissage"})]}),g&&f.jsxs("div",{className:"auth-error",children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("path",{d:"M12 8v4M12 16h.01"})]}),f.jsx("span",{children:g})]}),f.jsxs("form",{onSubmit:H,className:"auth-form",children:[f.jsxs("div",{className:"auth-field",children:[f.jsx("label",{htmlFor:"email",className:"auth-label",children:"Adresse email"}),f.jsxs("div",{className:"auth-input-wrapper",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),f.jsx("input",{type:"email",id:"email",name:"email",value:o.email,onChange:x,placeholder:"exemple@email.com",className:"auth-input",autoComplete:"email",disabled:d})]})]}),f.jsxs("div",{className:"auth-field",children:[f.jsx("label",{htmlFor:"password",className:"auth-label",children:"Mot de passe"}),f.jsxs("div",{className:"auth-input-wrapper",children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:[f.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",strokeWidth:"2"}),f.jsx("path",{strokeWidth:"2",d:"M7 11V7a5 5 0 0110 0v4"})]}),f.jsx("input",{type:T?"text":"password",id:"password",name:"password",value:o.password,onChange:x,placeholder:"Votre mot de passe",className:"auth-input",autoComplete:"current-password",disabled:d}),f.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>A(!T),"aria-label":T?"Masquer le mot de passe":"Afficher le mot de passe",children:T?f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),f.jsx("div",{className:"auth-forgot",children:f.jsx(de,{to:"/mot-de-passe-oublie",className:"auth-forgot-link",children:"Mot de passe oubli ?"})}),f.jsx("button",{type:"submit",className:"auth-button",disabled:d,children:d?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"auth-button-spinner"}),"Connexion en cours..."]}):"Se connecter"})]}),f.jsx("div",{className:"auth-divider",children:f.jsx("span",{children:"ou"})}),f.jsxs("p",{className:"auth-switch",children:["Pas encore de compte ?"," ",f.jsx(de,{to:"/inscription",className:"auth-switch-link",children:"Crer un compte"})]})]}),f.jsxs("div",{className:"auth-welcome",children:[f.jsx("h2",{children:"Bienvenue sur PedaClic !"}),f.jsx("p",{children:"L'cole en un clic - Accdez  des milliers de cours, exercices et quiz."}),f.jsxs("ul",{className:"auth-features",children:[f.jsxs("li",{children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Cours du programme sngalais"]}),f.jsxs("li",{children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Exercices interactifs"]}),f.jsxs("li",{children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quiz pour tester vos connaissances"]}),f.jsxs("li",{children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Suivi de progression"]})]})]})]})})},yD=()=>{const{register:s}=Rc(),e=fc(),[n,r]=J.useState({email:"",password:"",confirmPassword:"",displayName:"",role:"eleve"}),[o,c]=J.useState(!1),[d,p]=J.useState(""),[g,y]=J.useState(!1),[T,A]=J.useState(!1),[x,U]=J.useState(!1),H=$=>{const{name:se,value:ne}=$.target;r(me=>({...me,[se]:ne})),d&&p("")},O=()=>n.displayName.trim()?n.displayName.trim().length<2?(p("Le nom doit contenir au moins 2 caractres."),!1):n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?n.password?n.password.length<6?(p("Le mot de passe doit contenir au moins 6 caractres."),!1):n.password!==n.confirmPassword?(p("Les mots de passe ne correspondent pas."),!1):x?!0:(p("Veuillez accepter les conditions d'utilisation."),!1):(p("Veuillez entrer un mot de passe."),!1):(p("Veuillez entrer une adresse email valide."),!1):(p("Veuillez entrer votre adresse email."),!1):(p("Veuillez entrer votre nom complet."),!1),V=async $=>{if($.preventDefault(),!!O()){c(!0),p("");try{await s(n),e("/disciplines",{replace:!0})}catch(se){se instanceof Error?p(se.message):p("Une erreur est survenue lors de l'inscription.")}finally{c(!1)}}};return f.jsx("div",{className:"auth-page",children:f.jsxs("div",{className:"auth-container",children:[f.jsxs("div",{className:"auth-card auth-card--register",children:[f.jsxs("div",{className:"auth-header",children:[f.jsxs(de,{to:"/",className:"auth-logo",children:[f.jsx("div",{className:"auth-logo__icon",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),f.jsx("span",{children:"PedaClic"})]}),f.jsx("h1",{className:"auth-title",children:"Crer un compte"}),f.jsx("p",{className:"auth-subtitle",children:"Rejoignez PedaClic et commencez  apprendre"})]}),d&&f.jsxs("div",{className:"auth-error",children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("path",{d:"M12 8v4M12 16h.01"})]}),f.jsx("span",{children:d})]}),f.jsxs("form",{onSubmit:V,className:"auth-form",children:[f.jsxs("div",{className:"auth-field",children:[f.jsx("label",{htmlFor:"displayName",className:"auth-label",children:"Nom complet"}),f.jsxs("div",{className:"auth-input-wrapper",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),f.jsx("input",{type:"text",id:"displayName",name:"displayName",value:n.displayName,onChange:H,placeholder:"Amadou Diallo",className:"auth-input",autoComplete:"name",disabled:o})]})]}),f.jsxs("div",{className:"auth-field",children:[f.jsx("label",{htmlFor:"email",className:"auth-label",children:"Adresse email"}),f.jsxs("div",{className:"auth-input-wrapper",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),f.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:H,placeholder:"exemple@email.com",className:"auth-input",autoComplete:"email",disabled:o})]})]}),f.jsxs("div",{className:"auth-field",children:[f.jsx("label",{className:"auth-label",children:"Je suis :"}),f.jsxs("div",{className:"auth-role-selector",children:[f.jsxs("label",{className:`auth-role-option ${n.role==="eleve"?"auth-role-option--selected":""}`,children:[f.jsx("input",{type:"radio",name:"role",value:"eleve",checked:n.role==="eleve",onChange:H,className:"auth-role-input",disabled:o}),f.jsxs("div",{className:"auth-role-content",children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l9-5-9-5-9 5 9 5z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"})]}),f.jsx("span",{children:"lve"})]})]}),f.jsxs("label",{className:`auth-role-option ${n.role==="prof"?"auth-role-option--selected":""}`,children:[f.jsx("input",{type:"radio",name:"role",value:"prof",checked:n.role==="prof",onChange:H,className:"auth-role-input",disabled:o}),f.jsxs("div",{className:"auth-role-content",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),f.jsx("span",{children:"Professeur"})]})]})]})]}),f.jsxs("div",{className:"auth-field",children:[f.jsx("label",{htmlFor:"password",className:"auth-label",children:"Mot de passe"}),f.jsxs("div",{className:"auth-input-wrapper",children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:[f.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",strokeWidth:"2"}),f.jsx("path",{strokeWidth:"2",d:"M7 11V7a5 5 0 0110 0v4"})]}),f.jsx("input",{type:g?"text":"password",id:"password",name:"password",value:n.password,onChange:H,placeholder:"Minimum 6 caractres",className:"auth-input",autoComplete:"new-password",disabled:o}),f.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>y(!g),"aria-label":g?"Masquer":"Afficher",children:g?f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),f.jsx("p",{className:"auth-hint",children:"Au moins 6 caractres avec des lettres et des chiffres"})]}),f.jsxs("div",{className:"auth-field",children:[f.jsx("label",{htmlFor:"confirmPassword",className:"auth-label",children:"Confirmer le mot de passe"}),f.jsxs("div",{className:"auth-input-wrapper",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),f.jsx("input",{type:T?"text":"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:H,placeholder:"Retapez votre mot de passe",className:"auth-input",autoComplete:"new-password",disabled:o}),f.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>A(!T),"aria-label":T?"Masquer":"Afficher",children:T?f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),f.jsx("div",{className:"auth-checkbox-field",children:f.jsxs("label",{className:"auth-checkbox-label",children:[f.jsx("input",{type:"checkbox",checked:x,onChange:$=>U($.target.checked),className:"auth-checkbox",disabled:o}),f.jsx("span",{className:"auth-checkbox-custom"}),f.jsxs("span",{children:["J'accepte les"," ",f.jsx(de,{to:"/cgu",target:"_blank",className:"auth-link",children:"conditions d'utilisation"})," ","et la"," ",f.jsx(de,{to:"/confidentialite",target:"_blank",className:"auth-link",children:"politique de confidentialit"})]})]})}),f.jsx("button",{type:"submit",className:"auth-button",disabled:o,children:o?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"auth-button-spinner"}),"Cration du compte..."]}):"Crer mon compte"})]}),f.jsx("div",{className:"auth-divider",children:f.jsx("span",{children:"ou"})}),f.jsxs("p",{className:"auth-switch",children:["Dj un compte ?"," ",f.jsx(de,{to:"/connexion",className:"auth-switch-link",children:"Se connecter"})]})]}),f.jsxs("div",{className:"auth-welcome auth-welcome--register",children:[f.jsx("h2",{children:"Rejoignez la communaut PedaClic"}),f.jsx("p",{children:"Des milliers d'lves et professeurs sngalais nous font dj confiance."}),f.jsxs("div",{className:"auth-stats",children:[f.jsxs("div",{className:"auth-stat",children:[f.jsx("span",{className:"auth-stat-number",children:"10 000+"}),f.jsx("span",{className:"auth-stat-label",children:"lves inscrits"})]}),f.jsxs("div",{className:"auth-stat",children:[f.jsx("span",{className:"auth-stat-number",children:"500+"}),f.jsx("span",{className:"auth-stat-label",children:"Cours disponibles"})]}),f.jsxs("div",{className:"auth-stat",children:[f.jsx("span",{className:"auth-stat-number",children:"95%"}),f.jsx("span",{className:"auth-stat-label",children:"Taux de satisfaction"})]})]}),f.jsxs("div",{className:"auth-testimonial",children:[f.jsx("p",{className:"auth-testimonial-text",children:`"Grce  PedaClic, j'ai amlior mes notes en mathmatiques de 4 points !"`}),f.jsx("p",{className:"auth-testimonial-author",children:" Fatou N., lve de 3me  Dakar"})]})]})]})})},Fh=[{id:"mathematiques-3eme",nom:"Mathmatiques",description:"Algbre, gomtrie, statistiques et probabilits pour le BFEM",niveau:"college",classe:"3me",coefficient:4,icone:"",couleur:"#2563eb",ordre:1},{id:"francais-3eme",nom:"Franais",description:"Grammaire, conjugaison, rdaction et littrature",niveau:"college",classe:"3me",coefficient:4,icone:"",couleur:"#dc2626",ordre:2},{id:"svt-3eme",nom:"Sciences de la Vie et de la Terre",description:"Biologie, gologie et environnement",niveau:"college",classe:"3me",coefficient:2,icone:"",couleur:"#059669",ordre:3},{id:"histoire-geo-3eme",nom:"Histoire-Gographie",description:"Histoire du Sngal, de l'Afrique et du monde. Gographie physique et humaine.",niveau:"college",classe:"3me",coefficient:3,icone:"",couleur:"#d97706",ordre:4},{id:"physique-chimie-3eme",nom:"Physique-Chimie",description:"Mcanique, lectricit, optique et ractions chimiques",niveau:"college",classe:"3me",coefficient:2,icone:"",couleur:"#7c3aed",ordre:5},{id:"anglais-3eme",nom:"Anglais",description:"Grammaire, vocabulaire, comprhension et expression",niveau:"college",classe:"3me",coefficient:2,icone:"",couleur:"#0891b2",ordre:6},{id:"mathematiques-tle",nom:"Mathmatiques",description:"Analyse, algbre linaire, probabilits pour le BAC",niveau:"lycee",classe:"Terminale S",coefficient:5,icone:"",couleur:"#2563eb",ordre:7},{id:"philosophie-tle",nom:"Philosophie",description:"Rflexion critique, dissertation et commentaire de texte",niveau:"lycee",classe:"Terminale",coefficient:4,icone:"",couleur:"#6366f1",ordre:8}],Hh=[{id:"math-3-chap1-cours1",disciplineId:"mathematiques-3eme",titre:"Les nombres rationnels - Dfinition et proprits",type:"cours",contenu:`
      <h2>1. Dfinition</h2>
      <p>Un <strong>nombre rationnel</strong> est un nombre qui peut s'crire sous la forme d'une fraction a/b o a et b sont des entiers relatifs et b  0.</p>
      
      <h2>2. Exemples</h2>
      <ul>
        <li>3/4 est un nombre rationnel</li>
        <li>-5/2 est un nombre rationnel</li>
        <li>7 = 7/1 est un nombre rationnel</li>
      </ul>
      
      <h2>3. Proprits</h2>
      <p>Les nombres rationnels sont <strong>ferms</strong> pour l'addition, la soustraction, la multiplication et la division (sauf par zro).</p>
      
      <h2>4. Reprsentation dcimale</h2>
      <p>Tout nombre rationnel a une criture dcimale <strong>priodique</strong> ou <strong>finie</strong>.</p>
    `,description:"Comprendre les nombres rationnels et leurs proprits fondamentales",chapitre:"Chapitre 1 - Nombres rationnels",ordre:1,isPremium:!1,dureeEstimee:30,tags:["nombres","fractions","rationnels","BFEM"]},{id:"math-3-chap1-exo1",disciplineId:"mathematiques-3eme",titre:"Exercices - Oprations sur les rationnels",type:"exercice",contenu:`
      <h2>Exercice 1 : Simplification</h2>
      <p>Simplifier les fractions suivantes :</p>
      <ol>
        <li>12/18</li>
        <li>35/49</li>
        <li>-24/36</li>
      </ol>
      
      <h2>Exercice 2 : Additions et soustractions</h2>
      <p>Calculer :</p>
      <ol>
        <li>2/3 + 5/6</li>
        <li>7/4 - 3/8</li>
        <li>-2/5 + 3/10</li>
      </ol>
      
      <h2>Exercice 3 : Multiplications et divisions</h2>
      <p>Calculer et simplifier :</p>
      <ol>
        <li>3/4  8/9</li>
        <li>5/6  15/18</li>
      </ol>
    `,description:"15 exercices progressifs sur les oprations avec les nombres rationnels",chapitre:"Chapitre 1 - Nombres rationnels",ordre:2,isPremium:!1,dureeEstimee:45,tags:["exercices","fractions","calcul","BFEM"]},{id:"math-3-chap1-video1",disciplineId:"mathematiques-3eme",titre:"Vido - Comprendre les fractions",type:"video",contenu:`
      <p>Cette vido explique de manire visuelle comment manipuler les fractions.</p>
      <p><strong>Dure :</strong> 12 minutes</p>
      <p><strong>Points abords :</strong></p>
      <ul>
        <li>Reprsentation graphique des fractions</li>
        <li>Fractions quivalentes</li>
        <li>Simplification pas  pas</li>
      </ul>
    `,description:"Explication visuelle des fractions et de leur manipulation",chapitre:"Chapitre 1 - Nombres rationnels",ordre:3,isPremium:!0,dureeEstimee:12,tags:["vido","fractions","visuel"]},{id:"math-3-chap2-cours1",disciplineId:"mathematiques-3eme",titre:"quations du premier degr",type:"cours",contenu:`
      <h2>1. Dfinition</h2>
      <p>Une <strong>quation du premier degr</strong>  une inconnue x est une quation qui peut se ramener  la forme ax + b = 0, o a  0.</p>
      
      <h2>2. Mthode de rsolution</h2>
      <ol>
        <li>Regrouper les termes en x d'un ct</li>
        <li>Regrouper les constantes de l'autre ct</li>
        <li>Isoler x</li>
      </ol>
      
      <h2>3. Exemple</h2>
      <p>Rsoudre : 3x + 5 = 2x - 7</p>
      <p>3x - 2x = -7 - 5</p>
      <p>x = -12</p>
      
      <h2>4. Vrification</h2>
      <p>3(-12) + 5 = -36 + 5 = -31</p>
      <p>2(-12) - 7 = -24 - 7 = -31 </p>
    `,description:"Apprendre  rsoudre les quations du premier degr",chapitre:"Chapitre 2 - quations",ordre:1,isPremium:!1,dureeEstimee:35,tags:["quations","algbre","BFEM"]},{id:"math-3-chap2-exo1",disciplineId:"mathematiques-3eme",titre:"Exercices - Rsolution d'quations",type:"exercice",contenu:`
      <h2>Niveau 1 : quations simples</h2>
      <ol>
        <li>2x + 3 = 11</li>
        <li>5x - 7 = 18</li>
        <li>-3x + 4 = -8</li>
      </ol>
      
      <h2>Niveau 2 : quations avec x des deux cts</h2>
      <ol>
        <li>4x + 2 = 2x + 10</li>
        <li>7x - 3 = 3x + 13</li>
        <li>2(x + 3) = 3x - 1</li>
      </ol>
      
      <h2>Niveau 3 : Problmes</h2>
      <p>Moussa a le triple de l'ge de son fils. Dans 10 ans, il n'aura que le double. Quels sont leurs ges actuels ?</p>
    `,description:"Exercices progressifs de rsolution d'quations",chapitre:"Chapitre 2 - quations",ordre:2,isPremium:!0,dureeEstimee:50,tags:["exercices","quations","BFEM"]},{id:"fr-3-chap1-cours1",disciplineId:"francais-3eme",titre:"La proposition subordonne relative",type:"cours",contenu:`
      <h2>1. Dfinition</h2>
      <p>La <strong>proposition subordonne relative</strong> est une proposition introduite par un pronom relatif (qui, que, dont, o, lequel...) qui complte un nom appel <strong>antcdent</strong>.</p>
      
      <h2>2. Les pronoms relatifs</h2>
      <ul>
        <li><strong>Qui</strong> : sujet - "L'lve <u>qui travaille</u> russit."</li>
        <li><strong>Que</strong> : COD - "Le livre <u>que je lis</u> est passionnant."</li>
        <li><strong>Dont</strong> : complment introduit par "de" - "La fille <u>dont je parle</u> est ma cousine."</li>
        <li><strong>O</strong> : lieu ou temps - "La ville <u>o je suis n</u> s'appelle Dakar."</li>
      </ul>
      
      <h2>3. Fonction de la relative</h2>
      <p>La proposition subordonne relative est toujours <strong>complment de l'antcdent</strong>.</p>
    `,description:"Matriser les propositions subordonnes relatives",chapitre:"Chapitre 1 - La phrase complexe",ordre:1,isPremium:!1,dureeEstimee:25,tags:["grammaire","relatives","BFEM"]},{id:"fr-3-chap1-exo1",disciplineId:"francais-3eme",titre:"Exercices - Les propositions relatives",type:"exercice",contenu:`
      <h2>Exercice 1 : Identifier</h2>
      <p>Soulignez les propositions relatives et encadrez l'antcdent :</p>
      <ol>
        <li>Le professeur qui enseigne les mathmatiques est absent.</li>
        <li>J'ai lu le roman dont tu m'as parl.</li>
        <li>La maison o j'habite est ancienne.</li>
      </ol>
      
      <h2>Exercice 2 : Complter</h2>
      <p>Compltez avec le pronom relatif qui convient :</p>
      <ol>
        <li>L'ami ... m'a aid est gnreux.</li>
        <li>Le stylo ... j'ai achet ne marche plus.</li>
        <li>C'est le village ... je suis originaire.</li>
      </ol>
      
      <h2>Exercice 3 : Rdiger</h2>
      <p>crivez 3 phrases contenant chacune une proposition relative diffrente.</p>
    `,description:"Exercices d'application sur les relatives",chapitre:"Chapitre 1 - La phrase complexe",ordre:2,isPremium:!1,dureeEstimee:30,tags:["exercices","grammaire","relatives"]},{id:"svt-3-chap1-cours1",disciplineId:"svt-3eme",titre:"La reproduction humaine",type:"cours",contenu:`
      <h2>1. Les appareils reproducteurs</h2>
      <p>L'tre humain possde un appareil reproducteur qui diffre selon le sexe.</p>
      
      <h2>2. L'appareil reproducteur masculin</h2>
      <p>Il comprend les testicules (production de spermatozodes), les voies gnitales et le pnis.</p>
      
      <h2>3. L'appareil reproducteur fminin</h2>
      <p>Il comprend les ovaires (production d'ovules), les trompes, l'utrus et le vagin.</p>
      
      <h2>4. La fcondation</h2>
      <p>La <strong>fcondation</strong> est la fusion d'un spermatozode et d'un ovule pour former une cellule-uf.</p>
      
      <h2>5. La grossesse</h2>
      <p>La cellule-uf se dveloppe dans l'utrus pendant 9 mois environ.</p>
    `,description:"Comprendre la reproduction humaine et son fonctionnement",chapitre:"Chapitre 1 - Reproduction et sexualit",ordre:1,isPremium:!1,dureeEstimee:40,tags:["reproduction","biologie","BFEM"]},{id:"hg-3-chap1-cours1",disciplineId:"histoire-geo-3eme",titre:"L'indpendance du Sngal",type:"cours",contenu:`
      <h2>1. Le contexte colonial</h2>
      <p>Le Sngal tait une colonie franaise depuis le XIXe sicle. Dakar tait la capitale de l'AOF (Afrique Occidentale Franaise).</p>
      
      <h2>2. Les mouvements indpendantistes</h2>
      <p>Aprs la Seconde Guerre mondiale, les mouvements pour l'indpendance se renforcent. Des leaders comme <strong>Lopold Sdar Senghor</strong> et <strong>Mamadou Dia</strong> mergent.</p>
      
      <h2>3. La Fdration du Mali</h2>
      <p>En 1959, le Sngal et le Soudan franais forment la Fdration du Mali, qui accde  l'indpendance le 20 juin 1960.</p>
      
      <h2>4. L'indpendance du Sngal</h2>
      <p>La fdration clate en aot 1960. Le <strong>4 avril 1960</strong> est retenu comme date officielle de l'indpendance du Sngal.</p>
      <p>Lopold Sdar Senghor devient le premier Prsident de la Rpublique du Sngal.</p>
    `,description:"L'histoire de l'accession du Sngal  l'indpendance",chapitre:"Chapitre 1 - La dcolonisation en Afrique",ordre:1,isPremium:!1,dureeEstimee:35,tags:["Sngal","indpendance","histoire","BFEM"]},{id:"hg-3-chap1-quiz1",disciplineId:"histoire-geo-3eme",titre:"Quiz - L'indpendance du Sngal",type:"quiz",contenu:`
      <p>Testez vos connaissances sur l'indpendance du Sngal !</p>
      <p><strong>10 questions</strong> - Dure estime : 10 minutes</p>
    `,description:"Quiz interactif sur l'indpendance du Sngal",chapitre:"Chapitre 1 - La dcolonisation en Afrique",ordre:2,isPremium:!0,dureeEstimee:10,tags:["quiz","Sngal","histoire"]}];async function vD(){console.log(" Cration des disciplines...");const s=mg(Wt);for(const e of Fh){const n=Fn(Wt,"disciplines",e.id);s.set(n,{...e,createdAt:Je.now(),updatedAt:Je.now()}),console.log(`   ${e.nom} (${e.classe})`)}await s.commit(),console.log(` ${Fh.length} disciplines cres !`)}async function ED(){console.log(" Cration des ressources...");const s=mg(Wt);for(const e of Hh){const n=Fn(Wt,"resources",e.id);s.set(n,{...e,auteurId:"admin-seed",fichierURL:null,createdAt:Je.now(),updatedAt:Je.now()}),console.log(`   ${e.titre}`)}await s.commit(),console.log(` ${Hh.length} ressources cres !`)}async function TD(){console.log(""),console.log("========================================"),console.log(" SEED PEDACLIC - Donnes de test"),console.log("========================================"),console.log("");try{await vD(),console.log(""),await ED(),console.log(""),console.log("========================================"),console.log(" SEED TERMIN AVEC SUCCS !"),console.log("========================================"),console.log(""),console.log("Donnes cres :"),console.log(`  - ${Fh.length} disciplines`),console.log(`  - ${Hh.length} ressources`),console.log("")}catch(s){throw console.error(" Erreur lors du seed :",s),s}}async function bD(){console.log(" Suppression des donnes de test...");const s=mg(Wt);for(const e of Fh){const n=Fn(Wt,"disciplines",e.id);s.delete(n)}for(const e of Hh){const n=Fn(Wt,"resources",e.id);s.delete(n)}await s.commit(),console.log(" Donnes supprimes !")}const AD=()=>{const[s,e]=J.useState(!1),[n,r]=J.useState([]),[o,c]=J.useState("idle"),d=y=>{r(T=>[...T,`[${new Date().toLocaleTimeString()}] ${y}`])},p=async()=>{if(confirm(` Voulez-vous crer les donnes de test ?

Cela va ajouter des disciplines et ressources dans Firestore.`)){e(!0),c("idle"),r([]),d(" Dmarrage du seed...");try{const y=console.log;console.log=(...T)=>{y(...T),d(T.join(" "))},await TD(),console.log=y,c("success"),d(" Seed termin avec succs !")}catch(y){c("error"),d(` Erreur : ${y instanceof Error?y.message:"Erreur inconnue"}`)}finally{e(!1)}}},g=async()=>{if(confirm(` ATTENTION !

Voulez-vous SUPPRIMER toutes les donnes de test ?

Cette action est irrversible.`)){e(!0),c("idle"),r([]),d(" Suppression des donnes...");try{await bD(),c("success"),d(" Donnes supprimes !")}catch(y){c("error"),d(` Erreur : ${y instanceof Error?y.message:"Erreur inconnue"}`)}finally{e(!1)}}};return f.jsxs("div",{style:Qe.container,children:[f.jsxs("div",{style:Qe.header,children:[f.jsx("h1",{style:Qe.title,children:" Seed Database"}),f.jsx("p",{style:Qe.subtitle,children:"Initialisation des donnes de test PedaClic"})]}),f.jsxs("div",{style:Qe.warning,children:[f.jsx("strong",{children:" Page rserve aux administrateurs"}),f.jsx("p",{children:"Cette page permet d'initialiser ou supprimer les donnes de test dans Firestore."}),f.jsx("p",{children:f.jsx("em",{children:" supprimer en production !"})})]}),f.jsxs("div",{style:Qe.actions,children:[f.jsx("button",{onClick:p,disabled:s,style:{...Qe.button,...Qe.buttonPrimary,...s?Qe.buttonDisabled:{}},children:s?" En cours...":" Crer les donnes de test"}),f.jsx("button",{onClick:g,disabled:s,style:{...Qe.button,...Qe.buttonDanger,...s?Qe.buttonDisabled:{}},children:s?" En cours...":" Supprimer les donnes"})]}),f.jsxs("div",{style:Qe.infoBox,children:[f.jsx("h3",{style:Qe.infoTitle,children:" Donnes qui seront cres :"}),f.jsxs("div",{style:Qe.infoGrid,children:[f.jsxs("div",{style:Qe.infoCard,children:[f.jsx("span",{style:Qe.infoEmoji,children:""}),f.jsx("strong",{children:"8 Disciplines"}),f.jsxs("ul",{style:Qe.infoList,children:[f.jsx("li",{children:"Mathmatiques 3me"}),f.jsx("li",{children:"Franais 3me"}),f.jsx("li",{children:"SVT 3me"}),f.jsx("li",{children:"Histoire-Go 3me"}),f.jsx("li",{children:"Physique-Chimie 3me"}),f.jsx("li",{children:"Anglais 3me"}),f.jsx("li",{children:"Mathmatiques Tle"}),f.jsx("li",{children:"Philosophie Tle"})]})]}),f.jsxs("div",{style:Qe.infoCard,children:[f.jsx("span",{style:Qe.infoEmoji,children:""}),f.jsx("strong",{children:"12+ Ressources"}),f.jsxs("ul",{style:Qe.infoList,children:[f.jsx("li",{children:"Cours dtaills"}),f.jsx("li",{children:"Exercices progressifs"}),f.jsx("li",{children:"Vidos explicatives"}),f.jsx("li",{children:"Quiz interactifs"}),f.jsx("li",{children:"Contenu Premium"})]})]})]})]}),n.length>0&&f.jsxs("div",{style:Qe.console,children:[f.jsxs("div",{style:Qe.consoleHeader,children:[f.jsx("span",{children:" Console"}),o==="success"&&f.jsx("span",{style:Qe.statusSuccess,children:" Succs"}),o==="error"&&f.jsx("span",{style:Qe.statusError,children:" Erreur"})]}),f.jsx("div",{style:Qe.consoleLogs,children:n.map((y,T)=>f.jsx("div",{style:Qe.logLine,children:y},T))})]}),f.jsxs("div",{style:Qe.footer,children:[f.jsx("a",{href:"/",style:Qe.link,children:" Retour  l'accueil"}),f.jsx("a",{href:"/disciplines",style:Qe.link,children:" Voir les disciplines"})]})]})},Qe={container:{maxWidth:"800px",margin:"0 auto",padding:"2rem",fontFamily:"system-ui, -apple-system, sans-serif"},header:{textAlign:"center",marginBottom:"2rem"},title:{fontSize:"2.5rem",color:"#1f2937",marginBottom:"0.5rem"},subtitle:{fontSize:"1.1rem",color:"#6b7280"},warning:{background:"#fef3c7",border:"1px solid #f59e0b",borderRadius:"8px",padding:"1rem 1.5rem",marginBottom:"2rem"},actions:{display:"flex",gap:"1rem",justifyContent:"center",marginBottom:"2rem",flexWrap:"wrap"},button:{padding:"1rem 2rem",fontSize:"1rem",fontWeight:"600",borderRadius:"8px",border:"none",cursor:"pointer",transition:"all 0.2s"},buttonPrimary:{background:"#2563eb",color:"white"},buttonDanger:{background:"#dc2626",color:"white"},buttonDisabled:{opacity:.6,cursor:"not-allowed"},infoBox:{background:"#f9fafb",borderRadius:"12px",padding:"1.5rem",marginBottom:"2rem"},infoTitle:{margin:"0 0 1rem 0",color:"#374151"},infoGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},infoCard:{background:"white",borderRadius:"8px",padding:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},infoEmoji:{fontSize:"2rem",display:"block",marginBottom:"0.5rem"},infoList:{margin:"0.5rem 0 0 1.5rem",padding:0,fontSize:"0.9rem",color:"#6b7280"},console:{background:"#1f2937",borderRadius:"8px",overflow:"hidden",marginBottom:"2rem"},consoleHeader:{background:"#374151",padding:"0.75rem 1rem",color:"#9ca3af",display:"flex",justifyContent:"space-between",alignItems:"center"},consoleLogs:{padding:"1rem",maxHeight:"300px",overflowY:"auto"},logLine:{fontFamily:"monospace",fontSize:"0.85rem",color:"#d1d5db",marginBottom:"0.25rem"},statusSuccess:{color:"#34d399",fontWeight:"600"},statusError:{color:"#f87171",fontWeight:"600"},footer:{display:"flex",justifyContent:"center",gap:"2rem",paddingTop:"1rem",borderTop:"1px solid #e5e7eb"},link:{color:"#2563eb",textDecoration:"none",fontWeight:"500"}},SD=()=>{const e=vr().state;return f.jsx("div",{className:"payment-result",children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:"payment-result__card payment-result__card--success",children:[f.jsx("div",{className:"payment-result__icon",children:f.jsx("span",{className:"success-icon",children:""})}),f.jsx("h1",{className:"payment-result__title",children:"Paiement russi !"}),f.jsx("p",{className:"payment-result__message",children:"Votre abonnement Premium est actif."}),e&&f.jsxs("div",{className:"payment-result__details",children:[e.plan&&f.jsxs("div",{className:"detail-row",children:[f.jsx("span",{className:"detail-label",children:"Formule"}),f.jsx("span",{className:"detail-value",children:e.plan})]}),e.montant&&f.jsxs("div",{className:"detail-row",children:[f.jsx("span",{className:"detail-label",children:"Montant"}),f.jsxs("span",{className:"detail-value",children:[e.montant.toLocaleString()," FCFA"]})]}),e.expiration&&f.jsxs("div",{className:"detail-row",children:[f.jsx("span",{className:"detail-label",children:"Valide jusqu'au"}),f.jsx("span",{className:"detail-value",children:e.expiration})]})]}),f.jsxs("div",{className:"payment-result__badge",children:[f.jsx("span",{children:""})," Vous tes Premium !"]}),f.jsxs("div",{className:"payment-result__actions",children:[f.jsx(de,{to:"/disciplines",className:"btn btn--primary",children:"Accder aux cours"}),f.jsx(de,{to:"/",className:"btn btn--outline",children:"Accueil"})]})]})})})},xD=()=>f.jsx("div",{className:"payment-result",children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:"payment-result__card payment-result__card--cancel",children:[f.jsx("div",{className:"payment-result__icon",children:f.jsx("span",{className:"cancel-icon",children:""})}),f.jsx("h1",{className:"payment-result__title",children:"Paiement annul"}),f.jsx("p",{className:"payment-result__message",children:"Aucun montant n'a t dbit."}),f.jsxs("div",{className:"payment-result__actions",children:[f.jsx(de,{to:"/premium",className:"btn btn--primary",children:"Ressayer"}),f.jsx(de,{to:"/",className:"btn btn--outline",children:"Accueil"})]})]})})}),wD=({children:s})=>f.jsxs("div",{className:"app",children:[f.jsx(x3,{}),f.jsx("main",{className:"main-content",children:s}),f.jsx(w3,{})]}),RD=()=>f.jsx(wS,{basename:"/pedaclic",children:f.jsx(S3,{children:f.jsx(wD,{children:f.jsxs(vS,{children:[f.jsx(ni,{path:"/",element:f.jsx(W3,{})}),f.jsx(ni,{path:"/disciplines",element:f.jsx(tD,{})}),f.jsx(ni,{path:"/disciplines/:id",element:f.jsx(fD,{})}),f.jsx(ni,{path:"/premium",element:f.jsx(gD,{})}),f.jsx(ni,{path:"/premium/success",element:f.jsx(SD,{})}),f.jsx(ni,{path:"/premium/cancel",element:f.jsx(xD,{})}),f.jsx(ni,{path:"/connexion",element:f.jsx(_D,{})}),f.jsx(ni,{path:"/inscription",element:f.jsx(yD,{})}),f.jsx(ni,{path:"/admin/seed",element:f.jsx(AD,{})}),f.jsx(ni,{path:"*",element:f.jsx("div",{className:"not-found",children:f.jsxs("div",{className:"container",children:[f.jsx("h1",{children:"404"}),f.jsx("p",{children:"Page non trouve"}),f.jsx("a",{href:"/",className:"btn btn--primary",children:"Retour  l'accueil"})]})})})]})})})}),PT=document.getElementById("root");if(!PT)throw new Error("L'lment #root n'existe pas");const CD=wA.createRoot(PT);CD.render(f.jsx(B1.StrictMode,{children:f.jsx(RD,{})}));
//# sourceMappingURL=index-BiZ31qsQ.js.map
